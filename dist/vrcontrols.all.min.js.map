{"version":3,"sources":["webpack://vr/webpack/universalModuleDefinition","webpack://vr/webpack/bootstrap","webpack://vr/./src/ui/vr.ts","webpack://vr/./src/ui/common.ts","webpack://vr/./src/managers/utilityManager.ts","webpack://vr/./src/managers/deviceManager.ts","webpack://vr/./src/managers/controlManager.ts","webpack://vr/./src/ui/controls/datePicker.ts","webpack://vr/./src/ui/controls/textbox.ts","webpack://vr/./src/ui/controls/comboBox.ts","webpack://vr/./src/ui/controls/button.ts","webpack://vr/./src/managers/loaderManager.ts","webpack://vr/./src/ui/controls/buttonGroup.ts","webpack://vr/./src/ui/controls/splitButton.ts","webpack://vr/./src/managers/dictionary.ts","webpack://vr/./src/ui/controls/grid.ts","webpack://vr/./src/managers/printManager.ts","webpack://vr/./src/ui/controls/notifier.ts","webpack://vr/./src/ui/controls/label.ts","webpack://vr/./src/ui/controls/checkbox.ts","webpack://vr/./src/ui/controls/separator.ts","webpack://vr/./src/ui/controls/image.ts","webpack://vr/./src/ui/controls/editor.ts","webpack://vr/./src/ui/controls/window.ts","webpack://vr/./src/ui/controls/confirm.ts","webpack://vr/./src/ui/controls/alert.ts","webpack://vr/./src/ui/controls/dialog.ts","webpack://vr/./src/ui/controls/prompt.ts","webpack://vr/./src/ui/controls/switch.ts","webpack://vr/./src/ui/controls/checkboxList.ts","webpack://vr/./src/ui/controls/radioButton.ts","webpack://vr/./src/ui/controls/radioButtonList.ts","webpack://vr/./src/ui/controls/repeater.ts","webpack://vr/./src/ui/controls/maps.ts","webpack://vr/./src/ui/controls/painter.ts","webpack://vr/./src/ui/controls/calendar.ts","webpack://vr/./src/ui/controls/rating.ts","webpack://vr/./src/ui/controls/groupBox.ts","webpack://vr/./src/ui/controls/pdfViewer.ts","webpack://vr/./src/ui/controls/upload.ts","webpack://vr/./src/ui/controls/paypalButton.ts","webpack://vr/./src/ui/controls/treeView.ts","webpack://vr/./src/ui/controls/scheduler.ts","webpack://vr/./src/ui/controls/qrCode.ts","webpack://vr/./src/managers/qrCodeManager.ts","webpack://vr/./src/ui/controls/multiScheduler.ts","webpack://vr/./src/ui/controls/icon.ts","webpack://vr/./src/ui/controls/colorPicker.ts","webpack://vr/./src/managers/colorPickerManager.ts","webpack://vr/./src/ui/controls/searchBar.ts","webpack://vr/./src/ui/controls/splitter.ts","webpack://vr/./src/ui/controls/autoCompleteBox.ts","webpack://vr/./src/ui/controls/chart.ts","webpack://vr/./src/ui/controls/tabStrip.ts","webpack://vr/./src/ui/controls/tooltip.ts","webpack://vr/./src/ui/controls/speechRecognizer.ts","webpack://vr/./src/ui/controls/div.ts","webpack://vr/./src/ui/controls/legend.ts"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","createLabel","options","container","position","elementId","createControls","ControlTypeEnum","Label","createButton","Button","createButtonGroup","ButtonGroup","createTextBox","TextBox","createNumericTextBox","TextBoxOptions","TextModeEnum","Numeric","createPercentageTextBox","Percentage","createCurrencyTextBox","Currency","createPasswordTextBox","Password","createMultilineTextBox","MultiLine","createCheckBox","CheckBox","createSeparator","Separator","createImage","Image","createDatePicker","DatePicker","createTimePicker","DatePickerOptions","DateModeEnum","Time","createDateTimePicker","DateTime","createMonthPicker","depth","DateDepthEnum","Month","createYearPicker","Year","createComboBox","ComboBox","createDropDown","ComboBoxOptions","ComboBoxTypeEnum","DropDown","createSplitButton","SplitButton","createEditor","Editor","createWindow","Window","createGrid","Grid","createSwitch","Switch","createCheckBoxList","CheckBoxList","createRadioButton","RadioButton","createRadioButtonList","RadioButtonList","createRepeater","Repeater","createMap","Map","createPainter","Painter","createCalendar","Calendar","createRating","Rating","createGroupBox","GroupBox","createPdfViewer","PdfViewer","createPaypalButton","PaypalButton","createUpload","Upload","createTreeView","TreeView","createScheduler","Scheduler","createMultiScheduler","MultiScheduler","createQrCode","QrCode","createIcon","Icon","createColorPicker","ColorPicker","createSearchBar","SearchBar","createSplitter","Splitter","createAutoCompleteBox","AutoCompleteBox","createChart","Chart","createBarChart","ChartOptions","type","ChartTypeEnum","Bar","createHorizontalBarChart","HorizontalBar","createLineChart","Line","createDonutChart","Donut","createPieChart","Pie","createAreaChart","Area","createStackedBarChart","StackedBar","createTabStrip","TabStrip","createTooltip","Tooltip","createSpeechRecognizer","SpeechRecognizer","createLegend","Legend","getControl","controlId","ControlManager","addControl","control","add","controlTypeEnum","definedElementId","VrControlOptions","UtilityManager","createGuid","startsWith","puma","length","element","elementTag","Div","showInput","checkboxes","webService","Combo","Error","is","attr","shadowRoot","document","body","ControlPositionEnum","After","vrAppendPuma","prepend","BrowserTypeEnum","CreatorEnum","IconClassicBrands","IconClassicSolid","IconClassicLight","IconClassicRegular","IconClassicDuotone","IconClassicThin","IconSharpSolid","IconSharpLight","IconSharpRegular","IconSharpDuotone","IconSharpThin","PositionEnum","OrientationEnum","PopupDirectionEnum","BorderStyleEnum","ButtonModeEnum","SelectionModeEnum","RatingPrecisionEnum","LabelModeEnum","LabelUnderlineMode","TextAlignEnum","TextTransformModeEnum","TextBoxValidationErrorEnum","ErrorModeEnum","ErrorPositionEnum","ErrorHideModeEnum","PaypalEnvironmentEnum","PaypalStyleSizeEnum","PaypalStyleColorEnum","PaypalStyleShapeEnum","PaypalStyleLabelEnum","PaypalStyleLayoutEnum","CheckboxStateEnum","ImagePositionTypeEnum","ImageToolbarTypeEnum","DefaultDayEnum","ComboBoxTreeModeEnum","ChartTitleAlignEnum","ChartTitlePositionEnum","ChartDataLabelsAnchorEnum","ChartDataLabelsTextAlignEnum","ChartDataLabelAlignEnum","ChartLegendPositionEnum","ChartLegendAlignEnum","ChartLegendLabelsAlignEnum","ChartTooltipPositionEnum","ChartTooltipAlignEnum","ChartTooltipYAlignEnum","WindowFooterItemTypeEnum","WindowFooterItemAlignEnum","WindowAutoSizeDirectionEnum","vrEditorItemEnum","vrEditorToolbarModeEnum","TinyMceIconEnum","EditorCustomMenuItemType","EditorSpeechRecognizerModeEnum","EditorSpeechRecognizerPositionEnum","GridCheckboxModeEnum","GridSortDirectionEnum","SortDirectionEnum","GridHeightModeEnum","GridModeEnum","GridAggregateMode","GridAlignEnum","GridColumnTypeEnum","GridLabelUnderlineMode","GridToolbarItemType","GridDateFilterTypeEnum","GridNumberFilterTypeEnum","GridStringFilterTypeEnum","PdfViewerToolbarAreaEnum","SplitterDirectionEnum","SplitterCollapseDirectionEnum","DayOfWeekEnum","SchedulerViewEnum","SchedulerNavigateActionEnum","NotifierTypeEnum","NotifierPositionEnum","AnimationShowEnum","AnimationHideEnum","TooltipShowOnEnum","TooltipHideOnEnum","TooltipTypeEnum","TooltipPositionEnum","TreeViewToolbarItemType","TreeModeEnum","TreeViewNumericTypeEnum","TreeViewColumnTypeEnum","TreeViewAlignEnum","MapModeEnum","ColorPickerModeEnum","UploadValidationErrorTypeEnum","Color","WebApiModeEnum","DateFormatEnum","KeyEnum","NumberStyleEnum","GroupingModeEnum","RoundingModeEnum","DateTimeTypeEnum","hideNotify","hide","notify","text","Notifier","notifyError","NotifierOptions","notifyWarning","Warning","notifySuccess","Success","notifyInfo","Info","confirm","Confirm","open","alert","Alert","dialog","Dialog","prompt","Prompt","printElement","PrintManager","printHtml","printBytes","base64Bytes","printPdf","path","printImage","isSmartphone","DeviceManager","isTablet","isDesktop","isMobile","isIphoneX","isIphone","browser","isInternetExplorer","isSafari","isChrome","isFirefox","isEdge","isOpera","isVivaldi","isSeamonkey","createDiv","div","settings","classAttribute","idAttribute","css","content","title","class","id","tooltip","vrPrependToPuma","vrAppendToPuma","attributes","attribute","jQuery","fn","extend","vrLabel","vrButton","vrButtonGroup","vrTextBox","vrCheckBox","vrCheckBoxList","vrSeparator","vrImage","vrDatePicker","vrComboBox","vrSplitButton","vrEditor","vrWindow","vrGrid","vrSwitch","vrRadioButton","vrRadioButtonList","vrRepeater","vrMap","Maps","vrPainter","vrCalendar","vrRating","vrGroupBox","vrPdfViewer","vrPaypalButton","vrUpload","vrTreeView","vrScheduler","vrMultiScheduler","vrQrCode","vrIcon","vrColorPicker","vrSearchBar","vrSplitter","vrAutoCompleteBox","vrChart","ChartVr","vrTabStrip","vrTooltip","vrSpeechRecognizer","vrDiv","vrLegend","$","MutationObserver","mutations_list","forEach","mutations","removedNodes","currentValue","currentIndex","listObj","classList","isConnected","removeItems","idElement","replace","remove","e","children","child","observe","subtree","childList","DivSettings","span","SpanSettings","icon","iconClass","fontSize","color","cursor","IconSettings","iframe","VrIframeSettings","width","height","style","cssText","iframeBody","iframeContentDocument","contentDocument","find","includes","loader","LoaderManager","show","on","callback","br","count","hr","guid","hex","Array","keys","map","index","toString","padStart","crypto","getRandomValues","Uint8Array","entries","int","join","VrMarginSettings","showLoader","transparency","tag","undefined","hideLoader","pumo","then","catch","PopupSettings","ColorSettings","DivColorSettings","DivBorderSpecificSettings","DivBorderSettings","ButtonGroupItem","TabStripItem","TextBoxLengthSettings","TextBoxValidationSettings","TextBoxRegexSettings","ComboBoxItem","ComboBoxWebServiceSettings","ComboBoxTemplateEvent","ComboBoxEvent","VrControlsEvent","ComboBoxChangeEvent","ComboBoxChangingEvent","ComboBoxClearEvent","SortByComboSettings","AutoCompleteBoxItem","AutoCompleteBoxItemSettings","AutoCompleteBoxComboSettings","ChartAreaSettings","ChartTitleSettings","ChartFont","ChartDataLabelsSettings","ChartLegendSettings","ChartLegendLabelsSettings","ChartLegendTitleSettings","ChartTooltipSettings","ChartStackedSettings","ChartAspectRatioSettings","ChartLimitSettings","ChartDataSource","ChartParsingSettings","ChartLegendEvent","ChartLegendHoverEvent","ChartLegendLeaveEvent","ChartLegendClickEvent","ChartLabelEvent","ChartLabelHoverEvent","ChartLabelLeaveEvent","ChartLabelClickEvent","ChartAxisFormatterEvent","vrEditorCustomItem","vrEditorCustomMenuItem","vrEditorSpeechRecognizerSettings","vrEditorFontSizeSettings","SpeechRecognizerOptions","GridStickerSettings","GridStickerClickEvent","GridServerBindSettings","GridGroupBySettings","GridSortSettings","GridGroupByItem","GridGroupDisplayValueEvent","GridGroupExpandCollapseEvent","GridGroupEditClickEvent","GridPageSelectedEvent","GridScrollEvent","GridExcelExportEvent","GridBeforeExcelExportEvent","GridAfterExcelExportEvent","GridColumn","GridButtonSettings","GridControlsSettings","GridToolbarItem","OnContentRenderedEvent","PdfViewerToolbarSettings","PdfViewerToolbarItem","ToolbarItemOnClickEvent","SplitterCollapsableSettings","SwitchLabelSettings","SwitchLabelSettingsOnClickEvent","SchedulerSaturationInfo","SchedulerSaturationDay","SchedulerSaturationWeek","SchedulerSaturationWeekByResource","SaturationDate","SchedulerSaturationWeekByDate","SaturationResource","SchedulerSaturationFourWeeks","SchedulerResource","SchedulerView","SchedulerSlotElement","SchedulerData","Date","vrDifferenceBetweenDatesInMinutes","start","end","SchedulerAttribute","TreeViewColumn","TreeViewToolbarItem","TreeViewToolbarSwitchSettings","TreeViewToolbarSwitchEvent","TreeViewToolbarClickEvent","isDefaultPrevented","UpdateRowRebindSettings","TreeViewItem","TreeViewItemExtraCell","TreeViewContextMenuItem","TreeViewFilterSettings","MapMarker","ColorPickerRgbaValue","pageError","window","onerror","msg","url","lineNo","columnNo","error","event","PageErrorEvent","message","lineNumber","columnNumber","isEquals","item1","item2","equals","isLocalhost","location","hostname","interval","each","timeout","timeoutCallback","addCssStyle","cssRules","addCss","addJsScript","jsRules","addCssFiles","paths","Promise","addJsFiles","openUrl","newTab","openBrowserWindow","size","top","outerHeight","screenY","left","outerWidth","screenX","BrowserWindowSize","BrowserWindowPosition","isValidEmail","email","copyTextToClipboard","navigator","clipboard","writeText","oldSupportCopyTextToClipboard","textAreaTemp","createElement","appendChild","focus","select","execCommand","removeChild","base64ToFile","base64","fileName","base64ToBytes","bytesToBase64","bytes","base64ToBlob","contentType","sliceSize","_shadowRoot2","jqueryVariable","_jqueryVariable","NumberFormatRoundingSettings","NumberFormatSettings","roundingSettings","super","roundingMode","minimumFractionDigits","maximumFractionDigits","date","vrFixDateString","_createdByTypeEnum","String","vrIsValidDate","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","createdByTypeEnum","toDate","source","ignoreHours","first","second","isEqualsTo","dynamicSort","sortOrder","substr","a","b","aProperty","bProperty","toLowerCase","result","dynamicSortMultiple","props","arguments","obj1","obj2","numberOfProperties","internalSortWithoutProperties","array","ascending","sort","diff","tryDate","isNaN","getTime","localeCompare","MIN_VALUE","MAX_VALUE","dateString","dateSplitted","split","vrToNumberArrayList","vrEquals","firstDate","secondDate","vrGetFirstDayOfMonthByDate","dateToCheck","vrGetLastDayOfMonthByDate","vrGetFirstDayOfWeekByDate","getDay","setDate","secondsDifference","Math","abs","vrGetDaysInMonth","vrToWebApiDateTime","milliSeconds","vrToItalyString","showSeconds","dateOptions","hour12","LongWeekDate","weekday","ShortWeekDate","LongDate","hour","minute","LongDateTime","vrFormatString","language","Intl","DateTimeFormat","format","vrCapitalize","vrToLongDateString","vrArePeriodsOverlapped","startA","endA","startB","endB","equal","vrAddYears","years","valueOf","setFullYear","vrAddMonths","months","february","februaryDays","newMonth","setMonth","vrAddDays","days","vrAddHours","setTime","vrAddMinutes","vrAddSeconds","vrIsLessThan","checkTime","setHours","vrIsGreaterThan","vrIsEqualsTo","vrIsBetween","millisecondsFirstDate","millisecondsSecondDate","millisecondsDateToCheck","vrDifferenceBetweenDatesInDays","vrConvertDateFromClient","dateFromClient","UTC","vrConvertDateFromServer","dateFromServer","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Number","vrToNumberString","formatSettings","Default","vrFormatNumber","vrToCurrencyString","vrToPercentageString","currency","useGrouping","Auto","HalfAwayFromZero","None","NumberFormat","vrRound","decimals","pow","round","charAt","toUpperCase","slice","vrCamelCase","exceptFirst","words","word","stringToReturn","vrKebabCase","match","x","vrSnakeCase","vrSwapCase","swapped","push","vrTitleCase","txt","vrTrunc","useWordBoundary","subString","lastIndexOf","vrGetNumericPart","number","vrToBoolean","vrIsNotNullOrEmpty","vrIsNullOrEmpty","vrRemoveHtml","vrFirst","isArray","vrLast","vrToStringArrayList","vrToCommaSeparatedList","item","substring","vrPushRange","arrayToAdd","vrDelete","indexOf","splice","vrDeleteItem","k","vrDeleteAllBy","callbackfn","itemToDeleteList","filter","itemToDelete","vrSortBy","properties","apply","vrSortAsc","vrSortDesc","vrAll","every","vrAny","some","vrMax","reduce","oa","u","max","vrMin","min","vrSum","ty","sum","eval","vrAvg","vrDistinct","Set","vrDistinctBy","arrayResult","arrayMap","has","set","vrGroupBy","groups","val","vrGroupByProperty","array1","array2","array1Length","arr1","concat","arr2","vrDrag","onStart","onEnd","mousedown","emd","startingXPosition","clientX","startingYPosition","clientY","diffX","offset","diffY","mousemove","emm","elementToDrag","onStartEvent","WindowEvent","unbind","preventDefault","mouseup","onEndEvent","vrVisible","state","appendTo","prependTo","toCreate","append","vrPrependPuma","vrBeforePuma","elementJq","before","vrAfterPuma","after","vrInsertBeforePuma","insertBefore","vrInsertAfterPuma","insertAfter","vrHasScrollBar","horizontal","scrollWidth","clientWidth","scrollHeight","clientHeight","typeEnum","_element","_options","_typeEnum","wrap","addClass","label","labelSettings","LabelControlsSettings","Primary","Top","labelPosition","controlPositionEnum","Left","Before","margin","Right","_labelOutside","align","textAlign","Bottom","cssContainer","bold","colorSettings","tabIndex","underlineMode","onClick","visible","enable","disable","classContainer","right","bottom","addToControlList","_tag","uniqueName","toContainer","closest","popup","popupSettings","fixWidthHeightValue","minWidth","maxWidth","minHeight","maxHeight","direction","elementTop","getBoundingClientRect","elementLeft","elementWidth","elementHeight","popupWidth","popupHeight","positionLeft","Up","innerHeight","Down","documentBodyTop","documentBodyHeight","containerJq","labelWidth","hasClass","disabledAttribute","getAttribute","removeAttribute","setAttribute","blur","className","removeClass","_defaultPrevented","setInterval","setTimeout","clearInterval","JSON","parse","stringify","monthName","MonthEnum","January","February","March","April","May","June","July","August","September","October","November","December","callBack","errorCallback","data","request","authKey","formDataMultipart","file","FormData","ajax","async","Async","beforeSend","xhr","setRequestHeader","headerParameters","getOwnPropertyNames","param","method","processData","success","response","Sync","DOMParser","parseFromString","documentElement","textContent","spanTemp","innerHTML","offsetWidth","originalHtmlText","html","htmlCalculated","endsWith","arraybuffer","base64ToArrayBuffer","blob","Blob","URL","createObjectURL","href","download","click","binary_string","atob","len","charCodeAt","buffer","aTag","target","test","pathList","head","getElementsByTagName","rel","when","getScript","promise","done","base64abc","missingOctets","j","getBase64Code","subarray","charCode","base64codes","code","fetch","res","arrayBuffer","buf","File","byteCharacters","byteArrays","byteNumbers","byteArray","doc","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","dragEvent","VrDragSupportEvent","sensibility","VrDragSupportTypeEnum","Both","currentTarget","targetStartingXPosition","targetStartingYPosition","leftMoved","rightMoved","upMoved","downMoved","moved","actualXPosition","actualYPosition","xDiff","yDiff","leftPosition","topPosition","Horizontal","Vertical","dragging","dragEveryEvent","VrDragEveryEvent","dragLeft","dragRight","dragUp","dragDown","dragged","screenResolution","ScreenResolution","screen","devicePixelRatio","getScreenResolution","userAgentData","mobile","userAgent","Firefox","Edge","InternetExplorer","Opera","Vivaldi","Chrome","Safari","Seamonkey","keyword","search","documentMode","agentHas","ApplePaySetupFeature","safari","chrome","_dictionaryControls","delete","Dictionary","VrControl","defaultDay","First","todayLabel","otherMonthDays","Day","nullable","ShortDate","timeInterval","defaultDateMin","defaultDateMax","_currentCursorPosition","pickerIcon","Clock","divPickerIcon","enabled","close","openPopupDatePicker","divPickerTimeIcon","pickerTimeIcon","openPopupTimePicker","_popup","keyup","formatDateInput","Enter","onEnterKey","onKeyUp","DatePickerKeyUpEvent","sender","shiftKey","altKey","ctrlKey","enterKey","backSpaceKey","Backspace","tabKey","Tab","_value","formatValue","changingEvent","DatePickerChangingEvent","onBeforeChange","previousValue","change","onBlur","DatePickerBlurEvent","selectionStart","onFocus","DatePickerFocusEvent","keydown","cursorStartPosition","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","updateCursorPosition","onKeyDown","DatePickerKeyDownEvent","addEventListener","contains","_justOpened","getOptions","inputText","onlyFormat","formatInputDatePicker","formatInputDateTimePicker","formatInputTimePicker","dateSlotWidth","onAfterChange","actualHours","actualMinutes","dateToSelect","settingPopup","toggleClass","splittedDate","getFinalYear","dateToReturn","clear","inputTextArray","monthNumber","getMonthNumberByName","parseInt","originalInput","inputTextNumeric","todayYear","todayMonth","today","yearStringToday","todayYearFull","yearString","finalYear","Last","tempMin","tempMax","differenceBetweenMinMax","time","toTimeString","textHours","textMinutes","selected","createTimeLabel","scrollTo","actualYear","actualMonth","actualDays","timeString","todayYear2digits","yearStringFinal","yearFinalString","createTextRange","range","move","setSelectionRange","triggerChange","setSeconds","ShortDateWithoutYear","LongDateWithoutYear","WeekDay","WeekRange","firstDayOfWeek","lastDayOfWeek","FourWeeksRange","changeText","changeCallBack","changeEvent","DatePickerChangeEvent","DatePickerEvent","ActualViewEnum","DatePickerKeyUpPressEvent","Text","inputMode","rows","growWithContent","validation","Flashing","minValue","MIN_SAFE_INTEGER","maxValue","MAX_SAFE_INTEGER","minLength","substituteChar","maxLength","regex","checkOnKeyUp","checkOnValue","checkOnKeyDown","checkOnBlur","onlyNumbers","onlyCharacters","onlyUpperCase","onlyLowerCase","Link","Phone","Search","Mail","PasswordViewable","textArea","_numberValue","viewPassword","_passwordViewableIcon","EyeSlash","_originalHeight","_originalMarginBottom","getNumericPart","placeholder","readOnly","imageUrl","_keyDownCanceled","autoSize","validateRegex","validate","TextBoxKeyUpEvent","isNumericTextBox","validForNumeric","_hideErrorMode","OnAction","hideError","RegExp","flags","enterKeyEvent","TextBoxEnterKeyEvent","TextBoxKeyDownEvent","focusin","OnFocus","TextBoxFocusEvent","realValue","TextBoxBlurEvent","pastedValue","originalEvent","clipboardData","getData","onPaste","TextBoxPasteEvent","_oldValue","duplicate","numericValue","isNegative","zeros","minLengthSettings","padEnd","maxLengthSettings","Stable","heightContainer","Eye","appendText","caretPosition","selectionEnd","hideMode","errorIcon","TriangleExclamation","spanError","hover","Overlay","Solid","toFixed","onChanged","TextBoxChangeEvent","oldValue","TextBoxEvent","TextBoxKeyUpPressEvent","treeMode","AllExpanded","freeText","clearButton","addButton","textEllipsis","checkAll","showCheckAll","items","searchAfterCharsNumber","onlyIcon","_isDivElement","_checkedValues","_openPopupAfterFocus","CaretDown","classPickerIcon","_divPickerIcon","clearIcon","Xmark","divClearIcon","ButtonOptions","Plus","_btnCombo","Center","_iconCombo","_allCheckedOnlyIcon","Check","onKeyDownEvent","ComboBoxKeyDownEvent","onEnterKeyEvent","ComboBoxEnterKeyEvent","limitInputByDataSource","Control","onKeyUpEvent","ComboBoxKeyUpEvent","li","_dictionaryValueLi","next","prev","Shift","clearTimeout","filteredItems","_items","doAjaxCall","ComboBoxPasteEvent","_focusWithArrows","blurEvent","ComboBoxBlurEvent","onClose","closeEvent","ComboBoxCloseEvent","beforeValue","_openedValue","afterValue","valueInternal","onBeforeOpen","beforeOpenEvent","ComboBoxOpenEvent","getRootItems","drawDataSource","zIndex","background","_chkCheckAll","onCheck","checked","unCheckAll","_txtSearchFilter","liValue","onAfterOpen","afterOpenEvent","getFilteredArrayByInputText","newText","itemsToReturn","values","texts","htmlDecode","parentValue","parentItem","comboItemText","from","trim","CaretRight","searchedText","drawItems","elementToAppend","ul","getOnlyChildrenItems","actualLiList","AllCollapsed","OnlyFirstLevelExpanded","parents","iconClassForDiv","divIcon","ulChildren","siblings","comboItem","checkBox","isChecked","targetItem","childrenItems","getAllChildrenItems","childrenCheckboxes","getChildrenCheckboxElements","prop","childItem","_isChecked","comboItemTexts","liList","otherItem","parentChecked","manageCheckParent","_tempCheckedValue","rowText","template","templateEvent","dataItem","classIfCheckbox","getRootValues","onItemDataBound","ComboBoxItemDataBoundEvent","filteredArray","realItems","nullableItem","unshift","_typedTextWebService","onlyChildren","childrenValues","getChildrenValues","reloadCombo","sortBy","Asc","field","addItem","itemOrId","foundedItem","removeItem","parentItems","rootValues","getLeafItems","getLeafValues","getLeafTexts","getDataChildrenItems","dataItems","dataElement","arrayMode","liParent","parentComboItemText","parentCheckbox","childrenCheckboxElements","parent","sibling","getParentItem","tempCheckedElements","parentInputElement","selectedItem","getSelectedItem","fromInternal","_callbackAfterValue","hideClearButton","showClearButton","prevValue","singleValue","singleItem","_tempValueWebService","isParent","previousCheckedValues","getAllChildrenValues","writeTextByValue","manageCallbackAfterValue","selectedItems","selectedValues","selectedItemsDistinctedByValue","toWriteElements","spanSelectedValues","textWidth","allSelectedMessage","Undefined","input","checkedValues","getCheckedValues","firstItem","onClear","clearEvent","fromSet","typedTextPropertyName","typedValuePropertyName","itemsPropertyName","parameters","jsonParameters","_lastAjaxCallGuid","finalValue","itemSelected","button","buttonVisible","buttonEnabled","iconSettings","onContextMenu","textColor","backgroundColor","border","borderColor","badgeColor","badgeBackgroundColor","badgeText","badgeVisible","badgeSettings","badge","badgeClickEvent","ButtonBadgeClickEvent","leftButton","middleButton","rightButton","onMouseDown","ButtonMouseDownEvent","_mouseDownEvent","onMouseUp","ButtonMouseUpEvent","onHover","hoverEvent","ButtonHoverEvent","mouseleave","ButtonBlurEvent","ContextMenuEvent","spanText","iconPosition","showBadge","hideBadge","Delete","Excel","iconTooltip","iconClassList","iElementString","imagePosition","vrImageUrl","confirmationMessage","internalClick","rejectedConfirm","clickCallback","onMiddleClick","onRightClick","clickEvent","ButtonClickEvent","onRejectedConfirm","ButtonEvent","loaderElement","opacity","loaderWidthNumber","loaderHeightNumber","backgroundWidth","backgroundHeight","loaderLeftPosition","loaderTopPosition","loaderWidth","loaderHeight","addCssBase","ButtonGroupOptions","selectionMode","Single","intervalScrolling","_btnScrollBack","CaretLeft","scrollBack","_btnScrollForward","scrollForward","_populating","manageScrolling","spanButton","checkbox","iconOrImage","onIconClick","ButtonGroupIconClickEvent","marginLeft","spanItemText","check","changeItem","changeGlobal","onItemAdded","ButtonGroupItemAddedEvent","last","leftPos","scrollLeft","animate","onItemRemoved","ButtonGroupItemRemovedEvent","showItem","showItems","hideItem","hideItems","spanItem","getItemByIndex","onSelect","ButtonGroupSelectEvent","getSelectedValues","ButtonGroupClickEvent","getItemByValue","updateTooltip","buttonGroupItemText","removeAttr","enableItem","disableItem","ButtonGroupEvent","SplitButtonOptions","hoverMode","modal","showDefault","separator","_itemButtonList","_btnMain","relatedTarget","defaultItem","SplitButtonItem","drawItem","divSeparatorContainerValue","separatorContainer","orientation","divItemContainerValue","divItemContainer","SplitButtonClickEvent","SplitButtonSelectClickEvent","mainButton","empty","itemButton","findIndex","itemVisible","enableItems","itemEnable","disableItems","SplitButtonMainClickEvent","KeyValuePair","_map","asMap","dict","pair","ret","oldKey","newKey","oldItems","GridOptions","dataSourceFieldId","multilineRows","multilineHeader","rowHeight","columns","hideEditButton","pageSize","filterable","alternateRowColors","hoverRowColor","footer","header","resizable","reorderable","largePageSize","excel","rebind","lockable","MultiCheck","serverBinding","itemCountPropertyName","totalsPropertyName","excelDownloadUrlPropertyName","sticker","layoutSettings","GridLayoutSettings","sortable","sortByField","groupable","groupBy","groupByFields","fields","column","GridFooterSettings","maxVisiblePages","showPagination","showPageSize","showSettings","totalElements","_originalHiddenColumnFields","_originalDataSource","_dictionaryFilterConditions","_pageSizeUnlimited","_elementId","_actualLayout","optionsFields","groupByItem","displayField","hidden","layoutList","layoutJson","GridLayoutStructure","filterConditions","sortingInfo","layoutColumns","layoutColumn","GridLayoutColumn","EditButton","fitSpace","locked","_originalOptionsForLayout","getLayoutListRequest","GetLayoutListRequest","gridName","pageName","doWebApiCallLayout","GridLayoutOperationTypeEnum","Get","tableLayoutList","_customLayouts","layoutToLoad","layoutClass","same","_lastIndexAdded","_dictionaryDataValues","_groupByActualValue","_actualPageSize","_actualPageSelected","_serverBindingPagination","GridServerBindPagination","indexFrom","indexTo","_lblSticker","_divHeaderContainer","_divHeaderLocked","_divHeader","_spanFitHeaderSpace","divFilters","_divFiltersLocked","_divFilters","_spanFitFilterSpace","divBodyContainer","_divBodyLocked","_divBody","scroll","_divTotals","scrollTop","onScroll","scrollEvent","divTotals","_divTotalsLocked","_showTotals","aggregate","createTotalsFunction","_spanFitTotalsSpace","_divFooter","pageSizeItems","numberValue","update","spbSettingsControl","Gear","Table","saveLayout","footerItems","Close","layoutName","openWindowLayout","changeLayout","openWindowActions","GridActionEnum","ShowHide","Users","GroupBy","Lock","LockUnlock","FitContent","headerHeight","filtersHeight","totalsheight","_elementLocked","editButtonColumnsNumber","indexEditButtonColumn","thereAreLockedColumns","tableWidth","columnsWidthOccupied","fitSpaceColumnsNumber","remainingSpace","fitSpaceColumnPercentage","_fitSpaceColumnPercentage","toolbar","_divToolbar","separatorCount","toolbarItem","addToolbarItem","display","thCheckbox","textHTML","SingleCheck","checkAllRows","unCheckAllRows","th","headerSettings","Duration","_isResizing","_isDragging","Desc","removeSort","td","Custom","Checkbox","Boolean","checkboxJq","removeFilter","filterSettings","GridFilterSettings","checkboxFilterSettings","GridCheckboxFilterSettings","updateFilter","applyFilters","dateFilter","Filter","openWindowFiltering","dateFilterRemove","recalculateHeight","numberFilter","numberFilterRemove","_timeoutFilterText","txtValue","textToSearch","manageFilterTextByColumn","btnStringFilter","btnStringFilterRemove","stringFilterSettings","GridStringFilterSettings","filterTypeEnum","IncludesFromSimpleSearch","filterWebService","_checkedItemsForFiltering","getCheckedItems","cellSettings","decimalDigits","Sum","Average","exportable","_internalOptions","dataSource","rebindAtStartup","doWebApiCall","GridRequestTypeEnum","Rebind","thHeaderList","_columnOptions","columnPosition","GridColumnPosition","draggableColumns","groupByProperty","recalculateWidth","filterWithWebService","keepInfo","loadingElement","tableSearchingInfoList","dic","tableSearchingInfo","GridSearchingInfo","otherParameters","_tempRebindInfo","TempRebindInfo","page","pageSelected","yPosition","tempLoadingElement","clearSelection","itemIdList","specificItemIdListPropertyName","RebindSpecificRows","_vrDateTimeFields","GridControlData","off","rowId","controlSettings","columnType","tableClickEvent","GridControlsClickEvent","openAutoWindow","controlList","_cellButtons","_cellIcons","_cellCustoms","_cellLabels","_cellImages","manageDataSourceControls","clearFilters","fixDatasourceWithDate","sortingGroupFields","setDataSource","_dataSource","triggerDataBound","_actualSortingInfo","drawTable","manageControls","selectRows","applySorting","firstIndex","lastIndex","defaultRow","visibleColumns","row","dataItemId","rowAdded","groupByIndex","groupByField","cellValue","trOld","trGroupBy","newTr","fixValueWithoutSpecialChars","trGroupByLocked","trOldLocked","cellText","colspan","groupByDisplayText","displayValue","groupByDisplayValueEvent","groupByCaret","childrenRows","getChildrenGroupRows","allRows","onGroupEditClick","onEditClick","Pencil","checkboxContainer","parentGroupRow","parentElement","childRow","dataItemIdNotSplitted","unselectRow","selectRowInternal","collapse","childrenIcon","indexIcon","iconNormal","iconLocked","onGroupExpandCollapse","onExpandCollapse","expandCollapseEvent","groupByDisplayField","editClickEvent","isNewRow","tr","trLocked","isNewRowLocked","isNewCellCheckbox","tdCheckbox","selectRangeShiftKey","isNewCell","tdLocked","isNewCellLocked","char","GridCellSettings","zeroIfNull","buttonSettings","GridTemplateEvent","customCss","buttonClass","isPrimaryButton","spanIcon","spanImage","disabled","buttonText","customSettings","GridCustomSettings","GridIconSettings","iconCustomClass","imageSettings","GridImageSettings","imageCustomClass","GridLabelSettings","underlineOnFocus","Always","noBr","DropDownList","DropDownTree","DropDownTreeCheckboxes","Circle","rowColorProperty","tooltipEvent","GridTooltipEvent","tdGroupBy","tdGroupByLocked","onSelectRow","selectRowEvent","GridSelectRowEvent","rowElement","onRowDataBound","onRowDataBoundEvent","GridOnRowDataBoundEvent","realDataItem","trGroupByNumber","to","onDataBound","onDataBoundEvent","GridOnDataBoundEvent","_responseForServerBinding","numberOfPages","trunc","spanPagination","Backward","BackwardStep","pageToSelect","startingIndex","endIndex","noMore","ForwardStep","Forward","pagesText","totalElementTemplateEvent","GridTotalElementTemplateEvent","totalElementsText","realDataItems","ddlPageSize","createTotals","workerTotalsRequest","WorkerTotalsRequest","isGroup","columnOptions","aggregateMode","countZeroInAverage","_workerTotals","postMessage","onmessage","workerTotalsGroupRequest","groupItems","trGroupByList","childrenNumber","clonedTr","clone","workerTotalsGroupItem","WorkerTotalsGroupItem","groupValue","_workerTotalsGroup","adjustTrHeight","_deletedItems","totalsGroup","total","totals","tdList","writeTotals","valueFormatted","innerText","hoursString","minutesString","dateModeEnum","itemOriginalDatasource","originalDataSource","itemOriginalDatasourceIndex","itemDatasource","itemDatasourceIndex","addRow","updateRow","addRows","deleteRows","dataItemIdList","itemId","rowElements","GridRow","cells","toSavePurpose","propertyValue","checkboxList","checkboxCheckedList","checkedItems","checkboxChecked","checkedItem","getDeletedItems","headerCheckbox","groupByRows","groupByRow","onSelectAllRows","selectAllRowsEvent","GridSelectAllRowsEvent","onUnselectAllRows","unselectAllRowsEvent","GridUnselectAllRowsEvent","indexes","selectRowByIndex","filteredDataSourceList","selectRow","rowIndex","trSelectedList","minDifferenceTr","finalRowIndex","trSelected","rowIndexSelected","fromCheckboxInput","fromGroupOrRow","fromMethodCall","checkboxGroupList","checkboxToSelect","checkedCheckboxList","manageGroupCheckParent","fromCheckbox","checkBoxParentGroup","numberOfCheckedChildren","getCheckedChildrenGroupRows","onUnselectRow","unselectRowEvent","GridUnselectRowEvent","updateDataSource","thJq","CaretUp","gridSortModeEnum","internalSortBy","sortingFields","internalSortByField","columnIndex","hideColumn","showColumn","fieldList","showCheckboxColumn","hideCheckboxColumn","lockColumn","columnEditButton","columnToMoveIndex","columnToMove","firstColumnField","lastLockedColumn","lastLockedColumnIndex","unlockColumn","fieldAfterEditButton","removeGroups","sortBySettings","addGroups","allFields","realField","removeAllGroups","divBody","childrenGroupRows","GridChildrenGroupRows","childrenList","level","childrenRow","childrenLevel","groupRows","checkedChildren","_wndActions","closeable","RotateLeft","wndTableActionsContainer","checkBoxElement","newValue","Ok","gridActionEnum","createWindowActions","groupFieldAddedList","groupFieldRemovedList","columnFieldToShowList","columnFieldToHideList","columnFieldToLockList","columnFieldToUnlockList","editTableActions","showColumns","hideColumns","removeFilters","lockedColumns","lockColumns","unlockColumns","clearWindowActions","divContainer","hideable","footerItem","backSpace","customFilterProperties","textBox","stringFilter","_wndFiltering","Height","labelOff","labelOn","onChange","divSearchIntervals","divSearchSpecific","center","txtFilterSpecificValues","datePickerDateFilterValueFrom","datePickerDateFilterValueTo","datePickerDateTimeFilterValueFrom","datePickerDateTimeFilterValueTo","numericTextBoxFilterValueTo","divFilterDate","GreaterThan","LessThan","EqualsTo","Between","divFilterNumber","divFilterString","StartsWith","EndsWith","Includes","divFilterSpecificValues","timeoutSearch","allCheckboxes","lblCheckboxSelected","checkboxToShowList","checkboxToHideList","checkboxToShow","checkboxToHide","addFooterItem","createWindowFiltering","saveWindowFiltering","filterButton","clearWindowFiltering","dtpFrom","dtpTo","dtpDateTimeFrom","dtpDateTimeTo","ntbFrom","ntbTo","txtStringValue","txtFilterSearchSpecificValues","dtpFilterSearchSpecificValues","hideFooterItem","isSearchIntervals","showFooterItem","dateFilterSettings","specificValues","numberFilterSettings","divContent","contentFragment","createDocumentFragment","divRecords","divRow","onclick","chkCheckAllSpecificValues","lblText","switchSearch","dateFrom","dateTo","numberFrom","numberTo","checkboxAllList","filterButtonRemove","GridDateFilterSettings","GridNumberFilterSettings","ddlType","isEmpty","filterCondition","onOriginalDataSource","valueFilterSettings","columnField","valueTooltip","dateFilteredArray","filterValue","specificValue","tooltipValues","filterDateFrom","filterDateTo","headerTable","tableHeight","offsetHeight","thList","divResizable","setResizingEvents","pageX","currentColumn","currentColumnWidth","timeoutRecalculateWidthWhileMoving","padding","padLeft","padRight","borderRight","isColumnLocked","headerColumn","filterColumn","totalColumn","indexColumn","col","colWidth","drag","onDragging","draggingColumnPosition","onDragged","toDragColumnPosition","tdJq","tdJqToDrag","updateColumnOptions","fieldToDrag","columnToDrag","indexToDrag","fromIndex","tempColumn","tttt","that","mouseMoveDrag","DragEveryEvent","mouseUpDrag","showSticker","calculateTotals","group","getTotals","self","aggregateResult","scriptCalculateTotalsWorker","workerTotalsData","getElementById","Worker","newItems","dateTypes","columnDateTypes","dateTime","isCreatedByDateTime","newPageSizeItem","buttonSelected","onPageSelected","rowAtIndex","fixColGroup","minusWidth","getAllItems","colGroup","afterFilter","FitScreen","footerHeight","diffHeight","containerOffset","containerOffsetTop","trLockedList","trList","heightToSet","requestType","promiseCallback","json","AuthKey","deletedValuesPropertyName","valuePropertyName","getDeletedItemValues","gridServerBindingSettings","VrGridServerBindingSettings","filters","fromMap","excelFileName","serverBindingSettings","Save","_actualEditedItem","itemPropertyName","jsonS","dataType","textStatus","jqXHR","successMessage","successNotificationMessage","rebindAfterSave","rebindGridAfterSave","specificItemIdListRequested","specificItems","itemToRemoveIdList","itemsToAddIdList","specificItem","specificItemId","itemToRemoveId","deleteRow","itemToAddId","callbackBeforeDatasourceChange","newDatasource","downloadUrl","_wndAutoWindow","onDataSourceChanged","exception","Exception","exceptionCode","Code","errorMessage","errorNotificationMessage","ExceptionMessage","exceptionMessage","rebindAfterError","rebindGridAfterError","closeWindowAfterError","errorThrown","responseJSON","Message","responseText","statusText","status","finalMessage","toolbarClickEvent","onBeforeClick","Add","deletedItems","deleteRequest","excelExport","ExcelWithHiddenColumns","exportHiddenColumns","onBeforeExcelExport","headerRow","GridExcelRow","excelCell","GridExcelCell","contentRows","contentRow","itemValue","GridHeaderAndCellSettings","footerRow","generateExcelRequest","GenerateExcelRequest","jsonString","onAfterExcelExport","ErrorMessage","StackTrace","visibleToolbar","toolbarItems","toolbarItemValue","FileExcel","Refresh","primary","GridToolbarClickEvent","toolbarCustomLogic","splitButtonOptions","splitButtonItems","itemClass","buttonGroupItems","comboBoxOptions","datePickerOptions","textBoxOptions","switchSettings","GridToolbarSwitchSettings","tableSwitchEvent","GridToolbarSwitchEvent","autoWindowSettings","GridAutoWindowSettings","GridAutoWindowOption","titleNew","titleEdit","onBeforeClose","AutowindowBeforeCloseEvent","onAfterClose","AutowindowAfterCloseEvent","saveAutoWindow","createControlsAutoWindow","columnsOrdered","autoWindowId","reverse","ddlNullable","expanded","iconItems","comboIcons","Pumo","createAutoWindow","AutowindowBeforeOpenEvent","AutowindowAfterOpenEvent","editable","columnValue","defaultValue","datePicker","dateTimePicker","timePicker","dropDownList","clearItems","dropDownTree","comboBox","numericTextBox","colorPicker","oldItem","txtPassword","onBeforeSave","AutowindowBeforeSaveEvent","saveRequest","save","actualItem","ignoreFactor","onAfterSave","AutowindowAfterSaveEvent","_wndLayout","_grdLayout","loadLayout","loadOriginalLayout","clearLayout","createWindowLayout","layoutOperationType","Load","Clear","saveLayoutRequest","SaveLayoutRequest","topSettingsBtnPosition","layoutPropertyName","clearLayoutRequest","ClearLayoutRequest","loadLayoutRequest","LoadLayoutRequest","tableLayout","editButtonColumnIndex","editButtonColumn","oldGroupByList","groupRemoved","removeGroup","dictionaryFilterConditions","jsonColumn","optionsColumn","optionsColumnIndex","thHeader","headerTh","filtersTd","totalsTd","colGroupCol","GridWebApiRequest","GridHeaderSettings","GridRebindRequest","GridExcelRequest","GridToolbarDeleteRequest","WorkerTotalsMessageColumnOptions","WorkerTotalsResult","GenerateExcelResponse","GridSortingInfo","GridSaveRequest","AutoWindowEvent","DragSupportEvent","LoadLayoutResponse","ClearLayoutResponse","GridLayout","controlElement","printBytesFileImageOrHtml","PrintTypeEnum","Pdf","PrintJsTypeEnum","Html","PrintHtmlOptions","printThis","pageTitle","removeInlineStyles","printDelay","removeScripts","debug","beforePrint","importCSS","importStyle","afterPrint","pathBytesOrId","documentTitle","toLocaleString","headerTitle","printJsOptions","PrintJsOptions","printable","print","jsonData","headerCss","contentCss","repeatHeaderOnEveryPage","repeatHeaderOnEveryPages","Json","gridHeaderStyle","gridStyle","repeatTableHeader","printJS","appendContent","$el","jquery","appendBody","$body","$element","opt","elementSelector","$originalElements","$content","formValues","eq","printContainer","defaults","strFrameName","domain","iframeSrc","printI","src","$iframe","doctypeString","doctype","win","contentWindow","write","setDocType","baseURL","$doc","contents","$head","$base","base","protocol","host","media","outerHTML","loadCSS","pageHtml","copyTagClasses","canvas","canvasId","addBack","cid","$src","getContext","drawImage","isFunction","el","removeInline","selector","removeInlineSelector","beforePrintHandler","matchMedia","addListener","mql","matches","onbeforeprint","attachOnBeforePrintEvent","beforePrintEvent","frames","queryCommandSupported","TopCenter","RightMiddle","hideSettings","NotifierHideSettings","autoHide","clickToHide","duration","animation","SlideUp","NotifierShowSettings","SlideDown","BottomCenter","isOnTarget","prepareNotification","containerToAdd","getContainerToAdd","_container","_arrow","CircleExclamation","customHtml","NotifierCustomHtmlEvent","borderTopArrow","borderBottomArrow","borderLeftArrow","borderRightArrow","offsetLeft","targetOptions","topElement","rightElement","bottomElement","leftElement","TopRight","TopLeft","diffTop","RightTop","RightBottom","LeftMiddle","LeftTop","LeftBottom","BottomRight","BottomLeft","FadeIn","fadeIn","slideDown","NotifierOnClickEvent","FadeOut","fadeOut","slideUp","TargetOptions","offsetTop","marginTop","marginRight","marginBottom","LabelOptions","font","fontFamily","underlineOnHoverClass","underlineCss","OnHover","LabelHoverEvent","linkCss","phoneNumber","customText","formatLinkLabel","mail","LabelClickEvent","CheckBoxOptions","threeState","userWidth","Checked","Unchecked","CheckBoxCheckEvent","stateEnum","checkedBoolean","checkedState","showIcon","SeparatorOptions","marginSettings","MarginSettings","ImageOptions","Original","overlayDescription","alt","Fill","Fit","Stretch","Download","downloadButton","ImageToolbarClickEvent","deleteButton","customButton","onLeave","imageClickEvent","ImageClickEvent","pathOrBytes","mimeType","prePath","description","EditorOptions","pasteImages","menu","customMenuItems","baseUrl","toolbarMode","Floating","plugins","browserSpellCheck","pasteAsText","replacePtagWithDiv","statusbar","speechRecognizer","stopAtClick","MenuItems","Popup","showInfoCommands","defaultSize","formatSizeList","menuBar","edit","view","insert","table","tools","defaultItems","customItemValues","customToolItems","divMenuItemTop","_divMenuItem","menubar","menuItem","addMenuItem","_finalTextSpeeched","_speechRecognizer","_wndCommands","_wndTempMessage","isRecording","openWindowTempMessage","onResult","interimResults","parseInput","_txtTempMessage","finalResults","stop","insertTextAtCursor","tinyMCE","suffix","init","readonly","resize","toolbar_mode","paste_data_images","browser_spellcheck","contextmenu","font_size_formats","content_style","forced_root_block","paste_as_text","setup","editor","customToolItem","ui","registry","image","onAction","EditorItemClickEvent","EditorOnKeyUpEvent","keyCode","realEvent","nextControlId","nextAll","EditorOnKeyDownEvent","_initialized","iframeElement","onInit","EditorOnInitEvent","_divDragFile","onDragEnter","dragEnterEvent","EditorDragEnterEvent","stopPropagation","onDragOver","dragOverEvent","EditorDragOverEvent","eventName","manageDragLeave","manageDrop","_tinyMceControl","_settings","activeEditor","EditorOnFocusEvent","EditorOnBlurEvent","onCommand","EditorOnCommandEvent","command","onSetContent","EditorSetContentEvent","onBeforeResize","EditorOnResizingEvent","onAfterResize","EditorOnResizedEvent","createWindowTempMessage","openWindowCommands","createWindowCommands","interim","replaceAll","findLower","findUpper","findCapitalize","onDragLeave","dragLeaveEvent","EditorDragLeaveEvent","onDrop","files","dataTransfer","dropEvent","EditorDropEvent","tinyMceControl","initialized","setContent","getContent","insertContent","getBody","trigger","focusInterval","buttonGroupOptions","switchOptions","buttonOptions","separatorOptions","labelOptions","EditorEvent","EditorDragDropEvent","WindowOptions","hideCloseIcon","draggable","removeOnClose","maximized","_additionalCloseCallbacks","_additionalOpenCallbacks","_additionalContentLoadedCallbacks","WindowTitleSettings","cssHeader","spanWindowTitle","spanCloseIcon","onDragStart","dragStartEvent","WindowDragStartEvent","onDragEnd","dragEndEvent","WindowDragEndEvent","_iframe","callBackFooterItems","maximize","_callbackFooterItems","closeCallBack","maxZindexWindow","_background","_openCloseCallback","onOpen","openEvent","WindowOpenEvent","openCallback","triggerEvents","closeBeforeEvent","WindowBeforeCloseEvent","closeCallback","WindowCloseEvent","closeIcon","newWidth","newHeight","_animateAutosize","onContentLoaded","autoSizeIfRequired","load","innerWidth","rightPosition","bottomPosition","WindowFooterItemClickEvent","splitButton","SplitButtonSwitchSettings","switchControl","SplitButtonSwitchEvent","buttonGroup","combo","textbox","onLoadEvent","WindowContentLoadEvent","contentLoaded","curHeight","autoHeight","ConfirmOptions","textOkButton","textCancelButton","_window","okCallback","cancelCallback","console","log","contentElement","contentLoadedEvent","ContentConfirmLoadedEvent","AlertOptions","ContentAlertLoadedEvent","DialogOptions","totalWidth","noWidthItems","widthItems","footerAvailableWidth","singleItemWidth","ContentDialogLoadedEvent","PromptOptions","contentContainer","_textBox","placeHolder","ContentPromptLoadedEvent","SwitchOptions","labelOffText","labelOnText","colorOff","boldOff","checkedProperty","colorOn","boldOn","removeProp","SwitchChangeEvent","SwitchEvent","CheckBoxListOptions","listName","marginBetween","_checkboxControls","onBeforeSelect","selectEvent","CheckBoxListSelectEvent","tagList","RadioButtonOptions","labelContainer","lblRadioButton","RadioButtonCheckEvent","RadioButtonListOptions","_radioControls","radioButton","RadioButtonListSelectEvent","checkedRadio","radio","RepeaterOptions","emptyMessage","internalHeight","datasource","_grid","RepeaterOnRowDataBoundEvent","cell","rebindSpecificRows","updateRows","selectRowsByIndexes","unselectRows","tableSortModeEnum","addFilter","showToolbar","hideToolbar","showToolbarItem","hideToolbarItem","enableToolbarItem","disableToolbarItem","removeToolbarItem","MapsOptions","zoom","maxZoom","marker","latitude","longitude","Light","credits","_internalMarkerList","L","preferCanvas","setView","tileLayer","attribution","tileSize","zoomOffset","addTo","MapPinClickEvent","defaultMarker","latLng","markers","pin","circleMarker","bindPopup","onPinClick","coordinate","_latlng","lat","lng","point","_point","y","openPopup","MapPinHoverEvent","removeLayer","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tap","invalidateSize","MapEvent","PainterOptions","imagePath","canvasHeight","canvasWidth","saveSettings","PainterSaveSettings","legendWidth","legendHeight","_image","_ctx","clearRect","_points","draw","_isMoving","getPoint","onMouseMove","PainterMouseMoveEvent","points","PainterMouseDownEvent","PainterMouseUpEvent","_color","_size","_pointTag","strokeStyle","lineCap","lineJoin","lineWidth","beginPath","moveTo","lineTo","stroke","Point","pop","pointsToDelete","singlePoint","pointToDelete","legendItems","dataURL","legendCanvas","context","legendItem","textSize","measureText","realHeight","ceil","fillStyle","fillRect","fillText","toDataURL","PainterEvent","CalendarOptions","selectedColor","_tempNavigationDate","monthString","divHeader","_lblNavigation","_actualView","drawMonths","drawYears","drawDecades","drawDays","Decade","todayDay","todayWeek","divToday","weekDays","trWeekDays","weekDay","firstDayOfTheMonth","lastDayOfTheMonth","actualValueDay","actualValue","actualValueMonth","actualValueYear","prevMonthLastDay","dayCount","reachLimit","createTdDay","onFinishedDraw","CalendarFinishedDrawEvent","checkAvailability","onDisableDate","CalendarDisableDateEvent","onDayDraw","CalendarDayDrawEvent","disabledDates","highlightedDates","availableFrom","availableTo","dates","monthIndex","monthAttribute","year2digitsFirst","year2digitsLast","lastYear2Digits","firstYear","lastYear","tdYear","yearAttribute","newYear","firstYearCycle","lastYearCycle","tdDecade","CalendarChangingEvent","CalendarChangeEvent","CalendarEvent","RatingOptions","precision","Full","RatingColorSettings","notSelected","radioName","radioFullId","titleFull","Half","radioHalfId","titleHalf","_lblTotal","RatingSelectEvent","decimalPart","integerPart","checkedInput","firstInput","firstInputId","fistLabel","getComputedStyle","GroupBoxOptions","collapsable","startingCollapsed","startingChecked","scrollable","htmlContent","h1","_btnCollapse","collapsed","expand","_chkCheckbox","onCheckboxClick","checkboxClickEvent","GroupBoxOnCheckboxClickEvent","divItems","_contentContainer","onCollapse","GroupBoxOnExpandEvent","GroupBoxOnCollapseEvent","onExpand","expandEvent","unCheck","PdfViewerOptions","scale","textSelection","PdfViewerWindowSettings","navigation","_state","PdfState","createToolbar","_pdfViewerCanvasContainer","canvasContainer","_txtCurrentPage","_currentPage","spanLeftArea","currentPage","pdf","numPages","_lblPagesNumber","spanCenterArea","MagnifyingGlassMinus","MagnifyingGlassPlus","spanRightArea","Print","addToolbarItems","area","toolbarRightArea","toolbarLeftArea","toolbarCenterArea","toolbarArea","elementWhereSearch","areaClass","pdfjsLib","getDocument","internalRender","onContentRendered","pagesNumber","getPage","divCanvasTextContainer","ctx","divTextLayer","viewport","getViewport","render","canvasContext","getTextContent","renderTextLayer","base64bytes","downloadPdfBytes","UploadOptions","webApiSettings","UploadWebApiSettings","multiple","fileList","fileListMaxHeight","dropArea","progressBar","dropAreaText","uploadButton","autoUpload","confirmToRemoveFile","canRemoveFile","uploadContainer","_files","_dicFileXhr","_divDropArea","UploadDragEnterEvent","UploadDragOverEvent","UploadDragLeaveEvent","UploadDropEvent","manageLoadingFiles","labelInput","CloudArrowUp","_inputFile","_divProgressBar","_divFileList","uploadFile","addFiles","divFile","divFileList","initializeProgress","startEvent","UploadStartEvent","filesAdded","showFileIfError","checkMimeType","minSize","minSizeErrorMessage","formatBytes","drawFile","UploadDrawTypeEnum","ErrorValidationMinSize","manageValidationError","MinSize","maxSize","maxSizeErrorMessage","ErrorValidationMaxSize","MaxSize","extensions","isValid","mimeTypes","extension","getMimeTypeFromExtension","extensionsArray","extensionsErrorMessage","ErrorValidationExtensions","Extensions","drawTypeEnum","fileInfo","getFileInfo","underLabel","validationErrorTypeEnum","spanPercentageSpinner","TempLoading","iconSpinner","Spinner","Trash","onAbort","abortEvent","UploadAbortEvent","abort","removeFile","onValidationError","errorEvent","UploadValidationErrorEvent","onRemove","removeEvent","UploadRemoveEvent","getFiles","XMLHttpRequest","parametersEvent","UploadParametersEvent","headerParameter","upload","onProgress","progressEvent","UploadProgressEvent","loaded","updateProgress","percentage","readyState","onSuccess","successEvent","UploadSuccessEvent","fileButtonActionIcon","onError","UploadErrorEvent","uploadFileIcon","formData","send","numFiles","_uploadProgress","fileNumber","tot","curr","units","FilePdf","FileImage","FileWord","FileLines","FileZipper","FileVideo","UploadEvent","UploadDragEvent","UploadLoadEvent","PaypalButtonOptions","PaypalStyle","Gold","Responsive","shape","Rect","tagline","fundingicons","layout","enableStandardCardFields","intent","createOrderRequest","SetupPaymentRequest","approveRequest","ExecutePaymentRequest","setupUrl","clientId","commit","locale","renderButton","paypal","Buttons","createOrder","actions","onBeforePayment","beforePaymentEvent","OnPaypalBeforePaymentEvent","prepareWebApiCall","PaypalWebApiTypeEnum","CreateOrder","headers","token","manageError","SetupError","onApprove","OnApprove","ok","onCancel","cancelEvent","OnPaypalCancelEvent","onRendered","renderedEvent","OnPaypalRenderedEvent","cancelUrl","returnUrl","paymentIdPropertyName","paymentID","payerIdPropertyName","payerID","Result","Response","PaypalWebApiRequest","TreeViewOptions","showLink","rightClickForContextMenu","leftClickForContextMenu","parentClickable","contextMenuItems","showEditButton","onEdit","onDragMove","alternateColor","spaceBetweenGroups","rowLine","selectable","export","TreeViewExportSettings","onlyParents","_divTitle","_lblTitle","widthColumns","divColumn","_divHeaderSpace","titleHeight","filterHeight","toolbarHeight","_divContent","TreeViewRequestTypeEnum","selectedValue","parentExpandedValueList","expandedList","firstUl","parentExpandedValue","divIconExpandCollpase","divTreeView","_dictionaryLiValue","odd","manageScrollbar","liClassShowLink","treeViewDivItemContainer","spanTreeItemTextContainer","treeViewItemText","iconText","styleRow","TreeViewTemplateEvent","templateResult","Edit","TreeViewEditEvent","showContextMenu","onDoubleClick","TreeViewDoubleClickEvent","btnContextMenu","EllipsisVertical","divItem","TreeViewCellSettings","milesSeparator","isNotNullOrEmpty","boldRoot","_timeoutClick","_actualDraggedItem","TreeViewDragStartEvent","destination","dragMoveEvent","TreeViewDragMoveEvent","liDestination","TreeViewDragEndEvent","liSource","TreeViewChangingEvent","exportSettings","numericValueTypeEnum","extraCells","extraCell","sheetName","_divContextMenu","contextMenuItem","divContextMenuItem","clickOnContextMenuItem","TreeViewContextMenuClickEvent","_dataItemContextMenu","targets","closeContextMenu","createContextMenu","onlyText","manageAddUpdateItem","onAfterSelect","TreeViewChangeEvent","TreeViewEvent","TreeViewDragEvent","TreeViewHeaderAndCellSettings","SchedulerOptions","startTime","endTime","maxResourcesNumber","SchedulerMaxResourceNumber","views","timeslotIntervalDuration","Monday","daysOfWeekNames","numberOfWorkDays","exportPdf","timeColumn","showHeader","SchedulerEditable","_timeColumnWidth","_saturationData","resources","viewSelected","drawToolbar","drawScheduler","manageSchedulerClick","availabilities","saturation","divToolbar","_dtpSchedulerDate","_actualNavigateAction","PrevDate","NextDate","Today","ChangeDate","_swtGroupByDateResource","Week","groupWeekByDate","_btnExpand","Expand","SchedulerExpandEvent","buttonExpand","buttonCollpase","enterFullScreen","adaptHeight","Collapse","collapseEvent","SchedulerCollapseEvent","exitFullScreen","viewItems","viewTypes","FourWeeks","_btgMenuView","maxResourceNumberBasedOnView","dayView","weekView","fourWeeksView","drawHeader","drawContent","getDivContent","rowHeader","thInterval","createIntervalCombo","resource","resourceText","spanResouceText","divSaturation","saturationVisible","spanSaturationBar","numberOfDays","rowDays","addingDays","dayOfWeek","dayName","dayNumber","colSpan","rowResources","thInterval2","addingDaysForResources","groupedByResource","spanSaturationPercentage","_cmbInterval","parentNode","timeslotInterval","schedulerOffset","contentHeight","numberOfRows","_slotElementList","realDate","textTime","thTime","endSlot","borderTopClass","borderBottomClass","slotElement","resourceId","nowDate","nowTimeslot","onViewChange","viewChangeEvent","SchedulerViewChangeEvent","previousView","onNavigate","navigateEvent","SchedulerNavigateEvent","action","previousDate","triggerResourceChangeEvent","onResourcesChange","resourcesChangeEvent","SchedulerResourcesChangeEvent","onIntervalChange","intervalChangeEvent","SchedulerIntervalChangeEvent","_datasource","realDatasource","appointment","positioned","daysDifference","newApp","newStart","checkMandatorySchedulerDataFields","appointmentFragment","slotWidthList","slotWidth","dictionaryResourceAppointments","resourceAppointments","appointmentsOverlapped","findOverlappedAppointments","maxOverlapped","apt","slot","slotsOccupied","maxOverlappedSlot","overlappedList","apt2","slot2","adaptDateToTimeslotDuration","SchedulerDateTypeEnum","Start","End","slotFiltered","maxPositionY","finalAppointmentPositionY","occupiedSlotList","goTo","occupiedSlot","positionX","divAppointment","managePropertiesSchedulerData","schedulerOffsetTop","schedulerScrollOffset","schedulerOffsetLeft","slotToMove","slotStartingPosition","slotColumnIndex","slotsss","diffYMouseAppointment","xPositionMouse","yPositionMouse","appointmentYPosition","appointmentHeight","appointmentXPosition","appointmentWidth","appointmentDataSource","appointmentIndex","onMoveStart","onMoving","moveAppointmentEvent","SchedulerMovingEvent","divElement","SchedulerMoveStartEvent","yMovePosition","xMovePosition","onMoveEnd","SchedulerMoveEndEvent","setResizing","divInside","slotToResize","pageY","resizing","divAppointmentHeight","onResizeStart","onResizing","resizingEvent","SchedulerResizingEvent","resizeStartEvent","SchedulerResizeStartEvent","diffToAdd","onResizeEnd","_availabilities","availabilityFragment","totalMinutes","availability","slotForAvailability","positionY","divAvailability","schedulerData","insertAdjacentHTML","appointments","rebindAppointments","rebindAvailabilities","saturationData","manual","_saturationVisible","internalHideSaturation","saturationDay","dayMode","schedulerDate","spanPercentage","manageSaturationPercentage","saturationWeek","weekMode","saturationWeekGroupedByDate","groupedByDate","resourceList","saturationResource","thResource","saturationWeekGroupedByResource","manageWeekDateList","saturationFourWeeks","fourWeeksMode","percentageValue","spanPercentageResource","titleColor","dateList","saturationDate","thWeekDay","hideSaturation","internalShowSaturation","divElementId","duplicatedSlotElement","onAppointmentClick","clickOnAppointmentEvent","SchedulerAppointmentClickEvent","availabilityDataSource","onAvailabilityClick","clickOnAvailabilityEvent","SchedulerAvailabilityClickEvent","onTimeslotClick","clickOnTimeslotEvent","SchedulerTimeslotClickEvent","resourceName","appointmentSlots","getAppointmentSlots","resAppointment","resAppointmentStart","resAppointmentEnd","overlappedApt","dateType","setMinutes","onlyVisible","autoPrint","html2canvas","pdfWidth","pdfHeight","totalPDFPages","jsPDF","unit","imgData","addImage","addPage","SchedulerEvent","SchedulerClickEvent","SchedulerMoveEvent","SchedulerResizeEvent","SchedulerExpandCollapseEvent","QrCodeOptions","QrCodeBorderSettings","QrCodeClickEvent","svg","QrCodeManager","encodeText","Ecc","MEDIUM","toSvgString","_svg","version","errorCorrectionLevel","dataCodewords","mask","MIN_VERSION","MAX_VERSION","drawFunctionPatterns","allCodewords","addEccAndInterleave","drawCodewords","minPenalty","applyMask","drawFormatBits","penalty","getPenaltyScore","ecl","segs","QrSegment","makeSegments","encodeSegments","seg","makeBytes","minVersion","maxVersion","boostEcl","dataUsedBits","dataCapacityBits","getNumDataCodewords","usedBits","getTotalBits","newEcl","QUARTILE","HIGH","bb","appendBits","modeBits","numChars","numCharCountBits","padByte","getModule","parts","setFunctionModule","drawFinderPattern","alignPatPos","getAlignmentPatternPositions","numAlign","drawAlignmentPattern","drawVersion","formatBits","rem","bits","getBit","floor","dy","dx","dist","xx","yy","isBlack","ver","numBlocks","NUM_ERROR_CORRECTION_BLOCKS","ordinal","blockEccLen","ECC_CODEWORDS_PER_BLOCK","rawCodewords","getNumRawDataModules","numShortBlocks","shortBlockLen","blocks","rsDiv","reedSolomonComputeDivisor","dat","ecc","reedSolomonComputeRemainder","block","vert","invert","runColor","runX","runHistory","PENALTY_N1","finderPenaltyAddHistory","finderPenaltyCountPatterns","PENALTY_N3","finderPenaltyTerminateAndCount","runY","PENALTY_N2","black","PENALTY_N4","step","pos","degree","reedSolomonMultiply","divisor","_","factor","shift","coef","z","core","currentRunColor","currentRunLength","bitData","Mode","BYTE","digits","NUMERIC_REGEX","NUMERIC","ALPHANUMERIC_REGEX","temp","ALPHANUMERIC_CHARSET","ALPHANUMERIC","makeNumeric","makeAlphanumeric","toUtf8ByteArray","assignVal","ECI","ccbits","Infinity","str","encodeURI","LOW","numBitsCharCount","KANJI","MultiSchedulerOptions","showNavigateButtons","maxDatesNumber","_resources","_dates","_dictionaryDateScheduler","divDates","ChevronLeft","MultiSchedulerNavigateEvent","MultiSchedulerNavigateActionEnum","ChevronRight","widthPercentage","lblDate","divTimeslotIntervalDuration","_cmbTimeslotIntervalDuration","divSchedulers","scheduler","fixWidth","drawData","newData","newDataDate","groupingField","datasourceGrouped","keyDate","schedulerDataList","multiSchedulerOffset","divScrollable","IconOptions","cursorPointer","VrIconClickEvent","ColorPickerOptions","Hex","alphaChannel","hexUppercase","hideOnPaletteClick","closeButton","palette","ColorPickerManager","_picker","JSColor","option","shadow","paletteCols","paletteSetsAlpha","closeText","required","uppercase","valueHex","valueRgba","divOpen","Eraser","fromString","toHEXString","fromRGBA","g","toRGBAString","randomize","ColorPickerChangeEvent","ColorPickerEvent","global","BoxShadow","funcName","elm","jsc","jscolor","instances","readyQueue","register","pub","installBySelector","rootNode","node","elms","querySelectorAll","matchClass","lookupClass","dataOpts","isColorAttrSupported","getDataAttr","targetElm","optsStr","warn","docsRef","opts","parseOptionsStr","eParse","looseJSON","Function","eEval","getInstances","inst","targetElement","createEl","tagName","setData","nodeOrSelector","sel","querySelector","isNode","Node","nodeType","nodeName","removeChildren","firstChild","isTextInput","isButton","isButtonEmpty","isPassiveEventSupported","supported","removeEventListener","dataProp","obj","prop1","removeData","setDefault","attrName","setDataAttr","_attachedGroupEvents","attachGroupEvent","groupName","evnt","func","detachGroupEvents","evt","returnValue","captureTarget","setCapture","_capturedTarget","releaseTarget","releaseCapture","triggerEvent","bubbles","cancelable","ev","Event","createEvent","initEvent","dispatchEvent","triggerInputEvent","eventKey","9","13","27","strList","classNames","repl","getCompStyle","compStyle","currentStyle","setStyle","styles","important","reversible","priority","origStyle","setVal","setProperty","hexColor","hexaColor","rgbColor","rgbaColor","linearGradient","prefixes","helper","tryFunc","tryVal","getFuncName","setBorderRadius","setBoxShadow","getElementPos","relativeToViewport","rect","viewPos","getViewPos","getElementSize","getAbsPointerPos","changedTouches","getRelPointerPos","targetRect","srcElement","pageXOffset","clientLeft","pageYOffset","clientTop","getViewSize","RGB_HSV","v","h","HSV_RGB","parseColorString","rgba","mR","mG","mB","mA","par","re","parseFloat","parsePaletteValue","mixed","vals","colors","containsTranparentColor","isAlphaFormat","scaleCanvasForHighDPR","dpr","genColorPreviewCanvas","separatorPos","specWidth","scaleForHighDPR","sepW","previewSeparator","sqSize","chessboardSize","sqColor1","chessboardColor1","sqColor2","chessboardColor2","cWidth","cHeight","genColorPreviewGradient","params","redrawPosition","picker","owner","tp","vp","thisObj","fixed","ts","vs","pd","getPickerDims","ps","borderW","borderH","smartPosition","pp","positionValue","contractShadow","_drawPosition","vShadow","shadowBlur","boxS","shadowColor","w","controlBorderWidth","sliderSpace","getControlPadding","sliderSize","getSliderChannel","hasAlphaChannel","pal","getPaletteDims","buttonHeight","pW","pH","contentW","contentH","paddedW","paddedH","borderWidth","cols","cellW","cellH","sampleCount","_palette","paletteSpacing","paletteHeight","pointerBorderWidth","pointerThickness","getPadYChannel","triggerCallback","triggerGlobal","eventNames","_pointerMoveEvent","mouse","touch","_pointerEndEvent","_pointerOrigin","onDocumentKeyUp","tryHide","onWindowResize","onWindowScroll","onParentScroll","onDocumentMouseDown","showOnClick","onControlPointerStart","onPickerTouchStart","controlName","pointerType","registerDragEvents","onDocumentPointerMove","onDocumentPointerEnd","frameElement","ofs","channels","fromHSVA","setPad","setSld","setASld","onPaletteSampleClick","_setFormat","getFormat","_paletteHasTransparency","ofsX","ofsY","pointerAbs","xVal","yVal","fmt","createPadCanvas","hGrad","createLinearGradient","addColorStop","vGrad","createSliderGradient","color1","color2","grad","createASliderGradient","hShadow","spread","inset","leaveValue","leaveAlpha","leavePreview","enumOpts","previewPosition","deprecatedOpts","THIS","setOption","oldOpt","newOpt","setter","getOption","drawPicker","_processParentElementsInDOM","box","boxB","pad","padB","padM","padCanvas","cross","crossBY","crossBX","crossLY","crossLX","sld","sldB","sldM","sldGrad","sldPtrS","sldPtrIB","sldPtrMB","sldPtrOB","asld","asldB","asldM","asldGrad","asldPtrS","asldPtrIB","asldPtrMB","asldPtrOB","btn","btnT","passive","insetColors","outsetColor","displaySlider","displayAlphaSlider","pickerDims","crossOuterSize","crossSize","controlPadding","borderRadius","PI","controlBorderColor","instance","pointerBorderColor","pointerColor","overflow","sliderInnerSpace","chessboard","si","sampleColor","sampleCssColor","sc","sw","backgroundImage","backgroundRepeat","backgroundPosition","whiteSpace","buttonColor","onmousedown","lineHeight","createTextNode","redrawPad","redrawSld","redrawASld","activeClassName","yChannel","rgb1","rgb2","rgb","sldChannel","isPickerOwner","alpha","random","onInput","valueElement","alphaElement","previewElement","previewSize","previewPadding","hash","forceStyle","hideOnLeave","minS","maxS","minV","maxV","minA","maxA","redraw","exposeColor","channel","evs","callbackProp","hsv","fromHSV","fromRGB","setPreviewElementBg","setValueElementValue","minH","maxH","toHEXAString","toRGBString","toGrayscale","toCanvas","toBackground","isLight","_currentFormat","processValueInput","processAlphaInput","colorStr","alphaVal","setAlphaElementValue","backgrounds","repeat","origin","preview","bg","sty","sty2","_parentElementsProcessed","set__palette","presetsArr","preset","pres","presets","nonProperties","valueElementOrigEvents","oninput","oldVal","initValue","initAlpha","install","ready","triggerNow","installByClassName","SearchBarOptions","expandOnClick","collapseOnBlur","SearchBarClickEvent","_previousValue","keyUpEvent","SearchBarKeyUpEvent","enterKeyPressEvent","SearchBarEnterKeyEvent","SearchBarBlurEvent","SearchBarEvent","SplitterOptions","vrSplitterResizable","_previousDiv","previousElementSibling","_nextDiv","nextElementSibling","onBeforeExpandCollapse","beforeExpandCollapseEvent","SplitterBeforeExpandCollapseEvent","previousDiv","nextDiv","onAfterExpandExpandCollapse","afterExpandCollapseEvent","SplitterAfterExpandCollapseEvent","resizer","prevSibling","nextSibling","prevSiblingHeight","prevSiblingWidth","mouseMoveHandler","userSelect","pointerEvents","mouseUpHandler","removeProperty","beforeResizeEvent","SplitterAfterResizeEvent","SplitterBeforeResizeEvent","SplitterEvent","SplitterExpandCollapseEvent","SplitterResizeEvent","AutoCompleteBoxOptions","itemSettings","deleteIconColor","comboSettings","_spanForWidth","_txtInput","manageInputWidth","valueCombo","manageInput","comboItems","realItem","onItemClick","itemClickEvent","AutoCompleteBoxItemClickEvent","itemAddedEvent","AutoCompleteBoxItemAddedEvent","AutoCompleteBoxItemInfo","focusEvent","AutoCompleteBoxFocusEvent","AutoCompleteBoxBlurEvent","_comboItems","comboItemToSelect","AutoCompleteBoxEvent","showHideDatasetOnLegendClick","responsive","stacked","subTitle","dataLabels","legend","_plugins","ChartPlugin","subtitle","anchor","onDataFormatter","formatter","axisFormatterEvent","listeners","enter","hovered","onLabelHover","leave","onLabelLeave","leaveEvent","onLabelClick","datalabels","labels","onLegendHover","onLegendLeave","chart","config","controllers","doughnut","overrides","onLegendClick","scales","grace","onAxisLabelFormatter","ticks","limit","minX","maxX","minY","maxY","aspectRatio","maintain","_chart","destroy","dataset","areaSettings","above","below","fill","smoothLine","tension","chartData","datasets","maintainAspectRatio","parsing","indexAxis","ChartDataLabels","TabStripOptions","userOnClick","elementIdList","_buttonGroup","showAllItems","hideElement","hideAllItems","visibleItem","selectIndex","itemTooltip","itemText","itemTextByIndex","TooltipOptions","showOn","Hover","hideOn","TooltipShowSettings","showAfter","TooltipHideSettings","hideAfter","TooltipShowHideEnum","MouseEnter","MouseLeave","Click","Focus","Blur","Leave","Never","_notifier","onShow","showEvent","TooltipShowEvent","onHide","hideEvent","TooltipHideEvent","continuous","maxAlternatives","_btnMicrophone","Microphone","SpeechRecognizerClickEvent","speechRecognition","webkitSpeechRecognition","SpeechRecognition","speechGrammarList","webkitSpeechGrammarList","SpeechGrammarList","_recognition","lang","grammars","speechRecognitionList","grammar","addFromString","onresult","resultIndex","results","isFinal","transcript","_allTextFromStart","SpeechRecognizerResultEvent","allTextFromStart","onnomatch","onNoMatch","SpeechRecognizerNoMatchEvent","SpeechRecognizerErrorEvent","onstart","SpeechRecognizerStartEvent","onend","SpeechRecognizerEndEvent","onspeechstart","onSpeechStart","SpeechRecognizerSpeechStartEvent","onspeechend","onSpeechEnd","SpeechRecognizerSpeechEndEvent","onaudiostart","onAudioStart","SpeechRecognizerAudioStartEvent","onaudioend","onAudioEnd","SpeechRecognizerAudioEndEvent","onsoundstart","onSoundStart","SpeechRecognizerSoundStartEvent","onsoundend","onSoundEnd","SpeechRecognizerSoundEndEvent","MicrophoneSlash","SpeechRecognizerEvent","DivOptions","inline","setBorderTop","borderSettings","LegendOptions"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,KAAM,GAAIH,GACS,iBAAZC,QACdA,QAAY,GAAID,IAEhBD,EAAS,GAAIC,IARf,CASGK,MAAM,WACT,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,I,i9QCjFrD,sCACA,wCACA,uCACA,iCACA,mCACA,oCACA,sCACA,gCACA,oCACA,kCACA,sCACA,iCACA,iCACA,kCACA,gCACA,iCACA,+BACA,iCACA,wCACA,iCACA,uCACA,sCACA,0CACA,mCACA,+BACA,gCACA,kCACA,mCACA,iCACA,uCACA,mCACA,oCACA,mCACA,iCACA,uCACA,mCACA,oCACA,iCACA,yCACA,+BACA,sCACA,oCACA,mCACA,0CACA,gCACA,uCACA,mCACA,kCACA,2CACA,8BACA,gCACA,iCAIA,SAAgBC,YAAYC,EAA+BC,EAAkDC,EAAuCC,GAGnJ,OADcC,eAAsBC,gBAAgBC,MAAOL,EAAWC,EAAUC,EAAWH,GAI5F,SAAgBO,aAAaP,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgBG,OAAQP,EAAWC,EAAUC,EAAWH,GAI9F,SAAgBS,kBAAkBT,EAAqCC,EAAkDC,EAAuCC,GAG/J,OADcC,eAA4BC,gBAAgBK,YAAaT,EAAWC,EAAUC,EAAWH,GAIxG,SAAgBW,cAAcX,EAAiCC,EAAkDC,EAAuCC,GAGvJ,OADcC,eAAwBC,gBAAgBO,QAASX,EAAWC,EAAUC,EAAWH,GAIhG,SAAgBa,qBAAqBb,EAAiCC,EAAkDC,EAAuCC,GAI9J,OAFe,MAAXH,IAAiBA,EAAU,IAAI,UAAAc,gBACnCd,EAAQd,KAAO6B,aAAaC,QACrBL,cAAcX,EAASC,EAAWC,EAAUC,GAGpD,SAAgBc,wBAAwBjB,EAAiCC,EAAkDC,EAAuCC,GAIjK,OAFe,MAAXH,IAAiBA,EAAU,IAAI,UAAAc,gBACnCd,EAAQd,KAAO6B,aAAaG,WACrBP,cAAcX,EAASC,EAAWC,EAAUC,GAGpD,SAAgBgB,sBAAsBnB,EAAiCC,EAAkDC,EAAuCC,GAI/J,OAFe,MAAXH,IAAiBA,EAAU,IAAI,UAAAc,gBACnCd,EAAQd,KAAO6B,aAAaK,SACrBT,cAAcX,EAASC,EAAWC,EAAUC,GAGpD,SAAgBkB,sBAAsBrB,EAAiCC,EAAkDC,EAAuCC,GAI/J,OAFe,MAAXH,IAAiBA,EAAU,IAAI,UAAAc,gBACnCd,EAAQd,KAAO6B,aAAaO,SACrBX,cAAcX,EAASC,EAAWC,EAAUC,GAGpD,SAAgBoB,uBAAuBvB,EAAiCC,EAAkDC,EAAuCC,GAIhK,OAFe,MAAXH,IAAiBA,EAAU,IAAI,UAAAc,gBACnCd,EAAQd,KAAO6B,aAAaS,UACrBb,cAAcX,EAASC,EAAWC,EAAUC,GAGpD,SAAgBsB,eAAezB,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgBqB,SAAUzB,EAAWC,EAAUC,EAAWH,GAIlG,SAAgB2B,gBAAgB3B,EAAmCC,EAAkDC,EAAuCC,GAG3J,OADcC,eAA0BC,gBAAgBuB,UAAW3B,EAAWC,EAAUC,EAAWH,GAIpG,SAAgB6B,YAAY7B,EAA+BC,EAAkDC,EAAuCC,GAGnJ,OADcC,eAAsBC,gBAAgByB,MAAO7B,EAAWC,EAAUC,EAAWH,GAI5F,SAAgB+B,iBAAiB/B,EAAoCC,EAAkDC,EAAuCC,GAG7J,OADcC,eAA2BC,gBAAgB2B,WAAY/B,EAAWC,EAAUC,EAAWH,GAItG,SAAgBiC,iBAAiBjC,EAAoCC,EAAkDC,EAAuCC,GAI7J,OAFe,MAAXH,IAAiBA,EAAU,IAAI,aAAAkC,mBACnClC,EAAQd,KAAOiD,aAAaC,KACrBL,iBAAiB/B,EAASC,EAAWC,EAAUC,GAGvD,SAAgBkC,qBAAqBrC,EAAoCC,EAAkDC,EAAuCC,GAIjK,OAFe,MAAXH,IAAiBA,EAAU,IAAI,aAAAkC,mBACnClC,EAAQd,KAAOiD,aAAaG,SACrBP,iBAAiB/B,EAASC,EAAWC,EAAUC,GAGvD,SAAgBoC,kBAAkBvC,EAAoCC,EAAkDC,EAAuCC,GAI9J,OAFe,MAAXH,IAAiBA,EAAU,IAAI,aAAAkC,mBACnClC,EAAQwC,MAAQC,cAAcC,MACvBX,iBAAiB/B,EAASC,EAAWC,EAAUC,GAGvD,SAAgBwC,iBAAiB3C,EAAoCC,EAAkDC,EAAuCC,GAI7J,OAFe,MAAXH,IAAiBA,EAAU,IAAI,aAAAkC,mBACnClC,EAAQwC,MAAQC,cAAcG,KACvBb,iBAAiB/B,EAASC,EAAWC,EAAUC,GAGvD,SAAgB0C,eAAe7C,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgByC,SAAU7C,EAAWC,EAAUC,EAAWH,GAIlG,SAAgB+C,eAAe/C,EAAkCC,EAAkDC,EAAuCC,GAIzJ,OAFe,MAAXH,IAAiBA,EAAU,IAAI,WAAAgD,iBACnChD,EAAQd,KAAO+D,iBAAiBC,SACzBL,eAAe7C,EAASC,EAAWC,EAAUC,GAGrD,SAAgBgD,kBAAkBnD,EAAqCC,EAAkDC,EAAuCC,GAG/J,OADcC,eAA4BC,gBAAgB+C,YAAanD,EAAWC,EAAUC,EAAWH,GAIxG,SAAgBqD,aAAarD,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgBiD,OAAQrD,EAAWC,EAAUC,EAAWH,GAI9F,SAAgBuD,aAAavD,EAAgCC,GAG5D,OADsBG,eAAeC,gBAAgBmD,OAAQvD,EAAW,KAAM,KAAMD,GAIrF,SAAgByD,WAAWzD,EAA8BC,EAAkDC,EAAuCC,GAGjJ,OADcC,eAAqBC,gBAAgBqD,KAAMzD,EAAWC,EAAUC,EAAWH,GAI1F,SAAgB2D,aAAa3D,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgBuD,OAAQ3D,EAAWC,EAAUC,EAAWH,GAI9F,SAAgB6D,mBAAmB7D,EAAsCC,EAAkDC,EAAuCC,GAGjK,OADcC,eAA6BC,gBAAgByD,aAAc7D,EAAWC,EAAUC,EAAWH,GAI1G,SAAgB+D,kBAAkB/D,EAAqCC,EAAkDC,EAAuCC,GAG/J,OADcC,eAA4BC,gBAAgB2D,YAAa/D,EAAWC,EAAUC,EAAWH,GAGxG,SAAgBiE,sBAAsBjE,EAAyCC,EAAkDC,EAAuCC,GAGvK,OADcC,eAAgCC,gBAAgB6D,gBAAiBjE,EAAWC,EAAUC,EAAWH,GAIhH,SAAgBmE,eAAenE,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgB+D,SAAUnE,EAAWC,EAAUC,EAAWH,GAIlG,SAAgBqE,UAAUrE,EAA8BC,EAAkDC,EAAuCC,GAGhJ,OADcC,eAAqBC,gBAAgBiE,IAAKrE,EAAWC,EAAUC,EAAWH,GAIzF,SAAgBuE,cAAcvE,EAAiCC,EAAkDC,EAAuCC,GAGvJ,OADcC,eAAwBC,gBAAgBmE,QAASvE,EAAWC,EAAUC,EAAWH,GAIhG,SAAgByE,eAAezE,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgBqE,SAAUzE,EAAWC,EAAUC,EAAWH,GAIlG,SAAgB2E,aAAa3E,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgBuE,OAAQ3E,EAAWC,EAAUC,EAAWH,GAI9F,SAAgB6E,eAAe7E,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgByE,SAAU7E,EAAWC,EAAUC,EAAWH,GAIlG,SAAgB+E,gBAAgB/E,EAAmCC,EAAkDC,EAAuCC,GAG3J,OADcC,eAA0BC,gBAAgB2E,UAAW/E,EAAWC,EAAUC,EAAWH,GAIpG,SAAgBiF,mBAAmBjF,EAAsCC,EAAkDC,EAAuCC,GAGjK,OADcC,eAA6BC,gBAAgB6E,aAAcjF,EAAWC,EAAUC,EAAWH,GAI1G,SAAgBmF,aAAanF,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgB+E,OAAQnF,EAAWC,EAAUC,EAAWH,GAI9F,SAAgBqF,eAAerF,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgBiF,SAAUrF,EAAWC,EAAUC,EAAWH,GAIlG,SAAgBuF,gBAAgBvF,EAAmCC,EAAkDC,EAAuCC,GAG3J,OADcC,eAA0BC,gBAAgBmF,UAAWvF,EAAWC,EAAUC,EAAWH,GAIpG,SAAgByF,qBAAqBzF,EAAwCC,EAAkDC,EAAuCC,GAGrK,OADcC,eAA+BC,gBAAgBqF,eAAgBzF,EAAWC,EAAUC,EAAWH,GAI9G,SAAgB2F,aAAa3F,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgBuF,OAAQ3F,EAAWC,EAAUC,EAAWH,GAI9F,SAAgB6F,WAAW7F,EAA8BC,EAAkDC,EAAuCC,GAGjJ,OADcC,eAAqBC,gBAAgByF,KAAM7F,EAAWC,EAAUC,EAAWH,GAI1F,SAAgB+F,kBAAkB/F,EAAqCC,EAAkDC,EAAuCC,GAG/J,OADcC,eAA4BC,gBAAgB2F,YAAa/F,EAAWC,EAAUC,EAAWH,GAIxG,SAAgBiG,gBAAgBjG,EAAmCC,EAAkDC,EAAuCC,GAG3J,OADcC,eAA0BC,gBAAgB6F,UAAWjG,EAAWC,EAAUC,EAAWH,GAIpG,SAAgBmG,eAAenG,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgB+F,SAAUnG,EAAWC,EAAUC,EAAWH,GAIlG,SAAgBqG,sBAAsBrG,EAAyCC,EAAkDC,EAAuCC,GAGvK,OADcC,eAAgCC,gBAAgBiG,gBAAiBrG,EAAWC,EAAUC,EAAWH,GAIhH,SAAgBuG,YAAYvG,EAA+BC,EAAkDC,EAAuCC,GAGnJ,OADcC,eAAwBC,gBAAgBmG,MAAOvG,EAAWC,EAAUC,EAAWH,GAI9F,SAAgByG,eAAezG,EAA+BC,EAAkDC,EAAuCC,GAItJ,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAcC,IACtBN,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgB2G,yBAAyB9G,EAA+BC,EAAkDC,EAAuCC,GAIhK,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAcG,cACtBR,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgB6G,gBAAgBhH,EAA+BC,EAAkDC,EAAuCC,GAIvJ,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAcK,KACtBV,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgB+G,iBAAiBlH,EAA+BC,EAAkDC,EAAuCC,GAIxJ,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAcO,MACtBZ,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgBiH,eAAepH,EAA+BC,EAAkDC,EAAuCC,GAItJ,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAcS,IACtBd,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgBmH,gBAAgBtH,EAA+BC,EAAkDC,EAAuCC,GAIvJ,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAcW,KACtBhB,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgBqH,sBAAsBxH,EAA+BC,EAAkDC,EAAuCC,GAI7J,OAFe,MAAXH,IAAiBA,EAAU,IAAI0G,cACnC1G,EAAQ2G,KAAOC,cAAca,WACtBlB,YAAYvG,EAASC,EAAWC,EAAUC,GAGlD,SAAgBuH,eAAe1H,EAAkCC,EAAkDC,EAAuCC,GAGzJ,OADcC,eAAyBC,gBAAgBsH,SAAU1H,EAAWC,EAAUC,EAAWH,GAIlG,SAAgB4H,cAAc5H,GAG7B,OADcI,eAAwBC,gBAAgBwH,QAAS,KAAM,KAAM,KAAM7H,GAIlF,SAAgB8H,uBAAuB9H,EAA0CC,EAAkDC,EAAuCC,GAGzK,OADcC,eAAiCC,gBAAgB0H,iBAAkB9H,EAAWC,EAAUC,EAAWH,GAIlH,SAAgBgI,aAAahI,EAAgCC,EAAkDC,EAAuCC,GAGrJ,OADcC,eAAuBC,gBAAgB4H,OAAQhI,EAAWC,EAAUC,EAAWH,GAI9F,SAAgBkI,WAAgCC,GAE/C,OAAO,iBAAAC,eAAexJ,IAAOuJ,GAG9B,SAAgBE,WAAWC,GAE1B,iBAAAF,eAAeG,IAAID,GAGpB,SAASlI,eAAoCoI,EAAkCvI,EAAkDC,EAAuCuI,EAAkCzI,GAE1L,MAAXA,IACHA,EAAU,IAAI,SAAA0I,kBAEf,IAAIvI,EAAY,QAAU,iBAAAwI,eAAeC,aASzC,GARwB,MAApBH,IAEHtI,EAAYsI,EACPA,EAAiBI,WAAW,OAChCJ,EAAmB,IAAMA,IAIV,MAAbxI,GAAqB6I,KAAKL,GAAkBM,OAAS,EACxD,OAAOD,KAAKL,GAAkB,GAI/B,IAAIO,EAAU,KACVC,EAAa,GAGjB,OAAQT,GAEP,KAAKnI,gBAAgBC,MAAO2I,EAAa,QAAS,MAClD,KAAK5I,gBAAgBG,OAAQyI,EAAa,SAAU,MACpD,KAAK5I,gBAAgBK,YAAauI,EAAa,MAAO,MACtD,KAAK5I,gBAAgBO,QAASqI,EAAa,QAAS,MACpD,KAAK5I,gBAAgBmD,OAAQyF,EAAa,MAAO,MACjD,KAAK5I,gBAAgBqB,SAAUuH,EAAa,QAAS,MACrD,KAAK5I,gBAAgByD,aAAcmF,EAAa,MAAO,MACvD,KAAK5I,gBAAgBuB,UAAWqH,EAAa,OAAQ,MACrD,KAAK5I,gBAAgByB,MAAOmH,EAAa,MAAO,MAChD,KAAK5I,gBAAgB2B,WAAYiH,EAAa,QAAS,MACvD,KAAK5I,gBAAgB+C,YAAa6F,EAAa,MAAO,MACtD,KAAK5I,gBAAgBiD,OAAQ2F,EAAa,WAAY,MACtD,KAAK5I,gBAAgBqD,KAAMuF,EAAa,QAAS,MACjD,KAAK5I,gBAAgBuD,OAAQqF,EAAa,MAAO,MACjD,KAAK5I,gBAAgB2D,YAAaiF,EAAa,QAAS,MACxD,KAAK5I,gBAAgB6D,gBAAiB+E,EAAa,MAAO,MAC1D,KAAK5I,gBAAgB+D,SAAU6E,EAAa,QAAS,MACrD,KAAK5I,gBAAgBiE,IAAK2E,EAAa,MAAO,MAC9C,KAAK5I,gBAAgBmE,QAASyE,EAAa,SAAU,MACrD,KAAK5I,gBAAgBqE,SACrB,KAAKrE,gBAAgBuE,OACrB,KAAKvE,gBAAgByE,SACrB,KAAKzE,gBAAgB2E,UACrB,KAAK3E,gBAAgB6E,aACrB,KAAK7E,gBAAgB+E,OACrB,KAAK/E,gBAAgBiF,SACrB,KAAKjF,gBAAgBmF,UACrB,KAAKnF,gBAAgBqF,eACrB,KAAKrF,gBAAgBuF,OAAQqD,EAAa,MAAO,MACjD,KAAK5I,gBAAgByF,KAAMmD,EAAa,IAAK,MAC7C,KAAK5I,gBAAgB6F,UACrB,KAAK7F,gBAAgB+F,SACrB,KAAK/F,gBAAgBiG,gBAAiB2C,EAAa,MAAO,MAC1D,KAAK5I,gBAAgBmG,MAAOyC,EAAa,SAAU,MACnD,KAAK5I,gBAAgBsH,SACrB,KAAKtH,gBAAgBwH,QACrB,KAAKxH,gBAAgB0H,iBACrB,KAAK1H,gBAAgB6I,IACrB,KAAK7I,gBAAgB4H,OAAQgB,EAAa,MAAO,MACjD,KAAK5I,gBAAgB2F,YAGlBiD,EADgD,MAA5CjJ,EAA+BmJ,YAAmE,IAA7CnJ,EAA+BmJ,UAC3E,QAEA,SAEf,MACD,KAAK9I,gBAAgByC,SAInB,OAFyC,MAApC9C,EAA4Bd,OAA4D,IAA3Cc,EAA4BoJ,YAAkE,MAA1CpJ,EAA4BqJ,aAChIrJ,EAA4Bd,KAAO+D,iBAAiBqG,OAC7CtJ,EAA4Bd,MAEpC,KAAK+D,iBAAiBqG,MAAOL,GAA0D,IAA3CjJ,EAA4BoJ,WAAuB,MAAQ,QAAS,MAChH,KAAKnG,iBAAiBC,SAAU+F,EAAa,OAMjD,GAAiB,MAAbhJ,GAAqBuI,GAAmBnI,gBAAgBmD,QAAUgF,GAAmBnI,gBAAgB2E,WAAawD,GAAmBnI,gBAAgBwH,QACxJmB,EAAUF,KAAK,IAAMG,EAAa,QAAU9I,EAAY,OAAS8I,EAAa,KAAK,OAEpF,CACC,GAAwB,MAApBR,EACH,MAAMc,MAAMf,EAAkB,sDAE1BrI,EAAU0I,WAAW,OACzB1I,EAAY,IAAMA,GAEnB6I,EAAUF,KAAK3I,GAAW,GAK3B,IAAK2I,KAAKE,GAASQ,GAAGP,GACrB,MAAMM,MAAM,gCAAkCpJ,EAAY,0CAA4C8I,GAGrF,SAAdA,GACHH,KAAKE,GAASS,KAAK,eAAgB,OAG/BjB,GAAmBnI,gBAAgBmD,QAAUgF,GAAmBnI,gBAAgBwH,SAAyB,MAAb5H,IAChGA,EAA6B,MAAhByJ,aAAyBA,aAAsCC,SAASC,MAErE,MAAb3J,IAEuB,iBAAf,GAA4BA,EAAU4I,WAAW,OAC3D5I,EAAY,IAAMA,GAEH,MAAZC,IAAkBA,EAAW2J,oBAAoBC,OACjD5J,GAAY2J,oBAAoBC,MACnChB,KAAK7I,GAAW8J,aAAaf,GAE7BF,KAAK7I,GAAW+J,QAAQhB,IAI1B,IAAIV,EAAUQ,KAAKE,GAAS,KAAOR,GAAiBxI,GAEpD,OADAqI,WAAWC,GACJA,EAqQR,IAAYjI,gBA6CAwJ,oBAmLAI,gBAoUAC,YAoBAC,kBAmBAC,iBAsZAC,iBAwZAC,mBAwZAC,mBAwZAC,gBA4ZAC,eAsZAC,eAwZAC,iBAwZAC,iBAwZAC,cA4ZAC,aAQAC,gBAkBAC,mBAOAC,gBAaAC,eA0CAC,kBAgCAC,oBAQAC,cAcAC,mBASAC,cAcAxK,aAeAyK,sBAgCAC,2BASAC,cAOAC,kBAMAC,kBASAC,sBAMAC,oBAQAC,qBAQAC,qBAMAC,qBAUAC,sBAQAC,kBASAC,sBASAC,qBASAC,eAQArJ,iBAMAsJ,qBA+FA3F,cA6BA4F,oBAOAC,uBAgCAC,0BAOAC,6BASAC,wBAmBAC,wBASAC,qBAeAC,2BAkCAC,yBAMAC,sBAOAC,uBA6GAC,yBAgBAC,0BAMAC,4BAQAC,iBAuDAC,wBAQAC,gBAqFAC,yBAsBAC,+BAMAC,mCAwCAC,qBAOAC,sBAMAC,kBAMAC,mBAMAC,aAMAC,kBAUAC,cAOAC,mBA8BAC,uBAOAC,oBAmBAC,uBAQAC,yBAQAC,yBAsNAC,yBA2CAC,sBAMAC,8BAuGAC,cAiBAC,kBA6CAC,4BA8BAC,iBASAC,qBAiBAC,kBAQAC,kBAYAC,kBAQAC,kBASAC,gBASAC,oBAiGAC,wBA0CAC,aAOAC,wBAOAC,uBAeAC,kBAuBAC,YAsBAC,oBAQAC,8BASAC,MA2cAC,eAMA7N,aAWAM,cAOAwN,eAaAC,QAsCPC,gBASOC,iBAOAC,iBA+HAC,iBAx9NZ,SAAgBC,aAEfzH,KAAK,wBAAwB0H,OAG9B,SAAgBC,OAAOC,EAAc1Q,GAGpC,OADe,IAAI,WAAA2Q,SAASD,EAAM1Q,GAInC,SAAgB4Q,YAAYF,EAAc1Q,GAIzC,OAFe,MAAXA,IAAiBA,EAAU,IAAI6Q,iBACf,MAAhB7Q,EAAQ2G,OAAc3G,EAAQ2G,KAAOoI,iBAAiBxF,OACnD,IAAI,WAAAoH,SAASD,EAAM1Q,GAG3B,SAAgB8Q,cAAcJ,EAAc1Q,GAI3C,OAFe,MAAXA,IAAiBA,EAAU,IAAI6Q,iBACf,MAAhB7Q,EAAQ2G,OAAc3G,EAAQ2G,KAAOoI,iBAAiBgC,SACnD,IAAI,WAAAJ,SAASD,EAAM1Q,GAG3B,SAAgBgR,cAAcN,EAAc1Q,GAI3C,OAFe,MAAXA,IAAiBA,EAAU,IAAI6Q,iBACf,MAAhB7Q,EAAQ2G,OAAc3G,EAAQ2G,KAAOoI,iBAAiBkC,SACnD,IAAI,WAAAN,SAASD,EAAM1Q,GAG3B,SAAgBkR,WAAWR,EAAc1Q,GAIxC,OAFe,MAAXA,IAAiBA,EAAU,IAAI6Q,iBACf,MAAhB7Q,EAAQ2G,OAAc3G,EAAQ2G,KAAOoI,iBAAiBoC,MACnD,IAAI,WAAAR,SAASD,EAAM1Q,GAK3B,SAAgBoR,QAAQV,EAAsB1Q,GAG7C,OADc,IAAI,UAAAqR,QAAQX,EAAM1Q,GACjBsR,OAGhB,SAAgBC,MAAMb,EAAsB1Q,GAG3C,OADY,IAAI,QAAAwR,MAAMd,EAAM1Q,GACfsR,OAGd,SAAgBG,OAAOf,EAAsB1Q,GAE5C,IAAIyR,EAAS,IAAI,SAAAC,OAAOhB,EAAM1Q,GAE9B,OADAyR,EAAOH,OACAG,EAGR,SAAgBE,OAAOjB,EAAsB1Q,GAG5C,OADa,IAAI,SAAA4R,OAAOlB,EAAM1Q,GAChBsR,OAKf,SAAgBO,aAAa7I,EAAwChJ,GAEpE,eAAA8R,aAAaD,aAAa7I,EAAShJ,GAGpC,SAAgB+R,UAAU5R,EAAmBH,GAE5C,eAAA8R,aAAaC,UAAU5R,EAAWH,GAGnC,SAAgBgS,WAAWC,EAAqBjS,GAE/C,eAAA8R,aAAaE,WAAWC,EAAajS,GAGtC,SAAgBkS,SAASC,EAAcnS,GAEtC,eAAA8R,aAAaI,SAASC,EAAMnS,GAG7B,SAAgBoS,WAAWD,EAAcnS,GAExC,eAAA8R,aAAaM,WAAWD,EAAMnS,GAK/B,SAAgBqS,eAEf,OAAO,gBAAAC,cAAcD,eAGtB,SAAgBE,WAEf,OAAO,gBAAAD,cAAcC,WAGtB,SAAgBC,YAEf,OAAO,gBAAAF,cAAcE,YAGtB,SAAgBC,WAEf,OAAO,gBAAAH,cAAcG,WAGtB,SAAgBC,YAEf,OAAO,gBAAAJ,cAAcI,YAGtB,SAAgBC,WAEf,OAAO,gBAAAL,cAAcK,WAGtB,SAAgBC,UAEf,OAAO,gBAAAN,cAAcM,UAGtB,SAAgBC,qBAEf,OAAO,gBAAAP,cAAcO,qBAGtB,SAAgBC,WAEf,OAAO,gBAAAR,cAAcQ,WAGtB,SAAgBC,WAEf,OAAO,gBAAAT,cAAcS,WAGtB,SAAgBC,YAEf,OAAO,gBAAAV,cAAcU,YAGtB,SAAgBC,SAEf,OAAO,gBAAAX,cAAcW,SAGtB,SAAgBC,UAEf,OAAO,gBAAAZ,cAAcY,UAGtB,SAAgBC,YAEf,OAAO,gBAAAb,cAAca,YAGtB,SAAgBC,cAEf,OAAO,gBAAAd,cAAcc,cAiBtB,SAAgBC,UAAUrT,EAA6BC,EAAkDC,GAGxG,OADcE,eAAoBC,gBAAgB6I,IAAKjJ,EAAWC,EAAU,KAAMF,GAInF,SAAgBsT,IAAIrT,EAA2CsT,EAAwBvJ,GAAU,GAEhG,IAAIwJ,EAAiB,GACjBC,EAAc,GACdC,EAAM,GACNC,EAAU,GACVC,EAAQ,GAEI,MAAZL,IAEmB,MAAlBA,EAASM,QACZL,EAAiB,YAAcD,EAASM,MAAQ,KAE9B,MAAfN,EAASO,KACZL,EAAc,SAAWF,EAASO,GAAK,KAEpB,MAAhBP,EAASG,MACZA,EAAM,UAAYH,EAASG,IAAM,KAEV,MAApBH,EAASI,UACZA,EAAUJ,EAASI,SAEI,MAApBJ,EAASQ,UACZH,EAAQ,UAAYL,EAASQ,QAAU,MAGzC,IAAIT,EAAMxK,KAAK,QAAU8K,EAAQ,IAAMJ,EAAiB,IAAMC,EAAc,IAAMC,EAAM,IAAMC,EAAU,UAAU,GAYlH,GAXiB,MAAb1T,IAEuB,iBAAf,GAA4BA,EAAU4I,WAAW,MAAS5I,EAAU4I,WAAW,OACzF5I,EAAY,IAAMA,GAEd+J,EAGJlB,KAAKwK,GAAKU,gBAAgB/T,GAF1B6I,KAAKwK,GAAKW,eAAehU,IAKX,MAAZsT,GAA2C,MAAvBA,EAASW,WAEhC,IAAK,IAAIC,KAAaZ,EAASW,WAC9BpL,KAAKwK,GAAK7J,KAAK0K,EAAU7V,KAAM6V,EAAUnV,OAG3C,OAAOsU,EAnhCR,gCAMA,kCAMA,4CAMA,oCAMA,kDAOA,wDAOA,oDAOA,oDAOA,sDAOA,sCAMA,wCAMA,gCAMA,0CAMA,0CAOA,kDAOA,4CAOA,0CAOA,sCAMA,sCAOA,4CAMA,kCAMA,kCAMA,8BAMA,kCAMA,8CAMA,4CAKA,oDAMA,sCAMA,4BAMA,oCAMA,sCAMA,kCAMA,sCAMA,wCAMA,8CAMA,kCAMA,sCAMA,wCAMA,kDAMA,kCAMA,8BAMA,4CAMA,wCAMA,sCAMA,oDAMA,gCAMA,sCAOA,0DAOA,wCAOA,0CAOA,sCAOA,wCAOA,oDAOA,sCAMA,oCAMA,sDAMA,kCAMA,8BAKA,8BAsIAc,OAAOC,GAAGC,OACT,CACCC,QAAS,SAAUvU,GAElB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,QAAA2C,MAAM0I,EAAShJ,IAE3BwU,SAAU,SAAUxU,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAA6C,OAAOwI,EAAShJ,IAE5ByU,cAAe,SAAUzU,GAExB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,cAAA+C,YAAYsI,EAAShJ,IAEjC0U,UAAW,SAAU1U,GAEpB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,UAAAiD,QAAQoI,EAAShJ,IAE7B2U,WAAY,SAAU3U,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAA+D,SAASsH,EAAShJ,IAE9B4U,eAAgB,SAAU5U,GAEzB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,eAAAmG,aAAakF,EAAShJ,IAElC6U,YAAa,SAAU7U,GAEtB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,YAAAiE,UAAUoH,EAAShJ,IAE/B8U,QAAS,SAAU9U,GAElB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,QAAAmE,MAAMkH,EAAShJ,IAE3B+U,aAAc,SAAU/U,GAEvB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,aAAAqE,WAAWgH,EAAShJ,IAEhCgV,WAAY,SAAUhV,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAAmF,SAASkG,EAAShJ,IAE9BiV,cAAe,SAAUjV,GAExB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,cAAAyF,YAAY4F,EAAShJ,IAEjCkV,SAAU,SAAUlV,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAA2F,OAAO0F,EAAShJ,IAE5BmV,SAAU,SAAUnV,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAA6F,OAAOwF,EAAShJ,IAE5BoV,OAAQ,SAAUpV,GAEjB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,OAAA+F,KAAKsF,EAAShJ,IAE1BqV,SAAU,SAAUrV,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAAiG,OAAOoF,EAAShJ,IAE5BsV,cAAe,SAAUtV,GAExB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,cAAAqG,YAAYgF,EAAShJ,IAEjCuV,kBAAmB,SAAUvV,GAE5B,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,kBAAAuG,gBAAgB8E,EAAShJ,IAErCwV,WAAY,SAAUxV,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAAyG,SAAS4E,EAAShJ,IAE9ByV,MAAO,SAAUzV,GAEhB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,OAAA+X,KAAK1M,EAAShJ,IAE1B2V,UAAW,SAAU3V,GAEpB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,UAAA6G,QAAQwE,EAAShJ,IAE7B4V,WAAY,SAAU5V,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAA+G,SAASsE,EAAShJ,IAE9B6V,SAAU,SAAU7V,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAAiH,OAAOoE,EAAShJ,IAE5B8V,WAAY,SAAU9V,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAAmH,SAASkE,EAAShJ,IAE9B+V,YAAa,SAAU/V,GAEtB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,YAAAqH,UAAUgE,EAAShJ,IAE/BgW,eAAgB,SAAUhW,GAEzB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,eAAAuH,aAAa8D,EAAShJ,IAElCiW,SAAU,SAAUjW,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAAyH,OAAO4D,EAAShJ,IAE5BkW,WAAY,SAAUlW,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAA2H,SAAS0D,EAAShJ,IAE9BmW,YAAa,SAAUnW,GAEtB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,YAAA6H,UAAUwD,EAAShJ,IAE/BoW,iBAAkB,SAAUpW,GAE3B,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,iBAAA+H,eAAesD,EAAShJ,IAEpCqW,SAAU,SAAUrW,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAAiI,OAAOoD,EAAShJ,IAE5BsW,OAAQ,SAAUtW,GAEjB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,OAAAmI,KAAKkD,EAAShJ,IAE1BuW,cAAe,SAAUvW,GAExB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,cAAAqI,YAAYgD,EAAShJ,IAEjCwW,YAAa,SAAUxW,GAEtB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,YAAAuI,UAAU8C,EAAShJ,IAE/ByW,WAAY,SAAUzW,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAAyI,SAAS4C,EAAShJ,IAE9B0W,kBAAmB,SAAU1W,GAE5B,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,kBAAA2I,gBAAgB0C,EAAShJ,IAErC2W,QAAS,SAAU3W,GAElB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,QAAAiZ,QAAQ5N,EAAShJ,IAE7B6W,WAAY,SAAU7W,GAErB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,WAAAgK,SAASqB,EAAShJ,IAE9B8W,UAAW,SAAU9W,GAEpB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,UAAAkK,QAAQmB,EAAShJ,IAE7B+W,mBAAoB,SAAU/W,GAE7B,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,mBAAAoK,iBAAiBiB,EAAShJ,IAEtCgX,MAAO,SAAUhX,GAEhB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,MAAAuL,IAAIF,EAAShJ,IAEzBiX,SAAU,SAAUjX,GAEnB,IAAIgJ,EAAWrL,KAAa,GAC5B,OAAO,IAAI,SAAAsK,OAAOe,EAAShJ,MAK9BkX,EAAE,KAEgB,IAAIC,iBAAkBC,IAEtCA,EAAeC,QAASC,IAEvBA,EAAUC,aAAaF,QAAQ,CAACG,EAAcC,EAAcC,KAEZ,MAA1CF,EAA6BG,YAE5BH,EAAaI,aAQtB,SAASC,EAAY7O,GAEpB,GAAe,MAAXA,EACJ,CACC,IAEC,GAAkB,MAAdA,EAAQ8K,GACZ,CACC,IAAIgE,EAAY9O,EAAQ8K,GAAGiE,QAAQ,YAAa,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAClF,iBAAA3P,eAAe4P,OAAOF,GAEtBhP,KAAK,IAAMgP,EAAY,aAAaE,SACpClP,KAAK,IAAMgP,EAAY,eAAeE,SACtClP,KAAK,IAAMgP,EAAY,cAAcE,SACrClP,KAAK,IAAMgP,EAAY,uBAAuBE,SAC9ClP,KAAK,uBAAyBgP,GAAWE,UAG3C,MAAOC,IAEP,GAAwB,MAApBjP,EAAQkP,UAA+C,GAA3BlP,EAAQkP,SAASnP,OAChD,OAED,IAAK,IAAIoP,KAASnP,EAAQkP,SACzBL,EAAYM,IA/BVN,CAAYL,UAKRY,QAAQzO,SAASC,KAAM,CAAEyO,SAAS,EAAMC,WAAW,MAgC7D,SAAYjY,GAEX,gBACA,kBACA,kBACA,oBACA,sBACA,wBACA,4BACA,gBACA,0BACA,sBACA,4BACA,kBACA,cACA,kBACA,8BACA,4BACA,oCACA,sBACA,YACA,oBACA,sBACA,kBACA,sBACA,wBACA,kBACA,8BACA,sBACA,wBACA,kCACA,kBACA,cACA,4BACA,wBACA,sBACA,oCACA,gBACA,sBACA,oBACA,sCACA,YACA,kBA1CD,CAAYA,gBAAA,QAAAA,kBAAA,QAAAA,gBAAe,KA6C3B,SAAYwJ,GAEX,uBACA,qBACA,mBAJD,CAAYA,oBAAA,QAAAA,sBAAA,QAAAA,oBAAmB,KAS/B,8BAKA,sBAMA,gCAOA,oCAOA,oCAOA,8BASA,wBAMA,oBAMA,sBAOA,sBAQA,kCAKA,4BAKA,8BAKA,0BAKA,8BAOA,kCAKA,0BAKA,4BAKA,0BAKA,4BAKA,0BAKA,wBAKA,8CAKA,0BAKA,0BAKA,4BAKA,sBAKA,wBAKA,4BAKA,gCAKA,SAAYI,GAEX,sCACA,kBACA,kBACA,oBACA,cACA,gBACA,oBACA,wBATD,CAAYA,gBAAA,QAAAA,kBAAA,QAAAA,gBAAe,KAc3B,4BAMA,gBA8CA,MAAMsO,aAUN,SAAgBC,KAAKvY,EAA2CsT,EAAyBvJ,GAAU,GAElG,IAAIwJ,EAAiB,GACjBC,EAAc,GACdC,EAAM,GACNC,EAAU,GACVC,EAAQ,GAEI,MAAZL,IAEmB,MAAlBA,EAASM,QACZL,EAAiB,YAAcD,EAASM,MAAQ,KAE9B,MAAfN,EAASO,KACZL,EAAc,SAAWF,EAASO,GAAK,KAEpB,MAAhBP,EAASG,MACZA,EAAM,UAAYH,EAASG,IAAM,KAEV,MAApBH,EAASI,UACZA,EAAUJ,EAASI,SAEI,MAApBJ,EAASQ,UACZH,EAAQ,UAAYL,EAASQ,QAAU,MAGzC,IAAIyE,EAAO1P,KAAK,SAAW8K,EAAQ,IAAMJ,EAAiB,IAAMC,EAAc,IAAMC,EAAM,IAAMC,EAAU,WAAW,GAYrH,GAXiB,MAAb1T,IAEuB,iBAAf,GAA4BA,EAAU4I,WAAW,MAAS5I,EAAU4I,WAAW,OACzF5I,EAAY,IAAMA,GAEd+J,EAGJlB,KAAK0P,GAAMxE,gBAAgB/T,GAF3B6I,KAAK0P,GAAMvE,eAAehU,IAKZ,MAAZsT,GAA2C,MAAvBA,EAASW,WAEhC,IAAK,IAAIC,KAAaZ,EAASW,WAC9BpL,KAAK0P,GAAM/O,KAAK0K,EAAU7V,KAAM6V,EAAUnV,OAG5C,OAAOwZ,EA5CR,kBA8CA,MAAMC,cAUN,SAAgBC,KAAKC,EAAsB1Y,EAAkDsT,EAAgCvJ,GAAU,GAErH,MAAb/J,GAA2C,iBAAf,GAA4BA,EAAU4I,WAAW,MAAS5I,EAAU4I,WAAW,OAC9G5I,EAAY,IAAMA,GAEnB,IAAIuT,EAAiB,GACjBC,EAAc,GACdC,EAAM,GAGM,MAAZH,IAEgB,MAAfA,EAASO,KACZL,EAAc,SAAWF,EAASO,GAAK,KAEpB,MAAhBP,EAASG,MACZA,GAAOH,EAASG,IAAM,KAEE,MAArBH,EAASqF,WAEsB,iBAAtBrF,EAAiB,WAC5BA,EAASqF,SAAWrF,EAASqF,SAAW,MAEzClF,GAAO,cAAgBH,EAASqF,SAAW,KAGtB,MAAlBrF,EAASsF,QACZnF,GAAO,UAAYH,EAASsF,MAAQ,KAEf,MAAlBtF,EAASM,QACZL,GAAkBD,EAASM,OAEL,MAAnBN,EAASuF,SACZpF,GAAO,WAAaH,EAASuF,OAAS,MAIxC,IAAIJ,EAAO5P,KAAK,aAAe6P,EAAY,WAAanF,EAAxC,4BACHC,EAAc,YAAcC,EAAM,UAAU,GAUzD,OARiB,MAAbzT,IAEE+J,EAGJlB,KAAK4P,GAAM1E,gBAAgB/T,GAF3B6I,KAAK4P,GAAMzE,eAAehU,IAKrByY,EAhDR,kBAkDA,MAAaK,cAWb,SAAgBC,OAAO/Y,EAA0CsT,GAEtC,iBAAf,GAA4BtT,EAAU4I,WAAW,MAAS5I,EAAU4I,WAAW,OACzF5I,EAAY,IAAMA,GAEH,MAAZsT,IAAkBA,EAAW,IAAI0F,kBACb,MAApB1F,EAASI,UAAiBJ,EAASI,QAAU,IAC3B,MAAlBJ,EAAS2F,QAAe3F,EAAS2F,MAAQ,QACtB,MAAnB3F,EAAS4F,SAAgB5F,EAAS4F,OAAS,QAChB,iBAAnB5F,EAAc,QAAeA,EAAS2F,MAAQ3F,EAAS2F,MAAQ,MAC3C,iBAApB3F,EAAe,SAAeA,EAAS4F,OAAS5F,EAAS4F,OAAS,MAE9E,IAAIH,EAASlQ,KAAK,YAAYmL,eAAehU,GAAW,GACxD+Y,EAAOI,MAAMC,SAAW,UAAY9F,EAAS2F,MAAQ,aAAe3F,EAAS4F,OAAS,kBAAoB5F,EAASG,IAEnH,IAAI4F,EAAiC,KACjCC,EAAwBP,EAAOQ,gBAqCnC,GApCA1Q,KAAKyQ,GAAuBE,KAAK,QAAQ/F,IAAI,SAAU,OAC1B,MAAzB6F,IACHD,EAAaC,EAAsB3P,MAEhC2J,EAASI,QAAQ+F,SAAS,UAAYnG,EAASI,QAAQ+F,SAAS,SAAWnG,EAASI,QAAQ+F,SAAS,UAAYnG,EAASI,QAAQ+F,SAAS,UAE1InG,EAASoG,SAA8B,IAApBpG,EAASoG,WAEP,IAApBpG,EAASoG,SACZpG,EAASoG,OAASX,GAEnB,gBAAAY,cAAcC,MAA0B,IAApBtG,EAASoG,OAAoBX,EAASzF,EAASoG,SAGpE7Q,KAAKkQ,GAAQvP,KAAK,MAAO8J,EAASI,SAClC7K,KAAKkQ,GAAQc,GAAG,OAAQ,KAGvBhR,KAD4BkQ,EAAQQ,iBACRC,KAAK,QAAQ/F,IAAI,SAAU,OAE7B,MAAtBH,EAAUwG,UACbxG,EAAUwG,WAEX,gBAAAH,cAAcpJ,WAKf1H,KAAKyK,EAASI,SAASM,eAAeqF,GAEZ,MAAtB/F,EAAUwG,UACbxG,EAAUwG,WAEX,gBAAAH,cAAcpJ,QAGC,MAAZ+C,GAA2C,MAAvBA,EAASW,WAEhC,IAAK,IAAIC,KAAaZ,EAASW,WAC9BpL,KAAKkQ,GAAQvP,KAAK0K,EAAU7V,KAAM6V,EAAUnV,OAG9C,OAAOga,EAtER,kCAWA,sBA6DA,MAAMC,kBAWN,SAAgBe,GAAG/Z,EAA0Cga,EAAQ,GAE1C,iBAAf,GAA4Bha,EAAU4I,WAAW,MAAS5I,EAAU4I,WAAW,OACzF5I,EAAY,IAAMA,GAEnB,IAAK,IAAIlC,EAAI,EAAGA,EAAIkc,EAAOlc,IAC1B+K,KAAK,UAAUmL,eAAehU,GAGhC,SAAgBia,GAAGja,EAA0CyT,EAAc,GAAII,GAO9E,MAL0B,iBAAf,GAA4B7T,EAAU4I,WAAW,MAAS5I,EAAU4I,WAAW,OACzF5I,EAAY,IAAMA,GAIZ6I,KAAK,QAFU,MAANgL,EAAc,GAAK,QAAUA,EAAK,KAElB,WAAaJ,EAAM,QAAQO,eAAehU,GAAW,GAGtF,SAAgBka,OAEf,MAAMC,EAAM,IAAIC,MAAM,KAAKC,QAAQC,IAAIC,GAAS,EAAQC,SAAS,IAAIC,SAAS,EAAG,MAC3E7b,EAAI8b,OAAOC,gBAAgB,IAAIC,WAAW,KAIhD,OAHAhc,EAAE,GAAa,GAAPA,EAAE,GAAa,GACvBA,EAAE,GAAa,GAAPA,EAAE,GAAa,IAEhB,IAAIA,EAAEic,WACXP,IAAI,EAAEC,EAAOO,KAAS,CAAC,EAAG,EAAG,EAAG,IAAIrB,SAASc,GAAS,IAAIJ,EAAIW,GAASX,EAAIW,IAC3EC,KAAK,IA5BR,cASA,cAUA,kBAYA,MAAaC,kBAQb,SAAgBC,WAAWlS,EAAmDmS,GAAe,EAAMC,GAE1E,kBAAb,IAAwBpS,OAAUqS,GAC7C,gBAAAzB,cAAcC,KAAK7Q,EAASmS,EAAcC,GAG3C,SAAgBE,WAAWF,GAE1B,gBAAAxB,cAAcpJ,KAAK4K,GAKpB,SAAgBG,OAEfnK,QAAQ,qDACNoK,KAAK,IAAMjK,MAAM,oHACjBkK,MAAM,IAAMlK,MAAM,4EAzBrB,0CAQA,8BAMA,8BAOA,kBAOA,SAAYrH,GAEX,0BACA,8CACA,uCACA,4CACA,kCACA,sBACA,8CACA,4CATD,CAAYA,YAAA,QAAAA,cAAA,QAAAA,YAAW,KAoBvB,SAAYC,GAEX,+BACA,iCACA,6BACA,oCACA,mCACA,+BACA,wCACA,+BACA,iCACA,6BACA,mCACA,iCACA,iCAdD,CAAYA,kBAAA,QAAAA,oBAAA,QAAAA,kBAAiB,KAmB7B,SAAYC,GAGX,yBACA,yCACA,2CACA,qCACA,qCACA,uCACA,iCACA,kCACA,qCACA,yDACA,yDACA,qCACA,2CACA,uCACA,2DACA,+DACA,oDACA,2CACA,iCACA,kCACA,sBACA,qCAIA,gCACA,kCACA,2CACA,2CACA,2CACA,yCACA,wBACA,gCACA,yCACA,0BACA,mCACA,0BACA,qCACA,0BACA,0BACA,mCACA,wBACA,uCACA,qCACA,wBACA,4BAIA,yCACA,kCACA,yCACA,6CACA,yCACA,2CACA,8BACA,qCACA,qCACA,gDACA,kCACA,qCACA,qCACA,uCACA,iCACA,gDACA,2CACA,qCACA,mCACA,yCACA,qCACA,mCACA,yCACA,6BACA,4BACA,yCACA,yCACA,2CACA,qCACA,8BACA,yCACA,qDACA,uCACA,uCACA,oCACA,mDACA,4BACA,kDACA,4BACA,4BACA,4CACA,6CACA,0BACA,qCACA,4BACA,kCACA,gCACA,yCACA,2CACA,kCACA,uCACA,kCACA,0BACA,oCACA,uCACA,4BAIA,kCACA,6BACA,uCACA,yCACA,gCACA,kCAIA,yBACA,4BACA,kCACA,mDACA,kCACA,8BACA,mCACA,wCACA,8BACA,wBACA,mCAIA,8BACA,2CACA,yCACA,0BACA,qCACA,2CACA,2CACA,qCACA,uCACA,qCACA,yCACA,uCACA,qCACA,qCACA,iCACA,iCACA,6CACA,qCACA,mCACA,uCACA,8BACA,0BACA,iDACA,uCACA,8BACA,uCACA,0CACA,gCACA,yCACA,yCACA,8BAIA,0BACA,4BACA,4BAIA,gCACA,qCACA,gCACA,kCACA,oCACA,+CACA,4BACA,2CACA,qCAIA,4BACA,4BACA,qCACA,0BAIA,wBACA,kCACA,yCAIA,8BACA,6CACA,qCACA,4CACA,qCACA,4CACA,uCACA,8CACA,iCACA,wCACA,0BACA,wDACA,+CACA,0DACA,uCACA,kDACA,qCACA,0BACA,qCACA,+BACA,mCACA,+BACA,6CACA,uDACA,6CACA,yCACA,0BACA,mCACA,6CACA,gDAIA,iDACA,4DACA,0DACA,8BACA,gCACA,uCACA,wBACA,yCACA,gDACA,+BACA,kCACA,4BACA,gCACA,yCACA,yCACA,2CACA,kCACA,sCACA,iDACA,4DACA,iDACA,sCACA,kCACA,4BACA,8BACA,yCACA,2DACA,4BACA,uCAIA,oCAIA,gCACA,oCACA,qDACA,uCACA,8CACA,4BACA,4BACA,8BACA,wBACA,0CACA,+DACA,sCACA,mDACA,0DACA,4BACA,0BACA,qCACA,0BACA,4BACA,kCAIA,kCAIA,0BACA,iCACA,sCACA,6BACA,8BACA,4BACA,mCACA,oDACA,gDACA,8BACA,uCAIA,uCACA,iCACA,kCACA,qDACA,wCACA,sEACA,8BACA,4BACA,mCACA,uCACA,kDACA,yCACA,0BACA,gCACA,8BACA,0BACA,mCACA,+BACA,gCACA,4BACA,yCACA,yCACA,qCACA,0BACA,2CACA,yCACA,wCACA,0BAIA,4BACA,qCACA,8BACA,wBACA,0BACA,4BACA,uCACA,mCACA,oCACA,4BACA,4CACA,qCACA,uCACA,yDACA,4BAIA,uCACA,8BACA,8BACA,mCACA,0BACA,qCACA,qCACA,uCACA,gDACA,yDACA,mCACA,qCACA,mCACA,4CACA,yCACA,4BACA,uCACA,2CACA,iCACA,qCAIA,4BACA,uCACA,8BACA,uCACA,qCACA,qCACA,yCACA,yCAIA,0BACA,iDACA,mCACA,qCACA,8BAIA,4BAhZD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAsZ5B,SAAYC,GAGX,yBACA,yCACA,2CACA,qCACA,qCACA,uCACA,iCACA,kCACA,qCACA,yDACA,yDACA,qCACA,2CACA,uCACA,2DACA,+DACA,oDACA,2CACA,iCACA,kCACA,sBACA,qCAIA,gCACA,kCACA,2CACA,2CACA,2CACA,yCACA,wBACA,gCACA,yCACA,0BACA,mCACA,0BACA,qCACA,0BACA,0BACA,mCACA,wBACA,uCACA,qCACA,wBACA,4BAIA,yCACA,kCACA,yCACA,6CACA,yCACA,2CACA,8BACA,qCACA,qCACA,gDACA,kCACA,qCACA,qCACA,uCACA,iCACA,gDACA,2CACA,qCACA,mCACA,yCACA,qCACA,mCACA,yCACA,6BACA,4BACA,yCACA,yCACA,2CACA,qCACA,8BACA,yCACA,qDACA,uCACA,uCACA,oCACA,mDACA,4BACA,kDACA,4BACA,4BACA,4CACA,6CACA,0BACA,qCACA,4BACA,kCACA,gCACA,yCACA,2CACA,kCACA,uCACA,kCACA,0BACA,oCACA,uCACA,4BAIA,kCACA,6BACA,uCACA,yCACA,gCACA,kCAIA,yBACA,4BACA,kCACA,mDACA,kCACA,8BACA,mCACA,wCACA,8BACA,wBACA,mCAIA,8BACA,2CACA,yCACA,0BACA,qCACA,2CACA,2CACA,qCACA,uCACA,qCACA,yCACA,uCACA,qCACA,qCACA,iCACA,iCACA,6CACA,qCACA,mCACA,uCACA,8BACA,0BACA,iDACA,uCACA,8BACA,uCACA,0CACA,gCACA,yCACA,yCACA,8BAIA,0BACA,4BACA,4BAIA,gCACA,qCACA,gCACA,kCACA,oCACA,+CACA,4BACA,2CACA,qCAIA,4BACA,4BACA,qCACA,0BAIA,wBACA,kCACA,yCAIA,8BACA,6CACA,qCACA,4CACA,qCACA,4CACA,uCACA,8CACA,iCACA,wCACA,0BACA,wDACA,+CACA,0DACA,uCACA,kDACA,qCACA,0BACA,qCACA,+BACA,mCACA,+BACA,6CACA,uDACA,6CACA,yCACA,0BACA,mCACA,6CACA,gDAIA,iDACA,4DACA,0DACA,8BACA,gCACA,uCACA,wBACA,yCACA,gDACA,+BACA,kCACA,4BACA,gCACA,yCACA,yCACA,2CACA,kCACA,sCACA,iDACA,4DACA,iDACA,sCACA,kCACA,4BACA,8BACA,yCACA,2DACA,4BACA,uCAIA,oCAIA,gCACA,oCACA,qDACA,uCACA,8CACA,4BACA,4BACA,wBACA,8BACA,0CACA,+DACA,sCACA,mDACA,0DACA,4BACA,0BACA,qCACA,0BACA,4BACA,kCAIA,kCAIA,0BACA,iCACA,sCACA,6BACA,8BACA,4BACA,mCACA,oDACA,gDACA,8BACA,uCAIA,uCACA,iCACA,kCACA,qDACA,wCACA,sEACA,8BACA,4BACA,mCACA,uCACA,kDACA,yCACA,0BACA,gCACA,8BACA,0BACA,mCACA,+BACA,gCACA,4BACA,yCACA,yCACA,qCACA,4BACA,0BACA,2CACA,yCACA,wCACA,0BAIA,4BACA,qCACA,8BACA,wBACA,0BACA,4BACA,uCACA,mCACA,oCACA,4BACA,4BACA,4CACA,qCACA,uCACA,yDACA,4BAIA,uCACA,8BACA,8BACA,mCACA,0BACA,qCACA,qCACA,uCACA,gDACA,yDACA,mCACA,qCACA,mCACA,4CACA,yCACA,4BACA,uCACA,2CACA,iCACA,qCAIA,4BACA,uCACA,8BACA,uCACA,qCACA,qCACA,yCACA,yCAIA,0BACA,iDACA,mCACA,qCACA,8BAIA,4BAlZD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAwZ5B,SAAYC,GAGX,2BACA,2CACA,6CACA,uCACA,uCACA,yCACA,mCACA,oCACA,uCACA,2DACA,2DACA,uCACA,6CACA,yCACA,6DACA,iEACA,sDACA,6CACA,mCACA,oCACA,wBACA,uCAIA,kCACA,oCACA,6CACA,6CACA,6CACA,2CACA,0BACA,kCACA,2CACA,4BACA,qCACA,4BACA,uCACA,4BACA,4BACA,qCACA,0BACA,yCACA,uCACA,0BACA,8BAIA,2CACA,oCACA,2CACA,+CACA,2CACA,6CACA,gCACA,uCACA,uCACA,kDACA,oCACA,uCACA,uCACA,yCACA,mCACA,kDACA,6CACA,uCACA,qCACA,2CACA,uCACA,qCACA,2CACA,+BACA,8BACA,2CACA,2CACA,6CACA,uCACA,gCACA,2CACA,uDACA,yCACA,yCACA,sCACA,qDACA,8BACA,oDACA,8BACA,8BACA,8CACA,+CACA,4BACA,uCACA,8BACA,oCACA,kCACA,2CACA,6CACA,oCACA,yCACA,oCACA,4BACA,sCACA,yCACA,8BAIA,oCACA,+BACA,yCACA,2CACA,kCACA,oCAIA,2BACA,8BACA,oCACA,qDACA,oCACA,gCACA,qCACA,0CACA,gCACA,0BACA,qCAIA,gCACA,6CACA,2CACA,4BACA,uCACA,6CACA,6CACA,uCACA,yCACA,uCACA,2CACA,yCACA,uCACA,uCACA,mCACA,mCACA,+CACA,uCACA,qCACA,yCACA,gCACA,4BACA,mDACA,yCACA,gCACA,yCACA,4CACA,kCACA,2CACA,2CACA,gCAIA,4BACA,8BACA,8BAIA,kCACA,uCACA,kCACA,oCACA,sCACA,iDACA,8BACA,6CACA,uCAIA,8BACA,8BACA,uCACA,4BAIA,0BACA,oCACA,2CAIA,gCACA,+CACA,uCACA,8CACA,uCACA,8CACA,yCACA,gDACA,mCACA,0CACA,4BACA,0DACA,iDACA,4DACA,yCACA,oDACA,uCACA,4BACA,uCACA,iCACA,qCACA,iCACA,+CACA,yDACA,+CACA,2CACA,4BACA,qCACA,+CACA,kDAIA,mDACA,8DACA,4DACA,gCACA,kCACA,yCACA,0BACA,2CACA,kDACA,iCACA,oCACA,8BACA,kCACA,2CACA,2CACA,6CACA,oCACA,wCACA,mDACA,8DACA,mDACA,wCACA,oCACA,8BACA,gCACA,2CACA,6DACA,8BACA,yCAIA,sCAIA,kCACA,sCACA,uDACA,yCACA,gDACA,8BACA,8BACA,0BACA,gCACA,4CACA,iEACA,wCACA,qDACA,4DACA,8BACA,4BACA,uCACA,4BACA,8BACA,oCAIA,oCAIA,4BACA,mCACA,wCACA,+BACA,gCACA,8BACA,qCACA,sDACA,kDACA,gCACA,yCAIA,yCACA,mCACA,oCACA,uDACA,0CACA,wEACA,gCACA,8BACA,qCACA,yCACA,oDACA,2CACA,4BACA,kCACA,gCACA,4BACA,qCACA,iCACA,kCACA,8BACA,2CACA,2CACA,uCACA,8BACA,4BACA,6CACA,2CACA,0CACA,4BAIA,8BACA,uCACA,gCACA,0BACA,4BACA,8BACA,yCACA,qCACA,sCACA,8BACA,8BACA,8CACA,uCACA,yCACA,2DACA,8BAIA,yCACA,gCACA,gCACA,qCACA,4BACA,uCACA,uCACA,yCACA,kDACA,2DACA,qCACA,uCACA,qCACA,8CACA,2CACA,8BACA,yCACA,6CACA,mCACA,uCAIA,8BACA,yCACA,gCACA,yCACA,uCACA,uCACA,2CACA,2CAIA,4BACA,mDACA,qCACA,uCACA,gCAIA,8BAlZD,CAAYA,mBAAA,QAAAA,qBAAA,QAAAA,mBAAkB,KAwZ9B,SAAYC,GAGX,2BACA,2CACA,6CACA,uCACA,uCACA,yCACA,mCACA,oCACA,uCACA,2DACA,2DACA,uCACA,6CACA,yCACA,6DACA,iEACA,sDACA,6CACA,mCACA,oCACA,wBACA,uCAIA,kCACA,oCACA,6CACA,6CACA,6CACA,2CACA,0BACA,kCACA,2CACA,4BACA,qCACA,4BACA,uCACA,4BACA,4BACA,qCACA,0BACA,yCACA,uCACA,0BACA,8BAIA,2CACA,oCACA,2CACA,+CACA,2CACA,6CACA,gCACA,uCACA,uCACA,kDACA,oCACA,uCACA,uCACA,yCACA,mCACA,kDACA,6CACA,uCACA,qCACA,2CACA,uCACA,qCACA,2CACA,+BACA,8BACA,2CACA,2CACA,6CACA,uCACA,gCACA,2CACA,uDACA,yCACA,yCACA,sCACA,qDACA,8BACA,oDACA,8BACA,8BACA,8CACA,+CACA,4BACA,uCACA,8BACA,oCACA,kCACA,2CACA,6CACA,oCACA,yCACA,oCACA,4BACA,sCACA,yCACA,8BAIA,oCACA,+BACA,yCACA,2CACA,kCACA,oCAIA,2BACA,8BACA,oCACA,qDACA,oCACA,gCACA,qCACA,0CACA,gCACA,0BACA,qCAIA,gCACA,6CACA,2CACA,4BACA,uCACA,6CACA,6CACA,uCACA,yCACA,uCACA,2CACA,yCACA,uCACA,uCACA,mCACA,mCACA,+CACA,uCACA,qCACA,yCACA,gCACA,4BACA,mDACA,yCACA,gCACA,yCACA,4CACA,kCACA,2CACA,2CACA,gCAIA,4BACA,8BACA,8BAIA,kCACA,uCACA,kCACA,oCACA,sCACA,iDACA,8BACA,6CACA,uCAIA,8BACA,8BACA,uCACA,4BAIA,0BACA,oCACA,2CAIA,gCACA,+CACA,uCACA,8CACA,uCACA,8CACA,yCACA,gDACA,mCACA,0CACA,4BACA,0DACA,iDACA,4DACA,yCACA,oDACA,uCACA,4BACA,uCACA,iCACA,qCACA,iCACA,+CACA,yDACA,+CACA,2CACA,4BACA,qCACA,+CACA,kDAIA,mDACA,8DACA,4DACA,gCACA,kCACA,yCACA,0BACA,2CACA,kDACA,iCACA,oCACA,8BACA,kCACA,2CACA,2CACA,6CACA,oCACA,wCACA,mDACA,8DACA,mDACA,wCACA,oCACA,8BACA,gCACA,2CACA,6DACA,8BACA,yCAIA,sCAIA,kCACA,sCACA,uDACA,yCACA,gDACA,8BACA,8BACA,0BACA,gCACA,4CACA,iEACA,wCACA,qDACA,4DACA,8BACA,4BACA,uCACA,4BACA,8BACA,oCAIA,oCAIA,4BACA,mCACA,wCACA,+BACA,gCACA,8BACA,qCACA,sDACA,kDACA,gCACA,yCAIA,yCACA,mCACA,oCACA,uDACA,0CACA,wEACA,gCACA,8BACA,qCACA,yCACA,oDACA,2CACA,4BACA,kCACA,gCACA,4BACA,qCACA,iCACA,kCACA,8BACA,2CACA,2CACA,uCACA,8BACA,4BACA,6CACA,2CACA,0CACA,4BAIA,8BACA,uCACA,gCACA,0BACA,4BACA,8BACA,yCACA,qCACA,sCACA,8BACA,8BACA,8CACA,uCACA,yCACA,2DACA,8BAIA,yCACA,gCACA,gCACA,qCACA,4BACA,uCACA,uCACA,yCACA,kDACA,2DACA,qCACA,uCACA,qCACA,8CACA,2CACA,8BACA,yCACA,6CACA,mCACA,uCAIA,8BACA,yCACA,gCACA,yCACA,uCACA,uCACA,2CACA,2CAIA,4BACA,mDACA,qCACA,uCACA,gCAIA,8BAlZD,CAAYA,mBAAA,QAAAA,qBAAA,QAAAA,mBAAkB,KAwZ9B,SAAYC,GAGX,wBACA,wCACA,0CACA,oCACA,oCACA,sCACA,gCACA,iCACA,oCACA,wDACA,wDACA,oCACA,0CACA,sCACA,0DACA,8DACA,mDACA,0CACA,gCACA,iCACA,qBACA,oCAIA,+BACA,iCACA,0CACA,0CACA,0CACA,wCACA,uBACA,+BACA,wCACA,yBACA,kCACA,yBACA,oCACA,yBACA,yBACA,kCACA,uBACA,sCACA,oCACA,uBACA,2BAIA,wCACA,iCACA,wCACA,4CACA,wCACA,0CACA,6BACA,oCACA,oCACA,+CACA,iCACA,oCACA,oCACA,sCACA,gCACA,+CACA,0CACA,oCACA,kCACA,wCACA,oCACA,kCACA,wCACA,4BACA,2BACA,wCACA,wCACA,0CACA,oCACA,6BACA,wCACA,oDACA,sCACA,sCACA,mCACA,kDACA,2BACA,iDACA,2BACA,2BACA,2CACA,4CACA,yBACA,oCACA,2BACA,iCACA,+BACA,wCACA,0CACA,iCACA,sCACA,iCACA,yBACA,mCACA,sCACA,2BAIA,iCACA,4BACA,sCACA,wCACA,+BACA,iCAIA,wBACA,2BACA,iCACA,kDACA,iCACA,6BACA,kCACA,uCACA,6BACA,uBACA,kCAIA,6BACA,0CACA,wCACA,yBACA,oCACA,0CACA,0CACA,oCACA,sCACA,oCACA,wCACA,sCACA,oCACA,oCACA,gCACA,gCACA,4CACA,oCACA,kCACA,sCACA,6BACA,yBACA,gDACA,sCACA,6BACA,sCACA,yCACA,+BACA,wCACA,wCACA,6BAIA,yBACA,2BACA,2BAIA,+BACA,oCACA,+BACA,iCACA,mCACA,8CACA,2BACA,0CACA,oCAIA,2BACA,2BACA,oCACA,yBAIA,uBACA,iCACA,wCAIA,6BACA,4CACA,oCACA,2CACA,oCACA,2CACA,sCACA,6CACA,gCACA,uCACA,yBACA,uDACA,8CACA,yDACA,sCACA,iDACA,oCACA,yBACA,oCACA,8BACA,kCACA,8BACA,4CACA,sDACA,4CACA,wCACA,yBACA,kCACA,4CACA,+CAIA,gDACA,2DACA,yDACA,6BACA,+BACA,sCACA,uBACA,wCACA,+CACA,8BACA,iCACA,2BACA,+BACA,wCACA,wCACA,0CACA,iCACA,qCACA,gDACA,2DACA,gDACA,qCACA,iCACA,2BACA,6BACA,wCACA,0DACA,2BACA,sCAIA,mCAIA,+BACA,mCACA,oDACA,sCACA,6CACA,2BACA,2BACA,uBACA,6BACA,yCACA,8DACA,qCACA,kDACA,yDACA,2BACA,yBACA,oCACA,yBACA,2BACA,iCAIA,iCAIA,yBACA,gCACA,qCACA,4BACA,6BACA,2BACA,kCACA,mDACA,+CACA,6BACA,sCAIA,sCACA,gCACA,iCACA,oDACA,uCACA,qEACA,6BACA,2BACA,kCACA,sCACA,iDACA,wCACA,yBACA,+BACA,6BACA,yBACA,kCACA,8BACA,+BACA,2BACA,wCACA,wCACA,oCACA,2BACA,yBACA,0CACA,wCACA,uCACA,yBAIA,2BACA,oCACA,6BACA,uBACA,yBACA,2BACA,sCACA,kCACA,mCACA,2BACA,2BACA,2CACA,oCACA,sCACA,wDACA,2BAIA,sCACA,6BACA,6BACA,kCACA,yBACA,oCACA,oCACA,sCACA,+CACA,wDACA,kCACA,oCACA,kCACA,2CACA,wCACA,2BACA,sCACA,0CACA,gCACA,oCAIA,2BACA,sCACA,6BACA,sCACA,oCACA,oCACA,wCACA,wCAIA,yBACA,gDACA,kCACA,oCACA,6BAIA,2BAlZD,CAAYA,gBAAA,QAAAA,kBAAA,QAAAA,gBAAe,KA4Z3B,SAAYC,GAGX,kCACA,kDACA,oDACA,8CACA,8CACA,gDACA,0CACA,2CACA,8CACA,kEACA,kEACA,8CACA,oDACA,gDACA,oEACA,wEACA,6DACA,oDACA,0CACA,2CACA,+BACA,8CAIA,yCACA,2CACA,oDACA,oDACA,oDACA,kDACA,iCACA,yCACA,kDACA,mCACA,4CACA,mCACA,8CACA,mCACA,mCACA,4CACA,iCACA,gDACA,8CACA,iCACA,qCAIA,kDACA,2CACA,kDACA,sDACA,kDACA,oDACA,uCACA,8CACA,8CACA,yDACA,2CACA,8CACA,8CACA,gDACA,0CACA,yDACA,oDACA,8CACA,4CACA,kDACA,8CACA,4CACA,kDACA,sCACA,qCACA,kDACA,kDACA,oDACA,8CACA,uCACA,kDACA,8DACA,gDACA,gDACA,6CACA,4DACA,qCACA,2DACA,qCACA,qCACA,qDACA,sDACA,mCACA,8CACA,qCACA,2CACA,yCACA,kDACA,oDACA,2CACA,gDACA,2CACA,mCACA,6CACA,gDACA,qCAIA,2CACA,sCACA,gDACA,kDACA,yCACA,2CAIA,kCACA,qCACA,2CACA,4DACA,2CACA,uCACA,4CACA,iDACA,uCACA,iCACA,4CAIA,uCACA,oDACA,kDACA,mCACA,8CACA,oDACA,oDACA,8CACA,gDACA,8CACA,kDACA,gDACA,8CACA,8CACA,0CACA,0CACA,sDACA,8CACA,4CACA,gDACA,uCACA,mCACA,0DACA,gDACA,uCACA,gDACA,mDACA,yCACA,kDACA,kDACA,uCAIA,mCACA,qCACA,qCAIA,yCACA,8CACA,yCACA,2CACA,6CACA,wDACA,qCACA,oDACA,8CAIA,qCACA,qCACA,8CACA,mCAIA,iCACA,2CACA,kDAIA,uCACA,sDACA,8CACA,qDACA,8CACA,qDACA,gDACA,uDACA,0CACA,iDACA,mCACA,iEACA,wDACA,mEACA,gDACA,2DACA,8CACA,mCACA,8CACA,wCACA,4CACA,wCACA,sDACA,gEACA,sDACA,kDACA,mCACA,4CACA,sDACA,yDAIA,0DACA,qEACA,mEACA,uCACA,yCACA,gDACA,iCACA,kDACA,yDACA,wCACA,2CACA,qCACA,yCACA,kDACA,kDACA,oDACA,2CACA,+CACA,0DACA,qEACA,0DACA,+CACA,2CACA,qCACA,uCACA,kDACA,oEACA,qCACA,gDAIA,6CAIA,yCACA,6CACA,8DACA,gDACA,uDACA,qCACA,qCACA,uCACA,iCACA,mDACA,wEACA,+CACA,4DACA,mEACA,qCACA,mCACA,8CACA,mCACA,qCACA,2CAIA,2CAIA,mCACA,0CACA,+CACA,sCACA,uCACA,qCACA,4CACA,6DACA,yDACA,uCACA,gDAIA,gDACA,0CACA,2CACA,8DACA,iDACA,+EACA,uCACA,qCACA,4CACA,gDACA,2DACA,kDACA,mCACA,yCACA,uCACA,mCACA,4CACA,wCACA,yCACA,qCACA,kDACA,kDACA,8CACA,mCACA,oDACA,kDACA,iDACA,mCAIA,qCACA,8CACA,uCACA,iCACA,mCACA,qCACA,gDACA,4CACA,6CACA,qCACA,qDACA,8CACA,gDACA,kEACA,qCAIA,gDACA,uCACA,uCACA,4CACA,mCACA,8CACA,8CACA,gDACA,yDACA,kEACA,4CACA,8CACA,4CACA,qDACA,kDACA,qCACA,gDACA,oDACA,0CACA,8CAIA,qCACA,gDACA,uCACA,gDACA,8CACA,8CACA,kDACA,kDAIA,mCACA,0DACA,4CACA,8CACA,uCAIA,qCAhZD,CAAYA,eAAA,QAAAA,iBAAA,QAAAA,eAAc,KAsZ1B,SAAYC,GAGX,kCACA,kDACA,oDACA,8CACA,8CACA,gDACA,0CACA,2CACA,8CACA,kEACA,kEACA,8CACA,oDACA,gDACA,oEACA,wEACA,6DACA,oDACA,0CACA,2CACA,+BACA,8CAIA,yCACA,2CACA,oDACA,oDACA,oDACA,kDACA,iCACA,yCACA,kDACA,mCACA,4CACA,mCACA,8CACA,mCACA,mCACA,4CACA,iCACA,gDACA,8CACA,iCACA,qCAIA,kDACA,2CACA,kDACA,sDACA,kDACA,oDACA,uCACA,8CACA,8CACA,yDACA,2CACA,8CACA,8CACA,gDACA,0CACA,yDACA,oDACA,8CACA,4CACA,kDACA,8CACA,4CACA,kDACA,sCACA,qCACA,kDACA,kDACA,oDACA,8CACA,uCACA,kDACA,8DACA,gDACA,gDACA,6CACA,4DACA,qCACA,2DACA,qCACA,qCACA,qDACA,sDACA,mCACA,8CACA,qCACA,2CACA,yCACA,kDACA,oDACA,2CACA,gDACA,2CACA,mCACA,6CACA,gDACA,qCAIA,2CACA,sCACA,gDACA,kDACA,yCACA,2CAIA,kCACA,qCACA,2CACA,4DACA,2CACA,uCACA,4CACA,iDACA,uCACA,iCACA,4CAIA,uCACA,oDACA,kDACA,mCACA,8CACA,oDACA,oDACA,8CACA,gDACA,8CACA,kDACA,gDACA,8CACA,8CACA,0CACA,0CACA,sDACA,8CACA,4CACA,gDACA,uCACA,mCACA,0DACA,gDACA,uCACA,gDACA,mDACA,yCACA,kDACA,kDACA,uCAIA,mCACA,qCACA,qCAIA,yCACA,8CACA,yCACA,2CACA,6CACA,wDACA,qCACA,oDACA,8CAIA,qCACA,qCACA,8CACA,mCAIA,iCACA,2CACA,kDAIA,uCACA,sDACA,8CACA,qDACA,8CACA,qDACA,gDACA,uDACA,0CACA,iDACA,mCACA,iEACA,wDACA,mEACA,gDACA,2DACA,8CACA,mCACA,8CACA,wCACA,4CACA,wCACA,sDACA,gEACA,sDACA,kDACA,mCACA,4CACA,sDACA,yDAIA,0DACA,qEACA,mEACA,uCACA,yCACA,gDACA,iCACA,kDACA,yDACA,wCACA,2CACA,qCACA,yCACA,kDACA,kDACA,oDACA,2CACA,+CACA,0DACA,qEACA,0DACA,+CACA,2CACA,qCACA,uCACA,kDACA,oEACA,qCACA,gDAIA,6CAIA,yCACA,6CACA,8DACA,gDACA,uDACA,qCACA,qCACA,iCACA,uCACA,mDACA,wEACA,+CACA,4DACA,mEACA,qCACA,mCACA,8CACA,mCACA,qCACA,2CAIA,2CAIA,mCACA,0CACA,+CACA,sCACA,uCACA,qCACA,4CACA,6DACA,yDACA,uCACA,gDAIA,gDACA,0CACA,2CACA,8DACA,iDACA,+EACA,uCACA,qCACA,4CACA,gDACA,2DACA,kDACA,mCACA,yCACA,uCACA,mCACA,4CACA,wCACA,yCACA,qCACA,kDACA,kDACA,8CACA,qCACA,mCACA,oDACA,kDACA,iDACA,mCAIA,qCACA,8CACA,uCACA,iCACA,mCACA,qCACA,gDACA,4CACA,6CACA,qCACA,qCACA,qDACA,8CACA,gDACA,kEACA,qCAIA,gDACA,uCACA,uCACA,4CACA,mCACA,8CACA,8CACA,gDACA,yDACA,kEACA,4CACA,8CACA,4CACA,qDACA,kDACA,qCACA,gDACA,oDACA,0CACA,8CAIA,qCACA,gDACA,uCACA,gDACA,8CACA,8CACA,kDACA,kDAIA,mCACA,0DACA,4CACA,8CACA,uCAIA,qCAlZD,CAAYA,eAAA,QAAAA,iBAAA,QAAAA,eAAc,KAwZ1B,SAAYC,GAGX,oCACA,oDACA,sDACA,gDACA,gDACA,kDACA,4CACA,6CACA,gDACA,oEACA,oEACA,gDACA,sDACA,kDACA,sEACA,0EACA,+DACA,sDACA,4CACA,6CACA,iCACA,gDAIA,2CACA,6CACA,sDACA,sDACA,sDACA,oDACA,mCACA,2CACA,oDACA,qCACA,8CACA,qCACA,gDACA,qCACA,qCACA,8CACA,mCACA,kDACA,gDACA,mCACA,uCAIA,oDACA,6CACA,oDACA,wDACA,oDACA,sDACA,yCACA,gDACA,gDACA,2DACA,6CACA,gDACA,gDACA,kDACA,4CACA,2DACA,sDACA,gDACA,8CACA,oDACA,gDACA,8CACA,oDACA,wCACA,uCACA,oDACA,oDACA,sDACA,gDACA,yCACA,oDACA,gEACA,kDACA,kDACA,+CACA,8DACA,uCACA,6DACA,uCACA,uCACA,uDACA,wDACA,qCACA,gDACA,uCACA,6CACA,2CACA,oDACA,sDACA,6CACA,kDACA,6CACA,qCACA,+CACA,kDACA,uCAIA,6CACA,wCACA,kDACA,oDACA,2CACA,6CAIA,oCACA,uCACA,6CACA,8DACA,6CACA,yCACA,8CACA,mDACA,yCACA,mCACA,8CAIA,yCACA,sDACA,oDACA,qCACA,gDACA,sDACA,sDACA,gDACA,kDACA,gDACA,oDACA,kDACA,gDACA,gDACA,4CACA,4CACA,wDACA,gDACA,8CACA,kDACA,yCACA,qCACA,4DACA,kDACA,yCACA,kDACA,qDACA,2CACA,oDACA,oDACA,yCAIA,qCACA,uCACA,uCAIA,2CACA,gDACA,2CACA,6CACA,+CACA,0DACA,uCACA,sDACA,gDAIA,uCACA,uCACA,gDACA,qCAIA,mCACA,6CACA,oDAIA,yCACA,wDACA,gDACA,uDACA,gDACA,uDACA,kDACA,yDACA,4CACA,mDACA,qCACA,mEACA,0DACA,qEACA,kDACA,6DACA,gDACA,qCACA,gDACA,0CACA,8CACA,0CACA,wDACA,kEACA,wDACA,oDACA,qCACA,8CACA,wDACA,2DAIA,4DACA,uEACA,qEACA,yCACA,2CACA,kDACA,mCACA,oDACA,2DACA,0CACA,6CACA,uCACA,2CACA,oDACA,oDACA,sDACA,6CACA,iDACA,4DACA,uEACA,4DACA,iDACA,6CACA,uCACA,yCACA,oDACA,sEACA,uCACA,kDAIA,+CAIA,2CACA,+CACA,gEACA,kDACA,yDACA,uCACA,uCACA,mCACA,yCACA,qDACA,0EACA,iDACA,8DACA,qEACA,uCACA,qCACA,gDACA,qCACA,uCACA,6CAIA,6CAIA,qCACA,4CACA,iDACA,wCACA,yCACA,uCACA,8CACA,+DACA,2DACA,yCACA,kDAIA,kDACA,4CACA,6CACA,gEACA,mDACA,iFACA,yCACA,uCACA,8CACA,kDACA,6DACA,oDACA,qCACA,2CACA,yCACA,qCACA,8CACA,0CACA,2CACA,uCACA,oDACA,oDACA,gDACA,uCACA,qCACA,sDACA,oDACA,mDACA,qCAIA,uCACA,gDACA,yCACA,mCACA,qCACA,uCACA,kDACA,8CACA,+CACA,uCACA,uCACA,uDACA,gDACA,kDACA,oEACA,uCAIA,kDACA,yCACA,yCACA,8CACA,qCACA,gDACA,gDACA,kDACA,2DACA,oEACA,8CACA,gDACA,8CACA,uDACA,oDACA,uCACA,kDACA,sDACA,4CACA,gDAIA,uCACA,kDACA,yCACA,kDACA,gDACA,gDACA,oDACA,oDAIA,qCACA,4DACA,8CACA,gDACA,yCAIA,uCAlZD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAwZ5B,SAAYC,GAGX,oCACA,oDACA,sDACA,gDACA,gDACA,kDACA,4CACA,6CACA,gDACA,oEACA,oEACA,gDACA,sDACA,kDACA,sEACA,0EACA,+DACA,sDACA,4CACA,6CACA,iCACA,gDAIA,2CACA,6CACA,sDACA,sDACA,sDACA,oDACA,mCACA,2CACA,oDACA,qCACA,8CACA,qCACA,gDACA,qCACA,qCACA,8CACA,mCACA,kDACA,gDACA,mCACA,uCAIA,oDACA,6CACA,oDACA,wDACA,oDACA,sDACA,yCACA,gDACA,gDACA,2DACA,6CACA,gDACA,gDACA,kDACA,4CACA,2DACA,sDACA,gDACA,8CACA,oDACA,gDACA,8CACA,oDACA,wCACA,uCACA,oDACA,oDACA,sDACA,gDACA,yCACA,oDACA,gEACA,kDACA,kDACA,+CACA,8DACA,uCACA,6DACA,uCACA,uCACA,uDACA,wDACA,qCACA,gDACA,uCACA,6CACA,2CACA,oDACA,sDACA,6CACA,kDACA,6CACA,qCACA,+CACA,kDACA,uCAIA,6CACA,wCACA,kDACA,oDACA,2CACA,6CAIA,oCACA,uCACA,6CACA,8DACA,6CACA,yCACA,8CACA,mDACA,yCACA,mCACA,8CAIA,yCACA,sDACA,oDACA,qCACA,gDACA,sDACA,sDACA,gDACA,kDACA,gDACA,oDACA,kDACA,gDACA,gDACA,4CACA,4CACA,wDACA,gDACA,8CACA,kDACA,yCACA,qCACA,4DACA,kDACA,yCACA,kDACA,qDACA,2CACA,oDACA,oDACA,yCAIA,qCACA,uCACA,uCAIA,2CACA,gDACA,2CACA,6CACA,+CACA,0DACA,uCACA,sDACA,gDAIA,uCACA,uCACA,gDACA,qCAIA,mCACA,6CACA,oDAIA,yCACA,wDACA,gDACA,uDACA,gDACA,uDACA,kDACA,yDACA,4CACA,mDACA,qCACA,mEACA,0DACA,qEACA,kDACA,6DACA,gDACA,qCACA,gDACA,0CACA,8CACA,0CACA,wDACA,kEACA,wDACA,oDACA,qCACA,8CACA,wDACA,2DAIA,4DACA,uEACA,qEACA,yCACA,2CACA,kDACA,mCACA,oDACA,2DACA,0CACA,6CACA,uCACA,2CACA,oDACA,oDACA,sDACA,6CACA,iDACA,4DACA,uEACA,4DACA,iDACA,6CACA,uCACA,yCACA,oDACA,sEACA,uCACA,kDAIA,+CAIA,2CACA,+CACA,gEACA,kDACA,yDACA,uCACA,uCACA,mCACA,yCACA,qDACA,0EACA,iDACA,8DACA,qEACA,uCACA,qCACA,gDACA,qCACA,uCACA,6CAIA,6CAIA,qCACA,4CACA,iDACA,wCACA,yCACA,uCACA,8CACA,+DACA,2DACA,yCACA,kDAIA,kDACA,4CACA,6CACA,gEACA,mDACA,iFACA,yCACA,uCACA,8CACA,kDACA,6DACA,oDACA,qCACA,2CACA,yCACA,qCACA,8CACA,0CACA,2CACA,uCACA,oDACA,oDACA,gDACA,uCACA,qCACA,sDACA,oDACA,mDACA,qCAIA,uCACA,gDACA,yCACA,mCACA,qCACA,uCACA,kDACA,8CACA,+CACA,uCACA,uCACA,uDACA,gDACA,kDACA,oEACA,uCAIA,kDACA,yCACA,yCACA,8CACA,qCACA,gDACA,gDACA,kDACA,2DACA,oEACA,8CACA,gDACA,8CACA,uDACA,oDACA,uCACA,kDACA,sDACA,4CACA,gDAIA,uCACA,kDACA,yCACA,kDACA,gDACA,gDACA,oDACA,oDAIA,qCACA,4DACA,8CACA,gDACA,yCAIA,uCAlZD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAwZ5B,SAAYC,GAGX,iCACA,iDACA,mDACA,6CACA,6CACA,+CACA,yCACA,0CACA,6CACA,iEACA,iEACA,6CACA,mDACA,+CACA,mEACA,uEACA,4DACA,mDACA,yCACA,0CACA,8BACA,6CAIA,wCACA,0CACA,mDACA,mDACA,mDACA,iDACA,gCACA,wCACA,iDACA,kCACA,2CACA,kCACA,6CACA,kCACA,kCACA,2CACA,gCACA,+CACA,6CACA,gCACA,oCAIA,iDACA,0CACA,iDACA,qDACA,iDACA,mDACA,sCACA,6CACA,6CACA,wDACA,0CACA,6CACA,6CACA,+CACA,yCACA,wDACA,mDACA,6CACA,2CACA,iDACA,6CACA,2CACA,iDACA,qCACA,oCACA,iDACA,iDACA,mDACA,6CACA,sCACA,iDACA,6DACA,+CACA,+CACA,4CACA,2DACA,oCACA,0DACA,oCACA,oCACA,oDACA,qDACA,kCACA,6CACA,oCACA,0CACA,wCACA,iDACA,mDACA,0CACA,+CACA,0CACA,kCACA,4CACA,+CACA,oCAIA,0CACA,qCACA,+CACA,iDACA,wCACA,0CAIA,iCACA,oCACA,0CACA,2DACA,0CACA,sCACA,2CACA,gDACA,sCACA,gCACA,2CAIA,sCACA,mDACA,iDACA,kCACA,6CACA,mDACA,mDACA,6CACA,+CACA,6CACA,iDACA,+CACA,6CACA,6CACA,yCACA,yCACA,qDACA,6CACA,2CACA,+CACA,sCACA,kCACA,yDACA,+CACA,sCACA,+CACA,kDACA,wCACA,iDACA,iDACA,sCAIA,kCACA,oCACA,oCAIA,wCACA,6CACA,wCACA,0CACA,4CACA,uDACA,oCACA,mDACA,6CAIA,oCACA,oCACA,6CACA,kCAIA,gCACA,0CACA,iDAIA,sCACA,qDACA,6CACA,oDACA,6CACA,oDACA,+CACA,sDACA,yCACA,gDACA,kCACA,gEACA,uDACA,kEACA,+CACA,0DACA,6CACA,kCACA,6CACA,uCACA,2CACA,uCACA,qDACA,+DACA,qDACA,iDACA,kCACA,2CACA,qDACA,wDAIA,yDACA,oEACA,kEACA,sCACA,wCACA,+CACA,gCACA,iDACA,wDACA,uCACA,0CACA,oCACA,wCACA,iDACA,iDACA,mDACA,0CACA,8CACA,yDACA,oEACA,yDACA,8CACA,0CACA,oCACA,sCACA,iDACA,mEACA,oCACA,+CAIA,4CAIA,wCACA,4CACA,6DACA,+CACA,sDACA,oCACA,oCACA,gCACA,sCACA,kDACA,uEACA,8CACA,2DACA,kEACA,oCACA,kCACA,6CACA,kCACA,oCACA,0CAIA,0CAIA,kCACA,yCACA,8CACA,qCACA,sCACA,oCACA,2CACA,4DACA,wDACA,sCACA,+CAIA,+CACA,yCACA,0CACA,6DACA,gDACA,8EACA,sCACA,oCACA,2CACA,+CACA,0DACA,iDACA,kCACA,wCACA,sCACA,kCACA,2CACA,uCACA,wCACA,oCACA,iDACA,iDACA,6CACA,oCACA,kCACA,mDACA,iDACA,gDACA,kCAIA,oCACA,6CACA,sCACA,gCACA,kCACA,oCACA,+CACA,2CACA,4CACA,oCACA,oCACA,oDACA,6CACA,+CACA,iEACA,oCAIA,+CACA,sCACA,sCACA,2CACA,kCACA,6CACA,6CACA,+CACA,wDACA,iEACA,2CACA,6CACA,2CACA,oDACA,iDACA,oCACA,+CACA,mDACA,yCACA,6CAIA,oCACA,+CACA,sCACA,+CACA,6CACA,6CACA,iDACA,iDAIA,kCACA,yDACA,2CACA,6CACA,sCAIA,oCAlZD,CAAYA,cAAA,QAAAA,gBAAA,QAAAA,cAAa,KA4ZzB,SAAYC,GAEX,mBACA,iBACA,qBACA,uBALD,CAAYA,aAAA,QAAAA,eAAA,QAAAA,aAAY,KAQxB,SAAYC,GAEX,+BACA,2BAHD,CAAYA,gBAAA,QAAAA,kBAAA,QAAAA,gBAAe,KAM3B,MAAa2Q,eAAb,oCAYA,SAAY1Q,GAEX,mBACA,eACA,mBAJD,CAAYA,mBAAA,QAAAA,qBAAA,QAAAA,mBAAkB,KAO9B,SAAYC,GAEX,kBACA,kBACA,kBACA,kBACA,gBACA,kBACA,gBARD,CAAYA,gBAAA,QAAAA,kBAAA,QAAAA,gBAAe,KAa3B,SAAYC,GAEX,gCACA,gCACA,8BACA,4BACA,4BACA,gCAPD,CAAYA,eAAA,QAAAA,iBAAA,QAAAA,eAAc,KAU1B,MAAayQ,eAAb,oCASA,MAAaC,kBAAb,0CAMA,MAAaC,2BAAb,4DAOA,MAAaC,0BAA0BD,2BAAvC,4CAUA,SAAY1Q,GAEX,uBACA,2BAHD,CAAYA,kBAAA,QAAAA,oBAAA,QAAAA,kBAAiB,KAM7B,MAAa4Q,iBAAb,wCAmBA,MAAaC,qBAAqBD,iBAAlC,kCAOA,SAAY3Q,GAEX,mBACA,mBAHD,CAAYA,oBAAA,QAAAA,sBAAA,QAAAA,oBAAmB,KAQ/B,SAAYC,GAEX,yBACA,yBACA,qBACA,qBACA,mBACA,mBACA,2BACA,mBACA,mBACA,2BAXD,CAAYA,cAAA,QAAAA,gBAAA,QAAAA,cAAa,KAczB,SAAYC,GAEX,uBACA,mBACA,yBAJD,CAAYA,mBAAA,QAAAA,qBAAA,QAAAA,mBAAkB,KAS9B,SAAYC,GAEX,cACA,kBACA,gBACA,oBALD,CAAYA,cAAA,QAAAA,gBAAA,QAAAA,cAAa,KAQzB,MAAa0Q,uBAAb,oDAMA,SAAYlb,GAEX,mBACA,mBACA,qBACA,uBACA,mBACA,6BACA,2BACA,2CACA,yBACA,+BACA,4BAZD,CAAYA,aAAA,QAAAA,eAAA,QAAAA,aAAY,KAexB,SAAYyK,GAEX,0BACA,wBACA,wBACA,iBALD,CAAYA,sBAAA,QAAAA,wBAAA,QAAAA,sBAAqB,KAQjC,MAAa0Q,2BAAb,4DAUA,MAAaC,sBAAb,kDAcA,SAAY1Q,GAEX,2BACA,uBACA,mBAJD,CAAYA,2BAAA,QAAAA,6BAAA,QAAAA,2BAA0B,KAStC,SAAYC,GAEX,yBACA,yBACA,qBAJD,CAAYA,cAAA,QAAAA,gBAAA,QAAAA,cAAa,KAOzB,SAAYC,GAEX,qBACA,uBAHD,CAAYA,kBAAA,QAAAA,oBAAA,QAAAA,kBAAiB,KAM7B,SAAYC,GAEX,yBACA,2BACA,qBAJD,CAAYA,kBAAA,QAAAA,oBAAA,QAAAA,kBAAiB,KAS7B,SAAYC,GAEX,oBACA,0BAHD,CAAYA,sBAAA,QAAAA,wBAAA,QAAAA,sBAAqB,KAMjC,SAAYC,GAEX,kBACA,gBACA,gBACA,0BALD,CAAYA,oBAAA,QAAAA,sBAAA,QAAAA,oBAAmB,KAQ/B,SAAYC,GAEX,cACA,cACA,kBACA,gBALD,CAAYA,qBAAA,QAAAA,uBAAA,QAAAA,qBAAoB,KAQhC,SAAYC,GAEX,cACA,cAHD,CAAYA,qBAAA,QAAAA,uBAAA,QAAAA,qBAAoB,KAMhC,SAAYC,GAEX,sBACA,kBACA,YACA,kBACA,kBACA,4BAPD,CAAYA,qBAAA,QAAAA,uBAAA,QAAAA,qBAAoB,KAUhC,SAAYC,GAEX,sBACA,0BAHD,CAAYA,sBAAA,QAAAA,wBAAA,QAAAA,sBAAqB,KAQjC,SAAYC,GAEX,yBACA,6BACA,6BAJD,CAAYA,kBAAA,QAAAA,oBAAA,QAAAA,kBAAiB,KAS7B,SAAYC,GAEX,uBACA,iBACA,mBACA,yBACA,2BAND,CAAYA,sBAAA,QAAAA,wBAAA,QAAAA,sBAAqB,KASjC,SAAYC,GAEX,2BACA,uBACA,uBAJD,CAAYA,qBAAA,QAAAA,uBAAA,QAAAA,qBAAoB,KAShC,SAAYC,GAEX,qBACA,mBAHD,CAAYA,eAAA,QAAAA,iBAAA,QAAAA,eAAc,KAQ1B,SAAYrJ,GAEX,qBACA,2BAHD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAM5B,SAAYsJ,GAEX,iCACA,uDACA,mCAJD,CAAYA,qBAAA,QAAAA,uBAAA,QAAAA,qBAAoB,KAOhC,MAAa6P,cAAb,kCAOA,MAAaC,4BAAb,8DAWA,MAAaC,uBAAb,oDAOA,MAAaC,sBAAsB,SAAAC,iBAAnC,oCAWA,MAAaC,4BAA4BF,eAAzC,gDAKA,MAAaG,8BAA8BH,eAA3C,oDAMA,MAAaI,2BAA2B,SAAAH,iBAAxC,8CAKA,MAAaI,qBAAb,gDAQA,MAAaC,qBAAb,gDAOA,MAAaC,6BAAb,gEAUA,MAAaC,8BAAb,kEAWA,SAAYnW,GAEX,YACA,gCACA,cACA,mBACA,YACA,cACA,0BARD,CAAYA,cAAA,QAAAA,gBAAA,QAAAA,cAAa,KAWzB,MAAaoW,mBAAb,4CAOA,MAAaC,oBAAb,8CAWA,SAAYzQ,GAEX,gBACA,kBACA,YAJD,CAAYA,oBAAA,QAAAA,sBAAA,QAAAA,oBAAmB,KAO/B,SAAYC,GAEX,YACA,cACA,kBACA,gBALD,CAAYA,uBAAA,QAAAA,yBAAA,QAAAA,uBAAsB,KAQlC,MAAayQ,WAAb,4BASA,MAAaC,yBAAb,wDAeA,SAAYzQ,GAEX,kBACA,gBACA,YAJD,CAAYA,0BAAA,QAAAA,4BAAA,QAAAA,0BAAyB,KAOrC,SAAYC,GAEX,kBACA,gBACA,YACA,gBACA,cAND,CAAYA,6BAAA,QAAAA,+BAAA,QAAAA,6BAA4B,KASxC,SAAYC,GAEX,kBACA,gBACA,YACA,gBACA,kBACA,cACA,YARD,CAAYA,wBAAA,QAAAA,0BAAA,QAAAA,wBAAuB,KAWnC,MAAawQ,qBAAb,gDAQA,SAAYvQ,GAEX,YACA,cACA,kBACA,gBACA,wBAND,CAAYA,wBAAA,QAAAA,0BAAA,QAAAA,wBAAuB,KASnC,SAAYC,GAEX,kBACA,gBACA,YAJD,CAAYA,qBAAA,QAAAA,uBAAA,QAAAA,qBAAoB,KAOhC,MAAauQ,2BAAb,4DAQA,SAAYtQ,GAEX,cACA,gBACA,kBAJD,CAAYA,2BAAA,QAAAA,6BAAA,QAAAA,2BAA0B,KAOtC,MAAauQ,0BAAb,0DAQA,MAAaC,sBAAb,kDAmBA,SAAYvQ,GAEX,oBACA,oBAHD,CAAYA,yBAAA,QAAAA,2BAAA,QAAAA,yBAAwB,KAMpC,SAAYC,GAEX,cACA,gBACA,kBAJD,CAAYA,sBAAA,QAAAA,wBAAA,QAAAA,sBAAqB,KAOjC,SAAYC,GAEX,YACA,kBACA,kBAJD,CAAYA,uBAAA,QAAAA,yBAAA,QAAAA,uBAAsB,KAOlC,MAAasQ,sBAAb,kDAMA,MAAaC,0BAAb,0DAMA,MAAaC,oBAAb,8CAQA,MAAaC,iBAAb,wCAiBA,MAAaC,sBAAb,kDAMA,MAAaC,yBAAyB,SAAArB,iBAAtC,0CAQA,MAAasB,8BAA8BD,kBAA3C,oDACA,MAAaE,8BAA8BF,kBAA3C,oDACA,MAAaG,8BAA8BH,kBAA3C,oDAEA,MAAaI,wBAAwB,SAAAzB,iBAArC,wCAMA,MAAa0B,6BAA6BD,iBAA1C,kDACA,MAAaE,6BAA6BF,iBAA1C,kDACA,MAAaG,6BAA6BH,iBAA1C,kDAEA,MAAaI,gCAAgC,SAAA7B,iBAA7C,wDAOA,MAAa9V,qBAAqB,SAAAgC,kBAAlC,kCA8BA,SAAYyE,GAEX,qBACA,eACA,uBACA,iCACA,uBACA,iCACA,2BACA,2BACA,+BACA,qBACA,0BACA,8BAbD,CAAYA,yBAAA,QAAAA,2BAAA,QAAAA,yBAAwB,KAgBpC,SAAYC,GAEX,mBACA,qBAHD,CAAYA,0BAAA,QAAAA,4BAAA,QAAAA,0BAAyB,KAMrC,SAAYC,GAEX,qBACA,uBAHD,CAAYA,4BAAA,QAAAA,8BAAA,QAAAA,4BAA2B,KAQvC,SAAYC,GAEX,gBACA,cACA,cACA,cACA,kBACA,wBACA,0BACA,0BACA,sBACA,wBACA,0BACA,wBACA,0BACA,4BACA,8BACA,wBACA,oBACA,0BACA,oBACA,sBACA,cACA,YACA,cACA,gBACA,wBACA,wBACA,mCACA,gBACA,oBACA,oBACA,wBACA,gBACA,gBACA,sBACA,4BACA,cACA,YACA,oBACA,oBACA,wBACA,UACA,wBACA,gCACA,4BACA,wBACA,4BACA,uBACA,8BACA,8BACA,iCACA,8BApDD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAuD5B,SAAYC,GAEX,sBACA,oBACA,wBACA,cALD,CAAYA,wBAAA,QAAAA,0BAAA,QAAAA,wBAAuB,KAQnC,SAAYC,GAEX,0BACA,wBACA,6BACA,+BACA,yBACA,2BACA,yBACA,yBACA,2BACA,kBACA,wBACA,6BACA,+BACA,yBACA,6BACA,gBACA,oBACA,0BACA,cACA,mCACA,mCACA,gBACA,cACA,qBACA,6BACA,cACA,aACA,cACA,0BACA,mBACA,iBACA,wBACA,gBACA,yBACA,aACA,cACA,yBACA,oBACA,gBACA,gBACA,cACA,kBACA,mBACA,kBACA,kBACA,kBACA,2BACA,6BACA,kBACA,0BACA,gBACA,cACA,kBACA,kBACA,kBACA,oBACA,mBACA,qBA3DD,CAAYA,gBAAA,QAAAA,kBAAA,QAAAA,gBAAe,KA8D3B,MAAa8Q,oBAAb,8CASA,MAAaC,wBAAb,sDAcA,SAAY9Q,GAEX,uBACA,6BACA,iCACA,uBACA,iCACA,2BACA,2BACA,+BACA,qBACA,yBAXD,CAAYA,yBAAA,QAAAA,2BAAA,QAAAA,yBAAwB,KAcpC,MAAa+Q,kCAAb,0EAQA,SAAY9Q,GAEX,qBACA,uBAHD,CAAYA,+BAAA,QAAAA,iCAAA,QAAAA,+BAA8B,KAM1C,SAAYC,GAEX,yBACA,6BAHD,CAAYA,mCAAA,QAAAA,qCAAA,QAAAA,mCAAkC,KAM9C,MAAa8Q,0BAAb,0DAQA,MAAaC,gCAAgC,SAAAhW,kBAA7C,wDA0BA,SAAYkF,GAEX,mBACA,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BACA,sBACA,sBACA,sBACA,sBACA,sBACA,uBACA,uBACA,uBACA,uBACA,iBACA,mBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,qBACA,qBACA,qBACA,wBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,0BACA,0BACA,0BACA,0BACA,iBACA,mBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,qBACA,qBACA,qBACA,mBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,qBACA,qBACA,qBACA,kBACA,oBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACA,sBACA,sBACA,sBACA,yBACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,2BACA,2BACA,2BACA,2BACA,oBACA,yBACA,iBACA,mBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,qBACA,qBACA,qBACA,mBACA,qBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,uBACA,uBACA,uBACA,uBACA,oBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACA,sBACA,sBACA,sBACA,qBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,uBACA,uBACA,uBACA,uBACA,yBACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,2BACA,2BACA,2BACA,2BACA,oBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,mBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,uBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBAvQD,CAAYA,MAAA,QAAAA,QAAA,QAAAA,MAAK,KA4QjB,4BAoBA,MAAM4S,gBASN,SAAgBI,SAASC,EAAYC,GAEpC,OAAO,iBAAAta,eAAeua,OAAOF,EAAOC,GAGrC,SAAgBE,cAEf,OAAQC,SAASC,SAAS3J,SAAS,aAGpC,SAAgB4J,SAASvJ,EAAoBwJ,EAAcC,EAAkBC,GAE5E,iBAAA9a,eAAe2a,SAASvJ,EAAUwJ,EAAMC,EAASC,GAGlD,SAAgBC,YAAYC,EAAkB7P,GAE7C,iBAAAnL,eAAe+a,YAAYC,EAAU7P,GAGtC,SAAgB8P,OAAOD,EAAkB7P,GAExC4P,YAAYC,EAAU7P,GAGvB,SAAgB+P,YAAYC,EAAiBhQ,GAE5C,iBAAAnL,eAAekb,YAAYC,EAAShQ,GAGrC,SAAgBiQ,eAAeC,GAM9B,OAJc,IAAIC,QAASlK,IAE1B,iBAAApR,eAAeob,eAAeC,GAAOxI,KAAK,IAAMzB,OAKlD,SAAgBmK,cAAcF,GAM7B,OAJc,IAAIC,QAASlK,IAE1B,iBAAApR,eAAeub,cAAcF,GAAOxI,KAAK,IAAMzB,OAKjD,SAAgBoK,QAAQ7B,EAAahkB,EAAO,WAAY8lB,GAAS,GAEhE,iBAAAzb,eAAewb,QAAQ7B,EAAKhkB,EAAM8lB,GAGnC,SAAgBC,kBAAkB/B,EAAa8B,GAAS,EAAOE,EAA0BpkB,GAGxF,IAAIgZ,EAAQ,IACRC,EAAS,IACD,MAARmL,IAEe,MAAdA,EAAKpL,QAAeA,EAAQoL,EAAKpL,OAClB,MAAfoL,EAAKnL,SAAgBA,EAASmL,EAAKnL,SAKxC,IAAIoL,EAAMpC,OAAQoC,IAAKC,YAAc,EAAIrC,OAAQoC,IAAKE,QAAWtL,EAAS,EACtEuL,EAAOvC,OAAQoC,IAAKI,WAAa,EAAIxC,OAAQoC,IAAKK,QAAW1L,EAAQ,EACzD,MAAZhZ,IAEiB,MAAhBA,EAASqkB,MAAaA,EAAMrkB,EAASqkB,KACpB,MAAjBrkB,EAASwkB,OAAcA,EAAOxkB,EAASwkB,OAI5CvC,OAAO7Q,KAAKgR,EAAK,EAAW,SAAW,GAAI,EAAW,SAASpJ,aAAiBC,UAAeoL,WAAaG,IAAS,IA3EtH,0BAKA,gCAKA,0BAKA,gCAKA,sBAKA,gCAKA,gCASA,8BASA,wBAKA,4CAyBA,MAAaG,mBAAb,4CAMA,MAAaC,uBAMb,SAAgBC,aAAaC,GAE5B,OAAO,iBAAArc,eAAeoc,aAAaC,GAGpC,SAAgBC,oBAAoBvU,GAE9BwU,UAAUC,UAKfD,UAAUC,UAAUC,UAAU1U,GAAM8K,KAAK,IAAM/K,OAAO,aAHrD4U,8BAA8B3U,GAMhC,SAAS2U,8BAA8B3U,GAEtC,IAAI4U,EAAe3b,SAAS4b,cAAc,YAC1CD,EAAatmB,MAAQ0R,EAGrB4U,EAAalM,MAAMmL,IAAM,IACzBe,EAAalM,MAAMsL,KAAO,IAC1BY,EAAalM,MAAMlZ,SAAW,QAG9ByJ,SAASC,KAAK4b,YAAYF,GAC1BA,EAAaG,QACbH,EAAaI,SAEb,IAAU/b,SAASgc,YAAY,SAASlV,OAAO,YAC/C,MAAOwH,IAEPtO,SAASC,KAAKgc,YAAYN,GAG3B,SAAgBO,aAAaC,EAAgBC,EAAkB/lB,GAE9D,OAAO,iBAAA2I,eAAekd,aAAaC,EAAQC,EAAU/lB,GAGtD,SAAgBgmB,cAAcF,GAE7B,OAAO,iBAAAnd,eAAeqd,cAAcF,GAGrC,SAAgBG,cAAcC,GAE7B,OAAO,iBAAAvd,eAAesd,cAAcC,GAGrC,SAAgBC,aAAaL,EAAgBM,EAAc,GAAIC,EAAY,KAE1E,OAAO,iBAAA1d,eAAewd,aAAaL,EAAQM,EAAaC,GAGzD,SAAgB3c,WAAWA,GAK1B,OAHkB,MAAdA,IACH4c,aAAe5c,GAET4c,aAGR,SAAgBC,eAAeA,GAK9B,OAHsB,MAAlBA,IACHC,gBAAkBD,GAEZC,gBA3ER,oDAMA,kCAKA,gDA+BA,kCAKA,oCAKA,oCAKA,kCAKA,8BAQA,sCAQA,SAAYxW,GAEX,qBACA,mBAHD,CAAYA,eAAA,QAAAA,iBAAA,QAAAA,eAAc,KAM1B,SAAY7N,GAEX,mBACA,2BACA,mBACA,2BACA,mCACA,mCACA,qCARD,CAAYA,aAAA,QAAAA,eAAA,QAAAA,aAAY,KAWxB,SAAYM,GAEX,iBACA,qBACA,mBAJD,CAAYA,cAAA,QAAAA,gBAAA,QAAAA,cAAa,KAOzB,SAAYwN,GAEX,2BACA,6BACA,yBACA,6BACA,uCACA,qBACA,mBACA,iDACA,mDAVD,CAAYA,eAAA,QAAAA,iBAAA,QAAAA,eAAc,KAa1B,SAAYC,GAEX,wBACA,oBACA,0BACA,wBACA,gBACA,YACA,wBACA,oBACA,gBAVD,CAAYA,QAAA,QAAAA,UAAA,QAAAA,QAAO,KAanB,MAAauW,8BAAb,kEAOA,MAAaC,6BAA6BD,6BAEzC,YAAYE,GAEXC,QACwB,MAApBD,IAEHhpB,KAAKkpB,aAAeF,EAAiBE,aACrClpB,KAAKmpB,sBAAwBH,EAAiBG,sBAC9CnpB,KAAKopB,sBAAwBJ,EAAiBI,wBATjD,kDAkBA,SAAK5W,GAEJ,oBACA,oBACA,sBACA,uBACA,cAND,CAAKA,kCAAe,KASpB,SAAYC,GAEX,kBACA,cACA,cAJD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAO5B,SAAYC,GAEX,uBACA,cACA,cACA,gBACA,wBACA,kBACA,gBAEA,sBACA,wBACA,gCACA,0BACA,wBACA,sBAfD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAkB5B,MAAa/N,SAYZ,YAAY0kB,GAEC,MAARA,IAEkB,iBAAV,IAEVA,EAAOhG,KAAKiG,gBAAgBD,GAC5BrpB,KAAKupB,mBAAqB5W,iBAAiB6W,QAGxCnG,KAAKoG,cAAcJ,IAEtBA,EAAOA,EACPrpB,KAAK0pB,KAAOL,EAAKM,cACjB3pB,KAAK4pB,MAAQP,EAAKQ,WAAa,EAC/B7pB,KAAK8pB,IAAMT,EAAKU,UAChB/pB,KAAKgqB,MAAQX,EAAKY,WAClBjqB,KAAKkqB,QAAUb,EAAKc,aACpBnqB,KAAKoqB,QAAUf,EAAKgB,aACpBrqB,KAAKsqB,aAAejB,EAAKkB,kBACzBvqB,KAAKupB,mBAAqB5W,iBAAiB0Q,OAK3CgG,EAAOA,EACPrpB,KAAK0pB,KAAOL,EAAKK,KACjB1pB,KAAK4pB,MAAQP,EAAKO,MAClB5pB,KAAK8pB,IAAMT,EAAKS,IAChB9pB,KAAKgqB,MAAQX,EAAKW,MAClBhqB,KAAKkqB,QAAUb,EAAKa,QACpBlqB,KAAKoqB,QAAUf,EAAKe,QACpBpqB,KAAKsqB,aAAejB,EAAKiB,aACzBtqB,KAAKupB,mBAAqB5W,iBAAiBhO,WAKvC,oBAEN,OAAO3E,KAAKupB,mBAGN,sBAEN,OAAOvpB,KAAKwqB,qBAAuB7X,iBAAiBhO,SAG9C,kBAEN,OAAO3E,KAAKwqB,qBAAuB7X,iBAAiB0Q,KAG9C,oBAEN,OAAOrjB,KAAKwqB,qBAAuB7X,iBAAiB6W,OAG9C,SAEN,OAAO7kB,SAAS8lB,OAAOzqB,MAGjB,WAAW0qB,EAAkBC,GAAc,GAEjD,OAAIA,EACI3qB,KAAK0pB,MAAQgB,EAAOhB,MAAQ1pB,KAAK4pB,OAASc,EAAOd,OAAS5pB,KAAK8pB,KAAOY,EAAOZ,IAE7E9pB,KAAK0pB,MAAQgB,EAAOhB,MAAQ1pB,KAAK4pB,OAASc,EAAOd,OAAS5pB,KAAK8pB,KAAOY,EAAOZ,KAAO9pB,KAAKgqB,OAASU,EAAOV,OAC5GhqB,KAAKkqB,SAAWQ,EAAOR,SAAWlqB,KAAKoqB,SAAWM,EAAON,SAAWpqB,KAAKsqB,cAAgBI,EAAOJ,aAG/F,cAAcI,GAEpB,OAAc,MAAVA,GAAkBrH,KAAKoG,cAAciB,GACjCA,EAED,IAAIrH,KAAKqH,EAAOhB,KAAMgB,EAAOd,MAAQ,EAAGc,EAAOZ,IAAKY,EAAOV,MAAOU,EAAOR,QAASQ,EAAON,QAASM,EAAOJ,cAG1G,gBAAgBI,GAEtB,OAAc,MAAVA,EACI,KAED,IAAI/lB,SAAS+lB,GAGd,cAAcE,EAAiBC,EAAkBF,GAAc,GAErE,OAAa,MAATC,GAA2B,MAAVC,GAGdD,EAAME,WAAWD,EAAQF,IAwrBlC,SAASI,YAAYhpB,GAEpB,IAAIipB,EAAY,EAOhB,MANoB,MAAhBjpB,EAAS,KAEZipB,GAAa,EACbjpB,EAAWA,EAASkpB,OAAO,IAGrB,SAAUC,EAAQC,GAExB,IAAIC,EAAYF,EAAEnpB,GACdspB,EAAYF,EAAEppB,GAEQ,iBAAf,IACVqpB,EAAYA,EAAUE,eAEG,iBAAf,IACVD,EAAYA,EAAUC,eAEvB,IAAIC,EAAUH,EAAYC,GAAc,EAAKD,EAAYC,EAAa,EAAI,EAU1E,OAP2B,iBAAf,GAAwC,IAAbD,GAA2C,iBAAf,GAAwC,IAAbC,KAC7FE,EAAuB,IAAbH,EAAmB,GAAK,GAElB,MAAbA,GAAkC,MAAbC,IACxBE,EAAuB,GAAbP,EAAiC,MAAbI,EAAqB,GAAK,EAAoB,MAAbA,GAAsB,EAAI,GAGnFG,EAASP,GAIlB,SAASQ,sBAER,IAAIC,EAAQC,UACZ,OAAO,SAAUC,EAAWC,GAG3B,IADA,IAAIxrB,EAAI,EAAGmrB,EAAS,EAAGM,EAAqBJ,EAAMrgB,OAChC,IAAXmgB,GAAgBnrB,EAAIyrB,GAE1BN,EAASR,YAAYU,EAAMrrB,GAAlB2qB,CAAsBY,EAAMC,GACrCxrB,IAED,OAAOmrB,GA+BT,SAASO,8BAA8BC,EAAcC,GAEpDD,EAAME,KAAK,CAACf,EAAQC,KAEnB,GAAIa,EACJ,CACC,GAAkB,iBAAP,EACX,CACC,MAAME,EAAOhB,EAAIC,EACjB,GAAIe,EACH,OAAOA,MAEJ,IAAkB,iBAAP,EAChB,CAEC,IAAIC,EAAU,IAAI9I,KAAK6H,GACvB,OAAKkB,MAAMD,EAAQE,WAGXnB,EAAEoB,cAAcnB,GAFhB,IAAI9H,KAAK6H,GAAGmB,UAAY,IAAIhJ,KAAK8H,GAAGkB,UAIxC,GAA0C,kBAAtCvrB,OAAOkB,UAAU8a,SAASvc,KAAK2qB,GACvC,OAAO,IAAI7H,KAAK6H,GAAGmB,UAAY,IAAIhJ,KAAK8H,GAAGkB,UAE5C,OAAO,EAIP,GAAkB,iBAAP,EACX,CACC,MAAMH,EAAOf,EAAID,EACjB,GAAIgB,EACH,OAAOA,MAEJ,IAAkB,iBAAP,EAChB,CAEC,IAAIC,EAAU,IAAI9I,KAAK8H,GACvB,OAAKiB,MAAMD,EAAQE,WAGXlB,EAAEmB,cAAcpB,GAFhB,IAAI7H,KAAK8H,GAAGkB,UAAY,IAAIhJ,KAAK6H,GAAGmB,UAIxC,GAA0C,kBAAtCvrB,OAAOkB,UAAU8a,SAASvc,KAAK4qB,GACvC,OAAO,IAAI9H,KAAK8H,GAAGkB,UAAY,IAAIhJ,KAAK6H,GAAGmB,UAE5C,OAAO,IA35BV,0BA6GA,SAAY1Z,GAEX,mBACA,2BACA,uBAJD,CAAYA,iBAAA,QAAAA,mBAAA,QAAAA,iBAAgB,KAuH5B0Q,KAAKkJ,UAAY,IAAIlJ,MAAM,QAC3BA,KAAKmJ,UAAY,IAAInJ,KAAK,QAE1BA,KAAKiG,gBAAkB,SAAUmD,GAEhC,GAAkB,MAAdA,GAAuE,kBAA/C3rB,OAAOkB,UAAU8a,SAASvc,KAAKksB,GAC3D,CACC,IACIC,EADiBD,EAAW3P,WACE6P,MAAM,UAAUC,sBAC9CvD,EAAO,IAAIhG,KAAKqJ,EAAa,GAAIA,EAAa,GAAK,EAAGA,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAIA,EAAa,IAC1HD,EAAa,IAAIpJ,KAAKgG,EAAKvM,YAE5B,OAAO2P,GAGRpJ,KAAKwJ,SAAW,SAAUC,EAAiBC,GAE1C,OAAOD,EAAUT,YAAcU,EAAWV,WAG3ChJ,KAAK2J,2BAA6B,SAAUC,GAE3C,IAAI5D,EAAO,IAAIhG,KAAK4J,GACpB,OAAO,IAAI5J,KAAKgG,EAAKM,cAAeN,EAAKQ,WAAY,IAGtDxG,KAAK6J,0BAA4B,SAAUD,GAE1C,IAAI5D,EAAO,IAAIhG,KAAK4J,GACpB,OAAO,IAAI5J,KAAKgG,EAAKM,cAAeN,EAAKQ,WAAa,EAAG,IAG1DxG,KAAK8J,0BAA4B,SAAUF,GAE1C,IAAI5D,EAAO,IAAIhG,KAAK4J,GAChBnD,EAAMT,EAAK+D,SACdlB,EAAO7C,EAAKU,UAAYD,GAAc,GAAPA,GAAY,EAAI,GAChD,OAAO,IAAIzG,KAAKgG,EAAKgE,QAAQnB,KAG9B7I,KAAKC,kCAAoC,SAAUwJ,EAAiBC,GAEnED,EAAYzJ,KAAKiG,gBAAgBwD,GACjCC,EAAa1J,KAAKiG,gBAAgByD,GAElC,IACIO,GADaR,EAAUT,UAAYU,EAAWV,WACb,IACrC,OAAOkB,KAAKC,IAAIF,EAAoB,KAGrCjK,KAAKoG,cAAgB,SAAUJ,GAE9B,OAAe,MAARA,GAAgBA,aAAgBhG,OAAS+I,MAAM/C,EAAKgD,YAAchD,EAAKgD,WAAa,IAAIhJ,KAAK,EAAG,EAAG,GAAGgJ,WAG9GhJ,KAAKoK,iBAAmB,SAAUpE,GAEjC,OAAO,IAAIhG,KAAKgG,EAAKM,cAAeN,EAAKQ,WAAa,EAAG,GAAGE,WAG7D1G,KAAKqK,mBAAqB,SAAUrE,GAEnC,OAAY,MAARA,IAEHA,EAAOhG,KAAKiG,gBAAgBD,GACxBhG,KAAKoG,cAAcJ,IAEf,CACNS,IAAKT,EAAMU,UACXH,MAAOP,EAAMQ,WAAa,EAC1BH,KAAML,EAAMM,cACZK,MAAOX,EAAMY,WACbC,QAASb,EAAMc,aACfC,QAASf,EAAMgB,aACfsD,aAActE,EAAMkB,mBAIhB,MAGRlH,KAAKrhB,UAAU4rB,gBAAkB,SAAUrsB,EAAqBssB,GAAc,GAE7E,IAAIC,EAAmB,GACvB,OAAQvsB,GAEP,KAAKiD,aAAa6e,KAEhByK,EAAc,CACbpE,KAAM,UACNE,MAAO,UACPE,IAAK,UACLiE,QAAQ,GAGV,MACD,KAAKvpB,aAAawpB,aAEhBF,EAAc,CACbG,QAAS,OACTvE,KAAM,UACNE,MAAO,UACPE,IAAK,UACLiE,QAAQ,GAGV,MACD,KAAKvpB,aAAa0pB,cAEhBJ,EAAc,CACbG,QAAS,QACTvE,KAAM,UACNE,MAAO,UACPE,IAAK,UACLiE,QAAQ,GAGV,MACD,KAAKvpB,aAAa2pB,SAEhBL,EAAc,CACbG,QAAS,OACTvE,KAAM,UACNE,MAAO,OACPE,IAAK,UACLiE,QAAQ,GAGV,MACD,KAAKvpB,aAAaG,SAEhBmpB,EAAc,CACbpE,KAAM,UACNE,MAAO,UACPE,IAAK,UACLsE,KAAM,UACNC,OAAQ,UACRN,QAAQ,GAGLF,IACHC,EAAYjD,OAAS,WAEvB,MACD,KAAKrmB,aAAa8pB,aAEhBR,EAAc,CACbG,QAAS,OACTvE,KAAM,UACNE,MAAO,UACPE,IAAK,UACLsE,KAAM,UACNC,OAAQ,UACRN,QAAQ,GAGLF,IACHC,EAAYjD,OAAS,WAEvB,MACD,KAAKrmB,aAAaC,KAEhBqpB,EAAc,CACbM,KAAM,UACNC,OAAQ,UACRN,QAAQ,GAGLF,IACHC,EAAYjD,OAAS,WAIzB,OAAO7qB,KAAKuuB,eAAeT,EAAa,OAGzCzK,KAAKrhB,UAAUusB,eAAiB,SAAUlsB,EAAqCmsB,GAI9E,OAFoB,IAAIC,KAAKC,eAA4B,MAAZF,EAAoBjH,UAAUiH,SAAWA,EAAUnsB,GACjEssB,OAAO3uB,MAAM4uB,gBAI7CvL,KAAKrhB,UAAU6sB,mBAAqB,WAUnC,OADoB,IAAIJ,KAAKC,eAAqC,KAP3C,CACtBT,QAAS,OACTvE,KAAM,UACNE,MAAO,OACPE,IAAK,UACLiE,QAAQ,IAGYY,OAAO3uB,MAAM4uB,gBAGnCvL,KAAKyL,uBAAyB,SAAUC,EAAcC,EAAYC,EAAcC,EAAYC,GAAQ,GAEnG,OAASA,EAAqFJ,EAAO1C,WAAa6C,EAAK7C,WAAa2C,EAAK3C,WAAa4C,EAAO5C,UAA1I0C,EAAO1C,UAAY6C,EAAK7C,WAAa2C,EAAK3C,UAAY4C,EAAO5C,WAGjFhJ,KAAKrhB,UAAUotB,WAAa,SAAUC,GAErC,IAAIhG,EAAa,IAAIhG,KAAKrjB,KAAKsvB,WAE/B,OADAjG,EAAKkG,YAAYlG,EAAKM,cAAgB0F,GAC/BhG,GAGRhG,KAAKrhB,UAAUwtB,YAAc,SAAUC,GAEtC,IAAIC,EAAW,IAAIrM,KAAKrjB,KAAK2pB,cAAe,EAAG,GAC3CgG,EAAetM,KAAKoK,iBAAiBiC,GAErCrG,EAAa,IAAIhG,KAAKrjB,KAAKsvB,WAC3BM,EAAWvG,EAAKQ,WAAa4F,EAKjC,OAJgB,GAAZG,GAAiBvG,EAAKU,UAAY4F,GACrCtG,EAAKgE,QAAQsC,GAEdtG,EAAKwG,SAASD,GACPvG,GAGRhG,KAAKrhB,UAAU8tB,UAAY,SAAUC,GAEpC,IAAI1G,EAAa,IAAIhG,KAAKrjB,KAAKsvB,WAE/B,OADAjG,EAAKgE,QAAQhE,EAAKU,UAAYgG,GACvB1G,GAGRhG,KAAKrhB,UAAUguB,WAAa,SAAUhG,GAGrC,OADAhqB,KAAKiwB,QAAQjwB,KAAKqsB,UAAqB,GAARrC,EAAa,GAAK,KAC1ChqB,MAGRqjB,KAAKrhB,UAAUkuB,aAAe,SAAUhG,GAGvC,OADAlqB,KAAKiwB,QAAQjwB,KAAKqsB,UAAuB,GAAVnC,EAAe,KACvClqB,MAGRqjB,KAAKrhB,UAAUmuB,aAAe,SAAU/F,GAGvC,OADApqB,KAAKiwB,QAAQjwB,KAAKqsB,UAAuB,IAAVjC,GACxBpqB,MAGRqjB,KAAKrhB,UAAUouB,aAAe,SAAU/G,EAAY9D,GAAS,EAAO8K,GAAY,GAQ/E,OANKA,IAEJrwB,KAAKswB,SAAS,EAAG,EAAG,EAAG,GACvBjH,EAAKiH,SAAS,EAAG,EAAG,EAAG,IAGpB/K,EACKvlB,KAAKqsB,WAAahD,EAAKgD,UAEvBrsB,KAAKqsB,UAAYhD,EAAKgD,WAGhChJ,KAAKrhB,UAAUuuB,gBAAkB,SAAUlH,EAAY9D,GAAS,EAAO8K,GAAY,GAQlF,OANKA,IAEJrwB,KAAKswB,SAAS,EAAG,EAAG,EAAG,GACvBjH,EAAKiH,SAAS,EAAG,EAAG,EAAG,IAGpB/K,EACKvlB,KAAKqsB,WAAahD,EAAKgD,UAEvBrsB,KAAKqsB,UAAYhD,EAAKgD,WAGhChJ,KAAKrhB,UAAUwuB,aAAe,SAAUnH,EAAYgH,GAAY,GAQ/D,OANKA,IAEJrwB,KAAKswB,SAAS,EAAG,EAAG,EAAG,GACvBjH,EAAKiH,SAAS,EAAG,EAAG,EAAG,IAGhBtwB,KAAKqsB,WAAahD,EAAKgD,WAGhChJ,KAAKrhB,UAAUyuB,YAAc,SAAU3D,EAAiBC,GAEvD,IAAI2D,EAAwB5D,EAAUT,UAClCsE,EAAyB5D,EAAWV,UACpCuE,EAA0B5wB,KAAKqsB,UAEnC,OAAIuE,GAA2BF,GAAyBE,GAA2BD,GAMpFtN,KAAKwN,+BAAiC,SAAU/D,EAAiBC,GAEhE,IAAInC,EAAQ5qB,KAAKspB,gBAAgBwD,GAC7BjC,EAAS7qB,KAAKspB,gBAAgByD,GAG9BO,GADa1C,EAAMyB,UAAYxB,EAAOwB,WACL,IACrC,OAAOkB,KAAKC,IAAIF,EAAoB,GAAK,GAAK,KAG/CjK,KAAKyN,wBAA0B,SAAUC,GAExC,GAAsB,MAAlBA,EACJ,CAGC,OAFAA,EAAiB1N,KAAKiG,gBAAgByH,GAClB,IAAI1N,KAAKA,KAAK2N,IAAID,EAAepH,cAAeoH,EAAelH,WAAYkH,EAAehH,UAAWgH,EAAe9G,WAAY8G,EAAe5G,aAAc4G,EAAe1G,eAIhM,OAAO0G,GAGT1N,KAAK4N,wBAA0B,SAAUC,GAExC,GAAsB,MAAlBA,EACJ,CAGC,OAFAA,EAAiB7N,KAAKiG,gBAAgB4H,GAClB,IAAI7N,KAAK6N,EAAeC,iBAAkBD,EAAeE,cAAeF,EAAeG,aAAcH,EAAeI,cAAeJ,EAAeK,gBAAiBL,EAAeM,iBAItM,OAAON,GAGTO,OAAOzvB,UAAU0vB,iBAAmB,SAAUC,GAI7C,OAFsB,MAAlBA,IAAwBA,EAAiB,IAAI5I,sBACjD4I,EAAelW,MAAQjJ,gBAAgBof,QAChC5xB,KAAK6xB,eAAeF,IAG5BF,OAAOzvB,UAAU8vB,mBAAqB,SAAUH,GAM/C,OAJsB,MAAlBA,IAAwBA,EAAiB,IAAI5I,sBACjD4I,EAAelW,MAAQjJ,gBAAgB/O,SACK,MAAxCkuB,EAAexI,wBAA+BwI,EAAexI,sBAAwB,GAC7C,MAAxCwI,EAAevI,wBAA+BuI,EAAevI,sBAAwB,GAClFppB,KAAK6xB,eAAeF,IAG5BF,OAAOzvB,UAAU+vB,qBAAuB,SAAUJ,GAMjD,OAJsB,MAAlBA,IAAwBA,EAAiB,IAAI5I,sBACjD4I,EAAelW,MAAQjJ,gBAAgBjP,WACK,MAAxCouB,EAAexI,wBAA+BwI,EAAexI,sBAAwB,GAC7C,MAAxCwI,EAAevI,wBAA+BuI,EAAevI,sBAAwB,GAClFppB,KAAK6xB,eAAeF,IAG5BF,OAAOzvB,UAAU6vB,eAAiB,SAAUlD,GAE7B,MAAVA,IAAgBA,EAAS,IAAI5F,sBACb,MAAhB4F,EAAOlT,QAAekT,EAAOlT,MAAQjJ,gBAAgBof,SAClC,MAAnBjD,EAAOqD,WAAkBrD,EAAOqD,SAAW,OACrB,MAAtBrD,EAAOsD,cAAqBtD,EAAOsD,YAAcxf,iBAAiByf,MAE3C,MAAvBvD,EAAOzF,eAAsByF,EAAOzF,aAAexW,iBAAiByf,kBACpExD,EAAOzF,cAAgBxW,iBAAiB0f,OAE3CzD,EAAOzF,aAAexW,iBAAiBkf,QACH,MAAhCjD,EAAOvF,wBACVuF,EAAOvF,sBAAwB,IAIjC,OADkB,IAAIqF,KAAK4D,aAAa,QAA+B1D,GACtDA,OAAO8C,OAAOzxB,QAGhCyxB,OAAOzvB,UAAUswB,QAAU,SAAUC,GAEpC,IAAIC,EAAMjF,KAAKiF,IAAI,GAAID,GACvB,OAAOhF,KAAKkF,MAAOzyB,KAAkBwyB,GAAOA,GAG7ChJ,OAAOxnB,UAAU4sB,aAAe,WAE/B,OAAO5uB,KAAK0yB,OAAO,GAAGC,cAAgB3yB,KAAK4yB,MAAM,GAAGtH,eAGrD9B,OAAOxnB,UAAU6wB,YAAc,SAAUC,GAErB,MAAfA,IAAqBA,GAAc,GAEvC,IAAIC,EAAQ/yB,KAAK2sB,MAAM,KACvB,IAAK,IAAIqG,KAAQD,EAChBC,EAAKpE,eAEN,IAAIqE,EAAiBF,EAAMjW,WAAW1C,QAAQ,IAAK,IAInD,OAHI0Y,IACHG,EAAiBA,EAAe,GAAG3H,cAAgB2H,EAAehI,OAAO,IAEnEgI,GAGRzJ,OAAOxnB,UAAUkxB,YAAc,WAE9B,OAAmB,GAAflzB,KAAKoL,OACD,GAEDpL,KACLmzB,MAAM,sEACNvW,IAAIwW,GAAKA,EAAE9H,eACXjO,KAAK,MAGRmM,OAAOxnB,UAAUqxB,YAAc,WAE9B,OAAmB,GAAfrzB,KAAKoL,OACD,GAEDpL,KACLmzB,MAAM,sEACNvW,IAAIwW,GAAKA,EAAE9H,eACXjO,KAAK,MAGRmM,OAAOxnB,UAAUsxB,WAAa,WAE7B,IAAIC,EAAU,GACd,IAAK,IAAInzB,EAAI,EAAGA,EAAIJ,KAAKoL,OAAQhL,IAEpB,KAARJ,OAECA,KAAKI,IAAMJ,KAAKI,GAAGuyB,cACtBY,EAAQC,KAAKxzB,KAAKI,GAAGkrB,eAErBiI,EAAQC,KAAKxzB,KAAKI,GAAGuyB,gBAGxB,OAAOY,EAAQlW,KAAK,KAGrBmM,OAAOxnB,UAAUyxB,YAAc,WAE9B,OAAOzzB,KAAKoa,QAAQ,SAAWsZ,GAAiBA,EAAIhB,OAAO,GAAGC,cAAgBe,EAAIzI,OAAO,GAAGK,gBAG7F9B,OAAOxnB,UAAU2xB,QAAU,SAAU9W,EAAe+W,GAInD,GAFuB,MAAnBA,IAAyBA,GAAkB,GAE3C5zB,KAAKoL,QAAUyR,EAAS,OAAO7c,KAAKsvB,UACxC,IAAIuE,EAAY7zB,KAAKirB,OAAO,EAAGpO,EAAQ,GACvC,OAAQ+W,EACLC,EAAU5I,OAAO,EAAG4I,EAAUC,YAAY,MAC1CD,GAAa,YAGjBrK,OAAOxnB,UAAU+xB,iBAAmB,WAEnC,IAAIC,EAAS,EAIb,OAHIh0B,KAAKoL,OAAS,IACjB4oB,EAASvC,OAAOzxB,KAAKmzB,MAAM,eAErBa,GAGRxK,OAAOxnB,UAAUiyB,YAAc,WAE9B,MAA+B,SAAvBj0B,KAAKsrB,eAGd9B,OAAOxnB,UAAUkyB,mBAAqB,WAErC,OAAe,MAARl0B,MAAwB,IAARA,MAGxBwpB,OAAOxnB,UAAUmyB,gBAAkB,WAElC,OAAe,MAARn0B,MAAwB,IAARA,MAGxBwpB,OAAOxnB,UAAUoyB,aAAe,WAE/B,OAAOp0B,KAAKoa,QAAQ,kBAAmB,KAGxCsC,MAAM1a,UAAUqyB,QAAU,WAEzB,OAAI3X,MAAM4X,QAAQt0B,MACTA,KAAa,GAEf,MAGR0c,MAAM1a,UAAUuyB,OAAS,WAExB,OAAI7X,MAAM4X,QAAQt0B,MACVA,KAAKA,KAAKoL,OAAS,GAEpB,MAGRsR,MAAM1a,UAAU4qB,oBAAsB,WAErC,OAAIlQ,MAAM4X,QAAQt0B,MACVA,KAAK4c,IAAKvb,GAAmBowB,OAAOpwB,IAErC,IAGRqb,MAAM1a,UAAUwyB,oBAAsB,WAErC,OAAI9X,MAAM4X,QAAQt0B,MACVA,KAAK4c,IAAKvb,GAAmBmoB,OAAOnoB,IAErC,IAGRqb,MAAM1a,UAAUyyB,uBAAyB,WAExC,GAAI/X,MAAM4X,QAAQt0B,MAClB,CACC,IAAIurB,EAAS,GACb,IAAK,IAAImJ,KAAQ10B,KAChBurB,GAAUmJ,EAAK5X,WAAa,KAE7B,OAAOyO,EAAOoJ,UAAU,EAAGpJ,EAAOngB,OAAS,GAG3C,MAAO,IAGTsR,MAAM1a,UAAU4yB,YAAc,SAAUC,GAEvC,GAAInY,MAAM4X,QAAQt0B,MAEjB,IAAK,IAAIqL,KAAWwpB,EACnB70B,KAAKwzB,KAAKnoB,IAIbqR,MAAM1a,UAAU8yB,SAAW,SAAUzzB,GAEpC,GAAIqb,MAAM4X,QAAQt0B,MAClB,CACC,IAAI6c,EAAQ7c,KAAK+0B,QAAQ1zB,IACX,GAAVwb,GACH7c,KAAKg1B,OAAOnY,EAAO,KAItBH,MAAM1a,UAAUizB,aAAe,SAAUP,EAAW/yB,GAEnD,GAAI+a,MAAM4X,QAAQt0B,MAClB,CACC,IAAI6c,EAAQ7c,KAAK4c,IAAIsY,GAAKA,EAAEvzB,IAAMozB,QAAQL,EAAK/yB,KACjC,GAAVkb,GACH7c,KAAKg1B,OAAOnY,EAAO,KAItBH,MAAM1a,UAAUmzB,cAAgB,SAAUC,GAEzC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,IAAIq1B,EAAmBr1B,KAAKs1B,OAAOF,GACnC,IAAK,IAAIG,KAAgBF,EAEJ,MAAhBE,GACHv1B,KAAK80B,SAASS,KAsDlB7Y,MAAM1a,UAAUwzB,SAAW,SAAUC,EAAsBzJ,GAc1D,OAZItP,MAAM4X,QAAQt0B,QAEC,MAAdy1B,GAAsBA,EAAWrqB,OAAS,GAE5B,MAAb4gB,GAAsBA,IACzByJ,EAAaA,EAAW7Y,IAAIsY,GAAgBA,EAAEhqB,WAAW,KAAkBgqB,EAAV,IAAMA,IAExEl1B,KAAKisB,KAAKT,oBAAoBkK,MAAM,KAAMD,KAG1C3J,8BAA8B9rB,KAAoB,MAAbgsB,GAA4BA,IAE5DhsB,MAGR0c,MAAM1a,UAAU2zB,UAAY,YAAaF,GAExC,OAAOz1B,KAAKw1B,SAASC,GAAY,IAGlC/Y,MAAM1a,UAAU4zB,WAAa,YAAaH,GAEzC,OAAOz1B,KAAKw1B,SAASC,GAAY,IAsDlC/Y,MAAM1a,UAAU6zB,MAAQ,SAAUT,GAEjC,QAAI1Y,MAAM4X,QAAQt0B,OACVA,KAAK81B,MAAMV,IAKpB1Y,MAAM1a,UAAU+zB,MAAQ,SAAUX,GAEjC,QAAI1Y,MAAM4X,QAAQt0B,OACVA,KAAKg2B,KAAKZ,IAKnB1Y,MAAM1a,UAAUi0B,MAAQ,SAAUb,GAEjC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,GAAkB,MAAdo1B,EACJ,CACC,IAAIrzB,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAChD,OAAO3sB,KAAKk2B,OAAO,CAACC,EAAIC,IAAM7I,KAAK8I,IAAIF,EAAIC,EAAEr0B,IAAY,GAGzD,OAAOwrB,KAAK8I,IAAIX,MAAM,KAAM11B,MAG9B,OAAO,GAGR0c,MAAM1a,UAAUs0B,MAAQ,SAAUlB,GAEjC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,GAAkB,MAAdo1B,EACJ,CACC,IAAIrzB,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAChD,OAAO3sB,KAAKk2B,OAAO,CAACC,EAAIC,IAAM7I,KAAKgJ,IAAIJ,EAAIC,EAAEr0B,IAAY0vB,OAAOjF,WAGhE,OAAOe,KAAKgJ,IAAIb,MAAM,KAAM11B,MAG9B,OAAO,GAGR0c,MAAM1a,UAAUw0B,MAAQ,SAAUpB,YAEjC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,GAAkB,MAAdo1B,WACH,OAAOp1B,KAAKk2B,OAAO,CAACO,EAAIL,IAAMK,EAAKL,EAAG,GAEvC,CACC,IAAIr0B,SAAWqzB,WAAWtY,WAAW6P,MAAM,MAAM,GAC7C+J,IAAc,EAElB,OADA12B,KAAK0Z,QAAQwb,GAAKwB,KAAOC,KAAK50B,WACvB20B,KAIT,OAAO,GAGRha,MAAM1a,UAAU40B,MAAQ,SAAUxB,GAEjC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,GAAkB,MAAdo1B,EACH,OAAOp1B,KAAKw2B,QAAUx2B,KAAKoL,OAI3B,OADUpL,KAAKw2B,MAAMpB,GACRp1B,KAAKoL,OAIpB,OAAO,GAGRsR,MAAM1a,UAAU60B,WAAa,WAE5B,OAAIna,MAAM4X,QAAQt0B,MACV,IAAI,IAAI82B,IAAI92B,OAEb,IAGR0c,MAAM1a,UAAU+0B,aAAe,SAAU3B,GAExC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,IAAIg3B,EAAqB,GACrBC,EAAW,IAAItwB,IACf5E,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAEhD,IAAK,IAAI+H,KAAQ10B,KACjB,CACC,IAAIqB,EACJ,IAAK,IAAIM,KAAO+yB,EAEX/yB,GAAOI,IACVV,EAAQqzB,EAAK/yB,IAGVs1B,EAASC,IAAI71B,KAEjB41B,EAASE,IAAI91B,GAAO,GACpB21B,EAAYxD,KAAKkB,IAGnB,OAAOsC,EAER,MAAO,IAIRta,MAAM1a,UAAUo1B,UAAY,SAAUhC,GAErC,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACC,IAAI+B,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAIhD,OAHKyI,EAAWtY,WAAWf,SAAS,OACnCha,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAAGvS,QAAQ,IAAK,KAEtDpa,KAAKk2B,QAAO,SAAUmB,EAAQ3C,GAEpC,MAAM4C,EAAM5C,EAAK3yB,GAGjB,OAFAs1B,EAAOC,GAAOD,EAAOC,IAAQ,GAC7BD,EAAOC,GAAK9D,KAAKkB,GACV2C,IACL,IAEJ,MAAO,IAGR3a,MAAM1a,UAAUu1B,kBAAoB,SAAUx1B,GAE7C,OAAI2a,MAAM4X,QAAQt0B,MAEVA,KAAKk2B,QAAO,SAAUmB,EAAQ3C,GAEpC,MAAM4C,EAAM5C,EAAK3yB,GAGjB,OAFAs1B,EAAOC,GAAOD,EAAOC,IAAQ,GAC7BD,EAAOC,GAAK9D,KAAKkB,GACV2C,IACL,IAEG,IAGR3a,MAAMmQ,SAAW,SAAU2K,EAAeC,GAEzC,GAAI/a,MAAM4X,QAAQkD,IAAW9a,MAAM4X,QAAQmD,GAC3C,CACC,IAAIC,EAAeF,EAAOpsB,OAE1B,GAAc,MAAVosB,GAA4B,MAAVC,EAAgB,OAAO,EAC7C,GAAIC,GAAgBD,EAAOrsB,OAAQ,OAAO,EAE1C,IAAIusB,EAAOH,EAAOI,SAAS3L,OACvB4L,EAAOJ,EAAOG,SAAS3L,OAE3B,IAAK,IAAI7rB,EAAI,EAAGA,EAAIu3B,EAAKvsB,SAAUhL,EAElC,GAAIu3B,EAAKv3B,KAAOy3B,EAAKz3B,GACpB,OAAO,EAET,OAAO,EAER,OAAO,GAGRqW,OAAOzU,UAAU81B,OAAS,SAAUzsB,EAAyC0sB,EAAkEC,GAE9Ih4B,KAAKi4B,UAAWC,IAEf,IAAIC,EAAoBD,EAAIE,QACxBC,EAAoBH,EAAII,QACxBC,EAAQL,EAAIE,QAAUjtB,KAAMnL,KAAa,IAAIw4B,SAASzR,KACtD0R,EAAQP,EAAII,QAAUntB,KAAMnL,KAAa,IAAIw4B,SAAS5R,IAEtD2R,GAAS,GAAKE,GAAS,IAI3BttB,KAAKa,UAAU0sB,UAAWC,IAEzB,GAAMA,EAAIP,SAAWD,GAAqBQ,EAAIL,SAAWD,EACzD,CACC,IAAIO,EAAwB54B,KAI5B,GAHe,MAAXqL,IACHutB,EAAgBztB,KAAKE,IAEP,MAAX0sB,EACJ,CACC,IAAIc,EAAe,IAAI,SAAAC,YAMvB,GALAD,EAAa9T,MAAQ4T,EACrBE,EAAa9R,KAAO4R,EAAIP,QAAUG,EAClCM,EAAajS,IAAM+R,EAAIL,QACvBP,EAAQc,GAEJA,EAAa9U,qBAKhB,OAHA5Y,KAAKa,UAAU+sB,OAAO,WACtB5tB,KAAKa,UAAU+sB,OAAO,kBACtBJ,EAAIK,iBAINJ,EAAcJ,OAAO,CAAE5R,IAAK+R,EAAIL,QAASvR,KAAO4R,EAAIP,QAAUG,OAKhEptB,KAAKa,UAAUitB,QAASN,IAKvB,GAHAxtB,KAAKa,UAAU+sB,OAAO,WACtB5tB,KAAKa,UAAU+sB,OAAO,aAET,MAATf,EACJ,CACC,IAAIkB,EAAkB,GACtBA,EAAWnU,MAAQ4T,EACnBO,EAAWnS,KAAO4R,EAAIP,QAAWjtB,KAAMnL,KAAa,IAAIub,QAAU,EAClE2d,EAAWtS,IAAM+R,EAAIL,QACrBN,EAAMkB,UAMVziB,OAAOzU,UAAUm3B,UAAY,SAAUC,GAOtC,OALa,MAATA,IAECA,EAAOp5B,KAAKkc,OACXlc,KAAK6S,QAEJ7S,KAAK6L,GAAG,aAGhB,IAAI8c,aAA8C,KAC9CE,gBAAuBpS,OA6D3B,SAAgBtL,KAAKE,GAEpB,OAAwB,MAAhBU,cAA4D,GAApC6c,iBAAiBvd,GAASD,OAAewd,iBAAiB7c,cAAc+P,KAAKzQ,GAAWud,iBAAiBvd,GA7D1IoL,OAAOzU,UAAUsU,eAAiB,SAAUjL,GAE3C,IAAI/I,EAAY6I,KAAKE,GACrB,OAAOrL,KAAKq5B,SAAS/2B,IAGtBmU,OAAOzU,UAAUqU,gBAAkB,SAAUhL,GAE5C,IAAI/I,EAAY6I,KAAKE,GACrB,OAAOrL,KAAKs5B,UAAUh3B,IAGvBmU,OAAOzU,UAAUoK,aAAe,SAAUf,GAEzC,IAAIkuB,EAAWpuB,KAAKE,GACpB,OAAOrL,KAAKw5B,OAAOD,IAGpB9iB,OAAOzU,UAAUy3B,cAAgB,SAAUpuB,GAE1C,IAAIkuB,EAAWpuB,KAAKE,GACpB,OAAOrL,KAAKqM,QAAQktB,IAGrB9iB,OAAOzU,UAAU03B,aAAe,SAAUruB,GAEzC,IAAIsuB,EAAYxuB,KAAKE,GACrB,OAAOrL,KAAK45B,OAAOD,IAGpBljB,OAAOzU,UAAU63B,YAAc,SAAUxuB,GAExC,IAAIsuB,EAAYxuB,KAAKE,GACrB,OAAOrL,KAAK85B,MAAMH,IAGnBljB,OAAOzU,UAAU+3B,mBAAqB,SAAU1uB,GAE/C,IAAIsuB,EAAYxuB,KAAKE,GACrB,OAAOrL,KAAKg6B,aAAaL,IAG1BljB,OAAOzU,UAAUi4B,kBAAoB,SAAU5uB,GAE9C,IAAIsuB,EAAYxuB,KAAKE,GACrB,OAAOrL,KAAKk6B,YAAYP,IAGzBljB,OAAOzU,UAAUm4B,eAAiB,SAAUC,GAAsB,GAEjE,OAAmB,MAAfp6B,KAAKiB,IAAI,KAGRm5B,EAGGp6B,KAAKiB,IAAI,GAAGo5B,YAAcr6B,KAAKiB,IAAI,GAAGq5B,YAFtCt6B,KAAKiB,IAAI,GAAGs5B,aAAev6B,KAAKiB,IAAI,GAAGu5B,eAKhD,mB,kLC95RA,aAGA,kBAQI,YAAYnvB,EAA0ChJ,EAA4Bo4B,GAe9E,GAbAz6B,KAAK06B,SAAWrvB,EAChBrL,KAAK26B,SAAWt4B,EAChBrC,KAAK46B,UAAYH,EAGjB,EAAAtvB,KAAKE,GAASwvB,KAAK,2CACnB,EAAA1vB,KAAKE,GAASyvB,SAAS,KAAOL,GAC9B,EAAAtvB,KAAKE,GAASyvB,SAAS,cACvB,EAAA3vB,KAAKnL,KAAKsC,aAAaw4B,SAAS,KAAOL,EAAW,aAClD,EAAAtvB,KAAKnL,KAAKsC,aAAawJ,KAAK,KAAMT,EAAS8K,GAAK,aAI1B,MAAlB9T,EAAS04B,MACb,CACkC,MAA1B14B,EAAS24B,gBACT34B,EAAS24B,cAAgB,IAAIC,GAEE,MAA/B54B,EAAS24B,cAAcz5B,OAAcc,EAAS24B,cAAcz5B,KAAO,EAAAmM,cAAcwtB,SAC9C,MAAnC74B,EAAS24B,cAAcz4B,WAAkBF,EAAS24B,cAAcz4B,SAAW,EAAA4K,aAAaguB,KAE5F,IAAIC,EAAgB/4B,EAAS24B,cAAcz4B,SACvC84B,EAAuBD,GAAiB,EAAAjuB,aAAaguB,KAAOC,GAAiB,EAAAjuB,aAAamuB,KAAQ,EAAApvB,oBAAoBqvB,OAAS,EAAArvB,oBAAoBC,MACnJqvB,EAAS,GACT5U,EAAM,GACNwU,GAAiB,EAAAjuB,aAAamuB,MAE9BE,EAAS,qBACT5U,EAAM,cAEDwU,GAAiB,EAAAjuB,aAAasuB,OAEnCD,EAAS,oBACT5U,EAAM,cAGN5mB,KAAKsC,YAAYmZ,MAAMC,SAAW,gDAEtC1b,KAAK07B,cAAgB,EAAAt5B,YACjB,CACI+T,GAAI9T,EAAS24B,cAAe7kB,GAC5BpD,KAAM1Q,EAAS04B,MACfx5B,KAAMc,EAAS24B,cAAcz5B,KAC7Bo6B,MAAOt5B,EAAS24B,cAAcY,UAC9BrgB,MAAQ6f,GAAiB,EAAAjuB,aAAaguB,KAAOC,GAAiB,EAAAjuB,aAAa0uB,OAAU,OAASx5B,EAAS24B,cAAczf,MACrHrF,MAAO7T,EAAS24B,cAAc9kB,MAC9B+E,SAAU5Y,EAAS24B,cAAc/f,SACjC6gB,aAAcN,EAAS5U,EAAMvkB,EAAS24B,cAAcc,aACpD/lB,IAAK1T,EAAS24B,cAAcjlB,IAC5BgmB,KAAM15B,EAAS24B,cAAce,KAC7B3lB,QAAS/T,EAAS24B,cAAc5kB,QAChC4lB,cAAe35B,EAAS24B,cAAcgB,cACtCC,UAAW,EACXC,cAAe75B,EAAS24B,cAAckB,cACtCC,QAAS95B,EAAS24B,cAAcmB,SACjCn8B,KAAKsC,YAAa+4B,GAKP,MAAlBh5B,EAASkZ,OACTvb,KAAKub,MAAMlZ,EAASkZ,OACD,MAAnBlZ,EAASmZ,QACTxb,KAAKwb,OAAOnZ,EAASmZ,SAIA,IAArBnZ,EAAS+5B,SACTp8B,KAAK6S,QACe,IAApBxQ,EAASg6B,QACTr8B,KAAKs8B,UAIU,MAAfj6B,EAAS8T,IACTnW,KAAKmW,GAAG9T,EAAS8T,IAED,MAAhB9T,EAAS0T,KACT/V,KAAK+V,IAAI1T,EAAS0T,KACO,MAAzB1T,EAASy5B,cACT97B,KAAK87B,aAAaz5B,EAASy5B,cACT,MAAlBz5B,EAAS6T,OACTlW,KAAKkW,MAAM7T,EAAS6T,OACO,MAA3B7T,EAASk6B,gBACTv8B,KAAKu8B,eAAel6B,EAASk6B,gBAIV,MAAnBl6B,EAASm5B,SAEuB,iBAApBn5B,EAAe,OACvBrC,KAAKsC,YAAYmZ,MAAMC,SAAW,WAAarZ,EAASm5B,OAAS,OAGtC,MAAvBn5B,EAASm5B,OAAO5U,MAAa5mB,KAAKsC,YAAYmZ,MAAMC,SAAW,eAAiBrZ,EAASm5B,OAAO5U,IAAM,OAC7E,MAAzBvkB,EAASm5B,OAAOgB,QAAex8B,KAAKsC,YAAYmZ,MAAMC,SAAW,iBAAmBrZ,EAASm5B,OAAOgB,MAAQ,OAClF,MAA1Bn6B,EAASm5B,OAAOiB,SAAgBz8B,KAAKsC,YAAYmZ,MAAMC,SAAW,kBAAoBrZ,EAASm5B,OAAOiB,OAAS,OACvF,MAAxBp6B,EAASm5B,OAAOzU,OAAc/mB,KAAKsC,YAAYmZ,MAAMC,SAAW,gBAAkBrZ,EAASm5B,OAAOzU,KAAO,SAIpF,MAA7B1kB,EAASq6B,mBACTr6B,EAASq6B,kBAAmB,GAIhC18B,KAAK28B,KAAOt6B,EAASob,IAEM,MAAvBpb,EAASkU,aAAoBlU,EAASkU,WAAa,IAC5B,MAAvBlU,EAASu6B,YACTv6B,EAASkU,WAAYid,KAAK,CAAE7yB,KAAM,aAAcU,MAAOgB,EAASu6B,aAEpE,IAAK,IAAIpmB,KAAanU,EAASkU,WAC3BvW,KAAKwW,UAAUA,EAAU7V,KAAM6V,EAAUnV,MAAOmV,EAAUlU,WAErC,MAArBD,EAAS45B,WAAkB55B,EAAS45B,SAAW,GACnDj8B,KAAKwW,UAAU,WAAYnU,EAAS45B,WAER,IAAxB55B,EAAS0J,YAEW,MAAhB,EAAAA,cACA,EAAAZ,KAAKnL,KAAKsC,aAAaw4B,SAAS,cAK5C,cAEI,OAAO96B,KAAK46B,UAGhB,GAAGzkB,GAOC,OALU,MAANA,IAEAnW,KAAKqL,UAAU8K,GAAKA,EACpBnW,KAAKsC,YAAY6T,GAAKA,EAAK,aAExBnW,KAAKqL,UAAU8K,GAG1B,IAAIsH,GAQA,OANW,MAAPA,IACAzd,KAAK28B,KAAOlf,GAEJ,OAARA,IACAzd,KAAK28B,KAAO,MAET38B,KAAK28B,KAGhB,WAAWC,GAKP,OAHkB,MAAdA,GACA58B,KAAKwW,UAAU,aAAcomB,GAE1B,EAAAzxB,KAAKnL,KAAKqL,WAAWS,KAAK,cAGrC,UAAUnL,EAAcU,EAAYw7B,GAAc,GAEzCA,EAGD,EAAA1xB,KAAKnL,KAAKsC,aAAawJ,KAAKnL,EAAMU,GAFlC,EAAA8J,KAAKnL,KAAKqL,WAAWS,KAAKnL,EAAMU,GAKxC,QAAQ+U,EAAkB9T,GAAY,GAOlC,OALe,MAAX8T,IAEI9T,EAAW,EAAA6I,KAAKnL,KAAKsC,aAAawJ,KAAK,QAASsK,GAC/C,EAAAjL,KAAKnL,KAAKqL,WAAWS,KAAK,QAASsK,IAErC,EAAc,EAAAjL,KAAKnL,KAAKsC,aAAawJ,KAAK,SAAW,EAAAX,KAAKnL,KAAKqL,WAAWS,KAAK,SAI1F,UAEI,OAAO9L,KAAK06B,SAGhB,YAEI,OAAO,EAAAvvB,KAAKnL,KAAKqL,WAAWyxB,QAAQ,wBAAwB,GAGhE,QAEI,OAAO98B,KAAK07B,cAGhB,UAEI,OAAU17B,KAAK26B,SAKnB,aAAaoC,EAAoBC,GAGR,MAAjBA,IAG2B,MAAvBA,EAAczhB,QAAewhB,EAAMthB,MAAMC,SAAW,UAAY1b,KAAKi9B,oBAAoBD,EAAczhB,OAAS,KACtF,MAA1ByhB,EAAcE,WAAkBH,EAAMthB,MAAMC,SAAW,cAAgB1b,KAAKi9B,oBAAoBD,EAAcE,UAAY,KAChG,MAA1BF,EAAcG,WAAkBJ,EAAMthB,MAAMC,SAAW,cAAgB1b,KAAKi9B,oBAAoBD,EAAcG,UAAY,KAGlG,MAAxBH,EAAcxhB,SAAgBuhB,EAAMthB,MAAMC,SAAW,WAAa1b,KAAKi9B,oBAAoBD,EAAcxhB,QAAU,KACxF,MAA3BwhB,EAAcI,YAAmBL,EAAMthB,MAAMC,SAAW,eAAiB1b,KAAKi9B,oBAAoBD,EAAcI,WAAa,KAClG,MAA3BJ,EAAcK,YAAmBN,EAAMthB,MAAMC,SAAW,eAAiB1b,KAAKi9B,oBAAoBD,EAAcK,WAAa,KAGlG,MAA3BL,EAAcM,YAAmBN,EAAcM,UAAY,EAAAjwB,mBAAmB6kB,OAKtF,IAAIqL,EAAav9B,KAAKqL,UAAUmyB,wBAAwB5W,IACpD6W,EAAcz9B,KAAKqL,UAAUmyB,wBAAwBzW,KACrD2W,EAAe,EAAAvyB,KAAKnL,KAAKqL,WAAW2b,aACpC2W,EAAgB,EAAAxyB,KAAKnL,KAAKqL,WAAWwb,cAErC+W,EAAa,EAAAzyB,KAAK4xB,GAAO/V,aACzB6W,EAAc,EAAA1yB,KAAK4xB,GAAOlW,cAI1BiX,EAAe,EACnB,GAAqB,MAAjBd,IAAiD,IAAxBA,EAAcR,MACvCsB,EAAeL,EAAcC,EAAeE,MAEhD,CAKQE,EAJmB,EAAA3yB,KAAKa,SAASC,MAAMusB,SAASzR,KAC5B,EAAA5b,KAAKa,SAASC,MAAMsP,SAEGkiB,EAAcG,EAAaF,EACvDD,EAAcC,EAAeE,EAE7BH,EAKvB,GAAqB,MAAjBT,GAAyBA,EAAcM,WAAa,EAAAjwB,mBAAmB6kB,KAEnE8K,EAAcM,WAAa,EAAAjwB,mBAAmB0wB,GAC9ChB,EAAMthB,MAAMC,SAAW,SAAWoiB,EAAe,gBAAkBtZ,OAAOwZ,YAAcT,GAAc,MACjGP,EAAcM,WAAa,EAAAjwB,mBAAmB4wB,OACnDlB,EAAMthB,MAAMC,SAAW,SAAWoiB,EAAe,aAAeP,EAAaI,GAAiB,WAGtG,CACI,IAAIO,EAAkB,EAAA/yB,KAAKa,SAASC,MAAMusB,SAAS5R,IAC/CuX,EAAqB,EAAAhzB,KAAKa,SAASC,MAAMuP,SAGzCuhB,EAAMthB,MAAMC,SADXwiB,EAAkBC,GAAwBZ,EAAaM,EAAcF,EAC/C,SAAWG,EAAe,gBAAkBtZ,OAAOwZ,YAAcT,GAAc,MAE/E,SAAWO,EAAe,aAAeP,EAAaI,GAAiB,MAIlF,MAAhB,EAAA5xB,eACAgxB,EAAMthB,MAAMC,SAAW,oBAGvB,oBAAoBra,GAIxB,MAFsB,iBAAX,IACPA,GAAgB,MACbA,EAKX,MAAMA,GAEF,GAAa,MAATA,EACJ,CACI,IAAIgB,EAAUrC,KAAKqC,UACf+7B,EAAc,EAAAjzB,KAAKnL,KAAKsC,aACxBq3B,EAAY,EAAAxuB,KAAKnL,KAAKqL,WAGtBgzB,EAAa,EACjB,GAAqB,MAAjBh8B,EAAQ04B,MACZ,CACI,IAAIA,EAAQqD,EAAYtiB,KAAK,YAAY,GACzCuiB,EAAa,EAAAlzB,KAAK4vB,GAAO/T,YAAW,GAAQ,EAKhDoX,EAAY7iB,MAAMla,GAClB,IAAI6qB,EAAOyN,EAAU3S,aAAe2S,EAAUpe,QAS9C,GARI2Q,IAASyN,EAAU3S,cAAiC,MAAjB3kB,EAAQ04B,QAC3C7O,EAAO,GAEXyN,EAAUpe,MAAM,eAAiB2Q,EAAO,OACpCyN,EAAU2E,SAAS,aACnB3E,EAAUpe,MAAM,QAGC,MAAjBlZ,EAAQ04B,MACZ,CAEI,IAAIK,EAAgB/4B,EAAQ24B,cAAez4B,SACvC64B,GAAiB,EAAAjuB,aAAamuB,MAAQF,GAAiB,EAAAjuB,aAAasuB,OAEhC,MAAhCp5B,EAAQ24B,cAAezf,QACvB8iB,EAAah8B,EAAQ24B,cAAezf,OAEjB,iBAAZ,EACPoe,EAAUpe,MAAM,gBAAkB2Q,EAAOmS,GAAc,OAC/B,iBAAZ,IAEZ1E,EAAUpe,MAAMla,EAAQ6qB,GACxBkS,EAAY7iB,MAAMla,EAAQg9B,MAGzB1E,EAAU9tB,GAAG,WAAa8tB,EAAU9tB,GAAG,cAC5C8tB,EAAUpe,MAAM,yBAGfoe,EAAU9tB,GAAG,WAAa8tB,EAAU9tB,GAAG,cAC5C8tB,EAAUpe,MAAM,QAExB,OAAO,EAAApQ,KAAKnL,KAAKqL,WAAWkQ,QAGhC,OAAOla,GAeH,OAba,MAATA,IAEsB,iBAAX,GAEP,EAAA8J,KAAKnL,KAAKsC,aAAa,GAAGmZ,MAAMC,SAAW,WAAara,EAAQ,IAChE,EAAA8J,KAAKnL,KAAKqL,WAAW,GAAGoQ,MAAMC,SAAW,WAAara,EAAQ,MAI9D,EAAA8J,KAAKnL,KAAKsC,aAAakZ,OAAOna,GAC9B,EAAA8J,KAAKnL,KAAKqL,WAAWmQ,OAAOna,KAG7B,EAAA8J,KAAKnL,KAAKqL,WAAWmQ,SAKhC,QAAQ4d,GAES,MAATA,IAEIA,EAAOp5B,KAAKq8B,SACXr8B,KAAKs8B,WAGd,IAAIiC,EAAoBv+B,KAAKqL,UAAUmzB,aAAa,YACpD,OAA4B,MAArBD,GAAkD,IAArBA,EAGxC,SAEIv+B,KAAKqL,UAAUozB,gBAAgB,YAGnC,UAEIz+B,KAAKqL,UAAUqzB,aAAa,WAAY,YAK5C,QAAQtF,GAOJ,OALa,MAATA,IAEIA,EAAOp5B,KAAKkc,OACXlc,KAAK6S,QAEP,EAAA1H,KAAKnL,KAAKsC,aAAauJ,GAAG,YAGrC,OAEI,EAAAV,KAAKnL,KAAKsC,aAAa4Z,OACnB,EAAA/Q,KAAKnL,KAAKqL,WAAWQ,GAAG,WACxB,EAAAV,KAAKnL,KAAKqL,WAAW0K,IAAI,CAAE,YAAa,SAGhD,OAEI,EAAA5K,KAAKnL,KAAKsC,aAAauQ,OAK3B,QAEI,EAAA1H,KAAKnL,KAAKqL,WAAWyc,QAGzB,OAEI,EAAA3c,KAAKnL,KAAKqL,WAAWszB,OAKzB,aAAat9B,GAETrB,KAAKsC,YAAYmZ,MAAMC,SAAWra,EAGtC,IAAIA,GAEArB,KAAKqL,UAAUoQ,MAAMC,SAAWra,EAGpC,MAAMu9B,GAKF,OAHiB,MAAbA,GACA,EAAAzzB,KAAKnL,KAAKqL,WAAWyvB,SAAS8D,GAE3B5+B,KAAKqL,UAAUuzB,UAAUjS,MAAM,OAG1C,eAAeiS,GAKX,OAHiB,MAAbA,GACA,EAAAzzB,KAAKnL,KAAKsC,aAAaw4B,SAAS8D,GAE7B5+B,KAAKsC,YAAYs8B,UAAUjS,MAAM,OAG5C,YAAYiS,GAER,EAAAzzB,KAAKnL,KAAKqL,WAAWwzB,YAAYD,KAKzC,2BA2BA,MAAa3D,GAAb,0BAmBA,4BAOA,sCAEY,KAAA6D,mBAA6B,EAErC,iBAEI9+B,KAAK8+B,mBAAoB,EAG7B,qBAEI,OAAO9+B,KAAK8+B,qB,8HC7gBpB,aAEA,uBAEI,oBAEI,MAAMriB,EAAM,IAAIC,MAAM,KAAKC,QAAQC,IAAIC,GAAS,EAAQC,SAAS,IAAIC,SAAS,EAAG,MAC3E7b,EAAI8b,OAAOC,gBAAgB,IAAIC,WAAW,KAIhD,OAHAhc,EAAE,GAAa,GAAPA,EAAE,GAAa,GACvBA,EAAE,GAAa,GAAPA,EAAE,GAAa,IAEhB,IAAIA,EAAEic,WACRP,IAAI,EAAEC,EAAOO,KAAS,CAAC,EAAG,EAAG,EAAG,IAAIrB,SAASc,GAAS,IAAIJ,EAAIW,GAASX,EAAIW,IAC3EC,KAAK,IAGd,gBAAgBjB,EAAoBwJ,EAAcC,EAAkBC,GAEhE,IAAIH,EAAWnB,OAAOua,YAAY,IAAM3iB,IAAYwJ,GACrC,MAAXC,GACArB,OAAOwa,WAAW,KAEdxa,OAAOya,cAActZ,GACE,MAAnBG,GACAA,KACLD,GAGX,kBAAkB9K,GAEd,OAAO,EAAA5P,KAAK,aAAe4P,EAAO,oCAAoC,GAG1E,iBAAiB1P,GAEb,OAAe,MAAXA,EAEIqR,MAAM4X,QAAQjpB,GACPA,EAAQuR,IAAIsY,GAAKA,GAEjBgK,KAAKC,MAAMD,KAAKE,UAAU/zB,IAElC,KAGX,cAAcga,EAAYC,GAEtB,OAAa,MAATD,GAA0B,MAATC,GAEH,MAATD,GAA0B,MAATC,IAGqB,kBAA1CxkB,OAAOkB,UAAU8a,SAASvc,KAAK8kB,IAA0E,kBAA1CvkB,OAAOkB,UAAU8a,SAASvc,KAAK+kB,GACxFjC,KAAKwJ,SAASxH,EAAOC,GACL,iBAAX,GAAyC,iBAAX,EACnCmM,OAAOpM,IAAUoM,OAAOnM,GAExBD,GAASC,GAKxB,4BAA4B+Z,GAExB,OAAQA,EAAU/T,eAEd,IAAK,UAAW,OAAOgU,EAAUC,QACjC,IAAK,WAAY,OAAOD,EAAUE,SAClC,IAAK,QAAS,OAAOF,EAAUG,MAC/B,IAAK,SAAU,OAAOH,EAAUI,MAChC,IAAK,SAAU,OAAOJ,EAAUK,IAChC,IAAK,SAAU,OAAOL,EAAUM,KAChC,IAAK,SAAU,OAAON,EAAUO,KAChC,IAAK,SAAU,OAAOP,EAAUQ,OAChC,IAAK,YAAa,OAAOR,EAAUS,UACnC,IAAK,UAAW,OAAOT,EAAUU,QACjC,IAAK,WAAY,OAAOV,EAAUW,SAClC,IAAK,WAAY,OAAOX,EAAUY,SAClC,QACI,OAAQ,GAIpB,kBAAqBtqB,EAA4BuqB,EAAkCC,GAE/E,IAAIC,OAAO3iB,EACa,MAApB9H,EAAS0qB,UAET1qB,EAAS0qB,QAAiB,QAAI1qB,EAAS2qB,QACvCF,EAAOnB,KAAKE,UAAUxpB,EAAS0qB,UAInC,IAAIE,EAAoB,KACH,MAAjB5qB,EAAS6qB,OAETD,EAAoB,IAAIE,SACxBF,EAAkBhH,OAAO,OAAQ5jB,EAAS6qB,OAI9C,IAAIlV,EAAmB,KAwCvB,OAvCA,EAAA3C,iBAAiB+X,KAAK,CAClBC,MAAQhrB,EAASrU,MAAQ,EAAA8Q,eAAewuB,MACxCC,WAAaC,IAKT,GAFAA,EAAIC,iBAAiB,kBAAmB,MACxCD,EAAIC,iBAAiB,UAAWprB,EAAS2qB,SACP,MAA9B3qB,EAAUqrB,iBACd,CACI,IAAIA,EAAmBngC,OAAOogC,oBAAoBtrB,EAAUqrB,kBAC5D,IAAK,IAAIE,KAASF,EACdF,EAAIC,iBAAiBG,EAAOvrB,EAAUqrB,iBAAiBE,MAInE1Y,YAA+B,MAAjB7S,EAAS6qB,MAAwB,mBAC/CJ,KAAwB,MAAjBzqB,EAAS6qB,KAAgBD,EAAoBH,EACpDe,OAAQ,OACRC,aAAa,EACb1c,IAAK/O,EAASwrB,OACdE,QAAUC,IAEF3rB,EAAUrU,MAAQ,EAAA8Q,eAAemvB,OACjCjW,EAASgW,GAEG,MAAZpB,IAEAoB,EAAS/kB,KAA4B,MAApB5G,EAAS0qB,QAAmB1qB,EAAS0qB,QAAQ9jB,KAAO,KACrE2jB,EAASoB,KAGjBzc,MAAQyc,IAEJ,EAAAtuB,YAAY,qCAES,MAAjBmtB,GACAA,OAGL7U,EAGX,kBAAkBxY,GAGd,OADU,IAAI0uB,WAAYC,gBAAgB3uB,EAAM,aACrC4uB,gBAAgBC,YAG/B,iBAAiB9/B,GAEb,IAAIyZ,EAAQ,EACZ,GAAuB,iBAAZ,EACX,CACI,IAAIsmB,EAAW,EAAAhnB,KAAK7O,SAASC,MAC7B41B,EAAS1rB,GAAK,4BAEd0rB,EAASC,UAAYhgC,EAAOsY,QAAQ,MAAO,UAC3CmB,EAAQsmB,EAASE,YAEjB,EAAA52B,KAAK,8BAA8BkP,aAGvC,CAEI,IAAI2nB,EAAuC,iBAAZ,EAAwBlgC,EAAS,EAAAqJ,KAAKrJ,GAAQmgC,OACzEC,EAAiB,iFAAmFF,EAAmB,UAC3H,EAAA72B,KAAKrJ,GAAQmgC,KAAKC,GAGlB3mB,EAAQ,EAAApQ,KAAKrJ,GAAQga,KAAK,cAAcP,QAGxC,EAAApQ,KAAKrJ,GAAQmgC,KAAKD,GAEtB,OAAOzmB,EAGX,wBAAwBjH,EAAqB3T,EAAO,gBAE3CA,EAAKwhC,SAAS,UACfxhC,GAAQ,QAEZ,IAAIyhC,EAAcpiC,KAAKqiC,oBAAoB/tB,GACvCguB,EAAO,IAAIC,KAAK,CAACH,GAAc,CAAEp5B,KAAM,oBACvC2b,EAAM6d,IAAIC,gBAAgBH,GAE1BpX,EAAIlf,SAAS4b,cAAc,KAC/BsD,EAAEwX,KAAO/d,EACTuG,EAAEyX,SAAWhiC,EACbuqB,EAAE0X,QAME,2BAA2Bza,GAK/B,IAHA,IAAI0a,EAAgBre,OAAOse,KAAK3a,EAAO/N,QAAQ,MAAO,KAClD2oB,EAAMF,EAAcz3B,OACpBmd,EAAQ,IAAIrL,WAAW6lB,GAClB3iC,EAAI,EAAGA,EAAI2iC,EAAK3iC,IACrBmoB,EAAMnoB,GAAKyiC,EAAcG,WAAW5iC,GAExC,OAAOmoB,EAAM0a,OAGjB,eAAete,EAAahkB,EAAO,WAAY8lB,GAAS,GAEpD,IAAIyc,EAAOl3B,SAAS4b,cAAc,KAClCsb,EAAK/sB,GAAK,yBACV+sB,EAAKR,KAAO/d,EACZue,EAAKP,SAAWhiC,EAEZ8lB,IACAyc,EAAKC,OAAS,UAElBD,EAAKN,QACL,EAAAz3B,KAAK,2BAA2BkP,SAGpC,oBAAoBgN,GAGhB,MADW,wJACD+b,KAAK5Z,OAAOnC,GAAOiE,eAIjC,mBAAmBtF,EAAkB7P,GAEjC,GAAgB,MAAZ6P,GAAgC,IAAZA,EACxB,CACI,IAAIlQ,EAAqB,MAANK,EAAc,GAAK,QAAUA,EAAK,IACrD,EAAAhL,KAAK,SAAW2K,EAAc,IAAMkQ,EAAW,YAAY1P,eAAe,SAIlF,sBAAsB+sB,GAsBlB,OApBc,IAAI/c,QAASlK,IAEvB,GAAgB,MAAZinB,GAAoBA,EAASj4B,OAAS,EAC1C,CACI,IAAIk4B,EAAOt3B,SAASu3B,qBAAqB,QAAQ,GACjD,IAAK,IAAI/uB,KAAQ6uB,EACjB,CAEI,GAAuB,GADR9pB,EAAE,0BAA0B+b,OAAO,CAACJ,EAAG5a,IAAOA,EAAsBooB,KAAKpX,cAAcpgB,WAAWsJ,EAAK8W,cAAgB,MACzHlgB,OACb,CACI,IAAI2K,EAAM/J,SAAS4b,cAAc,QACjC7R,EAAI2sB,KAAOluB,EACXuB,EAAI/M,KAAO,WACX+M,EAAIytB,IAAM,aACVF,EAAKzb,YAAY9R,IAGzBqG,OAMZ,mBAAmB+J,EAAiBhQ,GAEhC,GAAe,MAAXgQ,GAA8B,IAAXA,EACvB,CACI,IAAIrQ,EAAqB,MAANK,EAAc,GAAK,QAAUA,EAAK,IACrD,EAAAhL,KAAK,UAAY2K,EAAc,IAAMqQ,EAAU,cAAa7P,eAAe,SAInF,qBAAqB+sB,GAYjB,OAVc,IAAI/c,QAASlK,IAEP,MAAZinB,GAAoBA,EAASj4B,OAAS,GAEtCmO,EAAEkqB,QAAQJ,EAASzmB,IAAIsY,GAAK3b,EAAEmqB,UAAUxO,GAAGyO,YAAYC,KAAK,KAExDxnB,QAQhB,qBAAqBmM,GAEjB,MAAMsb,EAAY,CACd,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5D,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5D,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5D,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC5D,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAG3D,IAAiBzjC,EAAbmrB,EAAS,GAAOlrB,EAAIkoB,EAAMnd,OAC9B,IAAKhL,EAAI,EAAGA,EAAIC,EAAGD,GAAK,EAEpBmrB,GAAUsY,EAAUtb,EAAMnoB,EAAI,IAAM,GACpCmrB,GAAUsY,GAA2B,EAAftb,EAAMnoB,EAAI,KAAc,EAAMmoB,EAAMnoB,EAAI,IAAM,GACpEmrB,GAAUsY,GAA2B,GAAftb,EAAMnoB,EAAI,KAAc,EAAMmoB,EAAMnoB,IAAM,GAChEmrB,GAAUsY,EAAqB,GAAXtb,EAAMnoB,IAe9B,OAbIA,IAAMC,EAAI,IAEVkrB,GAAUsY,EAAUtb,EAAMnoB,EAAI,IAAM,GACpCmrB,GAAUsY,GAA0B,EAAftb,EAAMnoB,EAAI,KAAc,GAC7CmrB,GAAU,MAEVnrB,IAAMC,IAENkrB,GAAUsY,EAAUtb,EAAMnoB,EAAI,IAAM,GACpCmrB,GAAUsY,GAA2B,EAAftb,EAAMnoB,EAAI,KAAc,EAAMmoB,EAAMnoB,EAAI,IAAM,GACpEmrB,GAAUsY,GAA0B,GAAftb,EAAMnoB,EAAI,KAAc,GAC7CmrB,GAAU,KAEPA,EAGX,qBAAqBpD,GAEjB,GAAIA,EAAO/c,OAAS,GAAM,EAEtB,MAAM,IAAIQ,MAAM,kCAEpB,MAAMiR,EAAQsL,EAAO4M,QAAQ,KAC7B,IAAe,IAAXlY,GAAgBA,EAAQsL,EAAO/c,OAAS,EAExC,MAAM,IAAIQ,MAAM,kCAEpB,IAGIq3B,EAHAa,EAAgB3b,EAAOga,SAAS,MAAQ,EAAIha,EAAOga,SAAS,KAAO,EAAI,EACvEtgC,EAAIsmB,EAAO/c,OACXmgB,EAAS,IAAIrO,WAAgBrb,EAAI,EAAT,GAE5B,IAAK,IAAIzB,EAAI,EAAG2jC,EAAI,EAAG3jC,EAAIyB,EAAGzB,GAAK,EAAG2jC,GAAK,EAEvCd,EACIjjC,KAAKgkC,cAAc7b,EAAO6a,WAAW5iC,KAAO,GAC5CJ,KAAKgkC,cAAc7b,EAAO6a,WAAW5iC,EAAI,KAAO,GAChDJ,KAAKgkC,cAAc7b,EAAO6a,WAAW5iC,EAAI,KAAO,EAChDJ,KAAKgkC,cAAc7b,EAAO6a,WAAW5iC,EAAI,IAC7CmrB,EAAOwY,GAAKd,GAAU,GACtB1X,EAAOwY,EAAI,GAAMd,GAAU,EAAK,IAChC1X,EAAOwY,EAAI,GAAc,IAATd,EAEpB,OAAO1X,EAAO0Y,SAAS,EAAG1Y,EAAOngB,OAAS04B,GAGtC,qBAAqBI,GAEzB,MAAMC,EAAc,CAChB,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAC1E,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,EAAG,IAAK,IAC/D,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GACnD,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAChE,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC7D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAG5C,GAAID,GAAYC,EAAY/4B,OAExB,MAAM,IAAIQ,MAAM,kCAEpB,MAAMw4B,EAAOD,EAAYD,GACzB,GAAa,MAATE,EAEA,MAAM,IAAIx4B,MAAM,kCAEpB,OAAOw4B,EAGX,oBAAoBjc,EAAgBC,EAAkB/lB,GAElD,OAAQgiC,MAAMlc,GACTtK,MAAK,SAAUymB,GAAO,OAAOA,EAAIC,iBACjC1mB,MAAK,SAAU2mB,GAAO,OAAO,IAAIC,KAAK,CAACD,GAAMpc,EAAU/lB,MAIhE,oBAAoB8lB,EAAgBM,EAAc,GAAIC,EAAY,KAE9D,MAAMgc,EAAiB5B,KAAK3a,GACtBwc,EAAa,GAEnB,IAAK,IAAInM,EAAS,EAAGA,EAASkM,EAAet5B,OAAQotB,GAAU9P,EAC/D,CACI,MAAMkK,EAAQ8R,EAAe9R,MAAM4F,EAAQA,EAAS9P,GAC9Ckc,EAAc,IAAIloB,MAAMkW,EAAMxnB,QACpC,IAAK,IAAIhL,EAAI,EAAGA,EAAIwyB,EAAMxnB,OAAQhL,IAC9BwkC,EAAYxkC,GAAKwyB,EAAMoQ,WAAW5iC,GAEtC,MAAMykC,EAAY,IAAI3nB,WAAW0nB,GACjCD,EAAWnR,KAAKqR,GAIpB,OADa,IAAItC,KAAKoC,EAAY,CAAE37B,KAAMyf,IAI9C,uBAAuB0a,EAAqB/C,GAExC,IAEI,IAAI/0B,EAAU83B,EACV2B,EAAMtgB,OAAOxY,SACZ84B,EAAIC,mBAAsBD,EAAIE,sBAAyBF,EAAIG,yBAA4BH,EAAII,sBAGxF75B,EAAQ85B,kBACR95B,EAAQ85B,oBACH95B,EAAQ+5B,qBACb/5B,EAAQ+5B,uBACH/5B,EAAQg6B,wBACbh6B,EAAQg6B,0BACHh6B,EAAQi6B,oBACbj6B,EAAQi6B,sBAGa,MAAjBlF,GACAA,KAKhB,MAAO9lB,GAEkB,MAAjB8lB,GACAA,KAIZ,wBAEI,IAEI,IAAI0E,EAAMtgB,OAAOxY,UACV84B,EAAIC,mBAAsBD,EAAIE,sBAAyBF,EAAIG,yBAA4BH,EAAII,uBAG1FJ,EAAIS,eACJT,EAAIS,iBACCT,EAAIU,oBACTV,EAAIU,sBACCV,EAAIW,qBACTX,EAAIW,uBACCX,EAAIY,kBACTZ,EAAIY,oBAIhB,MAAOprB,KAIX,YAAYjP,EAAwCs6B,GAE/B,MAAbA,IAAmBA,EAAY,IAAIC,GACV,MAAzBD,EAAUE,cAAqBF,EAAUE,YAAc,IACjC,MAAtBF,EAAUlL,WAAkBkL,EAAUlL,SAAWqL,EAAsBC,MAE3E,EAAA56B,KAAKE,GAAS8Q,GAAG,YAAc+b,IAE3B,IAAIC,EAAoBD,EAAIE,QACxBC,EAAoBH,EAAII,QAExB6K,EAAS,EAAAh4B,KAAK+sB,EAAI8N,eAClBC,EAA0B9C,EAAO3K,SAASzR,KAC1Cmf,EAA0B/C,EAAO3K,SAAS5R,IAG1Cuf,GAAY,EACZC,GAAa,EACbC,GAAU,EACVC,GAAY,EACZC,GAAQ,EAIZ,EAAAp7B,KAAKa,UAAUmQ,GAAG,YAAcwc,IAE5B,IAAI6N,EAAkB7N,EAAIP,QACtBqO,EAAkB9N,EAAIL,QACtBoO,EAAQvO,EAAoBqO,EAC5BG,EAAQtO,EAAoBoO,EAEhC,GAAM9N,EAAIP,SAAWD,GAAqBQ,EAAIL,SAAWD,EACzD,CAEI,IAAIuO,EAAe,EACfC,EAAc,EAClB,OAAQlB,EAAWlL,UAEf,KAAKqL,EAAsBC,KAEnBa,EAAgBjO,EAAIP,QAAW7e,EAAE4pB,EAAO,IAAI5nB,QAAW,EACvDsrB,EAAclO,EAAIL,QAEtB,MACJ,KAAKwN,EAAsBgB,WAEnBF,EAAgBjO,EAAIP,QAAW7e,EAAE4pB,EAAO,IAAI5nB,QAAW,EACvDsrB,EAAcX,EAElB,MACJ,KAAKJ,EAAsBiB,SAEnBH,EAAeX,EACfY,EAAclO,EAAIL,QAQ9B,GAJA6K,EAAO3K,OAAO,CAAE5R,IAAKigB,EAAa9f,KAAM6f,IAIb,MAAvBjB,EAAWqB,SACf,CACI,IAAIC,EAAiB,IAAIC,EACzBD,EAAelgB,KAAOoc,EAAO5gC,WAAWwkB,KACxCkgB,EAAergB,IAAMuc,EAAO5gC,WAAWqkB,IACvCqgB,EAAe57B,QAAUkO,EAAElO,GAAgB,GAC3Cs6B,EAAWqB,SAASC,IAM5B,GAAI1Z,KAAKC,IAAIkZ,GAASnZ,KAAKC,IAAImZ,GAC/B,CACI,GAAiB,MAAbhB,GAA8B,GAATe,EACrB,OAEJH,GAAQ,EACJG,EAAQf,EAAWE,YACnBM,GAAY,EACPO,GAASf,EAAWE,cACzBO,GAAa,QAEhB,GAAI7Y,KAAKC,IAAIkZ,GAASnZ,KAAKC,IAAImZ,GACpC,CACI,GAAiB,MAAbhB,GAA8B,GAATe,EACrB,OAEJH,GAAQ,EACJI,EAAQhB,EAAWE,YACnBQ,GAAU,EACLM,GAAShB,EAAWE,cACzBS,GAAY,MAOxB,EAAAn7B,KAAKa,UAAUitB,QAAS3e,IAkBpB,GAhBA,EAAAnP,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,aAGlBoN,GAAoC,MAAvBR,EAAWwB,UACxBxB,EAAWwB,WAEXf,GAAsC,MAAxBT,EAAWyB,WACzBzB,EAAWyB,YAEXf,GAAgC,MAArBV,EAAW0B,QACtB1B,EAAW0B,SAEXf,GAAoC,MAAvBX,EAAW2B,UACxB3B,EAAW2B,WAEXf,GAA+B,MAAtBZ,EAAW4B,QACxB,CACI,IAAIN,EAAiB,IAAIC,EACzBD,EAAelgB,KAAOoc,EAAO5gC,WAAWwkB,KACxCkgB,EAAergB,IAAMuc,EAAO5gC,WAAWqkB,IACvCqgB,EAAe57B,QAAUkO,EAAElO,GAAgB,GAC3Cs6B,EAAW4B,QAAQN,UAoBvC,IAAK3H,EAqCOwG,GArCZ,SAAKxG,GAED,yBACA,2BACA,qBACA,qBACA,iBACA,mBACA,mBACA,uBACA,6BACA,yBACA,4BACA,4BAbJ,CAAKA,MAAS,KAgBd,MAAMsG,EAAN,cAEW,KAAAC,YAAuB,IAYlC,MAAMqB,IAON,SAAYpB,GAER,2BACA,+BACA,mBAJJ,CAAYA,EAAA,EAAAA,wBAAA,EAAAA,sBAAqB,M,qGChoBjC,aAEA,sBAGI,6BAEI,IAAI0B,EAAmB,IAAIC,EAG3B,OAFAD,EAAiBjsB,MAAQiJ,OAAOkjB,OAAOnsB,MAAQiJ,OAAOmjB,iBACtDH,EAAiBhsB,OAASgJ,OAAOkjB,OAAOlsB,OAASgJ,OAAOmjB,iBACjDH,EAGX,sBAEI,OAAQxnC,KAAK4nC,sBAAsBrsB,MAAQ,IAG/C,kBAEI,IAAIisB,EAAmBxnC,KAAK4nC,sBAC5B,OAAQJ,EAAiBjsB,MAAQ,MAAQisB,EAAiBjsB,OAAS,IAGvE,mBAEI,OAAQvb,KAAK4nC,sBAAsBrsB,OAAS,KAGhD,kBAEI,OAAwC,MAAnCgM,UAAkBsgB,cACXtgB,UAAkBsgB,cAAcC,OAErC9nC,KAAK0U,gBAAkB1U,KAAK4U,WAKvC,mBAEI,GAAI5U,KAAKgV,WACT,CACI,IAAIwG,EAASgJ,OAAOkjB,OAAOlsB,OACvBD,EAAQiJ,OAAOkjB,OAAOnsB,MAC1B,GAAIC,EAAS,KAAOD,EAAQ,IACxB,OAAO,EAEf,OAAO,EAGX,kBAEI,OAAOgM,UAAUwgB,UAAU5U,MAAM,WAKrC,iBAEI,OAAInzB,KAAKqV,YAAoB,EAAA/I,gBAAgB07B,QACpChoC,KAAKsV,SAAiB,EAAAhJ,gBAAgB27B,KACtCjoC,KAAKkV,qBAA6B,EAAA5I,gBAAgB47B,iBAClDloC,KAAKuV,UAAkB,EAAAjJ,gBAAgB67B,MACvCnoC,KAAKwV,YAAoB,EAAAlJ,gBAAgB87B,QACzCpoC,KAAKoV,WAAmB,EAAA9I,gBAAgB+7B,OACxCroC,KAAKmV,WAAmB,EAAA7I,gBAAgBg8B,OACxCtoC,KAAKyV,cAAsB,EAAAnJ,gBAAgBi8B,UAEzC,UAGP,gBAAgBC,GAEpB,OAAOjhB,UAAUwgB,UAAUzc,cAAcmd,OAAOD,EAAQld,gBAAkB,EAG9E,4BAEI,QAAUtf,SAAiB08B,cAAgB1oC,KAAK2oC,SAAS,SAAW3oC,KAAK2oC,SAAS,WAGtF,kBAEI,SAAWnkB,OAAeokB,wBAA2BpkB,OAAeqkB,SAC7D7oC,KAAK2oC,SAAS,YAAc3oC,KAAK2oC,SAAS,YAAc3oC,KAAK2oC,SAAS,WAAa3oC,KAAK2oC,SAAS,YAG5G,kBAEI,OAAQ3oC,KAAK2oC,SAAS,UAAY3oC,KAAK2oC,SAAS,aAAgBnkB,OAAeskB,UACvE9oC,KAAK2oC,SAAS,cAAgB3oC,KAAK2oC,SAAS,OAGxD,mBAEI,OAAQ3oC,KAAK2oC,SAAS,YAAc3oC,KAAK2oC,SAAS,UAAY3oC,KAAK2oC,SAAS,YAAc3oC,KAAK2oC,SAAS,aAG5G,gBAEI,OAAO3oC,KAAK2oC,SAAS,OAGzB,iBAEI,OAAO3oC,KAAK2oC,SAAS,QAAU3oC,KAAK2oC,SAAS,SAGjD,mBAEI,OAAO3oC,KAAK2oC,SAAS,WAGzB,qBAEI,OAAO3oC,KAAK2oC,SAAS,eAK7B,MAAMlB,K,sGCzHN,cAGA,MAAah9B,EAIT,WAAWE,IAEoC,IAAvCA,EAAQtI,UAAUq6B,kBAA6C,MAAhB/xB,EAAQwL,MAAgC,IAAhBxL,EAAQwL,MAC/EnW,KAAK+oC,oBAAoB5R,IAAIxsB,EAAQwL,KAAMxL,GAGnD,WAAgCH,GAE5B,OAAOxK,KAAK+oC,oBAAoB9nC,IAAIuJ,GAGxC,cAAcA,GAEO,IAAbA,GAAgC,MAAbA,GACnBxK,KAAK+oC,oBAAoBC,OAAOx+B,IAlB5C,mBAEmB,EAAAu+B,oBAAqD,IAAI,EAAAE,Y,gMCL5E,aACA,OACA,OAGA,MAAa1kC,UAA0B,EAAAwG,kBAAvC,sBA2BA,MAAa1G,UAAmB,EAAA6kC,UAO5B,YAAY79B,EAAsBhJ,GAa9B,GAVe,MAAXA,IACAA,EAAU,IAAIkC,GAEQ,MAAtBlC,EAAQ8mC,aAAoB9mC,EAAQ8mC,WAAa,EAAAx6B,eAAey6B,OAChD,MAAhB/mC,EAAQd,OAAcc,EAAQd,KAAO,EAAAiD,aAAa6e,MAC5B,MAAtBhhB,EAAQgnC,aAAoBhnC,EAAQgnC,YAAa,GACvB,MAA1BhnC,EAAQinC,iBAAwBjnC,EAAQinC,gBAAiB,GACxC,MAAjBjnC,EAAQwC,QAAexC,EAAQwC,MAAQ,EAAAC,cAAcykC,KACjC,MAApBlnC,EAAQmnC,WAAkBnnC,EAAQmnC,UAAW,GAE3B,MAAlBnnC,EAAQssB,OAER,OAAQtsB,EAAQwC,OAEZ,KAAK,EAAAC,cAAcykC,IAAKlnC,EAAQssB,OAAS,EAAArc,eAAem3B,UAAW,MACnE,KAAK,EAAA3kC,cAAcC,MAAO1C,EAAQssB,OAAS,EAAArc,eAAevN,MAAO,MACjE,KAAK,EAAAD,cAAcG,KAAM5C,EAAQssB,OAAS,EAAArc,eAAerN,KAAM,MAC/D,QACI5C,EAAQssB,OAAS,EAAArc,eAAem3B,UAO5C,GAH4B,MAAxBpnC,EAAQqnC,eACRrnC,EAAQqnC,aAAe,IAEvBrnC,EAAQd,MAAQ,EAAAiD,aAAaC,KACjC,CAII,GAHqB,MAAjBpC,EAAQkZ,QACRlZ,EAAQkZ,MAAQ,IAED,MAAflZ,EAAQk0B,IACZ,CACI,IAAIoT,EAAiB,IAAItmB,KACzBsmB,EAAerZ,SAAS,EAAG,GAC3BjuB,EAAQk0B,IAAMoT,EAGlB,GAAmB,MAAftnC,EAAQg0B,IACZ,CACI,IAAIuT,EAAiB,IAAIvmB,KACzBumB,EAAetZ,SAAS,GAAI,IAC5BjuB,EAAQg0B,IAAMuT,OAItB,CACI,GAAmB,MAAfvnC,EAAQk0B,IACZ,CACI,IAAIoT,EAAiBtmB,KAAKkJ,UAC1Bod,EAAerZ,SAAS,EAAG,GAC3BjuB,EAAQk0B,IAAMoT,EAGlB,GAAmB,MAAftnC,EAAQg0B,IACZ,CACI,IAAIuT,EAAiBvmB,KAAKmJ,UAC1Bod,EAAiBA,EAAe9Z,WAAW,GAC3C8Z,EAAetZ,SAAS,GAAI,IAC5BjuB,EAAQg0B,IAAMuT,EAGdvnC,EAAQd,MAAQ,EAAAiD,aAAaG,UAA6B,MAAjBtC,EAAQkZ,QACjDlZ,EAAQkZ,MAAQ,KAIxB0N,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB2B,YACxCrE,KAAK6pC,uBAAyB,EAE9B,EAAA1+B,KAAKE,GAASS,KAAK,OAAQ,QAEN,MAAjBzJ,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,MACzEn7B,KAAKqL,UAAUoQ,MAAMC,SAAW,sEAGpC,IAAIouB,EAAa,KACjB,OAAQznC,EAAQd,MAEZ,KAAK,EAAAiD,aAAa6e,KAAMymB,EAAa,EAAA9+B,eAAe9C,WAAW,EAAAwE,iBAAiB3F,UAAW,MAC3F,KAAK,EAAAvC,aAAaC,KAAMqlC,EAAa,EAAA9+B,eAAe9C,WAAW,EAAAwE,iBAAiBq9B,OAAQ,MACxF,KAAK,EAAAvlC,aAAaG,SACd,CACI,IAAIqlC,EAAgB,EAAA7+B,KAAK,+CAA+CmL,eAAetW,KAAKsC,aAAa,GACrGwnC,EAAa,EAAA9+B,eAAe9C,WAAW,EAAAwE,iBAAiB3F,UAC5D,EAAAoE,KAAK6+B,GAAe59B,aAAa09B,GACjC,EAAA3+B,KAAK6+B,GAAepH,MAAM,KAEjB5iC,KAAKiqC,YAGVjqC,KAAKkqC,QACLlqC,KAAKmqC,yBAGY,MAAjB9nC,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,MACzE6O,EAAcvuB,MAAMC,SAAW,8BAEnC,IAAI0uB,EAAoB,EAAAj/B,KAAK,uCAAuCmL,eAAetW,KAAKsC,aAAa,GACjG+nC,EAAiB,EAAAr/B,eAAe9C,WAAW,EAAAwE,iBAAiBq9B,OAChE,EAAA5+B,KAAKi/B,GAAmBh+B,aAAai+B,GACrC,EAAAl/B,KAAKi/B,GAAmBxH,MAAOtoB,IAEtBta,KAAKiqC,YAGVjqC,KAAKkqC,QACLlqC,KAAKsqC,yBAGY,MAAjBjoC,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,MACzEiP,EAAkB3uB,MAAMC,SAAW,+BAKnD,GAAkB,MAAdouB,EACJ,CACI,IAAIE,EAAgB,EAAA7+B,KAAK,uCAAuCmL,eAAetW,KAAKsC,aAAa,GAC5E,MAAjBD,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,MACzE6O,EAAcvuB,MAAMC,SAAW,8BAEnC,EAAAvQ,KAAK6+B,GAAe59B,aAAa09B,GACjC,EAAA3+B,KAAK6+B,GAAepH,MAAM,KAEjB5iC,KAAKiqC,YAGN,EAAA9+B,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,YACrB7L,KAAKkqC,QAELlqC,KAAK2T,UAMM,MAAnBtR,EAAQ+T,SACR,EAAAjL,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQ+T,SAI/C,EAAAjL,KAAKnL,KAAKqL,WAAWm/B,MAAOlwB,IAExB,IAAIjZ,EAASiZ,EAAE6oB,OAA4B9hC,MAC3C,GAAa,IAATA,EAIA,OAFArB,KAAKyqC,gBAAgBppC,QACrBiZ,EAAE0e,iBAIN,GAAI1e,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MAEjB1qC,KAAKyqC,gBAAiBnwB,EAAE6oB,OAA4B9hC,OAEzB,MAAvBgB,EAASsoC,YACTtoC,EAASsoC,kBAIb,GAAwB,MAApBtoC,EAASuoC,QACb,CACI,IAAI7lB,EAAQ,IAAI8lB,EAChB9lB,EAAM+lB,OAAS9qC,KACf+kB,EAAMhS,KAAQuH,EAAE6oB,OAA4B9hC,MAC5C0jB,EAAMpjB,IAAM2Y,EAAE3Y,IACdojB,EAAMgmB,SAAWzwB,EAAEywB,SACnBhmB,EAAMimB,OAAS1wB,EAAE0wB,OACjBjmB,EAAMkmB,QAAU3wB,EAAE2wB,QAClBlmB,EAAMmmB,SAAW5wB,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MAClC3lB,EAAMomB,aAAe7wB,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,UACtCrmB,EAAMsmB,OAAS/wB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IAChCjpC,EAASuoC,QAAQ7lB,MAI7B,EAAA5Z,KAAKnL,KAAKqL,WAAWszB,KAAMrkB,IAEvB,IAAIjZ,EAAwB,MAAfrB,KAAKurC,OAAkB,IAAIloB,KAAKrjB,KAAKurC,QAAU,KAK5D,GAJAvrC,KAAKurC,OAASvrC,KAAKyqC,gBAAiBnwB,EAAE6oB,OAA4B9hC,OAAO,GACtD,MAAfrB,KAAKurC,QACLvrC,KAAKwrC,eAEJ,EAAAxgC,eAAeua,OAAOlkB,EAAOrB,KAAKurC,QACvC,CACI,IAAIE,EAAgB,IAAIC,EACxB,GAA+B,MAA3BrpC,EAASspC,iBAETF,EAAcX,OAAS9qC,KACvByrC,EAAcpqC,MAAwB,MAAfrB,KAAKurC,OAAkB,IAAIloB,KAAKrjB,KAAKurC,QAAW,KACvEE,EAAcG,cAAgBvqC,EAC9BgB,EAASspC,eAAeF,GAEpBA,EAAc1nB,sBACd,OAGR/jB,KAAK6rC,SAGT,GAAuB,MAAnBxpC,EAASypC,OACb,CACI,IAAI/mB,EAAQ,IAAIgnB,EAChBhnB,EAAM+lB,OAAS9qC,KACfqC,EAASypC,OAAO/mB,MAGxB,EAAA5Z,KAAKnL,KAAKqL,WAAWu3B,MAAOtoB,GAAyBta,KAAK6pC,uBAA0BvvB,EAAE6oB,OAA4B6I,gBAClH,EAAA7gC,KAAKnL,KAAKqL,WAAWyc,MAAOxN,IAIxB,GAFCta,KAAKqL,UAA+B0c,SAEb,MAApB1lB,EAAS4pC,QACb,CACI,IAAIlnB,EAAQ,IAAImnB,EAChBnnB,EAAM+lB,OAAS9qC,KACfqC,EAAS4pC,QAAQlnB,MAMzB,EAAA5Z,KAAKE,GAAS8gC,QAAS7xB,IAEnB,IAAI8xB,EAAuB9xB,EAAE6oB,OAA4B6I,eAuCzD,GAtCII,GAAuBpsC,KAAK6pC,yBAC5B7pC,KAAK6pC,uBAAyBuC,GAE9B9xB,EAAE3Y,KAAO,EAAA4Q,QAAQ85B,WACjBrsC,KAAK6pC,uBAAyBuC,EAAsB,EAC/C9xB,EAAE3Y,KAAO,EAAA4Q,QAAQ+5B,UACtBtsC,KAAK6pC,uBAAyBuC,EAAsB,EAC/C9xB,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,QAEF,MAAhBvsC,KAAKqB,UAEDrB,KAAK6pC,wBAA0B,GAAK7pC,KAAK6pC,wBAA0B,EACnE7pC,KAAKqB,MAAMrB,KAAKqB,QAASyuB,UAAU,IAC9B9vB,KAAK6pC,wBAA0B,GAAK7pC,KAAK6pC,wBAA0B,EACxE7pC,KAAKqB,MAAMrB,KAAKqB,QAASmuB,YAAY,IAChCxvB,KAAK6pC,wBAA0B,GACpC7pC,KAAKqB,MAAMrB,KAAKqB,QAAS+tB,WAAW,KAGvC9U,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,WAEF,MAAhBxsC,KAAKqB,UAEDrB,KAAK6pC,wBAA0B,GAAK7pC,KAAK6pC,wBAA0B,EACnE7pC,KAAKqB,MAAMrB,KAAKqB,QAASyuB,WAAW,IAC/B9vB,KAAK6pC,wBAA0B,GAAK7pC,KAAK6pC,wBAA0B,EACxE7pC,KAAKqB,MAAMrB,KAAKqB,QAASmuB,aAAa,IACjCxvB,KAAK6pC,wBAA0B,GACpC7pC,KAAKqB,MAAMrB,KAAKqB,QAAS+tB,YAAY,KAI7C9U,EAAE3Y,KAAO,EAAA4Q,QAAQ85B,YAAc/xB,EAAE3Y,KAAO,EAAA4Q,QAAQ+5B,WAAahyB,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,SAAWjyB,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,YAE1GxsC,KAAKysC,uBACLnyB,EAAE0e,kBAGoB,MAAtB32B,EAASqqC,UACb,CACI,IAAI3nB,EAAQ,IAAI4nB,EAChB5nB,EAAM+lB,OAAS9qC,KACf+kB,EAAMpjB,IAAM2Y,EAAE3Y,IACdojB,EAAMgmB,SAAWzwB,EAAEywB,SACnBhmB,EAAMimB,OAAS1wB,EAAE0wB,OACjBjmB,EAAMkmB,QAAU3wB,EAAE2wB,QAClBlmB,EAAMmmB,SAAW5wB,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MAClC3lB,EAAMomB,aAAe7wB,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,UACtCrmB,EAAMsmB,OAAS/wB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IAChCjpC,EAASqqC,UAAU3nB,MAMN,MAAjB1iB,EAAQhB,OACRrB,KAAKqB,MAAMgB,EAAQhB,OAAO,GAG9BmjB,OAAOooB,iBAAiB,QAAUtyB,KAE1B,EAAAnP,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,aAAgB,EAAAV,KAAKnL,KAAKuqC,QAAQ,GAAGsC,SAASvyB,EAAE6oB,SAAY,EAAAh4B,KAAKnL,KAAKsC,aAAa,GAAGuqC,SAASvyB,EAAE6oB,SAAYnjC,KAAK8sC,aACvI9sC,KAAKkqC,WAGuB,MAAhB,EAAAn+B,aAAwB,EAAAA,aAAeC,UAC7C4gC,iBAAiB,SAAWtyB,KAEjC,EAAAnP,KAAKmP,EAAE6oB,QAAQ7E,SAAS,qBAAuB,EAAAnzB,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,aACrE7L,KAAKkqC,UACV,GAIP,QAEI,EAAA/+B,KAAKnL,KAAKuqC,QAAQlwB,SACjBra,KAAKuqC,OAAiB,KAG3B,OAEI,IAAKvqC,KAAKiqC,UACN,OAMJ,OAJmB,MAAfjqC,KAAKuqC,SACLvqC,KAAKuqC,OAAS,EAAAp/B,KAAK,6CAA+CnL,KAAKqL,UAAU8K,GAAK,qBAAqBG,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,IAEvKjM,KAAK+sC,aACHxrC,MAEZ,KAAK,EAAAiD,aAAa6e,KAClB,KAAK,EAAA7e,aAAaG,SACd3E,KAAKmqC,sBAAuB,MAChC,KAAK,EAAA3lC,aAAaC,KAAMzE,KAAKsqC,sBAGjCtqC,KAAK8sC,aAAc,EACnBtoB,OAAOwa,WAAW,IAAMh/B,KAAK8sC,aAAc,EAAO,KAG9C,gBAAgBE,EAAmBC,GAAa,GAGpD,OADcjtC,KAAK+sC,aACHxrC,MAEZ,KAAK,EAAAiD,aAAa6e,KAAM,OAAOrjB,KAAKktC,sBAAsBF,EAAWC,GACrE,KAAK,EAAAzoC,aAAaG,SAAU,OAAO3E,KAAKmtC,0BAA0BH,GAClE,KAAK,EAAAxoC,aAAaC,KAAM,OAAOzE,KAAKotC,sBAAsBJ,EAAWC,GAEzE,OAAO,KAIH,sBAEJ,IAAI5qC,EAAUrC,KAAK+sC,aAEA,MAAf/sC,KAAKuqC,SACLvqC,KAAKuqC,OAAS,EAAAp/B,KAAK,6CAA+CnL,KAAKqL,UAAU8K,GAAK,qBAAqBG,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,IAErL,EAAAd,KAAKnL,KAAKuqC,QAAQ1L,YAAY,mBAC9B,EAAA1zB,KAAKnL,KAAKuqC,QAAQzP,SAAS,mBAE3B,EAAAh0B,eAAe,CACXzF,MAAwB,MAAhBrB,KAAKqB,QAAmB,IAAIgiB,KAAKrjB,KAAKqB,QAASyb,iBAAcY,EACrE2vB,cAAe,GACfxoC,MAAOxC,EAAQwC,MACfyoC,cAAgBhzB,IAGZ,GADAta,KAAKkqC,QACU,MAAX5vB,EAAEjZ,MACN,CACI,IAAIksC,EAA+B,MAAhBvtC,KAAKqB,QAAmBrB,KAAKqB,QAAS4oB,WAAe5nB,EAAQd,MAAQ,EAAAiD,aAAaG,UAAY,IAAI0e,MAAO4G,WAAa,EACrIujB,EAAiC,MAAhBxtC,KAAKqB,QAAmBrB,KAAKqB,QAAS8oB,aAAiB9nB,EAAQd,MAAQ,EAAAiD,aAAaG,UAAY,IAAI0e,MAAO8G,aAAe,EAE3IsjB,EAAe,IAAIpqB,KAAK/I,EAAEjZ,MAAMsoB,cAAerP,EAAEjZ,MAAMwoB,WAAYvP,EAAEjZ,MAAM0oB,UAAWwjB,EAAaC,GACvGxtC,KAAKqB,MAAMosC,MAGpBztC,KAAKuqC,QAERthB,MAAMykB,aAAa1tC,KAAKuqC,OAAQloC,EAAQ26B,eAGpC,sBAAsBgQ,EAAmBC,GAAa,GAE1D,IAAI5qC,EAAUrC,KAAK+sC,aACnB,GAAiB,MAAbC,GAAkC,IAAbA,EAErB,OAAK3qC,EAAQmnC,UAObxpC,KAAKurC,OAAS,UACT0B,GACDjtC,KAAK6rC,YAPL,EAAA7gC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,UACnF3tC,KAAKqB,MAAMrB,KAAKqB,SAAS,IAejC,GAJIrB,KAAK2uB,UAAY,EAAArc,eAAem3B,WAA6B,MAAhBzpC,KAAKqB,UAClD2rC,EAAYhtC,KAAKqB,QAASusB,mBAG1Bof,EAAUjxB,SAAS,MAAQixB,EAAUjxB,SAAS,MAAQixB,EAAUjxB,SAAS,MAAQixB,EAAUjxB,SAAS,KACxG,CACI,IAAI6xB,EAAyB,GACzBZ,EAAUjxB,SAAS,KACnB6xB,EAAeZ,EAAUrgB,MAAM,KAC1BqgB,EAAUjxB,SAAS,KACxB6xB,EAAeZ,EAAUrgB,MAAM,KAC1BqgB,EAAUjxB,SAAS,KACxB6xB,EAAeZ,EAAUrgB,MAAM,KAC1BqgB,EAAUjxB,SAAS,OACxB6xB,EAAeZ,EAAUrgB,MAAM,MAEnC,IAAI7C,EAAM8jB,EAAa,GACZ,MAAP9jB,IACAA,EAAMN,QAAQ,IAElB,IAAII,EAAQgkB,EAAa,GACZ,MAAThkB,IACAA,EAAQJ,QAAO,IAAInG,MAAOwG,aAE9B,IAAIH,EAAOkkB,EAAa,GACZ,MAARlkB,IACAA,EAAOF,QAAO,IAAInG,MAAOsG,gBAE7BD,EAAOF,OAAOxpB,KAAK6tC,aAAankB,IAEhC,IAAIokB,EAAe,IAAIzqB,KAAKoO,OAAO/H,GAAO+H,OAAO7H,GAAS,EAAG6H,OAAO3H,IAcpE,OAboB,MAAhBgkB,GAAwBzqB,KAAKoG,cAAcqkB,IAAiBrc,OAAO7H,IAAU,GAAK6H,OAAO7H,IAAU,IAC/FkkB,EAAajkB,WAAa,GAAM4H,OAAO7H,GAEvB,MAAhB5pB,KAAKqB,SAAoBgiB,KAAKwJ,SAAS7sB,KAAKqB,QAAUysC,GAGtD9tC,KAAKwrC,cAFLxrC,KAAKqB,MAAMysC,IAMf,EAAA9iC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,KACnF3tC,KAAK+tC,SAEFD,EAKX,IAAIE,EAAiBhB,EAAU1hB,cAAcqB,MAAM,KACnD,GAAIqhB,EAAe5iC,OAAS,EAC5B,CACI,IAAI6iC,EAAc,EAAAjjC,eAAekjC,qBAAqBF,EAAe,IACrE,IAAoB,GAAhBC,IAEgC,GAA5BD,EAAe,GAAG5iC,QAA2C,GAA5B4iC,EAAe,GAAG5iC,QACvD,CACI,IAAIse,EAAOykB,SAASH,EAAe,IACH,GAA5BA,EAAe,GAAG5iC,SAClBse,EAAO1pB,KAAK6tC,aAAaG,EAAe,KAE5C,IAAIlkB,EAAO9pB,KAAK+sC,aAAa5D,YAAc,EAAAx6B,eAAey6B,MAAS,EAAI/lB,KAAK6J,0BAA0B,IAAI7J,MAAK,IAAIA,MAAOsG,cAAeskB,EAAa,IAAIlkB,UAE1J,YADA/pB,KAAKqB,MAAM,IAAIgiB,KAAKqG,EAAMukB,EAAankB,KAOnD,IAAIskB,EAAgBpB,EAEpBA,GADAA,EAAYA,EAAU5yB,QAAQ,YAAa,KACrBA,QAAQ,MAAO,IACrC,IAAIi0B,EAAmB5c,OAAOub,GAE1BljB,EAAqB,EACrBF,EAAuB,EACvBF,EAAsB,EACtBokB,EAA4B,KAE5BQ,GAAY,IAAIjrB,MAAOsG,cACvB4kB,GAAa,IAAIlrB,MAAOwG,WAK5B,GAFmB,CAAC,OAAQ,SAAU,OAAQ,SAAU,aAAc,SAAU,UAAW,OAAQ,UAAW,YAC1G,eAAgB,WAAY,cACf9N,SAASixB,EAAU1hB,eACpC,CACI,OAAQ0hB,EAAU1hB,eAEd,IAAK,OACD,CACI,IAAIkjB,EAAQ,IAAInrB,KAChBmrB,EAAMle,SAAS,EAAG,GAClBtwB,KAAKqB,MAAMmtC,GAEf,MACJ,IAAK,SAAUxuC,KAAKqB,MAAM,IAAIgiB,MAAS,MACvC,IAAK,OAAQrjB,KAAKqB,OAAM,IAAIgiB,MAAOyM,WAAW,IAAK,MACnD,IAAK,SAAU9vB,KAAKqB,OAAM,IAAIgiB,MAAOyM,UAAU,IAAK,MACpD,IAAK,aAAc9vB,KAAKqB,OAAM,IAAIgiB,MAAOyM,UAAU,IAAK,MACxD,IAAK,SAAU9vB,KAAKqB,MAAM,IAAIgiB,KAAKirB,EAAW,GAAI,KAAM,MACxD,IAAK,UAAWtuC,KAAKqB,MAAM,IAAIgiB,KAAK,KAAM,EAAG,IAAK,MAClD,IAAK,WAAYrjB,KAAKqB,MAAM,IAAIgiB,KAAK,KAAM,EAAG,IAAK,MACnD,IAAK,OAAUrjB,KAAKqB,MAAM,IAAIgiB,KAAK,KAAM,EAAG,KAAQ,MACpD,IAAK,UAAarjB,KAAKqB,MAAM,IAAIgiB,KAAK,KAAM,EAAG,IAAO,MACtD,IAAK,YAAerjB,KAAKqB,MAAM,IAAIgiB,KAAK,KAAM,EAAG,KAAQ,MACzD,IAAK,eAAgBrjB,KAAKqB,MAAM,IAAIgiB,KAAKirB,EAAW,EAAG,KAAM,MAC7D,IAAK,WAAYtuC,KAAKqB,MAAM,IAAIgiB,KAAKirB,EAAW,GAAI,KAAM,MAC1D,IAAK,aAActuC,KAAKqB,MAAM,IAAIgiB,KAAKirB,EAAW,EAAG,IAEzD,OAAOtuC,KAAKqB,QAKhB,IAAI4sC,EAAc,EAAAjjC,eAAekjC,qBAAqBlB,EAAU1hB,eAChE,IAAoB,GAAhB2iB,EAGA,YADAjuC,KAAKqB,MAAM,IAAIgiB,KAAKirB,EAAWL,EAAejuC,KAAK+sC,aAAa5D,YAAc,EAAAx6B,eAAey6B,MAAS,EAAI/lB,KAAK6J,0BAA0B,IAAI7J,KAAKirB,EAAWL,EAAa,IAAIlkB,YAKlL,IAAI0kB,GAAkB,IAAIprB,MAAOsG,cAAc7M,WAC3C4xB,EAAgBP,SAASM,EAAgBxjB,OAAO,EAAG,GAAK,MAG5D,GAAwB,GAApB+hB,EAAU5hC,QAAmC,GAApB4hC,EAAU5hC,OAEnC,GAA4B,GAAxBgjC,EAAchjC,OAClB,CAC+B,kBACgBg4B,KAAKgL,KAG5CtkB,EAAM2H,OAAO2c,EAAc,IAC3BxkB,EAAQ6H,OAAO2c,EAAc,IAAM,EACnC1kB,EAAO4kB,QAKXxkB,EAAM2H,OAAOub,GACbpjB,EAAQ2kB,EACR7kB,EAAO4kB,OAGV,GAAwB,GAApBtB,EAAU5hC,OAEf0e,EAAM2H,OAAOub,EAAU,IACvBpjB,EAAQ6H,OAAOub,EAAU,GAAKA,EAAU,IAAM,EAC1CpjB,EAAQ,KAERE,EAAM2H,OAAOub,EAAU,GAAKA,EAAU,IACtCpjB,EAAQ6H,OAAOub,EAAU,IAAM,GAEnCtjB,EAAO4kB,OAEN,GAAwB,GAApBtB,EAAU5hC,OACnB,CACI,IAAIujC,EAAa3B,EAAU,GAAKA,EAAU,GAE1C,GADiBvb,OAAOkd,IACN,IAAOld,OAAOub,EAAU,GAAKA,EAAU,KAAO,GAE5DljB,EAAM2H,OAAOub,EAAU,GAAKA,EAAU,IACtCpjB,EAAQ6H,OAAOub,EAAU,GAAKA,EAAU,IAAM,EAC9CtjB,EAAO4kB,MAGX,CACI,IAAIM,EAAY5uC,KAAK6tC,aAAac,GAC9BN,GAAoBK,GAAiBL,IAAoB,IAAIhrB,MAAOsG,eAEpEG,EAAM,EACNF,EAAQ,EACRF,EAAOklB,EAEH5uC,KAAK+sC,aAAa5D,YAAc,EAAAx6B,eAAekgC,OAE/C/kB,EAAM,GACNF,EAAQ,MAKZE,EAAM2H,OAAOub,EAAU,IACvBpjB,EAAQ6H,OAAOub,EAAU,IAAM,EAC/BtjB,EAAOklB,SAId,GAAwB,GAApB5B,EAAU5hC,OACnB,CACI,IAAIujC,EAAa3B,EAAU,GAAKA,EAAU,GACtC4B,EAAY5uC,KAAK6tC,aAAac,GAElC7kB,EAAM2H,OAAOub,EAAU,IACvBpjB,EAAQ6H,OAAOub,EAAU,GAAKA,EAAU,IAAM,EAC1CpjB,EAAQ,KAERE,EAAM2H,OAAOub,EAAU,GAAKA,EAAU,IACtCpjB,EAAQ6H,OAAOub,EAAU,IAAM,GAEnCtjB,EAAOklB,OAEN,GAAwB,GAApB5B,EAAU5hC,OACnB,CACI,IAAIujC,EAAa3B,EAAU,GAAKA,EAAU,GACtC4B,EAAY5uC,KAAK6tC,aAAac,GAElC7kB,EAAM2H,OAAOub,EAAU,GAAKA,EAAU,IACtCpjB,EAAQ6H,OAAOub,EAAU,GAAKA,EAAU,IAAM,EAC1CpjB,EAAQ,KAERE,EAAM2H,OAAOub,EAAU,IACvBpjB,EAAQ6H,OAAOub,EAAU,IAAM,EAC/B4B,EAAYnd,OAAOub,EAAU,GAAKA,EAAU,GAAKA,EAAU,GAAKA,EAAU,KAG9EtjB,EAAOklB,OAEN,GAAwB,GAApB5B,EAAU5hC,OACnB,CACI,IAAIwjC,EAAYnd,OAAOub,EAAU,GAAKA,EAAU,GAAKA,EAAU,GAAKA,EAAU,IAE9EljB,EAAM2H,OAAOub,EAAU,IACvBpjB,EAAQ6H,OAAOub,EAAU,GAAKA,EAAU,IAAM,EAC1CpjB,EAAQ,KAERE,EAAM2H,OAAOub,EAAU,GAAKA,EAAU,IACtCpjB,EAAQ6H,OAAOub,EAAU,IAAM,GAGnCtjB,EAAOklB,OAEkB,GAApB5B,EAAU5hC,SAEf0e,EAAM2H,OAAOub,EAAU,GAAKA,EAAU,IACtCpjB,EAAQ6H,OAAOub,EAAU,GAAKA,EAAU,IAAM,EAC9CtjB,EAAO+H,OAAOub,EAAU,GAAKA,EAAU,GAAKA,EAAU,GAAKA,EAAU,KAKzE,GADAc,EAAe,IAAIzqB,KAAKqG,EAAME,EAAOE,GACjCmjB,EACA,OAAOa,EAES,MAAhBA,GAAwBzqB,KAAKoG,cAAcqkB,IAAiBrc,OAAO7H,IAAU,GAAK6H,OAAO7H,IAAU,IAC/FkkB,EAAajkB,YAAe4H,OAAO7H,GAEnB,MAAhB5pB,KAAKqB,SAAoBgiB,KAAKwJ,SAAS7sB,KAAKqB,QAAUysC,GAGtD9tC,KAAKwrC,cAFLxrC,KAAKqB,MAAMysC,IAMf,EAAA9iC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,KACnF3tC,KAAK+tC,SAML,sBAGJ,IAAI1sC,EAAQrB,KAAKqB,QACb2oB,EAAkB,MAAT3oB,EAAiBA,EAAM4oB,WAAa,EAC7CC,EAAoB,MAAT7oB,EAAiBA,EAAM8oB,aAAe,EAGlC,MAAfnqB,KAAKuqC,SACLvqC,KAAKuqC,OAAS,EAAAp/B,KAAK,6CAA+CnL,KAAKqL,UAAU8K,GAAK,qBAAqBG,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,IAErL,EAAAd,KAAKnL,KAAKuqC,QAAQ1L,YAAY,mBAC9B,EAAA1zB,KAAKnL,KAAKuqC,QAAQzP,SAAS,mBAE3B7R,MAAMykB,aAAa1tC,KAAKuqC,OAAQ,CAAE/N,OAAO,IAEzC,IAAIn6B,EAAUrC,KAAK+sC,aAEf+B,EAAU,IAAIzrB,KAAKhhB,EAAQk0B,KAC3BwY,EAAU,IAAI1rB,KAAKhhB,EAAQg0B,KAC/ByY,EAAQvf,YAAY,KAAM,EAAG,GAC7Bwf,EAAQxf,YAAY,KAAM,EAAG,GAE7B,IAAIyf,EAA0B3rB,KAAKC,kCAAkCwrB,EAASC,GAC1EppB,EAAW4H,KAAKkF,MAAMuc,EAA0B3sC,EAAQqnC,cAExD7C,EAAc,EACdoI,EAAO,IAAI5rB,KAAKhhB,EAAQk0B,KAC5B,IAAK,IAAIn2B,EAAI,EAAGA,EAAIulB,EAAUvlB,IAC9B,CACI,IAAI2S,EAAOk8B,EAAKC,eACZC,EAAY1d,OAAO1e,EAAK4Z,MAAM,KAAK,IACnCyiB,EAAc3d,OAAO1e,EAAK4Z,MAAM,KAAK,IAErC0iB,EAAWrlB,GAASmlB,GAAajlB,GAAWklB,EAC5CrU,EAAQ/6B,KAAKsvC,gBAAgBv8B,EAAMs8B,GACvCJ,EAAK/e,aAAa7tB,EAAQqnC,cAGtB1f,GAASmlB,GAELjlB,EAAU7nB,EAAQqnC,cAAiB,GAAKxf,EAAUklB,GAAellB,EAAWklB,EAAc/sC,EAAQqnC,eAElG2F,GAAW,EACXt8B,EAAOyW,OAAOQ,GAAOjN,SAAS,EAAG,KAAO,IAAMyM,OAAOU,GAASnN,SAAS,EAAG,KAC1Ege,EAAQ/6B,KAAKsvC,gBAAgBv8B,EAAMs8B,IAKvCA,IACAxI,EAAc,EAAA17B,KAAK4vB,EAAM1vB,WAAWmtB,SAAS5R,IAAM,EAAAzb,KAAKnL,KAAKuqC,QAAQ/R,SAAS5R,IAAO,EAAAzb,KAAKnL,KAAKuqC,QAAQ/uB,SAAW,GAGtHqrB,EAAc,IAAGA,EAAc,GACnC7mC,KAAKuqC,OAAOgF,SAAS,EAAG1I,GAGpB,gBAAgB9zB,EAAcs8B,GAAW,GAE7C,IAAItU,EAAQ,EAAA34B,YACR,CACI2Q,KAAMA,EACNwI,MAAO,oBACP4gB,QAAU7hB,IAEN,IAAIjZ,EAAQ05B,EAAM15B,QACd2oB,EAAQ3oB,EAAMsrB,MAAM,KAAK,GACzBzC,EAAU7oB,EAAMsrB,MAAM,KAAK,GAE3B6iB,EAA8B,MAAhBxvC,KAAKqB,QAAmBrB,KAAKqB,QAASsoB,eAAgB,IAAItG,MAAOsG,cAC/E8lB,EAA+B,MAAhBzvC,KAAKqB,QAAmBrB,KAAKqB,QAASwoB,YAAa,IAAIxG,MAAOwG,WAC7E6lB,EAA8B,MAAhB1vC,KAAKqB,QAAmBrB,KAAKqB,QAAS0oB,WAAY,IAAI1G,MAAO0G,UAE/E/pB,KAAKkqC,QACL,IAAIuD,EAAe,IAAIpqB,KAAKmsB,EAAYC,EAAaC,EAAYje,OAAOzH,GAAQyH,OAAOvH,IACvFlqB,KAAKqB,MAAMosC,IAEf13B,IAAK,mBACL+lB,aAAc,sFAAwF,EAAa,0CAA4C,KAChK97B,KAAKuqC,QAEZ,OAAOxP,EAGH,sBAAsBiS,EAAmBC,GAAa,GAE1D,IAAI5qC,EAAUrC,KAAK+sC,aACnB,GAAiB,MAAbC,GAAkC,IAAbA,EAErB,OAAK3qC,EAAQmnC,UAObxpC,KAAKurC,OAAS,UACdvrC,KAAK6rC,WAND,EAAA7gC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,UACnF3tC,KAAKqB,MAAMrB,KAAKqB,SAAS,IAUjC2rC,GADAA,EAAYA,EAAU5yB,QAAQ,YAAa,KACrBA,QAAQ,MAAO,IACrC,IAAIi0B,EAAmB5c,OAAOub,GAE1BwB,EAAQ,IAAInrB,KAIhB,OAHAmrB,EAAMle,SAAS,EAAG,GAGV0c,EAAU1hB,eAEd,IAAK,SAAkC,YAAxBtrB,KAAKqB,MAAM,IAAIgiB,MAC9B,IAAK,OAAuD,YAA7CrjB,KAAKqB,MAAM,IAAIgiB,KAAK,KAAM,EAAG,GAAI,GAAI,KAQxD,GAHwB,GAApB2pB,EAAU5hC,QAAmC,GAApB4hC,EAAU5hC,SACnC4hC,EAAY,IAAMA,GAElB5gB,MAAMiiB,GAIN,OAFA,EAAArjC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,UACnF3tC,KAAK+tC,QAIT,IAAID,EAAeU,EACnB,GAAwB,GAApBxB,EAAU5hC,OACV0iC,EAAeA,EAAa9d,WAAWqe,QACtC,GAAwB,GAApBrB,EAAU5hC,OACnB,CACI,IAAI4e,EAAQyH,OAAOub,EAAU,GAAKA,EAAU,IACxC9iB,EAAUuH,OAAOub,EAAU,GAAKA,EAAU,IAC9Cc,EAAeA,EAAa9d,WAAWhG,GAAOkG,aAAahG,GAG/D,GAAI+iB,EACA,OAAOa,EAEX9tC,KAAKqB,MAAMysC,GAMP,0BAA0Bd,GAE9B,IAAI2C,EAAa3C,EAAUrgB,MAAM,KAAK,GAClCsiB,EAAOjvC,KAAKotC,sBAAsBuC,GAAY,GAE9CljB,EAAaugB,EAAUrgB,MAAM,KAAK,GAClCtD,EAAOrpB,KAAKktC,sBAAsBzgB,GAAY,GAOlD,OALY,MAARpD,IAEAA,EAAKiH,SAAS2e,EAAKhlB,WAAYglB,EAAK9kB,cACpCnqB,KAAKqB,MAAMgoB,IAERA,EAKH,aAAaslB,GAEjB,GAAyB,GAArBA,EAAWvjC,OACX,OAAOqmB,OAAOkd,GAElB,IAAIF,GAAkB,IAAIprB,MAAOsG,cAAc7M,WAC3C4xB,EAAgBjd,OAAOgd,EAAgBxjB,OAAO,EAAG,GAAK,MACtD2kB,EAAmBne,OAAOgd,EAAgBxjB,OAAO,EAAG,IAEpD4kB,EAAwC,GAArBlB,EAAWvjC,OAAe,IAAMujC,EAAaA,EAAW1jB,OAAO,EAAG,GAGrF6kB,EAAkB,GAMtB,OAJIA,EAHYre,OAAOoe,KAEJ,IAAIxsB,MAAOsG,cAAgB,GAAM+kB,EAC9BkB,EAAmBC,EAElBD,EAAmB,EAAKC,EAExCpe,OAAOqe,GAGV,uBAEJ,GAAK9vC,KAAKqL,UAAkB0kC,gBAC5B,CACI,IAAIC,EAAShwC,KAAKqL,UAAkB0kC,kBACpCC,EAAMC,KAAK,YAAajwC,KAAK6pC,wBAC7BmG,EAAMjoB,cAID/nB,KAAKqL,UAAkB2gC,gBAAkB,GAEzChsC,KAAKqL,UAAkByc,QACvB9nB,KAAKqL,UAAkB6kC,kBAAkBlwC,KAAK6pC,uBAAwB7pC,KAAK6pC,yBAG3E7pC,KAAKqL,UAAkByc,QAKpC,MAAMuB,EAAoB8mB,GAAyB,GAE/C,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAa,OAAT1jB,EACJ,CACI,IAAIoiB,EAAgB,IAAIC,EACxB,OAA8B,MAA1BrpC,EAAQspC,iBAERF,EAAcX,OAAS9qC,KACvByrC,EAAcpqC,MAAQ,IAAIgiB,KAAKgG,GAC/BoiB,EAAcG,cAAgC,MAAf5rC,KAAKurC,OAAkB,IAAIloB,KAAKrjB,KAAKurC,QAAW,KAC/ElpC,EAAQspC,eAAeF,GAEnBA,EAAc1nB,sBACP,KAGV1hB,EAAQmnC,UAOTxpC,KAAK+tC,QACE,OANP,EAAA/iC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,KAC5E3tC,KAAKurC,QASpB,GAAY,MAARliB,EACJ,CAII,GAHqB,iBAAV,IACPA,EAAOhG,KAAKiG,gBAAgBD,IAEpB,MAARA,EACA,MAAMzd,MAAM,4BAUhB,GAPIvJ,EAAQd,MAAQ,EAAAiD,aAAaC,OAE7B4kB,EAAKkG,aAAY,IAAIlM,MAAOsG,eAC5BN,EAAKwG,UAAS,IAAIxM,MAAOwG,aAIzBxnB,EAAQd,MAAQ,EAAAiD,aAAaC,KACjC,CACI,GAAI4kB,EAAK+G,aAAa/tB,EAAQk0B,KAK1B,OAHA,EAAAzjB,OAAO,2BAA6BzQ,EAAQk0B,IAAK3I,mBACjD,EAAA5iB,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,KACnF3tC,KAAK+tC,QACE,KAEX,GAAI1kB,EAAKkH,gBAAgBluB,EAAQg0B,KAK7B,OAHA,EAAAvjB,OAAO,4BAA8BzQ,EAAQg0B,IAAKzI,mBAClD,EAAA5iB,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,KACnF3tC,KAAK+tC,QACE,KAKf,GAAIoC,EACJ,CACI,IAAI1E,EAAgB,IAAIC,EACM,MAA1BrpC,EAAQspC,iBAERF,EAAcX,OAAS9qC,KACvByrC,EAAcpqC,MAAQ,IAAIgiB,KAAKgG,GAC/BoiB,EAAcG,cAAgC,MAAf5rC,KAAKurC,OAAkB,IAAIloB,KAAKrjB,KAAKurC,QAAW,KAC/ElpC,EAAQspC,eAAeF,IAGtBA,EAAc1nB,uBAEf/jB,KAAKurC,OAAS,IAAIloB,KAAKgG,GACvBrpB,KAAKwrC,cACLxrC,KAAK6rC,eAKT7rC,KAAKurC,OAAS,IAAIloB,KAAKgG,GACvBrpB,KAAKwrC,cAOb,GAHmB,MAAfxrC,KAAKurC,QACLvrC,KAAKurC,OAAO6E,WAAW,GAEvBpwC,KAAKuB,QAAU,EAAAiD,aAAaC,MAAuB,MAAfzE,KAAKurC,OAC7C,CACI,IAAIvhB,EAAQhqB,KAAKurC,OAAOthB,WACpBC,EAAUlqB,KAAKurC,OAAOphB,aAC1BnqB,KAAKurC,OAAS,IAAIloB,KAAK,KAAM,EAAG,EAAG2G,EAAOE,GAG9C,OAAOlqB,KAAKurC,OAGR,cAEJ,IAAIlpC,EAAUrC,KAAK+sC,aACf1hC,EAAWrL,KAAKqL,UAEpB,GAAgC,iBAApBhJ,EAAe,OAC3B,CACI,IAAIyrB,EAA0C,GAC9C,OAAQzrB,EAAQssB,QAEZ,KAAK,EAAArc,eAAem3B,UACpB,KAAK,EAAAn3B,eAAe+9B,qBAEZviB,EAAc,CACVpE,KAAOrnB,EAAQssB,QAAU,EAAArc,eAAem3B,UAAa,eAAY/rB,EACjEkM,MAAO,UACPE,IAAK,UACLiE,QAAQ,GAGhB,MACJ,KAAK,EAAAzb,eAAe6b,SACpB,KAAK,EAAA7b,eAAeg+B,oBAEZxiB,EAAc,CACVG,QAAS,OACTvE,KAAOrnB,EAAQssB,QAAU,EAAArc,eAAe6b,SAAY,eAAYzQ,EAChEkM,MAAO,OACPE,IAAK,UACLiE,QAAQ,GAGhB,MACJ,KAAK,EAAAzb,eAAei+B,QAEZziB,EAAc,CACVG,QAAS,OACTvE,KAAM,UACNE,MAAO,UACPE,IAAK,UACLiE,QAAQ,GAGhB,MACJ,KAAK,EAAAzb,eAAevN,MAEZ+oB,EAAc,CACVpE,KAAM,UACNE,MAAO,QAGf,MACJ,KAAK,EAAAtX,eAAerN,KAEZ6oB,EAAc,CACVpE,KAAM,WAKtB,IACI+C,EADgB,IAAIgC,KAAKC,eAAqC,KAAMZ,GACzCa,OAAO3uB,KAAKurC,QAAS3c,eAEpD,GAAIvsB,EAAQssB,QAAU,EAAArc,eAAek+B,UACrC,CACI,IAAIC,EAAiBptB,KAAK8J,0BAA0BntB,KAAKurC,QACrDmF,EAAgBD,EAAe3gB,UAAU,GAC7CrD,EAAagkB,EAAe7iB,kBAAoB,MAAQ8iB,EAAc9iB,uBAErE,GAAIvrB,EAAQssB,QAAU,EAAArc,eAAeq+B,eAC1C,CACI,IAAIF,EAAiBptB,KAAK8J,0BAA0BntB,KAAKurC,QACrDmF,EAAgBD,EAAe3gB,UAAU,IAC7CrD,EAAagkB,EAAe7iB,kBAAoB,MAAQ8iB,EAAc9iB,kBAG1E,OAAQvrB,EAAQd,MAEZ,KAAK,EAAAiD,aAAa6e,KAAMhY,EAAQhK,MAAQorB,EAAY,MACpD,KAAK,EAAAjoB,aAAaC,KAAM4G,EAAQhK,MAAQrB,KAAKurC,OAAQ2D,eAAgB,MACrE,KAAK,EAAA1qC,aAAaG,SAAU0G,EAAQhK,MAAQorB,EAAa,IAAMzsB,KAAKurC,OAAQ2D,qBAIhF7jC,EAAQhK,MAAQrB,KAAKurC,OAAQhd,eAAelsB,EAAQssB,OAAS,MAGrE,KAAKptB,GAED,IAAIc,EAAUrC,KAAK+sC,aAInB,OAHY,MAARxrC,IACAc,EAAQd,KAAOA,GAEZc,EAAQd,KAGnB,IAAIg1B,GAEA,IAAIl0B,EAAUrC,KAAK+sC,aAInB,OAHW,MAAPxW,IACAl0B,EAAQk0B,IAAMA,GAEXl0B,EAAQk0B,IAGnB,IAAIF,GAEA,IAAIh0B,EAAUrC,KAAK+sC,aAInB,OAHW,MAAP1W,IACAh0B,EAAQg0B,IAAMA,GAEXh0B,EAAQg0B,IAGnB,OAAO1H,EAAyBiiB,GAAa,GAEzC,IAAIvuC,EAAUrC,KAAK+sC,aAOnB,OANc,MAAVpe,IAEAtsB,EAAQssB,OAASA,EACbiiB,GACA5wC,KAAKqB,MAAMrB,KAAKqB,SAAS,IAE1BgB,EAAQssB,OAGnB,MAAMwhB,GAAgB,GAElBnwC,KAAKurC,OAAS,KACbvrC,KAAKqL,UAA+BhK,MAAQ,GAEzC8uC,GACAnwC,KAAK6rC,SAGb,UAEI,OAAuB,MAAhB7rC,KAAKqB,QAGhB,QAEI,EAAA8J,KAAKnL,KAAKqL,WAAWyvB,SAAS,qBAGlC,YAEI,EAAA3vB,KAAKnL,KAAKqL,WAAWwzB,YAAY,qBAG7B,aAEJ,OAAO7+B,KAAKqC,UAKhB,SAEI4mB,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoB+iB,YAAY,0BAC5D,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,4BAA4B+iB,YAAY,0BAGxE,UAEI5V,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoBgf,SAAS,0BACzD,EAAA3vB,KAAKnL,KAAKsC,aAAawZ,KAAK,4BAA4Bgf,SAAS,0BAKrE,SAEI,IAAI+V,EAAiB7wC,KAAK+sC,aAAaO,cACvC,GAAsB,MAAlBuD,EACJ,CACI,IAAIC,EAAc,IAAIC,EACtBD,EAAYhG,OAAS9qC,KACrB8wC,EAAYzvC,MAAyB,MAAhBrB,KAAKqB,QAAmB,IAAIgiB,KAAKrjB,KAAKqB,SAAY,KACvEwvC,EAAeC,KAjoC3B,eAuoCA,2BAAgCzsC,IAChC,+BAAoCA,IACpC,4BAAiCA,IACjC,2BAAgCA,IAIhC,MAAM2sC,UAAwB,EAAAnyB,iBAM9B,MAAMkyB,UAA8BC,GAKpC,MAAMtF,UAAgCsF,IAKtC,SAAYC,GAER,iBACA,qBACA,mBACA,uBALJ,CAAY,EAAAA,iBAAA,EAAAA,eAAc,KAQ1B,MAAM/E,UAA6B8E,GAInC,MAAMjF,UAA4BiF,GAIlC,MAAME,UAAkC,EAAAryB,iBAaxC,MAAMgsB,UAA6BqG,GAInC,MAAMvE,UAA+BuE,K,2NC/tCrC,aACA,OACA,OACA,OAGA,MAAa/tC,UAAuB,EAAA4H,kBAApC,mBA+BA,MAAa9H,UAAgB,EAAAimC,UAUzB,YAAY79B,EAAsBhJ,GAqC9B,GAlCe,MAAXA,IACAA,EAAU,IAAIc,GAEE,MAAhBd,EAAQd,OAAcc,EAAQd,KAAO,EAAA6B,aAAa+tC,MAC7B,MAArB9uC,EAAQ+uC,YAAmB/uC,EAAQ+uC,UAAY,EAAAvjC,sBAAsB+jB,SACrD,MAAhBvvB,EAAQgvC,OAAchvC,EAAQgvC,KAAO,GACpB,MAAjBhvC,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACvB,MAAhBlZ,EAAQ05B,OAAc15B,EAAQ05B,MAAO,GACjB,MAApB15B,EAAQmnC,WAAkBnnC,EAAQmnC,UAAW,GAClB,MAA3BnnC,EAAQivC,kBAAyBjvC,EAAQivC,iBAAkB,GAEvC,MAApBjvC,EAAQkwB,WAEJlwB,EAAQd,MAAQ,EAAA6B,aAAaC,QAC7BhB,EAAQkwB,SAAW,EACdlwB,EAAQd,MAAQ,EAAA6B,aAAaK,UAAYpB,EAAQd,MAAQ,EAAA6B,aAAaG,aAC3ElB,EAAQkwB,SAAW,IAGN,MAAjBlwB,EAAQs5B,QAEJt5B,EAAQd,MAAQ,EAAA6B,aAAaC,SAAWhB,EAAQd,MAAQ,EAAA6B,aAAaG,YAAclB,EAAQd,MAAQ,EAAA6B,aAAaK,SAChHpB,EAAQs5B,MAAQ,EAAA/tB,cAAc6tB,MAE9Bp5B,EAAQs5B,MAAQ,EAAA/tB,cAAc0tB,MAIZ,MAAtBj5B,EAAQkvC,aAAoBlvC,EAAQkvC,WAAa,IAAI,EAAAhzB,2BACzB,MAA5Blc,EAAQkvC,WAAWzsB,QAAeziB,EAAQkvC,WAAWzsB,MAAQ,EAAAhX,2BAA2B0jC,UACzD,MAA/BnvC,EAAQkvC,WAAWE,WAAkBpvC,EAAQkvC,WAAWE,SAAWhgB,OAAOigB,kBAC3C,MAA/BrvC,EAAQkvC,WAAWI,WAAkBtvC,EAAQkvC,WAAWI,SAAWlgB,OAAOmgB,kBAE1C,MAAhCvvC,EAAQkvC,WAAWM,YAAmBxvC,EAAQkvC,WAAWM,UAAY,IAAI,EAAAvzB,uBAChC,iBAAjCjc,EAAQkvC,WAAoB,UACxC,CACI,IAAIM,EAAYxvC,EAAQkvC,WAAWM,UACnCxvC,EAAQkvC,WAAWM,UAAY,IAAI,EAAAvzB,sBACnCjc,EAAQkvC,WAAWM,UAAUxwC,MAAQwwC,EAKzC,GAHmD,MAA/CxvC,EAAQkvC,WAAWM,UAAUC,iBAAwBzvC,EAAQkvC,WAAWM,UAAUC,eAAiB,KAEnE,MAAhCzvC,EAAQkvC,WAAWQ,YAAmB1vC,EAAQkvC,WAAWQ,UAAY,IAAI,EAAAzzB,uBAChC,iBAAjCjc,EAAQkvC,WAAoB,UACxC,CACI,IAAIQ,EAAY1vC,EAAQkvC,WAAWQ,UACnC1vC,EAAQkvC,WAAWQ,UAAY,IAAI,EAAAzzB,sBACnCjc,EAAQkvC,WAAWQ,UAAU1wC,MAAQ0wC,EAGzC,GAAgC,MAA5B1vC,EAAQkvC,WAAWS,MACvB,CACI,GAAyC,iBAA7B3vC,EAAQkvC,WAAgB,MACpC,CACI,IAAIlwC,EAAQgB,EAAQkvC,WAAWS,MAC/B3vC,EAAQkvC,WAAWS,MAAQ,IAAI,EAAAxzB,qBAC/Bnc,EAAQkvC,WAAWS,MAAM3wC,MAAQA,EAGQ,MAAzCgB,EAAQkvC,WAAWS,MAAMC,cAAiE,MAAzC5vC,EAAQkvC,WAAWS,MAAME,cAC5B,MAA3C7vC,EAAQkvC,WAAWS,MAAMG,gBAAkE,MAAxC9vC,EAAQkvC,WAAWS,MAAMI,cAC/E/vC,EAAQkvC,WAAWS,MAAMG,gBAAiB,GAER,MAAlC9vC,EAAQkvC,WAAWS,MAAM3wC,SAEoB,IAAzCgB,EAAQkvC,WAAWS,MAAMK,YACzBhwC,EAAQkvC,WAAWS,MAAM3wC,MAAQ,UACgB,IAA5CgB,EAAQkvC,WAAWS,MAAMM,eAC9BjwC,EAAQkvC,WAAWS,MAAM3wC,MAAQ,eACe,IAA3CgB,EAAQkvC,WAAWS,MAAMO,cAC9BlwC,EAAQkvC,WAAWS,MAAM3wC,MAAQ,YACe,IAA3CgB,EAAQkvC,WAAWS,MAAMQ,gBAC9BnwC,EAAQkvC,WAAWS,MAAM3wC,MAAQ,aAM7C,OAAQgB,EAAQd,MAEZ,KAAK,EAAA6B,aAAa+tC,KAAM,EAAAhmC,KAAKE,GAASS,KAAK,OAAQ,QAAS,MAC5D,KAAK,EAAA1I,aAAaqvC,KAAM,EAAAtnC,KAAKE,GAASS,KAAK,OAAQ,OAAQ,MAC3D,KAAK,EAAA1I,aAAasvC,MAAO,EAAAvnC,KAAKE,GAASS,KAAK,OAAQ,OAAQ,MAC5D,KAAK,EAAA1I,aAAauvC,OAAQ,EAAAxnC,KAAKE,GAASS,KAAK,OAAQ,UAAW,MAChE,KAAK,EAAA1I,aAAawvC,KAAM,EAAAznC,KAAKE,GAASS,KAAK,OAAQ,SAAU,MAC7D,KAAK,EAAA1I,aAAaO,SAAU,EAAAwH,KAAKE,GAASS,KAAK,OAAQ,YAAa,MACpE,KAAK,EAAA1I,aAAayvC,iBAAkB,EAAA1nC,KAAKE,GAASS,KAAK,OAAQ,QAAS,MACxE,KAAK,EAAA1I,aAAaC,QAClB,KAAK,EAAAD,aAAaG,WAClB,KAAK,EAAAH,aAAaK,SACd,EAAA0H,KAAKE,GAASS,KAAK,OAAQ,UAC3B,MACJ,KAAK,EAAA1I,aAAaS,UACd,CACI,IAAIivC,EAAW9mC,SAAS4b,cAAc,YACtCkrB,EAAS38B,GAAK9K,EAAQ8K,GACtB,EAAAhL,KAAK2nC,GAAUhY,SAAS,cACxB,EAAA3vB,KAAK2nC,GAAUhnC,KAAK,eAAgB,OAGd,MAAlBzJ,EAAQmZ,QACR,EAAArQ,KAAK2nC,GAAUt3B,OAAO,GAAM,IAAMnZ,EAAQgvC,KAAO,IAGrDyB,EAASr3B,MAAMC,SAAW,uFAC1Bo3B,EAASr3B,MAAMC,SAAW,gJAE1B,EAAAvQ,KAAKE,GAASwuB,YAAYiZ,GAC1B,EAAA3nC,KAAKE,GAASwH,OACdxH,EAAUynC,GAKjB,EAAAn+B,cAAcG,YAAczS,EAAQd,MAAQ,EAAA6B,aAAaO,UAC1D,EAAAwH,KAAKE,GAASS,KAAK,OAAQ,QAE/B,EAAAX,KAAKE,GAASS,KAAK,eAAgB,OAGnCT,EAAQoQ,MAAMC,SAAW,2CACzBuN,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBO,SACxCjD,KAAK+yC,aAAe,KAGhB1wC,EAAQd,MAAQ,EAAA6B,aAAayvC,mBAE7B7yC,KAAKgzC,cAAa,GAClBhzC,KAAKizC,sBAAwB,EAAAl4B,KAAK,EAAArO,iBAAiBwmC,SAAUlzC,KAAKsC,YAAa,CAAEyT,IAAK,iGACtF,EAAA5K,KAAKnL,KAAKizC,uBAAuB92B,GAAG,QAAU7B,IAE1Cta,KAAKgzC,aAAahzC,KAAKgzC,mBAKT,MAAlB3wC,EAAQmZ,QAAkBnZ,EAAQd,MAAQ,EAAA6B,aAAaS,WACvD,EAAAsH,KAAKnL,KAAKqL,WAAWmQ,OAAOiW,OAAOpvB,EAAQmZ,QAAU,IAEzDxb,KAAKmzC,gBAAkB,EAAAhoC,KAAKnL,KAAKqL,WAAWwb,cAC5C7mB,KAAKozC,sBAAwB,EAAAjoC,KAAKnL,KAAKsC,aAAayT,IAAI,iBAAiBs9B,iBAGpD,MAAjBhxC,EAAQhB,OACRrB,KAAKqB,MAAMgB,EAAQhB,OAAO,GACH,MAAvBgB,EAAQixC,aACRtzC,KAAKszC,YAAYjxC,EAAQixC,aAEO,MAAhCjxC,EAAQkvC,WAAWM,WACnB,EAAA1mC,KAAKnL,KAAKqL,WAAWS,KAAK,YAAazJ,EAAQkvC,WAAWM,UAAUxwC,OAEpC,MAAhCgB,EAAQkvC,WAAWQ,WACnB,EAAA5mC,KAAKnL,KAAKqL,WAAWS,KAAK,YAAazJ,EAAQkvC,WAAWQ,UAAU1wC,OAIjD,MAAnBgB,EAAQ+T,SACR,EAAAjL,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQ+T,UAItB,IAArB/T,EAAQkxC,UACR,EAAApoC,KAAKnL,KAAKqL,WAAWS,KAAK,WAAY,aAEjB,IAArBzJ,EAAQkxC,WAAwC,IAAnBlxC,EAAQg6B,QACrC,EAAAlxB,KAAKnL,KAAKqL,WAAWS,KAAK,WAAY,OAIrB,IAAjBzJ,EAAQ05B,OACR/7B,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAIpC,EAAAvQ,KAAKnL,KAAKqL,WAAW0K,IAAI,aAAc1T,EAAQs5B,OAC/C,EAAAxwB,KAAKnL,KAAKqL,WAAW0K,IAAI,iBAAkB1T,EAAQ+uC,WAI/B,MAAhB/uC,EAAQ0Y,MAER,EAAA5P,KAAKnL,KAAKqL,WAAWquB,aAAa,aAAer3B,EAAQ0Y,KAAO,wEAChE/a,KAAKqL,UAAUoQ,MAAMC,SAAW,sBAEP,MAApBrZ,EAAQmxC,WACbxzC,KAAKqL,UAAUoQ,MAAMC,SAAW,yBAA2BrZ,EAAQmxC,SAAW,qFAE9EnxC,EAAQd,MAAQ,EAAA6B,aAAaS,WAA8B,MAAjBxB,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,KAAwB,MAAhB94B,EAAQ0Y,MAAoC,MAApB1Y,EAAQmxC,WAC3JxzC,KAAKqL,UAAUoQ,MAAMC,SAAW,sEAIpC,EAAAvQ,KAAKnL,KAAKqL,WAAWm/B,MAAOlwB,IAExB,GAAIta,KAAKyzC,iBAGL,YADAn5B,EAAE0e,iBAIN,IAAI33B,EAAQ,EAAA8J,KAAKmP,EAAE0rB,eAAe1O,MAGlC,GAFAt3B,KAAK0zC,WAEDp5B,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IACrB,CACI,IAAIqI,EAA+C,MAA9BtxC,EAASkvC,WAAYS,OAAkB3vC,EAASkvC,WAAYS,MAA+BC,aAChHjyC,KAAK4zC,SAASvyC,GAAO,EAAOsyC,GAGhC,GAAwB,MAApBtxC,EAASuoC,QACb,CACI,IAAI7lB,EAAQ,IAAI8uB,EAChB9uB,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAASrB,KAAK8zC,mBAAsB9zC,KAAK+yC,aAAe1xC,EAC9D0jB,EAAMpjB,IAAM2Y,EAAE3Y,IACdojB,EAAMgmB,SAAWzwB,EAAEywB,SACnBhmB,EAAMimB,OAAS1wB,EAAE0wB,OACjBjmB,EAAMkmB,QAAU3wB,EAAE2wB,QAClBlmB,EAAMmmB,SAAW5wB,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MAClC3lB,EAAMomB,aAAe7wB,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,UACtCrmB,EAAMsmB,OAAS/wB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IAEhC,IAAIyI,EAAkB,CAAC,IAAK,IAAK,IAAK,KACtChvB,EAAMgvB,iBAAoB3nB,MAAMqF,OAAOnX,EAAE3Y,OAASoyC,EAAgBh4B,SAASzB,EAAE3Y,KAC7EU,EAASuoC,QAAQ7lB,GAEbA,EAAMhB,sBACNzJ,EAAE0e,oBAId,EAAA7tB,KAAKnL,KAAKqL,WAAW8gC,QAAS7xB,IAQ1B,GANA,EAAAnP,KAAKnL,KAAKqL,WAAWwzB,YAAY,cACjC7+B,KAAKyzC,kBAAmB,EACpBzzC,KAAKg0C,gBAAkB,EAAA/lC,kBAAkBgmC,UACzCj0C,KAAKk0C,YAGL55B,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,WAAa9wB,EAAE3Y,KAAO,EAAA4Q,QAAQ85B,YAAc/xB,EAAE3Y,KAAO,EAAA4Q,QAAQ+5B,WAC3EhyB,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,SAAWjyB,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,WAAalyB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IAClF,CACI,GAAItrC,KAAK8zC,oBAAsB1nB,MAAMqF,OAAOnX,EAAE3Y,OAAkB,KAAT2Y,EAAE3Y,KAAuB,KAAT2Y,EAAE3Y,KAAuB,KAAT2Y,EAAE3Y,MAAe2Y,EAAE2wB,QAItG,OAFA,EAAAjgC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,IAAK,IAAM,EAAAxiC,KAAKnL,KAAKqL,WAAWwzB,YAAY,oBAC/HvkB,EAAE0e,iBAIN,GAAkC,MAA9B32B,EAASkvC,WAAYS,OAC4C,MAA7D3vC,EAASkvC,WAAYS,MAA+B3wC,OACS,IAA7DgB,EAASkvC,WAAYS,MAA+B3wC,OACpDgB,EAASkvC,WAAYS,MAA+BG,eAC5D,CAEI,IADY,IAAIgC,OAAQ9xC,EAASkvC,WAAYS,MAA+B3wC,MAASgB,EAASkvC,WAAYS,MAA+BoC,OAC9HhR,KAAK9oB,EAAE3Y,KAId,OAFA,EAAAqJ,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,IAAK,IAAM,EAAAxiC,KAAKnL,KAAKqL,WAAWwzB,YAAY,oBAC/HvkB,EAAE0e,kBAOd,GAA2B,MAAvB32B,EAASsoC,YAAsBrwB,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MACpD,CACI,IAAI2J,EAAgB,IAAIC,EACxBD,EAAcvJ,OAAS9qC,KACvBq0C,EAAchzC,MAAQrB,KAAKqB,QAC3BgB,EAASsoC,WAAW0J,GAGxB,GAA0B,MAAtBhyC,EAASqqC,UACb,CACI,IAAI3nB,EAAQ,IAAIwvB,EAChBxvB,EAAM+lB,OAAS9qC,KACf+kB,EAAMpjB,IAAM2Y,EAAE3Y,IACdojB,EAAMgmB,SAAWzwB,EAAEywB,SACnBhmB,EAAMimB,OAAS1wB,EAAE0wB,OACjBjmB,EAAMkmB,QAAU3wB,EAAE2wB,QAClBlmB,EAAMmmB,SAAW5wB,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MAClC3lB,EAAMomB,aAAe7wB,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,UACtCrmB,EAAMsmB,OAAS/wB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IAEhC,IAAIjqC,EAAQ,EAAA8J,KAAKmP,EAAE0rB,eAAe1O,MAClCvS,EAAM1jB,MAASrB,KAAK8zC,mBAAsB9zC,KAAK+yC,aAAe1xC,EAE9D,IAAI0yC,EAAkB,CAAC,IAAK,IAAK,IAAK,KACtChvB,EAAMgvB,iBAAoB3nB,MAAMqF,OAAOnX,EAAE3Y,OAASoyC,EAAgBh4B,SAASzB,EAAE3Y,KAC7EU,EAASqqC,UAAU3nB,GAEfA,EAAMhB,uBAEN/jB,KAAKyzC,kBAAmB,EACxBn5B,EAAE0e,qBAKd,EAAA7tB,KAAKnL,KAAKqL,WAAWmpC,QAASl6B,IAM1B,GAJA,EAAAnP,KAAKnL,KAAKqL,WAAWwzB,YAAY,cAC7B7+B,KAAKg0C,gBAAkB,EAAA/lC,kBAAkBwmC,SACzCz0C,KAAKk0C,YAELl0C,KAAK8zC,mBACT,CACI,IAAIzyC,EAAQ,GACa,MAArBrB,KAAK+yC,eACL1xC,EAAQrB,KAAKwrC,YAAYhiB,OAAOxpB,KAAK+yC,gBAExC/yC,KAAKqL,UAA+BhK,MAAQA,EAC7C,EAAA8J,KAAKnL,KAAKqL,WAAW0c,SAGzB,GAAwB,MAApB1lB,EAAS4pC,QACb,CACI,IAAIlnB,EAAQ,IAAI2vB,EAChB3vB,EAAM+lB,OAAS9qC,KACfqC,EAAS4pC,QAAQlnB,MAIzB,EAAA5Z,KAAKnL,KAAKqL,WAAWszB,KAAMrkB,IAEvB,IAAIjY,EAAUrC,KAAK+sC,aAEnB,GAAI/sC,KAAK8zC,mBACL9zC,KAAKqB,MAAMrB,KAAK+yC,kBAEpB,CACI,IAAIY,EAA+C,MAA9BtxC,EAASkvC,WAAYS,OAAkB3vC,EAASkvC,WAAYS,MAA+BI,YAC5GuC,EAAY30C,KAAK4zC,cAASl2B,GAAW,EAAMi2B,GAC9C3zC,KAAKqL,UAA+BhK,MAAQszC,EAGjD,GAAuB,MAAnBtyC,EAASypC,OACb,CACI,IAAI/mB,EAAQ,IAAI6vB,EAChB7vB,EAAM+lB,OAAS9qC,KACf+kB,EAAMoe,OAAS7oB,EAAE6oB,OACjBpe,EAAM1jB,MAAQrB,KAAKqB,QACnBgB,EAASypC,OAAO/mB,MAIxB,EAAA5Z,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAU7B,IAE9B,IAAIu6B,EAAcv6B,EAAEw6B,cAAcC,cAAcC,QAAQ,QAExD,GAAwB,MAApB3yC,EAAS4yC,QACb,CACI,IAAIlwB,EAAQ,IAAImwB,EAChBnwB,EAAM+lB,OAAS9qC,KACf+kB,EAAM8vB,YAAcA,EACpB9vB,EAAM1jB,MAAQrB,KAAKqB,QAAUwzC,EAC7BxyC,EAAS4yC,QAAQlwB,MAS7B,MAAwC1jB,EAAgC8uC,GAAyB,GAE7F,IAAI9tC,EAAUrC,KAAKqC,UACnB,GAAc,OAAVhB,EACJ,CACI,GAAIgB,EAAQmnC,SAIR,OAFAxpC,KAAK+yC,aAAe,KACnB/yC,KAAKqL,UAA+BhK,MAAQ,GACnC,KAELrB,KAAK8zC,qBACVzyC,EAAQ,GAGhB,GAAa,MAATA,EACJ,CACI,IAAIsyC,EAA+C,MAA9BtxC,EAASkvC,WAAYS,OAAkB3vC,EAASkvC,WAAYS,MAA+BE,aAC5GyC,EAAY30C,KAAK4zC,SAASpqB,OAAOnoB,IAAQ,EAAMsyC,GAClD3zC,KAAKqL,UAA+BhK,MAAQszC,EAC7C30C,KAAK0zC,WAEDvD,GACAnwC,KAAK6rC,SAET7rC,KAAKm1C,UAAan1C,KAAK8zC,mBAAsB,EAAA9oC,eAAeoqC,UAAUp1C,KAAK+yC,cAAiB/yC,KAAKqL,UAA+BhK,MAGpI,OAAIrB,KAAK8zC,mBACK9zC,KAAK+yC,aAEJ/yC,KAAKqL,UAA+BhK,MAG/C,SAASA,EAAgBstB,GAAS,EAAMglB,GAAgB,GAE5D,IAAItxC,EAAUrC,KAAK+sC,aACnB,EAAA5hC,KAAKnL,KAAKqL,WAAWwzB,YAAY,cAEpB,MAATx9B,IAAeA,EAAQmoB,OAAOxpB,KAAKqB,UACvC,IAAIszC,EAAYtzC,EAEZyjB,GAAQ,EACRuwB,EAA8B,EAClC,GAAIr1C,KAAK8zC,mBAEL,GAAa,IAATzyC,EACArB,KAAK+yC,aAAe,SAExB,CACI,IAAIuC,EAAaj0C,EAAM6J,WAAW,KAClCmqC,EAAeh0C,EAAM+Y,QAAQ,IAAK,KAAK2Z,mBAGnCpF,GAAU0mB,EAAehzC,EAAQkvC,WAAYE,WAE7C4D,EAAehzC,EAAQkvC,WAAYE,SACnC3sB,GAAQ,GAGRuwB,EAAgBhzC,EAAQkvC,WAAYI,WAEpC0D,EAAehzC,EAAQkvC,WAAYI,SACnC7sB,GAAQ,GAIRsH,MAAMqF,OAAO4jB,MAETC,EACAD,EAAe,MAGfA,EAAe,EACfvwB,GAAQ,IAIhB9kB,KAAK+yC,aAAesC,EAU5B,GALqB,MAAjBhzC,EAAQkzC,QACRZ,EAAYnrB,OAAOmrB,GAAW53B,SAAS1a,EAAQkzC,MAAO,MAIrB,MAAjClzC,EAAQkvC,WAAYM,UACxB,CACI,IAAI2D,EAAqBnzC,EAAQkvC,WAAYM,UACzCljB,GAAUgmB,EAAUvpC,OAASoqC,EAAkBn0C,QAE/CszC,EAAYA,EAAUc,OAAOD,EAAkBn0C,MAAOm0C,EAAkB1D,gBACxEhtB,GAAQ,GAIhB,GAAqC,MAAjCziB,EAAQkvC,WAAYQ,UACxB,CACI,IAAI2D,EAAqBrzC,EAAQkvC,WAAYQ,UACzC4C,EAAUvpC,OAASsqC,EAAkBr0C,QAErCszC,EAAYA,EAAUhgB,UAAU,EAAG+gB,EAAkBr0C,OACrDyjB,GAAQ,GAMhB,GAAI6uB,GACiE,MAA7DtxC,EAASkvC,WAAYS,MAA+B3wC,OACS,IAA7DgB,EAASkvC,WAAYS,MAA+B3wC,OAC5C,IAATA,GAAwB,MAATA,EACtB,CACgB,IAAI8yC,OAAQ9xC,EAASkvC,WAAYS,MAA+B3wC,MAASgB,EAASkvC,WAAYS,MAA+BoC,OAC9HhR,KAAK/hC,KAEZszC,EAAY,GACZ7vB,GAAQ,GAQhB,GAHI9kB,KAAK8zC,qBACLa,EAAY,EAAW30C,KAAKwrC,YAAYhiB,OAAO6rB,IAAiB7rB,OAAO6rB,IAEvEvwB,EAEA,OAAQziB,EAAQkvC,WAAYzsB,OAExB,KAAK,EAAAhX,2BAA2BskB,KAAU,MAC1C,KAAK,EAAAtkB,2BAA2B0jC,SAAU,EAAAxmC,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,IAAK,IAAM,EAAAxiC,KAAKnL,KAAKqL,WAAWwzB,YAAY,eAAgB,MACzL,KAAK,EAAA/wB,2BAA2B6nC,OAAQ,EAAAxqC,KAAKnL,KAAKqL,WAAWyvB,SAAS,cAG9E,OAAO6Z,EAGX,YAAYtzC,GAKR,OAHa,MAATA,IACCrB,KAAKqL,UAA+BioC,YAAcjyC,GAE/CrB,KAAKqL,UAA+BioC,YAIhD,KAAKtqC,GAED,IAAI3G,EAAUrC,KAAK+sC,aACnB1qC,EAAQd,KAAOyH,EAES,MAApB3G,EAAQkwB,WAEJlwB,EAAQd,MAAQ,EAAA6B,aAAaC,QAC7BhB,EAAQkwB,SAAW,EACdlwB,EAAQd,MAAQ,EAAA6B,aAAaK,UAAYpB,EAAQd,MAAQ,EAAA6B,aAAaG,aAC3ElB,EAAQkwB,SAAW,IAGN,MAAjBlwB,EAAQs5B,QAEJt5B,EAAQd,MAAQ,EAAA6B,aAAaC,SAAWhB,EAAQd,MAAQ,EAAA6B,aAAaG,YAAclB,EAAQd,MAAQ,EAAA6B,aAAaK,SAChHpB,EAAQs5B,MAAQ,EAAA/tB,cAAc6tB,MAE9Bp5B,EAAQs5B,MAAQ,EAAA/tB,cAAc0tB,MAI1C,aAEI,OAAOt7B,KAAKqC,UAGhB,MAAM8tC,GAAgB,GAEJnwC,KAAK+sC,aACPvD,UAAYxpC,KAAK8zC,mBACzB9zC,KAAKqB,MAAM,MAAM,IAGjBrB,KAAK+yC,aAAe,KACnB/yC,KAAKqL,UAA+BhK,MAAQ,IAG7C8uC,GACAnwC,KAAK6rC,SAGb,UAEI,OAAI7rC,KAAK8zC,mBACuB,MAArB9zC,KAAK+yC,aAE0C,KAA9C/yC,KAAKqL,UAA+BhK,MAG5C,WAEJ,IAAIgB,EAAUrC,KAAK+sC,aACnB,IAAgC,IAA5B1qC,EAAQivC,iBAA4BjvC,EAAQd,MAAQ,EAAA6B,aAAaS,UACrE,CACI,IAAI+xC,EAAkB51C,KAAKqL,UAAUmvB,aACR,MAAzBn4B,EAAQ24B,eAA0B34B,EAAQ24B,cAAcz4B,UAAY,EAAA4K,aAAaguB,KAAO94B,EAAQ24B,cAAcz4B,UAAY,EAAA4K,aAAa0uB,SACvI+Z,GAAmB,EAAAzqC,KAAKnL,KAAKsC,aAAawZ,KAAK,qBAAqBN,UAExExb,KAAKqL,UAAUoQ,MAAMD,OAAS,MAC9Bxb,KAAKsC,YAAYmZ,MAAMD,OAASo6B,EAAkB,KAClC,GAAK51C,KAAKqL,UAAUkvB,aACpBv6B,KAAKmzC,gBACjBnzC,KAAKqL,UAAUoQ,MAAMD,OAAU,GAAKxb,KAAKqL,UAAUkvB,aAAgB,KAEnEv6B,KAAKqL,UAAUoQ,MAAMD,OAASxb,KAAKmzC,gBAAkB,KAEzDnzC,KAAKsC,YAAYmZ,MAAMD,OAAS,QAIhC,mBAEJ,IACIja,EADUvB,KAAKqC,UACAd,KACnB,OAAQA,GAAQ,EAAA6B,aAAaC,SAAW9B,GAAQ,EAAA6B,aAAaG,YAAchC,GAAQ,EAAA6B,aAAaK,SAGpG,aAAa21B,GAkBT,OAhBa,MAATA,IAEA,EAAAjuB,KAAKnL,KAAKizC,uBAAuBpU,YAAY,EAAAnyB,iBAAiBwmC,UAC9D,EAAA/nC,KAAKnL,KAAKizC,uBAAuBpU,YAAY,EAAAnyB,iBAAiBmpC,KAE1Dzc,GAEA,EAAAjuB,KAAKnL,KAAKqL,WAAWwzB,YAAY,sBACjC,EAAA1zB,KAAKnL,KAAKizC,uBAAuBnY,SAAS,EAAApuB,iBAAiBmpC,OAI3D,EAAA1qC,KAAKnL,KAAKqL,WAAWyvB,SAAS,sBAC9B,EAAA3vB,KAAKnL,KAAKizC,uBAAuBnY,SAAS,EAAApuB,iBAAiBwmC,YAG5DlzC,KAAKqL,UAAU2O,UAAU6yB,SAAS,sBAI7C,gBAEI,OAAQ7sC,KAAKqL,UAA+B2gC,eAGhD,mBAAmBj5B,GAEf/S,KAAK81C,WAAW/iC,EAAM/S,KAAK+1C,iBAG/B,qBAAqBhjC,EAAcxQ,GAE/BvC,KAAK81C,WAAW/iC,EAAMxQ,GAG1B,WAAWwQ,EAAcxQ,GAErB,IAAI8I,EAAUrL,KAAKqL,UACH,MAAZ9I,IACAA,EAAW8I,EAAQhK,MAAM+J,QAE7BpL,KAAKqB,MAAMgK,EAAQhK,MAAMszB,UAAU,EAAGpyB,GAChCwQ,EACA1H,EAAQhK,MAAMszB,UAAUtpB,EAAQ2qC,aAAe3qC,EAAQhK,MAAM+J,SAEnEC,EAAQ2gC,eAAiBhsC,KAAK+1C,gBAAkBhjC,EAAK3H,OACrDC,EAAQ2qC,aAAeh2C,KAAK+1C,gBAAkBhjC,EAAK3H,OACnDpL,KAAK8nB,QAKT,MAAM/U,EAAexR,EAAsBgB,EAA8B0zC,GAErE,IAAI5zC,EAAUrC,KAAKqC,UACP,MAARd,IAAcA,EAAO,EAAAwM,cAAc7D,SACvB,MAAZ3H,IAAkBA,EAAW,EAAAyL,kBAAkBytB,OACnC,MAAZwa,IAAkBA,EAAW,EAAAhoC,kBAAkBgmC,UACvC,MAARlhC,IAAcA,EAAO,IAEzB,EAAA5H,KAAKnL,KAAKqL,WAAWyvB,SAAS,kBAC9B96B,KAAKg0C,eAAiBiC,EAEtB,IAAIC,EAAY,EAAA/qC,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuB,GAUnE,GATiB,MAAbo6B,IACAA,EAAY,EAAA/qC,KAAK,aAAe,EAAAuB,iBAAiBypC,oBAAsB,6BAA6Blc,kBAAkBj6B,KAAKqL,WAAW,IAC1I,EAAAF,KAAK+qC,GAAWh6B,OAEI,MAAhBlc,KAAK+6B,QACLmb,EAAUz6B,MAAMC,SAAW,aAE3Bw6B,EAAUz6B,MAAMC,SAAW,YAE3Bna,GAAQ,EAAAwM,cAAc7D,QAC1B,CAEI,IAAIksC,EAAY,EAAAjrC,KAAK,sDAAwD4H,EAAO,WAAWuD,eAAe4/B,GAC1G3zC,GAAY,EAAAyL,kBAAkBytB,MAC9B,EAAAtwB,KAAKirC,GAAWtb,SAAS,8BACpBv4B,GAAY,EAAAyL,kBAAkB6tB,SAEnC,EAAA1wB,KAAKirC,GAAWtb,SAAS,+BACzB,EAAA3vB,KAAK+qC,GAAWG,MAAM,KAEN,IAARtjC,EACA,EAAA5H,KAAKirC,GAAWvjC,OAEhB,EAAA1H,KAAKirC,GAAW,GAAG36B,MAAMC,SAAW,kCAAqC,EAAAvQ,KAAKirC,GAAWpvB,aAAe,EAAK,GAAK,cAK7H,GAAIzlB,GAAQ,EAAAwM,cAAcuoC,QAC/B,CAEI,IAAIF,EAAY,EAAAjrC,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0B,GAKtE,GAJiB,MAAbs6B,IACAA,EAAY,EAAAjrC,KAAK,uCAAyC4H,EAAO,WAAWknB,kBAAkBj6B,KAAKqL,WAAW,IAClH,EAAAF,KAAKirC,GAAWl6B,OAEZ3Z,GAAY,EAAAyL,kBAAkBytB,MAC9B,EAAAtwB,KAAKirC,GAAWtb,SAAS,mCACxB,GAAIv4B,GAAY,EAAAyL,kBAAkB6tB,OACvC,CACI,IAAIwC,EAA+B,MAAjBh8B,EAAQ04B,OAAkB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAamuB,MAAQj5B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAasuB,MAAuC,EAA7B,EAAAtwB,KAAKnL,KAAK+6B,SAASxf,QACjL,EAAApQ,KAAKirC,GAAWtb,SAAS,+BACzB,EAAA3vB,KAAKirC,GAAW,GAAG36B,MAAMC,SAAW,qBAAwB,EAAAvQ,KAAKirC,GAAW76B,QAAU,EAAM8iB,EAAa,GAAM,OAGnH,EAAAlzB,KAAKirC,GAAWnU,KAAKlvB,QAGpB,GAAIxR,GAAQ,EAAAwM,cAAcwoC,MAC/B,CAEI,IAAIH,EAAY,EAAAjrC,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwB,GACnD,MAAbs6B,IACAA,EAAY,EAAAjrC,KAAK,qCAAuC4H,EAAO,WAAWknB,kBAAkBj6B,KAAKqL,WAAW,IAChH,EAAAF,KAAKirC,GAAWl6B,OAEhB3Z,EAAW,EAAAyL,kBAAkB6tB,OAC7B,EAAA1wB,KAAKirC,GAAWtb,SAAS,6BACzB,EAAA3vB,KAAKirC,GAAWnU,KAAKlvB,GAErB,IAAIsrB,EAA+B,MAAjBh8B,EAAQ04B,OAAkB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAamuB,MAAQj5B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAasuB,MAAuC,EAA7B,EAAAtwB,KAAKnL,KAAK+6B,SAASxf,QACjL,EAAApQ,KAAKirC,GAAW,GAAG36B,MAAMC,SAAW,qBAAwB,EAAAvQ,KAAKirC,GAAW76B,QAAU,EAAM8iB,EAAa,GAAM,OAC/G,EAAAlzB,KAAKnL,KAAKsC,aAAa,GAAGmZ,MAAMC,SAAW,mBAAqB,EAAAvQ,KAAKirC,GAAW56B,SAAW,IAAM,OAKzG,YAEQ,EAAArQ,KAAKnL,KAAKqL,WAAWizB,SAAS,oBAE9B,EAAAnzB,KAAKnL,KAAKqL,WAAWwzB,YAAY,kBACjC,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBjJ,OACnD,EAAA1H,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0BjJ,OACtD,EAAA1H,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0BjJ,OACtD,EAAA1H,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwBjJ,OACpD,EAAA1H,KAAKnL,KAAKsC,aAAayT,IAAI,CAAE,gBAAiB/V,KAAKozC,sBAAwB,QAInF,WAEI,OAAQ,EAAAjoC,KAAKnL,KAAKqL,WAAWizB,SAAS,kBAGlC,YAAYj9B,GAEhB,IAAIgB,EAAUrC,KAAK+sC,aAEfxa,EAAWlwB,EAAQkwB,SACnBZ,EAAiB,IAAI,EAAA5I,qBAAqB1mB,EAAQ2mB,kBAgBtD,OAfA2I,EAAexI,sBAAwBoJ,EACvCZ,EAAevI,sBAAwBmJ,EAEP,MAA5BlwB,EAAQ2mB,mBAE8C,MAAlD3mB,EAAQ2mB,iBAAiBG,wBAA+BwI,EAAexI,sBAAwB9mB,EAAQ2mB,iBAAiBG,uBACtE,MAAlD9mB,EAAQ2mB,iBAAiBI,wBAA+BuI,EAAevI,sBAAwB/mB,EAAQ2mB,iBAAiBI,uBAExH/mB,EAAQ2mB,iBAAiBE,cAAgB,EAAAxW,iBAAiB0f,MAEJ,MAAlD/vB,EAAQ2mB,iBAAiBI,wBACzBuI,EAAevI,sBAAwB,IAI3C/mB,EAAQd,MAEZ,KAAK,EAAA6B,aAAaC,QAAShC,EAAQowB,OAAOpwB,GAAOm1C,QAAQjkB,GAAW,MACpE,KAAK,EAAAnvB,aAAaK,SAAUpC,EAAQowB,OAAOpwB,GAAOywB,mBAAmBH,GAAiB,MACtF,KAAK,EAAAvuB,aAAaG,WAAYlC,GAASowB,OAAOpwB,GAAS,KAAK0wB,qBAAqBJ,GAErF,OAAOtwB,EAOX,SAEI,IAAIwvC,EAAiB7wC,KAAKqC,UAA0Bo0C,UACpD,GAAsB,MAAlB5F,EACJ,CACI,IAAIC,EAAc,IAAI4F,EACtB5F,EAAYhG,OAAS9qC,KACrB8wC,EAAYzvC,MAAQrB,KAAKqB,QACzByvC,EAAY6F,SAAW32C,KAAKm1C,UAC5BtE,EAAeC,KA/xB3B,YAqyBA,iCAAsC7tC,IACtC,+BAAoCA,IACpC,gCAAqCA,IACrC,gCAAqCA,IACrC,kCAAuCA,IAIvC,MAAa2zC,UAAqB,EAAA/3B,iBAAlC,iBAMA,MAAM63B,UAA2BE,GAKjC,MAAMlC,UAA0BkC,GAIhC,MAAMhC,UAAyBgC,GAK/B,MAAM1B,UAA0B0B,GAKhC,MAAMC,UAA+BD,GAWrC,MAAM/C,UAA0BgD,GAKhC,MAAMtC,UAA4BsC,GAKlC,MAAMvC,UAA6BsC,K,6HCh4BnC,aACA,OACA,OAGA,OAIA,MAAavxC,UAAwB,EAAA0F,kBAArC,oBA0CA,MAAa5F,UAAiB,EAAA+jC,UAyB1B,YAAY79B,EAAsBhJ,GAyE9B,OAtEe,MAAXA,IACAA,EAAU,IAAIgD,GAEE,MAAhBhD,EAAQd,OAAcc,EAAQd,KAAO,EAAA+D,iBAAiBqG,OAClC,MAApBtJ,EAAQy0C,WAAkBz0C,EAAQy0C,SAAW,EAAAloC,qBAAqBmoC,aAC9C,MAApB10C,EAAQ20C,WAAkB30C,EAAQ20C,UAAW,GACvB,MAAtB30C,EAAQoJ,aAAoBpJ,EAAQoJ,YAAa,GAC/B,MAAlBpJ,EAAQizB,SAAgBjzB,EAAQizB,QAAS,GAClB,MAAvBjzB,EAAQ40C,cAAqB50C,EAAQ40C,aAAc,GAC9B,MAArB50C,EAAQ60C,YAAmB70C,EAAQ60C,WAAY,GAC1B,MAArB70C,EAAQu5B,YAAmBv5B,EAAQu5B,UAAY,EAAAhuB,cAAc0tB,MACrC,MAAxBj5B,EAAQ80C,eAAsB90C,EAAQ80C,cAAe,GACjC,MAApB90C,EAAQ+0C,WAAkB/0C,EAAQ+0C,UAAW,GAErB,MAAxB/0C,EAAQg1C,cAA8C,GAAtBh1C,EAAQoJ,aAAoBpJ,EAAQg1C,cAAe,GAC3D,MAAxBh1C,EAAQg1C,cAAyD,kBAAzBh1C,EAAoB,cAClB,MAAtCA,EAAQg1C,aAAalH,gBAAuB9tC,EAAQg1C,aAAalH,eAAgB,GAE5D,MAAzB9tC,EAAQ26B,cACR36B,EAAQ26B,cAAgB,CAAEK,UAAW,IAAKF,SAAU,KACZ,MAAnC96B,EAAQ26B,cAAcK,WAAqD,MAAhCh7B,EAAQ26B,cAAcxhB,OACtEnZ,EAAQ26B,cAAcK,UAAY,IACK,MAAlCh7B,EAAQ26B,cAAcG,UAAmD,MAA/B96B,EAAQ26B,cAAczhB,QACrElZ,EAAQ26B,cAAcG,SAAW,KAEjC96B,EAAQd,MAAQ,EAAA+D,iBAAiBC,WAEjClD,EAAQoJ,YAAa,EACrBpJ,EAAQ20C,UAAW,EACnB30C,EAAQixC,iBAAc51B,IAGA,MAAtBrb,EAAQqJ,YAAsBrJ,EAAQ20C,YAEtC30C,EAAQd,KAAO,EAAA+D,iBAAiBqG,MAChCtJ,EAAQoJ,YAAa,EACrBpJ,EAAQizB,QAAS,EAES,MAAtBjzB,EAAQqJ,aAERrJ,EAAQi1C,WAAQ55B,EACiC,MAA7Crb,EAAQqJ,WAAW6rC,yBAAgCl1C,EAAQqJ,WAAW6rC,uBAAyB,KAIvGl1C,EAAQd,MAAQ,EAAA+D,iBAAiBqG,OAAUtJ,EAAQoJ,aACnDpJ,EAAQizB,QAAS,IAEM,IAAvBjzB,EAAQoJ,aAERpJ,EAAQd,KAAO,EAAA+D,iBAAiBqG,MAChCtJ,EAAQmnC,UAAW,GAGC,MAApBnnC,EAAQm1C,WAAkBn1C,EAAQm1C,UAAW,GAC5B,MAAjBn1C,EAAQkZ,QAAelZ,EAAQkZ,MAASlZ,EAAgB,SAAI,GAAK,KAGrE4mB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgByC,UACxC,EAAAgG,KAAKE,GAASS,KAAK,OAAQ,QAC3B,EAAAX,KAAKE,GAASS,KAAK,eAAgB,OAEnC9L,KAAKy3C,cAAgB,EAAAtsC,KAAKnL,KAAKqL,WAAWQ,GAAG,OAE7C7L,KAAK03C,eAAiB,GACtB13C,KAAK23C,sBAAuB,EAE5B33C,KAAKs3C,MAAwB,MAAjBj1C,EAAQi1C,MAAiBj1C,EAAQi1C,MAAQ,IAAI,GAGjDj1C,EAAQd,MAEZ,KAAK,EAAA+D,iBAAiBqG,MAAO,EAAAR,KAAKnL,KAAKqL,WAAWyvB,SAAS,cAAe,MAC1E,KAAK,EAAAx1B,iBAAiBC,SAAU,EAAA4F,KAAKnL,KAAKqL,WAAWyvB,SAAS,sBAelE,GAZIz4B,EAAQd,MAAQ,EAAA+D,iBAAiBqG,QAE7B3L,KAAKy3C,cACL,EAAAtsC,KAAKnL,KAAKqL,WAAWyvB,SAAS,uBAG9B,EAAA3vB,KAAKnL,KAAKqL,WAAWyvB,SAAS,cACH,MAAvBz4B,EAAQixC,cACPtzC,KAAKqL,UAA+BioC,YAAcjxC,EAAQixC,eAInEjxC,EAAQd,MAAQ,EAAA+D,iBAAiBC,UAAYlD,EAAQoJ,YAErD,IAAKzL,KAAKy3C,cACN,MAAM7rC,MAAM,0CAEf,GAAI5L,KAAKy3C,cACV,MAAM7rC,MAAM,uCAIO,MAAnBvJ,EAAQ+T,SACR,EAAAjL,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQ+T,SAI/C,IAAI0zB,EAAa,EAAA9+B,eAAe9C,WAAW,EAAAwE,iBAAiBkrC,WACxDC,EAAkB,0BAClB73C,KAAKy3C,gBACLI,EAAkB,mCAEtB73C,KAAK83C,eAAiB,EAAA3sC,KAAK,eAAiB0sC,EAAkB,YAAYvhC,eAAetW,KAAKsC,aAAa,GAC3G,EAAA6I,KAAKnL,KAAK83C,gBAAgB1rC,aAAa09B,GACvC,EAAA3+B,KAAKnL,KAAK83C,gBAAgBlV,MAAM,KAExB,EAAAz3B,KAAK,sBAAsBU,GAAG,YAC9B7L,KAAKkqC,SAGLlqC,KAAK2T,OACL3T,KAAK8nB,WAIb,EAAA3c,KAAKnL,KAAK83C,gBAAgB37B,GAAG,aAAe7B,GAA8B,EAAAnP,KAAKnL,KAAKqL,WAAWyvB,SAAS,eACxG,EAAA3vB,KAAKnL,KAAK83C,gBAAgB37B,GAAG,aAAe7B,GAA8B,EAAAnP,KAAKnL,KAAKqL,WAAWwzB,YAAY,eAEtF,MAAjBx8B,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,MACzEn7B,KAAK83C,eAAer8B,MAAMC,SAAW,8BAIzC,IAAIq8B,EAAY,EAAA/sC,eAAe9C,WAAW,EAAAyE,mBAAmBqrC,OACzDC,EAAe,EAAA9sC,KAAK,qEAAqEmL,eAAetW,KAAKsC,aAAa,GAkC9H,QAjC0B,IAAtBD,EAAQ60C,YACRe,EAAax8B,MAAMC,SAAW,gBAElC,EAAAvQ,KAAK8sC,GAAc7rC,aAAa2rC,GAChC,EAAA5sC,KAAK8sC,GAAcrV,MAAOtoB,IAElBta,KAAKiqC,WACLjqC,KAAK+tC,OAAM,MAKO,IAAtB1rC,EAAQ60C,aAEkB,IAAtB70C,EAAQ60C,YAAoB70C,EAAQ60C,UAAY,IAAI,EAAAgB,eAC1B,MAA1B71C,EAAQ60C,UAAUn8B,OAAc1Y,EAAQ60C,UAAUn8B,KAAO,EAAArO,iBAAiByrC,MAC9E91C,EAAQ60C,UAAUpb,aAAez5B,EAAQ60C,UAAUpb,aAAe,iDAClEz5B,EAAQ60C,UAAUnhC,IAAM1T,EAAQ60C,UAAUnhC,IAAM,+EAChB,MAA5B1T,EAAQ60C,UAAU7a,SAAgBh6B,EAAQ60C,UAAU7a,OAASh6B,EAAQg6B,QAEzEr8B,KAAKo4C,UAAY,EAAAx1C,aAAaP,EAAQ60C,UAAWl3C,KAAKsC,cAEpB,IAA9BD,EAAQ60C,UAAU9a,SAClBp8B,KAAK83C,eAAe99B,UAAUpP,IAAI,+BAKrB,MAAjBvI,EAAQhB,OACRrB,KAAKqB,MAAMgB,EAAQhB,OAAO,GAItBgB,EAAQu5B,WAEZ,KAAK,EAAAhuB,cAAc0tB,KAAMt7B,KAAKqL,UAAUoQ,MAAMC,SAAW,oBAAqB,MAC9E,KAAK,EAAA9N,cAAcyqC,OAAQr4C,KAAKqL,UAAUoQ,MAAMC,SAAW,sBAAuB,MAClF,KAAK,EAAA9N,cAAc6tB,MAAOz7B,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAM9D,GADA1b,KAAKs4C,WAAa,KACE,MAAhBj2C,EAAQ0Y,KACZ,CACI,IAAIU,EAAQ,GACZ,GAA4B,MAAxBzb,KAAKqC,UAAU04B,MACftf,EAAQ,0CAEZ,CACI,IAAI4iB,EAAa,EAAAlzB,KAAKnL,KAAKsC,aAAawZ,KAAK,YAAYP,QAC5B,MAAzBlZ,EAAQ24B,eAAwD,MAA/B34B,EAAQ24B,cAAczf,QACvD8iB,EAAah8B,EAAQ24B,cAAczf,OAGnCE,EADAzb,KAAKqC,UAAU24B,cAAez4B,UAAY,EAAA4K,aAAamuB,MAAQt7B,KAAKqC,UAAU24B,cAAez4B,UAAY,EAAA4K,aAAasuB,MAC9G,iBAAmB4C,EAAa,IAAM,wBAEtC,0BAGhBr+B,KAAKs4C,WAAa,EAAAntC,KAAK,aAAe9I,EAAQ0Y,KAAO,iEAAmEU,EAAQ,UAAU,GAC1I,EAAAtQ,KAAKnL,KAAKqL,WAAWquB,aAAa15B,KAAKs4C,YACvCt4C,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAET,MAAnBrZ,EAAQ+T,SACR,EAAAjL,KAAKnL,KAAKs4C,YAAYxsC,KAAK,QAASzJ,EAAQ+T,SAEhD,EAAAjL,KAAKnL,KAAKs4C,YAAY1V,MAAM,KAEpB,EAAAz3B,KAAK,sBAAsBU,GAAG,YAC9B7L,KAAKkqC,SAGLlqC,KAAK2T,OACL3T,KAAK8nB,WAIb,EAAA3c,KAAKnL,KAAKs4C,YAAYn8B,GAAG,aAAe7B,GAA8B,EAAAnP,KAAKnL,KAAKqL,WAAWyvB,SAAS,eACpG,EAAA3vB,KAAKnL,KAAKs4C,YAAYn8B,GAAG,aAAe7B,GAA8B,EAAAnP,KAAKnL,KAAKqL,WAAWwzB,YAAY,oBAE9E,MAApBx8B,EAAQmxC,WACbxzC,KAAKqL,UAAUoQ,MAAMC,SAAW,yBAA2BrZ,EAAQmxC,SAAW,qFAclF,GAVInxC,EAAQm1C,UAA4B,MAAhBn1C,EAAQ0Y,OAC5B/a,KAAKu4C,oBAAsB,EAAAx9B,KAAK,EAAAtO,iBAAiB+rC,MAAOx4C,KAAKs4C,WAAY,CAAEviC,IAAK,4FAIhF1T,EAAQ+0C,UACRp3C,KAAKo3C,UAAS,GAId/0C,EAAQd,MAAQ,EAAA+D,iBAAiBqG,MACrC,CACI,EAAAR,KAAKnL,KAAKqL,WAAW8gC,QAAS7xB,IAG1B,GADAta,KAAK2T,OACqB,MAAtBtR,EAASqqC,UACb,CACI,IAAI+L,EAAiB,IAAIC,EAKzB,GAJAD,EAAe3N,OAAS9qC,KACxBy4C,EAAe1zB,MAAQzK,EACvBjY,EAASqqC,UAAU+L,GAEfA,EAAe10B,qBACf,OAGR,GAA2B,MAAvB1hB,EAASsoC,YAAsBrwB,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MACpD,CACI,IAAIiO,EAAkB,IAAIC,EAK1B,GAJAD,EAAgB7N,OAAS9qC,KACzB24C,EAAgBt3C,MAAQrB,KAAKqB,QAC7BgB,EAASsoC,WAAWgO,GAEhBA,EAAgB50B,qBAChB,OAGJzJ,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,KACjBtrC,KAAK64C,uBAAwB74C,KAAKqL,UAAgCiP,GAEtE,IAAIvH,EAAQ/S,KAAKqL,UAA+BhK,MAC5C2qC,EAAkBhsC,KAAKqL,UAA+B2gC,eACtDgK,EAAgBh2C,KAAKqL,UAA+B2qC,aACpC,MAAhBA,GAA0C,MAAlBhK,GAA4BgK,EAAehK,GAAmBj5B,EAAK3H,QAAWkP,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,WAEvHprC,KAAKqB,MAAM,MACXrB,KAAK6rC,UAEAvxB,EAAE3Y,KAAO,EAAA4Q,QAAQ64B,WAA4B,GAAfr4B,EAAK3H,QACxCpL,KAAK6rC,WAGb,IAAIhmB,EAAU,EACd,EAAA1a,KAAKnL,KAAKqL,WAAWm/B,MAAOlwB,IAGxB,GADAta,KAAK2T,OACD2G,EAAE3Y,KAAO,EAAA4Q,QAAQ85B,YAAc/xB,EAAE3Y,KAAO,EAAA4Q,QAAQ+5B,WAAahyB,EAAE3Y,KAAO,EAAA4Q,QAAQumC,UAAWx+B,EAAE2wB,SAE5E,KAAT3wB,EAAE3Y,KAAc2Y,EAAE2wB,QAF5B,CASA,GAAwB,MAApB5oC,EAASuoC,QACb,CACI,IAAImO,EAAe,IAAIC,EAKvB,GAJAD,EAAajO,OAAS9qC,KACtB+4C,EAAah0B,MAAQzK,EACrBjY,EAASuoC,QAAQmO,GAEbA,EAAah1B,qBACb,OAGR,GAAIzJ,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,YAAcnqC,EAASoJ,WAC5C,CACI,IAAIwtC,EAAK,KAST,OAPIA,EADgB,MAAhBj5C,KAAKqB,QACA,EAAA8J,KAAKnL,KAAKuqC,QAAQzuB,KAAK,cAAc8O,QAErC,EAAAzf,KAAKnL,KAAKk5C,mBAAmBj4C,IAAIjB,KAAKqB,UAAmB83C,OAElEF,EAAGnxB,aAEHxN,EAAE0e,iBAIN,GAAI1e,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,UAAYlqC,EAASoJ,WAC1C,CACI,IAAIwtC,EAAK,KAST,OAPIA,EADgB,MAAhBj5C,KAAKqB,QACA,EAAA8J,KAAKnL,KAAKuqC,QAAQzuB,KAAK,cAAc8O,QAErC,EAAAzf,KAAKnL,KAAKk5C,mBAAmBj4C,IAAIjB,KAAKqB,UAAmB+3C,OAElEH,EAAGnxB,aAEHxN,EAAE0e,iBAIF1e,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,OAASpwB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,KAAOhxB,EAAE3Y,KAAO,EAAA4Q,QAAQ8mC,QAGnEr5C,KAAKurC,OAAS,KAEdjxB,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,KACjBtrC,KAAK64C,uBAAwB74C,KAAKqL,UAAgCiP,GAEtEg/B,aAAazzB,GACbA,EAAUrB,OAAOwa,WAAW,KAExB,IAAIjsB,EAAQ/S,KAAKqL,UAA+BhK,MAChD,GAA2B,MAAvBgB,EAASqJ,WACb,CACI,IAAI6tC,EAAgBv5C,KAAKs1B,OAAOviB,EAAM/S,KAAKqL,WAC9B,KAATiP,EAAE3Y,KAAc2Y,EAAE2wB,SAAmC,GAAxBsO,EAAcnuC,SAE3CpL,KAAKqB,MAAMk4C,EAAc,GAAGl4C,OAC5BrB,KAAKkqC,aAIb,CACI,GAAY,IAARn3B,EAIA,OAFA/S,KAAKw5C,OAAS,QACd,EAAAruC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMzB,SAIjC,CACI,GAAItH,EAAK3H,OAAS/I,EAASqJ,WAAY6rC,uBACnC,OAEJ,IAAIvL,EAAkBhsC,KAAKqL,UAA+B2gC,eACtDgK,EAAgBh2C,KAAKqL,UAA+B2qC,aAChC,GAAlBhK,GAAuBgK,GAAiBh2C,KAAKqL,UAA+BhK,MAAM+J,QACpFpL,KAAKy5C,WAAW1mC,MAG7B,WApFKuH,EAAE0e,mBAuFd,EAAA7tB,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAU7B,IAE9Bta,KAAK2T,OACL,IAAIkhC,EAAcv6B,EAAEw6B,cAAcC,cAAcC,QAAQ,QAExDnvB,EAAUrB,OAAOwa,WAAW,KAExB,GAAwB,MAApB38B,EAAS4yC,QACb,CACI,IAAIlwB,EAAQ,IAAI20B,EAOhB,GANA30B,EAAM+lB,OAAS9qC,KACf+kB,EAAM8vB,YAAcA,EACpB9vB,EAAM1jB,MAAQrB,KAAKqB,QAAUwzC,EAC7B9vB,EAAMA,MAAQzK,EACdjY,EAAS4yC,QAAQlwB,GAEbA,EAAMhB,qBAGN,YADAzJ,EAAE0e,iBAKV,IAAIjmB,EAAQ/S,KAAKqL,UAA+BhK,MAChD,GAA2B,MAAvBgB,EAASqJ,WACb,CACI,IAAI6tC,EAAgBv5C,KAAKs1B,OAAOviB,EAAM/S,KAAKqL,WAC9B,KAATiP,EAAE3Y,KAAc2Y,EAAE2wB,SAAmC,GAAxBsO,EAAcnuC,SAE3CpL,KAAKqB,MAAMk4C,EAAc,GAAGl4C,OAC5BrB,KAAKkqC,aAIb,CACI,GAAY,IAARn3B,EAIA,OAFA/S,KAAKw5C,OAAS,QACd,EAAAruC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMzB,SAIjC,CACI,IAAI2xB,EAAkBhsC,KAAKqL,UAA+B2gC,eACtDgK,EAAgBh2C,KAAKqL,UAA+B2qC,aAChC,GAAlBhK,GAAuBgK,GAAiBh2C,KAAKqL,UAA+BhK,MAAM+J,QACpFpL,KAAKy5C,WAAW1mC,MAG7B,OAMN/S,KAAKy3C,cA4BN,EAAAtsC,KAAKnL,KAAKqL,WAAWu3B,MAAOtoB,IAAc,EAAAnP,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,YAAe7L,KAAKkqC,QAAUlqC,KAAK2T,UA1BlG,EAAAxI,KAAKnL,KAAKqL,WAAWyc,MAAOxN,IAEvBta,KAAKqL,UAA+B0c,SACjC/nB,KAAK23C,sBACL33C,KAAK2T,OAET3T,KAAK23C,sBAAuB,IAEhC,EAAAxsC,KAAKnL,KAAKqL,WAAWszB,KAAMrkB,GAAWkK,OAAOwa,WAAW,KAQpD,GANoB,MAAhBh/B,KAAKqB,SAAqE,GAAlD,EAAA8J,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiB1Q,QAChEpL,KAAKs1B,OAAO,GAAIt1B,KAAKqL,WAEN,MAAfrL,KAAKuqC,QAAmBvqC,KAAK25C,kBAC7B35C,KAAKkqC,QAEc,MAAnB7nC,EAASypC,OACb,CACI,IAAI8N,EAAY,IAAIC,EACpBD,EAAU9O,OAAS9qC,KACnB45C,EAAUv4C,MAAQrB,KAAKqB,QACvBgB,EAASypC,OAAO8N,KAErB,QAM6B,MAAhB,EAAA7tC,aAAwB,EAAAA,aAAeC,UAC7C4gC,iBAAiB,SAAWtyB,KAEjC,EAAAnP,KAAKmP,EAAE6oB,QAAQ7E,SAAS,sBAAwB,EAAAnzB,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,cAEtE7L,KAAK2+B,OACL3+B,KAAKkqC,WAEV,GAIP,QAEI,IAAI7nC,EAAUrC,KAAK+sC,aASnB,GARA,EAAA5hC,KAAKnL,KAAKuqC,QAAQlwB,SACjBra,KAAKuqC,OAAiB,KACvBvqC,KAAK25C,kBAAmB,EACxB35C,KAAKk5C,mBAAqB,IAAIvyC,IAE1B3G,KAAKy3C,eACL,EAAAtsC,KAAK,yBAA2BnL,KAAKqL,UAAU8K,IAAIkE,SAEhC,MAAnBhY,EAAQy3C,QACZ,CACI,IAAIC,EAAa,IAAIC,EACrBD,EAAWjP,OAAS9qC,KACpB+5C,EAAWE,YAAcj6C,KAAKk6C,aAC9BH,EAAWI,WAAan6C,KAAKqB,QAC7BgB,EAAQy3C,QAAQC,GAGhB13C,EAAQd,MAAQ,EAAA+D,iBAAiBqG,OAAwB,MAAf3L,KAAKurC,SAE3ClpC,EAAQ20C,SACRh3C,KAAKo6C,cAAep6C,KAAKqL,UAA+BhK,OAEvDrB,KAAKqL,UAA+BhK,MAAQ,IAIzD,OAEI,IAAIgB,EAAUrC,KAAK+sC,aACnB,GAAK/sC,KAAKiqC,YAGN,EAAA9+B,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,YAAzB,CAGA,GAA4B,MAAxBxJ,EAAQg4C,aACZ,CACI,IAAIC,EAAkB,IAAIC,EAK1B,GAJAD,EAAgBxP,OAAS9qC,KACzBs6C,EAAgBj5C,MAAQrB,KAAKqB,QAC7BgB,EAAQg4C,aAAaC,GAEjBA,EAAgBv2B,qBAChB,OAGW,MAAf/jB,KAAKuqC,SACLvqC,KAAKuqC,OAAS,EAAAp/B,KAAK,8CAAgDnL,KAAKqL,UAAU8K,GAAK,qBAAqBG,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,IAEpJ,GAA9BjM,KAAKw6C,eAAepvC,OACpB,EAAAD,KAAKnL,KAAKuqC,QAAQzP,SAAS,kBAE3B,EAAA3vB,KAAKnL,KAAKuqC,QAAQ1L,YAAY,kBAElCra,OAAOwa,WAAW,KAId,GAFAh/B,KAAKy6C,iBAEDz6C,KAAKy3C,cACT,CACI,IAAIiD,EAAS,EAAAvvC,KAAKnL,KAAKuqC,QAAQx0B,IAAI,WAAa,EAC5C4kC,EAAa,EAAAxvC,KAAK,4DAA8DnL,KAAKqL,UAAU8K,GAAK,oEAAsEukC,EAAS,aAAapkC,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,GAC1Q,EAAAd,KAAKwvC,GAAY/X,MAAOtoB,GAAWta,KAAKkqC,SAI5C,IAAIhN,EAAW,EAAA/xB,KAAKnL,KAAKqL,WAAW2b,aA+CpC,GA9CoC,MAAhC3kB,EAAQ26B,cAAezhB,OAAiB2hB,EAAW76B,EAAQ26B,cAAezhB,QAC1E2hB,EAAW76B,EAAQ26B,cAAezhB,OAEC,MAAnClZ,EAAQ26B,cAAeE,WACvBA,EAAW76B,EAAQ26B,cAAeE,UAElCA,EAAW,MACXA,EAAW,KAEc,MAAzB76B,EAAQ26B,cACR36B,EAAQ26B,cAAcE,SAAWA,EAEjCl9B,KAAKuqC,OAAO9uB,MAAMC,SAAW,cAAgBwhB,EAAW,MAE5DjU,MAAMykB,aAAa1tC,KAAKuqC,OAAQloC,EAAQ26B,eAIpC36B,EAAQg1C,eAERr3C,KAAK46C,aAAe,EAAA92C,eAChB,CACI44B,kBAAkB,EAClB3pB,KAAM,qBACNwI,MAAO,OACPugB,aAAc,6EACd5lB,MAAO,sBACPmmB,OAAQh6B,EAAQg6B,OAChBwe,QAAUvgC,IAEN,IAAI61B,GAAgB,EAEhBA,EADkC,kBAA1B9tC,EAAqB,aACbA,EAASg1C,aAETh1C,EAASg1C,aAAclH,cAEvC71B,EAAEwgC,QACF96C,KAAKo3C,SAASjH,GAEdnwC,KAAK+6C,WAAW5K,KAEzBnwC,KAAKuqC,OAAQ,EAAAr+B,oBAAoBqvB,UAKrB,IAAnBl5B,EAAQizB,QAAyE,GAAtD,EAAAnqB,KAAKnL,KAAKuqC,QAAQzuB,KAAK,qBAAqB1Q,OAC3E,CACI,IAAIya,EAAU,EACd7lB,KAAKg7C,iBAAmB,EAAAh4C,cACpB,CACIuY,MAAO,OACPR,KAAM,EAAArO,iBAAiBimC,OACvBW,YAAa,WACbp9B,MAAO,mBACP4lB,aAAc,uCACd4Q,UAAYpyB,IAERta,KAAK64C,uBAAuBv+B,EAAEwwB,OAAOz/B,UAA+BiP,IAExEswB,QAAUtwB,IAENta,KAAK64C,uBAAuBv+B,EAAEwwB,OAAOz/B,UAA+BiP,GACpEg/B,aAAazzB,GACbA,EAAUrB,OAAOwa,WAAW,KAExB,IAAIjsB,EAAeuH,EAAEwwB,OAAOzpC,QAC5BrB,KAAKs1B,OAAOviB,EAAM/S,KAAKg7C,iBAAiB3vC,YACzC,OAERrL,KAAKuqC,OAAQ,EAAAr+B,oBAAoBqvB,QAa5C,GAV6B,MAAzBv7B,KAAKg7C,kBACL,EAAA7vC,KAAKnL,KAAKg7C,iBAAiB3vC,WAAWyc,QAIhB,MAAtBzlB,EAAQqJ,YACR1L,KAAKqB,MAAMrB,KAAKqB,SAAS,GAE7BrB,KAAKk6C,aAAel6C,KAAKqB,SAEpBgB,EAAQoJ,WACb,CACI,IAAIwvC,EAAUj7C,KAAKk5C,mBAAmBj4C,IAAIjB,KAAKqB,SAC/C,GAAe,MAAX45C,EACJ,CACI,EAAA9vC,KAAK8vC,GAASngB,SAAS,gCAEvB,IAAI+L,EAAc,EAAA17B,KAAK8vC,GAASziB,SAAS5R,IAAM,EAAAzb,KAAKnL,KAAKuqC,QAAQ/R,SAAS5R,IAAO,EAAAzb,KAAKnL,KAAKuqC,QAAQ/uB,SAAW,EAC1GqrB,EAAc,IAAGA,EAAc,GACnC7mC,KAAKuqC,OAAOgF,SAAS,EAAG1I,IAKhC,GAA2B,MAAvBxkC,EAAQ64C,YACZ,CACI,IAAIC,EAAiB,IAAIZ,EACzBY,EAAerQ,OAAS9qC,KACxBm7C,EAAe95C,MAAQrB,KAAKk6C,aAC5B73C,EAAQ64C,YAAYC,OAKxB,uBAAuB9vC,EAA2BiP,GAEtD,IAAIjY,EAAUrC,KAAK+sC,aACnB,GAA0B,MAAtB1qC,EAAQqJ,aAA2C,IAArBrJ,EAAQ20C,UAInB,GADRh3C,KAAKo7C,4BAA4B/vC,EAAQhK,OAC3C+J,OACb,CACI,IAAIiwC,EAAUhwC,EAAQhK,MAGtB,OAFAgK,EAAQhK,MAAQg6C,EAAQ1mB,UAAU,EAAG0mB,EAAQjwC,OAAS,QACtDkP,EAAE0e,kBAKF,OAAOjmB,EAAc1H,GAEzB,IAAI2gC,EAAkB3gC,EAA6B2gC,eAC/CgK,EAAgB3qC,EAA6B2qC,aAC7CsF,EAAgC,GAEpC,GAAY,IAARvoC,GAAsB,MAARA,EAEd,EAAA5H,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMI,OACO,MAAhClc,KAAK+sC,aAAarhC,aAElB1L,KAAKw5C,OAAS,GACd,EAAAruC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiBzB,eAG3C,GAAwB,GAAlB2xB,GAAuBgK,GAAiB3qC,EAA6BhK,MAAM+J,OACtF,CACI,EAAAD,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMjJ,OAE7B,IAAIykC,EAAQt3C,KAAKo7C,4BAA4BroC,GAC7CuoC,EAAgBhE,EAEhB,IAAIiE,EAASjE,EAAM16B,IAAIsY,GAAKA,EAAE7zB,OAC1Bm6C,EAAQlE,EAAM16B,IAAIsY,GAAK,EAAAlqB,eAAeywC,WAAWvmB,EAAEniB,OAEvD,IAAK,IAAI2hB,KAAQ4iB,EACjB,CACI,IAAIoE,EAAchnB,EAAKgnB,YACvB,KAAsB,MAAfA,GACP,CACI,IAAIC,EAAa37C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASq6C,GAAa,GAC7DH,EAAOx/B,SAAS2/B,KAEjBH,EAAO/nB,KAAKkoB,GACZF,EAAMhoB,KAAK,EAAAxoB,eAAeywC,WAAWE,EAAW5oC,QAEpD2oC,EAA6B,MAAdC,EAAsBA,EAAWD,iBAAch+B,EAC1Dg+B,GAAeC,EAAWt6C,QAC1Bq6C,OAAch+B,IAI1B,IAAK,IAAIk+B,KAAiBl/B,MAAMm/B,KAAsB,EAAA1wC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,wBAErE0/B,EAAMz/B,SAASyN,OAAO,EAAAre,KAAKywC,GAAe9vC,KAAK,SAASgwC,UAExD,EAAA3wC,KAAKywC,GAAe9e,QAAQ,iBAAiB5gB,OAC7C,EAAA/Q,KAAKywC,GAAe9e,QAAQ,iBAAiBA,QAAQ,iBAAiB5gB,OAEtE,EAAA/Q,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4B+iB,YAAY,0BAC1F,EAAA1zB,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4BvB,SAAS,KAAKskB,YAAY,EAAAnyB,iBAAiBqvC,WAAa,IAAM,EAAArvC,iBAAiBkrC,WAC7J,EAAAzsC,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4Bgf,SAAS,cACvF,EAAA3vB,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4BvB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBkrC,YAIlI,OAAO0D,EAGH,eAAeU,GAEnB,EAAA7wC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiBzB,SAExC,IAAIi9B,EAAQt3C,KAAKs3C,QACG,MAAhB0E,IACA1E,EAAQt3C,KAAKo7C,4BAA4BY,IAEzB,GAAhB1E,EAAMlsC,QAA2B,MAAZksC,EAAM,KAG/Bt3C,KAAKk5C,mBAAqB,IAAIvyC,IAC9B2wC,EAAQA,EAAMhiB,OAAOJ,GAAsB,MAAjBA,EAAEwmB,aAET,MAAf17C,KAAKuqC,QACLvqC,KAAKi8C,UAAU3E,EAAOt3C,KAAKuqC,SAG3B,UAAU+M,EAAuB4E,GAErC,IAAI75C,EAAUrC,KAAK+sC,aACnB,GAAoB,GAAhBuK,EAAMlsC,OACN,OAEJ,IAAI+wC,EAAK,EAAAhxC,KAAK,kCAAkCmL,eAAe4lC,GAC/D,IAAK,IAAIxnB,KAAQ4iB,EACjB,CACsB,MAAd5iB,EAAKrzB,QACLqzB,EAAKrzB,MAAQqzB,EAAK3hB,MAEtB,IAAIwH,EAAWva,KAAKo8C,qBAAqB1nB,GAErCukB,EAAK,EAAA9tC,KAAK,gDAAgDmL,eAAe6lC,GAC7E,GAAIn8C,KAAKk5C,mBAAmBhiB,IAAI1N,OAAOkL,EAAKrzB,QAC5C,CACI,IAAIg7C,EAAer8C,KAAKk5C,mBAAmBj4C,IAAIuoB,OAAOkL,EAAKrzB,QAC3Dg7C,EAAa7oB,KAAKylB,EAAG,IACrBj5C,KAAKk5C,mBAAmB/hB,IAAI3N,OAAOkL,EAAKrzB,OAAQg7C,QAGhDr8C,KAAKk5C,mBAAmB/hB,IAAI3N,OAAOkL,EAAKrzB,OAAQ,CAAC43C,EAAG,KA0DxD,GAvDK52C,EAAQoJ,aAET,EAAAN,KAAK8tC,GAAI98B,GAAG,UAAY7B,IAEpBta,KAAK25C,kBAAmB,EACxB,EAAAxuC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,gCAE7C,GAAnBtkB,EAASnP,QACT,EAAAD,KAAKmP,EAAE6oB,QAAQrI,SAAS,+CAEhC,EAAA3vB,KAAK8tC,GAAI98B,GAAG,UAAY7B,IAEpB,GAAIA,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,UACrB,CACI,IAAI2M,EAAO,EAAAhuC,KAAKmP,EAAE0rB,eAAemT,OACjC,GAAmB,GAAfA,EAAK/tC,OACL,OAGJ,IADA,EAAAD,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,iCAC5Dsa,EAAKttC,GAAG,aACZstC,EAAO,EAAAhuC,KAAKguC,GAAMA,OAEtBA,EAAKrxB,aAEJ,GAAIxN,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,QAC1B,CACI,IAAI6M,EAAO,EAAAjuC,KAAKmP,EAAE0rB,eAAeoT,OACjC,GAAmB,GAAfA,EAAKhuC,OACL,OAGJ,IADA,EAAAD,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,iCAC5Dua,EAAKvtC,GAAG,aACZutC,EAAO,EAAAjuC,KAAKiuC,GAAMA,OAEtBA,EAAKtxB,aAEAxN,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,OACtB,EAAAv/B,KAAKmP,EAAE0rB,eAAelqB,KAAK,uBAAuBmc,eAM1D51B,EAAQy0C,UAAY,EAAAloC,qBAAqB0tC,aAEjB,MAApB5nB,EAAKgnB,aACL,EAAAvwC,KAAK8tC,GAAInc,QAAQ,iBAAiBjqB,OAEjCxQ,EAAQy0C,UAAY,EAAAloC,qBAAqB2tC,wBAE1C,EAAApxC,KAAK8tC,GAAIuD,QAAQ,iBAAiBpxC,OAAS,GAC3C,EAAAD,KAAK8tC,GAAInc,QAAQ,iBAAiBjqB,OAItC0H,EAASnP,OAAS,EACtB,CAEI,IAAIqxC,EAAkB,GAClBzhC,EAAY,EAAAtO,iBAAiBqvC,WAC7B15C,EAAQy0C,UAAY,EAAAloC,qBAAqB0tC,cAEzCthC,EAAY,EAAAtO,iBAAiBqvC,WAC7BU,EAAkB,eAEbp6C,EAAQy0C,UAAY,EAAAloC,qBAAqB2tC,uBAEE,GAA5C,EAAApxC,KAAK8tC,GAAIuD,QAAQ,iBAAiBpxC,QAElC4P,EAAY,EAAAtO,iBAAiBkrC,UAC7B6E,EAAkB,eAIlBzhC,EAAY,EAAAtO,iBAAiBqvC,WAC7BU,EAAkB,gBAKtBzhC,EAAY,EAAAtO,iBAAiBkrC,UAC7B6E,EAAkB,cAGtB,IAAIC,EAAU,EAAAvxC,KAAK,uCAAyCsxC,EAAkB,YAAYnmC,eAAe2iC,GACzG,EAAA9tC,KAAK,EAAAH,eAAe9C,WAAW8S,IAAY1E,eAAeomC,GAC1D,EAAAvxC,KAAKuxC,GAAS9Z,MAAOtoB,IAEjB,EAAAnP,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKskB,YAAY,EAAAnyB,iBAAiBqvC,WAAa,IAAM,EAAArvC,iBAAiBkrC,WACrG,EAAAzsC,KAAKmP,EAAE0rB,eAAenH,YAAY,0BAElC,IAAI8d,EAAa,EAAAxxC,KAAKmP,EAAE0rB,eAAe4W,SAAS,iBAC5CD,EAAW/xB,QAAQ/e,GAAG,aAEtB8wC,EAAW9pC,OACX,EAAA1H,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBqvC,YAC9D,EAAA5wC,KAAKmP,EAAE0rB,eAAelL,SAAS,iBAI/B6hB,EAAWzgC,OACX,EAAA/Q,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBkrC,WAC9D,EAAAzsC,KAAKmP,EAAE0rB,eAAelL,SAAS,iBAM3C,IAAI+hB,EAAY,EAAA1xC,KAAK,kDAAkDmL,eAAe2iC,GACtF,GAAI52C,EAAQoJ,WACZ,CACI,IAAIqxC,EAAW,EAAA3xC,KAAK,sDAAsDmL,eAAeumC,GACzF,EAAA1xC,KAAK2xC,GAAUla,MAAOtoB,IAGlB,IAAIyiC,EAAYziC,EAAE0rB,cAAc8U,QAC5Bz5C,EAAQqzB,EAAKrzB,MAEb07C,EACA/8C,KAAK03C,eAAelkB,KAAKnyB,GAEzBrB,KAAK03C,eAAe5iB,SAASzzB,GAEjC,IAAI27C,EAAah9C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAC5D,GAAkB,MAAd27C,GAAsBh9C,KAAKo8C,qBAAqBY,GAAY5xC,OAAS,EACzE,CACI,IAAI6xC,EAAgBj9C,KAAKk9C,oBAAoBF,GACzC1iC,EAAE0rB,cAAc8U,SAChB96C,KAAK03C,eAAe9iB,YAAYqoB,EAAcrgC,IAAIsY,GAAKA,EAAE7zB,QAE7D,IAAI87C,EAAqBn9C,KAAKo9C,4BAAoCJ,GAAY,GAC9E,EAAA7xC,KAAKgyC,GAAoBE,KAAK,UAAW/iC,EAAE0rB,cAAc8U,SAEzD,IAAK,IAAIwC,KAAaL,EAEb3iC,EAAE0rB,cAAc8U,SACjB96C,KAAK03C,eAAe5iB,SAASwoB,EAAUj8C,OAKnDrB,KAAKu9C,WAAajjC,EAAE0rB,cAAc8U,QAE7B96C,KAAKu9C,YACNv9C,KAAK03C,eAAe5iB,SAASJ,EAAKrzB,OAGtC,IAAIm8C,EAAoC,GACpCC,EAASz9C,KAAKk5C,mBAAmBj4C,IAAIuoB,OAAOkL,EAAKrzB,QACrD,IAAK,IAAI43C,KAAMwE,EACf,CACI,IAAI7B,EAAgB,EAAAzwC,KAAK8tC,GAAIn9B,KAAK,uBAAuB,GACzD0hC,EAAehqB,KAAKooB,GAGxB,IAAK,IAAIA,KAAiB4B,EAC1B,CACI,GAAqB,MAAjB5B,EACA,SAEJ,IAAIkB,EAAW,EAAA3xC,KAAKywC,GAAegB,SAAS,SAC5C,EAAAzxC,KAAK2xC,GAAUje,YAAY,2BAC3B,EAAA1zB,KAAK2xC,GAAUO,KAAK,UAAWr9C,KAAKu9C,YACpCT,EAAS,GAAGhC,QAAU96C,KAAKu9C,WAG/B,IAAK,IAAIG,KAAa19C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASqzB,EAAKrzB,OAC/D,CACI,IAAIs8C,EAAgB39C,KAAK49C,kBAAkBF,GACtCC,GAA0C,MAAzBD,EAAUhC,YAEvBiC,GAA0C,MAAzBD,EAAUhC,cAAwB17C,KAAK03C,eAAe37B,SAASyN,OAAOk0B,EAAUhC,eACtG17C,KAAK03C,eAAelkB,KAAKhK,OAAOk0B,EAAUhC,cAF1C17C,KAAK03C,eAAe5iB,SAAS4oB,EAAUhC,aAM/C,IAAIiC,EAAgB39C,KAAK49C,kBAAkBlpB,GACtCipB,GAAqC,MAApBjpB,EAAKgnB,YAElBiC,GAAqC,MAApBjpB,EAAKgnB,cAAwB17C,KAAK03C,eAAe37B,SAASyN,OAAOkL,EAAKgnB,eAC5F17C,KAAK03C,eAAelkB,KAAKhK,OAAOkL,EAAKgnB,cAFrC17C,KAAK03C,eAAe5iB,SAASJ,EAAKgnB,aAItC17C,KAAK69C,kBAAoBr0B,OAAOkL,EAAKrzB,OACrCrB,KAAK03C,eAAiB13C,KAAK03C,eAAe7gB,aAC1C72B,KAAKo6C,cAAcp6C,KAAK03C,gBACxB13C,KAAK69C,kBAAoB,OAIjC,IAAIC,EAAUppB,EAAK3hB,KAAKqH,QAAQ,KAAM,SACtC,GAAwB,MAApB/X,EAAQ07C,SACZ,CACI,IAAIC,EAAgB,IAAI,EAAAr/B,sBACxBq/B,EAAcC,SAAWvpB,EACzBspB,EAAc3yC,QAAUwxC,EAAU,GAClCmB,EAAclT,OAAS9qC,KACvB89C,EAAUz7C,EAAQ07C,SAASC,GAG/B,IAAIE,EAAmB77C,EAAkB,WAAI,6BAA+B,GACxEu5C,EAAgB,EAAAzwC,KAAK,gBAAkBupB,EAAK3hB,KAAO,WAAa2hB,EAAK3hB,KAAKqH,QAAQ,KAAM,SAAW,+BAAiC8jC,EAAkB,KAAOJ,EAAU,WAAWxnC,eAAeumC,GAmBrM,GAlBA,EAAA1xC,KAAKywC,GAAez/B,GAAG,YAAc7B,IAEjC,IAAIjZ,EAAQqzB,EAAKrzB,MACbikB,EAAQtlB,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAC1C,MAATikB,GAAkBtlB,KAAKm+C,gBAAgBpiC,SAASyN,OAAOlE,EAAMjkB,QAW7D,EAAA2J,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,KAT9EtrC,EAAQoJ,WAMT,EAAAN,KAAKmP,EAAE0rB,eAAe4W,SAAS,eAAeha,SAJ9C5iC,KAAKo6C,cAAc90B,EAAMjkB,OACzBrB,KAAKkqC,WASc,MAA3B7nC,EAAQ+7C,gBACZ,CACI,IAAIr5B,EAAQ,IAAIs5B,EAChBt5B,EAAM+lB,OAAS9qC,KACf+kB,EAAM1Z,QAAUuwC,EAAc,GAC9B72B,EAAMk5B,SAAWvpB,EACjBryB,EAAQ+7C,gBAAgBr5B,GAGxBxK,EAASnP,OAAS,GAClBpL,KAAKi8C,UAAU1hC,EAAU0+B,IAI7B,4BAA4B53C,GAEhCA,EAAQA,EAAMiqB,cACd,IAAIgzB,EAAgC,GAOpC,OANuBt+C,KAAKs3C,QAAQ16B,IAAIsY,GAAK1L,OAAO0L,EAAEniB,MAAMuY,eAC1C5R,QAAQ,CAACwb,EAAGrY,MAED,GAArBqY,EAAEH,QAAQ1zB,IACVi9C,EAAc9qB,KAAKxzB,KAAKs3C,QAAQz6B,MAEjCyhC,EAIX,WAAWhH,EAAwBnH,GAAgB,GAE/C,OAAOnwC,KAAKs3C,MAAMA,EAAOnH,GAG7B,MAAMmH,EAAwBnH,GAAgB,GAE1C,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAa,MAATuK,EACJ,CACI,IAAIiH,EAAY,EAAAvzC,eAAeoqC,UAAUkC,GACzC,GAAwB,MAApBj1C,EAAQmnC,WAAyC,IAArBnnC,EAAQmnC,UAAsB+U,EAAUnzC,OAAS,EACjF,CACI,IAAIozC,EAAe,IAAI,EAAA//B,aACvB+/B,EAAazrC,KAAqC,kBAArB1Q,EAAgB,UAA2C,MAAzBA,EAAQmnC,SAASz2B,KAAgB,kBAAoB1Q,EAAQmnC,SAASz2B,KACrIyrC,EAAan9C,MAAsC,kBAArBgB,EAAgB,SAAkB,GAAiC,MAA1BA,EAAQmnC,SAASnoC,MAAiBgB,EAAQmnC,SAASnoC,MAAQ,IAClIk9C,EAAUE,QAAQD,GAGtBx+C,KAAKw5C,OAAS+E,EAEY,MAAtBl8C,EAAQqJ,YAER1L,KAAKy6C,iBACDp4C,EAAQd,MAAQ,EAAA+D,iBAAiBC,UAAsC,MAA1BvF,KAAKs3C,QAAQjjB,WAC1Dr0B,KAAKo6C,cAAcp6C,KAAKs3C,QAAQjjB,UAAUhzB,MAAO8uC,KAIpB,MAA7BnwC,KAAK0+C,uBAA8B1+C,KAAKw5C,OAAS,IACrDx5C,KAAKy6C,iBACLz6C,KAAK0+C,qBAAuB,MAGpC,OAAO1+C,KAAKw5C,OAGhB,SAEI,OAAOx5C,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OAGnC,gBAAgBs9C,GAAe,GAE3B,IAAIrH,EAAQt3C,KAAKs3C,QAAQhiB,OAAOJ,GAAKl1B,KAAK03C,eAAe37B,SAASyN,OAAO0L,EAAE7zB,SAC3E,GAAIs9C,EACJ,CACI,IAAIC,EAAiB5+C,KAAK6+C,oBAC1BvH,EAAQA,EAAMhiB,OAAOJ,GAAK0pB,EAAe7iC,SAASyN,OAAO0L,EAAE7zB,SAE/D,OAAOi2C,EAAMvgB,aAAa7B,GAAKA,EAAE7zB,OAGrC,iBAAiBs9C,GAAe,GAE5B,IAAIpD,EAASv7C,KAAK03C,eAAe7gB,aACjC,GAAI8nB,EACJ,CACI,IAAIC,EAAiB5+C,KAAK6+C,oBAC1BtD,EAASA,EAAOjmB,OAAOJ,GAAK0pB,EAAe7iC,SAASmZ,IAExD,OAAOqmB,EAGX,kBAEI,OAAOv7C,KAAKs3C,QAAQhiB,OAAOJ,GAAgB,MAAXA,EAAE7zB,OAAiB6zB,EAAE7zB,OAASrB,KAAKqB,SAAS,GAGhF,QAAQqzB,EAAoBoqB,GAAc,EAAM3O,GAAgB,EAAM4O,GAElE/+C,KAAKs3C,QAAQ9jB,KAAKkB,GAEJ,MAAVqqB,IAEwB,MAApBA,EAAOzhB,YAAmByhB,EAAOzhB,UAAY,EAAAntB,kBAAkB6uC,KACnEh/C,KAAKs3C,QAAQ9hB,SAAS,CAACupB,EAAOE,OAASF,EAAOzhB,WAAa,EAAAntB,kBAAkB6uC,MAG7EF,GACA9+C,KAAKs3C,MAAMt3C,KAAKs3C,QAASnH,GAGjC,SAASmH,EAAuBwH,GAAc,EAAM3O,GAAgB,GAEhE,IAAK,IAAIzb,KAAQ4iB,EACbt3C,KAAKk/C,QAAQxqB,GAAM,GAEnBoqB,GACA9+C,KAAKs3C,MAAMt3C,KAAKs3C,QAASnH,GAGjC,WAAWgP,EAA0CL,GAAc,GAE/D,GAAuB,iBAAZK,GAA2C,iBAAZA,EAC1C,CACI,IAAIC,EAAcp/C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAAS89C,GAAU,GAChEn/C,KAAKs3C,QAAQxiB,SAASsqB,QAGtBp/C,KAAKs3C,QAAQxiB,SAASqqB,GAEtBL,GACA9+C,KAAKs3C,MAAMt3C,KAAKs3C,SAGxB,YAAYA,EAA6CwH,GAAc,GAEnE,IAAK,IAAIpqB,KAAQ4iB,EACbt3C,KAAKq/C,WAAW3qB,GAAM,GAEtBoqB,GACA9+C,KAAKs3C,MAAMt3C,KAAKs3C,SAGxB,eAAej2C,GAEX,OAAOrB,KAAKs3C,QAAQhiB,OAAOJ,GAAK1L,OAAO0L,EAAE7zB,OAAOiqB,eAAiBjqB,EAAMiqB,eAAe,GAG1F,cAAcvY,GAEV,OAAO/S,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAEniB,KAAKuY,eAAiBvY,EAAKuY,eAAe,GAGhF,mBAAmBjqB,GAGf,OADcrB,KAAKk5C,mBAAmBj4C,IAAII,GAI9C,eAEI,IAAIi+C,EAA8B,GAClC,IAAK,IAAI5qB,KAAQ10B,KAAKs3C,QACtB,CACI,GAAY,MAAR5iB,EACA,SAEJ,IAAIgnB,EAAchnB,EAAKgnB,YACvB,KAAsB,MAAfA,GACP,CACI,IAAIC,EAAa37C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASq6C,GAAa,GAC7D4D,EAAYvjC,SAAS4/B,IACtB2D,EAAY9rB,KAAKmoB,GAErBD,EAA6B,MAAdC,EAAsBA,EAAWD,iBAAch+B,EAC5C,MAAdi+B,GAAsBD,GAAeC,EAAWt6C,QAChDq6C,OAAch+B,IAG1B,OAAO4hC,EAEX,gBAEI,OAAOt/C,KAAKw6C,eAAellB,OAAOJ,GAAU,MAALA,GAAWtY,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,QAEhE,eAEJ,OAAOrB,KAAKw6C,eAAe59B,IAAIsY,GAAKA,EAAEniB,MAG1C,eAEI,IAAIwsC,EAAav/C,KAAKm+C,gBACtB,OAAOn+C,KAAKs3C,QAAQhiB,OAAOJ,IAAMqqB,EAAWxjC,SAASyN,OAAO0L,EAAE7zB,SAElE,gBAEI,OAAOrB,KAAKw/C,eAAe5iC,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,QAEzC,eAEJ,OAAOrB,KAAKw/C,eAAe5iC,IAAIsY,GAAKA,EAAEniB,MAG1C,mBAEI,OAAO/S,KAAKw/C,eAEhB,oBAEI,OAAOx/C,KAAKy/C,gBAER,mBAEJ,OAAOz/C,KAAK0/C,eAGR,qBAAqB/D,GAEzB,OAAO37C,KAAKs3C,QAAQhiB,OAAOJ,GAAsB,MAAjBA,EAAEwmB,aAAuBxmB,EAAEwmB,aAAeC,EAAWt6C,OAGjF,oBAAoBs6C,GAExB,OAAO37C,KAAK2/C,qBAAqBhE,GAE7B,qBAAqBA,GAEzB,OAAO37C,KAAKk9C,oBAAoBvB,GAAY/+B,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,QAG1D,qBAAqBs6C,GAEzB,IAAIiE,EAA2B,MAAdjE,EAAsB37C,KAAKs3C,QAAUt3C,KAAKo8C,qBAAqBT,GAC5ErE,EAAwB,GAC5B,IAAK,IAAIuI,KAAeD,EAEpBtI,EAAM9jB,KAAKqsB,GACP7/C,KAAKo8C,qBAAqByD,GAAaz0C,OAAS,GAChDksC,EAAM1iB,YAAY50B,KAAK2/C,qBAAqBE,IAEpD,OAAOvI,EAGH,4BAAmEqE,EAA0Bb,GAAU,EAAOgF,GAAY,GAE9H,IAAIC,EAAW//C,KAAKk5C,mBAAmBj4C,IAAIuoB,OAAOmyB,EAAWt6C,QACzD2+C,EAAsB,EAAA70C,KAAK40C,GAAUjkC,KAAK,uBAAuB,GACjEmkC,EAAiB,EAAA90C,KAAK60C,GAAqBpD,SAAS,SAEpDsD,EAA2B,EAAA/0C,KAAK80C,GAAgBE,SAASA,SAASrkC,KAAK,SAAW,EAAY,WAAa,KAC3GskC,EAAU,EAAAj1C,KAAK+0C,EAAyB,IAAItD,SAAS,uBAAuB,GAUhF,OATe,MAAXwD,GAAsC,MAAnBzE,EAAW5oC,MAE1B,EAAA5H,KAAKi1C,GAASne,OAAO7N,gBAAkBunB,EAAW5oC,KAAKqhB,gBACvD8rB,EAAyBlrB,OAAO,EAAG,GAGvC8qB,IACAI,EAA2BxjC,MAAMm/B,KAAuBqE,IAErDA,EAGH,cAAc5C,GAElB,OAA6B,MAAzBA,EAAU5B,YACH17C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASi8C,EAAU5B,aAAa,GAC/D,KAGH,kBAAkBhnB,GAEtB,IAAIinB,EAAa37C,KAAKqgD,cAAc3rB,GACpC,GAAkB,MAAdinB,EACJ,CACI,IACI2E,EADWtgD,KAAKo9C,4BAAgDzB,GAAY,GAAM,GACnDrmB,OAAOJ,GAAU,MAALA,GAAaA,EAAE4lB,SAE1DiF,EAAW//C,KAAKk5C,mBAAmBj4C,IAAIuoB,OAAOmyB,EAAWt6C,QACzDk/C,EAAqB,EAAAp1C,KAAK40C,GAAUjkC,KAAK,SAAS,GACtD,GAA0B,MAAtBykC,EAKA,OAHA,EAAAp1C,KAAKo1C,GAAoB1hB,YAAY,2BACrC0hB,EAAmBzF,SAAU,EAEzB96C,KAAKk9C,oBAAoBvB,GAAYvwC,QAAUk1C,EAAoBl1C,QAEnEm1C,EAAmBzF,SAAU,GACtB,GAE4B,GAA9BwF,EAAoBl1C,QAEzBm1C,EAAmBzF,SAAU,GACtB,IAIP,EAAA3vC,KAAKo1C,GAAoBzlB,SAAS,4BAC3B,IASvB,KAAK/nB,GAUD,GARY,MAARA,IAEK/S,KAAKy3C,cAGN,EAAAtsC,KAAKnL,KAAKqL,WAAWyQ,KAAK,6BAA6B,GAAGgmB,UAAY/uB,EAFrE/S,KAAKqL,UAA+BhK,MAAQ0R,GAKhD/S,KAAKy3C,cAWV,CACI,GAAiE,MAA7D,EAAAtsC,KAAKnL,KAAKqL,WAAWyQ,KAAK,6BAA6B,GAC3D,CACI,IAAIza,EAAQ,EAAA8J,KAAKnL,KAAKqL,WAAWyQ,KAAK,6BAA6B,GAAGgmB,UAClE0e,EAAexgD,KAAKygD,kBAIxB,MAHa,IAATp/C,GAA+B,MAAhBm/C,IACfn/C,EAAQm/C,EAAaztC,MAElB1R,EAGP,MAAO,GArBf,CACI,IAAIA,EAASrB,KAAKqL,UAA+BhK,MAC7Cm/C,EAAexgD,KAAKygD,kBAKxB,MAJa,IAATp/C,GAA+B,MAAhBm/C,IACfn/C,EAAQm/C,EAAaztC,MAEZ,MAAT1R,IAAeA,EAAQ,IACpBA,GAkBf,YAAY0R,GAKR,OAHY,MAARA,IACC/S,KAAKqL,UAA+BioC,YAAcvgC,GAE/C/S,KAAKqL,UAA+BioC,YAGxC,cAAoDjyC,EAAqE8uC,GAAyB,GAEtJ,IAAI9tC,EAAUrC,KAAK+sC,aAClB1qC,EAAgBq+C,aAAe,OAEhC,IAAIppB,EAAMt3B,KAAKqB,MAASA,EAAO8uC,EAAenwC,KAAK2gD,qBAGnD,OADCt+C,EAAgBq+C,aAAe,KACzBppB,EAGX,MAA4Cj2B,EAAqE8uC,GAAyB,EAAM/zB,GAE5I,GAAc,OAAV/a,EAGA,OADArB,KAAK+tC,QACE,KAGX,IAAI1rC,EAAUrC,KAAK+sC,aACnB,GAAa,MAAT1rC,EACJ,CACIrB,KAAK2gD,oBAAsBvkC,EACL,iBAAX,IACP/a,EAAQmoB,OAAOnoB,IAEkB,MAAhCgB,EAAgBq+C,eAA+C,IAAvBr+C,EAAQoJ,YACjDzL,KAAK+tC,QAEJ1rC,EAAQoJ,YACT,EAAAN,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,gCAElD,iBAAX,GAAyC,iBAAX,IAErCx9B,EAAQ,CAACmoB,OAAOnoB,IACU,MAAtBgB,EAAQqJ,YAAuD,MAAhCrJ,EAAgBq+C,eAC/Cr/C,EAAQ,CAAEA,MAAOmoB,OAAOnoB,GAAQ0R,KAAM,MAG9C,IAAI8pC,EAAY,KACZngC,MAAM4X,QAAQjzB,GAGdA,GADAA,EAAQA,EAAMw1B,cACArC,uBAIdqoB,EAAY,IAAI,EAAAp+B,aAChBo+B,EAAU9pC,KAAO1R,EAAM0R,KACvB8pC,EAAUx7C,MAAQA,EAAMA,MACxBA,EAAQ,CAACmoB,OAAOqzB,EAAUx7C,SAGV,GAAhBA,EAAM+J,OACNpL,KAAK4gD,kBAEL5gD,KAAK6gD,kBAET,IAAIC,EAAY,EAAA91C,eAAeoqC,UAAUp1C,KAAKurC,QAC9CvrC,KAAKurC,OAAS,GACd,IAAK,IAAIwV,KAAe1/C,EACxB,CACI,IAAI2/C,EAAahhD,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAAS0/C,GAAa,GAChD,MAAdC,GACAhhD,KAAKurC,OAAO/X,KAAKhK,OAAOw3B,EAAW3/C,QAI3C,GAA0B,MAAtBgB,EAAQqJ,YAAmC,MAAbmxC,EAmB9B,OAjBA78C,KAAKihD,qBAAuB,GAC5BjhD,KAAKihD,qBAAqBztB,KAAKhK,OAAOqzB,EAAUx7C,QAChDrB,KAAK0+C,qBAA0C,MAAlB7B,EAAU9pC,KAAgB,GAAK8pC,EAAU9pC,KACtE/S,KAAKy5C,WAAWoD,EAAU9pC,MAAM,EAAMo9B,GAc/B0M,EAAUx7C,MAIrB,GAA0B,MAAtBgB,EAAQqJ,WACZ,CACI,IAAI6vC,EAASv7C,KAAKu7C,SAClBl6C,EAAQA,EAAMi0B,OAAOJ,GAAKqmB,EAAOx/B,SAASmZ,IAK9C,GAFAl1B,KAAK03C,eAAiBr2C,EAElB8uC,EACJ,CACI,IAAI1E,EAAgB,IAAI,EAAA1sB,sBACxB,GAA8B,MAA1B1c,EAAQspC,eACZ,CACI,IAAIuV,EAAWlhD,KAAKm+C,gBAAgBpiC,SAAS/b,KAAKurC,OAAO,IACrDoQ,EAAa,KACbuF,IACAvF,EAAa37C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAE5DoqC,EAAcX,OAAS9qC,KACvByrC,EAAcG,cAAgBkV,EAC9BrV,EAAc0V,sBAAwBL,EACtCrV,EAAcpqC,OAAgC,IAAvBgB,EAAQoJ,WAAuBzL,KAAK03C,eAAiB13C,KAAKurC,OAAO,GACxFE,EAAc14B,KAAO/S,KAAK+S,OAC1B04B,EAAcmT,eAAiB,EAAa5+C,KAAKohD,qBAAqBzF,GAAe,GACrFlQ,EAAcqP,QAAU96C,KAAKu9C,WAC7B9R,EAAcyV,SAAWlhD,KAAKm+C,gBAAgBpiC,SAAS/b,KAAKurC,OAAO,IACnElpC,EAAQspC,eAAeF,GAGtBA,EAAc1nB,sBAOf/jB,KAAKurC,OAASuV,EACd9gD,KAAK2gD,oBAAsB,OAN3B3gD,KAAKqhD,iBAAiBxE,EAAWx7C,GACjCrB,KAAK6rC,eAUT7rC,KAAKqhD,iBAAiBxE,EAAWx7C,GAC7BA,EAAM+J,OAAS,GACfpL,KAAKshD,2BAIjB,OAAmB,MAAfthD,KAAKurC,OACE,MACqB,IAAvBlpC,EAAQoJ,WACNzL,KAAKurC,OAELvrC,KAAKurC,OAAO,GAGnB,2BAEJ,IAAIlpC,EAAUrC,KAAK+sC,aACnB,GAAgC,MAA5B/sC,KAAK2gD,oBACT,CACI,IAAIt/C,EAASgB,EAAQoJ,YAAwC,MAA1BzL,KAAK69C,kBAA6B79C,KAAK69C,kBAAoB79C,KAAKqB,QAE/F6/C,EAAWlhD,KAAKm+C,gBAAgBpiC,SAAS1a,GACzCs6C,EAAa,KACbuF,IACAvF,EAAa37C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAE5D,IAAI0jB,EAAQ,IAAI,EAAAjG,oBAChBiG,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQA,EACd0jB,EAAMhS,KAAO/S,KAAK+S,OAClBgS,EAAM65B,eAAiB,EAAa5+C,KAAKohD,qBAAqBzF,GAAe,GAC7E52B,EAAMy7B,aAAexgD,KAAKygD,kBAC1B17B,EAAM+1B,QAAU96C,KAAKu9C,WACrBx4B,EAAMm8B,SAAWA,EACjBlhD,KAAK2gD,oBAAoB57B,GAE7B/kB,KAAK2gD,oBAAsB,KAGvB,iBAAiB9D,EAAgCx7C,GAErD,IAAIgB,EAAUrC,KAAK+sC,aACnB,GAAK/sC,KAAKy3C,cAYV,CACI,EAAAtsC,KAAKnL,KAAKqL,WAAWyQ,KAAK,6BAA6BzB,SACvD,IAAIknC,EAAgBvhD,KAAKs3C,QAAQhiB,OAAOJ,GAAK7zB,EAAM0a,SAASyN,OAAO0L,EAAE7zB,SACrE,GAAIkgD,EAAcn2C,OAAS,EAC3B,CACI,GAA4B,GAAxBm2C,EAAcn2C,QAA+C,IAAhCm2C,EAAcltB,UAAUthB,KACrD,OAEJ,GAAI1Q,EAAQoJ,WACZ,CACI81C,EAAgBA,EAAcxqB,aAAa7B,GAAKA,EAAE7zB,OAClD,IAAImgD,EAAiBD,EAAc3kC,IAAIsY,GAAKA,EAAE7zB,OAC1Cm8C,EAAoC,GACxC,IAAK,IAAIlmB,KAAOkqB,EAChB,CAEI,IAAI/D,EAASz9C,KAAKk5C,mBAAmBj4C,IAAIuoB,OAAO8N,IAChD,GAAc,MAAVmmB,EAEA,IAAK,IAAIxE,KAAMwE,EACf,CACI,IAAI7B,EAAgB,EAAAzwC,KAAK8tC,GAAIn9B,KAAK,uBAAuB,GACzD0hC,EAAehqB,KAAKooB,IAMhC,IAAK,IAAIA,KAAiB4B,EAC1B,CACI,GAAqB,MAAjB5B,EACA,SAEJ,IAAIkB,EAAW,EAAA3xC,KAAKywC,GAAegB,SAAS,SAC5C,EAAAzxC,KAAK2xC,GAAUje,YAAY,2BAC3B,EAAA1zB,KAAK2xC,GAAUO,KAAK,WAAW,GAC/BP,EAAS,GAAGhC,SAAU,EAI1B,IAAI2G,EAAiCF,EAAcxqB,aAAa7B,GAAKA,EAAEwmB,aACvE,IAAK,IAAIhnB,KAAQ+sB,EACjB,CACIzhD,KAAK49C,kBAAkBlpB,GAGvB,IAAIinB,EAAa37C,KAAKqgD,cAAc3rB,GACpC,GAAkB,MAAdinB,EACJ,CACI,IAAIiD,EAAiB5+C,KAAKohD,qBAAqBzF,GAC7B8F,EAA+B7kC,IAAIsY,GAAKA,EAAE7zB,OAAOy0B,MAAMz0B,GAE9Du9C,EAAe7iC,SAAS1a,MAGfkgD,EAAc3kC,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAAS4/B,EAAWt6C,QACpEkgD,EAAc/tB,KAAKmoB,KAOnC4F,EAAgBA,EAAcxqB,aAAa7B,GAAKA,EAAE7zB,OAClD,IAAIqgD,EAAkC,GACtC,IAAK,IAAIlB,KAAgBe,EAEjBvhD,KAAK6+C,oBAAoB9iC,SAASykC,EAAan/C,QAC/CqgD,EAAgBluB,KAAKgtB,GAG7B,IAAImB,EAAqB,EAAAx2C,KAAK,2CAA8C9I,EAAgB,SAAI,GAAKq/C,EAAgB9kC,IAAIsY,GAAKA,EAAEniB,MAAM0hB,0BAA4B,WAAWne,eAAetW,KAAKqL,WAAW,GAC5M,GAAKhJ,EAAQm1C,SAaT,EAAArsC,KAAKnL,KAAKu4C,qBAAqB1lC,OAC3B0uC,EAAcn2C,QAAUpL,KAAKs3C,QAAQvgB,aAAa7B,GAAKA,EAAE7zB,OAAO+J,QAAW/I,EAAQ80C,cAAgB90C,EAAQd,MAAQ,EAAA+D,iBAAiBC,UACpI,EAAA4F,KAAKnL,KAAKu4C,qBAAqBr8B,WAdvC,CAEoB,EAAAlR,eAAe42C,UAAUD,GACzB,EAAAx2C,KAAKw2C,GAAoBpmC,SAAWmmC,EAAgBt2C,OAAS,IAAM/I,EAAQ80C,cACvF,EAAAhsC,KAAKw2C,GAAoB1f,KAAKyf,EAAgBt2C,OAAS,aAEvDm2C,EAAcn2C,QAAUpL,KAAKs3C,QAAQvgB,aAAa7B,GAAKA,EAAE7zB,OAAO+J,QAAW/I,EAAQ80C,cAAgB90C,EAAQd,MAAQ,EAAA+D,iBAAiBC,UACpI,EAAA4F,KAAKw2C,GAAoB1f,KAAoC,MAA9B5/B,EAAQw/C,mBAA8Bx/C,EAAQw/C,mBAAqB,qBAUjF,MAArB7hD,KAAK46C,eAED2G,EAAcn2C,QAAUpL,KAAKs3C,QAAQvgB,aAAa7B,GAAKA,EAAE7zB,OAAO+J,OAChEpL,KAAK46C,aAAaE,SAAQ,GAAM,GAG5ByG,EAAcn2C,OAAS,EACvBpL,KAAK46C,aAAaE,QAAQ,EAAAtsC,kBAAkBszC,WAAW,GAEvD9hD,KAAK46C,aAAaE,SAAQ,GAAO,SAMpB,MAArB96C,KAAK46C,cACL56C,KAAK46C,aAAaE,SAAQ,GAAO,QApHzC,GAAiB,MAAb+B,EACJ,CACI,IAAInoB,EAAO10B,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,EAAM,IAAI,GAC7C,MAARqzB,IACC10B,KAAKqL,UAA+BhK,MAAQqzB,EAAK3hB,WAGrD/S,KAAKqL,UAA+BhK,MAAQw7C,EAAU9pC,KAkHnE,OAAO8J,EAAQ,EAAGszB,GAAgB,GAEhBnwC,KAAK+sC,aACPxrC,MAAQ,EAAA+D,iBAAiBC,UAAmC,MAAvBvF,KAAKs3C,QAAQz6B,IAC1D7c,KAAKo6C,cAAcp6C,KAAKs3C,QAAQz6B,GAAOxb,MAAO8uC,GAGtD,MAAMtzB,EAAQ,EAAGszB,GAAgB,GAE7BnwC,KAAK+nB,OAAOlL,EAAOszB,GAGvB,KAAKp1B,GAED,IAAI1Y,EAAUrC,KAAK+sC,aAOnB,OANY,MAARhyB,GAAmC,MAAnB/a,KAAKs4C,aAErBj2C,EAAQ0Y,KAAOA,EACf/a,KAAKs4C,WAAW7Z,gBAAgB,SAChC,EAAAtzB,KAAKnL,KAAKs4C,YAAYxd,SAAS/f,IAE5B/a,KAAKs4C,WAGhB,UAEI,OAAuB,MAAhBt4C,KAAKqB,SAAmC,IAAhBrB,KAAKqB,QAGxC,QAEIrB,KAAKqL,UAAUoQ,MAAMC,SAAW,gCAGpC,YAEI1b,KAAKqL,UAAUoQ,MAAMC,SAAW,iCAKpC,SAASy0B,GAAgB,GAErBnwC,KAAK03C,eAAiB13C,KAAKs3C,QAAQ16B,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,QACrDrB,KAAK03C,eAAiB13C,KAAK03C,eAAe7gB,aAC1C72B,KAAKo6C,cAAcp6C,KAAKs3C,QAAQ16B,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,QAAS8uC,GAElC,MAArBnwC,KAAK46C,cACL56C,KAAK46C,aAAaE,SAAQ,GAAM,GAGxC,WAAW3K,GAAgB,GAEvBnwC,KAAK03C,eAAiB,GACtB,EAAAvsC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,gCACpE,EAAA1zB,KAAKnL,KAAKuqC,QAAQzuB,KAAK,SAAS+iB,YAAY,2BAC5C,IAAK,IAAIkjB,KAASrlC,MAAMm/B,KAAuB,EAAA1wC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,UAElE,EAAA3Q,KAAK42C,GAAO1E,KAAK,WAAW,GAC5B0E,EAAMjH,SAAU,EAGpB96C,KAAKo6C,cAAc,GAAIjK,GACE,MAArBnwC,KAAK46C,cACL56C,KAAK46C,aAAaE,SAAQ,GAAO,GAEvB96C,KAAK+sC,aACPyK,UACR,EAAArsC,KAAKnL,KAAKu4C,qBAAqB1lC,OAGvC,MAAMxR,EAAe8uC,GAAgB,GAEjC,IAAI6R,EAAgBhiD,KAAKiiD,mBACzBD,EAAcxuB,KAAKnyB,GACnBrB,KAAKqB,MAAM2gD,EAAe7R,GAG9B,QAAQ9uC,EAAe8uC,GAAgB,GAGnC,GAAY,MADDnwC,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAEtD,CACI,IAAIm8C,EAAoC,GACpCC,EAASz9C,KAAKk5C,mBAAmBj4C,IAAII,GACzC,GAAc,MAAVo8C,EACJ,CACI,IAAK,IAAIxE,KAAMwE,EACf,CACI,IAAI7B,EAAgB,EAAAzwC,KAAK8tC,GAAIn9B,KAAK,uBAAuB,GACzD0hC,EAAehqB,KAAKooB,GAGxB,IAAK,IAAIA,KAAiB4B,EAC1B,CACI,GAAqB,MAAjB5B,EACA,SAEJ,IAAIkB,EAAW,EAAA3xC,KAAKywC,GAAegB,SAAS,SAC5C,EAAAzxC,KAAK2xC,GAAUje,YAAY,2BAC3B,EAAA1zB,KAAK2xC,GAAUO,KAAK,WAAW,GAC/BP,EAAS,GAAGhC,SAAU,GAI9B96C,KAAK03C,eAAe5iB,SAASzzB,GAC7BrB,KAAKqB,MAAMrB,KAAKiiD,mBAAoB9R,IAI5C,aAEI,OAAOnwC,KAAKiiD,mBAAmB72C,QAAUpL,KAAKohD,uBAAuBvqB,aAAazrB,OAKtF,MAAM+kC,GAAgB,GAElB,IAAI9tC,EAAUrC,KAAK+sC,aAQnB,GAPA,EAAA5hC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,gCACpE7+B,KAAK+6C,YAAW,GAEhB/6C,KAAK4gD,kBACL,EAAAz1C,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMI,OAE7Blc,KAAKurC,OAAS,KACTvrC,KAAKy3C,cAIN,GAAIp1C,EAAQd,MAAQ,EAAA+D,iBAAiBC,SACrC,CACI,IAAI28C,EAAYliD,KAAKs3C,QAAQjjB,UAC7B,GAAiB,MAAb6tB,EACJ,CACI,IAAI3nC,EAAWva,KAAKo8C,qBAAqB8F,GAClB,GAAnB3nC,EAASnP,OACTpL,KAAKo6C,cAAc8H,EAAU7gD,OAAO,GAEpCrB,KAAKo6C,cAAc7/B,EAAS8Z,UAAUhzB,OAAO,QAGjD,EAAA8J,KAAKnL,KAAKqL,WAAWyQ,KAAK,6BAA6BzB,cAG3D,EAAAlP,KAAKnL,KAAKqL,WAAWyQ,KAAK,6BAA6BzB,cAlB1Dra,KAAKqL,UAA+BhK,MAAQ,GAiCjD,IAZuB,IAAnBgB,EAAQizB,QAAqE,MAAlD,EAAAnqB,KAAKnL,KAAKuqC,QAAQzuB,KAAK,qBAAqB,KACvE,EAAA3Q,KAAKnL,KAAKuqC,QAAQzuB,KAAK,qBAAqB,GAAGza,MAAQ,IAEjC,MAAtBgB,EAAQqJ,aAER1L,KAAKw5C,OAAS,GACd,EAAAruC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiBzB,UAGxC81B,GACAnwC,KAAK6rC,SAEc,MAAnBxpC,EAAQ8/C,QACZ,CACI,IAAIC,EAAa,IAAI,EAAApjC,mBACrBojC,EAAWtX,OAAS9qC,KACpBqC,EAAQ8/C,QAAQC,IAIxB,aAEIpiD,KAAKw5C,OAAS,GACdx5C,KAAK+tC,QACL,EAAA5iC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiBzB,SAG5C,QAEI,OAAO,EAAAlP,KAAKnL,KAAKuqC,QAAQ,GAG7B,MAAM52B,GAAO,GAET3T,KAAK23C,qBAAuBhkC,EAC5B,EAAAxI,KAAKnL,KAAKqL,WAAWyc,QAGjB,aAEJ,OAAO9nB,KAAKqC,UAGR,WAAW0Q,EAAO,GAAIsvC,GAAU,EAAOlS,GAAgB,GAE3D,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAA0B,MAAtB1qC,EAAQqJ,WACR,OAE4C,MAA5CrJ,EAAQqJ,WAAW42C,wBAA+BjgD,EAAQqJ,WAAW42C,sBAAwB,QAChD,MAA7CjgD,EAAQqJ,WAAW62C,yBAAgClgD,EAAQqJ,WAAW62C,uBAAyB,SACvD,MAAxClgD,EAAQqJ,WAAW82C,oBAA2BngD,EAAQqJ,WAAW82C,kBAAoB,SAEzF,IAAIliB,EAAe,GASnB,GARAA,EAAQj+B,EAAQqJ,WAAW42C,uBAAyBvvC,EAEhDsvC,IACA/hB,EAAQj+B,EAAQqJ,WAAW62C,wBAA0BviD,KAAKihD,qBAAsB,IAElD,MAA9B5+C,EAAQqJ,WAAW60B,UACnBl+B,EAAQqJ,WAAW60B,QAAU,IAEI,MAAjCl+B,EAAQqJ,WAAW+2C,WACvB,CACI,IAAIA,EAAapgD,EAAQqJ,WAAW+2C,aAChCC,EAAiB5hD,OAAOogC,oBAAoBuhB,GAChD,IAAK,IAAIthB,KAASuhB,EACdpiB,EAAQa,GAASshB,EAAWthB,GAGpCnhC,KAAK2iD,kBAAoB,EAAA33C,eAAeC,aACxCq1B,EAAQ9jB,KAAOxc,KAAK2iD,kBACpB,EAAA33C,eAAeyuC,WACX,CACIl4C,KAAM,EAAA8Q,eAAewuB,MACrBN,QAASl+B,EAAQqJ,WAAW60B,QAC5Ba,OAAQ/+B,EAAQqJ,WAAW01B,OAC3Bd,QAASA,GAEZiB,IAEG,GAA8B,MAA1BvhC,KAAK2iD,mBAA8C,MAAjBphB,EAAS/kB,MAAgBxc,KAAK2iD,mBAAqBphB,EAAS/kB,KAC9F,OAEJ,IAAIomC,EAAa,GACjB,GAAKP,EASL,CACI,IACIQ,EADqBthB,EAASl/B,EAASqJ,WAAY82C,mBACxBltB,OAAOJ,GAAKA,EAAE7zB,OAASrB,KAAKihD,qBAAsB,IAAI,GACjE,MAAhB4B,IAEA7iD,KAAKs3C,MAAM,CAACuL,IAAe,GAC3BD,EAAaC,EAAaxhD,YAb9BrB,KAAK0+C,qBAAuB3rC,EAC5B/S,KAAKs3C,MAAM/V,EAASl/B,EAASqJ,WAAY82C,oBAEtB,MAAfxiD,KAAKurC,SACLqX,EAAa5iD,KAAKurC,OAAO,IAajC,GAAkB,IAAdqX,GAAkC,MAAdA,EACpB5iD,KAAKo6C,cAAcwI,EAAYzS,QAC9B,GAAIA,EACT,CACI,IAAI9uC,EAASgB,EAAQoJ,YAAwC,MAA1BzL,KAAK69C,kBAA6B79C,KAAK69C,kBAAoB79C,KAAKqB,QACtF,IAATA,GAAwB,MAATA,GACfrB,KAAK6rC,WAGjB,IAAM7rC,KAAK2gD,oBAAsB,MAIzC,mBAGgC,IADd3gD,KAAK+sC,aACPkK,aACR,EAAA9rC,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BI,OAG/D,kBAEI,EAAA/Q,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BjJ,OAG3D,SAEI,OAAO7S,KAAKo4C,UAGhB,cAAchf,GAUV,OARa,MAATA,IAEAp5B,KAAK8iD,SAAS1mB,QAAQhD,GAClBA,EACAp5B,KAAK83C,eAAe99B,UAAUpP,IAAI,8BAElC5K,KAAK83C,eAAe99B,UAAUK,OAAO,+BAEtCra,KAAK8iD,SAAS1mB,UAGzB,aAEIp8B,KAAK+iD,eAAc,GAGvB,aAEI/iD,KAAK+iD,eAAc,GAGvB,cAAc3pB,GAKV,OAHa,MAATA,GACAp5B,KAAK8iD,SAAS7Y,QAAQ7Q,GAEnBp5B,KAAK8iD,SAAS7Y,UAGzB,eAEIjqC,KAAKgjD,eAAc,GAGvB,gBAEIhjD,KAAKgjD,eAAc,GAKvB,SAEI/5B,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKsC,aAAawZ,KAAK,4BAA4B+iB,YAAY,0BACpE,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,oCAAoC+iB,YAAY,0BAEtD,MAAlB7+B,KAAKo4C,WACLp4C,KAAKo4C,UAAU/b,SAEM,MAArBr8B,KAAK46C,cACL56C,KAAK46C,aAAave,SAG1B,UAEIpT,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKsC,aAAawZ,KAAK,4BAA4Bgf,SAAS,0BACjE,EAAA3vB,KAAKnL,KAAKsC,aAAawZ,KAAK,oCAAoCgf,SAAS,0BAEnD,MAAlB96B,KAAKo4C,WACLp4C,KAAKo4C,UAAU9b,UAEM,MAArBt8B,KAAK46C,cACL56C,KAAK46C,aAAate,UAK1B,OAAO6D,GAEH,IAAI0Q,EAAiB7wC,KAAK+sC,aAAaO,cACvC,GAAsB,MAAlBuD,EACJ,CACI,IACIxvC,EADUrB,KAAK+sC,aACEthC,YAAwC,MAA1BzL,KAAK69C,kBAA6B79C,KAAK69C,kBAAoB79C,KAAKqB,QAE/F6/C,EAAWlhD,KAAKm+C,gBAAgBpiC,SAAS1a,GACzCs6C,EAAa,KACbuF,IACAvF,EAAa37C,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAE5D,IAAIyvC,EAAc,IAAI,EAAAhyB,oBACtBgyB,EAAYhG,OAAS9qC,KACrB8wC,EAAYzvC,MAAQA,EACpByvC,EAAY/9B,KAAO/S,KAAK+S,OACxB+9B,EAAY8N,eAAiB,EAAa5+C,KAAKohD,qBAAqBzF,GAAe,GACnF7K,EAAY0P,aAAexgD,KAAKygD,kBAChC3P,EAAYgK,QAAU96C,KAAKu9C,WAC3BzM,EAAYoQ,SAAWA,EACvBrQ,EAAeC,GAGnB9wC,KAAKshD,2BAEW,MAAZnhB,GACAA,KAn/DZ,aAw/DA,yBAA8Bh7B,IAe9B,MAAMuzC,UAA6B,EAAA75B,iBAMnC,MAAMm6B,UAA2B,EAAAn6B,iBAMjC,MAAM66B,UAA2B,EAAA76B,iBAQjC,MAAM+5B,UAA8B,EAAA/5B,iBAMpC,MAAMm7B,UAA2B,EAAAn7B,iBAOjC,MAAM07B,UAA0B,EAAA17B,iBAMhC,MAAMw/B,UAAmC,EAAAx/B,iBAOzC,MAAMg7B,UAA0B,EAAAh7B,mB,oICxmEhC,aACA,OAGA,MAAaq5B,UAAsB,EAAAntC,kBAAnC,kBA0BA,MAAalI,UAAe,EAAAqmC,UAIxB,YAAY79B,EAAsBhJ,GAwB9B,GArBe,MAAXA,IACAA,EAAU,IAAI61C,GAEE,MAAhB71C,EAAQ0Q,OAAc1Q,EAAQ0Q,KAAO,IACrB,MAAhB1Q,EAAQd,OAAcc,EAAQd,KAAO,EAAAgM,eAAeqkB,SAE5B,MAAxBvvB,EAAQ4gD,eAAsB5gD,EAAQ4gD,aAAe,IAAI,EAAA7nC,cACxB,MAAjC/Y,EAAQ4gD,aAAa1gD,WAAkBF,EAAQ4gD,aAAa1gD,SAAW,EAAA4K,aAAamuB,MAC3D,MAAzBj5B,EAAQ6gD,gBAAuB7gD,EAAQ6gD,eAAgB,GAG3Dj6B,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBG,QAGnB,MAAjBR,EAAQkZ,MACRvb,KAAKqL,UAAUoQ,MAAMC,SAAW,mBAEhC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,eAIP,MAAzBrZ,EAAQ25B,cACZ,CACI,IAAIA,EAAgB35B,EAAQ25B,cACG,MAA3BA,EAAcmnB,WACdnjD,KAAKkb,MAAM8gB,EAAcmnB,WACG,MAA5BnnB,EAAc2e,YACd36C,KAAKojD,gBAAgBpnB,EAAc2e,YACX,MAAxB3e,EAAcqnB,QACdrjD,KAAKsjD,YAAYtnB,EAAcqnB,QAKvCrjD,KAAKuB,KAAKc,EAAQd,MAIE,MAAhBc,EAAQ0Y,KACR/a,KAAK+a,KAAK1Y,EAAQ0Y,MACO,MAApB1Y,EAAQmxC,UACbxzC,KAAKwzC,SAASnxC,EAAQmxC,UAI1BxzC,KAAK+S,KAAK1Q,EAAQ0Q,MAEK,MAAnB1Q,EAAQ+T,SACRpW,KAAKoW,QAAQ/T,EAAQ+T,SAEJ,MAAjB/T,EAAQhB,OACR,EAAA8J,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQhB,OAI/C,IAAIkiD,EAAa,OACbC,EAAuB,MACvBC,EAAY,GACZC,GAAe,EACU,MAAzBrhD,EAAQshD,gBAE0B,MAA9BthD,EAAQshD,cAAc5wC,OAAc0wC,EAAYj6B,OAAOnnB,EAAQshD,cAAc5wC,OAC9C,MAA/B1Q,EAAQshD,cAAczoC,QAAeqoC,EAAalhD,EAAQshD,cAAczoC,OAC/B,MAAzC7Y,EAAQshD,cAAcP,kBAAyBI,EAAuBh6B,OAAOnnB,EAAQshD,cAAcP,kBAClE,MAAjC/gD,EAAQshD,cAAcvnB,UAAiBsnB,EAAerhD,EAAQshD,cAAcvnB,UAGpF,IAAIwnB,EAAQ,EAAAz4C,KAAK,oCAAsCs4C,EAAY,WAAW,GAC9EG,EAAM9hB,UAAY2hB,EAClB,EAAAt4C,KAAKE,GAASyuB,MAAM8pB,GAEG,MAAnBvhD,EAAQ+T,UACRwtC,EAAM3tC,MAAQ5T,EAAQ+T,SAE1BwtC,EAAMnoC,MAAMC,SAAW,UAAY6nC,EAAa,uBAAyBC,EAAuB,IAC9E,IAAbC,GAAgC,MAAbA,GAAuBC,GAC3C,EAAAv4C,KAAKy4C,GAAO/wC,OAEa,MAAzBxQ,EAAQshD,eAAsD,MAA7BthD,EAAQshD,cAAc5tC,MACvD6tC,EAAMnoC,MAAMC,SAAWrZ,EAAQshD,cAAc5tC,KAEpB,MAAzB1T,EAAQshD,eAAwD,MAA/BthD,EAAQshD,cAAc/gB,MAEvD,EAAAz3B,KAAKy4C,GAAOznC,GAAG,YAAc7B,IAEzB,IAAIupC,EAAkB,IAAIC,EAI1B,OAHAD,EAAgB/Y,OAAS9qC,KACzB6jD,EAAgB9wC,KAAO/S,KAAK4jD,QAEpBtpC,EAAEwoC,QAEN,KAAK,EAAGe,EAAgBE,YAAa,EAAM,MAC3C,KAAK,EAAGF,EAAgBG,cAAe,EAAM,MAC7C,KAAK,EAAGH,EAAgBI,aAAc,EAG1C5hD,EAASshD,cAAe/gB,MAAOihB,KAGX,MAAnBxhD,EAAQ85B,SAEb,EAAAhxB,KAAKy4C,GAAOznC,GAAG,QAAU7B,IAErBta,KAAK4iC,SACE,IAMf,EAAAz3B,KAAKE,GAAS8Q,GAAG,YAAc7B,IAG3B,GAA4B,MAAxBjY,EAAS6hD,YACb,CACI,IAAIn/B,EAAQ,IAAIo/B,EAIhB,GAHAp/B,EAAM+lB,OAAS9qC,KACfqC,EAAS6hD,YAAYn/B,GAEjBA,EAAMhB,qBACN,OAIR/jB,KAAKokD,gBAAkB9pC,EACP,GAAZA,EAAEwoC,QACF9iD,KAAK4iC,UAGb,EAAAz3B,KAAKE,GAAS8Q,GAAG,QAAU7B,IAEvBta,KAAK4iC,QAGLtoB,EAAE0e,kBACK,IAGX,EAAA7tB,KAAKE,GAAS8Q,GAAG,UAAY7B,IAGzB,GAA0B,MAAtBjY,EAASgiD,UACb,CACI,IAAIt/B,EAAQ,IAAIu/B,EAIhB,GAHAv/B,EAAM+lB,OAAS9qC,KACfqC,EAASgiD,UAAUt/B,GAEfA,EAAMhB,qBACN,UAKZ,EAAA5Y,KAAKnL,KAAKsC,aAAa+zC,MAAM,KAEzB,GAAwB,MAApBh0C,EAASkiD,QACb,CACI,IAAIC,EAAa,IAAIC,EACrBD,EAAW1Z,OAAS9qC,KACpBqC,EAASkiD,QAAQC,MAIzB,EAAAr5C,KAAKnL,KAAKsC,aAAaoiD,WAAW,KAE9B,GAAuB,MAAnBriD,EAASypC,OACb,CACI,IAAI8N,EAAY,IAAI+K,EACpB/K,EAAU9O,OAAS9qC,KACnBqC,EAASypC,OAAO8N,MAIxB,EAAAzuC,KAAKnL,KAAKsC,aAAa6Z,GAAG,cAAgB7B,IAEtC,GAA8B,MAA1BjY,EAAS6gD,cAET,GAAuC,kBAA3B7gD,EAAsB,cAEzBA,EAAS6gD,eACV5oC,EAAE0e,qBAGV,CACI,IAAIjU,EAAQ,IAAI6/B,EAChB7/B,EAAM+lB,OAAS9qC,KACfqC,EAAS6gD,cAAcn+B,MAUvC,KAAK1jB,GAED,IAAIgB,EAAUrC,KAAK+sC,aACnB,GAAa,MAAT1rC,EACJ,CACI,EAAA8J,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqBzB,SAC/C,IAAIwqC,EAAW,EAAAhqC,KAAK7a,KAAKqL,UAAW,CAAE6K,MAAO,qBAGzC4uC,EAAeziD,EAAQ4gD,aAAc1gD,SACrCuiD,GAAgB,EAAA33C,aAAamuB,KAC7B,EAAAnwB,KAAKnL,KAAKqL,WAAWe,aAAay4C,GAC7BC,GAAgB,EAAA33C,aAAasuB,OAClC,EAAAtwB,KAAKnL,KAAKqL,WAAWouB,cAAcorB,GAGvCA,EAAS/iB,UAAYzgC,EACrBgB,EAAQ0Q,KAAO1R,EAEnB,OAAOgB,EAAQ0Q,KAGnB,MAAM1R,GAEF,OAAOrB,KAAK+S,KAAK1R,GAGrB,QAAQA,GAKJ,OAHa,MAATA,IACArB,KAAKqL,UAAU4K,MAAQuT,OAAOnoB,IAE3BrB,KAAKqL,UAAU4K,MAK1B,MAAMlD,GAOF,OALY,MAARA,IAEA,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBmmB,KAAKlvB,GACxD/S,KAAK+kD,aAEF,EAAA55C,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBmmB,OAG9D,qBAAqB/mB,GAEjB,EAAA/P,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuB/F,IAAI,mBAAoBmF,GAG/E,WAAWA,GAEP,EAAA/P,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuB/F,IAAI,QAASmF,GAGpE,YAEI,EAAA/P,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBI,OAGvD,YAEI,EAAA/Q,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBjJ,OAKvD,OAEIoW,MAAMpW,OACN7S,KAAKglD,YAKT,KAAKzjD,GASD,OAPY,MAARA,IAEA,EAAA4J,KAAKnL,KAAKqL,WAAWwzB,YAAY,CAAC,EAAAtxB,eAAeqkB,QAAS,EAAArkB,eAAe2tB,QAAS,EAAA3tB,eAAe03C,OAAQ,EAAA13C,eAAe23C,MAAO,EAAA33C,eAAe2tB,SAAS7d,KAAK,MAC5J,EAAAlS,KAAKnL,KAAKqL,WAAWyvB,SAASv5B,IAGRvB,KAAKqL,UAAUuzB,UAAUjS,MAAM,OACxC2I,OAAOJ,GAAKA,EAAEiN,SAAS,SAAS,GAKrD,cAAcvsB,GAEV,IAAIvT,EAAUrC,KAAK+sC,aAWnB,OAVgB,MAAZn3B,IAEAvT,EAAQ25B,cAAgBpmB,EACE,MAAtBA,EAASutC,WACTnjD,KAAKkb,MAAMtF,EAASutC,WACG,MAAvBvtC,EAAS+kC,YACT36C,KAAKojD,gBAAgBxtC,EAAS+kC,YACX,MAAnB/kC,EAASytC,QACTrjD,KAAKsjD,YAAY1tC,EAASytC,SAE3BhhD,EAAQ25B,cAGnB,MAAM36B,GAKF,OAHa,MAATA,IACArB,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYra,GAEzC,EAAA8J,KAAKnL,KAAKqL,WAAW0K,IAAI,SAGpC,gBAAgB1U,GAKZ,OAHa,MAATA,IACArB,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAAuBra,GAEpD,EAAA8J,KAAKnL,KAAKqL,WAAW0K,IAAI,oBAGpC,YAAY1U,GAKR,OAHa,MAATA,IACArB,KAAKqL,UAAUoQ,MAAMC,SAAW,iBAAmBra,GAEhD,EAAA8J,KAAKnL,KAAKqL,WAAW0K,IAAI,gBAKpC,KAAKgF,EAAkB+pC,EAAoCK,EAAc,IAErE,IAAI9iD,EAAUrC,KAAK+sC,aACC,MAAhB+X,IACAA,EAAeziD,EAAQ4gD,aAAc1gD,UAEzC,IAAIoW,EAAS,EAAAxN,KAAKnL,KAAKqL,WAAWyQ,KAAK,WAAW,GAClD,GAAY,MAARf,EACJ,CACI,GAAc,MAAVpC,EACJ,CACI,IACIysC,EADsBzsC,EAAOimB,UAAUjS,MAAM,OACnB2I,OAAOJ,GAAKA,EAAEhqB,WAAW,QACvD,IAAK,IAAI8P,KAAaoqC,EAClBzsC,EAAOqB,UAAUK,OAAOW,GAE5B,EAAA7P,KAAKwN,GAAQmiB,SAAS/f,OAG1B,CACI,IAAI1Y,EAAUrC,KAAKqC,UACfm5B,EAAS,GACO,MAAhBn5B,EAAQ0Q,MAAgC,IAAhB1Q,EAAQ0Q,OAE5B+xC,GAAgB,EAAA33C,aAAamuB,KAAME,EAAS,qBACvCspB,GAAgB,EAAA33C,aAAasuB,QAAOD,EAAS,sBAI1D,IAAI3lB,EAAiB,GACjBC,EAAc,GACdC,EAAM,GAENH,EAAWvT,EAAQ4gD,aACJ,MAAfrtC,EAASO,KACTL,EAAc,SAAWF,EAASO,GAAK,KAEvB,MAAhBP,EAASG,MACTA,GAAOH,EAASG,IAAM,KAED,MAArBH,EAASqF,WAEyB,iBAAtBrF,EAAiB,WACzBA,EAASqF,SAAWrF,EAASqF,SAAW,MAE5ClF,GAAO,cAAgBH,EAASqF,SAAW,KAGzB,MAAlBrF,EAASsF,QACTnF,GAAO,UAAYH,EAASsF,MAAQ,KAElB,MAAlBtF,EAASM,QACTL,GAAkBD,EAASM,OAER,MAAnBN,EAASuF,SACTpF,GAAO,WAAaH,EAASuF,OAAS,KAG1C,IAAIkqC,EAAiB,aAAetqC,EAAO,WAAalF,EAClD,6DAA+D2lB,EAAS,IAAMzlB,EAAM,SAAWD,EAAc,SAE/GgvC,GAAgB,EAAA33C,aAAamuB,KAC7B,EAAAnwB,KAAKnL,KAAKqL,WAAWouB,cAAc4rB,GAC9BP,GAAgB,EAAA33C,aAAasuB,OAClC,EAAAtwB,KAAKnL,KAAKqL,WAAWe,aAAai5C,GAGvB,IAAfF,GACA,EAAAh6C,KAAKwN,GAAQ7M,KAAK,QAASq5C,GAEnC,OAAOxsC,EAGX,SAAS66B,EAAmB8R,GAExB,IAAIjjD,EAAUrC,KAAK+sC,aACE,MAAjBuY,IACAA,EAAgBjjD,EAAQ4gD,aAAc1gD,UAE1C,IAAIgjD,EAAa,EAAAp6C,KAAKnL,KAAKqL,WAAWyQ,KAAK,eAAe,GAC1D,GAAgB,MAAZ03B,EACJ,CACsB,MAAd+R,GACA,EAAAp6C,KAAKo6C,GAAYlrC,SAErB,IAAIhY,EAAUrC,KAAKqC,UACfm5B,EAAS,GACO,MAAhBn5B,EAAQ0Q,MAAgC,IAAhB1Q,EAAQ0Q,OAE5BuyC,GAAiB,EAAAn4C,aAAamuB,KAAME,EAAS,qBACxC8pB,GAAiB,EAAAn4C,aAAasuB,QAAOD,EAAS,sBAGvD8pB,GAAiB,EAAAn4C,aAAamuB,KAC9B,EAAAnwB,KAAKnL,KAAKqL,WAAWgB,QAAQ,aAAemnC,EAAW,+DAAiEhY,EAAS,QAC5H8pB,GAAiB,EAAAn4C,aAAasuB,OACnC,EAAAtwB,KAAKnL,KAAKqL,WAAWe,aAAa,aAAeonC,EAAW,gEAAkEhY,EAAS,QAI/I,OADA+pB,EAAa,EAAAp6C,KAAKnL,KAAKqL,WAAWyQ,KAAK,eAAe,GAC/CypC,EAIX,aAEI,OAAOvlD,KAAKqC,UAKhB,MAAM+Z,GAEF,IAAI/Z,EAAUrC,KAAK+sC,aACgB,MAA/B1qC,EAAQmjD,oBACR,EAAA/xC,QAAQpR,EAAQmjD,qBAAqB3nC,KAAK,IAAM7d,KAAKylD,cAAcrpC,GAAW,IAAMpc,KAAK0lD,mBAEzF1lD,KAAKylD,cAAcrpC,GAGnB,cAAcA,GAElB,IAAIupC,EAAgB3lD,KAAKqC,UAAyB85B,QAClD,GAA4B,MAAxBn8B,KAAKokD,gBAEL,OAAQpkD,KAAKokD,gBAAgBtB,QAEzB,KAAK,EAAG6C,EAAgB3lD,KAAKqC,UAAyB85B,QAAS,MAC/D,KAAK,EAAGwpB,EAAgB3lD,KAAKqC,UAAyBujD,cAAe,MACrE,KAAK,EAAGD,EAAgB3lD,KAAKqC,UAAyBwjD,aAI9D,GAAqB,MAAjBF,EACJ,CACI,IAAIG,EAAa,IAAIC,EACrBD,EAAWhb,OAAS9qC,KACpB8lD,EAAW/yC,KAAO/S,KAAK+S,OACvB4yC,EAAcG,GAIlB,GAFA9lD,KAAKokD,gBAAkB,KAEP,MAAZhoC,EACJ,CACI,IAAI0pC,EAAa,IAAIC,EACrBD,EAAWhb,OAAS9qC,KACpB8lD,EAAW/yC,KAAO/S,KAAK+S,OACvBqJ,EAAS0pC,IAIT,kBAEJ,IAAIzjD,EAAUrC,KAAK+sC,aACc,MAA7B1qC,EAAQ2jD,mBACR3jD,EAAQ2jD,qBA3epB,WAkfA,MAAMC,UAAoB,EAAApnC,iBAK1B,MAAMknC,UAAyBE,GAqB/B,MAAMxB,UAAyBwB,GAG/B,MAAMtB,UAAwBsB,GAG9B,MAAMrB,UAAyBqB,GAG/B,MAAM9B,UAA6B8B,GAGnC,MAAM3B,UAA2B2B,GAGjC,8BAUA,MAAMnC,K,qGCnkBN,aAEA,sBAEC,YAAYz4C,EAAyCmS,GAAe,EAAMC,GAEzEzd,KAAKimB,SACM,MAAPxI,IACHA,EAAM,iBAGP,IAAIyoC,EAAgB,KACL,MAAX76C,EACH66C,EAAgBl6C,SAASC,KACG,iBAAb,GAEVZ,EAAQH,WAAW,OACvBG,EAAU,IAAMA,GACjB66C,EAAgB,EAAA/6C,KAAKE,GAAS,IAG9B66C,EAAgB,EAAA/6C,KAAKE,GAAS,GAEY,YAAvC,EAAAF,KAAK+6C,GAAenwC,IAAI,aAC3B,EAAA5K,KAAK+6C,GAAenwC,IAAI,WAAY,YAIrC,IAAIowC,EAAU,MACT3oC,IACJ2oC,EAAU,KAIX,IAAIzoB,EAAe,EAAAvyB,KAAK+6C,GAAel/B,aACnC2W,EAAgB,EAAAxyB,KAAK+6C,GAAer/B,cAEpCu/B,EAAoBzoB,EACpByoB,EAAoB,KACvBA,EAAoB,IACrB,IAAIC,EAAqB1oB,EACrB0oB,EAAqB,KACxBA,EAAqB,IAItB,IAAI3L,EAAiB,KACrBA,EAASlxB,OAAQ,EAAAre,KAAK+6C,GAAenwC,IAAI,YAAage,mBAAqB,EACvEmyB,GAAiBl6C,SAASC,OAC7ByuC,EAAS,WAEV,IAAI4L,EAAkB5oB,EAAe,KACjC6oB,EAAmB5oB,EAAgB,KAEnCgd,EAA6B3uC,SAAS4b,cAAc,OACxD+yB,EAAWjc,aAAa,KAAM,4BAC9Bic,EAAWjc,aAAa,QAAS,4BACjCic,EAAWjc,aAAa,QAAS,wDAAmEgc,EAAO59B,WAAa,0CAAwCqpC,EAAU,cAAcG,EAAkB,eAAeC,EAAmB,KAC5O5L,EAAWjc,aAAa,MAAOjhB,GAC/B,EAAAtS,KAAKwvC,GAAYrkC,eAAe4vC,GAIhC,IAAIM,EAAqB,cAAiBJ,EAAoB,EAAK,MAC/DK,EAAoB,cAAiBL,EAAoB,EAAK,MAC9DM,EAAcN,EAAoB,KAClCO,EAAeN,EAAqB,KAExC,EAAAl7C,KAAK,kDACuCsS,EAAM,wFACnB+oC,EAAqB,UAAYC,EAAoB,YAAcC,EAAc,qBACnGC,EAAe,yeAMzBrwC,eAAe4vC,GAInB,YAAYzoC,GAEA,MAAPA,GAEH,EAAAtS,KAAK,kDAAkDkP,SACvD,EAAAlP,KAAK,8CAA8CkP,WAInD,EAAAlP,KAAK,kCAAoCsS,EAAM,MAAMpD,SACrD,EAAAlP,KAAK,8BAAgCsS,EAAM,MAAMpD,UAI3C,gBAE8C,MAAjD,EAAAlP,KAAK,QAAQ2Q,KAAK,yBAAyB,IAE9C9b,KAAK4mD,WAAW,8kCA0CV,kBAAkB5gC,GAEzB,EAAA7a,KAAK,yBAA2B6a,EAAW,YAAY1P,eAAe,W,4KC/IxE,aACA,OACA,OAIA,MAAauwC,UAA2B,EAAA97C,kBAAxC,uBAcA,MAAahI,UAAoB,EAAAmmC,UAO7B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIwkD,GAEW,MAAzBxkD,EAAQykD,gBAAuBzkD,EAAQykD,cAAgB,EAAAt5C,kBAAkBu5C,QACnD,MAAtB1kD,EAAQoJ,aAAoBpJ,EAAQoJ,YAAa,GAChC,MAAjBpJ,EAAQi1C,QAAej1C,EAAQi1C,MAAQ,IACpB,MAAnBj1C,EAAQ+T,UAAiB/T,EAAQ+T,SAAU,GAG/C6S,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBK,aACxC/C,KAAKqL,UAAUoQ,MAAMC,SAAW,yBAGhC,IAAIsrC,EAAoB,EACxBhnD,KAAKinD,eAAiB,EAAArkD,aAAa,CAC/BmY,KAAM,EAAArO,iBAAiBw6C,UACvB9qB,SAAS,EACTC,QAAQ,EACRL,cAAe,CAAE2e,WAAY,WAC7B5kC,IAAK,iEACLmuC,YAAc5pC,IAEVta,KAAKmnD,aACLH,EAAoBxiC,OAAOua,YAAY,KAEnC/+B,KAAKmnD,WAAWH,IACjB,MAEP3C,UAAY/pC,GAAMkK,OAAOya,cAAc+nB,IACxChnD,KAAKsC,aACR,EAAA6I,KAAKnL,KAAKinD,eAAe3kD,aAAay3B,mBAAmB/5B,KAAKqL,WAE9DrL,KAAKonD,kBAAoB,EAAAxkD,aAAa,CAClCmY,KAAM,EAAArO,iBAAiBqvC,WACvB3f,SAAS,EACTJ,cAAe,CAAE2e,WAAY,WAC7B5kC,IAAK,+DACLmuC,YAAc5pC,IAEVta,KAAKqnD,gBACLL,EAAoBxiC,OAAOua,YAAY,KAEnC/+B,KAAKqnD,cAAcL,IACpB,MAEP3C,UAAY/pC,GAAMkK,OAAOya,cAAc+nB,IACxChnD,KAAKsC,aACR,EAAA6I,KAAKnL,KAAKonD,kBAAkB9kD,aAAa23B,kBAAkBj6B,KAAKqL,WAIhErL,KAAKw5C,OAAS,GACO,MAAjBn3C,EAAQi1C,OACRt3C,KAAKs3C,MAAMj1C,EAAQi1C,OAK3B,MAAMA,GAEF,GAAa,MAATA,EACJ,CACIt3C,KAAKsnD,aAAc,EACnB,IAAK,IAAI5yB,KAAQ4iB,EACbt3C,KAAKk/C,QAAQxqB,GAEjB10B,KAAKunD,kBACLvnD,KAAKsnD,aAAc,EAEvB,OAAOtnD,KAAKw5C,OAGhB,QAAQ9kB,GAEJ10B,KAAKs3C,QAAQ9jB,KAAKkB,GAElB,IAAIryB,EAAUrC,KAAK+sC,aACfya,EAAa,EAAAr8C,KAAK,iBAAiBmL,eAAetW,KAAKqL,WAAW,GACtE,EAAAF,KAAKq8C,GAAY1sB,SAAS,mBAG1B,IAAI2sB,EAAW,KACXplD,EAAQoJ,aAERg8C,EAAW,EAAA3jD,eACP,CACIg3C,SAA4B,IAAlBpmB,EAAK2a,SACfwL,QAAUvgC,GAAM,EAAAnP,KAAKq8C,GAAY5kB,SAClC4kB,GACP,EAAAr8C,KAAKs8C,EAASp8C,WAAWS,KAAK,QAAS4oB,EAAKrzB,QAKhD,IAAIqmD,EAAc,KACD,MAAbhzB,EAAK3Z,KACL2sC,EAAc,EAAA18C,eAAe9C,WAAWwsB,EAAK3Z,MACvB,MAAjB2Z,EAAK8e,WACVkU,EAAc,EAAAv8C,KAAK,aAAeupB,EAAK8e,SAAW,QAAQ,IAE3C,MAAfkU,IAEA,EAAAv8C,KAAKq8C,GAAYp7C,aAAas7C,GAGN,MAApBhzB,EAAKizB,aAEL,EAAAx8C,KAAKu8C,GAAavrC,GAAG,QAAU7B,IAE3B,IAAIyK,EAAQ,IAAI6iC,EAChB7iC,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQ,EAAA8J,KAAKq8C,GAAY17C,KAAK,SACpCiZ,EAAMsqB,SAAW,EAAAlkC,KAAKq8C,GAAYlpB,SAAS,2BAC3C5J,EAAKizB,YAAa5iC,MAQb,MAAb2P,EAAK3hB,OAAc2hB,EAAK3hB,KAAO,IACnC,IAAI80C,EAAa,GACA,MAAbnzB,EAAK3Z,MAAiC,MAAjB2Z,EAAK8e,WAC1BqU,EAAa,qBAEjB,IAAIC,EAAe,EAAA38C,KAAK,0DAA4D08C,EAAa,KAAOnzB,EAAK3hB,KAAO,WAAWuD,eAAekxC,GAC9I,GAAiB,IAAb9yB,EAAK3hB,KACT,CACI,IAAIqD,EAAU,GACM,MAAhBse,EAAKte,QACLA,EAAUse,EAAKte,QACV/T,EAAQ+T,UACbA,EAAUse,EAAK3hB,MAEJ,IAAXqD,GACA,EAAAjL,KAAK28C,GAAch8C,KAAK,QAASsK,GAiBzC,GAbA,EAAAjL,KAAKq8C,GAAY17C,KAAK,QAAS4oB,EAAKrzB,QAGd,IAAlBqzB,EAAK2a,WAEAhtC,EAAQoJ,WAGTg8C,EAAUM,QAFV,EAAA58C,KAAKq8C,GAAY1sB,SAAS,4BAOR,MAAtBpG,EAAKsH,cACT,CACI,IAAIA,EAAgBtH,EAAKsH,cACM,MAA3BA,EAAcmnB,WACd,EAAAh4C,KAAKq8C,GAAYzxC,IAAI,QAASimB,EAAcmnB,WAChB,MAA5BnnB,EAAc2e,YACd,EAAAxvC,KAAKq8C,GAAYzxC,IAAI,mBAAoBimB,EAAc2e,YAC/B,MAAxB3e,EAAcqnB,QACd,EAAAl4C,KAAKq8C,GAAYzxC,IAAI,eAAgBimB,EAAcqnB,QA4C3D,IAvCqB,IAAjB3uB,EAAK0H,SACL,EAAAjxB,KAAKq8C,GAAY30C,QAED,IAAhB6hB,EAAK2H,QACL,EAAAlxB,KAAKq8C,GAAY17C,KAAK,WAAY,YAItC,EAAAX,KAAKq8C,GAAY5kB,MAAOtoB,IAEpB,GAAKta,KAAKiqC,WAAkD,MAArC,EAAA9+B,KAAKq8C,GAAY17C,KAAK,YAA7C,CASA,GAHIzJ,EAASykD,eAAiB,EAAAt5C,kBAAkBu5C,QAC5C/mD,KAAK+tC,QAEJ1rC,EAASoJ,WAGd,CACI,IAAIg8C,EAAW,EAAAt8C,KAAKmP,EAAE0rB,eAAelqB,KAAK,eAAe,GACzD2rC,EAAS3M,SAAW2M,EAAS3M,aAJ7B,EAAA3vC,KAAKmP,EAAE0rB,eAAe2H,YAAY,2BAOtC3tC,KAAKgoD,WAAW,EAAA78C,KAAKmP,EAAE0rB,eAAel6B,KAAK,SAAU,EAAAX,KAAKmP,EAAE0rB,eAAe1H,SAAS,2BAA4B5J,GAChH10B,KAAKioD,aAAa,EAAA98C,KAAKmP,EAAE0rB,eAAel6B,KAAK,SAAU,EAAAX,KAAKmP,EAAE0rB,eAAe1H,SAAS,2BAA4B5J,QAhB9Gpa,EAAE0e,mBAoBLh5B,KAAKsnD,aACNtnD,KAAKunD,kBAEO,MAAZ7yB,EAAK3e,MACLyxC,EAAW/rC,MAAMC,SAAWgZ,EAAK3e,KAGV,MAAvB1T,EAAQ6lD,YACZ,CACI,IAAInjC,EAAQ,IAAIojC,EAChBpjC,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQmoB,OAAOkL,EAAKrzB,OAC1BgB,EAAQ6lD,YAAYnjC,IAKpB,kBAEY,EAAA5Z,KAAKnL,KAAKqL,WAAW8uB,gBAAe,IAGhDn6B,KAAKinD,eAAe/qC,OACpBlc,KAAKonD,kBAAkBlrC,OAEvB,EAAA/Q,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoB8O,QAAQ7U,IAAI,CAAE,yBAA0B,MAAO,4BAA6B,MAAO,cAAe,SAChJ,EAAA5K,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBssC,OAAOryC,IAAI,CAAE,0BAA2B,MAAO,6BAA8B,MAAO,eAAgB,WAIlJ/V,KAAKinD,eAAep0C,OACpB7S,KAAKonD,kBAAkBv0C,OAEvB,EAAA1H,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoB8O,QAAQ7U,IAAI,CAAE,yBAA0B,MAAO,4BAA6B,MAAO,cAAe,sBAChJ,EAAA5K,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBssC,OAAOryC,IAAI,CAAE,0BAA2B,MAAO,6BAA8B,MAAO,eAAgB,uBAIlJ,WAAW4P,GAEf,IAAI0iC,EAAU,EAAAl9C,KAAKnL,KAAKqL,WAAWi9C,aACnC,EAAAn9C,KAAKnL,KAAKqL,WAAWk9C,QAAQ,CAAED,WAAYD,EAAU,IAAM,IAE3DroD,KAAKonD,kBAAkB/qB,SAClBgsB,EAAU,IAAO,IAElB7jC,OAAOya,cAActZ,GACrB3lB,KAAKinD,eAAe3qB,WAIpB,cAAc3W,GAElB,IAAI0iC,EAAU,EAAAl9C,KAAKnL,KAAKqL,WAAWi9C,aACnC,EAAAn9C,KAAKnL,KAAKqL,WAAWk9C,QAAQ,CAAED,WAAYD,EAAU,IAAM,IAE3DroD,KAAKinD,eAAe5qB,SACfgsB,EAAU,IAAQroD,KAAKqL,UAAUgvB,YAAcr6B,KAAKqL,UAAU02B,cAE/Dvd,OAAOya,cAActZ,GACrB3lB,KAAKonD,kBAAkB9qB,WAI/B,KAAKj7B,GAED,OAAOrB,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAGtD,WAAWA,GAEP,IAAIgB,EAAUrC,KAAK+sC,aACnB,EAAA5hC,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA6Bza,EAAQ,MAAMgZ,SAEvE,IAAIwC,EAAQ7c,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OAAO0zB,QAAQ1zB,GAOnD,IANc,GAAVwb,GACA7c,KAAKs3C,QAAQtiB,OAAOnY,EAAO,GAE/B7c,KAAKunD,kBAGwB,MAAzBllD,EAAQmmD,cACZ,CACI,IAAIzjC,EAAQ,IAAI0jC,EAChB1jC,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQA,EACdgB,EAAQmmD,cAAczjC,IAK9B,UAAUw2B,GAEN,IAAK,IAAIl6C,KAASk6C,EACdv7C,KAAK0oD,SAASrnD,GAGtB,SAASA,GAEL,EAAA8J,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA6Bza,EAAQ,MAAM6a,OACvElc,KAAKunD,kBAGT,eAEI,IAAIhM,EAASv7C,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OACrCrB,KAAK2oD,UAAUpN,GAGnB,UAAUA,GAEN,IAAK,IAAIl6C,KAASk6C,EACdv7C,KAAK4oD,SAASvnD,GAGtB,SAASA,GAEL,EAAA8J,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA6Bza,EAAQ,MAAMwR,OACvE7S,KAAKunD,kBAGT,eAEI,IAAIhM,EAASv7C,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OACrCrB,KAAK6oD,UAAUtN,GAGnB,YAAYl6C,EAAY+3B,GAEpB,IAAI0vB,EAAW,EAAA39C,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA6Bza,EAAQ,MAQhF,OAPa,MAAT+3B,IAEIA,EAAO0vB,EAAS5sC,OACf4sC,EAASj2C,QAGlB7S,KAAKunD,kBACEuB,EAASj9C,GAAG,YAGvB,OAAO0vC,EAA6BpL,GAAgB,GAEhD,IAAI9tC,EAAUrC,KAAK+sC,aACf1qC,EAAQykD,eAAiB,EAAAt5C,kBAAkBu5C,QAC3C/mD,KAAK+tC,QAET,IAAK,IAAI1sC,KAASk6C,EAETl5C,EAAQoJ,WAGT,EAAAN,KAAKnL,KAAKsC,aAAawZ,KAAK,uCAAyCza,EAAQ,MAAM,GAAGy5C,SAAU,EAFhG,EAAA3vC,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA6Bza,EAAQ,MAAMy5B,SAAS,2BAIhFqV,GACAnwC,KAAKgoD,WAAWx+B,OAAOnoB,IAG/B,GAAI8uC,EACJ,CACI,IAAI9uC,EAAQ,KACRrB,KAAK8mD,iBAAmB,EAAAt5C,kBAAkBu5C,SAC1C1lD,EAAQk6C,EAAOlnB,WAEnBr0B,KAAKioD,aAAaz+B,OAAOnoB,KAIjC,YAAYwb,EAAeszB,GAAgB,GAEvC,IAAI9tC,EAAUrC,KAAK+sC,aACf1qC,EAAQykD,eAAiB,EAAAt5C,kBAAkBu5C,QAC3C/mD,KAAK+tC,QAEJ1rC,EAAQoJ,WAGT,EAAAN,KAAKnL,KAAKsC,aAAawZ,KAAK,gCAAgCe,GAAOi+B,SAAU,EAF7E,EAAA3vC,KAAK,EAAAA,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoBe,IAAQie,SAAS,2BAI1E,IAAIpG,EAAO10B,KAAK+oD,eAAelsC,GAC3Bxb,EAAQ,EAAA8J,KAAKupB,GAAM5oB,KAAK,SAExBqkC,GACAnwC,KAAKgoD,WAAWx+B,OAAOnoB,IAEvB8uC,GACAnwC,KAAKioD,aAAaz+B,OAAOnoB,IAGzB,aAAaA,EAAuBguC,EAAoB3a,GAEhD,MAARA,IACAA,EAAO10B,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAEtD,IAAIgB,EAAUrC,KAAK+sC,aACnB,GAAyB,MAArB1qC,EAAS2mD,SACb,CACI,IAAIjkC,EAAQ,IAAIkkC,EAChBlkC,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQA,EACd0jB,EAAMsqB,SAAWA,EACjBtqB,EAAMy8B,eAAiBxhD,KAAKkpD,oBAC5B1kC,OAAOwa,WAAW,IAAM38B,EAAS2mD,SAAUjkC,KAI3C,WAAW1jB,EAAeguC,GAAW,EAAM3a,GAK/C,GAHY,MAARA,IACAA,EAAO10B,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAE1C,MAARqzB,GAAgC,MAAhBA,EAAKyH,QACzB,CACI,IAAIpX,EAAQ,IAAIokC,EAChBpkC,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQA,EACd0jB,EAAMsqB,SAAWA,EACjB3a,EAAKyH,QAAQpX,IAIrB,oBAGI,OADc/kB,KAAK+sC,aACNthC,WAGFiR,MAAMm/B,KAAK,EAAA1wC,KAAKnL,KAAKsC,aAAawZ,KAAK,yCAAyCc,IAAIsY,GAAK,EAAA/pB,KAAK+pB,GAAGppB,KAAK,UAFtG4Q,MAAMm/B,KAAK,EAAA1wC,KAAKnL,KAAKsC,aAAawZ,KAAK,6CAA6Cc,IAAIsY,GAAK,EAAA/pB,KAAK+pB,GAAGppB,KAAK,UAKzH,QAEI,OAAO,EAAAX,KAAK,EAAAA,KAAKnL,KAAKsC,aAAawZ,KAAK,6CAA6ChQ,KAAK,SAG9F,QAKI,GAHA,EAAAX,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoB+iB,YAAY,2BAE9C7+B,KAAK+sC,aACPthC,WAER,IAAK,IAAIg8C,KAAY/qC,MAAMm/B,KAAuB,EAAA1wC,KAAKnL,KAAKsC,aAAawZ,KAAK,iCAC1E2rC,EAAS3M,SAAU,EAI/B,gBAEI,OAAO96C,KAAK+sC,aAAa+Z,cAG7B,eAAezlD,GAEX,OAAO,EAAA8J,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA6Bza,EAAQ,MAAM,GAGlF,eAAewb,GAEX,OAAO,EAAA1R,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoBe,GAG3D,YAAYxb,EAAe+U,GAEvB,IAAIse,EAAO10B,KAAKopD,eAAe/nD,GAI/B,OAHe,MAAX+U,IACA,EAAAjL,KAAKupB,GAAM5Y,KAAK,wBAAwB,GAAG7F,MAAQG,GAEhD,EAAAjL,KAAKupB,GAAM5Y,KAAK,wBAAwB,GAAG7F,MAGtD,SAAS5U,EAAe0R,EAAes2C,GAAgB,GAEnD,IAAI30B,EAAO10B,KAAKopD,eAAe/nD,GAC3BioD,EAAsB,EAAAn+C,KAAKupB,GAAM5Y,KAAK,wBAAwB,GAOlE,OANY,MAAR/I,GAAuC,MAAvBu2C,IAEhBA,EAAoBxnB,UAAY/uB,EAC5Bs2C,IACAC,EAAoBrzC,MAAQlD,IAEL,MAAvBu2C,EAA+BA,EAAoBxnB,UAAY,GAG3E,gBAAgBjlB,EAAe9J,GAE3B,IAAI2hB,EAAO10B,KAAK+oD,eAAelsC,GAI/B,OAHY,MAAR9J,IACA,EAAA5H,KAAKupB,GAAM5Y,KAAK,wBAAwB,GAAGgmB,UAAY/uB,GAEpD,EAAA5H,KAAKupB,GAAM5Y,KAAK,wBAAwB,GAAGgmB,UAGtD,WAAWzgC,GAEP,IAAIgK,EAAUrL,KAAKopD,eAAe/nD,GAClC,EAAA8J,KAAKE,GAASk+C,WAAW,YAG7B,YAAYloD,GAER,IAAIgK,EAAUrL,KAAKopD,eAAe/nD,GAClC,EAAA8J,KAAKE,GAASS,KAAK,WAAY,YAKnC,SAEImd,MAAMoT,SACN,IAAK,IAAI3H,KAAQ10B,KAAKs3C,QAClBt3C,KAAKwpD,WAAW90B,EAAKrzB,OAG7B,UAEI4nB,MAAMqT,UACN,IAAK,IAAI5H,KAAQ10B,KAAKs3C,QAClBt3C,KAAKypD,YAAY/0B,EAAKrzB,OAI9B,aAEI,OAAOrB,KAAKqC,WAnhBpB,gBAyhBA,MAAMqnD,UAAyB,EAAA7qC,iBAM/B,MAAMoqC,UAA+BS,GAMrC,MAAMvB,UAAkCuB,GACxC,MAAMjB,UAAoCiB,GAE1C,MAAaP,UAA8BO,GAA3C,0BAMA,MAAa9B,UAAkC8B,GAA/C,+B,0IClkBA,aACA,OACA,OAIA,MAAaC,UAA2B,EAAA5+C,kBAAxC,uBAoBA,MAAatF,UAAoB,EAAAyjC,UAO7B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIsnD,GAEE,MAAhBtnD,EAAQ0Q,OAAc1Q,EAAQ0Q,KAAO,IACpB,MAAjB1Q,EAAQi1C,QAAej1C,EAAQi1C,MAAQ,IAClB,MAArBj1C,EAAQunD,YAAmBvnD,EAAQunD,WAAY,GAC9B,MAAjBvnD,EAAQwnD,QAAexnD,EAAQwnD,OAAQ,GAChB,MAAvBxnD,EAAQynD,cAAqBznD,EAAQynD,aAAc,GAC9B,MAArBznD,EAAQ0nD,YAAmB1nD,EAAQ0nD,WAAY,GAC3B,MAApB1nD,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAElD,IAAI1gB,EAAQlZ,EAAQkZ,MAoDpB,GAnDAlZ,EAAQkZ,WAAQmC,EAGhBuL,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB+C,aACxCzF,KAAKgqD,gBAAkB,GAGvBhqD,KAAKiqD,SAAW,EAAArnD,aACZ,CACImQ,KAAM1Q,EAAQ0Q,KACdgI,KAAM1Y,EAAQ0Y,KACdy4B,SAAUnxC,EAAQmxC,SAClBxX,cAAe35B,EAAQ25B,cACvB5lB,QAAS/T,EAAQ+T,QACjBimB,OAAQh6B,EAAQg6B,OAChB9gB,MAAOA,EACP0gB,SAAU55B,EAAQ45B,SAClBlmB,IAAK,kEAAwF,MAAnB1T,EAAQ85B,QAAmB,6BAA+B,IACpIA,QAAU7hB,IAEkB,MAApBjY,EAAS85B,QACTn8B,KAAK4iC,QAGD,EAAAz3B,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,YACrB7L,KAAKkqC,QAELlqC,KAAK2T,QAGjB4wC,QAAUjqC,IAEFjY,EAASunD,WACT5pD,KAAK2T,OAET,EAAAxI,KAAK6+B,GAAelP,SAAS,eAEjCgR,OAASxxB,IAEL,EAAAnP,KAAK6+B,GAAenL,YAAY,gBAErC7+B,KAAKqL,UAAW,KAAMA,EAAQ8K,GAAK,WAE1C,EAAAhL,KAAKnL,KAAKsC,aAAaoiD,WAAYpqC,IAE3BjY,EAASunD,WAAatvC,EAAE4vC,eAAiBlqD,KAAKuqC,QAC9CvqC,KAAKkqC,UAKU,MAAnB7nC,EAAQ85B,SAAmB95B,EAAQynD,YACvC,CACI,IAAIK,EAAc,IAAIC,EACtBD,EAAYp3C,KAAO1Q,EAAQ0Q,KAC3Bo3C,EAAYpvC,KAAO1Y,EAAQ0Y,KAC3BovC,EAAY3W,SAAWnxC,EAAQmxC,SAC/B2W,EAAYnuB,cAAgB35B,EAAQ25B,cACpCmuB,EAAYhuB,QAAU95B,EAAQ85B,QAC9B95B,EAAQi1C,MAAMtiB,OAAO,EAAG,EAAGm1B,GAK/BnqD,KAAKs3C,MAAMj1C,EAAQi1C,OAGnB,IAAIO,EAAsC,MAAnBx1C,EAAQ85B,QAAmB,6BAA+B,iCAC7E2N,EAAa,EAAA9+B,eAAe9C,WAAW,EAAAwE,iBAAiBkrC,WACxD5N,EAAgB,EAAA7+B,KAAK,eAAiB0sC,EAAkB,YAAYvhC,eAAetW,KAAKqL,WAAW,GACvG,EAAAF,KAAK6+B,GAAe59B,aAAa09B,GACjC,EAAA3+B,KAAK6+B,GAAepH,MAAM,KAElB,EAAAz3B,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,YACrB7L,KAAKkqC,QAELlqC,KAAK2T,SAGb,EAAAxI,KAAK6+B,GAAe7tB,GAAG,aAAe7B,GAA8B,EAAAnP,KAAKnL,KAAKiqD,SAAS5+C,WAAWyvB,SAAS,eAC3G,EAAA3vB,KAAK6+B,GAAe7tB,GAAG,aAAe7B,GAA8B,EAAAnP,KAAKnL,KAAKiqD,SAAS5+C,WAAWwzB,YAAY,eAG9Gra,OAAOooB,iBAAiB,QAAUtyB,IAE1B,EAAAnP,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,cAAgB,EAAAV,KAAKnL,KAAKsC,aAAa,GAAGuqC,SAASvyB,EAAE6oB,SAC1EnjC,KAAKkqC,WAGuB,MAAhB,EAAAn+B,aAAwB,EAAAA,aAAeC,UAC7C4gC,iBAAiB,SAAWtyB,KAEjC,EAAAnP,KAAKmP,EAAE6oB,QAAQ7E,SAAS,yBAA2B,EAAAnzB,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,aACzE7L,KAAKkqC,UACV,GAIP,OAEI,IAAKlqC,KAAKiqC,UACN,OAEJ,IAAI5nC,EAAUrC,KAAK+sC,aAcnB,GAZmB,MAAf/sC,KAAKuqC,SACLvqC,KAAKuqC,OAAS,EAAAp/B,KAAK,yCAA2CnL,KAAKqL,UAAU8K,GAAK,qBAAqBG,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,IAEjL,EAAAd,KAAKnL,KAAKuqC,QAAQz+B,KAAK,WAAY,KACnC9L,KAAKuqC,OAAO9uB,MAAMC,SAAW,oBAE7B,EAAAvQ,KAAKnL,KAAKuqC,QAAQma,WAAYpqC,IAEtBjY,EAASunD,WACT5pD,KAAKkqC,UAGT7nC,EAAQwnD,MACZ,CACI,EAAA1+C,KAAK,uBAAyBnL,KAAKqL,UAAU8K,IAAIkE,SACjD,IAAIsgC,EAAa,EAAAxvC,KAAK,0DAA4DnL,KAAKqL,UAAU8K,GAAK,YAAYG,eAAetK,SAASC,MAAM,GAChJ,EAAAd,KAAKwvC,GAAYz+B,OACjB,EAAA/Q,KAAKwvC,GAAY5kC,IAAI,UAAY0b,OAAO,EAAAtmB,KAAKnL,KAAKuqC,QAAQx0B,IAAI,YAAc,GAC5E,EAAA5K,KAAKwvC,GAAY/X,MAAM,IAAM5iC,KAAKkqC,SAGtClqC,KAAKgqD,gBAAkB,GACvBhqD,KAAKs3C,MAAMt3C,KAAKs3C,SAChBruB,MAAMykB,aAAa1tC,KAAKuqC,OAAQloC,EAAQ26B,eAG5C,QAEI,EAAA7xB,KAAKnL,KAAKuqC,QAAQlwB,SACjBra,KAAKuqC,OAAiB,KACvB,EAAAp/B,KAAK,uBAAyBnL,KAAKqL,UAAU8K,IAAIkE,SAGrD,MAAMi9B,GAEF,GAAa,MAATA,EACJ,CACIt3C,KAAKw5C,OAASlC,EACd,IAAIl3C,EAAI,EACR,IAAK,IAAIs0B,KAAQ4iB,EAEb,IAAuB,IAAnB5iB,EAAKq1B,UAeT/pD,KAAKqqD,SAAS31B,EAAMt0B,GACpBA,QAhBA,CAEI,IAAIkqD,EAA4C,MAAd51B,EAAKrzB,MAAiB,UAAYqzB,EAAKrzB,MAAQ,IAAM,oBACnFkpD,EAAqB,EAAAp/C,KAAK,QAAUm/C,EAA6B,WAAWh0C,eAAetW,KAAKuqC,QAChGwf,EAAY,EAAA/lD,gBAAgB,CAC5ByZ,IAAoB,MAAdiX,EAAKrzB,MAAiB,YAAcqzB,EAAKrzB,MAC/CmpD,YAAa,EAAAp9C,gBAAgB05B,WAC7B1K,QAAS1H,EAAK0H,QACdN,aAAc,+DACfyuB,GAEHvqD,KAAKgqD,gBAAgBx2B,KAAKu2B,IAQtC,OAAO/pD,KAAKw5C,OAGR,SAAS9kB,EAAuB7X,GAEpC,IAAIxa,EAAUrC,KAAK+sC,aACN,MAATlwB,IAAeA,GAAS,GAE5B,IAAI4tC,EAAuC,MAAd/1B,EAAKrzB,MAAiB,UAAYqzB,EAAKrzB,MAAQ,IAAM,GACjE,MAAbqzB,EAAK3hB,MAA0C,MAAzB03C,GAA0D,IAAzBA,IACvDA,EAAwB,UAAY/1B,EAAK3hB,KAAKqH,QAAQ,gBAAiB,IAAIA,QAAQ,SAAU,IAAM,KAEvG,IAAIswC,EAAmB,EAAAv/C,KAAK,+CAAiDs/C,EAAwB,WAAWn0C,eAAetW,KAAKuqC,QAChIuY,EAAS,EAAAlgD,aACT,CACImQ,KAAM2hB,EAAK3hB,KACXgI,KAAM2Z,EAAK3Z,KACXy4B,SAAU9e,EAAK8e,SACfjyC,KAAMmzB,EAAKnzB,KACXy6B,cAAetH,EAAKsH,cACpBwpB,oBAAqB9wB,EAAK8wB,oBAC1BpvC,QAASse,EAAKte,QACdgmB,QAAS1H,EAAK0H,QACdC,OAAQ3H,EAAK2H,OACb5e,IAAKiX,EAAKrzB,MACVka,MAAO,OACPxF,IAAK,+CAAiD2e,EAAK3e,IAC3D+lB,aAAcpH,EAAKoH,aAAe,KAAQz5B,EAAiB,UAAI,oCAAsC,IACrG6T,MAAOwe,EAAKxe,MACZ+lB,SAAU55B,EAAQ45B,SAClBE,QAAU7hB,IAGN,GADAta,KAAKkqC,QACe,MAAhBxV,EAAKyH,QACT,CACI,IAAI2pB,EAAa,IAAI6E,EACrB7E,EAAWhb,OAAS9qC,KACpB8lD,EAAWpxB,KAAOA,EAClBA,EAAKyH,QAAQ2pB,GAGjB,GAAwB,MAApBzjD,EAAQ2mD,SACZ,CACI,IAAIlD,EAAa,IAAI8E,EACrB9E,EAAW/yC,KAAO1Q,EAAQ0Q,KAC1B+yC,EAAWzkD,MAAQmoB,OAAOkL,EAAKrzB,OAC/BykD,EAAW+E,YAAa,EACxBxoD,EAAQ2mD,SAASlD,MAG1B4E,GAEW,MAAdh2B,EAAKrzB,OACL,EAAA8J,KAAK23C,EAAOz3C,WAAWS,KAAK,QAAS4oB,EAAKrzB,OAE9CrB,KAAKgqD,gBAAgBx2B,KAAKsvB,GAG9B,QAAQpuB,GAEJ10B,KAAKqqD,SAAS31B,GACd10B,KAAKw5C,OAAOhmB,KAAKkB,GAGrB,WAAWrzB,GAEP,EAAA8J,KAAKnL,KAAKuqC,QAAQzuB,KAAK,0CAA4Cza,EAAQ,MAAMgZ,SACjFra,KAAKw5C,OAAOrkB,cAAcD,GAAKA,EAAE7zB,OAASA,GAG9C,aAEI,EAAA8J,KAAKnL,KAAKuqC,QAAQugB,QAClB9qD,KAAKw5C,OAAS,GACdx5C,KAAKgqD,gBAAkB,GAG3B,SAEI/gC,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKsC,aAAawZ,KAAK,+BAA+B+iB,YAAY,0BACvE,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,mCAAmC+iB,YAAY,0BAEtD,MAAjB7+B,KAAKiqD,UACLjqD,KAAKiqD,SAAS5tB,SAGtB,UAEIpT,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKsC,aAAawZ,KAAK,+BAA+Bgf,SAAS,0BACpE,EAAA3vB,KAAKnL,KAAKsC,aAAawZ,KAAK,mCAAmCgf,SAAS,0BAEnD,MAAjB96B,KAAKiqD,UACLjqD,KAAKiqD,SAAS3tB,UAItB,YAAYj7B,EAAe+3B,GAEvB,IAAI2xB,EAAa/qD,KAAKgqD,gBAAgB10B,OAAOJ,GAAKA,EAAEzX,OAASpc,GAAO,GACpE,GAAa,MAAT+3B,EACJ,CACI2xB,EAAW3uB,QAAQhD,GACnB,IAAIvc,EAAQ7c,KAAKw5C,OAAOwR,UAAU91B,GAAKA,EAAE7zB,OAASA,GACvCrB,KAAKw5C,OAAO38B,GAClBuf,QAAUhD,EAEnB,OAAO2xB,EAAW3uB,UAGtB,SAAS/6B,GAELrB,KAAKirD,YAAY5pD,GAAO,GAG5B,SAASA,GAELrB,KAAKirD,YAAY5pD,GAAO,GAK5B,WAAWA,EAAe+3B,GAEtB,IAAI2xB,EAAa/qD,KAAKgqD,gBAAgB10B,OAAOJ,GAAKA,EAAEzX,OAASpc,GAAO,GACpE,GAAa,MAAT+3B,EACJ,CACI2xB,EAAW9gB,QAAQ7Q,GACnB,IAAIvc,EAAQ7c,KAAKw5C,OAAOwR,UAAU91B,GAAKA,EAAE7zB,OAASA,GACvCrB,KAAKw5C,OAAO38B,GAClBwf,OAASjD,EAGlB,OAAO2xB,EAAW9gB,UAGtB,iBAEIjqC,KAAKkrD,YAAYlrD,KAAKs3C,QAAQ16B,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,SAGpD,YAAYk6C,GAER,IAAK,IAAIl6C,KAASk6C,EACdv7C,KAAKwpD,WAAWnoD,GAGxB,WAAWA,GAEPrB,KAAKmrD,WAAW9pD,GAAO,GAG3B,kBAEIrB,KAAKorD,aAAaprD,KAAKs3C,QAAQ16B,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,SAGrD,aAAak6C,GAET,IAAK,IAAIl6C,KAASk6C,EACdv7C,KAAKypD,YAAYpoD,GAGzB,YAAYA,GAERrB,KAAKmrD,WAAW9pD,GAAO,GAI3B,KAAKA,GAGD,OADiBrB,KAAKgqD,gBAAgB10B,OAAOJ,GAAKA,EAAEzX,OAASpc,GAAO,GAIxE,WAEI,OAAOrB,KAAKiqD,SAGR,aAEJ,OAAOjqD,KAAKqC,UAKhB,QAEI,IAAIA,EAAUrC,KAAK+sC,aACnB,GAAuB,MAAnB1qC,EAAQ85B,QACZ,CACI,IAAI2pB,EAAa,IAAIuF,EACrBvF,EAAWhb,OAAS9qC,KACpB8lD,EAAW/yC,KAAO1Q,EAAQ0Q,KAC1B+yC,EAAWxO,MAAQj1C,EAAQi1C,MAC3Bj1C,EAAQ85B,QAAQ2pB,GAGpB,GAAwB,MAApBzjD,EAAQ2mD,SACZ,CACI,IAAIlD,EAAa,IAAI8E,EACrB9E,EAAW/yC,KAAO1Q,EAAQ0Q,KAC1B+yC,EAAW+E,YAAa,EACxBxoD,EAAQ2mD,SAASlD,KAxY7B,gBAgZA,MAAasE,GAAb,oBAoBA,MAAMO,GAMN,MAAMU,GAQN,MAAMT,K,iHC5cN,aAEA,MAAaU,GAAb,iBAMA,MAAariB,EAYT,cAEIjpC,KAAKs3C,MAAQ,GATjB,UAII,OAFiB,MAAbt3C,KAAKurD,OACLvrD,KAAKurD,KAAOvrD,KAAKwrD,SACdxrD,KAAKurD,KAQT,QAEH,OAAO,IAAI5kD,IAAU3G,KAAKs3C,MAAM16B,IAAIsY,GAAK,CAACA,EAAEvzB,IAAKuzB,EAAE7zB,SAGhD,eAAqBub,GAExB,IAAI6uC,EAAO,IAAIxiB,EAEf,IAAK,IAAIvU,KAAQ9X,EACjB,CACI,IAAI8uC,EAAO,IAAIJ,EACfI,EAAK/pD,IAAM+yB,EAAK,GAChBg3B,EAAKrqD,MAAQqzB,EAAK,GAClB+2B,EAAKnU,MAAM9jB,KAAKk4B,GAKpB,OAFAD,EAAKF,KAAO3uC,EAEL6uC,EAGJ,aAAmBA,GAEtB,IAAIE,EAAM,IAAI1iB,EAEd,OADA0iB,EAAIrU,MAAQmU,EAAKnU,MACVqU,EAGJ,IAAIhqD,GAEP,OAAO3B,KAAK4c,IAAI3b,IAAIU,GAGjB,IAAIA,EAAQN,GAEf,IAAIqzB,EAAO10B,KAAKs3C,MAAMx7B,KAAKoZ,GAAKA,EAAEvzB,KAAOA,GAC7B,MAAR+yB,IAEAA,EAAO,IAAI42B,EACX52B,EAAK/yB,IAAMA,GAEf+yB,EAAKrzB,MAAQA,EAEbrB,KAAK4c,IAAIua,IAAIx1B,EAAKN,GAClBrB,KAAKs3C,MAAM9jB,KAAKkB,GAIb,IAAI/yB,GAEP,OAAO3B,KAAK4c,IAAIsa,IAAIv1B,GAGjB,OAAOA,GAEV,IAAI4zB,EAAev1B,KAAKs3C,MAAMx7B,KAAKoZ,GAAKA,EAAEvzB,KAAOA,GAC7B,MAAhB4zB,GACAv1B,KAAKs3C,MAAMriB,aAAaM,EAAc,OAC1Cv1B,KAAK4c,IAAIosB,OAAOrnC,GAGb,UAAUiqD,EAAWC,GAExB,IAAIC,EAAW,EAAA9gD,eAAeoqC,UAAUp1C,KAAKiB,IAAI2qD,IACjD5rD,KAAKgpC,OAAO4iB,GACZ5rD,KAAKm3B,IAAI00B,EAAQC,GAGd,OAEH,OAAO9rD,KAAKs3C,MAAM16B,IAAIsY,GAAKA,EAAEvzB,MAxFrC,gB,20BCRA,kCACA,gCAEA,sCACA,wCACA,kCAEA,iCACA,oCACA,qCAGA,wCAKA,MAAaoqD,oBAAoB,SAAAhhD,kBAAjC,gCA4DA,MAAahF,aAAa,SAAAmjC,UAoFtB,YAAY79B,EAAsBhJ,GA+C9B,GA5Ce,MAAXA,IACAA,EAAU,IAAI0pD,aAEc,MAA5B1pD,EAAQq6B,mBAA0Br6B,EAAQq6B,kBAAmB,GAC5C,MAAjBr6B,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,QACpB,MAAnBlZ,EAAQ+T,UAAiB/T,EAAQ+T,SAAU,GACd,MAA7B/T,EAAQ2pD,oBAA2B3pD,EAAQ2pD,kBAAoB,MACtC,MAAzB3pD,EAAQ4pD,gBAAuB5pD,EAAQ4pD,eAAgB,GAC5B,MAA3B5pD,EAAQ6pD,kBAAyB7pD,EAAQ6pD,iBAAkB,GACtC,MAArB7pD,EAAQ8pD,YAAmB9pD,EAAQ8pD,UAAY,IAC5B,MAAnB9pD,EAAQ+pD,UAAiB/pD,EAAQ+pD,QAAU,IACjB,MAA1B/pD,EAAQgqD,iBAAwBhqD,EAAQgqD,gBAAiB,GACzC,MAAhBhqD,EAAQd,OAAcc,EAAQd,KAAO,KAAA8O,aAAamxB,MAC9B,MAApBn/B,EAAQiqD,WAAyC,IAArBjqD,EAAQiqD,WAAmBjqD,EAAQiqD,SAAW,IACpD,MAAtBjqD,EAAQkqD,aAAoBlqD,EAAQkqD,YAAa,GACnB,MAA9BlqD,EAAQmqD,qBAA4BnqD,EAAQmqD,oBAAqB,GACxC,MAAzBnqD,EAAQoqD,gBAAuBpqD,EAAQoqD,eAAgB,GACrC,MAAlBpqD,EAAQqqD,SAAgBrqD,EAAQqqD,QAAS,GACvB,MAAlBrqD,EAAQsqD,SAAgBtqD,EAAQsqD,QAAS,GACpB,MAArBtqD,EAAQuqD,YAAmBvqD,EAAQuqD,WAAY,GACxB,MAAvBvqD,EAAQwqD,cAAqBxqD,EAAQwqD,aAAc,GAC1B,MAAzBxqD,EAAQyqD,gBAAuBzqD,EAAQyqD,eAAgB,GACrC,MAAlBzqD,EAAQg6B,SAAgBh6B,EAAQg6B,QAAS,GACxB,MAAjBh6B,EAAQ0qD,QAAe1qD,EAAQ0qD,MAAQ1qD,EAAQ2qD,QAC3B,MAApB3qD,EAAQ4qD,WAAkB5qD,EAAQ4qD,UAAW,GAEvB,MAAtB5qD,EAAQoJ,aAA6C,IAAvBpJ,EAAQoJ,aAAsBpJ,EAAQoJ,WAAa,KAAAwE,qBAAqBmiB,OAC/E,IAAvB/vB,EAAQoJ,aAAqBpJ,EAAQoJ,WAAa,KAAAwE,qBAAqBi9C,YAG9C,MAAzB7qD,EAAQ8qD,gBAAuB9qD,EAAQ8qD,eAAgB,IAC7B,IAA1B9qD,EAAQ8qD,gBACR9qD,EAAQ8qD,cAAgB,IAAI,KAAAjsC,yBAEF,IAA1B7e,EAAQ8qD,gBAE2C,MAA/C9qD,EAAQ8qD,cAAcC,wBAA+B/qD,EAAQ8qD,cAAcC,sBAAwB,aACvD,MAA5C/qD,EAAQ8qD,cAAcE,qBAA4BhrD,EAAQ8qD,cAAcE,mBAAqB,UACvC,MAAtDhrD,EAAQ8qD,cAAcG,+BAAsCjrD,EAAQ8qD,cAAcG,6BAA+B,qBAKlG,MAAnBjrD,EAAQkrD,UAAiBlrD,EAAQkrD,QAAU,IAAI,KAAAvsC,qBACnB,iBAApB3e,EAAe,QAC3B,CACI,IAAI0Q,EAAO1Q,EAAQkrD,QACnBlrD,EAAQkrD,QAAU,IAAI,KAAAvsC,oBACtB3e,EAAQkrD,QAAQx6C,KAAOA,EAiB3B,GAdiC,MAA7B1Q,EAAQkrD,QAAQpK,YAAmB9gD,EAAQkrD,QAAQpK,UAAY,QAC5B,MAAnC9gD,EAAQkrD,QAAQnK,kBAAyB/gD,EAAQkrD,QAAQnK,gBAAkB,WAIjD,MAA1B/gD,EAAQmrD,iBAAqD,IAA3BnrD,EAAQmrD,iBAC1CnrD,EAAQmrD,eAAiB,IAAIC,qBAEF,IAA3BprD,EAAQmrD,gBAC2B,MAA/BnrD,EAAQmrD,eAAe7sD,OAAc0B,EAAQmrD,eAAe7sD,KAAO,IAInD,MAApB0B,EAAQqrD,WAAkBrrD,EAAQqrD,UAAW,GAC3B,MAAlBrrD,EAAQ08C,OACZ,CACI,IAAI4O,EAActrD,EAAQ08C,OACK,iBAAnB18C,EAAc,SAEtBA,EAAQ08C,OAAS,IAAI,KAAA39B,iBACrB/e,EAAQ08C,OAAOE,MAAQz1B,OAAOmkC,IAGoB,MAAjDtrD,EAAQ08C,OAA4BzhB,YAAoBj7B,EAAQ08C,OAA4BzhB,UAAY,KAAAptB,sBAAsB8uC,KAQvI,GAHyB,MAArB38C,EAAQurD,YACRvrD,EAAQurD,WAAY,GAED,MAAnBvrD,EAAQwrD,QACZ,CACI,GAAInxC,MAAM4X,QAAQjyB,EAAQwrD,SAC1B,CACI,IAAIC,EAAgBzrD,EAAQwrD,QAC5BxrD,EAAQwrD,QAAU,IAAI,KAAA1sC,oBACtB9e,EAAQwrD,QAAQE,OAASD,EACzBzrD,EAAQwrD,QAAQ9O,OAAS,CAAEE,MAAO6O,EAAc,GAAIxwB,UAAW,KAAAptB,sBAAsB8uC,KAG3D,MAA1B38C,EAAQwrD,QAAQ9O,SAAgB18C,EAAQwrD,QAAQ9O,OAAS,IAAI,KAAA39B,kBACzB,MAApC/e,EAAQwrD,QAAQ9O,OAAOzhB,YAAmBj7B,EAAQwrD,QAAQ9O,OAAOzhB,UAAY,KAAAptB,sBAAsB8uC,KAEvG,IAAI8O,EAAgBzrD,EAAQwrD,QAAQE,OAEpC,GADA1rD,EAAQwrD,QAAQE,OAAS,GACJ,MAAjBD,EAEA,IAAK,IAAI7O,KAAS6O,EAEQ,iBAAX,EACPzrD,EAAQwrD,QAAQE,OAAOv6B,KAAK,CAAEyrB,MAAOA,IAErC58C,EAAQwrD,QAAQE,OAAOv6B,KAAKyrB,GAO5C,IAAK,IAAI+O,KAAU3rD,EAAQ+pD,QAC3B,CAGI,GAFgB/pD,EAAQ+pD,QAAQxvC,IAAIsY,GAAKA,EAAE+pB,OACT3pB,OAAOJ,GAAKA,GAAK84B,EAAO/O,OACpC7zC,OAAS,EAC3B,MAAM,IAAIQ,MAAM,6DAiCxB,GA5BsB,MAAlBvJ,EAAQqqD,SAAqC,IAAnBrqD,EAAQqqD,SAClCrqD,EAAQqqD,OAAS,IAAIuB,qBAEF,IAAnB5rD,EAAQqqD,SAE8B,MAAlCrqD,EAAQqqD,OAAOwB,kBAAyB7rD,EAAQqqD,OAAOwB,gBAAkB,IACxC,MAAjC7rD,EAAQqqD,OAAOyB,iBAAwB9rD,EAAQqqD,OAAOyB,gBAAiB,GACxC,MAA/B9rD,EAAQqqD,OAAO0B,eAAsB/rD,EAAQqqD,OAAO0B,cAAe,GACpC,MAA/B/rD,EAAQqqD,OAAO2B,eAAsBhsD,EAAQqqD,OAAO2B,cAAe,GACnC,MAAhChsD,EAAQqqD,OAAO4B,gBAAuBjsD,EAAQqqD,OAAO4B,eAAgB,IAM7ErlC,MAAM5d,EAAShJ,EAAS,KAAAK,gBAAgBqD,MAExC/F,KAAKuuD,4BAA8B,GACnCvuD,KAAKwuD,oBAAsB,GAC3BxuD,KAAKyuD,4BAA8B,IAAI9nD,KAEd,IAArBtE,EAAQiqD,WACRtsD,KAAK0uD,oBAAqB,GAE9B1uD,KAAK2uD,WAAatjD,EAAQ8K,GAC1BnW,KAAK4uD,cAAgB,KAGE,MAAnBvsD,EAAQwrD,QACZ,CACI,IAAIgB,EAAgBxsD,EAAQ+pD,QAAQxvC,IAAIsY,GAAKA,EAAE+pB,OAC/C,IAAK,IAAI6P,KAAezsD,EAAQwrD,QAAQE,OAEpC,IAAKc,EAAc9yC,SAAS+yC,EAAY7P,OACxC,CACI,IAAI+O,EAAS,IAAI,KAAAlsC,WACjBksC,EAAO/O,MAAQ6P,EAAY7P,MAC3B+O,EAAO/3C,MAAQ64C,EAAYC,aAC3Bf,EAAOgB,QAAS,EAChB3sD,EAAQ+pD,QAAQ54B,KAAKw6B,IAOjC,IAAIiB,EAA2B,GAC/B,IAA+B,IAA3B5sD,EAAQmrD,eACZ,CACI,IAAI0B,EAAa,IAAIC,oBACrBD,EAAWE,iBAAmB,KAC9BF,EAAW5C,SAAWptB,KAAKC,MAAMD,KAAKE,UAAU/8B,EAAQiqD,WACxD4C,EAAWG,YAAc,KAEF,MAAnBhtD,EAAQwrD,UACRqB,EAAWrB,QAAU3uB,KAAKC,MAAMD,KAAKE,UAAU/8B,EAAQwrD,WAE3D,IAAIhxC,EAAQ,EACRyyC,EAAoC,GACxC,IAAK,IAAItB,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAImD,EAAe,IAAIC,iBACvBD,EAAatQ,MAAS+O,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,aAAezB,EAAO/O,MAC5FsQ,EAAaG,SAAW1B,EAAO0B,SAC/BH,EAAaP,OAAShB,EAAOgB,OAC7BO,EAAaI,OAAS3B,EAAO2B,OAC7BJ,EAAa1yC,MAAQA,EAErB,IAAItB,EAAyB,MAAhByyC,EAAOzyC,MAAkByyC,EAAY,MAAMA,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,IAC7GF,EAAah0C,MAAQA,EAErB+zC,EAAc97B,KAAK+7B,GACnB1yC,KAEsB,IAAlBmxC,EAAOgB,QACPhvD,KAAKuuD,4BAA4B/6B,KAAKw6B,EAAO/O,OAGrDiQ,EAAW9C,QAAUkD,EACrBtvD,KAAK4vD,0BAA4BV,EAEjC,IAAIW,EAAuB,IAAIC,qBAC/BD,EAAqBE,SAAW1tD,EAAQmrD,eAAe7sD,KACvDkvD,EAAqBG,SAAWxrC,OAAOiB,SAASid,KAGhD1iC,KAAKiwD,mBAAmBC,4BAA4BC,IAAKN,EAAuBtuB,IAG5E,GADA0tB,EAAa1tB,EAAS6uB,gBAClBnB,EAAW7jD,OAAS,EACxB,CACIpL,KAAKqwD,eAAiBpB,EACtB,IAAIqB,EAAerB,EAAW,GAC1BsB,EAAcrxB,KAAKC,MAAMmxB,EAAapB,YAGtCsB,GAAO,EACX,IAAK,IAAIjB,KAAgBgB,EAAYnE,QAEjC,IAA0B,cAAtBmD,EAAatQ,OAA0B58C,EAASgqD,kBAG/ChqD,EAAS+pD,QAASxvC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASwzC,EAAatQ,OAC/D,CACIuR,GAAO,EACP,MAKJA,IAEAxwD,KAAK4uD,cAAgB0B,MAUrCtwD,KAAKywD,iBAAmB,EACxBzwD,KAAK0wD,sBAAwB,IAAI/pD,IACjC3G,KAAK2wD,oBAAsB,GAC3B3wD,KAAK4wD,iBAAwC,IAArBvuD,EAAQiqD,SAAsB,GAAKjqD,EAAQiqD,SACnEtsD,KAAK6wD,oBAAsB,EAE3B7wD,KAAK8wD,yBAA2B,IAAIC,yBACpC/wD,KAAK8wD,yBAAyBE,UAAY,EAAIhxD,KAAK4wD,gBACnD5wD,KAAK8wD,yBAAyBG,QAAUjxD,KAAK8wD,yBAAyBE,UAAYhxD,KAAK4wD,gBAAkB,EAItF,KAAAzlD,KAAKE,GAASquB,aAAa,YAAcruB,EAAQ8K,GAAK,kDAGzEnW,KAAKkxD,YAAc,KAAA9uD,YAAY,CAC3B2Q,KAAM1Q,EAAQkrD,QAAQx6C,KACtB4oB,MAAO,KAAA/tB,cAAcyqC,OACrBtc,KAAM15B,EAAQkrD,QAAQxxB,KACtBK,QAAiC,MAAxB/5B,EAAQkrD,QAAQx6C,MAAgB1Q,EAAQkrD,QAAQx6C,KAAK3H,OAAS,EACvE4wB,cAAe,CAAE2e,WAAYt4C,EAAQkrD,QAAQnK,gBAAiBD,UAAW9gD,EAAQkrD,QAAQpK,WACzFrnB,aAAc,6FAA+Fz5B,EAAQkrD,QAAQzxB,aAC7H/lB,IAAK,2FAA6F1T,EAAQkrD,QAAQx3C,IAClHomB,QAAU7hB,IAEN,GAA0D,MAArDjY,EAASkrD,QAAiCpxB,QAC/C,CACI,IAAI2pB,EAAa,IAAI,KAAA7kC,sBACrB6kC,EAAWhb,OAAS9qC,KACpB8lD,EAAWn7C,QAAU2P,EAAEwwB,OACvBgb,EAAWzkD,MAAQiZ,EAAEwwB,OAAOzpC,QAC3BgB,EAASkrD,QAAiCpxB,QAAS2pB,MAG7D9lD,KAAKsC,YAAa,KAAA4J,oBAAoBqvB,QAIzCv7B,KAAKmxD,oBAAsB,KAAAx7C,IAAI,IAAMtK,EAAQ8K,GAAK,gBAAiB,CAAEJ,IAAK,kBACtE1T,EAAQ4qD,WACRjtD,KAAKoxD,iBAAmB,KAAAjmD,KAAK,yGAAyGmL,eAAetW,KAAKmxD,qBAAqB,IAEnLnxD,KAAKqxD,WAAa,KAAAlmD,KAAK,YAAcE,EAAQ8K,GAAK,yFAAyFG,eAAetW,KAAKmxD,qBAAqB,GAC/K9uD,EAAQsqD,SAET3sD,KAAKmxD,oBAAoB11C,MAAMC,SAAW,iBAC1C1b,KAAKqxD,WAAW51C,MAAMC,SAAW,iBACjC1b,KAAKoxD,iBAAiB31C,MAAMC,SAAW,kBAG3C1b,KAAKsxD,oBAAsB,KAAAnmD,KAAK,aAAeE,EAAQ8K,GAAK,uDAAuDG,eAAe,IAAMjL,EAAQ8K,GAAK,iBAAiB,GAItK,IAAIo7C,EAAa,KAAA57C,IAAI,IAAMtK,EAAQ8K,GAAK,gBAAiB,CAAEJ,IAAK,iCAC5D1T,EAAQ4qD,WACRjtD,KAAKwxD,kBAAoB,KAAArmD,KAAK,YAAcE,EAAQ8K,GAAK,uGAAuGG,eAAei7C,GAAY,IAE/LvxD,KAAKyxD,YAAc,KAAAtmD,KAAK,YAAcE,EAAQ8K,GAAK,mFAAmFG,eAAei7C,GAAY,GACjKvxD,KAAK0xD,oBAAsB,KAAAvmD,KAAK,aAAeE,EAAQ8K,GAAK,uDAAuDG,eAAe,IAAMjL,EAAQ8K,GAAK,iBAAiB,GAItK,IAAIw7C,EAAmB,KAAAh8C,IAAI,IAAMtK,EAAQ8K,GAAK,gBAAiB,CAAEA,GAAI9K,EAAQ8K,GAAK,yBAC9E9T,EAAQ4qD,WACRjtD,KAAK4xD,eAAiB,KAAAj8C,IAAIg8C,EAAkB,CAAEz7C,MAAO,mBAAoBH,IAAK,0LAElF/V,KAAK6xD,SAAW,KAAA1mD,KAAK,YAAcE,EAAQ8K,GAAK,kCAAkCG,eAAeq7C,GAAkB,GACnH,KAAAxmD,KAAKnL,KAAK6xD,UAAUC,OAAQx3C,IAOxB,GALA,KAAAnP,KAAKnL,KAAKyxD,aAAanJ,WAAW,KAAAn9C,KAAKnL,KAAK6xD,UAAUvJ,cACtD,KAAAn9C,KAAKnL,KAAKqxD,YAAY/I,WAAW,KAAAn9C,KAAKnL,KAAK6xD,UAAUvJ,cACrD,KAAAn9C,KAAKnL,KAAK+xD,YAAYzJ,WAAW,KAAAn9C,KAAKnL,KAAK6xD,UAAUvJ,cACrD,KAAAn9C,KAAKnL,KAAK4xD,gBAAgBI,UAAU,KAAA7mD,KAAKnL,KAAK6xD,UAAUG,aAE/B,MAArB3vD,EAAS4vD,SACb,CACI,IAAIC,EAAc,IAAI,KAAAxwC,gBACtBwwC,EAAYpnB,OAAS9qC,KACrBkyD,EAAY/uB,OAAS7oB,EAAE6oB,OACvB+uB,EAAY5J,WAAa,KAAAn9C,KAAKnL,KAAK6xD,UAAUvJ,aAC7C4J,EAAYF,UAAY,KAAA7mD,KAAKnL,KAAK6xD,UAAUG,YAC5C3vD,EAAS4vD,SAASC,MAI1B,KAAA/mD,KAAKnL,KAAK4xD,gBAAgBE,OAAQx3C,IAI9B,GAFA,KAAAnP,KAAKnL,KAAK6xD,UAAUG,UAAU,KAAA7mD,KAAKnL,KAAK4xD,gBAAgBI,aAE/B,MAArB3vD,EAAS4vD,SACb,CACI,IAAIC,EAAc,IAAI,KAAAxwC,gBACtBwwC,EAAYpnB,OAAS9qC,KACrBkyD,EAAY/uB,OAAS7oB,EAAE6oB,OACvB+uB,EAAY5J,WAAa,KAAAn9C,KAAKnL,KAAK6xD,UAAUvJ,aAC7C4J,EAAYF,UAAY,KAAA7mD,KAAKnL,KAAK6xD,UAAUG,YAC5C3vD,EAAS4vD,SAASC,MAM1B,IAAIC,EAAY,KAAAx8C,IAAI,IAAMtK,EAAQ8K,GAAK,gBAAiB,CAAEJ,IAAK,iCAgB/D,GAfI1T,EAAQ4qD,WACRjtD,KAAKoyD,iBAAmB,KAAAjnD,KAAK,YAAcE,EAAQ8K,GAAK,oGAAoGG,eAAe67C,GAAW,IAE1LnyD,KAAK+xD,WAAa,KAAA5mD,KAAK,YAAcE,EAAQ8K,GAAK,iFAAiFG,eAAe67C,GAAW,GAE7JnyD,KAAKqyD,YAAchwD,EAAQ+pD,QAASr2B,MAAMb,GAAoB,MAAfA,EAAEo9B,YAAqC,IAAhBp9B,EAAEo9B,WACpEtyD,KAAKqyD,aACLryD,KAAKuyD,uBAETvyD,KAAKwyD,oBAAsB,KAAArnD,KAAK,aAAeE,EAAQ8K,GAAK,uDAAuDG,eAAe,IAAMjL,EAAQ8K,GAAK,iBAAiB,IAM/I,IAAnB9T,EAAQqqD,OACZ,CAII,GAHA1sD,KAAKyyD,WAAa,KAAAtnD,KAAK,YAAcE,EAAQ8K,GAAK,wCAAwCG,eAAe,IAAMjL,EAAQ8K,GAAK,iBAAiB,GAGzI9T,EAAQqqD,OAAO0B,cAA6C,kBAArB/rD,EAAgB,SAC3D,CAEI,IAAIqwD,EACA,CACI,CAAE3/C,KAAM,KAAM1R,MAAO,KAAMsxD,YAAa,IACxC,CAAE5/C,KAAM,MAAO1R,MAAO,MAAOsxD,YAAa,MAG9CtwD,EAAQiqD,UAAa,MACrBjqD,EAAQyqD,eAAgB,GAExBzqD,EAAQyqD,gBAER4F,EAAcl/B,KAAK,CAAEzgB,KAAM,MAAO1R,MAAO,MAAOsxD,YAAa,MAC7DD,EAAcl/B,KAAK,CAAEzgB,KAAM,MAAO1R,MAAO,MAAOsxD,YAAa,OAGxC,IAArBtwD,EAAQiqD,UAAwC,KAArBjqD,EAAQiqD,UAAyC,KAArBjqD,EAAQiqD,UAAwC,KAApBjqD,EAAQiqD,UAC3FoG,EAAcl/B,KAAK,CAAEzgB,KAAMyW,OAAOnnB,EAAQiqD,UAAYjrD,MAAOmoB,OAAOnnB,EAAQiqD,UAAYqG,YAAalhC,OAAOpvB,EAAQiqD,YAExHoG,EAAcl9B,SAAS,CAAC,gBAAgB,GAGxC,KAAAtwB,eACI,CACIqW,MAAO,GACPha,KAAM,KAAA+D,iBAAiBC,SACvBu2B,aAAc,mBACd/lB,IAAK,wCACLuhC,MAAOob,EACPrxD,MAAOmoB,OAAOnnB,EAAQiqD,UACtBhf,cAAgBhzB,IAEZjY,EAASiqD,SAAW76B,OAAOnX,EAAEwwB,OAAOzpC,SAEhCgB,EAAS+pD,QAAShhD,OAAS,IAC3B,KAAAmS,aAEJiH,OAAOwa,WAAW,KAEdh/B,KAAK4yD,SACL,KAAAj1C,cACD,OAER3d,KAAKyyD,WAAY,KAAMpnD,EAAQ8K,GAAK,gBAK/C,GAAI9T,EAAQqqD,OAAO2B,aACnB,CAEI,IAAIwE,EAAqB,KAAArtD,kBACrB,CAEIuV,KAAM,KAAArO,iBAAiBomD,KACvBh3B,aAAc,8BACdwb,MACI,CACI,CACIvkC,KAAM,eAAgBgI,KAAM,KAAArO,iBAAiBqmD,MAAO52B,QAAU7hB,IAEhC,MAAtBta,KAAK4uD,cACL,KAAA56C,OAAO,kCAAmC,CAAEiC,MAAO,iBAAkB4H,KAAMxc,GAAUrB,KAAKgzD,WAAW3xD,IAGrG,KAAAyS,OAAO,yDACH,CACImC,MAAO,eACPg9C,YACI,CACI,CAAElgD,KAAM,UAAW/J,KAAM,KAAAwG,yBAAyB0jD,OAClD,CACIngD,KAAM,cAAexR,KAAM,KAAAgM,eAAe2tB,QAASiB,QAAU7hB,IAEzDta,KAAKgzD,WAAWhzD,KAAK4uD,cAAeuE,YACpC74C,EAAEwwB,OAAOZ,UAGjB,CACIn3B,KAAM,aAAcxR,KAAM,KAAAgM,eAAe2tB,QAASiB,QAAU7hB,IAExD,KAAAtG,OAAO,kCAAmC,CAAEiC,MAAO,gBAAiB4H,KAAMxc,IAEtErB,KAAK4uD,cAAgB,KACrB5uD,KAAKgzD,WAAW3xD,GAChBiZ,EAAEwwB,OAAOZ,iBASjD,CACIn3B,KAAM,kBAAmBgI,KAAM,KAAArO,iBAAiBqmD,MAAO1xD,MAAO,eAC9D86B,QAAU7hB,GAAMta,KAAKozD,oBAEzB,CACIrgD,KAAM,4BAA6BgI,KAAM,KAAArO,iBAAiBqmD,MAAO1xD,MAAO,oBACxEmkD,oBAAqB,oDACrBrpB,QAAU7hB,IAENta,KAAK4uD,cAAgB,KACrB5uD,KAAKqzD,cAAa,EAAMrzD,KAAK4vD,6BAGrC,CACI78C,KAAM,kBAAmBgI,KAAM,KAAArO,iBAAiBmpC,IAChD1Z,QAAU7hB,GAAMta,KAAKszD,kBAAkBC,eAAeC,WAE1D,CACIzgD,KAAM,mBAAoBgI,KAAM,KAAArO,iBAAiB+mD,MAAOr3B,QAAS/5B,EAAQurD,UACzEzxB,QAAU7hB,GAAMta,KAAKszD,kBAAkBC,eAAeG,UAE1D,CACI3gD,KAAM,iBAAkBgI,KAAM,KAAArO,iBAAiBinD,KAAMv3B,QAAS/5B,EAAQ4qD,SACtE9wB,QAAU7hB,GAAMta,KAAKszD,kBAAkBC,eAAeK,eAGnE5zD,KAAKyyD,WAAY,KAAMzyD,KAAK2uD,WAAa,gBAIvB,GAArBM,EAAW7jD,QACXoZ,OAAOwa,WAAW,IAAM6zB,EAAmBjK,SAAS,kBAQ7C,MAAfvmD,EAAQ0T,MACR,KAAA5K,KAAK,IAAME,EAAQ8K,GAAK,iBAAiB,GAAGsF,MAAMC,SAAWrZ,EAAQ0T,KAEzE,KAAA5K,KAAKE,GAASyvB,SAAS,UACvB,KAAA3vB,KAAKE,GAAS0K,IAAI,kBAAmB,YAEO,iBAAhC1T,EAA0B,mBAClC,KAAA8I,KAAK,WAAaE,EAAQ8K,GAAK,8DAAgE9T,EAAQmqD,mBAAqB,eAAel2C,eAAe,SACtH,IAA/BjU,EAAQmqD,oBACb,KAAArhD,KAAKE,GAASyvB,SAAS,sBAEvBz4B,EAAQoqD,eACR,KAAAthD,KAAKE,GAASyvB,SAAS,gBAIL,MAAlBz4B,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KAAApL,mBAAmByjD,YAC5DxxD,EAAQmZ,QAAU,KAAApL,mBAAmByjD,aACrCxxD,EAAQmZ,OAAS,QAErB,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,OAAOnZ,EAAQmZ,QACnC,IAAIo6B,EAA+C,iBAApBvzC,EAAe,OAAiBA,EAAQmZ,OAAU,EAAInZ,EAAQmZ,OAI7F,GAHA,KAAArQ,KAAK,IAAMnL,KAAKqL,UAAU8K,GAAK,wBAAwBqF,OAAOo6B,GAC1DvzC,EAAQ4qD,UAAU,KAAA9hD,KAAKnL,KAAK4xD,gBAAgBp2C,OAAOnZ,EAAQmZ,QAEvC,MAApBxb,KAAKkxD,YACT,CACI,IAAI4C,EAAgB,KAAA3oD,KAAKnL,KAAKqxD,YAAYxlD,GAAG,YAAe,GAAK,EAC7DkoD,EAAiB1xD,EAAkB,WAAI,GAAK,EAC5C2xD,EAAgBh0D,KAAgB,YAAI,GAAK,EAC7C,KAAAmL,KAAKnL,KAAKkxD,YAAY5uD,aAAakZ,OAAO,KAAArQ,KAAK,IAAMnL,KAAKqL,UAAU8K,GAAK,wBAAwBqF,SAAWs4C,EAAeC,EAAgBC,EAAe,GAI9J,KAAA7oD,KAAKnL,KAAK6xD,UAAUzlD,aAAaf,GAE7BhJ,EAAQ4qD,WAERjtD,KAAKi0D,eAAiB,KAAA9oD,KAAK,oFACQ,IAA/B9I,EAAQmqD,oBAA6B,KAAArhD,KAAKnL,KAAKi0D,gBAAgBn5B,SAAS,sBACxEz4B,EAAQoqD,eAAe,KAAAthD,KAAKnL,KAAKi0D,gBAAgBn5B,SAAS,gBAC9D,KAAA3vB,KAAKnL,KAAK4xD,gBAAgBxlD,aAAapM,KAAKi0D,iBAIhD,IAAIC,EAA0B7xD,EAAQ+pD,QAAQ92B,OAAOJ,GAAKA,EAAElsB,MAAQ,KAAAwH,mBAAmBi/C,YAAYrkD,OACnG,GAAI8oD,EAA0B,EAC1B,MAAMtoD,MAAM,qDAEhB,GAA+B,GAA3BsoD,EACJ,CACI,IAAIC,EAAwB9xD,EAAQ+pD,QAAQpB,UAAU91B,GAAKA,EAAElsB,MAAQ,KAAAwH,mBAAmBi/C,YACxFptD,EAAQ+pD,QAAQ+H,GAAuBlV,MAAQ,aAC/C58C,EAAQ+pD,QAAQ+H,GAAuBxE,OAAS3vD,KAAKo0D,wBAG1B,GAA3BF,GAAiC7xD,EAAQgqD,gBACzChqD,EAAQ+pD,QAAQ3N,QAAQ,CAAEz1C,KAAM,KAAAwH,mBAAmBi/C,WAAYxQ,MAAO,aAAc0Q,OAAQ3vD,KAAKo0D,0BAIrG,KAAAjpD,KAAKE,GAASkQ,MAAMlZ,EAAQkZ,OAC5B,KAAApQ,KAAK,IAAME,EAAQ8K,GAAK,iBAAiBoF,MAAMlZ,EAAQkZ,OAIvD,IAAI84C,EAAa,KAAAlpD,KAAKnL,KAAKqL,WAAWkQ,QAClC+4C,EAAuB,EACvBC,EAAwB,EAC5B,IAAK,IAAIvG,KAAU3rD,EAAQ+pD,QAEF,GAAjB4B,EAAOgB,SAGPhvD,KAAKo0D,yBAA2BpG,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,aAG9C,MAAnBzB,EAAO0B,UAAuC,GAAnB1B,EAAO0B,SACnC4E,GAAyC,MAAhBtG,EAAOzyC,MAAiByyC,EAAOzyC,MAAUyyC,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,IAEvH8E,MAGR,IAAIC,EAAiBH,EAAaC,EAC7Bt0D,KAAKo0D,yBAA2B/xD,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,OAC5EoiC,GAAkB,IAEC,MAAnBnyD,EAAQwrD,SAA6C,MAA1BxrD,EAAQwrD,QAAQE,SAC3CyG,GAAkB,GAAKnyD,EAAQwrD,QAAQE,OAAO3iD,QAElD,IAAIqpD,EAAmCD,EAAiBD,EAAxB,IAAiDF,EAKjF,GAJAr0D,KAAK00D,0BAA4BD,EAIV,MAAnBpyD,EAAQsyD,SAAmBtyD,EAAQsyD,QAAQvpD,OAAS,EACxD,CACIpL,KAAK40D,YAAc,KAAAzpD,KAAK,YAAcE,EAAQ8K,GAAK,2CAA2CE,gBAAgB,IAAMhL,EAAQ8K,GAAK,iBAAiB,GAElJ,IAAI0+C,EAAiB,EACrB,IAAK,IAAIC,KAAezyD,EAAQsyD,QAGJ,MAApBG,EAAY9rD,MAAgB8rD,EAAY9rD,MAAQ,KAAA0H,oBAAoBzM,WAC3C,IAArB6wD,EAAYzzD,OAAoC,MAArByzD,EAAYzzD,QAE3CyzD,EAAYzzD,MAAQ,YAAcwzD,EAClCA,KAIJ70D,KAAK+0D,eAAeD,GAU5B,GAJA,KAAA3pD,KAAKnL,KAAKqxD,YAAYjlD,aAAa,sFAC/B/J,EAAQ4qD,UACR,KAAA9hD,KAAKnL,KAAKoxD,kBAAkBhlD,aAAa,oGAEzC/J,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAE9B,IAAK,IAAIG,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAI4I,EAAU,GACS,MAAnB3yD,EAAQwrD,SAAsBxrD,EAAQwrD,QAAQE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,SAC7G+V,EAAU,kBAEd,KAAA7pD,KAAKnL,KAAKqxD,YAAYv1C,KAAK,wBAAwB1P,aAAa,wFAA0F4oD,EAAU,mBAAqBhH,EAAO/O,MAAQ,mBAAqB+O,EAAO/O,MAAQ,WACxO58C,EAAQ4qD,UACR,KAAA9hD,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,wBAAwB1P,aAAa,wFAA0F4oD,EAAU,mBAAqBhH,EAAO/O,MAAQ,mBAAqB+O,EAAO/O,MAAQ,WAK9P,GAAI58C,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAC/C,CACI,IAAI6iC,EAAajpD,SAAS4b,cAAc,MACxCqtC,EAAWx5C,MAAMC,SAAW,6BAC5B,KAAAvQ,KAAK8pD,GAAYnpD,KAAK,QAAS,IAC/B,KAAAX,KAAK8pD,GAAYnpD,KAAK,QAAS,wBAC/B,KAAAX,KAAK8pD,GAAYl/C,IAAI,mBAAoB,WACzC,KAAA5K,KAAK8pD,GAAYl/C,IAAI,QAAS,QAE9B,IAAIm/C,EAAW,cAAgB7pD,EAAQ8K,GAAxB,sKAEf8+C,EAAWnzB,UAAYozB,EAEvB,KAAA/pD,KAAK8pD,GAAYl/C,IAAI,aAAc,UAE/B/V,KAAKo0D,wBACL,KAAAjpD,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,wBAAwB1P,aAAa6oD,GAEtE,KAAA9pD,KAAKnL,KAAKqxD,YAAYv1C,KAAK,wBAAwB1P,aAAa6oD,GAEhE5yD,EAAQoJ,YAAc,KAAAwE,qBAAqBklD,YAC3C,KAAAhqD,KAAK8pD,GAAY16C,WAAW1H,OAG5B,KAAA1H,KAAK8pD,GAAYryB,MAAOtoB,IAEHA,EAAE6oB,OAA4B2X,QAE3C96C,KAAKo1D,eAELp1D,KAAKq1D,mBAOrB,IAAK,IAAIrH,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAIkJ,EAAKtpD,SAAS4b,cAAc,MAChC,KAAAzc,KAAKmqD,GAAIxpD,KAAK,QAASkiD,EAAO/O,OAC9BqW,EAAG75C,MAAMC,SAAW,6BAEpB,IAAIzF,EAAyB,MAAhB+3C,EAAO/3C,MAAiB+3C,EAAO/3C,MAAQ,GACpD,KAAA9K,KAAKmqD,GAAIxpD,KAAK,QAASmK,GAGM,MAAzB+3C,EAAOuH,gBAAwD,MAA9BvH,EAAOuH,eAAex6C,OACvD9E,EAAQ,aAAe+3C,EAAOuH,eAAex6C,KAAO,SAAW9E,IAI/C,IAAhB+3C,EAAOjyB,MACP,KAAA5wB,KAAKmqD,GAAIv/C,IAAI,cAAe,OAIH,MAAzBi4C,EAAOuH,gBAAwD,MAA9BvH,EAAOuH,eAAgBx/C,MACxDu/C,EAAG75C,MAAMC,SAAWsyC,EAAOuH,eAAgBx/C,KAG/Cu/C,EAAGxzB,UAAY,iEAAmE7rB,EAAQ,0EAE1F,KAAA9K,KAAKmqD,GAAIxpD,KAAK,QAA0B,MAAhBkiD,EAAOzyC,MAAiByyC,EAAOzyC,MAA6B,GAAnByyC,EAAO0B,SAAoB+E,EAA2B,IAAOzG,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,KAC5J,GAAnBzB,EAAO0B,UACP,KAAAvkD,KAAKmqD,GAAIxpD,KAAK,WAAY,QAG9B,IAAIs3C,EAAkB,UAClBloC,EAAQ,OACiB,MAAzB8yC,EAAOuH,iBAEPnS,EAA4D,MAAzC4K,EAAOuH,eAAenS,gBAA2B4K,EAAOuH,eAAenS,gBAAkBA,EAC5GloC,EAAwC,MAA/B8yC,EAAOuH,eAAer6C,MAAiB8yC,EAAOuH,eAAer6C,MAAQ,QAElF,KAAA/P,KAAKmqD,GAAIv/C,IAAI,mBAAoBqtC,GACjC,KAAAj4C,KAAKmqD,GAAIv/C,IAAI,QAASmF,GAItB,IAAI0gB,EAAY,KAAArrB,cAAc+qB,KAO9B,GAN6B,MAAzB0yB,EAAOuH,gBAA6D,MAAnCvH,EAAOuH,eAAe35B,YACvDA,EAAYoyB,EAAOuH,eAAe35B,WACtC,KAAAzwB,KAAKmqD,GAAIv/C,IAAI,aAAc6lB,GAIvBv5B,EAAQ+T,QACZ,CACI,IAAIA,EAAU,GACe,MAAzB43C,EAAOuH,iBAE8B,GAAjCvH,EAAOuH,eAAen/C,QACtBA,EAA2B,MAAhB43C,EAAO/3C,MAAiB,GAAK+3C,EAAO/3C,MACA,iBAAlC+3C,EAAOuH,eAAsB,UAC1Cn/C,EAAU43C,EAAOuH,eAAen/C,UAGpCA,EAAQhL,OAAS,GACjB,KAAAD,KAAKmqD,GAAIxpD,KAAK,QAASsK,GAKL,CAAC,KAAA5F,mBAAmB/M,SAAU,KAAA+M,mBAAmB6S,KAAM,KAAA7S,mBAAmB7L,SACpG,KAAA6L,mBAAmBglD,SAAU,KAAAhlD,mBAAmB7N,MAAO,KAAA6N,mBAAmBihB,OAAQ,KAAAjhB,mBAAmBjN,WACrG,KAAAiN,mBAAmBgZ,OAAQ,KAAAhZ,mBAAmB/L,KAAM,KAAA+L,mBAAmB2d,SAAU,KAAA3d,mBAAmB8d,aACpG,KAAA9d,mBAAmBwd,aAAc,KAAAxd,mBAAmB0d,eAE5BnS,SAASiyC,EAAOhlD,OAEpC,KAAAmC,KAAKmqD,GAAIv/C,IAAI,SAAU,WACvB,KAAA5K,KAAKmqD,GAAI1yB,MAAM,KAEX,IAAyB,IAArB5iC,KAAKy1D,cAA6C,IAArBz1D,KAAK01D,YAGtC,GAAiC,MAA7B,KAAAvqD,KAAKmqD,GAAIxpD,KAAK,YACd9L,KAAKisB,KAAK+hC,EAAO/O,MAAO,KAAA/uC,sBAAsB8uC,SAElD,CACmBvtB,OAAO,KAAAtmB,KAAKmqD,GAAIxpD,KAAK,cACpB,KAAAoE,sBAAsB8uC,IAClCh/C,KAAKisB,KAAK+hC,EAAO/O,MAAO,KAAA/uC,sBAAsBylD,MAE9C31D,KAAK41D,iBAKjB,KAAAzqD,KAAKmqD,GAAIv/C,IAAI,SAAU,QAIvB1T,EAAQ4qD,UAAYe,EAAO2B,QAE3B2F,EAAG52B,aAAa,SAAU,UAC1B,KAAAvzB,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,wBAAwB1P,aAAakpD,IAGtE,KAAAnqD,KAAKnL,KAAKqxD,YAAYv1C,KAAK,wBAAwB1P,aAAakpD,GAE/C,GAAjBtH,EAAOgB,QACP,KAAA7jD,KAAKmqD,GAAIziD,OAUjB,GAPIxQ,EAAQ4qD,UAAYjtD,KAAKo0D,yBACzB,KAAAjpD,KAAKnL,KAAKqxD,YAAY91C,MAAM,gBAAkB,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAAK,OAMzFlZ,EAAQkqD,WACZ,CAWI,GAVA,KAAAphD,KAAKomD,GAAYr1C,OACjB,KAAA/Q,KAAKnL,KAAKyxD,aAAa,GAAGh2C,MAAMC,SAAW,wBAC3C,KAAAvQ,KAAKnL,KAAKyxD,aAAarlD,aAAa,iFAEhC/J,EAAQ4qD,WAER,KAAA9hD,KAAKnL,KAAKwxD,mBAAmB,GAAG/1C,MAAMC,SAAW,wBACjD,KAAAvQ,KAAKnL,KAAKwxD,mBAAmBplD,aAAa,gGAG1C/J,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAE9B,IAAK,IAAIG,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAI4I,EAAU,GACS,MAAnB3yD,EAAQwrD,SAAsBxrD,EAAQwrD,QAAQE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,SAC7G+V,EAAU,kBAEd,KAAA7pD,KAAKnL,KAAKyxD,aAAa31C,KAAK,mBAAmB1P,aAAa,oDAAsD4oD,EAAU,mBAAqBhH,EAAO/O,MAAQ,4BAA8B+O,EAAO/O,MAAQ,WACzM58C,EAAQ4qD,UACR,KAAA9hD,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,mBAAmB1P,aAAa,oDAAsD4oD,EAAU,4BAA8BhH,EAAO/O,MAAQ,WAK3L,GAAI58C,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAC/C,CACI,IAAI6iC,EAAajpD,SAAS4b,cAAc,MACxC,KAAAzc,KAAK8pD,GAAYnpD,KAAK,QAAS,wBAC/BmpD,EAAWx5C,MAAMC,SAAW,6BAC5B,KAAAvQ,KAAK8pD,GAAYnpD,KAAK,QAAS,IAE3B9L,KAAKo0D,wBACL,KAAAjpD,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,mBAAmB1P,aAAa6oD,GAElE,KAAA9pD,KAAKnL,KAAKyxD,aAAa31C,KAAK,mBAAmB1P,aAAa6oD,GAKpE,IAAK,IAAIjH,KAAU3rD,EAAQ+pD,QAC3B,CAEQ4B,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAClCzvD,KAAK0wD,sBAAsBv5B,IAAI62B,EAAO/O,MAAO,IAGjD,IAAI4W,EAAK7pD,SAAS4b,cAAc,MAkBhC,GAjBA,KAAAzc,KAAK0qD,GAAI/pD,KAAK,QAASkiD,EAAO/O,OAC9B4W,EAAGp6C,MAAMC,SAAW,6BAEpB,KAAAvQ,KAAK0qD,GAAI/pD,KAAK,QAA0B,MAAhBkiD,EAAOzyC,MAAiByyC,EAAOzyC,MAA6B,GAAnByyC,EAAO0B,SAAoB+E,EAA2B,IAAOzG,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,KAC5J,GAAnBzB,EAAO0B,UACP,KAAAvkD,KAAK0qD,GAAI/pD,KAAK,WAAY,QAG1BzJ,EAAQ4qD,UAAYe,EAAO2B,OAC3B,KAAAxkD,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,mBAAmB1P,aAAaypD,GAElE,KAAA1qD,KAAKnL,KAAKyxD,aAAa31C,KAAK,mBAAmB1P,aAAaypD,IAG3D7H,EAAOhlD,MAAQ,KAAAwH,mBAAmBslD,QAA+B,MAArB9H,EAAOzB,YAAuByB,EAAOhlD,MAAQ,KAAAwH,mBAAmB4B,SAC7G47C,EAAOzB,YAAa,GAEL,MAAfyB,EAAOhlD,OAAsC,IAAtBglD,EAAOzB,WAE9B,OAAQyB,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QACpB,CACI,KAAA7qD,KAAK0qD,GAAI9/C,IAAI,aAAc,UAC3B8/C,EAAG/zB,UAAY,cAAgBz2B,EAAQ8K,GAAK,mBAAqB63C,EAAO/O,MAAzD,oGACgD5zC,EAAQ8K,GAAK,mBAAqB63C,EAAO/O,MAAQ,aAGhH,IAAIgX,EAAa,KAAA9qD,KAAK,IAAME,EAAQ8K,GAAK,mBAAqB63C,EAAO/O,OACrEgX,EAAWn7B,SAAS,2BACpBm7B,EAAWrzB,MAAOtoB,IAEd,IAAImtC,EAAWwO,EAAW,GAC1B,GAAIxO,EAAS3M,UAAY,KAAA3vC,KAAKs8C,GAAUnpB,SAAS,2BAE7C,KAAAnzB,KAAKs8C,GAAU3sB,SAAS,2BACxB96B,KAAKk2D,aAAalI,EAAO/O,OACzB3kC,EAAE0e,qBAGN,CACI,KAAA7tB,KAAKs8C,GAAU5oB,YAAY,2BAE3B,IAAIs3B,EAAiB,IAAIC,mBACzBD,EAAentD,KAAOglD,EAAOhlD,KAC7BmtD,EAAeE,uBAAyB,IAAIC,2BAC5CH,EAAeE,uBAAuBh1D,MAAQomD,EAAS3M,QACvD96C,KAAKu2D,aAAavI,EAAO/O,MAAOkX,GAAgB,GAChDn2D,KAAKw2D,cAAa,MAK9B,MACJ,KAAK,KAAAhmD,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI,KAAA/iB,KAAK0qD,GAAI9/C,IAAI,aAAc,UAC3B8/C,EAAG/zB,UAAY,eAAiB9hC,KAAK2uD,WAAa,eAAiBX,EAAO/O,MAA3D,0BACMj/C,KAAK2uD,WAAa,qBAAuBX,EAAO/O,MAAQ,cAG7E,IAAIwX,EAAa,KAAA7zD,aACb,CACImY,KAAM,KAAArO,iBAAiBgqD,OACvBtgD,QAAS,iBACT+lB,QAAU7hB,IAENta,KAAK22D,oBAAoB3I,KAE9B,KAAM,KAAMhuD,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAEzD2X,EAAmB,KAAAh0D,aACnB,CACImY,KAAM,KAAApO,mBAAmBqrC,MACzB5hC,QAAS,iBACT4lB,cAAe,CAAE2e,WAAY,QAC7Bve,SAAS,EACTN,aAAc,oBACdK,QAAU7hB,IAENta,KAAKk2D,aAAalI,EAAO/O,OAEzBwX,EAAWrgD,QAAQ,IACnB,KAAAjL,KAAKsrD,EAAWprD,WAAW0K,IAAI,mBAAoB,WACnD,KAAA5K,KAAKsrD,EAAWprD,WAAW0K,IAAI,QAAS,QACxC6gD,EAAiB/jD,OACjB7S,KAAK62D,mBAAkB,KAE5B,KAAM,KAAM72D,KAAK2uD,WAAa,qBAAuBX,EAAO/O,OAGvE,MACJ,KAAK,KAAAzuC,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACxB,KAAK,KAAAiN,mBAAmBglD,SACpB,CACI,KAAArqD,KAAK0qD,GAAI9/C,IAAI,aAAc,UAC3B8/C,EAAG/zB,UAAY,eAAiB9hC,KAAK2uD,WAAa,iBAAmBX,EAAO/O,MAA7D,0BACMj/C,KAAK2uD,WAAa,uBAAyBX,EAAO/O,MAAQ,cAG/E,IAAI6X,EAAe,KAAAl0D,aACf,CACImY,KAAM,KAAArO,iBAAiBgqD,OACvBtgD,QAAS,iBACT+lB,QAAU7hB,IAENta,KAAK22D,oBAAoB3I,KAE9B,KAAM,KAAMhuD,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAE3D8X,EAAqB,KAAAn0D,aACrB,CACImY,KAAM,KAAApO,mBAAmBqrC,MACzB5hC,QAAS,iBACT4lB,cAAe,CAAE2e,WAAY,QAC7Bve,SAAS,EACTN,aAAc,oBACdK,QAAU7hB,IAENta,KAAKk2D,aAAalI,EAAO/O,OAEzB6X,EAAa1gD,QAAQ,IACrB,KAAAjL,KAAK2rD,EAAazrD,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK2rD,EAAazrD,WAAW0K,IAAI,QAAS,QAC1CghD,EAAmBlkD,OACnB7S,KAAK62D,mBAAkB,KAE5B,KAAM,KAAM72D,KAAK2uD,WAAa,uBAAyBX,EAAO/O,OAGzE,MACJ,KAAK,KAAAzuC,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmBslD,OACxB,KAAK,KAAAtlD,mBAAmB7N,MACpB,CAEI3C,KAAKg3D,mBAAqB,EAC1B,IAAIC,EAAW,KAAAj0D,cACX,CACI+X,KAAOizC,EAAOhlD,MAAQ,KAAAwH,mBAAmBslD,OAAU,KAAAppD,iBAAiBimC,YAASj1B,EAC7E41B,YAAc0a,EAAOhlD,MAAQ,KAAAwH,mBAAmBslD,OAAU,gBAAap4C,EACvEnC,MAAO,oBACPhF,WAAY,CAAC,CAAE5V,KAAM,QAASU,MAAO2sD,EAAO/O,QAC5ChK,QAAU36B,IAENg/B,aAAat5C,KAAKg3D,oBAClB,IAAIE,EAAe1tC,OAAOlP,EAAEjZ,OAAOy6C,OAAOxwB,cACtC2zB,EAAQ,KAAA9zC,KAAKmP,EAAEwwB,OAAOz/B,WAAWS,KAAK,SAE1C9L,KAAKm3D,yBAAyBD,EAAclJ,EAAQ/O,GAAO,IAE/DrU,QAAUtwB,IAEN,GAAIA,EAAE+wB,OACF,OAGJ+rB,EAAgBhhD,QAAQ,IACxB,KAAAjL,KAAKisD,EAAgB/rD,WAAW0K,IAAI,mBAAoB,WACxD,KAAA5K,KAAKisD,EAAgB/rD,WAAW0K,IAAI,QAAS,QAC7CshD,EAAsBxkD,OACtByH,EAAEwwB,OAAOvvB,MAAM,qBAGf+9B,aAAat5C,KAAKg3D,oBAClB,IAAIE,EAAe58C,EAAEwwB,OAAOzpC,QAAgBiqB,cACxC2zB,EAAQ,KAAA9zC,KAAKmP,EAAEwwB,OAAOz/B,WAAWS,KAAK,SAG1C,IAA+B,IAA3BzJ,EAAS8qD,cACb,CACI,IAAIgJ,EAAiB,IAAIC,mBASzB,OARAD,EAAentD,KAAOglD,EAAOhlD,KAC7BmtD,EAAemB,qBAAuB,IAAIC,yBAC1CpB,EAAemB,qBAAqBE,eAAiB,KAAA3mD,yBAAyB4mD,yBAC9EtB,EAAemB,qBAAqBvkD,KAAOmkD,EAAa5rC,mBAEpDhR,EAAE3Y,KAAO,KAAA4Q,QAAQm4B,OACjB1qC,KAAKu2D,aAAavI,EAAO/O,MAAOkX,IAMxC,GAA2B,GAAvBe,EAAa9rD,OAYb,OAVApL,KAAKk2D,aAAa,KAAA/qD,KAAKmP,EAAEwwB,OAAOz/B,WAAWS,KAAK,UAAU,QAC1D0Y,OAAOwa,WAAW,MAEkB,IAA5BgvB,EAAO0J,iBACP13D,KAAKgtD,OAAO,MAAM,GAElBhtD,KAAKw2D,cAAa,GAEtBx2D,KAAK23D,0BAA4B33D,KAAK43D,mBACvC,KAIP53D,KAAKm3D,yBAAyBD,EAAclJ,EAAQ/O,EAAO3kC,EAAE6wB,gBAElE0qB,EAAI,KAAM71D,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAIzDmY,EAAkB,KAAAx0D,aAClB,CACImY,KAAM,KAAArO,iBAAiBgqD,OACvBtgD,QAAS,iBACT+lB,QAAU7hB,IAENta,KAAK22D,oBAAoB3I,KAE9B6H,EAAI,KAAM71D,KAAK2uD,WAAa,oBAAsBX,EAAO/O,OAE5DoY,EAAwB,KAAAz0D,aACxB,CACImY,KAAM,KAAApO,mBAAmBqrC,MACzB5hC,QAAS,iBACT4lB,cAAe,CAAE2e,WAAY,QAC7Bve,SAAS,EACTN,aAAc,oBACdK,QAAU7hB,IAENta,KAAKk2D,aAAalI,EAAO/O,OAEzBmY,EAAgBhhD,QAAQ,IACxB,KAAAjL,KAAKisD,EAAgB/rD,WAAW0K,IAAI,mBAAoB,WACxD,KAAA5K,KAAKisD,EAAgB/rD,WAAW0K,IAAI,QAAS,QAC7CshD,EAAsBxkD,OACtB7S,KAAK62D,mBAAkB,GAEvBI,EAAS17C,MAAM,sBAEpBs6C,EAAI,KAAM71D,KAAK2uD,WAAa,0BAA4BX,EAAO/O,OAG1E,MACJ,QACI4W,EAAG/zB,UAAY,IAML,IAAlBksB,EAAOgB,QACP,KAAA7jD,KAAK0qD,GAAIhjD,OAIbxQ,EAAQ4qD,UAAYjtD,KAAKo0D,yBACzB,KAAAjpD,KAAKnL,KAAKyxD,aAAal2C,MAAM,gBAAkB,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAAK,OAKlG,GAAIvb,KAAKqyD,YACT,CAWI,GAVA,KAAAlnD,KAAKgnD,GAAWj2C,OAChB,KAAA/Q,KAAKnL,KAAK+xD,YAAY,GAAGt2C,MAAMC,SAAW,wBAC1C,KAAAvQ,KAAKnL,KAAK+xD,YAAY3lD,aAAa,gFAE/B/J,EAAQ4qD,WAER,KAAA9hD,KAAKnL,KAAKoyD,kBAAkB,GAAG32C,MAAMC,SAAW,wBAChD,KAAAvQ,KAAKnL,KAAKoyD,kBAAkBhmD,aAAa,+FAGzC/J,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAE9B,IAAK,IAAIG,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAI4I,EAAU,GACS,MAAnB3yD,EAAQwrD,SAAsBxrD,EAAQwrD,QAAQE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,SAC7G+V,EAAU,kBAEd,KAAA7pD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,kBAAkB1P,aAAa,oDAAsD4oD,EAAU,4BAA8BhH,EAAO/O,MAAQ,WACnK58C,EAAQ4qD,UACR,KAAA9hD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,kBAAkB1P,aAAa,oDAAsD4oD,EAAU,4BAA8BhH,EAAO/O,MAAQ,WAKzL,GAAI58C,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAC/C,CACI,IAAI6iC,EAAajpD,SAAS4b,cAAc,MACxC,KAAAzc,KAAK8pD,GAAYnpD,KAAK,QAAS,wBAC/BmpD,EAAWx5C,MAAMC,SAAW,6BAC5B,KAAAvQ,KAAK8pD,GAAYnpD,KAAK,QAAS,IAE3B9L,KAAKo0D,wBACL,KAAAjpD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,kBAAkB1P,aAAa6oD,GAEhE,KAAA9pD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,kBAAkB1P,aAAa6oD,GAKlE,IAAK,IAAIjH,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAIyJ,EAAK7pD,SAAS4b,cAAc,MAChC,KAAAzc,KAAK0qD,GAAI/pD,KAAK,QAASkiD,EAAO/O,OAC9B4W,EAAGp6C,MAAMC,SAAW,6BAEpB,KAAAvQ,KAAK0qD,GAAI/pD,KAAK,QAA0B,MAAhBkiD,EAAOzyC,MAAiByyC,EAAOzyC,MAA6B,GAAnByyC,EAAO0B,SAAoB1vD,KAAK00D,0BAA4B,IAAO1G,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,KAClK,GAAnBzB,EAAO0B,UACP,KAAAvkD,KAAK0qD,GAAI/pD,KAAK,WAAY,QAG9B,IAAI8vB,EAAY,KAAArrB,cAAckrB,MAC9B,OAAQuyB,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACpBq4B,EAAY,KAAArrB,cAAckrB,MAC1B,MACJ,KAAK,KAAAjrB,mBAAmBglD,SACpB55B,EAAY,KAAArrB,cAAc8nC,OAC1B,MACJ,KAAK,KAAA7nC,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB0N,EAAY,KAAArrB,cAAc8nC,OAC1B,MACJ,KAAK,KAAA7nC,mBAAmBgZ,OACpBoS,EAAY,KAAArrB,cAAc+qB,KAiBlC,GAb2B,MAAvB0yB,EAAO6J,eACPj8B,EAA8C,MAAjCoyB,EAAO6J,aAAaj8B,UAAqBoyB,EAAO6J,aAAaj8B,UAAYA,GAE1F,KAAAzwB,KAAK0qD,GAAI9/C,IAAI,aAAc6lB,GAIvBv5B,EAAQ4qD,UAAYe,EAAO2B,OAC3B,KAAAxkD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,kBAAkB1P,aAAaypD,GAEhE,KAAA1qD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,kBAAkB1P,aAAaypD,GAGtC,MAApB7H,EAAOsE,YAA0C,IAArBtE,EAAOsE,UACvC,CACI,IAAIwF,EAAgB,EACpB,GAAiC,kBAArB9J,EAAgB,UAExB,OAAQA,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SAAUxH,EAAOsE,UAAY,KAAAhiD,kBAAkBynD,IAAK,MAC5E,KAAK,KAAAvnD,mBAAmBjN,WAAYyqD,EAAOsE,UAAY,KAAAhiD,kBAAkB0nD,QAKjF,OAAQhK,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBihB,OACpBqmC,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EACxE,MACJ,KAAK,KAAAtnD,mBAAmB/M,SACpBq0D,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EACxE,MACJ,KAAK,KAAAtnD,mBAAmBglD,SACpBsC,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EACxE,MACJ,KAAK,KAAAtnD,mBAAmBjN,WACpBu0D,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EAKhF,KAAA3sD,KAAK0qD,GAAI/pD,KAAK,QAASkiD,EAAO/O,OAC9B,KAAA9zC,KAAK0qD,GAAI/pD,KAAK,gBAAiBgsD,GAC/B,KAAA3sD,KAAK0qD,GAAI/pD,KAAK,YAAa0d,OAAOwkC,EAAOsE,YAIzCtE,EAAOhlD,MAAQ,KAAAwH,mBAAmBslD,QAA+B,MAArB9H,EAAOiK,aACnDjK,EAAOiK,YAAa,GAGH,GAAjBjK,EAAOgB,QACP,KAAA7jD,KAAK0qD,GAAIhjD,OAIb7S,KAAKo0D,yBACL,KAAAjpD,KAAKnL,KAAK+xD,YAAYx2C,MAAM,gBAAkB,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAAK,YAG7F,KAAApQ,KAAKnL,KAAK+xD,YAAYl/C,OAEtBxQ,EAAQ4qD,WAEHjtD,KAAKo0D,yBASN,KAAAjpD,KAAKnL,KAAK6xD,UAAUt2C,MAAM,gBAAkB,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAAK,OACvF,KAAApQ,KAAKnL,KAAK4xD,gBAAgBr2C,MAAM,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,WAR/B,MAAzBvb,KAAKoxD,mBAA0BpxD,KAAKoxD,iBAAiB31C,MAAMC,SAAW,kBAC5C,MAA1B1b,KAAKwxD,oBAA2BxxD,KAAKwxD,kBAAkB/1C,MAAMC,SAAW,kBACjD,MAAvB1b,KAAK4xD,iBAAwB5xD,KAAK4xD,eAAen2C,MAAMC,SAAW,kBACzC,MAAzB1b,KAAKoyD,mBAA0BpyD,KAAKoyD,iBAAiB32C,MAAMC,SAAW,oBAUlF1b,KAAKk4D,iBAAmB71D,EAEE,MAAtBrC,KAAK4uD,eACL5uD,KAAKqzD,eAGiB,MAAtBhxD,EAAQ81D,WACRn4D,KAAKm4D,WAAW91D,EAAQ81D,YAExBn4D,KAAK62D,oBAIa,MAAlBx0D,EAAQ2qD,SAAqD,IAAnC3qD,EAAQ2qD,OAAOoL,iBACzCp4D,KAAKq4D,aAAah2D,EAAQ2qD,OAAQsL,oBAAoBC,SAGnC,IAAnBl2D,EAAQg6B,QACRr8B,KAAKq8B,OAAOh6B,EAAQg6B,QAGxB,IAAIm8B,EAAe97C,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAClEzZ,EAAQ4qD,UACRuL,EAAa5jC,YAAYlY,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,cAEtF9b,KAAKy4D,eAAiB,GACtB,IAAK,IAAInD,KAAMkD,EACf,CACI,IAAIE,EAAiB,IAAIC,mBACzBD,EAAezZ,MAAQ,KAAA9zC,KAAKmqD,GAAIxpD,KAAK,SACrC4sD,EAAe3xC,KAAO,KAAA5b,KAAKmqD,GAAI98B,SAASzR,KACxC2xC,EAAel8B,MAAQ,KAAArxB,KAAKmqD,GAAI98B,SAASzR,KAAO,KAAA5b,KAAKmqD,GAAI/5C,QACzDm9C,EAAe77C,MAAQ,KAAA1R,KAAKmqD,GAAIz4C,QAChC67C,EAAepD,GAAKA,EACpBt1D,KAAKy4D,eAAejlC,KAAKklC,GAW7B,GAPIr2D,EAAQuqD,WACR5sD,KAAK4sD,YAELvqD,EAAQwqD,aACR7sD,KAAK44D,mBAGc,MAAnBv2D,EAAQwrD,QAER,IAAK,IAAIgL,KAAmBx2D,EAAQwrD,QAAQE,OACxC/tD,KAAK2wD,oBAAoBkI,EAAgB5Z,YAASvhC,EAI1D,KAAAvS,KAAKqZ,QAAQrI,GAAG,SAAU,KAEtBnc,KAAK62D,oBACL72D,KAAK84D,qBAOb,OAAOrW,EAAyBsW,GAAuB,EAAOC,GAAW,EAAMC,GA+C3E,OA7Cc,IAAI3yC,QAAelK,IAG7B,GAAI28C,EACJ,CACI,IAAIG,EAA8C,GAClDl5D,KAAKyuD,4BAA4B/0C,QAAQ,CAACrY,EAAOM,EAAKw3D,KAElD,GAAkC,MAA9B93D,EAAMi2D,qBACV,CACI,IAAI8B,EAAqB,IAAIC,kBAC7BD,EAAmBna,MAAQt9C,EAC3By3D,EAAmBrmD,KAAO1R,EAAMi2D,qBAAqBvkD,KACrDmmD,EAAuB1lC,KAAK4lC,MAGpC3W,EAAa,CAAEyW,uBAAwBA,GAI3C,IAAI72D,EAAUrC,KAAK+sC,aACG,MAAlB1qC,EAAQ2qD,SAER3qD,EAAQ2qD,OAAOsM,qBAAkB57C,EACf,MAAd+kC,IACApgD,EAAQ2qD,OAAOsM,gBAAkB7W,GAGjCuW,GAEAh5D,KAAKu5D,gBAAkB,IAAIC,eAC3Bx5D,KAAKu5D,gBAAgBvX,cAAgBhiD,KAAKiiD,mBAC1CjiD,KAAKu5D,gBAAgBE,KAAOz5D,KAAK05D,eACjC15D,KAAKu5D,gBAAgBI,UAAY,KAAAxuD,KAAKnL,KAAKsC,aAAawZ,KAAK,cAAc,GAAGk2C,WAG9EhyD,KAAKu5D,gBAAkB,KAG1Bl3D,EAAQ2qD,OAAe4M,mBAAqBX,EAE7Cj5D,KAAK65D,iBACL75D,KAAKq4D,aAAah2D,EAAQ2qD,OAAQsL,oBAAoBC,OAAQn8C,MAM1E,mBAAmB09C,EAAsBlH,GAAS,EAAMoG,GAAW,EAAMC,GAErE,IAAI52D,EAAUrC,KAAK+sC,aACG,MAAlB1qC,EAAQ2qD,SAE6C,MAAjD3qD,EAAQ2qD,OAAO+M,iCACf13D,EAAQ2qD,OAAO+M,+BAAiC,sBAEpD13D,EAAQ2qD,OAAOsM,gBAAkB,GACjCj3D,EAAQ2qD,OAAOsM,gBAAgBj3D,EAAQ2qD,OAAO+M,gCAAkCD,EAChFz3D,EAAQ2qD,OAAOsM,gBAAwB,OAAI1G,EAC1CvwD,EAAQ2qD,OAAeiM,eAAiBA,EAErCD,IAGAh5D,KAAKu5D,gBAAkB,IAAIC,eAC3Bx5D,KAAKu5D,gBAAgBvX,cAAgBhiD,KAAKiiD,mBAC1CjiD,KAAKu5D,gBAAgBE,KAAOz5D,KAAK05D,eACjC15D,KAAKu5D,gBAAgBI,UAAY,KAAAxuD,KAAKnL,KAAKsC,aAAawZ,KAAK,cAAc,GAAGk2C,WAIlFhyD,KAAK65D,iBACL75D,KAAKq4D,aAAah2D,EAAQ2qD,OAAQsL,oBAAoB0B,qBAI9D,MAAM7pB,GAAgB,GAElBnwC,KAAKi6D,kBAAoB,GAErBj6D,KAAKm4D,aAAa7iC,OAAOJ,GAAwB,MAAnBA,EAAc,YAAgC,GAAnBA,EAAc,YAAY9pB,OAAS,IAE5FpL,KAAKm4D,WAAW,IAChBn4D,KAAK65D,eAAe1pB,IAIpB,yBAAyB+pB,EAAkCt7B,GAE/D,KAAAzzB,KAAKnL,KAAKqL,WAAWT,IAAI,KAAAO,KAAKnL,KAAKi0D,iBAAiBkG,IAAI,QAAS,IAAMv7B,GACvE,KAAAzzB,KAAKnL,KAAKqL,WAAWT,IAAI,KAAAO,KAAKnL,KAAKi0D,iBAAiB93C,GAAG,QAAS,IAAMyiB,EAAYtkB,IAE9E,KAAAnP,KAAKmP,EAAE6oB,QAAQr3B,KAAK,WAAY,YAChC,IAAIzJ,EAAUrC,KAAK+sC,aACfqtB,EAAQ,KAAAjvD,KAAKmP,EAAE0rB,eAAel6B,KAAK,cAC1B,MAATsuD,IACAA,EAAQ,KAAAjvD,KAAKmP,EAAE6oB,QAAQrG,QAAQ,aAAahxB,KAAK,eAErD,IAAImyC,EAAWj+C,KAAKm4D,aAAc7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBoO,GAAO,GAGlFC,EAAsC,IAAI,KAAAt4C,mBAC9C,OAAQm4C,EAAgBI,YAEpB,KAAK,KAAA9pD,mBAAmB3N,OACxB,KAAK,KAAA2N,mBAAmBi/C,WAGxB,KAAK,KAAAj/C,mBAAmBrI,KAGxB,KAAK,KAAAqI,mBAAmBslD,OAGxB,KAAK,KAAAtlD,mBAAmB7N,MACpB03D,EAAkBH,EAAgBl4C,qBAM1C,GAAuB,MAAnBq4C,EACJ,CACI,IAAIE,EAAkB,IAAIC,uBAC1BD,EAAgBtc,SAAWA,EAEI,MAA3Boc,EAAgBl+B,UAA+C,IAA5Bk+B,EAAgBpwB,QAER,MAAvCowB,EAAgB7U,qBAA+B6U,EAAgB7U,oBAAoBp6C,OAAS,EAE5F,KAAAqI,QAAQ4mD,EAAgB7U,qBAAqB3nC,KAAK,KAE9Cw8C,EAAiBl+B,QAASo+B,KAI9BF,EAAiBl+B,QAASo+B,GAEzBL,EAAgBI,YAAc,KAAA9pD,mBAAmBi/C,YACtDzvD,KAAKy6D,eAAexc,GAExBz5B,OAAOwa,WAAW,IAAM,KAAA7zB,KAAKmP,EAAE6oB,QAAQomB,WAAW,YAAa,KAGnE,OAAO,IAIP,iBAEJ,IAAImR,EAAc,CAAC16D,KAAK26D,aAAc36D,KAAK46D,WAAY56D,KAAK66D,aAAc76D,KAAK86D,YAAa96D,KAAK+6D,aACjG,IAAK,IAAIpwD,KAAW+vD,EAEhB/vD,EAAQ+O,QAAQ,CAACwgD,EAAkCt7B,KAE/C5+B,KAAKg7D,yBAAyBd,EAAiBt7B,KAK3D,qBAEI,OAAO5+B,KAAKwuD,oBAGhB,WAAW5O,EAAmBqb,GAAe,EAAOjC,GAAW,GAE3D,GAAiB,MAAbpZ,EACJ,CACI,IAAIv9C,EAAUrC,KAAK+sC,aAGnB,GAAI6S,EAAUx0C,OAAS,GAAiD,MAA5Cw0C,EAAU,GAAGv9C,EAAQ2pD,mBACjD,CACI,IAAInvC,GAAS,EACb,IAAK,IAAI6X,KAAQkrB,EAEblrB,EAAKryB,EAAQ2pD,mBAAsBnvC,EACnCA,IAEJ7c,KAAKywD,gBAAkB5zC,EAY3B,GAPA7c,KAAKk7D,sBAAsBtb,GAIJ,MAAnBv9C,EAAQwrD,SACR7tD,KAAKm7D,mBAAmBvb,GAEN,MAAlBv9C,EAAQ08C,OACZ,CACI,IAAI4O,EAAetrD,EAAQ08C,OAA4BE,MACvDj/C,KAAKisB,KAAK0hC,EAActrD,EAAQ08C,OAA4BzhB,WAAW,GAI3E,GADAt9B,KAAKwuD,oBAAsB,iBAAAxjD,eAAeoqC,UAAUwK,GAChDv9C,EAAQkqD,WACZ,CACIvsD,KAAK0wD,sBAAsB3iB,QAC3B,IAAK,IAAIigB,KAAU3rD,EAAQ+pD,QAEnB4B,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAClCzvD,KAAK0wD,sBAAsBv5B,IAAI62B,EAAO/O,MAAOW,EAAUhjC,IAAIsY,GAAK1L,OAAO0L,EAAE84B,EAAO/O,QAAQ3zB,gBAMhG0tC,IAEAh5D,KAAKu5D,gBAAkB,IAAIC,eAC3Bx5D,KAAKu5D,gBAAgBvX,cAAgBhiD,KAAKiiD,mBAC1CjiD,KAAKu5D,gBAAgBE,KAAOz5D,KAAK05D,eACjC15D,KAAKu5D,gBAAgBI,UAAY,KAAAxuD,KAAKnL,KAAKsC,aAAawZ,KAAK,cAAc,GAAGk2C,WAI9EiJ,GAEAj7D,KAAKi7D,cAAa,GAClBj7D,KAAKo7D,cAAcxb,KAIW,IAA1Bv9C,EAAQ8qD,cACRntD,KAAKo7D,cAAcxb,GAEnB5/C,KAAKw2D,cAAa,GAAOn0D,EAAQ8qD,eAO7C,OAHwB,MAApBntD,KAAKq7D,cACLr7D,KAAKq7D,YAAc,IAEhBr7D,KAAKq7D,YAGhB,OAAOC,GAAmB,EAAMtC,GAAW,GAGnCA,IAEAh5D,KAAKu5D,gBAAkB,IAAIC,eAC3Bx5D,KAAKu5D,gBAAgBvX,cAAgBhiD,KAAKiiD,mBAC1CjiD,KAAKu5D,gBAAgBE,KAAOz5D,KAAK05D,eACjC15D,KAAKu5D,gBAAgBI,UAAY,KAAAxuD,KAAKnL,KAAKsC,aAAawZ,KAAK,cAAc,GAAGk2C,WAIlFhyD,KAAKo7D,cAAcp7D,KAAKm4D,aAAcmD,GAGlC,cAAc1b,EAAkB0b,GAAmB,GAEvD,IAAIj5D,EAAUrC,KAAK+sC,aAGnB,GAFA/sC,KAAKq7D,YAAczb,EAEY,MAA3B5/C,KAAKu7D,oBAA+Bl5D,EAAQ8qD,cAW5C,GAPAntD,KAAK26D,aAAe,IAAIh0D,IACxB3G,KAAK46D,WAAa,IAAIj0D,IACtB3G,KAAK66D,aAAe,IAAIl0D,IACxB3G,KAAK86D,YAAc,IAAIn0D,IACvB3G,KAAK+6D,YAAc,IAAIp0D,IAGK,MAAxB3G,KAAKu5D,iBAA4Bl3D,EAAQ8qD,cAgBzCntD,KAAKw7D,UAAU5b,EAAW0b,GAC1Bt7D,KAAKy7D,qBAhBT,CACI,IAAIhC,EAAOz5D,KAAKu5D,gBAAgBE,KAC5BzX,EAAgBhiD,KAAKu5D,gBAAgBvX,cACrC2X,EAAY35D,KAAKu5D,gBAAgBI,UACrC35D,KAAKu5D,gBAAkB,KAEvBv5D,KAAK05D,aAAaD,GAAM,GACxBz5D,KAAKw7D,UAAU5b,EAAW0b,GAC1Bt7D,KAAKy7D,iBAELz7D,KAAK07D,WAAW1Z,OAAetkC,GAAW,GAC1C,KAAAvS,KAAKnL,KAAKsC,aAAawZ,KAAK,cAAck2C,UAAU2H,QAtBxD35D,KAAK27D,eAiCL,UAAU/b,EAAkB0b,GAAmB,GAEnD,IA0BIhkB,EACAskB,EACAC,EA5BAx5D,EAAUrC,KAAK+sC,aA2CnB,IA1CiC,kBAArB1qC,EAAgB,UAAkBrC,KAAK0uD,sBAC/CrsD,EAAQiqD,SAAW1M,EAAUx0C,QAGgB,GAA7C,KAAAD,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAAS1Q,OACnC,KAAAD,KAAKnL,KAAKqL,WAAWe,aAAa,oBAGlC,KAAAjB,KAAKnL,KAAKqL,WAAWyQ,KAAK,YAAYgvC,QACtC,KAAA3/C,KAAKnL,KAAKqL,WAAWyQ,KAAK,YAAY/F,IAAI,mBAAoB,KAG9D1T,EAAQ4qD,WAE8C,GAAlD,KAAA9hD,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,SAAS1Q,OACxC,KAAAD,KAAKnL,KAAKi0D,gBAAgB7nD,aAAa,oBAGvC,KAAAjB,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,YAAYgvC,QAC3C,KAAA3/C,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,YAAY/F,IAAI,mBAAoB,MAStE1T,EAAQ8qD,eAQT7V,EAAQsI,EACRgc,EAAa,EACbC,EAAYjc,EAAUx0C,OAAS,IAR/BwwD,GAAc57D,KAAK05D,eAAiB,GAAKr3D,EAAQiqD,SACjDuP,EAAY77D,KAAK05D,eAAiBr3D,EAAQiqD,SAC1ChV,EAAQsI,EAAUhtB,MAAMgpC,EAAYC,IAUpB,GAAhBvkB,EAAMlsC,OACV,CACI,IAAI0wD,EAAkB,GACtB,IAAK,IAAI9N,KAAU3rD,EAAQ+pD,QAEvB0P,EAAW9N,EAAO/O,OAAS,KAC3B6c,EAAuB,YAAI,EAE/BxkB,EAAM9jB,KAAKsoC,GAEa,GAApBlc,EAAUx0C,QACVw0C,EAAUpsB,KAAKsoC,OAGvB,CACI,IAAIA,EAAa,KAAA3wD,KAAKnL,KAAK6xD,UAAU/1C,KAAK,qCACtCggD,EAAW1wD,OAAS,IAEpB0wD,EAAWhgD,KAAK,MAAMgvC,QACtBgR,EAAWvS,WAAW,eAGtBjS,EAAMhiB,OAAOJ,GAAwB,MAAnBA,EAAc,YAAW9pB,OAAS,GACpDksC,EAAMtiB,OAAO,EAAG,GAEhB4qB,EAAUtqB,OAAOJ,GAAwB,MAAnBA,EAAc,YAAW9pB,OAAS,GACxDw0C,EAAU5qB,OAAO,EAAG,GAK5B,IAAI+mC,EAAiB,IACjB15D,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,WAE9B,KAAA1iD,KAAKnL,KAAKsC,aAAawZ,KAAK,mBAAmBzB,SAC/C,KAAAlP,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBzB,SACnDra,KAAK2wD,oBAAsB,GAC3BoL,EAAiB15D,EAAQ+pD,QAAS92B,OAAOJ,IAAkB,IAAbA,EAAE85B,SAIpD,IAAI5uD,EAAMiC,EAAQ8qD,cAAmE,GAAhDntD,KAAK05D,eAAiB,GAAKr3D,EAAQiqD,SACpElsD,EAAIw/C,EAAUx0C,SAEdhL,EAAI,EACJJ,KAAK05D,aAAa,GAAG,IAGzB,IAAI31B,EAAI,EACR,IAAK,IAAIi4B,KAAO1kB,EAChB,CACI,IAAI2G,EAAW2B,EAAUx/C,GACrB67D,EAAahe,EAAS57C,EAAQ2pD,mBAC9BoO,EAAQ,MAAQh6D,EAAI,IAAM67D,EAG1BC,EAAW,EACf,IAA0B,IAAtB75D,EAAQurD,WAA0C,MAAnBvrD,EAAQwrD,SAEgB,MAAlDxrD,EAAQwrD,QAAgCE,OAC7C,CACI,IAAIoO,EAAe,EACnB,IAAK,IAAIC,KAAkB/5D,EAAQwrD,QAAgCE,OACnE,CACI,IAAIsO,EAAYL,EAAKI,EAAiCnd,OAClD+O,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAAUmd,EAAiCnd,OAAO,GAE9F,GAAIj/C,KAAK2wD,oBAAqByL,EAAiCnd,SAAWod,EAC1E,CACI,GAAgB,GAAZH,EAEA,IAAK,IAAIh6D,EAAIi6D,EAAcj6D,EAAMG,EAAQwrD,QAAgCE,OAA6B3iD,OAAQlJ,IAE1GG,EAAQwrD,QAAUxrD,EAAQwrD,QAC1B7tD,KAAK2wD,oBAAqBtuD,EAAQwrD,QAAQE,OAA6B7rD,GAAG+8C,YAASvhC,EAK3F,IAAI4+C,EAAQ,KAAAnxD,KAAKnL,KAAKqL,WAAWyQ,KAAK,uBAAyBioB,EAAIm4B,GAAY,KAAK,GAChFK,EAAgC,KAEhCC,EAAQ,KAAArxD,KAAK,eAA+B,MAAbkxD,GAAmC,KAAdA,EAAoB,WACxEr8D,KAAKy8D,4BAA4BJ,IAC/B,YAAcF,EAAe,8CAG/BI,EADS,MAATD,EACYE,EAAMlmD,eAAe,KAAAnL,KAAKnL,KAAKqL,WAAWyQ,KAAK,UAAU,GAEzD0gD,EAAMziC,mBAAmBuiC,GAAO,GAEhD,KAAAnxD,KAAKoxD,GAAW/gD,OAAOnZ,EAAQ8pD,WAE/B,IAAIuQ,EAAkB,KACtB,GAAIr6D,EAAQ4qD,SACZ,CACI,IAAI0P,EAAc,KAAAxxD,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,uBAAyBioB,EAAIm4B,GAAY,KAAK,GAC3FM,EAAQ,KAAArxD,KAAK,eAA+B,MAAbkxD,GAAmC,KAAdA,EAAoB,WACxEr8D,KAAKy8D,4BAA4BJ,IAC/B,YAAcF,EAAe,mEAG/BO,EADe,MAAfC,EACkBH,EAAMlmD,eAAe,KAAAnL,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,UAAU,GAE9D0gD,EAAMziC,mBAAmB4iC,GAAa,GAE5D,KAAAxxD,KAAKuxD,GAAiBlhD,OAAOnZ,EAAQ8pD,WAKzC,GADA+P,IACIC,EAAe,EAEf,IAAK,IAAIj6D,EAAI,EAAGA,EAAIi6D,EAAcj6D,IAE9B,KAAAiJ,KAAKoxD,GAAYnwD,aAAa,8BAAgCgwD,EAAe,WACzE/5D,EAAQ4qD,UAAU,KAAA9hD,KAAKuxD,GAAkBtwD,aAAa,8BAAgCgwD,EAAe,WAKjH,IAAIQ,EAAWpzC,OAAO6yC,GACR,MAAVrO,IAEIA,EAAOhlD,MAAQ,KAAAwH,mBAAmB6S,KAClCu5C,EAA4D,MAAhDZ,EAAKI,EAAiCnd,OAAkB,GAAK57B,KAAKiG,gBAAgB0yC,EAAKI,EAAiCnd,QAAQrxB,kBACvIogC,EAAOhlD,MAAQ,KAAAwH,mBAAmBulD,UAAY/H,EAAOhlD,MAAQ,KAAAwH,mBAAmBwlD,UACrF4G,EAAY5G,QAAQgG,EAAKI,EAAiCnd,QAAW,KAAO,OAGpF,IAAI4d,EAAUd,EAAe3wD,OAAS+wD,EAAiB95D,EAAQwrD,QAAgCE,OAA6B3iD,OACxH/I,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,OAC3CyqC,GAAW,GAEf,IAAIC,EAAqBF,EAIzB,GAHsD,MAAjDR,EAAiCrN,eAClC+N,EAAqBd,EAAKI,EAAiCrN,eAET,MAAjDqN,EAAiCW,aACtC,CACI,IAAIC,EAA2B,IAAI,KAAA17C,2BACnC07C,EAAyBlyB,OAAS9qC,KAClCg9D,EAAyB/e,SAAW+d,EACpCgB,EAAyB/d,MAASmd,EAAiCnd,MACnE+d,EAAyBjO,aAAgBqN,EAAiCrN,aAC1E+N,EAAsBV,EAAiCW,aAAcC,GAG/C,MAAtBF,IAA4BA,EAAqBF,GAErD,IAAIK,EAAe,KAAAvwD,iBAAiBkrC,UAChCslB,EAAel9D,KAAKm9D,qBAAqBZ,EAAYv8D,KAAK6xD,UAC1D7xD,KAAKo0D,0BACL8I,EAAel9D,KAAKm9D,qBAAqBZ,EAAYv8D,KAAK4xD,iBAE1D5xD,KAAK05D,eAAiB,IAAM,KAAAvuD,KAAK+xD,EAAaE,QAAQ/oC,WAAWxoB,GAAG,cACpEoxD,EAAe,KAAAvwD,iBAAiBqvC,YAEpC,IAAIhpC,EAAO,qDAAuDqpD,EAAvD,0FACiCa,EADjC,+EAEiEJ,EAAU,sCAC1D,GAApBjd,EAAUx0C,QAA6C,MAA9Bw0C,EAAU,GAAe,WAAa,oCAA6D,MAAtBkd,GAAqD,KAAvBA,GAAmD,QAAtBA,EAAgC,gBAAkBA,GACrN,UAC8B,MAA5Bz6D,EAAQg7D,kBAA6E,MAAhDjB,EAAiCkB,YAAuB,4EAAqG,IAAvBj7D,EAAQoJ,WAAwB,aAAe,IAAM,gCAAkC,KAAAiB,iBAAiB6wD,OAAS,wCAA0C,IACxU,QAUN,GATA,KAAApyD,KAAKoxD,GAAWnwD,aAAa2G,GACzB1Q,EAAQ4qD,UAAU,KAAA9hD,KAAKuxD,GAAiBtwD,aAAa2G,GACzD/S,KAAK2wD,oBAAqByL,EAAiCnd,OAASod,EAEhEr8D,KAAKo0D,yBACL,KAAAjpD,KAAKoxD,GAAWzgD,KAAK,sBAAsBqkC,SAASttC,OAIpDxQ,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAC/C,CACI,IAAIorC,EAAoB,KAAAryD,KAAKoxD,GAAWzgD,KAAK,2BAA2B,GACpE9b,KAAKo0D,0BACLoJ,EAAoB,KAAAryD,KAAKuxD,GAAiB5gD,KAAK,2BAA2B,IAE9E,KAAAhY,eACI,CACIg4B,aAAc,qBACd+e,QAAUvgC,IAEN,IAAImjD,EAAiBnjD,EAAEwwB,OAAOz/B,UAAUqyD,cAAeA,cAAeA,cAAeA,cACjFR,EAAel9D,KAAKm9D,qBAAqBM,EAAgBz9D,KAAK6xD,UAC9D7xD,KAAKo0D,0BACL8I,EAAel9D,KAAKm9D,qBAAqBM,EAAgBz9D,KAAK4xD,iBAElE,IAAK,IAAI+L,KAAYT,EAAa3iD,SAClC,CACI,IAAIqjD,EAAwB,KAAAzyD,KAAKwyD,GAAU7xD,KAAK,MAChD,GAA6B,MAAzB8xD,GAAiCA,EAAsBxyD,OAAS,EACpE,CACI,IAAI6wD,EAAa2B,EAAsBjxC,MAAM,KAAK,GAClD,GAAIrS,EAAEwgC,QACN,CACmB,KAAA3vC,KAAKwyD,GAAU7hD,KAAK,uBAAuB,GAC7Cg/B,SACT96C,KAAK69D,YAAY5B,GAEzBj8D,KAAK89D,kBAAkB7B,GAAY,GAAM,GAAM,GAAO,GAAM,GAAO,OAIhFuB,EAAmB,KAAAtxD,oBAAoBqvB,QAKlD,KAAApwB,KAAKoxD,GAAWzgD,KAAK,6BAA6BlR,IAAI,KAAAO,KAAKuxD,GAAiB5gD,KAAK,8BAA8B8mB,MAAOtoB,IAGlH,IACIyjD,EADO,KAAA5yD,KAAKmP,EAAE0rB,eAAelqB,KAAK,KAClBwiB,SAAS,iBAIzB4+B,EAAel9D,KAAKm9D,qBAAqB7iD,EAAE0rB,cAAc03B,cAA+B19D,KAAK6xD,UACjGqL,EAAaE,QAAQxoC,YAAY50B,KAAKm9D,qBAAqB7iD,EAAE0rB,cAAc03B,cAA+B19D,KAAK4xD,gBAAgBwL,SAE/H,IAAK,IAAIO,KAAYT,EAAaE,QAE9B,GAAIW,EACA,KAAA5yD,KAAKwyD,GAAU9qD,WAEnB,CACI,KAAA1H,KAAKwyD,GAAUzhD,OAGf,IAAI8hD,EAAe,KAAA7yD,KAAKwyD,GAAU7hD,KAAK,4BACvCkiD,EAAan/B,YAAY,KAAAnyB,iBAAiBqvC,YAC1CiiB,EAAaljC,SAAS,KAAApuB,iBAAiBkrC,WAO/C,IAAIqmB,EAAY,KAAA9yD,KAAKmP,EAAE0rB,cAAc03B,eAAgB7gD,QAAU,EAC3DqhD,EAAa,KAAA/yD,KAAK,KAAAA,KAAKnL,KAAK6xD,UAAU/1C,KAAK,gBAAkBmiD,EAAY,KAAKniD,KAAK,KAAK,IAC5F,GAAIiiD,GAKA,GAHAG,EAAWr/B,YAAY,KAAAnyB,iBAAiBkrC,WACxCsmB,EAAWpjC,SAAS,KAAApuB,iBAAiBqvC,YAEjC15C,EAAQ4qD,SACZ,CACI,IAAIkR,EAAa,KAAAhzD,KAAK,KAAAA,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,gBAAkBmiD,EAAY,KAAKniD,KAAK,KAAK,IAClGqiD,EAAWt/B,YAAY,KAAAnyB,iBAAiBkrC,WACxCumB,EAAWrjC,SAAS,KAAApuB,iBAAiBqvC,kBAQzC,GAHAmiB,EAAWr/B,YAAY,KAAAnyB,iBAAiBqvC,YACxCmiB,EAAWpjC,SAAS,KAAApuB,iBAAiBkrC,WAEjCv1C,EAAQ4qD,SACZ,CACI,IAAIkR,EAAa,KAAAhzD,KAAK,KAAAA,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,gBAAkBmiD,EAAY,KAAKniD,KAAK,KAAK,IAClGqiD,EAAWt/B,YAAY,KAAAnyB,iBAAiBqvC,YACxCoiB,EAAWrjC,SAAS,KAAApuB,iBAAiBkrC,WAK7C,GAAqC,MAAjCv1C,EAAQ+7D,uBAAuF,MAArDhC,EAAiCiC,iBAC/E,CACI,IAAIC,EAAsB,IAAI,KAAA/8C,6BAC9B+8C,EAAoBxzB,OAAS9qC,KAC7Bs+D,EAAoBlC,aAAeA,EAAand,MAChDqf,EAAoBC,oBAAsBnC,EAAarN,aACvDuP,EAAoBP,SAAWA,EAE/BO,EAAoBj9D,MAAQ26D,EAAKI,EAAiCnd,OACZ,MAAjDmd,EAAiCrN,eAClCuP,EAAoBvB,aAAef,EAAKI,EAAiCrN,eAE7E,IAAI9R,EAAuB,GAC3B,IAAK,IAAI0gB,KAAYT,EAAaE,QAClC,CACI,IAAInB,EAAa,KAAA9wD,KAAKwyD,GAAU7xD,KAAK,cACjCmyC,EAAWj+C,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBiQ,GAAY,GAC1Fhf,EAAczpB,KAAKyqB,GAEvBqgB,EAAoBrhB,cAAgBA,EACpCqhB,EAAoBpB,aAAeA,EAAaE,QAEX,MAAjC/6D,EAAQ+7D,sBACR/7D,EAAQ+7D,sBAAsBE,GAC6B,MAArDlC,EAAiCiC,kBACtCjC,EAAiCiC,iBAAkBC,MAMhE,KAAAnzD,KAAKoxD,GAAWzgD,KAAK,qBAAqBlR,IAAI,KAAAO,KAAKuxD,GAAiB5gD,KAAK,sBAAsB8mB,MAAOtoB,IAElG,GAAgC,MAA5BjY,EAAQg7D,kBAA6E,MAAhDjB,EAAiCkB,YAC1E,CACI,IAAIkB,EAAiB,IAAI,KAAAh9C,wBACzBg9C,EAAe1zB,OAAS9qC,KACxBw+D,EAAepC,aAAeA,EAAand,MAC3Cuf,EAAeD,oBAAsBnC,EAAarN,aAElDyP,EAAen9D,MAAQ26D,EAAKI,EAAiCnd,OACP,MAAjDmd,EAAiCrN,eAClCyP,EAAezB,aAAef,EAAKI,EAAiCrN,eAExE,IAAImO,EAAel9D,KAAKm9D,qBAAqB7iD,EAAE0rB,cAAc03B,cAA+B19D,KAAK6xD,UAC7F5U,EAAuB,GAC3B,IAAK,IAAI0gB,KAAYT,EAAaE,QAClC,CACI,IAAInB,EAAa,KAAA9wD,KAAKwyD,GAAU7xD,KAAK,cACjCmyC,EAAWj+C,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBiQ,GAAY,GAC1Fhf,EAAczpB,KAAKyqB,GAEvBugB,EAAevhB,cAAgBA,EAC/BuhB,EAAetB,aAAeA,EAAaE,QAEX,MAA5B/6D,EAAQg7D,iBACRh7D,EAAQg7D,iBAAiBmB,GAC6B,MAAhDpC,EAAiCkB,aACtClB,EAAiCkB,YAAakB,MAK/DrC,KAIZp4B,GAAKm4B,EAGL,IAAIuC,GAAW,EACXC,EAAK,KAAAvzD,KAAKnL,KAAKqL,WAAWyQ,KAAK,uBAAyBioB,EAAI,KAAK,GAC3D,MAAN26B,IAEAA,EAAK1yD,SAAS4b,cAAc,MAC5B62C,GAAW,GAEf,KAAAtzD,KAAKuzD,GAAI5jC,SAAS,eAClB,KAAA3vB,KAAKuzD,GAAI5yD,KAAK,KAAMsuD,GACpB,KAAAjvD,KAAKuzD,GAAI5yD,KAAK,aAAcmwD,GAC5B,KAAA9wD,KAAKuzD,GAAI5yD,KAAK,MAAO1L,GAErB,IAAIu+D,EAAW,KACXC,GAAiB,EAgBrB,GAfIv8D,EAAQ4qD,WAER0R,EAAW,KAAAxzD,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,uBAAyBioB,EAAI,KAAK,GAC5D,MAAZ46B,IAEAA,EAAW3yD,SAAS4b,cAAc,MAClCg3C,GAAiB,GAErB,KAAAzzD,KAAKwzD,GAAU7jC,SAAS,eACxB,KAAA3vB,KAAKwzD,GAAU7yD,KAAK,KAAMsuD,GAC1B,KAAAjvD,KAAKwzD,GAAU7yD,KAAK,aAAcmwD,GAClC,KAAA9wD,KAAKwzD,GAAU7yD,KAAK,MAAO1L,IAI3BiC,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAC/C,CACI,IAAIvV,EAASxa,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAAoB,EAAIxrD,EAAQ+pD,QAAShhD,OAAU,EAC1FyzD,GAAoB,EACpBC,EAAa,KAGbA,EADA9+D,KAAKo0D,wBACQ,KAAAjpD,KAAKwzD,GAAU7iD,KAAK,iBAAmBe,EAAQ,KAAK,GAEpD,KAAA1R,KAAKuzD,GAAI5iD,KAAK,iBAAmBe,EAAQ,KAAK,GAE7C,MAAdiiD,IAEAA,EAAa9yD,SAAS4b,cAAc,MACpCi3C,GAAoB,GAExBC,EAAWrjD,MAAMC,SAAW,gCAE5B,KAAAvQ,KAAK2zD,GAAYhzD,KAAK,QAAS,IAC/B,KAAAX,KAAK2zD,GAAYhkC,SAAS,0BAC1B,KAAA3vB,KAAK2zD,GAAYhzD,KAAK,QAAS,wBAE/B,IAAIopD,EAAW,sBAAwB+G,EAAa,SAAW7B,EAAhD,6KACuFA,EAAQ,4BAC9G0E,EAAWh9B,UAAYozB,EAEvB,KAAA/pD,KAAK2zD,GAAY/oD,IAAI,aAAc,UAE/B8oD,IAEI7+D,KAAKo0D,wBACL,KAAAjpD,KAAKwzD,GAAUvyD,aAAa0yD,GAE5B,KAAA3zD,KAAKuzD,GAAItyD,aAAa0yD,IAG9B,KAAA3zD,KAAK2zD,GAAY3E,IAAI,SACrB,KAAAhvD,KAAK2zD,GAAYl8B,MAAOtoB,IAEhBA,EAAEywB,UAAY1oC,EAAQoJ,YAAc,KAAAwE,qBAAqBi9C,WACzDltD,KAAK++D,oBAAoBzkD,EAAE6oB,QAE3BnjC,KAAK89D,kBAAkB7B,GAAY,GAAM,GAAO,GAAO,GAAM,GAAO,KAMhF,IAAI/mC,EAAK7yB,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAAQ,EAAI,GAC5D/vB,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,WAC9B34B,GAAK7yB,EAAQ+pD,QAAShhD,QAE1B,IAAK,IAAI4iD,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAI4S,GAAY,EACZnJ,EAAK,KAAA1qD,KAAKuzD,GAAI5iD,KAAK,iBAAmBoZ,EAAI,KAAK,GACzC,MAAN2gC,IAEAA,EAAK7pD,SAAS4b,cAAc,MAC5Bo3C,GAAY,GAGhB,IAAIC,EAAW,KACXC,GAAkB,EAClB78D,EAAQ4qD,WAERgS,EAAW,KAAA9zD,KAAKwzD,GAAU7iD,KAAK,iBAAmBoZ,EAAI,KAAK,GAC3C,MAAZ+pC,IAEAA,EAAWjzD,SAAS4b,cAAc,MAClCs3C,GAAkB,IAI1B,IAAIjgB,EAAQ+O,EAAO/O,MACnB,KAAA9zC,KAAK0qD,GAAI/pD,KAAK,QAASkiD,EAAO/O,OAC9B,KAAA9zC,KAAK0qD,GAAI/pD,KAAK,QAASmzC,GACvB4W,EAAGp6C,MAAMC,SAAW,gCAEhBrZ,EAAQ4qD,WAER,KAAA9hD,KAAK8zD,GAAUnzD,KAAK,QAASkiD,EAAO/O,OACpC,KAAA9zC,KAAK8zD,GAAUnzD,KAAK,QAASmzC,GAC7BggB,EAAUxjD,MAAMC,SAAW,iCAI/B,IAAIH,EAAyB,MAAhByyC,EAAOzyC,MAAkByyC,EAAY,MAAyB,GAAnBA,EAAO0B,SAAoB1vD,KAAK00D,0BAA4B,IAAO1G,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,IAYhL,GAXA,KAAAtkD,KAAK0qD,GAAI/pD,KAAK,QAASyP,GACnBlZ,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUnzD,KAAK,QAASyP,GAE5B,GAAnByyC,EAAO0B,WAEP,KAAAvkD,KAAK0qD,GAAI/pD,KAAK,WAAY,QACtBzJ,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUnzD,KAAK,WAAY,UAKpC,IAAlBkiD,EAAOgB,OACX,CACI6G,EAAGp6C,MAAMu5C,QAAU,OACfgK,GACA,KAAA7zD,KAAKuzD,GAAItyD,aAAaypD,GAEtBxzD,EAAQ4qD,WAERgS,EAAUxjD,MAAMu5C,QAAU,OACtBkK,GACA,KAAA/zD,KAAKwzD,GAAUvyD,aAAa6yD,IAGpC/pC,IACA,SAIA2gC,EAAGp6C,MAAMu5C,QAAU,aACf3yD,EAAQ4qD,WAAUgS,EAAUxjD,MAAMu5C,QAAU,cAI/C3yD,EAAQ4pD,gBAET,KAAA9gD,KAAK0qD,GAAI/6B,SAAS,0BACdz4B,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUnkC,SAAS,2BAIlD,IAAIc,EAAY,KAAArrB,cAAc+qB,KAC1B45B,EAA0B,MAAd8G,EAAI/c,GAAkB,GAAKz1B,OAAOwyC,EAAI/c,IAGtD,OAAQ+O,EAAOhlD,MAGX,KAAK,KAAAwH,mBAAmBqiC,iBACpB,CACI,IAAItnB,EAAS,GACb,IAAK,IAAI4zC,KAAQjK,EACb3pC,GAAU,IAEd2pC,EAAW3pC,EAEf,MAIJ,KAAK,KAAA/a,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACpB,CACIq4B,EAAY,KAAArrB,cAAckrB,MAC1B,IAAIq8B,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EAO5E,GANI9J,EAAOhlD,MAAQ,KAAAwH,mBAAmB/M,UAAYuqD,EAAOhlD,MAAQ,KAAAwH,mBAAmBjN,aAChFu0D,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,GAEjD,MAAvB9J,EAAO6J,eAAsB7J,EAAO6J,aAAe,IAAIuH,kBACrB,MAAlCpR,EAAO6J,aAAawH,aAAoBrR,EAAO6J,aAAawH,YAAa,GAE5D,KAAbnK,IAAsD,IAAnClH,EAAO6J,aAAawH,WACvCnK,EAAW,OAEf,CAEIA,EADqBl1D,KAAKwrC,YAAY/Z,OAAOyjC,GAAWlH,EAAOhlD,KAAM8uD,EAAe9J,EAAOhlC,mBAInG,MACJ,KAAK,KAAAxY,mBAAmBglD,SAMhB,GAJA55B,EAAY,KAAArrB,cAAc8nC,OACC,MAAvB2V,EAAO6J,eAAsB7J,EAAO6J,aAAe,IAAIuH,kBACrB,MAAlCpR,EAAO6J,aAAawH,aAAoBrR,EAAO6J,aAAawH,YAAa,GAE5D,KAAbnK,IAAsD,IAAnClH,EAAO6J,aAAawH,WACvCnK,EAAW,OAEf,CAEIA,EADqBl1D,KAAKwrC,YAAY/Z,OAAOyjC,GAAWlH,EAAOhlD,MAIvE,MAIJ,KAAK,KAAAwH,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI0N,EAAY,KAAArrB,cAAc8nC,OAC1B,IAAIhvB,EAAO,IAAIhG,KAAK6xC,GAEpBA,EADqBl1D,KAAKwrC,YAAYniB,EAAM2kC,EAAOhlD,UAAM0U,OAAWA,EAAWswC,EAAOngC,aAG1F,MAIJ,KAAK,KAAArd,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QACpB,CACI,IAAIlb,EAAyB,MAAdkhB,EAAI/c,IAAyC,GAAvB+W,QAAQgG,EAAI/c,IAAmB,oBAAsB,GAE1FrjB,EAAY,KAAArrB,cAAc8nC,OAC1B6c,EAAW,UAAYpa,EAAU,oCAAsCmhB,EAAa,SAAW7B,EAAQ,IAAMpM,EAAO/O,MAAzG,4FAC4Cmb,EAAQ,IAAMpM,EAAO/O,MAAQ,aAExF,MAIJ,KAAK,KAAAzuC,mBAAmB3N,OACxB,KAAK,KAAA2N,mBAAmBi/C,WACpB,CACI,IAAI6P,EAAiB,KACrB1jC,EAAY,KAAArrB,cAAc8nC,OAE1B,IAAIzZ,EAAY,OAASovB,EAAO/O,MAAQ,IAAMmb,EAG9C,GAA6B,MAAzBpM,EAAOsR,gBAAmE,MAAxCrhB,EAAS57C,EAAQ2pD,mBACvD,CACI,IAAIhO,EAAgB,IAAIuhB,kBACxBvhB,EAAcC,SAAWA,EACzBD,EAAcpf,UAAYA,EAC1Bof,EAAc3yC,QAAUwqD,EACxB7X,EAAc8M,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACxCsT,EAAiBtR,EAAOsR,eAAethB,GAGrB,MAAlBshB,IAEAA,EAAiB,IAAI,KAAAv9C,mBACrBu9C,EAAevsD,KAAO,GACtBusD,EAAej+D,MAAQ2sD,EAAO/O,OAIlC,IAAIugB,EAAY,mBACZC,EAAc,uBAGoB,GAAlCH,EAAeI,kBACfF,GAAa,2CAEW,MAAxBF,EAAepkD,QACfskD,GAAa,UAAYF,EAAepkD,MAAQ,KACd,MAAlCokD,EAAelc,kBACfoc,GAAa,qBAAuBF,EAAelc,gBAAkB,KAI/C,MAAtBkc,EAAevpD,MACfypD,GAAaF,EAAevpD,KAEJ,MAAxBupD,EAAeppD,QACfupD,GAAe,IAAMH,EAAeppD,OAIxC,IAAI8E,EAAagzC,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,KAAA/iD,iBAAiB6wD,OAAS,GACvFoC,EAAW,GACY,MAAvBL,EAAevkD,OACfC,EAAYskD,EAAevkD,MAE/B,IAAIy4B,EAAW,GACXosB,EAAY,GAIhB,GAH+B,MAA3BN,EAAe9rB,WACfA,EAAW8rB,EAAe9rB,UAE1Bx4B,EAAU5P,OAAS,EACvB,CAEIu0D,EAAW,iBAD+B,MAAvBL,EAAevsD,KAAgB,qBAAuB,IAC9B,sBAAwBiI,EAAY,sBAE9E,GAAIw4B,EAASpoC,OAAS,EAC3B,CAEIw0D,EAAY,gBAD8B,MAAvBN,EAAevsD,KAAgB,qBAAuB,IAC9B,UAAYygC,EAAW,OAKtE,IAAIp9B,EAAW43C,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,+BAAiC,GAClE,MAA1B6P,EAAelpD,UACfA,EAAUkpD,EAAelpD,SAIzB43C,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,aAClC+P,GAAa,gBAIjB,IAAIK,EAAW,IACgB,IAA3BP,EAAer1B,UAEf41B,EAAW,wBACXL,GAAa,kCAIjBx/D,KAAK26D,aAAaxjC,IAAIyH,EAAW,CAAE5c,qBAAsBs9C,EAAgBhF,WAAYtM,EAAOhlD,OAE5F,IAAI82D,EAAqC,MAAvBR,EAAevsD,KAAgBusD,EAAevsD,KAAO,GACvEmiD,EAAW,kBAAoB9+C,EAAU,YAAcopD,EAAY,YAAcC,EAAc,IAAM7gC,EAAY,iBAAmBq9B,EAAa,SAAW7B,EAAQ,IAAMpM,EAAO/O,MAAQ,IAAM4gB,EAAW,IAAMF,EAAWC,EAAYE,EAAa,aAErN,IAA3BR,EAAeljC,UACf84B,EAAW,IAEnB,MAIJ,KAAK,KAAA1kD,mBAAmBslD,OACpB,CACI,IAAIiK,EAAiB,KACrBnkC,EAAY,KAAArrB,cAAc8nC,OAE1B,IAAIzZ,EAAY,OAASovB,EAAO/O,MAAQ,IAAMmb,EAG9C,GAA6B,MAAzBpM,EAAO+R,gBAAmE,MAAxC9hB,EAAS57C,EAAQ2pD,mBACvD,CACI,IAAIhO,EAAgB,IAAIuhB,kBACxBvhB,EAAcC,SAAWA,EACzBD,EAAcpf,UAAYA,EAC1Bof,EAAc3yC,QAAUwqD,EACxB7X,EAAc8M,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACxC+T,EAAiB/R,EAAO+R,eAAe/hB,GAGrB,MAAlB+hB,IAEAA,EAAiB,IAAIC,mBACrBD,EAAe1+D,MAAQ2sD,EAAO/O,MAC9B8gB,EAAehiB,SAAW,eAG9B,IAAIyhB,EAAY,GACU,MAAtBO,EAAehqD,MACfypD,GAAaO,EAAehqD,KAGhC/V,KAAK66D,aAAa1jC,IAAIyH,EAAW,CAAE5c,qBAAsB+9C,EAAgBzF,WAAYtM,EAAOhlD,OAC5D,KAA5B+2D,EAAehiB,WACfmX,EAAW,eAAiBsK,EAAY,KAAOO,EAAehiB,SAAW,WAE9C,IAA3BgiB,EAAe3jC,UACf84B,EAAW,IAEnB,MAIJ,KAAK,KAAA1kD,mBAAmBrI,KACpB,CACI,IAAI86C,EAAe,KACnBrnB,EAAY,KAAArrB,cAAc8nC,OAE1B,IAAIzZ,EAAY,OAASovB,EAAO/O,MAAQ,IAAMmb,EAG9C,GAA2B,MAAvBpM,EAAO/K,cAAiE,MAAxChF,EAAS57C,EAAQ2pD,mBACrD,CACI,IAAIhO,EAAgB,IAAIuhB,kBACxBvhB,EAAcC,SAAWA,EACzBD,EAAcpf,UAAYA,EAC1Bof,EAAc3yC,QAAUwqD,EACxB7X,EAAc8M,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACxC/I,EAAe+K,EAAO/K,aAAajF,GAGnB,MAAhBiF,IAEAA,EAAe,IAAIgd,iBACnBhd,EAAa5hD,MAAQ2sD,EAAO/O,OAIhC,IAAIugB,EAAY,GACZU,EAAkB,GAGI,MAAtBjd,EAAa/nC,QACbskD,GAAa,UAAYvc,EAAa/nC,MAAQ,KAI1B,MAApB+nC,EAAaltC,MACbypD,GAAavc,EAAaltC,KAEJ,MAAtBktC,EAAa/sC,QACbgqD,GAAmB,IAAMjd,EAAa/sC,OAI1C,IAAIE,EAAU,GACc,MAAxB6sC,EAAa7sC,UACbA,EAAU6sC,EAAa7sC,SAIC,MAAxB6sC,EAAa9mB,UAA4C,IAAzB8mB,EAAahZ,UAC7Cu1B,GAAa,oBAIjB,IAAIzkD,EAAO,GACPy4B,EAAW,GACU,MAArByP,EAAaloC,KACbA,EAAO,oBAAsBkoC,EAAaloC,KAAO,SACnB,MAAzBkoC,EAAazP,SAClBA,EAAW,aAAeyP,EAAazP,SAAW,OAElDz4B,EAAO,oBAAsBihD,EAAI/c,GAAS,SAG9Cj/C,KAAK46D,WAAWzjC,IAAIyH,EAAW,CAAE5c,qBAAsBihC,EAAcqX,WAAYtM,EAAOhlD,OAExFksD,EAAW,gBAAkB9+C,EAAU,YAAcopD,EAAY,YAAcU,EAAkB,IAAMthC,EAAY,iBAAmBq9B,EAAa,SAAW7B,EAAQ,IAAMpM,EAAO/O,MAAQ,KAAOlkC,EAAOy4B,EAAW,WAEvL,IAAzByP,EAAa7mB,UACb84B,EAAW,IAEnB,MAIJ,KAAK,KAAA1kD,mBAAmBrM,MACpB,CACI,IAAIg8D,EAAgB,KACpBvkC,EAAY,KAAArrB,cAAc8nC,OAE1B,IAAIzZ,EAAY,OAASovB,EAAO/O,MAAQ,IAAMmb,EAG9C,GAA4B,MAAxBpM,EAAOmS,eAAkE,MAAxCliB,EAAS57C,EAAQ2pD,mBACtD,CACI,IAAIhO,EAAgB,IAAIuhB,kBACxBvhB,EAAcC,SAAWA,EACzBD,EAAcpf,UAAYA,EAC1Bof,EAAc3yC,QAAUwqD,EACxB7X,EAAc8M,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACxCmU,EAAgBnS,EAAOmS,cAAcniB,GAGpB,MAAjBmiB,IAEAA,EAAgB,IAAIC,kBACpBD,EAAc9+D,MAAQ2sD,EAAO/O,OAIjC,IAAIugB,EAAY,GACZa,EAAmB,GAGE,MAArBF,EAAcpqD,MACdypD,GAAaW,EAAcpqD,KAEJ,MAAvBoqD,EAAcjqD,QACdmqD,GAAoB,IAAMF,EAAcjqD,OAI5C,IAAIE,EAAU,GACe,MAAzB+pD,EAAc/pD,UACdA,EAAU+pD,EAAc/pD,SAIC,MAAzB+pD,EAAchkC,UAA6C,IAA1BgkC,EAAcl2B,UAC/Cu1B,GAAa,oBAIjB,IAAIhsB,EAAW0hB,EACe,MAA1BiL,EAAc3sB,WACdA,EAAW2sB,EAAc3sB,UAG7BxzC,KAAK+6D,YAAY5jC,IAAIyH,EAAW,CAAE5c,qBAAsBm+C,EAAe7F,WAAYtM,EAAOhlD,OAE1F,IAAI2b,EAAM6uB,EACuB,MAA7B2sB,EAAc7rD,cACdqQ,EAAM,yBAA2Bw7C,EAAc7rD,aAEnD4gD,EAAW,eAAiB9+C,EAAU,YAAcopD,EAAY,YAAca,EAAmB,IAAMzhC,EAAY,iBAAmBq9B,EAAa,SAAW7B,EAAQ,IAAMpM,EAAO/O,MAAQ,UAAYt6B,EAAM,QAE/K,IAA1Bw7C,EAAc/jC,UACd84B,EAAW,IAEnB,MAIJ,KAAK,KAAA1kD,mBAAmB7N,MACpB,CACI,IAAIq4B,EAAgB,KACpBY,EAAY,KAAArrB,cAAc+qB,KAE1B,IAAIsD,EAAY,OAASovB,EAAO/O,MAAQ,IAAMmb,EAG9C,GAA4B,MAAxBpM,EAAOhzB,eAAkE,MAAxCijB,EAAS57C,EAAQ2pD,mBACtD,CACI,IAAIhO,EAAgB,IAAIuhB,kBACxBvhB,EAAcC,SAAWA,EACzBD,EAAcpf,UAAYA,EAC1Bof,EAAc3yC,QAAUwqD,EACxB7X,EAAc8M,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACxChxB,EAAgBgzB,EAAOhzB,cAAcgjB,GAGpB,MAAjBhjB,IAEAA,EAAgB,IAAIslC,kBACpBtlC,EAAc35B,MAAQ2sD,EAAO/O,OAIjC,IAAIugB,EAAY,GAGW,MAAvBxkC,EAAc9f,QACdskD,GAAa,UAAYxkC,EAAc9f,MAAQ,KAI1B,MAArB8f,EAAcjlB,MACdypD,GAAaxkC,EAAcjlB,KAI/B,IAAIK,EAAU,GACe,MAAzB4kB,EAAc5kB,UACdA,EAAU4kB,EAAc5kB,SAIC,MAAzB4kB,EAAcmB,UAA6C,IAA1BnB,EAAciP,UAC/Cu1B,GAAa,oBAIS,MAAtBxkC,EAAce,OACdyjC,GAAa,qBAIjB,IAAIe,EAAmB,GACvB,GAAmC,MAA/BvlC,EAAckB,cAEd,OAAQlB,EAAckB,eAElB,KAAK,KAAAzrB,uBAAuB+vD,OAAQhB,GAAa,6BAA8B,MAC/E,KAAK,KAAA/uD,uBAAuB2hB,KAAMotC,GAAa,wBAAyB,MACxE,KAAK,KAAA/uD,uBAAuBgkC,QAAS8rB,EAAmB,mBAMrC,IAAvBvlC,EAAcylC,OACdjB,GAAa,mEAGjBx/D,KAAK86D,YAAY3jC,IAAIyH,EAAW,CAAE5c,qBAAsBgZ,EAAes/B,WAAYtM,EAAOhlD,OAE1FksD,EAAW,iBAAmB9+C,EAAU,YAAcopD,EAAY,YAAc5gC,EAAY,IAAM2hC,EAAmB,iBAAmBtE,EAAa,SAAW7B,EAAQ,IAAMpM,EAAO/O,MAAQ,KAAOjkB,EAAcjoB,KAAO,YAE3L,IAA1BioB,EAAcoB,UACd84B,EAAW,IAEnB,MAIJ,KAAK,KAAA1kD,mBAAmBrL,SACxB,KAAK,KAAAqL,mBAAmBkwD,aACxB,KAAK,KAAAlwD,mBAAmBmwD,aACxB,KAAK,KAAAnwD,mBAAmBowD,uBAEhBhlC,EAAY,KAAArrB,cAAc+qB,KACC,MAAvB0yB,EAAOe,eACPmG,EAAW8G,EAAIhO,EAAOe,eAE9B,MAIJ,KAAK,KAAAv+C,mBAAmB4B,MAEhBwpB,EAAY,KAAArrB,cAAc8nC,OACtB6c,EAAShhC,uBACTghC,EAAW,aAAe,KAAAzoD,iBAAiBo0D,OAAS,iCAAmC3L,EAAW,sDA4DlH,IApD0B,IAAtB8G,EAAgB,aAEhB9G,EAAW,GACwB,MAA/B,KAAA/pD,KAAKuzD,GAAI5yD,KAAK,eACd,KAAAX,KAAKuzD,GAAI5yD,KAAK,aAAc,eAGf,KAAjB+pD,EAAG/zB,YACH+zB,EAAG/zB,UAAYozB,GAEf7yD,EAAQ4qD,UAAoC,KAAxBgS,EAAUn9B,YAC9Bm9B,EAAUn9B,UAAYozB,GAIC,MAAvBlH,EAAO6J,eAEoC,MAAvC7J,EAAO6J,aAAazU,kBAEpB,KAAAj4C,KAAK0qD,GAAI9/C,IAAI,mBAAoBi4C,EAAO6J,aAAazU,iBACjD/gD,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUlpD,IAAI,mBAAoBi4C,EAAO6J,aAAazU,kBAGpD,MAA7B4K,EAAO6J,aAAa38C,QAEpB,KAAA/P,KAAK0qD,GAAI9/C,IAAI,QAASi4C,EAAO6J,aAAa38C,OACtC7Y,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUlpD,IAAI,QAASi4C,EAAO6J,aAAa38C,QAG3C,MAA3B8yC,EAAO6J,aAAa9hD,MAEpB8/C,EAAGp6C,MAAMC,SAAWsyC,EAAO6J,aAAa9hD,IACpC1T,EAAQ4qD,WAAUgS,EAAUxjD,MAAMC,SAAWsyC,EAAO6J,aAAa9hD,OAI7C,MAA5B1T,EAAQy+D,kBAA6D,MAAjC9E,EAAI35D,EAAQy+D,mBAA+D,KAAlC9E,EAAI35D,EAAQy+D,oBAEzF,KAAA31D,KAAK0qD,GAAI9/C,IAAI,mBAAoBimD,EAAI35D,EAAQy+D,mBACzCz+D,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUlpD,IAAI,mBAAoBimD,EAAI35D,EAAQy+D,oBAKlD,MAAvB9S,EAAO6J,eACPj8B,EAA8C,MAAjCoyB,EAAO6J,aAAaj8B,UAAqBoyB,EAAO6J,aAAaj8B,UAAYA,GAE1F,KAAAzwB,KAAK0qD,GAAI9/C,IAAI,aAAc6lB,GACvBv5B,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUlpD,IAAI,aAAc6lB,IAI/B,IAApBv5B,EAAQ+T,SAAoB43C,EAAOhlD,MAAQ,KAAAwH,mBAAmBslD,OAClE,CACI,IAAI1/C,EAAU,GACd,GAA2B,MAAvB43C,EAAO6J,aAEP,IAAoC,IAAhC7J,EAAO6J,aAAazhD,QACpBA,EAA2B,MAAhB43C,EAAO/3C,MAAiB,GAAK+3C,EAAO/3C,WAC9C,GAA4C,iBAAhC+3C,EAAO6J,aAAoB,QACxCzhD,EAAU43C,EAAO6J,aAAazhD,aAC7B,GAA4C,mBAAhC43C,EAAO6J,aAAoB,QAC5C,CACI,IAAIkJ,EAAe,IAAIC,iBACvBD,EAAa9iB,SAAWA,EACxB8iB,EAAa11D,QAAUwqD,EACvBkL,EAAajW,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACvC51C,EAAU43C,EAAO6J,aAAazhD,QAAQ2qD,GAI/B,MAAX3qD,GAAqC,GAAlBA,EAAQhL,SAC3BgL,EAAU8+C,GAEC,MAAX9+C,GAAmBA,EAAQhL,OAAS,IAEpC,KAAAD,KAAK0qD,GAAI/pD,KAAK,QAAS,KAAAX,KAAK,SAAWiL,EAAU,WAAWrD,QACxD1Q,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUnzD,KAAK,QAAS,KAAAX,KAAK,SAAWiL,EAAU,WAAWrD,UAM5E,IAAhBi7C,EAAOjyB,OAEP,KAAA5wB,KAAK0qD,GAAI9/C,IAAI,cAAe,OACxB1T,EAAQ4qD,UAAU,KAAA9hD,KAAK8zD,GAAUlpD,IAAI,cAAe,QAOxD1T,EAAQ4qD,UAAYiS,GAAmBlR,EAAO2B,OAC9C,KAAAxkD,KAAKwzD,GAAUvyD,aAAa6yD,GACvBD,GACL,KAAA7zD,KAAKuzD,GAAItyD,aAAaypD,GAE1B3gC,IAYJ,GAPIupC,GACA,KAAAtzD,KAAKnL,KAAKqL,WAAWyQ,KAAK,UAAU1P,aAAasyD,GAEjDr8D,EAAQ4qD,UAAY2R,GACpB,KAAAzzD,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,UAAU1P,aAAauyD,GAGtDt8D,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAE9B,IAAK,IAAIztD,EAAIiC,EAAQ+pD,QAAShhD,OAAS,EAAGhL,GAAK,EAAGA,IAClD,CACI,IAAI4tD,EAAS3rD,EAAQ+pD,QAAShsD,GAE1B40D,EAAU,IACS,MAAnB3yD,EAAQwrD,SAAsE,MAAlDxrD,EAAQwrD,QAAgCE,QAAsE,MAAlD1rD,EAAQwrD,QAAgCE,SAAqB1rD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,UAC5P+V,EAAU,kBAEd,IAAIiM,EAAY,KAAA91D,KAAKuzD,GAAI5iD,KAAK,aAAekyC,EAAO/O,OAWpD,GAVwB,GAApBgiB,EAAU71D,OACV,KAAAD,KAAKuzD,GAAIryD,QAAQ,oDAAsD2oD,EAAU,mBAAqBhH,EAAO/O,MAAQ,WAG9F,MAAnB58C,EAAQwrD,SAAsE,MAAlDxrD,EAAQwrD,QAAgCE,OACpEkT,EAAU,GAAGxlD,MAAMu5C,QAAU,OACtB3yD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,SACvFgiB,EAAU,GAAGxlD,MAAMu5C,QAAU,cAGjC3yD,EAAQ4qD,SACZ,CACI,IAAIiU,EAAkB,KAAA/1D,KAAKwzD,GAAU7iD,KAAK,aAAekyC,EAAO/O,OAClC,GAA1BiiB,EAAgB91D,OAChB,KAAAD,KAAKwzD,GAAUtyD,QAAQ,oDAAsD2oD,EAAU,mBAAqBhH,EAAO/O,MAAQ,WAGpG,MAAnB58C,EAAQwrD,SAAsE,MAAlDxrD,EAAQwrD,QAAgCE,OACpEmT,EAAgB,GAAGzlD,MAAMu5C,QAAU,OAC5B3yD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,SACvFiiB,EAAgB,GAAGzlD,MAAMu5C,QAAU,eA8CvD,GAvCA,KAAA7pD,KAAKuzD,GAAIljD,OAAOnZ,EAAQ8pD,WAGpB9pD,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,MAE3C,KAAAjnB,KAAKuzD,GAAI9zD,IAAI,KAAAO,KAAKwzD,IAAWxE,IAAI,SACjC,KAAAhvD,KAAKuzD,GAAI9zD,IAAI,KAAAO,KAAKwzD,IAAW/7B,MAAOtoB,IAE5BA,EAAEywB,UAAY1oC,EAAQoJ,YAAc,KAAAwE,qBAAqBi9C,WACzDltD,KAAK++D,oBAAoBzkD,EAAE6oB,QAGtB,KAAAh4B,KAAKmP,EAAE6oB,QAAQt3B,GAAG,UAAa,KAAAV,KAAKmP,EAAE6oB,QAAQ7E,SAAS,aAAgB,KAAAnzB,KAAKmP,EAAE6oB,QAAQ7E,SAAS,WAChGt+B,KAAK89D,kBAAkB7B,GAAY,GAAO,OAMtD,KAAA9wD,KAAKuzD,GAAI9zD,IAAI,KAAAO,KAAKwzD,IAAWxE,IAAI,SACjC,KAAAhvD,KAAKuzD,GAAI9zD,IAAI,KAAAO,KAAKwzD,IAAW/7B,MAAOtoB,IAGhC,GAA2B,MAAvBjY,EAAQ8+D,YACZ,CACI,IAAIC,EAAiB,IAAIC,mBACzBD,EAAet2B,OAAS9qC,KACxBohE,EAAeE,WAAahnD,EAAE0rB,cAC9Bo7B,EAAenjB,SAAWA,EAC1BmjB,EAAetmB,SAAU,EACzBsmB,EAAetW,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBACzC3pD,EAAQ8+D,YAAYC,OAQF,MAA1B/+D,EAAQk/D,eACZ,CACI,IAAIC,EAAsB,IAAIC,wBAC9BD,EAAoB12B,OAAS9qC,KAC7BwhE,EAAoBF,WAAa5C,EAEjC,IAAIzgB,EAAgB,GACpB,IAAK,IAAIl8C,KAAYjB,OAAOogC,oBAAoB86B,GAC5C/d,EAASl8C,GAAYi6D,EAAIj6D,GAE7By/D,EAAoBvjB,SAAWA,EAC/BujB,EAAoBE,aAAe1F,EACnCwF,EAAoB1W,MAAiD,MAAxC7M,EAAS57C,EAAQ2pD,mBAE9C,IAAI5I,EAAkB/gD,EAAQk/D,eAAeC,GACtB,MAAnBpe,GAA2BA,EAAgBh4C,OAAS,IAEpD,KAAAD,KAAKuzD,GAAI5iD,KAAK,MAAM/F,IAAI,mBAAoBqtC,GACxC/gD,EAAQ4qD,UACR,KAAA9hD,KAAKwzD,GAAU7iD,KAAK,MAAM/F,IAAI,mBAAoBqtC,IAK9DhjD,IACA2jC,IAKJ,GAAIuT,EAAMlsC,OAAS/I,EAAQiqD,SAC3B,CACI,IAAIqV,EAAkB,KAAAx2D,KAAKnL,KAAKqL,WAAWyQ,KAAK,mBAAmB1Q,OAC/Dw2D,EAAMv/D,EAAQurD,WAAgC,MAAnBvrD,EAAQwrD,QAAmBxrD,EAAQiqD,SAAYqV,EAAkBt/D,EAAQiqD,SACpGzQ,EAAQx5C,EAAQurD,WAAgC,MAAnBvrD,EAAQwrD,QAAmBvW,EAAMlsC,OAAS,EAAIu2D,EAAkBrqB,EAAMlsC,OAAS,EAChH,IAAK,IAAIhL,EAAIy7C,EAAMz7C,GAAKwhE,EAAIxhE,IACxB,KAAA+K,KAAKnL,KAAK6xD,UAAU/1C,KAAK,sBAAwB+/B,EAAO,KAAKxhC,SAEjE,GAAIhY,EAAQ4qD,SACZ,CACI,IAAI0U,EAAkB,KAAAx2D,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,mBAAmB1Q,OACpEw2D,EAAMv/D,EAAQurD,WAAgC,MAAnBvrD,EAAQwrD,QAAmBxrD,EAAQiqD,SAAYqV,EAAkBt/D,EAAQiqD,SACpGzQ,EAAQx5C,EAAQurD,WAAgC,MAAnBvrD,EAAQwrD,QAAmBvW,EAAMlsC,OAAS,EAAIu2D,EAAkBrqB,EAAMlsC,OAAS,EAChH,IAAK,IAAIhL,EAAIy7C,EAAMz7C,GAAKwhE,EAAIxhE,IACxB,KAAA+K,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,sBAAwB+/B,EAAO,KAAKxhC,UAI/E,GAAIra,KAAK4wD,gBAAkBvuD,EAAQiqD,SACnC,CACI,IAAIqV,EAAkB,KAAAx2D,KAAKnL,KAAKqL,WAAWyQ,KAAK,mBAAmB1Q,OACnE,IAAK,IAAIhL,EAAIiC,EAAQiqD,SAAY,EAAIqV,EAAiBvhE,GAAKJ,KAAK4wD,gBAAkB+Q,EAAiBvhE,IAC/F,KAAA+K,KAAKnL,KAAK6xD,UAAU/1C,KAAK,uBAAyBzZ,EAAQiqD,SAAY,EAAIqV,GAAmB,KAAKtnD,SAEtG,GAAIhY,EAAQ4qD,SACZ,CACI,IAAI0U,EAAkB,KAAAx2D,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,mBAAmB1Q,OACxE,IAAK,IAAIhL,EAAIiC,EAAQiqD,SAAY,EAAIqV,EAAiBvhE,GAAKJ,KAAK4wD,gBAAkB+Q,EAAiBvhE,IAC/F,KAAA+K,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,uBAAyBzZ,EAAQiqD,SAAY,EAAIqV,GAAmB,KAAKtnD,UAOpH,GAJAra,KAAK4wD,gBAAkBvuD,EAAQiqD,SAIJ,MAAvBjqD,EAAQw/D,aAAuBvG,EACnC,CACI,IAAIwG,EAAmB,IAAIC,qBAC3BD,EAAiBh3B,OAAS9qC,KAC1BqC,EAAQw/D,YAAYC,GAKxB,IAAuB,IAAnBz/D,EAAQqqD,OACZ,CACI,IAAIA,EAASrqD,EAAQqqD,OACjB3a,GAAuC,IAA1B1vC,EAAQ8qD,cAA2BntD,KAAKgiE,0BAA2B3/D,EAAQ8qD,cAA0CC,uBAA0BxN,EAAUx0C,OAC1K,GAAI/I,EAAQiqD,SAAYva,EACxB,CACI,IAAI2nB,EAAe15D,KAAK05D,eACpBuI,EAAgB10C,KAAK20C,MAAMnwB,EAAY1vC,EAAQiqD,UAKnD,GAJIva,EAAY1vC,EAAQiqD,SAAY,IAChC2V,GAAiB,GAGjBvV,EAAOyB,gBAAuC,GAArB9rD,EAAQiqD,SACrC,CACI,KAAAnhD,KAAK,IAAMnL,KAAK2uD,WAAa,kBAAkBt0C,SAC/C,IAAI8nD,EAAiB,KAAAh3D,KAAK,aAAenL,KAAK2uD,WAAa,qDAAqDr1B,UAAUt5B,KAAKyyD,YAG/H,KAAA7vD,aACI,CACImY,KAAM,KAAArO,iBAAiB01D,SACvBrsD,IAAK,kFACLomB,QAAU7hB,IAENta,KAAK05D,aAAa,KAEvByI,EAAgB,KAAMniE,KAAK2uD,WAAa,iBAE/C,KAAA/rD,aACI,CACImY,KAAM,KAAArO,iBAAiB21D,aACvBlmC,QAAU7hB,IAEN,IAAIgoD,EAAetiE,KAAK05D,eAAiB,EACrC4I,EAAe,IACfA,EAAe,GAEnBtiE,KAAK05D,aAAa4I,KAEvBH,EAAgB,KAAMniE,KAAK2uD,WAAa,oBAI/C,IAAIT,EAAmB7rD,EAAQqqD,OAA+BwB,gBAC1DqU,EAAgB,EAEhBA,EADA7I,EAAexL,GAAmB,GACfwL,EAAexL,EAAmB,GAAKA,EAAmB,EAE5D3gC,KAAK20C,MAAMxI,EAAexL,GAAmBA,EAAmB,EAErF,IAAIsU,EAAW,EACXC,GAAS,EACTR,GAAiB/T,GAEjBsU,EAAWD,EAAgBN,EAC3BQ,GAAS,GAGTD,EAAWD,EAAgBrU,EAE3BsU,GAAaP,EAAgB,IAE7BO,EAAYP,EAAgB,EAC5BQ,GAAS,GAKTF,EAAgB,IAEhB,KAAAp3D,KAAK,eAAiBnL,KAAK2uD,WAAa,aAAe4T,EAAgB,GAAK,eAAejsD,eAAe6rD,GAC1G,KAAAv/D,aACI,CACImQ,KAAM,MACNopB,QAAU7hB,IAENta,KAAK05D,aAAa6I,EAAgB,KAEvC,KAAM,KAAMviE,KAAK2uD,WAAa,aAAe4T,EAAgB,KAGxE,IAAK,IAAIniE,EAAImiE,EAAeniE,GAAKoiE,IAEzBpiE,GAAKoiE,IAAYC,GAFkBriE,IAKvC,KAAA+K,KAAK,eAAiBnL,KAAK2uD,WAAa,YAAcvuD,EAAI,eAAekW,eAAe6rD,GACxF,KAAAv/D,aACI,CACImQ,KAAO3S,GAAKoiE,EAAcD,GAAiBC,EAAYh5C,OAAOppB,GAAK,MAASopB,OAAOppB,GACnF8V,MAAQ9V,GAAKs5D,EAAgB,2BAAwBh8C,EACrDye,QAAU7hB,IAEN,IAAIuC,EAAQ4U,OAAO,KAAAtmB,KAAKmP,EAAEwwB,OAAOz/B,WAAWS,KAAK,MAAM6gB,MAAM,KAAKy7B,QAClEpoD,KAAK05D,aAAa78C,KAEvB,KAAM,KAAM7c,KAAK2uD,WAAa,YAAcvuD,GAKvD,KAAA+K,KAAK,eAAiBnL,KAAK2uD,WAAa,2BAA2Br4C,eAAe6rD,GAClF,KAAAv/D,aACI,CACImY,KAAM,KAAArO,iBAAiBg2D,YACvBvmC,QAAU7hB,IAEN,IAAIgoD,EAAetiE,KAAK05D,eAAiB,EACrC4I,EAAeL,IACfK,EAAeL,GAEnBjiE,KAAK05D,aAAa4I,KAEvB,KAAM,KAAMtiE,KAAK2uD,WAAa,gBAErC,KAAAxjD,KAAK,eAAiBnL,KAAK2uD,WAAa,2BAA2Br4C,eAAe6rD,GAClF,KAAAv/D,aACI,CACImY,KAAM,KAAArO,iBAAiBi2D,QACvB5sD,IAAK,iEACLomB,QAAU7hB,IAENta,KAAK05D,aAAauI,KAEvB,KAAM,KAAMjiE,KAAK2uD,WAAa,gBAMzC,GAAIjC,EAAO4B,cAKP,GAHA,KAAAnjD,KAAK,IAAMnL,KAAK2uD,WAAa,eAAet0C,SAC5C,KAAAlP,KAAK,aAAenL,KAAK2uD,WAAa,qDAAqDr4C,eAAetW,KAAKyyD,YAE1E,kBAAzB/F,EAAoB,gBAA2C,IAAzBA,EAAO4B,cAErD,GAAwB,GAApBjsD,EAAQiqD,SACR,KAAAnhD,KAAK,IAAMnL,KAAK2uD,WAAa,eAAe1sB,KAAK,uBAErD,CACQ45B,EAAY9pB,IACZ8pB,EAAY9pB,GAEhB,IAAI6wB,EAAYhH,EAAa,MAAQC,EAAY,OAAS9pB,GAA2B,GAAbA,EAAkB,YAAc,aACpG,MAAQ2nB,EAAe,OAASuI,EAAgB,UAEpD,IAA8B,IAA1B5/D,EAAQ8qD,cACZ,CAIIyV,EAHgBvgE,EAAQiqD,UAAatsD,KAAK05D,eAAiB,GAAK,EAGxC,OAFVr3D,EAAQiqD,UAAatsD,KAAK05D,eAAiB,GAAK9Z,EAAUx0C,QAE9B,OAAS2mC,GAA2B,GAAbA,EAAkB,YAAc,aAC7F,MAAQ2nB,EAAe,OAASuI,EAAgB,UAGxD,KAAA92D,KAAK,IAAMnL,KAAK2uD,WAAa,eAAe1sB,KAAK2gC,OAIzD,CACI,IAAIC,EAA4B,IAAIC,8BACpCD,EAA0BjjB,UAAYA,EACtCijB,EAA0BjH,WAAaA,EACvCiH,EAA0BhH,UAAYA,EACtCgH,EAA0BZ,cAAgBA,EAC1CY,EAA0BnJ,aAAeA,EACzC,IAAIqJ,EAAoBrW,EAAO4B,cAAcuU,GAE7C,KAAA13D,KAAK,IAAMnL,KAAK2uD,WAAa,eAAe1sB,KAAK8gC,QAM7D,CAKI,GAHIrW,EAAOyB,gBACP,KAAAhjD,KAAK,IAAMnL,KAAK2uD,WAAa,kBAAkBt0C,SAE/CqyC,EAAO4B,cACX,CACI,KAAAnjD,KAAK,IAAMnL,KAAK2uD,WAAa,eAAet0C,SAC5C,KAAAlP,KAAK,aAAenL,KAAK2uD,WAAa,qDAAqDr4C,eAAetW,KAAKyyD,YAC/G,IAAIuQ,EAAgBpjB,EAAUtqB,OAAOJ,GAAwB,MAAnBA,EAAc,YAAgC,GAAnBA,EAAc,YAEnF,GAAqC,kBAAzBw3B,EAAoB,gBAA2C,IAAzBA,EAAO4B,cAEzB,GAAxB0U,EAAc53D,OACd,KAAAD,KAAK,IAAMnL,KAAK2uD,WAAa,eAAe1sB,KAAK,mBAEjD,KAAA92B,KAAK,IAAMnL,KAAK2uD,WAAa,eAAe1sB,KAAK2d,EAAUx0C,QAAmC,GAAxB43D,EAAc53D,OAAe,YAAc,kBAGzH,CACI,IAAIy3D,EAA4B,IAAIC,8BACpCD,EAA0BjjB,UAAYojB,EACtCH,EAA0BjH,WAAaA,EACvCiH,EAA0BhH,UAAYA,EACtC,IAAIkH,EAAoBrW,EAAO4B,cAAcuU,GAE7C,KAAA13D,KAAK,IAAMnL,KAAK2uD,WAAa,eAAe1sB,KAAK8gC,IAIzD,IAAKrW,EAAO0B,aACZ,CACI,IAAI6U,EAAc,iBAAAx4D,eAAexJ,IAAcjB,KAAK2uD,WAAa,gBAC9C,MAAfsU,GACAA,EAAYpwD,SAQ5B,GAAI7S,KAAKqyD,aAAehwD,EAAQ+pD,QAAS92B,OAAOJ,GAAoB,MAAfA,EAAEo9B,YAAqC,IAAhBp9B,EAAEo9B,WAAqBlnD,OAAS,EAExG,IAA8B,IAA1B/I,EAAQ8qD,cACRntD,KAAKkjE,aAAaljE,KAAKgiE,0BAA2B3/D,EAAQ8qD,cAAyCE,qBAAsB,OAE7H,CAEI,KAAAliD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,MAAMgvC,QAC7BzoD,EAAQ4qD,UACR,KAAA9hD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,MAAMgvC,QAE3C,IAAIqY,EAAsB,IAAIC,oBAC9BD,EAAoBE,SAAU,EAC9BF,EAAoBvjB,UAAYA,EAChCujB,EAAoBG,cAAgBjhE,EAAQ+pD,QAAS92B,OAAOJ,GAAoB,MAAfA,EAAEo9B,YAAqC,IAAhBp9B,EAAEo9B,YAAoC,IAAbp9B,EAAE85B,QAAiBpyC,IAAIsY,IAEpI,IAAI2gC,EAAK,KAAA1qD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAeoZ,EAAE+pB,MAAQ,MAAM,GAC/D58C,EAAQ4qD,UAAkB,MAAN4I,IACpBA,EAAK,KAAA1qD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAeoZ,EAAE+pB,MAAQ,MAAM,IAEzE,IAAI6Y,EAAgB,KAAA3sD,KAAK0qD,GAAI/pD,KAAK,iBAC9By3D,EAAgB9xC,OAAO,KAAAtmB,KAAK0qD,GAAI/pD,KAAK,cAEzC,MAAO,CACHmzC,MAAO/pB,EAAE+pB,MACT6Y,cAAeA,EACfyL,cAAeA,EACfv6D,KAAMksB,EAAElsB,KACRw6D,mBAAoBtuC,EAAEsuC,mBACtBx6C,iBAAkBkM,EAAElM,oBAG5BhpB,KAAKyjE,cAAcC,YAAYxkC,KAAKC,MAAMD,KAAKE,UAAU+jC,KAIzDnjE,KAAKyjE,cAAcE,UAAarpD,IAE5Bta,KAAKkjE,aAAa5oD,EAAE+lB,MAAM,IAQtC,GAAIh+B,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAClC,CAEI,IAAI+V,EAA2B,IAAIR,oBACnCQ,EAAyBC,WAAa,GACtCD,EAAyBP,SAAU,EAEnC,IAAIS,EAAgBpnD,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBACtEgoD,EAAclvC,YAAYlY,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,2BAEjF,IAAK,IAAI4iD,KAAMoF,EACf,CACI,IAAIvpD,EAAW,GAOf,GALIA,EADA,KAAApP,KAAKuzD,GAAIpgC,SAAS,wBACPt+B,KAAKm9D,qBAAqBuB,EAAI1+D,KAAK4xD,gBAAgBr3C,SAEnDva,KAAKm9D,qBAAqBuB,EAAI1+D,KAAK6xD,UAAUt3C,UAGvDlY,EAAQ8qD,cACb,CACI,IAAI0I,EAAK,KAAA1qD,KAAKuzD,GAAI5iD,KAAK,yBACnBioD,EAAiBxpD,EAASnP,OAE1BpL,KAAKm4D,aAAa/sD,OAAS,GAC3ByqD,EAAG/5C,KAAK,2BAA2B1P,aAAa,oCAAsC23D,EAAiB,YAK/G,GAAI/jE,KAAKqyD,YACT,CACI,IAAIhxD,EAAQrB,KAAKy8D,4BAA4B,KAAAtxD,KAAKuzD,GAAI5yD,KAAK,UAEvDk4D,EAAW,KAAA74D,KAAKoP,EAASga,UAAU0vC,QACvCD,EAASlpC,SAAS,sBAClBkpC,EAASloD,KAAK,MAAMgvC,QACpBkZ,EAAS/pC,kBAAkB1f,EAASga,UACpCyvC,EAASlpC,SAAS96B,KAAK2uD,WAAa,gBAAkBttD,GAEtD,IAAI6iE,EAAwB,IAAIC,sBAChCD,EAAsBE,WAAa/iE,EAEnC,IAAI47C,EAAgB,GACpB,IAAK,IAAIziC,KAASD,EAClB,CACI,IAAI0hD,EAAa,KAAA9wD,KAAKqP,GAAO1O,KAAK,cAClCmxC,EAAczpB,KAAKosB,EAAUtqB,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBiQ,GAAY,IAE1FiI,EAAsBtkB,UAAY3C,EAClC2mB,EAAyBC,WAAWrwC,KAAK0wC,IAK7ClkE,KAAKqyD,aAAehwD,EAAQ+pD,QAAS92B,OAAOJ,GAAoB,MAAfA,EAAEo9B,YAAqC,IAAhBp9B,EAAEo9B,WAAqBlnD,OAAS,IAGxGw4D,EAAyBN,cAAgBjhE,EAAQ+pD,QAAS92B,OAAOJ,GAAoB,MAAfA,EAAEo9B,YAAqC,IAAhBp9B,EAAEo9B,YAAoC,IAAbp9B,EAAE85B,QAAiBpyC,IAAIsY,IAEzI,IAAI2gC,EAAK,KAAA1qD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAeoZ,EAAE+pB,MAAQ,MAAM,GAC/D58C,EAAQ4qD,UAAkB,MAAN4I,IACpBA,EAAK,KAAA1qD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAeoZ,EAAE+pB,MAAQ,MAAM,IAEzE,IAAI6Y,EAAgB,KAAA3sD,KAAK0qD,GAAI/pD,KAAK,iBAC9By3D,EAAgB9xC,OAAO,KAAAtmB,KAAK0qD,GAAI/pD,KAAK,cAEzC,MAAO,CACHmzC,MAAO/pB,EAAE+pB,MACT6Y,cAAeA,EACfyL,cAAeA,EACfv6D,KAAMksB,EAAElsB,KACRw6D,mBAAoBtuC,EAAEsuC,mBACtBx6C,iBAAkBkM,EAAElM,oBAG5BhpB,KAAKqkE,mBAAmBX,YAAYxkC,KAAKC,MAAMD,KAAKE,UAAUwkC,KAI9D5jE,KAAKqkE,mBAAmBV,UAAarpD,IAEjCta,KAAKkjE,aAAa5oD,EAAE+lB,MAAM,KAUtCrgC,KAAK62D,oBACL72D,KAAK84D,mBACL94D,KAAK62D,oBAEL72D,KAAKskE,iBAGLtkE,KAAKukE,cAAgB,GACiB,MAAlCvkE,KAAK23D,2BAAqC33D,KAAK23D,0BAA0BvsD,OAAS,GAClFpL,KAAK07D,WAAW17D,KAAK23D,0BAA0B/6C,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,yBAAsBtuC,GAAW,GAGnG,aAAa2iB,EAAagjC,GAE9B,GAAKA,EAeD,IAAK,IAAImB,KAAenkC,EAEpB,IAAK,IAAIokC,KAASD,EAAYE,OAC9B,CACI,IAAIC,EAASjoD,MAAMm/B,KAAkB,KAAA1wC,KAAK,IAAMnL,KAAK2uD,WAAa,gBAC5D3uD,KAAKy8D,4BAA4B+H,EAAYJ,aAC9CtoD,KAAK,aAAe2oD,EAAMxlB,MAAQ,OAEvC,IAAK,IAAI4W,KAAM8O,EACX3kE,KAAK4kE,YAAYH,EAAO5O,QAtBpC,IAAK,IAAI4O,KAASpkC,EAClB,CACI,IAAIw1B,EAAK,KAAA1qD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAe2oD,EAAMxlB,MAAQ,MAAM,GAEzDj/C,KAAK+sC,aACPkgB,UAAkB,MAAN4I,IACpBA,EAAK,KAAA1qD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAe2oD,EAAMxlB,MAAQ,MAAM,IAE7Ej/C,KAAK4kE,YAAYH,EAAO5O,IAoB5B,YAAY4O,EAA2B5O,GAE3C,GAAU,MAANA,EACJ,CACI,IAAIgP,EAAiB7kE,KAAKwrC,YAAYi5B,EAAMA,MAAOA,EAAMz7D,KAAMy7D,EAAM3M,cAAe2M,EAAMz7C,kBAC1F6sC,EAAG/zB,UAAY+iC,EACf,KAAA15D,KAAK0qD,GAAI/pD,KAAK,QAAS+pD,EAAGiP,YAI1B,YAAYzjE,EAAYi5D,EAAiCxC,EAAwB9uC,EAAiD6E,GAEtI,IAAIxrB,EAAUrC,KAAK+sC,aAInB,GAHkB,MAAdutB,IAAoBA,EAAa,KAAA9pD,mBAAmBgZ,QAGpD8wC,GAAc,KAAA9pD,mBAAmBihB,QAAU6oC,GAAc,KAAA9pD,mBAAmB/M,UAAY62D,GAAc,KAAA9pD,mBAAmBjN,WAC7H,CAC4B,MAApBylB,IACAA,EAAmB3mB,EAAQ2mB,kBAE/B,IAAI2I,EAAiB,IAAI,KAAA5I,qBAAqBC,GAmB9C,GAlBA2I,EAAexI,sBAAwB2uC,EACvCnmC,EAAevI,sBAAwB0uC,EAEf,MAApB9uC,IAE8C,MAA1CA,EAAiBG,wBAA+BwI,EAAexI,sBAAwBH,EAAiBG,uBAC9D,MAA1CH,EAAiBI,wBAA+BuI,EAAevI,sBAAwBJ,EAAiBI,uBAExGJ,EAAiBE,cAAgB,KAAAxW,iBAAiB0f,MAEJ,MAA1CpJ,EAAiBI,wBACjBuI,EAAevI,sBAAwB,IAI/CkxC,GAAc,KAAA9pD,mBAAmBjN,aACjClC,EAAQowB,OAAOpwB,GAAS,KAExBi5D,GAAc,KAAA9pD,mBAAmBihB,OACjC,OAAOA,OAAOpwB,GAAOqwB,iBAAiBC,GACrC,GAAI2oC,GAAc,KAAA9pD,mBAAmB/M,SACtC,OAAOguB,OAAOpwB,GAAOywB,mBAAmBH,GACvC,GAAI2oC,GAAc,KAAA9pD,mBAAmBjN,WACtC,OAAOkuB,OAAOpwB,GAAO0wB,qBAAqBJ,OAK7C,IAAI2oC,GAAc,KAAA9pD,mBAAmBglD,SAC1C,CACI,IAAIxrC,EAAgBuD,KAAK20C,MAAM7gE,EAAQ,IACnC0jE,EAAcv7C,OAAOQ,GACrBA,EAAQ,KACR+6C,EAAc,IAAMA,GAExB,IAAI76C,EAAkBqD,KAAK20C,MAAM7gE,EAAQ,IACrC2jE,EAAgBx7C,OAAOU,GAI3B,OAHIA,EAAU,KACV86C,EAAgB,IAAMA,GAEnBD,EAAc,IAAMC,EAK1B,GAAI1K,GAAc,KAAA9pD,mBAAmB6S,MAAQi3C,GAAc,KAAA9pD,mBAAmB7L,UAC5E21D,GAAc,KAAA9pD,mBAAmB/L,MAAQ61D,GAAc,KAAA9pD,mBAAmB2d,UAC1EmsC,GAAc,KAAA9pD,mBAAmB8d,cAAgBgsC,GAAc,KAAA9pD,mBAAmBwd,cAClFssC,GAAc,KAAA9pD,mBAAmB0d,cACxC,CACI7sB,EAAQgiB,KAAKiG,gBAAgBjoB,GAC7B,IAAI4jE,EAA6B,KAAAzgE,aAAa6e,KAU9C,OARIi3C,GAAc,KAAA9pD,mBAAmB6S,KAAM4hD,EAAe,KAAAzgE,aAAa6e,KAC9Di3C,GAAc,KAAA9pD,mBAAmB7L,SAAUsgE,EAAe,KAAAzgE,aAAaG,SACvE21D,GAAc,KAAA9pD,mBAAmB/L,KAAMwgE,EAAe,KAAAzgE,aAAaC,KACnE61D,GAAc,KAAA9pD,mBAAmB2d,SAAU82C,EAAe,KAAAzgE,aAAa2pB,SACvEmsC,GAAc,KAAA9pD,mBAAmB8d,aAAc22C,EAAe,KAAAzgE,aAAa8pB,aAC3EgsC,GAAc,KAAA9pD,mBAAmBwd,aAAci3C,EAAe,KAAAzgE,aAAawpB,aAC3EssC,GAAc,KAAA9pD,mBAAmB0d,gBAAe+2C,EAAe,KAAAzgE,aAAa0pB,eAEpE,IAAT7sB,GAAgBgiB,KAAKoG,cAAcpoB,GAAe,IAAIgiB,KAAKhiB,GAAOusB,gBAAgBq3C,EAAcp3C,GAAnD,GAKpD,GAAIysC,GAAc,KAAA9pD,mBAAmBgZ,QAAU8wC,GAAc,KAAA9pD,mBAAmB7N,MAGjF,OADAtB,EAAQmoB,OAAOnoB,GAKnB,MAAO,GAKX,UAAU48C,EAAe+O,GAAS,GAE9B,IAAI3qD,EAAUrC,KAAK+sC,aACfkvB,EAAahe,EAAS57C,EAAQ2pD,mBAE9BkZ,EAAyBllE,KAAKmlE,qBAAqB7vC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBiQ,GAAY,GAC5GmJ,EAA8BplE,KAAKmlE,qBAAqBpwC,QAAQmwC,GAChEG,EAAiBrlE,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBiQ,GAAY,GAC5FqJ,EAAsBtlE,KAAKm4D,aAAapjC,QAAQswC,GACtB,MAA1BH,GAEAllE,KAAKk7D,sBAAsB,CAACjd,IAC5Bj+C,KAAKmlE,qBAAqBC,GAA+BnnB,EACzDj+C,KAAKm4D,aAAamN,GAAuBrnB,EAErC+O,GACAhtD,KAAK4yD,UAGT5yD,KAAKulE,OAAOtnB,EAAU+O,GAG9B,WAAWpN,EAAkBoN,GAAS,GAElC,IAAK,IAAI/O,KAAY2B,EACjB5/C,KAAKwlE,UAAUvnB,GAAU,GAEzB+O,GACAhtD,KAAK4yD,SAGb,OAAO3U,EAAe+O,GAAS,GAE3BhtD,KAAKylE,QAAQ,CAACxnB,GAAW+O,GAG7B,QAAQpN,EAAkBoN,GAAS,GAE/BhtD,KAAKk7D,sBAAsBtb,GAC3B,IAAIv9C,EAAUrC,KAAK+sC,aACnB,IAAK,IAAIkR,KAAY2B,EAE2B,MAAxC3B,EAAS57C,EAAQ2pD,qBAEjB/N,EAAS57C,EAAQ2pD,mBAAsBhsD,KAAKywD,gBAC5CzwD,KAAKywD,mBAImB,MAA5BzwD,KAAKwuD,sBACLxuD,KAAKwuD,oBAAsB,IAE/BxuD,KAAKm4D,aAAavjC,YAAYgrB,GAC9B5/C,KAAKwuD,oBAAoB55B,YAAYgrB,GAEjCv9C,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAC9B7tD,KAAKm7D,mBAAmBvb,GAExBoN,GACAhtD,KAAKo7D,cAAcp7D,KAAKm4D,cAG5B,IAAK,IAAInK,KAAU3rD,EAAQ+pD,QAEnB4B,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAClCzvD,KAAK0wD,sBAAsBv5B,IAAI62B,EAAO/O,MAAOj/C,KAAKwuD,oBAAoB5xC,IAAIsY,GAAK1L,OAAO0L,EAAE84B,EAAO/O,QAAQ3zB,gBAKnH,UAAU2wC,EAA6BjP,GAAS,GAE5ChtD,KAAK0lE,WAAW,CAACzJ,GAAajP,GAGlC,WAAW2Y,EAAqC3Y,GAAS,GAErD,IAAI3qD,EAAUrC,KAAK+sC,aAGfsE,EAAO30B,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,OAC/C,IAAK,IAAIkgD,KAAO3qB,EAERs0B,EAAenxC,sBAAsBzY,SAAS,KAAA5Q,KAAK6wD,GAAKlwD,KAAK,gBAC7D,KAAAX,KAAK6wD,GAAK3hD,SAGlB,GAAIra,KAAKo0D,wBACT,CACI,IAAI/iB,EAAO30B,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,OACrD,IAAK,IAAIkgD,KAAO3qB,EAERs0B,EAAenxC,sBAAsBzY,SAAS,KAAA5Q,KAAK6wD,GAAKlwD,KAAK,gBAC7D,KAAAX,KAAK6wD,GAAK3hD,SAMtB,IAAK,IAAIurD,KAAUD,EACnB,CACI,IAAIpwC,EAAev1B,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuB4Z,GAAQ,GACtE,MAAhBrwC,IAEAv1B,KAAKm4D,aAAaljC,aAAaM,EAAclzB,EAAQ2pD,mBACrDhsD,KAAKwuD,oBAAoBv5B,aAAaM,EAAclzB,EAAQ2pD,oBAMpE,IAAK,IAAIgC,KAAU3rD,EAAQ+pD,QAEnB4B,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAClCzvD,KAAK0wD,sBAAsBv5B,IAAI62B,EAAO/O,MAAOj/C,KAAKwuD,oBAAoB5xC,IAAIsY,GAAK1L,OAAO0L,EAAE84B,EAAO/O,QAAQ3zB,gBAI3G0hC,GACAhtD,KAAKo7D,cAAcp7D,KAAKm4D,cAGhC,OAEI,IAAI9mB,EAAkB,GAClBw0B,EAAcnpD,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,OACnE,IAAK,IAAIwlD,KAAcuE,EACvB,CACI,IAAI7J,EAAM,IAAI8J,QACd9J,EAAI3wD,QAAUi2D,EACdtF,EAAI+J,MAAQ,KAAA56D,KAAKm2D,GAAYxlD,KAAK,MAClCkgD,EAAI7lD,GAAKmrD,EAAWnrD,GACpB6lD,EAAIC,WAAaqF,EAAW9iC,aAAa,cACzCw9B,EAAIn/C,MAAQ4U,OAAO6vC,EAAW9iC,aAAa,QAC3C6S,EAAK7d,KAAKwoC,GAEd,OAAO3qB,EAKJ,YAAY20B,GAAyB,GAExC,IAAI30B,EAAOrxC,KAAKm4D,aAChB,GAAI6N,EAEA,IAAK,IAAIhK,KAAO3qB,EAEZ,IAAK,IAAItvC,KAAYi6D,EACrB,CACI,IAAIiK,EAAgBjK,EAAIj6D,GACpBshB,KAAKoG,cAAcw8C,KACnBjK,EAAIj6D,GAAYshB,KAAKyN,wBAAwBm1C,IAI7D,OAAO50B,EAAK/b,OAAOJ,IAAsB,IAAjBA,EAAE4mC,YAG9B,kBAEI,IAAIz5D,EAAUrC,KAAK+sC,aACfm5B,EAAmCxpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,wBACzF9b,KAAKo0D,0BACL8R,EAAexpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,yBAE/E,IAAIqqD,EAAsBD,EAAa5wC,OAAOJ,GAAKA,EAAE4lB,SAEjDsrB,EAAsB,GAC1B,IAAK,IAAIC,KAAmBF,EAC5B,CACI,IAAI7E,EAAa+E,EAAgBvpC,QAAQ,MACzC,GAAkB,MAAdwkC,EACJ,CACI,IAAIlH,EAAQ,KAAAjvD,KAAKm2D,GAAYx1D,KAAK,cAC9Bw6D,EAActmE,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBoO,GAAO,GACrE,MAAfkM,GACAF,EAAa5yC,KAAK8yC,IAG9B,OAAOF,EAGX,mBAEI,IAAI/jE,EAAUrC,KAAK+sC,aACnB,OAAO/sC,KAAK43D,kBAAkBh7C,IAAIsY,GAAU,MAALA,GAAaA,EAAE7yB,EAAQ2pD,oBAGlE,kBAEI,OAAOhsD,KAAKukE,cAGhB,qBAAqB5iE,GAEjB,IAAIU,EAAUrC,KAAK+sC,aACnB,OAAO/sC,KAAKumE,kBAAkB3pD,IAAIsY,GAAY,MAAPvzB,EAAcuzB,EAAEvzB,GAAOuzB,EAAE7yB,EAAQ2pD,oBAK5E,eAAe7b,GAAgB,GAE3BnwC,KAAKq1D,eAAellB,GAGxB,aAAaA,GAAgB,GAEzB,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAI1qC,EAAQoJ,YAAc,KAAAwE,qBAAqBklD,YAC3C,OAEJ,IAAIqR,EAAiB,KAAAr7D,KAAK,IAAM,KAAAA,KAAKnL,KAAKqL,WAAWS,KAAK,MAAQ,yBAClE06D,EAAe16D,KAAK,UAAW,WACN,MAArB06D,EAAe,KACfA,EAAe,GAAG1rB,SAAU,GAEhC,IAAIorB,EAAmCxpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,wBACzF9b,KAAKo0D,0BACL8R,EAAexpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,yBAE/E,IAAK,IAAI2rC,KAAYye,EAEjB,KAAA/6D,KAAKs8C,GAAU37C,KAAK,UAAW,WAC/B27C,EAAS3M,SAAU,EAMvB,GAHA0rB,EAAe3nC,YAAY,2BAGvBx8B,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAAmBxrD,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAChG,CACI,IAAIq0C,EAAc,KAAAt7D,KAAKnL,KAAK6xD,UAAU/1C,KAAK,mBACvC9b,KAAKo0D,0BACLqS,EAAc,KAAAt7D,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,oBAEjD,IAAK,IAAI4qD,KAAchqD,MAAMm/B,KAAK4qB,GAClC,CACI,IAAI3pB,EAAW,KAAA3xC,KAAKu7D,GAAY5qD,KAAK,SACpCghC,EAAS,GAAwBhC,SAAU,EAC5CgC,EAASje,YAAY,4BAQ7B,GAHA7+B,KAAK23D,0BAA4B33D,KAAK43D,kBAGlCznB,GAA4C,MAA3B9tC,EAAQskE,gBAC7B,CACI,IAAIC,EAAqB,IAAIC,uBAC7BD,EAAmB97B,OAAS9qC,KAC5BqC,EAAQskE,gBAAgBC,IAKhC,eAAez2B,GAAgB,GAE3B,IAAI9tC,EAAUrC,KAAK+sC,aACfy5B,EAAiB,KAAAr7D,KAAK,IAAM,KAAAA,KAAKnL,KAAKqL,WAAWS,KAAK,MAAQ,yBAClE06D,EAAejd,WAAW,WACD,MAArBid,EAAe,KACfA,EAAe,GAAG1rB,SAAU,GAEhC,IAAIorB,EAAmCxpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,wBACzF9b,KAAKo0D,0BACL8R,EAAexpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,yBAE/E,IAAK,IAAI2rC,KAAYye,EAEjB,KAAA/6D,KAAKs8C,GAAU8B,WAAW,WAC1B9B,EAAS3M,SAAU,EAMvB,GAHA0rB,EAAe3nC,YAAY,2BAGvBx8B,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAAmBxrD,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,KAChG,CACI,IAAIq0C,EAAc,KAAAt7D,KAAKnL,KAAK6xD,UAAU/1C,KAAK,mBACvC9b,KAAKo0D,0BACLqS,EAAc,KAAAt7D,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,oBAEjD,IAAK,IAAI4qD,KAAchqD,MAAMm/B,KAAK4qB,GAClC,CACI,IAAI3pB,EAAW,KAAA3xC,KAAKu7D,GAAY5qD,KAAK,SACpCghC,EAAS,GAAwBhC,SAAU,EAC5C,KAAA3vC,KAAK2xC,GAAUyM,WAAW,WAC1BzM,EAASje,YAAY,4BAQ7B,GAHA7+B,KAAK23D,0BAA4B,GAG7BxnB,GAA8C,MAA7B9tC,EAAQykE,kBAC7B,CACI,IAAIC,EAAuB,IAAIC,yBAC/BD,EAAqBj8B,OAAS9qC,KAC9BqC,EAAQykE,kBAAkBC,IAKlC,oBAAoBE,EAAmB92B,GAAgB,GAEnD,IAAK,IAAItzB,KAASoqD,EACdjnE,KAAKknE,iBAAiBrqD,EAAOszB,GAGrC,iBAAiBtzB,EAAeszB,GAAgB,GAE5C,IACI8rB,EADK,KAAA9wD,KAAKnL,KAAK6xD,UAAU/1C,KAAK,WAAae,EAAQ,MACnC/Q,KAAK,cACzB9L,KAAK89D,kBAAkB7B,GAAY,GAAO,EAAO9rB,GAGrD,WAAW2pB,EAAsB/3D,EAAmBouC,GAAgB,GAOhE,GALcnwC,KAAK+sC,aACPthC,YAAc,KAAAwE,qBAAqBklD,cAC3C2E,EAAa,CAACA,EAAWvlC,WAGb,MAAZxyB,EACJ,CACI,IAAIM,EAAUrC,KAAK+sC,aACfo6B,EAAgC,GACpCrN,EAAaA,EAAWjjC,aACxB,IAAK,IAAI+uC,KAAU9L,EACfqN,EAAuBvyC,YAAY50B,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAEnzB,IAAa6jE,IAEpF9L,EAAaqN,EAAuBvqD,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,oBAI3D,IAAK,IAAI4Z,KAAU9L,EACf95D,KAAKonE,UAAUxB,EAAQz1B,GAG/B,UAAUy1B,EAAgBz1B,GAAgB,GAEtCnwC,KAAK89D,kBAAkB8H,GAAQ,GAAO,GAAO,EAAMz1B,GAG/C,oBAAoBhN,GAExB,IAAIkkC,EAAW51C,OAAO,KAAAtmB,KAAKg4B,GAAQrG,QAAQ,MAAMhxB,KAAK,QAClDo6D,EAAmCxpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,gCACzF9b,KAAKo0D,0BACL8R,EAAexpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,iCAE/E,IAAIwrD,EAAgC,GACpC,IAAK,IAAI7f,KAAYye,EACjBoB,EAAe9zC,KAAK,KAAAroB,KAAKs8C,GAAU3qB,QAAQ,MAAM,IAErD,IAAIyqC,EAAiC,KACjCC,EAAgB,EACpB,IAAK,IAAIC,KAAcH,EACvB,CACI,IAAII,EAAmBj2C,OAAO,KAAAtmB,KAAKs8D,GAAY37D,KAAK,QAChDogB,EAAOqB,KAAKC,IAAI65C,EAAWK,IACR,MAAnBH,GAA4Br7C,EAAOq7C,GAAmBr7C,EAAO,KAE7Dq7C,EAAkBr7C,EAClBs7C,EAAgB/1C,OAAO,KAAAtmB,KAAKs8D,GAAY37D,KAAK,SAIrD,IACI0X,EAAOgkD,EAAgBH,EAAYA,EAAWG,EAClD,IAAK,IAAIpnE,GAFIonE,EAAgBH,EAAYG,EAAgBH,GAEpC,EAAGjnE,GAAKojB,EAAKpjB,IAClC,CACI,IACI67D,EADK,KAAA9wD,KAAKnL,KAAK6xD,UAAU/1C,KAAK,WAAa1b,EAAI,MAC/B0L,KAAK,cACzB9L,KAAK89D,kBAAkB7B,GAAY,GAAM,GAAM,GAAO,GAAM,IAI5D,kBAAkB2J,EAAgB+B,GAAoB,EAAOC,GAAiB,EAAOC,GAAiB,EAAO13B,GAAgB,EAAMpF,GAAW,EAAO0c,GAAW,GAEpK,IAAIplD,EAAUrC,KAAK+sC,aACfm5B,EAAmCxpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,wBACzFgsD,EAAwCprD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,+BAE9F9b,KAAKo0D,0BAEL8R,EAAexpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,wBAC3EgsD,EAAoBprD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,gCAIpF,IAAImiC,EAAW,KACX8pB,EAAmB7B,EAAa5wC,OAAOJ,GAAK,KAAA/pB,KAAK+pB,GAAUppB,KAAK,eAAiB85D,GAAQ,GAC7F,GAAwB,MAApBmC,EACJ,CACI,GAAIA,EAAiBjtB,QACrB,CACI,IAAIktB,EAAsB9B,EAAa5wC,OAAOJ,GAAKA,EAAE4lB,SACrD,GAAIz4C,EAAQoJ,YAAc,KAAAwE,qBAAqBklD,aAAgB9yD,EAAQoJ,YAAc,KAAAwE,qBAAqBi9C,aAAeya,GAAqBK,EAAoB58D,OAAS,EAC3K,CACI,IAAKy8D,EACL,CACI,IAAK,IAAIpgB,KAAYye,EAEjB,KAAA/6D,KAAKs8C,GAAU8B,WAAW,WAC1B9B,EAAS3M,SAAU,EAGvB,IAAK,IAAI2M,KAAYqgB,EAEjB,KAAA38D,KAAKs8C,GAAU8B,WAAW,WAC1B9B,EAAS3M,SAAU,EACnB,KAAA3vC,KAAKs8C,GAAU5oB,YAAY,2BAGO,MAAlC7+B,KAAK23D,2BACL33D,KAAK23D,0BAA0BxiC,cAAcD,GAAKA,EAAE7yB,EAAQ2pD,oBAAuB4Z,GAG3F,KAAAz6D,KAAK48D,GAAkBj8D,KAAK,UAAW,WACvCi8D,EAAiBjtB,SAAU,OAEtB8sB,GACL5nE,KAAK69D,YAAY+H,EAAQz1B,OAGjC,CACI,KAAK9tC,EAAQoJ,YAAc,KAAAwE,qBAAqBklD,aAAgBwS,GAAuBE,GACvF,CACI,IAAK,IAAIpgB,KAAYye,EAEjB,KAAA/6D,KAAKs8C,GAAU8B,WAAW,WAC1B9B,EAAS3M,SAAU,EAEmB,MAAlC96C,KAAK23D,2BACL33D,KAAK23D,0BAA0BxiC,cAAcD,GAAKA,EAAE7yB,EAAQ2pD,oBAAuB4Z,GAG3F,IAAK,IAAIne,KAAYqgB,EAEjB,KAAA38D,KAAKs8C,GAAU8B,WAAW,WAC1B9B,EAAS3M,SAAU,EACnB,KAAA3vC,KAAKs8C,GAAU5oB,YAAY,2BAI9B+oC,GAAmBC,GAUpB,KAAA18D,KAAK48D,GAAkBj8D,KAAK,UAAW,WACvCi8D,EAAiBjtB,SAAU,IAT3B,KAAA3vC,KAAK48D,GAAkBxe,WAAW,WAClCwe,EAAiBjtB,SAAU,EAEW,MAAlC96C,KAAK23D,2BACL33D,KAAK23D,0BAA0BxiC,cAAcD,GAAKA,EAAE7yB,EAAQ2pD,oBAAuB4Z,IAS/F3nB,EAAWj+C,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuB4Z,GAAQ,GAItF,IAAIY,EAAiB,KAAAr7D,KAAK,IAAM,KAAAA,KAAKnL,KAAKqL,WAAWS,KAAK,MAAQ,yBAClE06D,EAAe1rC,SAAS,2BAGxB,IAAIsrC,EAAepmE,KAAK43D,kBACxB,GAAsC,MAAlC53D,KAAK23D,0BAEL,IAAK,IAAI2O,KAAeF,EAEyB,GAAzCpmE,KAAK23D,0BAA0BvsD,QAAgBpL,KAAK23D,0BAA0B/6C,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,oBAAqBjwC,SAASuqD,EAAYjkE,EAAQ2pD,qBACnJhsD,KAAK23D,0BAA0BnkC,KAAK8yC,GAqBhD,GAjBIF,EAAah7D,QAAU86D,EAAa96D,QAEpCo7D,EAAe3nC,YAAY,2BAC3B2nC,EAAe16D,KAAK,UAAW,WAEN,MAArB06D,EAAe,KACfA,EAAe,GAAG1rB,SAAU,IAEJ,GAAvBsrB,EAAah7D,QAClBo7D,EAAe3nC,YAAY,2BAI/B7+B,KAAKioE,uBAAuBF,GAID,MAAvB1lE,EAAQ8+D,aAAmC,MAAZljB,GAAoB9N,EACvD,CACI,IAAImxB,EAAa,KAAAn2D,KAAK48D,GAAkBjrC,QAAQ,MAAM,GAGlDjgB,EADmB7c,KAAKm4D,aAAav7C,IAAIsY,GAAKA,EAAE7yB,EAAS2pD,oBAChCj3B,QAAQkpB,EAAS57C,EAAS2pD,qBACzC,GAAVnvC,GAA6C,MAA9Bxa,EAAS2pD,oBACxBnvC,EAAQ,KAAA1R,KAAKm2D,GAAYzkD,SAE7B,IAAIukD,EAAiB,IAAIC,mBACzBD,EAAet2B,OAAS9qC,KACxBohE,EAAeE,WAAaA,EAC5BF,EAAenjB,SAAWA,EAC1BmjB,EAAetmB,QAA+B,MAApBitB,GAA4BA,EAAiBjtB,QACvEsmB,EAAetW,MAAqB,MAAZ7M,GAA4D,MAAxCA,EAAS57C,EAAQ2pD,mBAC7DoV,EAAevkD,MAAQA,EACvBukD,EAAer2B,SAAWA,EAC1Bq2B,EAAe8G,aAAezgB,EAC9BplD,EAAQ8+D,YAAYC,IAKpB,uBAAuB3Z,GAE3B,IAAIplD,EAAUrC,KAAK+sC,aACnB,GAAI1qC,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAAsE,MAAlDxrD,EAAQwrD,QAAgCE,QAAmB1rD,EAAQwrD,QAAgCE,OAAO3iD,OAAS,GAAK/I,EAAQoJ,YAAc,KAAAwE,qBAAqBmiB,MAAoB,MAAZq1B,EACjO,CAEI,IAAIgW,EAAiBhW,EAASiW,cAAeA,cACzCt9D,EAAI,KAAA+K,KAAKsyD,GAAgB5gD,QAC7B,MAAQ,KAAA1R,KAAKsyD,GAAgBn/B,SAAS,mBAElCm/B,EAAiB,KAAAtyD,KAAKnL,KAAK6xD,UAAU/1C,KAAK,gBAAkB1b,EAAI,KAAK,GACjEJ,KAAKo0D,0BACLqJ,EAAiB,KAAAtyD,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,gBAAkB1b,EAAI,KAAK,IAE/EA,IAKJ,KAAsD,GAA9CqxB,OAAO,KAAAtmB,KAAKsyD,GAAgB3xD,KAAK,WAAkB,KAAAX,KAAKsyD,GAAgBn/B,SAAS,mBAAuB7M,OAAO,KAAAtmB,KAAKsyD,GAAgB3xD,KAAK,UAAY,IAAM,KAAAX,KAAKsyD,GAAgBn/B,SAAS,mBACjM,CACI,IAAK,KAAAnzB,KAAKsyD,GAAgBn/B,SAAS,kBACnC,CACIm/B,EAAiB,KAAAtyD,KAAKnL,KAAK6xD,UAAU/1C,KAAK,gBAAkB1b,EAAI,KAAK,GACjEJ,KAAKo0D,0BACLqJ,EAAiB,KAAAtyD,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,gBAAkB1b,EAAI,KAAK,IAE/EA,IACA,SAGJ,IAAI+nE,EAAsB,KAAAh9D,KAAKsyD,GAAgB3hD,KAAK,SAGhDohD,EAAel9D,KAAKm9D,qBAAqBM,EAAgBz9D,KAAK6xD,UAC9D7xD,KAAKo0D,0BACL8I,EAAel9D,KAAKm9D,qBAAqBM,EAAgBz9D,KAAK4xD,iBAElE,IAAIwW,EAA0BpoE,KAAKqoE,4BAA4B5K,EAAgBz9D,KAAK6xD,UAAUzmD,OAe9F,GAdIpL,KAAKo0D,0BACLgU,EAA0BpoE,KAAKqoE,4BAA4B5K,EAAgBz9D,KAAK4xD,gBAAgBxmD,QAEnG+8D,EAAoB,GAAwBrtB,SAAU,EACvDqtB,EAAoBtpC,YAAY,2BAE5BupC,GAA2BlL,EAAa3iD,SAASnP,OAChD+8D,EAAoB,GAAwBrtB,SAAU,EACvB,GAA3BstB,EACJD,EAAoB,GAAwBrtB,SAAU,EAEvDqtB,EAAoBrtC,SAAS,2BAGiB,GAA9CrJ,OAAO,KAAAtmB,KAAKsyD,GAAgB3xD,KAAK,UACjC,MAEJ2xD,EAAiB,KAAAtyD,KAAKnL,KAAK6xD,UAAU/1C,KAAK,gBAAkB1b,EAAI,KAAK,GACjEJ,KAAKo0D,0BACLqJ,EAAiB,KAAAtyD,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,gBAAkB1b,EAAI,KAAK,IAE/EA,MAKZ,aAAa05D,EAAsB/3D,EAAmBouC,GAAgB,GAGlE,GAAgB,MAAZpuC,EACJ,CACI,IAAIM,EAAUrC,KAAK+sC,aACfo6B,EAAgC,GACpCrN,EAAaA,EAAWjjC,aACxB,IAAK,IAAI+uC,KAAU9L,EACfqN,EAAuBvyC,YAAY50B,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAEnzB,IAAa6jE,IAEpF9L,EAAaqN,EAAuBvqD,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,oBAI3D,IAAK,IAAI4Z,KAAU9L,EACf95D,KAAK69D,YAAY+H,EAAQz1B,GAGjC,YAAYy1B,EAAgBz1B,GAAgB,GAExC,IAAI9tC,EAAUrC,KAAK+sC,aACfm5B,EAAmCxpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,wBACzF9b,KAAKo0D,0BACL8R,EAAexpD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,yBAE/E,IAAI0qD,EAAiB,KAAAr7D,KAAK,IAAM,KAAAA,KAAKnL,KAAKqL,WAAWS,KAAK,MAAQ,yBAClE06D,EAAejd,WAAW,WACD,MAArBid,EAAe,KACfA,EAAe,GAAG1rB,SAAU,GAEhC,IAAIsrB,EAAepmE,KAAK43D,kBACxB,GAAsC,MAAlC53D,KAAK23D,0BAEL,IAAK,IAAI2O,KAAeF,EACpBpmE,KAAK23D,0BAA0B1iC,aAAaqxC,EAAajkE,EAAQ2pD,mBAG9C,GAAvBoa,EAAah7D,OACbo7D,EAAe3nC,YAAY,2BAE3B2nC,EAAe1rC,SAAS,2BAE5B,IAAImjB,EAAW,KACX8pB,EAAmB7B,EAAa5wC,OAAOJ,GAAK,KAAA/pB,KAAK+pB,GAAUppB,KAAK,eAAiB85D,GAAQ,GAY7F,GAXwB,MAApBmC,IAEIA,EAAiBjtB,UAEjB,KAAA3vC,KAAK48D,GAAkBxe,WAAW,WAClCwe,EAAiBjtB,SAAU,GAE/BmD,EAAWj+C,KAAKm4D,aAAa7iC,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuB4Z,GAAQ,IAIzD,MAAzBvjE,EAAQimE,eAAyBn4B,EACrC,CACI,IAAIo4B,EAAmB,IAAIC,qBAC3BD,EAAiBz9B,OAAS9qC,KAC1BuoE,EAAiBjH,WAAayG,EAAiBjrC,QAAQ,MACvDyrC,EAAiBtqB,SAAWA,EAC5B57C,EAAQimE,cAAcC,IAOtB,aAAavb,GAAS,GAEK,MAA3BhtD,KAAKu7D,oBACLv7D,KAAKisB,KAAKjsB,KAAKu7D,mBAAmBtc,MAAOj/C,KAAKu7D,mBAAmBh6D,KAAMyrD,GAG/E,WAAWyb,GAAmB,GAE1B,GAA+B,MAA3BzoE,KAAKu7D,mBACT,CACI,IAAIl5D,EAAUrC,KAAK+sC,aACfkS,EAAQj/C,KAAKu7D,mBAAmBtc,MAChCypB,EAAO,KAAAv9D,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAemjC,EAAQ,MACzD58C,EAAQ4qD,UAAuB,MAAXyb,EAAK,KACzBA,EAAO,KAAAv9D,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,OAEpD,MAAXypB,EAAK,KAELA,EAAK,GAAGjtD,MAAMC,SAAW,gEAEoB,MAAzCgtD,EAAK5sD,KAAK,yBAAyB,KACnC4sD,EAAK5sD,KAAK,yBAAyB,GAAGL,MAAMC,SAAW,4BAG/DgtD,EAAK5sD,KAAK,KAAK+iB,YAAY,KAAAnyB,iBAAiBi8D,SAC5CD,EAAK5sD,KAAK,KAAK+iB,YAAY,KAAAnyB,iBAAiBkrC,WAC5C8wB,EAAKnf,WAAW,YAChBvpD,KAAKu7D,mBAAqB,KAEtBkN,KAE8B,IAA1BpmE,EAAQ8qD,cACRntD,KAAKgtD,SAELhtD,KAAK4yD,WAKrB,KAAK3T,EAAe2pB,EAA0C5b,GAAS,GAEnE,IAAI3qD,EAAUrC,KAAK+sC,aACnB,IAAyB,IAArB1qC,EAAQqrD,SACR,OAE2B,MAA3B1tD,KAAKu7D,oBAA8Bv7D,KAAKu7D,mBAAmBtc,QAAUA,GACrEj/C,KAAK41D,YAAW,GAEpB,IAAI8S,EAAO,KAAAv9D,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAemjC,EAAQ,MACzD58C,EAAQ4qD,UAAuB,MAAXyb,EAAK,KACzBA,EAAO,KAAAv9D,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,OAEpD,MAAXypB,EAAK,KAELA,EAAK,GAAGjtD,MAAMC,SAAW,8DAEoB,MAAzCgtD,EAAK5sD,KAAK,yBAAyB,KACnC4sD,EAAK5sD,KAAK,yBAAyB,GAAGL,MAAMC,SAAW,4BAIvC,MAApBktD,IAA0BA,EAAmB,KAAA14D,sBAAsB8uC,KACvEh/C,KAAKu7D,mBAAqB,CAAEtc,MAAOA,EAAO19C,KAAMqnE,GAC5CA,GAAoB,KAAA14D,sBAAsB8uC,KAE1C0pB,EAAK5sD,KAAK,KAAK+iB,YAAY,KAAAnyB,iBAAiBkrC,WAC5C8wB,EAAK5sD,KAAK,KAAK+iB,YAAY,KAAAnyB,iBAAiBi8D,SAE5CD,EAAK5sD,KAAK,KAAKgf,SAAS,KAAApuB,iBAAiBi8D,SACzCD,EAAK58D,KAAK,WAAY,KAAAoE,sBAAsB8uC,OAI5C0pB,EAAK5sD,KAAK,KAAK+iB,YAAY,KAAAnyB,iBAAiBkrC,WAC5C8wB,EAAK5sD,KAAK,KAAK+iB,YAAY,KAAAnyB,iBAAiBi8D,SAE5CD,EAAK5sD,KAAK,KAAKgf,SAAS,KAAApuB,iBAAiBkrC,WACzC8wB,EAAK58D,KAAK,WAAY,KAAAoE,sBAAsBylD,QAKlB,IAA1BtzD,EAAQ8qD,eAA2BH,EAEnChtD,KAAKgtD,UAKLhtD,KAAKm4D,aAAa/sD,OAAS,MAC3B,KAAAmS,aAEJiH,OAAOwa,WAAW,KAEdh/B,KAAK26D,aAAe,IAAIh0D,IACxB3G,KAAK46D,WAAa,IAAIj0D,IACtB3G,KAAK66D,aAAe,IAAIl0D,IACxB3G,KAAK86D,YAAc,IAAIn0D,IACvB3G,KAAK+6D,YAAc,IAAIp0D,IAEvB,IAAI2wC,EAAet3C,KAAKm4D,aAAav7C,IAAIsY,GAAKA,GACvB,MAAnB7yB,EAAQwrD,SAEPxrD,EAAQwrD,QAAgCgb,eAAiB,CAAE5pB,MAAOA,EAAO3hB,UAAWsrC,GACrF5oE,KAAKm7D,mBAAmB7jB,IAGxBA,EAAM9hB,SAAS,CAACypB,GAAS2pB,GAAoB,KAAA14D,sBAAsB8uC,KAEnEgO,IAEAhtD,KAAKw7D,UAAUlkB,GACft3C,KAAKy7D,kBAET,KAAA99C,gBAIA,mBAAmBiiC,GAEvB,IAAIv9C,EAAUrC,KAAK+sC,aACf+7B,EAA0B,GAG9B,GAA+D,MAA1DzmE,EAAQwrD,QAAgCgb,eAC7C,CACI,IAAIE,EAAwB1mE,EAAQwrD,QAAgCgb,eAAoC5pB,MAC7E,MAAvB8pB,IAEM1mE,EAAQwrD,QAAgCgb,eAAqCvrC,WAAa,KAAAptB,sBAAsBylD,KAClHmT,EAAct1C,KAAK,IAAMu1C,GAEzBD,EAAct1C,KAAKu1C,IAM/B,IAAIpb,EAAiE,MAAlDtrD,EAAQwrD,QAAgC9O,OAAmB18C,EAAQwrD,QAAgC9O,OAA6BE,MAAQ,KAC3J,GAAmB,MAAf0O,EAEMtrD,EAAQwrD,QAAgC9O,OAA6BzhB,WAAa,KAAAptB,sBAAsBylD,KAC1GmT,EAAct1C,KAAK,IAAMm6B,GAEzBmb,EAAct1C,KAAKm6B,QAIvB,GAAuD,MAAlDtrD,EAAQwrD,QAAgCE,OAEzC,IAAK,IAAIqO,KAAkB/5D,EAAQwrD,QAAgCE,OAE3C,MAAhBqO,IAGC0M,EAAc/sD,SAAUqgD,EAAiCnd,QAC1D6pB,EAAct1C,KAAM4oC,EAAiCnd,QAMrEW,EAAUpqB,SAASszC,GAKvB,OAAO7pB,GAEH,IAAI58C,EAAUrC,KAAK+sC,aACfihB,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASA,GAAO,GACxD+pB,EAAc3mE,EAAQ+pD,QAASr3B,QAAQi5B,GAC3C,OAAO3rD,EAAQ+pD,QAAS4c,GAG5B,YAAY/pB,EAAehpC,GAEvB,IAAI+3C,EAAShuD,KAAKguD,OAAO/O,GACzB,GAAc,MAAV+O,EACJ,CACI,GAAa,MAAT/3C,EACJ,CACI+3C,EAAO/3C,MAAQA,EACf,KAAA9K,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAemjC,EAAQ,MAAMnjC,KAAK,6BAA6BmmB,KAAKhsB,GAEjFjW,KAAK+sC,aACPkgB,UACR,KAAA9hD,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,MAAMnjC,KAAK,6BAA6BmmB,KAAKhsB,GAE7G,OAAO+3C,EAAO/3C,MAGd,MAAO,GAGf,YAAY83C,EAAkB6E,GAAS,GAEnC,IAAK,IAAI3T,KAAS8O,EACd/tD,KAAKipE,WAAWhqB,GAAO,GAEvB2T,GACA5yD,KAAK4yD,SAGb,WAAW3T,EAAewpB,GAAmB,GAEzC,KAAAt9D,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAemjC,EAAQ,MAAMpsC,OACxD,KAAA1H,KAAKnL,KAAKyxD,aAAa31C,KAAK,aAAemjC,EAAQ,MAAMpsC,OACzD,KAAA1H,KAAKnL,KAAK6xD,UAAU/1C,KAAK,aAAemjC,EAAQ,MAAMpsC,OACtD,KAAA1H,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAemjC,EAAQ,MAAMpsC,OAE1C7S,KAAK+sC,aACPkgB,WAER,KAAA9hD,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,MAAMpsC,OAC9D,KAAA1H,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,aAAemjC,EAAQ,MAAMpsC,OAC/D,KAAA1H,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,aAAemjC,EAAQ,MAAMpsC,OAC5D,KAAA1H,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAemjC,EAAQ,MAAMpsC,QAGlE,IAAIm7C,EAAShuD,KAAKguD,OAAO/O,GACX,MAAV+O,IAEAA,EAAOgB,QAAS,EAChBhvD,KAAKk2D,aAAajX,IAGlBwpB,GACAzoE,KAAK4yD,SAGb,mBAAmB6V,GAAmB,GAElCzoE,KAAKipE,WAAW,uBAAwBR,GAG5C,YAAY1a,EAAkB6E,GAAS,GAEnC,IAAK,IAAI3T,KAAS8O,EACd/tD,KAAKkpE,WAAWjqB,GAAO,GAEvB2T,GACA5yD,KAAK4yD,SAGb,WAAW3T,EAAewpB,GAAmB,GAEzC,KAAAt9D,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAemjC,EAAQ,MAAM/iC,OACxD,KAAA/Q,KAAKnL,KAAKyxD,aAAa31C,KAAK,aAAemjC,EAAQ,MAAM/iC,OACzD,KAAA/Q,KAAKnL,KAAK6xD,UAAU/1C,KAAK,aAAemjC,EAAQ,MAAM/iC,OACtD,KAAA/Q,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAemjC,EAAQ,MAAM/iC,OAE1Clc,KAAK+sC,aACPkgB,WAER,KAAA9hD,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,MAAM/iC,OAC9D,KAAA/Q,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,aAAemjC,EAAQ,MAAM/iC,OAC/D,KAAA/Q,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,aAAemjC,EAAQ,MAAM/iC,OAC5D,KAAA/Q,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAemjC,EAAQ,MAAM/iC,QAGlE,IAAI8xC,EAAShuD,KAAKguD,OAAO/O,GACX,MAAV+O,IACAA,EAAOgB,QAAS,GAEhByZ,GACAzoE,KAAK4yD,SAGb,mBAAmB6V,GAAmB,GAElCzoE,KAAKkpE,WAAW,uBAAwBT,GAG5C,oBAAoBU,EAAqBV,GAAmB,GAExD,IAAIpmE,EAAUrC,KAAK+sC,aACnB,IAAK,IAAIihB,KAAU3rD,EAAQ+pD,QACvBpsD,KAAKipE,WAAWjb,EAAO/O,OAAO,GAElC,IAAK,IAAIA,KAASkqB,EACdnpE,KAAKkpE,WAAWjqB,GAAO,GAEvBwpB,GACAzoE,KAAK4yD,SAGb,cAAcvxD,EAAe+3B,EAAgBqvC,GAAmB,GAExDrvC,EAAOp5B,KAAKkpE,WAAW7nE,EAAOonE,GAC7BzoE,KAAKipE,WAAW5nE,EAAOonE,GAGhC,sBAAsBrvC,EAAgBqvC,GAAmB,GAEjDrvC,EAAOp5B,KAAKopE,mBAAmBX,GAC9BzoE,KAAKqpE,mBAAmBZ,GAKjC,YAAY1a,EAAkB6E,GAAS,GAGnC,GADc5yD,KAAK+sC,aACPkgB,SACZ,CACI,IAAK,IAAIhO,KAAS8O,EACd/tD,KAAKspE,WAAWrqB,GAAO,GAEvB2T,GACA5yD,KAAK4yD,UAIjB,WAAW3T,EAAe2T,GAAS,GAE/B,IAAIvwD,EAAUrC,KAAK+sC,aACnB,GAAI1qC,EAAQ4qD,SACZ,CAMI,GAL6B,MAAzBjtD,KAAKoxD,mBAA0BpxD,KAAKoxD,iBAAiB31C,MAAMC,SAAW,0BAC5C,MAA1B1b,KAAKwxD,oBAA2BxxD,KAAKwxD,kBAAkB/1C,MAAMC,SAAW,0BACjD,MAAvB1b,KAAK4xD,iBAAwB5xD,KAAK4xD,eAAen2C,MAAMC,SAAW,0BACzC,MAAzB1b,KAAKoyD,mBAA0BpyD,KAAKoyD,iBAAiB32C,MAAMC,SAAW,2BAErE1b,KAAKo0D,wBACV,CAEI,IAAImV,EAAmBvpE,KAAKguD,OAAO,cACnC,GAAwB,MAApBub,EACJ,CACIA,EAAiB5Z,QAAS,EAC1B3vD,KAAKkpE,WAAW,cAAc,GAG9B,IAAIM,EAAoBnnE,EAAQ+pD,QAASr3B,QAAQw0C,GAC7CE,EAAepnE,EAAQ+pD,QAASp3B,OAAOw0C,EAAmB,GAAG,GACjEnnE,EAAQ+pD,QAASp3B,OAAO,EAAG,EAAGy0C,GAG9B,KAAAt+D,KAAKnL,KAAKqxD,YAAYv1C,KAAK,0BAAoChQ,KAAK,SAAU,UAC9E,KAAAX,KAAKnL,KAAKqxD,YAAYv1C,KAAK,0BAAoCxF,eAAe,KAAAnL,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,OAC/G,KAAA3Q,KAAKnL,KAAKyxD,aAAa31C,KAAK,0BAAoCxF,eAAe,KAAAnL,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,OACjH,KAAA3Q,KAAKnL,KAAK+xD,YAAYj2C,KAAK,0BAAoCxF,eAAe,KAAAnL,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,OAKnH,IAA2B,IAAvBzZ,EAAQoJ,WACZ,CACI,IAAIi+D,EAAmBrnE,EAAQ+pD,QAAS,GAAGnN,MAC3C,KAAA9zC,KAAKnL,KAAKqxD,YAAYv1C,KAAK,oCAA8Cie,mBAAmB,KAAA5uB,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,gBAAkB4tD,EAAmB,OAClK,KAAAv+D,KAAKnL,KAAKyxD,aAAa31C,KAAK,oCAA8Cie,mBAAmB,KAAA5uB,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,gBAAkB4tD,EAAmB,OACpK,KAAAv+D,KAAKnL,KAAK+xD,YAAYj2C,KAAK,oCAA8Cie,mBAAmB,KAAA5uB,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,gBAAkB4tD,EAAmB,QAK1K,KAAAv+D,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAemjC,EAAQ,MAAM3oC,eAAe,KAAAnL,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,OACxG,KAAA3Q,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,MAAMnzC,KAAK,SAAU,UAC7E,KAAAX,KAAKnL,KAAKyxD,aAAa31C,KAAK,aAAemjC,EAAQ,MAAM3oC,eAAe,KAAAnL,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,OAC1G,KAAA3Q,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAemjC,EAAQ,MAAM3oC,eAAe,KAAAnL,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,OAExG,IAAIkyC,EAAShuD,KAAKguD,OAAO/O,GACzB,GAAc,MAAV+O,EACJ,CACIA,EAAO2B,QAAS,EAChB3vD,KAAKkpE,WAAWjqB,GAAO,GAGvB,IAAIuqB,EAAoBnnE,EAAQ+pD,QAASr3B,QAAQi5B,GAC7Cyb,EAAepnE,EAAQ+pD,QAASp3B,OAAOw0C,EAAmB,GAAG,GAC7DG,EAAmBtnE,EAAQ+pD,QAAS92B,OAAOJ,GAAiB,GAAZA,EAAEy6B,QAAgBp7B,SAClEq1C,EAA6C,MAApBD,EAA4B,EAAItnE,EAAQ+pD,QAASt4B,YAAY61C,GAC1FtnE,EAAQ+pD,QAASp3B,OAA4B,MAApB20C,EAA4B,EAAKC,EAAwB,EAAI,EAAGH,GAIzF7W,GACA5yD,KAAK4yD,UAIjB,cAAc7E,EAAkB6E,GAAS,GAGrC,GADc5yD,KAAK+sC,aACPkgB,SACZ,CACI,IAAK,IAAIhO,KAAS8O,EACd/tD,KAAK6pE,aAAa5qB,GAAO,GAEzB2T,GACA5yD,KAAK4yD,UAIjB,aAAa3T,EAAe2T,GAAS,GAEjC,IAAIvwD,EAAUrC,KAAK+sC,aACnB,GAAI1qC,EAAQ4qD,SACZ,CACI,KAAA9hD,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,MAAMsK,WAAW,UACzE,KAAAp+C,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAemjC,EAAQ,MAAM3oC,eAAe,KAAAnL,KAAKnL,KAAKqxD,YAAYv1C,KAAK,OACxG,KAAA3Q,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,aAAemjC,EAAQ,MAAM3oC,eAAe,KAAAnL,KAAKnL,KAAKyxD,aAAa31C,KAAK,OAC1G,KAAA3Q,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAemjC,EAAQ,MAAM3oC,eAAe,KAAAnL,KAAKnL,KAAK+xD,YAAYj2C,KAAK,OAExG,IAAIkyC,EAAShuD,KAAKguD,OAAO/O,GACzB,GAAc,MAAV+O,EACJ,CACIA,EAAO2B,QAAS,EAGhB,IAAI6Z,EAAoBnnE,EAAQ+pD,QAASr3B,QAAQi5B,GAC7Cyb,EAAepnE,EAAQ+pD,QAASp3B,OAAOw0C,EAAmB,GAAG,GACjEnnE,EAAQ+pD,QAASp3B,OAAO3yB,EAAQ+pD,QAAShhD,OAAQ,EAAGq+D,GAIxD,IAAKzpE,KAAKo0D,wBACV,CACiC,MAAzBp0D,KAAKoxD,mBAA0BpxD,KAAKoxD,iBAAiB31C,MAAMC,SAAW,kBAC5C,MAA1B1b,KAAKwxD,oBAA2BxxD,KAAKwxD,kBAAkB/1C,MAAMC,SAAW,kBACjD,MAAvB1b,KAAK4xD,iBAAwB5xD,KAAK4xD,eAAen2C,MAAMC,SAAW,kBACzC,MAAzB1b,KAAKoyD,mBAA0BpyD,KAAKoyD,iBAAiB32C,MAAMC,SAAW,kBAG1E,IAAI6tD,EAAmBvpE,KAAKguD,OAAO,cACnC,GAAwB,MAApBub,EACJ,CACIA,EAAiB5Z,QAAS,EAG1B,IAAI6Z,EAAoBnnE,EAAQ+pD,QAASr3B,QAAQw0C,GAC7CE,EAAepnE,EAAQ+pD,QAASp3B,OAAOw0C,EAAmB,GAAG,GACjEnnE,EAAQ+pD,QAASp3B,OAAO,EAAG,EAAGy0C,GAG9B,IAAIK,EAAuBznE,EAAQ+pD,QAAS,GAAGnN,MAC/C,KAAA9zC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,0BAAoCytC,WAAW,UAChF,KAAAp+C,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,0BAAoCie,mBAAmB,KAAA5uB,KAAKnL,KAAKqxD,YAAYv1C,KAAK,gBAAkBguD,EAAuB,OAC5J,KAAA3+D,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,0BAAoCie,mBAAmB,KAAA5uB,KAAKnL,KAAKyxD,aAAa31C,KAAK,gBAAkBguD,EAAuB,OAC9J,KAAA3+D,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,0BAAoCie,mBAAmB,KAAA5uB,KAAKnL,KAAK+xD,YAAYj2C,KAAK,gBAAkBguD,EAAuB,OAKhK,IAA2B,IAAvBznE,EAAQoJ,WACZ,CACI,IAAIi+D,EAAmBrnE,EAAQ+pD,QAAS,GAAGnN,MAC3C,KAAA9zC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,oCAA8Cie,mBAAmB,KAAA5uB,KAAKnL,KAAKqxD,YAAYv1C,KAAK,gBAAkB4tD,EAAmB,OAClK,KAAAv+D,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,oCAA8Cie,mBAAmB,KAAA5uB,KAAKnL,KAAKyxD,aAAa31C,KAAK,gBAAkB4tD,EAAmB,OACpK,KAAAv+D,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,oCAA8Cie,mBAAmB,KAAA5uB,KAAKnL,KAAK+xD,YAAYj2C,KAAK,gBAAkB4tD,EAAmB,QAKtK9W,GACA5yD,KAAK4yD,UAIjB,gBAGI,OADc5yD,KAAK+sC,aACJqf,QAAS92B,OAAOJ,GAAKA,EAAEy6B,QAAqB,cAAXz6B,EAAE+pB,OAGtD,wBAEI,IAAI58C,EAAUrC,KAAK+sC,aACnB,OAAO1qC,EAAQ4qD,UAAY5qD,EAAQ+pD,QAAS92B,OAAOJ,GAAgB,cAAXA,EAAE+pB,OAAuBlpB,MAAMb,GAAKA,EAAEy6B,QAKlG,YAAY1Q,EAAewpB,GAAmB,GAE1CzoE,KAAK+pE,aAAa,CAAC9qB,GAAQwpB,GAG/B,aAAa1a,EAAkB0a,GAAmB,GAE9C,IAAIpmE,EAAUrC,KAAK+sC,aACnB,GAAI1qC,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAClC,CACI,IAAK,IAAI5O,KAAS8O,EAER1rD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASkjC,IAChG58C,EAAQwrD,QAAgCE,OAA6B54B,cAAcD,GAAMA,EAAsB+pB,OAASA,GAE9H,KAAA9zC,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAiB7yC,KAAK,WAAamjC,GAAOpsC,OAGpB,MAAlDxQ,EAAQwrD,QAAgCE,QAAmG,GAA/E1rD,EAAQwrD,QAAgCE,OAA6B3iD,SAClI/I,EAAQwrD,QAAU,MAElB4a,GACAzoE,KAAK4yD,UAIjB,gBAAgB6V,GAAmB,GAE/B,IAAIpmE,EAAUrC,KAAK+sC,aACf1qC,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAC9B7tD,KAAK+pE,aAAe1nE,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,QAAQ,GAEhH58C,EAAQwrD,QAAU,KACd4a,GACAzoE,KAAK4yD,SAGb,SAAS3T,EAAiCwpB,GAAmB,EAAMuB,EAAmCnB,GAElG7oE,KAAKiqE,UAAU,CAAChrB,GAAQwpB,EAAkBuB,EAAgBnB,GAG9D,UAAU9a,EAAsC0a,GAAmB,EAAM1pB,EAA2B8pB,GAEhG,IAAIxmE,EAAUrC,KAAK+sC,aACnB,GAAuB,MAAnB1qC,EAAQwrD,QACRxrD,EAAQwrD,QAAU,IAAI,KAAA1sC,yBAGtB,GAAuB,MAAnB9e,EAAQwrD,SAAsE,MAAlDxrD,EAAQwrD,QAAgCE,QAAmB1rD,EAAQwrD,QAAgCE,OAAO3iD,OAAS,EACnJ,CAEI,IAAI8+D,EAAmB,iBAAAl/D,eAAeoqC,UAAW/yC,EAAQwrD,QAAgCE,QACzF,IAAK,IAAI9O,KAAS8O,EAClB,CACI,IAAIoc,EAAY,GAEZA,EADkB,iBAAX,EACKlrB,EAEAA,EAAMA,MAEjBirB,EAAUttD,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASouD,IACtCD,EAAU12C,KAAKyrB,GAKvB,OAFAj/C,KAAKoqE,iBAAgB,QACrBpqE,KAAKiqE,UAAUC,EAAWzB,EAAkB1pB,EAAQ8pB,GAK5D,IAAKxmE,EAAQurD,UACT,MAAM,IAAIhiD,MAAM,+DAEN,MAAVmzC,IACC18C,EAAQwrD,QAAgC9O,OAASA,GAEhC,MAAlB8pB,IACCxmE,EAAQwrD,QAAgCgb,eAAiBA,GAE9D,IAAK,IAAI5pB,KAAS8O,EAClB,CACI,IAAIe,EAAc7P,EACI,iBAAX,IAEP6P,EAAc,IAAI,KAAAztC,gBAClBytC,EAAY7P,MAAQA,GAG+B,MAAlD58C,EAAQwrD,QAAgCE,SAAiB1rD,EAAQwrD,QAAgCE,OAAS,IACxG1rD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAAU+yC,EAAgC7P,QAClI58C,EAAQwrD,QAAgCE,OAA6Bv6B,KAAKs7B,GAEhF,IAAIsN,EAAend,EAcnB,GAbsB,iBAAX,IACPmd,EAAend,EAAMA,OAEzB,KAAA9zC,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAiB7yC,KAAK,WAAasgD,GAAclgD,OAE1DQ,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKqxD,YAAYv1C,KAAK,6BAA6Bc,IAAIsY,GAAMA,EAAUlb,UAAU,IAClG+B,SAAS,UAAa+yC,EAAgC7P,QACrE,KAAA9zC,KAAKnL,KAAKqxD,YAAYv1C,KAAK,yBAAyB2d,cAAc,uGAA0Gq1B,EAAgC7P,MAAQ,YAAe6P,EAAgC7P,MAAQ,WAE3PviC,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKyxD,aAAa31C,KAAK,6BAA6Bc,IAAIsY,GAAMA,EAAUlb,UAAU,IACnG+B,SAAS,UAAa+yC,EAAgC7P,QACrE,KAAA9zC,KAAKnL,KAAKyxD,aAAa31C,KAAK,yBAAyB2d,cAAc,4EAA+Eq1B,EAAgC7P,MAAQ,WAE1L58C,EAAQ4qD,SACZ,CAC8BvwC,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,6BAA6Bc,IAAIsY,GAAMA,EAAUlb,UAAU,IACxG+B,SAAS,UAAa+yC,EAAgC7P,QAC3E,KAAA9zC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,yBAAyB2d,cAAc,uGAA0Gq1B,EAAgC7P,MAAQ,YAAe6P,EAAgC7P,MAAQ,WAE3PviC,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,6BAA6Bc,IAAIsY,GAAMA,EAAUlb,UAAU,IACzG+B,SAAS,UAAa+yC,EAAgC7P,QAC3E,KAAA9zC,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,yBAAyB2d,cAAc,4EAA+Eq1B,EAAgC7P,MAAQ,WAGrL58C,EAAQ+pD,QAASxvC,IAAIsY,GAAKA,EAAE+pB,OAC7BljC,SAAU+yC,EAAgC7P,QACxD58C,EAAQ+pD,QAAS54B,KAAK,CAAEyrB,MAAQ6P,EAAgC7P,MAAO+P,QAAQ,IAGvFhvD,KAAKm7D,mBAAmBn7D,KAAKm4D,cAEzBsQ,GACAzoE,KAAK4yD,SAGL,qBAAqB8L,EAAiB2L,GAE1C,IAAIC,EAA2C,IAAIC,sBAC/CC,EAA8B,GAG9BC,EAAQh5C,OAAO,KAAAtmB,KAAKuzD,GAAI5yD,KAAK,UAC7B1L,EAAI,KAAA+K,KAAKuzD,GAAI7hD,QAAU,EACvB6tD,EAAc,KAAAv/D,KAAKk/D,GAASvuD,KAAK,gBAAkB1b,EAAI,KACvDuqE,EAAgBl5C,OAAO,KAAAtmB,KAAKk/D,GAASvuD,KAAK,gBAAkB1b,EAAI,KAAK0L,KAAK,UAK9E,IAJA0+D,EAAah3C,KAAKk3C,EAAY,KAIb,GAATD,GAAcE,GAAiBF,GAAWA,GAASE,IAAkBD,EAAYpsC,SAAS,oBAEpE,GAAtBosC,EAAYt/D,QAGXo/D,EAAa5tD,IAAIsY,GAAK,KAAA/pB,KAAK+pB,GAAGppB,KAAK,OAAOiQ,SAAS2uD,EAAY5+D,KAAK,SAAU4+D,EAAYpsC,SAAS,mBACpGksC,EAAah3C,KAAKk3C,EAAY,IAElCtqE,IACAsqE,EAAc,KAAAv/D,KAAKk/D,GAASvuD,KAAK,gBAAkB1b,EAAI,KACvDuqE,EAAgBl5C,OAAO,KAAAtmB,KAAKk/D,GAASvuD,KAAK,gBAAkB1b,EAAI,KAAK0L,KAAK,UAQ9E,OAJA0+D,EAAeA,EAAal1C,OAAOJ,IAAM,KAAA/pB,KAAK+pB,GAAGoJ,SAAS,uBAC1DgsC,EAAkB/vD,SAAWiwD,EAAal1C,OAAOJ,IAAM,KAAA/pB,KAAK+pB,GAAGoJ,SAAS,mBACxEgsC,EAAkBM,UAAYJ,EAAal1C,OAAOJ,GAAK,KAAA/pB,KAAK+pB,GAAGoJ,SAAS,mBACxEgsC,EAAkBlN,QAAUoN,EACrBF,EAGH,4BAA4B5L,EAAiB2L,GAEjD,IAAIQ,EAAkB,GAClB3N,EAAel9D,KAAKm9D,qBAAqBuB,EAAI2L,GACjD,IAAK,IAAI1M,KAAYT,EAAa3iD,SAClC,CACI,IAAIuiC,EAAW,KAAA3xC,KAAKwyD,GAAU7hD,KAAK,uBAAuB,GAC1C,MAAZghC,GAAoBA,EAAShC,SAC7B+vB,EAAgBr3C,KAAKmqC,GAE7B,OAAOkN,EAKH,sBAEoB,MAApB7qE,KAAK8qE,cAGT9qE,KAAK8qE,YAAc,KAAAllE,aACf,CACI82B,kBAAkB,EAClBnhB,MAAO,IACPC,OAAQ,IACRuvD,WAAW,EACX90D,MAAO,0BACPsmB,eAAgBv8B,KAAKqL,UAAU8K,GAAK,cACpC2jC,QAAUx/B,IAEN,KAAAnP,KAAKnL,KAAK8qE,YAAYxoE,aAAa+X,SAClCra,KAAK8qE,YAAsB,MAEhCpe,OACI,CACI,CACI1jD,KAAM,KAAAwG,yBAAyBsmD,OAAQ/iD,KAAM,YAAaxR,KAAM,KAAAgM,eAAe2tB,QAC/E75B,MAAO,kBAAmB0Z,KAAM,KAAArO,iBAAiBs+D,WAAYrvC,MAAO,KAAAlsB,0BAA0B6rB,KAC9Fa,QAAU7hB,IAEN,IAAI2wD,EAA2B,KAAA9/D,KAAK,IAAMnL,KAAK2uD,WAAa,mCAC5D,IAAK,IAAIuc,KAAmBxuD,MAAMm/B,KAAuBovB,EAAyBnvD,KAAK,UACvF,CACI,IAAIghC,EAAW,iBAAAryC,eAAexJ,IAAciqE,EAAgB/0D,IACxD8oC,EAAQ,KAAA9zC,KAAK+/D,GAAiBp/D,KAAK,SAEnCq/D,GAAYnrE,KAAKuuD,4BAA4BxyC,SAASkjC,GACtDnC,EAAShC,WAAaqwB,GACtBruB,EAAShC,QAAQqwB,MAIjC,CACIniE,KAAM,KAAAwG,yBAAyBsmD,OAAQ/iD,KAAM,kBAAmBxR,KAAM,KAAAgM,eAAe2tB,QACrF75B,MAAO,WAAY0Z,KAAM,KAAArO,iBAAiB8rC,MAAO7c,MAAO,KAAAlsB,0BAA0B6rB,KAClFa,QAAU7hB,IAEN,IAAI2wD,EAA2B,KAAA9/D,KAAK,IAAMnL,KAAK2uD,WAAa,mCAC5D,IAAK,IAAIuc,KAAmBxuD,MAAMm/B,KAAuBovB,EAAyBnvD,KAAK,UACvF,CACI,IAAIghC,EAAW,iBAAAryC,eAAexJ,IAAciqE,EAAgB/0D,IACvD2mC,EAAShC,WACVgC,EAAShC,SAAQ,GAAM,MAIvC,CACI9xC,KAAM,KAAAwG,yBAAyBsmD,OAAQ/iD,KAAM,oBAAqBgI,KAAM,KAAArO,iBAAiB8rC,MACzF7c,MAAO,KAAAlsB,0BAA0B6rB,KACjCa,QAAU7hB,IAEN,IAAI2wD,EAA2B,KAAA9/D,KAAK,IAAMnL,KAAK2uD,WAAa,mCAC5D,IAAK,IAAIuc,KAAmBxuD,MAAMm/B,KAAuBovB,EAAyBnvD,KAAK,UACvF,CACI,IAAIghC,EAAW,iBAAAryC,eAAexJ,IAAciqE,EAAgB/0D,IACxD2mC,EAAShC,WACTgC,EAAShC,SAAQ,GAAO,MAIxC,CAAE9xC,KAAM,KAAAwG,yBAAyB0jD,MAAOv3B,MAAO,KAAAlsB,0BAA0BgsB,OACzE,CAAEzyB,KAAM,KAAAwG,yBAAyB47D,GAAI/pE,MAAO,KAAM0R,KAAM,UAAW4oB,MAAO,KAAAlsB,0BAA0BgsB,UAGpH,KAAAtwB,KAAKnL,KAAK8qE,YAAYz/D,WAAWe,aAAa,YAAcpM,KAAK2uD,WAAa,iEAG1E,kBAAkB0c,GAEtBrrE,KAAKsrE,sBAEL,IAAIC,EAAgC,GAChCC,EAAkC,GAClCC,EAAkC,GAClCC,EAAkC,GAClCC,EAAkC,GAClCC,EAAoC,GACpCC,GAAmB,EAEnBxpE,EAAUrC,KAAK+sC,aACnB/sC,KAAK8qE,YAAYn3D,KAAK,CAClB,CACItS,MAAO,KAAM+a,SAAU,KAEdyvD,IAGD7rE,KAAKm4D,aAAa/sD,OAAS,KAC3B,KAAAmS,aAEJvd,KAAK8qE,YAAY5gC,QACjB1lB,OAAOwa,WAAW,KAEVqsC,GAAkB9X,eAAeG,UAAY8X,EAAsBpgE,OAAS,GAAKmgE,EAAoBngE,OAAS,IAG9GpL,KAAK+pE,aAAayB,GAAuB,GACzCxrE,KAAKiqE,UAAUsB,GAAqB,GACpCvrE,KAAK4yD,UAGAyY,GAAkB9X,eAAeC,WAAaiY,EAAsBrgE,OAAS,GAAKsgE,EAAsBtgE,OAAS,IAGtHpL,KAAK8rE,YAAYL,GAAuB,GACxCzrE,KAAK+rE,YAAYL,GAAuB,GACxC1rE,KAAKgsE,cAAcN,GAAuB,GAEtCA,EAAsBtgE,OAAS,EAC/BpL,KAAKw2D,cAAa,GAElBx2D,KAAK4yD,UAGJyY,GAAkB9X,eAAeK,aAAe+X,EAAsBvgE,OAAS,GAAKwgE,EAAwBxgE,OAAS,KAGtHugE,EAAsBvgE,OAAS,GAAMpL,KAAKisE,gBAAgB7gE,OAASwgE,EAAwBxgE,OAAS,GAEpGpL,KAAKksE,YAAYP,GAAuB,GACxC3rE,KAAKmsE,cAAcP,GAAyB,GAC5C5rE,KAAK4yD,UAIL,KAAAn/C,QAAQ,wCAAwCoK,KAAK,KAEjD7d,KAAKksE,YAAYP,GAAuB,GACxC3rE,KAAKmsE,cAAcP,GAAyB,GAE5C5rE,KAAK4uD,cAAgB,KACrB5uD,KAAKqzD,cAAa,EAAMrzD,KAAK4vD,4BAE7B,KAEI5vD,KAAKksE,YAAYP,GAAuB,GACxC3rE,KAAKmsE,cAAcP,GAAyB,GAC5C5rE,KAAK4yD,YAMrB,KAAAj1C,cACD,UAGf3d,KAAKosE,qBAEL,IAAIC,EAAe,KAAAlhE,KAAK,IAAMnL,KAAK2uD,WAAa,mCAAmC,GACnF0d,EAAa5wD,MAAMC,SAAW,oBAE1B2vD,GAAkB9X,eAAeC,SACjCxzD,KAAK8qE,YAAY70D,MAAM,6BAClBo1D,GAAkB9X,eAAeG,QACtC1zD,KAAK8qE,YAAY70D,MAAM,yBAClBo1D,GAAkB9X,eAAeK,YACtC5zD,KAAK8qE,YAAY70D,MAAM,4BAG3B,IAAK,IAAI+3C,KAAU3rD,EAAQ+pD,QAC3B,CACI,GAAI4B,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAA+B,KAAjBzB,EAAO/3C,OAAgC,MAAhB+3C,EAAO/3C,MAC9E,SAEJ,GAAKo1D,GAAkB9X,eAAeC,WAAgC,IAApBxF,EAAOse,UACjDjB,GAAkB9X,eAAeG,UAAgC,IAArB1F,EAAOJ,WACnDyd,GAAkB9X,eAAeK,aAAkC,IAApB5F,EAAOf,SAC1D,SAEJ,IAAIt3C,EAAM,KAAAxK,KAAK,YAAcnL,KAAK2uD,WAAa,mBAAqBX,EAAO/O,MAAQ,YAAc+O,EAAO/O,MAAQ,yCAAyC3oC,eAAe+1D,GAGpKvxB,GAAU,EACVuwB,GAAkB9X,eAAeC,UAEjC1Y,GAA6B,IAAlBkT,EAAOgB,OAClBhvD,KAAK8qE,YAAYyB,WAAW,mBAAoBrwD,QAE3CmvD,GAAkB9X,eAAeG,SAEtC5Y,KAAWz4C,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAAsE,MAAlDxrD,EAAQwrD,QAAgCE,SAAqB1rD,EAAQwrD,QAAiCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,OAClOj/C,KAAK8qE,YAAYyB,WAAW,mBAAoB15D,QAE3Cw4D,GAAkB9X,eAAeK,aAEtC9Y,GAA6B,IAAlBkT,EAAO2B,OAClB3vD,KAAK8qE,YAAYyB,WAAW,mBAAoB15D,OAChD7S,KAAK8qE,YAAYyB,WAAW,YAAa15D,QAGvB,KAAA1H,KAAK,cAAgBnL,KAAK2uD,WAAa,mBAAqBX,EAAO/O,MAAQ,YAAc+O,EAAO/O,MAAQ,QAAQ3oC,eAAeX,GACrJ,KAAA7R,eACI,CACIg3C,QAASA,EACT/nC,KAAMi7C,EAAO/3C,MACb6lB,aAAc,cACd+e,QAAUvgC,IAENuxD,GAAmB,EACnB,IAAI5sB,EAAQ,KAAA9zC,KAAKmP,EAAEwwB,OAAOz/B,WAAWS,KAAK,SAEtCu/D,GAAkB9X,eAAeC,SAG7Bl5C,EAAEwgC,UAAY2wB,EAAsB1vD,SAASkjC,IAE7CwsB,EAAsBj4C,KAAKyrB,GACvBysB,EAAsB3vD,SAASkjC,IAC/BysB,EAAsB52C,SAASmqB,IAE7B3kC,EAAEwgC,SAAY4wB,EAAsB3vD,SAASkjC,KAEnDysB,EAAsBl4C,KAAKyrB,GACvBwsB,EAAsB1vD,SAASkjC,IAC/BwsB,EAAsB32C,SAASmqB,IAIlCosB,GAAkB9X,eAAeG,QAGlCp5C,EAAEwgC,UAAYywB,EAAoBxvD,SAASkjC,IAE3CssB,EAAoB/3C,KAAKyrB,GACrBusB,EAAsBzvD,SAASkjC,IAC/BusB,EAAsB12C,SAASmqB,IAE7B3kC,EAAEwgC,SAAY0wB,EAAsBzvD,SAASkjC,KAEnDusB,EAAsBh4C,KAAKyrB,GACvBssB,EAAoBxvD,SAASkjC,IAC7BssB,EAAoBz2C,SAASmqB,IAIhCosB,GAAkB9X,eAAeK,aAGlCt5C,EAAEwgC,UAAY6wB,EAAsB5vD,SAASkjC,IAE7C0sB,EAAsBn4C,KAAKyrB,GACvB2sB,EAAwB7vD,SAASkjC,IACjC2sB,EAAwB92C,SAASmqB,IAE/B3kC,EAAEwgC,SAAY8wB,EAAwB7vD,SAASkjC,KAErD2sB,EAAwBp4C,KAAKyrB,GACzB0sB,EAAsB5vD,SAASkjC,IAC/B0sB,EAAsB72C,SAASmqB,OAKhD,KAAM,KAAMj/C,KAAK2uD,WAAa,mBAAqBX,EAAO/O,QAMjE,qBAEJ,KAAA9zC,KAAK,IAAMnL,KAAK2uD,WAAa,mCAAmC7D,QAK5D,yBAAyBoM,EAAsBlJ,EAAoB/O,EAAeutB,GAEtF,IAAIluB,EAAuB,GAIvBA,EAHA0P,EAAOhlD,MAAQ,KAAAwH,mBAAmBslD,OAGlB91D,KAAKwuD,oBAAoBl5B,OAAOJ,IAE5C,IAAIO,EAA+C,MAAjCu4B,EAAOye,wBAAkCze,EAAOye,uBAAuBrhE,OAAS,EAAK4iD,EAAOye,uBAAyB3rE,OAAO6b,KAAKuY,GACnJ,IAAK,IAAI7zB,KAAS6zB,EAEd,GAAKO,EAAW1Z,SAAS1a,KAGoC,GAAzDmoB,OAAO0L,EAAE7zB,IAAQiqB,cAAcyJ,QAAQmiC,GACvC,OAAO,EAEf,OAAO,IAKKl3D,KAAKo7C,4BAA4B6D,EAAOiY,GAEvDx6C,MAAMmQ,SAASyxB,EAAet+C,KAAKm4D,gBAA6C,IAA5BnK,EAAO0J,mBAE5D13D,KAAKg3D,mBAAqBxyC,OAAOwa,WAAW,KAGxC,GADAh/B,KAAKk2D,aAAalI,EAAO/O,OAAO,IACA,IAA5B+O,EAAO0J,iBACX,CAEI,IAAIvB,EAAiB,IAAIC,mBACzBD,EAAentD,KAAOglD,EAAOhlD,KAC7BmtD,EAAemB,qBAAuB,IAAIC,yBAC1CpB,EAAemB,qBAAqBE,eAAiB,KAAA3mD,yBAAyB4mD,yBAC9EtB,EAAemB,qBAAqBvkD,KAAOmkD,EAAa5rC,cACxDtrB,KAAKu2D,aAAavI,EAAO/O,MAAOkX,GAAgB,GAGhDn2D,KAAKgtD,OAAO,MAAM,OAGtB,CACIhtD,KAAK05D,aAAa,GAAG,GACrB15D,KAAKo7D,cAAc9c,GAEft+C,KAAKyuD,4BAA4B9nC,KAAO,GACxC3mB,KAAKw2D,eAGT,IAAIL,EAAiB,IAAIC,mBACzBD,EAAentD,KAAOglD,EAAOhlD,KAC7BmtD,EAAemB,qBAAuB,IAAIC,yBAC1CpB,EAAemB,qBAAqBE,eAAiB,KAAA3mD,yBAAyB4mD,yBAC9EtB,EAAemB,qBAAqBvkD,KAAOmkD,EAAa5rC,cACxDtrB,KAAKu2D,aAAavI,EAAO/O,MAAOkX,GAAgB,KAGrD,MAIX,aAAasS,GAAmB,EAAMzb,GAAS,GAE3C,IAAI3qD,EAAUrC,KAAK+sC,aACnB/sC,KAAKyuD,4BAA4B/0C,QAAQ,CAACrY,EAAOM,KAG7C,IAAIqsD,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASt9C,GAAK,GAC1D,OAAQqsD,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QACpB,CACI,IAAIC,EAAa,KAAA9qD,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAC1EgX,EAAWn7B,SAAS,2BAELm7B,EAAW,GACjBnb,SAAU,EAEvB,MACJ,KAAK,KAAAtqC,mBAAmB6S,KACpB,CACI,IAAIozC,EAAa,iBAAAhsD,eAAexJ,IAAYjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OACtFwX,EAAWrgD,QAAQ,IACnB,KAAAjL,KAAKsrD,EAAWprD,WAAW0K,IAAI,mBAAoB,WACnD,KAAA5K,KAAKsrD,EAAWprD,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,qBAAuBX,EAAO/O,OACjFpsC,OACjB7S,KAAK62D,mBAAkB,GAE3B,MACJ,KAAK,KAAArmD,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACxB,KAAK,KAAAiN,mBAAmBglD,SACpB,CACI,IAAIsB,EAAe,iBAAArsD,eAAexJ,IAAYjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC1F6X,EAAa1gD,QAAQ,IACrB,KAAAjL,KAAK2rD,EAAazrD,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK2rD,EAAazrD,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,uBAAyBX,EAAO/O,OACnFpsC,OACnB7S,KAAK62D,mBAAkB,GAE3B,MACJ,KAAK,KAAArmD,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmBslD,OACxB,KAAK,KAAAtlD,mBAAmB7N,MACpB,CACI,IAAI+pE,EAAU,iBAAAjiE,eAAexJ,IAAajB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OACtFytB,EAAQ3+B,QACR2+B,EAAQnxD,MAAM,qBAEd,IAAIoxD,EAAe,iBAAAliE,eAAexJ,IAAYjB,KAAK2uD,WAAa,oBAAsBX,EAAO/O,OAC7F0tB,EAAav2D,QAAQ,IACrB,KAAAjL,KAAKwhE,EAAathE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAKwhE,EAAathE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,0BAA4BX,EAAO/O,OACtFpsC,OACnB7S,KAAK62D,mBAAkB,IAMnC72D,KAAKk2D,aAAav0D,GAAK,KAGvB8mE,GACAzoE,KAAK4yD,SAEL5F,GACAhtD,KAAKgtD,SAGL,4BAA4B/N,EAAe59C,GAE/CA,EAAQA,EAAMiqB,cACd,IAAIgzB,EAAuB,GAQ3B,OANuBt+C,KAAK0wD,sBAAsBzvD,IAAIg+C,GACpCvlC,QAAQ,CAACwb,EAAGrY,MAEA,IAAtBqY,EAAEH,QAAQ1zB,IACVi9C,EAAc9qB,KAAKxzB,KAAKwuD,oBAAoB3xC,MAE7CyhC,EAGH,wBAEJ,GAA0B,MAAtBt+C,KAAK4sE,cACL,OAEJ5sE,KAAK4sE,cAAgB,KAAAhnE,aACjB,CACI82B,kBAAkB,EAClBH,eAAgBv8B,KAAKqL,UAAU8K,GAAK,cACpCoF,MAAO,IACPm4B,SAAU,KAAAhkC,4BAA4Bm9D,OACtC52D,MAAO,kBACP6jC,QAAUx/B,IAEN,KAAAnP,KAAKnL,KAAK4sE,cAActqE,aAAa+X,SACpCra,KAAK4sE,cAAwB,MAElClgB,OACI,CACI,CAAE1jD,KAAM,KAAAwG,yBAAyB47D,GAAIr4D,KAAM,WAC3C,CAAE/J,KAAM,KAAAwG,yBAAyB0jD,OACjC,CAAElqD,KAAM,KAAAwG,yBAAyBvL,UAAW5C,MAAO,yBACnD,CAAE2H,KAAM,KAAAwG,yBAAyBsmD,OAAQ/iD,KAAM,iBAAkB1R,MAAO,eAAgBy6B,aAAc,0BAItH,KAAA3wB,KAAKnL,KAAK4sE,cAAcvhE,WAAWe,aAAa,YAAcpM,KAAK2uD,WAAa,4DAChF,IAAI0d,EAAe,KAAAlhE,KAAK,IAAMnL,KAAK2uD,WAAa,gCAAgC,GAEhF,KAAAxjD,KAAK,YAAcnL,KAAK2uD,WAAa,+BAA+Br4C,eAAe+1D,GACnF,KAAArmE,aAAa,CACT8mE,SAAU,wBACVC,QAAS,CAAEh6D,KAAM,mBAAoBqD,QAAS,kBAC9C0lB,aAAc,sBACdkxC,SAAW1yD,IAEP,KAAAnP,KAAK8hE,GAAoB9zC,WAAW7e,EAAEwgC,SACtC,KAAA3vC,KAAK+hE,GAAmB/zC,UAAU7e,EAAEwgC,SACV96C,KAAK4sE,cAAcL,WAAkB,qCAC3CnwC,QAAQ9hB,EAAEwgC,SAE9B96C,KAAK4sE,cAAcO,SACf7yD,EAAEwgC,SACFsyB,EAAwBtlD,UAEjC,KAAM,KAAM9nB,KAAK2uD,WAAa,uBAGjC,IAMI0e,EACAC,EACAC,EACAC,EACAC,EAVAR,EAAqB,KAAAt3D,IAAI02D,GAGzBqB,EAAgB,KAAAviE,KAAK,YAAcnL,KAAK2uD,WAAa,gDAAgDr4C,eAAe22D,GACnG,KAAA9hE,KAAK,YAAcnL,KAAK2uD,WAAa,8BAA8Br4C,eAAeo3D,GAOvG,KAAAxoE,eACI,CACI3D,KAAM,KAAA+D,iBAAiBC,SACvBw1B,MAAO,iBACPxf,MAAO,OACPugB,aAAc,uBACdwb,MACI,CACI,CAAEvkC,KAAM,mBAAoB1R,MAAOmoB,OAAO,KAAA7Y,uBAAuBg9D,cACjE,CAAE56D,KAAM,iBAAkB1R,MAAOmoB,OAAO,KAAA7Y,uBAAuBi9D,WAC/D,CAAE76D,KAAM,gBAAiB1R,MAAOmoB,OAAO,KAAA7Y,uBAAuBk9D,WAC9D,CAAE96D,KAAM,oBAAqB1R,MAAOmoB,OAAO,KAAA7Y,uBAAuBm9D,WAE1ExgC,cAAgBhzB,IAEuB,MAA/BgzD,GAA0E,MAAnCE,IAGvC/7C,OAAOnX,EAAEwwB,OAAOzpC,UAAY,KAAAsP,uBAAuBm9D,QAE/CT,EAA8BjxC,UAC9BkxC,EAA4BpxD,OAE5BsxD,EAAgCtxD,OAIhCmxD,EAA8BjxC,UAC9BkxC,EAA4Bz6D,OAE5B26D,EAAgC36D,UAG7C,KAAM,KAAM7S,KAAK2uD,WAAa,sBAGrC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,0BAA0Br4C,eAAeo3D,GAChFL,EAAgC,KAAAjpE,iBAC5B,CACImX,MAAO,IACPugB,aAAc,sBACf,KAAM,KAAM97B,KAAK2uD,WAAa,sBAErC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,wBAAwBr4C,eAAeo3D,GAC9EJ,EAA8B,KAAAlpE,iBAC1B,CACImX,MAAO,IACPwf,MAAO,IACPC,cAAe,CAAEz4B,SAAU,KAAA4K,aAAamuB,MACxCc,SAAS,GACV,KAAM,KAAMp8B,KAAK2uD,WAAa,oBAIrC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,kCAAkCr4C,eAAeo3D,GACxFH,EAAoC,KAAAnpE,iBAChC,CACImX,MAAO,IACPugB,aAAc,qBACdM,SAAS,EACT76B,KAAM,KAAAiD,aAAaG,UACpB,KAAM,KAAM3E,KAAK2uD,WAAa,8BAErC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,gCAAgCr4C,eAAeo3D,GACtFF,EAAkC,KAAAppE,iBAC9B,CACImX,MAAO,IACPwf,MAAO,IACPC,cAAe,CAAEz4B,SAAU,KAAA4K,aAAamuB,MACxCc,SAAS,EACT76B,KAAM,KAAAiD,aAAaG,UACpB,KAAM,KAAM3E,KAAK2uD,WAAa,4BAMrC,IAAIof,EAAkB,KAAA5iE,KAAK,YAAcnL,KAAK2uD,WAAa,kDAAkDr4C,eAAe22D,GAC5H,KAAA9hE,KAAK,YAAcnL,KAAK2uD,WAAa,gCAAgCr4C,eAAey3D,GACpF,KAAA7oE,eACI,CACI3D,KAAM,KAAA+D,iBAAiBC,SACvBw1B,MAAO,iBACPxf,MAAO,OACPugB,aAAc,uBACdwb,MACI,CACI,CAAEvkC,KAAM,qBAAsB1R,MAAOmoB,OAAO,KAAA5Y,yBAAyB+8D,cACrE,CAAE56D,KAAM,mBAAoB1R,MAAOmoB,OAAO,KAAA5Y,yBAAyBg9D,WACnE,CAAE76D,KAAM,kBAAmB1R,MAAOmoB,OAAO,KAAA5Y,yBAAyBi9D,WAClE,CAAE96D,KAAM,sBAAuB1R,MAAOmoB,OAAO,KAAA5Y,yBAAyBk9D,WAE9ExgC,cAAgBhzB,IAEuB,MAA/BmzD,IAGAh8C,OAAOnX,EAAEwwB,OAAOzpC,UAAY,KAAAuP,yBAAyBk9D,QACrDL,EAA4BvxD,OAE5BuxD,EAA4B56D,UAErC,KAAM,KAAM7S,KAAK2uD,WAAa,wBAErC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,4BAA4Br4C,eAAey3D,GAClF,KAAA/qE,cACI,CACIzB,KAAM,KAAA6B,aAAaC,QACnBy4B,aAAc,qBACdvJ,SAAU,EACVgf,WAAY,CAAEE,SAAU,IACzB,KAAM,KAAMzxC,KAAK2uD,WAAa,wBAErC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,0BAA0Br4C,eAAey3D,GAChFN,EAA8B,KAAAzqE,cAC1B,CACIzB,KAAM,KAAA6B,aAAaC,QACnB03B,MAAO,IACPC,cAAe,CAAEz4B,SAAU,KAAA4K,aAAamuB,MACxCc,SAAS,EACT7J,SAAU,GACX,KAAM,KAAMvyB,KAAK2uD,WAAa,sBAIrC,IAAIqf,EAAkB,KAAA7iE,KAAK,YAAcnL,KAAK2uD,WAAa,kDAAkDr4C,eAAe22D,GAC5H,KAAA9hE,KAAK,YAAcnL,KAAK2uD,WAAa,gCAAgCr4C,eAAe03D,GACpF,KAAA9oE,eACI,CACI3D,KAAM,KAAA+D,iBAAiBC,SACvBw1B,MAAO,iBACPxf,MAAO,OACPugB,aAAc,uBACdwb,MACI,CACI,CAAEvkC,KAAM,aAAc1R,MAAOmoB,OAAO,KAAA3Y,yBAAyBo9D,aAC7D,CAAEl7D,KAAM,cAAe1R,MAAOmoB,OAAO,KAAA3Y,yBAAyBq9D,WAC9D,CAAEn7D,KAAM,WAAY1R,MAAOmoB,OAAO,KAAA3Y,yBAAyBg9D,WAC3D,CAAE96D,KAAM,WAAY1R,MAAOmoB,OAAO,KAAA3Y,yBAAyBs9D,YAEnE7gC,cAAgBhzB,IAEuB,MAA/BmzD,IAGAh8C,OAAOnX,EAAEwwB,OAAOzpC,UAAY,KAAAuP,yBAAyBk9D,QACrDL,EAA4BvxD,OAE5BuxD,EAA4B56D,UAErC,KAAM,KAAM7S,KAAK2uD,WAAa,wBAErC,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,6BAA6Br4C,eAAe03D,GACnF,KAAAhrE,cACI,CACIuY,MAAO,QACR,KAAM,KAAMvb,KAAK2uD,WAAa,yBAMrC,IAAIue,EAAoB,KAAAv3D,IAAI02D,EAAc,CAAEt2D,IAAK,iBAAkBG,MAAO,4BACtEk4D,EAA0B,KAAAz4D,IAAIu3D,GAC9BmB,EAAgB,EAEpB,KAAAvqE,eAAe,CACXg4B,aAAc,YACd+e,QAAUvgC,IAEN,IAAIg0D,EAAgB5xD,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CACzF,IAAK,IAAI2rC,KAAY6mB,EACjB7mB,EAAS3M,QAAUxgC,EAAEwgC,QAEzB,KAAA3vC,KAAKmP,EAAEwwB,OAAOz/B,WAAWwzB,YAAY,2BACrC,IAAI0vC,EAAsBvuE,KAAK4sE,cAAcL,WAAkB,qCAC3DjyD,EAAEwgC,QACFyzB,EAAoBltE,MAAMitE,EAAcljE,OAAS,OAASkjE,EAAcljE,OAAS,aAEjFmjE,EAAoBltE,MAAMitE,EAAcljE,OAAS,eAE1DgjE,EAAyB,KAAMpuE,KAAK2uD,WAAa,uCAEpD,IAAIye,EAA0B,KAAApqE,cAAc,CACxCuY,MAAO,oBACPxF,IAAK,qCACL60B,QAAUtwB,IAENkK,OAAO80B,aAAa+0B,GACpBA,EAAgB7pD,OAAOwa,WAAW,KAE9B,IAAIwvC,EAAqB,GACrBC,EAAqB,GACzB,IAAK,IAAIhnB,KAAY/qC,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CAEtF,GAAe,IAAXxB,EAAEjZ,MACN,EAEuE,IADzDmoB,OAAO0V,KAAKC,MAAMsoB,EAASjpB,aAAa,SAC1ClT,cAAcyJ,QAAQvL,OAAOlP,EAAEjZ,OAAQiqB,eAC3CkjD,EAAmBh7C,KAAKi0B,EAASiW,eAEjC+Q,EAAmBj7C,KAAKi0B,EAASiW,oBAGrC8Q,EAAmBh7C,KAAKi0B,EAASiW,eAGzC,IAAK,IAAIgR,KAAkBF,EAAoBE,EAAejzD,MAAMu5C,QAAU,OAC9E,IAAK,IAAI2Z,KAAkBF,EAAoBE,EAAelzD,MAAMu5C,QAAU,QAC/E,OAERoZ,EAAyB,KAAMpuE,KAAK2uD,WAAa,kCAEtB,KAAAvqD,iBAAiB,CAC3CmX,MAAO,oBACPxF,IAAK,qCACLu3B,cAAgBhzB,IAEZ,IAAIk0D,EAAqB,GACrBC,EAAqB,GACzB,IAAK,IAAIhnB,KAAY/qC,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CAEtF,GAAe,MAAXxB,EAAEjZ,MACN,CACI,IAAIoc,EAAM,IAAI4F,KAAK6b,KAAKC,MAAMsoB,EAASjpB,aAAa,SAChDnb,KAAKwJ,SAASpP,EAAKnD,EAAEjZ,OACrBmtE,EAAmBh7C,KAAKi0B,EAASiW,eAEjC+Q,EAAmBj7C,KAAKi0B,EAASiW,oBAGrC8Q,EAAmBh7C,KAAKi0B,EAASiW,eAGzC,IAAK,IAAIgR,KAAkBF,EAAoBE,EAAejzD,MAAMu5C,QAAU,OAC9E,IAAK,IAAI2Z,KAAkBF,EAAoBE,EAAelzD,MAAMu5C,QAAU,SAEnFoZ,EAAyB,KAAMpuE,KAAK2uD,WAAa,kCAE5B,KAAAh5C,IAAIu3D,EAAmB,CAAE/2D,GAAInW,KAAK2uD,WAAa,kBAAmB54C,IAAK,qCAE/F/V,KAAK4sE,cAAcgC,cAAc,CAC7B5lE,KAAM,KAAAwG,yBAAyB7M,MAC/BtB,MAAO,oCACPy6B,aAAc,uBAKd,oBAAoBkyB,GAExBhuD,KAAK6uE,wBAEL7uE,KAAK4sE,cAAcj5D,KAAK,CACpB,CAAEtS,MAAO,KAAM+a,SAAU,IAAMpc,KAAK8uE,oBAAoB9gB,IACxD,CACI3sD,MAAO,eAAgB+a,SAAU,KAM7B,OAJApc,KAAK4sE,cAAc1iC,QACnBlqC,KAAKk2D,aAAalI,EAAO/O,OACzBj/C,KAAK62D,mBAAkB,GAEf7I,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI,IAAI6gD,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OACxF,KAAA9zC,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,qBAAuBX,EAAO/O,OACjFpsC,OAEvB,MACJ,KAAK,KAAArC,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SACxB,KAAK,KAAAhlD,mBAAmBjN,WACpB,CACI,IAAIwrE,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC1F,KAAA9zC,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,uBAAyBX,EAAO/O,OACnFpsC,OAEvB,MACJ,KAAK,KAAArC,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmB7N,MACpB,CACI,IAAIosE,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,oBAAsBX,EAAO/O,OAC7F,KAAA9zC,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,0BAA4BX,EAAO/O,OACtFpsC,OAEL,iBAAApI,eAAexJ,IAAajB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC9E1jC,MAAM,2BAOtCvb,KAAKgvE,uBACLhvE,KAAK4sE,cAAcl5B,SAAS,KAAAhkC,4BAA4Bm9D,QAEpC,MAAhB7e,EAAO/3C,MACPjW,KAAK4sE,cAAc32D,MAAM,kBAAoB+3C,EAAO/3C,MAAQ,KAE5DjW,KAAK4sE,cAAc32D,MAAM,kBAE7B,IAAIg5D,EAAU,iBAAAxkE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,sBAC3DugB,EAAQ,iBAAAzkE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,oBACzDwgB,EAAkB,iBAAA1kE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,8BACnEygB,EAAgB,iBAAA3kE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,4BACjE0gB,EAAU,iBAAA5kE,eAAexJ,IAAajB,KAAK2uD,WAAa,wBACxD2gB,EAAQ,iBAAA7kE,eAAexJ,IAAajB,KAAK2uD,WAAa,sBACtD4gB,EAAiB,iBAAA9kE,eAAexJ,IAAajB,KAAK2uD,WAAa,yBAC/D6gB,EAAgC,iBAAA/kE,eAAexJ,IAAajB,KAAK2uD,WAAa,kCAC9E8gB,EAAgC,iBAAAhlE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,kCAGrF,OAAQX,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cAQhB,OANA,KAAA/iB,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAiBzyC,OAC9C,KAAA/Q,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmB97C,OAChD,KAAA1H,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmB97C,OAChD28D,EAA8B38D,OAC9B48D,EAA8BvzD,OAEtB8xC,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aAEhB2gD,EAAQp8D,OACRq8D,EAAMr8D,OACNs8D,EAAgBjzD,OAEpB,MACJ,KAAK,KAAA1L,mBAAmB/L,KACpB,CACIwqE,EAAQ/yD,OACRizD,EAAgBt8D,OAChBu8D,EAAcv8D,OAEdo8D,EAAQ1tE,KAAK,KAAAiD,aAAaC,MAC1ByqE,EAAM3tE,KAAK,KAAAiD,aAAaC,MAExB,IAAIklC,EAAiB,IAAItmB,KACzBsmB,EAAerZ,SAAS,EAAG,EAAG,EAAG,GACjC2+C,EAAQ14C,IAAIoT,GACZulC,EAAM34C,IAAIoT,GAEV,IAAIC,EAAiB,IAAIvmB,KACzBumB,EAAetZ,SAAS,GAAI,GAAI,GAAI,IACpC2+C,EAAQ54C,IAAIuT,GACZslC,EAAM74C,IAAIuT,GAEd,MACJ,KAAK,KAAAp5B,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI+gD,EAAQ/yD,OACRizD,EAAgBt8D,OAChBu8D,EAAcv8D,OAEdo8D,EAAQ1tE,KAAK,KAAAiD,aAAa6e,MAC1B6rD,EAAM3tE,KAAK,KAAAiD,aAAa6e,MAExB,IAAIsmB,EAAiBtmB,KAAKkJ,UAC1Bod,EAAerZ,SAAS,EAAG,GAC3B2+C,EAAQ14C,IAAIoT,GACZulC,EAAM34C,IAAIoT,GAEV,IAAIC,EAAiBvmB,KAAKmJ,UAC1Bod,EAAetZ,SAAS,GAAI,GAC5B2+C,EAAQ54C,IAAIuT,GACZslC,EAAM74C,IAAIuT,IAK1B,MACJ,KAAK,KAAAp5B,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SACxB,KAAK,KAAAhlD,mBAAmBjN,WAQhB,OANA,KAAA4H,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAiB97C,OAC9C,KAAA1H,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmBzyC,OAChD,KAAA/Q,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmB97C,OAChD28D,EAA8BtzD,OAC9BuzD,EAA8B58D,OAEtBm7C,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmBglD,SAEhB6Z,EAAQrmE,KAAK,KAAA5F,aAAaC,SAC1BisE,EAAMtmE,KAAK,KAAA5F,aAAaC,SAE5B,MACJ,KAAK,KAAAmN,mBAAmB/M,SAEhB4rE,EAAQrmE,KAAK,KAAA5F,aAAaK,UAC1B6rE,EAAMtmE,KAAK,KAAA5F,aAAaK,UAE5B,MACJ,KAAK,KAAA+M,mBAAmBjN,WAEhB8rE,EAAQrmE,KAAK,KAAA5F,aAAaG,YAC1B+rE,EAAMtmE,KAAK,KAAA5F,aAAaG,YAKxC,MACJ,KAAK,KAAAiN,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmB7N,MAEhB,KAAAwI,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAiB97C,OAC9C,KAAA1H,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmB97C,OAChD,KAAA1H,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmBzyC,OAChDszD,EAA8BtzD,OAC9BuzD,EAA8B58D,OAM1C7S,KAAK4sE,cAAc8C,eAAe,gBAClC1vE,KAAK4sE,cAAc8C,eAAe,yBAClC,IAAIC,GAAoB,EACxB,GAAI3vE,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACIj/C,KAAK4sE,cAAcgD,eAAe,gBAClC5vE,KAAK4sE,cAAcgD,eAAe,yBAElC,IAAIzZ,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OAC3C,MAAlBkX,IAEyC,MAArCA,EAAe0Z,oBAAkF,MAApD1Z,EAAe0Z,mBAAmBC,gBAC5E3Z,EAAe0Z,mBAAmBC,eAAe1kE,OAAS,GAEjB,MAAvC+qD,EAAe4Z,sBAAsF,MAAtD5Z,EAAe4Z,qBAAqBD,gBACrF3Z,EAAe4Z,qBAAqBD,eAAe1kE,OAAS,GAEnB,MAAvC+qD,EAAemB,sBAAsF,MAAtDnB,EAAemB,qBAAqBwY,gBACrF3Z,EAAemB,qBAAqBwY,eAAe1kE,OAAS,KAL/DukE,GAAoB,GAWhC,IAAIr4B,EAAQt3C,KAAKmlE,qBAAqBvoD,IAAIsY,IAEtC,IAAIniB,EAAO/S,KAAKwrC,YAAYtW,EAAE84B,EAAO/O,OAAQ+O,EAAOhlD,KAAOglD,EAAO8J,cAAe9J,EAAOhlC,iBAAkBglC,EAAOngC,aAC7GpQ,EAAMyX,EAAE84B,EAAO/O,OASnB,OARI+O,EAAOhlD,MAAQ,KAAAwH,mBAAmB6S,MAAQ2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB7L,UACzEqpD,EAAOhlD,MAAQ,KAAAwH,mBAAmB/L,MAAQupD,EAAOhlD,MAAQ,KAAAwH,mBAAmB2d,UAC5E6/B,EAAOhlD,MAAQ,KAAAwH,mBAAmB8d,cAAgB0/B,EAAOhlD,MAAQ,KAAAwH,mBAAmBwd,cACpFggC,EAAOhlD,MAAQ,KAAAwH,mBAAmB0d,cACrCzQ,EAAM,IAAI4F,KAAK6R,EAAE84B,EAAO/O,QACnB+O,EAAOhlD,MAAQ,KAAAwH,mBAAmBgZ,QAAUwkC,EAAOhlD,MAAQ,KAAAwH,mBAAmB7N,QACnF8a,EAAMA,EAAI6N,eAEP,CAAEvY,KAAMA,EAAM1R,MAAOoc,EAAKA,IAAKA,KACvCsZ,aAAa7B,GAAKA,EAAEniB,MAAM4iB,UAAU,OAEnCq6C,EAAa,KAAA7kE,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAmB,GAC7DshB,EAAkBjkE,SAASkkE,yBAC3BC,EAAankE,SAAS4b,cAAc,OACxCuoD,EAAWn2D,UAAUpP,IAAI,kCACzBqlE,EAAgBpoD,YAAYsoD,GAC5B,IAAK,IAAI9vC,KAAQiX,EACjB,CACI,IAAI84B,EAASpkE,SAAS4b,cAAc,OACpCuoD,EAAWtoD,YAAYuoD,GAEvB,IAAI3oB,EAAWz7C,SAAS4b,cAAc,SACtC6/B,EAAS/oB,aAAa,OAAQ,YAC9B+oB,EAASztC,UAAUpP,IAAI,aAAc,cACrC68C,EAAS/oB,aAAa,MAAOQ,KAAKE,UAAUiB,EAAK5iB,MACjDgqC,EAAS4oB,QAAW/1D,IAEhB,IAAI6rD,EAAsBzpD,MAAMm/B,KAAkB,KAAA1wC,KAAK,2DACrB,GAA9Bg7D,EAAoB/6D,QAEpBmjE,EAAoBltE,MAAMi2C,EAAMlsC,OAAS,aACzCklE,EAA0Bx1B,SAAQ,GAAO,KAIrCqrB,EAAoB/6D,QAAUksC,EAAMlsC,OACpCklE,EAA0Bx1B,SAAQ,GAAM,GAExCw1B,EAA0Bx1B,QAAQ,KAAAtsC,kBAAkBszC,WAAW,GAEnEysB,EAAoBltE,MAAM8kE,EAAoB/6D,OAAS,OAASksC,EAAMlsC,OAAS,eAGvFglE,EAAOvoD,YAAY4/B,GAEnB,IAAI8oB,EAAUvkE,SAAS4b,cAAc,SACrC2oD,EAAQzuC,UAAYzB,EAAKttB,KACzBw9D,EAAQ90D,MAAMC,SAAW,kDACzB60D,EAAQF,QAAW/1D,GAAW,KAAAnP,KAAKs8C,GAAU7kB,QAC7CwtC,EAAOvoD,YAAY0oD,GAEvBP,EAAWnoD,YAAYooD,GAEvB,IAAI1B,EAAsBvuE,KAAK4sE,cAAcL,WAAkB,qCAC/DgC,EAAoBltE,MAAMi2C,EAAMlsC,OAAS,aAEzC,IAAIklE,EAA4B,iBAAA7lE,eAAexJ,IAAcjB,KAAK2uD,WAAa,uCAG3E6hB,EAAe,iBAAA/lE,eAAexJ,IAAYjB,KAAK2uD,WAAa,uBAChE,GAAIghB,EAIA,OADAa,EAAa11B,SAAQ,GACbkT,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cAEhB,GAAIluB,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACI,IAAIkX,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OACjE,GAAsB,MAAlBkX,GAA+D,MAArCA,EAAe0Z,mBAC7C,CACkB,iBAAAplE,eAAexJ,IAAcjB,KAAK2uD,WAAa,sBACrDttD,MAAM80D,EAAe0Z,mBAAmBrY,gBAAgB,GAE5DxJ,EAAOhlD,MAAQ,KAAAwH,mBAAmB7L,UAAYqpD,EAAOhlD,MAAQ,KAAAwH,mBAAmB8d,cAEhF6gD,EAAgB9tE,MAAM80D,EAAe0Z,mBAAmBY,UACxDrB,EAAc/tE,MAAM80D,EAAe0Z,mBAAmBa,UAItDzB,EAAQ5tE,MAAM80D,EAAe0Z,mBAAmBY,UAChDvB,EAAM7tE,MAAM80D,EAAe0Z,mBAAmBa,UAK9D,MACJ,KAAK,KAAAlgE,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SACxB,KAAK,KAAAhlD,mBAAmBjN,WAEhB,GAAIvD,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACI,IAAIkX,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OACjE,GAAsB,MAAlBkX,GAAiE,MAAvCA,EAAe4Z,qBAC7C,CACkB,iBAAAtlE,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBACrDttD,MAAM80D,EAAe4Z,qBAAqBvY,gBAAgB,GAClE6X,EAAQhuE,MAAM80D,EAAe4Z,qBAAqBY,YAClDrB,EAAMjuE,MAAM80D,EAAe4Z,qBAAqBa,WAI5D,MACJ,KAAK,KAAApgE,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmB7N,MAEhB,GAAI3C,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACI,IAAIkX,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OACjE,GAAsB,MAAlBkX,GAAiE,MAAvCA,EAAemB,qBAC7C,CACkB,iBAAA7sD,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBACrDttD,MAAM80D,EAAemB,qBAAqBE,gBAAgB,GAClE+X,EAAeluE,MAAM80D,EAAemB,qBAAqBvkD,aAY7E,OADAy9D,EAAa11B,SAAQ,GACbkT,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cAGhB,GAAIluB,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACI,IAAIkX,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OACjE,GAAsB,MAAlBkX,GAA+D,MAArCA,EAAe0Z,oBACc,MAApD1Z,EAAe0Z,mBAAmBC,gBAClC3Z,EAAe0Z,mBAAmBC,eAAe1kE,OAAS,EACjE,CACI,IAAK,IAAI/J,KAAS80D,EAAe0Z,mBAAmBC,eAEhD,IAAK,IAAIroB,KAAY/qC,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CAC1F,CACI,IAAI2B,EAAM,IAAI4F,KAAK6b,KAAKC,MAAMsoB,EAASjpB,aAAa,SACpD,GAAI,iBAAAxzB,eAAeua,OAAOlkB,EAAOoc,GACjC,CACIgqC,EAAS3M,SAAU,EACnB,OAKZyzB,EAAoBltE,MAAM80D,EAAe0Z,mBAAmBC,eAAe1kE,OAAS,OAASksC,EAAMlsC,OAAS,aACxG+qD,EAAe0Z,mBAAmBC,eAAe1kE,QAAUksC,EAAMlsC,OACjEklE,EAA0Bx1B,SAAQ,GAAM,GAExCw1B,EAA0Bx1B,QAAQ,KAAAtsC,kBAAkBszC,WAAW,IAK/E,MACJ,KAAK,KAAAtxC,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SACxB,KAAK,KAAAhlD,mBAAmBjN,WAGhB,GAAIvD,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACI,IAAIkX,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OACjE,GAAsB,MAAlBkX,GAAiE,MAAvCA,EAAe4Z,sBACgB,MAAtD5Z,EAAe4Z,qBAAqBD,gBACpC3Z,EAAe4Z,qBAAqBD,eAAe1kE,OAAS,EACnE,CACI,IAAK,IAAI/J,KAAS80D,EAAe4Z,qBAAqBD,eAElD,IAAK,IAAIroB,KAAY/qC,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CAC1F,CACI,IAAI2B,EAAMgU,OAAOyN,KAAKC,MAAMsoB,EAASjpB,aAAa,SAClD,GAAI,iBAAAxzB,eAAeua,OAAOlkB,EAAOoc,GACjC,CACIgqC,EAAS3M,SAAU,EACnB,OAKZyzB,EAAoBltE,MAAM80D,EAAe4Z,qBAAqBD,eAAe1kE,OAAS,OAASksC,EAAMlsC,OAAS,aAC1G+qD,EAAe4Z,qBAAqBD,eAAe1kE,QAAUksC,EAAMlsC,OACnEklE,EAA0Bx1B,SAAQ,GAAM,GAExCw1B,EAA0Bx1B,QAAQ,KAAAtsC,kBAAkBszC,WAAW,IAK/E,MACJ,KAAK,KAAAtxC,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmB7N,MAEhB,GAAI3C,KAAKyuD,4BAA4Bv3B,IAAI82B,EAAO/O,OAChD,CACI,IAAIkX,EAAiBn2D,KAAKyuD,4BAA4BxtD,IAAI+sD,EAAO/O,OACjE,GAAsB,MAAlBkX,GAAiE,MAAvCA,EAAemB,sBACgB,MAAtDnB,EAAemB,qBAAqBwY,gBACpC3Z,EAAemB,qBAAqBwY,eAAe1kE,OAAS,EACnE,CACI,IAAK,IAAI/J,KAAS80D,EAAemB,qBAAqBwY,eAElD,IAAK,IAAIroB,KAAY/qC,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CAC1F,CACI,IAAI2B,EAAM+L,OAAO0V,KAAKC,MAAMsoB,EAASjpB,aAAa,SAClD,GAAI,iBAAAxzB,eAAeua,OAAOlkB,EAAOoc,GACjC,CACIgqC,EAAS3M,SAAU,EACnB,OAKZyzB,EAAoBltE,MAAM80D,EAAemB,qBAAqBwY,eAAe1kE,OAAS,OAASksC,EAAMlsC,OAAS,aAC1G+qD,EAAemB,qBAAqBwY,eAAe1kE,QAAUksC,EAAMlsC,OACnEklE,EAA0Bx1B,SAAQ,GAAM,GAExCw1B,EAA0Bx1B,QAAQ,KAAAtsC,kBAAkBszC,WAAW,MAUvF,oBAAoBkM,GAExB,IAAI3rD,EAAUrC,KAAK+sC,aACfopB,EAAiB,IAAIC,mBACzBD,EAAentD,KAAOglD,EAAOhlD,KAC7B,IAAIm9D,EAAsB,GACtB0K,EAAkB,GAElBL,EAAe,iBAAA/lE,eAAexJ,IAAYjB,KAAK2uD,WAAa,uBAChE,GAAK6hB,EAAa11B,UAwFlB,CAEIqrB,EAAsBzpD,MAAMm/B,KAAkB,KAAA1wC,KAAK,2DACnD0lE,EAAkBn0D,MAAMm/B,KAAuB,KAAA1wC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK,0CACvF,IAAIizD,EAAe,KACf+B,EAAqB,KAEzB,OAAQ9iB,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cAEhBioC,EAAe0Z,mBAAqB,IAAIkB,uBACxC5a,EAAe0Z,mBAAmBC,eAAiB,GACnD,IAAK,IAAIroB,KAAY0e,EACjBhQ,EAAe0Z,mBAAmBC,eAAet8C,KAAK,IAAInQ,KAAK6b,KAAKC,MAAMsoB,EAASjpB,aAAa,UAElE,GAA9B2nC,EAAoB/6D,QAAeylE,EAAgBzlE,QAAU+6D,EAAoB/6D,SAEjF2jE,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OACpF,KAAA9zC,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAE1C+6D,EAAqB,iBAAArmE,eAAexJ,IAAYjB,KAAK2uD,WAAa,qBAAuBX,EAAO/O,OAChG6xB,EAAmBj+D,QAG3B,MACJ,KAAK,KAAArC,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SACxB,KAAK,KAAAhlD,mBAAmBjN,WAEhB4yD,EAAe4Z,qBAAuB,IAAIiB,yBAC1C7a,EAAe4Z,qBAAqBD,eAAiB,GACrD,IAAK,IAAIroB,KAAY0e,EACjBhQ,EAAe4Z,qBAAqBD,eAAet8C,KAAK/B,OAAOyN,KAAKC,MAAMsoB,EAASjpB,aAAa,UAElE,GAA9B2nC,EAAoB/6D,QAAeylE,EAAgBzlE,QAAU+6D,EAAoB/6D,SAEjF2jE,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OACtF,KAAA9zC,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAE1C+6D,EAAqB,iBAAArmE,eAAexJ,IAAYjB,KAAK2uD,WAAa,uBAAyBX,EAAO/O,OAClG6xB,EAAmBj+D,QAG3B,MACJ,KAAK,KAAArC,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmB7N,MAEhBwzD,EAAemB,qBAAuB,IAAIC,yBAC1CpB,EAAemB,qBAAqBwY,eAAiB,GACrD,IAAK,IAAIroB,KAAY0e,EACjBhQ,EAAemB,qBAAqBwY,eAAet8C,KAAKhK,OAAO0V,KAAKC,MAAMsoB,EAASjpB,aAAa,UAEpG,GAAkC,GAA9B2nC,EAAoB/6D,QAAeylE,EAAgBzlE,QAAU+6D,EAAoB/6D,OACrF,CACI2jE,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,oBAAsBX,EAAO/O,OACzF,KAAA9zC,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,WACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAE1C+6D,EAAqB,iBAAArmE,eAAexJ,IAAYjB,KAAK2uD,WAAa,0BAA4BX,EAAO/O,OACrG6xB,EAAmBj+D,OAEL,iBAAApI,eAAexJ,IAAajB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC9E1jC,MAAM,4BA7J9B,OAAQyyC,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CAEI,IAAI+gD,EAAU,iBAAAxkE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,sBAC3DugB,EAAQ,iBAAAzkE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,oBACzDwgB,EAAkB,iBAAA1kE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,8BACnEygB,EAAgB,iBAAA3kE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,4BAErE,GAAIX,EAAOhlD,MAAS,KAAAwH,mBAAmB7L,UAAYqpD,EAAOhlD,MAAS,KAAAwH,mBAAmB8d,cAElF,GAA+B,MAA3B6gD,EAAgB9tE,QAGhB,YADA,KAAA8R,cAAc,iCAMlB,GAAuB,MAAnB87D,EAAQ5tE,QAGR,YADA,KAAA8R,cAAc,4BAKtB,IAAI89D,EAAU,iBAAAxmE,eAAexJ,IAAcjB,KAAK2uD,WAAa,sBAC7DwH,EAAe0Z,mBAAqB,IAAIkB,uBACxC5a,EAAe0Z,mBAAmBrY,eAAiB/lC,OAAOw/C,EAAQ5vE,SAClE80D,EAAe0Z,mBAAmBY,SAAYziB,EAAOhlD,MAAS,KAAAwH,mBAAmB7L,UAAYqpD,EAAOhlD,MAAS,KAAAwH,mBAAmB8d,aAAgB6gD,EAAgB9tE,QAAW4tE,EAAQ5tE,QACnL80D,EAAe0Z,mBAAmBa,OAAU1iB,EAAOhlD,MAAS,KAAAwH,mBAAmB7L,UAAYqpD,EAAOhlD,MAAS,KAAAwH,mBAAmB8d,aAAgB8gD,EAAc/tE,QAAW6tE,EAAM7tE,QAGjL,MACJ,KAAK,KAAAmP,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SACxB,KAAK,KAAAhlD,mBAAmBjN,WACpB,CAEI,IAAI8rE,EAAU,iBAAA5kE,eAAexJ,IAAajB,KAAK2uD,WAAa,wBACxD2gB,EAAQ,iBAAA7kE,eAAexJ,IAAajB,KAAK2uD,WAAa,sBAC1D,GAAI0gB,EAAQ6B,UAGR,YADA,KAAA/9D,cAAc,6BAIlB,IAAI89D,EAAU,iBAAAxmE,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBAC7DwH,EAAe4Z,qBAAuB,IAAIiB,yBAC1C7a,EAAe4Z,qBAAqBvY,eAAiB/lC,OAAOw/C,EAAQ5vE,SACpE80D,EAAe4Z,qBAAqBY,WAAatB,EAAQhuE,QACzD80D,EAAe4Z,qBAAqBa,SAA6B,GAAjBtB,EAAMjuE,QAAgB,KAAOowB,OAAO69C,EAAMjuE,SAG9F,MACJ,KAAK,KAAAmP,mBAAmBgZ,OACxB,KAAK,KAAAhZ,mBAAmB7N,MACpB,CAEI,IAAI4sE,EAAiB,iBAAA9kE,eAAexJ,IAAajB,KAAK2uD,WAAa,yBACnE,GAAI4gB,EAAe2B,UAGf,YADA,KAAA/9D,cAAc,qBAIlB,IAAI89D,EAAU,iBAAAxmE,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBAC7DwH,EAAemB,qBAAuB,IAAIC,yBAC1CpB,EAAemB,qBAAqBE,eAAiB/lC,OAAOw/C,EAAQ5vE,SACpE80D,EAAemB,qBAAqBvkD,KAAOw8D,EAAeluE,UAwFtEmvE,EAAa11B,WAA4C,GAA9BqrB,EAAoB/6D,QAAeylE,EAAgBzlE,QAAU+6D,EAAoB/6D,QAI5GpL,KAAKk2D,aAAalI,EAAO/O,OAAQ58C,EAAQ8qD,eACzCntD,KAAKu2D,aAAavI,EAAO/O,MAAOkX,IAJhCn2D,KAAKk2D,aAAalI,EAAO/O,OAM7Bj/C,KAAK4sE,cAAc1iC,QAGf,uBAGJ,iBAAAz/B,eAAexJ,IAAcjB,KAAK2uD,WAAa,sBAAsB5gB,QACrE,iBAAAtjC,eAAexJ,IAAgBjB,KAAK2uD,WAAa,sBAAsB5gB,QACvE,iBAAAtjC,eAAexJ,IAAgBjB,KAAK2uD,WAAa,oBAAoB5gB,QACrE,iBAAAtjC,eAAexJ,IAAgBjB,KAAK2uD,WAAa,oBAAoB97C,OACrE,iBAAApI,eAAexJ,IAAgBjB,KAAK2uD,WAAa,8BAA8B5gB,QAC/E,iBAAAtjC,eAAexJ,IAAgBjB,KAAK2uD,WAAa,4BAA4B5gB,QAC7E,iBAAAtjC,eAAexJ,IAAgBjB,KAAK2uD,WAAa,8BAA8B97C,OAC/E,iBAAApI,eAAexJ,IAAgBjB,KAAK2uD,WAAa,4BAA4B97C,OAI7E,iBAAApI,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBAAwB5gB,QACvE,iBAAAtjC,eAAexJ,IAAajB,KAAK2uD,WAAa,wBAAwB5gB,QACtE,iBAAAtjC,eAAexJ,IAAajB,KAAK2uD,WAAa,sBAAsB5gB,QACpE,iBAAAtjC,eAAexJ,IAAajB,KAAK2uD,WAAa,sBAAsB97C,OAIpE,iBAAApI,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBAAwB5gB,QACvE,iBAAAtjC,eAAexJ,IAAajB,KAAK2uD,WAAa,yBAAyB5gB,QACvE,KAAA5iC,KAAKnL,KAAK4sE,cAAcvhE,WAAWyQ,KAAK9b,KAAK2uD,WAAa,mBAAmB7D,QAC7E,iBAAArgD,eAAexJ,IAAajB,KAAK2uD,WAAa,kCAAkCzyC,OAChF,iBAAAzR,eAAexJ,IAAgBjB,KAAK2uD,WAAa,kCAAkC97C,OACnF7S,KAAK4sE,cAAcL,WAAkB,qCAAqCx+B,QAC1E,iBAAAtjC,eAAexJ,IAAcjB,KAAK2uD,WAAa,uCAAuC5gB,QAI1F,UAAUkR,EAAekyB,EAAqC3a,GAAe,GAEzEx2D,KAAKyuD,4BAA4Bt3B,IAAI8nB,EAAOkyB,GACxC3a,GACAx2D,KAAKw2D,eAGb,cAAczI,EAAkByI,GAAe,GAE3C,IAAK,IAAIvX,KAAS8O,EACd/tD,KAAKk2D,aAAajX,GAAO,GAEzBuX,GACAx2D,KAAKw2D,cAAa,GAG1B,aAAavX,EAAeuX,GAAe,GAEnCx2D,KAAKyuD,4BAA4Bv3B,IAAI+nB,KAErCj/C,KAAKyuD,4BAA4BzlB,OAAOiW,GACpCuX,GACAx2D,KAAKw2D,cAAa,IAI9B,aAAavX,EAAekyB,EAAqC3a,GAAe,GAE5Ex2D,KAAKyuD,4BAA4Bt3B,IAAI8nB,EAAOkyB,GACxC3a,GACAx2D,KAAKw2D,eAGL,aAAa4a,GAAuB,EAAO5a,GAAe,GAE9D,IAAIn0D,EAAUrC,KAAK+sC,aAGnB,IAA8B,IAA1B1qC,EAAQ8qD,cAQR,OANAntD,KAAK05D,aAAa,GAAG,QACjBlD,EACAx2D,KAAKgtD,SAELhtD,KAAKo7D,cAAc,EAAyBp7D,KAAKwuD,oBAAsBxuD,KAAKm4D,eAMpF,IAAI7Z,EAAuB,EAAyBt+C,KAAKwuD,oBAAsBxuD,KAAKm4D,aACpFn4D,KAAKyuD,4BAA4B/0C,QAAQ,CAAC23D,EAAqBC,EAAanY,KAExE,IAAInL,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASqyB,GAAa,GAClE,GAAc,MAAVtjB,IAAoC,IAAlBA,EAAOgB,OAG7B,GAAgD,MAA5CqiB,EAAoBtB,qBACxB,CAEI,IAAIhB,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,iBAAmB2iB,GAQnF,GAPA,KAAAnmE,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,SACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,uBAAyB2iB,GAC5Ep1D,OACnBlc,KAAK62D,mBAAkB,GAEwC,MAA3Dwa,EAAoBtB,qBAAqBD,gBAA0BuB,EAAoBtB,qBAAqBD,eAAe1kE,OAAS,EAGpIkzC,EAAgBA,EAAchpB,OAAOJ,GAAKm8C,EAAoBtB,qBAAsBD,eAAe/zD,SAASmZ,EAAEo8C,KAC9GvC,EAAa34D,QAAQ,uCAAyCi7D,EAAoBtB,qBAAqBD,eAAezyD,KAAK,YAI/H,CAEI,OAAQg0D,EAAoBtB,qBAAqBvY,gBAE7C,KAAK,KAAA5mD,yBAAyB+8D,YAC1BrvB,EAAgBA,EAAchpB,OAAOJ,GAAKA,EAAEo8C,GAAeD,EAAoBtB,qBAAsBY,YACrG,MACJ,KAAK,KAAA//D,yBAAyBg9D,SAC1BtvB,EAAgBA,EAAchpB,OAAOJ,GAAKA,EAAEo8C,GAAeD,EAAoBtB,qBAAsBY,YACrG,MACJ,KAAK,KAAA//D,yBAAyBi9D,SAC1BvvB,EAAgBA,EAAchpB,OAAOJ,GAAKA,EAAEo8C,IAAgBD,EAAoBtB,qBAAsBY,YACtG,MACJ,KAAK,KAAA//D,yBAAyBk9D,QAGlBxvB,EADsD,MAAtD+yB,EAAoBtB,qBAAsBa,SAC1BtyB,EAAchpB,OAAOJ,GAAKA,EAAEo8C,IAAgBD,EAAoBtB,qBAAsBY,YAAcz7C,EAAEo8C,IAAgBD,EAAoBtB,qBAAsBa,UAEhKtyB,EAAchpB,OAAOJ,GAAKA,EAAEo8C,GAAeD,EAAoBtB,qBAAsBY,YAMrH,IAAIY,EAAe/nD,OAAO6nD,EAAoBtB,qBAAsBY,YAChEU,EAAoBtB,qBAAsBvY,gBAAkB,KAAA5mD,yBAAyBk9D,UACrFyD,GAAgB,MAAQF,EAAoBtB,qBAAsBa,UAEtE,IAAIK,EAAU,iBAAAxmE,eAAexJ,IAAcjB,KAAK2uD,WAAa,wBACzD3lD,EAAO,GACX,OAAQyoB,OAAOw/C,EAAS5vE,UAEpB,KAAK,KAAAuP,yBAAyB+8D,YAAa3kE,EAAO,eAAgB,MAClE,KAAK,KAAA4H,yBAAyBg9D,SAAU5kE,EAAO,aAAc,MAC7D,KAAK,KAAA4H,yBAAyBi9D,SAAU7kE,EAAO,YAAa,MAC5D,KAAK,KAAA4H,yBAAyBk9D,QAAS9kE,EAAO,gBAGlD+lE,EAAa34D,QAAQpN,EAAOuoE,SAK/B,GAA8C,MAA1CF,EAAoBxB,mBAC7B,CAEI,IAAId,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,eAAiB2iB,GAQjF,GAPA,KAAAnmE,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,SACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,qBAAuB2iB,GAC1Ep1D,OACnBlc,KAAK62D,mBAAkB,GAEsC,MAAzDwa,EAAoBxB,mBAAmBC,gBAA0BuB,EAAoBxB,mBAAmBC,eAAe1kE,OAAS,EACpI,CAEI,IAAIomE,EAAoB,GACxB,IAAK,IAAIC,KAAenzB,EAEpB,IAAK,IAAIozB,KAAiBL,EAAoBxB,mBAAmBC,eAEzDzsD,KAAKwJ,SAAS,IAAIxJ,KAAKouD,EAAYH,IAAeI,IAClDF,EAAkBh+C,KAAKi+C,GAGnCnzB,EAAgBkzB,EAEhB,IAAIG,EAA0B,GAC1B1M,EAA6B,KAAAzgE,aAAa6e,KAE1C2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB6S,KAAM4hD,EAAe,KAAAzgE,aAAa6e,KAC/D2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB7L,SAAUsgE,EAAe,KAAAzgE,aAAaG,SACxEqpD,EAAOhlD,MAAQ,KAAAwH,mBAAmB/L,KAAMwgE,EAAe,KAAAzgE,aAAaC,KACpEupD,EAAOhlD,MAAQ,KAAAwH,mBAAmB2d,SAAU82C,EAAe,KAAAzgE,aAAa2pB,SACxE6/B,EAAOhlD,MAAQ,KAAAwH,mBAAmB8d,aAAc22C,EAAe,KAAAzgE,aAAa8pB,aAC5E0/B,EAAOhlD,MAAQ,KAAAwH,mBAAmBwd,aAAci3C,EAAe,KAAAzgE,aAAawpB,aAC5EggC,EAAOhlD,MAAQ,KAAAwH,mBAAmB0d,gBAAe+2C,EAAe,KAAAzgE,aAAa0pB,eAEtFyjD,EAAgBN,EAAoBxB,mBAAmBC,eAAelzD,IAAIsY,GAAc,IAAI7R,KAAK6R,GAAGtH,gBAAgBq3C,EAAcjX,EAAOngC,cACzIkhD,EAAa34D,QAAQ,uCAAyCu7D,EAAct0D,KAAK,YAIrF,CAEI,IAAIu0D,EAAiBvuD,KAAKiG,gBAAgB+nD,EAAoBxB,mBAAoBY,UAC9EoB,EAAexuD,KAAKiG,gBAAgB+nD,EAAoBxB,mBAAoBa,QAEhF,OAAQW,EAAoBxB,mBAAmBrY,gBAE3C,KAAK,KAAA7mD,uBAAuBg9D,YAEpB,OAAQ3f,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpBowB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAc/gD,gBAAgBqhD,GAAgB,GAAO,IACtK,MACJ,KAAK,KAAAphE,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aACpBgwB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAc/gD,gBAAgBqhD,IAC/I,MACJ,KAAK,KAAAphE,mBAAmB/L,KACpB65C,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,MAA0BjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,WAAa2nD,EAAe3nD,YAAe5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,YAAc2nD,EAAe3nD,YAAc5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcnnD,aAAeynD,EAAeznD,eAI1U,MACJ,KAAK,KAAAxZ,uBAAuBi9D,SAEpB,OAAQ5f,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpBowB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAclhD,aAAawhD,GAAgB,GAAO,IACnK,MACJ,KAAK,KAAAphE,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aACpBgwB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAclhD,aAAawhD,IAC5I,MACJ,KAAK,KAAAphE,mBAAmB/L,KACpB65C,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,MAA0BjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,WAAa2nD,EAAe3nD,YAAe5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,YAAc2nD,EAAe3nD,YAAc5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcnnD,aAAeynD,EAAeznD,eAI1U,MACJ,KAAK,KAAAxZ,uBAAuBk9D,SAEpB,OAAQ7f,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpBowB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAc9gD,aAAaohD,GAAgB,IAC5J,MACJ,KAAK,KAAAphE,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aACpBgwB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAc9gD,aAAaohD,IAC5I,MACJ,KAAK,KAAAphE,mBAAmB/L,KACpB65C,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAA0BjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,YAAc2nD,EAAe3nD,YAAc5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcnnD,cAAgBynD,EAAeznD,cAI3P,MACJ,KAAK,KAAAxZ,uBAAuBm9D,QAEpB,OAAQ9f,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACxB,KAAK,KAAA1d,mBAAmB8d,aAGZgwB,EADkD,MAAlD+yB,EAAoBxB,mBAAoBa,OACxBpyB,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAc7gD,YAAYmhD,EAAgBC,IAE3IvzB,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,KAAyBjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAc/gD,gBAAgBqhD,IAEvJ,MACJ,KAAK,KAAAphE,mBAAmB/L,KAEsC,MAAlD4sE,EAAoBxB,mBAAoBa,QAExCpyB,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,MAA0BjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,WAAa2nD,EAAe3nD,YAAe5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,YAAc2nD,EAAe3nD,YAAc5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcnnD,aAAeynD,EAAeznD,eAC9Tm0B,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,MAA0BjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,WAAa4nD,EAAa5nD,YAAe5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,YAAc4nD,EAAa5nD,YAAc5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcnnD,aAAe0nD,EAAa1nD,gBAGxTm0B,EAAgBA,EAAchpB,OAAOJ,GAA6C,MAAxC7R,KAAKiG,gBAAgB4L,EAAEo8C,MAA0BjuD,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,WAAa2nD,EAAe3nD,YAAe5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcrnD,YAAc2nD,EAAe3nD,YAAc5G,KAAKiG,gBAAgB4L,EAAEo8C,IAAcnnD,aAAeynD,EAAeznD,gBAS1V,IAAI86C,EAA6B,KAAAzgE,aAAa6e,KAE1C2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB6S,KAAM4hD,EAAe,KAAAzgE,aAAa6e,KAC/D2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB7L,SAAUsgE,EAAe,KAAAzgE,aAAaG,SACxEqpD,EAAOhlD,MAAQ,KAAAwH,mBAAmB/L,KAAMwgE,EAAe,KAAAzgE,aAAaC,KACpEupD,EAAOhlD,MAAQ,KAAAwH,mBAAmB2d,SAAU82C,EAAe,KAAAzgE,aAAa2pB,SACxE6/B,EAAOhlD,MAAQ,KAAAwH,mBAAmB8d,aAAc22C,EAAe,KAAAzgE,aAAa8pB,aAC5E0/B,EAAOhlD,MAAQ,KAAAwH,mBAAmBwd,aAAci3C,EAAe,KAAAzgE,aAAawpB,aAC5EggC,EAAOhlD,MAAQ,KAAAwH,mBAAmB0d,gBAAe+2C,EAAe,KAAAzgE,aAAa0pB,eAEtF,IAAI9X,EAAUiN,KAAKiG,gBAAgB+nD,EAAoBxB,mBAAoBY,UAAU7iD,gBAAgBq3C,GACjGoM,EAAoBxB,mBAAoBrY,gBAAkB,KAAA7mD,uBAAuBm9D,UACjF13D,GAAW,MAAQiN,KAAKiG,gBAAgB+nD,EAAoBxB,mBAAoBa,QAAS9iD,gBAAgBq3C,IAE7G,IAAIgM,EAAU,iBAAAxmE,eAAexJ,IAAcjB,KAAK2uD,WAAa,sBACzD3lD,EAAO,GACX,OAAQyoB,OAAOw/C,EAAS5vE,UAEpB,KAAK,KAAAuP,yBAAyB+8D,YAAa3kE,EAAO,eAAgB,MAClE,KAAK,KAAA4H,yBAAyBg9D,SAAU5kE,EAAO,aAAc,MAC7D,KAAK,KAAA4H,yBAAyBi9D,SAAU7kE,EAAO,YAAa,MAC5D,KAAK,KAAA4H,yBAAyBk9D,QAAS9kE,EAAO,gBAGlD+lE,EAAa34D,QAAQpN,EAAOoN,SAK/B,GAAgD,MAA5Ci7D,EAAoB/Z,qBAC7B,CAEI,KAAuD,MAAlD+Z,EAAoB/Z,qBAAsBvkD,MAAkE,IAAlDs+D,EAAoB/Z,qBAAsBvkD,MACtC,MAA3Ds+D,EAAoB/Z,qBAAqBwY,gBAA4F,GAAlEuB,EAAoB/Z,qBAAqBwY,eAAe1kE,QAC/H,OAEJ,IAAIshE,EAAU,iBAAAjiE,eAAexJ,IAAajB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAClF8vB,EAA8B,KAClC,GAAgE,MAA3DsC,EAAoB/Z,qBAAqBwY,gBAA0BuB,EAAoB/Z,qBAAqBwY,eAAe1kE,OAAS,GAClIimE,EAAoB/Z,qBAAqBE,gBAAkB,KAAA3mD,yBAAyB4mD,yBAC3F,CACIsX,EAAe,iBAAAtkE,eAAexJ,IAAYjB,KAAK2uD,WAAa,oBAAsB2iB,GAClF,KAAAnmE,KAAK4jE,EAAa1jE,WAAW0K,IAAI,mBAAoB,SACrD,KAAA5K,KAAK4jE,EAAa1jE,WAAW0K,IAAI,QAAS,QAEjB,iBAAAtL,eAAexJ,IAAYjB,KAAK2uD,WAAa,0BAA4B2iB,GAC/Ep1D,OACnBlc,KAAK62D,mBAAkB,GAEvB6V,EAAQnxD,MAAM,0BAET81D,EAAoB/Z,qBAAqBE,gBAAkB,KAAA3mD,yBAAyB4mD,0BACzFiV,EAAQrrE,MAAMgwE,EAAoB/Z,qBAAqBvkD,MAAM,GAEjE,GAA+D,MAA3Ds+D,EAAoB/Z,qBAAqBwY,gBAA0BuB,EAAoB/Z,qBAAqBwY,eAAe1kE,OAAS,EAGpIkzC,EAAgBA,EAAchpB,OAAOJ,GAAuB,MAAlBA,EAAEo8C,IAAwBD,EAAoB/Z,qBAAsBwY,eAAelzD,IAAIsY,GAAcA,EAAE5J,eAAiBvP,SAASmZ,EAAEo8C,GAAahmD,gBACtK,MAAhByjD,GACAA,EAAa34D,QAAQ,uCAAyCi7D,EAAoB/Z,qBAAqBwY,eAAezyD,KAAK,YAInI,CAEI,IAAIrU,EAAO,GACX,OAAQqoE,EAAoB/Z,qBAAqBE,gBAE7C,KAAK,KAAA3mD,yBAAyBo9D,WAEtBjlE,EAAO,eACPs1C,EAAgBA,EAAchpB,OAAOJ,GAAuB,MAAlBA,EAAEo8C,IAAwBp8C,EAAEo8C,GAAahmD,cAAcpgB,WAAWmmE,EAAoB/Z,qBAAsBvkD,KAAKuY,gBAE/J,MACJ,KAAK,KAAAza,yBAAyBq9D,SAEtBllE,EAAO,gBACPs1C,EAAgBA,EAAchpB,OAAOJ,GAAuB,MAAlBA,EAAEo8C,IAAwBp8C,EAAEo8C,GAAahmD,cAAc6W,SAASkvC,EAAoB/Z,qBAAsBvkD,KAAKuY,gBAE7J,MACJ,KAAK,KAAAza,yBAAyBg9D,SAEtB7kE,EAAO,aACPs1C,EAAgBA,EAAchpB,OAAOJ,GAAuB,MAAlBA,EAAEo8C,IAAwBp8C,EAAEo8C,GAAahmD,eAAiB+lD,EAAoB/Z,qBAAsBvkD,KAAKuY,eAEvJ,MACJ,KAAK,KAAAza,yBAAyBs9D,SAM9B,KAAK,KAAAt9D,yBAAyB4mD,yBAM9B,QAEQzuD,EAAO,aACPs1C,EAAgBA,EAAchpB,OAAOJ,GAAuB,MAAlBA,EAAEo8C,KAAgI,IAAxGp8C,EAAEo8C,GAAahmD,cAAcyJ,QAAQs8C,EAAoB/Z,qBAAsBvkD,KAAKuY,gBAKhJ,MAAhByjD,GACAA,EAAa34D,QAAQpN,EAAOqoE,EAAoB/Z,qBAAsBvkD,YAK7E,GAAkD,MAA9Cs+D,EAAoBhb,uBAC7B,CACI/X,EAAgBA,EAAchpB,OAAOJ,GAAKA,EAAEo8C,KAAiBD,EAAoBhb,uBAAwBh1D,OAGzG,IAAI40D,EAAa,KAAA9qD,KAAK,IAAMnL,KAAK2uD,WAAa,mBAAqB2iB,GACnErb,EAAWp3B,YAAY,2BAERo3B,EAAW,GACjBnb,QAAUu2B,EAAoBhb,uBAAwBh1D,SAKvErB,KAAK05D,aAAa,GAAG,GAEjBlD,IAEAx2D,KAAKq7D,YAAc,iBAAArwD,eAAeoqC,UAAUkJ,GACrB,MAAnBj8C,EAAQwrD,SACR7tD,KAAKm7D,mBAAmBn7D,KAAKm4D,cAEjCn4D,KAAKo7D,cAAcp7D,KAAKq7D,cAMxB,YAEJ,IAAIh5D,EAAUrC,KAAK+sC,aACf+kC,EAAc,KAAA3mE,KAAKnL,KAAKqxD,YAAYv1C,KAAK,SAAS,GAClDi2D,EAAcD,EAAYE,aAE1BC,EAASv1D,MAAMm/B,KAAkB,KAAA1wC,KAAK2mE,GAAah2D,KAAK,OACxDzZ,EAAQ4qD,UACRglB,EAAOr9C,YAAYlY,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,SAASA,KAAK,QAE9F,IAAK,IAAIw5C,KAAM2c,EACf,CACI,IAAIC,EAAelmE,SAAS4b,cAAc,OAC1CsqD,EAAaz2D,MAAMC,SAAW,wGAA0Gq2D,EAAc,MACtJzc,EAAGztC,YAAYqqD,GACf5c,EAAG75C,MAAMlZ,SAAW,WACpBvC,KAAKmyE,kBAAkBD,IAIvB,kBAAkBA,GAEtB,IAAIE,EAAuB,KACvBC,EAAoC,KACpCC,EAAoC,KACpCC,EAA6C,EAGjD,KAAApnE,KAAK+mE,GAAc/1D,GAAG,YAAc7B,IAEhCta,KAAKy1D,aAAc,EACnB4c,EAAgB/3D,EAAE6oB,OAAOu6B,cACzB0U,EAAQ93D,EAAE83D,MAGV,IAAII,EAAU,EACd,GAA8C,cAA1C,KAAArnE,KAAKknE,GAAgBt8D,IAAI,cACzBy8D,EAAU,MAEd,CACI,IAAIC,EAAU,KAAAtnE,KAAKknE,GAAgBt8D,IAAI,gBACnC28D,EAAW,KAAAvnE,KAAKknE,GAAgBt8D,IAAI,iBACxCy8D,EAAWC,EAAQp/B,iBAAmBq/B,EAASr/B,iBAInDi/B,EAAqBD,EAAetwC,YAAcywC,IAGtD,KAAArnE,KAAK+mE,GAAc/1D,GAAG,YAAc7B,GAAYA,EAAE6oB,OAAuB1nB,MAAMk3D,YAAc,qBAC7F,KAAAxnE,KAAK+mE,GAAc/1D,GAAG,WAAa7B,GAAYA,EAAE6oB,OAAuB1nB,MAAMk3D,YAAc,IAI5F,KAAAxnE,KAAKnL,KAAKsC,aAAa6Z,GAAG,YAAc7B,IAEpC,GAAqB,MAAjB+3D,IAA0BryE,KAAK01D,YACnC,CACI,IAAIrzD,EAAUrC,KAAK+sC,aACfkS,EAAQ,KAAA9zC,KAAK,KAAAA,KAAKnL,KAAKqxD,YAAYv1C,KAAK,MAAM,KAAA3Q,KAAKknE,GAAex1D,UAAU/Q,KAAK,SACjF8mE,EAA0D,MAAxCP,EAAc7zC,aAAa,UAC7Co0C,IACA3zB,EAAQ,KAAA9zC,KAAK,KAAAA,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,MAAM,KAAA3Q,KAAKknE,GAAex1D,UAAU/Q,KAAK,UAE3F,IAAI+Q,EAAQ,KAAA1R,KAAKknE,GAAgBx1D,QAE7BmxC,EAAShuD,KAAKguD,OAAO/O,GACzB,GAAI2zB,EACJ,CACI,IAAK,IAAIC,KAAgBn2D,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,wBACjE,KAAA3Q,KAAK0nE,GAAc98D,IAAI,CAAE,MAAS,KAAA5K,KAAK0nE,GAAct3D,QAAU,OAEnE,IAAK,IAAIu3D,KAAgBp2D,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,wBAClE,KAAA3Q,KAAK2nE,GAAc/8D,IAAI,CAAE,MAAS,KAAA5K,KAAK2nE,GAAcv3D,QAAU,OAEnE,IAAK,IAAIw3D,KAAer2D,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,wBAChE,KAAA3Q,KAAK4nE,GAAah9D,IAAI,CAAE,MAAS,KAAA5K,KAAK4nE,GAAax3D,QAAU,WAGrE,CACI,IAAK,IAAIs3D,KAAgBn2D,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKqxD,YAAYv1C,KAAK,wBAC3D,KAAA3Q,KAAK0nE,GAAc98D,IAAI,CAAE,MAAS,KAAA5K,KAAK0nE,GAAct3D,QAAU,OAEnE,IAAK,IAAIu3D,KAAgBp2D,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKyxD,aAAa31C,KAAK,wBAC5D,KAAA3Q,KAAK2nE,GAAc/8D,IAAI,CAAE,MAAS,KAAA5K,KAAK2nE,GAAcv3D,QAAU,OAEnE,IAAK,IAAIw3D,KAAer2D,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAK+xD,YAAYj2C,KAAK,wBAC1D,KAAA3Q,KAAK4nE,GAAah9D,IAAI,CAAE,MAAS,KAAA5K,KAAK4nE,GAAax3D,QAAU,OAGrE,IAAIgd,EAAQje,EAAE83D,MAAQA,EACtBC,EAAc52D,MAAMF,MAAS+2D,EAAsB/5C,EAAS,KAC5Dy1B,EAAOzyC,MAAS+2D,EAAsB/5C,EAElCl2B,EAAQkqD,aAEJqmB,EAEsD,MAAlD,KAAAznE,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,MAAMe,KACxC,KAAA1R,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,MAAMe,GAAOpB,MAAMF,MAAS+2D,EAAsB/5C,EAAS,MAIjD,MAA5C,KAAAptB,KAAKnL,KAAKyxD,aAAa31C,KAAK,MAAMe,KAClC,KAAA1R,KAAKnL,KAAKyxD,aAAa31C,KAAK,MAAMe,GAAOpB,MAAMF,MAAS+2D,EAAsB/5C,EAAS,OAI/Fv4B,KAAKqyD,cAEDugB,EAEqD,MAAjD,KAAAznE,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,MAAMe,KACvC,KAAA1R,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,MAAMe,GAAOpB,MAAMF,MAAS+2D,EAAsB/5C,EAAS,MAIjD,MAA3C,KAAAptB,KAAKnL,KAAK+xD,YAAYj2C,KAAK,MAAMe,KACjC,KAAA1R,KAAKnL,KAAK+xD,YAAYj2C,KAAK,MAAMe,GAAOpB,MAAMF,MAAS+2D,EAAsB/5C,EAAS,OAIlG,IAAIy6C,EAAchzE,KAAKy4D,eAAezN,UAAU91B,GAAKA,EAAE+pB,OAASA,GAC5DyZ,EAAiB14D,KAAKy4D,eAAeua,GACzC,GAAI3wE,EAAQurD,UACZ,CACI,IAAIqlB,EAAM,KAAA9nE,KAAKnL,KAAK6xD,UAAU/1C,KAAK,YAAYA,KAAK,cAAgBmjC,EAAQ,KAO5E,GANI2zB,IAEAK,EAAM,KAAA9nE,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,YAAYA,KAAK,cAAgBmjC,EAAQ,KAC9E,KAAA9zC,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,aAAemjC,EAAQ,MAAM,GAAGxjC,MAAMF,MAAS+2D,EAAsB/5C,EAAS,MAGnG,MAAV06C,EAAI,GACR,CACIA,EAAI,GAAGx3D,MAAMF,MAAS+2D,EAAsB/5C,EAAQ,GAAM,KAC1D,IAAI26C,EAAWD,EAAI,GAAGx3D,MAAMF,MAAM83B,iBAClCqlB,EAAel8B,MAAQk8B,EAAe3xC,KAAOmsD,QAK7CN,EACA,KAAAznE,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,aAAemjC,EAAQ,MAAM,GAAGxjC,MAAMF,MAAS+2D,EAAsB/5C,EAAS,KAE7G,KAAAptB,KAAKnL,KAAK6xD,UAAU/1C,KAAK,aAAemjC,EAAQ,MAAM,GAAGxjC,MAAMF,MAAS+2D,EAAsB/5C,EAAS,KAE3GmgC,EAAezZ,MAAQA,EACvByZ,EAAe3xC,KAAO2xC,EAAe3xC,KACrC2xC,EAAel8B,MAAQk8B,EAAe3xC,KAAOinC,EAAOzyC,MACpDm9C,EAAe77C,MAAQA,EAG3B7c,KAAK84D,kBAAiB,GACtBt0C,OAAO80B,aAAai5B,GACpBA,EAAqC/tD,OAAOwa,WAAW,IAAMh/B,KAAK84D,mBAAoB,QAI9F,KAAA3tD,KAAKnL,KAAKsC,aAAa6Z,GAAG,UAAW,KAEjCqI,OAAOwa,WAAW,IAAMh/B,KAAKy1D,aAAc,GAE3C4c,EAAgB,KAChBD,EAAQ,KACRE,EAAqB,OAOrB,sBAEJ,IAAIR,EAAc,KAAA3mE,KAAKnL,KAAKqxD,YAAYv1C,KAAK,SAAS,GACtD,IAAK,IAAIw5C,KAAM54C,MAAMm/B,KAAK,KAAA1wC,KAAK2mE,GAAah2D,KAAK,OACjD,CACI,IAAImjC,EAAQ,KAAA9zC,KAAKmqD,GAAIxpD,KAAK,SACtB+Q,EAAQ7c,KAAKy4D,eAAezN,UAAU91B,GAAKA,EAAE+pB,OAASA,GACtDyZ,EAAiB14D,KAAKy4D,eAAe57C,GACzC67C,EAAezZ,MAAQA,EACvByZ,EAAe3xC,KAAO,KAAA5b,KAAKmqD,GAAI98B,SAASzR,KACxC2xC,EAAel8B,MAAQ,KAAArxB,KAAKmqD,GAAI98B,SAASzR,KAAO,KAAA5b,KAAKmqD,GAAI/5C,QACzDm9C,EAAe77C,MAAQ,KAAA1R,KAAKmqD,GAAIz4C,SAIhC,mBAEJ,IAAIxa,EAAUrC,KAAK+sC,aACf+kC,EAAc,KAAA3mE,KAAKnL,KAAKqxD,YAAYv1C,KAAK,SAAS,GACtD,IAAK,IAAIw5C,KAAM54C,MAAMm/B,KAAkB,KAAA1wC,KAAK2mE,GAAah2D,KAAK,OAC9D,CACI,IAAImjC,EAAQ,KAAA9zC,KAAKmqD,GAAIxpD,KAAK,SACb,wBAATmzC,GAA4C,cAATA,GAAyBA,EAAM/zC,WAAW,YAGjFlL,KAAKmzE,KAAK7d,EACN,CACI8d,WAAa94D,IAGT,KAAAnP,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAY+iB,YAAY,oBAEnD,IAAIw0C,EAAyBrzE,KAAKy4D,eAAenjC,OAAOJ,GAAK5a,EAAEyM,MAAQmO,EAAEnO,MAAQzM,EAAEyM,MAAQmO,EAAEsH,OAAO,GACtE,MAA1B62C,EAEI/4D,EAAEyM,KAAO/mB,KAAKy4D,eAAe,GAAG1xC,KAChCssD,EAAyBrzE,KAAKy4D,eAAe,GACxCn+C,EAAEyM,KAAO/mB,KAAKy4D,eAAez4D,KAAKy4D,eAAertD,OAAS,GAAGoxB,QAClE62C,EAAyBrzE,KAAKy4D,eAAez4D,KAAKy4D,eAAertD,OAAS,IAEzEioE,EAAuBx2D,QAAU,KAAA1R,KAAKmqD,GAAIz4C,UAE/C,KAAA1R,KAAKmqD,GAAIx6B,SAAS,iBAEdu4C,EAAuBx2D,MAAQ,KAAA1R,KAAKmqD,GAAIz4C,QACxC,KAAA1R,KAAK,KAAAA,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAYu3D,EAAuBx2D,QAAQie,SAAS,oBAEpF,KAAA3vB,KAAK,KAAAA,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAYu3D,EAAuBx2D,MAAQ,IAAIie,SAAS,sBAIpGw4C,UAAYh5D,IAGR,KAAAnP,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAY+iB,YAAY,oBACnD,KAAA1zB,KAAKmqD,GAAIz2B,YAAY,iBACrB,KAAA1zB,KAAKmqD,GAAI,GAAG75C,MAAMC,SAAW,uBAE7B,IAAI63D,EAAuBvzE,KAAKy4D,eAAenjC,OAAOJ,GAAK5a,EAAEyM,MAAQmO,EAAEnO,MAAQzM,EAAEyM,MAAQmO,EAAEsH,OAAO,GAClG,GAA4B,MAAxB+2C,EAEIj5D,EAAEyM,KAAO/mB,KAAKy4D,eAAe,GAAG1xC,KAChCwsD,EAAuBvzE,KAAKy4D,eAAe,GACtCn+C,EAAEyM,KAAO/mB,KAAKy4D,eAAez4D,KAAKy4D,eAAertD,OAAS,GAAGoxB,QAClE+2C,EAAuBvzE,KAAKy4D,eAAez4D,KAAKy4D,eAAertD,OAAS,QAGhF,CACI,IAAI49D,EAAc,KAAA79D,KAAKmqD,GAAIz4C,QAGvB02D,EAAqB12D,MAAQmsD,EAC7B,KAAA79D,KAAK,KAAAA,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAYy3D,EAAqB12D,QAAQgd,YAAY,KAAA1uB,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAYktD,IAE5H,KAAA79D,KAAK,KAAAA,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAYy3D,EAAqB12D,QAAQ6c,aAAa,KAAAvuB,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAYktD,IAE7H3mE,EAAQkqD,aAEJgnB,EAAqB12D,MAAQmsD,EAC7B,KAAA79D,KAAK,KAAAA,KAAKnL,KAAKyxD,aAAa31C,KAAK,YAAYy3D,EAAqB12D,QAAQgd,YAAY,KAAA1uB,KAAKnL,KAAKyxD,aAAa31C,KAAK,YAAYktD,IAE9H,KAAA79D,KAAK,KAAAA,KAAKnL,KAAKyxD,aAAa31C,KAAK,YAAYy3D,EAAqB12D,QAAQ6c,aAAa,KAAAvuB,KAAKnL,KAAKyxD,aAAa31C,KAAK,YAAYktD,KAGnIhpE,KAAKqyD,cAEDkhB,EAAqB12D,MAAQmsD,EAC7B,KAAA79D,KAAK,KAAAA,KAAKnL,KAAK+xD,YAAYj2C,KAAK,YAAYy3D,EAAqB12D,QAAQgd,YAAY,KAAA1uB,KAAKnL,KAAK+xD,YAAYj2C,KAAK,YAAYktD,IAE5H,KAAA79D,KAAK,KAAAA,KAAKnL,KAAK+xD,YAAYj2C,KAAK,YAAYy3D,EAAqB12D,QAAQ6c,aAAa,KAAAvuB,KAAKnL,KAAK+xD,YAAYj2C,KAAK,YAAYktD,KAGrI,IAAK,IAAIhN,KAAOt/C,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,aACpD,CACI,IAAImjC,EAAQ,KAAA9zC,KAAKmqD,GAAIxpD,KAAK,SACtB0nE,EAAO,KAAAroE,KAAK6wD,GAAKlgD,KAAK,aAAemjC,EAAQ,MAC7Cw0B,EAAa,KAAAtoE,KAAK6wD,GAAKlgD,KAAK,aAAey3D,EAAqBt0B,MAAQ,MACxEs0B,EAAqB12D,MAAQmsD,EAC7ByK,EAAW55C,YAAY25C,GAEvBC,EAAW/5C,aAAa85C,GAG5BnxE,EAAQurD,YAEJ2lB,EAAqB12D,MAAQmsD,EAC7B,KAAA79D,KAAKnL,KAAK6xD,UAAU/1C,KAAK,YAAYA,KAAK,cAAgBy3D,EAAqBt0B,MAAQ,MAAMplB,YAAY,KAAA1uB,KAAKnL,KAAK6xD,UAAU/1C,KAAK,YAAYA,KAAK,cAAgBmjC,EAAQ,MAE3K,KAAA9zC,KAAKnL,KAAK6xD,UAAU/1C,KAAK,YAAYA,KAAK,cAAgBy3D,EAAqBt0B,MAAQ,MAAMvlB,aAAa,KAAAvuB,KAAKnL,KAAK6xD,UAAU/1C,KAAK,YAAYA,KAAK,cAAgBmjC,EAAQ,OAIpLj/C,KAAK0zE,sBAGL,IAAI1lB,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASA,GAAO,GACxD00B,EAAcJ,EAAqBt0B,MACnC20B,EAAevxE,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAAS00B,GAAa,GACpEE,EAAcxxE,EAAQ+pD,QAASr3B,QAAQ6+C,GAEvCE,EAAYzxE,EAAQ+pD,QAASr3B,QAAQi5B,GACrC+lB,EAAa1xE,EAAQ+pD,QAAS0nB,GAClCzxE,EAAQ+pD,QAASp3B,OAAO8+C,EAAW,GACnCzxE,EAAQ+pD,QAASp3B,OAAO6+C,EAAa,EAAGE,QAUhE,KAAK1oE,EAAwCs6B,GAEzC,IAAIM,EAAyC,KAC7C,KAAA96B,KAAKE,GAAS4sB,UAAWC,IAErB,IAAyB,IAArBl4B,KAAKy1D,YACL,OAEJ,IAAIt9B,EAAoBD,EAAIE,QACxBC,EAAoBH,EAAII,QAExB6K,EAAS,KAAAh4B,KAAK+sB,EAAI8N,eACtBC,EAA0B9C,EAAO3K,SAASzR,KAC1C,IAAImf,EAA0B/C,EAAO3K,SAAS5R,IAE1C2f,GAAQ,EACRytC,EAAOxvD,OAAOwa,WAAW,IAAMiH,EAA0B,KAAM,KAG/DguC,EAAOj0E,KACX,SAASk0E,EAAcv7C,GAGnB,GADA2gB,aAAa06B,GACkB,MAA3B/tC,IAAwD,IAArBguC,EAAKxe,YACxC,OAEJ,IAAIjvB,EAAkB7N,EAAIP,QACtBqO,EAAkB9N,EAAIL,QACtBoO,EAAQvO,EAAoBqO,EAC5BG,EAAQtO,EAAoBoO,EAEhC,KAAIC,IAAU,IAAMA,GAAS,IAA7B,CAGA,GAAM/N,EAAIP,SAAWD,GAAqBQ,EAAIL,SAAWD,EACzD,CAEI,IAAIuO,EAAgBjO,EAAIP,QAAW,KAAAjtB,KAAKg4B,EAAO,IAAI5nB,QAAU,EACzDsrB,EAAcX,EAKlB,GAJA/C,EAAO3K,OAAO,CAAE5R,IAAKigB,EAAa9f,KAAM6f,IAIX,MAAzBjB,EAAWytC,WACf,CACI,IAAInsC,EAAiB,IAAIktC,eACzBltC,EAAelgB,KAAOoc,EAAO5gC,WAAWwkB,KACxCkgB,EAAergB,IAAMuc,EAAO5gC,WAAWqkB,IACvCqgB,EAAe57B,QAAU,KAAAF,KAAKE,GAAS,GACvCs6B,EAAWytC,WAAWnsC,IAM9B,GAAI1Z,KAAKC,IAAIkZ,GAASnZ,KAAKC,IAAImZ,GAC/B,CACI,GAAiB,MAAbhB,GAA8B,GAATe,EACrB,OAEJH,GAAQ,EACR0tC,EAAKve,aAAc,OAElB,GAAInoC,KAAKC,IAAIkZ,GAASnZ,KAAKC,IAAImZ,GACpC,CACI,GAAiB,MAAbhB,GAA8B,GAATe,EACrB,OAEJH,GAAQ,EACR0tC,EAAKve,aAAc,IAI3B,KAAAvqD,KAAKnL,KAAKsC,aAAa6Z,GAAG,YAAa+3D,GAIvC,KAAA/oE,KAAKnL,KAAKsC,aAAa6Z,GAAG,WAAW,SAASi4D,EAAY95D,GAMtD,GAJA,KAAAnP,KAAK8oE,EAAK3xE,aAAa63D,IAAI,UAAWia,GACtC,KAAAjpE,KAAK8oE,EAAK3xE,aAAa63D,IAAI,YAAa+Z,GACxCD,EAAKve,aAAc,EAEY,MAA3BzvB,IAAwD,IAArBguC,EAAKxe,YAA5C,CAOA,GAAIlvB,GAAiC,MAAxBZ,EAAW2tC,UACxB,CACI,IAAIrsC,EAAiB,IAAIktC,eACzBltC,EAAelgB,KAAOoc,EAAO5gC,WAAWwkB,KACxCkgB,EAAergB,IAAMuc,EAAO5gC,WAAWqkB,IACvCqgB,EAAe57B,QAAU,KAAAF,KAAKE,GAAS,GACvCs6B,EAAW2tC,UAAUrsC,GAIzBhB,EAA0B,UAftBA,EAA0B,UAyB1C,QAAQlzB,GAQJ,OANY,MAARA,GAAgBA,EAAK3H,OAAS,IAE9BpL,KAAKq0E,cACLr0E,KAAKkxD,YAAY7vD,MAAM0R,IAGpB/S,KAAKkxD,YAGhB,eAAe93B,GAKX,OAHa,MAATA,GACAp5B,KAAKkxD,YAAY90B,QAAQhD,GAEtBp5B,KAAKkxD,YAAY90B,UAG5B,cAEIp8B,KAAKkxD,YAAYh1C,OAGrB,cAEIlc,KAAKkxD,YAAYr+C,OAKrB,uBAEI,SAASyhE,gBAAgBh6D,GAErB,IAAIinB,SAAkB,GAGtB7kB,MAAM1a,UAAUw0B,MAAQ,SAAUpB,YAE9B,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACI,GAAkB,MAAdo1B,WACA,OAAOp1B,KAAKk2B,OAAO,CAACO,EAAIL,IAAMK,EAAKL,EAAG,GAE1C,CACI,IAAIr0B,SAAWqzB,WAAWtY,WAAW6P,MAAM,MAAM,GAC7C+J,IAAc,EAElB,OADA12B,KAAK0Z,QAAQwb,GAAKwB,KAAOC,KAAK50B,WACvB20B,KAIf,OAAO,GAGXha,MAAM1a,UAAU40B,MAAQ,SAAUxB,EAA+DouC,GAE7F,GAAI9mD,MAAM4X,QAAQt0B,MAClB,CACI,IAAIoL,EAASpL,KAAKoL,OAIlB,IAH2B,IAAvBo4D,IACAp4D,EAASpL,KAAKoL,OAASpL,KAAKs1B,OAAOJ,GAAU,GAALA,GAAQ9pB,QAEtC,GAAVA,EACA,OAAO,EAEX,GAAkB,MAAdgqB,EACA,OAAOp1B,KAAKw2B,QAAUprB,EAItB,OADUpL,KAAKw2B,MAAMpB,GACRhqB,EAIrB,OAAO,GAGXsR,MAAM1a,UAAUi0B,MAAQ,SAAUb,GAE9B,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACI,GAAkB,MAAdo1B,EACJ,CACI,IAAIrzB,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAChD,OAAO3sB,KAAKk2B,OAAO,CAACC,EAAIC,IAAM7I,KAAK8I,IAAIF,EAAIC,EAAEr0B,IAAY,GAGzD,OAAOwrB,KAAK8I,IAAIX,MAAM,KAAM11B,MAGpC,OAAO,GAGX0c,MAAM1a,UAAUs0B,MAAQ,SAAUlB,GAE9B,GAAI1Y,MAAM4X,QAAQt0B,MAClB,CACI,GAAkB,MAAdo1B,EACJ,CACI,IAAIrzB,EAAWqzB,EAAWtY,WAAW6P,MAAM,KAAK,GAChD,OAAO3sB,KAAKk2B,OAAO,CAACC,EAAIC,IAAM7I,KAAKgJ,IAAIJ,EAAIC,EAAEr0B,IAAY0vB,OAAOjF,WAGhE,OAAOe,KAAKgJ,IAAIb,MAAM,KAAM11B,MAGpC,OAAO,GAKX,IAAIsgC,QAAUhmB,EAAE+lB,KAChB,IAAIC,QAAQ+iC,SAEkB,MAAtB/iC,QAAQujC,YAAmD,GAA7BvjC,QAAQujC,WAAWz4D,QAAqD,MAAtCk1B,QAAQujC,WAAW,GAAGjkB,UAAU,GAFxG,CAwDA,GAAItf,QAAQ+iC,QAER,IAAK,IAAIkR,KAASj0C,QAAQujC,WAC1B,CACI,IAAIa,EAAS8P,UAAUD,EAAM30B,WAC7Bre,SAAS/N,KAAK,CAAEkxC,OAAQA,EAAQN,WAAYmQ,EAAMnQ,iBAI1D,CACI,IAAIM,EAAS8P,UAAUl0C,QAAQsf,WAC/Bre,SAAWmjC,EAId+P,KAAa/Q,YAAYniC,eAnEjBkzC,KAAa/Q,YAAYniC,UAKlC,SAASizC,UAAU50B,GAEf,IAAI8kB,EAAS,GACb,IAAK,IAAI1W,KAAU1tB,QAAQgjC,cAC3B,CACI,IAAIoR,EAAkB,EACtB,OAAQ1mB,EAAOuV,eAEX,KAAK,EAAGmR,EAAkB90B,EAAUhjC,IAAIsY,GAAKA,EAAE84B,EAAO/O,QAAQ7zC,OAAQ,MACtE,KAAK,EAAGspE,EAAkB90B,EAAUhjC,IAAIsY,GAAKA,EAAE84B,EAAO/O,QAAQzoB,QAAS,MACvE,KAAK,EAGOk+C,EADe,GAAf1mB,EAAOhlD,KACW42C,EAAUhjC,IAAIsY,GAAKA,EAAE84B,EAAO/O,QAAQroB,WAAMlZ,EAAWswC,EAAOwV,oBAAsB,IAElF5jB,EAAUhjC,IAAIsY,GAAKA,EAAE84B,EAAO/O,QAAQroB,WAAMlZ,EAAWswC,EAAOwV,oBAEtF,MACJ,KAAK,EAKOkR,EAHe,MAAf1mB,EAAOhlD,MAAgC,GAAfglD,EAAOhlD,MAA4B,GAAfglD,EAAOhlD,MAA4B,GAAfglD,EAAOhlD,KAGrD42C,EAAUhjC,IAAIsY,GAAKA,EAAE84B,EAAO/O,QAAQ3oB,QAFpCspB,EAAUhjC,IAAIsY,GAAK,IAAI7R,KAAK6R,EAAE84B,EAAO/O,SAAS3oB,QAIxE,MACJ,KAAK,EAKOo+C,EAHe,MAAf1mB,EAAOhlD,MAAgC,GAAfglD,EAAOhlD,MAA4B,GAAfglD,EAAOhlD,MAA4B,GAAfglD,EAAOhlD,KAGrD42C,EAAUhjC,IAAIsY,GAAKA,EAAE84B,EAAO/O,QAAQhpB,QAFpC2pB,EAAUhjC,IAAIsY,GAAK,IAAI7R,KAAK6R,EAAE84B,EAAO/O,SAAShpB,QAOhF,IAAIwuC,EAAa,GACjBA,EAAMxlB,MAAQ+O,EAAO/O,MACrBwlB,EAAMA,MAAQiQ,EACdjQ,EAAM3M,cAAgB9J,EAAO8J,cAC7B2M,EAAMz7C,iBAAmBglC,EAAOhlC,iBAChCy7C,EAAMz7D,KAAOglD,EAAOhlD,KACpB07D,EAAOlxC,KAAKixC,GAEhB,OAAOC,GAqBf,IAAIiQ,4BAA8B,KAAAxpE,KAAK,QAAQ2Q,KAAK,gCAAgC,GACjD,MAA/B64D,6BACA,KAAAxpE,KAAK,gDAAkDmpE,gBAAgBx3D,WAAa,eAAcxG,eAAe,QAErH,IAAIs+D,iBAAmB,IAAIryC,KAAK,CAACv2B,SAAS6oE,eAAe,mBAAoBjzC,aACzE,CACI54B,KAAM,oBAEdhJ,KAAKyjE,cAAgB,IAAIqR,OAAOtwD,OAAOge,IAAIC,gBAAgBmyC,mBAC3D50E,KAAKqkE,mBAAqB,IAAIyQ,OAAOtwD,OAAOge,IAAIC,gBAAgBmyC,mBAGpE,4BAA4Bt9B,GAExB,IAAIy9B,EAAkB,GACtB,GAA8B,MAA1B/0E,KAAKi6D,mBAA6Bj6D,KAAKi6D,kBAAkB7uD,OAAS,EAElE,IAAK,IAAIspB,KAAQ4iB,EAAMhiB,OAAOJ,GAAKA,GACnC,CACI,IAAK,IAAI+pB,KAASj/C,KAAKi6D,kBAEA,MAAfvlC,EAAKuqB,KACLvqB,EAAKuqB,GAAS,IAAI,KAAAt6C,SAAS+vB,EAAKuqB,KAExC81B,EAASvhD,KAAKkB,QAIlBqgD,EAASngD,YAAY0iB,GAEzB,OAAOy9B,EAGX,sBAAsBz9B,GAElB,IAAIj1C,EAAUrC,KAAK+sC,aACnB/sC,KAAKi6D,kBAAoB,GACzB,IAAI+a,EAAY,CAAC,KAAAxkE,mBAAmB6S,KAAM,KAAA7S,mBAAmB7L,SAAU,KAAA6L,mBAAmB/L,KAAM,KAAA+L,mBAAmB2d,SACnH,KAAA3d,mBAAmB8d,aAAc,KAAA9d,mBAAmBwd,aAAc,KAAAxd,mBAAmB0d,eACrF,GAAI7rB,EAAQ+pD,QAASr2B,MAAMb,GAAK8/C,EAAUj5D,SAASmZ,EAAElsB,OACrD,CACI,IAAIisE,EAAkB5yE,EAAQ+pD,QAAS92B,OAAOJ,GAAK8/C,EAAUj5D,SAASmZ,EAAElsB,OACxE,IAAK,IAAIglD,KAAUinB,EAEf,IAAK,IAAIjZ,KAAO1kB,EAEZ,GAAyB,MAArB0kB,EAAIhO,EAAO/O,OACf,CACI,IAAIi2B,EAAW,IAAI,KAAAvwE,SAASq3D,EAAIhO,EAAO/O,SAClCj/C,KAAKi6D,kBAAkBl+C,SAASiyC,EAAO/O,QAAUi2B,EAASC,uBAC3Dn1E,KAAKi6D,kBAAkBzmC,KAAKw6B,EAAO/O,OAEvC+c,EAAIhO,EAAO/O,OAASi2B,EAASzqD,WAOjD,SAAS6hC,EAAmBsG,GAAS,EAAO0I,GAAmB,GAE3D,GAAgB,MAAZhP,EACJ,CACI,IAAIjqD,EAAUrC,KAAK+sC,aACnB/sC,KAAK4wD,gBAAkBtE,EACvBjqD,EAAQiqD,SAAWA,EAEfsG,GACA5yD,KAAK4yD,OAAO0I,GAEhB,IAAI8Z,EAAkB,CAAEriE,KAAMyW,OAAO8iC,GAAWjrD,MAAOmoB,OAAO8iC,GAAWqG,YAAarG,GAClF2W,EAAc,iBAAAx4D,eAAexJ,IAAcjB,KAAK2uD,WAAa,gBAC9C,MAAfsU,IAEKA,EAAY3rB,QAAQvhB,MAAMb,GAAKA,EAAE7zB,OAASmoB,OAAO8iC,KAClD2W,EAAY/jB,QAAQk2B,GAAiB,GAAM,EAAO,CAAEn2B,MAAO,gBAE/DgkB,EAAY5hE,MAAMmoB,OAAO8iC,IAAW,IAG5C,OAAOtsD,KAAK4wD,gBAGhB,aAAa6I,EAAe7G,GAAS,GAEjC,GAAY,MAAR6G,EACJ,CACI,IAAIp3D,EAAUrC,KAAK+sC,cACI,IAAnB1qC,EAAQqqD,QACR,KAAAvhD,KAAK,IAAMnL,KAAKyyD,WAAWt8C,GAAK,WAAW0oB,YAAY,uBAE3D,IAAIw2C,EAAiB,iBAAA5qE,eAAexJ,IAAYjB,KAAK2uD,WAAa,YAAc8K,GAKhF,GAJsB,MAAlB4b,GACA,KAAAlqE,KAAKkqE,EAAehqE,WAAWyvB,SAAS,uBAGd,MAA1Bz4B,EAAQizE,eACZ,CACI,IAAIvwD,EAAQ,IAAI,KAAAtD,sBAKhB,GAJAsD,EAAM+lB,OAAS9qC,KACf+kB,EAAM20C,aAAeD,EACrBp3D,EAAQizE,eAAevwD,GAEnBA,EAAMhB,qBACN,OAAO/jB,KAAK6wD,oBAKpB,GADA7wD,KAAK6wD,oBAAsB4I,EACvB7G,EAEA,IAA8B,IAA1BvwD,EAAQ8qD,cACZ,CACI,IAAIuM,EAA4C,GAA5B15D,KAAK6wD,oBAA4B,EAAK7wD,KAAK6wD,oBAAsB,EACrF7wD,KAAK8wD,yBAAyBE,UAAY0I,EAAe15D,KAAKssD,WAC9DtsD,KAAK8wD,yBAAyBG,QAAUjxD,KAAK8wD,yBAAyBE,UAAYhxD,KAAKssD,WAAa,EACpG9nC,OAAOwa,WAAW,IAAMh/B,KAAKgtD,eAG7BhtD,KAAK4yD,SAEb,OAAO6G,EAEX,OAAOz5D,KAAK6wD,oBAGhB,eAAetvD,GAEX,IAAIc,EAAUrC,KAAK+sC,aAInB,OAHY,MAARxrC,IACAc,EAAQoJ,WAAalK,GAElBc,EAAQoJ,WAGnB,MAAMwzC,GAEF,IAAI58C,EAAUrC,KAAK+sC,aACN,MAATkS,GAAiB58C,EAAQkqD,YACzB,KAAAphD,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAmB1P,GAAOn3B,QAG/D,SAASu/C,GAEL,IAAIkO,EAAav1E,KAAKqxC,OAAO/b,OAAOJ,GAAKA,EAAErY,OAASwqD,GAAU,GAC9D,GAAkB,MAAdkO,EACJ,CACI,IAAIhzE,EAAW,KAAA4I,KAAKoqE,EAAWlqE,SAAS9I,WACxC,KAAA4I,KAAKnL,KAAK6xD,UAAUG,UAAUzvD,EAASqkB,MAIvC,aAEJ,OAAO,KAAAzb,KAAKnL,KAAKsC,aAAag8B,SAAS,uBAGnC,4BAA4Bj9B,GAEhC,OAAOmoB,OAAOnoB,GACT+Y,QAAQ,IAAK,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,MAAO,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,MAAO,IAAIA,QAAQ,KAAM,KACzGA,QAAQ,MAAO,IAAIA,QAAQ,MAAO,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,MAAO,IAAIA,QAAQ,MAAO,IAAIA,QAAQ,KAAM,IAGrH,aAEI,OAAiC,MAAzBpa,KAAKk4D,iBAA4Bl4D,KAAKk4D,iBAAmBl4D,KAAKqC,UAG1E,iBAAiBmzE,GAAc,GAE3B,IAAInzE,EAAUrC,KAAK+sC,aACnB,GAA6C,UAAzC,KAAA5hC,KAAKnL,KAAK6xD,UAAU97C,IAAI,eAAsE,QAAzC,KAAA5K,KAAKnL,KAAK6xD,UAAU97C,IAAI,cAE7E,GAAI,KAAA5K,KAAKnL,KAAK6xD,UAAU,GAAGt3B,aAAe,KAAApvB,KAAKnL,KAAK6xD,UAAU,GAAGr3B,cAAgB,KAAArvB,KAAKnL,KAAK6xD,UAAU,GAAGr3B,aAAe,EACvH,CAEI,IAAIi7C,EAAa,GACbz1E,KAAKo0D,0BACLqhB,GAAc,KAAAtqE,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAExD,KAAApQ,KAAKnL,KAAKqxD,YAAY91C,MAAM,eAAiBk6D,EAAa,OAC1D,KAAAtqE,KAAKnL,KAAKqxD,YAAYv1C,KAAK,uBAAuBhQ,KAAK,QAAS9L,KAAK00D,0BAA4B,KAEjG,KAAAvpD,KAAKnL,KAAKyxD,aAAal2C,MAAM,eAAiBk6D,EAAa,OAC3D,KAAAtqE,KAAKnL,KAAKyxD,aAAa31C,KAAK,uBAAuBhQ,KAAK,QAAS9L,KAAK00D,0BAA4B,KAE9F10D,KAAKo0D,yBAEL,KAAAjpD,KAAKnL,KAAK6xD,UAAUt2C,MAAM,gBAAkB,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAAK,OACvF,KAAApQ,KAAKnL,KAAK4xD,gBAAgBr2C,MAAM,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,UAG5D,KAAApQ,KAAKnL,KAAK6xD,UAAUt2C,MAAM,oBAE9B,KAAApQ,KAAKnL,KAAK+xD,YAAYx2C,MAAM,eAAiBk6D,EAAa,OAC1D,KAAAtqE,KAAKnL,KAAK+xD,YAAYj2C,KAAK,uBAAuBhQ,KAAK,QAAS9L,KAAK00D,0BAA4B,KAI7F,KAAAvpD,KAAKnL,KAAKqxD,YAAYxlD,GAAG,cAEzB7L,KAAKsxD,oBAAoB71C,MAAMC,SAAW,QAAW,KAAAvQ,KAAKnL,KAAKqxD,YAAY9uD,WAAc,IAAI,cAAgB,KAAA4I,KAAKnL,KAAKqxD,YAAY9uD,WAAWwkB,KAAO,KAAA5b,KAAKnL,KAAKqxD,YAAY91C,SAAW,KACtL,KAAApQ,KAAKnL,KAAKsxD,qBAAqBp1C,QAG/B7Z,EAAQkqD,YAERvsD,KAAK0xD,oBAAoBj2C,MAAMC,SAAW,QAAW,KAAAvQ,KAAKnL,KAAKyxD,aAAalvD,WAAc,IAAI,cAAgB,KAAA4I,KAAKnL,KAAKyxD,aAAalvD,WAAWwkB,KAAO,KAAA5b,KAAKnL,KAAKyxD,aAAal2C,SAAW,KACzL,KAAApQ,KAAKnL,KAAK0xD,qBAAqBx1C,QAG/B,KAAA/Q,KAAKnL,KAAK0xD,qBAAqB7+C,OAE/B7S,KAAKqyD,aAAeryD,KAAK01E,cAActqE,OAAS,GAEhDpL,KAAKwyD,oBAAoB/2C,MAAMC,SAAW,QAAW,KAAAvQ,KAAKnL,KAAK+xD,YAAYxvD,WAAc,IAAI,cAAgB,KAAA4I,KAAKnL,KAAK+xD,YAAYxvD,WAAWwkB,KAAO,KAAA5b,KAAKnL,KAAK+xD,YAAYx2C,SAAW,KACtL,KAAApQ,KAAKnL,KAAKwyD,qBAAqBt2C,QAG/B,KAAA/Q,KAAKnL,KAAKwyD,qBAAqB3/C,WAIvC,CACI,IAAI4iE,EAAa,EACbz1E,KAAKo0D,0BACLqhB,GAAc,KAAAtqE,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAGxD,KAAApQ,KAAKnL,KAAKqxD,YAAY91C,MAAM,eAAiBk6D,EAAa,OAC1D,KAAAtqE,KAAKnL,KAAKqxD,YAAYv1C,KAAK,uBAAuBhQ,KAAK,QAAS9L,KAAK00D,0BAA4B,KAEjG,KAAAvpD,KAAKnL,KAAKyxD,aAAal2C,MAAM,eAAiBk6D,EAAa,OAC3D,KAAAtqE,KAAKnL,KAAKyxD,aAAa31C,KAAK,uBAAuBhQ,KAAK,QAAS9L,KAAK00D,0BAA4B,KAE9F10D,KAAKo0D,yBAEL,KAAAjpD,KAAKnL,KAAK6xD,UAAUt2C,MAAM,gBAAkB,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,QAAU,GAAK,OACvF,KAAApQ,KAAKnL,KAAK4xD,gBAAgBr2C,MAAM,KAAApQ,KAAKnL,KAAKoxD,kBAAkB71C,UAG5D,KAAApQ,KAAKnL,KAAK6xD,UAAUt2C,MAAM,oBAE9B,KAAApQ,KAAKnL,KAAK+xD,YAAYx2C,MAAM,eAAiBk6D,EAAa,OAC1D,KAAAtqE,KAAKnL,KAAK+xD,YAAYj2C,KAAK,uBAAuBhQ,KAAK,QAAS9L,KAAK00D,0BAA4B,KAIjG,KAAAvpD,KAAKnL,KAAKsxD,qBAAqBz+C,OAC/B,KAAA1H,KAAKnL,KAAK0xD,qBAAqB7+C,OAC/B,KAAA1H,KAAKnL,KAAKwyD,qBAAqB3/C,YAMnC,KAAA1H,KAAKnL,KAAKsxD,qBAAqBz+C,OAC/B,KAAA1H,KAAKnL,KAAK0xD,qBAAqB7+C,OAC/B,KAAA1H,KAAKnL,KAAKwyD,qBAAqB3/C,OAGnC,GAAI2iE,IAAgBnzE,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,SAClD,CACI,IAAIztD,EAAI,EACR,KAAA+K,KAAKnL,KAAK6xD,UAAU/1C,KAAK,kBAAkBzB,SAC3C,IAAIs7D,EAAW,KAAAxqE,KAAK,yBAAyBmuB,UAAU,KAAAnuB,KAAKnL,KAAK6xD,UAAU/1C,KAAK,WAEhF,KAAA3Q,KAAKnL,KAAKmxD,qBAAqBj1C,OAC/B,KAAA/Q,KAAKnL,KAAKqxD,YAAYn1C,OACtB,IAAK,IAAI8xC,KAAUtxC,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKqxD,YAAYv1C,KAAK,6BACzD,CACI,IAAImjC,EAAQ,KAAA9zC,KAAK6iD,GAAQliD,KAAK,SAE1BkpD,EAAU,GACT,KAAA7pD,KAAK6iD,GAAQniD,GAAG,YAGjBzL,IAFA40D,EAAU,iBAId,IAAIz5C,EAAQ,KAAApQ,KAAK6iD,GAAQhnC,aAChB,GAAL5mB,IACAmb,GAAS,GAEb,KAAApQ,KAAK,eAAiB8zC,EAAQ,mBAAqB1jC,EAAQ,OAASy5C,EAAU,QAAQ1+C,eAAeq/D,GAMzG,IAHuB,IAAnBtzE,EAAQsqD,QACR,KAAAxhD,KAAKnL,KAAKqxD,YAAYx+C,OAEtB7S,KAAKo0D,wBACT,CACI,IAAIh0D,EAAI,EACR,KAAA+K,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,kBAAkBzB,SACjD,IAAIs7D,EAAW,KAAAxqE,KAAK,yBAAyBmuB,UAAU,KAAAnuB,KAAKnL,KAAK4xD,gBAAgB91C,KAAK,WAEtF,KAAA3Q,KAAKnL,KAAKoxD,kBAAkBl1C,OAC5B,IAAK,IAAI8xC,KAAUtxC,MAAMm/B,KAAK,KAAA1wC,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,6BAC/D,CACI,IAAImjC,EAAQ,KAAA9zC,KAAK6iD,GAAQliD,KAAK,SAE1BkpD,EAAU,GACT,KAAA7pD,KAAK6iD,GAAQniD,GAAG,YAGjBzL,IAFA40D,EAAU,iBAId,IAAIz5C,EAAQ,KAAApQ,KAAK6iD,GAAQzyC,QAChB,GAALnb,IACAmb,GAAS,GAEb,KAAApQ,KAAK,eAAiB8zC,EAAQ,mBAAqB1jC,EAAQ,OAASy5C,EAAU,QAAQ1+C,eAAeq/D,IAGlF,IAAnBtzE,EAAQsqD,QACR,KAAAxhD,KAAKnL,KAAKoxD,kBAAkBv+C,QAGb,IAAnBxQ,EAAQsqD,QACR,KAAAxhD,KAAKnL,KAAKmxD,qBAAqBt+C,QAI3C,OAAO2I,GAEH,GAAc,MAAVA,EACJ,CACI,IAAInZ,EAAUrC,KAAK+sC,aACnB,GAAuB,iBAAZ,GAAwBvxB,EAAS,EAC5C,CAII,GAHA,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,OAAOA,GAC3B,KAAArQ,KAAK,IAAMnL,KAAKqL,UAAU8K,GAAK,wBAAwBqF,OAAOA,GAEtC,MAApBxb,KAAKkxD,YACT,CACI,IAAI4C,EAAgB,KAAA3oD,KAAKnL,KAAKqxD,YAAYxlD,GAAG,YAAe,GAAK,EAC7DkoD,EAAiB1xD,EAAkB,WAAI,GAAK,EAC5C2xD,EAAgBh0D,KAAgB,YAAI,GAAK,EAC7C,KAAAmL,KAAKnL,KAAKkxD,YAAY5uD,aAAakZ,OAAO,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,SAAWs4C,EAAeC,EAAgBC,EAAe,GAGvH3xD,EAAQ4qD,UAA6B,MAAjBjtD,KAAK6xD,WAErB7xD,KAAK6xD,SAASx3B,YAAcr6B,KAAK6xD,SAASv3B,aAAet6B,KAAK6xD,SAASv3B,YAAc,EACrF,KAAAnvB,KAAKnL,KAAK4xD,gBAAgBp2C,OAAOiW,OAAOjW,GAAU,IAElD,KAAArQ,KAAKnL,KAAK4xD,gBAAgBp2C,OAAOA,KAIjD,OAAO,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,SAG/B,kBAAkBo6D,GAAc,GAE5B,IAAIvzE,EAAUrC,KAAK+sC,aAEf+mB,EAAgB,KAAA3oD,KAAKnL,KAAKqxD,YAAYxlD,GAAG,YAAe,GAAK,EAC7DkoD,EAAiB1xD,EAAkB,WAAI,GAAK,EAC5C2xD,EAAgBh0D,KAAgB,YAAI,GAAK,EAE7C,GAAIqC,EAAQmZ,OAAU,GAAKnZ,EAAQmZ,QAAU,KAAApL,mBAAmBylE,UAChE,CACI,IAAIC,GAAmC,IAAnBzzE,EAAQqqD,OAAoB,GAAK,EAGjDqpB,EAAajiB,EAAeC,GAFQ,MAAnB1xD,EAAQsyD,QAAmB,GAAK,GAEWX,EAAe8hB,EADvD,EAGpBE,EAAkB,KAAA7qE,KAAK,IAAMnL,KAAK2uD,WAAa,iBAAiBn2B,SAChEy9C,EAAyC,MAAnBD,EAA2BA,EAAgBpvD,IAAM,EACvEpL,EAASxP,SAASC,KAAK+lE,aAAeiE,EAAqBF,EAAa,KAC5E,KAAA5qE,KAAKnL,KAAK6xD,UAAUr2C,OAAOA,GAE3B,IAAIo6B,EAAkB5pC,SAASC,KAAK+lE,aAAeiE,EAAqBF,EAAa,EAAI,KACzF,KAAA5qE,KAAK,IAAMnL,KAAKqL,UAAU8K,GAAK,wBAAwBqF,OAAOo6B,GAE1DvzC,EAAQ4qD,UAA6B,MAAjBjtD,KAAK6xD,WAErB7xD,KAAK6xD,SAASx3B,YAAcr6B,KAAK6xD,SAASv3B,aAAet6B,KAAK6xD,SAASv3B,YAAc,EACrF,KAAAnvB,KAAKnL,KAAK4xD,gBAAgBp2C,OAAOA,EAAOuY,mBAAqB,IAE7D,KAAA5oB,KAAKnL,KAAK4xD,gBAAgBp2C,OAAOA,IAGjB,MAApBxb,KAAKkxD,aACL,KAAA/lD,KAAKnL,KAAKkxD,YAAY5uD,aAAakZ,OAAO,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,SAAWs4C,EAAeC,EAAgBC,EAAe,QAE1H,GAAI4hB,GAA0C,iBAAnBvzE,EAAc,OAC9C,CACQ,KAAA8I,KAAKnL,KAAKyxD,aAAaj2C,SAAW,GAClC,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,OAAOnZ,EAAQmZ,OAAS,MAE5C,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,OAAOnZ,EAAQmZ,OAAS,IAEhD,IAAIA,EAAS,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,SACjC,KAAArQ,KAAK,IAAMnL,KAAKqL,UAAU8K,GAAK,wBAAwBqF,OAAOA,EAAS,GAE/C,MAApBxb,KAAKkxD,aACL,KAAA/lD,KAAKnL,KAAKkxD,YAAY5uD,aAAakZ,OAAOA,EAASs4C,EAAeC,EAAgBC,EAAe,GAEjG3xD,EAAQ4qD,UAA6B,MAAjBjtD,KAAK6xD,WAErB7xD,KAAK6xD,SAASx3B,YAAcr6B,KAAK6xD,SAASv3B,aAAet6B,KAAK6xD,SAASv3B,YAAc,EACrF,KAAAnvB,KAAKnL,KAAK4xD,gBAAgBp2C,OAAOiW,OAAO,KAAAtmB,KAAKnL,KAAK6xD,UAAUr2C,UAAY,IAExE,KAAArQ,KAAKnL,KAAK4xD,gBAAgBp2C,OAAO,KAAArQ,KAAKnL,KAAK6xD,UAAUr2C,YAK7D,iBAEJ,IAAInZ,EAAUrC,KAAK+sC,aACnB,GAAI/sC,KAAKo0D,wBACT,CACI,IAAI8hB,EAAex5D,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKi0D,gBAAgBn4C,KAAK,cACtEq6D,EAASz5D,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAKqL,WAAWyQ,KAAK,cAC/D,IAAK,IAAI1b,EAAI,EAAGA,EAAI81E,EAAa9qE,OAAQhL,IACzC,CACI,IAAIu+D,EAAWuX,EAAa91E,GACxBs+D,EAAKyX,EAAO/1E,GACZg2E,EAAe,KAAAjrE,KAAKwzD,GAAUnjD,SAAW,KAAArQ,KAAKuzD,GAAIljD,SAAY,KAAArQ,KAAKwzD,GAAUnjD,SAAW,KAAArQ,KAAKuzD,GAAIljD,SACjG46D,EAAc/zE,EAAQ8pD,YACtBiqB,EAAc/zE,EAAQ8pD,WAE1B,KAAAhhD,KAAKwzD,GAAUnjD,OAAO46D,GACtB,KAAAjrE,KAAKuzD,GAAIljD,OAAO46D,KAMpB,aAAa91C,EAA4B+1C,EAAkCC,GAE/E,IAAIrC,EAAOj0E,KACPqC,EAAUrC,KAAK+sC,aAEfwpC,EAAY,GAIhB,GAHAA,EAAKC,QAAUl2C,EAAQC,QAGnB81C,GAAe/d,oBAAoBrT,OAEoC,MAAlE3kB,EAAqCm2C,4BACrCn2C,EAAqCm2C,0BAA4B,cAEP,MAA1Dn2C,EAAqCo2C,oBACrCp2C,EAAqCo2C,kBAAoBr0E,EAAQ2pD,mBAEtEuqB,EAAMj2C,EAAqCm2C,2BAA8Bz2E,KAAK22E,qBAAsBr2C,EAAqCo2C,wBAExI,GAAIL,GAAe/d,oBAAoBC,QAAU8d,GAAe/d,oBAAoBpT,OASrF,GAPImxB,GAAe/d,oBAAoBC,QAEqB,MAAnDj4B,EAA8BkiB,oBAC9BliB,EAA8BkiB,kBAAoB,UAI7B,IAA1BngD,EAAQ8qD,cACZ,CAEI,IAAK,MAAOxrD,EAAKN,KAAUrB,KAAKyuD,4BAA4BtxC,UAExB,MAA5B9b,EAAMwuE,qBAENxuE,EAAMwuE,mBAAmBY,SAAWptD,KAAKyN,wBAAwBzvB,EAAMwuE,mBAAmBY,UACnD,MAAnCpvE,EAAMwuE,mBAAmBa,SACzBrvE,EAAMwuE,mBAAmBa,OAASrtD,KAAKyN,wBAAwBzvB,EAAMwuE,mBAAmBa,UAKpG,IAAIkG,EAA4B,IAAIC,4BACpCD,EAA0B5lB,UAAYhxD,KAAK8wD,yBAAyBE,UACpE4lB,EAA0B3lB,QAAUjxD,KAAK8wD,yBAAyBG,QAClE2lB,EAA0BxqB,QAAU/pD,EAAQ+pD,QAC5CwqB,EAA0BvnB,YAAcrvD,KAAKu7D,mBAC7Cqb,EAA0BE,QAAU,aAAA7tC,WAAW8tC,QAAQ/2E,KAAKyuD,6BAC5DmoB,EAA0B9oB,cAAoC,MAAnBzrD,EAAQwrD,QAAmB,GAAOxrD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAC7J23B,EAA0B7pB,MAAQspB,GAAe/d,oBAAoBpT,MAEvB,MAAzC5kB,EAA6BlY,WAC9BwuD,EAA0BI,cAAiB12C,EAA6BlY,UAE5EmuD,EAAKU,sBAAwBL,QAIhC,GAAIP,GAAe/d,oBAAoB4e,KAC5C,CACI,IAAK,IAAIn1E,KAAY/B,KAAKm3E,kBAC1B,CACI,IAAIlR,EAAgBjmE,KAAKm3E,kBAAkBp1E,GACW,kBAAlDjB,OAAOkB,UAAU8a,SAASvc,KAAK0lE,KAC/BjmE,KAAKm3E,kBAAkBp1E,GAAYshB,KAAKyN,wBAAwBm1C,IAGnB,MAAhD3lC,EAA4B82C,mBAC5B92C,EAA4B82C,iBAAmB,QACpDb,EAAMj2C,EAA4B82C,kBAAqBp3E,KAAKm3E,kBAkBhE,GAbsB,MAAlB72C,EAAQc,SAEHd,EAAQc,OAAQl2B,WAAW,WAExBo1B,EAAQc,OAAQl2B,WAAW,MAC3Bo1B,EAAQc,OAAQzM,UAAU,GAE9B2L,EAAQc,OAAS,QAAUd,EAAQc,SAMZ,MAA3Bd,EAAQg5B,gBACZ,CACI,IAAI5W,EAAiB5hD,OAAOogC,oBAAoBZ,EAAQg5B,iBACxD,IAAK,IAAIn4B,KAASuhB,EACd6zB,EAAKp1C,GAASb,EAAQg5B,gBAAgBn4B,GAG9C,GAA0B,MAAtBb,EAAQmiB,WACZ,CACI,IAAIA,EAAaniB,EAAQmiB,aACrBC,EAAiB5hD,OAAOogC,oBAAoBuhB,GAChD,IAAK,IAAIthB,KAASuhB,EACd6zB,EAAKp1C,GAASshB,EAAWthB,GAIjC,IAAIk2C,EAAQn4C,KAAKE,UAAUm3C,GAGvBtd,EAAiB34B,EAAQ24B,eACP,MAAlBA,IACAA,GAAiB,GAEU,kBAApB,IAGHA,GADmB,IAAnBA,OACiBv7C,EAEA1d,KAAKsC,aAGR,MAAlB22D,GACA,KAAA17C,WAAkD,MAAtC+iB,EAAgBs5B,mBAA8Bt5B,EAAgBs5B,mBAAqBX,GAAgB,EAAM,qBAAuBj5D,KAAK2uD,YAEpJruB,EAAgBs5B,wBAAqBl8C,EAGtCnE,EAAEonB,KAAK,CACH33B,KAAM,OACNyf,YAAa,mBACb4X,KAAMg3C,EACNj2C,OAAQ,OACRC,aAAa,EACbi2C,SAAU,OACV3yD,IAAK2b,EAAQc,OACbE,QAAS,CAACC,EAAeg2C,EAAoBC,KAMzC,GAJA,KAAA75D,WAAW,qBAAuB3d,KAAK2uD,YAEvCslB,EAAK1P,cAAgB,GAEL,MAAZhjC,IAAqBA,EAASjuB,SAAWiuB,EAASD,SACtD,CAEI,IAAIm2C,EAAiBn3C,EAASo3C,2BAC9BD,EAAoC,MAAlBA,GAAkCA,EAErB,iBAApB,EACPA,EAAiBA,EACM,GAAlBA,IAEDpB,GAAe/d,oBAAoBrT,OACnCwyB,EAAiB,sCACZpB,GAAe/d,oBAAoB4e,OACxCO,EAAiB,yCAGM,iBAApB,GACP,KAAA3kE,OAAO2kE,GAIX,IAAIE,EAAkBr3C,EAASs3C,oBAG/B,GAFAD,EAAsC,MAAnBA,GAAmCA,EAElDA,GAAmBtB,GAAe/d,oBAAoBC,OACtD0b,EAAKjnB,cAGL,GAAIqpB,GAAe/d,oBAAoB4e,KACnCjD,EAAKzO,UAAUyO,EAAKkD,wBACnB,GAAId,GAAe/d,oBAAoB0B,mBAC5C,CACI,IAAI6d,EAAqC,GACV,MAA3Bv3C,EAAQg5B,kBACRue,EAA8Bv3C,EAAQg5B,gBAAiBh5B,EAA8By5B,iCAEzF,IAAI+d,EAAuBv2C,EAAUjB,EAA8BkiB,mBACnE,GAAqB,MAAjBs1B,GAAyBA,EAAc1sE,OAAS,EACpD,CACI,IAAI2sE,EAAqBF,EAA4BviD,OAAOJ,IAAM4iD,EAAcl7D,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,oBAAqBjwC,SAASmZ,IAC7H8iD,EAAmBF,EAAcxiD,OAAOJ,IAAMl1B,KAAKmlE,qBAAqBvoD,IAAImnB,GAAKA,EAAE1hC,EAAQ2pD,oBAAqBjwC,SAASmZ,EAAE7yB,EAAQ2pD,qBAAsBpvC,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,oBAEhL,IAAK,IAAIisB,KAAgBH,EACzB,CACI,IAAII,EAAiBD,EAAa51E,EAAQ2pD,mBACtC+rB,EAAmBh8D,SAASm8D,IAAmBF,EAAiBj8D,SAASm8D,IAG7El4E,KAAKwlE,UAAUyS,GAAc,GAGjC,IAAK,IAAIE,KAAkBJ,EACvB/3E,KAAKo4E,UAAUD,GAAgB,GAEnC,IAAK,IAAIE,KAAeL,EACpBh4E,KAAKulE,OAAOuS,EAAcxiD,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBqsB,GAAa,IAAI,QAI5F,IAAK,IAAIF,KAAkBN,EACvB73E,KAAKo4E,UAAUD,GAAgB,GAGnC73C,EAAQg5B,gBAAwB,SAED,MAA3Bt5D,KAAKu7D,oBACLv7D,KAAK27D,cAAa,GAElB37D,KAAKyuD,4BAA4B9nC,KAAO,GACxC3mB,KAAKw2D,cAAa,GAAO,GAEN,MAAnBn0D,EAAQwrD,SACR7tD,KAAKm7D,mBAAmBn7D,KAAKm4D,cAEjCn4D,KAAK4yD,QAAO,GAAM,IAU9B,GAJ+C,MAA3CtyB,EAASg4C,gCACTh4C,EAASg4C,+BAA+B/2C,GAGxC80C,GAAe/d,oBAAoBC,QAAyE,MAA/Dh3B,EAAUjB,EAA8BkiB,mBACzF,CACI,IAA8B,IAA1BngD,EAAQ8qD,cACZ,CACIntD,KAAKgiE,0BAA4BzgC,EAEjC,IAAIwQ,EAAY/xC,KAAKgiE,0BAA2B3/D,EAAQ8qD,cAA0CC,uBAC9FsM,EAAe15D,KAAK05D,eACpBuI,EAAgB10C,KAAK20C,MAAMnwB,EAAYtgB,OAAOpvB,EAAQiqD,WACtDva,EAAYtgB,OAAOpvB,EAAQiqD,UAAa,IACxC2V,GAAiB,GAEjBvI,EAAeuI,GACfjiE,KAAK05D,aAAa,GAAG,GAG7B,IAAIuB,EAA+D,MAA9C36B,EAA8B26B,cAAiC36B,EAA8B26B,aAE9Gsd,EAAgBh3C,EAAUjB,EAA8BkiB,mBAChC,GAAxB+1B,EAAcntE,OACdpL,KAAK+tC,QAELkmC,EAAK9b,WAAWogB,EAAetd,GAKvC,GAAIob,GAAe/d,oBAAoBpT,QAAmC,IAA1B7iD,EAAQ8qD,cACxD,CACI,IAAIqrB,EAAcj3C,EAAUl/B,EAAQ8qD,cAAyCG,8BAC1D,MAAfkrB,GAAuBA,EAAYptE,OAAS,GAC5Cqa,SAASrL,QAAQo+D,GAIE,MAAvBvE,EAAKwE,gBACLxE,EAAKwE,eAAevuC,QAEC,MAArB5J,EAASlkB,UACTkkB,EAASlkB,SAASmlB,GAEa,MAA/Bl/B,EAAQq2E,qBACRr2E,EAAQq2E,sBAEW,MAAnBpC,GACAA,QAGR,CACI,IAAIqC,EAAap3C,EAASq3C,WAAar3C,EAASo3C,UAC5CE,EAAiBF,EAAUG,MAAQH,EAAUv0C,KACjD,GAAgB,MAAZ7C,GAAqC,OAAjBs3C,EAGpB,YADApzD,SAASrL,QAAQ,iBAKrB,IAAI2+D,EAAez4C,EAAS04C,yBAC5BD,EAAgC,MAAhBA,GAA+BA,EAE3B,GAAhBA,GAAiD,iBAAlB,GAC/B,KAAA9lE,YAAsC,iBAAlB,EAA8B8lE,EAA8B,MAAZx3C,EAAqBA,EAAS03C,kBAAqB13C,EAAS23C,iBAAoB,0BAIxJ,IAAIC,EAAmB74C,EAAS84C,qBAChCD,EAAwC,MAApBA,GAAoCA,EAEpDA,GAAoB9C,GAAe/d,oBAAoBC,QACvD0b,EAAKjnB,SAGT,IAAIqsB,EAAwB/4C,EAAS+4C,sBACrCA,EAAkD,MAAzBA,GAAyCA,EACvC,MAAvBpF,EAAKwE,gBAA0BY,GAC/BpF,EAAKwE,eAAevuC,QAEM,MAA1B5J,EAASF,eACTE,EAASF,cAA2B,MAAZmB,EAAqBA,EAAS03C,kBAAqB13C,EAAS23C,iBAAoB,4BAGpHp0D,MAAO,CAACyc,EAAqBg2C,EAAoB+B,KAE7C,KAAA37D,WAAW,qBAAuB3d,KAAK2uD,YAGvC,IAAIoqB,EAAez4C,EAAS04C,yBAC5BD,EAAgC,MAAhBA,GAA+BA,EAE/C,IAAI9zD,EAAU,yBAUd,GARIA,EADyB,MAAzBsc,EAASg4C,aACwC,MAAtCh4C,EAASg4C,aAAaR,aAAwBx3C,EAASg4C,aAAaR,cAAiBx3C,EAASg4C,aAAaC,SAAWj4C,EAASg4C,aAAat0D,SAAW,UAAYsc,EAASg4C,aAAaN,kBAAoB13C,EAASg4C,aAAaL,kBAChN,MAAzB33C,EAASk4C,cAAiD,IAAzBl4C,EAASk4C,aACrCl4C,EAASk4C,aACS,MAAvBl4C,EAASm4C,YAA6C,IAAvBn4C,EAASm4C,WACnCn4C,EAASm4C,WAET,8BAES,KAAnBn4C,EAASo4C,OACT10D,EAAU,uBACT,GAAuB,KAAnBsc,EAASo4C,OACd10D,EAAU,2BACT,GAAuB,KAAnBsc,EAASo4C,OAGd,YADAl0D,SAASrL,QAAQ,iBAIrB,IAAIw/D,EAAe,yBACC,GAAhBb,GAAiD,iBAAlB,IAE/Ba,EAAgC,GAAhBb,EAAwB9zD,EAAU8zD,EAClD,KAAA9lE,YAAY2mE,IAKhB,IAAIT,EAAmB74C,EAAS84C,qBAChCD,EAAwC,MAApBA,GAAoCA,EAEpDA,GAAoB9C,GAAe/d,oBAAoBC,QACvD0b,EAAKjnB,SAGT,IAAIqsB,EAAwB/4C,EAAS+4C,sBACrCA,EAAkD,MAAzBA,GAAyCA,EACvC,MAAvBpF,EAAKwE,gBAA0BY,GAC/BpF,EAAKwE,eAAevuC,QAEM,MAA1B5J,EAASF,eACTE,EAASF,cAAcw5C,MAOvC,OAAOxgD,GAMH,GAJa,MAATA,IACAA,GAAQ,GAEZ,KAAAjuB,KAAK,IAAM,KAAAA,KAAKnL,KAAKqL,WAAWS,KAAK,MAAQ,iBAAiBgQ,KAAK,0BAA0BzB,UAC/E,IAAV+e,EACJ,CACI,IAAI/2B,EAAUrC,KAAK+sC,aACf9nB,EAA6B,iBAAX,EAAwB,SAAWmU,EAAQ,UAAa,GAC/D,IAAXnU,GAA4C,iBAAnB5iB,EAAc,SACvC4iB,EAAU,SAAW5iB,EAAQg6B,OAAS,WAE1C,KAAAlxB,KAAK,sCAAwC8Z,EAAU,UAAU3O,eAAe,IAAM,KAAAnL,KAAKnL,KAAKqL,WAAWS,KAAK,MAAQ,kBAMxH,mBAAmBgpD,EAA8B+kB,GAErD,GAAiC,MAA7B/kB,EAAYglB,gBAEZhlB,EAAYglB,cAAcD,IACtBA,EAAkB91D,oBAH1B,CAOA,OAAQ+wC,EAAY9rD,MAEhB,KAAK,KAAA0H,oBAAoBqpE,IAEU,MAAvBjlB,EAAY34B,SACZn8B,KAAKy6D,iBAEb,MACJ,KAAK,KAAA/pD,oBAAoBu0C,OACrB,CACI,IAAI5iD,EAAUrC,KAAK+sC,aACfq5B,EAAepmE,KAAK43D,kBACxB53D,KAAKukE,cAAc3vC,YAAYwxC,GAC/ByT,EAAkBG,aAAeh6E,KAAKukE,cAEtCvkE,KAAK0lE,WAAWU,EAAaxpD,IAAIsY,GAAKA,EAAE7yB,EAAQ2pD,qBAChDhsD,KAAK65D,iBAGL,IAAIogB,EAAgBnlB,EAAYmlB,cACX,MAAjBA,GAAyB53E,EAAQd,MAAQ,KAAA8O,aAAamxB,KACtDxhC,KAAKq4D,aAAa4hB,EAAe3hB,oBAAoBrT,SAGrDjlD,KAAK4yD,SAC8B,MAA/BvwD,EAAQq2E,qBACRr2E,EAAQq2E,uBAIpB,MACJ,KAAK,KAAAhoE,oBAAoB6nD,OAEjBv4D,KAAKukE,cAAgB,GACrBvkE,KAAKgtD,SACLhtD,KAAK65D,iBAET,MACJ,KAAK,KAAAnpD,oBAAoBw0C,MAEjBllD,KAAKk6E,YAAYplB,EAAYkiB,eAEjC,MACJ,KAAK,KAAAtmE,oBAAoBypE,uBAEjBn6E,KAAKk6E,YAAYplB,EAAYkiB,eAAe,GAK7B,MAAvBliB,EAAY34B,SACZ24B,EAAY34B,QAAQ09C,IAI5B,YAAYzxD,EAAW,qBAAsBgyD,GAAsB,GAE/D,IAAI/3E,EAAUrC,KAAK+sC,aAGnB,GAAmC,MAA/B1qC,EAAQg4E,oBACZ,CACI,IAAIt1D,EAAQ,IAAI,KAAAnD,2BAMhB,GALAmD,EAAM+lB,OAAS9qC,KACf+kB,EAAMqD,SAAWA,EACjBrD,EAAMq1D,oBAAsBA,EAC5B/3E,EAAQg4E,oBAAoBt1D,GAExBA,EAAMhB,qBACN,OAIH1hB,EAAQ8qD,eACT,KAAA5vC,WAAWvd,KAAKsC,aAAa,EAAM,oBAAsBtC,KAAK2uD,YAElEnqC,OAAOwa,WAAW,KAEd,GAAK38B,EAAQ8qD,cAiXY,MAAjB9qD,EAAQ0qD,QAEsB,MAA1B1qD,EAAQ0qD,MAAM3kC,WAAkB/lB,EAAQ0qD,MAAM3kC,SAAWA,GAC7DpoB,KAAKq4D,aAAah2D,EAAQ0qD,MAAOuL,oBAAoBpT,YAnX7D,CAEI,IAAIo1B,EAAY,IAAIC,aACpBD,EAAUvU,MAAQ,GAClB,IAAK,IAAI/X,KAAU3rD,EAAQ+pD,QAC3B,CACI,MAA0B,IAAtB4B,EAAOiK,aAA0BmiB,GAAwC,GAAjBpsB,EAAOgB,QACxC,MAAnB3sD,EAAQwrD,SAAsBxrD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,SACtI+O,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAAczB,EAAOhlD,MAAQ,KAAAwH,mBAAmBrM,OAClF6pD,EAAOhlD,MAAQ,KAAAwH,mBAAmB3N,QAAUmrD,EAAOhlD,MAAQ,KAAAwH,mBAAmBrI,OAA8B,IAAtB6lD,EAAOiK,YAChG,SAEJ,IAAIuiB,EAAY,IAAIC,cACpBD,EAAUv7B,MAAQ+O,EAAO/O,MACzBu7B,EAAUvkE,MAAQ+3C,EAAO/3C,MACzBukE,EAAUznE,KAAOi7C,EAAO/3C,MACxBukE,EAAUz+C,KAAOiyB,EAAOjyB,KACxBy+C,EAAUxxE,KAAOglD,EAAOhlD,KACxBwxE,EAAUj/D,MAAQyyC,EAAOzyC,MACzBi/D,EAAU3iB,aAAe7J,EAAOuH,eAChCilB,EAAUxrB,OAAShB,EAAOgB,OAC1BwrB,EAAU7qB,OAAS3B,EAAO2B,OAC1B2qB,EAAUvU,MAAMvyC,KAAKgnD,GAKzB,IAAIE,EAA8B,GAClC,IAAK,IAAIhmD,KAAQ10B,KAAKm4D,aACtB,CACI,IAAIwiB,EAAa,IAAIJ,aACrBI,EAAW5U,MAAQ,GAEnB,IAAK,IAAI/X,KAAU3rD,EAAQ+pD,QAC3B,CACI,MAA0B,IAAtB4B,EAAOiK,aAA0BmiB,GAAwC,GAAjBpsB,EAAOgB,QAAsC,MAAnB3sD,EAAQwrD,SAAsBxrD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,SACpN+O,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAAczB,EAAOhlD,MAAQ,KAAAwH,mBAAmBrM,OAClF6pD,EAAOhlD,MAAQ,KAAAwH,mBAAmB3N,QAAUmrD,EAAOhlD,MAAQ,KAAAwH,mBAAmBrI,OACxD,IAAtB6lD,EAAOiK,YACV,SAEJ,IAAI/C,EAAkC,MAAtBxgC,EAAKs5B,EAAO/O,OAAkB,GAAKz1B,OAAOkL,EAAKs5B,EAAO/O,QAClErjB,EAAY,KAAArrB,cAAc+qB,KAG9B,OAAQ0yB,EAAOhlD,MAGX,KAAK,KAAAwH,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB/L,KACxB,KAAK,KAAA+L,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmB8d,aACxB,KAAK,KAAA9d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI0N,EAAY,KAAArrB,cAAc8nC,OAC1B,IAAI4sB,EAA6B,KAAAzgE,aAAa6e,KAE1C2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB6S,KAAM4hD,EAAe,KAAAzgE,aAAa6e,KAC/D2qC,EAAOhlD,MAAQ,KAAAwH,mBAAmB7L,SAAUsgE,EAAe,KAAAzgE,aAAaG,SACxEqpD,EAAOhlD,MAAQ,KAAAwH,mBAAmB/L,KAAMwgE,EAAe,KAAAzgE,aAAaC,KACpEupD,EAAOhlD,MAAQ,KAAAwH,mBAAmB2d,SAAU82C,EAAe,KAAAzgE,aAAa2pB,SACxE6/B,EAAOhlD,MAAQ,KAAAwH,mBAAmB8d,aAAc22C,EAAe,KAAAzgE,aAAa8pB,aAC5E0/B,EAAOhlD,MAAQ,KAAAwH,mBAAmBwd,aAAci3C,EAAe,KAAAzgE,aAAawpB,aAC5EggC,EAAOhlD,MAAQ,KAAAwH,mBAAmB0d,gBAAe+2C,EAAe,KAAAzgE,aAAa0pB,eAEtFgnC,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK,IAAIA,KAAK6xC,IAAWtnC,gBAAgBq3C,EAAcjX,EAAOngC,aAEzG,MAIJ,KAAK,KAAArd,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACxB,KAAK,KAAAiN,mBAAmBglD,SAEhB55B,EAAY,KAAArrB,cAAckrB,MAE9B,MAIJ,KAAK,KAAAjrB,mBAAmBslD,OAGhB,GADAl6B,EAAY,KAAArrB,cAAc8nC,OACG,MAAzB2V,EAAO+R,eAEP,IAEI,IAAInqD,EAAWo4C,EAAO+R,eAAe,CAAE9hB,SAAUvpB,IAC7C9e,GAAkC,KAAtBA,EAASmoC,UAA+B,IAAZmX,IACxCA,EAAWt/C,EAASmoC,UAE5B,MAAOzjC,SAGP46C,EAAW,KAAA/pD,KAAK+pD,GAAUniD,OAElC,MAIJ,KAAK,KAAAvC,mBAAmB7N,MAGhB,GADAi5B,EAAY,KAAArrB,cAAc8nC,OACE,MAAxB2V,EAAOhzB,cAEP,IAEI,IAAIplB,EAAWo4C,EAAOhzB,cAAc,CAAEijB,SAAUvpB,IAChDwgC,EAA6B,MAAjBt/C,EAAS7C,KAAgB,GAAK6C,EAAS7C,KAEvD,MAAOuH,SAGP46C,EAAW,KAAA/pD,KAAK+pD,GAAUniD,OAElC,MAIJ,KAAK,KAAAvC,mBAAmBgZ,OASxB,KAAK,KAAAhZ,mBAAmBqiC,iBAEhBjX,EAAY,KAAArrB,cAAc+qB,KAC1B45B,EAAW,KAAA/pD,KAAK,SAAW+pD,EAAW,WAAWniD,OAErD,MAIJ,KAAK,KAAAvC,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QAEhBp6B,EAAY,KAAArrB,cAAc8nC,OAC1B6c,EAAkC,GAAtBxgC,EAAKs5B,EAAO/O,OAAkB,OAAS,QAEvD,MAIJ,KAAK,KAAAzuC,mBAAmBrL,SACxB,KAAK,KAAAqL,mBAAmBkwD,aACxB,KAAK,KAAAlwD,mBAAmBmwD,aACxB,KAAK,KAAAnwD,mBAAmBowD,uBACpB,CACIhlC,EAAY,KAAArrB,cAAc+qB,KAC1B,IAAIs/C,EAAYlmD,EAAKs5B,EAAOe,cAExBmG,EADa,MAAb0lB,EACWA,EAAU99D,WAEV,GAEnB,MAIJ,KAAK,KAAAtM,mBAAmB4B,MAEhBwpB,EAAY,KAAArrB,cAAc8nC,OAOX,MAAvB2V,EAAO6J,eACP7J,EAAO6J,aAAe,IAAIgjB,2BAEO,MAAjC7sB,EAAO6J,aAAaj8B,YACpBoyB,EAAO6J,aAAaj8B,UAAYA,GAEpC,IAAI4+C,EAAY,IAAIC,cAcpB,GAbAD,EAAUv7B,MAAQ+O,EAAO/O,MACzBu7B,EAAUvkE,MAAQ+3C,EAAO/3C,MACzBukE,EAAUznE,KAAOmiD,EACjBslB,EAAUz+C,KAAOiyB,EAAOjyB,KACxBy+C,EAAUxxE,KAAOglD,EAAOhlD,KACxBwxE,EAAUj/D,MAAQyyC,EAAOzyC,MACzBi/D,EAAU3iB,aAAe7J,EAAO6J,aAChC2iB,EAAU1iB,cAAgB9J,EAAO8J,cACjC0iB,EAAUxxD,iBAA+C,MAA3BglC,EAAOhlC,iBAA4BglC,EAAOhlC,iBAAmB3mB,EAAQ2mB,iBACnGwxD,EAAUxrB,OAAShB,EAAOgB,OAC1BwrB,EAAU7qB,OAAS3B,EAAO2B,QAGD,IAArB3B,EAAOsE,UAEP,OAAQtE,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SAAUxH,EAAOsE,UAAY,KAAAhiD,kBAAkBynD,IAAK,MAC5E,KAAK,KAAAvnD,mBAAmBjN,WAAYyqD,EAAOsE,UAAY,KAAAhiD,kBAAkB0nD,QAAS,MAClF,QAAShK,EAAOsE,UAAY,KAAAhiD,kBAAkBynD,IAGtDyiB,EAAUloB,UAAiC,MAApBtE,EAAOsE,YAA0C,IAArBtE,EAAOsE,UAAuB,KAAAhiD,kBAAkB8hB,KAAO47B,EAAOsE,UAIjH,IAAIlP,EAAkB,GAClBloC,EAAQ,GACe,MAAvB8yC,EAAO6J,eAEoC,MAAvC7J,EAAO6J,aAAazU,kBACpBA,EAAkB4K,EAAO6J,aAAazU,iBAET,MAA7B4K,EAAO6J,aAAa38C,QACpBA,EAAQ8yC,EAAO6J,aAAa38C,QAGJ,MAA5B7Y,EAAQy+D,kBAA8D,MAAlCpsC,EAAKryB,EAAQy+D,mBAAgE,KAAnCpsC,EAAKryB,EAAQy+D,oBAC3F1d,EAAkB1uB,EAAKryB,EAAQy+D,mBAEnC0Z,EAAUp3B,gBAAkBA,EAC5Bo3B,EAAUt/D,MAAQA,EAGlBy/D,EAAW5U,MAAMvyC,KAAKgnD,GAE1BE,EAAYlnD,KAAKmnD,GAKrB,IAAIG,EAAY,IAAIP,aACpBO,EAAU/U,MAAQ,GAClB,IAAK,IAAIlQ,KAAMn5C,MAAMm/B,KAAkB,KAAA1wC,KAAKnL,KAAK+xD,YAAYj2C,KAAK,OAClE,CACI,IAAImjC,EAAQ,KAAA9zC,KAAK0qD,GAAI/pD,KAAK,SAC1B,GAAa,MAATmzC,EACA,SAEJ,IAAI+O,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASA,GAAO,GAC5D,KAAc,MAAV+O,IAA6B,MAAVA,IAAwC,IAAtBA,EAAOiK,aAE9B,MAAVjK,IAAoBosB,GAAwC,GAAjBpsB,EAAOgB,QAAsC,MAAnB3sD,EAAQwrD,SAAsBxrD,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAAOljC,SAASiyC,EAAO/O,SACvM+O,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,YAAczB,EAAOhlD,MAAQ,KAAAwH,mBAAmBrM,OAClF6pD,EAAOhlD,MAAQ,KAAAwH,mBAAmB3N,QAAUmrD,EAAOhlD,MAAQ,KAAAwH,mBAAmBrI,OAA8B,IAAtB6lD,EAAOiK,YAChG,SAGR,IAAIuiB,EAAY,IAAIC,cAapB,GAZAD,EAAUv7B,MAAQ+O,EAAO/O,MACzBu7B,EAAUvkE,MAAQ+3C,EAAO/3C,MACzBukE,EAAUznE,KAAOyW,OAAOiI,OAAOokC,EAAG/zB,UAAU1nB,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,IAAK,OAC5GogE,EAAUz+C,KAAOiyB,EAAOjyB,KACxBy+C,EAAUxxE,KAAOglD,EAAOhlD,KACxBwxE,EAAUj/D,MAAQyyC,EAAOzyC,MACzBi/D,EAAU1iB,cAAgB9J,EAAO8J,cACjC0iB,EAAUxxD,iBAA+C,MAA3BglC,EAAOhlC,iBAA4BglC,EAAOhlC,iBAAmB3mB,EAAQ2mB,iBACnGwxD,EAAUxrB,OAAShB,EAAOgB,OAC1BwrB,EAAU7qB,OAAS3B,EAAO2B,QAGD,IAArB3B,EAAOsE,UAEP,OAAQtE,EAAOhlD,MAEX,KAAK,KAAAwH,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBglD,SAAUxH,EAAOsE,UAAY,KAAAhiD,kBAAkBynD,IAAK,MAC5E,KAAK,KAAAvnD,mBAAmBjN,WAAYyqD,EAAOsE,UAAY,KAAAhiD,kBAAkB0nD,QAAS,MAClF,QAAShK,EAAOsE,UAAY,KAAAhiD,kBAAkBynD,IAGtDyiB,EAAUloB,UAAiC,MAApBtE,EAAOsE,YAA0C,IAArBtE,EAAOsE,UAAuB,KAAAhiD,kBAAkB8hB,KAAO47B,EAAOsE,UAGjHwoB,EAAU/U,MAAMvyC,KAAKgnD,GAKJ,MAAjBn4E,EAAQ0qD,OAA2C,MAA1B1qD,EAAQ0qD,MAAM3kC,WAAkBA,EAAW/lB,EAAQ0qD,MAAM3kC,UAEtF,IAAI2yD,EAAuB,IAAIC,qBAQ/B,GAPAD,EAAqBT,UAAYA,EACjCS,EAAqBL,YAAcA,EACnCK,EAAqBD,UAAYA,EACjCC,EAAqB/D,cAAgB5uD,EACrC2yD,EAAqBvE,QAAU,qBAC/BuE,EAAqBX,oBAAsBA,EAEpB,MAAnB/3E,EAAQwrD,QACZ,CACI,IAAIC,EAAiBzrD,EAAQwrD,QAAgCE,OAC7DgtB,EAAqBltB,QAAUC,EAGnC,IAAImtB,EAAa/7C,KAAKE,UAAU27C,GAG5Bv6C,EAAoB,KACxBA,EAAoB,IAAIE,SACxBF,EAAkBhH,OAAO,OAAQ,IAAI+I,KAAK,CAAC04C,GAAa,CAAEjyE,KAAM,sBAGhEuQ,EAAEonB,KACE,CACI33B,KAAM,OACN83B,WAAaC,IAGTA,EAAIC,iBAAiB,kBAAmB,MACxCD,EAAIC,iBAAiB,UAAW,uBAGpCvY,aAAa,EACb4X,KAAMG,EACNY,OAAQ,OACRC,aAAa,EACbi2C,SAAU,OACV3yD,IAAK,mCACL2c,QAAS,CAACC,EAAiCg2C,EAAoBC,KAK3D,GAHA,KAAA75D,WAAW,oBAAsB3d,KAAK2uD,YAGJ,MAA9BtsD,EAAQ64E,mBACZ,CACI,IAAIn2D,EAAQ,IAAI,KAAAlD,0BAQhB,GAPAkD,EAAM+lB,OAAS9qC,KACf+kB,EAAMu1D,UAAYA,EAClBv1D,EAAM21D,YAAcA,EACpB31D,EAAM+1D,UAAYA,EAClB/1D,EAAMiyD,cAAgB5uD,EACtBrD,EAAMq1D,oBAAsBA,EAEL,MAAnB/3E,EAAQwrD,QACZ,CACI,IAAIC,EAAiBzrD,EAAQwrD,QAAgCE,OAC7DhpC,EAAM8oC,QAA4B,MAAjBC,EAA0BA,EAAoClxC,IAAIsY,GAAKA,EAAE+pB,OAAS,KAKvG,GAFA58C,EAAQ64E,mBAAmBn2D,GAEvBA,EAAMhB,qBACN,OAIoB,MAAxBwd,EAASi3C,aAAuBj3C,EAASi3C,YAAYptE,OAAS,GAC9Dqa,SAASrL,QAAQmnB,EAASi3C,aAExBj3C,EAAiBjuB,SACnB,KAAAM,MAAO2tB,EAAiB45C,aAAe,SAAY55C,EAAiB65C,WAAY,CAAE7/D,MAAO,IAAKxF,IAAK,qBAE3G+O,MAAO,CAACyc,EAAqBg2C,EAAoB+B,KAE7C,KAAA37D,aACA,KAAA/J,MAAM,iEAavB,KAKP,eAAewlB,GAOX,OALa,MAATA,IAEIA,EAAO,KAAAjuB,KAAKnL,KAAK40D,aAAa14C,OAC7B,KAAA/Q,KAAKnL,KAAK40D,aAAa/hD,QAEzB,KAAA1H,KAAKnL,KAAK40D,aAAa/oD,GAAG,YAGrC,cAEI7L,KAAKq7E,gBAAe,GAGxB,cAEIr7E,KAAKq7E,gBAAe,GAGxB,UAEI,OAAOr7E,KAAK40D,YAGhB,YAAiCvzD,GAE7B,OAAO,iBAAAoJ,eAAexJ,IAAO,QAAUI,EAAQ,IAAMrB,KAAK2uD,YAG9D,gBAAqCttD,GAEjC,IAAIyzD,EAAc90D,KAAK80D,YAAezzD,GACnB,MAAfyzD,GACAA,EAAY54C,OAGpB,gBAAqC7a,GAEjC,IAAIyzD,EAAc90D,KAAK80D,YAAezzD,GACnB,MAAfyzD,GACAA,EAAYjiD,OAGpB,kBAAuCxR,GAEnC,IAAIyzD,EAAc90D,KAAK80D,YAAezzD,GACnB,MAAfyzD,GACAA,EAAYz4B,SAGpB,mBAAwCh7B,GAEpC,IAAIyzD,EAAc90D,KAAK80D,YAAezzD,GACnB,MAAfyzD,GACAA,EAAYx4B,UAGpB,kBAAkBj7B,GAEd,IAAIyzD,EAAc90D,KAAK80D,YAAYzzD,GAChB,MAAfyzD,GACA,KAAA3pD,KAAK2pD,EAAYxyD,aAAa+X,SAGtC,gBAAgBihE,GAEZ,IAAK,IAAIxmB,KAAewmB,EACpBt7E,KAAK+0D,eAAeD,GAG5B,eAAeA,GAEgB,MAAvBA,EAAY14B,UAAiB04B,EAAY14B,SAAU,GAC/B,MAApB04B,EAAY9rD,OAAc8rD,EAAY9rD,KAAO,KAAA0H,oBAAoBolD,QAGrE,IAAI/iD,EAAO,GACPiI,OAAmC0C,EACnC+hD,EAAc,GACdx1B,EAAU6qB,EAAYz4B,OACtBxlB,GAAW,EACQ,MAAnBi+C,EAAY/+C,MAAa++C,EAAY/+C,IAAM,IACf,MAA5B++C,EAAYh5B,eAAsBg5B,EAAYh5B,aAAe,IACjE,IAAIy/C,EAAyC,MAArBzmB,EAAYzzD,MAAuC,MAApByzD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAKqH,QAAQ,gBAAiB,IAAIA,QAAQ,SAAU,IAAM,UAAa06C,EAAYzzD,MAGlL,OAAQyzD,EAAY9rD,MAEhB,KAAK,KAAA0H,oBAAoBqpE,IAEjBhnE,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,WACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,KAAArO,iBAAiByrC,KAC7EsnB,EAAoC,MAArB3K,EAAYzzD,MAAiB,QAAUyzD,EAAYzzD,MAAQ,WAC1EwV,GAAW,EAEf,MACJ,KAAK,KAAAnG,oBAAoBolD,OAEjB/iD,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,GACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,UAAO2C,EAC5D+hD,EAAc,QAAU8b,EACxB1kE,GAAW,EAEf,MACJ,KAAK,KAAAnG,oBAAoBjL,YAEjBsN,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,GACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,UAAO2C,EAC5D7G,GAAW,EAEf,MACJ,KAAK,KAAAnG,oBAAoBzK,OACzB,KAAK,KAAAyK,oBAAoB3N,YACzB,KAAK,KAAA2N,oBAAoB3M,SACzB,KAAK,KAAA2M,oBAAoBvL,SACzB,KAAK,KAAAuL,oBAAoBrM,WACzB,KAAK,KAAAqM,oBAAoB/N,MACzB,KAAK,KAAA+N,oBAAoBzN,QAEjB4T,GAAW,EAEf,MACJ,KAAK,KAAAnG,oBAAoBu0C,OAEjBlyC,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,UACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,KAAApO,mBAAmBqrC,MAC/EynB,EAAoC,MAArB3K,EAAYzzD,MAAiB,QAAUyzD,EAAYzzD,MAAQ,cAC1EwV,GAAW,EAEf,MACJ,KAAK,KAAAnG,oBAAoBw0C,MAEjBnyC,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,QACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,KAAArO,iBAAiB8uE,UAC7E/b,EAAoC,MAArB3K,EAAYzzD,MAAiB,QAAUyzD,EAAYzzD,MAAQ,aAC1EwV,GAAW,EACXi+C,EAAY1R,gBAAkB,UAC9B0R,EAAY3R,UAAY,OAE5B,MACJ,KAAK,KAAAzyC,oBAAoBypE,uBAEjBpnE,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,QACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,KAAArO,iBAAiB8uE,UAC7E/b,EAAoC,MAArB3K,EAAYzzD,MAAiB,QAAUyzD,EAAYzzD,MAAQ,0BAC1EwV,GAAW,EACXi+C,EAAY1R,gBAAkB,UAC9B0R,EAAY3R,UAAY,OAE5B,MACJ,KAAK,KAAAzyC,oBAAoBzM,UAEjBw7D,EAAoC,MAArB3K,EAAYzzD,MAAiB,QAAUyzD,EAAYzzD,MAAQ,iBAC1E4oC,GAAU,EACVpzB,GAAW,EAEf,MACJ,KAAK,KAAAnG,oBAAoB6nD,OAEjBxlD,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,WACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,KAAArO,iBAAiB+uE,QAC7Ehc,EAAoC,MAArB3K,EAAYzzD,MAAiB,QAAUyzD,EAAYzzD,MAAQ,cAC1EwV,GAAW,EAQvB,GAAIA,EAGA,KAAAjU,aACI,CACImY,KAAMC,EACNw4B,SAAUshB,EAAYthB,SACtBnX,OAAQ4N,EACRl3B,KAAMA,EACNipB,cAAe,CAAE2e,WAAYma,EAAY1R,gBAAiBD,UAAW2R,EAAY3R,WACjF/mB,QAAS04B,EAAY14B,QACrBN,aAAcg5B,EAAYh5B,aAC1B/lB,IAAK++C,EAAY/+C,IACjBxU,MAA+B,IAAxBuzD,EAAY4mB,QAAoB,KAAAnuE,eAAe2tB,aAAUxd,EAChE6e,eAAgB,+BAAgE,MAA9Bu4B,EAAYv4B,eAA0Bu4B,EAAYv4B,eAAiB,IACrHrmB,OAAS4+C,EAAY9rD,MAAQ,KAAA0H,oBAAoBzM,UAAa,iBAAmB,IAAM,sBAAwBw7D,EAC/G9b,cAAemR,EAAYlR,MAC3BznB,QAAU7hB,IAGN,GAAIw6C,EAAY9rD,MAAQ,KAAA0H,oBAAoBu0C,OAC5C,CACI,IAAImhB,EAAepmE,KAAK43D,kBACxB,GAA2B,GAAvBwO,EAAah7D,OAGb,YADA,KAAA+H,cAAc,8CAKyB,MAAnC2hD,EAAYtP,sBAEe,GAAvB4gB,EAAah7D,OAAa0pD,EAAYtP,oBAAsB,mEACvD4gB,EAAah7D,OAAS,IAAG0pD,EAAYtP,oBAAsB,0EAOhF,IAAIq0B,EAAoB,IAAI8B,sBAC5B9B,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEpF,KAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE1C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAIzC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAG9C75E,KAAK40D,YAAa,KAAM6K,EAAc,IAAMz/D,KAAK2uD,gBAI5D,CAEI,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoBjL,YAC5C,CACI,IAAIpE,EAA8B,MAArByzD,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,cACrC,MAArByzD,EAAYzzD,OAAqC,MAApByzD,EAAY/hD,OACzC1R,EAAQyzD,EAAY/hD,KAAKqH,QAAQ,gBAAiB,IAAIA,QAAQ,SAAU,IAAM,eAE5C,MAAlC06C,EAAY+mB,qBAA4B/mB,EAAY+mB,mBAAqB,IAAI,cAAAlyB,oBAC7C,MAAhCmL,EAAYgnB,mBAA0BhnB,EAAY+mB,mBAAmBvkC,MAAQwd,EAAYgnB,kBAC7C,MAA5ChnB,EAAY+mB,mBAAmB9xB,YAAmB+K,EAAY+mB,mBAAmB9xB,WAAY,GAEjG,IAAIgyB,EAAY,QAAU16E,EAC1B,KAAAmE,kBACI,CACIuN,KAAMA,EACNgI,KAAMC,EACNqhB,OAAQ4N,EACRuJ,SAAUshB,EAAYthB,SACtB8D,MAAOwd,EAAY+mB,mBAAmBvkC,MACtClb,QAAS04B,EAAY14B,QACrB2tB,UAAW+K,EAAY+mB,mBAAmB9xB,UAC1C/tB,cAAe84B,EAAY+mB,mBAAmB7/C,cAC9CgB,cAAe83B,EAAY+mB,mBAAmB7+C,cAC9C5mB,QAAS0+C,EAAY+mB,mBAAmBzlE,QACxCwzC,UAAWkL,EAAY+mB,mBAAmBjyB,UAC1CC,MAAOiL,EAAY+mB,mBAAmBhyB,MACtCC,YAAagL,EAAY+mB,mBAAmB/xB,YAC5ChuB,aAAcg5B,EAAYh5B,aAAe,wBACzC/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,+BAAgE,MAA9Bu4B,EAAYv4B,eAA0Bu4B,EAAYv4B,eAAiB,IACrHrmB,MAAO,sCAAwC6lE,EAC/C5/C,QAAiC,MAAvB24B,EAAY34B,aAAmBze,EAAapD,IAGlD,IAAIu/D,EAAoB,IAAI8B,sBAC5B9B,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEpF,KAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE1C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAIzC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAG9C75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,YAK1D,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoB3N,YAC5C,CACI,IAAIg5E,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,eAC7E,KAAAyB,kBACI,CACIu5B,OAAQ4N,EACR6c,cAAe,KAAAt5C,kBAAkBu5C,OACjCzP,MAAOwd,EAAYknB,iBACnB5/C,QAAS04B,EAAY14B,QACrBN,aAAc,cAAgBg5B,EAAYh5B,aAC1C/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,8BAAgCu4B,EAAYv4B,eAC5DrmB,MAAO,sCAAwC6lE,EAC/CxgE,MAAO,OACPytC,SAAW1uC,IAGP,IAAIu/D,EAAoB,IAAI8B,sBAC5B9B,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEpF,KAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE1C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAIzC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAG9C75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,YAK1D,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoB3M,SAC5C,CACI,IAAIg4E,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,YAC7E,KAAAyC,eACI,CACIu4B,OAAQ4N,EACRl3B,KAAM+hD,EAAY/hD,KAClBqpB,QAAS04B,EAAY14B,QACrBN,aAAc,aAAeg5B,EAAYh5B,aACzC/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,8BAAgCu4B,EAAYv4B,eAC5DrmB,MAAO,mCAAqC6lE,EAC5ClhC,QAAUvgC,IAGN,IAAIu/D,EAAoB,IAAI8B,sBAC5B9B,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEpF,KAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE1C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAIzC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAG9C75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,YAK1D,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoB/N,MAC5C,CACI,IAAIo5E,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,SAC7E,KAAAe,YACI,CACIi6B,OAAQ4N,EACRl3B,KAAM+hD,EAAY/hD,KAClBqpB,QAAS04B,EAAY14B,QACrBN,aAAcg5B,EAAYh5B,aAC1B/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,8BAAgCu4B,EAAYv4B,eAC5DrmB,MAAO,gCAAkC6lE,EACzC//C,cACA,CACI2e,WAAYma,EAAY1R,gBACxBD,UAAW2R,EAAY3R,WAE3BhnB,QAAU7hB,IAGN,IAAIu/D,EAAoB,IAAI8B,sBAC5B9B,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEpF,KAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE1C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAIzC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAG9C75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,YAK1D,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoBvL,SAC5C,CACI,IAAI42E,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,YAE1C,MAA/ByzD,EAAYmnB,kBAAyBnnB,EAAYmnB,gBAAkB,IAAI,WAAA52E,iBAC3EyvD,EAAYmnB,gBAAgB1/C,eAAiB,8BAAgCu4B,EAAYmnB,gBAAgB1/C,eACzGu4B,EAAYmnB,gBAAgB/lE,MAAQ,mCAAqC6lE,EAAY,IAAMjnB,EAAYmnB,gBAAgB/lE,MAC5E,MAAvC4+C,EAAYmnB,gBAAgB7/C,UAAiB04B,EAAYmnB,gBAAgB7/C,QAAU04B,EAAY14B,SAC5D,MAAnC04B,EAAYmnB,gBAAgBlmE,MAAa++C,EAAYmnB,gBAAgBlmE,IAAM++C,EAAY/+C,KAC3C,MAA5C++C,EAAYmnB,gBAAgBngD,eAAsBg5B,EAAYmnB,gBAAgBngD,aAAeg5B,EAAYh5B,aAAe,KAC5Hg5B,EAAYmnB,gBAAgBngD,cAAgB,uBACF,MAAtCg5B,EAAYmnB,gBAAgB5/C,SAAgBy4B,EAAYmnB,gBAAgB5/C,OAAS4N,GAErF,KAAA/kC,eAAe4vD,EAAYmnB,gBAAiBj8E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,YAK/F,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoBrM,WAC5C,CACI,IAAI03E,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,cAExC,MAAjCyzD,EAAYonB,oBAA2BpnB,EAAYonB,kBAAoB,IAAI,aAAA33E,mBAC/EuwD,EAAYonB,kBAAkB3/C,eAAiB,8BAAgCu4B,EAAYonB,kBAAkB3/C,eAC7Gu4B,EAAYonB,kBAAkBhmE,MAAQ,qCAAuC6lE,EAAY,IAAMjnB,EAAYonB,kBAAkBhmE,MAChF,MAAzC4+C,EAAYonB,kBAAkB9/C,UAAiB04B,EAAYonB,kBAAkB9/C,QAAU04B,EAAY14B,SAC9D,MAArC04B,EAAYonB,kBAAkBnmE,MAAa++C,EAAYonB,kBAAkBnmE,IAAM++C,EAAY/+C,KAC7C,MAA9C++C,EAAYonB,kBAAkBpgD,eAAsBg5B,EAAYonB,kBAAkBpgD,aAAeg5B,EAAYh5B,cACjHg5B,EAAYonB,kBAAkBpgD,cAAgB,cAAgBg5B,EAAYonB,kBAAkBpgD,aAChD,MAAxCg5B,EAAYonB,kBAAkB7/C,SAAgBy4B,EAAYonB,kBAAkB7/C,OAAS4N,GAEzF,KAAA7lC,iBAAiB0wD,EAAYonB,kBAAmBl8E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,YAKnG,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoBzN,QAC5C,CACI,IAAI84E,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,WAE3C,MAA9ByzD,EAAYqnB,iBAAwBrnB,EAAYqnB,eAAiB,IAAI,UAAAh5E,gBACzE2xD,EAAYqnB,eAAe5/C,eAAiB,8BAAgCu4B,EAAYqnB,eAAe5/C,eACvGu4B,EAAYqnB,eAAejmE,MAAQ,kCAAoC6lE,EAAY,IAAMjnB,EAAYqnB,eAAejmE,MAC1E,MAAtC4+C,EAAYqnB,eAAe//C,UAAiB04B,EAAYqnB,eAAe//C,QAAU04B,EAAY14B,SAC3D,MAAlC04B,EAAYqnB,eAAepmE,MAAa++C,EAAYqnB,eAAepmE,IAAM++C,EAAY/+C,KAC1C,MAA3C++C,EAAYqnB,eAAergD,eAAsBg5B,EAAYqnB,eAAergD,aAAeg5B,EAAYh5B,cAC3Gg5B,EAAYqnB,eAAergD,cAAgB,cAAgBg5B,EAAYqnB,eAAergD,aAC7C,MAArCg5B,EAAYqnB,eAAe9/C,SAAgBy4B,EAAYqnB,eAAe9/C,OAAS4N,GAEnF,KAAAjnC,cAAc8xD,EAAYqnB,eAAgBn8E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAK2uD,iBAKxF,GAAImG,EAAY9rD,MAAQ,KAAA0H,oBAAoBzK,OACjD,CACsC,MAA9B6uD,EAAYsnB,iBAEZtnB,EAAYsnB,eAAiB,IAAIC,0BACjCvnB,EAAYsnB,eAAetP,SAAW,GACtChY,EAAYsnB,eAAerP,QAAU,IAGC,MAAtCjY,EAAYsnB,eAAethC,UAAiBga,EAAYsnB,eAAethC,SAAU,GACrF,IAAIihC,EAAY,SAAiC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,UAC7E,KAAA8J,KAAKnL,KAAK40D,aAAaxoD,aAAa,YAAc2vE,EAAY,IAAM/7E,KAAK2uD,WAAa,6CACtF,KAAA3oD,aACI,CACI8mE,SAAUhY,EAAYsnB,eAAgBtP,SACtCC,QAASjY,EAAYsnB,eAAgBrP,QACrCjyB,QAASga,EAAYsnB,eAAethC,QACpChf,aAAc,cAAgBg5B,EAAYh5B,aAC1C/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,8BAAgCu4B,EAAYv4B,eAC5DH,QAAS04B,EAAY14B,QACrBC,OAAQ4N,EACR+iC,SAAW1yD,IAEP,GAA2C,MAAvCw6C,EAAYsnB,eAAgBvhC,QAChC,CACI,IAAIyhC,EAAmB,IAAIC,uBAC3BD,EAAiBxhC,QAAUxgC,EAAEwgC,QAC7Bga,EAAYsnB,eAAgBvhC,QAAQyhC,MAG7C,KAAM,KAAMP,EAAY,IAAM/7E,KAAK2uD,cAU9C,mBAEJ,GAA2B,MAAvB3uD,KAAKy4E,eACL,OAEJ,IAAIp2E,EAAUrC,KAAK+sC,aAGe,MAA9B1qC,EAAQm6E,qBACRn6E,EAAQm6E,mBAAqB,IAAIC,wBAEK,MAAtCp6E,EAAQm6E,mBAAmBn6E,UAC3BA,EAAQm6E,mBAAmBn6E,QAAU,IAAIq6E,sBAEG,MAA5Cr6E,EAAQm6E,mBAAmBn6E,QAAQkZ,QAAelZ,EAAQm6E,mBAAmBn6E,QAAQkZ,MAAQ,KAC9C,MAA/ClZ,EAAQm6E,mBAAmBn6E,QAAQs6E,WAAkBt6E,EAAQm6E,mBAAmBn6E,QAAQs6E,SAAW,SACnD,MAAhDt6E,EAAQm6E,mBAAmBn6E,QAAQu6E,YAAmBv6E,EAAQm6E,mBAAmBn6E,QAAQu6E,UAAY,YAIzG58E,KAAKy4E,eAAiB,KAAA7yE,aAClB,CACI82B,kBAAkB,EAClBH,eAAgBv8B,KAAKqL,UAAU8K,GAAK,cACpCoF,MAAOlZ,EAAQm6E,mBAAmBn6E,QAAQkZ,MAC1CC,OAAQnZ,EAAQm6E,mBAAmBn6E,QAAQmZ,OAC3CvF,MAAO5T,EAAQm6E,mBAAmBn6E,QAAQs6E,SAC1CE,cAAgBviE,IAGZ,GAAiD,MAA7CjY,EAAQm6E,mBAAoBK,cAChC,CACI,IAAI93D,EAAQ,IAAI+3D,2BAOhB,GANA/3D,EAAM+lB,OAAS9qC,KACf+kB,EAAMP,OAASxkB,KAAKy4E,eACpB1zD,EAAMk5B,SAAWj+C,KAAKm3E,kBACtBpyD,EAAMqnC,QAAU/pD,EAAQ+pD,QACxB/pD,EAAQm6E,mBAAoBK,cAAc93D,GAEtCA,EAAMhB,qBACN,SAIZ+1B,QAAUx/B,IAMN,GAJA,KAAAnP,KAAKnL,KAAKy4E,eAAen2E,aAAa+X,SACrCra,KAAKy4E,eAAyB,KAGiB,MAA5Cp2E,EAAQm6E,mBAAoBO,aAChC,CACI,IAAIh4D,EAAQ,IAAIi4D,0BAOhB,GANAj4D,EAAM+lB,OAAS9qC,KACf+kB,EAAMP,OAASxkB,KAAKy4E,eACpB1zD,EAAMk5B,SAAWj+C,KAAKm3E,kBACtBpyD,EAAMqnC,QAAU/pD,EAAQ+pD,QACxB/pD,EAAQm6E,mBAAoBO,aAAah4D,GAErCA,EAAMhB,qBACN,OAIR/jB,KAAKm3E,kBAAoB,MAE7BzqB,OACI,CACI,CACI1jD,KAAM,KAAAwG,yBAAyB0jD,OAEnC,CACIlqD,KAAM,KAAAwG,yBAAyB47D,GAAIjvC,QAAU7hB,IAGuB,MAA5DjY,EAAQm6E,mBAAoBn6E,QAASmjD,qBAClCnjD,EAAQm6E,mBAAoBn6E,QAASmjD,oBAAoBp6C,OAAS,EAErE,KAAAqI,QAAQpR,EAAQm6E,mBAAoBn6E,QAASmjD,qBAAqB3nC,KAAK,KAEnE7d,KAAKi9E,mBAITj9E,KAAKi9E,sBAMjC,KAAA9xE,KAAKnL,KAAKy4E,eAAeptE,WAAWyvB,SAAS,mBAG7C96B,KAAKk9E,yBAAyB76E,GAG1B,yBAAyBA,GAE7B,IAAI86E,EAAiB,GACjBC,EAAep9E,KAAKy4E,eAAeptE,UAAU8K,GAGjD,IAAK,IAAI63C,KAAU3rD,EAAQ+pD,QAASx5B,MAAM,GAAGyqD,UAErCrvB,EAAOgB,SAGPhB,EAAOhlD,MAAQ,KAAAwH,mBAAmBulD,UAAY/H,EAAOhlD,MAAQ,KAAAwH,mBAAmBwlD,QAChFmnB,EAAe1+B,QAAQuP,GAEvBmvB,EAAe3pD,KAAKw6B,IAI5B,IAAK,IAAIA,KAAUmvB,EAAeE,UAClC,CACI,IAAItiD,EAAyB,MAAhBizB,EAAO/3C,MAAiB+3C,EAAO/O,MAAQ+O,EAAO/3C,MACvDG,EAAkC,MAAvB43C,EAAO6J,cAAuD,MAA/B7J,EAAO6J,aAAazhD,QAAmB43C,EAAO6J,aAAazhD,aAAUsH,EASnH,QARgB,IAAZtH,EACAA,EAAU2kB,IACO,IAAZ3kB,GAEoB,mBAAb,KADZA,OAAUsH,GAKNswC,EAAOhlD,MAGX,KAAK,KAAAwH,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QACpB,CACI,IAAIlZ,EAAW,KAAAh5C,eACX,CACIi3B,MAAOA,EACP3kB,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,aAAeX,EAAO/O,OAEnE,KAAA9zC,KAAK2xC,EAASzxC,WAAW80C,SAASpqC,IAAI,aAAc,QACpD,KAAA5K,KAAK2xC,EAASzxC,WAAW80C,SAASpqC,IAAI,UAAW,gBACjD,KAAA5K,KAAK2xC,EAASzxC,WAAW80C,SAASpqC,IAAI,eAAgB,OAE1D,MAIJ,KAAK,KAAAvF,mBAAmBgZ,OAEF,KAAAxmB,cACV,CACI+3B,MAAOA,EACPxf,MAAO,OACPnF,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,YAAcX,EAAO/O,OAEtE,MAIJ,KAAK,KAAAzuC,mBAAmBqiC,iBAEU,KAAA7vC,cAAc,CACpC+3B,MAAOA,EACPxf,MAAO,OACPha,KAAM,KAAA6B,aAAayvC,iBACnBz8B,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,YAAcX,EAAO/O,OAElE,MAIJ,KAAK,KAAAzuC,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cAEC,KAAA9pB,iBACb,CACI22B,MAAOA,EACPxf,MAAO,OACPnF,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAEzE,MACJ,KAAK,KAAAzuC,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aAEK,KAAAlqB,iBACjB,CACI7C,KAAM,KAAAiD,aAAaG,SACnBo2B,MAAOA,EACPxf,MAAO,OACPnF,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAE7E,MACJ,KAAK,KAAAzuC,mBAAmB/L,KAEC,KAAAL,iBACb,CACI7C,KAAM,KAAAiD,aAAaC,KACnBs2B,MAAOA,EACPxf,MAAO,OACPnF,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAEzE,MAIJ,KAAK,KAAAzuC,mBAAmBkwD,aAEhB,GAAwB,MAApB1S,EAAOpO,UACP,MAAM,IAAIh0C,MAAM,mCAAqCoiD,EAAO/O,MAAQ,8EAErD,KAAA/5C,eACf,CACI3D,KAAM,KAAA+D,iBAAiBC,SACvBw1B,MAAOA,EACPxf,MAAO,OACP+7B,MAAO0W,EAAOpO,UACdpW,SAAUwkB,EAAOsvB,YACjBrmC,YAAa+W,EAAOsvB,YACpBlnE,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAE3E,MACJ,KAAK,KAAAzuC,mBAAmBmwD,aACxB,KAAK,KAAAnwD,mBAAmBowD,uBAEhB,GAAwB,MAApB5S,EAAOpO,UACP,MAAM,IAAIh0C,MAAM,mCAAqCoiD,EAAO/O,MAAQ,8EAExE,IAAK,IAAIvqB,KAAQs5B,EAAOpO,UAEC,MAAjBlrB,EAAK6oD,WACL7oD,EAAK6oD,UAAW,GAGL,KAAAr4E,eACf,CACI61B,MAAOA,EACPxf,MAAO,OACP+7B,MAAO0W,EAAOpO,UACdn0C,WAAauiD,EAAOhlD,MAAQ,KAAAwH,mBAAmBowD,uBAC/C3pB,YAAa+W,EAAOsvB,YACpBlnE,QAASA,GACVgnE,EAAc,KAAMp9E,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAE3E,MACJ,KAAK,KAAAzuC,mBAAmBrL,SAEhB,GAAwB,MAApB6oD,EAAOpO,UACP,MAAM,IAAIh0C,MAAM,mCAAqCoiD,EAAO/O,MAAQ,0EAEzD,KAAA/5C,eACX,CACI61B,MAAOA,EACPxf,MAAO,OACP+7B,MAAO0W,EAAOpO,UACdxpC,QAASA,EACT6gC,YAAa+W,EAAOsvB,aACrBF,EAAc,KAAMp9E,KAAK2uD,WAAa,aAAeX,EAAO/O,OAEvE,MAIJ,KAAK,KAAAzuC,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACxB,KAAK,KAAAiN,mBAAmBglD,SACpB,CACI,IAAIxsD,EAAO,KAAA5F,aAAaC,QACpB2qD,EAAOhlD,MAAQ,KAAAwH,mBAAmB/M,SAAUuF,EAAO,KAAA5F,aAAaK,SAC3DuqD,EAAOhlD,MAAQ,KAAAwH,mBAAmBjN,aAAYyF,EAAO,KAAA5F,aAAaG,YAEtD,KAAAP,cACjB,CACI+3B,MAAOA,EACPxf,MAAO,OACPha,KAAMyH,EACNoN,QAASA,EACT4S,iBAA8C,MAA3BglC,EAAOhlC,iBAA4BglC,EAAOhlC,iBAAmB3mB,EAAQ2mB,kBACzFo0D,EAAc,KAAMp9E,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAE7E,MAIJ,KAAK,KAAAzuC,mBAAmB4B,MAEE,KAAAhK,kBAAkB,CAChC2yB,MAAOA,EACPxf,MAAO,OACPugB,aAAc,2BACdY,kBAAkB,GACnB0gD,EAAc,KAAMp9E,KAAK2uD,WAAa,gBAAkBX,EAAO/O,OAEtE,MAIJ,KAAK,KAAAzuC,mBAAmBrI,KACpB,CACI,IAAIq1E,EAA4B,GAChC,IAAK,IAAIn8E,KAASP,OAAOy6C,OAAO,KAAA7uC,kBAC5B8wE,EAAUhqD,KAAK,CAAEzgB,KAAM1R,EAAOA,MAAOA,IAEzC,IAAIo8E,EAAa,KAAAv4E,eAAe,CAC5B61B,MAAOA,EACPxf,MAAO,OACPugB,aAAc,qBACdwb,MAAOkmC,EACPpnE,QAASA,EACT6gC,aAAa,EACb3D,YAAa,iCACbyK,SAAWzjC,GAAe,aAAeA,EAAE2jC,SAAS58C,MAAQ,SAC5D65C,YAAc5gC,GAAMmjE,EAAW1qE,KAAK,IACpCu6B,cAAgBhzB,IAEZmjE,EAAW1qE,KAAK,IACD,MAAXuH,EAAEjZ,MAAeo8E,EAAW1iE,KAAK,KAAArO,iBAAiBgxE,MACjDD,EAAW1iE,KAAKT,EAAEjZ,QAE3B0Z,KAAM,KAAArO,iBAAiBgxE,MACxBN,EAAc,KAAMp9E,KAAK2uD,WAAa,eAAiBX,EAAO/O,UAS7E,eAAehB,GAEnB,IAAI57C,EAAUrC,KAAK+sC,aAInB,GAHkC,MAA9B1qC,EAAQm6E,oBAA+Bn6E,EAAQgqD,gBAC/CrsD,KAAK29E,mBAEkB,MAAvB39E,KAAKy4E,eACL,OAGJ,GAAgD,MAA5Cp2E,EAAQm6E,mBAAoBniC,aAChC,CACI,IAAIt1B,EAAQ,IAAI64D,0BAOhB,GANA74D,EAAM+lB,OAAS9qC,KACf+kB,EAAMP,OAASxkB,KAAKy4E,eACpB1zD,EAAMk5B,SAAWA,EACjBl5B,EAAMqnC,QAAU/pD,EAAQ+pD,QACxB/pD,EAAQm6E,mBAAoBniC,aAAat1B,GAErCA,EAAMhB,qBACN,OAKR,IAAI9N,EAAqB,MAAZgoC,EAAoB57C,EAAQm6E,mBAAoBn6E,QAASu6E,UAAYv6E,EAAQm6E,mBAAoBn6E,QAASs6E,SAcvH,GAbA38E,KAAKy4E,eAAexiE,MAAMA,GAC1BjW,KAAKy4E,eAAe9kE,OAE+B,MAA/CtR,EAAQm6E,mBAAoBn6E,QAASmZ,SAErC,KAAArQ,KAAKnL,KAAKy4E,eAAeptE,WAAW0K,IAAI,SAAU,QAClD,KAAA5K,KAAKnL,KAAKy4E,eAAeptE,WAAW80C,SAASpqC,IAAI,SAAU,QAC3D/V,KAAKy4E,eAAetL,SACpB,KAAAhiE,KAAKnL,KAAKy4E,eAAeptE,WAAW0K,IAAI,aAAc,SAKX,MAA3C1T,EAAQm6E,mBAAoBthC,YAChC,CACI,IAAIn2B,EAAQ,IAAI84D,yBAOhB,GANA94D,EAAM+lB,OAAS9qC,KACf+kB,EAAMP,OAASxkB,KAAKy4E,eACpB1zD,EAAMk5B,SAAWA,EACjBl5B,EAAMqnC,QAAU/pD,EAAQ+pD,QACxB/pD,EAAQm6E,mBAAoBthC,YAAYn2B,GAEpCA,EAAMhB,qBACN,OAIR,IAAIlH,EAAQ,EACZ7c,KAAKm3E,kBAAoBl5B,EACzB,IAAK,IAAI+P,KAAU3rD,EAAQ+pD,QAASx5B,MAAM,GAC1C,CACI,GAAIo7B,EAAOgB,SAAWhB,EAAO8vB,SACzB,SAEJ,IAAIC,EAA2B,MAAZ9/B,EAAoBA,EAAS+P,EAAO/O,OAAS,KAGhE,OAAQ+O,EAAOhlD,MAGX,KAAK,KAAAwH,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QACpB,CACI,IAAIlZ,EAAW,iBAAAryC,eAAexJ,IAAcjB,KAAK2uD,WAAa,aAAeX,EAAO/O,OACpFnC,EAAS/O,QAEU,MAAfgwC,EACAjhC,EAAShC,QAAQijC,GACW,MAAvB/vB,EAAOgwB,aACZlhC,EAAShC,QAAQkT,EAAOgwB,cACH,UAAhBhwB,EAAO/O,OAAqC,YAAhB+O,EAAO/O,OACxCnC,EAAShC,SAAQ,GAER,GAATj+B,GACAigC,EAASh1B,QAEU,GAAnBkmC,EAAO8vB,SACPhhC,EAAS7S,SAAQ,GAEjB6S,EAAS7S,SAAQ,GAEzB,MAIJ,KAAK,KAAAz5B,mBAAmBgZ,OACpB,CACI,IAAIkjD,EAAU,iBAAAjiE,eAAexJ,IAAajB,KAAK2uD,WAAa,YAAcX,EAAO/O,OACjFytB,EAAQ3+B,QAEW,MAAfgwC,EACArR,EAAQrrE,MAAM08E,GACc,MAAvB/vB,EAAOgwB,cACZtR,EAAQrrE,MAAM2sD,EAAOgwB,cAEZ,GAATnhE,GACA6vD,EAAQ5kD,QAEW,GAAnBkmC,EAAO8vB,SACPpR,EAAQziC,SAAQ,GAEhByiC,EAAQziC,SAAQ,GAExB,MAIJ,KAAK,KAAAz5B,mBAAmBqiC,iBACpB,CACI,IAAI65B,EAAU,iBAAAjiE,eAAexJ,IAAajB,KAAK2uD,WAAa,YAAcX,EAAO/O,OACjFytB,EAAQ3+B,QAEW,MAAfgwC,EACArR,EAAQrrE,MAAM08E,GACc,MAAvB/vB,EAAOgwB,cACZtR,EAAQrrE,MAAM2sD,EAAOgwB,cAEZ,GAATnhE,GACA6vD,EAAQ5kD,QAEW,GAAnBkmC,EAAO8vB,SACPpR,EAAQziC,SAAQ,GAEhByiC,EAAQziC,SAAQ,GAExB,MAIJ,KAAK,KAAAz5B,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI,IAAI+vD,EAAa,iBAAAxzE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAC1Fg/B,EAAWlwC,QAEQ,MAAfgwC,EACAE,EAAW58E,MAAM,IAAIgiB,KAAK06D,IACE,MAAvB/vB,EAAOgwB,cACZC,EAAW58E,MAAM,IAAIgiB,KAAK2qC,EAAOgwB,eAExB,GAATnhE,GACAohE,EAAWn2D,QAEQ,GAAnBkmC,EAAO8vB,SACPG,EAAWh0C,SAAQ,GAEnBg0C,EAAWh0C,SAAQ,GAE3B,MACJ,KAAK,KAAAz5B,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aACpB,CACI,IAAI4vD,EAAiB,iBAAAzzE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAClGi/B,EAAenwC,QAEI,MAAfgwC,EACAG,EAAe78E,MAAM,IAAIgiB,KAAK06D,IACF,MAAvB/vB,EAAOgwB,cACZE,EAAe78E,MAAM,IAAIgiB,KAAK2qC,EAAOgwB,eAE5B,GAATnhE,GACAqhE,EAAep2D,QAEI,GAAnBkmC,EAAO8vB,SACPI,EAAej0C,SAAQ,GAEvBi0C,EAAej0C,SAAQ,GAE/B,MACJ,KAAK,KAAAz5B,mBAAmB/L,KACpB,CACI,IAAI05E,EAAa,iBAAA1zE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAC1Fk/B,EAAWpwC,QAEQ,MAAfgwC,EACAI,EAAW98E,MAAM08E,GACW,MAAvB/vB,EAAOgwB,cACZG,EAAW98E,MAAM,IAAIgiB,KAAK2qC,EAAOgwB,eAExB,GAATnhE,GACAshE,EAAWr2D,QAEQ,GAAnBkmC,EAAO8vB,SACPK,EAAWl0C,SAAQ,GAEnBk0C,EAAWl0C,SAAQ,GAE3B,MAIJ,KAAK,KAAAz5B,mBAAmBkwD,aACpB,CACI,IAAI0d,EAAe,iBAAA3zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC5Fm/B,EAAaC,aACbD,EAAa9mC,MAAM0W,EAAOpO,WAEP,MAAfm+B,EACAK,EAAa/8E,MAAM08E,GACS,MAAvB/vB,EAAOgwB,cACZI,EAAa/8E,MAAM2sD,EAAOgwB,cAEP,GAAnBhwB,EAAO8vB,SACPM,EAAan0C,SAAQ,GAErBm0C,EAAan0C,SAAQ,GAE7B,MACJ,KAAK,KAAAz5B,mBAAmBmwD,aACxB,KAAK,KAAAnwD,mBAAmBowD,uBACpB,CACI,IAAI0d,EAAe,iBAAA7zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAI5F,GAHAq/B,EAAaD,aACbC,EAAahnC,MAAM0W,EAAOpO,WAEP,MAAfm+B,EACJ,CACI,IAAI18E,EAAQrB,KAAKm3E,kBAAkBnpB,EAAO/O,OACnB,iBAAZ,EACP59C,EAAQA,EAAMsrB,MAAM,KACdjQ,MAAM4X,QAAQjzB,KACpBA,EAAQ,CAACA,IAEbi9E,EAAaj9E,MAAMA,QAElB,GAA2B,MAAvB2sD,EAAOgwB,aAChB,CACI,IAAI38E,EAAQ2sD,EAAOgwB,aACI,iBAAZ,EACP38E,EAAQA,EAAMsrB,MAAM,KACdjQ,MAAM4X,QAAQjzB,KACpBA,EAAQ,CAACA,IAEbi9E,EAAaj9E,MAA0B,iBAAZ,EAAwBA,EAAMsrB,MAAM,KAAO,CAACtrB,IAGpD,GAAnB2sD,EAAO8vB,SACPQ,EAAar0C,SAAQ,GAErBq0C,EAAar0C,SAAQ,GAE7B,MACJ,KAAK,KAAAz5B,mBAAmBrL,SACpB,CACI,IAAIo5E,EAAW,iBAAA9zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,aAAeX,EAAO/O,OACpFs/B,EAASF,aACTE,EAASjnC,MAAM0W,EAAOpO,WAEH,MAAfm+B,EACAQ,EAASl9E,MAAM08E,GACa,MAAvB/vB,EAAOgwB,cACZO,EAASl9E,MAAM2sD,EAAOgwB,cAEH,GAAnBhwB,EAAO8vB,SACPS,EAASt0C,SAAQ,GAEjBs0C,EAASt0C,SAAQ,GAEzB,MAIJ,KAAK,KAAAz5B,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACxB,KAAK,KAAAiN,mBAAmBglD,SACpB,CACI,IAAIgpB,EAAiB,iBAAA/zE,eAAexJ,IAAajB,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAE/Fu/B,EAAezwC,QACI,MAAfgwC,EACAS,EAAen9E,MAAM08E,GACO,MAAvB/vB,EAAOgwB,cACZQ,EAAen9E,MAAM2sD,EAAOgwB,cAEnB,GAATnhE,GACA2hE,EAAe12D,QAEI,GAAnBkmC,EAAO8vB,SACPU,EAAev0C,SAAQ,GAEvBu0C,EAAev0C,SAAQ,GAE/B,MAIJ,KAAK,KAAAz5B,mBAAmB4B,MACpB,CACI,IAAIqsE,EAAc,iBAAAh0E,eAAexJ,IAAiBjB,KAAK2uD,WAAa,gBAAkBX,EAAO/O,OAC7Fw/B,EAAY1wC,QAEO,MAAfgwC,EACAU,EAAYp9E,MAAM08E,GACU,MAAvB/vB,EAAOgwB,cACZS,EAAYp9E,MAAM2sD,EAAOgwB,cAEN,GAAnBhwB,EAAO8vB,SACPW,EAAYx0C,SAAQ,GAEpBw0C,EAAYx0C,SAAQ,GAE5B,MAIJ,KAAK,KAAAz5B,mBAAmBrI,KACpB,CACI,IAAIs1E,EAAa,iBAAAhzE,eAAexJ,IAAcjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OACxFw+B,EAAW1vC,QAEQ,MAAfgwC,EACAN,EAAWp8E,MAAM08E,GACW,MAAvB/vB,EAAOgwB,cACZP,EAAWp8E,MAAM2sD,EAAOgwB,cAE5BP,EAAW1iE,KAAK0iE,EAAWp8E,SAEJ,GAAnB2sD,EAAO8vB,UAAwC,MAAnB9vB,EAAO8vB,UAEnCL,EAAWxzC,SAAQ,GACnBwzC,EAAW5qE,QAGX4qE,EAAWxzC,SAAQ,IAOnCptB,KAIA,iBAEJ,IAAIxa,EAAUrC,KAAK+sC,aAGW,MAA1B/sC,KAAKm3E,oBACLn3E,KAAKm3E,kBAAoB,IAE7B,IAAIuH,EAAUjoE,OAAOE,QAAO,EAAM,GAAI3W,KAAKm3E,mBAC3C,IAAK,IAAInpB,KAAU3rD,EAAQ+pD,QAASx5B,MAAM,GAEtC,IAAIo7B,EAAOgB,OAIX,OAAQhB,EAAOhlD,MAGX,KAAK,KAAAwH,mBAAmBulD,SACxB,KAAK,KAAAvlD,mBAAmBwlD,QACpB,CACI,IAAIlZ,EAAW,iBAAAryC,eAAexJ,IAAcjB,KAAK2uD,WAAa,aAAeX,EAAO/O,OACpFj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASnC,EAAShC,UAEpD,MAIJ,KAAK,KAAAtqC,mBAAmBgZ,OACpB,CACI,IAAIkjD,EAAU,iBAAAjiE,eAAexJ,IAAajB,KAAK2uD,WAAa,YAAcX,EAAO/O,OACjFj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASytB,EAAQrrE,QAEnD,MAIJ,KAAK,KAAAmP,mBAAmBqiC,iBACpB,CACI,IAAI8rC,EAAc,iBAAAl0E,eAAexJ,IAAajB,KAAK2uD,WAAa,YAAcX,EAAO/O,OACrFj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAAS0/B,EAAYt9E,QAEvD,MAIJ,KAAK,KAAAmP,mBAAmB6S,KACxB,KAAK,KAAA7S,mBAAmB2d,SACxB,KAAK,KAAA3d,mBAAmBwd,aACxB,KAAK,KAAAxd,mBAAmB0d,cACpB,CACI,IAAI+vD,EAAa,iBAAAxzE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAC1Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASg/B,EAAW58E,QAEtD,MACJ,KAAK,KAAAmP,mBAAmB7L,SACxB,KAAK,KAAA6L,mBAAmB8d,aACpB,CACI,IAAI4vD,EAAiB,iBAAAzzE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAClGj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASi/B,EAAe78E,QAE1D,MACJ,KAAK,KAAAmP,mBAAmB/L,KACpB,CACI,IAAI05E,EAAa,iBAAA1zE,eAAexJ,IAAgBjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OAC1Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASk/B,EAAW98E,QAEtD,MAIJ,KAAK,KAAAmP,mBAAmBkwD,aACpB,CACI,IAAI0d,EAAe,iBAAA3zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC5Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASm/B,EAAa/8E,QACpDrB,KAAKm3E,kBAAkBnpB,EAAOe,cAAiBqvB,EAAarrE,OAEhE,MACJ,KAAK,KAAAvC,mBAAmBmwD,aACpB,CACI,IAAI2d,EAAe,iBAAA7zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC5Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASq/B,EAAaj9E,QACpDrB,KAAKm3E,kBAAkBnpB,EAAOe,cAAiBuvB,EAAavrE,OAEhE,MACJ,KAAK,KAAAvC,mBAAmBowD,uBACpB,CACI,IAAI0d,EAAe,iBAAA7zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,iBAAmBX,EAAO/O,OAC5Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASq/B,EAAar8B,mBACpDjiD,KAAKm3E,kBAAkBnpB,EAAOe,cAAiBuvB,EAAa1mB,kBAAkBh7C,IAAIsY,GAAKA,EAAEniB,MAAM0hB,yBAEnG,MACJ,KAAK,KAAAjkB,mBAAmBrL,SACpB,CACI,IAAIo5E,EAAW,iBAAA9zE,eAAexJ,IAAcjB,KAAK2uD,WAAa,aAAeX,EAAO/O,OACpFj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASs/B,EAASl9E,QAChDrB,KAAKm3E,kBAAkBnpB,EAAOe,cAAiBwvB,EAASxrE,OAE5D,MAIJ,KAAK,KAAAvC,mBAAmBihB,OACxB,KAAK,KAAAjhB,mBAAmB/M,SACxB,KAAK,KAAA+M,mBAAmBjN,WACxB,KAAK,KAAAiN,mBAAmBglD,SACpB,CACI,IAAIgpB,EAAiB,iBAAA/zE,eAAexJ,IAAajB,KAAK2uD,WAAa,mBAAqBX,EAAO/O,OAC/Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASu/B,EAAen9E,QAE1D,MAIJ,KAAK,KAAAmP,mBAAmB4B,MACpB,CACI,IAAIqsE,EAAc,iBAAAh0E,eAAexJ,IAAiBjB,KAAK2uD,WAAa,gBAAkBX,EAAO/O,OAC7Fj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASw/B,EAAYp9E,QAEvD,MAIJ,KAAK,KAAAmP,mBAAmBrI,KACpB,CACI,IAAIs1E,EAAa,iBAAAhzE,eAAexJ,IAAcjB,KAAK2uD,WAAa,eAAiBX,EAAO/O,OACxFj/C,KAAKm3E,kBAAkBnpB,EAAO/O,OAASw+B,EAAWp8E,QAClDrB,KAAKm3E,kBAAkBnpB,EAAOe,cAAiB0uB,EAAW1qE,QAU1E,GAAgD,MAA5C1Q,EAAQm6E,mBAAoBoC,aAChC,CACI,IAAI75D,EAAQ,IAAI85D,0BAOhB,GANA95D,EAAM+lB,OAAS9qC,KACf+kB,EAAMP,OAASxkB,KAAKy4E,eACpB1zD,EAAMk5B,SAAWj+C,KAAKm3E,kBACtBpyD,EAAMqnC,QAAU/pD,EAAQ+pD,QACxB/pD,EAAQm6E,mBAAoBoC,aAAa75D,GAErCA,EAAMhB,qBACN,OAKR,IAAI+6D,EAAcz8E,EAAQm6E,mBAAoBuC,KAC9C,GAAmB,MAAfD,EAEIz8E,EAAQd,MAAQ,KAAA8O,aAAamxB,KAC7BxhC,KAAKq4D,aAAaymB,EAAaxmB,oBAAoB4e,OAGvB,MAAxB4H,EAAY1iE,UACZ0iE,EAAY1iE,SAAS,CAAE4iE,WAAYh/E,KAAKm3E,kBAAmBuH,QAASA,IAExE1+E,KAAKy4E,eAAevuC,aAI5B,CACI,IAAK,IAAInoC,KAAYjB,OAAOogC,oBAAoBlhC,KAAKm3E,mBACrD,CACI,IAAInpB,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASl9C,GAAU,GACjD,MAAVisD,GAAkBA,EAAOhlD,MAAQ,KAAAwH,mBAAmBjN,YAAqC,GAAvByqD,EAAOixB,eACzEj/E,KAAKm3E,kBAAkBp1E,IAAa,KAM5C,GAHA/B,KAAKwlE,UAAUxlE,KAAKm3E,mBAG2B,MAA3C90E,EAAQm6E,mBAAoB0C,YAChC,CACI,IAAIn6D,EAAQ,IAAIo6D,yBAOhB,GANAp6D,EAAM+lB,OAAS9qC,KACf+kB,EAAMP,OAASxkB,KAAKy4E,eACpB1zD,EAAMk5B,SAAWj+C,KAAKm3E,kBACtBpyD,EAAMqnC,QAAU/pD,EAAQ+pD,QACxB/pD,EAAQm6E,mBAAoB0C,YAAYn6D,GAEpCA,EAAMhB,qBACN,OAIR/jB,KAAKy4E,eAAevuC,QAEe,MAA/B7nC,EAAQq2E,qBACRr2E,EAAQq2E,uBAOZ,qBAEJ,GAAuB,MAAnB14E,KAAKo/E,WACL,OAGJ,GAAwC,kBAD1Bp/E,KAAK+sC,aACe,eAC9B,OAEJ/sC,KAAKo/E,WAAa,KAAAx5E,aACd,CACI82B,kBAAkB,EAClBnhB,MAAO,IACPC,OAAQ,IACRvF,MAAO,kBACPsmB,eAAgBv8B,KAAKqL,UAAU8K,GAAK,cACpC2jC,QAAUx/B,IAEN,KAAAnP,KAAKnL,KAAKo/E,WAAW98E,aAAa+X,SACjCra,KAAKo/E,WAAqB,MAE/B1yB,OACI,CACI,CAAE1jD,KAAM,KAAAwG,yBAAyB0jD,OACjC,CACIlqD,KAAM,KAAAwG,yBAAyBsmD,OAAQ/iD,KAAM,cAAexR,KAAM,KAAAgM,eAAe2tB,QACjFS,MAAO,KAAAlsB,0BAA0B6rB,KAAMa,QAAU7hB,IAE7Cta,KAAK4uD,cAAgB,KACrB5uD,KAAKqzD,cAAa,EAAMrzD,KAAK4vD,6BAGrC,CACI5mD,KAAM,KAAAwG,yBAAyBsmD,OAAQ/iD,KAAM,SAAUxR,KAAM,KAAAgM,eAAe2tB,QAC5EiB,QAAU7hB,IAEN,IAAI8rD,EAAepmE,KAAKq/E,WAAWznB,kBACnC,GAA2B,GAAvBwO,EAAah7D,OAGb,YADA,KAAA+H,cAAc,gCAIlB,IAAImzD,EAAcF,EAAa,IACL,MAAtBpmE,KAAK4uD,eAAgD,MAAtB5uD,KAAK4uD,eAAyB0X,EAAYnwD,IAAMnW,KAAK4uD,cAAcz4C,KAClGnW,KAAKs/E,WAAWhZ,EAAYnT,iBAMxD,KAAAhoD,KAAKnL,KAAKo/E,WAAW/zE,WAAWe,aAAa,YAAcpM,KAAK2uD,WAAa,yDAC7E,IAAI0d,EAAe,KAAAlhE,KAAK,IAAMnL,KAAK2uD,WAAa,6BAA6B,GAC7E,KAAAxjD,KAAK,cAAgBnL,KAAK2uD,WAAa,wBAAwBr4C,eAAe+1D,GAG9ErsE,KAAKq/E,WAAa,KAAAv5E,WACd,CACI42B,kBAAkB,EAClBgwB,QAAQ,EACRJ,SAAU,IACVC,YAAY,EACZ9gD,WAAY,KAAAwE,qBAAqBklD,YACjC35C,OAAQ,IACRqyC,QAAS,KACTD,WAAW,EACXZ,OACA,CACIzsB,QAAS,qBAAsBa,OAAQ,+CACvCohB,kBAAmB,kBAAmBC,WAAY,KAE9C,IAAIpgD,EAAUrC,KAAK+sC,aACnB,GAAwC,kBAA5B1qC,EAAsB,eAGlC,MAAO,CAAE2tD,SAAUxrC,OAAOiB,SAASid,KAAMqtB,SAAU1tD,EAASmrD,eAAgB7sD,OAEhFyb,SAAWmlB,IAEmB,MAAtBvhC,KAAK4uD,eACL5uD,KAAKq/E,WAAWvhB,kBAAkBt0C,OAAOxpB,KAAK4uD,cAAcz4C,SAAKuH,GAAW,KAGxF8+D,mBACA,CACIuC,KACA,CACIx+C,QAAS,qBAAsBa,OAAQ,4CACvCw2C,qBAAqB,IAG7BjjB,QACI,CACI,CACI3rD,KAAM,KAAA0H,oBAAoBolD,OAAQ/6C,KAAM,KAAApO,mBAAmBqrC,MAAOjlC,KAAM,UACxEyyC,oBAAqB,6CACrBrpB,QAAU7hB,IAEN,IAAIgsD,EAActmE,KAAKq/E,WAAWznB,kBAAkB,GACpD53D,KAAKq/E,WAAWjH,UAAU9R,EAAYnwD,IAEtC,IAAIopE,EAA4C,MAAtBv/E,KAAK4uD,eAAyB0X,EAAYnwD,IAAMnW,KAAK4uD,cAAez4C,GAC9FnW,KAAKw/E,YAAYlZ,EAAYnT,WAAYosB,GAEG,GAAxCv/E,KAAKq/E,WAAW3J,cAActqE,SAG9B,iBAAAX,eAAexJ,IAAiBjB,KAAK2uD,WAAa,gBAAgB/F,SAAS,gBAC3EpkC,OAAOwa,WAAW,IAAMh/B,KAAKo/E,WAAWl1C,QAAS,QAK7D,CACIlhC,KAAM,KAAA0H,oBAAoBolD,OAAQ/6C,KAAM,KAAArO,iBAAiByrC,KAAMplC,KAAM,aACrEopB,QAAU7hB,IAEN,KAAAtG,OAAO,kCAAmC,CAAEiC,MAAO,iBAAkB4H,KAAMxc,IAEvErB,KAAKgzD,WAAW3xD,EAAO,IAAMrB,KAAKq/E,WAAWryB,eAKjEZ,QACI,CACI,CAAEpjD,KAAM,KAAAwH,mBAAmBgZ,OAAQvT,MAAO,OAAQgpC,MAAO,aAAcyQ,UAAU,GACjF,CACI1mD,KAAM,KAAAwH,mBAAmB7L,SAAUsR,MAAO,kBAAmBgpC,MAAO,qBACpE1jC,MAAO,IAAKuiE,UAAU,EAAOvoB,eAAgB,CAAE35B,UAAW,KAAArrB,cAAc8nC,WAGrF,KAAM,KAAMr4C,KAAK2uD,WAAa,cAIjC,mBAEJ3uD,KAAKy/E,qBACLz/E,KAAKo/E,WAAWzrE,OAChB3T,KAAKq/E,WAAWryB,SAGZ,mBAAsB0yB,EAAkDp/C,EAAcH,GAE1F,IAAIxb,EAAM,GACV,OAAQ+6D,GAEJ,KAAKxvB,4BAA4BgnB,KAAMvyD,EAAM,4CAA6C,MAC1F,KAAKurC,4BAA4ByvB,KAAMh7D,EAAM,4CAA6C,MAC1F,KAAKurC,4BAA4B0vB,MAAOj7D,EAAM,6CAA8C,MAC5F,KAAKurC,4BAA4BC,IAAKxrC,EAAM,+CAIhD2b,EAAQk2C,QAAU,qBAClBj9D,EAAEonB,KAAK,CACH33B,KAAM,OACNyf,YAAa,mBACb4X,KAAMnB,KAAKE,UAAUkB,GACrBc,OAAQ,OACRC,aAAa,EACbT,QAAS8+C,GAAuBxvB,4BAA4BC,KAC5DmnB,SAAU,OACV3yD,IAAKA,EACL2c,QAAS,SAAUC,EAAag2C,EAAoBC,GAEhC,MAAZr3C,GACAA,EAASoB,MAOzB,WAAW4xB,EAAoBhzB,GAE3B,IAAI99B,EAAUrC,KAAK+sC,aACnB,GAAwC,kBAA5B1qC,EAAsB,eAC9B,OAEJ,GAAkB,IAAd8wD,EAGA,YADA,KAAArgD,OAAO,+BAKX,IAAIo8C,EAAa,IAAIC,oBACrBD,EAAWE,iBAAmB1yC,MAAMm/B,KAAK77C,KAAKyuD,4BAA4BtxC,WAEnD,MAAnB9a,EAAQwrD,SAE+C,MAAlDxrD,EAAQwrD,QAAgCE,SAEzCmB,EAAWrB,QAAU,IAAI,KAAA1sC,oBACzB+tC,EAAWrB,QAAQE,OAAU1rD,EAAQwrD,QAAgCE,OACrEmB,EAAWrB,QAAQgb,eAAkBxmE,EAAQwrD,QAAgCgb,eAC7E3Z,EAAWrB,QAAQ9O,OAAU18C,EAAQwrD,QAAgC9O,QAI7EmQ,EAAW5C,SAA0C,kBAArBjqD,EAAgB,UAAmBrC,KAAK0uD,mBAAsB,GAAKrsD,EAAQiqD,SAC3G4C,EAAWG,YAAcrvD,KAAKu7D,mBAE9B,IAAI1+C,EAAQ,EACRyyC,EAAoC,GACxC,IAAK,IAAItB,KAAU3rD,EAAQ+pD,QAC3B,CACI,IAAImD,EAAe,IAAIC,iBACvBD,EAAatQ,MAAQ+O,EAAO/O,MAC5BsQ,EAAaG,SAAW1B,EAAO0B,SAC/BH,EAAaP,OAAShB,EAAOgB,OAC7BO,EAAaI,OAAS3B,EAAO2B,OAC7BJ,EAAa1yC,MAAQA,EAErB,IAAItB,EAAyB,MAAhByyC,EAAOzyC,MAAkByyC,EAAY,MAAMA,EAAOhlD,MAAQ,KAAAwH,mBAAmBi/C,WAAc,GAAK,IAC7GF,EAAah0C,MAAQA,EAErB+zC,EAAc97B,KAAK+7B,GACnB1yC,IAEJqyC,EAAW9C,QAAUkD,EAIrB,IAAIuwB,EAAoB,IAAIC,kBAC5BD,EAAkB3wB,WAAahwB,KAAKE,UAAU8vB,GAC9C2wB,EAAkB7vB,SAAWxrC,OAAOiB,SAASid,KAC7Cm9C,EAAkB9vB,SAAW1tD,EAAQmrD,eAAgB7sD,KACrDk/E,EAAkB1sB,WAAaA,EAE/BnzD,KAAKiwD,mBAAmBC,4BAA4BgnB,KAAM2I,EAAoBt+C,IAG1E,GAA0B,MAAtBvhC,KAAK4uD,cACT,CACI,iBAAAnkD,eAAexJ,IAAiBjB,KAAK2uD,WAAa,gBAAgBjG,SAAS,gBAC3E,IAAIq3B,EAAyB,EACNA,EAAnB19E,EAAQurD,WAAqC,KAClB,GAE/B,KAAAziD,KAAK,+FAEN40E,EAAyB,uCACvBzpE,eAAe,QAIwB,MAAxCupE,EAAkBG,qBAClBH,EAAkBG,mBAAqB,eAE3ChgF,KAAK4uD,cAAgBrtB,EAASs+C,EAAkBG,oBAChD,KAAAltE,OAAO,gCAES,MAAZqtB,GACAA,MAOJ,YAAYgzB,EAAoBsV,GAAmB,GAEvD,IAAIpmE,EAAUrC,KAAK+sC,aACnB,GAAwC,kBAA5B1qC,EAAsB,eAC9B,OAGJ,IAAI49E,EAAqB,IAAIC,mBAC7BD,EAAmBjwB,SAAWxrC,OAAOiB,SAASid,KAC9Cu9C,EAAmBlwB,SAAW1tD,EAAQmrD,eAAgB7sD,KACtDs/E,EAAmB9sB,WAAaA,EAEhCnzD,KAAKiwD,mBAAwCC,4BAA4B0vB,MAAOK,EAAqB1+C,IAE7FknC,IAEAzoE,KAAK4uD,cAAgB,KACrB5uD,KAAKqzD,cAAa,EAAMrzD,KAAK4vD,8BAQzC,gBAEI,OAAO5vD,KAAKqwD,eAGhB,eAEI,OAAOrwD,KAAK4uD,cAGR,WAAWuE,GAEf,IAAI9wD,EAAUrC,KAAK+sC,aACnB,GAAwC,kBAA5B1qC,EAAsB,eAC9B,OAGJ,IAAI89E,EAAoB,IAAIC,kBAC5BD,EAAkBnwB,SAAWxrC,OAAOiB,SAASid,KAC7Cy9C,EAAkBpwB,SAAW1tD,EAAQmrD,eAAgB7sD,KACrDw/E,EAAkBhtB,WAAaA,EAE/BnzD,KAAKiwD,mBAAuCC,4BAA4ByvB,KAAMQ,EAAoB5+C,IAElE,MAAxBA,EAAS8+C,aAA0D,MAAnC9+C,EAAS8+C,YAAYnxB,YAErDlvD,KAAK4uD,cAAgBrtB,EAAS8+C,YAC9BrgF,KAAKqzD,cAAa,GAClB,KAAAvgD,OAAO,iCACP9S,KAAKo/E,WAAWl1C,SAGhB,KAAAp3B,OAAO,uCAKX,aAAa21D,GAAmB,EAAOvZ,GAE3C,GAA0B,MAAtBlvD,KAAK4uD,eAAuC,MAAdM,EAClC,CACI,IAAI7sD,EAAUrC,KAAK+sC,aACfwpC,EAAsB,MAAdrnB,EAAsBA,EAAahwB,KAAKC,MAAMn/B,KAAK4uD,cAAeM,YAE1EoxB,EAAwB/J,EAAKnqB,QAAQpB,UAAU91B,GAA8B,cAAzBA,EAAE+pB,MAAM3zB,eAC5Di1D,EAAmBhK,EAAKnqB,QAAQk0B,GAKpC,GAJwB,MAApBC,IACAA,EAAiBthC,MAAQ,cAGzB58C,EAAQurD,WAAiC,MAAnBvrD,EAAQwrD,QAClC,CACI,IAAI2yB,EAAiB,GACrB,GAAuD,MAAlDn+E,EAAQwrD,QAAgCE,OAEzC,IAAK,IAAIwmB,KAAWlyE,EAAQwrD,QAAgCE,OAA6BnxC,IAAIsY,GAAKA,EAAE+pB,OAChGuhC,EAAehtD,KAAK+gD,GAG5B,IAAK,IAAIkM,KAAgBD,EACrBxgF,KAAK0gF,YAAYD,GAAc,GAGvC,GAAoB,MAAhBlK,EAAK1oB,QACT,CACI,IAAIC,EAAmC,GACvC,GAAIpxC,MAAM4X,QAAQiiD,EAAK1oB,SACvB,CACI,IAAK,IAAIuO,KAAgBma,EAAK1oB,QAC1BC,EAAct6B,KAAK,CAAEyrB,MAAO,iBAAAj0C,eAAeoqC,UAAUgnB,KAEzD/5D,EAAQwrD,QAAU,IAAI,KAAA1sC,oBACtB9e,EAAQwrD,QAAQE,OAAS,iBAAA/iD,eAAeoqC,UAAU0Y,QAIlDA,EAAgB,iBAAA9iD,eAAeoqC,UAAUmhC,EAAK1oB,QAAQE,QACtD1rD,EAAQwrD,QAAU,iBAAA7iD,eAAeoqC,UAAUmhC,EAAK1oB,SAG/B,MAAjBC,GACA9tD,KAAKiqE,UAAUnc,EAAe2a,GAKtC,GAAqB,MAAjB8N,EAAKjqB,WAELjqD,EAAQiqD,SAAWiqB,EAAKjqB,SACpBmc,GACJ,CACI,IAAIxF,EAAc,iBAAAx4D,eAAexJ,IAAcjB,KAAK2uD,WAAa,gBACjE,IAAKsU,EAAY3rB,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAASyN,OAAO+sD,EAAKjqB,WAChE,CACI,IAAIhV,EAAQ2rB,EAAY3rB,QACxBA,EAAM9jB,KAAK,CAAEzgB,KAAMyW,OAAO+sD,EAAKjqB,UAAWjrD,MAAOmoB,OAAO+sD,EAAKjqB,YAC7D2W,EAAY3rB,MAAMA,GAEtB2rB,EAAY5hE,MAAMmoB,OAAO+sD,EAAKjqB,WAAW,GAOjD,GADAtsD,KAAKi7D,cAAa,GACW,MAAzBsb,EAAKnnB,kBAA4BmnB,EAAKnnB,iBAAiBhkD,OAAS,EACpE,CACI,IAAIu1E,EAA6B,IAAIh6E,IACrC,IAAK,IAAIwqE,KAAmBoF,EAAKnnB,iBAC7BuxB,EAA2BxpD,IAAIg6C,EAAgB,GAAIA,EAAgB,IAEvEnxE,KAAKyuD,4BAA8BkyB,EAWvC,GANA3gF,KAAK41D,YAAW,GACQ,MAApB2gB,EAAKlnB,cACLrvD,KAAKu7D,mBAAqBgb,EAAKlnB,aAIf,MAAhBknB,EAAKnqB,QACT,CACI,IAAK,IAAIw0B,KAAcrK,EAAKnqB,QAC5B,CACI,IAAIy0B,EAAgBx+E,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAAS2hC,EAAW3hC,OAAO,GAC9E,GAAqB,MAAjB4hC,EACJ,CACI,IAAIC,EAAqBz+E,EAAQ+pD,QAASr3B,QAAQ8rD,GAOlD,GANCx+E,EAAQ+pD,QAAS00B,GAA4BjkE,MAAQ+jE,EAAW/jE,OAErC,IAAxB+jE,EAAWlxB,WACXrtD,EAAQ+pD,QAAS00B,GAAoBvlE,MAAQqlE,EAAWrlE,QAGhC,IAAxBqlE,EAAWlxB,SACf,CACI,IAAIqxB,EAAW,KAAA51E,KAAKnL,KAAKqxD,YAAYv1C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,GAC9E58C,EAAQ4qD,UAAwB,MAAZ8zB,IACpBA,EAAW,KAAA51E,KAAKnL,KAAKoxD,kBAAkBt1C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,IAExF8hC,EAAStlE,MAAMF,MAAQqlE,EAAWrlE,MAAQ,KAEtClZ,EAAQkqD,aAEsE,MAA1E,KAAAphD,KAAKnL,KAAKyxD,aAAa31C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,KACpE,KAAA9zC,KAAKnL,KAAKyxD,aAAa31C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,GAAGxjC,MAAMF,MAAQqlE,EAAWrlE,MAAQ,MAExGlZ,EAAQ4qD,UAE4E,MAAhF,KAAA9hD,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,KAC1E,KAAA9zC,KAAKnL,KAAKwxD,mBAAmB11C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,GAAGxjC,MAAMF,MAAQqlE,EAAWrlE,MAAQ,OAKtHvb,KAAKqyD,cAEwE,MAAzE,KAAAlnD,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,KACnE,KAAA9zC,KAAKnL,KAAK+xD,YAAYj2C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,GAAGxjC,MAAMF,MAAQqlE,EAAWrlE,MAAQ,MAEvGlZ,EAAQ4qD,UAE2E,MAA/E,KAAA9hD,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,KACzE,KAAA9zC,KAAKnL,KAAKoyD,kBAAkBt2C,KAAK,aAAe8kE,EAAW3hC,MAAQ,MAAM,GAAGxjC,MAAMF,MAAQqlE,EAAWrlE,MAAQ,OAOzHqlE,EAAW5xB,OACXhvD,KAAKipE,WAAW2X,EAAW3hC,OAAO,GAElCj/C,KAAKkpE,WAAW0X,EAAW3hC,OAAO,GAElC2hC,EAAWjxB,OACX3vD,KAAKspE,WAAWsX,EAAW3hC,OAAO,GAElCj/C,KAAK6pE,aAAa+W,EAAW3hC,OAAO,IAGhD58C,EAAQ+pD,QAASz2B,UAAU,SAG3B,IAAIkmC,EAAY,KAAA1wD,KAAKnL,KAAKqxD,YAAYv1C,KAAK,uBAAuBe,QAClE,IAAK,IAAImxC,KAAU3rD,EAAQ+pD,QAC3B,CAEI,IAAI40B,EAAW,KAAA71E,KAAKnL,KAAKqxD,YAAYv1C,KAAK,mBAAqBkyC,EAAO/O,MAAQ,MAAM,GAKpF,GAJA,KAAA9zC,KAAK,KAAAA,KAAKnL,KAAKqxD,YAAYv1C,KAAK,YAAY+/C,IAAYhiC,YAAYmnD,GAIhE3+E,EAAQkqD,WACZ,CACI,IAAI00B,EAAY,KAAA91E,KAAKnL,KAAKyxD,aAAa31C,KAAK,mBAAqBkyC,EAAO/O,MAAQ,MAAM,GACtF,KAAA9zC,KAAK,KAAAA,KAAKnL,KAAKyxD,aAAa31C,KAAK,YAAY+/C,IAAYhiC,YAAYonD,GAKzE,GAAIjhF,KAAKqyD,YACT,CACI,IAAI6uB,EAAW,KAAA/1E,KAAKnL,KAAK+xD,YAAYj2C,KAAK,mBAAqBkyC,EAAO/O,MAAQ,MAAM,GACpF,KAAA9zC,KAAK,KAAAA,KAAKnL,KAAK+xD,YAAYj2C,KAAK,YAAY+/C,IAAYhiC,YAAYqnD,GAKxE,GAAI7+E,EAAQurD,UACZ,CACI,IAAIuzB,EAAc,KAAAh2E,KAAKnL,KAAK6xD,UAAU/1C,KAAK,uBAAyBkyC,EAAO/O,MAAQ,MAAM,GACzF,KAAA9zC,KAAK,KAAAA,KAAKnL,KAAK6xD,UAAU/1C,KAAK,gBAAgB+/C,IAAYhiC,YAAYsnD,IAM9EnhF,KAAK84D,mBAIL2P,IAEA,KAAA9qD,WAAW,qBAAuB3d,KAAK2uD,YACnC3uD,KAAKwuD,oBAAoBpjD,OAAS,KAClC,KAAAmS,WAAWvd,KAAKsC,aAAa,EAAM,qBAAuBtC,KAAK2uD,YAEnEnqC,OAAOwa,WAAW,KAEd,KAAA7zB,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAASzB,SACnCra,KAAKm4D,WAAWn4D,KAAKwuD,qBACrB,KAAA7wC,WAAW,qBAAuB3d,KAAK2uD,aACxC,OAxrUnB,kBAusUA,MAAMyyB,mBAkBN,IAAK9oB,oBAoXA/E,eAsKArD,6BA1hBL,SAAKoI,GAED,uBACA,uBACA,mBACA,qBACA,+CANJ,CAAKA,0CAAmB,KAWxB,MAAauiB,2BAAb,4DASA,MAAawG,2BAA2BxG,2BAAxC,8CAKA,MAAazb,yBAAyByb,2BAAtC,0CAOA,MAAM3gB,iBAMN,MAAal4C,sBAAb,kDAYA,MAAag+C,2BAA2Bh+C,sBAAxC,8CAMA,MAAai+C,yBAAyBj+C,sBAAtC,0CAOA,MAAao+C,0BAA0Bp+C,sBAAvC,4CAMA,MAAas+C,0BAA0Bt+C,sBAAvC,4CAWA,MAAas/D,0BAA0BF,mBAAvC,4CAQA,MAAM/nB,mBAMN,MAAMwd,6BAYN,MAAM9lB,0BAQN,MAAawwB,yBAAyBH,mBAAtC,0CAOA,MAAM5mB,wBAKN,MAAa+E,mBAAb,4CAQA,MAAayB,kBAAb,0CAOA,MAAae,sBAAb,kDAKA,MAAaN,yBAAb,wDASA,MAAaJ,oBAAb,8CAYA,MAAawF,wBAAb,sDAKA,MAAa2B,sBAAb,kDAOA,MAAaxB,0BAAb,0DAKA,MAAa2U,sBAOT,iBAEI37E,KAAK+jB,oBAAqB,GATlC,oDAeA,MAAas4D,2BAAb,4DAQA,MAAME,wBAKN,MAAaiF,iCAAiCJ,mBAA9C,0DAQA,MAAanzB,oBAAb,8CASA,MAAM6U,+BAWN,MAAMM,qBAQN,MAAMqe,kCAUN,MAAMtd,uBAMN,MAAMud,oBAWN,MAAanH,cAAb,kCAKA,MAAME,eAkBN,MAAMO,sBAWN,MAAM2G,uBAON,MAAMC,iBAQN,MAAMnF,wBAaN,MAAMC,sBAaN,MAAMmF,wBAAwBT,mBAK9B,MAAMU,wBAAwB,SAAAjjE,iBAQ9B,MAAM++D,kCAAkCkE,iBACxC,MAAMjE,iCAAiCiE,iBACvC,MAAMjD,kCAAkCiD,iBACxC,MAAM3C,iCAAiC2C,iBACvC,MAAMhF,mCAAmCgF,iBACzC,MAAM9E,kCAAkC8E,kBAIxC,SAAKvuB,GAED,2BACA,yBACA,+BAJJ,CAAKA,gCAAc,KASnB,MAAa6C,oBAAb,8CAUA,MAAM2a,wBAQN,MAAMC,0BAQN,MAAM1a,4BAKN,MAAMiB,0BASN,MAAMwqB,kBAMN,MAAM5N,gBAON,MAAMxb,oBAWN,MAAM4R,uBASN,MAAM9c,oBASN,MAAM0B,qBASN,MAAMK,kBAUN,MAAMswB,mBAWN,MAAMM,mBAUN,MAAM4B,oBAKN,MAAM9B,oBAQN,MAAM+B,qBAKN,MAAMnyB,sBASN,MAAMoyB,aAQN,SAAKhyB,GAED,mBACA,mBACA,qBACA,iBALJ,CAAKA,0DAA2B,KAShC,MAAMsJ,gBAON,MAAasM,QAQT,YAAiClpC,GAE7B,IAAIulD,EAAiB,KAAAh3E,KAAKnL,KAAKqL,SAASyQ,KAAK,iBAAmB8gB,EAAa,MAAM,GACnF,OAAsB,MAAlBulD,EACO,iBAAA13E,eAAexJ,IAAOkhF,EAAehsE,IAErC,MAdnB,yB,0JCh1VA,aAIA,qBAGQ,kBAAkB7B,EAAqBjS,GAE7CrC,KAAKoiF,0BAA0B9tE,EAAa+tE,EAAcC,IAAKjgF,GAAS,GAGlE,gBAAgBmS,EAAcnS,GAEpCrC,KAAKoiF,0BAA0B5tE,EAAM6tE,EAAcC,IAAKjgF,GAGlD,kBAAkBmS,EAAcnS,GAEtCrC,KAAKoiF,0BAA0B5tE,EAAM6tE,EAAcl+E,MAAO9B,GAGpD,iBAAiBG,EAAmBH,GAEtCG,EAAU0I,WAAW,OACxB1I,EAAYA,EAAUyoB,OAAO,IAE9BjrB,KAAKoiF,0BAA0B5/E,EAAW+/E,EAAgBC,KAAMngF,GAG1D,oBAAoBgJ,EAAwChJ,GAElE,IAAIG,EAAY,GACQ,iBAAb,IACVA,EAAY,EAAA2I,KAAKE,GAAS,GAAG8K,IAEb,IAAb3T,GAAgC,MAAbA,IAEtB,EAAA2I,KAAKE,GAAS,GAAG8K,GAAK,eACtB3T,EAAY,gBAGRA,EAAU0I,WAAW,OACzB1I,EAAY,IAAMA,GAEJ,MAAXH,IAAiBA,EAAU,IAAIogF,GACnC,EAAAt3E,KAAK3I,GAAWkgF,UAAU,CACzBC,UAAWtgF,EAAQsgF,UACnBC,mBAAoBvgF,EAAQugF,mBAC5BC,WAAYxgF,EAAQwgF,WACpBl2B,OAAQtqD,EAAQsqD,OAChBD,OAAQrqD,EAAQqqD,OAChBo2B,cAAezgF,EAAQygF,cACvBC,MAAO1gF,EAAQ0gF,MACfC,YAAa3gF,EAAQ2gF,YACrBC,WAAW,EACXC,aAAa,EACbC,WAAY,KAEM,iBAAb3gF,IACH,EAAA2I,KAAKE,GAAS,GAAG8K,GAAK,IAEI,MAAvB9T,EAAS8gF,YACZ9gF,EAAS8gF,gBAKL,iCAAiCC,EAAuBp6E,EAA8B3G,EAA4B8lB,GAAkB,GAE3I,GAAqB,IAAjBi7D,EACH,OAED,IAAIntE,OAAQyH,EACR2lE,EAAgB,SAAU,IAAIhgE,MAAOigE,iBACrC9jB,OAAY9hD,EACD,MAAXrb,IAEiB,MAAhBA,EAAQ2G,OAAcA,EAAO3G,EAAQ2G,MACd,MAAvB3G,EAAQkhF,cAAqBttE,EAAQ5T,EAAQkhF,aACpB,MAAzBlhF,EAAQghF,gBAAuBA,EAAgBhhF,EAAQghF,eAClC,MAArBhhF,EAAQm9D,YAAmBA,EAAYn9D,EAAQm9D,YAGpD,IAAIgkB,EAAiB,IAAIC,EACzBD,EAAeE,UAAYN,EAC3BI,EAAex6E,KAAOA,EACtBw6E,EAAer7D,OAASA,EACxBq7D,EAAe72B,OAAS12C,EACxButE,EAAeH,cAAgBA,EAC/BG,EAAe/nE,MAAQ+jD,EACvBx/D,KAAK2jF,MAAMH,GAKL,iBAAiBI,EAAevhF,GAEtC,GAAgB,MAAZuhF,EACH,OAED,IAAIC,OAAYnmE,EACZomE,OAAapmE,EACb+X,EAA8B,KAC9Bxf,OAAQyH,EACRqmE,GAA0B,EAC1BV,EAAgB,SAAU,IAAIhgE,MAAOigE,iBAC1B,MAAXjhF,IAEsB,MAArBA,EAAQwhF,YAAmBA,EAAYxhF,EAAQwhF,WACzB,MAAtBxhF,EAAQyhF,aAAoBA,EAAazhF,EAAQyhF,YAC3B,MAAtBzhF,EAAQozB,aAAoBA,EAAapzB,EAAQozB,YAC1B,MAAvBpzB,EAAQkhF,cAAqBttE,EAAQ5T,EAAQkhF,aACT,MAApClhF,EAAQ2hF,2BAAkCD,EAA0B1hF,EAAQ2hF,0BACnD,MAAzB3hF,EAAQghF,gBAAuBA,EAAgBhhF,EAAQghF,gBAG5D,IAAIG,EAAiB,IAAIC,EACzBD,EAAeE,UAAYE,EAC3BJ,EAAex6E,KAAOu5E,EAAgB0B,KACtCT,EAAe/tD,WAA4B,MAAdA,EAAsB30B,OAAOogC,oBAAoB0iD,GAAYnuD,EAC1F+tD,EAAeU,gBAAkBL,EACjCL,EAAeW,UAAYL,EAC3BN,EAAe72B,OAAS12C,EACxButE,EAAeY,kBAAoBL,EACnCP,EAAeH,cAAgBA,EAC/BrjF,KAAK2jF,MAAMH,GAIJ,aAAanhF,GAEpBgiF,QAAQhiF,KAKV,MAAMohF,GAcN,IAAKlB,EAQOF,GARZ,SAAKE,GAEJ,YACA,cACA,gBACA,cALD,CAAKA,MAAe,KAQpB,SAAYF,GAEX,YACA,gBAHD,CAAYA,EAAA,EAAAA,gBAAA,EAAAA,cAAa,KAMzB,2BASA,MAAaI,GAAb,sBA2BA,SAAWlpE,GAGV,SAAS+qE,EAAcC,EAAUvuE,GAE3BA,GAGLuuE,EAAI/qD,OAAOxjB,EAAQwuE,OAASxuE,EAAQiuD,QAAUjuD,GAG/C,SAASyuE,EAAWC,EAAYC,EAAeC,GAI9C,IA6BgC3gB,EAAY4gB,EAExCC,EA/BAC,EAAWJ,EAAS1gB,MAAM2gB,EAAII,YAE9BJ,EAAII,aA2BwB/gB,EAvBV8gB,EAuBsBF,EAvBZ,mBAyB5BC,EAzBQH,EAyBmB7oE,KAAK+oE,GAEpC5gB,EAAMnoD,KAAK+oE,GAAiBj/D,MAAK,SAAU/I,EAAY6X,GAEtDnb,EAAEmb,GAAM4C,IAAIwtD,EAAkBG,GAAGpoE,GAAOya,WA1BrCstD,EAAI9B,eAEPiC,EAASjpE,KAAK,UAAUzB,SAGrBuqE,EAAIM,eAGPH,EAAS1rD,SAASqrD,GAIlBK,EAASn/D,MAAK,SAAU/I,EAAexR,GAEtCkO,EAAElO,GAASkP,WAAW8e,SAASqrD,MAgBlC,IAAIE,EACHrrE,EAAE7C,GAAWgsE,UAAY,SAAUrgF,GAEnCuiF,EAAMrrE,EAAE5C,OAAO,GAAK4C,EAAE7C,GAAWgsE,UAAUyC,SAAU9iF,GACrD,IAAIsiF,EAAW3kF,gBAAgByW,OAASzW,KAAOuZ,EAAEvZ,MAE7ColF,EAAe,cAAe,IAAK/hE,MAAQgJ,UAE/C,GAAI7H,OAAOiB,SAASC,WAAa1Z,SAASq5E,QAAU99D,UAAUwgB,UAAU5U,MAAM,SAC9E,CAGC,IAAImyD,EAAY,+DAAmEt5E,SAASq5E,OAA5E,uCACZE,EAASv5E,SAAS4b,cAAc,UACpC29D,EAAO5kF,KAAO,cACd4kF,EAAOpvE,GAAKivE,EACZG,EAAO3mD,UAAY,OACnB5yB,SAASC,KAAK4b,YAAY09D,GAC1BA,EAAOC,IAAMF,MAGd,CAEc/rE,EAAE,eAAiB6rE,EAAe,2BACxC/rD,SAAS,QAGjB,IAAIosD,EAAUlsE,EAAE,IAAM6rE,GAGjBR,EAAI7B,OAAO0C,EAAQ1vE,IAAI,CAC3BxT,SAAU,WACVgZ,MAAO,MACPC,OAAQ,MACRuL,KAAM,SACNH,IAAK,WAIyB,mBAApBg+D,EAAI5B,aAEd4B,EAAI5B,cAILhkD,YAAW,WAeN4lD,EAAIc,eAXR,SAAoBD,EAAcE,GAEjC,IAAIC,EAAK9gD,GAGTA,GADA8gD,GADAA,EAAMH,EAAQxkF,IAAI,IACR4kF,eAAiBD,EAAI/pE,iBAAmB+pE,GACxC55E,UAAY45E,EAAI/pE,iBAAmB+pE,GACzCjyE,OACJmxB,EAAIghD,MAAMH,GACV7gD,EAAIoF,QAKJ67C,CAAWN,EAASb,EAAIc,eAGzB,IAICM,EAJGC,EAAOR,EAAQS,WAClBC,EAAQF,EAAKnqE,KAAK,QAClB4oE,EAAQuB,EAAKnqE,KAAK,QAClBsqE,EAAQ7sE,EAAE,QAOVysE,GAHgB,IAAbpB,EAAIyB,MAAiBD,EAAMh7E,OAAS,EAG7Bg7E,EAAMt6E,KAAK,QACS,iBAAb84E,EAAIyB,KAGXzB,EAAIyB,KAIJr6E,SAASyZ,SAAS6gE,SAAW,KAAOt6E,SAASyZ,SAAS8gE,KAGjEJ,EAAM3sD,OAAO,eAAiBwsD,EAAU,MAGpCpB,EAAI3B,WAAW1pE,EAAE,wBAAwBqM,MAAK,SAAU/I,EAAexR,GAE1E,IAAIq3B,EAAOnpB,EAAElO,GAASS,KAAK,QAC3B,GAAI42B,EACJ,CACC,IAAI8jD,EAAQjtE,EAAElO,GAASS,KAAK,UAAY,MACxCq6E,EAAM3sD,OAAO,gDAAkDkJ,EAAO,YAAc8jD,EAAQ,UAK1F5B,EAAI1B,aAAa3pE,EAAE,SAASqM,MAAK,SAAU/I,EAAexR,GAE7D86E,EAAM3sD,OAAOnuB,EAAQo7E,cAIlB7B,EAAIjC,WAAWwD,EAAM3sD,OAAO,UAAYorD,EAAIjC,UAAY,YAGxDiC,EAAI8B,UAEHntE,EAAE+a,QAAQswD,EAAI8B,SAEjBjwE,OAAOmP,KAAKg/D,EAAI8B,SAAS,SAAU7pE,EAAYxb,GAE9C8kF,EAAM3sD,OAAO,gDAAkDn4B,EAAQ,SAIxE8kF,EAAM3sD,OAAO,gDAAkDorD,EAAI8B,QAAU,OAI/E,IAAIC,EAAWptE,EAAE,QAAQ,GAGzB0sE,EAAKnqE,KAAK,QAAQuhC,KAAK,QAASspC,EAASlrE,MAAMC,SAG/C,IAAI+B,EAAMmnE,EAAIgC,eAiBd,GAhBInpE,KAGuB,KAD1BA,GAAc,IAARA,EAAe,KAAOA,GACpBsX,QAAQ,MAEf2vD,EAAM5pD,SAASvhB,EAAE,QAAQ,GAAGqlB,YAEH,IAAtBnhB,EAAIsX,QAAQ,MAEfkxD,EAAKnqE,KAAK,QAAQgf,SAAS6rD,EAAS/nD,YAKtC0lD,EAAcI,EAAOE,EAAIj4B,QAErBi4B,EAAIiC,OACR,CAEC,IAAIC,EAAW,EAEdnC,EAAiB7oE,KAAK,UAAUirE,QAAQ,UAAUnhE,MAAK,SAAU/I,EAAexR,GAEhFkO,EAAElO,GAASS,KAAK,iBAAkBg7E,QA+BpC,GA3BArC,EAAWC,EAAOC,EAAUC,GAExBA,EAAIiC,QAGPnC,EAAM5oE,KAAK,UAAU8J,MAAK,SAAU/I,EAAexR,GAElD,IAAI27E,EAAMztE,EAAElO,GAASg1B,KAAK,aACzB4mD,EAAO1tE,EAAE,oBAAsBytE,EAAM,MAEtC37E,EAAQ67E,WAAW,MAAMC,UAAUF,EAAK,GAAI,EAAG,GAG3C1tE,EAAE6tE,WAAW7tE,EAAE7C,GAAG6yC,YAErB09B,EAAK19B,WAAW,kBAGhBhwC,EAAEqM,KAAKqhE,GAAM,SAAU7mF,EAAQinF,GAE9BA,EAAG5oD,gBAAgB,wBAOnBmmD,EAAI0C,aACR,CAEC,IAAIC,EAAW3C,EAAI4C,sBAAwB,IAEvCjuE,EAAE6tE,WAAY7tE,EAAUgwC,YAE3Bm7B,EAAM5oE,KAAKyrE,GAAUh+B,WAAW,SAGhCm7B,EAAM5oE,KAAKyrE,GAAUz7E,KAAK,QAAS,IAKrCw4E,EAAcI,EAAOE,EAAIl4B,QAGzB,SAAkC+4B,EAAcgC,GAE/C,IAAI7B,EAAMH,EAAQxkF,IAAI,GACtB2kF,EAAMA,EAAIC,eAAiBD,EAAI/pE,iBAAmB+pE,EAEhB,mBAAvB6B,IAEN,eAAgB7B,EAEnBA,EAAI8B,WAAW,SAASC,aAAY,SAAUC,GAEzCA,EAAIC,SAASJ,OAIlB7B,EAAIkC,cAAgBL,GAIvBM,CAAyBtC,EAASb,EAAIoD,kBAEtChpD,YAAW,WAENymD,EAAQnnD,SAAS,SAInB9Z,OAAOyjE,OAA4B,YAAEngE,QACtCq+D,EAAM3sD,OAAO,yCAITxtB,SAASk8E,sBAAsB,SAEjCzC,EAAQ,GAAWI,cAAc75E,SAASgc,YAAY,SAAS,EAAO,OAGtEy9D,EAAQ,GAAWI,cAAc/9D,QACjC29D,EAAQ,GAAWI,cAAclC,SAK/BiB,EAAI7B,OAER/jD,YAAW,WAEVymD,EAAQprE,WAEN,KAI0B,mBAAnBuqE,EAAIzB,YAEdyB,EAAIzB,eAGHyB,EAAI/B,cAEL,MAKHtpE,EAAE7C,GAAWgsE,UAAUyC,SAAW,CAClCpC,OAAO,EACPE,WAAW,EACXC,aAAa,EACbgC,gBAAgB,EAChBwB,QAAS,GACT/D,UAAW,GACX2E,cAAc,EACdE,qBAAsB,IACtB3E,WAAY,IACZl2B,OAAQ,KACRD,OAAQ,KACR25B,MAAM,EACNrB,YAAY,EACZ6B,QAAQ,EACRnB,cAAe,kBACf5C,eAAe,EACf8D,gBAAgB,EAChBoB,iBAAkB,KAClBhF,YAAa,KACbG,WAAY,MArVd,CAuVG1sE,S,+LChiBH,aACA,OAGA,iBAOC,YAAY1D,EAAc1Q,GAGV,MAAXA,IACHA,EAAU,IAAI,EAAA6Q,iBAEK,MAAhB7Q,EAAQ2G,OAAc3G,EAAQ2G,KAAO,EAAAoI,iBAAiBwgB,SACrC,MAAjBvvB,EAAQkZ,QAAelZ,EAAQkZ,MAAS,EAAA5G,cAAcG,WAAc,OAA6B,MAAlBzS,EAAQ8gC,OAAkB,YAAc,eACvG,MAAhB9gC,EAAQ05B,OAAc15B,EAAQ05B,MAAO,GACjB,MAApB15B,EAAQE,WAAkBF,EAAQE,SAA8B,MAAlBF,EAAQ8gC,OAAkB,EAAA9xB,qBAAqB82E,UAAY,EAAA92E,qBAAqB+2E,aACtG,MAAxB/lF,EAAQgmF,eAAsBhmF,EAAQgmF,aAAe,IAAIC,GACxB,MAAjCjmF,EAAQgmF,aAAaE,WAAsD,IAAlClmF,EAAQgmF,aAAaE,WAAmBlmF,EAAQgmF,aAAaE,SAAW,KAC7E,MAApClmF,EAAQgmF,aAAaG,cAAqBnmF,EAAQgmF,aAAaG,aAAc,IACxC,IAArCnmF,EAAQgmF,aAAaG,cAAsBnmF,EAAQgmF,aAAaE,UAAW,GAC1C,MAAjClmF,EAAQgmF,aAAaI,WAAkBpmF,EAAQgmF,aAAaI,SAAW,KACrC,MAAlCpmF,EAAQgmF,aAAaK,YAAmBrmF,EAAQgmF,aAAaK,UAAY,EAAAn3E,kBAAkBo3E,SAEnE,MAAxBtmF,EAAQgsD,eAAsBhsD,EAAQgsD,aAAe,IAAIu6B,GACxB,MAAjCvmF,EAAQgsD,aAAao6B,WAAkBpmF,EAAQgsD,aAAao6B,SAAW,KACrC,MAAlCpmF,EAAQgsD,aAAaq6B,YAAmBrmF,EAAQgsD,aAAaq6B,UAAY,EAAAp3E,kBAAkBu3E,WAElE,MAAzBxmF,EAAQ25B,gBAAuB35B,EAAQ25B,cAAgB,IAAI,EAAAhe,eACvB,MAApC3b,EAAQ25B,cAAc2e,aAAoBt4C,EAAQ25B,cAAc2e,WAAa,WAC1C,MAAnCt4C,EAAQ25B,cAAcmnB,YAAmB9gD,EAAQ25B,cAAcmnB,UAAY,QAC3C,MAAhC9gD,EAAQ25B,cAAcqnB,SAAgBhhD,EAAQ25B,cAAcqnB,OAAS,WAErE,EAAA1uC,cAAcG,aAEK,MAAlBzS,EAAQ8gC,OAAgB9gC,EAAQE,SAAW,EAAA8O,qBAAqB82E,UAC/D9lF,EAAQE,SAAW,EAAA8O,qBAAqBy3E,cAI9C9oF,KAAK26B,SAAWt4B,EAGXrC,KAAK+oF,eAEgD,GAArD,EAAA59E,KAAK,kBAAoB9I,EAAQE,UAAU6I,QAC9C,EAAAD,KAAK,6BAA+B9I,EAAQE,SAAW,YAAY82B,SAA0B,MAAhB,EAAAttB,aAAwB,EAAAA,aAAeC,SAASC,MAE1H,EAAA0I,cAAcG,aAE0B,MAAvC,EAAA3J,KAAK,4BAA4B,KACpC,EAAAA,KAAK,4BAA4B,GAAGsQ,MAAMC,SAAW,wCAER,MAA1C,EAAAvQ,KAAK,+BAA+B,KACvC,EAAAA,KAAK,+BAA+B,GAAGsQ,MAAMC,SAAW,0CAK3D1b,KAAKgpF,oBAAoBj2E,GACzB/S,KAAKkc,OAGE,oBAAoBnJ,GAE3B,IAAI1Q,EAAUrC,KAAK+sC,aACfk8C,EAAiBjpF,KAAKkpF,oBAE1BlpF,KAAKmpF,WAAa,EAAAxzE,IAAIszE,EAAgB,CAAE/yE,MAAO,sBAAuBH,IAA8B,MAAxB1T,EAAQy5B,aAAwBz5B,EAAQy5B,aAAe,KAAM,GACzI97B,KAAKopF,OAAS,EAAAzzE,IAAI3V,KAAKmpF,WAAY,CAAEjzE,MAAO,oBAC5ClW,KAAK06B,SAAW,EAAA/kB,IAAI3V,KAAKmpF,WAAY,CAAEjzE,MAAO,eAAmC,MAAjB7T,EAAQ6T,MAAiB7T,EAAQ6T,MAAQ,IAAKH,IAAqB,MAAf1T,EAAQ0T,IAAe1T,EAAQ0T,IAAM,KAErJ,EAAApB,cAAcG,aACjB9U,KAAKmpF,WAAW1tE,MAAMC,SAAW,cAG9BrZ,EAAQ05B,MACX,EAAA5wB,KAAKnL,KAAK06B,UAAU3kB,IAAI,cAAe,OAIhB,MAApB1T,EAAQ4Y,WACXjb,KAAK06B,SAASjf,MAAMC,SAAW,cAAgBrZ,EAAQ4Y,SAAW,KAI/Djb,KAAK+oF,cAEuB,iBAAnB1mF,EAAc,QAAkBA,EAAQ8gC,OAAOj4B,WAAW,OACrE7I,EAAQ8gC,OAAS,IAAM9gC,EAAQ8gC,QAEhC9gC,EAAQ8gC,OAAS,EAAAh4B,KAAK9I,EAAQ8gC,QAAQ,GACtC,EAAAh4B,KAAKnL,KAAKmpF,YAAYnvD,aAAa33B,EAAQ8gC,QAE3CnjC,KAAKmpF,WAAW1tE,MAAMC,SAAW,kEACjC1b,KAAKopF,OAAO3tE,MAAMC,SAAW,kBAC7B1b,KAAK06B,SAASjf,MAAMC,SAAW,wBAI/B1b,KAAKmpF,WAAW1tE,MAAMC,SAAW,mCACjC1b,KAAKopF,OAAO3tE,MAAMC,SAAW,iBAC7B1b,KAAK06B,SAASjf,MAAMC,SAAW,uBAKX,MAAjBrZ,EAAQkZ,OACX,EAAApQ,KAAKnL,KAAK06B,UAAUnf,MAAMlZ,EAAQkZ,OAGnC,IAAIL,EAAQ7Y,EAAQ25B,cAAemnB,UAC/BC,EAAkB/gD,EAAQ25B,cAAe2e,WACzC2I,EAAcjhD,EAAQ25B,cAAeqnB,OACrCroC,EAAY3Y,EAAQ0Y,KAGxB,OAAQ1Y,EAAQ2G,MAEf,KAAK,EAAAoI,iBAAiBxF,MAEpBsP,EAAQ,UACRkoC,EAAkB,UAClBE,EAAc,UACdtoC,EAAY,EAAArO,mBAAmB08E,kBAEhC,MACD,KAAK,EAAAj4E,iBAAiBgC,QAEpB8H,EAAQ,UACRkoC,EAAkB,UAClBE,EAAc,UACdtoC,EAAY,EAAArO,mBAAmBwpC,oBAEhC,MACD,KAAK,EAAA/kC,iBAAiBoC,KAEpB0H,EAAQ,UACRkoC,EAAkB,UAClBE,EAAc,UACdtoC,EAAY,EAAArO,mBAAmB6G,KAEhC,MACD,KAAK,EAAApC,iBAAiBkC,QAEpB4H,EAAQ,UACRkoC,EAAkB,UAClBE,EAAc,UACdtoC,EAAY,EAAArO,mBAAmB6rC,MAkBlC,GAXiB,MAAbx9B,IAAsC,IAAjB3Y,EAAQ0Y,MAChC,EAAA5P,KAAKnL,KAAK06B,UAAUlB,OAAO,EAAAze,KAAKC,EAAkB,KAAM,CAAEjF,IAAK,wBAIhE,EAAA5K,KAAKnL,KAAK06B,UAAU3kB,IAAI,mBAAoBqtC,GAC5C,EAAAj4C,KAAKnL,KAAK06B,UAAU3kB,IAAI,QAASmF,GACjC,EAAA/P,KAAKnL,KAAK06B,UAAU3kB,IAAI,SAAU,aAAeutC,GAIvB,MAAtBjhD,EAAQinF,WAGX,GAAmC,iBAAvBjnF,EAAkB,WAC7B,EAAA8I,KAAKnL,KAAK06B,UAAUlB,OAAOn3B,EAAQinF,WAAWlvE,QAAQ,SAAUrH,QAEjE,CACC,IAAIgS,EAAQ,IAAIwkE,EAChBxkE,EAAM+lB,OAAS9qC,KACf+kB,EAAMsnD,aAAersE,KAAK06B,SAC1Br4B,EAAQinF,WAAWvkE,QAKpB,EAAA5Z,KAAKnL,KAAK06B,UAAUlB,OAAO,UAAYzmB,EAAO,YAG/C,GAAI/S,KAAK+oF,aACT,CAEC,IAAIS,EAAiB,kGAAoGpmC,EAAkB,IACvIqmC,EAAoB,qGAAuGrmC,EAAkB,IAC7IsmC,EAAkB,mGAAqGtmC,EAAkB,IACzIumC,EAAmB,oGAAsGvmC,EAAkB,IAG3IwmC,EAAa5pF,KAAK6pF,gBAAgBhiC,WAClCiiC,EAAa,KAAMC,EAAe,KAAMC,EAAgB,KAAMC,EAAc,KAChF,OAAQ5nF,EAAQE,UAGf,KAAK,EAAA8O,qBAAqB82E,UAGxB8B,GAD6E,GAA5DjqF,KAAKqL,UAAU02B,YAAc/hC,KAAK6pF,gBAAgBtuE,OAAe,EACzDquE,EACzBI,EAAgB,EAEhBhqF,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAa1b,KAAK6pF,gBAAgBtuE,MAAQ,EAAI,EAAKquE,GAAc,mBAAqBJ,EACnHxpF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,eAAiBD,EAAgB,MAE1F,MACD,KAAK,EAAA34E,qBAAqB64E,SAExBD,EAAcL,EAAa5pF,KAAK6pF,gBAAgBtuE,MAAQvb,KAAKqL,UAAU02B,YACvEioD,EAAgB,EAEhBhqF,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAa1b,KAAK6pF,gBAAgBtuE,MAAQ,EAAI,EAAKquE,GAAc,mBAAqBJ,EACnHxpF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,eAAiBD,EAAgB,MAE1F,MACD,KAAK,EAAA34E,qBAAqB84E,QAExBF,EAAcL,EACdI,EAAgB,EAEhBhqF,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAa1b,KAAK6pF,gBAAgBtuE,MAAQ,EAAI,EAAKquE,GAAc,mBAAqBJ,EACnHxpF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,eAAiBD,EAAgB,MAE1F,MAID,KAAK,EAAA34E,qBAAqB+2E,YACzB,CACC,IAAIgC,GAAyE,GAA7DpqF,KAAKqL,UAAU2mE,aAAehyE,KAAKmjC,SAAS6uC,cAAsB,EAClFiY,EAAejqF,KAAKmjC,SAASpB,YAAc,EAAK6nD,EAChDE,EAAaM,EAEbpqF,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAY1b,KAAK6pF,gBAAgBtuE,MAAQquE,GAAc,aAAe,EAAAz+E,KAAKnL,KAAKmjC,UAAU3K,SAAS5R,IAAO5mB,KAAKmjC,SAAS6uC,aAAe,EAAK,GAAK,MAAQ2X,EACtL3pF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MACnF9pF,KAAKmpF,WAAW1tE,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MAEtF,MACD,KAAK,EAAAz4E,qBAAqBg5E,SAExBJ,EAAejqF,KAAKmjC,SAASpB,YAAc,EAAK6nD,EAChDE,EAAa,EAEb9pF,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAY1b,KAAKmjC,SAASpB,YAAc6nD,GAAc,aAAgB5pF,KAAKmjC,SAAS6uC,aAAe,EAAK,GAAK,MAAQ2X,EAClJ3pF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MAEpF,MACD,KAAK,EAAAz4E,qBAAqBi5E,YACzB,CACC,IAAIF,EAAU78D,KAAKC,IAAKxtB,KAAKqL,UAAU2mE,aAAehyE,KAAKmjC,SAAS6uC,cACpEiY,EAAejqF,KAAKmjC,SAASpB,YAAc,EAAK6nD,EAChDE,GAAc,EAEd9pF,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAY1b,KAAKmjC,SAASpB,YAAc6nD,GAAc,aAAgB5pF,KAAKmjC,SAAS6uC,aAAe,EAAK,GAAK,MAAQ2X,EAClJ3pF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MAEpF,MAID,KAAK,EAAAz4E,qBAAqBk5E,WACzB,CACC,IAAIH,GAAyE,GAA7DpqF,KAAKqL,UAAU2mE,aAAehyE,KAAKmjC,SAAS6uC,cAAsB,EAClF+X,IAAiBH,EAAa,GAC9BE,EAAaM,EAEbpqF,KAAKopF,OAAO3tE,MAAMC,SAAW,WAAa,EAAe,aAAgB1b,KAAKmjC,SAAS6uC,aAAe,EAAK,GAAK,MAAQ0X,EACxH1pF,KAAK06B,SAASjf,MAAMC,SAAW,UAAYquE,EAAe,YAAcK,EAAU,MAEnF,MACD,KAAK,EAAA/4E,qBAAqBm5E,QAExBT,IAAiBH,EAAa,GAC9BE,EAAa,EAEb9pF,KAAKopF,OAAO3tE,MAAMC,SAAW,WAAa,EAAe,aAAgB1b,KAAKmjC,SAAS6uC,aAAe,EAAK,GAAK,MAAQ0X,EACxH1pF,KAAK06B,SAASjf,MAAMC,SAAW,UAAYquE,EAAe,YAAcD,EAAa,MAEtF,MACD,KAAK,EAAAz4E,qBAAqBo5E,WACzB,CACC,IAAIL,EAAU78D,KAAKC,IAAKxtB,KAAKqL,UAAU2mE,aAAehyE,KAAKmjC,SAAS6uC,cACpE+X,IAAiBH,EAAa,GAC9BE,GAAc,EAEd9pF,KAAKopF,OAAO3tE,MAAMC,SAAW,WAAa,EAAe,aAAgB1b,KAAKmjC,SAAS6uC,aAAe,EAAK,GAAK,MAAQ0X,EACxH1pF,KAAK06B,SAASjf,MAAMC,SAAW,UAAYquE,EAAe,YAAcD,EAAa,MAEtF,MAID,KAAK,EAAAz4E,qBAAqBy3E,aAGxBmB,GAD6E,GAA5DjqF,KAAKqL,UAAU02B,YAAc/hC,KAAK6pF,gBAAgBtuE,OAAe,EACzDquE,EACzBE,EAAa9pF,KAAK6pF,gBAAgBruE,OAAS,EAE3Cxb,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAa1b,KAAK6pF,gBAAgBtuE,MAAQ,EAAI,EAAKquE,GAAc,YAAc5pF,KAAK6pF,gBAAgBruE,OAAS,MAAQiuE,EAClJzpF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MAEpF,MACD,KAAK,EAAAz4E,qBAAqBq5E,YAExBT,EAAcL,EAAa5pF,KAAK6pF,gBAAgBtuE,MAAQvb,KAAKqL,UAAU02B,YACvE+nD,EAAa9pF,KAAK6pF,gBAAgBruE,OAAS,EAE3Cxb,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAa1b,KAAK6pF,gBAAgBtuE,MAAQ,EAAI,EAAKquE,GAAc,YAAc5pF,KAAK6pF,gBAAgBruE,OAAS,MAAQiuE,EAClJzpF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MAEpF,MACD,KAAK,EAAAz4E,qBAAqBs5E,WAExBV,EAAcL,EACdE,EAAa9pF,KAAK6pF,gBAAgBruE,OAAS,EAE3Cxb,KAAKopF,OAAO3tE,MAAMC,SAAW,UAAa1b,KAAK6pF,gBAAgBtuE,MAAQ,EAAI,EAAKquE,GAAc,YAAc5pF,KAAK6pF,gBAAgBruE,OAAS,MAAQiuE,EAClJzpF,KAAK06B,SAASjf,MAAMC,SAAW,SAAWuuE,EAAc,YAAcH,EAAa,MAMnE,MAAfG,GAAuBA,EAAc,IAExCjqF,KAAK06B,SAASjf,MAAMC,SAAW,aAC/B1b,KAAKmpF,WAAW1tE,MAAMC,SAAW,cAGhB,MAAdouE,GAAsBA,EAAa,IAEtC9pF,KAAK06B,SAASjf,MAAMC,SAAW,YAC/B1b,KAAKmpF,WAAW1tE,MAAMC,SAAW,aAOnC,EAAAvQ,KAAKnL,KAAK06B,UAAU7nB,OACpB,EAAA1H,KAAKnL,KAAKopF,QAAQv2E,OAGX,oBAEP,IAAIxQ,EAAUrC,KAAK+sC,aACfk8C,EAAqC,KAOzC,OAJCA,EADGjpF,KAAK+oF,aACS/8E,SAASC,KAET,EAAAd,KAAK,kBAAoB9I,EAAQE,UAE5C0mF,EAGR,YAEC,OAAOjpF,KAAKmpF,WAGb,QAAQ/vD,GAQP,OANa,MAATA,IAECA,EAAOp5B,KAAKkc,OACXlc,KAAK6S,QAGJ,EAAA1H,KAAKnL,KAAK06B,UAAU7uB,GAAG,YAG/B,KAAKkH,GAEJ,IAAI1Q,EAAUrC,KAAK+sC,aACfshB,EAAehsD,EAAQgsD,aACvBg6B,EAAehmF,EAAQgmF,aACvBI,EAAWp6B,EAAao6B,SAE5B,OAAQp6B,EAAaq6B,WAEpB,KAAK,EAAAp3E,kBAAkBsgB,QAAS,EAAAzmB,KAAKnL,KAAK06B,UAAUxe,KAAKusE,GAAW,MACpE,KAAK,EAAAn3E,kBAAkBs5E,OAAQ,EAAAz/E,KAAKnL,KAAK06B,UAAUmwD,OAAOpC,GAAW,MACrE,KAAK,EAAAn3E,kBAAkBu3E,UAAW,EAAA19E,KAAKnL,KAAK06B,UAAUowD,UAAUrC,GAAW,MAC3E,KAAK,EAAAn3E,kBAAkB8gB,KAAM,EAAAjnB,KAAKnL,KAAK06B,UAAUxe,OAAQ,MACzD,QACC,EAAA/Q,KAAKnL,KAAK06B,UAAUxe,KAAKusE,GAE3B,EAAAt9E,KAAKnL,KAAKopF,QAAQltE,QAEY,IAA1BmsE,EAAaE,SAChB/jE,OAAOwa,WAAW,IAAMh/B,KAAK6S,OAAQw1E,EAAaE,WACb,IAA7BF,EAAaG,aACrB,EAAAr9E,KAAKnL,KAAKmpF,YAAYhtE,GAAG,QAAU7B,GAAyBta,KAAK6S,QAEtD,MAARE,GACH,EAAA5H,KAAKnL,KAAK06B,UAAUlB,OAAO,UAAYzmB,EAAO,YAE/C,EAAA5H,KAAKnL,KAAK06B,UAAUve,GAAG,QAAS,KAE/B,GAAuB,MAAnB9Z,EAAQ85B,QACZ,CACC,IAAI2pB,EAAa,IAAIilC,EACrBjlC,EAAWhb,OAAS9qC,KACpB8lD,EAAW/yC,KAAOA,EAClB1Q,EAAQ85B,QAAQ2pB,MAKnB,KAAK/yC,GAEJ/S,KAAKkc,KAAKnJ,GAGX,OAEC,IACIs1E,EADUroF,KAAK+sC,aACQs7C,aAEvBI,EAAWJ,EAAaI,SAC5B,OAAQJ,EAAaK,WAEpB,KAAK,EAAAn3E,kBAAkBqgB,QAAS,EAAAzmB,KAAKnL,KAAK06B,UAAU7nB,KAAK41E,GAAW,MACpE,KAAK,EAAAl3E,kBAAkBy5E,QAAS,EAAA7/E,KAAKnL,KAAK06B,UAAUuwD,QAAQxC,GAAW,MACvE,KAAK,EAAAl3E,kBAAkBo3E,QAAS,EAAAx9E,KAAKnL,KAAK06B,UAAUwwD,QAAQzC,GAAW,MACvE,KAAK,EAAAl3E,kBAAkB6gB,KAAM,EAAAjnB,KAAKnL,KAAK06B,UAAU7nB,OAAQ,MACzD,QACC,EAAA1H,KAAKnL,KAAK06B,UAAU7nB,KAAK41E,GAE3B,EAAAt9E,KAAKnL,KAAKopF,QAAQv2E,OAElB2R,OAAOwa,WAAW,IAAM,EAAA7zB,KAAKnL,KAAKmpF,YAAY9uE,SAAUouE,GAGzD,QAECzoF,KAAK6S,OAGN,aAEC,OAAwB,MAAjB7S,KAAKmjC,SAGb,SAEC,OAAOnjC,KAAK+sC,aAAa5J,OAG1B,gBAEC,IAAI0mD,EAAgB,IAAIsB,EAUxB,OATAtB,EAActuE,MAAQvb,KAAKmjC,SAASpB,YACpC8nD,EAAcruE,OAASxb,KAAKmjC,SAAS6uC,aACrC6X,EAAcD,WAAa5pF,KAAKmjC,SAASymD,WACzCC,EAAcuB,UAAYprF,KAAKmjC,SAASioD,UACxCvB,EAAcwB,UAAY,EAAAlgF,KAAKnL,KAAKmjC,UAAUptB,IAAI,aAAas9B,iBAC/Dw2C,EAAcyB,YAAc,EAAAngF,KAAKnL,KAAKmjC,UAAUptB,IAAI,eAAes9B,iBACnEw2C,EAAc0B,aAAe,EAAApgF,KAAKnL,KAAKmjC,UAAUptB,IAAI,gBAAgBs9B,iBACrEw2C,EAAchiC,WAAa,EAAA18C,KAAKnL,KAAKmjC,UAAUptB,IAAI,cAAcs9B,iBAE1Dw2C,EAGR,UAEC,OAAO7pF,KAAK06B,SAGb,aAEC,OAAO16B,KAAK26B,WAMd,MAAaiuD,GAAb,yBAMA,MAAaW,GAAb,4BAMA,MAAM4B,GAYN,MAAaJ,GAAb,yBAMA,MAAazC,GAAb,0B,8JClgBA,aACA,OACA,OAGA,MAAakD,UAAqB,EAAAzgF,kBAAlC,iBAqBA,MAAapI,UAAc,EAAAumC,UAEvB,YAAY79B,EAAsBhJ,GAiD9B,GA9Ce,MAAXA,IACAA,EAAU,IAAImpF,GAEE,MAAhBnpF,EAAQ0Q,OAAc1Q,EAAQ0Q,KAAO,IACrB,MAAhB1Q,EAAQo+D,OAAcp+D,EAAQo+D,MAAO,GACrB,MAAhBp+D,EAAQd,OAAcc,EAAQd,KAAO,EAAAmM,cAAckkB,SAEnDvvB,EAAQd,MAAQ,EAAAmM,cAAcjK,UAA6B,MAAjBpB,EAAQs5B,QAClDt5B,EAAQs5B,MAAQ,EAAA/tB,cAAc6tB,OAEb,MAAjBp5B,EAAQs5B,QAAet5B,EAAQs5B,MAAQ,EAAA/tB,cAAc0tB,MACjC,MAApBj5B,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBC,OAEnB,MAAjBN,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAamuB,OACzEt7B,KAAKqL,UAAUoQ,MAAMC,SAAW,sBAGf,IAAjBrZ,EAAQo+D,QAEa,IAAjBp+D,EAAQo+D,MAERzgE,KAAKqL,UAAUoQ,MAAMC,SAAW,6GACX,MAAjBrZ,EAAQkZ,QACRvb,KAAKqL,UAAUoQ,MAAMC,SAAW,iBAGpC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,sEAAwErZ,EAAQo+D,KAAO,8JAK/HzgE,KAAKqB,MAAMgB,EAAQ0Q,MAEI,MAAnB1Q,EAAQ+T,UAAuC,IAApB/T,EAAQ+T,SACnCpW,KAAKoW,SAA6B,IAApB/T,EAAQ+T,QAAoB/T,EAAQ0Q,KAAO1Q,EAAQ+T,SAIlD,MAAf/T,EAAQV,KACR,EAAAwJ,KAAKnL,KAAKqL,WAAWS,KAAK,MAAOzJ,EAAQV,KAIhB,MAAzBU,EAAQ25B,cACZ,CACI,IAAIA,EAAgB35B,EAAQ25B,cACG,MAA3BA,EAAcmnB,WACdnjD,KAAKkb,MAAM8gB,EAAcmnB,WACG,MAA5BnnB,EAAc2e,YACd36C,KAAKojD,gBAAgBpnB,EAAc2e,YACX,MAAxB3e,EAAcqnB,QACdrjD,KAAKsjD,YAAYtnB,EAAcqnB,QAKvC,IAAIooC,EAAO,GACa,MAApBppF,EAAQ4Y,WAEyB,iBAArB5Y,EAAgB,WACxBA,EAAQ4Y,SAAW5Y,EAAQ4Y,SAAW,MAE1CwwE,GAAQ,cAAgBppF,EAAQ4Y,SAAW,KAErB,MAAtB5Y,EAAQqpF,aACRD,GAAQ,gBAAkBppF,EAAQqpF,WAAa,MAC9B,IAAjBrpF,EAAQ05B,OACR0vD,GAAQ,qBAEZzrF,KAAKqL,UAAUoQ,MAAMC,SAAW+vE,EAIhCzrF,KAAKqL,UAAUoQ,MAAMC,SAAW,eAAiBrZ,EAAQs5B,MAAQ,IACjE37B,KAAKsC,YAAYmZ,MAAMC,SAAW,eAAiBrZ,EAAQs5B,MAAQ,IAInE,IAAIgwD,EAAwB,GACxBC,EAAe,GACnB,GAA6B,MAAzBvpF,EAAQ65B,cACZ,CACI,OAAQ75B,EAAQ65B,eAEZ,KAAK,EAAAvuB,mBAAmB6yD,OAAQorB,GAAgB,6BAA8B,MAC9E,KAAK,EAAAj+E,mBAAmBykB,KAAMw5D,GAAgB,wBAAyB,MACvE,KAAK,EAAAj+E,mBAAmBk+E,QAASF,EAAwB,aAG7D3rF,KAAKqL,UAAUoQ,MAAMC,SAAWkwE,EAAe,IAC3CD,EAAsBz3D,sBACtB,EAAA/oB,KAAKnL,KAAKqL,WAAWyvB,SAAS6wD,GAKf,MAAnBtpF,EAAQ85B,UAERn8B,KAAKsC,YAAYmZ,MAAMC,SAAW,mBAClC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,oBAEpC,EAAAvQ,KAAKnL,KAAKsC,aAAasgC,MAAM,IAAM5iC,KAAK4iC,SAEjB,MAAnBvgC,EAAQkiD,SAER,EAAAp5C,KAAKnL,KAAKsC,aAAa6Z,GAAG,QAAS,KAE/B,IAAIqoC,EAAa,IAAIsnC,EACrBtnC,EAAW1Z,OAAS9qC,KACpBwkD,EAAWzxC,KAAO/S,KAAKqB,QACvBgB,EAASkiD,QAASC,KAS9B,MAAMnjD,GAEF,IAAIgB,EAAUrC,KAAK+sC,aACnB,GAAa,MAAT1rC,EACJ,CACI,IAAI0qF,EAAU,GAKd,OAJuB,MAAnB1pF,EAAQ0pF,UACRA,EAAU,WAAa1pF,EAAQ0pF,QAAU,OAElC/rF,KAAKqC,UAAwBd,MAGpC,KAAK,EAAAmM,cAAcwtB,QAAS,EAAA/vB,KAAKnL,KAAKqL,WAAWyvB,SAAS,sBAAuB,MACjF,KAAK,EAAAptB,cAAc9B,MAAO,EAAAT,KAAKnL,KAAKqL,WAAWyvB,SAAS,oBAAqB,MAC7E,KAAK,EAAAptB,cAAcglC,MAAOrxC,EAAQ,MAAQ0qF,EAAU,cAAgB1qF,EAAQ,KAAOA,EAAQ,OAAQ,MACnG,KAAK,EAAAqM,cAAcklC,KAAMvxC,EAAQ,MAAQ0qF,EAAU,iBAAmB1qF,EAAQ,KAAOA,EAAQ,OAAQ,MACrG,KAAK,EAAAqM,cAAc+kC,KAAMpxC,EAAQ,MAAQ0qF,EAAU,UAAY1qF,EAAQ,KAAOA,EAAQ,OAAQ,MAC9F,KAAK,EAAAqM,cAAcjK,SAAUpC,EAAQowB,OAAOpwB,GAAOywB,qBAAsB,MACzE,KAAK,EAAApkB,cAAc2V,KAEPA,KAAKoG,cAAcpoB,KACnBA,EAAQ,IAAIgiB,KAAKhiB,GAAOusB,gBAAgB,EAAAppB,aAAa6e,OAE7D,MACJ,KAAK,EAAA3V,cAAc/I,SAEP0e,KAAKoG,cAAcpoB,KACnBA,EAAQ,IAAIgiB,KAAKhiB,GAAOusB,gBAAgB,EAAAppB,aAAaG,WAE7D,MACJ,KAAK,EAAA+I,cAAcjJ,KAEP4e,KAAKoG,cAAcpoB,KACnBA,EAAQ,IAAIgiB,KAAKhiB,GAAOusB,gBAAgB,EAAAppB,aAAaC,OAIrEzE,KAAKqL,UAAUy2B,UAAYtY,OAAOnoB,GAElC,IAAIugD,EAAY,EAAA52C,eAAe42C,UAAU5hD,KAAKqL,aACtB,IAApBhJ,EAAQ+T,UAAyC,IAApB/T,EAAQ+T,SAAkC,MAAbwrC,GAAqBA,EAAY,GAAMA,EAAY,GAAM5hD,KAAKub,UACxHvb,KAAKoW,QAAQpW,KAAKqL,UAAUu2B,aAEpC,OAAO5hC,KAAKqL,UAAUy2B,UAG1B,WAAWzgC,GAEPrB,KAAKqB,MAAMrB,KAAKqB,QAAUA,GAG9B,QAAQA,GAKJ,OAHa,MAATA,IACArB,KAAKqL,UAAU4K,MAA2B,iBAAX,GAAyC,iBAAX,EAAuBuT,OAAOnoB,GAASA,EAAMusB,mBAEvG5tB,KAAKqL,UAAU4K,MAK1B,MAAM+1E,EAAqBC,GAEvBjsF,KAAKqL,UAAUy2B,UAAY9hC,KAAKksF,gBAAgB,OAASF,EAAaC,GAG1E,OAAOE,EAAcF,GAEjBjsF,KAAKqL,UAAUy2B,UAAY9hC,KAAKksF,gBAAgB,UAAYC,EAAMF,GAGtE,OAAOtnE,EAAasnE,GAEhBjsF,KAAKqL,UAAUy2B,UAAY9hC,KAAKksF,gBAAgBvnE,EAAKsnE,GAGjD,gBAAgBtnE,EAAasnE,GAEjC,IAAI5pF,EAAUrC,KAAK+sC,aACfg/C,EAAU,GAId,OAHuB,MAAnB1pF,EAAQ0pF,UACRA,EAAU,WAAa1pF,EAAQ0pF,QAAU,OAEtC,MAAQA,EAAU,UAAYpnE,EAAM,MAAuB,MAAdsnE,EAAsBA,EAAajsF,KAAKqB,SAAW,OAK3G,MAAMA,GAKF,OAHa,MAATA,IACArB,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYra,GAEzC,EAAA8J,KAAKnL,KAAKqL,WAAW0K,IAAI,SAGpC,gBAAgB1U,GAKZ,OAHa,MAATA,IACArB,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAAuBra,GAEpD,EAAA8J,KAAKnL,KAAKqL,WAAW0K,IAAI,oBAGpC,YAAY1U,GAKR,OAHa,MAATA,IACArB,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAAuBra,EAAQ,+BAE5D,EAAA8J,KAAKnL,KAAKqL,WAAW0K,IAAI,gBAIpC,UAEI,MAAoC,KAA7B/V,KAAKqL,UAAUy2B,UAG1B,QAEI9hC,KAAKqL,UAAUy2B,UAAY,GAC3B9hC,KAAKqL,UAAU4K,MAAQ,GAG3B,aAEI,OAAOjW,KAAKqC,UAKhB,QAEI,IAAIsjD,EAAgB3lD,KAAKqC,UAAwB85B,QACjD,GAAqB,MAAjBwpB,EACJ,CACI,IAAIG,EAAa,IAAIsmC,EACrBtmC,EAAWhb,OAAS9qC,KACpB8lD,EAAW/yC,KAAO/S,KAAKqB,QACvBskD,EAAcG,KA1Q1B,UAkRA,MAAasmC,UAAwB,EAAAvtE,iBAArC,oBAMA,MAAMitE,UAAwB,EAAAjtE,mB,uIClT9B,aACA,OACA,OAGA,MAAawtE,UAAwB,EAAAthF,kBAArC,oBAcA,MAAahH,UAAiB,EAAAmlC,UAE1B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIgqF,GAEE,MAAhBhqF,EAAQ0Q,OAAc1Q,EAAQ0Q,KAAO,IAClB,MAAnB1Q,EAAQy4C,UAAiBz4C,EAAQy4C,SAAU,GACrB,MAAtBz4C,EAAQiqF,aAAoBjqF,EAAQiqF,YAAa,GAGrD,EAAAnhF,KAAKE,GAASS,KAAK,OAAQ,YAE3B,IAAIygF,EAAYlqF,EAAQkZ,MACxBlZ,EAAQkZ,WAAQmC,EAChBuL,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBqB,UAEvB,MAAbwoF,IAE0B,iBAAf,IACPA,GAAwB,MAE5BvsF,KAAKsC,YAAYmZ,MAAMC,SAAW,UAAY6wE,EAAY,KAG9D,IAAIxxD,EAAQ,EAAA34B,YACR,CACI2Q,KAAM1Q,EAAQ0Q,KACd+oB,aAAc,iCACd5lB,MAAO,kBACPqF,MAAO,OACPnF,QAAS/T,EAAQ+T,SAClBpW,KAAKsC,aACZ,EAAA6I,KAAK4vB,EAAM1vB,WAAWS,KAAK,MAAOT,EAAQ8K,IAGrB,MAAjB9T,EAAQhB,QAAegB,EAAQhB,MAAQgB,EAAQ0Q,MAC9B,MAAjB1Q,EAAQhB,OACR,EAAA8J,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQhB,OAE3B,MAAhBgB,EAAQ1B,MACR,EAAAwK,KAAKnL,KAAKqL,WAAWS,KAAK,OAAQzJ,EAAQ1B,MAIvB,MAAnB0B,EAAQ+T,SACR,EAAAjL,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQ+T,UAIvB,IAApB/T,EAAQy4C,QACR96C,KAAK86C,QAAQ,EAAAtsC,kBAAkBg+E,SAAS,GACnCnqF,EAAQiqF,YACbtsF,KAAK86C,QAAQ,EAAAtsC,kBAAkBszC,WAAW,GAI9C,EAAA32C,KAAKnL,KAAKqL,WAAWu3B,MAAOtoB,IAExBta,KAAKk0C,YACL,IAAIuT,EAAWntC,EAAE0rB,cACb8U,EAAU2M,EAAS3M,QAEnB1hB,EAAQ,KAuBZ,GAtBK/2B,EAASiqF,WASN7kC,EAAS3M,UAAY,EAAA3vC,KAAKnL,KAAKqL,WAAWizB,SAAS,4BAEnD,EAAAnzB,KAAKnL,KAAKqL,WAAWyvB,SAAS,2BAC9B1B,EAAQ,EAAA5qB,kBAAkBszC,UAC1BxnC,EAAE0e,mBAIF,EAAA7tB,KAAKnL,KAAKqL,WAAWwzB,YAAY,2BACjCzF,EAAQ,EAAY,EAAA5qB,kBAAkBg+E,QAAU,EAAAh+E,kBAAkBi+E,WAflErzD,EADAquB,EAAS3M,QACD,EAAAtsC,kBAAkBg+E,QAElB,EAAAh+E,kBAAkBi+E,UAiBV,MAApBpqF,EAASw4C,QACb,CACI,IAAI91B,EAAQ,IAAI2nE,EAChB3nE,EAAM+lB,OAAS9qC,KACf+kB,EAAM+1B,QAAUA,EAChB/1B,EAAM4nE,UAAYvzD,EAClBrU,EAAMgmB,SAAWzwB,EAAEywB,SACnBhmB,EAAMkmB,QAAU3wB,EAAE2wB,QAClB5oC,EAASw4C,QAAQ91B,MAO7B,QAAkCqU,EAAqC+W,GAAgB,GAEnF,GAAa,MAAT/W,EACJ,CACIp5B,KAAKk0C,YACL,IAAI04C,GAAiB,EACjBC,EAAe,EAAAr+E,kBAAkBg+E,QA2BrC,GAzBA,EAAArhF,KAAKnL,KAAKqL,WAAWwzB,YAAY,2BACV,kBAAZ,GAEN7+B,KAAKqL,UAA+ByvC,QAAU1hB,EAC/CwzD,EAAiBxzD,EACjByzD,EAAe,EAAU,EAAAr+E,kBAAkBg+E,QAAU,EAAAh+E,kBAAkBi+E,YAIvEI,EAAezzD,EACXA,GAAS,EAAA5qB,kBAAkBg+E,SAE1BxsF,KAAKqL,UAA+ByvC,SAAU,EAC/C8xC,GAAiB,IAIhB5sF,KAAKqL,UAA+ByvC,SAAU,EAC/C8xC,GAAiB,EAEbxzD,GAAS,EAAA5qB,kBAAkBszC,WAC3B,EAAA32C,KAAKnL,KAAKqL,WAAWyvB,SAAS,6BAItCqV,EACJ,CACI,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAwB,MAApB1qC,EAASw4C,QACb,CACI,IAAI91B,EAAQ,IAAI2nE,EAChB3nE,EAAM+lB,OAAS9qC,KACf+kB,EAAM+1B,QAAU8xC,EAChB7nE,EAAM4nE,UAAYE,EAClBxqF,EAASw4C,QAAQ91B,KAK7B,OAAI,EAAA5Z,KAAKnL,KAAKqL,WAAWizB,SAAS,2BACpB,KAECt+B,KAAKqL,UAA+ByvC,QAGvD,QAEI,EAAA3vC,KAAKnL,KAAKqL,WAAWu3B,QAGzB,KAAK7vB,GAKD,OAHY,MAARA,GACA,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoBmmB,KAAKlvB,GAElD,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,oBAAoBmmB,OAG3D,MAAMkO,GAAgB,GAEJnwC,KAAK+sC,aACPu/C,WACRtsF,KAAK86C,QAAQ,EAAAtsC,kBAAkBszC,UAAW3R,GAE1CnwC,KAAK86C,SAAQ,EAAO3K,GAG5B,aAEI,OAAOnwC,KAAKqC,UAIhB,MAAM0Q,EAAexQ,EAA8BuqF,GAAW,GAE5C9sF,KAAKqC,UACH,MAAZE,IAAkBA,EAAW,EAAAyL,kBAAkBytB,OACvC,MAAR1oB,IAAcA,EAAO,IAEzB,EAAA5H,KAAKnL,KAAKqL,WAAWyvB,SAAS,mBAE9B,IAAIob,EAAY,EAAA/qC,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwB,GACnD,MAAbo6B,GAAsB,EAAAvhC,cAAcG,aACpCohC,EAAY,EAAA/qC,KAAK,kEAAkE8uB,kBAAkB,EAAA9uB,KAAKnL,KAAKsC,aAAawZ,KAAK,qBAAqB,IAEtJgxE,EACA,EAAA3hF,KAAK+qC,GAAWh6B,OAEhB,EAAA/Q,KAAK+qC,GAAWrjC,OAGpB,IAAIujC,EAAY,EAAAjrC,KAAK,uDAAyD4H,EAAO,WAAWuD,eAAe4/B,GAC3G3zC,GAAY,EAAAyL,kBAAkBytB,MAC9B,EAAAtwB,KAAKirC,GAAWtb,SAAS,+BACpBv4B,GAAY,EAAAyL,kBAAkB6tB,SAEnC,EAAA1wB,KAAKirC,GAAWtb,SAAS,gCACzB,EAAA3vB,KAAK+qC,GAAWG,MAAM,IAAM,EAAAlrC,KAAKirC,GAAW,GAAG36B,MAAMC,SAAW,WAAc,EAAAvQ,KAAKirC,GAAWpvB,aAAe,EAAK,GAAK,QAK/H,YAEI,EAAA7b,KAAKnL,KAAKqL,WAAWwzB,YAAY,mBACjC,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwBjJ,OACpD,EAAA1H,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BjJ,QAzN/D,aAuOA,MAAa65E,UALb,SAKA,wB,oHC1PA,aACA,OAGA,MAAaK,UAAyB,EAAAhiF,kBAAtC,qBAUA,MAAa9G,UAAkB,EAAAilC,UAE3B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAI0qF,GAEE,MAAhB1qF,EAAQskB,OAActkB,EAAQskB,KAAO,GACX,MAA1BtkB,EAAQ2qF,iBAAwB3qF,EAAQ2qF,eAAiB,IAAIC,GACtC,MAAvB5qF,EAAQmoD,cAAqBnoD,EAAQmoD,YAAc,EAAAp9C,gBAAgB25B,UAClD,MAAjB1kC,EAAQ6Y,QAAe7Y,EAAQ6Y,MAAQ,QACnB,MAApB7Y,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBuB,WAGpC5B,EAAQmoD,aAAe,EAAAp9C,gBAAgB25B,UAEL,MAA9B1kC,EAAQ2qF,eAAepmE,MAAavkB,EAAQ2qF,eAAepmE,IAAM,GACjC,MAAhCvkB,EAAQ2qF,eAAexwD,QAAen6B,EAAQ2qF,eAAexwD,MAAQ,GACpC,MAAjCn6B,EAAQ2qF,eAAevwD,SAAgBp6B,EAAQ2qF,eAAevwD,OAAS,GACxC,MAA/Bp6B,EAAQ2qF,eAAejmE,OAAc1kB,EAAQ2qF,eAAejmE,KAAO,GAEvE/mB,KAAKsC,YAAYmZ,MAAMC,SAAW,mDACXrZ,EAAQ2qF,eAAepmE,IAAM,sBAAwBvkB,EAAQ2qF,eAAevwD,OADjE,oBAETp6B,EAAQ2qF,eAAexwD,MAAQ,oBAAsBn6B,EAAQ2qF,eAAejmE,KAAO,MAC5G/mB,KAAKqL,UAAUoQ,MAAMC,SAAW,+CAAiDrZ,EAAQskB,KAAzD,wBACHtkB,EAAQ6Y,MAAQ,qCAIX,MAA9B7Y,EAAQ2qF,eAAepmE,MAAavkB,EAAQ2qF,eAAepmE,IAAM,GACjC,MAAhCvkB,EAAQ2qF,eAAexwD,QAAen6B,EAAQ2qF,eAAexwD,MAAQ,GACpC,MAAjCn6B,EAAQ2qF,eAAevwD,SAAgBp6B,EAAQ2qF,eAAevwD,OAAS,GACxC,MAA/Bp6B,EAAQ2qF,eAAejmE,OAAc1kB,EAAQ2qF,eAAejmE,KAAO,GAEvE/mB,KAAKsC,YAAYmZ,MAAMC,SAAW,8BACXrZ,EAAQ2qF,eAAepmE,IAAM,sBAAwBvkB,EAAQ2qF,eAAevwD,OADjE,oBAETp6B,EAAQ2qF,eAAexwD,MAAQ,oBAAsBn6B,EAAQ2qF,eAAejmE,KAAO,MAC5G/mB,KAAKqL,UAAUoQ,MAAMC,SAAW,+CAAiDrZ,EAAQskB,KAAO,yBAA2BtkB,EAAQ6Y,OAIhH,MAAnB7Y,EAAQ+5B,SACRnT,MAAMmT,QAAQ/5B,EAAQ+5B,UA9ClC,cAoDA,MAAM6wD,K,4GClEN,aACA,OAGA,MAAaC,UAAqB,EAAAniF,kBAAlC,iBAgBA,MAAa5G,UAAc,EAAA+kC,UAEvB,YAAY79B,EAAsBhJ,GA6B9B,OA1Be,MAAXA,IACAA,EAAU,IAAI6qF,GAEM,MAApB7qF,EAAQE,WAAkBF,EAAQE,SAAW,EAAAkM,sBAAsB0+E,UACjD,MAAlB9qF,EAAQ8lB,SAAgB9lB,EAAQ8lB,QAAS,GACX,MAA9B9lB,EAAQ+qF,qBAA4B/qF,EAAQ+qF,oBAAqB,GAC7C,MAApB/qF,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgByB,OACxCnE,KAAKqL,UAAUoQ,MAAMC,SAAW,6BAGX,MAAjBrZ,EAAQhB,OACRrB,KAAKqB,MAAMgB,EAAQhB,OAIA,MAAnBgB,EAAQ+T,UAEPpW,KAAKqL,UAA+BgiF,IAAMhrF,EAAQ+T,QAClDpW,KAAKqL,UAA+B4K,MAAQ5T,EAAQ+T,SAKjD/T,EAAQE,UAEZ,KAAK,EAAAkM,sBAAsB4pC,OAEnBr4C,KAAKsC,YAAYmZ,MAAMC,SAAW,+CAClC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,qCAEpC,MACJ,KAAK,EAAAjN,sBAAsB6+E,KAAMttF,KAAKqL,UAAUoQ,MAAMC,SAAW,iCAAkC,MACnG,KAAK,EAAAjN,sBAAsB8+E,IAAKvtF,KAAKqL,UAAUoQ,MAAMC,SAAW,iCAAkC,MAClG,KAAK,EAAAjN,sBAAsB++E,QAASxtF,KAAKqL,UAAUoQ,MAAMC,SAAW,6BAA8B,MAClG,KAAK,EAAAjN,sBAAsB0+E,SAAUntF,KAAKqL,UAAUoQ,MAAMC,SAAW,qCAKzE,GAA4B,MAAxBrZ,EAAQi5E,aACZ,CACI,IAAI3mB,EAAU3oD,SAAS4b,cAAc,OACrC,EAAAzc,KAAKwpD,GAAS75B,SAAS,kBACvB,EAAA3vB,KAAKnL,KAAKsC,aAAa+J,QAAQsoD,GAE/B,IAAK,IAAIG,KAAezyD,EAAQi5E,aAG5B,OADwB,MAApBxmB,EAAY9rD,OAAc8rD,EAAY9rD,KAAO,EAAA0F,qBAAqBonD,QAC9DhB,EAAY9rD,MAEhB,KAAK,EAAA0F,qBAAqB++E,SACtB,CAEI,IAAIC,EAAiB1hF,SAAS4b,cAAc,KAC5C,EAAAzc,KAAKuiF,GAAgB5yD,SAAS,6CAC9B4yD,EAAe/qD,SAAW,WAC1B+qD,EAAehrD,KAAO1iC,KAAKqB,QAC3BqsF,EAAe5rD,UAAY,oDAC3B6yB,EAAQn7B,OAAOk0D,GAEf,EAAAviF,KAAKuiF,GAAgB9qD,MAAOtoB,IAExB,GAA2B,MAAvBw6C,EAAY34B,QAChB,CACI,IAAIpX,EAAQ,IAAI4oE,EAChB5oE,EAAM+lB,OAAS9qC,KACf80D,EAAY34B,QAAQpX,MAKhC,MACJ,KAAK,EAAArW,qBAAqBu2C,OACtB,CAEI,IAAI2oC,EAAe5hF,SAAS4b,cAAc,KAC1C,EAAAzc,KAAKyiF,GAAc9yD,SAAS,2CAC5B8yD,EAAaz3E,GAAK,sBAAwB9K,EAAQ8K,GAClDy3E,EAAa9rD,UAAY,kDACzB6yB,EAAQn7B,OAAOo0D,GAEf,EAAAziF,KAAKyiF,GAAchrD,MAAOtoB,IAEtB,GAAuC,MAAnCw6C,EAAYtP,qBAAkE,IAAnCsP,EAAYtP,oBAEvD,EAAA/xC,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAG1C,GADA7d,KAAK+tC,QACsB,MAAvB+mB,EAAY34B,QAChB,CACI,IAAIpX,EAAQ,IAAI4oE,EAChB5oE,EAAM+lB,OAAS9qC,KACf80D,EAAY34B,QAAQpX,WAO5B,GADA/kB,KAAK+tC,QACsB,MAAvB+mB,EAAY34B,QAChB,CACI,IAAIpX,EAAQ,IAAI4oE,EAChB5oE,EAAM+lB,OAAS9qC,KACf80D,EAAY34B,QAAQpX,MAMpC,MACJ,KAAK,EAAArW,qBAAqBonD,OACtB,CAEI,IAAI+3B,EAAe7hF,SAAS4b,cAAc,KAC1C,EAAAzc,KAAK0iF,GAAc/yD,SAAS,sBAC5B+yD,EAAa/rD,UAAY,mBAAqBgzB,EAAY/5C,KAAO,SACjE8yE,EAAapyE,MAAMC,SAAW,iEAC9Bi5C,EAAQn7B,OAAOq0D,GAEf,EAAA1iF,KAAK0iF,GAAcjrD,MAAOtoB,IAEtB,GAAuC,MAAnCw6C,EAAYtP,qBAAkE,IAAnCsP,EAAYtP,oBAEvD,EAAA/xC,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE1C,GAA2B,MAAvBi3C,EAAY34B,QAChB,CACI,IAAIpX,EAAQ,IAAI4oE,EAChB5oE,EAAM+lB,OAAS9qC,KACf80D,EAAY34B,QAAQpX,WAM5B,GAA2B,MAAvB+vC,EAAY34B,QAChB,CACI,IAAIpX,EAAQ,IAAI4oE,EAChB5oE,EAAM+lB,OAAS9qC,KACf80D,EAAY34B,QAAQpX,QAapD,IAAmC,IAA/B1iB,EAAQ+qF,mBACZ,CACsC,GAA9B/qF,EAAQ+qF,qBAA4B/qF,EAAQ+qF,mBAAqB,IAErE,IAAIA,EAAqBphF,SAAS4b,cAAc,OAChD,EAAAzc,KAAKiiF,GAAoBtyD,SAAS,6BAClCsyD,EAAmBtrD,UAAYz/B,EAAQ+qF,mBACvC,EAAAjiF,KAAKnL,KAAKsC,aAAa+J,QAAQ+gF,GAKnC,EAAAjiF,KAAKnL,KAAKsC,aAAa6Z,GAAG,aAAe7B,IAEhCta,KAAKiqC,YAGU,MAAhBjqC,KAAKqB,SAAmC,IAAhBrB,KAAKqB,UAEA,MAAzBgB,EAASi5E,cACT,EAAAnwE,KAAKnL,KAAKsC,aAAawZ,KAAK,mBAAmBI,QAEf,IAAhC7Z,EAAS+qF,oBACT,EAAAjiF,KAAKnL,KAAKsC,aAAawZ,KAAK,8BAA8BI,QAG1C,MAApB7Z,EAASkiD,SACTliD,EAASkiD,aAGjB,EAAAp5C,KAAKnL,KAAKsC,aAAa6Z,GAAG,aAAe7B,IAEhCta,KAAKiqC,YAGmB,MAAzB5nC,EAASi5E,cACT,EAAAnwE,KAAKnL,KAAKsC,aAAawZ,KAAK,mBAAmBjJ,QAEf,IAAhCxQ,EAAS+qF,oBACT,EAAAjiF,KAAKnL,KAAKsC,aAAawZ,KAAK,8BAA8BjJ,OAEtC,MAApBxQ,EAASyrF,SACTzrF,EAASyrF,aAGM,MAAnBzrF,EAAQ85B,UAERn8B,KAAKqL,UAAUoQ,MAAMC,SAAW,mBAChC,EAAAvQ,KAAKnL,KAAKsC,aAAa6Z,GAAG,QAAU7B,IAEhC,IAAKta,KAAKiqC,UACN,OAEJ,IAAI8jD,EAAkB,IAAIC,EAC1BD,EAAgBjjD,OAAS9qC,KACzBqC,EAAS85B,QAAS4xD,MAO9B,MAAME,EAAsB7lE,EAAmB8lE,GAE3C,IAAI7rF,EAAUrC,KAAKqC,UACnB,GAAmB,MAAf4rF,GAAsC,IAAfA,EAC3B,CACIC,EAAwB,MAAZA,EAAoB,YAAcA,EAC9C9lE,EAAwB,MAAZA,EAAoB,WAAaA,EAC7C6lE,EAAcA,EAAY7zE,QAAQ,6BAA8B,IAEhE,IAAI+zE,EAAW9rF,EAAc,OAAI,QAAU6rF,EAAW,WAAa,GACnE,EAAA/iF,KAAKnL,KAAKqL,WAAWS,KAAK,MAAOqiF,EAAUF,GAGvC5rF,EAAQ8lB,SACR8lE,EAAcA,EAAY7zE,QAAQ,qBAAsB,kCAE5D,EAAAjP,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BhQ,KAAK,OAAQqiF,EAAUF,GAC9E,EAAA9iF,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BhQ,KAAK,WAAYsc,GAG5E,OAAO,EAAAjd,KAAKnL,KAAKqL,WAAWS,KAAK,OAGrC,mBAAmBsiF,GAEf,GAAmB,MAAfA,EACJ,EAEuC,IADrBpuF,KAAKqC,UACP+qF,oBACR,EAAAjiF,KAAKnL,KAAKsC,aAAawZ,KAAK,8BAA8BmmB,KAAKmsD,GAEvE,OAAO,EAAAjjF,KAAKnL,KAAKsC,aAAawZ,KAAK,8BAA8BmmB,OAGrE,UAEI,OAAO,EAAA92B,KAAKnL,KAAKsC,aAAawZ,KAAK,mBAAmB,GAG1D,QAEI,EAAA3Q,KAAKnL,KAAKqL,WAAWk+C,WAAW,OAKpC,SAEItgC,MAAMoT,SACN7X,OAAOwa,WAAW,IAAM,EAAA7zB,KAAKnL,KAAK20D,WAAWz4C,QAGjD,UAEI+M,MAAMqT,UACN9X,OAAOwa,WAAW,IAAM,EAAA7zB,KAAKnL,KAAK20D,WAAW9hD,QAIjD,aAEI,OAAO7S,KAAKqC,WA3RpB,UA0SA,MAAMsrF,GAKN,MAAMK,K,qICnUN,aACA,OACA,OACA,QAOA,MAAaK,UAAsB,EAAAtjF,kBAAnC,kBAsCA,MAAapF,UAAe,EAAAujC,UAcxB,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIgsF,GAEI,MAAlBhsF,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACpB,MAArBnZ,EAAQuqD,YAAmBvqD,EAAQuqD,WAAY,GACxB,MAAvBvqD,EAAQisF,cAAqBjsF,EAAQisF,aAAc,GAChC,MAAnBjsF,EAAQsyD,UAAiBtyD,EAAQsyD,SAAU,GAC3B,MAAhBtyD,EAAQksF,OAAclsF,EAAQksF,MAAO,GACV,MAA3BlsF,EAAQmsF,kBAA4C,IAAjBnsF,EAAQksF,OAAgBlsF,EAAQksF,MAAO,GACvD,MAAnBlsF,EAAQosF,UAAiBpsF,EAAQosF,QAAU,qBACpB,MAAvBpsF,EAAQqsF,cAAqBrsF,EAAQqsF,YAAc,EAAA9+E,wBAAwB++E,UACxD,MAAnBtsF,EAAQusF,UAAiBvsF,EAAQusF,QAAU,4GACd,MAA7BvsF,EAAQwsF,oBAA2BxsF,EAAQwsF,mBAAoB,GAC7C,MAAlBxsF,EAAQg6B,SAAgBh6B,EAAQg6B,QAAS,GAClB,MAAvBh6B,EAAQysF,cAAqBzsF,EAAQysF,aAAc,GACrB,MAA9BzsF,EAAQ0sF,qBAA4B1sF,EAAQ0sF,oBAAqB,GAC5C,MAArB1sF,EAAQ2sF,YAAmB3sF,EAAQ2sF,WAAY,GAEnB,MAA5B3sF,EAAQ4sF,mBAA0B5sF,EAAQ4sF,kBAAmB,IAChC,IAA7B5sF,EAAQ4sF,mBAER5sF,EAAQ4sF,iBAAmB,IAAI,EAAApuE,iCACa,MAAxCxe,EAAQ4sF,iBAAiBC,cAAqB7sF,EAAQ4sF,iBAAiBC,aAAc,GAChD,MAArC7sF,EAAQ4sF,iBAAiB1sF,WAAkBF,EAAQ4sF,iBAAiB1sF,SAAW,EAAAyN,mCAAmCm/E,WACjF,MAAjC9sF,EAAQ4sF,iBAAiB1tF,OAAcc,EAAQ4sF,iBAAiB1tF,KAAO,EAAAwO,+BAA+Bq/E,OACzD,MAA7C/sF,EAAQ4sF,iBAAiBI,mBAA0BhtF,EAAQ4sF,iBAAiBI,kBAAmB,IAG/E,MAApBhtF,EAAQ4Y,WAAkB5Y,EAAQ4Y,SAAW,IAAI,EAAA6F,0BACjB,MAAhCze,EAAQ4Y,SAASq0E,cAAqBjtF,EAAQ4Y,SAASq0E,YAAc,IAClC,MAAnCjtF,EAAQ4Y,SAASs0E,iBAAwBltF,EAAQ4Y,SAASs0E,eAAiB,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAG1HtmE,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBiD,QAGxC,IAAIgvD,GAAe,EAEfA,GADoB,IAApBtyD,EAAQsyD,QACE,+IACe,IAApBtyD,EAAQsyD,SAGHtyD,EAAQsyD,QAAQ73C,WAAW1C,QAAQ,KAAM,KAIvD,IAAIo1E,GAAU,EACVjB,EAAY,GAChB,IAAqB,IAAjBlsF,EAAQksF,KAERiB,GAAU,EACVjB,EAAO,CACH9tD,KAAM,CAAExqB,MAAO,GAAIqhC,MAAO,IAC1Bm4C,KAAM,CAAEx5E,MAAO,OAAQqhC,MAAO,kDAC9Bo4C,KAAM,CAAEz5E,MAAO,OAAQqhC,MAAO,uCAC9Bq4C,OAAQ,CAAE15E,MAAO,GAAIqhC,MAAO,IAC5B3oB,OAAQ,CAAE1Y,MAAO,SAAUqhC,MAAO,uHAClCs4C,MAAO,CAAE35E,MAAO,GAAIqhC,MAAO,IAC3Bu4C,MAAO,CAAE55E,MAAO,GAAIqhC,MAAO,UAG9B,IAAqB,IAAjBj1C,EAAQksF,KAEbiB,GAAU,EACVjB,OAAO7wE,MAGX,CAII,GAHA8xE,GAAU,EAGLntF,EAAQksF,KAAK9tD,KAGlB,CACI,IAAIqvD,EAAe,WACO,IAAtBztF,EAAQksF,KAAK9tD,KACb8tD,EAAK9tD,KAAO,CAAExqB,MAAO,OAAQqhC,MAAOw4C,GAEpCvB,EAAK9tD,KAAO,CAAExqB,MAAmC,MAA3B5T,EAAQksF,KAAK9tD,KAAKxqB,MAAiB,OAAS5T,EAAQksF,KAAK9tD,KAAKxqB,MAAOqhC,MAAmC,MAA3Bj1C,EAAQksF,KAAK9tD,KAAK6W,MAAiBw4C,EAAeztF,EAAQksF,KAAK9tD,KAAK6W,MAAMx6B,WAAW1C,QAAQ,KAAM,WAP1Mm0E,EAAK9tD,KAAO,CAAExqB,MAAO,GAAIqhC,MAAO,IAYpC,GAAKj1C,EAAQksF,KAAKkB,KAGlB,CACI,IAAIK,EAAe,kDACO,IAAtBztF,EAAQksF,KAAKkB,KACblB,EAAKkB,KAAO,CAAEx5E,MAAO,OAAQqhC,MAAOw4C,GAEpCvB,EAAKkB,KAAO,CAAEx5E,MAAmC,MAA3B5T,EAAQksF,KAAKkB,KAAKx5E,MAAiB,OAAS5T,EAAQksF,KAAKkB,KAAKx5E,MAAOqhC,MAAmC,MAA3Bj1C,EAAQksF,KAAKkB,KAAKn4C,MAAiBw4C,EAAeztF,EAAQksF,KAAKkB,KAAKn4C,MAAMx6B,WAAW1C,QAAQ,KAAM,WAP1Mm0E,EAAKkB,KAAO,CAAEx5E,MAAO,GAAIqhC,MAAO,IAYpC,GAAKj1C,EAAQksF,KAAKmB,KAGlB,CACI,IAAII,EAAe,qCACO,IAAtBztF,EAAQksF,KAAKmB,KACbnB,EAAKmB,KAAO,CAAEz5E,MAAO,OAAQqhC,MAAOw4C,GAEpCvB,EAAKmB,KAAO,CAAEz5E,MAAmC,MAA3B5T,EAAQksF,KAAKmB,KAAKz5E,MAAiB,OAAS5T,EAAQksF,KAAKmB,KAAKz5E,MAAOqhC,MAAmC,MAA3Bj1C,EAAQksF,KAAKmB,KAAKp4C,MAAiBw4C,EAAeztF,EAAQksF,KAAKmB,KAAKp4C,MAAMx6B,WAAW1C,QAAQ,KAAM,WAP1Mm0E,EAAKmB,KAAO,CAAEz5E,MAAO,GAAIqhC,MAAO,IAYpC,GAAKj1C,EAAQksF,KAAKoB,OAGlB,CACI,IAAIG,EAAe,4BACS,IAAxBztF,EAAQksF,KAAKoB,OACbpB,EAAKoB,OAAS,CAAE15E,MAAO,SAAUqhC,MAAOw4C,GAExCvB,EAAKoB,OAAS,CAAE15E,MAAqC,MAA7B5T,EAAQksF,KAAKoB,OAAO15E,MAAiB,SAAW5T,EAAQksF,KAAKoB,OAAO15E,MAAOqhC,MAAqC,MAA7Bj1C,EAAQksF,KAAKoB,OAAOr4C,MAAiBw4C,EAAeztF,EAAQksF,KAAKoB,OAAOr4C,MAAMx6B,WAAW1C,QAAQ,KAAM,WAPtNm0E,EAAKoB,OAAS,CAAE15E,MAAO,GAAIqhC,MAAO,IAYtC,GAAKj1C,EAAQksF,KAAK5/D,OAGlB,CACI,IAAImhE,EAAe,uHACS,IAAxBztF,EAAQksF,KAAK5/D,OACb4/D,EAAK5/D,OAAS,CAAE1Y,MAAO,SAAUqhC,MAAOw4C,GAExCvB,EAAK5/D,OAAS,CAAE1Y,MAAqC,MAA7B5T,EAAQksF,KAAK5/D,OAAO1Y,MAAiB,SAAW5T,EAAQksF,KAAK5/D,OAAO1Y,MAAOqhC,MAAqC,MAA7Bj1C,EAAQksF,KAAK5/D,OAAO2oB,MAAiBw4C,EAAeztF,EAAQksF,KAAK5/D,OAAO2oB,MAAMx6B,WAAW1C,QAAQ,KAAM,WAPtNm0E,EAAK5/D,OAAS,CAAE1Y,MAAO,GAAIqhC,MAAO,IAYtC,GAAKj1C,EAAQksF,KAAKqB,MAGlB,CACI,IAAIE,EAAe,wBACQ,IAAvBztF,EAAQksF,KAAKqB,MACbrB,EAAKqB,MAAQ,CAAE35E,MAAO,QAASqhC,MAAOw4C,GAEtCvB,EAAKqB,MAAQ,CAAE35E,MAAoC,MAA5B5T,EAAQksF,KAAKqB,MAAM35E,MAAiB,QAAU5T,EAAQksF,KAAKqB,MAAM35E,MAAOqhC,MAAoC,MAA5Bj1C,EAAQksF,KAAKqB,MAAMt4C,MAAiBw4C,EAAeztF,EAAQksF,KAAKqB,MAAMt4C,MAAMx6B,WAAW1C,QAAQ,KAAM,WAPhNm0E,EAAKqB,MAAQ,CAAE35E,MAAO,GAAIqhC,MAAO,IAYrC,GAAKj1C,EAAQksF,KAAKsB,MAGlB,CACI,IAAIC,EAAe,kBACQ,IAAvBztF,EAAQksF,KAAKsB,MACbtB,EAAKsB,MAAQ,CAAE55E,MAAO,QAASqhC,MAAOw4C,GAEtCvB,EAAKsB,MAAQ,CAAE55E,MAAoC,MAA5B5T,EAAQksF,KAAKsB,MAAM55E,MAAiB,QAAU5T,EAAQksF,KAAKsB,MAAM55E,MAAOqhC,MAAoC,MAA5Bj1C,EAAQksF,KAAKsB,MAAMv4C,MAAiBw4C,EAAeztF,EAAQksF,KAAKsB,MAAMv4C,MAAMx6B,WAAW1C,QAAQ,KAAM,WAPhNm0E,EAAKsB,MAAQ,CAAE55E,MAAO,GAAIqhC,MAAO,IAczC,IAAIy4C,EAAmB,GACvB,GAA+B,MAA3B1tF,EAAQ2tF,gBAER,IAAK,IAAI5vF,EAAI,EAAGA,EAAIiC,EAAQ2tF,gBAAgB5kF,OAAQhL,IAChD2vF,GAAoB,cAAgB3vF,EAK5C,IAAI6vF,EAAmC,MAAjB5tF,EAAQ04B,OAAiB14B,EAAQ24B,cAAez4B,UAAY,EAAA4K,aAAaguB,IAAO,GAAK,EAE3G,GADAn7B,KAAKkwF,aAAe,EAAAv6E,IAAI3V,KAAKsC,YAAa,CAAEyT,IAAK,4BAA8Bk6E,EAAiB,+CAC5FE,SAE+B,MAA3B9tF,EAAQmsF,gBAER,IAAK,IAAI4B,KAAY/tF,EAAQmsF,gBACzBxuF,KAAKqwF,YAAYD,IAMI,IAA7B/tF,EAAQ4sF,mBAERjvF,KAAKswF,mBAAqB,GAC1BtwF,KAAKuwF,kBAAoB,EAAApmF,uBAAuB,CAC5Cwc,KAAM,GACNmV,aAAc,sBAAyBz5B,EAAQ4sF,iBAAiB1sF,UAAY,EAAAyN,mCAAmCm/E,WAAgC,IAAjB9sF,EAAQksF,KAAkB,0BAA4B,aAAgB,IACpMW,YAAa7sF,EAAQ4sF,iBAAiBC,YACtCl3D,MAAQ1d,IAEqB,MAArBta,KAAKwwF,cACLxwF,KAAKwwF,aAAatmD,QAEM,MAAxBlqC,KAAKywF,iBACLzwF,KAAKywF,gBAAgBvmD,SAE7BnS,QAAUzd,GAAMta,KAAKswF,mBAAqBtwF,KAAKqB,QAAU,IACzD86B,QAAU7hB,IAEDjY,EAAS4sF,iBAAuD1tF,MAAQ,EAAAwO,+BAA+Bq/E,QAE3E,MAAxBpvF,KAAKywF,iBAA4BzwF,KAAKywF,gBAAgBr0D,WAAe9hB,EAAEwwB,OAAO4lD,cAG/E1wF,KAAKywF,gBAAgBvmD,QAFrBlqC,KAAK2wF,0BAKjBC,SAAWt2E,IAEP,GAAIA,EAAEu2E,eAAezlF,OAAS,EAC9B,CACI,IAAIylF,EAAiB7wF,KAAK8wF,WAAWx2E,EAAEu2E,gBAAgB,GAClDxuF,EAAS4sF,iBAAuD1tF,MAAQ,EAAAwO,+BAA+Bq/E,MACxGpvF,KAAK+wF,gBAAgB1vF,MAAMwvF,GAE3B7wF,KAAKqB,MAAMrB,KAAKswF,mBAAqBO,GAG7C,GAAIv2E,EAAE02E,aAAa5lF,OAAS,EAC5B,EACQkP,EAAE02E,aAAa1lE,cAAcvP,SAAS,uBAAyBzB,EAAE02E,aAAa1lE,cAAcvP,SAAS,wBACrGzB,EAAEwwB,OAAOmmD,OAEb,IAAID,EAAehxF,KAAK8wF,WAAWx2E,EAAE02E,cAChC3uF,EAAS4sF,iBAAuD1tF,MAAQ,EAAAwO,+BAA+Bq/E,OAExGpvF,KAAK+wF,gBAAgBhjD,QACrB/tC,KAAKkxF,mBAAmBF,KAIxBhxF,KAAKswF,oBAAsBU,EAC3BhxF,KAAKqB,MAAMrB,KAAKswF,wBAI7BtwF,KAAKkwF,eAKZiB,QAAQnL,QAAU3jF,EAAQosF,QAC1B0C,QAAQC,OAAS,OACjBD,QAAQE,KACJ,CACI9J,SAAU,IAAMvnF,KAAKqL,UAAU8K,GAC/BqF,OAAQ,OACR81E,UAAWjvF,EAAQg6B,OACnBiX,YAAajxC,EAAQixC,YACrBi+C,OAAQlvF,EAAQuqD,UAChB4kC,aAAcnvF,EAAQqsF,YACtB+C,kBAAmBpvF,EAAQisF,YAC3B9/D,SAAUnsB,EAAQmsB,SAClB+/D,KAAMA,EACN4B,QAASX,EACTR,UAAW3sF,EAAQ2sF,UACnBr6B,QAASA,EAAUo7B,EACnBnB,QAASvsF,EAAQusF,QACjB8C,mBAAoBrvF,EAAQwsF,kBAC5B8C,aAAa,EACbC,kBAAmBvvF,EAAQ4Y,SAASs0E,eAAelyE,KAAK,OAAS,KACjEw0E,cAAe,qBAAuBxvF,EAAQ4Y,SAASq0E,YAAc,mDACrEwC,kBAAmB,MACnBC,cAAe1vF,EAAQysF,YACvBkD,MAAQC,IAGJ,GAAgC,MAA5B5vF,EAAS2tF,gBACb,CACI,IAAI5vF,EAAI,EACR,IAAK,IAAI8xF,KAAkB7vF,EAAS2tF,gBAEhCiC,EAAOE,GAAGC,SAASl7C,UAAU,aAAe92C,EACxC,CACI2a,KAAMm3E,EAAen3E,KACrBs3E,MAAOH,EAAe1+C,SACtBp9B,QAAS87E,EAAe97E,QACxBrD,KAAMm/E,EAAen/E,KACrBu/E,SAAU,SAAUh4E,GAEhB,GAA8B,MAA1B43E,EAAe/1D,QACnB,CACI,IAAI2pB,EAAa,IAAIysC,EACrBzsC,EAAWhb,OAAS9qC,KACpBkyF,EAAe/1D,QAAQ2pB,OAIvC1lD,IAMR6xF,EAAO91E,GAAG,QAAU7B,IAEhB,GAAwB,MAApBjY,EAASuoC,QACb,CACI,IAAI7lB,EAAQ,IAAIytE,EAChBztE,EAAM+lB,OAAS9qC,KACf+kB,EAAMpjB,IAAM2Y,EAAE3Y,IACdojB,EAAM0tE,QAAUn4E,EAAEm4E,QAClB1tE,EAAM2tE,UAAYp4E,EAClBjY,EAASuoC,QAAQ7lB,MAIzBktE,EAAO91E,GAAG,UAAY7B,IAGlB,GAAIA,EAAE3Y,KAAO,EAAA4Q,QAAQ+4B,IACrB,CACI,IAAIqnD,EAAgB,EAAAxnF,KAAKnL,KAAKsC,aAAaswF,QAAQ,wBAAwBhoE,QAAQ9e,KAAK,MACxF,GAAqB,MAAjB6mF,GAA0C,IAAjBA,EAC7B,CACIA,EAAgBA,EAAcv4E,QAAQ,YAAa,IACnD,IAAIzP,EAAU,EAAAF,eAAexJ,IAAI0xF,GAClB,MAAXhoF,EACAA,EAAQmd,QAER,EAAA3c,KAAKwnF,GAAe7qE,QAExBxN,EAAE0e,kBAKV,GAA0B,MAAtB32B,EAASqqC,UACb,CACI,IAAI3nB,EAAQ,IAAI8tE,EAOhB,GANA9tE,EAAM+lB,OAAS9qC,KACf+kB,EAAMpjB,IAAM2Y,EAAE3Y,IACdojB,EAAM0tE,QAAUn4E,EAAEm4E,QAClB1tE,EAAM2tE,UAAYp4E,EAClBjY,EAASqqC,UAAU3nB,GAEfA,EAAMhB,qBAGN,YADAzJ,EAAE0e,oBAMdi5D,EAAO91E,GAAG,OAAS7B,IAOf,GALAta,KAAK8yF,cAAe,EACpB,EAAA3nF,KAAKnL,KAAKkwF,cAAch0E,OACxB,EAAA/Q,KAAKmP,EAAE6oB,OAAO4vD,cAAcl3E,iBAAiBC,KAAK,QAAQN,OAAO,QACjE,EAAArQ,KAAKmP,EAAE6oB,OAAO4vD,cAAcl3E,iBAAiBC,KAAK,QAAQN,OAAO,0BAE1C,MAAnBnZ,EAAS2wF,OACb,CACI,IAAIjuE,EAAQ,IAAIkuE,EAKhB,GAJAluE,EAAM+lB,OAAS9qC,KACf+kB,EAAMA,MAAQzK,EACdjY,EAAS2wF,OAAOjuE,GAEZA,EAAMhB,qBACN,OAIa,MAAjB1hB,EAAS0Q,KACT/S,KAAKqB,MAAMgB,EAAS0Q,MACA,IAAf/S,KAAKurC,QACVvrC,KAAKqB,MAAMrB,KAAKurC,UAIxBvrC,KAAKkzF,aAAe,EAAAv9E,IAAI3V,KAAKsC,YAAa,CAAE4T,MAAO,mBAAoBF,QAAS,2BAEhFi8E,EAAO91E,GAAG,YAAc7B,IAEpB,GAA4B,MAAxBjY,EAAS8wF,YACb,CACI,IAAIC,EAAiB,IAAIC,EACzBD,EAAetoD,OAAS9qC,KACxBozF,EAAe/nF,QAAUiP,EAAE0rB,cAC3BotD,EAAeruE,MAAQzK,EACvB84E,EAAeV,UAAYp4E,EAC3BjY,EAAS8wF,YAAYC,GAGzB94E,EAAE0e,iBACF1e,EAAEg5E,oBAGNrB,EAAO91E,GAAG,WAAa7B,IAEnB,GAA2B,MAAvBjY,EAASkxF,WACb,CACI,IAAIC,EAAgB,IAAIC,EAOxB,GANAD,EAAc1oD,OAAS9qC,KACvBwzF,EAAcnoF,QAAUiP,EAAE0rB,cAC1BwtD,EAAczuE,MAAQzK,EACtBk5E,EAAcd,UAAYp4E,EAC1BjY,EAASkxF,WAAWC,GAEhBA,EAAczvE,qBAId,OAFAzJ,EAAE0e,sBACF1e,EAAEg5E,kBAKV,EAAAnoF,KAAKnL,KAAKkzF,cAAcn9E,IAAI,CAAE,QAAW,SAEzCuE,EAAE0e,iBACF1e,EAAEg5E,oBAGN,CAAC,YAAa,WAAY,YAAa,QAAQ55E,QAAQg6E,IAEnD1zF,KAAKkzF,aAAatmD,iBAAiB8mD,EAAYp5E,IAE3CA,EAAE0e,iBACF1e,EAAEg5E,oBACH,KAGP,EAAAnoF,KAAKnL,KAAKkzF,cAAc/2E,GAAG,YAAc7B,GAAWta,KAAK2zF,gBAAgBr5E,IACzE23E,EAAO91E,GAAG,YAAc7B,GAAWta,KAAK2zF,gBAAgBr5E,IAExD23E,EAAO91E,GAAG,OAAS7B,GAAWta,KAAK4zF,WAAWt5E,IAC9C,EAAAnP,KAAKnL,KAAKkzF,cAAc/2E,GAAG,OAAS7B,GAAWta,KAAK4zF,WAAWt5E,OAI3Eta,KAAK6zF,gBAAkB1C,QAAQlwF,IAAIjB,KAAKqL,UAAU8K,IAClDnW,KAAK8zF,UAAY9zF,KAAK6zF,gBAAgBj+E,SAItCu7E,QAAQ4C,aAAa53E,GAAG,QAAU7B,IAE9B,GAAwB,MAApBjY,EAAS4pC,QACb,CACI,IAAIlnB,EAAQ,IAAIivE,EAChBjvE,EAAM+lB,OAAS9qC,KACf+kB,EAAM2tE,UAAYp4E,EAClBjY,EAAS4pC,QAAQlnB,MAIzBosE,QAAQ4C,aAAa53E,GAAG,OAAS7B,IAE7B,GAAuB,MAAnBjY,EAASypC,OACb,CACI,IAAI/mB,EAAQ,IAAIkvE,EAChBlvE,EAAM+lB,OAAS9qC,KACf+kB,EAAM2tE,UAAYp4E,EAClBjY,EAASypC,OAAO/mB,MAIxBosE,QAAQ4C,aAAa53E,GAAG,cAAgB7B,IAEpC,GAA0B,MAAtBjY,EAAS6xF,UACb,CACI,IAAInvE,EAAQ,IAAIovE,EAChBpvE,EAAM+lB,OAAS9qC,KACf+kB,EAAMqvE,QAAU95E,EAAE85E,QAClBrvE,EAAM1jB,MAAQiZ,EAAEjZ,MAChB0jB,EAAM/b,KAAOsR,EAAEtR,KACf+b,EAAM2tE,UAAYp4E,EAClBjY,EAAS6xF,UAAUnvE,MAI3BosE,QAAQ4C,aAAa53E,GAAG,aAAe7B,IAEnC,GAA6B,MAAzBjY,EAASgyF,aACb,CACI,IAAItvE,EAAQ,IAAIuvE,EAChBvvE,EAAM+lB,OAAS9qC,KACf+kB,EAAM/O,QAAUsE,EAAEtE,QAClB+O,EAAM1Z,QAAUiP,EAAEjP,QAClB0Z,EAAM4J,OAASrU,EAAEqU,OACjB5J,EAAM/b,KAAOsR,EAAEtR,KACf+b,EAAM2tE,UAAYp4E,EAClBjY,EAASgyF,aAAatvE,MAI9BosE,QAAQ4C,aAAa53E,GAAG,oBAAsB7B,IAE1C,GAA+B,MAA3BjY,EAASkyF,eACb,CACI,IAAIxvE,EAAQ,IAAIyvE,EAChBzvE,EAAM+lB,OAAS9qC,KACf+kB,EAAMvJ,OAASlB,EAAEkB,OACjBuJ,EAAMxJ,MAAQjB,EAAEiB,MAChBwJ,EAAMoe,OAAS7oB,EAAE6oB,OACjBpe,EAAM/b,KAAOsR,EAAEtR,KACf+b,EAAM2tE,UAAYp4E,EAClBjY,EAASkyF,eAAexvE,MAIhCosE,QAAQ4C,aAAa53E,GAAG,gBAAkB7B,IAEtC,GAA8B,MAA1BjY,EAASoyF,cACb,CACI,IAAI1vE,EAAQ,IAAI2vE,EAChB3vE,EAAM+lB,OAAS9qC,KACf+kB,EAAMvJ,OAASlB,EAAEkB,OACjBuJ,EAAMxJ,MAAQjB,EAAEiB,MAChBwJ,EAAMoe,OAAS7oB,EAAE6oB,OACjBpe,EAAM/b,KAAOsR,EAAEtR,KACf+b,EAAM2tE,UAAYp4E,EAClBjY,EAASoyF,cAAc1vE,MAOnC,WAEI,OAAO/kB,KAAK8zF,UAGR,wBAEJ9zF,KAAK20F,0BACL30F,KAAKywF,gBAAgB98E,OAGjB,0BAEJ,GAA4B,MAAxB3T,KAAKywF,gBACL,OAEJ,IAAIpuF,EAAUrC,KAAK+sC,aACnB/sC,KAAKywF,gBAAkB,EAAA7qF,aAAa,CAChCqQ,MAAO,mBACPuF,OAAQ,IACRD,MAAO,IACPsuC,OAAO,EACPtnD,SAAU,CAAEk6B,OAAQ,GAAID,MAAO,IAC/BkwB,QAAQ,EACR5S,QAAUx/B,IAEN,EAAAnP,KAAKnL,KAAKywF,gBAAgBnuF,aAAa+X,SACtCra,KAAKywF,gBAA0B,KAC/BzwF,KAAK+wF,gBAA0B,QAIxC/wF,KAAK+wF,gBAAkB,EAAAntF,uBAAuB,CAC1C0vC,YAAa,oFACb93B,OAAQ,IACR6gB,QAAQ,EACR9gB,MAAO,QACRvb,KAAKywF,gBAAgBplF,WAExB,EAAAzI,aAAa,CACTmY,KAAM,EAAArO,iBAAiB8G,KACvBsoB,aAAc,uCACd/lB,IAAK,mDACLimB,cAAe,CAAEmnB,UAAW,QAC5B/mB,QAAU/5B,EAAQ4sF,iBAAuDI,iBACzElzD,QAAU7hB,IAEmB,MAArBta,KAAKwwF,cAAyBxwF,KAAKwwF,aAAap0D,UAGhDp8B,KAAKwwF,aAAatmD,QAFlBlqC,KAAK40F,uBAId50F,KAAKywF,gBAAgB9jC,UAGpB,qBAEJ3sD,KAAK60F,uBACL70F,KAAKwwF,aAAa78E,OAGd,uBAEqB,MAArB3T,KAAKwwF,eAGTxwF,KAAKwwF,aAAe,EAAA5qF,aAAa,CAC7BqQ,MAAO,qBACPuF,OAAQ,IACRD,MAAO,IACPsuC,OAAO,EACPtnD,SAAU,CAAEk6B,OAAQ,IAAKD,MAAO,IAChCkwB,QAAQ,EACR5S,QAAUx/B,IAEN,EAAAnP,KAAKnL,KAAKwwF,aAAaluF,aAAa+X,SACnCra,KAAKwwF,aAAuB,MAEjCx6E,QAAS,2iBAgBT,WAAWjD,EAAc+hF,GAAU,GA+CvC,OA5CA/hF,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,UACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,UACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,UAAW,UACxCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,UAAW,UACxCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,UAAW,UACxCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,UAAW,UACxCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,SAAU,UACvCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,SAAU,UACvCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,OACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,OACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,mBAAoB,MACjDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,mBAAoB,MACjDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,iBAAkB,MAC/CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,iBAAkB,MAC/CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,MACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,MACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,aAAc,MAC3CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,aAAc,MAC3CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,UAAW,KACxCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,UAAW,KACxCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,MACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,qBAAsB,MACnDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,qBAAsB,MACnDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,eAAgB,MAC7CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,eAAgB,MAC7CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,uBAAwB,MACrDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,uBAAwB,MACrDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,iBAAkB,MAC/CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,iBAAkB,MAC/CA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,OAAQ,QACrCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,SAAU,MACvCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,SAAU,MACvCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,QACzCA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,WAAY,QAEpC+hF,IAED/hF,EAAO/S,KAAK+0F,WAAWhiF,EAAM,qBAAsB,KACnDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,qBAAsB,KACnDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,qBAAsB,KACnDA,EAAO/S,KAAK+0F,WAAWhiF,EAAM,qBAAsB,MAIhDA,EAGH,WAAWA,EAAc+I,EAAc1B,GAE3C,IAAI46E,EAAYl5E,EAAKwP,cACjB2pE,EAAYn5E,EAAK6W,cACjBuiE,EAAiBp5E,EAAK8S,eAK1B,OADA7b,GADAA,GADAA,EAAOA,EAAKqH,QAAQ,IAAI+5B,OAAO6gD,EAAW,KAAM56E,IACpCA,QAAQ,IAAI+5B,OAAO8gD,EAAW,KAAM76E,IACpCA,QAAQ,IAAI+5B,OAAO+gD,EAAgB,KAAM96E,GAIjD,gBAAgBE,GAEpB,IAAIjY,EAAUrC,KAAK+sC,aACnB,GAA4B,MAAxB1qC,EAAS8yF,YACb,CACI,IAAIC,EAAiB,IAAIC,EAMzB,GALAD,EAAetqD,OAAS9qC,KACxBo1F,EAAe/pF,QAAUiP,EAAE0rB,cAC3BovD,EAAerwE,MAAQzK,EACvBjY,EAAS8yF,YAAYC,GAEjBA,EAAerxE,qBAIf,OAFAzJ,EAAE0e,sBACF1e,EAAEg5E,kBAKV,EAAAnoF,KAAKnL,KAAKkzF,cAAcrgF,OAExByH,EAAE0e,iBACF1e,EAAEg5E,kBAGE,WAAWh5E,GAEf,IAAIjY,EAAUrC,KAAK+sC,aACnB,GAAuB,MAAnB1qC,EAASizF,OACb,CACI,IAAIC,EAAgB,IAAIj7E,EAAEk7E,aAAaD,OAEnCE,EAAY,IAAIC,EAOpB,GANAD,EAAU3qD,OAAS9qC,KACnBy1F,EAAUpqF,QAAUiP,EAAE0rB,cACtByvD,EAAUF,MAAQA,EAClBE,EAAU1wE,MAAQzK,EAClBjY,EAASizF,OAAOG,GAEZA,EAAU1xE,qBAIV,OAFAzJ,EAAE0e,sBACF1e,EAAEg5E,kBAKV,EAAAnoF,KAAKnL,KAAKkzF,cAAcrgF,OAExByH,EAAE0e,iBACF1e,EAAEg5E,kBAGN,iBAEI,OAAOtzF,KAAK6zF,gBAGhB,MAAM9gF,EAAsBkvB,GAAO,GAEnB,MAARlvB,IAEA/S,KAAKurC,OAASx4B,EACV/S,KAAK21F,iBAAiBC,aACtB51F,KAAK21F,iBAAiBE,WAAW9iF,IAGzC,IAAIwY,EAAUvrB,KAAK21F,iBAA4B,YAAK,EAAS31F,KAAK21F,iBAAiBG,aAAe91F,KAAKiM,OAAO64D,UAAa,GAE3H,OADc9kE,KAAK+sC,aACPgiD,mBACDxjE,EAAOnR,QAAQ,MAAO,QAAQA,QAAQ,QAAS,SAE/CmR,EAGf,mBAAmBxY,GAEf/S,KAAK21F,iBAAiBI,cAAchjF,GAGxC,WAAWA,EAAckvB,GAAO,GAE5B,OAAOjiC,KAAKqB,MAAMrB,KAAKqB,MAAM,KAAM4gC,GAAQlvB,GAG/C,OAEI,OAAO/S,KAAK21F,iBAAiBK,UAGjC,mBAEI,OAAOh2F,KAAKuwF,kBAGhB,QAEIvwF,KAAKqB,MAAM,IACXrB,KAAKswF,mBAAqB,GAG9B,QAEI,GAAKtwF,KAAK8yF,aAYNv5E,EAAE43E,QAAQlwF,IAAIjB,KAAKqL,UAAU8K,IAAI6/E,WAAWC,QAAQ,aAXxD,CACI,IAAIC,EAAgB1xE,OAAOua,YAAY,KAE/B/+B,KAAK8yF,eAELv5E,EAAE43E,QAAQlwF,IAAIjB,KAAKqL,UAAU8K,IAAI6/E,WAAWC,QAAQ,SACpDzxE,OAAOya,cAAci3D,KAE1B,MAMX,YAAYxhE,GAGR,IAAqB,IADP10B,KAAK+sC,aACPwhD,KAKR,OAH+B,MAA3B75D,EAAKyhE,qBAA4BzhE,EAAKyhE,mBAAqB,IAAI,EAAAtvC,oBAC9B,MAAjCnyB,EAAKyhE,mBAAmB56E,QAAemZ,EAAKyhE,mBAAmB56E,MAAQ,QAEnEmZ,EAAK1rB,MAET,KAAK,EAAA8G,yBAAyBrK,YAAa,EAAAD,kBAAkBkvB,EAAKmnD,mBAAoB77E,KAAKkwF,cAAe,MAC1G,KAAK,EAAApgF,yBAAyB7J,OAAQ,EAAAD,aAAa0uB,EAAK0hE,cAAep2F,KAAKkwF,cAAe,MAC3F,KAAK,EAAApgF,yBAAyB/M,YAAa,EAAAD,kBAAkB4xB,EAAKyhE,mBAAoBn2F,KAAKkwF,cAAe,MAC1G,KAAK,EAAApgF,yBAAyB3K,SAAU,EAAAD,eAAewvB,EAAKunD,gBAAiBj8E,KAAKkwF,cAAe,MACjG,KAAK,EAAApgF,yBAAyBzL,WAAY,EAAAD,iBAAiBswB,EAAKwnD,kBAAmBl8E,KAAKkwF,cAAe,MACvG,KAAK,EAAApgF,yBAAyB7M,QAAS,EAAAD,cAAc0xB,EAAKynD,eAAgBn8E,KAAKkwF,cAAe,MAC9F,KAAK,EAAApgF,yBAAyBjN,OAAQ,EAAAD,aAAa8xB,EAAK2hE,cAAer2F,KAAKkwF,cAAe,MAC3F,KAAK,EAAApgF,yBAAyB7L,UAAW,EAAAD,gBAAgB0wB,EAAK4hE,iBAAkBt2F,KAAKkwF,cAAe,MACpG,KAAK,EAAApgF,yBAAyBnN,MAAO,EAAAP,YAAYsyB,EAAK6hE,aAAcv2F,KAAKkwF,eAKrF,aAEI,OAAOlwF,KAAKqC,UAKhB,SAEI4mB,MAAMoT,SACiB,MAAnBr8B,KAAK4V,aACL5V,KAAK4V,WAAW07E,UAAW,GAEhB,MAAXH,SAA2C,MAAxBA,QAAQ4C,cAC3B5C,QAAQ4C,aAAaxyF,KAAK41B,IAAI,UAEJ,MAA1Bn3B,KAAKuwF,mBACLvwF,KAAKuwF,kBAAkBl0D,SAG/B,UAEIpT,MAAMqT,UACiB,MAAnBt8B,KAAK4V,aACL5V,KAAK4V,WAAW07E,UAAW,GAEhB,MAAXH,SAA2C,MAAxBA,QAAQ4C,cAC3B5C,QAAQ4C,aAAaxyF,KAAK41B,IAAI,YAEJ,MAA1Bn3B,KAAKuwF,mBACLvwF,KAAKuwF,kBAAkBj0D,WAp2BnC,WAg5BA,MAAMk6D,UAAoB,EAAA33E,iBAM1B,MAAa0zE,UAA6BiE,GAA1C,yBAIA,MAAMxC,UAA2BwC,GAGjC,MAAMvC,UAA0BuC,GAGhC,MAAMrC,UAA6BqC,GAOnC,MAAMlC,UAA8BkC,GAQpC,MAAMhC,UAA8BgC,GAQpC,MAAM9B,UAA6B8B,GAQnC,MAAMhE,UAA2BgE,GAMjC,MAAM3D,UAA6B2D,GAMnC,MAAMvD,UAA0BuD,GAKhC,MAAMC,UAA4BD,GAMlC,MAAMd,UAAwBe,GAK9B,MAAMpD,UAA6BoD,GACnC,MAAMhD,UAA4BgD,GAClC,MAAMpB,UAA6BoB,K,6LC7gCnC,aACA,OACA,OAEA,OACA,OACA,OACA,OACA,OACA,OAGA,MAAaC,UAAsB,EAAA3rF,kBAAnC,kBA6BA,MAAalF,UAAe,EAAAqjC,UAaxB,YAAY79B,EAAsBhJ,GAgE9B,GA7De,MAAXA,IACAA,EAAU,IAAIq0F,GAEG,MAAjBr0F,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACtB,MAAnBnZ,EAAQmwE,UAAiBnwE,EAAQmwE,QAAU,IAC1B,MAAjBnwE,EAAQwnD,QAAexnD,EAAQwnD,OAAQ,GAClB,MAArBxnD,EAAQ0oE,YAAmB1oE,EAAQ0oE,WAAY,GACtB,MAAzB1oE,EAAQs0F,gBAAuBt0F,EAAQs0F,eAAgB,GAClC,MAArBt0F,EAAQu0F,YAAmBv0F,EAAQu0F,WAAY,GAC7B,MAAlBv0F,EAAQgZ,SAAgBhZ,EAAQgZ,QAAS,GACvB,MAAlBhZ,EAAQ2Z,SAAgB3Z,EAAQ2Z,QAAS,GACxB,MAAjB3Z,EAAQ4T,QAAe5T,EAAQ4T,OAAQ,GACd,MAAzB5T,EAAQw0F,gBAAuBx0F,EAAQw0F,eAAgB,GAErC,MAAlBx0F,EAAQqqD,SAAqC,IAAnBrqD,EAAQqqD,SAAiBrqD,EAAQqqD,OAC3D,CACI,CAAE1jD,KAAM,EAAAwG,yBAAyB0jD,MAAO7xD,MAAO,SAC/C,CAAE2H,KAAM,EAAAwG,yBAAyB47D,GAAI/pE,MAAO,QAG5B,MAApBgB,EAAQqxC,WAAkBrxC,EAAQqxC,UAAW,IACxB,IAArBrxC,EAAQqxC,WAAmBrxC,EAAQqxC,SAAW,EAAAhkC,4BAA4Bm9D,QAGrD,MAArBxqE,EAAQy0F,YAAoB,EAAAniF,cAAcG,WAAczS,EAAQy0F,WAAY,EAAOz0F,EAAQy0F,WAAY,IACjF,IAAtBz0F,EAAQy0F,YAE2B,kBAAvBz0F,EAAiB,YAOS,IAA9BA,EAAQy0F,UAAUtkB,SALtBnwE,EAAQkZ,MAAQ,oBAChBlZ,EAAQmZ,OAAS,sBAWbnZ,EAAQkZ,MAAQ,OAChBlZ,EAAQmZ,OAAS,SAQ7ByN,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBmD,QACxC,EAAAsF,KAAKnL,KAAKsC,aAAauQ,OACvB7S,KAAK+2F,0BAA4B,GACjC/2F,KAAKg3F,yBAA2B,GAChCh3F,KAAKi3F,kCAAoC,GAEvB,MAAd50F,EAAQ8T,IACR,EAAAhL,KAAKnL,KAAKqL,WAAWS,KAAK,KAAMzJ,EAAQ8T,KAGtB,IAAlB9T,EAAQ4T,MACZ,EAC0B,IAAlB5T,EAAQ4T,QAAgB5T,EAAQ4T,MAAQ,IAC5C,IAAIA,EAAQ,GAEkB,iBAAlB5T,EAAa,QAErB4T,EAAQ5T,EAAQ4T,MAChB5T,EAAQ4T,MAAQ,IAAIihF,GAGE,MAAtB70F,EAAQ4T,MAAMlD,OAAc1Q,EAAQ4T,MAAMlD,KAAOkD,GACvB,MAA1B5T,EAAQ4T,MAAMgF,WAAkB5Y,EAAQ4T,MAAMgF,SAAW,IAC1B,MAA/B5Y,EAAQ4T,MAAM+lB,gBAAuB35B,EAAQ4T,MAAM+lB,cAAgB,IAAI,EAAAhe,eAC9B,MAAzC3b,EAAQ4T,MAAM+lB,cAAcmnB,YAAmB9gD,EAAQ4T,MAAM+lB,cAAcmnB,UAAY,QAChE,MAAvB9gD,EAAQ4T,MAAM0lB,QAAet5B,EAAQ4T,MAAM0lB,MAAQ,EAAA/tB,cAAc0tB,MAErEt7B,KAAKqxD,WAAa,EAAAlmD,KAAK,sCAAsCkL,gBAAgBrW,KAAKsC,aAAa,GACtE,MAArBD,EAAQ80F,YACRn3F,KAAKqxD,WAAW51C,MAAMC,SAAWrZ,EAAQ80F,WAE7C,IAAIC,EAAkB,EAAAjsF,KAAK,uCAAuCmL,eAAetW,KAAKqxD,YAUtF,GATA,EAAAjvD,YAAY,CACRmZ,MAAO,OACPxI,KAAM1Q,EAAQ4T,MAAMlD,KACpBkI,SAAU5Y,EAAQ4T,MAAMgF,SACxB+gB,cAAe35B,EAAQ4T,MAAM+lB,cAC7BL,MAAOt5B,EAAQ4T,MAAM0lB,MACrB8kC,MAAM,GACP22B,GAEC/0F,EAAQ0oE,YAAc1oE,EAAQs0F,cAClC,CACI,IAAIU,EAAgB,EAAAlsF,KAAK,2CAA2CmL,eAAetW,KAAKqxD,YACxF,EAAAlmD,KAAK,EAAAH,eAAe9C,WAAW,EAAAyE,mBAAmBqrC,QAAQ1hC,eAAe+gF,GACzEA,EAAcz0D,MAAM,IAAM5iC,KAAKkqC,SAE3B7nC,EAAQs0F,eACR,EAAAxrF,KAAKksF,GAAexkF,QA+ChC,GAzCIxQ,EAAQu0F,YAER,EAAAzrF,KAAKnL,KAAKqxD,YAAYt7C,IAAI,SAAU,QACpC,EAAA5K,KAAKnL,KAAKqxD,YAAYv1C,KAAK,2BAA2B/F,IAAI,SAAU,QAEpE,EAAA5K,KAAKnL,KAAKqxD,YAAYv5B,OAAO93B,KAAKsC,YAC7BgY,IAEG,GAAIA,EAAEyK,MAAMoe,OAAOnpB,UAAU6yB,SAAS,YAIlC,OAFAvyB,EAAE0e,sBACF1e,EAAEyK,MAAMiU,iBAKZ,GADA,EAAA7tB,KAAKnL,KAAKsC,aAAaw4B,SAAS,oBACJ,MAAxBz4B,EAASi1F,YACb,CACI,IAAIC,EAAiB,IAAIC,EACzBD,EAAezsD,OAAS9qC,KACxBu3F,EAAexwE,KAAOzM,EAAEyM,KACxBwwE,EAAe3wE,IAAMtM,EAAEsM,IACvBvkB,EAASi1F,YAAYC,KAG5Bj9E,IAGG,GADA,EAAAnP,KAAKnL,KAAKsC,aAAau8B,YAAY,oBACT,MAAtBx8B,EAASo1F,UACb,CACI,IAAIC,EAAe,IAAIC,EACvBD,EAAa5sD,OAAS9qC,KACtB03F,EAAa3wE,KAAOzM,EAAEyM,KACtB2wE,EAAa9wE,IAAMtM,EAAEsM,IACrBvkB,EAASo1F,UAAUC,OAO/Br1F,EAAQqqD,OACZ,CACI1sD,KAAKyyD,WAAa,EAAAtnD,KAAK,sCAAsCmL,eAAetW,KAAKsC,aAAa,GAC9FtC,KAAKyyD,WAAWh3C,MAAMC,SAAW,eAAoC,EAAlBrZ,EAAQmwE,QAAe,MAE1E,IAAK,IAAIjG,KAAclqE,EAAQqqD,OAC3B1sD,KAAK4uE,cAAcrC,GAKvBlqE,EAAQgZ,SACRrb,KAAK43F,QAAU,EAAAzsF,KAAK,eAAiBnL,KAAKqL,UAAU8K,GAAK,oDAAoDG,eAAetW,KAAKqL,WAAW,IAEzH,MAAnBhJ,EAAQ2T,SACRhW,KAAKgW,QAAQ3T,EAAQ2T,SAK7B,KAAK6hF,EAAmD1qB,GAAS,EAAM5qE,GAEnE,IAAIF,EAAUrC,KAAK+sC,aAgEnB,OA/DA/sC,KAAKsC,YAAYmZ,MAAMC,SAAW,sBAGlB,MAAZnZ,EACAvC,KAAKuC,SAASA,EAASwkB,KAAMxkB,EAASqkB,IAAKrkB,EAASi6B,MAAOj6B,EAASk6B,QAC3C,MAApBp6B,EAAQE,SACbvC,KAAKuC,SAASF,EAAQE,SAASwkB,KAAM1kB,EAAQE,SAASqkB,IAAKvkB,EAAQE,SAASi6B,MAAOn6B,EAAQE,SAASk6B,QAC/F0wC,GACLntE,KAAKmtE,SAEL9qE,EAAQy0F,YAE2B,kBAAvBz0F,EAAiB,UACzBrC,KAAK83F,SAASz1F,EAAQy0F,UAAWtkB,SAEjCxyE,KAAK83F,YAIc,MAAvBD,IACA73F,KAAK+3F,qBAAuBF,GAElB,IAAIvxE,QAAS0xE,IAEvB,EAAA7sF,KAAKnL,KAAKsC,aAAa4Z,OAEvB,IAAIV,EAAS,EAAArQ,KAAKnL,KAAKsC,aAAakZ,SAAgC,EAApBnZ,EAASmwE,SACnC,IAAlBnwE,EAAQ4T,QACRuF,GAAU,EAAArQ,KAAKnL,KAAKqxD,YAAYxqC,eAChCxkB,EAAQqqD,SACRlxC,GAAU,EAAArQ,KAAKnL,KAAKyyD,YAAY5rC,eAEpC7mB,KAAKqL,UAAUoQ,MAAMC,SAAW,WAAaF,EAAS,0BAAiD,EAApBnZ,EAASmwE,QAAgB,cAAgBnwE,EAASmwE,QAAW,YAAcnwE,EAASmwE,QAAW,KAElL,IAAIylB,EAAkBv7E,MAAMm/B,KAAkB,EAAA1wC,KAAK,uBAAuByR,IAAIsY,GAAKzD,OAAO,EAAAtmB,KAAK+pB,GAAGnf,IAAI,aAAakgB,QAmBnH,GAlBA,EAAA9qB,KAAKnL,KAAKsC,aAAayT,IAAI,UAAYkiF,EAAkB,GAGrD51F,EAAQwnD,QAEgB,MAApB7pD,KAAKk4F,cACLl4F,KAAKk4F,YAAc,EAAA/sF,KAAK,0DAA4DnL,KAAKqL,UAAU8K,GAAK,YAAYG,eAAetW,KAAKsC,YAAYo7D,eAAe,IAEnKr7D,EAAQ0oE,WACR,EAAA5/D,KAAKnL,KAAKk4F,aAAat1D,MAAM,IAAM5iC,KAAKkqC,SAE5C,EAAA/+B,KAAKnL,KAAKk4F,aAAaniF,IAAI,UAAYkiF,EAAkB,IAIxC,MAAjBD,IACAh4F,KAAKm4F,mBAAqBH,GAER,MAAlB31F,EAAQ+1F,OACZ,CACI,IAAIC,EAAY,IAAIC,EACpBD,EAAUvtD,OAAS9qC,KACnBqC,EAAQ+1F,OAAOC,GAGnB,IAAK,IAAIE,KAAgBv4F,KAAKg3F,yBAC1BuB,MAKZ,MAAMC,GAAgB,GAElB,IAAIn2F,EAAUrC,KAAK+sC,aAEnB,GAAIyrD,GAE6B,MAAzBn2F,EAAQw6E,cACZ,CACI,IAAI4b,EAAmB,IAAIC,EAI3B,GAHAD,EAAiB3tD,OAAS9qC,KAC1BqC,EAAQw6E,cAAc4b,GAElBA,EAAiB10E,qBACjB,OAYZ,GARK1hB,EAAQw0F,cAGT,EAAA1rF,KAAKnL,KAAKsC,aAAa+X,SAFvB,EAAAlP,KAAKnL,KAAKsC,aAAauQ,OAI3B,EAAA1H,KAAKnL,KAAKk4F,aAAa79E,SACtBra,KAAKk4F,YAAsB,KAEK,MAA7Bl4F,KAAK+3F,sBAAgC/3F,KAAK+3F,qBAAqBn7E,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAAS,SAC9F,CACI,IAAIK,EAAWpc,KAAK+3F,qBAAqBziE,OAAOJ,GAAgB,SAAXA,EAAE7zB,OAAkB,GAAG+a,SAC5D,MAAZA,GACAA,IAGuB,MAA3Bpc,KAAKm4F,oBACLn4F,KAAKm4F,qBAET,IAAK,IAAIQ,KAAiB34F,KAAK+2F,0BAC3B4B,IAEJ,GAAIH,GAEuB,MAAnBn2F,EAAQy3C,QACZ,CACI,IAAIC,EAAa,IAAI6+C,EACrB7+C,EAAWjP,OAAS9qC,KACpBqC,EAAQy3C,QAAQC,IAK5B,SAEI,EAAA5uC,KAAKnL,KAAKsC,aAAa+X,SACvB,EAAAlP,KAAKnL,KAAKk4F,aAAa79E,SAG3B,qBAAqB+B,GAEjBpc,KAAK+2F,0BAA2BvjE,QAAQpX,GAG5C,oBAAoBA,GAEhBpc,KAAKg3F,yBAA0BxjE,QAAQpX,GAG3C,6BAA6BA,GAEzBpc,KAAKi3F,kCAAmCzjE,QAAQpX,GAGpD,iBAAiBgd,GAEb,IAAIy/D,EAAY,EAAA1tF,KAAKnL,KAAKsC,aAAawZ,KAAK,sBAM5C,OALa,MAATsd,IAEIA,EAAOy/D,EAAU38E,OAChB28E,EAAUhmF,QAEZgmF,EAAUhtF,GAAG,YAGxB,MAAMkH,GAEF,OAA8D,MAA1D,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwB,GAC7C,IAEC,MAAR/I,IACA,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwB,GAAGgmB,UAAY/uB,GAEhE,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwB,GAAGgmB,WAGlE,SAAS0wC,GAAU,GAEf,IAAIj3D,EAAQ,EAAY,oBAAsB,OAC1CC,EAAS,EAAY,oBAAsB,OAC/Cxb,KAAKuxF,OAAOh2E,EAAOC,GAEnB,IAAInZ,EAAUrC,KAAK+sC,aACK,MAApB1qC,EAAQE,SACRvC,KAAKuC,SAASF,EAAQE,SAASwkB,KAAM1kB,EAAQE,SAASqkB,IAAKvkB,EAAQE,SAASi6B,MAAOn6B,EAAQE,SAASk6B,QAEpGz8B,KAAKmtE,SAGb,OAAO5xD,EAAyBC,GAE5B,IAAInZ,EAAUrC,KAAK+sC,aACf+rD,EAAqB,MAATv9E,EAAiBA,EAAQlZ,EAAQkZ,MAC7Cw9E,EAAuB,MAAVv9E,EAAkBA,EAASnZ,EAAQmZ,OACpDxb,KAAKub,MAAMu9E,GACX94F,KAAKwb,OAAOu9E,GAGhB,SAASz7D,EAAyC,EAAA5tB,4BAA4Bm9D,OAAQtkB,GAAU,EAAO4kB,GAAS,GAE5GntE,KAAKg5F,iBAAmBzwC,EAEpBjrB,GAAa,EAAA5tB,4BAA4Bm9D,OACzC7sE,KAAKwb,OAAO,OAAQ2xD,GAEpBntE,KAAKub,MAAM,OAAQ4xD,GAEvBntE,KAAKg5F,kBAAmB,EAG5B,QAAQhjF,EAAiBgG,GAAkD,EAAOrI,GAAO,EAAOw8B,GAAgB,GAE5G,IAAI9tC,EAAUrC,KAAK+sC,aAGfpxB,EAAiC,KACrC,GAAItZ,EAAQgZ,OACZ,CACI,IAAIO,EAAwB5b,KAAK43F,QAAS/7E,gBAC1C,EAAA1Q,KAAKyQ,GAAuBE,KAAK,QAAQ/F,IAAI,SAAU,OAC1B,MAAzB6F,IACAD,EAAaC,EAAsB3P,MAI5B,MAAX+J,IAAoBA,EAAQmsB,SAAS,UAAYnsB,EAAQmsB,SAAS,SAClEnsB,EAAQ+F,SAAS,UAAY/F,EAAQ9K,WAAW,SAAW8K,EAAQ9K,WAAW,QAE1E7I,EAAQ2Z,SAAqB,IAAXA,MAEH,IAAXA,IACAA,EAAShc,KAAKqL,WAElB,EAAA4Q,cAAcC,MAAiB,IAAXF,EAAoBhc,KAAKqL,UAAY2Q,IAGxD3Z,EAAQgZ,QAeT,EAAAlQ,KAAKnL,KAAK43F,SAAS9rF,KAAK,MAAOkK,GAC/B,EAAA7K,KAAKnL,KAAK43F,SAASz7E,GAAG,OAAQ,KAE1B,IAAIP,EAAwB5b,KAAK43F,QAAS/7E,gBAC1C,EAAA1Q,KAAKyQ,GAAuBE,KAAK,QAAQ/F,IAAI,SAAU,OAEnDo6B,GACAnwC,KAAKi5F,kBAETj5F,KAAKk5F,qBAEDvlF,GACA3T,KAAK2T,UAzBb,EAAAxI,KAAKnL,KAAKqL,WAAW8tF,KAAKnjF,EAAS,KAE3Bm6B,GACAnwC,KAAKi5F,kBAETj5F,KAAKk5F,qBAEDvlF,GACA3T,KAAK2T,WAuBjB,EAAAxI,KAAKnL,KAAKqL,WAAWy/C,QACN,MAAX90C,GAAoBA,EAAQ9K,WAAW,OACvC8K,EAAU,QAAUA,EAAU,UAE7B3T,EAAQgZ,OAGT,EAAAlQ,KAAK6K,GAASM,eAAeqF,GAF7B,EAAAxQ,KAAK6K,GAASM,eAAetW,KAAKqL,WAIlC8kC,GACAnwC,KAAKi5F,kBAETj5F,KAAKk5F,qBAEDvlF,GACA3T,KAAK2T,QAIT,qBAEJ,IAAItR,EAAUrC,KAAK+sC,cACM,IAArB1qC,EAAQqxC,UACR1zC,KAAK0zC,SAASrxC,EAAQqxC,UAAyC,GAGvE,QAEkB1zC,KAAK+sC,aACP1xB,OACR,EAAAlQ,KAAKnL,KAAK43F,SAASruC,WAAW,OAE9B,EAAAp+C,KAAKnL,KAAKqL,WAAWy/C,QAG7B,aAEI,OAAO9qD,KAAKk4F,YAGhB,SAEI,IAAIlmC,EAAY,EAAA7mD,KAAKqZ,QAAQwtC,YAEzBprC,EADepC,OAAOwZ,YACA,EAAM,EAAA7yB,KAAKnL,KAAKsC,aAAakZ,SAAW,EAAKw2C,EAEnE1J,EAAa,EAAAn9C,KAAKqZ,QAAQ8jC,aAE1BvhC,EADcvC,OAAO40E,WACC,EAAM,EAAAjuF,KAAKnL,KAAKsC,aAAaiZ,QAAU,EAAK+sC,EAEtEtoD,KAAKuC,SAASwkB,EAAMH,GAGxB,SAASG,EAA+BH,EAA8B4V,EAAgCC,GAElG,IAAImK,EAAe,GACP,MAAR7f,IAEA6f,EAAe,SAAW7f,EAAO,IACZ,iBAAV,IACP6f,EAAe,SAAW7f,EAAO,QAGzC,IAAI8f,EAAc,GACP,MAAPjgB,IAEAigB,EAAc,QAAUjgB,EAAM,IACV,iBAAT,IACPigB,EAAc,QAAUjgB,EAAM,QAGtC,IAAIyyE,EAAgB,GACP,MAAT78D,IAEAoK,EAAe,eACfyyD,EAAgB,UAAY78D,EAAQ,IACd,iBAAX,IACP68D,EAAgB,UAAY78D,EAAQ,QAG5C,IAAI88D,EAAiB,GACP,MAAV78D,IAEAoK,EAAc,cACdyyD,EAAiB,WAAa78D,EAAS,IAChB,iBAAZ,IACP68D,EAAiB,WAAa78D,EAAS,QAG/Cz8B,KAAKsC,YAAYmZ,MAAMC,SAAWkrB,EAAeC,EAAcwyD,EAAgBC,EAC/E,IAAI/2F,EAAWgX,EAAEvZ,KAAKsC,aAAaC,WACnC,MAAO,CAAEwkB,KAAMxkB,EAASwkB,KAAMH,IAAKrkB,EAASqkB,KAGhD,WAAgCvlB,GAE5B,IAAIgK,EAAU,EAAAF,KAAKnL,KAAKyyD,YAAY32C,KAAK,WAAaza,EAAQ,MAAM,GACpE,OAAO,EAAAoJ,eAAexJ,IAAmB,MAAXoK,EAAmBA,EAAQ8K,GAAK,IAGlE,eAAe9U,GAEXrB,KAAKusE,WAAWlrE,GAAOwR,OAG3B,eAAexR,GAEXrB,KAAKusE,WAAWlrE,GAAO6a,OAG3B,iBAAiB7a,GAEbrB,KAAKusE,WAAWlrE,GAAOg7B,SAG3B,kBAAkBh7B,GAEdrB,KAAKusE,WAAWlrE,GAAOi7B,UAG3B,cAAciwC,GAEc,MAApBA,EAAW5wC,QAAe4wC,EAAW5wC,MAAQ,EAAAlsB,0BAA0BgsB,OAC3E,IAAIK,EAAe,kCAInB,GAHIywC,EAAW5wC,OAAS,EAAAlsB,0BAA0B6rB,OAC9CQ,EAAe,mCAEfywC,EAAWvjE,MAAQ,EAAAwG,yBAAyB0jD,OAASqZ,EAAWvjE,MAAQ,EAAAwG,yBAAyB47D,IAC9FmB,EAAWvjE,MAAQ,EAAAwG,yBAAyBsmD,QAA6B,MAAnByW,EAAWvjE,KACxE,CAEI,IAAI+J,EAAOw5D,EAAWx5D,KAClBw5D,EAAWvjE,MAAQ,EAAAwG,yBAAyB0jD,OAASqZ,EAAWvjE,MAAQ,EAAAwG,yBAAyB47D,KACjGr4D,EAA2B,MAAnBw5D,EAAWx5D,KAAgBw5D,EAAWx5D,KAASw5D,EAAWvjE,MAAQ,EAAAwG,yBAAyB0jD,MAAS,SAAW,SAE3H,IAAI7xD,EAAQkrE,EAAWlrE,MAClBkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyB0jD,OAASqZ,EAAWvjE,MAAQ,EAAAwG,yBAAyB47D,IAAiB,MAAT/pE,GAA0B,IAATA,IAC3HA,EAASkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyB0jD,MAAS,QAAU,MAE9D,MAAT7xD,GAA0B,IAATA,GAAwB,MAAR0R,IAClC1R,EAAQ0R,EAAKqH,QAAQ,gBAAiB,IAAIA,QAAQ,SAAU,KAEhE,IAAI7Y,EAAOgrE,EAAWhrE,KAClBgrE,EAAWvjE,MAAQ,EAAAwG,yBAAyB47D,KAC5C7pE,EAAO,EAAAgM,eAAe2tB,SAE1B,IAAI4nB,EAAS,EAAAlgD,aACT,CACImQ,KAAMA,EACNgI,KAAMwxD,EAAWxxD,KACjBkoC,aAAcspB,EAAWtpB,aACzBzP,SAAU+4B,EAAW/4B,SACrBjyC,KAAMA,EACNy6B,cAAeuwC,EAAWvwC,cAC1B5lB,QAASm2D,EAAWn2D,QACpBovC,oBAAqB+mB,EAAW/mB,oBAChCppB,QAASmwC,EAAWnwC,QACpBC,OAAQkwC,EAAWlwC,OACnBtmB,IAAKw2D,EAAWx2D,IAChB+lB,aAAcA,EAAeywC,EAAWzwC,aACxC5lB,MAAOq2D,EAAWr2D,MAClBqF,MAAOgxD,EAAWhxD,MAClB4gB,QAAU7hB,IAKN,GAHIiyD,EAAWvjE,MAAQ,EAAAwG,yBAAyB0jD,OAC5ClzD,KAAKkqC,QAEiB,MAAtBqiC,EAAWpwC,QACf,CACI,IAAI2pB,EAAa,IAAIyzC,EACrBzzC,EAAWhb,OAAS9qC,KACpBusE,EAAWpwC,QAAQ2pB,GAGvB,GAAa,MAATzkD,GAA8C,MAA7BrB,KAAK+3F,sBAAgC/3F,KAAK+3F,qBAAqBn7E,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAAS1a,GAC/G,CACI,IAAI+a,EAAWpc,KAAK+3F,qBAAqBziE,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAAG+a,SAC1D,MAAZA,GACAA,OAGbpc,KAAKyyD,YAEC,MAATpxD,GACA,EAAA8J,KAAK23C,EAAOz3C,WAAWS,KAAK,QAASzK,QAGxC,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBvL,UACrD,CACI,IAAI8lD,EAAY,EAAA/lD,gBAAgB,CAC5B83B,aAAcA,GACf97B,KAAKyyD,YAEgB,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAK4+C,EAAU1+C,WAAWS,KAAK,QAASygE,EAAWlrE,YAEtD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyB/J,aAA8C,MAA/B8mE,EAAWuP,iBAC/E,CAEI,IAAI0d,EAAc,EAAAh0F,kBACd,CACIuN,KAAMw5D,EAAWx5D,KACjBgI,KAAMwxD,EAAWxxD,KACjBy4B,SAAU+4B,EAAW/4B,SACrBxX,cAAeuwC,EAAWvwC,cAC1B5lB,QAASm2D,EAAWn2D,QACpBkhC,MAAOi1B,EAAWuP,iBAClB1/C,QAASmwC,EAAWnwC,QACpBC,OAAQkwC,EAAWlwC,OACnBtmB,IAAKw2D,EAAWx2D,IAChB+lB,aAAcywC,EAAWzwC,aAAe,KAAOA,EAC/C5lB,MAAOq2D,EAAWr2D,MAClBimB,QAAgC,MAAtBowC,EAAWpwC,aAAmBze,EAAapD,IAEjD,GAA0B,MAAtBiyD,EAAWpwC,QACf,CACI,IAAI2pB,EAAa,IAAIyzC,EACrBzzC,EAAWhb,OAAS9qC,KACpBusE,EAAWpwC,QAAQ2pB,GAGvB,GAAwB,MAApBymB,EAAWlrE,OAA8C,MAA7BrB,KAAK+3F,sBAAgC/3F,KAAK+3F,qBAAqBn7E,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAASwwD,EAAWlrE,OACrI,CACI,IAAI+a,EAAWpc,KAAK+3F,qBAAqBziE,OAAOJ,GAAKA,EAAE7zB,OAASkrE,EAAWlrE,OAAO,GAAG+a,SACrE,MAAZA,GACAA,MAGZ4sC,SAAW1uC,IAEP,GAAe,MAAXA,EAAEjZ,OAA8C,MAA7BrB,KAAK+3F,sBAAgC/3F,KAAK+3F,qBAAqBn7E,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAASzB,EAAEjZ,OACnH,CACI,IAAI+a,EAAWpc,KAAK+3F,qBAAqBziE,OAAOJ,GAAKA,EAAE7zB,OAASiZ,EAAEjZ,OAAO,GAAG+a,SAC5D,MAAZA,GACAA,OAGbpc,KAAKyyD,YAEY,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAKquF,EAAYnuF,WAAWS,KAAK,QAASygE,EAAWlrE,YAGxD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBvJ,OACrD,CACqC,MAA7BsmE,EAAW6P,iBAEX7P,EAAW6P,eAAiB,IAAIqd,EAChCltB,EAAW6P,eAAetP,SAAW,GACrCP,EAAW6P,eAAerP,QAAU,IAGC,MAArCR,EAAW6P,eAAethC,UAAiByxB,EAAW6P,eAAethC,SAAU,GACnF,IAAI4+C,EAAgB,EAAA1zF,aAChB,CACI8mE,SAAUP,EAAW6P,eAAgBtP,SACrCC,QAASR,EAAW6P,eAAgBrP,QACpCjyB,QAASyxB,EAAW6P,eAAethC,QACnChf,aAAcywC,EAAWzwC,aAAe,KAAOA,EAC/C/lB,IAAKw2D,EAAWx2D,IAChBG,MAAOq2D,EAAWr2D,MAClBkmB,QAASmwC,EAAWnwC,QACpBC,OAAQkwC,EAAWlwC,OACnB2wC,SAAW1yD,IAEP,GAA0C,MAAtCiyD,EAAW6P,eAAgBvhC,QAC/B,CACI,IAAIyhC,EAAmB,IAAIqd,EAC3Brd,EAAiBxhC,QAAUxgC,EAAEwgC,QAC7ByxB,EAAW6P,eAAgBvhC,QAAQyhC,MAG5Ct8E,KAAKyyD,YAEY,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAKuuF,EAAcruF,WAAWS,KAAK,QAASygE,EAAWlrE,YAE1D,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBzM,YACrD,CACI,IAAI62F,EAAc,EAAA92F,kBACd,CACIgkD,cAAe,EAAAt5C,kBAAkBu5C,OACjCzP,MAAOi1B,EAAWyP,iBAClBlgD,aAAcywC,EAAWzwC,aACzB/lB,IAAKw2D,EAAWx2D,IAChBG,MAAOq2D,EAAWr2D,MAClBkmB,QAASmwC,EAAWnwC,QACpBC,OAAQkwC,EAAWlwC,OACnB9gB,MAAO,OACPytC,SAAW1uC,IAEP,GAA0B,MAAtBiyD,EAAWpwC,QACf,CACI,IAAI2pB,EAAa,IAAIyzC,EACrBzzC,EAAWhb,OAAS9qC,KACpBusE,EAAWpwC,QAAQ2pB,MAG5B9lD,KAAKyyD,YAEY,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAKyuF,EAAYvuF,WAAWS,KAAK,QAASygE,EAAWlrE,YAExD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBzL,SACrD,CACI,IAAI+4C,EAAW,EAAAh5C,eACX,CACIiP,KAAMw5D,EAAWx5D,KACjB+oB,aAAc,cAAgBywC,EAAWzwC,aACzC/lB,IAAKw2D,EAAWx2D,IAChBG,MAAOq2D,EAAWr2D,MAClBkmB,QAASmwC,EAAWnwC,QACpBC,OAAQkwC,EAAWlwC,OACnBwe,QAAUvgC,IAEN,GAA0B,MAAtBiyD,EAAWpwC,QACf,CACI,IAAI2pB,EAAa,IAAIyzC,EACrBzzC,EAAWhb,OAAS9qC,KACpBusE,EAAWpwC,QAAQ2pB,MAG5B9lD,KAAKyyD,YAEY,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAK2xC,EAASzxC,WAAWS,KAAK,QAASygE,EAAWlrE,YAErD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyB7M,MACrD,CACI,IAAIo4B,EAAQ,EAAA34B,YACR,CACI2Q,KAAMw5D,EAAWx5D,KACjB+oB,aAAcywC,EAAWzwC,aACzB/lB,IAAKw2D,EAAWx2D,IAChBG,MAAOq2D,EAAWr2D,MAClBkmB,QAASmwC,EAAWnwC,QACpBC,OAAQkwC,EAAWlwC,OACnBF,QAAU7hB,IAEN,GAA0B,MAAtBiyD,EAAWpwC,QACf,CACI,IAAI2pB,EAAa,IAAIyzC,EACrBzzC,EAAWhb,OAAS9qC,KACpBusE,EAAWpwC,QAAQ2pB,MAG5B9lD,KAAKyyD,YAEY,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAK4vB,EAAM1vB,WAAWS,KAAK,QAASygE,EAAWlrE,YAElD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBrK,SACrD,CACsC,MAA9BonE,EAAW0P,kBAAyB1P,EAAW0P,gBAAkB,IAAI,EAAA52E,iBACzEknE,EAAW0P,gBAAgB1/C,eAAiBgwC,EAAW0P,gBAAgB1/C,eACvEgwC,EAAW0P,gBAAgB/lE,MAAQq2D,EAAW0P,gBAAgB/lE,MACpB,MAAtCq2D,EAAW0P,gBAAgB7/C,UAAiBmwC,EAAW0P,gBAAgB7/C,QAAUmwC,EAAWnwC,SACvD,MAArCmwC,EAAW0P,gBAAgB5/C,SAAgBkwC,EAAW0P,gBAAgB5/C,OAASkwC,EAAWlwC,QACxD,MAAlCkwC,EAAW0P,gBAAgBlmE,MAAaw2D,EAAW0P,gBAAgBlmE,IAAMw2D,EAAWx2D,KACzC,MAA3Cw2D,EAAW0P,gBAAgBngD,eAAsBywC,EAAW0P,gBAAgBngD,aAAeywC,EAAWzwC,cAE1G,IAAI+9D,EAAQ,EAAA30F,eAAeqnE,EAAW0P,gBAAiBj8E,KAAKyyD,YACpC,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAK0uF,EAAMxuF,WAAWS,KAAK,QAASygE,EAAWlrE,YAElD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBnL,WACrD,CACwC,MAAhCkoE,EAAW2P,oBAA2B3P,EAAW2P,kBAAoB,IAAI,EAAA33E,mBAC7EgoE,EAAW2P,kBAAkB3/C,eAAiBgwC,EAAW2P,kBAAkB3/C,eAC3EgwC,EAAW2P,kBAAkBhmE,MAAQq2D,EAAW2P,kBAAkBhmE,MACtB,MAAxCq2D,EAAW2P,kBAAkB9/C,UAAiBmwC,EAAW2P,kBAAkB9/C,QAAUmwC,EAAWnwC,SACzD,MAAvCmwC,EAAW2P,kBAAkB7/C,SAAgBkwC,EAAW2P,kBAAkB7/C,OAASkwC,EAAWlwC,QAC1D,MAApCkwC,EAAW2P,kBAAkBnmE,MAAaw2D,EAAW2P,kBAAkBnmE,IAAMw2D,EAAWx2D,KAC3C,MAA7Cw2D,EAAW2P,kBAAkBpgD,eAAsBywC,EAAW2P,kBAAkBpgD,aAAeywC,EAAWzwC,cAE9G,IAAImiD,EAAa,EAAA75E,iBAAiBmoE,EAAW2P,kBAAmBl8E,KAAKyyD,YAC7C,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAK8yE,EAAW5yE,WAAWS,KAAK,QAASygE,EAAWlrE,YAEvD,GAAIkrE,EAAWvjE,MAAQ,EAAAwG,yBAAyBvM,QACrD,CACqC,MAA7BspE,EAAW4P,iBAAwB5P,EAAW4P,eAAiB,IAAI,EAAAh5E,gBACvEopE,EAAW4P,eAAe5/C,eAAiBgwC,EAAW4P,eAAe5/C,eACrEgwC,EAAW4P,eAAejmE,MAAQq2D,EAAW4P,eAAejmE,MACnB,MAArCq2D,EAAW4P,eAAe//C,UAAiBmwC,EAAW4P,eAAe//C,QAAUmwC,EAAWnwC,SACtD,MAApCmwC,EAAW4P,eAAe9/C,SAAgBkwC,EAAW4P,eAAe9/C,OAASkwC,EAAWlwC,QACvD,MAAjCkwC,EAAW4P,eAAepmE,MAAaw2D,EAAW4P,eAAepmE,IAAMw2D,EAAWx2D,KACxC,MAA1Cw2D,EAAW4P,eAAergD,eAAsBywC,EAAW4P,eAAergD,aAAeywC,EAAWzwC,cAExG,IAAIg+D,EAAU,EAAA92F,cAAcupE,EAAW4P,eAAgBn8E,KAAKyyD,YACpC,MAApB8Z,EAAWlrE,OACX,EAAA8J,KAAK2uF,EAAQzuF,WAAWS,KAAK,QAASygE,EAAWlrE,QAI7D,SAEI,OAAO,EAAA8J,KAAKnL,KAAKyyD,YAAY,GAGjC,SAEI,OAAO,EAAAtnD,KAAKnL,KAAKqxD,YAAY,GAGjC,eAEI,OAAO,EAAAlmD,KAAKnL,KAAKqxD,YAAYv1C,KAAK,kBAAkB,GAGhD,aAEJ,OAAO9b,KAAKqC,UAGR,kBAEJ,IAAIA,EAAUrC,KAAK+sC,aAGnB,GAFA,EAAA9wB,cAAcpJ,OAEiB,MAA3BxQ,EAAQ42F,gBACZ,CACI,IAAIc,EAAc,IAAIC,EACtBD,EAAYjvD,OAAS9qC,KACrBqC,EAAQ42F,gBAAgBc,GAG5B,IAAK,IAAIE,KAAiBj6F,KAAKi3F,kCAC3BgD,IAKR,OAAOz+E,EAA0B2xD,GAAS,GAEtC,IAAI9qE,EAAUrC,KAAK+sC,aAEnB,GAAc,QAAVvxB,GAA+B,QAAVA,IAAqBxb,KAAKg5F,iBAC/C/vE,MAAMzN,OAAOA,OAEjB,CACIxb,KAAKsC,YAAYmZ,MAAMC,SAAW,gBAClC,IAAIw+E,EAAY,EAAA/uF,KAAKnL,KAAKqL,WAAWmQ,SACjC2+E,EAAa,EAAAhvF,KAAKnL,KAAKqL,WAAW0K,IAAI,SAAU,QAAQyF,SAC5D,EAAArQ,KAAKnL,KAAKqL,WAAWmQ,OAAO0+E,GAAW3xC,QAAQ,CAAE/sC,OAAQ2+E,GAAc,KAuB3E,MApBuB,iBAAZ,IAEP3+E,GAA+B,EAApBnZ,EAASmwE,QAEC,MAAjBnwE,EAAQ4T,QACRuF,GAAU,EAAArQ,KAAKnL,KAAKqxD,YAAYxqC,eAChCxkB,EAAQqqD,SACRlxC,GAAU,EAAArQ,KAAKnL,KAAKyyD,YAAY5rC,eAEpC7mB,KAAKqL,UAAUoQ,MAAMC,SAAW,WAAaF,EAAS,OAGtD2xD,IAEIntE,KAAKg5F,iBACLx0E,OAAOwa,WAAW,IAAMh/B,KAAKmtE,SAAU,KAEvCntE,KAAKmtE,UAGNlkD,MAAMzN,SAGjB,MAAMD,EAAyB4xD,GAAS,GAEpC,IAAI9qE,EAAUrC,KAAK+sC,aASnB,OARA9jB,MAAM1N,MAAMA,GAER4xD,GACAntE,KAAKmtE,SAGTntE,KAAKqL,UAAUoQ,MAAMC,SAAW,sBAA4C,EAAnBrZ,EAAQmwE,QAAgB,OAE1EvpD,MAAM1N,SAr5BrB,WA45BA,2BAoCA,MAAak+E,GAAb,8BAQA,MAAME,GAkBN,MAAMzC,GAYN,MAAap+D,UAAoB,EAAAja,iBAAjC,gBAKA,MAAM06E,UAAmCzgE,GAIzC,MAAaw/D,UAAwBx/D,GAArC,oBAIA,MAAM4/D,UAA+B5/D,GAKrC,MAAM8/D,UAAyB9/D,GAI/B,MAAM0+D,UAA6B1+D,GAMnC,MAAM6+D,UAA2B7+D,GAMjC,MAAMkhE,UAA+BlhE,K,gHCjjCrC,aAEA,OAIA,MAAashE,GAAb,mBAiBA,gBAKI,YAAYrnF,EAAsB1Q,GAGf,MAAXA,IACAA,EAAU,IAAI+3F,GAEU,MAAxB/3F,EAAQg4F,eAAsBh4F,EAAQg4F,aAAe,YACzB,MAA5Bh4F,EAAQi4F,mBAA0Bj4F,EAAQi4F,iBAAmB,WAC5C,MAAjBj4F,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACpB,MAArBnZ,EAAQu5B,YAAmBv5B,EAAQu5B,UAAY,EAAAhuB,cAAcyqC,QAGjEr4C,KAAK26B,SAAWt4B,EAGhB,IAAI2T,EAAU,GACS,MAAnB3T,EAAQ2T,SAA2B,MAARjD,IAAc1Q,EAAQ2T,QAAU,eACxC,MAAnB3T,EAAQ2T,QACRA,EAAU3T,EAAQ2T,QACL,MAARjD,IACLiD,EAAUjD,GAId,IAAI6oB,EAAY,GAChB,OAAQv5B,EAAQu5B,WAEZ,KAAK,EAAAhuB,cAAc0tB,KAAMM,EAAY,oBAAqB,MAC1D,KAAK,EAAAhuB,cAAcyqC,OAAQzc,EAAY,sBAAuB,MAC9D,KAAK,EAAAhuB,cAAc6tB,MAAOG,EAAY,qBAI1C57B,KAAKu6F,QAAU,EAAA30F,aACX,CACI82B,kBAAkB,EAClBquC,WAAW,EACX90D,MAAO5T,EAAQ4T,MACfsF,MAAOlZ,EAAQkZ,MACfC,OAAQnZ,EAAQmZ,OAChBxF,QAAS,iCAAmCA,EAAU,SACtD8lB,aAAc,2BACd/lB,IAAK,2BAA6B6lB,EAClC8wB,OACI,CACI,CAAE1jD,KAAM,EAAAwG,yBAAyBsmD,OAAQ/iD,KAAM1Q,EAAQi4F,iBAAkBj5F,MAAO,QAASy6B,aAAc,0BAA2B/lB,IAAK,eAAgBomB,QAAS,IAAMn8B,KAAKkqC,SAC3K,CAAElhC,KAAM,EAAAwG,yBAAyBsmD,OAAQ/iD,KAAM1Q,EAAQg4F,aAAch5F,MAAO,KAAMy6B,aAAc,0BAA2B/lB,IAAK,eAAgBxU,KAAM,EAAAgM,eAAe2tB,UAE7K+9D,gBAAkB3+E,GAAMta,KAAKi5F,gBAAgB,EAAA9tF,KAAKmP,EAAEwwB,OAAOz/B,WAAWyQ,KAAK,qBAAqB,MAG5E,MAAxBzZ,EAAQy5B,eACR97B,KAAKu6F,QAAQj4F,YAAYmZ,MAAMC,SAAWrZ,EAAQy5B,aAAe,KAElD,MAAfz5B,EAAQ0T,MACR/V,KAAKu6F,QAAQlvF,UAAUoQ,MAAMC,SAAWrZ,EAAQ0T,IAAM,KAE1D,EAAA5K,KAAKnL,KAAKu6F,QAAQlvF,WAAWyvB,SAAS,aACtC,EAAA3vB,KAAKnL,KAAKu6F,QAAQj4F,aAAaw4B,SAAS,sBACxCtW,OAAOwa,WAAW,IAAM,EAAA7zB,KAAKnL,KAAKu6F,QAAQhuB,WAAmB,MAAOlhE,WAAWyc,SAGnF,OA2BI,OAzBc,IAAIxB,QAAQ,CAACk0E,EAAuBC,KAE9Cz6F,KAAKu6F,QAAQ5mF,KACT,CACI,CACItS,MAAO,KAAM+a,SAAU,KAED,MAAdo+E,GACAA,IAEJx6F,KAAKkqC,UAGb,CACI7oC,MAAO,QAAS+a,SAAU,KAEA,MAAlBq+E,GACAA,IAEJC,QAAQC,YAShC,QAEI36F,KAAKu6F,QAAQrwD,QACb,EAAA/+B,KAAKnL,KAAKu6F,QAAQj4F,aAAa+X,SAC/B,EAAAlP,KAAKnL,KAAKu6F,QAAQ5/C,cAActgC,SAG5B,aAEJ,OAAOra,KAAK26B,SAGR,gBAAgBigE,GAEpB,IAAIv4F,EAAUrC,KAAK+sC,aACnB,GAA+B,MAA3B1qC,EAAQ42F,gBACZ,CACI,IAAI4B,EAAqB,IAAIC,EAC7BD,EAAmB/vD,OAAS9qC,KAC5B66F,EAAmBD,eAAiBA,EACpCv4F,EAAQ42F,gBAAgB4B,MAOpC,MAAMC,UAAkC,EAAAj8E,mB,4GCpJxC,aAEA,OAIA,MAAak8E,GAAb,iBAgBA,cAKI,YAAYhoF,EAAsB1Q,GAGf,MAAXA,IACAA,EAAU,IAAI04F,GAEU,MAAxB14F,EAAQg4F,eAAsBh4F,EAAQg4F,aAAe,MACpC,MAAjBh4F,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACpB,MAArBnZ,EAAQu5B,YAAmBv5B,EAAQu5B,UAAY,EAAAhuB,cAAcyqC,QAGjEr4C,KAAK26B,SAAWt4B,EAGhB,IAAI2T,EAAU,GACS,MAAnB3T,EAAQ2T,SAA2B,MAARjD,IAAc1Q,EAAQ2T,QAAU,eACxC,MAAnB3T,EAAQ2T,QACRA,EAAU3T,EAAQ2T,QACL,MAARjD,IACLiD,EAAUjD,GAId,IAAI6oB,EAAY,GAChB,OAAQv5B,EAAQu5B,WAEZ,KAAK,EAAAhuB,cAAc0tB,KAAMM,EAAY,oBAAqB,MAC1D,KAAK,EAAAhuB,cAAcyqC,OAAQzc,EAAY,sBAAuB,MAC9D,KAAK,EAAAhuB,cAAc6tB,MAAOG,EAAY,qBAI1C57B,KAAKu6F,QAAU,EAAA30F,aACX,CACI82B,kBAAkB,EAClBquC,WAAW,EACX90D,MAAO5T,EAAQ4T,MACfsF,MAAOlZ,EAAQkZ,MACfC,OAAQnZ,EAAQmZ,OAChBxF,QAAS,iCAAmCA,EAAU,SACtD8lB,aAAc,2BACd/lB,IAAK,2BAA6B6lB,EAClC8wB,OACI,CACI,CAAE1jD,KAAM,EAAAwG,yBAAyB47D,GAAIr4D,KAAM1Q,EAAQg4F,aAAch5F,MAAO,KAAMy6B,aAAc,eAAgB/lB,IAAK,eAAgBxU,KAAM,EAAAgM,eAAe2tB,QAASiB,QAAS,IAAMn8B,KAAKkqC,UAE3L+uD,gBAAkB3+E,GAAMta,KAAKi5F,gBAAgB,EAAA9tF,KAAKmP,EAAEwwB,OAAOz/B,WAAWyQ,KAAK,qBAAqB,MAG5E,MAAxBzZ,EAAQy5B,eACR97B,KAAKu6F,QAAQj4F,YAAYmZ,MAAMC,SAAWrZ,EAAQy5B,aAAe,KAElD,MAAfz5B,EAAQ0T,MACR/V,KAAKu6F,QAAQlvF,UAAUoQ,MAAMC,SAAWrZ,EAAQ0T,IAAM,KAE1D,EAAA5K,KAAKnL,KAAKu6F,QAAQlvF,WAAWyvB,SAAS,WACtC,EAAA3vB,KAAKnL,KAAKu6F,QAAQj4F,aAAaw4B,SAAS,oBACxCtW,OAAOwa,WAAW,IAAM,EAAA7zB,KAAKnL,KAAKu6F,QAAQhuB,WAAmB,MAAOlhE,WAAWyc,SAGnF,OAgBI,OAdc,IAAIxB,QAASk0E,IAEvBx6F,KAAKu6F,QAAQ5mF,KACT,CACI,CACItS,MAAO,KAAM+a,SAAU,KAED,MAAdo+E,GACAA,UAS5B,QAEIx6F,KAAKu6F,QAAQrwD,QACb,EAAA/+B,KAAKnL,KAAKu6F,QAAQj4F,aAAa+X,SAC/B,EAAAlP,KAAKnL,KAAKu6F,QAAQ5/C,cAActgC,SAG5B,aAEJ,OAAOra,KAAK26B,SAGR,gBAAgBigE,GAEpB,IAAIv4F,EAAUrC,KAAK+sC,aACnB,GAA+B,MAA3B1qC,EAAQ42F,gBACZ,CACI,IAAI4B,EAAqB,IAAIG,EAC7BH,EAAmB/vD,OAAS9qC,KAC5B66F,EAAmBD,eAAiBA,EACpCv4F,EAAQ42F,gBAAgB4B,MAOpC,MAAMG,UAAgC,EAAAn8E,mB,8GCtItC,aAEA,OAGA,MAAao8E,GAAb,kBAkBA,eAKI,YAAYloF,EAAsB1Q,GAGf,MAAXA,IACAA,EAAU,IAAI44F,GAEG,MAAjB54F,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACpB,MAArBnZ,EAAQu5B,YAAmBv5B,EAAQu5B,UAAY,EAAAhuB,cAAcyqC,QAGjEr4C,KAAK26B,SAAWt4B,EAGhB,IAAI2T,EAAU,GACS,MAAnB3T,EAAQ2T,SAA2B,MAARjD,IAAc1Q,EAAQ2T,QAAU,eACxC,MAAnB3T,EAAQ2T,QACRA,EAAU3T,EAAQ2T,QACL,MAARjD,IACLiD,EAAUjD,GAId,IAAI6oB,EAAY,GAChB,OAAQv5B,EAAQu5B,WAEZ,KAAK,EAAAhuB,cAAc0tB,KAAMM,EAAY,oBAAqB,MAC1D,KAAK,EAAAhuB,cAAcyqC,OAAQzc,EAAY,sBAAuB,MAC9D,KAAK,EAAAhuB,cAAc6tB,MAAOG,EAAY,qBAK1C,GAA2B,MAAvBv5B,EAAQ4wD,YACZ,CACI,IAAIioC,EAAa74F,EAAQ4wD,YAAY39B,OAAOJ,GAAgB,MAAXA,EAAE3Z,OAAeqB,IAAIsY,GAAKA,EAAE3Z,OAAOib,QAChF2kE,EAAe94F,EAAQ4wD,YAAY39B,OAAOJ,GAAgB,MAAXA,EAAE3Z,OACjD6/E,EAAa/4F,EAAQ4wD,YAAY39B,OAAOJ,GAAgB,MAAXA,EAAE3Z,OAE/C8/E,EAAwBh5F,EAAQkZ,MAAQ,GAA0B,EAApB6/E,EAAWhwF,OAAe8vF,EACxEI,EAAkBD,EAAuBh5F,EAAQ4wD,YAAY7nD,OAAS,EACtE+vF,EAAa/vF,OAAS,IACtBkwF,EAAkBD,EAAuBF,EAAa/vF,OAAS,GAEnE,IAAK,IAAImhE,KAAclqE,EAAQ4wD,YAEH,MAApBsZ,EAAWhxD,QACXgxD,EAAWhxD,MAAQ+/E,GAK/Bt7F,KAAKu6F,QAAU,EAAA30F,aACX,CACI82B,kBAAkB,EAClBquC,WAAW,EACX4rB,cAAet0F,EAAQs0F,cACvB1gF,MAAO5T,EAAQ4T,MACfsF,MAAOlZ,EAAQkZ,MACfC,OAAQnZ,EAAQmZ,OAChBxF,QAAS,iCAAmCA,EAAU,SACtD8lB,aAAc,2BACd/lB,IAAK,2BAA6B6lB,EAClC8wB,OAAQrqD,EAAQ4wD,YAChBgmC,gBAAkB3+E,GAAMta,KAAKi5F,gBAAgB,EAAA9tF,KAAKmP,EAAEwwB,OAAOz/B,WAAWyQ,KAAK,qBAAqB,IAChGg+B,QAAS,KAEmB,MAApBz3C,EAASy3C,SACTz3C,EAASy3C,aAIG,MAAxBz3C,EAAQy5B,eACR97B,KAAKu6F,QAAQj4F,YAAYmZ,MAAMC,SAAWrZ,EAAQy5B,aAAe,KAElD,MAAfz5B,EAAQ0T,MACR/V,KAAKu6F,QAAQlvF,UAAUoQ,MAAMC,SAAWrZ,EAAQ0T,IAAM,KAE1D,EAAA5K,KAAKnL,KAAKu6F,QAAQlvF,WAAWyvB,SAAS,YACtC,EAAA3vB,KAAKnL,KAAKu6F,QAAQj4F,aAAaw4B,SAAS,qBAG5C,OAEI96B,KAAKu6F,QAAQ5mF,OAGjB,QAEI3T,KAAKu6F,QAAQrwD,QACb,EAAA/+B,KAAKnL,KAAKu6F,QAAQj4F,aAAa+X,SAC/B,EAAAlP,KAAKnL,KAAKu6F,QAAQ5/C,cAActgC,SAG5B,aAEJ,OAAOra,KAAK26B,SAGR,gBAAgBigE,GAEpB,IAAIv4F,EAAUrC,KAAK+sC,aACnB,GAA+B,MAA3B1qC,EAAQ42F,gBACZ,CACI,IAAI4B,EAAqB,IAAIU,EAC7BV,EAAmB/vD,OAAS9qC,KAC5B66F,EAAmBD,eAAiBA,EACpCv4F,EAAQ42F,gBAAgB4B,MAOpC,MAAMU,UAAiC,EAAA18E,mB,8GC9IvC,aAEA,OAKA,MAAa28E,GAAb,kBAkBA,eAMI,YAAYzoF,EAAsB1Q,GAGf,MAAXA,IACAA,EAAU,IAAIm5F,GAEU,MAAxBn5F,EAAQg4F,eAAsBh4F,EAAQg4F,aAAe,YACzB,MAA5Bh4F,EAAQi4F,mBAA0Bj4F,EAAQi4F,iBAAmB,WAC5C,MAAjBj4F,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KAG7Cxb,KAAK26B,SAAWt4B,EAGhB,IAAI2T,EAAU,GACS,MAAnB3T,EAAQ2T,SAA2B,MAARjD,IAAc1Q,EAAQ2T,QAAU,eACxC,MAAnB3T,EAAQ2T,QACRA,EAAU3T,EAAQ2T,QACL,MAARjD,IACLiD,EAAUjD,GAGd/S,KAAKu6F,QAAU,EAAA30F,aACX,CACI82B,kBAAkB,EAClBquC,WAAW,EACX90D,MAAO5T,EAAQ4T,MACfsF,MAAOlZ,EAAQkZ,MACfC,OAAQnZ,EAAQmZ,OAChBxF,QAAS,iCAAmCA,EAAU,SACtD8lB,aAAc,2BACd/lB,IAAK,2BACL22C,OACI,CACI,CAAE1jD,KAAM,EAAAwG,yBAAyBsmD,OAAQ/iD,KAAM1Q,EAAQi4F,iBAAkBj5F,MAAO,QAASy6B,aAAc,0BAA2B/lB,IAAK,eAAgBomB,QAAS,IAAMn8B,KAAKkqC,SAC3K,CAAElhC,KAAM,EAAAwG,yBAAyBsmD,OAAQ/iD,KAAM1Q,EAAQg4F,aAAch5F,MAAO,KAAMy6B,aAAc,0BAA2B/lB,IAAK,eAAgBxU,KAAM,EAAAgM,eAAe2tB,UAE7K+9D,gBAAkB3+E,IAEd,IAAImhF,EAAmB,EAAAtwF,KAAKmP,EAAEwwB,OAAOz/B,WAAWyQ,KAAK,qBAAqB,GAC1E9b,KAAK07F,SAAW,EAAA14F,cACZ,CACIuY,MAAO,OACPugB,aAAc,mBACdz6B,MAAOgB,EAAS27E,aAChB1qC,YAAajxC,EAASs5F,aACvBF,GACPz7F,KAAK07F,SAAS5zE,QACd9nB,KAAKi5F,gBAAgBwC,MAIL,MAAxBp5F,EAAQy5B,eACR97B,KAAKu6F,QAAQj4F,YAAYmZ,MAAMC,SAAWrZ,EAAQy5B,aAAe,KAElD,MAAfz5B,EAAQ0T,MACR/V,KAAKu6F,QAAQlvF,UAAUoQ,MAAMC,SAAWrZ,EAAQ0T,IAAM,KAE1D,EAAA5K,KAAKnL,KAAKu6F,QAAQlvF,WAAWyvB,SAAS,YACtC,EAAA3vB,KAAKnL,KAAKu6F,QAAQj4F,aAAaw4B,SAAS,qBACxCtW,OAAOwa,WAAW,IAAM,EAAA7zB,KAAKnL,KAAKu6F,QAAQhuB,WAAmB,MAAOlhE,WAAWyc,SAGnF,OA4BI,OA1Bc,IAAIxB,QAAQ,CAACk0E,EAAsCC,KAE7Dz6F,KAAKu6F,QAAQ5mF,KACT,CACI,CACItS,MAAO,KAAM+a,SAAU,KAED,MAAdo+E,GACAA,EAAWx6F,KAAK07F,SAASr6F,SAE7BrB,KAAKkqC,UAGb,CACI7oC,MAAO,QAAS+a,SAAU,KAEA,MAAlBq+E,GACAA,IAEJC,QAAQC,UAKxB36F,KAAK07F,SAAS5zE,UAKtB,QAEI9nB,KAAKu6F,QAAQrwD,QACb,EAAA/+B,KAAKnL,KAAKu6F,QAAQj4F,aAAa+X,SAC/B,EAAAlP,KAAKnL,KAAKu6F,QAAQ5/C,cAActgC,SAG5B,aAEJ,OAAOra,KAAK26B,SAGR,gBAAgBigE,GAEpB,IAAIv4F,EAAUrC,KAAK+sC,aACnB,GAA+B,MAA3B1qC,EAAQ42F,gBACZ,CACI,IAAI4B,EAAqB,IAAIe,EAC7Bf,EAAmB/vD,OAAS9qC,KAC5B66F,EAAmBD,eAAiBA,EACpCv4F,EAAQ42F,gBAAgB4B,MAOpC,MAAMe,UAAiC,EAAA/8E,mB,8GCzJvC,aACA,OAGA,MAAag9E,UAAsB,EAAA9wF,kBAAnC,kBAWA,MAAa9E,UAAe,EAAAijC,UAExB,YAAY79B,EAAsBhJ,GAO9B,GAJe,MAAXA,IACAA,EAAU,IAAIw5F,GAEM,MAApBx5F,EAAQyqE,WAAkBzqE,EAAQyqE,SAAW,IAChB,iBAArBzqE,EAAgB,SAC5B,CACI,IAAIy5F,EAAez5F,EAAQyqE,SAC3BzqE,EAAQyqE,SAAW,IAAI,EAAAvqD,oBACvBlgB,EAAQyqE,SAAS/5D,KAAO+oF,EAI5B,GADuB,MAAnBz5F,EAAQ0qE,UAAiB1qE,EAAQ0qE,QAAU,IACf,iBAApB1qE,EAAe,QAC3B,CACI,IAAI05F,EAAc15F,EAAQ0qE,QAC1B1qE,EAAQ0qE,QAAU,IAAI,EAAAxqD,oBACtBlgB,EAAQ0qE,QAAQh6D,KAAOgpF,EAGJ,MAAnB15F,EAAQy4C,UAAiBz4C,EAAQy4C,SAAU,GAG/C7xB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBuD,QAGxC,IAAI+1F,EAAsC,MAA1B35F,EAAQyqE,SAAS5xD,MAAiB,UAAY7Y,EAAQyqE,SAAS5xD,MAAQ,IAAM,GACzF+gF,EAAW55F,EAAQyqE,SAAa,KAAI,oBAAsB,GAE/C,EAAA3hE,KAAK,iBAAmB9I,EAAQyqE,SAAS12D,QAApC,YACD4lF,EAAWC,EAAU55F,EAAQyqE,SAAS/2D,IADrC,+BAGd1T,EAAQyqE,SAAS/5D,KACjB,YAAYuD,eAAetW,KAAKqL,WAE7Bu3B,MAAOtoB,IAEZ,GAA0D,MAArDjY,EAASyqE,SAAiC3wC,QAC/C,CACI,IAAIpX,EAAQ,IAAI,EAAAvC,gCAKhB,GAJAuC,EAAM+lB,OAAS9qC,KACf+kB,EAAM+1B,QAAU96C,KAAK86C,UACpBz4C,EAASyqE,SAAkC3wC,QAASpX,GAEjDA,EAAMhB,qBAGN,YADAzJ,EAAE0e,iBAKNh5B,KAAKiqC,WACLjqC,KAAK86C,SAAQ,KAKrB,IAAIohD,EAAmB75F,EAAe,QAAI,oBAAsB,GAChE,EAAA8I,KAAK,uDAAyD+wF,EAAkB,uEAAuE5lF,eAAetW,KAAKqL,WAC3K,EAAAF,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBAAkB+vB,OAAQvxB,GAAWta,KAAK86C,QAAQxgC,EAAE6oB,OAAO2X,UAIrF,IAAIqhD,EAAoC,MAAzB95F,EAAQ0qE,QAAQ7xD,MAAiB,UAAY7Y,EAAQ0qE,QAAQ7xD,MAAQ,IAAM,GACtFkhF,EAAU/5F,EAAQ0qE,QAAY,KAAI,oBAAsB,GAE9C,EAAA5hE,KAAK,iBAAmB9I,EAAQ0qE,QAAQ32D,QAAnC,YACA+lF,EAAUC,EAAS/5F,EAAQ0qE,QAAQh3D,IADnC,8BAGb1T,EAAQ0qE,QAAQh6D,KAChB,YAAYuD,eAAetW,KAAKqL,WAE9Bu3B,MAAOtoB,IAEX,GAAyD,MAApDjY,EAAS0qE,QAAgC5wC,QAC9C,CACI,IAAIpX,EAAQ,IAAI,EAAAvC,gCAKhB,GAJAuC,EAAM+lB,OAAS9qC,KACf+kB,EAAM+1B,QAAU96C,KAAK86C,UACpBz4C,EAAS0qE,QAAiC5wC,QAASpX,GAEhDA,EAAMhB,qBAGN,YADAzJ,EAAE0e,iBAKNh5B,KAAKiqC,WACLjqC,KAAK86C,SAAQ,KAKrB96C,KAAK86C,QAAQz4C,EAAQy4C,SAAS,GAKlC,QAAQ1hB,EAAiB+W,GAAgB,GAErC,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAa,MAAT3T,EACJ,CAEI,IAAI0zC,EAAW,EAAA3hE,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqB,GAC1DixD,EAAU,EAAA5hE,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoB,GACxDimC,EAAQ,EAAA52C,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBAkBtC,GAjBAimC,EAAM,GAAGjH,QAAU1hB,EAEfA,GAEA0zC,EAASrxD,MAAMC,SAAW,wCAC1BqxD,EAAQtxD,MAAMC,SAAW,oCACzBqmC,EAAM1E,KAAK,UAAW,aAItByvB,EAASrxD,MAAMC,SAAW,oCAC1BqxD,EAAQtxD,MAAMC,SAAW,wCACzBqmC,EAAMs6C,WAAW,YAKjBlsD,GAEwB,MAApB9tC,EAAQ2qE,SACZ,CACI,IAAIl8B,EAAc,IAAIwrD,EACtBxrD,EAAYhG,OAAS9qC,KACrB8wC,EAAYgK,QAAU1hB,EACtB5U,OAAOwa,WAAW,IAAM38B,EAAS2qE,SAAUl8B,KAKvD,OAAO,EAAA3lC,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBAAkB,GAAGg/B,QAG1D,MAAM3K,GAAgB,GAElBnwC,KAAK86C,SAAQ,EAAO3K,GAGxB,SAASp9B,GAKL,OAHY,MAARA,GACA,EAAA5H,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqBmmB,KAAKlvB,GAEjD,EAAA5H,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqBmmB,OAG1D,QAAQlvB,GAKJ,OAHY,MAARA,GACA,EAAA5H,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBmmB,KAAKlvB,GAEhD,EAAA5H,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBmmB,OAGzD,aAEI,OAAOjiC,KAAKqC,UAKhB,SAEI4mB,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBAAkBuhC,KAAK,YAAY,GAC7D,EAAAlyC,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoB+iB,YAAY,yBAC1D,EAAA1zB,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqB+iB,YAAY,yBAG/D,UAEI5V,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBAAkBuhC,KAAK,YAAY,GAC7D,EAAAlyC,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBgf,SAAS,yBACvD,EAAA3vB,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqBgf,SAAS,0BAzLhE,WAgMA,MAAMyhE,UAAoB,EAAA19E,iBAK1B,MAAMy9E,UAA0BC,K,0HCpNhC,aACA,OACA,OAIA,MAAaC,UAA4B,EAAAzxF,kBAAzC,wBAgBA,MAAa5E,UAAqB,EAAA+iC,UAK9B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIm6F,GAES,MAAvBn6F,EAAQmoD,cAAqBnoD,EAAQmoD,YAAc,EAAAp9C,gBAAgB05B,YAClD,MAAjBzkC,EAAQi1C,QAAej1C,EAAQi1C,MAAQ,IACnB,MAApBj1C,EAAQo6F,WAAkBp6F,EAAQo6F,SAAWpxF,EAAQ8K,GAAK,qBACjC,MAAzB9T,EAAQq6F,gBAAuBr6F,EAAQq6F,cAAgB,IAG3DzzE,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgByD,cACxCnG,KAAK28F,kBAAoB,GAEzB38F,KAAKs3C,MAAMj1C,EAAQi1C,OAIvB,MAAMA,GAEF,IAAIj1C,EAAUrC,KAAK+sC,aACnB,GAAa,MAATuK,EACJ,CACIt3C,KAAKw5C,OAASlC,EACd,IAAIl3C,EAAI,EACR,IAAK,IAAIs0B,KAAQ4iB,EACjB,CACI,IAAIwF,EAAW,EAAAh5C,eACX,CACIiP,KAAM2hB,EAAK3hB,KACX1R,MAAsB,MAAdqzB,EAAKrzB,MAAiBqzB,EAAK3hB,KAAOyW,OAAOkL,EAAKrzB,OACtDV,KAAM0B,EAAQo6F,SACd3hD,UAAUz4C,EAAkB,YAAWqyB,EAAKomB,QAC5Cr9B,IAAKiX,EAAKjX,IACVqe,aAAez5B,EAAQmoD,aAAe,EAAAp9C,gBAAgB05B,YAAc1mC,EAAI,EAAK,gBAAkBiC,EAAQq6F,cAAgB,MAAUr6F,EAAQmoD,aAAe,EAAAp9C,gBAAgB25B,SAAY,cAAgB,GACpM8T,QAAUvgC,IAEN,GAA+B,MAA3BjY,EAASu6F,eACb,CACI,IAAIC,EAAc,IAAIC,EAOtB,GANAD,EAAY/xD,OAAS9qC,KACrB68F,EAAYx7F,MAAQmoB,OAAOkL,EAAKrzB,OAChCw7F,EAAY/hD,QAAUxgC,EAAEwgC,QACxB+hD,EAAY76C,cAAgBhiD,KAAKqB,QACjCgB,EAASu6F,eAAeC,GAEpBA,EAAY94E,qBACZ,OAMR,GAHoB,MAAhB2Q,EAAKmmB,SACLnmB,EAAKmmB,QAAQvgC,GAEQ,MAArBjY,EAAS2mD,SACb,CACI,IAAI6zC,EAAc,IAAIC,EACtBD,EAAY/xD,OAAS9qC,KACrB68F,EAAYx7F,MAAQmoB,OAAOkL,EAAKrzB,OAChCw7F,EAAY/hD,QAAUxgC,EAAEwgC,QACxB+hD,EAAY76C,cAAgBhiD,KAAKqB,QACjCgB,EAAS2mD,SAAS6zC,MAG3B78F,KAAKqL,WAEZrL,KAAK28F,kBAAkBnpE,KAAKspB,GAC5B18C,KAGR,OAAOJ,KAAKw5C,OAGhB,SAASrJ,GAAgB,GAErB,IAAK,IAAIsX,KAAYznD,KAAK28F,kBACtBl1C,EAAS3M,SAAQ,EAAM3K,GAG/B,WAAWA,GAAgB,GAEvB,IAAK,IAAIsX,KAAYznD,KAAK28F,kBACtBl1C,EAAS3M,SAAQ,EAAO3K,GAGhC,MAAMoL,EAAmBniB,GAAQ,EAAM+W,GAAgB,GAEnD,GAAc,MAAVoL,EAEA,IAAK,IAAIl6C,KAASk6C,EAClB,CACI,IAAIkM,EAAWznD,KAAK28F,kBAAkBrnE,OAAOJ,GAAK,EAAA/pB,KAAK+pB,EAAE7pB,WAAWS,KAAK,UAAYzK,GAAO,GAC5E,MAAZomD,GACAA,EAAS3M,QAAQ1hB,EAAO+W,GAGpC,OAAOnwC,KAAK28F,kBAAkBrnE,OAAOJ,GAAKA,EAAE4lB,WAAWl+B,IAAIsY,GAAK,EAAA/pB,KAAK+pB,EAAE7pB,WAAWS,KAAK,UAG3F,SAASixF,EAAiB3jE,GAAQ,EAAM+W,GAAgB,GAEpD,GAAe,MAAX4sD,EAEA,IAAK,IAAIt/E,KAAOs/E,EAChB,CACI,IAAIt1C,EAAWznD,KAAK28F,kBAAkBrnE,OAAOJ,GAAK,EAAAlqB,eAAeua,OAAO2P,EAAEzX,MAAOA,IAAM,GACvE,MAAZgqC,GACAA,EAAS3M,QAAQ1hB,EAAO+W,GAGpC,OAAOnwC,KAAK28F,kBAAkBrnE,OAAOJ,GAAKA,EAAE4lB,WAAWl+B,IAAIsY,GAAKA,EAAEzX,OAGtE,UAAUpc,GAEN,IAAIy7C,EAAW98C,KAAK28F,kBAAkBrnE,OAAOJ,GAAK,EAAA/pB,KAAK+pB,EAAE7pB,WAAWS,KAAK,UAAYzK,GAAO,GAC5F,OAAgB,MAAZy7C,GACOA,EAAShC,UAKxB,KAAKz5C,EAAe0R,GAEhB,IAAI+pC,EAAW98C,KAAK28F,kBAAkBrnE,OAAOJ,GAAK,EAAA/pB,KAAK+pB,EAAE7pB,WAAWS,KAAK,UAAYzK,GAAO,GAC5F,OAAgB,MAAZy7C,EACOA,EAAS/pC,KAAKA,GAElB,GAGX,MAAMqkC,GAAW,EAAOjH,GAAgB,GAEhCiH,EACAp3C,KAAKo3C,SAASjH,GAEdnwC,KAAK+6C,WAAW5K,GAGxB,aAEInwC,KAAK28F,kBAAoB,GACzB,EAAAxxF,KAAKnL,KAAKqL,WAAWy/C,QAGzB,aAEI,OAAO9qD,KAAKqC,UAGhB,SAEI4mB,MAAMoT,SACN,IAAK,IAAIorB,KAAYznD,KAAK28F,kBACtBl1C,EAASprB,SAGjB,UAEIpT,MAAMqT,UACN,IAAK,IAAImrB,KAAYznD,KAAK28F,kBACtBl1C,EAASnrB,WAtKrB,iBAwLA,MAAMwgE,UAAgC,EAAAj+E,mB,gJC9MtC,aACA,OAGA,MAAam+E,UAA2B,EAAAjyF,kBAAxC,uBAYA,MAAa1E,UAAoB,EAAA6iC,UAE7B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAI26F,GAEE,MAAhB36F,EAAQ0Q,OAAc1Q,EAAQ0Q,KAAO,IAClB,MAAnB1Q,EAAQy4C,UAAiBz4C,EAAQy4C,SAAU,GAG/C,EAAA3vC,KAAKE,GAASS,KAAK,OAAQ,SAC3Bmd,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB2D,aAGnB,MAAjBhE,EAAQhB,QAAegB,EAAQhB,MAAQgB,EAAQ0Q,MAC9B,MAAjB1Q,EAAQhB,OACR,EAAA8J,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQhB,OAE3B,MAAhBgB,EAAQ1B,MACR,EAAAwK,KAAKnL,KAAKqL,WAAWS,KAAK,OAAQzJ,EAAQ1B,MAI9C,IAAIs8F,EAAiB,EAAA9xF,KAAK,uDAAuDmL,eAAetW,KAAKsC,aACrG,EAAA6I,KAAKnL,KAAKqL,WAAWiL,eAAe2mF,GACpC,EAAA9xF,KAAK,gDAAgDmL,eAAe2mF,GACpE,IAAIC,EAAiB,EAAA/xF,KAAK,qCAAuC9I,EAAQ0Q,KAAO,YAAYuD,eAAetW,KAAKsC,cAIxF,IAApBD,EAAQy4C,SACR96C,KAAK86C,SAAQ,GAAM,GAIvB,EAAA3vC,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAU7B,IAE9B,IACIwgC,EADcxgC,EAAE0rB,cACM8U,QAC1B96C,KAAK86C,QAAQA,KAGjB,EAAA3vC,KAAK+xF,GAAgB/gF,GAAG,QAAU7B,IAE9B,IACIynC,EAD0B,EAAA52C,KAAK+xF,GAAgB9jD,OACft9B,KAAK,SAAS,GAC7CimC,EAAMjH,UACPiH,EAAMjH,SAAU,GAEpB,IAAIA,EAAUiH,EAAMjH,QACpB96C,KAAK86C,QAAQA,KAMrB,QAAQ1hB,EAAiB+W,GAAgB,GAErC,GAAa,MAAT/W,IAECp5B,KAAKqL,UAA+ByvC,QAAU1hB,EAE3C+W,GACJ,CACI,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAwB,MAApB1qC,EAASw4C,QACb,CACI,IAAI91B,EAAQ,IAAIo4E,EAChBp4E,EAAM+lB,OAAS9qC,KACf+kB,EAAM+1B,QAAU1hB,EAChB/2B,EAASw4C,QAAQ91B,IAI7B,OAAQ/kB,KAAKqL,UAA+ByvC,QAGhD,KAAK/nC,GAKD,OAHY,MAARA,GACA,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBmmB,KAAKlvB,GAErD,EAAA5H,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuBmmB,OAG9D,MAAMkO,GAAgB,GAElBnwC,KAAK86C,SAAQ,EAAO3K,GAGxB,aAEI,OAAOnwC,KAAKqC,UAGhB,SAEI4mB,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKsC,aAAau8B,YAAY,6BAGvC,UAEI5V,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKsC,aAAaw4B,SAAS,8BA1GxC,gBAsHA,MAAaqiE,UALb,SAKA,2B,gICtIA,aACA,OACA,OAIA,MAAaC,UAA+B,EAAAryF,kBAA5C,2BAaA,MAAaxE,UAAwB,EAAA2iC,UAKjC,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAI+6F,GAES,MAAvB/6F,EAAQmoD,cAAqBnoD,EAAQmoD,YAAc,EAAAp9C,gBAAgB05B,YAClD,MAAjBzkC,EAAQi1C,QAAej1C,EAAQi1C,MAAQ,IACnB,MAApBj1C,EAAQo6F,WAAkBp6F,EAAQo6F,SAAWpxF,EAAQ8K,GAAK,wBAG9D8S,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB6D,iBACxCvG,KAAKq9F,eAAiB,GAEtBr9F,KAAKs3C,MAAMj1C,EAAQi1C,OACC,IAAhBt3C,KAAKqB,SACLrB,KAAK+tC,QAIb,MAAMuJ,GAEF,IAAIj1C,EAAUrC,KAAK+sC,aACnB,GAAa,MAATuK,EACJ,CACIt3C,KAAKw5C,OAASlC,EACd,IAAIl3C,EAAI,EACR,IAAK,IAAIs0B,KAAQ4iB,EACjB,CACI,IAAIgmD,EAAc,EAAAl3F,kBACd,CACI2M,KAAM2hB,EAAK3hB,KACX1R,MAAsB,MAAdqzB,EAAKrzB,MAAiBqzB,EAAK3hB,KAAOyW,OAAOkL,EAAKrzB,OACtDV,KAAM0B,EAAQo6F,SACd3hD,QAASpmB,EAAKomB,QACdr9B,IAAKiX,EAAKjX,IACVqe,aAAez5B,EAAQmoD,aAAe,EAAAp9C,gBAAgB05B,YAAc1mC,EAAI,EAAK,qBAAyBiC,EAAQmoD,aAAe,EAAAp9C,gBAAgB25B,SAAY,cAAgB,GACzK8T,QAAUvgC,IAEN,GAA+B,MAA3BjY,EAASu6F,eACb,CACI,IAAIC,EAAc,IAAIU,EAKtB,GAJAV,EAAY/xD,OAAS9qC,KACrB68F,EAAYx7F,MAAQmoB,OAAOkL,EAAKrzB,OAChCgB,EAASu6F,eAAeC,GAEpBA,EAAY94E,qBACZ,OAMR,GAHoB,MAAhB2Q,EAAKmmB,SACLnmB,EAAKmmB,QAAQvgC,GAEQ,MAArBjY,EAAS2mD,SACb,CACI,IAAI6zC,EAAc,IAAIU,EACtBV,EAAY/xD,OAAS9qC,KACrB68F,EAAYx7F,MAAQmoB,OAAOkL,EAAKrzB,OAChCgB,EAAS2mD,SAAS6zC,MAG3B78F,KAAKqL,WAEZrL,KAAKq9F,eAAe7pE,KAAK8pE,GACzBl9F,KAGR,OAAOJ,KAAKw5C,OAGhB,MAAMn4C,EAAyB8uC,GAAgB,GAE3C,GAAa,MAAT9uC,EACJ,CACI,IAAIi8F,EAAct9F,KAAKq9F,eAAe/nE,OAAOJ,GAAK,EAAA/pB,KAAK+pB,EAAE7pB,WAAWS,KAAK,UAAY0d,OAAOnoB,IAAQ,GACjF,MAAfi8F,GACAA,EAAYxiD,SAAQ,EAAM3K,GAGlC,IAAIqtD,EAAex9F,KAAKq9F,eAAe/nE,OAAOJ,GAAKA,EAAE4lB,WAAW,GAChE,OAAoB,MAAhB0iD,EACO,EAAAryF,KAAKqyF,EAAanyF,WAAWS,KAAK,SAElC,GAGf,SAAS2R,EAAW0yB,GAAgB,GAEhC,GAAW,MAAP1yB,EACJ,CACI,IAAI6/E,EAAct9F,KAAKq9F,eAAe/nE,OAAOJ,GAAK,EAAAlqB,eAAeua,OAAO2P,EAAEzX,MAAOA,IAAM,GACpE,MAAf6/E,GACAA,EAAYxiD,SAAQ,EAAM3K,GAGlC,IAAIqtD,EAAex9F,KAAKq9F,eAAe/nE,OAAOJ,GAAKA,EAAE4lB,WAAW,GAChE,OAAoB,MAAhB0iD,EACOA,EAAa//E,MAEb,GAGf,KAAKpc,EAAe0R,GAEhB,IAAIuqF,EAAct9F,KAAKq9F,eAAe/nE,OAAOJ,GAAK,EAAA/pB,KAAK+pB,EAAE7pB,WAAWS,KAAK,UAAYzK,GAAO,GAC5F,OAAmB,MAAfi8F,EACOA,EAAYvqF,KAAKA,GAErB,GAGX,MAAMo9B,GAAgB,GAElB,IAAK,IAAImtD,KAAet9F,KAAKq9F,eACzBC,EAAYxiD,SAAQ,EAAO3K,GAGnC,aAEInwC,KAAKq9F,eAAiB,GACtB,EAAAlyF,KAAKnL,KAAKqL,WAAWy/C,QAGzB,aAEI,OAAO9qD,KAAKqC,UAGhB,SAEI4mB,MAAMoT,SACN,IAAK,IAAIohE,KAASz9F,KAAKq9F,eACnBI,EAAMphE,SAGd,UAEIpT,MAAMqT,UACN,IAAK,IAAImhE,KAASz9F,KAAKq9F,eACnBI,EAAMnhE,WAhJlB,oBAiKA,MAAMihE,UAAmC,EAAA1+E,mB,kHCpLzC,aACA,OACA,QAIA,OAGA,MAAa6+E,UAAwB,EAAA3yF,kBAArC,oBAoCA,MAAatE,UAAiB,EAAAyiC,UAI1B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIq7F,GAElBr7F,EAAQgqD,gBAAiB,EACD,MAApBhqD,EAAQiqD,WAAkBjqD,EAAQiqD,UAAW,GACf,MAA9BjqD,EAAQmqD,qBAA4BnqD,EAAQmqD,oBAAqB,GAE/C,MAAlBnqD,EAAQqqD,SAAqC,IAAnBrqD,EAAQqqD,SAAiBrqD,EAAQqqD,OAAS,IAAI,EAAAuB,qBACrD,IAAnB5rD,EAAQqqD,SAE6B,MAAjCrqD,EAAQqqD,OAAOyB,iBAAwB9rD,EAAQqqD,OAAOyB,gBAAiB,GACxC,MAA/B9rD,EAAQqqD,OAAO2B,eAAsBhsD,EAAQqqD,OAAO2B,cAAe,IAC9C,IAArBhsD,EAAQiqD,WAAoBjqD,EAAQiqD,SAAW,KAGhC,MAAnBjqD,EAAQmwE,UAAiBnwE,EAAQmwE,QAAU,IACf,iBAApBnwE,EAAe,UAEK,MAAxBA,EAAQmwE,QAAQzrD,OAAc1kB,EAAQmwE,QAAQzrD,KAAO,IAC9B,MAAvB1kB,EAAQmwE,QAAQ5rD,MAAavkB,EAAQmwE,QAAQ5rD,IAAM,IAC1B,MAAzBvkB,EAAQmwE,QAAQh2C,QAAen6B,EAAQmwE,QAAQh2C,MAAQ,IAC7B,MAA1Bn6B,EAAQmwE,QAAQ/1C,SAAgBp6B,EAAQmwE,QAAQ/1C,OAAS,KAGrC,MAAxBp6B,EAAQs7F,eAAsBt7F,EAAQs7F,aAAe,oBACpC,MAAjBt7F,EAAQ4T,QAAe5T,EAAQ4T,OAAQ,IACrB,IAAlB5T,EAAQ4T,QAAgB5T,EAAQ4T,MAAQ,IAG5C,IAAI2nF,EAAiB,EAAA5yF,eAAeoqC,UAAU/yC,EAAQmZ,QACtDnZ,EAAQmZ,YAASkC,EAEjB,IAAImgF,EAAax7F,EAAQ81D,WACzB91D,EAAQ81D,gBAAaz6C,EAErBuL,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB+D,UAExCzG,KAAKsC,YAAY6T,GAAKnW,KAAKsC,YAAY6T,GAAK,YAG5CnW,KAAK89F,MAAQ,EAAAh4F,WACT,CACI42B,iBAAkBr6B,EAAQq6B,iBAC1Bi4B,QAAStyD,EAAQsyD,QACjBp4B,eAAgB,sBAChB6vB,QAAS,CACL,CACInN,MAAO,SAAWj/C,KAAKqL,UAAU8K,GAAInN,KAAM,EAAAwH,mBAAmBslD,OAAQ+B,aAAc,CAAEj8B,UAAW,EAAArrB,cAAc+qB,MAC/GixB,YAAY,EAAMkgB,uBAAwBpqE,EAAQoqE,uBAAwB/c,UAAU,EAAMz5C,OAA0B,IAAlB5T,EAAQ4T,MAAmB5T,EAAQ4T,MAAQ,GAC7I8pD,eAAiBzlD,IAGoB,iBAArBjY,EAAgB,QACxBiY,EAAEjP,QAASoQ,MAAMC,SAAW,YAAcrZ,EAASmwE,QAAU,MAE7Dl4D,EAAEjP,QAASoQ,MAAMC,SAAW,iBAAmBrZ,EAASmwE,QAASzrD,KAAO,oBAAsB1kB,EAASmwE,QAAS5rD,IAAM,sBAAwBvkB,EAASmwE,QAASh2C,MAAQ,uBAAyBn6B,EAASmwE,QAAS/1C,OAAS,MAGvM,MAArBp6B,EAAS07C,SACF,CAAEA,SAAU17C,EAAS07C,SAASzjC,SAErC,KAIhBkB,OAAQoiF,EACR5wC,OAAQ3qD,EAAQ2qD,OAChBvhD,WAAYpJ,EAAQoJ,WACpBugD,kBAAmB3pD,EAAQ2pD,kBAC3BG,UAAW9pD,EAAQ8pD,UACnBE,eAAgBhqD,EAAQgqD,eACxB9qD,KAAMc,EAAQd,KACdgrD,WAAYlqD,EAAQkqD,WACpBD,SAAUjqD,EAAQiqD,SAClBQ,cAAezqD,EAAQyqD,cACvBJ,OAAQrqD,EAAQqqD,OAChBC,QAA0B,IAAlBtqD,EAAQ4T,MAChBu2C,mBAAoBnqD,EAAQmqD,mBAC5BC,cAAepqD,EAAQoqD,cACvBR,eAAe,EACfW,WAAW,EACXC,aAAa,EACbe,WAAW,EACXC,QAASxrD,EAAQwrD,QACjBL,gBAAgB,EAChBp3C,SAAS,EACTsiE,oBAAqBr2E,EAAQq2E,oBAC7B7W,YAAax/D,EAAQw/D,YACrBN,eAAiBjnD,IAIb,GADA,EAAAnP,KAAKnL,KAAKqL,WAAWyQ,KAAK,aAAaqkC,SAAS9lC,SAC5CC,EAAEwwC,MAWF,OATA,EAAA3/C,KAAKmP,EAAEgnD,YAAYxW,aACnB,EAAA1oD,YACI,CACI2Q,KAAM1Q,EAASs7F,aACf1iF,SAAU,GACVM,MAAO,OACPogB,MAAO,EAAA/tB,cAAcyqC,OACrBniC,MAAO,YACR,EAAA/K,KAAKnL,KAAKqL,WAAWyQ,KAAK,cAAe,EAAA5P,oBAAoBqvB,QAKxE,GAA+B,MAA3Bl5B,EAASk/D,eACb,CACI,IACI1kD,EADmB7c,KAAKm4D,aAAav7C,IAAIsY,GAAKA,EAAE7yB,EAAS2pD,oBAChCj3B,QAAQza,EAAE2jC,SAAS57C,EAAS2pD,qBAC3C,GAAVnvC,GAA6C,MAA9Bxa,EAAS2pD,oBACxBnvC,EAAQ,EAAA1R,KAAKmP,EAAEgnD,YAAYzkD,SAE/B,IAAIkI,EAAQ,IAAIg5E,EAChBh5E,EAAMk5B,SAAW3jC,EAAE2jC,SACnBl5B,EAAM28C,aAAepnD,EAAEonD,aACvB38C,EAAM+lC,MAAQxwC,EAAEwwC,MAChB/lC,EAAMu8C,WAAahnD,EAAEgnD,WACrBv8C,EAAM+lB,OAASxwB,EAAEwwB,OACjB/lB,EAAMi5E,KAAO,EAAA7yF,KAAKmP,EAAEgnD,YAAYxlD,KAAK,mBAAqB9b,KAAKqL,UAAU8K,GAAK,MAAM,GACpF4O,EAAMlI,MAAQA,EACdxa,EAASk/D,eAAex8C,KAGhCo8C,YAAc7mD,IAEkB,MAAxBjY,EAAS8+D,aAAwB7mD,EAAEwwC,OACnCzoD,EAAS8+D,YAAY7mD,IAE7BqsD,gBAAiBtkE,EAAQskE,gBACzB2B,cAAejmE,EAAQimE,cACvBxB,kBAAmBzkE,EAAQykE,mBAC5B9mE,KAAKqL,WAGM,MAAdwyF,GACA79F,KAAK89F,MAAM3lC,WAAW0lC,GAI9B,OAAOp7C,EAAyBuW,GAAW,GAUvC,OARc,IAAI1yC,QAAelK,IAE7Bpc,KAAK89F,MAAM9wC,OAAOvK,GAAY,EAAOuW,GAAUn7C,KAAK,KAEhC,MAAZzB,GACAA,QAMhB,mBAAmB09C,EAAsBlH,GAAS,GAE9C5yD,KAAK89F,MAAMG,mBAAmBnkC,EAAYlH,GAG9C,QAEI5yD,KAAK89F,MAAM/vD,QAIf,qBAEI,OAAO/tC,KAAK89F,MAAM34B,qBAGtB,WAAWvlB,EAAmBqb,GAAe,GAEzC,OAAOj7D,KAAK89F,MAAM3lC,WAAWvY,EAAWqb,GAG5C,OAAOK,GAAmB,EAAMtC,GAAW,GAEvCh5D,KAAK89F,MAAMlrC,OAAO0I,EAAkBtC,GAGxC,UAAU/a,EAAe+O,GAAS,GAE9BhtD,KAAK89F,MAAMt4B,UAAUvnB,EAAU+O,GAGnC,WAAWpN,EAAkBoN,GAAS,GAElChtD,KAAK89F,MAAMI,WAAWt+C,EAAWoN,GAGrC,OAAO/O,EAAe+O,GAAS,GAE3BhtD,KAAK89F,MAAMv4B,OAAOtnB,EAAU+O,GAGhC,QAAQpN,EAAkBoN,GAAS,GAE/BhtD,KAAK89F,MAAMr4B,QAAQ7lB,EAAWoN,GAGlC,UAAUiP,EAAiBjP,GAAS,GAEhChtD,KAAK89F,MAAM1lB,UAAUnc,EAAYjP,GAGrC,WAAW2Y,EAAuB3Y,GAAS,GAEvChtD,KAAK89F,MAAMp4B,WAAWC,EAAgB3Y,GAG1C,OAEI,OAAOhtD,KAAK89F,MAAMzsD,OAGtB,cAEI,OAAOrxC,KAAK89F,MAAMpoB,cAGtB,kBAEI,OAAO11E,KAAK89F,MAAMlmC,kBAGtB,mBAEI,OAAO53D,KAAK89F,MAAM77C,mBAGtB,kBAEI,OAAOjiD,KAAK89F,MAAMv3B,kBAGtB,qBAAqB5kE,GAEjB,OAAO3B,KAAK89F,MAAMnnB,qBAAqBh1E,GAK3C,eAAewuC,GAAgB,GAE3BnwC,KAAK89F,MAAMjkC,eAAe1pB,GAG9B,aAAaA,GAAgB,GAEzBnwC,KAAK89F,MAAM1oC,aAAajlB,GAG5B,eAAeA,GAAgB,GAE3BnwC,KAAK89F,MAAMzoC,eAAellB,GAG9B,oBAAoB82B,EAAmB92B,GAAgB,GAEnDnwC,KAAKm+F,oBAAoBl3B,EAAS92B,GAGtC,iBAAiBtzB,EAAeszB,GAAgB,GAE5CnwC,KAAKknE,iBAAiBrqD,EAAOszB,GAGjC,WAAW2pB,EAAsB/3D,EAAmBouC,GAAgB,GAEhEnwC,KAAK07D,WAAW5B,EAAY/3D,EAAUouC,GAG1C,UAAUy1B,EAAgBz1B,GAAgB,GAEtCnwC,KAAK89F,MAAM12B,UAAUxB,EAAQz1B,GAGjC,aAAa2pB,EAAsB/3D,EAAmBouC,GAAgB,GAElEnwC,KAAK89F,MAAMM,aAAatkC,EAAY/3D,EAAUouC,GAGlD,YAAYy1B,GAER5lE,KAAK89F,MAAMjgC,YAAY+H,GAK3B,YAAY3mB,EAAewpB,GAAmB,GAE1CzoE,KAAK+pE,aAAa,CAAC9qB,GAAQwpB,GAG/B,aAAa1a,EAAkB0a,GAAmB,GAE9CzoE,KAAK89F,MAAM/zB,aAAahc,EAAQ0a,GAGpC,gBAAgBA,GAAmB,GAE/BzoE,KAAK89F,MAAM1zB,gBAAgB3B,GAG/B,SAASxpB,EAAiCwpB,GAAmB,EAAMuB,EAAmCnB,GAElG7oE,KAAKiqE,UAAU,CAAChrB,GAAQwpB,EAAkBuB,EAAgBnB,GAG9D,UAAU9a,EAAsC0a,GAAmB,EAAM1pB,EAA2B8pB,GAEhG7oE,KAAK89F,MAAM7zB,UAAUlc,EAAQ0a,EAAkB1pB,EAAQ8pB,GAK3D,WAAWJ,GAAmB,GAE1BzoE,KAAK89F,MAAMloC,WAAW6S,GAG1B,KAAKxpB,EAAeo/C,GAEhBr+F,KAAK89F,MAAM7xE,KAAKgzB,EAAOo/C,GAK3B,aAAa51B,GAAmB,GAE5BzoE,KAAK89F,MAAM7iC,aAAawN,GAG5B,UAAUxpB,EAAekyB,EAAqC3a,GAAe,GAEzEx2D,KAAK89F,MAAMQ,UAAUr/C,EAAOkyB,EAAiB3a,GAGjD,aAAavX,EAAeuX,GAAe,GAEvCx2D,KAAK89F,MAAM5nC,aAAajX,EAAOuX,GAGnC,aAAavX,EAAekyB,EAAqC3a,GAAe,GAE5Ex2D,KAAK89F,MAAMvnC,aAAatX,EAAOkyB,EAAiB3a,GAIpD,aAAaiD,EAAe7G,GAAS,GAEjC,OAAO5yD,KAAK89F,MAAMpkC,aAAaD,EAAM7G,GAIzC,OAAOp3C,GAEH,OAAOxb,KAAK89F,MAAMtiF,OAAOA,GAG7B,kBAAkBo6D,GAAc,GAE5B51E,KAAK89F,MAAMjnC,kBAAkB+e,GAGjC,mBAEI51E,KAAK89F,MAAMhlC,mBAKf,eAAe1/B,GAEX,OAAOp5B,KAAK89F,MAAMziB,eAAejiD,GAGrC,cAEIp5B,KAAK89F,MAAMS,cAGf,cAEIv+F,KAAK89F,MAAMU,cAGf,YAAqDn9F,GAEjD,OAAOrB,KAAK89F,MAAMhpC,YAAezzD,GAGrC,gBAAgBA,GAEZrB,KAAK89F,MAAMW,gBAAgBp9F,GAG/B,gBAAgBA,GAEZrB,KAAK89F,MAAMY,gBAAgBr9F,GAG/B,kBAAuCA,GAEnCrB,KAAK89F,MAAMa,kBAAqBt9F,GAGpC,mBAAwCA,GAEpCrB,KAAK89F,MAAMc,mBAAsBv9F,GAGrC,kBAAkBA,GAEdrB,KAAK89F,MAAMe,kBAAkBx9F,GAGjC,eAAeyzD,GAEX90D,KAAK89F,MAAM/oC,eAAeD,GAK9B,mBAAmB2T,GAAmB,GAElCzoE,KAAK89F,MAAM70B,WAAW,uBAAwBR,GAGlD,mBAAmBA,GAAmB,GAElCzoE,KAAK89F,MAAM50B,WAAW,uBAAwBT,GAKlD,SAASnc,EAAmBsG,GAAS,EAAO0I,GAAmB,GAE3D,OAAOt7D,KAAK89F,MAAMxxC,SAASA,EAAUsG,EAAQ0I,IA7brD,aA8cA,MAAMyiC,UAAoC,EAAAt8B,2B,0GC3f1C,aACA,OAIA,MAAaq9B,UAAoB,EAAA/zF,kBAAjC,gBAiBA,MAAagN,UAAa,EAAAmxB,UAKtB,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIy8F,GAEE,MAAhBz8F,EAAQ08F,OAAc18F,EAAQ08F,KAAO,IAClB,MAAnB18F,EAAQ28F,UAAiB38F,EAAQ28F,QAAU,IACzB,MAAlB38F,EAAQ48F,SAAgB58F,EAAQ48F,QAAS,GACrB,MAApB58F,EAAQ68F,WAAkB78F,EAAQ68F,SAAW,GACxB,MAArB78F,EAAQ88F,YAAmB98F,EAAQ88F,UAAY,GAC7B,MAAlB98F,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACxB,MAAjBnZ,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,QACvB,MAAhBlZ,EAAQd,OAAcc,EAAQd,KAAO,EAAA0Q,YAAYmtF,OAC7B,MAApB/8F,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAE3B,MAAnB55B,EAAQg9F,UAAiBh9F,EAAQg9F,SAAU,GAC3Ch9F,EAAQg9F,QACRh9F,EAAQg9F,QAAU,wGAElBh9F,EAAQg9F,QAAU,GAGtB,IAAIhjE,EAASh6B,EAAQg6B,OACC,GAAlBh6B,EAAQg6B,SACRh6B,EAAQg6B,YAAS3e,GAErBuL,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBiE,KAExC3G,KAAKs/F,oBAAsB,GAC3B,EAAAn0F,KAAKnL,KAAKqL,WAAWmQ,OAAO,QAwB5B,GArBAxb,KAAKurD,KAAOg0C,EAAE3iF,IAAI5c,KAAKqL,UAAW,CAAEm0F,cAAc,IAAQC,QAAQ,CAACp9F,EAAQ68F,SAAU78F,EAAQ88F,WAAY98F,EAAQ08F,MACjHQ,EAAEG,UAAU,6KAAuF,CAC/FV,QAAS38F,EAAQ28F,QACjBW,YAAat9F,EAAQg9F,QACrBlpF,GAAI9T,EAAQd,KACZq+F,SAAU,IACVC,YAAa,IACdC,MAAM9/F,KAAKurD,MAGU,MAApBlpD,EAAS85B,SAET,EAAAhxB,KAAKnL,KAAKurD,MAAMpvC,GAAG,QAAU7B,IAEzB,IAAIwrC,EAAa,IAAIi6C,EACrBj6C,EAAWhb,OAAS9qC,KACpBqC,EAAS85B,QAAS2pB,KAKK,kBAAnBzjD,EAAc,QAAkBA,EAAQ48F,OACpD,CACI,IAAIe,EAAgB,IAAI,EAAA37E,UACxB27E,EAAcd,SAAW78F,EAAQ68F,SACjCc,EAAcb,UAAY98F,EAAQ88F,UAClC98F,EAAQ48F,OAAS,CAACe,GAClBhgG,KAAKi/F,OAAO,CAACe,SAERtjF,MAAM4X,QAAQjyB,EAAQ48F,SAC3Bj/F,KAAKi/F,OAAO58F,EAAQ48F,SAET,IAAX5iE,EACAr8B,KAAKs8B,UAELt8B,KAAKq8B,SAIb,MAEI,OAAOr8B,KAAKurD,KAGhB,OAAO2zC,EAAkBC,GAErBI,EAAEU,OAAOf,EAAUC,GAAWW,MAAM9/F,KAAKurD,MAG7C,OAAO20C,GAEH,IAAI79F,EAAUrC,KAAK+sC,aACnB,GAAe,MAAXmzD,EACJ,CACI79F,EAAQ48F,OAASiB,EACjB,IAAK,IAAIjB,KAAUiB,EACnB,CACI,IAAIC,EAAMZ,EAAEa,aAAa,CAACnB,EAAOC,SAAUD,EAAOE,WAAY,CAC1DjkF,MAAO,YAGS,MAAhB+jF,EAAOhpF,OACPkqF,EAAIE,UAAUpB,EAAOhpF,OAEzBkqF,EAAIL,MAAM9/F,KAAKurD,MACfvrD,KAAKs/F,oBAAoB9rE,KAAK2sE,GAGH,MAAvB99F,EAASi+F,YAET,EAAAn1F,KAAKg1F,GAAKhkF,GAAG,QAAU7B,IAGnB,IAAIwrC,EAAa,IAAIi6C,EACrBj6C,EAAWhb,OAAS9qC,KACpB8lD,EAAWy6C,WAAa,CAAErB,SAAUiB,EAAIK,QAAQC,IAAKtB,UAAWgB,EAAIK,QAAQE,KAC5E56C,EAAW66C,MAAQ,CAAEvtE,EAAG+sE,EAAIS,OAAOxtE,EAAGytE,EAAGV,EAAIS,OAAOC,GACpD/6C,EAAW5qC,MAAQilF,EAAI99F,QAAQ6Y,MAC/B4qC,EAAW7H,SAAWghD,EACtBn5C,EAAWz6C,QAAU80F,EACrB99F,EAASi+F,WAAYx6C,KAM7B,EAAA36C,KAAKg1F,GAAKhkF,GAAG,YAAc7B,IAMvB,GAHoB,MAAhB2kF,EAAOhpF,OACPqE,EAAE6oB,OAAO29D,YAEW,MAApBz+F,EAASkiD,QACb,CACI,IAAIuB,EAAa,IAAIi7C,EACrBj7C,EAAWhb,OAAS9qC,KACpB8lD,EAAWy6C,WAAa,CAAErB,SAAUiB,EAAIK,QAAQC,IAAKtB,UAAWgB,EAAIK,QAAQE,KAC5E56C,EAAW66C,MAAQ,CAAEvtE,EAAG+sE,EAAIS,OAAOxtE,EAAGytE,EAAGV,EAAIS,OAAOC,GACpD/6C,EAAW5qC,MAAQilF,EAAI99F,QAAQ6Y,MAC/B4qC,EAAW7H,SAAWghD,EACtBn5C,EAAWz6C,QAAU80F,EACrB99F,EAASkiD,QAAQuB,OAMjC,OAAOzjD,EAAQ48F,OAGnB,QAEI,IAAI58F,EAAUrC,KAAK+sC,aACnB,GAAsB,MAAlB1qC,EAAQ48F,QAAkBviF,MAAM4X,QAAQjyB,EAAQ48F,QAEhD,IAAK,IAAIA,KAAUj/F,KAAKs/F,oBACpBt/F,KAAKurD,KAAKy1C,YAAY/B,GAE9Bj/F,KAAKs/F,oBAAsB,GAG/B,UAEIr2E,MAAMqT,UAENt8B,KAAKurD,KAAKvkB,SAAS1K,UACnBt8B,KAAKurD,KAAK01C,UAAU3kE,UACpBt8B,KAAKurD,KAAK21C,gBAAgB5kE,UAC1Bt8B,KAAKurD,KAAK41C,gBAAgB7kE,UAC1Bt8B,KAAKurD,KAAK61C,QAAQ9kE,UAClBt8B,KAAKurD,KAAK81C,SAAS/kE,UACnB,EAAAnxB,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyBjJ,OAEjD7S,KAAKurD,KAAK+1C,KACVthG,KAAKurD,KAAK+1C,IAAIhlE,UAElBt8B,KAAKqL,UAAUoQ,MAAMN,OAAS,UAGlC,SAEI8N,MAAMoT,SAENr8B,KAAKurD,KAAKvkB,SAAS3K,SACnBr8B,KAAKurD,KAAK01C,UAAU5kE,SACpBr8B,KAAKurD,KAAK21C,gBAAgB7kE,SAC1Br8B,KAAKurD,KAAK41C,gBAAgB9kE,SAC1Br8B,KAAKurD,KAAK61C,QAAQ/kE,SAClBr8B,KAAKurD,KAAK81C,SAAShlE,SACnB,EAAAlxB,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyBI,OAEjDlc,KAAKurD,KAAK+1C,KACVthG,KAAKurD,KAAK+1C,IAAIjlE,SAElBr8B,KAAKqL,UAAUoQ,MAAMN,OAAS,OAGlC,iBAEInb,KAAKurD,KAAKg2C,iBAGd,aAEI,OAAOvhG,KAAKqC,WA1MpB,SAiNA,MAAMm/F,UAAiB,EAAA3iF,iBAUvB,MAAMkhF,UAAyByB,GAI/B,MAAMT,UAAyBS,GAIH,EAAA3iF,iB,gHCzP5B,aACA,OAGA,MAAa4iF,UAAuB,EAAA12F,kBAApC,mBAcA,MAAalE,UAAgB,EAAAqiC,UAUzB,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIo/F,GAEO,MAArBp/F,EAAQq/F,YAAmBr/F,EAAQq/F,UAAY,IAC/B,MAAhBr/F,EAAQskB,OAActkB,EAAQskB,KAAO,IACpB,MAAjBtkB,EAAQ6Y,QAAe7Y,EAAQ6Y,MAAQ,yBAErB,MAAlB7Y,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACxB,MAAjBnZ,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KAC3C,IAAIomF,EAAelwE,OAAOpvB,EAAQmZ,QAC9BomF,EAAcnwE,OAAOpvB,EAAQkZ,OACjClZ,EAAQmZ,YAASkC,EACjBrb,EAAQkZ,WAAQmC,EAEY,MAAxBrb,EAAQw/F,eAAsBx/F,EAAQw/F,aAAe,IAAIC,GACrB,MAApCz/F,EAAQw/F,aAAaE,cAAqB1/F,EAAQw/F,aAAaE,YAAc,KACxC,MAArC1/F,EAAQw/F,aAAaG,eAAsB3/F,EAAQw/F,aAAaG,aAAe,KAC3D,MAApB3/F,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBmE,SAExC,EAAAsE,KAAKnL,KAAKqL,WAAWS,KAAK,QAAS81F,GACnC,EAAAz2F,KAAKnL,KAAKqL,WAAWS,KAAK,SAAU61F,GACpC3hG,KAAKiiG,OAAS,IAAI99F,MAClBnE,KAAKqyF,MAAMhwF,EAAQq/F,WAEnB1hG,KAAKkiG,KAAQliG,KAAKqL,UAAgC67E,WAAW,MAC7DlnF,KAAKkiG,KAAKC,UAAU,EAAG,EAAIniG,KAAKkiG,KAAa3mF,MAAQvb,KAAKkiG,KAAa1mF,QACvExb,KAAKkiG,KAAK/a,UAAUnnF,KAAKqyF,QAAS,EAAG,GAEpCryF,KAAKoiG,QAAkB,GACxBpiG,KAAKkb,MAAM7Y,EAAQ6Y,OACnBlb,KAAK2mB,KAAKtkB,EAAQskB,MAClBnC,OAAOwa,WAAW,IAAMh/B,KAAKqiG,OAAQ,KACrCriG,KAAKsiG,WAAY,EAEjB,EAAAn3F,KAAKnL,KAAKqL,WAAWqtB,UAAWpe,IAE5B,IAAKta,KAAKsiG,UACN,OAEJ,IAAI3B,EAAQ3gG,KAAKuiG,SAASjoF,GAK1B,GAJ6C,MAAzCta,KAAKoiG,QAAQpiG,KAAKoiG,QAAQh3F,OAAS,IACnCpL,KAAKoiG,QAAQpiG,KAAKoiG,QAAQh3F,OAAS,GAAGooB,KAAKmtE,GAGnB,MAAxBt+F,EAASmgG,YACb,CACI,IAAIz9E,EAAQ,IAAI09E,EAMhB,GALA19E,EAAM+lB,OAAS9qC,KACf+kB,EAAMA,MAAQzK,EACdyK,EAAM29E,OAAS1iG,KAAKoiG,QACpB//F,EAASmgG,YAAYz9E,GAEjBA,EAAMhB,qBAGN,YADAzJ,EAAE0e,iBAMVh5B,KAAKqiG,SAET,EAAAl3F,KAAKnL,KAAKqL,WAAW4sB,UAAW3d,IAE5Bta,KAAKsiG,WAAY,EACjB,IAAI3B,EAAQ3gG,KAAKuiG,SAASjoF,GAG1B,GAA4B,MAAxBjY,EAAS6hD,YACb,CACI,IAAIn/B,EAAQ,IAAI49E,EAMhB,GALA59E,EAAM+lB,OAAS9qC,KACf+kB,EAAMA,MAAQzK,EACdyK,EAAM29E,OAAS1iG,KAAKoiG,QACpB//F,EAAS6hD,YAAYn/B,GAEjBA,EAAMhB,qBAGN,YADAzJ,EAAE0e,iBAMVh5B,KAAKoiG,QAAQ5uE,KAAK,CAACmtE,MAEvB,EAAAx1F,KAAKnL,KAAKqL,WAAW4tB,QAAS3e,IAK1B,GAHAta,KAAKsiG,WAAY,EAGS,MAAtBjgG,EAASgiD,UACb,CACI,IAAIt/B,EAAQ,IAAI69E,EAMhB,GALA79E,EAAM+lB,OAAS9qC,KACf+kB,EAAMA,MAAQzK,EACdyK,EAAM29E,OAAS1iG,KAAKoiG,QACpB//F,EAASgiD,UAAUt/B,GAEfA,EAAMhB,qBAGN,YADAzJ,EAAE0e,oBAQlB,MAAM9d,GAKF,OAHa,MAATA,IACAlb,KAAK6iG,OAAS3nF,GAEXlb,KAAK6iG,OAGhB,KAAKl8E,GAKD,OAHY,MAARA,IACA3mB,KAAK8iG,MAAQn8E,GAEV3mB,KAAK8iG,MAGhB,MAAMpB,GAKF,OAHiB,MAAbA,IACA1hG,KAAKiiG,OAAOzc,IAAMkc,GAEf1hG,KAAKiiG,OAGhB,SAASxkF,GAKL,OAHW,MAAPA,IACAzd,KAAK+iG,UAAYtlF,GAEdzd,KAAK+iG,UAGhB,OAAOL,GAQH,OANc,MAAVA,IAEA1iG,KAAKoiG,QAAUM,EACf1iG,KAAKqiG,QAGFriG,KAAKoiG,QAGhB,OAEIpiG,KAAKkiG,KAAKC,UAAU,EAAG,EAAIniG,KAAKkiG,KAAa3mF,MAAQvb,KAAKkiG,KAAa1mF,QACvExb,KAAKkiG,KAAK/a,UAAUnnF,KAAKqyF,QAAS,EAAG,GAErC,IAAK,IAAIjyF,EAAI,EAAGA,EAAIJ,KAAKoiG,QAAQh3F,SAAUhL,EAC3C,CACI,IAAIsiG,EAAS1iG,KAAKoiG,QAAQhiG,GAC1B,KAAIsiG,EAAOt3F,OAAS,GAApB,CAGApL,KAAKkiG,KAAKc,YAAcN,EAAO,GAAGxnF,MAClClb,KAAKkiG,KAAKe,QAAU,QACpBjjG,KAAKkiG,KAAKgB,SAAW,QACrBljG,KAAKkiG,KAAKiB,UAAYT,EAAO,GAAG/7E,KAChC3mB,KAAKkiG,KAAKkB,YACVpjG,KAAKkiG,KAAKmB,OAAOX,EAAO,GAAGtvE,EAAGsvE,EAAO,GAAG7B,GAExC,IAAK,IAAI98D,EAAI,EAAGA,EAAI2+D,EAAOt3F,SAAU24B,EACjC/jC,KAAKkiG,KAAKoB,OAAOZ,EAAO3+D,GAAG3Q,EAAGsvE,EAAO3+D,GAAG88D,GAE5C7gG,KAAKkiG,KAAKqB,WAIV,SAASjpF,GAEb,IAAIqmF,EAAQ,IAAI6C,EAMhB,OALA7C,EAAMvtE,EAAI9Y,EAAE8d,QAAUp4B,KAAKqL,UAAUmyB,wBAAwBpK,EAC7DutE,EAAME,EAAIvmF,EAAEge,QAAUt4B,KAAKqL,UAAUmyB,wBAAwBqjE,EAC7DF,EAAMzlF,MAAQlb,KAAKkb,QACnBylF,EAAMh6E,KAAO3mB,KAAK2mB,OAClBg6E,EAAMljF,IAAMzd,KAAK+iG,UACVpC,EAGX,MAAMe,GAED1hG,KAAKoiG,QAAkB,GACP,MAAbV,GACA1hG,KAAKqyF,MAAMqP,GAEfl9E,OAAOwa,WAAW,IAAMh/B,KAAKqiG,OAAQ,KAGzC,iBAEIriG,KAAKoiG,QAAQqB,MACbzjG,KAAKqiG,OAGT,WAAW5kF,GAEP,IAAIimF,EAAiB,GACrB,IAAK,IAAI/C,KAAS3gG,KAAK0iG,SAEnB,IAAK,IAAIiB,KAAehD,EAEpB,GAAIgD,EAAYlmF,KAAOA,EACvB,CACIimF,EAAelwE,KAAKmtE,GACpB,MAKZ,IAAK,IAAIiD,KAAiBF,EACtB1jG,KAAKoiG,QAAQttE,SAAS8uE,GAE1B5jG,KAAKqiG,OAGT,KAAKwB,GAED,IAAIC,EACJ,GAAmB,MAAfD,EACJ,CACI,IAAIxhG,EAAUrC,KAAK+sC,aAEfg3D,EAAkC,EAAA54F,KAAK,YAAY,GACvD44F,EAAaxoF,MAAQlZ,EAAQw/F,aAAcE,YAC3CgC,EAAavoF,OAASnZ,EAAQw/F,aAAcG,aAC5C,IAAIgC,EAAUD,EAAa7c,WAAW,MACtC8c,EAAQ7c,UAAUnnF,KAAKqL,UAAgC,EAAG,GAE1D,IAAI4P,EAAW,GACX4lF,EAAI,GACR,IAAK,IAAIoD,KAAcJ,EACvB,CACI,IAAIjiD,EAAgC,MAApBqiD,EAAW/oF,MAAgB,IAAM,IAC7CgpF,EAAWF,EAAQG,YAAYF,EAAWlxF,MAE1CqxF,EAAanpF,EADLsS,KAAK82E,KAAKH,EAAS3oF,MAAQqmC,GAGvCoiD,EAAQvY,KAAOxwE,EAAS6B,WAAa,WACb,MAApBmnF,EAAW/oF,OAEX8oF,EAAQM,UAAYL,EAAW/oF,MAC/B8oF,EAAQO,SAAS,IAAK1D,EAAG,GAAI,IAE7BmD,EAAQM,UAAY,UACpBN,EAAQQ,SAASP,EAAWlxF,KAAM,IAAK8tF,EAAIuD,EAAY,MAGvDJ,EAAQQ,SAASP,EAAWlxF,KAAM,IAAK8tF,EAAIuD,EAAY,KAE3DvD,GAAKuD,EAAa,GAEtBN,EAAUC,EAAaU,iBAGvBX,EAAW9jG,KAAKqL,UAAgCo5F,YAEpD,OAAOX,EAIX,SAEI76E,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKqL,WAAWwzB,YAAY,qBAGrC,UAEI5V,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKqL,WAAWyvB,SAAS,qBAIlC,aAEI,OAAQ96B,KAAKqC,WA5SrB,YAiTA,MAAMmhG,GAeN,MAAM1B,GAMN,MAAM4C,UAAqB,EAAA7lF,iBAO3B,MAAM8jF,UAA8B+B,GACpC,MAAMjC,UAA8BiC,GACpC,MAAM9B,UAA4B8B,K,kHCjWlC,aACA,OACA,OAIA,MAAaC,UAAwB,EAAA55F,kBAArC,oBAsBA,MAAahE,UAAiB,EAAAmiC,UAO1B,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAIsiG,GAEW,MAAzBtiG,EAAQuiG,gBAAuBviG,EAAQuiG,cAAgB,WACtDviG,EAAQuiG,cAAc15F,WAAW,OAAM7I,EAAQuiG,cAAgB,IAAMviG,EAAQuiG,eACxD,MAAtBviG,EAAQgnC,aAAoBhnC,EAAQgnC,YAAa,GACvB,MAA1BhnC,EAAQinC,iBAAwBjnC,EAAQinC,gBAAiB,GAChC,MAAzBjnC,EAAQgrC,gBAAuBhrC,EAAQgrC,cAAgB,IACtC,MAAjBhrC,EAAQwC,QAAexC,EAAQwC,MAAQ,EAAAC,cAAcykC,KAGzDtgB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBqE,UACxC/G,KAAKqiG,OAGgB,MAAjBhgG,EAAQhB,OACRrB,KAAKqB,MAAMgB,EAAQhB,OAAO,GAK1B,OAEJ,IAAIgB,EAAUrC,KAAK+sC,aAGf1rC,EAAQrB,KAAKqB,QACJ,MAATA,IACAA,EAAQ,IAAIgiB,MAEhBrjB,KAAK6kG,oBAAsBxjG,EAE3B,MAAMouB,EAAS,CAAC,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,YAAa,UAAW,WAAY,YACtI,IACIq1E,EAAcr1E,EADNzvB,KAAK6kG,oBAAoBh7E,YAEjCH,EAAO1pB,KAAK6kG,oBAAoBl7E,cAIhCo7E,EAAY,EAAA55F,KAAK,+CAA+CmL,eAAetW,KAAKqL,WAAW,GACnGrL,KAAKglG,eAAiB,EAAA5iG,YAClB,CACI2Q,KAAM+xF,EAAc,IAAMp7E,EAC1B+2C,MAAM,EACNllD,MAAO,oBACPogB,MAAO,EAAA/tB,cAAc0tB,KACrBplB,MAAO,8BACPH,IAAK,sBACLomB,QAAU7hB,IAEN,OAAQta,KAAKilG,aAET,KAAK,EAAAh0D,eAAe1H,IAAKvpC,KAAKklG,aAAc,MAC5C,KAAK,EAAAj0D,eAAelsC,MAAO/E,KAAKmlG,YAAa,MAC7C,KAAK,EAAAl0D,eAAehsC,KAAMjF,KAAKolG,iBAGxCL,GAEU,EAAAniG,aACb,CACImY,KAAM,EAAArO,iBAAiBw6C,UACvBnxC,IAAK,gBACL+lB,aAAc,YACdvgB,MAAO,GACP4gB,QAAU7hB,IAEN,OAAQta,KAAKilG,aAET,KAAK,EAAAh0D,eAAe1H,IAEZvpC,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBr1E,aAAa,GACjExvB,KAAKqlG,WAET,MACJ,KAAK,EAAAp0D,eAAelsC,MAEZ/E,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBz1E,YAAY,GAChEpvB,KAAKklG,aAET,MACJ,KAAK,EAAAj0D,eAAehsC,KAEZjF,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBz1E,YAAY,IAChEpvB,KAAKmlG,YAET,MACJ,KAAK,EAAAl0D,eAAeq0D,OAEZtlG,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBz1E,YAAY,KAChEpvB,KAAKolG,iBAKtBL,GAEU,EAAAniG,aACb,CACImY,KAAM,EAAArO,iBAAiBqvC,WACvBhmC,IAAK,gBACL+lB,aAAc,YACdvgB,MAAO,GACP4gB,QAAU7hB,IAEN,OAAQta,KAAKilG,aAET,KAAK,EAAAh0D,eAAe1H,IAEZvpC,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBr1E,YAAY,GAChExvB,KAAKqlG,WAET,MACJ,KAAK,EAAAp0D,eAAelsC,MAEZ/E,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBz1E,WAAW,GAC/DpvB,KAAKklG,aAET,MACJ,KAAK,EAAAj0D,eAAehsC,KAEZjF,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBz1E,WAAW,IAC/DpvB,KAAKmlG,YAET,MACJ,KAAK,EAAAl0D,eAAeq0D,OAEZtlG,KAAK6kG,oBAAsB7kG,KAAK6kG,oBAAoBz1E,WAAW,KAC/DpvB,KAAKolG,iBAKtBL,GAQP,OAJA,EAAA55F,KAAK,mDAAmDmL,eAAetW,KAAKqL,WAAW,GAI/EhJ,EAAQwC,OAEZ,KAAK,EAAAC,cAAcykC,IAAKvpC,KAAKqlG,WAAY,MACzC,KAAK,EAAAvgG,cAAcC,MAAO/E,KAAKklG,aAAc,MAC7C,KAAK,EAAApgG,cAAcG,KAAMjF,KAAKmlG,YAAa,MAC3C,QACInlG,KAAKqlG,WAKb,IACI72D,EAAQ,IAAInrB,KACZkiF,EAAW/2D,EAAMzkB,UACjBy7E,EAHe,CAAC,WAAY,SAAU,UAAW,YAAa,UAAW,UAAW,UAG3Dh3D,EAAMphB,UAC/BmhB,EAAaC,EAAM3kB,WACnBykB,EAAYE,EAAM7kB,cAElB87E,EAAW,EAAAt6F,KAAK,sGAAsGmL,eAAetW,KAAKqL,WAAW,GACzJ,EAAAjJ,YACI,CACI2Q,KAAMyyF,EAAY,IAAMD,EAAW,IAAM91E,EAAO8e,GAAc,IAAMD,EACpEtS,cAAe,CAAEmnB,UAAW9gD,EAAQuiG,eACpC7uF,IAAK,8BACLqmB,UAAU/5B,EAAkB,WAC5B85B,QAAU7hB,IAENta,KAAKqB,MAAM,IAAIgiB,QAEpBoiF,GAIH,WAEJ,IAAIpjG,EAAUrC,KAAK+sC,aACnB/sC,KAAKilG,YAAc,EAAAh0D,eAAe1H,IAClCvpC,KAAKglG,eAAe3oE,SAEpB,IAAIuzD,EAAQ,EAAAzkF,KAAKnL,KAAKqL,WAAWyQ,KAAK,4BAA4B,GAClE,EAAA3Q,KAAKykF,GAAO9kC,QAGZ,IAAI46C,EAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAChDC,EAAa,EAAAx6F,KAAK,4CAA4CmL,eAAes5E,GAAO,GACxF,IAAK,IAAIgW,KAAWF,EAChB,EAAAv6F,KAAK,oEAAsEy6F,EAAU,SAAStvF,eAAeqvF,GAGjH,IAAIj8E,EAAO1pB,KAAK6kG,oBAAoBl7E,cAChCC,EAAQ5pB,KAAK6kG,oBAAoBh7E,WAGrC,IAAIi7E,EADW,CAAC,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,YAAa,UAAW,WAAY,YAC7Gl7E,GACzB5pB,KAAKglG,eAAe3jG,MAAMyjG,EAAc,IAAMp7E,GAE9C,IAAIm8E,EAAqB,IAAIxiF,KAAKqG,EAAME,EAAO,GAC3Ck8E,EAAoB,IAAIziF,KAAKqG,EAAME,EAAQ,EAAG,GAC9C4O,EAASqtE,EAAmBz4E,SAClB,GAAVoL,IACAA,EAAS,GACbA,GAAU,EAGV,IAAIgW,EAAQ,IAAInrB,KACZkrB,EAAaC,EAAM3kB,WACnBykB,EAAYE,EAAM7kB,cAClB47E,EAAYh3D,GAAc3kB,GAAS0kB,GAAa5kB,EAAQ8kB,EAAMzkB,UAAY,KAE1Eg8E,EAAiB,KACjBC,EAAchmG,KAAKqB,QAEvB,GAAmB,MAAf2kG,EACJ,CACI,IAAIC,EAAmBD,EAAYn8E,WAC/Bq8E,EAAkBF,EAAYr8E,cAClCo8E,EAAkBE,GAAoBr8E,GAASs8E,GAAmBx8E,EAAQs8E,EAAYj8E,UAAY,KAItG,IAAIo8E,EAAmB9iF,KAAK6J,0BAA0B,IAAI7J,KAAKqG,EAAME,EAAQ,EAAG,IAAIG,UAAY,EAAIyO,EAChG4tE,EAAW,EACXC,GAAa,EACjB,IAAK,IAAIjmG,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,EAAA+K,KAAKykF,GAAOxjF,aAAa,8CAAgDhM,EAAI,WAC7E,IAAK,IAAI2jC,EAAI,EAAGA,EAAI,EAAGA,IAEnB,GAAc,GAAVvL,EACJ,CAEI,IAAIziB,EAAM,GACY,MAAlBgwF,GAA0BA,GAAkBK,GAAaC,EAExC,MAAZd,GAAoBA,GAAYa,GAAaC,EAE7CA,GAELtwF,EAAM,6BACD1T,EAAQinC,iBACTvzB,GAAO,mBAGXA,EAAM,yDARNA,GAAO,qBAAuB1T,EAAQuiG,cAAgB,IAFtD7uF,GAAO,qBAAuB1T,EAAQuiG,cAAgB,+BAY1D,IAAI/uC,EAAK,EAAA1qD,KAAK,YAAci7F,EAAW,WAAW9vF,eAAe,EAAAnL,KAAKykF,GAAO9zE,KAAK,WAAa1b,EAAI,OAAO,GAC1GJ,KAAKsmG,YAAYF,EAAU18E,EAAME,EAAOisC,EAAI9/C,GAGxCqwF,GAAYN,EAAkB/7E,YAE9BH,IACAw8E,EAAW,EACXC,GAAa,GAEjBD,QAGJ,CACI,IAAIrwF,EAAM,6BACL1T,EAAQinC,iBACTvzB,GAAO,kBAEX,IAAI8/C,EAAK,EAAA1qD,KAAK,YAAcg7F,EAAmB,WAAW7vF,eAAe,EAAAnL,KAAKykF,GAAO9zE,KAAK,WAAa1b,EAAI,OAAO,GAClHJ,KAAKsmG,YAAYH,IAAoBz8E,EAAME,EAAQ,EAAGisC,EAAI9/C,GAC1DyiB,KAMZ,GAA8B,MAA1Bn2B,EAAQkkG,eACZ,CACI,IAAIxhF,EAAQ,IAAIyhF,EAChBzhF,EAAM+lB,OAAS9qC,KACfqC,EAAQkkG,eAAexhF,IAKvB,YAAY+E,EAAaJ,EAAcE,EAAeisC,EAAiB9/C,GAE3E,IAAI1T,EAAUrC,KAAK+sC,aACf1Q,EAASr8B,KAAKymG,kBAAkB/8E,EAAME,EAAOE,GAE7Cg5B,EAAS,EAAAlgD,aACT,CACImQ,KAAMyW,OAAOM,GACbvO,MAAOlZ,EAAQgrC,cACft3B,IAAKA,EACLsmB,OAAQA,EACRF,QAAU7hB,IAEN,IAAImzB,EAAe,IAAIpqB,KAAKqG,EAAME,EAAO6H,OAAOqxB,EAAO/vC,QAAS,EAAG,EAAG,GACtE/S,KAAKqB,MAAMosC,KAEhBooB,GAEHxsC,EAAO,IAAIhG,KAAKqG,EAAME,EAAOE,EAAK,EAAG,EAAG,GAG5C,GAA6B,MAAzBznB,EAAQqkG,cACZ,CACI,IAAI3hF,EAAQ,IAAI4hF,EAChB5hF,EAAM+lB,OAAS9qC,KACf+kB,EAAM+E,IAAMT,EAEZ,IAAIiT,EAAUj6B,EAAQqkG,cAAc3hF,GACpC+9B,EAAO7Y,QAAQ3N,GAKnB,GAAyB,MAArBj6B,EAAQukG,UACZ,CACI,IAAI7hF,EAAQ,IAAI8hF,EAChB9hF,EAAM+lB,OAAS9qC,KACf+kB,EAAM+E,IAAMT,EACZhnB,EAAQukG,UAAU7hF,GAKtB,GAA6B,MAAzB1iB,EAAQykG,cACZ,CAC2BzkG,EAAQykG,cAAclqF,IAAIsY,GAAKA,EAAE7I,WACnCtQ,SAASsN,EAAKgD,YAC/By2B,EAAOxmB,UAGf,GAAgC,MAA5Bj6B,EAAQ0kG,iBACZ,CAC2B1kG,EAAQ0kG,iBAAiBnqF,IAAIsY,GAAKA,EAAE7I,WACtCtQ,SAASsN,EAAKgD,aAC/By2B,EAAOz3C,UAAUoQ,MAAMC,SAAW,qBAAuBrZ,EAAQuiG,cAAgB,sDAKrF,kBAAkBl7E,EAAcE,EAAgBE,GAEpD,IAAIznB,EAAUrC,KAAK+sC,aACf1Q,GAAS,EA6Bb,OA3B6B,MAAzBh6B,EAAQ2kG,gBAEJt9E,EAAOrnB,EAAQ2kG,cAAcr9E,eAExBD,GAAQrnB,EAAQ2kG,cAAcr9E,eAA0B,MAATC,IAEhDA,EAAQvnB,EAAQ2kG,cAAcn9E,YAEzBD,GAASvnB,EAAQ2kG,cAAcn9E,YAAqB,MAAPC,GAC/CA,EAAMznB,EAAQ2kG,cAAcj9E,cANnCsS,GAAS,GAWU,MAAvBh6B,EAAQ4kG,cAEJv9E,EAAOrnB,EAAQ4kG,YAAYt9E,eAEtBD,GAAQrnB,EAAQ4kG,YAAYt9E,eAA0B,MAATC,IAE9CA,EAAQvnB,EAAQ4kG,YAAYp9E,YAEvBD,GAASvnB,EAAQ4kG,YAAYp9E,YAAqB,MAAPC,GAC7CA,EAAMznB,EAAQ4kG,YAAYl9E,cANjCsS,GAAS,GAUVA,EAGX,cAAc6qE,GAEV,IAAI7kG,EAAUrC,KAAK+sC,aAInB,OAHa,MAATm6D,IACA7kG,EAAQykG,cAAgBI,GAErB7kG,EAAQykG,cAGnB,iBAAiBI,GAEb,IAAI7kG,EAAUrC,KAAK+sC,aAInB,OAHa,MAATm6D,IACA7kG,EAAQ0kG,iBAAmBG,GAExB7kG,EAAQ0kG,iBAGX,aAEJ/mG,KAAKilG,YAAc,EAAAh0D,eAAelsC,MAClC/E,KAAKglG,eAAe3oE,SAEpB,IAAIuzD,EAAQ,EAAAzkF,KAAKnL,KAAKqL,WAAWyQ,KAAK,4BAA4B,GAClE,EAAA3Q,KAAKykF,GAAO9kC,QAEZ9qD,KAAKglG,eAAe3jG,MAAMrB,KAAK6kG,oBAAoBl7E,eACnD,MAAM8F,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAE7F,IAAK,IAAIrvB,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,EAAA+K,KAAKykF,GAAOxjF,aAAa,gDAAkDhM,EAAI,WAC/E,IAAK,IAAI2jC,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,IAAIojE,EAAkB,EAAJ/mG,EAAQ2jC,EACtB8xB,EAAK,EAAA1qD,KAAK,cAAgBg8F,EAAa,WAAW7wF,eAAe,EAAAnL,KAAKykF,GAAO9zE,KAAK,WAAa1b,EAAI,OAAO,GAC1GgnG,EAAiBD,EACjB9qE,EAASr8B,KAAKymG,kBAAkBzmG,KAAK6kG,oBAAoBl7E,cAAey9E,GAE5E,EAAAxkG,aACI,CACImQ,KAAM,+BAAiCo0F,EAAa,GAAK,gBAAkB13E,EAAO03E,GAClF5rF,MAAO,GACPC,OAAQ,GACR6gB,OAAQA,EACRtmB,IAAK,+BAAkD,MAAhB/V,KAAKqB,SAAmB8lG,GAAcnnG,KAAKqB,QAASwoB,WAAc,6BAA+B,IACxIsS,QAAU7hB,IAEN,IAAIsV,EAAWu3E,EAGf,GAFAnnG,KAAK6kG,oBAAoBh1E,SAASD,GAE9B5vB,KAAK6E,SAAW,EAAAC,cAAcC,MAClC,CACI,IAAI0oC,EAAe,IAAIpqB,KAAKrjB,KAAK6kG,oBAAoBl7E,cAAeiG,EAAU,GAC9E5vB,KAAKqB,MAAMosC,QAGXztC,KAAKqlG,aAEdxvC,KAKX,YAEJ71D,KAAKilG,YAAc,EAAAh0D,eAAehsC,KAClCjF,KAAKglG,eAAe3oE,SAEpB,IAAIuzD,EAAQ,EAAAzkF,KAAKnL,KAAKqL,WAAWyQ,KAAK,4BAA4B,GAClE,EAAA3Q,KAAKykF,GAAO9kC,QAEZ,IAAIphC,EAAO1pB,KAAK6kG,oBAAoBl7E,cAChC09E,EAAmB51E,OAAO/H,EAAK5M,WAAW6X,UAAU,EAAG,IACvD2yE,EAAkB71E,OAAO/H,EAAK5M,WAAWmO,QAAQ,IACjDs8E,EAA0D,GAAxCh6E,KAAK82E,MAAMiD,EAAkB,GAAK,IAEpDE,EAAgC,IAAnBH,EAA0BE,EAAkB,GAAK,EAC9DE,EAA+B,IAAnBJ,EAA0BE,EAC1CvnG,KAAKglG,eAAe3jG,MAAOmmG,EAAY,EAAK,KAAOC,EAAW,IAE9D,IAAIC,EAASF,EACb,IAAK,IAAIpnG,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,EAAA+K,KAAKykF,GAAOxjF,aAAa,gDAAkDhM,EAAI,WAC/E,IAAK,IAAI2jC,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,IAAI8xB,EAAK,EAAA1qD,KAAK,aAAeu8F,EAAS,WAAWpxF,eAAe,EAAAnL,KAAKykF,GAAO9zE,KAAK,WAAa1b,EAAI,OAAO,GACrGunG,EAAgBl2E,OAAO,EAAAtmB,KAAK0qD,GAAI/pD,KAAK,SACrCuwB,EAASr8B,KAAKymG,kBAAkBkB,GAEpC,EAAA/kG,aACI,CACImQ,KAAMyW,OAAOk+E,GACbnsF,MAAO,GACPC,OAAQ,GACR6gB,OAAQA,EACRtmB,IAAK,+BAAkD,MAAhB/V,KAAKqB,SAAmBqmG,GAAU1nG,KAAKqB,QAASsoB,cAAiB,6BAA+B,KAAQg+E,GAAiBH,GAAaG,GAAiBF,EAAY,eAAiB,IAC3NtrE,QAAU7hB,IAEN,IAAIstF,EAAUn2E,OAAO,EAAAtmB,KAAK0qD,GAAI/pD,KAAK,SAGnC,GAFA9L,KAAK6kG,oBAAoBt1E,YAAYq4E,GAEjC5nG,KAAK6E,SAAW,EAAAC,cAAcG,KAClC,CACI,IAAIwoC,EAAe,IAAIpqB,KAAKukF,EAAS,EAAG,GACxC5nG,KAAKqB,MAAMosC,QAGXztC,KAAKklG,eAEdrvC,GACP6xC,MAKJ,cAEJ1nG,KAAKilG,YAAc,EAAAh0D,eAAeq0D,OAClCtlG,KAAKglG,eAAe1oE,UAEpB,IAAIszD,EAAQ,EAAAzkF,KAAKnL,KAAKqL,WAAWyQ,KAAK,4BAA4B,GAClE,EAAA3Q,KAAKykF,GAAO9kC,QAEZ,IAAIphC,EAAO1pB,KAAK6kG,oBAAoBl7E,cAChC09E,EAAmB51E,OAAO/H,EAAK5M,WAAW6X,UAAU,EAAG,IAGvD6yE,GAFkB/1E,OAAO/H,EAAK5M,WAAWmO,QAAQ,IAElB,IAAnBo8E,GACZI,EAA8B,IAAnBJ,EAAyB,GACpCQ,EAAoC,IAAnBR,EAAyB,GAC1CS,EAAmC,IAAnBT,EAAyB,IAC7CrnG,KAAKglG,eAAe3jG,MAAMmmG,EAAY,IAAMC,GAE5C,IAAIM,EAAWF,EACf,IAAK,IAAIznG,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,EAAA+K,KAAKykF,GAAOxjF,aAAa,gDAAkDhM,EAAI,WAC/E,IAAK,IAAI2jC,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACI,IAAI8xB,EAAK,EAAA1qD,KAAK,eAAiB48F,EAAW,WAAWzxF,eAAe,EAAAnL,KAAKykF,GAAO9zE,KAAK,WAAa1b,EAAI,OAAO,GACzGunG,EAAgBl2E,OAAO,EAAAtmB,KAAK0qD,GAAI/pD,KAAK,WACzC,EAAAlJ,aACI,CACImQ,KAAMg1F,EAAW,UAAYA,EAAW,GACxCxsF,MAAO,GACPC,OAAQ,GACRzF,IAAK,+BAAkD,MAAhB/V,KAAKqB,SAAmBrB,KAAKqB,QAASsoB,eAAiBo+E,GAAY/nG,KAAKqB,QAASsoB,eAAkBo+E,EAAW,EAAM,6BAA+B,KAAQJ,GAAiBE,GAAkBF,GAAkBG,EAAgB,EAAM,eAAiB,IAC9R3rE,QAAU7hB,IAEN,IAAIoP,EAAO+H,OAAO,EAAAtmB,KAAK0qD,GAAI/pD,KAAK,WAChC9L,KAAK6kG,oBAAoBt1E,YAAY7F,GACrC1pB,KAAKmlG,cAEVtvC,GACPkyC,GAAY,KAKxB,aAEI,OAAO/nG,KAAKqC,UAGhB,QAEI,OAAOrC,KAAK+sC,aAAaloC,MAG7B,MAAMwkB,EAAoB8mB,GAAyB,GAE/C,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAa,OAAT1jB,EAGA,OADArpB,KAAK+tC,QACE,KAGX,GAAY,MAAR1kB,EACJ,CAII,GAHqB,iBAAV,IACPA,EAAOhG,KAAKiG,gBAAgBD,IAEpB,MAARA,EACA,MAAMzd,MAAM,4BAEhB,GAAIukC,EACJ,CACI,IAAI1E,EAAgB,IAAIu8D,EACM,MAA1B3lG,EAAQspC,iBAERF,EAAcX,OAAS9qC,KACvByrC,EAAcpqC,MAAQgoB,EACtBoiB,EAAcG,cAAgB5rC,KAAKurC,OACnClpC,EAAQspC,eAAeF,IAGtBA,EAAc1nB,uBAEf/jB,KAAKurC,OAASliB,EACdrpB,KAAK6rC,eAIT7rC,KAAKurC,OAASliB,EAElBrpB,KAAK6kG,oBAAsBx7E,EAG3B,MAAMoG,EAAS,CAAC,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,YAAa,UAAW,WAAY,YACtI,IAAI/F,EAAOL,EAAKM,cACZC,EAAQP,EAAKQ,WAEjB,OAAQxnB,EAAQwC,OAEZ,KAAK,EAAAC,cAAcykC,IAAKvpC,KAAKqlG,WAAY,MACzC,KAAK,EAAAvgG,cAAcC,MAAO/E,KAAKklG,aAAc,MAC7C,KAAK,EAAApgG,cAAcG,KAAMjF,KAAKmlG,YAAa,MAC3C,QACInlG,KAAKqlG,WAGb,IAAIP,EAAcr1E,EAAO7F,GACzB5pB,KAAKglG,eAAe3jG,MAAMyjG,EAAc,IAAMp7E,GAGlD,OAAO1pB,KAAKurC,OAGhB,MAAM4E,GAAgB,GAElBnwC,KAAKurC,OAAS,KAEV4E,GACAnwC,KAAK6rC,SAKb,SAEI,IAAIgF,EAAiB7wC,KAAK+sC,aAAaO,cACvC,GAAsB,MAAlBuD,EACJ,CACI,IAAIC,EAAc,IAAIm3D,EACtBn3D,EAAYhG,OAAS9qC,KACrB8wC,EAAYzvC,MAAQrB,KAAKqB,QACzBwvC,EAAeC,KA1nB3B,aAkoBA,MAAMo3D,UAAsB,EAAArpF,iBAM5B,MAAMopF,UAA4BC,GAKlC,MAAMF,UAA8BE,GAKpC,MAAMrB,UAA6B,EAAAhoF,iBAOnC,MAAM2nF,UAAkC,EAAA3nF,iBAKxC,MAAM8nF,UAAiC,EAAA9nF,mB,8GC1rBvC,aACA,OACA,OAIA,MAAaspF,UAAsB,EAAAp9F,kBAAnC,kBAeA,MAAa9D,UAAe,EAAAiiC,UAKxB,YAAY79B,EAAsBhJ,GAGf,MAAXA,IACAA,EAAU,IAAI8lG,GAEC,MAAf9lG,EAAQg0B,MAAah0B,EAAQg0B,IAAM,GACnB,MAAhBh0B,EAAQskB,OAActkB,EAAQskB,KAAO,IAChB,MAArBtkB,EAAQ+lG,YAAmB/lG,EAAQ+lG,UAAY,EAAA36F,oBAAoB46F,MAChD,MAAnBhmG,EAAQ+T,UAAiB/T,EAAQ+T,SAAU,GACzB,MAAlB/T,EAAQg6B,SAAgBh6B,EAAQg6B,QAAS,GAEhB,MAAzBh6B,EAAQ25B,gBACR35B,EAAQ25B,cAAgB,IAAIssE,GAEM,MAAlCjmG,EAAQ25B,cAAcqT,WAAkBhtC,EAAQ25B,cAAcqT,SAAW,WAC1C,MAA/BhtC,EAAQ25B,cAAcqa,QAAeh0C,EAAQ25B,cAAcqa,MAAQ,WAC9B,MAArCh0C,EAAQ25B,cAAcusE,cAAqBlmG,EAAQ25B,cAAcusE,YAAc,QAGnFt/E,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBuE,QAGxCjH,KAAKkb,MAAM7Y,EAAQ25B,eAInB,IAAIwsE,EAAYxoG,KAAKqL,UAAU8K,GAAK,WACpC,IAAK,IAAI/V,EAAIiC,EAAQg0B,IAAKj2B,EAAI,EAAGA,IACjC,CACI,IAAIqoG,EAAczoG,KAAKqL,UAAU8K,GAAK,QAAU/V,EAC5CsoG,EAAarmG,EAAe,QAAI,UAAYjC,EAAI,IAAM,GAE1C,EAAA+K,KAAK,cAAgBs9F,EAAc,wBAA0BD,EAAY,YAAcpoG,EAAlF,wCACuBqoG,EAAc,KAAOC,EAAY,aAAapyF,eAAetW,KAAKqL,WAE9G,GAAIhJ,EAAQ+lG,WAAa,EAAA36F,oBAAoBk7F,KAC7C,CACI,IAAIC,EAAc5oG,KAAKqL,UAAU8K,GAAK,SAAW/V,EAAI,IACjDyoG,EAAaxmG,EAAe,QAAI,UAAYjC,EAAI,IAAM,GAC1C,EAAA+K,KAAK,cAAgBy9F,EAAc,wBAA0BJ,EAAY,aAAepoG,EAAI,IAAvF,wCACuBwoG,EAAc,KAAOC,EAAY,aAAavyF,eAAetW,KAAKqL,YAMtHrL,KAAK8oG,UAAY,EAAA1mG,YACb,CACI05B,aAAc,uCACf97B,KAAKsC,aAES,MAAjBD,EAAQoiE,OACRzkE,KAAKykE,MAAMpiE,EAAQoiE,OAIvBzkE,KAAK2mB,KAAKtkB,EAAQskB,MAIdtkB,EAAQg6B,OAAQr8B,KAAKq8B,SACpBr8B,KAAKs8B,UAIV,EAAAnxB,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAAS8mB,MAAOtoB,IAEtC,IAAIT,EAAeS,EAAE0rB,cAAc3kC,MACnC,GAAyB,MAArBgB,EAAS2mD,SACb,CACI,IAAI6zC,EAAc,IAAIkM,EACtBlM,EAAY/xD,OAAS9qC,KACrB68F,EAAYlmD,SAAW32C,KAAKurC,OAC5BsxD,EAAYx7F,MAAQwY,EACpBxX,EAAS2mD,SAAS6zC,GAEtB78F,KAAKurC,OAAS1xB,IAIG,MAAjBxX,EAAQhB,OACRrB,KAAKqB,MAAMgB,EAAQhB,OAK3B,MAAMA,EAAgB8uC,GAAgB,GAElC,GAAa,MAAT9uC,EACJ,CACI,IAAIszC,EAAY,EACZq0D,EAAc3nG,EAAQ,EACtB4nG,EAAc17E,KAAK20C,MAAM7gE,GACV,GAAf2nG,GAAqBA,EAAcC,GAAeD,EAAc,GAChEr0D,EAAYs0D,EACPD,EAAc,IAAOA,EAAc,GACxCr0D,EAAYs0D,EAAc,GACrBD,EAAc,KACnBr0D,EAAYs0D,EAAc,GAE9B,EAAA99F,KAAKnL,KAAKqL,WAAWyQ,KAAK,gBAAkB64B,EAAY,MAAM7oC,KAAK,WAAW,GAC9E9L,KAAKurC,OAASoJ,EAGlB,IAAIu0D,EAAe,EAAA/9F,KAAKnL,KAAKqL,WAAWyQ,KAAK,iBAAiB,GAC9D,OAAwB,MAAhBotF,EAAwBA,EAAa7nG,MAAQ,KAGzD,MAAM26B,GAEF,IAAI35B,EAAUrC,KAAK+sC,aAuBnB,OAtBqB,MAAjB/Q,IAE2B,MAAvBA,EAAcqa,QAAeh0C,EAAQ25B,cAAeqa,MAAQra,EAAcqa,OAChD,MAA1Bra,EAAcqT,WAAkBhtC,EAAQ25B,cAAeqT,SAAWrT,EAAcqT,UACnD,MAA7BrT,EAAcusE,cAAqBlmG,EAAQ25B,cAAeusE,YAAcvsE,EAAcusE,aAE1F,EAAAv9F,eAAe+a,YACX,iDACe1jB,EAAQ25B,cAAeusE,YAAc,4QAMrClmG,EAAQ25B,cAAeqT,SAAW,gQAIlChtC,EAAQ25B,cAAeqa,MAAQ,yBAI/Ch0C,EAAQ25B,cAGnB,KAAKrV,GAEW,MAARA,IAEqB,iBAAV,IACPA,GAAc,MAElB,EAAA3b,eAAe+a,YACX,4DACmBY,EAAO,yBAKlC,IAAIwiF,EAAa,EAAAh+F,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAAS,GACpD,GAAkB,MAAdqtF,EACJ,CACI,IAAIC,EAAeD,EAAWhzF,GAC1BkzF,EAAY,EAAAl+F,KAAKnL,KAAKqL,WAAWyQ,KAAK,cAAgBstF,EAAe,MAAM,GAC/E,OAAO5kF,OAAO8kF,iBAAiBD,EAAW,WAAWpuF,SAAS8Y,mBAElE,OAAO,EAGX,MAAM0wC,GAKF,OAHa,MAATA,GACAzkE,KAAK8oG,UAAUznG,MAAM,IAAMojE,EAAQ,KAEhCzkE,KAAK8oG,UAAUznG,QAAQ0yB,mBAGlC,SAEI9K,MAAMoT,SACN,EAAAlxB,KAAKnL,KAAKqL,WAAWyvB,SAAS,SAC9B,EAAA3vB,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAASytC,WAAW,YAGlD,UAEItgC,MAAMqT,UACN,EAAAnxB,KAAKnL,KAAKqL,WAAWwzB,YAAY,SACjC,EAAA1zB,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAAShQ,KAAK,YAAY,GAGxD,aAEI,OAAO9L,KAAKqC,WA9LpB,WAqMA,MAAM0mG,GAON,MAAMT,K,kHCjON,aACA,OACA,OACA,OAIA,MAAaiB,UAAwB,EAAAx+F,kBAArC,oBAkBA,MAAa5D,UAAiB,EAAA+hC,UAM7B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIknG,GAEM,MAAjBlnG,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,QACtB,MAAjBlZ,EAAQ4T,QAAe5T,EAAQ4T,MAAQ,IAChB,MAAvB5T,EAAQmnG,cAAqBnnG,EAAQmnG,aAAc,GACtB,MAA7BnnG,EAAQonG,oBAA2BpnG,EAAQonG,mBAAoB,IACjC,IAA9BpnG,EAAQonG,oBAA4BpnG,EAAQmnG,aAAc,GACtC,MAApBnnG,EAAQolD,WAAkBplD,EAAQolD,UAAW,GAClB,MAA3BplD,EAAQqnG,kBAAyBrnG,EAAQqnG,iBAAkB,IAC/B,IAA5BrnG,EAAQqnG,iBAAyD,iBAArBrnG,EAAgB,WAAeA,EAAQolD,UAAW,GACxE,MAAtBplD,EAAQsnG,aAAoBtnG,EAAQsnG,YAAa,GAGrD1gF,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgByE,UACxC,IAAIyiG,EAAc,EAAAz+F,KAAKnL,KAAKqL,WAAW42B,OACvC,EAAA92B,KAAKnL,KAAKqL,WAAWy/C,QAErB,IAAI++C,EAAK,EAAA1+F,KAAK,kCAAkCmL,eAAetW,KAAKqL,WA6CpE,GA1CIhJ,EAAQmnG,cAEXxpG,KAAK8pG,aAAe,EAAAlnG,aAAa,CAChCmY,KAAM,EAAArO,iBAAiBi8D,QACvB7sC,aAAc,iCACd/lB,IAAK,kCACLomB,QAAU7hB,IAELta,KAAK+pG,YACR/pG,KAAKgqG,SAELhqG,KAAK+9D,aAEL8rC,KAKqB,IAArBxnG,EAAQolD,WAEXznD,KAAKiqG,aAAe,EAAAnmG,eAAe,CAClCg3C,QAASz4C,EAAQqnG,gBACjB5tE,aAAc,iCACd+e,QAAUvgC,IAET,GAAgC,MAA5BjY,EAAS6nG,gBACb,CACC,IAAIC,EAAqB,IAAIC,EAC7BD,EAAmBrvD,QAAUxgC,EAAEwgC,QAC/BqvD,EAAmBr/D,OAAS9qC,KAC5BqC,EAAS6nG,gBAAgBC,MAGzBN,IAKJ,EAAA1+F,KAAK,iCAAmC9I,EAAQ4T,MAAQ,WAAWK,eAAeuzF,GAI7D,MAAjBxnG,EAAQi1C,MACZ,CACC,IAAI+yD,EAAW,EAAA10F,IAAIk0F,EAAI,CAAE3zF,MAAO,uBAChC,IAAK,IAAIwe,KAAQryB,EAAQi1C,MAEC,MAArB5iB,EAAKoH,eAAsBpH,EAAKoH,aAAe,IACnDpH,EAAKoH,cAAgB,sBACrB,EAAAl5B,aAAa8xB,EAAM21E,GAMrBrqG,KAAKsqG,kBAAoB,EAAA30F,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,+BAClD7T,EAAQsnG,aACX3pG,KAAKsqG,kBAAkB7uF,MAAMC,SAAW,uCAEzC1b,KAAKgW,QAAwB,MAAf4zF,GAAsC,IAAfA,EAAqBA,EAAcvnG,EAAQ2T,SAG5E3T,EAAQonG,mBACXzpG,KAAK+9D,WAIP,QAAQ/nD,GAOP,OALe,MAAXA,IAEH,EAAA7K,KAAKnL,KAAKsqG,mBAAmBx/C,QAC7B,EAAA3/C,KAAKnL,KAAKsqG,mBAAmB9wE,OAA4B,iBAAb,EAAyBxjB,EAAU,EAAA7K,KAAK6K,KAE9EhW,KAAKsqG,kBAGb,MAAMr0F,GAKL,OAHa,MAATA,GACH,EAAA9K,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBmmB,KAAKhsB,GAE7C,EAAA9K,KAAKnL,KAAKqL,WAAWyQ,KAAK,oBAAoBmmB,OAKtD,WAECjiC,KAAK8pG,aAAarsF,IAAI,aACtB,EAAAtS,KAAKnL,KAAKsqG,mBAAmBz3F,OAC7B7S,KAAK8pG,aAAa/uF,KAAK,EAAArO,iBAAiBkrC,WAExC,IAAIv1C,EAAUrC,KAAK+sC,aACnB,GAA0B,MAAtB1qC,EAAQkoG,WACZ,CACC,IAAIC,EAAwB,IAAIC,EAChCD,EAAsB1/D,OAAS9qC,KAC/BqC,EAAQkoG,WAAWC,IAIrB,SAECxqG,KAAK8pG,aAAarsF,IAAI,IACtB,EAAAtS,KAAKnL,KAAKsqG,mBAAmBpuF,OAC7Blc,KAAK8pG,aAAa/uF,KAAK,EAAArO,iBAAiBi8D,SAExC,IAAItmE,EAAUrC,KAAK+sC,aACnB,GAAwB,MAApB1qC,EAAQqoG,SACZ,CACC,IAAIC,EAAc,IAAIH,EACtBG,EAAY7/D,OAAS9qC,KACrBqC,EAAQqoG,SAASC,IAInB,UAAUvxE,GAOT,OALa,MAATA,IAECA,EAAOp5B,KAAK+9D,WACX/9D,KAAKgqG,UAEuB,aAA3BhqG,KAAK8pG,aAAarsF,MAK1B,KAAKpc,GAEJ,IAAIgK,EAAU,EAAAF,KAAKnL,KAAKqL,WAAWyQ,KAAK,qCAAuCza,EAAQ,MAAM,GAC7F,OAAe,MAAXgK,EAEI,EAAAZ,eAAexJ,IAAY,EAAAkK,KAAKE,GAASS,KAAK,OAE/C,KAGR,WAAWzK,GAEV,IAAIqzB,EAAO10B,KAAK00B,KAAKrzB,GACT,MAARqzB,GACHA,EAAK2H,SAGP,YAAYh7B,GAEX,IAAIqzB,EAAO10B,KAAK00B,KAAKrzB,GACT,MAARqzB,GACHA,EAAK4H,UAGP,SAASj7B,GAER,IAAIqzB,EAAO10B,KAAK00B,KAAKrzB,GACT,MAARqzB,GACHA,EAAKxY,OAGP,SAAS7a,GAER,IAAIqzB,EAAO10B,KAAK00B,KAAKrzB,GACT,MAARqzB,GACHA,EAAK7hB,OAKP,MAAMs9B,GAAgB,GAErBnwC,KAAKiqG,aAAanvD,SAAQ,EAAM3K,GAGjC,QAAQA,GAAgB,GAEvBnwC,KAAKiqG,aAAanvD,SAAQ,EAAO3K,GAGlC,QAAQ/W,EAAiB+W,GAAgB,GAOxC,OALa,MAAT/W,IAECA,EAAOp5B,KAAK+nD,MAAM5X,GACjBnwC,KAAK4qG,QAAQz6D,IAEZnwC,KAAKiqG,aAAanvD,UAI1B,aAEC,OAAO96C,KAAKqC,WA9Nd,aAoOA,MAAM+nG,GAMN,MAAMK,GAKN,MAAMD,GAKqB,EAAAtyD,e,oHC7Q3B,aACA,OAGA,OAGA,QACA,OACA,OAKA,MAAa2yD,UAAyB,EAAA9/F,kBAAtC,qBAeA,MAAa1D,UAAkB,EAAA6hC,UAU9B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIwoG,GAEO,MAAlBxoG,EAAQ8lB,SAAgB9lB,EAAQ8lB,QAAS,GACxB,MAAjB9lB,EAAQyoG,QAAgB,EAAAn2F,cAAcG,WAAczS,EAAQyoG,MAAQ,GAAMzoG,EAAQyoG,MAAQ,KACjE,MAAzBzoG,EAAQ0oG,gBAAuB1oG,EAAQ0oG,eAAgB,GACnC,MAApB1oG,EAAQ+lB,WAAkB/lB,EAAQ+lB,SAAW,aACzB,MAApB/lB,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAE7B,MAAjB55B,EAAQ06B,QAAe16B,EAAQ06B,OAAQ,IACrB,IAAlB16B,EAAQ06B,SAEW,IAAlB16B,EAAQ06B,QACX16B,EAAQ06B,MAAQ,IAAIiuE,GAES,MAA1B3oG,EAAQ06B,MAAM+6D,WAAkBz1F,EAAQ06B,MAAM+6D,UAAW,GAClC,MAAvBz1F,EAAQ06B,MAAM9mB,QAAe5T,EAAQ06B,MAAM9mB,MAAQ,cAGjC,MAAnB5T,EAAQsyD,UAAiBtyD,EAAQsyD,SAAU,IACvB,IAApBtyD,EAAQsyD,WAEa,IAApBtyD,EAAQsyD,UACXtyD,EAAQsyD,QAAU,IAAI,EAAAxyC,0BAEW,MAA9B9f,EAAQsyD,QAAQs2C,aAAoB5oG,EAAQsyD,QAAQs2C,YAAa,GACxC,MAAzB5oG,EAAQsyD,QAAQgvB,QAAethF,EAAQsyD,QAAQgvB,OAAQ,GAC/B,MAAxBthF,EAAQsyD,QAAQoqC,OAAc18F,EAAQsyD,QAAQoqC,MAAO,GACzB,MAA5B18F,EAAQsyD,QAAQhyB,WAAkBtgC,EAAQsyD,QAAQhyB,UAAW,GACpC,MAAzBtgC,EAAQsyD,QAAQrd,QAAej1C,EAAQsyD,QAAQrd,MAAQ,KAI5DruB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB2E,WACxCrH,KAAKsC,YAAYmZ,MAAMC,SAAW,iBAClC1b,KAAKkrG,OAAS,IAAIC,EAAS,EAAG9oG,EAAQyoG,QAGhB,IAAlBzoG,EAAQ06B,QAEX/8B,KAAKu6F,QAAU,EAAA30F,aAAa,CAC3B82B,kBAAkB,EAClBzmB,MAAO5T,EAAQ06B,MAAM9mB,MACrBy2C,QAAQ,EACRqe,UAAW1oE,EAAQ06B,MAAMguC,UACzB70D,MAAO,oBACPqmB,eAAgBv8B,KAAKqL,UAAU8K,GAAK,cACpCiiF,OAAQ/1F,EAAQ06B,MAAMq7D,UAKxB,IAAIl8C,GAAqC,IAAlB75C,EAAQ06B,MAAmB/8B,KAAKqL,UAAYrL,KAAKu6F,QAAQlvF,UAChFrL,KAAK40D,YAAc,EAAAj/C,IAAIumC,EAAiB,CAAEhmC,MAAO,2BACzB,IAApB7T,EAAQsyD,SACX30D,KAAKorG,gBAENprG,KAAKqrG,0BAA4B,EAAAlgG,KAAK,kDAAkDmL,eAAe4lC,GAAiB,GACxH,EAAA/wC,KAAKnL,KAAKqrG,2BAA2BlvF,GAAG,SAAW7B,IAGlD,IAAIqnF,EAAelwE,OAAO,EAAAtmB,KAAKnL,KAAKsrG,mBAAmBxvF,KAAK,UAAUhQ,KAAK,WAAa,GACpFogB,EAAOqB,KAAK20C,MAAM,EAAA/2D,KAAKnL,KAAKqrG,2BAA2Br5C,YAAc2vC,GAAgB,EAE7D,MAAxB3hG,KAAKurG,iBACRvrG,KAAKurG,gBAAgBlqG,MAAM6qB,GAAM,GAElClsB,KAAKwrG,aAAet/E,KAIG,IAApB7pB,EAAQsyD,SAEX,EAAAxpD,KAAKnL,KAAK40D,aAAa/hD,OACvB,EAAA1H,KAAKnL,KAAKsrG,mBAAmBv1F,IAAI,SAAU,sBAG3C,EAAA5K,KAAKnL,KAAKsrG,mBAAmBv1F,IAAI,SAAU,qBAE5C/V,KAAKgW,QAAQ3T,EAAQ2T,SAId,gBAEP,IAAI3T,EAAUrC,KAAK+sC,aACnB1qC,EAAQsyD,QAAWtyD,EAAQsyD,QAG3B,IAAI82C,EAAe,EAAA5wF,KAAK7a,KAAK20D,UAAW,CAAEz+C,MAAO,gCAC7C7T,EAAQsyD,QAAQs2C,aAEnB,EAAAroG,aAAa,CACZmY,KAAM,EAAArO,iBAAiB01D,SACvBrsD,IAAK,kCACLomB,QAAU7hB,GAAMta,KAAKurG,gBAAgBlqG,MAAM,IACzCoqG,GAEH,EAAA7oG,aAAa,CACZmY,KAAM,EAAArO,iBAAiBw6C,UACvBnxC,IAAK,uFACLomB,QAAU7hB,GAAMta,KAAKurG,gBAAgBlqG,MAAMrB,KAAKwrG,aAAe,IAC7DC,GAEHzrG,KAAKurG,gBAAkB,EAAAvoG,cAAc,CACpCzB,KAAM,EAAA6B,aAAaC,QACnBhC,MAAO,EACPka,MAAO,GACPk7B,UAAYn8B,IAEX,IAAIoxF,EAAcj6E,OAAOnX,EAAEjZ,OACvBowB,OAAOnX,EAAEjZ,OAASrB,KAAKkrG,OAAOS,IAAIC,WACrCF,EAAc1rG,KAAKkrG,OAAOS,IAAIC,UAE3Bn6E,OAAOnX,EAAEjZ,OAAS,IACrBqqG,EAAc,GAEf1rG,KAAKwrG,aAAeE,EACpB1rG,KAAKurG,gBAAgBlqG,MAAMqqG,GAAa,GACxC,IAAI/J,EAAelwE,OAAO,EAAAtmB,KAAKnL,KAAKsrG,mBAAmBxvF,KAAK,UAAUhQ,KAAK,WAC3E,EAAAX,KAAKnL,KAAKsrG,mBAAmBt5C,WAAW2vC,EAAe,KAAO+J,EAAc,MAE3ED,GACHzrG,KAAKwrG,aAAe,EAEpBxrG,KAAK6rG,gBAAkB,EAAAzpG,YAAY,CAClC2Q,KAAM,MACN+oB,aAAc,0DACZ2vE,GAEH,EAAA7oG,aAAa,CACZmY,KAAM,EAAArO,iBAAiBqvC,WACvBhmC,IAAK,oEACLomB,QAAU7hB,GAAMta,KAAKurG,gBAAgBlqG,MAAMrB,KAAKwrG,aAAe,IAC7DC,GAEH,EAAA7oG,aAAa,CACZmY,KAAM,EAAArO,iBAAiBi2D,QACvB5sD,IAAK,kCACLomB,QAAU7hB,GAAMta,KAAKurG,gBAAgBlqG,MAAMrB,KAAKkrG,OAAOS,IAAIC,WACzDH,IAKJ,IAAIK,EAAiB,EAAAjxF,KAAK7a,KAAK20D,UAAW,CAAE5+C,IAAK,2BAA4BG,MAAO,kCAChF7T,EAAQsyD,QAAQoqC,OAEnB,EAAAn8F,aAAa,CACZmY,KAAM,EAAArO,iBAAiBq/F,qBACvBh2F,IAAK,mDACL+lB,aAAc,qBACd1lB,QAAS,aACT+lB,QAAU7hB,IAETta,KAAKkrG,OAAOJ,OAAS,GACrB9qG,KAAKgW,YAEJ81F,GAEH,EAAAlpG,aAAa,CACZmY,KAAM,EAAArO,iBAAiBs/F,oBACvBj2F,IAAK,mDACL+lB,aAAc,qBACd1lB,QAAS,eACT+lB,QAAU7hB,IAETta,KAAKkrG,OAAOJ,OAAS,GACrB9qG,KAAKgW,YAEJ81F,IAKJ,IAAIG,EAAgB,EAAApxF,KAAK7a,KAAK20D,UAAW,CAAE5+C,IAAK,6BAA8BG,MAAO,iCACjF7T,EAAQsyD,QAAQhyB,UAEnB,EAAA//B,aAAa,CACZmY,KAAM,EAAArO,iBAAiB+gF,SACvB13E,IAAK,mDACL+lB,aAAc,qBACd1lB,QAAS,UACT+lB,QAAU7hB,GAAMta,KAAK2iC,YACnBspE,GAGA5pG,EAAQsyD,QAAQgvB,OAEnB,EAAA/gF,aAAa,CACZmY,KAAM,EAAArO,iBAAiBw/F,MACvBn2F,IAAK,mDACLK,QAAS,SACT+lB,QAAU7hB,GAAMta,KAAK2jF,SACnBsoB,GAIJjsG,KAAKmsG,gBAAgB9pG,EAAQsyD,QAAQrd,OAGtC,gBAAgBgkC,GAEf,IAAK,IAAIxmB,KAAewmB,EACxB,CACC,IAAI8wB,EAAOpsG,KAAKqsG,mBAChB,OAAQv3C,EAAYs3C,MAEnB,KAAK,EAAAt7F,yBAAyBwqB,KAAM8wE,EAAOpsG,KAAKssG,kBAAmB,MACnE,KAAK,EAAAx7F,yBAAyBunC,OAAQ+zD,EAAOpsG,KAAKusG,oBAAqB,MACvE,KAAK,EAAAz7F,yBAAyB2qB,MAAO2wE,EAAOpsG,KAAKqsG,mBAGlD,IAAIt2F,EAA0B,MAAnB++C,EAAY/+C,IAAe++C,EAAY/+C,IAAM,GACpDQ,EAAoE,MAArBu+C,EAAYzzD,MAAiB,CAAC,CAAEV,KAAM,QAASU,MAAOyzD,EAAYzzD,aAAWqc,EAChI,EAAA9a,aAAa,CACZmY,KAAM+5C,EAAY/5C,KAClBhI,KAAM+hD,EAAY/hD,KAClBwD,WAAYA,EACZR,IAAK,kCAAoCA,EACzC+lB,aAAcg5B,EAAYh5B,aAC1BK,QAAU7hB,IAET,GAA2B,MAAvBw6C,EAAY34B,QAChB,CACC,IAAI2pB,EAAa,IAAI,EAAAzjC,wBACrByjC,EAAWhb,OAAS9qC,KACpB8lD,EAAW/yC,KAAO+hD,EAAY/hD,KAC9B+yC,EAAWzkD,MAAQyzD,EAAYzzD,MAC/ByzD,EAAY34B,QAAQ2pB,MAGpBsmD,IAIL,UAEC,OAAOpsG,KAAK40D,YAGb,kBAEC,OAAO50D,KAAKwsG,YAAY,EAAA17F,yBAAyBwqB,MAGlD,oBAEC,OAAOt7B,KAAKwsG,YAAY,EAAA17F,yBAAyBunC,QAGlD,mBAEC,OAAOr4C,KAAKwsG,YAAY,EAAA17F,yBAAyB2qB,OAGlD,YAAY2wE,GAEX,IACIK,GAAwC,IAD9BzsG,KAAK+sC,aACehQ,MAAmB/8B,KAAKsC,YAActC,KAAKu6F,QAAQj4F,YAEjFoqG,EAAY,GAChB,OAAQN,GAEP,KAAK,EAAAt7F,yBAAyBwqB,KAAMoxE,EAAY,8BAA+B,MAC/E,KAAK,EAAA57F,yBAAyBunC,OAAQq0D,EAAY,gCAAiC,MACnF,KAAK,EAAA57F,yBAAyB2qB,MAAOixE,EAAY,+BAElD,OAAO,EAAAvhG,KAAKshG,GAAoB3wF,KAAK,IAAM4wF,GAAW,GAIvD,QAAQ12F,GAyCP,OAvCc,IAAIsQ,QAASlK,IAE1B,EAAAjR,KAAKnL,KAAKsrG,mBAAmBxgD,QAC7B,IAAIzoD,EAAUrC,KAAK+sC,aAEnB,GAAe,MAAX/2B,EACJ,CACC,EAAAiG,cAAcC,KAAKlc,KAAKqL,WACxBhJ,EAAQ2T,QAAUA,EAGE22F,SAASC,YAAcvqG,EAAQ8lB,OAAoB,CAAEkY,KAAMyC,KAAK9sB,IAAvBA,GACjD2tB,QAAQ9lB,KAAM8tF,IAEzB3rG,KAAKkrG,OAAOS,IAAMA,EAClB3rG,KAAK6sG,iBACL,EAAA5wF,cAAcpJ,OAEd,IAAIxQ,EAAUrC,KAAK+sC,aACnB,GAAiC,MAA7B1qC,EAAQyqG,kBACZ,CACC,IAAI/nF,EAAQ,IAAI,EAAA7C,uBAChB6C,EAAM+lB,OAAS9qC,KACf+kB,EAAM4mF,IAAM3rG,KAAKkrG,OAAOS,IACxBtpG,EAAQyqG,kBAAkB/nF,GAGX,MAAZ3I,GACHA,KAEA0I,IAEA,EAAA7R,YAAY6R,UAIa,MAAnBziB,EAAQ2T,SAChBhW,KAAK6sG,mBAKA,iBAEP,IAAIE,EAAc/sG,KAAKkrG,OAAOS,IAAIC,SAEN,MAAxB5rG,KAAK6rG,iBACR7rG,KAAK6rG,gBAAgBxqG,MAAM,KAAO0rG,GAEnC,IAAI1qG,EAAUrC,KAAK+sC,aACnB,IAAK,IAAI3sC,EAAI,EAAGA,GAAK2sG,GAEG,MAAnB/sG,KAAKkrG,OAAOS,IAFiBvrG,IAKjCJ,KAAKkrG,OAAOS,IAAIqB,QAAQ5sG,GAAGyd,KAAM47C,IAGhC,IAAIwzC,EAAyB,EAAAt3F,IAAI3V,KAAKsrG,kBAAmB,CAAEp1F,MAAO,uCAC9D2wE,EAAS,EAAA17E,KAAK,6DAA6DmL,eAAe22F,GAAwB,GAClHC,EAAMrmB,EAAOK,WAAW,MAExBimB,EAAmC,KACnC9qG,EAAQ0oG,gBACXoC,EAAe,EAAAhiG,KAAK,gDAAgDmL,eAAe22F,GAAwB,IAG5G,IAAIG,EAAW3zC,EAAK4zC,YAAY,CAAEvC,MAAO9qG,KAAKkrG,OAAOJ,QAcrD,GAbAjkB,EAAOtrE,MAAQ6xF,EAAS7xF,MACxBsrE,EAAOrrE,OAAS4xF,EAAS5xF,OAErB,EAAA7G,cAAcG,aAEjB+xE,EAAOtrE,MAAS6xF,EAAS7xF,MAAQiJ,OAAO40E,WAAc50E,OAAO40E,WAAagU,EAAS7xF,MACnFsrE,EAAOrrE,OAAU4xF,EAAS5xF,OAASgJ,OAAOwZ,YAAexZ,OAAOwZ,YAAcovE,EAAS5xF,SAOlE,IAAlBnZ,EAAQ06B,MAGX,GADA16B,EAAQ06B,MAAS16B,EAAQ06B,MACrB16B,EAAQ06B,MAAM+6D,SACjB93F,KAAKu6F,QAAQzC,eAEd,CACC,IAAIv8E,EAAQ,IACe,MAAvBlZ,EAAQ06B,MAAMxhB,QACjBA,EAAQlZ,EAAQ06B,MAAMxhB,OAEvB,IAAIC,EAASxP,SAASC,KAAKuuB,aAAe,GACd,MAAxBn4B,EAAQ06B,MAAMvhB,SACjBA,EAASnZ,EAAQ06B,MAAMvhB,QAExBxb,KAAKu6F,QAAQh/E,MAAMA,GACnBvb,KAAKu6F,QAAQlvF,UAAUoQ,MAAMC,SAAW,WAAaF,EAAS,MAC9Dxb,KAAKu6F,QAAQj4F,YAAYmZ,MAAMC,SAAW,YAAcF,EAAS,IAAM,MACvExb,KAAKu6F,QAAQptB,SAKf1T,EAAK6zC,OAAO,CACXC,cAAeL,EACfE,SAAUA,IAIP/qG,EAAQ0oG,eAEXtxC,EAAK+zC,iBAAiB3vF,KAAM+jB,IAE3B+qE,SAASc,gBAAgB,CACxB7rE,YAAaA,EACbt/B,UAAW6qG,EACXC,SAAUA,OAKVtoF,GAAe,EAAA7R,YAAY6R,IAIjC,KAAK20C,GAKJ,OAHY,MAARA,GACHz5D,KAAKurG,gBAAgBlqG,MAAMo4D,GAErBz5D,KAAKwrG,aAGb,SAAS7qG,GAKR,OAHY,MAARA,IACHX,KAAK+sC,aAAa3kB,SAAWznB,GAEvBX,KAAK+sC,aAAa3kB,SAG1B,WAEC,IAAI/lB,EAAUrC,KAAK+sC,aACnB/sC,KAAKg1C,UAAUn3B,KAAM6vF,GAAgB,EAAA1iG,eAAe2iG,iBAAiBD,EAAarrG,EAAQ+lB,WAG3F,QAECpoB,KAAKg1C,UAAUn3B,KAAM6vF,GAAgB,EAAAv5F,aAAaE,WAAWq5F,IAG9D,gBAEC,GAAuB,MAAnB1tG,KAAKkrG,OAAOS,IAChB,CACC,IAAItrE,QAAargC,KAAKkrG,OAAOS,IAAI32D,UAEjC,OADmB,EAAAhqC,eAAesd,cAAc+X,GAGjD,MAAO,GAIR,KAAKrqB,GAkBJ,OAhBc,IAAIsQ,QAASlK,KAGJ,IADRpc,KAAK+sC,aACPhQ,QAGG,MAAX/mB,GAEHhW,KAAKgW,QAAQA,GAAS6H,KAAK,KAEV,MAAZzB,GACHA,MAGHpc,KAAKu6F,QAAQ5mF,UAKf,QAEC3T,KAAKu6F,QAAQrwD,QAGd,SAEC,OAAOlqC,KAAKu6F,QAGb,YAAYtkF,GAEXjW,KAAKu6F,QAAQtkF,MAAMA,GAGpB,oBAAoBmG,GAEE,MAAjBpc,KAAKwkB,UAERxkB,KAAKwkB,SAAS0lB,MAKhB,aAEC,OAAOlqC,KAAKqC,UAGL,kBAEP,OAAOrC,KAAKqrG,2BAxfd,cA8fA,MAAMF,EAML,YAAYO,EAAqBZ,GAEhC9qG,KAAK0rG,YAAcA,EACnB1rG,KAAK8qG,MAAQA,GAIf,MAAME,K,8GCxiBN,aACA,OAGA,MAAa4C,UAAsB,EAAA7iG,kBAAnC,kBA+BA,MAAatD,UAAe,EAAAyhC,UAU3B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIurG,GAEM,MAAjBvrG,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,QACb,MAA1BlZ,EAAQwrG,iBAAwBxrG,EAAQwrG,eAAiB,IAAIC,GACzC,MAApBzrG,EAAQ0rG,WAAkB1rG,EAAQ0rG,UAAW,GACzB,MAApB1rG,EAAQ2rG,WAAkB3rG,EAAQ2rG,UAAW,GAChB,MAA7B3rG,EAAQ4rG,oBAA2B5rG,EAAQ4rG,kBAAoB,KAC9C,MAAjB5rG,EAAQu+B,QAAev+B,EAAQu+B,OAAQ,GAEnB,MAApBv+B,EAAQ6rG,WAAkB7rG,EAAQ6rG,UAAW,IACxB,IAArB7rG,EAAQ6rG,UAA4C,MAAvB7rG,EAAQ8rG,cAAqB9rG,EAAQ8rG,aAAc,GACxD,MAAxB9rG,EAAQ+rG,eAAsB/rG,EAAQ+rG,aAAe,wBACxB,kBAArB/rG,EAAgB,WAEvBA,EAAQ6rG,SAAU7rG,EAAQ+rG,aAAe,uBACxC/rG,EAAQ+rG,aAAe,IAGF,MAAvB/rG,EAAQ8rG,cAAqB9rG,EAAQ8rG,aAAc,GAC3B,MAAxB9rG,EAAQgsG,eAAsBhsG,EAAQgsG,cAAe,IAC5B,IAAzBhsG,EAAQgsG,eAAuBhsG,EAAQgsG,aAAe,gBAChC,MAAtBhsG,EAAQisG,aAAoBjsG,EAAQisG,YAAa,GAClB,MAA/BjsG,EAAQksG,sBAA6BlsG,EAAQksG,qBAAsB,GAC1C,MAAzBlsG,EAAQmsG,gBAAuBnsG,EAAQmsG,eAAgB,GAG3DvlF,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB+E,QACxC,IAAIgnG,EAAkB,KACtBzuG,KAAK0uG,OAAS,GACd1uG,KAAK2uG,YAAc,IAAIhoG,IAGvB3G,KAAK4uG,aAAe,MACK,IAArBvsG,EAAQ6rG,UAGsB,kBAArB7rG,EAAgB,UAAkBA,EAAQ6rG,UAErDluG,KAAK4uG,aAAe,EAAAj5F,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,qBACjDu4F,EAAkBzuG,KAAK4uG,eAIvBH,EAAkBzuG,KAAKqL,UACU,iBAArBhJ,EAAgB,UAEtBA,EAAQ6rG,SAAShjG,WAAW,OAChC7I,EAAQ6rG,SAAW,IAAM7rG,EAAQ6rG,UAElCluG,KAAK4uG,aAAe,EAAAzjG,KAAK9I,EAAQ6rG,UAAU,IAG3CluG,KAAK4uG,aAAe,EAAAzjG,KAAK9I,EAAQ6rG,UAAU,IAK7C,CAAC,YAAa,WAAY,YAAa,QAAQx0F,QAAQg6E,IAEtD1zF,KAAK4uG,aAAchiE,iBAAiB8mD,EAAYp5E,IAE/CA,EAAE0e,iBACF1e,EAAEg5E,oBACA,KAGJ,EAAAnoF,KAAKnL,KAAK4uG,cAAczyF,GAAG,YAAc7B,IAGxC,GAA4B,MAAxBjY,EAAS8wF,YACb,CACC,IAAIC,EAAiB,IAAIyb,EAMzB,GALAzb,EAAetoD,OAAS9qC,KACxBozF,EAAe/nF,QAAUiP,EAAE0rB,cAC3BotD,EAAeruE,MAAQzK,EACvBjY,EAAS8wF,YAAYC,GAEjB94E,EAAEyJ,qBACL,OAIF,EAAA5Y,KAAKmP,EAAE0rB,eAAelL,SAAS,eAGhC,EAAA3vB,KAAKnL,KAAK4uG,cAAczyF,GAAG,WAAa7B,IAGvC,GAA2B,MAAvBjY,EAASkxF,WACb,CACC,IAAIC,EAAgB,IAAIsb,EAMxB,GALAtb,EAAc1oD,OAAS9qC,KACvBwzF,EAAcnoF,QAAUiP,EAAE0rB,cAC1BwtD,EAAczuE,MAAQzK,EACtBjY,EAASkxF,WAAWC,GAEhBl5E,EAAEyJ,qBACL,OAIF,EAAA5Y,KAAKmP,EAAE0rB,eAAelL,SAAS,eAGhC,EAAA3vB,KAAKnL,KAAK4uG,cAAczyF,GAAG,YAAc7B,IAGxC,GAA4B,MAAxBjY,EAAS8yF,YACb,CACC,IAAIC,EAAiB,IAAI2Z,EAMzB,GALA3Z,EAAetqD,OAAS9qC,KACxBo1F,EAAe/pF,QAAUiP,EAAE0rB,cAC3BovD,EAAerwE,MAAQzK,EACvBjY,EAAS8yF,YAAYC,GAEjB96E,EAAEyJ,qBACL,OAIF,EAAA5Y,KAAKmP,EAAE0rB,eAAenH,YAAY,eAGnC,EAAA1zB,KAAKnL,KAAK4uG,cAAczyF,GAAG,OAAS7B,IAEnC,IACIi7E,EAAgB,IADDj7E,EAAEw6B,cAAe0gD,aACCD,OAGrC,GAAuB,MAAnBlzF,EAASizF,OACb,CACC,IAAIG,EAAY,IAAIuZ,EAMpB,GALAvZ,EAAU3qD,OAAS9qC,KACnBy1F,EAAUF,MAAQA,EAClBE,EAAU1wE,MAAQzK,EAClBjY,EAASizF,OAAOG,GAEZn7E,EAAEyJ,qBACL,OAIF,EAAA5Y,KAAKmP,EAAE0rB,eAAenH,YAAY,aAClC7+B,KAAKivG,mBAAmB1Z,MAKzBkZ,EAAkBzuG,KAAKqL,UAIxB,IAAI0iG,EAAW,GACX1rG,EAAQ0rG,WACXA,EAAW,YAEZ,IAAImB,EAAa,EAAA/jG,KAAK,eAAiBnL,KAAKqL,UAAU8K,GAAK,8CAAgD,EAAAzJ,iBAAiByiG,aAAe,yBAA2B9sG,EAAQgsG,aAAe,YAAY/3F,eAAem4F,GACxNzuG,KAAKovG,WAAa,EAAAjkG,KAAK,UAAY4iG,EAAW,QAAU/tG,KAAKqL,UAAU8K,GAAK,mDAAmDG,eAAem4F,GAAiB,GAC1JpsG,EAAQgsG,cACZ,EAAAljG,KAAK+jG,GAAYr8F,QAEO,IAArBxQ,EAAQ6rG,UAEX,EAAA9rG,YAAY,CACX2Q,KAAMyW,OAAOnnB,EAAQ+rG,cACrBtyE,aAAc,oBACd/lB,IAAK,yDACH/V,KAAK4uG,cAGT,EAAAzjG,KAAKnL,KAAKovG,YAAYjzF,GAAG,SAAW7B,IAEnC,IAAIi7E,EAAgB,IAAIj7E,EAAE0rB,cAAcuvD,OACxCv1F,KAAKivG,mBAAmB1Z,KAKzBv1F,KAAKqvG,gBAAkB,EAAAlkG,KAAK,qEAAqEmL,eAAetW,KAAKqL,WAAW,GAChI,EAAAF,KAAKnL,KAAKqvG,iBAAiBx8F,OAI3B7S,KAAKsvG,aAAe,EAAA35F,IAAI3V,KAAKsC,YAAa,CAAE4T,MAAO,sBAAuBH,IAAK,8BAAgC1T,EAAQ4rG,kBAAoB,QAO5I,cAEC,IAAK,IAAI7tG,EAAI,EAAGA,EAAIJ,KAAK0uG,OAAOtjG,OAAQhL,IACxC,CACC,IAAIqgC,EAAOzgC,KAAK0uG,OAAOtuG,GACvBJ,KAAKuvG,WAAW9uE,EAAMrgC,GAAG,IAI3B,QAAQqgC,GAEPzgC,KAAKwvG,SAAS,CAAC/uE,IAGhB,SAAS80D,GAERv1F,KAAKivG,mBAAmB1Z,GAGzB,WAEC,OAAOv1F,KAAK0uG,OAGb,kBAAkB7xF,GAEjB,IAAI4yF,EAAU,EAAAtkG,KAAKnL,KAAK0vG,eAAe5zF,KAAK,+BAAiCe,EAAQ,GAAK,KAAK,GAC/F,EAAA1R,KAAKskG,GAASp1F,SACdra,KAAK2uG,YAAY3lE,OAAOhpC,KAAK0uG,OAAO7xF,IAEpC7c,KAAK0uG,OAAO15E,OAAOnY,EAAO,GACA,GAAtB7c,KAAK0uG,OAAOtjG,QACfpL,KAAK+tC,QAGC,mBAAmBwnD,GAE1B,IAAKv1F,KAAKiqC,UACT,OAED,IAAI5nC,EAAUrC,KAAK+sC,aAInB,GAHA/sC,KAAK2vG,mBAAmBpa,EAAMnqF,QAGN,MAApB/I,EAAS01B,QACb,CACC,IAAI63E,EAAa,IAAIC,EAKrB,GAJAD,EAAW9kE,OAAS9qC,KACpB4vG,EAAWra,MAAQA,EACnBlzF,EAAS01B,QAAQ63E,GAEbA,EAAW7rF,qBACd,OAIE1hB,EAAQ2rG,WAEX,EAAA7iG,KAAKnL,KAAK0vG,eAAexzF,OAED,GAApB7Z,EAAQ0rG,UACX,EAAA5iG,KAAKnL,KAAKqL,WAAWwH,QAGvB,IAAIi9F,EAAa,GACjB,IAAK,IAAI1vG,EAAI,EAAGA,EAAIm1F,EAAMnqF,OAAQhL,IAClC,CACC,IAAIqgC,EAAO80D,EAAMn1F,GAGjB,GAA0B,MAAtBiC,EAAQkvC,WACZ,CAIC,GAH0C,MAAtClvC,EAAQkvC,WAAWw+D,kBAAyB1tG,EAAQkvC,WAAWw+D,iBAAkB,GAC7C,MAApC1tG,EAAQkvC,WAAWy+D,gBAAuB3tG,EAAQkvC,WAAWy+D,eAAgB,GAE/C,MAA9B3tG,EAAQkvC,WAAW0+D,SAElBxvE,EAAK9Z,KAAOtkB,EAAQkvC,WAAW0+D,QACnC,CACC,IAAIl3B,EAA0D,MAA1C12E,EAAQkvC,WAAW2+D,oBAA+B,iCAAmClwG,KAAKmwG,YAAY9tG,EAAQkvC,WAAW0+D,SAAW5tG,EAAQkvC,WAAW2+D,oBAC3K,EAAAp9F,OAAOimE,EAAc,CAAE/vE,KAAM,EAAAoI,iBAAiBxF,QAE1CvJ,EAAQkvC,WAAWw+D,iBACtB/vG,KAAKowG,SAAS3vE,EAAM4vE,EAAmBC,wBAEnCjuG,EAAQ2rG,UACZhuG,KAAKuwG,sBAAsB,EAAAp+F,8BAA8Bq+F,QAAS/vE,GAEnE,SAIF,GAAkC,MAA9Bp+B,EAAQkvC,WAAWk/D,SAElBhwE,EAAK9Z,KAAOtkB,EAAQkvC,WAAWk/D,QACnC,CACC,IAAI13B,EAA0D,MAA1C12E,EAAQkvC,WAAWm/D,oBAA+B,kCAAoC1wG,KAAKmwG,YAAY9tG,EAAQkvC,WAAWk/D,SAAWpuG,EAAQkvC,WAAWm/D,oBAC5K,EAAA59F,OAAOimE,EAAc,CAAE/vE,KAAM,EAAAoI,iBAAiBxF,QAE1CvJ,EAAQkvC,WAAWw+D,iBACtB/vG,KAAKowG,SAAS3vE,EAAM4vE,EAAmBM,wBAEnCtuG,EAAQ2rG,UACZhuG,KAAKuwG,sBAAsB,EAAAp+F,8BAA8By+F,QAASnwE,GAEnE,SAIF,GAAqC,MAAjCp+B,EAAQkvC,WAAWs/D,YAA0D,KAApCxuG,EAAQkvC,WAAWs/D,WAAW,IAAiD,KAApCxuG,EAAQkvC,WAAWs/D,WAAW,GACtH,CACC,IAAIC,GAAU,EAEd,GAAIzuG,EAAQkvC,WAAWy+D,cACvB,CAEC,IAAIe,EAAsB,GAC1B,IAAK,IAAIC,KAAa3uG,EAAQkvC,WAAWs/D,WACxCE,EAAUn8E,YAAY50B,KAAKixG,yBAAyBD,EAAU1lF,gBAE/DwlF,EAAUC,EAAUh1F,SAAS0kB,EAAKz3B,KAAKsiB,mBAIxC,CAEC,IAAI4lF,EAAkBzwE,EAAK9/B,KAAKgsB,MAAM,KAClCqkF,EAAYE,EAAgBA,EAAgB9lG,OAAS,GAAGkgB,cAC5DwlF,EAAUzuG,EAAQkvC,WAAWs/D,WAAWj0F,IAAIsY,GAAKA,EAAE9a,QAAQ,IAAK,IAAIkR,eAAevP,SAASi1F,GAI7F,IAAKF,EACL,CACC,IAAI/3B,EAA6D,MAA7C12E,EAAQkvC,WAAW4/D,uBAAkC,0BAA4B9uG,EAAQkvC,WAAWs/D,WAAaxuG,EAAQkvC,WAAW4/D,uBACxJ,EAAAr+F,OAAOimE,EAAc,CAAE/vE,KAAM,EAAAoI,iBAAiBxF,QAE1CvJ,EAAQkvC,WAAWw+D,iBACtB/vG,KAAKowG,SAAS3vE,EAAM4vE,EAAmBe,2BAEnC/uG,EAAQ2rG,UACZhuG,KAAKuwG,sBAAsB,EAAAp+F,8BAA8Bk/F,WAAY5wE,GAEtE,WAMHqvE,EAAWt8E,KAAKiN,GAEZp+B,EAAQisG,WACXtuG,KAAKuvG,WAAW9uE,EAAMrgC,GAAG,IAGzBJ,KAAK0uG,OAAOl7E,KAAKiN,GACjBzgC,KAAKowG,SAAS3vE,EAAM4vE,EAAmBz+E,SACvC,EAAAzmB,KAAKnL,KAAKmuG,eAAet7F,QAIF,GAArBi9F,EAAW1kG,QACd,EAAAD,KAAKnL,KAAKmuG,eAAet7F,OAE1Bi9F,EAAa,GAGN,SAASrvE,EAAY6wE,GAE5B,IAAIjvG,EAAUrC,KAAK+sC,aACnB,GAAI1qC,EAAQ2rG,SACZ,CACC,IAAIyB,EAAU,EAAA95F,IAAI3V,KAAKsvG,aAAc,CAAEp5F,MAAO,oBAC1CyQ,EAAO3mB,KAAKmwG,YAAY1vE,EAAK9Z,MAC7B4qF,EAAWvxG,KAAKwxG,YAAY/wE,EAAKz3B,MAErC,EAAA+R,KAAKw2F,EAASx2F,KAAM00F,EAAS,CAAE15F,IAAK,UAAYw7F,EAASr2F,MAAQ,IAAKhF,MAAO,qBAE7E,IAAIu7F,EAAa,kEAAoE9qF,EAAO,UAG5F,GAAI2qF,GAAgBjB,EAAmBe,2BAA6BE,GAAgBjB,EAAmBM,wBACnGW,GAAgBjB,EAAmBC,uBACvC,CACC,IAAIoB,EAA0B,EAAAv/F,8BAA8Bq+F,QAC5D,OAAQc,GAEP,KAAKjB,EAAmBC,uBAAwBoB,EAA0B,EAAAv/F,8BAA8Bq+F,QAAS,MACjH,KAAKH,EAAmBM,uBAAwBe,EAA0B,EAAAv/F,8BAA8By+F,QAAS,MACjH,KAAKP,EAAmBe,0BAA2BM,EAA0B,EAAAv/F,8BAA8Bk/F,WAG5G,IAAIt4B,EAAe/4E,KAAKuwG,sBAAsBmB,EAAyBjxE,GACnD,IAAhBs4C,IACH04B,EAAa,8DAAgE14B,EAAe,WAI9F,EAAA32E,YAAY,CACXmZ,MAAO,oBACPxI,KAAM,6EAA+E0tB,EAAK9/B,KAAO,UAAY8wG,EAC7GhxC,KAAM,EACNvqD,MAAO,2BACLu5F,GAGH,IAAIkC,EAAwB,EAAA92F,KAAK40F,EAAS,CAAEv5F,MAAO,8BACnD,EAAA9T,YAAY,CACXg6B,QAASk1E,GAAgBjB,EAAmBuB,YAC5C17F,MAAO,yBACP+E,SAAU,IACR02F,GAEH,IAAIE,EAAc,EAAA92F,KAAK,EAAArO,iBAAiBolG,QAASH,EAAuB,CAAEz7F,MAAO,wBAiDjF,OAhDIo7F,GAAgBjB,EAAmBuB,aACtC,EAAAzmG,KAAK0mG,GAAah/F,OAGnB,EAAAjQ,aAAa,CACZmY,KAAOu2F,GAAgBjB,EAAmBuB,YAAe,EAAAllG,iBAAiBqlG,MAAQ,EAAAplG,mBAAmBqrC,MACrGlc,aAAc,iCACd/lB,IAAK,0FACLG,MAAO,2BACPkmB,QAAS/5B,EAAQmsG,cACjBryE,QAAU7hB,IAET,GAAIA,EAAEwwB,OAAO/vB,OAAQf,UAAU6yB,SAAS,YACxC,CAEC,GAAwB,MAApBxqC,EAAS2vG,QACb,CACC,IAAIC,EAAa,IAAIC,EAMrB,GALAD,EAAWnnE,OAAS9qC,KACpBiyG,EAAWlxE,IAAM/gC,KAAK2uG,YAAY1tG,IAAIw/B,GACtCwxE,EAAWxxE,KAAOA,EAClBp+B,EAAS2vG,QAAQC,GAEbA,EAAWluF,qBACd,OAIF/jB,KAAK2uG,YAAY1tG,IAAIw/B,GAAO0xE,aAIxB9vG,EAAQksG,oBAEX,EAAA96F,QAAQ,wCAAwCoK,KAAK,KAEpD,EAAA1S,KAAKskG,GAASp1F,SACdra,KAAKoyG,WAAW3C,EAAShvE,MAK1B,EAAAt1B,KAAKskG,GAASp1F,SACdra,KAAKoyG,WAAW3C,EAAShvE,MAI1BgvE,GACIA,EAER,OAAO,KAGA,sBAAsBh1E,EAAyCgG,GAEtE,IAAIp+B,EAAUrC,KAAK+sC,aAEfgsC,EAAe,GAQnB,GAPIt+C,GAAY,EAAAtoB,8BAA8Bq+F,UAC7Cz3B,EAA2D,MAA3C12E,EAAQkvC,WAAY2+D,oBAA+B,iCAAmClwG,KAAKmwG,YAAY9tG,EAAQkvC,WAAY0+D,SAAY5tG,EAAQkvC,WAAY2+D,qBACxKz1E,GAAY,EAAAtoB,8BAA8By+F,UAC7C73B,EAA2D,MAA3C12E,EAAQkvC,WAAYm/D,oBAA+B,kCAAoC1wG,KAAKmwG,YAAY9tG,EAAQkvC,WAAYk/D,SAAYpuG,EAAQkvC,WAAYm/D,qBACzKj2E,GAAY,EAAAtoB,8BAA8Bk/F,aAC7Ct4B,EAA8D,MAA9C12E,EAAQkvC,WAAY4/D,uBAAkC,0BAA4B9uG,EAAQkvC,WAAYs/D,WAAaxuG,EAAQkvC,WAAY4/D,wBAEpI,IAAhBp4B,GAE8B,MAA7B12E,EAAQgwG,kBACZ,CACC,IAAIC,EAAa,IAAIC,EACrBD,EAAWxnE,OAAS9qC,KACpBsyG,EAAW7xE,KAAOA,EAClB6xE,EAAWrtF,QAAU8zD,EACrBu5B,EAAWtpG,KAAOyxB,EAClBp4B,EAAQgwG,kBAAkBC,GAG5B,OAAOv5B,EAGA,WAAW02B,EAAsBhvE,GAExC,IAAIp+B,EAAUrC,KAAK+sC,aAGnB,GAAyB,MAArB1qC,EAASmwG,SACb,CACC,IAAIC,EAAc,IAAIC,EAOtB,GANAD,EAAY3nE,OAAS9qC,KACrByyG,EAAYpnG,QAAUokG,EACtBgD,EAAYhyE,KAAOA,EACnBgyE,EAAY51F,MAAQ7c,KAAK2yG,WAAW59E,QAAQ0L,GAC5Cp+B,EAASmwG,SAASC,GAEdA,EAAY1uF,qBACf,OAIF/jB,KAAK0uG,OAAO55E,SAAS2L,GACrBzgC,KAAK2uG,YAAY3lE,OAAOvI,GAEE,GAAtBzgC,KAAK0uG,OAAOtjG,QACfpL,KAAK+tC,QAGC,WAAWtN,EAAYrgC,EAAWgwG,GAAW,GAEpD,IAAI/tG,EAAUrC,KAAK+sC,aAEnB,IAAIpoB,EAAMtiB,EAAQwrG,eAAgBlpF,IAC9Boc,EAAM,IAAI6xE,eAId,GAHA7xE,EAAIptB,KAAK,OAAQgR,EAAKtiB,EAAQu+B,OAGY,MAAtCv+B,EAAQwrG,eAAgBprD,WAC5B,CACC,IAAIA,EAAa,GACjB,GAAI/lC,MAAM4X,QAAQjyB,EAAQwrG,eAAgBprD,YACzCA,EAAapgD,EAAQwrG,eAAgBprD,eAEtC,CACC,IAAIowD,EAAkB,IAAIC,EAC1BD,EAAgB/nE,OAAS9qC,KACzB6yG,EAAgBpyE,KAAOA,EACvBgiB,EAAapgD,EAAQwrG,eAAgBprD,WAAWowD,GAGjD,IAAK,IAAIE,KAAmBtwD,EAC3B1hB,EAAIC,iBAAiB+xE,EAAgBpxG,IAAKoxG,EAAgB1xG,OAK5D,IAAIouG,EAA8B,KAC9BW,IAEHpwG,KAAK0uG,OAAOl7E,KAAKiN,GACjBzgC,KAAK2uG,YAAYx3E,IAAIsJ,EAAMM,GAC3B0uE,EAAUzvG,KAAKowG,SAAS3vE,EAAM4vE,EAAmBuB,cAKlD7wE,EAAIiyE,OAAOpmE,iBAAiB,WAAatyB,IAGxC,GAA2B,MAAvBjY,EAAS4wG,WACb,CACC,IAAIC,EAAgB,IAAIC,EAOxB,GANAD,EAAcpoE,OAAS9qC,KACvBkzG,EAAcE,OAAS94F,EAAE84F,OACzBF,EAAczuC,MAAQnqD,EAAEmqD,MACxByuC,EAAcnuF,MAAQzK,EACtBjY,EAAS4wG,WAAWC,GAEhBA,EAAcnvF,qBACjB,OAIE1hB,EAAS8rG,aACZnuG,KAAKqzG,eAAejzG,EAAe,IAAXka,EAAE84F,OAAiB94F,EAAEmqD,OAAU,KAExD,IAAI6uC,EAAa/lF,KAAKkF,MAAmB,IAAXnY,EAAE84F,OAAiB94F,EAAEmqD,OAAU,IAC3C,KAAd6uC,IACHA,EAAa,IAEd,EAAAnoG,KAAKskG,GAAS3zF,KAAK,2BAA2BmmB,KAAKqxE,EAAa,OAIjEvyE,EAAI6L,iBAAiB,mBAAqBtyB,IAEzC,GAAsB,GAAlBymB,EAAIwyE,YAAiC,KAAdxyE,EAAI44C,OAC/B,CAEC,GAAyB,MAArBt3E,EAAQmxG,UACZ,CACC,IAAIC,EAAe,IAAIC,EAUvB,GATAD,EAAa3oE,OAAS9qC,KACtByzG,EAAa95B,OAAS54C,EAAI44C,OAC1B85B,EAAa/5B,WAAa34C,EAAI24C,WAC9B+5B,EAAalyE,SAAWrC,KAAKC,MAAM4B,EAAIQ,UACvCkyE,EAAa1yE,IAAMA,EACnB0yE,EAAa1uF,MAAQzK,EACrBm5F,EAAahzE,KAAOA,EACpBp+B,EAAQmxG,UAAUC,GAEdA,EAAa1vF,qBAChB,OAOF,GAHA,EAAA5Y,KAAKnL,KAAKmuG,eAAet7F,OAGV,MAAX48F,EACJ,CACC,IAAIkE,EAAuB,EAAAxoG,KAAKskG,GAAS3zF,KAAK,6BAA6BA,KAAK,WAAW,GAEvFspC,EADsBuuD,EAAqB/0E,UAAUjS,MAAM,OACjC2I,OAAOJ,GAAKA,EAAEhqB,WAAW,QACvD,IAAK,IAAI8P,KAAaoqC,EACrBuuD,EAAqB35F,UAAUK,OAAOW,GAEvC,EAAA7P,KAAKwoG,GAAsB74E,SAAS,EAAAnuB,mBAAmBqrC,OAEvD,EAAA7sC,KAAKskG,GAAS3zF,KAAK,8BAA8BzB,SACjD,EAAAlP,KAAKskG,GAAS3zF,KAAK,qBAAqB1P,aAAa,aAAe,EAAAM,iBAAiB8rC,MAAQ,4FAI1F,GAAsB,GAAlBzX,EAAIwyE,YAAiC,KAAdxyE,EAAI44C,OACpC,CAEC,GAAuB,MAAnBt3E,EAAQuxG,QACZ,CACC,IAAItB,EAAa,IAAIuB,EAUrB,GATAvB,EAAWxnE,OAAS9qC,KACpBsyG,EAAW34B,OAAS54C,EAAI44C,OACxB24B,EAAW54B,WAAa34C,EAAI24C,WAC5B44B,EAAW/wE,SAA0B,GAAdR,EAAI44C,OAAez6C,KAAKC,MAAM4B,EAAIQ,UAAY,GACrE+wE,EAAWvxE,IAAMA,EACjBuxE,EAAWvtF,MAAQzK,EACnBg4F,EAAW7xE,KAAOA,EAClBp+B,EAAQuxG,QAAQtB,GAEZA,EAAWvuF,qBAGd,YADAzJ,EAAE0e,iBASJ,GAHA,EAAA7tB,KAAKnL,KAAKmuG,eAAet7F,OAGV,MAAX48F,EACJ,CACC,IAAIkE,EAAuB,EAAAxoG,KAAKskG,GAAS3zF,KAAK,6BAA6BA,KAAK,WAAW,GAEvFspC,EADsBuuD,EAAqB/0E,UAAUjS,MAAM,OACjC2I,OAAOJ,GAAKA,EAAEhqB,WAAW,QACvD,IAAK,IAAI8P,KAAaoqC,EACrBuuD,EAAqB35F,UAAUK,OAAOW,GAEvC,EAAA7P,KAAKwoG,GAAsB74E,SAAS,EAAAnuB,mBAAmBqrC,OAEvD,IAAI87D,EAAiB,EAAA3oG,KAAKskG,GAAS3zF,KAAK,sBACxCg4F,EAAej1E,cACfi1E,EAAeh5E,SAAS,EAAApuB,iBAAiBypC,oBAAsB,qBAC/D29D,EAAe,GAAGr4F,MAAMC,SAAW,iCAEnC,EAAAvQ,KAAKskG,GAAS3zF,KAAK,8BAA8BzB,SACjD,EAAAlP,KAAKskG,GAAS3zF,KAAK,4BAA4BmmB,KAAK,6EAA+ExB,EAAK9/B,KAAO,wIAMlJ,IAAIozG,EAAW,IAAIrzE,SACnBqzE,EAASv6E,OAAO,OAAQiH,GACxBM,EAAIizE,KAAKD,GAKF,mBAAmBE,GAEZj0G,KAAK+sC,aACPohE,aACX,EAAAhjG,KAAKnL,KAAKmuG,eAAejyF,OAE1B,EAAA/Q,KAAKnL,KAAKmuG,eAAe,GAAG9sG,MAAQ,EACpCrB,KAAKk0G,gBAAkB,GAEvB,IAAK,IAAI9zG,EAAI6zG,EAAU7zG,EAAI,EAAGA,IAC7BJ,KAAKk0G,gBAAgB1gF,KAAK,GAGpB,eAAe2gF,EAAoBb,GAE1CtzG,KAAKk0G,gBAAgBC,GAAcb,EACnC,IAAI7uC,EAAQzkE,KAAKk0G,gBAAgBh+E,OAAO,CAACk+E,EAAKC,IAASD,EAAMC,EAAM,GAAKr0G,KAAKk0G,gBAAgB9oG,OAC7F,EAAAD,KAAKnL,KAAKmuG,eAAe,GAAG9sG,MAAQojE,EAKrC,WAEC,OAAOzkE,KAAK4uG,aAGb,cAEC,OAAO5uG,KAAKsvG,aAGb,cAEC,OAAOtvG,KAAKqvG,gBAGb,eAEC,OAAOrvG,KAAKovG,WAGL,YAAY7mF,GAGnB,GAAIgF,KAAKC,IAAIjF,GADE,KAEd,OAAOA,EAAQ,KAEhB,MAAM+rF,EAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACzD,IAAIl+E,GAAK,EAGT,GAEC7N,GAVc,OAWZ6N,QAEI7I,KAAKkF,MAPF,IAOQlF,KAAKC,IAAIjF,IAPjB,KANK,MAayC6N,EAAIk+E,EAAMlpG,OAAS,GAE3E,OAAOmd,EAAMiuB,QAAQ,GAAK,IAAM89D,EAAMl+E,GAG/B,YAAY83D,GAGnB,IAAInzE,EAAO,EAAArO,iBAAiB+3B,KACxBvpB,EAAQ,UAEZ,OAAQgzE,GAEP,IAAK,kBAEHnzE,EAAO,EAAArO,iBAAiB6nG,QACxBr5F,EAAQ,QAET,MACD,IAAK,YACL,IAAK,aAEHH,EAAO,EAAArO,iBAAiB8nG,UACxBt5F,EAAQ,UAET,MACD,IAAK,qBACL,IAAK,0EAEHH,EAAO,EAAArO,iBAAiB+nG,SACxBv5F,EAAQ,UAET,MACD,IAAK,2BACL,IAAK,oEAEHH,EAAO,EAAArO,iBAAiB8uE,UACxBtgE,EAAQ,UAET,MACD,IAAK,aAEHH,EAAO,EAAArO,iBAAiBgoG,UACxBx5F,EAAQ,UAET,MACD,IAAK,kBACL,IAAK,+BACL,IAAK,2BACL,IAAK,kBAEHH,EAAO,EAAArO,iBAAiBioG,WACxBz5F,EAAQ,UAET,MACD,IAAK,YACL,IAAK,aACL,IAAK,cACL,IAAK,kBACL,IAAK,kBACL,IAAK,iBAEHH,EAAO,EAAArO,iBAAiBkoG,UACxB15F,EAAQ,SAIX,MAAO,CAAEH,KAAwBA,EAAMG,MAAOA,GAGvC,yBAAyB81F,GAEhC,IAAI9iB,EAAqB,GACrBgjB,EAAkBF,EAAUrkF,MAAM,KAGtC,OAFAqkF,EAAYE,EAAgBA,EAAgB9lG,OAAS,IAIpD,IAAK,OACL,IAAK,MACL,IAAK,QACJ8iF,EAAW,CAAC,IACZ,MAED,IAAK,MAAOA,EAAW,CAAC,YAAa,MACrC,IAAK,MAAOA,EAAW,CAAC,YAAa,MACrC,IAAK,MAAOA,EAAW,CAAC,aAAc,MAEtC,IAAK,OACL,IAAK,MACJA,EAAW,CAAC,cACZ,MAED,IAAK,KAAMA,EAAW,CAAC,4BAA6B,MACpD,IAAK,MAAOA,EAAW,CAAC,cAAe,MACvC,IAAK,MAAOA,EAAW,CAAC,aAAc,MAEtC,IAAK,MACL,IAAK,OACJA,EAAW,CAAC,cACZ,MAED,IAAK,MAAOA,EAAW,CAAC,gBAAiB,MACzC,IAAK,MAAOA,EAAW,CAAC,kBAAmB,MAC3C,IAAK,MAAOA,EAAW,CAAC,iBAAkB,MAE1C,IAAK,MACL,IAAK,MACJA,EAAW,CAAC,sBACZ,MAED,IAAK,OAAQA,EAAW,CAAC,2EAA4E,MACrG,IAAK,OAAQA,EAAW,CAAC,2EAA4E,MACrG,IAAK,OAAQA,EAAW,CAAC,oDAAqD,MAC9E,IAAK,OAAQA,EAAW,CAAC,oDAAqD,MAE9E,IAAK,MAAOA,EAAW,CAAC,mBAAoB,MAC5C,IAAK,MAAOA,EAAW,CAAC,mBAAoB,MAE5C,IAAK,MAAOA,EAAW,CAAC,2BAA4B,oEAAqE,YAAa,MAEtI,IAAK,MAAOA,EAAW,CAAC,6BAA8B,MAEtD,IAAK,MACL,IAAK,MACL,IAAK,MACJA,EAAW,CAAC,4BACZ,MAED,IAAK,OAAQA,EAAW,CAAC,qEAAsE,MAC/F,IAAK,OAAQA,EAAW,CAAC,wEAAyE,MAClG,IAAK,OAAQA,EAAW,CAAC,kDAAmD,MAC5E,IAAK,OAAQA,EAAW,CAAC,qDAAsD,MAC/E,IAAK,OAAQA,EAAW,CAAC,kDAAmD,MAC5E,IAAK,OAAQA,EAAW,CAAC,yDAA0D,MAEnF,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACJA,EAAW,CAAC,iCACZ,MAED,IAAK,OAAQA,EAAW,CAAC,6EAA8E,MACvG,IAAK,OAAQA,EAAW,CAAC,yEAA0E,MACnG,IAAK,OAAQA,EAAW,CAAC,0EAA2E,MACpG,IAAK,OAAQA,EAAW,CAAC,uDAAwD,MACjF,IAAK,OAAQA,EAAW,CAAC,8DAA+D,MACxF,IAAK,OAAQA,EAAW,CAAC,0DAA2D,MACpF,IAAK,OAAQA,EAAW,CAAC,2DAA4D,MAErF,IAAK,MAAOA,EAAW,CAAC,yBAA0B,4BAA6B,MAC/E,IAAK,MAAOA,EAAW,CAAC,sBAAuB,wBAAyB,MAExE,IAAK,KAAMA,EAAW,CAAC,+BAAgC,MACvD,IAAK,MAAOA,EAAW,CAAC,gCAAiC,MACzD,IAAK,MAAOA,EAAW,CAAC,gCAAiC,MAEzD,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACJA,EAAW,CAAC,4BACZ,MAED,IAAK,MAAOA,EAAW,CAAC,cAAe,MAEvC,IAAK,OACL,IAAK,MACJA,EAAW,CAAC,cACZ,MAED,IAAK,OACL,IAAK,MACJA,EAAW,CAAC,cACZ,MAED,IAAK,MAAOA,EAAW,CAAC,mBAAoB,MAC5C,IAAK,MAAOA,EAAW,CAAC,eAAgB,MACxC,IAAK,MAAOA,EAAW,CAAC,kBAAmB,MAC3C,IAAK,MAAOA,EAAW,CAAC,mBAAoB,MAE5C,IAAK,MACL,IAAK,MACJA,EAAW,CAAC,aAGd,OAAOA,EAGR,QAECluF,KAAK0uG,OAAS,GACd,EAAAvjG,KAAKnL,KAAK0vG,eAAe78F,OACzB,EAAA1H,KAAKnL,KAAK0vG,eAAe5kD,QACzB9qD,KAAKquG,eAAehtG,MAAQ,GAC5B,EAAA8J,KAAKnL,KAAKmuG,eAAet7F,OACzB7S,KAAKmuG,cAAc9sG,MAAQ,EAE3B,EAAA8J,KAAKnL,KAAKqL,WAAW6Q,OAGtB,OAEC,EAAA/Q,KAAKnL,KAAKquG,gBAAgBzrE,QAK3B,SAEC3Z,MAAMoT,SACN7X,OAAOwa,WAAW,IAAMh/B,KAAKquG,eAAe5vE,gBAAgB,aAG7D,UAECxV,MAAMqT,UACN9X,OAAOwa,WAAW,IAAMh/B,KAAKquG,eAAe3vE,aAAa,WAAY,aAItE,aAEC,OAAO1+B,KAAKqC,WA78Bd,WAo9BA,MAAMyrG,GAYN,MAAM+G,UAAoB,EAAAh2F,iBAK1B,MAAMi0F,UAA8B+B,GAKpC,MAAMC,UAAwBD,GAM9B,MAAMhG,UAA6BiG,GAGnC,MAAMhG,UAA4BgG,GAGlC,MAAM/F,UAA6B+F,GAGnC,MAAM9F,UAAwB6F,GAM9B,MAAM1B,UAA4B0B,GAOlC,MAAME,UAAwBF,GAU9B,MAAMhB,UAAyBkB,GAG/B,MAAMrB,UAA2BqB,GAIjC,MAAMxC,UAAmCsC,GAOzC,MAAM3C,UAAyB2C,GAM/B,MAAMhF,UAAyBgF,GAiB/B,IAAKxE,GAAL,SAAKA,GAEJ,yBACA,iCACA,uDACA,uDACA,6DAND,CAAKA,MAAkB,KASvB,MAAMqC,UAA0BmC,K,0HCjmChC,aACA,OAIA,MAAaG,UAA4B,EAAAjqG,kBAAzC,wBAgBA,MAAaxD,UAAqB,EAAA2hC,UAEjC,YAAY79B,EAAsBhJ,GA4BjC,GAzBe,MAAXA,IACHA,EAAU,IAAI2yG,GAEM,MAAjB3yG,EAAQoZ,QAAepZ,EAAQoZ,MAAQ,IAAIw5F,GACpB,MAAvB5yG,EAAQoZ,MAAMP,QAAe7Y,EAAQoZ,MAAMP,MAAQ,EAAA9M,qBAAqB8mG,MAClD,MAAtB7yG,EAAQoZ,MAAMkL,OAActkB,EAAQoZ,MAAMkL,KAAO,EAAAxY,oBAAoBgnG,YAC9C,MAAvB9yG,EAAQoZ,MAAM25F,QAAe/yG,EAAQoZ,MAAM25F,MAAQ,EAAA/mG,qBAAqBgnG,MAChD,MAAxBhzG,EAAQoZ,MAAMD,SAAgBnZ,EAAQoZ,MAAMD,OAAS,IAC5B,MAAzBnZ,EAAQoZ,MAAM65F,UAAiBjzG,EAAQoZ,MAAM65F,SAAU,GACzB,MAA9BjzG,EAAQoZ,MAAM85F,eAAsBlzG,EAAQoZ,MAAM85F,cAAe,GACzC,MAAxBlzG,EAAQoZ,MAAM+5F,SAAgBnzG,EAAQoZ,MAAM+5F,OAAS,EAAAjnG,sBAAsBu4B,YACvC,MAApCzkC,EAAQozG,2BAAkCpzG,EAAQozG,0BAA2B,GAC3D,MAAlBpzG,EAAQqzG,SAAgBrzG,EAAQqzG,OAAS,WAEX,MAA9BrzG,EAAQszG,qBAA4BtzG,EAAQszG,mBAAqB,IAAIC,GAC/B,MAAtCvzG,EAAQszG,mBAAmBp1E,UAAiBl+B,EAAQszG,mBAAmBp1E,QAAU,iCAC5C,MAArCl+B,EAAQszG,mBAAmBv0E,SAAgB/+B,EAAQszG,mBAAmBv0E,OAAS,oCAErD,MAA1B/+B,EAAQwzG,iBAAwBxzG,EAAQwzG,eAAiB,IAAIC,GAC3B,MAAlCzzG,EAAQwzG,eAAet1E,UAAiBl+B,EAAQwzG,eAAet1E,QAAU,iCACxC,MAAjCl+B,EAAQwzG,eAAez0E,SAAgB/+B,EAAQwzG,eAAez0E,OAAS,qCAG3EnY,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB6E,cAEhB,MAApBlF,EAAQ0zG,SACZ,CACC,GAAiC,MAA7B1zG,EAAQ0zG,SAASC,SACpB,MAAMpqG,MAAM,gCAEoB,MAA7BvJ,EAAQ0zG,SAAS/jF,WAAkB3vB,EAAQ0zG,SAAS/jF,SAAW,OACpC,MAA3B3vB,EAAQ0zG,SAASL,SAAgBrzG,EAAQ0zG,SAASL,OAAS,WAChC,MAA3BrzG,EAAQ0zG,SAASE,SAAgB5zG,EAAQ0zG,SAASE,QAAS,GAChC,MAA3B5zG,EAAQ0zG,SAASG,SAAgB7zG,EAAQ0zG,SAASG,OAAS,SAE9D,EAAA/qG,KAAau4B,UAAU,wDAA0DrhC,EAAQ0zG,SAASC,SAChG,aAAe3zG,EAAQ0zG,SAAS/jF,SAAW,WAAa3vB,EAAQ0zG,SAASL,OACzE,WAAarzG,EAAQ0zG,SAASE,OAAS,WAAa5zG,EAAQ0zG,SAASG,OAAS,gBAC/Er4F,KAAK,IAAM7d,KAAKm2G,qBAGlBn2G,KAAKm2G,eAIC,eAEP,IAAI9zG,EAAUrC,KAAK+sC,aACnBqpE,OAAOC,QAAQ,CACdZ,yBAA0BpzG,EAASozG,yBACnCh6F,MAAOpZ,EAASoZ,MAChB66F,YAAa,CAACj2E,EAAWk2E,KAIxB,GAFA,EAAAh5F,WAAWlb,EAASszG,mBAAoB35F,QAER,MAA5B3Z,EAASm0G,gBACb,CACC,IAAIC,EAAqB,IAAIC,EAI7B,GAHAD,EAAmB3rE,OAAS9qC,KAC5BqC,EAASm0G,gBAAgBC,GAErBA,EAAmB1yF,qBAGtB,OADA,EAAApG,cACO,EAIT,IAAI44D,EAAOv2E,KAAK22G,kBAAkBt0G,EAASszG,mBAAqBiB,EAAqBC,aACrF,OAAOxyE,MAAMhiC,EAASszG,mBAAoBv0E,OACzC,CACCA,OAAQ,OACR01E,QAAS,CAAE,eAAgB,oBAC3B7qG,KAAMizB,KAAKE,UAAUm3C,KAErB14D,KAAMymB,GAEKA,EAAIiyC,QAGf14D,KAAMwiB,IAEN,GAAkB,MAAdA,EAAK02E,OAA+B,IAAd12E,EAAK02E,MAc9B,OAZ+D,MAA3D10G,EAASszG,mBAAoBj+B,8BAEgC,IAA5Dr1E,EAASszG,mBAAoBj+B,6BAChCr1E,EAASszG,mBAAoBj+B,2BAA6B,mCAEK,IAA5Dr1E,EAASszG,mBAAoBj+B,4BAChC,EAAA5kE,OAAOzQ,EAASszG,mBAAoBj+B,6BAGO,MAAzCr1E,EAASszG,mBAAoBv5F,UAChC/Z,EAASszG,mBAAoBv5F,SAASikB,GAEhCA,EAAK02E,MAGZ/2G,KAAKg3G,YAAY30G,EAASszG,mBAAqBiB,EAAqBK,WAAY52E,IAEhFs4C,IAEA,EAAAh7D,aACA3d,KAAKg3G,YAAY30G,EAASszG,mBAAqBiB,EAAqBC,gBAGxEK,UAAW,CAAC72E,EAAWk2E,KAEtB,IAAIhgC,EAAOv2E,KAAK22G,kBAAkBt0G,EAASwzG,eAAiBe,EAAqBO,UAAW92E,GAG5F,OAFA,EAAA9iB,WAAWlb,EAASwzG,eAAgB75F,QAE7BqoB,MAAMhiC,EAASwzG,eAAgBz0E,OACrC,CACCA,OAAQ,OACR01E,QAAS,CAAE,eAAgB,oBAC3B7qG,KAAMizB,KAAKE,UAAUm3C,KAErB14D,KAAM0jB,IAEN,EAAA5jB,aACmB,GAAf4jB,EAAS61E,IAE+C,MAAvD/0G,EAASwzG,eAAgBn+B,8BAEgC,IAAxDr1E,EAASwzG,eAAgBn+B,6BAC5Br1E,EAASwzG,eAAgBn+B,2BAA6B,mCAEK,IAAxDr1E,EAASwzG,eAAgBn+B,4BAC5B,EAAA5kE,OAAOzQ,EAASwzG,eAAgBn+B,6BAGO,MAArCr1E,EAASwzG,eAAgBz5F,UAC5B/Z,EAASwzG,eAAgBz5F,SAASmlB,IAGnCvhC,KAAKg3G,YAAY30G,EAASszG,mBAAqBiB,EAAqBO,UAAW51E,IAE/Eo3C,IAEA,EAAAh7D,aACA3d,KAAKg3G,YAAY30G,EAASszG,mBAAqBiB,EAAqBO,UAAWx+B,MAGnF0+B,SAAU,CAACh3E,EAAWk2E,KAGrB,GADA,EAAA54F,aACyB,MAArBtb,EAASg1G,SACb,CACC,IAAIC,EAAc,IAAIC,EACtBD,EAAYxsE,OAAS9qC,KACrBs3G,EAAYj3E,KAAOA,EACnBi3E,EAAYf,QAAUA,EACtBl0G,EAASg1G,SAASC,KAGpB1D,QAAUvzE,IAET,EAAA1iB,aACA,EAAA7K,OAAO,4BAA6B,CAAE9J,KAAM,EAAAoI,iBAAiBxF,WAE5D0hG,OAAOttG,KAAKqL,WAAWwS,KAAK,KAE9B,GAA2B,MAAvBxb,EAASm1G,WACb,CACC,IAAIC,EAAgB,IAAIC,EACxBD,EAAc3sE,OAAS9qC,KACvBqC,EAASm1G,WAAWC,MAKf,kBAAkBn3E,EAA8B+1C,EAAmCh2C,EAAY,MAEtG,IAAIk2C,EAAY,GAiChB,GAhCAA,EAAKC,QAAUl2C,EAAQC,QAGnBD,EAAQc,OAAQl2B,WAAW,UAC9Bo1B,EAAQc,OAAS,IAAMd,EAAQc,QAE3Bd,EAAQc,OAAQe,SAAS,OAC7B7B,EAAQc,OAAUd,EAAQc,OAAS,KAIhCi1C,GAAeugC,EAAqBC,aAEW,MAA7Cv2E,EAAgCq3E,YACpCphC,EAAMj2C,EAAgCq3E,WAAer3E,EAAgCq3E,WAEpC,MAA7Cr3E,EAAgCs3E,YACpCrhC,EAAMj2C,EAAgCs3E,WAAet3E,EAAgCs3E,YAE9EvhC,GAAeugC,EAAqBO,WAAqB,MAAR92E,IAEO,MAA3DC,EAAkCu3E,wBACrCv3E,EAAkCu3E,sBAAwB,aAC5DthC,EAAMj2C,EAAkCu3E,uBAA0Bx3E,EAAKy3E,UAET,MAAzDx3E,EAAkCy3E,sBACrCz3E,EAAkCy3E,oBAAsB,WAC1DxhC,EAAMj2C,EAAkCy3E,qBAAwB13E,EAAK23E,SAKvC,MAA3B13E,EAAQg5B,gBACZ,CACC,IAAI5W,EAAiB5hD,OAAOogC,oBAAoBZ,EAAQg5B,iBACxD,IAAK,IAAIn4B,KAASuhB,EACjB6zB,EAAKp1C,GAASb,EAAQg5B,gBAAgBn4B,GAGxC,GAA0B,MAAtBb,EAAQmiB,WACZ,CACC,IAAIA,EAAaniB,EAAQmiB,aACrBC,EAAiB5hD,OAAOogC,oBAAoBuhB,GAChD,IAAK,IAAIthB,KAASuhB,EACjB6zB,EAAKp1C,GAASshB,EAAWthB,GAI3B,OAAOo1C,EAGA,YAAYj2C,EAA8B+1C,EAAmCh2C,GAEpF,GAAwC,MAApCC,EAAQ04C,yBACZ,CACC,IAAyC,IAArC14C,EAAQ04C,yBACZ,CACC,IAAIl0D,EAAQ,GACZ,OAAQuxD,GAEP,KAAKugC,EAAqBK,WAAYnyF,EAAQ0E,OAAO6W,EAAK43E,OAAOC,UAAW,MAC5E,KAAKtB,EAAqBC,YAAa/xF,EAAQ,0DAA2D,MAC1G,KAAK8xF,EAAqBO,UAAWryF,EAAQ,0DAE9Cwb,EAAQ04C,yBAA2Bl0D,GAGK,IAArCwb,EAAQ04C,0BACX,EAAAlmE,OAAOwtB,EAAQ04C,yBAA0B,CAAEhwE,KAAM,EAAAoI,iBAAiBxF,aAEnD,MAARy0B,EAEoB,MAAxBA,EAAK43E,OAAOC,SACf,EAAAplG,OAAOutB,EAAK43E,OAAOC,SAAU,CAAElvG,KAAM,EAAAoI,iBAAiBxF,QAEtD,EAAAkH,OAAOutB,EAAK43E,OAAOz+B,QAAS,CAAExwE,KAAM,EAAAoI,iBAAiBxF,QAGtD,EAAAkH,OAAO,4BAA6B,CAAE9J,KAAM,EAAAoI,iBAAiBxF,QAEjC,MAAzB00B,EAAQF,eACXE,EAAQF,cAAcC,GAGxB,aAEC,OAAOrgC,KAAKqC,WA1Qd,iBA0RA,MAAM4yG,GAWN,MAAMkD,GAcN,MAAMvC,UAA4BuC,GAMlC,MAAMrC,UAA8BqC,GAMpC,IAAKvB,GAAL,SAAKA,GAEJ,iCACA,+BACA,6BAJD,CAAKA,MAAoB,KAOzB,MAAMW,UAA4B,EAAA14F,iBAOlC,MAAM63F,UAAmC,EAAA73F,iBAKzC,MAAM64F,UAA8B,EAAA74F,mB,kOCvWpC,aACA,OACA,OACA,OAEA,OACA,OAEA,OAGA,MAAau5F,UAAwB,EAAArtG,kBAArC,oBAqCA,MAAapD,UAAiB,EAAAuhC,UAqB7B,YAAY79B,EAAsBhJ,GAyCjC,GAtCe,MAAXA,IACHA,EAAU,IAAI+1G,GAEW,MAAtB/1G,EAAQoJ,aAAoBpJ,EAAQoJ,YAAa,GAC7B,MAApBpJ,EAAQy0C,WAAkBz0C,EAAQy0C,SAAW,EAAAjlC,aAAaklC,aACtC,MAApB10C,EAAQg2G,WAAkBh2G,EAAQg2G,UAAW,GACT,MAApCh2G,EAAQi2G,2BAAkCj2G,EAAQi2G,0BAA2B,GAC1C,MAAnCj2G,EAAQk2G,0BAAiCl2G,EAAQk2G,yBAA0B,GAChD,MAA3Bl2G,EAAQm2G,kBAAyBn2G,EAAQm2G,iBAAkB,GAC/B,MAA5Bn2G,EAAQo2G,mBAA0Bp2G,EAAQo2G,iBAAmB,IACnC,MAA1Bp2G,EAAQq2G,iBAAwBr2G,EAAQq2G,gBAAiB,GACvC,MAAlBr2G,EAAQs2G,SAAgBt2G,EAAQq2G,gBAAiB,GAC5B,MAArBr2G,EAAQu0F,YAAmBv0F,EAAQu0F,WAAY,GACxB,MAAvBv0F,EAAQi1F,aAA6C,MAAtBj1F,EAAQu2G,YAA2C,MAArBv2G,EAAQo1F,YAAmBp1F,EAAQu0F,WAAY,GAClF,MAA1Bv0F,EAAQw2G,iBAAwBx2G,EAAQw2G,gBAAiB,GAC3B,MAA9Bx2G,EAAQy2G,qBAA4Bz2G,EAAQy2G,oBAAqB,GAC9C,MAAnBz2G,EAAQ02G,SAAmB12G,EAAQ02G,QAAU,GAA0B,MAArB12G,EAAQ8pD,YAAmB9pD,EAAQ8pD,UAAY,GAAK9pD,EAAQ02G,SAC3F,GAAnB12G,EAAQ02G,UAAc12G,EAAQ02G,aAAUr7F,GACnB,MAArBrb,EAAQ8pD,YAAmB9pD,EAAQ8pD,UAAY,IACzB,MAAtB9pD,EAAQ22G,aAAoB32G,EAAQ22G,YAAa,GACpB,MAA7B32G,EAAQ2pD,oBAA2B3pD,EAAQ2pD,kBAAoB,MAE7C,MAAlB3pD,EAAQ42G,SAAgB52G,EAAQ42G,QAAS,IACtB,IAAnB52G,EAAQ42G,QAAqC,MAAjB52G,EAAQ4T,QAAe5T,EAAQ4T,MAAQ,KAChD,IAAnB5T,EAAQ42G,SAAiB52G,EAAQ42G,OAAS,IAAIC,GAE5B,MAAlB72G,EAAQizB,SAAgBjzB,EAAQizB,QAAS,IACtB,IAAnBjzB,EAAQizB,SAAiBjzB,EAAQizB,OAAS,IAAI,EAAAlR,yBAC3B,IAAnB/hB,EAAQizB,QACuB,MAA9BjzB,EAAQizB,OAAO6jF,cAAqB92G,EAAQizB,OAAO6jF,aAAc,GAGtElwF,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBiF,UACxC3H,KAAKqL,UAAUoQ,MAAMC,SAAW,gBAChC1b,KAAK03C,eAAiB,GAGC,MAAnBr1C,EAAQ+pD,SAAoC,MAAjB/pD,EAAQ4T,QAAe5T,EAAQ4T,MAAQ,KACjD,MAAjB5T,EAAQ4T,OAAoC,MAAnB5T,EAAQ+pD,UAAsC,IAAnB/pD,EAAQ42G,UAE/Dj5G,KAAKo5G,UAAY,EAAAjuG,KAAK,sFAAsF,GAC5G,EAAAA,KAAKnL,KAAKqL,WAAWouB,cAAcz5B,KAAKo5G,WAExC,EAAAx2G,aAAa,CACZmQ,KAAM,QACNgI,KAAM,EAAArO,iBAAiB8uE,UACvBzlE,IAAK,gBACLimB,cAAe,CAAE2e,WAAY,UAAWwI,UAAW,QACnDrnB,aAAc,uDACdM,SAA4B,IAAnB/5B,EAAQ42G,OACjB98E,QAAU7hB,IAETta,KAAKk6E,gBAEJl6E,KAAKo5G,WAEa,MAAjB/2G,EAAQ4T,QAEXjW,KAAKq5G,UAAY,EAAAj3G,YAAY,CAC5B2Q,KAAM1Q,EAAQ4T,MACdF,IAAK,8EACLimB,cAAe,CAAE2e,WAAY,UAAWwI,UAAW,QACnDxnB,MAAO,EAAA/tB,cAAcyqC,OACrB98B,MAAO,eAAiBvb,KAAKs5G,eAAiB,MAC9Cx9E,aAAc,4CACZ97B,KAAKo5G,YAGc,MAAnB/2G,EAAQ+pD,SACZ,CACC,IAAK,IAAI4B,KAAU3rD,EAAQ+pD,QAC3B,CACC,IAAI7wC,EAAyB,MAAhByyC,EAAOzyC,MAAiByyC,EAAOzyC,MAAQ,IAChDg+F,EAAY,EAAA5jG,IAAI3V,KAAKo5G,UAAW,CAAErjG,IAAK,UAAYwF,EAAQ,MAAOrF,MAAO,mBAAoBK,WAAY,CAAC,CAAE5V,KAAM,QAASU,MAAO2sD,EAAO/O,UAE7I,EAAA78C,YAAY,CACX2Q,KAAuB,MAAhBi7C,EAAO/3C,MAAiB+3C,EAAO/3C,MAAQ,GAC9C6lB,aAAc,0CACZy9E,GAGJv5G,KAAKw5G,gBAAkB,EAAA7jG,IAAI3V,KAAKo5G,UAAW,CAAErjG,IAAK,2DAMpD,GAAuB,MAAnB1T,EAAQsyD,QACZ,CACC30D,KAAK40D,YAAc,EAAAzpD,KAAK,YAAcE,EAAQ8K,GAAK,+CAA+CE,gBAAgBrW,KAAKqL,WAAW,GAElI,IAAK,IAAIypD,KAAezyD,EAAQsyD,QAC/B30D,KAAK+0D,eAAeD,GAKtB,IAAIjvC,EAAU,EACd7lB,KAAKg7C,iBAAmB,EAAAh4C,cACvB,CACCuY,MAAO,OACPR,KAAM,EAAArO,iBAAiBimC,OACvBW,YAAa,WACbp9B,MAAO,mBACPkmB,SAA4B,IAAnB/5B,EAAQizB,OACjBwG,aAAc,mBACd4Q,UAAYpyB,IAEXta,KAAK64C,uBAAuBv+B,EAAEwwB,OAAOz/B,UAA+BiP,IAErEswB,QAAUtwB,IAETta,KAAK64C,uBAAuBv+B,EAAEwwB,OAAOz/B,UAA+BiP,GACpEg/B,aAAazzB,GACbA,EAAUrB,OAAOwa,WAAW,KAE3B,IAAIjsB,EAAeuH,EAAEwwB,OAAOzpC,QAC5BrB,KAAKs1B,OAAOviB,IACV,OAEF/S,KAAKqL,WAGT,IAAIouG,EAAgC,MAAjBp3G,EAAQ4T,MAAiB,GAAK,EAC7CyjG,GAAmC,IAAnBr3G,EAAQizB,OAAoB,GAAK,EACjDqkF,EAAoC,MAAnBt3G,EAAQsyD,QAAmB,GAAK,EACrD30D,KAAK45G,YAAc,EAAAjkG,IAAI3V,KAAKqL,UAAW,CAAE0K,IAAK,uCAAyC0jG,EAAcC,EAAeC,GAAiB,OAAQzjG,MAAO,yBAE3H,IAArB7T,EAAQ8pD,WAEX,EAAApmC,YAAY,cACN/lB,KAAKqL,UAAU8K,GAAK,+CACd9T,EAAQ8pD,UAAY,EAAK,uCAE/BnsD,KAAKqL,UAAU8K,GAAK,+DACV9T,EAAQ8pD,UAAY,EAAK,GAAK,uCAExCnsD,KAAKqL,UAAU8K,GAAK,wHAOD,MAAtB9T,EAAQw7F,YACX79F,KAAK69F,WAAWx7F,EAAQw7F,YAIH,MAAlBx7F,EAAQ2qD,SAAqD,IAAnC3qD,EAAQ2qD,OAAOoL,iBAC5Cp4D,KAAKq4D,aAAah2D,EAAQ2qD,OAAQ6sD,EAAwBthD,QAK5D,WAAWjhB,GAEV,GAAa,MAATA,EACJ,CACCt3C,KAAKw5C,OAASlC,EACoB,GAA9Bt3C,KAAKw6C,eAAepvC,OACvB,EAAAD,KAAKnL,KAAKqL,WAAWyvB,SAAS,kBAE9B,EAAA3vB,KAAKnL,KAAKqL,WAAWwzB,YAAY,kBAGlC7+B,KAAKu5D,gBAAkB,IAAIC,EAC3Bx5D,KAAKu5D,gBAAgBugD,cAAgB95G,KAAKqB,QAE1C,IAAI04G,EAAoC,GACpCC,EAAe,EAAA7uG,KAAKnL,KAAKsC,aAAawZ,KAAK,6BAC/C,IAAK,IAAIyhE,KAAY7gE,MAAMm/B,KAAKm+D,GAC/BD,EAAwBvmF,KAAM+pD,EAAiB7f,cAAel/B,aAAa,UAE5Ex+B,KAAKu5D,gBAAgBwgD,wBAA0BA,EAE/C,IAAIE,EAAU,EAAA9uG,KAAKnL,KAAKsC,aAAawZ,KAAK,iBAAiB8O,QACzC,MAAdqvF,EAAQ,KACXj6G,KAAKu5D,gBAAgBI,UAAYsgD,EAAQ,GAAGjoD,WAG7ChyD,KAAKy6C,iBAGL,IAAK,IAAIy/D,KAAuBl6G,KAAKu5D,gBAAiBwgD,wBACtD,CACC,IAAI9gE,EAAKj5C,KAAKk5C,mBAAmBj4C,IAAIi5G,GACrC,GAAU,MAANjhE,EACJ,CACC,IAAIkhE,EAAwB,EAAAhvG,KAAK8tC,GAAIn9B,KAAK,4BAA4B,GACzC,MAAzBq+F,GAAiC,EAAAhvG,KAAKgvG,GAAuB77E,SAAS,gBACzE,EAAAnzB,KAAKgvG,GAAuBv3E,SAIW,MAAtC5iC,KAAKu5D,gBAAgBugD,eAA+D,IAAtC95G,KAAKu5D,gBAAgBugD,eAAuB95G,KAAKu5D,gBAAgBugD,cAAc1uG,OAAS,GACzIpL,KAAKqB,MAAMrB,KAAKu5D,gBAAgBugD,eAAe,GAEhD,EAAA3uG,KAAKnL,KAAKsC,aAAawZ,KAAK,iBAAiB8O,QAAQonC,UAAUhyD,KAAKu5D,gBAAiBI,WAGtF,OAAO35D,KAAKw5C,OAGb,OAAOiJ,EAAyBwW,GAgB/B,OAdc,IAAI3yC,QAASlK,IAE1B,IAAI/Z,EAAUrC,KAAK+sC,aACG,MAAlB1qC,EAAQ2qD,SAEX3qD,EAAQ2qD,OAAOsM,qBAAkB57C,EACf,MAAd+kC,IACHpgD,EAAQ2qD,OAAOsM,gBAAkB7W,GAEjCpgD,EAAQ2qD,OAAe4M,mBAAqBX,EAE7Cj5D,KAAKq4D,aAAah2D,EAAQ2qD,OAAQ6sD,EAAwBthD,OAAQn8C,MAMrE,SAECpc,KAAK69F,WAAW79F,KAAK69F,cAGd,iBAEP,IAAIx7F,EAAUrC,KAAK+sC,aACnB,EAAA5hC,KAAKnL,KAAK45G,aAAa9uD,QAEvB,IAAIxT,EAAQt3C,KAAK69F,aACjB,GAAoB,GAAhBvmD,EAAMlsC,QAA2B,MAAZksC,EAAM,GAC9B,OAED,IAAI8iE,EAAc,EAAAzkG,IAAI3V,KAAK45G,YAAa,CAAE7jG,IAAK,iBAE/C/V,KAAKk5C,mBAAqB,IAAIvyC,IAC9B3G,KAAKq6G,mBAAqB,IAAI1zG,IAC9B2wC,EAAQA,EAAMhiB,OAAOJ,GAAsB,MAAjBA,EAAEwmB,aAAwC,KAAjBxmB,EAAEwmB,aAAuC,IAAjBxmB,EAAEwmB,aAC7E17C,KAAKi8C,UAAU3E,EAAO8iE,GAGlB/3G,EAAQw2G,gBAEXr0F,OAAOwa,WAAW,KAEjB,IAAIs7E,GAAM,EACV,IAAK,IAAI5lF,KAAQhY,MAAMm/B,KAAkB,EAAA1wC,KAAKnL,KAAKsC,aAAawZ,KAAK,gCAEpEw+F,GAAOA,EACHA,EACH/gG,EAAEmb,GAAM3e,IAAI,mBAAoB,QAEhCwD,EAAEmb,GAAM3e,IAAI,mBAAoB,aAMd,MAAlB/V,KAAKq5G,YAERr5G,KAAKq5G,UAAU99F,MAAM,eAAkBvb,KAAKs5G,eAAkB,OAC9Dt5G,KAAKq5G,UAAUhuG,UAAUoQ,MAAMC,SAAW,wCAI3C1b,KAAKu6G,kBAGgC,MAAjCv6G,KAAKg7C,iBAAiB35C,SAAoD,IAAjCrB,KAAKg7C,iBAAiB35C,SAClErB,KAAKs1B,OAAOt1B,KAAKg7C,iBAAiB35C,SAG5B,kBAEP,IAAIgB,EAAUrC,KAAK+sC,aACf,EAAA5hC,KAAKnL,KAAKsC,aAAawZ,KAAK,iBAAiB8O,QAAQuP,iBAEjC,MAAnB93B,EAAQ+pD,UAEX,EAAAjhD,KAAKnL,KAAKw5G,iBAAiBt9F,OAEL,MAAlBlc,KAAKq5G,WACRr5G,KAAKq5G,UAAU99F,MAAM,gBAAkBvb,KAAKs5G,eAAiB,IAAM,QAIrE,EAAAnuG,KAAKnL,KAAKw5G,iBAAiB3mG,OAGrB,UAAUykC,EAAc4E,GAE/B,IAAI75C,EAAUrC,KAAK+sC,aACnB,GAAoB,GAAhBuK,EAAMlsC,OACT,OAED,IAAI+wC,EAAK,EAAAhxC,KAAK,0EAA0EmL,eAAe4lC,GACnG97C,EAAI,EACR,IAAK,IAAIs0B,KAAQ4iB,EACjB,CACmB,MAAd5iB,EAAKrzB,QACRqzB,EAAKrzB,MAAQqzB,EAAK3hB,MAEnB,IAAIynG,EAAmBn4G,EAAgB,SAAI,mBAAqB,GAC5D42C,EAAK,EAAA9tC,KAAK,2BAA6BqvG,EAAkB,gCAAkC9lF,EAAKgnB,YAAc,YAAchnB,EAAKrzB,MAAQ,WAAWiV,eAAe6lC,GAGvK,GADAn8C,KAAKq6G,mBAAmBljF,IAAI8hB,EAAG,GAAIvkB,EAAKrzB,OACpCrB,KAAKk5C,mBAAmBhiB,IAAIxC,EAAKrzB,OACrC,CACC,IAAIg7C,EAAer8C,KAAKk5C,mBAAmBj4C,IAAIyzB,EAAKrzB,OACpDg7C,EAAa7oB,KAAKylB,EAAG,IACrBj5C,KAAKk5C,mBAAmB/hB,IAAIzC,EAAKrzB,MAAOg7C,QAGxCr8C,KAAKk5C,mBAAmB/hB,IAAIzC,EAAKrzB,MAAO,CAAC43C,EAAG,KAGzC52C,EAAQy0C,UAAY,EAAAjlC,aAAayqC,aAEZ,MAApB5nB,EAAKgnB,aAA2C,KAApBhnB,EAAKgnB,aACpC,EAAAvwC,KAAK8tC,GAAInc,QAAQ,iBAAiBjqB,OAE3BxQ,EAAQy0C,UAAY,EAAAjlC,aAAa0qC,wBAErC,EAAApxC,KAAK8tC,GAAIuD,QAAQ,iBAAiBpxC,OAAS,GAC9C,EAAAD,KAAK8tC,GAAInc,QAAQ,iBAAiBjqB,OAIpC,IAAI0H,EAAWva,KAAKo8C,qBAAqB1nB,GACzC,GAAIna,EAASnP,OAAS,EACtB,CACK/I,EAAQy2G,oBAAsB14G,EAAI,IACrC64C,EAAG,GAAGx9B,MAAMC,SAAW,qBAGxB,IAAI+gC,EAAkB,GAClBzhC,EAAY,EAAAtO,iBAAiBqvC,WAC7B15C,EAAQy0C,UAAY,EAAAjlC,aAAayqC,aAEZ,MAApB5nB,EAAKgnB,cAER1gC,EAAY,EAAAtO,iBAAiBqvC,WAC7BU,EAAkB,eAGXp6C,EAAQy0C,UAAY,EAAAjlC,aAAa0qC,uBAEO,GAA5C,EAAApxC,KAAK8tC,GAAIuD,QAAQ,iBAAiBpxC,QAErC4P,EAAY,EAAAtO,iBAAiBkrC,UAC7B6E,EAAkB,eAIlBzhC,EAAY,EAAAtO,iBAAiBqvC,WAC7BU,EAAkB,gBAKnBzhC,EAAY,EAAAtO,iBAAiBkrC,UAC7B6E,EAAkB,cAGnB,IAAIC,EAAU,EAAAvxC,KAAK,uCAAyCsxC,EAAkB,oBAAsBp6C,EAAQ8pD,UAAY,eAAe71C,eAAe2iC,GACtJ,EAAA9tC,KAAK,EAAAH,eAAe9C,WAAW8S,IAAY1E,eAAeomC,GAC1D,EAAAvxC,KAAKuxC,GAAS9Z,MAAOtoB,IAEpB,EAAAnP,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKskB,YAAY,EAAAnyB,iBAAiBqvC,WAAa,IAAM,EAAArvC,iBAAiBkrC,WACrG,EAAAzsC,KAAKmP,EAAE0rB,eAAenH,YAAY,0BAElC,IAAI8d,EAAa,EAAAxxC,KAAKmP,EAAE0rB,eAAe4W,SAAS,iBAC5CD,EAAW/xB,QAAQ/e,GAAG,aAEzB8wC,EAAW9pC,OACX,EAAA1H,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBqvC,YAC9D,EAAA5wC,KAAKmP,EAAE0rB,eAAelL,SAAS,iBAI/B6hB,EAAWzgC,OACX,EAAA/Q,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBkrC,WAC9D,EAAAzsC,KAAKmP,EAAE0rB,eAAelL,SAAS,eAGhC96B,KAAKu6G,oBAKP,IAAIE,EAA2B,EAAAtvG,KAAK,0DAA4D9I,EAAQ8pD,UAAY,eAAe71C,eAAe2iC,GAClJ,GAAI52C,EAAQoJ,WACZ,CACC,IAAIqxC,EAAW,EAAA3xC,KAAK,sDAAsDmL,eAAemkG,GACzF,EAAAtvG,KAAK2xC,GAAUla,MAAOtoB,IAErB,IAAIyiC,EAAYziC,EAAE0rB,cAAc8U,QAC5Bz5C,EAAQrB,KAAKq6G,mBAAmBp5G,IAAI,EAAAkK,KAAKmP,EAAE0rB,eAAelJ,QAAQ,MAAM,IAExEigB,EACH/8C,KAAK03C,eAAelkB,KAAKnyB,GAEzBrB,KAAK03C,eAAe5iB,SAASzzB,GAE9B,IAAI27C,EAAah9C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GACjE,GAAkB,MAAd27C,GAAsBh9C,KAAKo8C,qBAAqBY,GAAY5xC,OAAS,EACzE,CACC,IAAI6xC,EAAgBj9C,KAAKk9C,oBAAoBF,GACzC1iC,EAAE0rB,cAAc8U,SACnB96C,KAAK03C,eAAe9iB,YAAYqoB,EAAcrgC,IAAIsY,GAAKA,EAAE7zB,QAE1D,IAAI87C,EAAqBn9C,KAAKo9C,4BAAoCJ,GAAY,GAC9E,EAAA7xC,KAAKgyC,GAAoBE,KAAK,UAAW/iC,EAAE0rB,cAAc8U,SAEzD,IAAK,IAAIwC,KAAaL,EAEhB3iC,EAAE0rB,cAAc8U,SACpB96C,KAAK03C,eAAe5iB,SAASwoB,EAAUj8C,OAK1CrB,KAAKu9C,WAAajjC,EAAE0rB,cAAc8U,QAE7B96C,KAAKu9C,YACTv9C,KAAK03C,eAAe5iB,SAASJ,EAAKrzB,OAGnC,IAAIm8C,EAAoC,GACpCC,EAASz9C,KAAKk5C,mBAAmBj4C,IAAIyzB,EAAKrzB,OAC9C,IAAK,IAAI43C,KAAMwE,EACf,CACC,IAAI7B,EAAgB,EAAAzwC,KAAK8tC,GAAIn9B,KAAK,uBAAuB,GACzD0hC,EAAehqB,KAAKooB,GAGrB,IAAK,IAAIA,KAAiB4B,EAC1B,CACC,IAAIV,EAAW,EAAA3xC,KAAKywC,GAAegB,SAAS,SAC5C,EAAAzxC,KAAK2xC,GAAUO,KAAK,UAAWr9C,KAAKu9C,YACpCT,EAAS,GAAGhC,QAAU96C,KAAKu9C,WAC3B,EAAApyC,KAAK2xC,GAAUje,YAAY,2BAG5B,IAAK,IAAI6e,KAAa19C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASqzB,EAAKrzB,OACpE,CACC,IAAIs8C,EAAgB39C,KAAK49C,kBAAkBF,GACtCC,GAA0C,MAAzBD,EAAUhC,YAEvBiC,GAA0C,MAAzBD,EAAUhC,cAAwB17C,KAAK03C,eAAe37B,SAAS2hC,EAAUhC,cAClG17C,KAAK03C,eAAelkB,KAAKkqB,EAAUhC,aAFnC17C,KAAK03C,eAAe5iB,SAAS4oB,EAAUhC,aAMzC,IAAIiC,EAAgB39C,KAAK49C,kBAAkBlpB,GACtCipB,GAAqC,MAApBjpB,EAAKgnB,YAElBiC,GAAqC,MAApBjpB,EAAKgnB,cAAwB17C,KAAK03C,eAAe37B,SAAS2Y,EAAKgnB,cACxF17C,KAAK03C,eAAelkB,KAAKkB,EAAKgnB,aAF9B17C,KAAK03C,eAAe5iB,SAASJ,EAAKgnB,aAInC17C,KAAK69C,kBAAoBnpB,EAAKrzB,MAC9BrB,KAAK03C,eAAiB13C,KAAK03C,eAAe7gB,aAC1C72B,KAAKqB,MAAMrB,KAAK03C,gBAChB13C,KAAK69C,kBAAoB,OAI3B,IAAIK,EAAmB77C,EAAkB,WAAI,6BAA+B,GAExEq4G,EAA4B,EAAAvvG,KAAK,qDAAqDmL,eAAemkG,GACzGC,EAA0B,GAAGj/F,MAAMC,SAAW,uBAAyB1b,KAAKs5G,eAAiB,GAAK,OAElG,IAAIqB,EAAmB,EAAAxvG,KAAK,gBAAkBupB,EAAK3hB,KAAO,WAAa2hB,EAAK3hB,KAAKqH,QAAQ,KAAM,SAAW,+BAAiC8jC,EAAkB,aAAa5nC,eAAeokG,GAGzL,GAAwB,MAApBr4G,EAAQ07C,SACZ,CACC,IAAI68D,EAAW,GACE,MAAblmF,EAAK3Z,OACR6/F,EAAW,aAAelmF,EAAK3Z,KAAO,qCAEvC,IAAI+iC,EAAUppB,EAAK3hB,KAAKqH,QAAQ,KAAM,SAClCygG,EAAW,yFACQ,MAAnBx4G,EAAQ02G,SAAmB12G,EAAQ02G,QAAU,IAChD8B,EAAW,sEAAwEx4G,EAAQ02G,QAAU,8JAEtGj7D,EAAU88D,EAAW,4CAA8CC,EAAW,KAAO/8D,EAAU,UAC/F,EAAA3yC,KAAK2yC,GAASxnC,eAAeqkG,OAG9B,CACC,IAAI38D,EAAgB,IAAI88D,EACxB98D,EAAclT,OAAS9qC,KACvBg+C,EAAcC,SAAWvpB,EACzBspB,EAAc17C,UAAYq4G,EAAiB,GAE3C,IAAII,EAAiB14G,EAAQ07C,SAASC,GACtC,GAA+B,iBAApB,EACX,CACC,IAAIF,EAAUi9D,EACG,MAAbrmF,EAAK3Z,OACR+iC,EAAU,aAAeppB,EAAK3Z,KAAO,oCAAsC+iC,GAE5E,IAAI+8D,EAAW,yFACQ,MAAnBx4G,EAAQ02G,SAAmB12G,EAAQ02G,QAAU,IAChD8B,EAAW,sEAAwEx4G,EAAQ02G,QAAU,8JAEtGj7D,EAAU,gBAAkB+8D,EAAW,KAAO/8D,EAAU,UACxD,EAAA3yC,KAAK2yC,GAASxnC,eAAeqkG,IAsF/B,IAjFkB,IAAdjmF,EAAKqH,OACR4+E,EAAiB,GAAGl/F,MAAMC,SAAW,qBAElCrZ,EAAQq2G,gBAEX,EAAA91G,aAAa,CACZmY,KAAM,EAAArO,iBAAiBsuG,KACvBl/E,aAAc,qBACd/lB,IAAK,kCACLomB,QAAU7hB,IAET,GAAsB,MAAlBjY,EAAQs2G,OACZ,CACC,IAAI5zF,EAAQ,IAAIk2F,EAChBl2F,EAAM+lB,OAAS9qC,KACf+kB,EAAMhS,KAAO2hB,EAAK3hB,KAClBgS,EAAM1jB,MAAQqzB,EAAKrzB,MACnB0jB,EAAMk5B,SAAWvpB,EACjBryB,EAAQs2G,OAAO5zF,MAGf41F,EAAkB,EAAAzuG,oBAAoBqvB,QAItCl5B,EAAQ22G,YAEX,EAAA7tG,KAAKwvG,GAAkBx+F,GAAG,YAAc7B,IAEvC,OAAQA,EAAEwoC,QAET,KAAK,EACL,KAAK,EACJ,CACC,IAAIzhD,EAAQrB,KAAKq6G,mBAAmBp5G,IAAI,EAAAkK,KAAKmP,EAAE0rB,eAAelJ,QAAQ,MAAM,IACxEpI,EAAO10B,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAS3D,GARY,MAARqzB,IAAiBryB,EAAQm2G,iBAAoBx4G,KAAKm+C,gBAAgBpiC,SAAS2Y,EAAKrzB,SAE9EgB,EAAQoJ,WAGZ,EAAAN,KAAKmP,EAAE0rB,eAAe4W,SAAS,eAAeha,QAF9C5iC,KAAKqB,MAAMqzB,EAAKrzB,QAKdgB,EAAQk2G,wBAIX,OAFAv4G,KAAKk7G,gBAAgBxmF,EAAMpa,EAAE8d,QAAS,EAAAjtB,KAAKmP,EAAE0rB,eAAema,SAAS3nB,SAAS5R,IAAM,EAAAzb,KAAKmP,EAAE0rB,eAAema,SAAS3kC,eACnHlB,EAAE0e,iBAIJ,MACD,KAAK,EAEH,GAAI32B,EAAQi2G,yBAIX,OAFAt4G,KAAKk7G,gBAAgBxmF,EAAMpa,EAAE8d,QAAS,EAAAjtB,KAAKmP,EAAE0rB,eAAema,SAAS3nB,SAAS5R,IAAM,EAAAzb,KAAKmP,EAAE0rB,eAAema,SAAS3kC,eACnHlB,EAAE0e,oBASqB,MAAzB32B,EAAQ84G,eAEX,EAAAhwG,KAAKwvG,GAAkBx+F,GAAG,WAAa7B,IAEtC,IAAIyK,EAAQ,IAAIq2F,EAChBr2F,EAAM+lB,OAAS9qC,KACf+kB,EAAMhS,KAAO2hB,EAAK3hB,KAClBgS,EAAM1jB,MAAQqzB,EAAKrzB,MACnB0jB,EAAMk5B,SAAWvpB,EACjBryB,EAAQ84G,cAAep2F,KAMrB1iB,EAAQo2G,iBAAkBrtG,OAAS,IAAM/I,EAAQi2G,2BAA6Bj2G,EAAQk2G,wBAC1F,CACC,IAAI8C,EAAgC,KACpC,EAAAlwG,KAAKsvG,GAA0Bt+F,GAAG,aAAe7B,IAEhD+gG,EAAiB,EAAAz4G,aAAa,CAC7BmY,KAAM,EAAAtO,iBAAiB6uG,iBACvBvlG,IAAK,kCACL+lB,aAAc,oDACdvgB,MAAO,GACPrF,MAAO,2BACPimB,QAAU7hB,IAET,EAAAnP,KAAKsvG,GAA0B3/E,SAAS,SACxC96B,KAAKk7G,gBAAgBxmF,EAAM,EAAAvpB,KAAKmP,EAAEwwB,OAAOxoC,aAAak2B,SAASzR,KAAM,EAAA5b,KAAKmP,EAAEwwB,OAAOxoC,aAAak2B,SAAS5R,IAAM,EAAAzb,KAAKmP,EAAEwwB,OAAOxoC,aAAakZ,YAEzIm/F,KAGJ,EAAAxvG,KAAKsvG,GAA0Bt+F,GAAG,aAAe7B,IAE3C,EAAAnP,KAAKsvG,GAA0Bn8E,SAAS,UAA8B,MAAlB+8E,GACxD9hG,EAAE8hG,EAAe/4G,aAAa+X,WAKjC,GAAuB,MAAnBhY,EAAQ+pD,QACZ,CACC,IAAI6P,EAAavnC,EAAKryB,EAAQ2pD,mBAC1BoO,EAAQ,MAAQh6D,EAAI,IAAM67D,EAG9B,IAAK,IAAIjO,KAAU3rD,EAAQ+pD,QAC3B,CACC,GAAI4B,EAAOgB,OACV,SAED,IAAIzzC,EAAyB,MAAhByyC,EAAOzyC,MAAiByyC,EAAOzyC,MAAQ,IACpDA,GAAS,GACT,IAAIggG,EAAU,EAAA5lG,IAAI8kG,EAA0B,CAAEvkG,MAAO,uBAAwBH,IAAK,WAAa1T,EAAQ8pD,UAAY,cAAgB5wC,EAAQ,QAEvI0jC,EAAQ+O,EAAO/O,MACnB,EAAA9zC,KAAKowG,GAASzvG,KAAK,QAASmzC,GAE5B,IAAIiW,EAAYxgC,EAAauqB,GACb,MAAZiW,IACHA,EAAW,IAEO,MAAflH,EAAOhlD,OAAcglD,EAAOhlD,KAAO,EAAA+I,uBAAuByX,QAE9D,IAAIoS,EAAY,EAAA5pB,kBAAkBspB,KAClC,OAAQ0yB,EAAOhlD,MAGd,KAAK,EAAA+I,uBAAuB0f,OAC3B,CACC,IAAIqmC,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EAM5E,GALAl8B,EAAY,EAAA5pB,kBAAkBypB,MAEH,MAAvBuyB,EAAO6J,eAAsB7J,EAAO6J,aAAe,IAAI2jD,GACrB,MAAlCxtD,EAAO6J,aAAawH,aAAoBrR,EAAO6J,aAAawH,YAAa,GAE5D,KAAbnK,IAAsD,IAAnClH,EAAO6J,aAAawH,WAC1CnK,EAAW,OAEZ,CACC,IAAIvjC,EAAiB,IAAI,EAAA5I,qBACzB4I,EAAeM,YAAc+7B,EAAOytD,eACpC9pF,EAAexI,sBAAwB2uC,EACvCnmC,EAAevI,sBAAwB0uC,EACvC5C,EAAWzjC,OAAOyjC,GAAUxjC,iBAAiBC,IAG/C,MACD,KAAK,EAAA5f,uBAAuBtO,SAC3B,CACC,IAAIq0D,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EAM5E,GALAl8B,EAAY,EAAA5pB,kBAAkBypB,MAEH,MAAvBuyB,EAAO6J,eAAsB7J,EAAO6J,aAAe,IAAI2jD,GACrB,MAAlCxtD,EAAO6J,aAAawH,aAAoBrR,EAAO6J,aAAawH,YAAa,GAE5D,KAAbnK,IAAsD,IAAnClH,EAAO6J,aAAawH,WAC1CnK,EAAW,OAEZ,CACC,IAAIvjC,EAAiB,IAAI,EAAA5I,qBACzB4I,EAAexI,sBAAwB2uC,EACvCnmC,EAAevI,sBAAwB0uC,EACvC5C,EAAWzjC,OAAOyjC,GAAUpjC,mBAAmBH,IAGjD,MACD,KAAK,EAAA5f,uBAAuBxO,WAC3B,CACC,IAAIu0D,EAAyC,MAAxB9J,EAAO8J,cAAyB9J,EAAO8J,cAAgB,EAM5E,GALAl8B,EAAY,EAAA5pB,kBAAkBypB,MAEH,MAAvBuyB,EAAO6J,eAAsB7J,EAAO6J,aAAe,IAAI2jD,GACrB,MAAlCxtD,EAAO6J,aAAawH,aAAoBrR,EAAO6J,aAAawH,YAAa,GAE5D,KAAbnK,IAAsD,IAAnClH,EAAO6J,aAAawH,WAC1CnK,EAAW,OAEZ,CACC,IAAIvjC,EAAiB,IAAI,EAAA5I,qBACzB4I,EAAexI,sBAAwB2uC,EACvCnmC,EAAevI,sBAAwB0uC,EACvC5C,GAAYzjC,OAAOyjC,GAAY,KAAKnjC,qBAAqBJ,IAG3D,MACD,KAAK,EAAA5f,uBAAuByjD,SAK1B,GAH2B,MAAvBxH,EAAO6J,eAAsB7J,EAAO6J,aAAe,IAAI2jD,GACrB,MAAlCxtD,EAAO6J,aAAawH,aAAoBrR,EAAO6J,aAAawH,YAAa,GAE5D,KAAbnK,IAAsD,IAAnClH,EAAO6J,aAAawH,WAC1CnK,EAAW,OAEZ,CACC,IAAIlrC,EAAgBuD,KAAK20C,MAAMzwC,OAAOyjC,GAAY,IAC9C6P,EAAcv7C,OAAOQ,GACrBA,EAAQ,KACX+6C,EAAc,IAAMA,GAErB,IAAI76C,EAAkBqD,KAAK20C,MAAMzwC,OAAOyjC,GAAY,IAChD8P,EAAgBx7C,OAAOU,GACvBA,EAAU,KACb86C,EAAgB,IAAMA,GAEvBppC,EAAY,EAAA5pB,kBAAkBqmC,OAC9B6c,EAAW6P,EAAc,IAAMC,EAGjC,MAID,KAAK,EAAAjzD,uBAAuBsR,KAC5B,KAAK,EAAAtR,uBAAuBpN,SAC5B,KAAK,EAAAoN,uBAAuBtN,KAE1Bm3B,EAAY,EAAA5pB,kBAAkBqmC,OAC1B2V,EAAOhlD,MAAQ,EAAA+I,uBAAuBsR,KACzC6xC,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK6xC,GAAUtnC,gBAAgB,EAAAppB,aAAa6e,MAC3E2qC,EAAOhlD,MAAQ,EAAA+I,uBAAuBpN,SAC9CuwD,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK6xC,GAAUtnC,gBAAgB,EAAAppB,aAAaG,SAAUqpD,EAAOngC,aAC5FmgC,EAAOhlD,MAAQ,EAAA+I,uBAAuBtN,OAC9CywD,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK6xC,GAAUtnC,gBAAgB,EAAAppB,aAAaC,KAAMupD,EAAOngC,cAElG,MAID,KAAK,EAAA9b,uBAAuBgkD,SAC5B,KAAK,EAAAhkD,uBAAuBikD,QAC3B,CACC,IAAIlb,EAA0B,MAAfpmB,EAAKuqB,IAA0C,GAAxB+W,QAAQthC,EAAKuqB,IAAmB,oBAAsB,GAE5FrjB,EAAY,EAAA5pB,kBAAkBqmC,OAC9B6c,EAAW,UAAYpa,EAAU,oCAAsCmhB,EAAa,SAAW7B,EAAQ,IAAMpM,EAAO/O,MAAzG,4FACyCmb,EAAQ,IAAMpM,EAAO/O,MAAQ,aAElF,MAID,KAAK,EAAAltC,uBAAuBK,MAE1BwpB,EAAY,EAAA5pB,kBAAkBqmC,OAC1B6c,EAASwmD,qBACZxmD,EAAW,aAAe,EAAAxoD,iBAAiBm0D,OAAS,8CAAgD3L,EAAW,sDAMnHqmD,EAAQz5E,UAAYozB,EAGO,MAAvBlH,EAAO6J,eAEiC,MAAvC7J,EAAO6J,aAAazU,iBACvB,EAAAj4C,KAAKowG,GAASxlG,IAAI,mBAAoBi4C,EAAO6J,aAAazU,iBAE1B,MAA7B4K,EAAO6J,aAAa38C,OACvB,EAAA/P,KAAKowG,GAASxlG,IAAI,QAASi4C,EAAO6J,aAAa38C,OAEjB,MAA3B8yC,EAAO6J,aAAa9hD,MACvBwlG,EAAQ9/F,MAAMC,SAAWsyC,EAAO6J,aAAa9hD,MAKpB,MAAvBi4C,EAAO6J,eACVj8B,EAA8C,MAAjCoyB,EAAO6J,aAAaj8B,UAAqBoyB,EAAO6J,aAAaj8B,UAAYA,GAEvF,EAAAzwB,KAAKowG,GAASxlG,IAAI,aAAc6lB,IAI3BrhB,EAASnP,OAAS,IAAyB,IAApB4iD,EAAO2tD,WAAsC,IAAhB3tD,EAAOjyB,OAC/D,EAAA5wB,KAAKowG,GAASxlG,IAAI,cAAe,SAOhC1T,EAAQi2G,0BAA4Bj2G,EAAQk2G,0BAE/C,EAAAptG,KAAKsvG,GAA0Bt+F,GAAG,cAAgB7B,IAEjDA,EAAE0e,kBACK,IAML32B,EAAQu0F,YAEX,EAAAzrF,KAAKsvG,GAA0B3uG,KAAK,YAAa,QACjD,EAAAX,KAAKsvG,GAA0Bt+F,GAAG,YAAc7B,IAM/C,GAJAkK,OAAO80B,aAAat5C,KAAK47G,eACzB57G,KAAK67G,mBAAqBnnF,EAGC,MAAvBryB,EAAQi1F,YACZ,CACC,IAAIC,EAAiB,IAAIukB,EAMzB,GALAvkB,EAAezsD,OAAS9qC,KACxBu3F,EAAep0D,OAAS,EAAAh4B,KAAKmP,EAAE6oB,QAAQrG,QAAQ,MAAM,GACrDy6D,EAAe7sE,OAASgK,EACxBryB,EAAQi1F,YAAYC,GAEhBA,EAAexzE,qBAGlB,YADAzJ,EAAE0e,iBAMJ,EAAA7tB,KAAKmP,EAAE6oB,QAAQrG,QAAQ,MAAMhC,SAAS,yBAGvC,EAAA3vB,KAAKsvG,GAA0Bt+F,GAAG,WAAa7B,IAG9C,GAA0B,MAAtBjY,EAAQu2G,WACZ,CACC,IAAImD,EAAc/7G,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAAS,EAAA8J,KAAKmP,EAAE6oB,QAAQrG,QAAQ,MAAMhxB,KAAK,UAAU,GACnGmtC,EAAK,EAAA9tC,KAAKmP,EAAE6oB,QAAQrG,QAAQ,MAAM,GAElCk/E,EAAgB,IAAIC,EAOxB,GANAD,EAAclxE,OAAS9qC,KACvBg8G,EAAc74E,OAAS8V,EACvB+iE,EAActxF,OAASgK,EACvBsnF,EAAcD,YAAcA,EAC5B15G,EAAQu2G,WAAWoD,GAEfA,EAAcj4F,qBAGjB,YADAzJ,EAAE0e,iBAMJ,EAAA7tB,KAAKmP,EAAE6oB,QAAQrG,QAAQ,+BAA+BhC,SAAS,sBAC/DxgB,EAAE0e,mBAGH,EAAA7tB,KAAKsvG,GAA0Bt+F,GAAG,YAAc7B,IAE/C,EAAAnP,KAAKmP,EAAE6oB,QAAQrG,QAAQ,+BAA+B+B,YAAY,sBAClEvkB,EAAE0e,mBAGH,EAAA7tB,KAAKsvG,GAA0Bt+F,GAAG,OAAS7B,IAG1C,GAAyB,MAArBjY,EAAQo1F,UACZ,CACC,IAAIskB,EAAc/7G,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAAS,EAAA8J,KAAKmP,EAAE6oB,QAAQrG,QAAQ,MAAMhxB,KAAK,UAAU,GACnGowG,EAAgB,EAAA/wG,KAAKmP,EAAE6oB,QAAQrG,QAAQ,MAAM,GACxC,EAAA3xB,KAAK+wG,GAAepgG,KAAK,MAC/BzB,SAEH,IAAI2hG,EAAgB,IAAIG,EAOxB,GANAH,EAAclxE,OAAS9qC,KACvBg8G,EAAc74E,OAAS8V,EACvB+iE,EAActxF,OAAS1qB,KAAK67G,mBAC5BG,EAAcD,YAAcA,EAC5B15G,EAAQo1F,UAAUukB,GAEdA,EAAcj4F,qBAGjB,YADAzJ,EAAE0e,iBAIH,IAAIojF,EAAWp8G,KAAKk5C,mBAAmBj4C,IAAIjB,KAAK67G,mBAAoBx6G,OACpE,EAAA8J,KAAKixG,GAAU/hG,SAEf,IAAI4iC,EAAgBj9C,KAAKo8C,qBAAqB2/D,GAC9C/7G,KAAK67G,mBAAoBngE,YAAcqgE,EAAY16G,MACnD47C,EAAczpB,KAAKxzB,KAAK67G,oBAExB77G,KAAKi8C,UAAUgB,EAAei/D,GAC9B,EAAA/wG,KAAK+wG,GAAepgG,KAAK,MAAMI,OAUhC,OANAlc,KAAK67G,mBAAqB,KAC1B,EAAA1wG,KAAKnL,KAAKsC,aAAawZ,KAAK,uBAAuB+iB,YAAY,sBAC/D,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAAwB+iB,YAAY,uBAEhEvkB,EAAEg5E,kBACFh5E,EAAE0e,kBACK,KAKLze,EAASnP,OAAS,GACrBpL,KAAKi8C,UAAUj8C,KAAKo8C,qBAAqB1nB,GAAOukB,GAEjD74C,IAGkB,EAAA+K,KAAKnL,KAAKsC,aAAawZ,KAAK,iBAAiB8O,QAAQ9O,KAAK,qBAAqB8O,QACrFkQ,SAAS,0BAGf,qBAAqB6gB,GAE5B,OAAO37C,KAAK69F,aAAavoE,OAAOJ,GAAsB,MAAjBA,EAAEwmB,aAAuBxmB,EAAEwmB,aAAeC,EAAWt6C,OAG3F,eAEC,IAAIi+C,EAA8B,GAClC,IAAK,IAAI5qB,KAAQ10B,KAAK69F,aACtB,CACC,GAAY,MAARnpE,EACH,SAED,IAAIgnB,EAAchnB,EAAKgnB,YACvB,KAAsB,MAAfA,GACP,CACC,IAAIC,EAAa37C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASq6C,GAAa,GAClE4D,EAAYvjC,SAAS4/B,IACzB2D,EAAY9rB,KAAKmoB,GAElBD,EAA6B,MAAdC,EAAsBA,EAAWD,iBAAch+B,EAC5C,MAAdi+B,GAAsBD,GAAeC,EAAWt6C,QACnDq6C,OAAch+B,IAGjB,OAAO4hC,EAER,gBAEC,OAAOt/C,KAAKw6C,eAAellB,OAAOJ,GAAU,MAALA,GAAWtY,IAAIsY,GAAKA,EAAE7zB,OAGtD,oBAAoBs6C,GAE3B,OAAO37C,KAAK2/C,qBAAqBhE,GAG1B,qBAAqBA,GAE5B,OAAO37C,KAAKk9C,oBAAoBvB,GAAY/+B,IAAIsY,GAAKA,EAAE7zB,OAGhD,qBAAqBs6C,GAE5B,IAAIiE,EAA2B,MAAdjE,EAAsB37C,KAAK69F,aAAe79F,KAAKo8C,qBAAqBT,GACjFrE,EAAwB,GAC5B,IAAK,IAAIuI,KAAeD,EAEvBtI,EAAM9jB,KAAKqsB,GACP7/C,KAAKo8C,qBAAqByD,GAAaz0C,OAAS,GACnDksC,EAAM1iB,YAAY50B,KAAK2/C,qBAAqBE,IAE9C,OAAOvI,EAGA,4BAAmEqE,EAA0Bb,GAAU,EAAOgF,GAAY,GAEjI,IAAIC,EAAW//C,KAAKk5C,mBAAmBj4C,IAAI06C,EAAWt6C,OAClD2+C,EAAsB,EAAA70C,KAAK40C,GAAUjkC,KAAK,uBAAuB,GACjEmkC,EAAiB,EAAA90C,KAAK60C,GAAqBpD,SAAS,SAEpDsD,EAA2B,EAAA/0C,KAAK80C,GAAgBE,SAASA,SAASrkC,KAAK,SAAW,EAAY,WAAa,KAO/G,OANI,EAAA3Q,KAAK+0C,EAAyB,IAAItD,SAAS,uBAAuB3a,QAAU0Z,EAAW5oC,MAC1FmtC,EAAyBlrB,OAAO,EAAG,GAEhC8qB,IACHI,EAA2BxjC,MAAMm/B,KAAuBqE,IAElDA,EAGR,kBAGC,OADYlgD,KAAK69F,aAAavoE,OAAOJ,GAAKl1B,KAAK03C,eAAe37B,SAASmZ,EAAE7zB,QAC5D01B,aAAa7B,GAAKA,EAAE7zB,OAGlC,mBAEC,OAAOrB,KAAK03C,eAAe7gB,aAG5B,kBAEC,OAAO72B,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASrB,KAAKqB,SAAS,GAGvD,cAAci8C,GAErB,OAA6B,MAAzBA,EAAU5B,YACN17C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASi8C,EAAU5B,aAAa,GACjE,KAGA,kBAAkBhnB,GAEzB,IAAIinB,EAAa37C,KAAKqgD,cAAc3rB,GACpC,GAAkB,MAAdinB,EACJ,CACC,IACI2E,EADWtgD,KAAKo9C,4BAAgDzB,GAAY,GAAM,GACnDrmB,OAAOJ,GAAU,MAALA,GAAaA,EAAE4lB,SAE1DiF,EAAW//C,KAAKk5C,mBAAmBj4C,IAAI06C,EAAWt6C,OAClDk/C,EAAqB,EAAAp1C,KAAK40C,GAAUjkC,KAAK,SAAS,GACtD,GAA0B,MAAtBykC,EAKH,OAHA,EAAAp1C,KAAKo1C,GAAoB1hB,YAAY,2BACrC0hB,EAAmBzF,SAAU,EAEzB96C,KAAKk9C,oBAAoBvB,GAAYvwC,QAAUk1C,EAAoBl1C,QAEtEm1C,EAAmBzF,SAAU,GACtB,GAE+B,GAA9BwF,EAAoBl1C,QAE5Bm1C,EAAmBzF,SAAU,GACtB,IAIP,EAAA3vC,KAAKo1C,GAAoBzlB,SAAS,4BAC3B,IAOH,uBAAuBzvB,EAA2BiP,GAGzD,GAAuB,GADRta,KAAKo7C,4BAA4B/vC,EAAQhK,OAC3C+J,OACb,CACC,IAAIiwC,EAAUhwC,EAAQhK,MAGtB,OAFAgK,EAAQhK,MAAQg6C,EAAQ1mB,UAAU,EAAG0mB,EAAQjwC,OAAS,QACtDkP,EAAE0e,kBAKI,4BAA4B33B,GAEnCA,EAAQA,EAAMiqB,cACd,IAAIgzB,EAAgC,GAOpC,OANuBt+C,KAAK69F,aAAajhF,IAAIsY,GAAK1L,OAAO0L,EAAEniB,MAAMuY,eAC/C5R,QAAQ,CAACwb,EAAGrY,MAEJ,GAArBqY,EAAEH,QAAQ1zB,IACbi9C,EAAc9qB,KAAKxzB,KAAK69F,aAAahhF,MAEhCyhC,EAGA,OAAOvrC,GAEd,IAAI1Q,EAAUrC,KAAK+sC,aAEf1hC,EAAUrL,KAAKg7C,iBAAiB3vC,UAChC2gC,EAAkB3gC,EAA6B2gC,eAC/CgK,EAAgB3qC,EAA6B2qC,aAEjD,GAAY,IAARjjC,EACH,EAAA5H,KAAKnL,KAAKqL,WAAWyQ,KAAK,MAAMI,YAC5B,GAAwB,GAAlB8vB,GAAuBgK,GAAiB3qC,EAA6BhK,MAAM+J,OACtF,CACC,EAAAD,KAAKnL,KAAKqL,WAAWyQ,KAAK,MAAMjJ,OAEhC,IAAIykC,EAAQt3C,KAAKo7C,4BAA4BroC,GACzCwoC,EAASjE,EAAM16B,IAAIsY,GAAKA,EAAE7zB,OAC1Bm6C,EAAQlE,EAAM16B,IAAIsY,GAAKA,EAAEniB,MAE7B,IAAK,IAAI2hB,KAAQ4iB,EACjB,CACC,IAAIoE,EAAchnB,EAAKgnB,YACvB,KAAsB,MAAfA,GACP,CACC,IAAIC,EAAa37C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASq6C,GAAa,GAClEH,EAAOx/B,SAAS2/B,KAEpBH,EAAO/nB,KAAKkoB,GACZF,EAAMhoB,KAAoB,MAAdmoB,EAAsBA,EAAW5oC,KAAO,KAErD2oC,EAA6B,MAAdC,EAAsBA,EAAWD,iBAAch+B,GAIhE,GAAMrb,EAAQizB,OAAkC6jF,YAqB/C,IAAK,IAAIlgE,KAAMv8B,MAAMm/B,KAAoB,EAAA1wC,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBACnE,CACC,IAAIza,EAAQ,EAAA8J,KAAK8tC,GAAIntC,KAAK,SAC1B,GAAI9L,KAAKkhD,SAAS7/C,GAClB,CACC,IAAI0R,EAAO,EAAA5H,KAAK8tC,GAAIn9B,KAAK,uBAAuBhQ,KAAK,QACjD0vC,EAAMz/B,SAAShJ,KAElB,EAAA5H,KAAK8tC,GAAI/8B,OACT,EAAA/Q,KAAK8tC,GAAIn9B,KAAK,MAAMI,OACpB,EAAA/Q,KAAK8tC,GAAIn9B,KAAK,MAAMI,cA5BvB,IAAK,IAAI0/B,KAAiBl/B,MAAMm/B,KAAsB,EAAA1wC,KAAKnL,KAAKqL,WAAWyQ,KAAK,wBAE3E0/B,EAAMz/B,SAAS,EAAA5Q,KAAKywC,GAAe9vC,KAAK,WAE3C,EAAAX,KAAKywC,GAAe9e,QAAQ,iBAAiB5gB,OAC7C,EAAA/Q,KAAKywC,GAAe9e,QAAQ,iBAAiBA,QAAQ,iBAAiB5gB,OAEtE,EAAA/Q,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4B+iB,YAAY,0BAC1F,EAAA1zB,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4BvB,SAAS,KAAKskB,YAAY,EAAAnyB,iBAAiBqvC,WAAa,IAAM,EAAArvC,iBAAiBkrC,WAC7J,EAAAzsC,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4Bgf,SAAS,cACvF,EAAA3vB,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4BvB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBkrC,aA2B3H,SAASv2C,GAER,OAAOrB,KAAKm+C,gBAAgBpiC,SAAS1a,GAGtC,SAGwB,IADTrB,KAAK+sC,aACPzX,QAAyE,MAArD,EAAAnqB,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqB,IAC9E,EAAA3Q,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqBgM,QAGjD,MAA4CzmB,EAAqE8uC,GAAyB,GAEzI,GAAc,OAAV9uC,EAGH,OADArB,KAAK+tC,QACE,KAGR,IAAI1rC,EAAUrC,KAAK+sC,aACnB,GAAa,MAAT1rC,EACJ,CACMgB,EAAQoJ,YACZ,EAAAN,KAAKnL,KAAKqL,WAAWyQ,KAAK,iCAAiC+iB,YAAY,gCAElD,iBAAX,GAAyC,iBAAX,IACxCx9B,EAAQ,CAACmoB,OAAOnoB,KAEjB,IAAIw7C,EAAY,KACZngC,MAAM4X,QAAQjzB,GAGjBA,GADAA,EAAQA,EAAMw1B,cACArC,uBAIdqoB,EAAY,IAAI,EAAA54B,aAChB44B,EAAU9pC,KAAO1R,EAAM0R,KACvB8pC,EAAUx7C,MAAQA,EAAMA,MACxBA,EAAQ,CAACw7C,EAAUx7C,QAGpB,IAAIy/C,EAAY,EAAA91C,eAAeoqC,UAAUp1C,KAAKurC,QAC9CvrC,KAAKurC,OAAS,GACd,IAAK,IAAIwV,KAAe1/C,EACxB,CACC,IAAI2/C,EAAahhD,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAAS0/C,GAAa,GACrD,MAAdC,GACHhhD,KAAKurC,OAAO/X,KAAKwtB,EAAW3/C,OAM9B,GAHArB,KAAK03C,eAAiBr2C,EACtB,EAAA8J,KAAK,EAAAA,KAAKnL,KAAKsC,aAAawZ,KAAK,wBAA0Bza,EAAQ,kCAAkC,IAAIy5B,SAAS,gCAE9GqV,EACJ,CACC,IAAI1E,EAAgB,IAAI4wE,EACxB,GAA8B,MAA1Bh6G,EAAQu6F,eACZ,CACC,IAAI17C,EAAWlhD,KAAKkhD,SAASlhD,KAAKurC,OAAO,IACrCoQ,EAAa,KACbuF,IACHvF,EAAa37C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAE9DoqC,EAAcX,OAAS9qC,KACvByrC,EAAcG,cAAgBkV,EAC9BrV,EAAc0V,sBAAwBL,EACtCrV,EAAcpqC,MAAQrB,KAAKurC,OAAO,GAClCE,EAAcmT,eAAiB,EAAa5+C,KAAKohD,qBAAqBzF,GAAe,GACrFlQ,EAAcqP,QAAU96C,KAAKu9C,WAC7B9R,EAAcyV,SAAWA,EACzB7+C,EAAQu6F,eAAenxD,GAGnBA,EAAc1nB,qBAGlB/jB,KAAKurC,OAASuV,EAFd9gD,KAAK6rC,UAMR,OAAmB,MAAf7rC,KAAKurC,OACD,MACwB,IAAvBlpC,EAAQoJ,WACTzL,KAAKurC,OAELvrC,KAAKurC,OAAO,GAGrB,MAAMt1B,GAOL,OALa,MAATA,GAEmB,MAAlBjW,KAAKq5G,WACRr5G,KAAKq5G,UAAUh4G,MAAM4U,GAEG,MAAlBjW,KAAKq5G,UAAqBr5G,KAAKq5G,UAAUh4G,QAAU,GAG5D,MAAM8uC,GAAgB,GAErB,IAAI9tC,EAAUrC,KAAK+sC,aACnB,EAAA5hC,KAAKnL,KAAKqL,WAAWyQ,KAAK,iCAAiC+iB,YAAY,gCACvE7+B,KAAK+6C,YAAW,GAEhB,EAAA5vC,KAAKnL,KAAKqL,WAAWyQ,KAAK,MAAMI,OAEhClc,KAAKurC,OAAS,MACS,IAAnBlpC,EAAQizB,QAAyE,MAArD,EAAAnqB,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqB,KAC9E,EAAA3Q,KAAKnL,KAAKqL,WAAWyQ,KAAK,qBAAqB,GAAGza,MAAQ,IAEvD8uC,GACHnwC,KAAK6rC,SAGP,aAEC7rC,KAAKw5C,OAAS,GACdx5C,KAAK+tC,QACL,EAAA5iC,KAAKnL,KAAKqL,WAAWyQ,KAAK,iBAAiBzB,SAG5C,cAEC,IAAIhY,EAAUrC,KAAK+sC,aACY,kBAAnB1qC,EAAc,SACzBA,EAAQ42G,OAAS,IAAIC,GAEtB,IAAIoD,EAAiBj6G,EAAQ42G,OAEc,MAAvCqD,EAAeC,uBAA8BD,EAAeC,qBAAuB,EAAAzqG,wBAAwB8f,SAC3E,MAAhC0qF,EAAexkD,gBAEdwkD,EAAeC,sBAAwB,EAAAzqG,wBAAwBrO,UAC/D64G,EAAeC,sBAAwB,EAAAzqG,wBAAwBvO,WAClE+4G,EAAexkD,cAAgB,EAE/BwkD,EAAexkD,cAAgB,GAIjC,IAAIijB,EAAuB,IAAIC,EAE3B7iB,EAA6B,GACjC,GAAuB,MAAnB91D,EAAQ+pD,QAEX,IAAK,IAAI/rB,KAAQrgC,KAAK69F,aACtB,CACC,IAAI2e,EAAsC,GAC1C,IAAK,IAAIxuD,KAAU3rD,EAAQ+pD,QAC3B,CACC,IAAIqwD,EAAmC,EAAAzxG,eAAeoqC,UAAU4Y,GAE5DkH,EAAW70B,EAAK2tB,EAAO/O,OAC3B,OAAQ+O,EAAOhlD,MAGd,KAAK,EAAA+I,uBAAuBsR,KAC5B,KAAK,EAAAtR,uBAAuBpN,SAC5B,KAAK,EAAAoN,uBAAuBtN,KAEtBupD,EAAOhlD,MAAQ,EAAA+I,uBAAuBsR,MAAQ2qC,EAAOhlD,MAAQ,EAAA+I,uBAAuBpN,UAAYqpD,EAAOhlD,MAAQ,EAAA+I,uBAAuBtN,OAErIupD,EAAOhlD,MAAQ,EAAA+I,uBAAuBsR,KACzC6xC,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK,IAAIA,KAAK6xC,IAAWtnC,gBAAgB,EAAAppB,aAAa6e,MACrF2qC,EAAOhlD,MAAQ,EAAA+I,uBAAuBpN,SAC9CuwD,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK,IAAIA,KAAK6xC,IAAWtnC,gBAAgB,EAAAppB,aAAaG,SAAUqpD,EAAOngC,aACtGmgC,EAAOhlD,MAAQ,EAAA+I,uBAAuBtN,OAC9CywD,EAAwB,IAAZA,EAAkB,GAAK,IAAI7xC,KAAK,IAAIA,KAAK6xC,IAAWtnC,gBAAgB,EAAAppB,aAAaC,KAAMupD,EAAOngC,eAG7G,MAID,KAAK,EAAA9b,uBAAuBgkD,SAC5B,KAAK,EAAAhkD,uBAAuBikD,QAE1Bd,EAAkC,GAAtB70B,EAAK2tB,EAAO/O,OAAkB,OAAS,QAMtDw9D,EAAUp7G,MAAQ6zD,EAClBsnD,EAAWhpF,KAAKipF,GAGjBp8E,EAAKm8E,WAAaA,EAClBrkD,EAAW3kC,KAAK6M,QAIjB83B,EAAan4D,KAAK69F,aAEnB9iB,EAAqB8iB,WAAa1lC,EAClC4iB,EAAqB9kE,MAAQ5T,EAAQ4T,MACrC8kE,EAAqB2hC,UAAYJ,EAAeI,UAChD3hC,EAAqB3yD,SAAuC,MAA3Bk0F,EAAel0F,SAAoBk0F,EAAel0F,SAAY,UAAW,IAAI/E,MAAOuK,kBAAkBxT,QAAQ,MAAO,IACtJ2gE,EAAqBvE,QAAU,qBAC/BuE,EAAqBwhC,qBAAuBD,EAAeC,qBAC3DxhC,EAAqBjjB,cAAgBwkD,EAAexkD,cACpD,IAAImjB,EAAa/7C,KAAKE,UAAU27C,GAG5Bv6C,EAAoB,KACxBA,EAAoB,IAAIE,SACxBF,EAAkBhH,OAAO,OAAQ,IAAI+I,KAAK,CAAC04C,GAAa,CAAEjyE,KAAM,sBAGhE,EAAAuU,aACAhE,EAAEonB,KACD,CACC33B,KAAM,OACN83B,WAAaC,IAGZA,EAAIC,iBAAiB,kBAAmB,MACxCD,EAAIC,iBAAiB,UAAW,uBAGjCvY,aAAa,EACb4X,KAAMG,EACNY,OAAQ,OACRC,aAAa,EACbi2C,SAAU,OACV3yD,IAAK,2CACL2c,QAAS,CAACC,EAAiCg2C,EAAoBC,KAE9D,EAAA75D,aAE4B,MAAxB4jB,EAASi3C,aAAuBj3C,EAASi3C,YAAYptE,OAAS,GACjEqa,SAASrL,QAAQmnB,EAASi3C,aAErBj3C,EAAiBjuB,SACtB,EAAAM,MAAO2tB,EAAiB45C,aAAe,SAAY55C,EAAiB65C,WAAY,CAAE7/D,MAAO,IAAKxF,IAAK,qBAErG+O,MAAO,CAACyc,EAAqBg2C,EAAoB+B,KAEhD,EAAA37D,aACA,EAAA/J,MAAM,+DAOV,OAAOqrC,GAEN,IAAI58C,EAAUrC,KAAK+sC,aACfihB,EAAS3rD,EAAQ+pD,QAAS92B,OAAOJ,GAAKA,EAAE+pB,OAASA,GAAO,GACxD+pB,EAAc3mE,EAAQ+pD,QAASr3B,QAAQi5B,GAC3C,OAAO3rD,EAAQ+pD,QAAS4c,GAGzB,YAAY/pB,EAAehpC,GAE1B,IAAI+3C,EAAShuD,KAAKguD,OAAO/O,GACzB,OAAc,MAAV+O,GAEU,MAAT/3C,IAEH+3C,EAAO/3C,MAAQA,EACf,EAAA9K,KAAKnL,KAAKo5G,WAAWt9F,KAAK,+BAAiCmjC,EAAQ,MAAMnjC,KAAK,SAASmmB,KAAKhsB,IAEtF+3C,EAAO/3C,OAGP,GAGT,YAAY83C,EAAkB6E,GAAS,GAEtC,IAAK,IAAI3T,KAAS8O,EACjB/tD,KAAKkpE,WAAWjqB,GAAO,GAEpB2T,GACH5yD,KAAK4yD,SAGP,WAAW3T,EAAe2T,GAAS,GAElC,EAAAznD,KAAKnL,KAAKo5G,WAAWt9F,KAAK,+BAAiCmjC,EAAQ,MAAM/iC,OACzE,EAAA/Q,KAAKnL,KAAK45G,aAAa99F,KAAK,+DAAiEmjC,EAAQ,MAAM/iC,OAE3Glc,KAAKguD,OAAO/O,GAAO+P,QAAS,EAExB4D,GACH5yD,KAAK4yD,SAGP,YAAY7E,EAAkB6E,GAAS,GAEtC,IAAK,IAAI3T,KAAS8O,EACjB/tD,KAAKipE,WAAWhqB,GAAO,GAEpB2T,GACH5yD,KAAK4yD,SAGP,WAAW3T,EAAe2T,GAAS,GAElC,EAAAznD,KAAKnL,KAAKo5G,WAAWt9F,KAAK,+BAAiCmjC,EAAQ,MAAMpsC,OACzE,EAAA1H,KAAKnL,KAAK45G,aAAa99F,KAAK,mCAAqCmjC,EAAQ,MAAMpsC,OAE/E7S,KAAKguD,OAAO/O,GAAO+P,QAAS,EAExB4D,GACH5yD,KAAK4yD,SAGP,oBAAoBuW,EAAqBvW,GAAS,GAEjD,IAAIvwD,EAAUrC,KAAK+sC,aACnB,IAAK,IAAIihB,KAAU3rD,EAAQ+pD,QAC1BpsD,KAAKipE,WAAWjb,EAAO/O,OAAO,GAE/B,IAAK,IAAIA,KAASkqB,EACjBnpE,KAAKkpE,WAAWjqB,GAAO,GAEpB2T,GACH5yD,KAAK4yD,SAGC,eAEP,IAAI0mD,EAAe,EACfj3G,EAAUrC,KAAK+sC,aACnB,GAAuB,MAAnB1qC,EAAQ+pD,QAEX,IAAK,IAAI4B,KAAU3rD,EAAQ+pD,SAEJ,IAAlB4B,EAAOgB,SAGXsqD,GAAiC,MAAhBtrD,EAAOzyC,MAAiByyC,EAAOzyC,MAAQ,KAG1D,OAAO+9F,EAKR,SAASnpE,GAAgB,GAExBnwC,KAAK03C,eAAiB13C,KAAK69F,aAAajhF,IAAIsY,GAAKA,EAAE7zB,OACnDrB,KAAK03C,eAAiB13C,KAAK03C,eAAe7gB,aAC1C72B,KAAKqB,MAAMrB,KAAK69F,aAAajhF,IAAIsY,GAAKA,EAAE7zB,OAAQ8uC,GAGjD,WAAWA,GAAgB,GAE1BnwC,KAAK03C,eAAiB,GACtB,EAAAvsC,KAAKnL,KAAKqL,WAAWyQ,KAAK,iCAAiC+iB,YAAY,gCACvE,EAAA1zB,KAAKnL,KAAKqL,WAAWyQ,KAAK,SAAS+iB,YAAY,2BAC/C,IAAK,IAAIkjB,KAASrlC,MAAMm/B,KAAuB,EAAA1wC,KAAKnL,KAAKqL,WAAWyQ,KAAK,UAExE,EAAA3Q,KAAK42C,GAAO1E,KAAK,WAAW,GAC5B0E,EAAMjH,SAAU,EAEjB96C,KAAKqB,MAAM,GAAI8uC,GAKR,oBAEP,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAwC,GAApC1qC,EAAQo2G,iBAAkBrtG,OAA9B,CAG4B,MAAxBpL,KAAK28G,kBACR38G,KAAK28G,gBAAkB,EAAAhnG,IAAI3J,SAASC,KAAM,CAAEiK,MAAO,wBAAyBC,GAAInW,KAAKqL,UAAU8K,GAAK,eAErG,IAAK,IAAIymG,KAAmBv6G,EAAQo2G,iBACpC,CACC,IAAIoE,EAAqB,EAAAlnG,IAAI3V,KAAK28G,gBAAiB,CAAEzmG,MAAO,+BAC1B,IAA9B0mG,EAAgB7yD,WAWQ,MAAxB6yD,EAAgB7hG,MACnB,EAAAA,KAAK6hG,EAAgB7hG,KAAM8hG,EAAoB,CAAE9mG,IAAK,uBAEvD,EAAA3T,YAAY,CACX2Q,KAAM6pG,EAAgB7pG,KACtB+oB,aAAc,mBACd/lB,IAAK,oBACH8mG,GAE4B,MAA3BD,EAAgBzgF,SAEnB,EAAAhxB,KAAK0xG,GAAoB1gG,GAAG,QAAU7B,IAEM,MAAvCsiG,EAAgBp3D,oBAEnB,EAAA/xC,QAAQmpG,EAAgBp3D,qBAAqB3nC,KAAK,KAEjD7d,KAAK88G,uBAAuBF,KAI7B58G,KAAK88G,uBAAuBF,OA9B9B,EAAA54G,gBAAgB,CACfwmD,YAAa,EAAAp9C,gBAAgB05B,WAC7BhL,aAAc,wFACZ+gF,GAEHA,EAAmBphG,MAAMC,SAAW,0BA+B/B,uBAAuBkhG,GAE9B,IAAI73F,EAAQ,IAAIg4F,EAChBh4F,EAAM+lB,OAAS9qC,KACf+kB,EAAMhS,KAAO6pG,EAAgB7pG,KAC7BgS,EAAM1jB,MAAQu7G,EAAgBv7G,MAC9B0jB,EAAMk5B,SAAWj+C,KAAKg9G,qBACtBj4F,EAAMk4F,QAAUj9G,KAAKk5C,mBAAmBj4C,IAAIjB,KAAKg9G,qBAAqB37G,OACtEu7G,EAAgBzgF,QAASpX,GAEzB/kB,KAAKk9G,mBAGE,gBAAgBj/D,EAAerX,EAAsBC,GAI5D,GAFA7mC,KAAKm9G,oBAEuB,MAAxBn9G,KAAK28G,gBACT,CACC38G,KAAKg9G,qBAAuB/+D,EAC5B,EAAA9yC,KAAKnL,KAAK28G,iBAAiBzgG,KAAK,KAChC,EAAA/Q,KAAKnL,KAAK28G,iBAAiBnkF,OAAO,CAAEzR,KAAM6f,EAAchgB,IAAKigB,IAE7D,IAAI6T,EAAS,EAAAvvC,KAAKnL,KAAK28G,iBAAiB5mG,IAAI,WAAa,EACrD4kC,EAAa,EAAAxvC,KAAK,8DAAgEnL,KAAKqL,UAAU8K,GAAK,oEAAsEukC,EAAS,aAAapkC,eAAetW,KAAKsC,aAAa,GAEvO,EAAA6I,KAAKwvC,GAAY/X,MAAOtoB,GAAWta,KAAKk9G,oBACxC,EAAA/xG,KAAKwvC,GAAYx+B,GAAG,cAAgB7B,IAEnCA,EAAE0e,kBACK,KAKF,mBAEqB,MAAxBh5B,KAAK28G,kBAER,EAAAxxG,KAAKnL,KAAKsC,aAAawZ,KAAK,+BAA+B+iB,YAAY,SACvE,EAAA1zB,KAAKnL,KAAKsC,aAAawZ,KAAK,6BAA6BqkC,SAAS9lC,SAElEra,KAAKg9G,qBAAuB,KAC5B,EAAA7xG,KAAKnL,KAAK28G,iBAAiBtiG,SAC1Bra,KAAK28G,gBAA0B,KAChC,EAAAxxG,KAAK,yBAA2BnL,KAAKqL,UAAU8K,IAAIkE,UAMrD,UAAU4jC,EAAe+O,GAA4C,GAEpE,IAAI3qD,EAAUrC,KAAK+sC,aACfkvB,EAAahe,EAAS57C,EAAQ2pD,mBAE9BqZ,EAAiBrlE,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7yB,EAAQ2pD,oBAAuBiQ,GAAY,GAC5FqJ,EAAsBtlE,KAAK69F,aAAa9oE,QAAQswC,GACpD,GAAsB,MAAlBA,EAGH,GADArlE,KAAK69F,aAAav4B,GAAuBrnB,EAClB,kBAAZ,GAEK,IAAX+O,GACHhtD,KAAK4yD,cAEF,GAAI5F,EAAOowD,SAChB,CACC,IAAInkE,EAAKj5C,KAAKk5C,mBAAmBj4C,IAAIg7D,GACrC,EAAA9wD,KAAK8tC,GAAIn9B,KAAK,wBAAwB,GAAGgmB,UAAYmc,EAASlrC,MAKjE,WAAW6sC,EAAkBoN,GAAS,GAErC,IAAK,IAAI/O,KAAY2B,EACpB5/C,KAAKwlE,UAAUvnB,GAAU,GAEtB+O,GACHhtD,KAAK4yD,SAGP,QAAQl+B,EAAoBs4B,GAAS,GAEpC,IAAIrR,EAAa37C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASqzB,EAAKgnB,aAAa,GAC5E,GAAkB,MAAdC,EACJ,CACC,IAAIsB,EAAgBj9C,KAAKo8C,qBAAqBT,GAC9CsB,EAAczpB,KAAKkB,GACnB10B,KAAK69F,aAAarqE,KAAKkB,GAEvB,IAAIwnF,EAAgBl8G,KAAKk5C,mBAAmBj4C,IAAI06C,EAAWt6C,OAAQ,GACnErB,KAAKq9G,oBAAoBpgE,EAAei/D,EAAelvD,IAIzD,WAAWt4B,EAAoBs4B,GAAS,GAEvC,IAAIrR,EAAa37C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASqzB,EAAKgnB,aAAa,GAC5E,GAAkB,MAAdC,EACJ,CACC,IAAIsB,EAAgBj9C,KAAKo8C,qBAAqBT,GAC9CsB,EAAc9nB,cAAcD,GAAKA,EAAE7zB,OAASqzB,EAAKrzB,OACjD47C,EAAczpB,KAAKkB,GACnB10B,KAAKwlE,UAAU9wC,GAAM,GAErB,IAAIwnF,EAAgBl8G,KAAKk5C,mBAAmBj4C,IAAI06C,EAAWt6C,OAAQ,GACnErB,KAAKq9G,oBAAoBpgE,EAAei/D,EAAelvD,IAIjD,oBAAoB/P,EAA+Bi/D,EAA4BlvD,GAAS,GAEtF,EAAA7hD,KAAK+wG,GAAepgG,KAAK,MAC/BzB,SAEHra,KAAKi8C,UAAUgB,EAAei/D,GAC9B,EAAA/wG,KAAK+wG,GAAepgG,KAAK,MAAMI,OAE3B8wC,GACHhtD,KAAKgtD,SAGP,WAAW3rD,GAEVrB,KAAK69F,aAAa1oE,cAAcD,GAAKA,EAAE7zB,OAASA,GAKjD,eAAe+3B,GAOd,OALa,MAATA,IAECA,EAAO,EAAAjuB,KAAKnL,KAAK40D,aAAa14C,OAC7B,EAAA/Q,KAAKnL,KAAK40D,aAAa/hD,QAEtB,EAAA1H,KAAKnL,KAAK40D,aAAa/oD,GAAG,YAGlC,cAEC7L,KAAKq7E,gBAAe,GAGrB,cAECr7E,KAAKq7E,gBAAe,GAGrB,UAEC,OAAOr7E,KAAK40D,YAGb,YAAiCvzD,GAEhC,OAAO,EAAAoJ,eAAexJ,IAAO,YAAcI,EAAQ,IAAMrB,KAAKqL,UAAU8K,IAGzE,gBAAqC9U,GAEpCrB,KAAK80D,YAAezzD,GAAO6a,OAG5B,gBAAqC7a,GAEpCrB,KAAK80D,YAAezzD,GAAOwR,OAG5B,kBAAuCxR,GAEtCrB,KAAK80D,YAAezzD,GAAOg7B,SAG5B,mBAAwCh7B,GAEvCrB,KAAK80D,YAAezzD,GAAOi7B,UAG5B,kBAAkBj7B,GAEjB,IAAIqzB,EAAO10B,KAAK80D,YAAYzzD,GAC5B,EAAA8J,KAAKupB,EAAKpyB,aAAa+X,SAGxB,eAAey6C,GAEa,MAAvBA,EAAY14B,UAAiB04B,EAAY14B,SAAU,GAC/B,MAApB04B,EAAY9rD,OAAc8rD,EAAY9rD,KAAO,EAAA4I,wBAAwBkkD,QAGzE,IAAI/iD,EAAO,GACPiI,OAAmC0C,EACnC+hD,EAAc,GACdx1B,GAAU,EACVpzB,GAAW,EACQ,MAAnBi+C,EAAY/+C,MAAa++C,EAAY/+C,IAAM,IACf,MAA5B++C,EAAYh5B,eAAsBg5B,EAAYh5B,aAAe,IACjE,IAAIy/C,EAAyC,MAArBzmB,EAAYzzD,MAAuC,MAApByzD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAKqH,QAAQ,gBAAiB,IAAIA,QAAQ,SAAU,IAAM,UAAa06C,EAAYzzD,MAGlL,OAAQyzD,EAAY9rD,MAEnB,KAAK,EAAA4I,wBAAwBkkD,OAE3B/iD,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,GACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,UAAO2C,EAC5D+hD,EAAc,YAAc8b,EAC5B1kE,GAAW,EAEZ,MACD,KAAK,EAAAjF,wBAAwBnM,YAE3BsN,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,GACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,UAAO2C,EAC5D7G,GAAW,EAEZ,MACD,KAAK,EAAAjF,wBAAwB3L,OAC7B,KAAK,EAAA2L,wBAAwB7O,YAC7B,KAAK,EAAA6O,wBAAwB7N,SAC7B,KAAK,EAAA6N,wBAAwBzM,SAC7B,KAAK,EAAAyM,wBAAwBvN,WAC7B,KAAK,EAAAuN,wBAAwBjP,MAC7B,KAAK,EAAAiP,wBAAwB3O,QAE3B4T,GAAW,EAEZ,MACD,KAAK,EAAAjF,wBAAwBszC,MAE3BnyC,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,QACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,EAAArO,iBAAiB8uE,UAC7E/b,EAAoC,MAArB3K,EAAYzzD,MAAiB,YAAcyzD,EAAYzzD,MAAQ,iBAC9EwV,GAAW,EACXi+C,EAAY1R,gBAAkB,UAC9B0R,EAAY3R,UAAY,OAEzB,MACD,KAAK,EAAAvxC,wBAAwB3N,UAE3Bw7D,EAAoC,MAArB3K,EAAYzzD,MAAiB,YAAcyzD,EAAYzzD,MAAQ,qBAC9E4oC,GAAU,EACVpzB,GAAW,EAEZ,MACD,KAAK,EAAAjF,wBAAwB2mD,OAE3BxlD,EAA4B,MAApB+hD,EAAY/hD,KAAgB+hD,EAAY/hD,KAAO,WACvDiI,EAAiC,MAApB85C,EAAY/5C,KAAgB+5C,EAAY/5C,KAAO,EAAArO,iBAAiB+uE,QAC7Ehc,EAAoC,MAArB3K,EAAYzzD,MAAiB,YAAcyzD,EAAYzzD,MAAQ,kBAC9EwV,GAAW,EAQd,GAAIA,EAGH,EAAAjU,aACC,CACCmY,KAAMC,EACNw4B,SAAUshB,EAAYthB,SACtBnX,OAAQ4N,EACRl3B,KAAMA,EACNipB,cAAe,CAAE2e,WAAYma,EAAY1R,gBAAiBD,UAAW2R,EAAY3R,WACjF/mB,QAAS04B,EAAY14B,QACrBN,aAAcg5B,EAAYh5B,aAC1B/lB,IAAK++C,EAAY/+C,IACjBxU,MAA+B,IAAxBuzD,EAAY4mB,QAAoB,EAAAnuE,eAAe2tB,aAAUxd,EAChE6e,eAAgB,mCAAoE,MAA9Bu4B,EAAYv4B,eAA0Bu4B,EAAYv4B,eAAiB,IACzHrmB,OAAS4+C,EAAY9rD,MAAQ,EAAA4I,wBAAwB3N,UAAa,qBAAuB,IAAM,0BAA4Bw7D,EAC3H9b,cAAemR,EAAYlR,MAC3BznB,QAAU7hB,IAGT,IAAIu/D,EAAoB,IAAI,EAAA/1D,0BAC5B+1D,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEvF,EAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE7C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAItC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAGrC75E,KAAK40D,YAAa,KAAM6K,EAAc,IAAMz/D,KAAKqL,UAAU8K,QAIhE,CAEC,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwBnM,YAChD,CACC,IAAIpE,EAA8B,MAArByzD,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,cACrC,MAArByzD,EAAYzzD,OAAqC,MAApByzD,EAAY/hD,OAC5C1R,EAAQyzD,EAAY/hD,KAAKqH,QAAQ,gBAAiB,IAAIA,QAAQ,SAAU,IAAM,eAE/E,IAAI2hE,EAAY,YAAc16E,EAC9B,EAAAmE,kBACC,CACCuN,KAAMA,EACNgI,KAAMC,EACNw4B,SAAUshB,EAAYthB,SACtB8D,MAAOwd,EAAYgnB,iBACnB1/C,QAAS04B,EAAY14B,QACrBN,aAAcg5B,EAAYh5B,aAAe,wBACzC/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,mCAAoE,MAA9Bu4B,EAAYv4B,eAA0Bu4B,EAAYv4B,eAAiB,IACzHrmB,MAAO,8CAAgD6lE,EACvD5/C,QAAiC,MAAvB24B,EAAY34B,aAAmBze,EAAapD,IAGrD,IAAIu/D,EAAoB,IAAI,EAAA/1D,0BAC5B+1D,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEvF,EAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE7C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAItC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAGrC75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,IAK9D,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwB7O,YAChD,CACC,IAAIg5E,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,eACjF,EAAAyB,kBACC,CACCgkD,cAAe,EAAAt5C,kBAAkBu5C,OACjCzP,MAAOwd,EAAYknB,iBACnB5/C,QAAS04B,EAAY14B,QACrBN,aAAc,cAAgBg5B,EAAYh5B,aAC1C/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,kCAAoCu4B,EAAYv4B,eAChErmB,MAAO,8CAAgD6lE,EACvDxgE,MAAO,OACPytC,SAAW1uC,IAGV,IAAIu/D,EAAoB,IAAI,EAAA/1D,0BAC5B+1D,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEvF,EAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE7C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAItC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAGrC75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,IAK9D,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwB7N,SAChD,CACC,IAAIg4E,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,YACjF,EAAAyC,eACC,CACCiP,KAAM+hD,EAAY/hD,KAClBqpB,QAAS04B,EAAY14B,QACrBN,aAAc,aAAeg5B,EAAYh5B,aACzC/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,kCAAoCu4B,EAAYv4B,eAChErmB,MAAO,2CAA6C6lE,EACpDlhC,QAAUvgC,IAGT,IAAIu/D,EAAoB,IAAI,EAAA/1D,0BAC5B+1D,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEvF,EAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE7C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAItC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAGrC75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,IAK9D,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwBjP,MAChD,CACC,IAAIo5E,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,SACjF,EAAAe,YACC,CACC2Q,KAAM+hD,EAAY/hD,KAClBqpB,QAAS04B,EAAY14B,QACrBN,aAAcg5B,EAAYh5B,aAC1B/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,kCAAoCu4B,EAAYv4B,eAChErmB,MAAO,wCAA0C6lE,EACjD//C,cACA,CACC2e,WAAYma,EAAY1R,gBACxBD,UAAW2R,EAAY3R,WAExBhnB,QAAU7hB,IAGT,IAAIu/D,EAAoB,IAAI,EAAA/1D,0BAC5B+1D,EAAkB/uC,OAASxwB,EAAEwwB,OAC7B+uC,EAAkB7wE,KAAO8rD,EAAY9rD,KAIE,MAAnC8rD,EAAYtP,qBAA+BsP,EAAYtP,oBAAoBp6C,OAAS,EAEvF,EAAAqI,QAAQqhD,EAAYtP,qBAAqB3nC,KAAK,KAE7C7d,KAAK47E,mBAAmB9mB,EAAa+kB,KAItC75E,KAAK47E,mBAAmB9mB,EAAa+kB,KAGrC75E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,IAK9D,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwBzM,SAChD,CACC,IAAI42E,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,YAE9C,MAA/ByzD,EAAYmnB,kBAAyBnnB,EAAYmnB,gBAAkB,IAAI,EAAA52E,iBAC3EyvD,EAAYmnB,gBAAgB1/C,eAAiB,kCAAoCu4B,EAAYmnB,gBAAgB1/C,eAC7Gu4B,EAAYmnB,gBAAgB/lE,MAAQ,2CAA6C6lE,EAAY,IAAMjnB,EAAYmnB,gBAAgB/lE,MACpF,MAAvC4+C,EAAYmnB,gBAAgB7/C,UAAiB04B,EAAYmnB,gBAAgB7/C,QAAU04B,EAAY14B,SAC5D,MAAnC04B,EAAYmnB,gBAAgBlmE,MAAa++C,EAAYmnB,gBAAgBlmE,IAAM++C,EAAY/+C,KAC3C,MAA5C++C,EAAYmnB,gBAAgBngD,eAAsBg5B,EAAYmnB,gBAAgBngD,aAAeg5B,EAAYh5B,aAAe,KAC5Hg5B,EAAYmnB,gBAAgBngD,cAAgB,uBAE5C,EAAA52B,eAAe4vD,EAAYmnB,gBAAiBj8E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,IAKtG,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwBvN,WAChD,CACC,IAAI03E,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,cAE5C,MAAjCyzD,EAAYonB,oBAA2BpnB,EAAYonB,kBAAoB,IAAI,EAAA33E,mBAC/EuwD,EAAYonB,kBAAkB3/C,eAAiB,kCAAoCu4B,EAAYonB,kBAAkB3/C,eACjHu4B,EAAYonB,kBAAkBhmE,MAAQ,6CAA+C6lE,EAAY,IAAMjnB,EAAYonB,kBAAkBhmE,MACxF,MAAzC4+C,EAAYonB,kBAAkB9/C,UAAiB04B,EAAYonB,kBAAkB9/C,QAAU04B,EAAY14B,SAC9D,MAArC04B,EAAYonB,kBAAkBnmE,MAAa++C,EAAYonB,kBAAkBnmE,IAAM++C,EAAY/+C,KAC7C,MAA9C++C,EAAYonB,kBAAkBpgD,eAAsBg5B,EAAYonB,kBAAkBpgD,aAAeg5B,EAAYh5B,cACjHg5B,EAAYonB,kBAAkBpgD,cAAgB,cAAgBg5B,EAAYonB,kBAAkBpgD,aAE5F,EAAA13B,iBAAiB0wD,EAAYonB,kBAAmBl8E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,IAK1G,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwB3O,QAChD,CACC,IAAI84E,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,WAE/C,MAA9ByzD,EAAYqnB,iBAAwBrnB,EAAYqnB,eAAiB,IAAI,EAAAh5E,gBACzE2xD,EAAYqnB,eAAe5/C,eAAiB,kCAAoCu4B,EAAYqnB,eAAe5/C,eAC3Gu4B,EAAYqnB,eAAejmE,MAAQ,0CAA4C6lE,EAAY,IAAMjnB,EAAYqnB,eAAejmE,MAClF,MAAtC4+C,EAAYqnB,eAAe//C,UAAiB04B,EAAYqnB,eAAe//C,QAAU04B,EAAY14B,SAC3D,MAAlC04B,EAAYqnB,eAAepmE,MAAa++C,EAAYqnB,eAAepmE,IAAM++C,EAAY/+C,KAC1C,MAA3C++C,EAAYqnB,eAAergD,eAAsBg5B,EAAYqnB,eAAergD,aAAeg5B,EAAYh5B,cAC3Gg5B,EAAYqnB,eAAergD,cAAgB,cAAgBg5B,EAAYqnB,eAAergD,aAEtF,EAAA94B,cAAc8xD,EAAYqnB,eAAgBn8E,KAAK40D,YAAa,KAAMmnB,EAAY,IAAM/7E,KAAKqL,UAAU8K,SAK/F,GAAI2+C,EAAY9rD,MAAQ,EAAA4I,wBAAwB3L,OACrD,CACmC,MAA9B6uD,EAAYsnB,iBAEftnB,EAAYsnB,eAAiB,IAAI,EAAAx4D,8BACjCkxC,EAAYsnB,eAAetP,SAAW,GACtChY,EAAYsnB,eAAerP,QAAU,IAGI,MAAtCjY,EAAYsnB,eAAethC,UAAiBga,EAAYsnB,eAAethC,SAAU,GACrF,IAAIihC,EAAY,aAAqC,MAArBjnB,EAAYzzD,MAAiByzD,EAAYzzD,MAAQ,UACjF,EAAA8J,KAAKnL,KAAK40D,aAAaxoD,aAAa,YAAc2vE,EAAY,IAAM/7E,KAAKqL,UAAU8K,GAAK,iDACxF,EAAAnQ,aACC,CACC8mE,SAAUhY,EAAYsnB,eAAgBtP,SACtCC,QAASjY,EAAYsnB,eAAgBrP,QACrCjyB,QAASga,EAAYsnB,eAAethC,QACpChf,aAAc,cAAgBg5B,EAAYh5B,aAC1C/lB,IAAK++C,EAAY/+C,IACjBwmB,eAAgB,kCAAoCu4B,EAAYv4B,eAChEH,QAAS04B,EAAY14B,QACrB4wC,SAAW1yD,IAEV,GAA2C,MAAvCw6C,EAAYsnB,eAAgBvhC,QAChC,CACC,IAAIyhC,EAAmB,IAAI,EAAAz4D,2BAC3By4D,EAAiBxhC,QAAUxgC,EAAEwgC,QAC7Bga,EAAYsnB,eAAgBvhC,QAAQyhC,MAGpC,KAAM,KAAMP,EAAY,IAAM/7E,KAAKqL,UAAU8K,MAM5C,mBAAmB2+C,EAAkC+kB,GAE5D,OAAQ/kB,EAAY9rD,MAEnB,KAAK,EAAA4I,wBAAwB2mD,OAE3Bv4D,KAAKgtD,SAEN,MACD,KAAK,EAAAp7C,wBAAwBszC,MAE3BllD,KAAKk6E,cAKmB,MAAvBplB,EAAY34B,SACf24B,EAAY34B,QAAQ09C,GAKd,aAAav5C,EAAgC+1C,EAAsCC,GAE1F,IAAIC,EAAY,GAwBhB,GAvBAA,EAAKC,QAAUl2C,EAAQC,QAEnB81C,GAAewjC,EAAwBthD,QAAU8d,GAAewjC,EAAwB30D,OAEvFmxB,GAAewjC,EAAwBthD,QAEkB,MAAvDj4B,EAAkCkiB,oBACrCliB,EAAkCkiB,kBAAoB,SAMrDliB,EAAQc,OAAQl2B,WAAW,WAE3Bo1B,EAAQc,OAAQl2B,WAAW,MAC9Bo1B,EAAQc,OAAQzM,UAAU,GAE3B2L,EAAQc,OAAS,QAAUd,EAAQc,QAKL,MAA3Bd,EAAQg5B,gBACZ,CACC,IAAI5W,EAAiB5hD,OAAOogC,oBAAoBZ,EAAQg5B,iBACxD,IAAK,IAAIn4B,KAASuhB,EACjB6zB,EAAKp1C,GAASb,EAAQg5B,gBAAgBn4B,GAGxC,GAA0B,MAAtBb,EAAQmiB,WACZ,CACC,IAAIA,EAAaniB,EAAQmiB,aACrBC,EAAiB5hD,OAAOogC,oBAAoBuhB,GAChD,IAAK,IAAIthB,KAASuhB,EACjB6zB,EAAKp1C,GAASshB,EAAWthB,GAI3B,IAAIk2C,EAAQn4C,KAAKE,UAAUm3C,GAEY,kBAA3Bj2C,EAAsB,kBAEF,IAA3BA,EAAQ24B,eAA0B34B,EAAQ24B,oBAAiBv7C,EAC1D4iB,EAAQ24B,eAAiBjtD,SAASC,MAExC,EAAAsR,WAAkD,MAAtC+iB,EAAgBs5B,mBAA8Bt5B,EAAgBs5B,mBAAqBt5B,EAAQ24B,gBACtG34B,EAAgBs5B,wBAAqBl8C,EAEtCnE,EAAEonB,KAAK,CACN33B,KAAM,OACNyf,YAAa,mBACb4X,KAAMg3C,EACNj2C,OAAQ,OACRC,aAAa,EACbi2C,SAAU,OACV3yD,IAAK2b,EAAQc,OACbE,QAAS,CAACC,EAAeg2C,EAAoBC,KAI5C,GAFA,EAAA75D,aAEgB,MAAZ4jB,IAAqBA,EAASjuB,SAAWiuB,EAASD,SACtD,CAEC,IAAIm2C,EAAiBn3C,EAASo3C,2BAC9BD,EAAoC,MAAlBA,GAAkCA,EAErB,iBAApB,IACVA,EAAiBA,GAEa,iBAApB,GACV,EAAA3kE,OAAO2kE,GAIR,IAAIE,EAAkBr3C,EAASs3C,oBAC/BD,EAAsC,MAAnBA,GAAmCA,EAElDA,GACH33E,KAAKgtD,SAGyC,MAA3C1sB,EAASg4C,gCACZh4C,EAASg4C,+BAA+B/2C,GAGrC80C,GAAewjC,EAAwBthD,QAA6E,MAAnEh3B,EAAUjB,EAAkCkiB,oBAChGxiD,KAAK69F,WAAWt8D,EAAUjB,EAAkCkiB,oBAGpC,MAArBliB,EAASlkB,UACZkkB,EAASlkB,SAASmlB,GAEI,MAAnB+0C,GACHA,QAGF,CACC,IAAIqC,EAAap3C,EAASq3C,WAAar3C,EAASo3C,UAC5CE,EAAiBF,EAAUG,MAAQH,EAAUv0C,KACjD,GAAgB,MAAZ7C,GAAqC,OAAjBs3C,EAGvB,YADApzD,SAASrL,QAAQ,iBAKlB,IAAI2+D,EAAez4C,EAAS04C,yBAC5BD,EAAgC,MAAhBA,GAA+BA,EAE3B,GAAhBA,GAAiD,iBAAlB,GAClC,EAAAjmE,OAAiC,iBAAlB,EAA8BimE,EAA8B,MAAZx3C,EAAqBA,EAAS03C,kBAAqB13C,EAAS23C,iBAAoB,0BAIhJ,IAAIC,EAAmB74C,EAAS84C,qBAChCD,EAAwC,MAApBA,GAAoCA,EAEpDA,GACHn5E,KAAKgtD,SAGN,IAAIqsB,EAAwB/4C,EAAS+4C,sBACrCA,EAAkD,MAAzBA,GAAyCA,EAEpC,MAA1B/4C,EAASF,eACZE,EAASF,cAA2B,MAAZmB,EAAqBA,EAAS03C,kBAAqB13C,EAAS23C,iBAAoB,4BAG3Gp0D,MAAO,CAACyc,EAAqBg2C,EAAoB+B,KAEhD,EAAA37D,aAGA,IAAIo7D,EAAez4C,EAAS04C,yBAC5BD,EAAgC,MAAhBA,GAA+BA,EAE/C,IAAI9zD,EAAU,yBAUd,GARCA,EAD4B,MAAzBsc,EAASg4C,aACqC,MAAtCh4C,EAASg4C,aAAaR,aAAwBx3C,EAASg4C,aAAaR,cAAiBx3C,EAASg4C,aAAaC,SAAWj4C,EAASg4C,aAAat0D,SAAW,UAAYsc,EAASg4C,aAAaN,kBAAoB13C,EAASg4C,aAAaL,kBAC7M,MAAzB33C,EAASk4C,cAAiD,IAAzBl4C,EAASk4C,aACxCl4C,EAASk4C,aACY,MAAvBl4C,EAASm4C,YAA6C,IAAvBn4C,EAASm4C,WACtCn4C,EAASm4C,WAET,8BAEY,KAAnBn4C,EAASo4C,OACZ10D,EAAU,uBACN,GAAuB,KAAnBsc,EAASo4C,OACjB10D,EAAU,2BACN,GAAuB,KAAnBsc,EAASo4C,OAGjB,YADAl0D,SAASrL,QAAQ,iBAIlB,IAAIw/D,EAAe,yBACC,GAAhBb,GAAiD,iBAAlB,IAElCa,EAAgC,GAAhBb,EAAwB9zD,EAAU8zD,EAClD,EAAAjmE,OAAO8mE,IAKR,IAAIT,EAAmB74C,EAAS84C,qBAChCD,EAAwC,MAApBA,GAAoCA,EAEpDA,GACHn5E,KAAKgtD,SAGN,IAAIqsB,EAAwB/4C,EAAS+4C,sBACrCA,EAAkD,MAAzBA,GAAyCA,EAEpC,MAA1B/4C,EAASF,eACZE,EAASF,cAAcw5C,MAO3B,OAAOz5C,GAEN,IAAI0Q,EAAiB7wC,KAAK+sC,aAAauwE,cACvC,GAAsB,MAAlBzsE,EACJ,CACC,IACIxvC,EADUrB,KAAK+sC,aACEthC,YAAwC,MAA1BzL,KAAK69C,kBAA6B79C,KAAK69C,kBAAoB79C,KAAKqB,QAE/F6/C,EAAWlhD,KAAKkhD,SAAS7/C,GACzBs6C,EAAa,KACbuF,IACHvF,EAAa37C,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,IAE9D,IAAIyvC,EAAc,IAAIysE,EACtBzsE,EAAYhG,OAAS9qC,KACrB8wC,EAAYzvC,MAAQA,EACpByvC,EAAY8N,eAAiB,EAAa5+C,KAAKohD,qBAAqBzF,GAAe,GACnF7K,EAAY0P,aAAexgD,KAAKygD,kBAChC3P,EAAYgK,QAAU96C,KAAKu9C,WAC3BzM,EAAYoQ,SAAWA,EACvBrQ,EAAgBC,GAGD,MAAZ3Q,GACHA,IAIF,aAEC,OAAOngC,KAAKqC,WAx1Ed,aA+1EA,MAAMy4G,GAON,MAAM0C,UAAsB,EAAA3+F,iBAU5B,MAAM0+F,UAA4BC,GAKlC,MAAMnB,UAA8BmB,GAMpC,MAAaT,UAAsC,EAAAl+F,iBAAnD,kCASA,MAAMu8F,UAAiC,EAAAv8F,iBAQvC,MAAMo8F,UAA0B,EAAAp8F,iBAQhC,MAAM4+F,UAA0B,EAAA5+F,iBAQhC,MAAMi9F,UAA+B2B,GACrC,MAAMxB,UAA8BwB,GACpC,MAAMtB,UAA6BsB,GAEnC,MAAMvE,GAaN,MAAMl+B,GAgBN,MAAMxhB,GAON,MAAakkD,GAAb,kCAQA,uCAA4CA,IAK5C,MAAalC,UAA6BkC,GAA1C,yBA6BA,IAAK7D,GAAL,SAAKA,GAEJ,uBACA,qBAHD,CAAKA,MAAuB,M,qNC9hF5B,aACA,OACA,OAWA,MAAa8D,UAAyB,EAAA5yG,kBAAtC,qBAwCA,MAAalD,UAAkB,EAAAqhC,UAqB9B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIs7G,GAEU,MAArBt7G,EAAQu7G,YAAmBv7G,EAAQu7G,UAAY,IAAIv6F,MAAK,IAAIA,MAAOsG,eAAe,IAAItG,MAAOwG,YAAY,IAAIxG,MAAO0G,UAAW,EAAG,IAC/G,MAAnB1nB,EAAQw7G,UAAiBx7G,EAAQw7G,QAAU,IAAIx6F,MAAK,IAAIA,MAAOsG,eAAe,IAAItG,MAAOwG,YAAY,IAAIxG,MAAO0G,UAAW,GAAI,IACjG,MAA9B1nB,EAAQy7G,qBAA4Bz7G,EAAQy7G,mBAAqB,IAAIC,GACpD,MAAjB17G,EAAQ27G,QAAe37G,EAAQ27G,MAAQ,CAAC,CAAEh1G,KAAM,EAAAkI,kBAAkBq4B,IAAK8F,UAAU,KAC7C,MAApChtC,EAAQ47G,2BAAkC57G,EAAQ47G,yBAA2B,IACnD,MAA1B57G,EAAQouC,iBAAwBpuC,EAAQouC,eAAiB,EAAAx/B,cAAcitG,QAC5C,MAA3B77G,EAAQ87G,kBAAyB97G,EAAQ87G,gBAAkB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAC1E,MAA5B97G,EAAQ+7G,mBAA0B/7G,EAAQ+7G,iBAAmB,GACxC,MAArB/7G,EAAQg8G,YAAmBh8G,EAAQg8G,WAAY,GAC/B,MAAhBh8G,EAAQgnB,OAAchnB,EAAQgnB,KAAO,IAAIhG,MACnB,MAAtBhhB,EAAQi8G,aAAoBj8G,EAAQi8G,YAAa,GAC3B,MAAtBj8G,EAAQk8G,aAAoBl8G,EAAQk8G,YAAa,GAC1B,MAAvBl8G,EAAQk8F,cAAqBl8F,EAAQk8F,aAAc,GAC/B,MAApBl8F,EAAQy7E,WAAkBz7E,EAAQy7E,SAAW,IAAI0gC,GACxB,MAAzBn8G,EAAQy7E,SAAS7tC,OAAc5tC,EAAQy7E,SAAS7tC,MAAO,GAC5B,MAA3B5tC,EAAQy7E,SAASyT,SAAgBlvF,EAAQy7E,SAASyT,QAAS,GAG/DlvF,EAAQkZ,MAAQ,OAChB0N,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBmF,WAExC,EAAAsD,KAAKnL,KAAKsC,aAAayT,IAAI,CAAE,iBAAkB,WAC/C/V,KAAKy+G,iBAAoBp8G,EAAkB,WAAI,GAAK,EACpDrC,KAAK0+G,qBAAkBhhG,EAEE,MAArBrb,EAAQs8G,YACXt8G,EAAQs8G,UAAY,CAAC,CAAEt9G,MAAO,GAAI0R,KAAM,MAGzC,IAAI6rG,EAAev8G,EAAQ27G,MAAO1oF,OAAOJ,IAAoB,IAAfA,EAAEma,UAAmB,GAC/C,MAAhBuvE,IACHA,EAAe,CAAE51G,KAAM,EAAAkI,kBAAkBq4B,IAAK8F,UAAU,IAEzDrvC,KAAKilG,YAAc2Z,EAAa51G,KAIhChJ,KAAK6+G,cACL7+G,KAAK8+G,gBACL9+G,KAAK++G,uBAIqB,MAAtB18G,EAAQw7F,YACX79F,KAAK69F,WAAWx7F,EAAQw7F,YAEK,MAA1Bx7F,EAAQ28G,gBACXh/G,KAAKg/G,eAAe38G,EAAQ28G,gBAIH,MAAtB38G,EAAQ48G,YACXj/G,KAAKi/G,WAAW58G,EAAQ48G,YAGzB,EAAA9zG,KAAKqZ,QAAQ+sE,OAAO,KAEnBvxF,KAAK8+G,gBACL9+G,KAAKgtD,SAEuB,MAAxBhtD,KAAK0+G,iBACR1+G,KAAKi/G,WAAWj/G,KAAK0+G,mBAOxB,cAEC,IAAIr8G,EAAUrC,KAAK+sC,aACfmyE,EAAa,EAAAvpG,IAAI3V,KAAKsC,YAAa,CAAE4T,MAAO,0BAA2B,GAEtE7T,EAAQk8F,cACZ2gB,EAAWzjG,MAAMC,SAAW,kBAE7B,IAAImK,EAAU,EACd,EAAAjjB,aAAa,CACZmY,KAAM,EAAArO,iBAAiBw6C,UACvB3rC,MAAO,GACP4gB,QAAU7hB,IAET,IAAI+O,EAAOrpB,KAAKqpB,OAAQyG,UAAW9vB,KAAK0vF,QAAU,EAAAx+E,kBAAkBq4B,KAAQ,GAAK,GACjFvpC,KAAKm/G,kBAAkB99G,MAAMgoB,GAAM,GAEnCiwB,aAAazzB,GACbA,EAAUrB,OAAOwa,WAAW,KAE3Bh/B,KAAKo/G,sBAAwB,EAAAjuG,4BAA4BkuG,SACzDr/G,KAAKqpB,KAAKA,OAGV61F,GAEH,EAAAt8G,aAAa,CACZmY,KAAM,EAAArO,iBAAiBqvC,WACvBxgC,MAAO,GACPugB,aAAc,oBACdK,QAAU7hB,IAET,IAAI+O,EAAOrpB,KAAKqpB,OAAQyG,UAAW9vB,KAAK0vF,QAAU,EAAAx+E,kBAAkBq4B,IAAO,EAAI,GAC/EvpC,KAAKm/G,kBAAkB99G,MAAMgoB,GAAM,GAEnCiwB,aAAazzB,GACbA,EAAUrB,OAAOwa,WAAW,KAE3Bh/B,KAAKo/G,sBAAwB,EAAAjuG,4BAA4BmuG,SACzDt/G,KAAKqpB,KAAKA,OAGV61F,GAEH,EAAAt8G,aAAa,CACZmQ,KAAM,OACN+oB,aAAc,oBACdK,QAAU7hB,IAETta,KAAKo/G,sBAAwB,EAAAjuG,4BAA4BouG,MACzD,IAAI/wE,EAAQ,IAAInrB,KAChBmrB,EAAMle,SAAS,EAAG,EAAG,GACrBtwB,KAAKqpB,KAAKmlB,KAET0wE,GAEHl/G,KAAKm/G,kBAAoB,EAAA/6G,iBAAiB,CACzCuqB,OAAQ,EAAArc,eAAe6b,SACvB9sB,MAAOgB,EAAQgnB,KACf9N,MAAO,IACPugB,aAAc,oBACd6P,eAAiBrxB,IAED,MAAXA,EAAEjZ,OACLiZ,EAAE0e,kBAEJsU,cAAgBhzB,IAEfta,KAAKo/G,sBAAwB,EAAAjuG,4BAA4BquG,WACzDx/G,KAAKqpB,KAAKrpB,KAAKm/G,kBAAkB99G,WAEhC69G,GAEHl/G,KAAKy/G,wBAA0B,EAAAz5G,aAAa,CAC3Cg1B,cAAe,CAAEgB,cAAe,CAAEmnB,UAAW,SAC7C2pB,SAAU,UACVC,QAAS,OACTjxC,aAAc,yGACdS,eAAgB,uCAChBH,QAASp8B,KAAK0vF,QAAU,EAAAx+E,kBAAkBwuG,KAC1C1yC,SAAW1yD,GAAMkK,OAAOwa,WAAW,IAAMh/B,KAAK2/G,gBAAgBrlG,EAAEwgC,SAAU,KACxEokE,GAEHl/G,KAAK4/G,WAAa,EAAAh9G,aAAa,CAC9BmY,KAAM,EAAArO,iBAAiBmzG,OACvB/jF,aAAc,kCACdK,QAAU7hB,IAET,GAAwB,MAApBjY,EAAQqoG,SACZ,CACC,IAAIC,EAAc,IAAImV,EAMtB,GALAnV,EAAY7/D,OAAS9qC,KACrB2qG,EAAYoV,aAAe//G,KAAK4/G,WAChCjV,EAAYqV,eAAiBhgH,KAAK8pG,aAClCznG,EAAQqoG,SAASC,GAEbA,EAAY5mF,qBACf,OAGF,EAAA/Y,eAAei1G,gBAAgBjgH,KAAKsC,YAAa,IAAM,EAAAwQ,OAAO,qCAAsC,CAAE9J,KAAM,EAAAoI,iBAAiBxF,SAC7H5L,KAAK8pG,aAAa5tF,OAClBlc,KAAK4/G,WAAW/sG,OAChB2R,OAAOwa,WAAW,IAAMh/B,KAAKkgH,cAAe,OAE3ChB,GAEHl/G,KAAK8pG,aAAe,EAAAlnG,aAAa,CAChCmY,KAAM,EAAArO,iBAAiByzG,SACvBrkF,aAAc,kCACdM,SAAS,EACTD,QAAU7hB,IAET,GAA0B,MAAtBjY,EAAQkoG,WACZ,CACC,IAAI6V,EAAgB,IAAIC,EAMxB,GALAD,EAAct1E,OAAS9qC,KACvBogH,EAAcL,aAAe//G,KAAK4/G,WAClCQ,EAAcJ,eAAiBhgH,KAAK8pG,aACpCznG,EAAQkoG,WAAW6V,GAEfA,EAAcr8F,qBACjB,OAGF,EAAA/Y,eAAes1G,iBACftgH,KAAK8pG,aAAaj3F,OAClB7S,KAAK4/G,WAAW1jG,OAChBsI,OAAOwa,WAAW,IAAMh/B,KAAKkgH,cAAe,OAE3ChB,GAEH,IAAIqB,EAA+B,GAC/BC,EAAYn+G,EAAQ27G,MAAOphG,IAAIsY,GAAKA,EAAElsB,MACtCw3G,EAAUzkG,SAAS,EAAA7K,kBAAkBq4B,MACxCg3E,EAAU/sF,KAAK,CAAEzgB,KAAM,SAAU1R,MAAO,EAAA6P,kBAAkBq4B,IAAK8F,SAAWrvC,KAAK0vF,QAAU,EAAAx+E,kBAAkBq4B,MACxGi3E,EAAUzkG,SAAS,EAAA7K,kBAAkBwuG,OACxCa,EAAU/sF,KAAK,CAAEzgB,KAAM,YAAa1R,MAAO,EAAA6P,kBAAkBwuG,KAAMrwE,SAAWrvC,KAAK0vF,QAAU,EAAAx+E,kBAAkBwuG,OAC5Gc,EAAUzkG,SAAS,EAAA7K,kBAAkBuvG,YACxCF,EAAU/sF,KAAK,CAAEzgB,KAAM,OAAQ1R,MAAO,EAAA6P,kBAAkBuvG,UAAWpxE,SAAWrvC,KAAK0vF,QAAU,EAAAx+E,kBAAkBuvG,YAEhHzgH,KAAK0gH,aAAe,EAAA59G,kBAAkB,CACrCw0C,MAAOipE,EACPzkF,aAAc,gBACdvgB,MAAO,OACPytC,SAAW1uC,IAEV,IAAIqmG,EAA0D,KAC9D,OAAQlvF,OAAOnX,EAAEjZ,QAEhB,KAAK,EAAA6P,kBAAkBq4B,IAAKo3E,EAA+Bt+G,EAAQy7G,mBAAoB8C,QAAS,MAChG,KAAK,EAAA1vG,kBAAkBwuG,KAAMiB,EAA+Bt+G,EAAQy7G,mBAAoB+C,SAAU,MAClG,KAAK,EAAA3vG,kBAAkBuvG,UAAWE,EAA+Bt+G,EAAQy7G,mBAAoBgD,cAG1D,MAAhCH,GAAwC3gH,KAAK2+G,YAAYvzG,OAASu1G,EAErE,EAAAltG,QAAQ,2FAA6FktG,EAA+B,iCAClI9iG,KAAK,IAAM7d,KAAK0vF,KAAKj+D,OAAOnX,EAAEjZ,QAC9B,IAAMiZ,EAAEwwB,OAAO/iB,OAAO,CAAC/nB,KAAK0vF,SAAS,IAGvC1vF,KAAK0vF,KAAKj+D,OAAOnX,EAAEjZ,UAGnB69G,GAGI,gBAEPl/G,KAAK+gH,aACL/gH,KAAKghH,cAEuB,MAAxBhhH,KAAK0+G,iBACR1+G,KAAKi/G,WAAWj/G,KAAK0+G,iBAEL,EAAAvzG,KAAKnL,KAAKihH,iBACZ9mF,iBACd,EAAAhvB,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyBA,KAAK,SAAS/F,IAAI,CAAE,MAAS,sBAElF,EAAA5K,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyBA,KAAK,SAAS/F,IAAI,CAAE,MAAS,SAE/E/V,KAAK0vF,QAAU,EAAAx+E,kBAAkBwuG,MACpC1/G,KAAKy/G,wBAAwBvjG,OAGvB,aAEP,IAAI7Z,EAAUrC,KAAK+sC,aACfg4D,EAAY,EAAA55F,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyB,GACpD,MAAbipF,IACHA,EAAY,EAAApvF,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,0BAErC7T,EAAQk8G,aACZxZ,EAAUtpF,MAAMC,SAAW,kBAE5B,EAAAvQ,KAAK45F,GAAWj6C,QAChB,IAAImlB,EAAkBjkE,SAASkkE,yBAE3B0f,EAAQ5jF,SAAS4b,cAAc,SAInC,OAHAgoE,EAAMn0E,MAAMC,SAAW,uDACvBu0D,EAAgBpoD,YAAY+nE,GAEpB5vF,KAAK0vF,QAEZ,KAAK,EAAAx+E,kBAAkBq4B,IACtB,CAEC,IAAI23E,EAAYl1G,SAAS4b,cAAc,MACvCgoE,EAAM/nE,YAAYq5F,GAElB,IAAIC,EAAan1G,SAAS4b,cAAc,MACxCu5F,EAAWviF,UAAY,wBACvBsiF,EAAUr5F,YAAYs5F,GACtBnhH,KAAKohH,oBAAoBD,GAEzB,IAAK,IAAIE,KAAYrhH,KAAK2+G,YAC1B,CACC,IAAI2C,EAAiC,MAAjBD,EAAStuG,KAAgBsuG,EAAStuG,KAAO,GAEzDuiD,EAAKtpD,SAAS4b,cAAc,MAChC0tC,EAAGr/C,MAAQqrG,EAAa3uF,cACxB2iC,EAAG12B,UAAY,yBACf02B,EAAG52B,aAAa,aAAc2iF,EAAShgH,OACvCi0D,EAAG52B,aAAa,eAAgB4iF,EAAalnG,QAAQ,IAAK,MAC1D8mG,EAAUr5F,YAAYytC,GAGtB,IAAIisD,EAAkBv1G,SAAS4b,cAAc,QAC7C25F,EAAgBz/E,UAAYw/E,EAAa3uF,cACzC2iC,EAAGztC,YAAY05F,GAIf,IAAIC,EAAgBx1G,SAAS4b,cAAc,OAC3C45F,EAAcxnG,UAAUpP,IAAI,4BAC5B0qD,EAAGztC,YAAY25F,GAEXxhH,KAAKyhH,sBACRD,EAAc/lG,MAAMC,SAAW,kBAEhC,IAAIgmG,EAAoB11G,SAAS4b,cAAc,QAC/C85F,EAAkB1nG,UAAUpP,IAAI,6BAChC42G,EAAc35F,YAAY65F,IAK5B,MACD,KAAK,EAAAxwG,kBAAkBwuG,KACvB,KAAK,EAAAxuG,kBAAkBuvG,UACtB,CAEC,IAAIkB,EAAgB3hH,KAAK0vF,QAAU,EAAAx+E,kBAAkBuvG,UAAyC,EAA5Bp+G,EAAQ+7G,iBAAwB/7G,EAAQ+7G,iBAE1G,GAAKp+G,KAAK2/G,kBA4FV,CAEC,IAAIiC,EAAU51G,SAAS4b,cAAc,MACrCgoE,EAAM/nE,YAAY+5F,GAElB,IAAIT,EAAan1G,SAAS4b,cAAc,MACxCu5F,EAAWviF,UAAY,wBACvBgjF,EAAQ/5F,YAAYs5F,GACpBnhH,KAAKohH,oBAAoBD,GAEzB,IAAI1wE,EAAiBptB,KAAK8J,0BAA0BntB,KAAKqpB,QACrDw4F,EAAa,EACjB,IAAK,IAAIzhH,EAAI,EAAGA,EAAIuhH,EAAcvhH,IAClC,CACCyhH,EAAczhH,EAAIiC,EAAQ+7G,kBAAqB,GAAKh+G,EAAI,EAAKyhH,GAAc,EAAIx/G,EAAQ+7G,kBAAqByD,EAC5G,IAAIC,EAAYrxE,EAAe3gB,UAAU+xF,GACrCE,EAAU1/G,EAAQ87G,gBAAiB2D,EAAU10F,UAC7C40F,EAAYF,EAAU/3F,UAEtBurC,EAAKtpD,SAAS4b,cAAc,MAChC0tC,EAAGr/C,MAAQ+rG,EAAY,IAAMD,EAC7BzsD,EAAG2sD,QAAUjiH,KAAK2+G,YAAYvzG,OAC9BkqD,EAAG12B,UAAY,qBACf02B,EAAG52B,aAAa,MAAOlV,OAAOw4F,IAC9B1sD,EAAG52B,aAAa,QAASlV,OAAOs4F,EAAUj4F,aAC1CyrC,EAAG52B,aAAa,OAAQlV,OAAOs4F,EAAUn4F,gBACzC2rC,EAAGxzB,UAAYkgF,EAAY,IAAMD,EACjCzsD,EAAGxzB,UAAYkgF,EAAY,IAAMD,EACjCH,EAAQ/5F,YAAYytC,GAEpBusD,IAGD,IAAIK,EAAel2G,SAAS4b,cAAc,MAC1CgoE,EAAM/nE,YAAYq6F,GAElB,IAAIC,EAAcn2G,SAAS4b,cAAc,MACzCu6F,EAAYvjF,UAAY,wBACxBsjF,EAAar6F,YAAYs6F,GAEzB,IAAIC,EAAyB,EAC7B,IAAK,IAAIhiH,EAAI,EAAGA,EAAIuhH,EAAcvhH,IAClC,CACCgiH,EAA0BhiH,EAAIiC,EAAQ+7G,kBAAqB,GAAKh+G,EAAI,EAAKgiH,GAA0B,EAAI//G,EAAQ+7G,kBAAqBgE,EACpI,IAAIN,EAAYrxE,EAAe3gB,UAAUsyF,GACrCJ,EAAYF,EAAU/3F,UAE1B,IAAK,IAAIs3F,KAAYrhH,KAAK2+G,YAC1B,CACC,IAAI2C,EAAiC,MAAjBD,EAAStuG,KAAgBsuG,EAAStuG,KAAO,GAEzDuiD,EAAKtpD,SAAS4b,cAAc,MAChC0tC,EAAGr/C,MAAQqrG,EAAa3uF,cACxB2iC,EAAG12B,UAAY,yBACf02B,EAAG52B,aAAa,aAAc2iF,EAAShgH,OACvCi0D,EAAG52B,aAAa,eAAgB4iF,EAAalnG,QAAQ,IAAK,MAC1Dk7C,EAAG52B,aAAa,MAAOlV,OAAOw4F,IAC9B1sD,EAAG52B,aAAa,QAASlV,OAAOs4F,EAAUj4F,aAC1CyrC,EAAG52B,aAAa,OAAQlV,OAAOs4F,EAAUn4F,gBACzCu4F,EAAar6F,YAAYytC,GAGzB,IAAIisD,EAAkBv1G,SAAS4b,cAAc,QAC7C25F,EAAgBz/E,UAAYw/E,EAAa3uF,cACzC2iC,EAAGztC,YAAY05F,GAIf,IAAIC,EAAgBx1G,SAAS4b,cAAc,OAC3C45F,EAAcxnG,UAAUpP,IAAI,4BAC5B0qD,EAAGztC,YAAY25F,GAEXxhH,KAAKyhH,sBACRD,EAAc/lG,MAAMC,SAAW,kBAEhC,IAAIgmG,EAAoB11G,SAAS4b,cAAc,QAC/C85F,EAAkB1nG,UAAUpP,IAAI,6BAChC42G,EAAc35F,YAAY65F,GAG3BU,SA3KF,CAEC,IAAIF,EAAel2G,SAAS4b,cAAc,MAC1CgoE,EAAM/nE,YAAYq6F,GAElB,IAAIf,EAAan1G,SAAS4b,cAAc,MACxCu5F,EAAWviF,UAAY,wBACvBsjF,EAAar6F,YAAYs5F,GACzBnhH,KAAKohH,oBAAoBD,GAEzB,IAAIS,EAAUM,EACd,GAAIliH,KAAKqiH,oBACT,CACC,IAAK,IAAIhB,KAAYrhH,KAAK2+G,YAC1B,CACC,IAAI2C,EAAiC,MAAjBD,EAAStuG,KAAgBsuG,EAAStuG,KAAO,GAEzDuiD,EAAKtpD,SAAS4b,cAAc,MAChC0tC,EAAGr/C,MAAQqrG,EAAa3uF,cACxB2iC,EAAG12B,UAAY,yBACf02B,EAAG52B,aAAa,aAAc2iF,EAAShgH,OACvCi0D,EAAG52B,aAAa,eAAgB4iF,EAAalnG,QAAQ,IAAK,MAC1Dk7C,EAAG2sD,QAAUN,EACbO,EAAar6F,YAAYytC,GAGzB,IAAIisD,EAAkBv1G,SAAS4b,cAAc,QAC7C25F,EAAgBz/E,UAAYw/E,EAAa3uF,cACzC2iC,EAAGztC,YAAY05F,GAIf,IAAIe,EAA2Bt2G,SAAS4b,cAAc,QACtD06F,EAAyBtoG,UAAUpP,IAAI,mCACvC0qD,EAAGztC,YAAYy6F,GAIhBV,EAAU51G,SAAS4b,cAAc,MACjCgoE,EAAM/nE,YAAY+5F,GAElB,IAAIO,EAAcn2G,SAAS4b,cAAc,MACzCu6F,EAAYvjF,UAAY,wBACxBgjF,EAAQ/5F,YAAYs6F,GAGrB,IAAK,IAAId,KAAYrhH,KAAK2+G,YAC1B,CACC,IAAIluE,EAAiBptB,KAAK8J,0BAA0BntB,KAAKqpB,QACrDw4F,EAAa,EACjB,IAAK,IAAIzhH,EAAI,EAAGA,EAAIuhH,EAAcvhH,IAClC,CACCyhH,EAAczhH,EAAIiC,EAAQ+7G,kBAAqB,GAAKh+G,EAAI,EAAKyhH,GAAc,EAAIx/G,EAAQ+7G,kBAAqByD,EAC5G,IAAIC,EAAYrxE,EAAe3gB,UAAU+xF,GACrCE,EAAU1/G,EAAQ87G,gBAAiB2D,EAAU10F,UAC7C40F,EAAYF,EAAU/3F,UAEtBurC,EAAKtpD,SAAS4b,cAAc,MAChC0tC,EAAGr/C,MAAQ+rG,EAAY,IAAMD,EAC7BzsD,EAAG12B,UAAY,qBACf02B,EAAG52B,aAAa,MAAOlV,OAAOw4F,IAC9B1sD,EAAG52B,aAAa,QAASlV,OAAOs4F,EAAUj4F,aAC1CyrC,EAAG52B,aAAa,OAAQlV,OAAOs4F,EAAUn4F,gBACzC2rC,EAAG52B,aAAa,aAAc2iF,EAAShgH,OACvCugH,EAAQ/5F,YAAYytC,GAGpB,IAAIisD,EAAkBv1G,SAAS4b,cAAc,QAC7C25F,EAAgBz/E,UAAYkgF,EAAY,IAAMD,EAC9CzsD,EAAGztC,YAAY05F,GAIf,IAAIC,EAAgBx1G,SAAS4b,cAAc,OAC3C45F,EAAcxnG,UAAUpP,IAAI,4BAC5B0qD,EAAGztC,YAAY25F,GAEXxhH,KAAKyhH,sBACRD,EAAc/lG,MAAMC,SAAW,kBAEhC,IAAIgmG,EAAoB11G,SAAS4b,cAAc,QAC/C85F,EAAkB1nG,UAAUpP,IAAI,6BAChC42G,EAAc35F,YAAY65F,GAG1BG,QA8FN9c,EAAUl9E,YAAYooD,GAGf,oBAAoB3a,GAE3B,IAAIjzD,EAAUrC,KAAK+sC,aAEM,MAArB/sC,KAAKuiH,cACRviH,KAAKuiH,aAAajgH,YAAYkgH,WAAYv6F,YAAYjoB,KAAKuiH,aAAajgH,aAEzEtC,KAAKuiH,aAAe,EAAAr9G,eAAe,CAClC3D,KAAM,EAAA+D,iBAAiBC,SACvBlE,MAAOgB,EAAQ47G,yBACfniF,aAAc,YACdkB,cAAe,CAAEzhB,MAAO,IACxBA,MAAO,GACP+7B,MAAO,CACN,CAAEvkC,KAAM,QAAS1R,MAAO,KACxB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,OAE1BisC,cAAgBhzB,GAAMkK,OAAOwa,WAAW,IAAMh/B,KAAKyiH,iBAAiBhxF,OAAOnX,EAAEwwB,OAAOzpC,YAClFi0D,GAGI,cAEP,IAAIjzD,EAAUrC,KAAK+sC,aACfijC,EAAahwE,KAAKihH,gBACtB,GAAkB,MAAdjxC,EACJ,CACCA,EAAa,EAAAr6D,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,0BAE1C,IAAIsF,EAA0B,EAC9B,GAAsB,MAAlBnZ,EAAQmZ,OACZ,CACC,IAAIknG,EAAkB,EAAAv3G,KAAKnL,KAAKsC,aAAak2B,SAAS5R,IAClD+7F,EAAgBn+F,OAAOwZ,YAAc0kF,EAErC/I,EAAgB,EAAAxuG,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0B+K,cACrExkB,EAAQk8F,cACZob,EAAgB,GAEjB,IAAI7lD,EAAe,EAAA3oD,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyB+K,cACnExkB,EAAQk8G,aACZzqD,EAAe,GAEhBt4C,EAASmnG,EAAgBhJ,EAAgB7lD,OAGzCt4C,EAASnZ,EAAQmZ,OAElB,EAAArQ,KAAK6kE,GAAYx0D,OAAOA,GAGzB,EAAArQ,KAAK6kE,GAAYllB,QACjB,IAAImlB,EAAkBjkE,SAASkkE,yBAE3B0f,EAAQ5jF,SAAS4b,cAAc,SACnCgoE,EAAMn0E,MAAMC,SAAW,uDACvBu0D,EAAgBpoD,YAAY+nE,GAE5B,IACIgzB,EADwBv/F,KAAKC,kCAAkCjhB,EAAQu7G,UAAYv7G,EAAQw7G,SACpDx7G,EAAQ47G,yBAGnD,OAFAj+G,KAAK6iH,iBAAmB,GAEhB7iH,KAAK0vF,QAEZ,KAAK,EAAAx+E,kBAAkBq4B,IACtB,CAEC,IAAIlgB,EAAO,IAAIhG,KAAKrjB,KAAKqpB,OAAQiH,SAASjuB,EAAQu7G,UAAW3zF,WAAY5nB,EAAQu7G,UAAWzzF,eAC5F,IAAK,IAAI/pB,EAAI,EAAGA,EAAIwiH,EAAcxiH,IAClC,CACC,IAAI47D,EAAMhwD,SAAS4b,cAAc,MACjCgoE,EAAM/nE,YAAYm0C,GAElB,IAAI8mD,EAAW,IAAIz/F,KAAKgG,GACxBy5F,EAAS1yE,WAAW,EAAG,GAGvB,IAAIT,EAAamzE,EAAS5zE,eACtB6zE,EAAY3iH,EAAI,GAAK,EAAKuvC,EAAa,GAEvCqzE,EAASh3G,SAAS4b,cAAc,MACpCo7F,EAAOlhF,UAAYihF,EACnBC,EAAOhpG,UAAUpP,IAAI,qBACjBxK,EAAI,GAAK,GAAKA,EAAI,GAAG4iH,EAAOhpG,UAAUpP,IAAI,kBAC9CoxD,EAAIn0C,YAAYm7F,GAEX3gH,EAAQi8G,aACZ0E,EAAOvnG,MAAMC,SAAW,kBAEzB,IAAIunG,EAAU,IAAI5/F,KAAKgG,GACvB45F,EAAQ/yF,aAAa7tB,EAAQ47G,0BAC7BgF,EAAQ7yE,WAAW,EAAG,GAGtB,IAAI44B,EAAc,EACdk6C,EAAuB,GAAL9iH,EAAU,GAAOA,EAAI,GAAK,EAAK,iBAAmB,kBACpE+iH,EAAsB/iH,GAAMwiH,EAAe,EAAM,oBAAsB,GAC3E,IAAK,IAAIvB,KAAYrhH,KAAK2+G,YAC1B,CACC,IAAI9oD,EAAK7pD,SAAS4b,cAAc,MACV,IAAlBs7F,GAAsBrtD,EAAG77C,UAAUpP,IAAIs4G,GAClB,IAArBC,GAAyBttD,EAAG77C,UAAUpP,IAAIu4G,GAC9CttD,EAAG5/C,MAAQ05B,EACXqsB,EAAIn0C,YAAYguC,GAGhB,IAAIutD,EAAc,IAAI,EAAAjgG,qBACtBigG,EAAYC,WAA0B,MAAZhC,EAAoBA,EAAShgH,MAAQ,IAC/D+hH,EAAY7/F,MAAQu/F,EACpBM,EAAY5/F,IAAMy/F,EAClBG,EAAYp6C,YAAcA,EAC1Bo6C,EAAY/7C,SAAWjnE,EACvBJ,KAAK6iH,iBAAiBrvF,KAAK4vF,GAE3Bp6C,IAED3/C,EAAK6G,aAAa7tB,EAAQ47G,2BAI5B,MACD,KAAK,EAAA/sG,kBAAkBwuG,KACvB,KAAK,EAAAxuG,kBAAkBuvG,UACtB,CAEC,IAAIkB,EAAgB3hH,KAAK0vF,QAAU,EAAAx+E,kBAAkBuvG,UAAyC,EAA5Bp+G,EAAQ+7G,iBAAwB/7G,EAAQ+7G,iBACtG3tE,EAAiBptB,KAAK8J,0BAA0BntB,KAAKqpB,QAGrDu5F,EADUv/F,KAAKC,kCAAkCjhB,EAAQu7G,UAAYv7G,EAAQw7G,SACpDx7G,EAAQ47G,yBAErC,GAAKj+G,KAAK2/G,kBAmEV,CAEC,IAAIt2F,EAAO,IAAIhG,KAAKhhB,EAAQu7G,WAC5B,IAAK,IAAIx9G,EAAI,EAAGA,EAAIwiH,EAAcxiH,IAClC,CACC,IAAI47D,EAAMhwD,SAAS4b,cAAc,MACjCgoE,EAAM/nE,YAAYm0C,GAGlB,IAAIrsB,EAAatmB,EAAK6lB,eAClB6zE,EAAY3iH,EAAI,GAAK,EAAKuvC,EAAa,GAEvCqzE,EAASh3G,SAAS4b,cAAc,MACpCo7F,EAAOlhF,UAAYihF,EACnBC,EAAOhpG,UAAUpP,IAAI,qBACjBxK,EAAI,GAAK,GAAKA,EAAI,GAAG4iH,EAAOhpG,UAAUpP,IAAI,kBAC9CoxD,EAAIn0C,YAAYm7F,GAEX3gH,EAAQi8G,aACZ0E,EAAOvnG,MAAMC,SAAW,kBAEzB,IAAIwnG,EAAuB,GAAL9iH,EAAU,GAAOA,EAAI,GAAK,EAAK,iBAAmB,kBACpE+iH,EAAqB/iH,GAAMwiH,EAAe,EAAM,oBAAsB,GAGtE55C,EAAc,EAClB,IAAK,IAAIjlC,EAAI,EAAGA,EAAI49E,EAAc59E,IAClC,CACC,IAAI+9E,EAAY,IAAIz+F,KAAKotB,GACzBqxE,EAAUxxF,SAASjH,EAAKY,WAAYZ,EAAKc,aAAc,EAAG,GAC1D23F,EAAYA,EAAUhyF,UAAUiU,GAEhC,IAAK,IAAIs9E,KAAYrhH,KAAK2+G,YAC1B,CACC,IAAIsE,EAAU,IAAI5/F,KAAKy+F,GACvBmB,EAAQ/yF,aAAa7tB,EAAQ47G,0BAE7B,IAAIpoD,EAAK7pD,SAAS4b,cAAc,MACV,IAAlBs7F,GAAsBrtD,EAAG77C,UAAUpP,IAAIs4G,GAClB,IAArBC,GAAyBttD,EAAG77C,UAAUpP,IAAIu4G,GAC9CttD,EAAG5/C,MAAQ05B,EACXqsB,EAAIn0C,YAAYguC,IAEVmT,EAAc,GAAKhpE,KAAK2+G,YAAYvzG,QAAW,GACpDyqD,EAAG77C,UAAUpP,IAAI,oBAGlB,IAAIw4G,EAAc,IAAI,EAAAjgG,qBACtBigG,EAAYC,WAA0B,MAAZhC,EAAoBA,EAAShgH,MAAQ,IAC/D+hH,EAAY7/F,MAAQu+F,EACpBsB,EAAY5/F,IAAMy/F,EAClBG,EAAYp6C,YAAcA,EAC1Bo6C,EAAY/7C,SAAWjnE,EACvBJ,KAAK6iH,iBAAiBrvF,KAAK4vF,GAE3Bp6C,KAGF3/C,EAAK6G,aAAa7tB,EAAQ47G,+BA5H5B,CAEC,IAAI50F,EAAO,IAAIhG,KAAKhhB,EAAQu7G,WAC5B,IAAK,IAAIx9G,EAAI,EAAGA,EAAIwiH,EAAcxiH,IAClC,CACC,IAAI47D,EAAMhwD,SAAS4b,cAAc,MACjCgoE,EAAM/nE,YAAYm0C,GAGlB,IAAIrsB,EAAatmB,EAAK6lB,eAClB6zE,EAAY3iH,EAAI,GAAK,EAAKuvC,EAAa,GAEvCqzE,EAASh3G,SAAS4b,cAAc,MACpCo7F,EAAOlhF,UAAYihF,EACnBC,EAAOhpG,UAAUpP,IAAI,qBACjBxK,EAAI,GAAK,GAAKA,EAAI,GAAG4iH,EAAOhpG,UAAUpP,IAAI,kBAC9CoxD,EAAIn0C,YAAYm7F,GAEX3gH,EAAQi8G,aACZ0E,EAAOvnG,MAAMC,SAAW,kBAEzB,IAAIwnG,EAAuB,GAAL9iH,EAAU,GAAOA,EAAI,GAAK,EAAK,iBAAmB,kBACpE+iH,EAAqB/iH,GAAMwiH,EAAe,EAAM,oBAAsB,GAGtE55C,EAAc,EAClB,IAAK,IAAIq4C,KAAYrhH,KAAK2+G,YAC1B,CACCluE,EAAengB,SAASjH,EAAKY,WAAYZ,EAAKc,aAAc,EAAG,GAE/D,IAAI03F,EAAa,EACjB,IAAK,IAAI99E,EAAI,EAAGA,EAAI49E,EAAc59E,IAClC,CACC89E,EAAc99E,EAAI1hC,EAAQ+7G,kBAAqB,GAAKr6E,EAAI,EAAK89E,GAAc,EAAIx/G,EAAQ+7G,kBAAqByD,EAC5G,IAAIC,EAAYrxE,EAAe3gB,UAAU+xF,GACrCoB,EAAU,IAAI5/F,KAAKy+F,GACvBmB,EAAQ/yF,aAAa7tB,EAAQ47G,0BAE7B,IAAIpoD,EAAK7pD,SAAS4b,cAAc,MACV,IAAlBs7F,GAAsBrtD,EAAG77C,UAAUpP,IAAIs4G,GAClB,IAArBC,GAAyBttD,EAAG77C,UAAUpP,IAAIu4G,GAC9CttD,EAAG5/C,MAAQ05B,EACXqsB,EAAIn0C,YAAYguC,GAEZ9xB,GAAK49E,EAAe,GACvB9rD,EAAG77C,UAAUpP,IAAI,oBAElBi3G,IAGA,IAAIuB,EAAc,IAAI,EAAAjgG,qBACtBigG,EAAYC,WAA0B,MAAZhC,EAAoBA,EAAShgH,MAAQ,IAC/D+hH,EAAY7/F,MAAQu+F,EACpBsB,EAAY5/F,IAAMy/F,EAClBG,EAAYp6C,YAAcA,EAC1Bo6C,EAAY/7C,SAAWjnE,EACvBJ,KAAK6iH,iBAAiBrvF,KAAK4vF,GAE3Bp6C,KAGF3/C,EAAK6G,aAAa7tB,EAAQ47G,6BAuE/BjuC,EAAWnoD,YAAYooD,GAGvB,EAAA9kE,KAAKnL,KAAKihH,iBAAiB5mG,OAAO,uBAClC,IAAIipG,EAAUtjH,KAAKqpB,OACnBi6F,EAAQhzF,UAAS,IAAIjN,MAAO4G,YAAY,IAAI5G,MAAO8G,aAAc,EAAG,GAEpE,IAAIo5F,EAAcvjH,KAAK6iH,iBAAiBvtF,OAAOJ,GAAK7R,KAAKyL,uBAAuBoG,EAAE3R,MAAO2R,EAAE1R,IAAK8/F,EAASA,GAAS,IAAO,GACzH,GAAmB,MAAfC,EACJ,CACkB,EAAAp4G,KAAK,0EAA0EmL,eAAetW,KAAKihH,iBAAiB,GAC1HxlG,MAAMC,SAAW,SAAW1b,KAAKy+G,iBAAmB,aAAuC,GAAvB8E,EAAYl8C,SAAiB,GAAK,0BAA4BrnE,KAAKy+G,iBAAmB,OAItKz+G,KAAKkgH,cAGN,cAEC,IAAIlwC,EAAahwE,KAAKihH,gBAClB5+G,EAAUrC,KAAK+sC,aAEfvxB,EAA0B,EAC9B,GAAsB,MAAlBnZ,EAAQmZ,OACZ,CACC,IAAIknG,EAAkB,EAAAv3G,KAAKnL,KAAKsC,aAAak2B,SAAS5R,IAClD+7F,EAAiBn+F,OAAOwZ,YAAc0kF,EAEtC/I,EAAgB,EAAAxuG,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0B+K,cACrExkB,EAAQk8F,cACZob,EAAgB,GAEjB,IAAI7lD,EAAe,EAAA3oD,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyB+K,cACnExkB,EAAQk8G,aACZzqD,EAAe,GAGhBt4C,EAASmnG,GADEhJ,EAAgB7lD,QAI3Bt4C,EAASnZ,EAAQmZ,OAElB,EAAArQ,KAAK6kE,GAAYx0D,OAAOA,GAGzB,OAAOna,GAEN,IAAIma,EAASyN,MAAMzN,OAAOna,GAE1B,OADA,EAAA8J,KAAKnL,KAAKihH,iBAAiBzlG,OAAO,QAC3BA,EAKR,KAAKk0E,GAEJ,GAAY,MAARA,EACJ,CAEC,IAAIrtF,EAAUrC,KAAK+sC,aACnB,GAA4B,MAAxB1qC,EAAQmhH,aACZ,CACC,IAAIC,EAAkB,IAAIC,EAM1B,GALAD,EAAgB34E,OAAS9qC,KACzByjH,EAAgBE,aAAe3jH,KAAKilG,YACpCwe,EAAgB/zB,KAAOA,EACvBrtF,EAAQmhH,aAAaC,GAEjBA,EAAgB1/F,qBACnB,OAAO/jB,KAAKilG,YAQd,OALAjlG,KAAKilG,YAAcvV,EACnB1vF,KAAK0gH,aAAa34F,OAAO,CAAC2nE,IAAO,GACjC1vF,KAAK8+G,gBAGGpvB,GAEP,KAAK,EAAAx+E,kBAAkBq4B,IAErBvpC,KAAKy/G,wBAAwB5sG,OAC7B7S,KAAKm/G,kBAAkBxwF,OAAO,EAAArc,eAAe6b,UAE9C,MACD,KAAK,EAAAjd,kBAAkBwuG,KAErB1/G,KAAKy/G,wBAAwBvjG,OAC7Blc,KAAKm/G,kBAAkBxwF,OAAO,EAAArc,eAAek+B,WAE9C,MACD,KAAK,EAAAt/B,kBAAkBuvG,UAErBzgH,KAAKy/G,wBAAwB5sG,OAC7B7S,KAAKm/G,kBAAkBxwF,OAAO,EAAArc,eAAeq+B,gBAK3C3wC,KAAKqiH,qBACTriH,KAAKy/G,wBAAwB5sG,OAE/B,OAAO7S,KAAKilG,YAGb,KAAK57E,EAAa8mB,GAAgB,GAEjC,IAAI9tC,EAAUrC,KAAK+sC,aACnB,GAAY,MAAR1jB,IAECrpB,KAAKm/G,kBAAkB99G,SAAWgoB,GACrCrpB,KAAKm/G,kBAAkB99G,MAAMgoB,GAAM,GAEE,MAAlCrpB,KAAKm/G,kBAAkB99G,SAC1BrB,KAAK8+G,gBAEoB,MAAtBz8G,EAAQuhH,YACZ,CAIC,GAHkC,MAA9B5jH,KAAKo/G,wBACRp/G,KAAKo/G,sBAAwB,EAAAjuG,4BAA4BquG,YAEtDrvE,EACJ,CACC,IAAI0zE,EAAgB,IAAIC,EACxBD,EAAc/4E,OAAS9qC,KACvB6jH,EAAcE,OAAS/jH,KAAKo/G,sBAC5ByE,EAAcG,aAAehkH,KAAKm/G,kBAAkB99G,QACpDwiH,EAAcx6F,KAAOA,EACrBw6F,EAAcn0B,KAAO1vF,KAAK0vF,OAC1BrtF,EAAQuhH,WAAYC,GAGrB7jH,KAAKo/G,sBAAwB,KAG/B,OAAOp/G,KAAKm/G,kBAAkB99G,QAG/B,UAAUs9G,GAET,IAAIt8G,EAAUrC,KAAK+sC,aACnB,GAAiB,MAAb4xE,EACJ,CACC,IAAIgC,EAA0D,KAC9D,OAAQ3gH,KAAK0vF,QAEZ,KAAK,EAAAx+E,kBAAkBq4B,IAAKo3E,EAA+Bt+G,EAAQy7G,mBAAoB8C,QAAS,MAChG,KAAK,EAAA1vG,kBAAkBwuG,KAAMiB,EAA+Bt+G,EAAQy7G,mBAAoB+C,SAAU,MAClG,KAAK,EAAA3vG,kBAAkBuvG,UAAWE,EAA+Bt+G,EAAQy7G,mBAAoBgD,cAG1D,MAAhCH,GAAwChC,EAAUvzG,OAASu1G,EAE9D,EAAAltG,QAAQ,qFAAuFktG,EAA+B,iCAC5H9iG,KAAK,KAELxb,EAAQs8G,UAAYA,EACpB3+G,KAAK8+G,gBACL9+G,KAAKikH,8BAEL,IAAMjkH,KAAKikH,+BAIb5hH,EAAQs8G,UAAYA,EACpB3+G,KAAK8+G,gBACL9+G,KAAKikH,8BAGP,OAAO5hH,EAAQs8G,UAGhB,oBAEC,OAAQ3+G,KAAK2+G,YAAYvzG,OAAS,GAA6B,MAAvBpL,KAAK2+G,YAAY,IAA2C,IAA7B3+G,KAAK2+G,YAAY,GAAGt9G,MAGpF,6BAEP,IAAIgB,EAAUrC,KAAK+sC,aACnB,GAAiC,MAA7B1qC,EAAQ6hH,kBACZ,CACC,IAAIC,EAAuB,IAAIC,EAC/BD,EAAqBxF,UAAYt8G,EAAQs8G,UACzCwF,EAAqBz0B,KAAO1vF,KAAK0vF,OACjCy0B,EAAqBr5E,OAAS9qC,KAC9BqC,EAAQ6hH,kBAAkBC,IAI5B,iBAAiBlG,GAEhB,IAAI57G,EAAUrC,KAAK+sC,aACnB,GAAgC,MAA5BkxE,EACJ,CACC,GAAgC,MAA5B57G,EAAQgiH,iBACZ,CACC,IAAIC,EAAsB,IAAIC,EAO9B,GANAD,EAAoBx5E,OAAS9qC,KAC7BskH,EAAoB14E,cAAgBvpC,EAAQ47G,yBAC5CqG,EAAoBjjH,MAAQ48G,EAC5BqG,EAAoB50B,KAAO1vF,KAAK0vF,OAChCrtF,EAAQgiH,iBAAiBC,GAErBA,EAAoBvgG,qBACvB,OAAO1hB,EAAQ47G,yBAGjB57G,EAAQ47G,yBAA2BA,EACnCj+G,KAAK8+G,gBAEN,OAAOz8G,EAAQ47G,yBAGhB,iBAEC,OAAOj+G,KAAK+sC,aAAa0D,eAG1B,YAEC,OAAOzwC,KAAK+sC,aAAa6wE,UAG1B,UAEC,OAAO59G,KAAK+sC,aAAa8wE,QAG1B,gBAAgBtpC,GASf,OAPa,MAATA,IAEHv0E,KAAKy/G,wBAAwB3kE,QAAQy5B,GAAO,GAC5Cv0E,KAAK8+G,gBACL9+G,KAAKgtD,UAGFhtD,KAAK0vF,QAAU,EAAAx+E,kBAAkBwuG,MAG9B1/G,KAAKy/G,wBAAwB3kE,UAGrC,WAAW1hB,GAEG,MAATA,IAECA,EAAOp5B,KAAK4/G,WAAWh9E,QACtB5iC,KAAK8pG,aAAalnE,SAGxB,IAAIkC,EAAMtgB,OAAOxY,SACjB,SAAU84B,EAAIC,mBAAsBD,EAAIE,sBAAyBF,EAAIG,yBAA4BH,EAAII,qBAKtG,WAAoC24D,GAEnC,GAAkB,MAAdA,GAAsB79F,KAAK6iH,iBAAiBz3G,OAAS,EACzD,CACC,GAAyB,GAArByyF,EAAWzyF,OAId,OAFApL,KAAKwkH,YAAc3mB,EACnB,EAAA1yF,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BzB,SAChDwjF,EAIR,IAAI4mB,EAAiB,GACrB,IAAK,IAAIC,KAAe7mB,EACxB,CACE6mB,EAA6CC,YAAa,EAC3DF,EAAejxF,KAAKkxF,GAEpB,IAAIlhG,EAAM,IAAIH,KAAKqhG,EAAYlhG,KAC3BD,EAAQ,IAAIF,KAAKqhG,EAAYnhG,OAC7BqhG,EAAiBvhG,KAAKwN,+BAA+BrN,EAAKD,GAC9D,GAAIqhG,EAAiB,EACrB,CAC+B,MAA1BF,EAAYnuG,aAAoBmuG,EAAYnuG,WAAa,IAC7DmuG,EAAYnuG,WAAWid,KAAK,CAAE7xB,IAAK,WAAYN,MAAO,SAEtD,IAAK,IAAIjB,EAAI,EAAGA,GAAKwkH,EAAgBxkH,IACrC,CACC,IAAIykH,EAAS,EAAA75G,eAAeoqC,UAAUsvE,GAElCI,EAAWvhG,EAAMuM,UAAU1vB,GAC/B0kH,EAASx0F,SAAStwB,KAAK49G,YAAY3zF,YACnC46F,EAAOthG,MAAQuhG,EACfD,EAAOrhG,IAAM,IAAIH,KAAKwhG,EAAOthG,OAAOyM,WAAW,GAEtB,MAArB60F,EAAOtuG,aAAoBsuG,EAAOtuG,WAAa,IACnDsuG,EAAOtuG,WAAWid,KAAK,CAAE7xB,IAAK,WAAYN,MAAO,SAEjDojH,EAAejxF,KAAKqxF,KAMvBhnB,EAAa4mB,EAEbzkH,KAAK+kH,kCAAkClnB,EAAW,IAClD79F,KAAKwkH,YAAc3mB,EACnB,EAAA1yF,KAAKnL,KAAKsC,aAAawZ,KAAK,2BAA2BzB,SAEvD,IAAI2qG,EAAsBh5G,SAASkkE,yBAC/B+0C,EAA0BvoG,MAAMm/B,KAAK,EAAA1wC,KAAKnL,KAAKsC,aAAawZ,KAAK,mDAAmDc,IAAIsY,GAAc,EAAA/pB,KAAK+pB,GAAGlO,cAC9Ik+F,EAAYD,EAAc,GAG1BE,EAAsCtnB,EAAWzmE,UAAUlC,GAAKA,EAAEmuF,YACtE,IAAK,IAAIqB,KAAe7mB,EACxB,CACC,GAAgE,GAA3D6mB,EAA6CC,WACjD,SAED,GAA8B,KAA1BD,EAAYrB,aAA6C,MAAvBrjH,KAAK2+G,YAAY,KAAe3+G,KAAK2+G,YAAY/hG,IAAIsY,GAAKA,EAAE7zB,OAAO0a,SAASyN,OAAOk7F,EAAYrB,cACpI,SAGD,IAAI+B,EAAuBD,EAA+BT,EAAYrB,YAClEgC,EAAyBrlH,KAAKslH,2BAA2BZ,EAAaU,GAEtEG,EAAgB,EACpB,IAAK,IAAIC,KAAOH,EAGf,IAAK,IAAII,KAASD,EAAqCE,cACvD,CACCD,EAAK/sD,eAAiB,GACtB,IAAIitD,EAAoB,EACpBC,EAAwB,GAC5B,IAAK,IAAIC,KAAQR,EAEhB,GAAIQ,EAAK1vG,IAAMqvG,EAAIrvG,GAGnB,IAAK,IAAI2vG,KAAUD,EAAsCH,cAEpDriG,KAAKyL,uBAAuB22F,EAAKliG,MAAOkiG,EAAKjiG,IAAKsiG,EAAMviG,MAAOuiG,EAAMtiG,OAExEoiG,EAAepyF,KAAKkxF,GACpBiB,KAMCA,EAAoBJ,IACvBA,EAAgBI,GAEhBH,EAAqCI,eAAiBA,EAAe7uF,aAAa7B,GAAKA,EAAE/e,IAK5FkvG,EAAuBzvF,WAAW,YAClC,IAAK,IAAI4vF,KAAOH,EAChB,CAEC,IAAI9hG,EAAQ,IAAIF,KAAKmiG,EAAIjiG,OACzBvjB,KAAK+lH,4BAA4BxiG,EAAOyiG,EAAsBC,OAE9D,IAAIziG,EAAM,IAAIH,KAAKmiG,EAAIhiG,KACvBxjB,KAAK+lH,4BAA4BviG,EAAKwiG,EAAsBE,KAG5D,IAAIC,EAAsCX,EAAqCE,cAAe,GAC9F,GAAoB,MAAhBS,EACJ,CAEC,IAAI19B,EAAWplE,KAAKC,kCAAkCC,EAAOC,GACzDi/F,EAAmBziH,KAAKyiH,mBACxBjnG,EAAmD,GAA1C+R,KAAKkF,MAAMg2D,EAAWg6B,GAAyBh6B,EAAWg6B,EAAmB,EAC1FjnG,GAAU+R,KAAKkF,MAAMg2D,EAAWg6B,GAGhC,IAAI2D,EAAkF,GAAnEpmH,KAAK6iH,iBAAiB7iH,KAAK6iH,iBAAiBz3G,OAAS,GAAGi8D,SAAgB,GACvFg/C,EAAqD,GAAxBF,EAAa9+C,SAAiB7rD,EAC3D6qG,EAA4BD,IAC/B5qG,EAASA,GAAU6qG,EAA4BD,GAAgB,GAIhE,IAAIE,EAAoBd,EAAqCE,cAAe9oG,IAAIsY,GAAKA,EAAEwjC,gBACnF77C,EAAQ,EACZ,IAAK,IAAIzc,EAAI,EAAGA,EAAImlH,EAAenlH,IACnC,CACC,IAAImmH,GAAO,EACX1pG,EAAQzc,EACR,IAAK,IAAIomH,KAAgBF,EAED,GAAnBE,EAAapmH,KAChBmmH,GAAO,GAGT,GAAIA,EACH,MAKF,IAAIhrG,EAAqB,GAAZ2pG,EAAiB,IAAOK,EACrChqG,EAAQA,EACJA,GAAS,IACZA,EAAQ,GAGe0pG,EAAcryF,MAAM,EAAGuzF,EAAan9C,aAAaxyC,QAAzE,IAEIiwF,EADuBxB,EAAc,GAAKkB,EAAan9C,YACnBnsD,EAAQtB,EAASsB,EAAQ7c,KAAKy+G,iBAGtE,IAAK,IAAIgH,KAASD,EAAqCE,cACtDD,EAAK/sD,eAAe77C,IAAS,EAG9B,IAAI6pG,EAAiB16G,SAAS4b,cAAc,OAC5C8+F,EAAejrG,MAAMC,SAAW,QAAmC,GAAxByqG,EAAa9+C,SAAiB,aAAeo/C,EAAY,MACpGC,EAAe9nF,UAAY,yBAG3B8nF,EAAejrG,MAAMC,SAAW,UAAYH,EAAQ,eAAiBC,EAAS,MAG9Exb,KAAK2mH,8BAA8BD,EAAgBlB,GACnDR,EAAoBn9F,YAAY6+F,GAIhC,IAAIrkH,EAAUrC,KAAK+sC,aACnB,EAAA5hC,KAAKu7G,GAAgBvqG,GAAG,YAAc+b,IAErC,IAAKl4B,KAAKiqC,YAAc5nC,EAAQy7E,SAAU7tC,MAAQjwC,KAAKy1D,YAGtD,YADAv9B,EAAIc,iBAKL,GAAkB,GAAdd,EAAI4qB,OAGP,YADA5qB,EAAIc,iBAIL,IAAI4tF,EAAqB,EAAAz7G,KAAKnL,KAAKihH,iBAAiBzoF,SAAS5R,IACzDigG,EAAwB7mH,KAAKihH,gBAAgBjvD,UAC7C80D,EAAsB,EAAA37G,KAAKnL,KAAKihH,iBAAiBzoF,SAASzR,KAE1DggG,EAA0C,KAG1C5uF,EAAoBD,EAAIE,QACxBC,EAAoBH,EAAII,QACxB0uF,EAAoD,KACpDtwF,EAAM,EACNuwF,EAAkB,EACtB,IAAK,IAAIC,KAAWjC,EACpB,CAEC,GADAvuF,GAAOwwF,EACFxwF,EAAM12B,KAAKy+G,iBAAoBtmF,EACnC,MAED8uF,IAEDD,EAAuBhnH,KAAK6iH,iBAAiBoE,GAC7C,IAAIE,EAAwB55F,KAAKC,IAAIk5F,EAAet7B,WAAalzD,EAAII,QAAUuuF,EAAwBD,IAGvG,EAAAz7G,KAAKa,UAAUmQ,GAAG,YAAcwc,IAE/B,IAAK34B,KAAKiqC,YAAc5nC,EAAQy7E,SAAU7tC,MAAQjwC,KAAKy1D,YAGtD,YADA98B,EAAIK,iBAKL,IAAIouF,EAAiBzuF,EAAIP,QAAU0uF,EAC/BO,EAAiB1uF,EAAIL,QAAUuuF,EAAwBD,EAGvDU,EAAuBZ,EAAet7B,UACtCm8B,EAAoBb,EAAelsF,aACnCgtF,EAAuBd,EAAe98B,WACtC69B,EAAmBf,EAAepsF,YAGtC,GAAI+sF,GAAkBC,GAAwBD,GAAmBC,EAAuBC,GACpFH,GAAkBI,GAAwBJ,GAAmBI,EAAuBC,GACtE,MAAdV,EACHA,EAAa,UAET,GAAIpuF,EAAIP,SAAWD,GAAqBQ,EAAIL,SAAWD,EAC3D0uF,EAAa,SAGd,CACC,IAAIW,EAAwB,KAE3BA,EADqB,MAAlBlC,EAAInC,WACiBrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAM+e,EAAEmuF,YAAcmC,EAAInC,YAAY,GAE3FrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAI,GAElF,IAAIwxG,EAAmB3nH,KAAK69F,aAAa9oE,QAAQ2yF,GACjDA,EAAwB1nH,KAAK69F,aAAa8pB,GAG1C,IAAIjxF,EAAM,EACNuwF,EAAkB,EACtB,IAAK,IAAIC,KAAWjC,EACpB,CAEC,GADAvuF,GAAOwwF,EACFxwF,EAAM12B,KAAKy+G,iBAAoB2I,EACnC,MAEDH,IAEDF,EAAa/mH,KAAK6iH,iBAAiBvtF,OAAOJ,GAAKA,EAAE8zC,aAAei+C,GAAmB/xF,EAAEmyC,UAAY95C,KAAK20C,OAAOmlD,EAAiBF,GAAyB,KAAK,GAG5J,IAAI1+B,EAAWplE,KAAKC,kCAAkCkiG,EAAIhiG,IAAKgiG,EAAIjiG,OAC/DA,EAAQ,IAAIF,KAAKmiG,EAAIjiG,OACrBC,EAAM,IAAIH,KAAKE,GAAO2M,aAAau4D,GAEnCpmF,EAAUrC,KAAK+sC,aACnB,GAA2B,MAAvB1qC,EAAQulH,aAAwB5nH,KAAKsiG,WAyBpC,GAAwB,MAApBjgG,EAAQwlH,SACjB,CAECtkG,EAAQ,IAAIF,KAAK0jG,EAAWxjG,OAC5BC,EAAM,IAAIH,KAAK0jG,EAAWxjG,OAAO2M,aAAau4D,GAE9C,IAAIq/B,EAAuB,IAAIC,EAS/B,GARAD,EAAqBh9E,OAAS9qC,KAC9B8nH,EAAqBE,WAAatB,EAClCoB,EAAqBvkG,MAAQA,EAC7BukG,EAAqBtkG,IAAMA,EAC3BskG,EAAqB7pE,SAAWypE,EAChCI,EAAqBzE,WAAa0D,EAAW1D,WAC7ChhH,EAAQwlH,SAASC,GAEbA,EAAqB/jG,qBAMxB,OAJA4U,EAAIK,iBACJ,EAAA7tB,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,kBACtBguF,EAAa,WA5Cf,CAEC/mH,KAAKsiG,WAAY,EAEjB,IAAIwlB,EAAuB,IAAIG,EAS/B,GARAH,EAAqBh9E,OAAS9qC,KAC9B8nH,EAAqBE,WAAatB,EAClCoB,EAAqBvkG,MAAQA,EAC7BukG,EAAqBtkG,IAAMA,EAC3BskG,EAAqB7pE,SAAWypE,EAChCI,EAAqBzE,WAAa2D,EAAsB3D,WACxDhhH,EAAQulH,YAAYE,GAEhBA,EAAqB/jG,qBAOxB,OALA4U,EAAIK,iBACJ,EAAA7tB,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,aACtBguF,EAAa,UACb/mH,KAAKsiG,WAAY,GA+BnB,IAAI4lB,EAA4E,GAA5D36F,KAAK20C,OAAOmlD,EAAiBF,GAAyB,IACtEgB,EAAgBlD,EAAcryF,MAAM,EAAGm0F,EAAW/9C,aAAaxyC,QAAUx2B,KAAKy+G,iBAElFiI,EAAejrG,MAAMmL,IAAMshG,EAAgB,KAC3CxB,EAAejrG,MAAMsL,KAAOohG,EAAgB,KAE5CzB,EAAe1sG,UAAUpP,IAAI,mCAK/B,EAAAO,KAAKa,UAAUmQ,GAAG,UAAW,KAE5B,GAAKnc,KAAKiqC,WAAc5nC,EAAQy7E,SAAU7tC,OAAQjwC,KAAKy1D,cAGvD,EAAAtqD,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,aAEtB,EAAA5tB,KAAKu7G,GAAgB7nF,YAAY,gCACjC,EAAA1zB,KAAKnL,KAAKihH,iBAAiB5mG,OAAO,iCAElCmK,OAAOwa,WAAW,IAAMh/B,KAAKsiG,WAAY,EAAO,KAC9B,MAAdykB,GACJ,CACC,IAAIt+B,EAAWplE,KAAKC,kCAAkCkiG,EAAIhiG,IAAKgiG,EAAIjiG,OAC/DA,EAAQ,IAAIF,KAAK0jG,EAAWxjG,OAC5BC,EAAM,IAAIH,KAAKE,GAAO2M,aAAau4D,GAEnCi/B,EAAwB,KAE3BA,EADqB,MAAlBlC,EAAInC,WACiBrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAM+e,EAAEmuF,YAAcmC,EAAInC,YAAY,GAE3FrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAI,GAGlF,IAAI9T,EAAUrC,KAAK+sC,aACnB,GAAyB,MAArB1qC,EAAQ+lH,UACZ,CACC,IAAIN,EAAuB,IAAIO,EAS/B,GARAP,EAAqBh9E,OAAS9qC,KAC9B8nH,EAAqBE,WAAatB,EAClCoB,EAAqBvkG,MAAQA,EAC7BukG,EAAqBtkG,IAAMA,EAC3BskG,EAAqB7pE,SAAWypE,EAChCI,EAAqBzE,WAAa0D,EAAW1D,WAC7ChhH,EAAQ+lH,UAAUN,GAEdA,EAAqB/jG,qBAGxB,YADAgjG,EAAa,MAOf,IAAIY,EAAmB3nH,KAAK69F,aAAa9oE,QAAQ2yF,GACjDA,EAAwB1nH,KAAK69F,aAAa8pB,GAC1CD,EAAsBnkG,MAAQA,EAC9BmkG,EAAsBlkG,IAAMA,EAC5BkkG,EAAsBrE,WAAa0D,EAAW1D,WAG9C0D,EAAa,UAOhB/mH,KAAKsoH,YAAY5B,EAAgBlB,KAKpCxlH,KAAKihH,gBAAgBp5F,YAAYm9F,GAGlC,OAA4B,MAApBhlH,KAAKwkH,YAAuB,GAAKxkH,KAAKwkH,YAGvC,YAAYkC,EAAgClB,GAEnD,IAAInjH,EAAUrC,KAAK+sC,aACnB,IAAK/sC,KAAKiqC,YAAc5nC,EAAQy7E,SAAUyT,OACzC,OAED,IAAIrf,EAAelmE,SAAS4b,cAAc,OAC1CsqD,EAAal4D,UAAUpP,IAAI,wBAE3B,IAAI29G,EAAYv8G,SAAS4b,cAAc,OACvC2gG,EAAUvuG,UAAUpP,IAAI,8BACxBsnE,EAAarqD,YAAY0gG,GACzB7B,EAAe7+F,YAAYqqD,GAE3B,EAAA/mE,KAAKu7G,GAAgBvqG,GAAG,YAAc7B,GAA6B43D,EAAaz2D,MAAMu5C,QAAU,SAChG,EAAA7pD,KAAKu7G,GAAgBvqG,GAAG,WAAa7B,GAA4B43D,EAAaz2D,MAAMu5C,QAAU,QAE9F,IACIwzD,EADAC,EAAuB,KAGvB7B,EAAqB,EAAAz7G,KAAKnL,KAAKihH,iBAAiBzoF,SAAS5R,IACzDigG,EAAwB7mH,KAAKihH,gBAAgBjvD,UAG7C02D,GAFsB,EAAAv9G,KAAKnL,KAAKihH,iBAAiBzoF,SAASzR,MAE/C,GAGf,EAAA5b,KAAK+mE,GAAc/1D,GAAG,YAAc7B,IAGnC,GAAgB,GAAZA,EAAEwoC,OAGL,YADAxoC,EAAE0e,iBAIHh5B,KAAKy1D,aAAc,EACnBgzD,EAAQnuG,EAAEmuG,MACV,IAAIE,EAAuBjC,EAAgB10C,aAG3C,EAAA7mE,KAAKa,UAAUmQ,GAAG,YAAc7B,IAE/B,GAAsB,MAAlBosG,EACJ,CACC,IAAIgB,EAAwB,KAE3BA,EADqB,MAAlBlC,EAAInC,WACiBrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAM+e,EAAEmuF,YAAcmC,EAAInC,YAAY,GAE3FrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAI,GAElF,IAAIwxG,EAAmB3nH,KAAK69F,aAAa9oE,QAAQ2yF,GACjDA,EAAwB1nH,KAAK69F,aAAa8pB,GAGrBrtG,EAAE8d,QAAvB,IACIivF,EAAiB/sG,EAAEge,QAAUuuF,EAAwBD,EAIzD,GAFA4B,EAAexoH,KAAK6iH,iBAAiBvtF,OAAOJ,GAAKA,EAAEmuF,YAAcmC,EAAInC,YAAcnuF,EAAEmyC,UAAY95C,KAAK20C,MAAMmlD,EAAiB,KAAK,GAErG,MAAzBhlH,EAAQumH,eAA0BF,GA2BjC,GAA0B,MAAtBrmH,EAAQwmH,WACjB,CAEC,IAAIC,EAAgB,IAAIC,EASxB,GARAD,EAAch+E,OAAS9qC,KACvB8oH,EAAcd,WAAatB,EAC3BoC,EAAcvlG,MAAQiiG,EAAIjiG,MAC1BulG,EAActlG,IAAMglG,EAAahlG,IACjCslG,EAAc7qE,SAAWypE,EACzBoB,EAAczF,WAAamC,EAAInC,WAC/BhhH,EAAQwmH,WAAWC,GAEfA,EAAc/kG,qBAMjB,OAJAzJ,EAAE0e,iBACF,EAAA7tB,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,kBACtByvF,EAAe,WA3CjB,CAECxoH,KAAKy1D,aAAc,EACnBizD,GAAW,EAEX,IAAIM,EAAmB,IAAIC,EAS3B,GARAD,EAAiBl+E,OAAS9qC,KAC1BgpH,EAAiBhB,WAAatB,EAC9BsC,EAAiBzlG,MAAQiiG,EAAIjiG,MAC7BylG,EAAiBxlG,IAAMgiG,EAAIhiG,IAC3BwlG,EAAiB/qE,SAAWypE,EAC5BsB,EAAiB3F,WAAamC,EAAInC,WAClChhH,EAAQumH,cAAcI,GAElBA,EAAiBjlG,qBAQpB,OANAzJ,EAAE0e,iBACF,EAAA7tB,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,aACtByvF,EAAe,KACfxoH,KAAKy1D,aAAc,OACnBizD,GAAW,GA4Bb,IAAIjwF,EAAQne,EAAEmuG,MAAQA,EAClBS,EAAqC,GAAzB37F,KAAK20C,MAAMzpC,EAAQ,IAC/Bjd,EAAUmtG,EAAwBO,EACtC1tG,GAAUA,EAAS,GACnBkrG,EAAejrG,MAAMD,OAASA,EAAS,QAIzC,EAAArQ,KAAKa,UAAUmQ,GAAG,UAAW,KAM5B,GAJA,EAAAhR,KAAKa,UAAU+sB,OAAO,WACtB,EAAA5tB,KAAKa,UAAU+sB,OAAO,aACtBvU,OAAOwa,WAAW,IAAMh/B,KAAKy1D,aAAc,EAAO,KAE9B,MAAhB+yD,EACJ,CACC,IAAId,EAAwB,KAE3BA,EADqB,MAAlBlC,EAAInC,WACiBrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAM+e,EAAEmuF,YAAcmC,EAAInC,YAAY,GAE3FrjH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMuwG,EAAevwG,IAAI,GAGlF,IAAI9T,EAAUrC,KAAK+sC,aACnB,GAA2B,MAAvB1qC,EAAQ8mH,YACZ,CACC,IAAIrB,EAAuB,IAAIO,EAS/B,GARAP,EAAqBh9E,OAAS9qC,KAC9B8nH,EAAqBE,WAAatB,EAClCoB,EAAqBvkG,MAAQiiG,EAAIjiG,MACjCukG,EAAqBtkG,IAAMglG,EAAahlG,IACxCskG,EAAqB7pE,SAAWunE,EAChCsC,EAAqBzE,WAAamC,EAAInC,WACtChhH,EAAQ8mH,YAAYrB,GAEhBA,EAAqB/jG,qBAGxB,YADAykG,EAAe,MAOjB,IAAIb,EAAmB3nH,KAAK69F,aAAa9oE,QAAQ2yF,GACjDA,EAAwB1nH,KAAK69F,aAAa8pB,GAC1CD,EAAsBnkG,MAAQiiG,EAAIjiG,MAClCmkG,EAAsBlkG,IAAMglG,EAAahlG,IACzCkkG,EAAsBrE,WAAamC,EAAInC,WAGvCmF,EAAe,KACfC,EAAQ,UAOZ,eAAwCzJ,GAEvC,GAAsB,MAAlBA,GAA0BA,EAAe5zG,OAAS,EACtD,CACC,IAAI/I,EAAUrC,KAAK+sC,aACnB/sC,KAAK+kH,kCAAkC/F,EAAe,IACtDh/G,KAAKopH,gBAAkBpK,EAEvB,EAAA7zG,KAAKnL,KAAKsC,aAAawZ,KAAK,4BAA4BzB,SAExD,IAAIgvG,EAAuBr9G,SAASkkE,yBAChC+0C,EAAgBvoG,MAAMm/B,KAAK,EAAA1wC,KAAKnL,KAAKsC,aAAawZ,KAAK,mDAAmDc,IAAIsY,GAAc,EAAA/pB,KAAK+pB,GAAGlO,cACpIsiG,EAAejmG,KAAKC,kCAAkCjhB,EAAQu7G,UAAYv7G,EAAQw7G,SAElF8E,EAAgB,EAAAx3G,KAAKnL,KAAKihH,iBAAiBnlG,KAAK,SAASN,SAC7D,IAAK,IAAI+tG,KAAgBvK,EACzB,CAEC,IAAIvuC,EAAWptD,KAAK4N,wBAAwB,IAAI5N,KAAKkmG,EAAahmG,QAC9DmtD,EAASrtD,KAAK4N,wBAAwB,IAAI5N,KAAKkmG,EAAa/lG,MAE5DgmG,EAA4CxpH,KAAK6iH,iBAAiBvtF,OAAOJ,IAAMq0F,EAAalG,YAAcnuF,EAAEmuF,YAAyC,MAA3BkG,EAAalG,aAAuBhgG,KAAKyL,uBAAuBoG,EAAE3R,MAAO2R,EAAE1R,IAAKitD,EAAUC,IAAS,GACjO,GAA2B,MAAvB84C,EACJ,CAEC,IACI/C,EADuBxB,EAAc,GAAKuE,EAAoBxgD,YAC3BhpE,KAAKy+G,iBACxCgL,EAA2C,GAA/BD,EAAoBniD,SAGhCohB,EAAWplE,KAAKC,kCAAkCkmG,EAAoBjmG,MAAOgmG,EAAa/lG,KAC1FilE,EAAW6gC,IACd7gC,EAAW6gC,GAEZ,IAAI9tG,EAA0D,GAAjD+R,KAAKkF,MAAMg2D,EAAWzoF,KAAKyiH,oBACxCjnG,GAAmBA,EAAS,GACxBA,GAAU,IACbA,EAAS,IAELiuG,EAAYjuG,EAAUmnG,IAC1BnnG,GAAYiuG,EAAYjuG,EAAUmnG,GAInC,IAAI+G,EAAkB19G,SAAS4b,cAAc,OAC7C8hG,EAAgBjuG,MAAMC,QAAU,QAAU+tG,EAAY,aAAehD,EAAY,MACjFiD,EAAgB9qF,UAAY,0BAG5B8qF,EAAgBjuG,MAAMC,SAAW,UAAYupG,EAAcuE,EAAoBxgD,aAAe,eAAiBxtD,EAAS,MAGxHxb,KAAK2mH,8BAA8B+C,EAAiBH,GACpDF,EAAqBxhG,YAAY6hG,IAGnC1pH,KAAKihH,gBAAgBp5F,YAAYwhG,GAElC,OAAOrpH,KAAKopH,gBAGL,kCAAkCO,GAEzC,IAAI7kG,EAAQ,GAQZ,GAPwB,MAApB6kG,EAAcxzG,IACjB2O,EAAM0O,KAAK,MACe,MAAvBm2F,EAAcpmG,OACjBuB,EAAM0O,KAAK,SACa,MAArBm2F,EAAcnmG,KACjBsB,EAAM0O,KAAK,OAER1O,EAAM1Z,OAAS,EAClB,MAAMQ,MAAM,+BAAiCkZ,EAAMhI,YAG7C,8BAA8BkrG,EAAyB2B,GAiC9D,GA/BA3B,EAAW7xG,GAAKwzG,EAAcxzG,GAGD,MAAzBwzG,EAAcvzG,SACjB4xG,EAAWtpF,aAAa,QAASirF,EAAcvzG,SAEX,MAAjCuzG,EAAcvmE,kBACjB4kE,EAAWvsG,MAAM2nC,gBAAkBumE,EAAcvmE,iBAEnB,MAA3BumE,EAAcxmE,YACjB6kE,EAAWvsG,MAAMP,MAAQyuG,EAAcxmE,WAId,MAAtBwmE,EAAc52G,MACjBi1G,EAAW4B,mBAAmB,aAAcD,EAAc52G,MAIlC,MAArB42G,EAAc5zG,KAAoC,IAArB4zG,EAAc5zG,MAC9CiyG,EAAWvsG,MAAMC,SAAWiuG,EAAc5zG,KAEhB,MAAvB4zG,EAAczzG,OAAwC,IAAvByzG,EAAczzG,OAChD8xG,EAAWhuG,UAAUpP,IAAI++G,EAAczzG,OAIxC8xG,EAAWtpF,aAAa,aAAcirF,EAActG,YACpD2E,EAAWtpF,aAAa,QAASirF,EAAcpmG,MAAMzG,YACrDkrG,EAAWtpF,aAAa,MAAOirF,EAAcnmG,IAAI1G,YAEjB,MAA5B6sG,EAAcpzG,WAEjB,IAAK,IAAIC,KAAamzG,EAAcpzG,WACnCyxG,EAAWtpF,aAAaloB,EAAU7U,IAAK6U,EAAUnV,OAKpD,OAAOwoH,GAAe,EAAM7K,GAAiB,GAExC6K,GAAc7pH,KAAK8pH,qBACnB9K,GAAgBh/G,KAAK+pH,uBAG1B,qBAEC/pH,KAAK69F,WAAW79F,KAAKwkH,aAGtB,uBAECxkH,KAAKg/G,eAAeh/G,KAAKopH,iBAK1B,WAAWY,GAEV,GAAsB,MAAlBA,EASH,OAP6B,MAAzBA,EAAeC,SAAgBD,EAAeC,QAAS,GAC3DjqH,KAAK0+G,gBAAkBsL,EAEvBhqH,KAAKkqH,oBAAqB,EACrBF,EAAeC,QACnBjqH,KAAKmqH,yBAEEnqH,KAAK0vF,QAEZ,KAAK,EAAAx+E,kBAAkBq4B,IACtB,CAEC,IAAI6gF,EAAgBJ,EAAeK,QACnC,GAAqB,MAAjBD,EACJ,CACC,IAAK,IAAInL,KAAcmL,EACvB,CACwB,MAAnBnL,EAAW51F,MAA4C,iBAApB41F,EAAe,OAErDA,EAAW51F,KAAO,IAAIhG,KAAK47F,EAAW51F,MACtC41F,EAAW51F,KAAKiH,SAAS,EAAG,EAAG,IAGhC,IAAIg6F,EAAgBtqH,KAAKqpB,OAEzB,GADAihG,EAAeh6F,SAAS,EAAG,EAAG,GACP,MAAnB2uF,EAAW51F,OAAiBhG,KAAKwJ,SAASoyF,EAAW51F,KAAMihG,GAC9D,MAED,IAAI9I,EAAgB,EAAAr2G,KAAK,uCAAyC8zG,EAAWoE,WAAa,gCAAgC,GACtHkH,EAAiB,EAAAp/G,KAAK,uCAAyC8zG,EAAWoE,WAAa,iCAAiC,GAC5HrjH,KAAKwqH,2BAA2BvL,EAAYuC,EAAe+I,GAE5DvqH,KAAKkgH,eAIP,MACD,KAAK,EAAAhvG,kBAAkBwuG,KACtB,CAEC,IAAI+K,EAAiBT,EAAeU,SACpC,GAAsB,MAAlBD,EACJ,CACC,GAAKzqH,KAAK2/G,kBAYV,CAEC,IAAIgL,EAA8BF,EAAeG,cACjD,GAAmC,MAA/BD,EAEH,IAAK,IAAI1L,KAAc0L,EACvB,CACiC,iBAApB1L,EAAe,OAE1BA,EAAW51F,KAAO,IAAIhG,KAAK47F,EAAW51F,MACtC41F,EAAW51F,KAAKiH,SAAS,EAAG,EAAG,IAGhC,IAAIxG,EAAMm1F,EAAW51F,KAAKU,UACtBH,EAAQq1F,EAAW51F,KAAKQ,WACxBH,EAAOu1F,EAAW51F,KAAKM,cAE3B,GAA+B,MAA3Bs1F,EAAW4L,aAEd,IAAK,IAAIC,KAAsB7L,EAAW4L,aAC1C,CACC,IAAIE,EAAa,EAAA5/G,KAAK,uCAAyC2/G,EAAmB30G,GAAK,WAAa2T,EAAM,aAAeF,EAAQ,YAAcF,EAAO,MAAM,GAC5J,GAAkB,MAAdqhG,EACJ,CACC,IAAIvJ,EAAgB,EAAAr2G,KAAK4/G,GAAYjvG,KAAK,6BAA6B,GACnEyuG,EAAiB,EAAAp/G,KAAK4/G,GAAYjvG,KAAK,8BAA8B,GACzE9b,KAAKwqH,2BAA2BM,EAAoBtJ,EAAe+I,UArCzE,CAEC,IAAIS,EAAkCP,EAAepI,kBACrD,GAAuC,MAAnC2I,EAEH,IAAK,IAAI/L,KAAc+L,EACtBhrH,KAAKirH,mBAAmBhM,GAuC3Bj/G,KAAKkgH,eAIP,MACD,KAAK,EAAAhvG,kBAAkBuvG,UACtB,CAEC,IAAIyK,EAAsBlB,EAAemB,cACzC,GAA2B,MAAvBD,EACJ,CACC,IAAK,IAAIjM,KAAciM,EACtBlrH,KAAKirH,mBAAmBhM,GAEzBj/G,KAAKkgH,gBAOV,OAAOlgH,KAAK0+G,gBAGL,2BAA2BO,EAAyDuC,EAA4B+I,GAEvH,IAAIjnE,EAAyC,MAA1B27D,EAAW37D,YAAuB27D,EAAW37D,YAAc,OACzD,MAAjBk+D,IACHA,EAAc/lG,MAAMC,SAAW,iBAAmB4nC,EAAc,KAEjE,IAAIpoC,EAA6B,MAApB+jG,EAAW/jG,MAAiB+jG,EAAW/jG,MAAQ,UACtC,MAAlBqvG,IAEH,EAAAp/G,KAAKo/G,GAAgBhvG,MAAM0jG,EAAWmM,gBAAkB,KACxDb,EAAe9uG,MAAMC,SAAW,qBAAuBR,EAAQ,IAC/DqvG,EAAe7sD,cAAeznD,MAAQgpG,EAAWmM,gBAAkB,IAEjC,MAA9BnM,EAAWmM,iBACd,EAAAjgH,KAAKo/G,GAAgBpqE,SAASpqC,IAAI,UAAW,SAIxC,mBAAmBkpG,GAE1B,IAAIoM,EAAyB,EAAAlgH,KAAK,uCAAyC8zG,EAAWoE,WAAa,uCAAuC,GAU1I,GAT8B,MAA1BgI,IAEH,EAAAlgH,KAAKkgH,GAAwBnvG,OAC7BmvG,EAAuBvpF,UAAY,KAAsC,MAA9Bm9E,EAAWmM,gBAA2BnM,EAAWmM,gBAAkB,IAAM,IAEvF,MAAzBnM,EAAWqM,aAAoBrM,EAAWqM,WAAa,QAC3DD,EAAuB5vG,MAAMC,SAAW,UAAYujG,EAAWqM,YAGrC,MAAvBrM,EAAWsM,SAEd,IAAK,IAAIC,KAAkBvM,EAAWsM,SACtC,CACqC,iBAAxBC,EAAmB,OAE9BA,EAAeniG,KAAO,IAAIhG,KAAKmoG,EAAeniG,MAC9CmiG,EAAeniG,KAAKiH,SAAS,EAAG,EAAG,IAGpC,IAAIpV,EAAiC,MAAxBswG,EAAetwG,MAAiBswG,EAAetwG,MAAQ,UAChE4O,EAAM0hG,EAAeniG,KAAKU,UAC1BH,EAAQ4hG,EAAeniG,KAAKQ,WAC5BH,EAAO8hG,EAAeniG,KAAKM,cAE3B8hG,EAAY,EAAAtgH,KAAK,mCAAqC8zG,EAAWoE,WAAa,WAAav5F,EAAM,aAAeF,EAAQ,YAAcF,EAAO,MAAM,GACvJ,GAAiB,MAAb+hG,EACJ,CACC,IAAIjK,EAAgB,EAAAr2G,KAAKsgH,GAAW3vG,KAAK,6BAA6B,GAClEwnC,EAA6C,MAA9BkoE,EAAeloE,YAAuBkoE,EAAeloE,YAAc,OACjE,MAAjBk+D,IACHA,EAAc/lG,MAAMC,SAAW,iBAAmB4nC,EAAc,KAEjE,IAAIinE,EAAiB,EAAAp/G,KAAKsgH,GAAW3vG,KAAK,8BAA8B,GAClD,MAAlByuG,IAEH,EAAAp/G,KAAKo/G,GAAgBhvG,MAAMiwG,EAAeJ,gBAAkB,KAC5Db,EAAe9uG,MAAMC,SAAW,qBAAuBR,EAAQ,IAC/DqvG,EAAe7sD,cAAeznD,MAAQu1G,EAAeJ,gBAAkB,IAEjC,MAAlCI,EAAeJ,iBAClB,EAAAjgH,KAAKo/G,GAAgBpqE,SAASpqC,IAAI,UAAW,WAOnD,kBAEC/V,KAAK0+G,qBAAkBhhG,EACvB1d,KAAK0rH,iBAGN,iBAEC1rH,KAAK2rH,yBACL3rH,KAAKkqH,oBAAqB,EAGnB,yBAEP,IAAK,IAAI1I,KAAiB9kG,MAAMm/B,KAAkB,EAAA1wC,KAAK,8BACtDq2G,EAAc/lG,MAAMC,SAAW,iBAEhC,EAAAvQ,KAAK,oCAAoC+Q,OACzClc,KAAKkgH,cAGN,iBAEClgH,KAAKmqH,yBACLnqH,KAAKkqH,oBAAqB,EAGnB,yBAEP,EAAA/+G,KAAK,6BAA6B0H,OAClC,EAAA1H,KAAK,oCAAoC0H,OACzC7S,KAAKkgH,cAGN,oBAEC,OAAOlgH,KAAKkqH,mBAKb,kBAAkB0B,GAEZA,EAAa1gH,WAAW,OAC5B0gH,EAAe,IAAMA,GAEtB,IAAIlF,EAAiB,EAAAv7G,KAAKygH,GAAc,GAClB,MAAlBlF,IAEHA,EAAe1sG,UAAUpP,IAAI,kCAC7B87G,EAAe1sG,UAAUpP,IAAI,iCAIvB,uBAEP,EAAAO,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAS,+EAAiF7B,IAEjH,IAAIjY,EAAUrC,KAAK+sC,aACnB,IAAK/sC,KAAKiqC,UACT,OAED,IAAI9G,EAAS,EAAAh4B,KAAKmP,EAAE0rB,eAChB4gF,EAAqB,EAAAz7G,KAAKnL,KAAKihH,iBAAiBzoF,SAAS5R,IACzDigG,EAAwB7mH,KAAKihH,gBAAgBjvD,UAC7C80D,EAAsB,EAAA37G,KAAKnL,KAAKihH,iBAAiBzoF,SAASzR,KAE1Dm+F,EAAY,EAAA/5G,KAAKnL,KAAKsC,aAAawZ,KAAK,mCAAmCkL,aAC3EogG,EAAiB9sG,EAAE8d,QAAU0uF,EAC7BO,EAAiB/sG,EAAEge,QAAUuuF,EAAwBD,EACrDxD,EAAcpjH,KAAK6iH,iBAAiBvtF,OAAOJ,GAAKA,EAAE8zC,aAAgBz7C,KAAK20C,OAAOklD,EAAiB,IAAMlC,IAAehwF,EAAEmyC,UAAY95C,KAAK20C,MAAMmlD,EAAiB,KAAK,GACvK,GAAmB,MAAfjE,EACH,OAED,IAAIyI,EAAwB,EAAA7gH,eAAeoqC,UAAUguE,GAKrD,GAJAyI,EAAsBtoG,MAAQ,IAAIF,KAAKwoG,EAAsBtoG,OAC7DsoG,EAAsBroG,IAAM,IAAIH,KAAKwoG,EAAsBroG,KAG3C,GAAZlJ,EAAEwoC,QAAgB9iD,KAAKsiG,WAActiG,KAAKy1D,YAiE7Cz1D,KAAKsiG,WAAY,EACjBtiG,KAAKy1D,aAAc,OAhEnB,GAAItyB,EAAO7E,SAAS,0BACpB,CACC,IAAIopF,EAAwB1nH,KAAK69F,aAAavoE,OAAOJ,GAAKA,EAAE/e,IAAMgtB,EAAO,GAAGhtB,IAAI,GAC5EsyE,EAAWplE,KAAKC,kCAAkCokG,EAAsBlkG,IAAKkkG,EAAsBnkG,OACnGA,EAAQ,IAAIF,KAAKqkG,EAAsBnkG,OACvCC,EAAM,IAAIH,KAAKE,GAAO2M,aAAau4D,GAGvC,GAAkC,MAA9BpmF,EAAQypH,mBACZ,CACC,IAAIC,EAA0B,IAAIC,EAClCD,EAAwBjhF,OAAS9qC,KACjC+rH,EAAwB3I,YAAcyI,EACtCE,EAAwBxoG,MAAQA,EAChCwoG,EAAwBvoG,IAAMA,EAC9BuoG,EAAwB1I,WAAaqE,EAAsBrE,WAC3D0I,EAAwB9tE,SAAWypE,EACnCqE,EAAwB1gH,QAAU83B,EAAO,GACzC9gC,EAAQypH,mBAAmBC,SAIxB,GAAI5oF,EAAO7E,SAAS,2BACzB,CACC,IAAI2tF,EAAyBjsH,KAAKg/G,iBAAiB1pF,OAAOJ,GAAKA,EAAE/e,IAAMgtB,EAAO,GAAGhtB,IAAI,GACjFsyE,EAAWplE,KAAKC,kCAAkC2oG,EAAuBzoG,IAAKyoG,EAAuB1oG,OACrGA,EAAQ,IAAIF,KAAK4oG,EAAuB1oG,OACxCC,EAAM,IAAIH,KAAKE,GAAO2M,aAAau4D,GAGvC,GAAmC,MAA/BpmF,EAAQ6pH,oBACZ,CACC,IAAIC,EAA2B,IAAIC,EACnCD,EAAyBrhF,OAAS9qC,KAClCmsH,EAAyB/I,YAAcyI,EACvCM,EAAyB5oG,MAAQA,EACjC4oG,EAAyB3oG,IAAMA,EAC/B2oG,EAAyB9I,WAAa4I,EAAuB5I,WAC7D8I,EAAyBluE,SAAWguE,EACpCE,EAAyB9gH,QAAU83B,EAAO,GAC1C9gC,EAAQ6pH,oBAAoBC,SAO7B,GAA+B,MAA3B9pH,EAAQgqH,gBACZ,CACC,IAAIC,EAAuB,IAAIC,EAC/BD,EAAqBxhF,OAAS9qC,KAC9BssH,EAAqBlJ,YAAcyI,EACnCS,EAAqB/oG,MAAQsoG,EAAsBtoG,MACnD+oG,EAAqB9oG,IAAMqoG,EAAsBroG,IACjD8oG,EAAqBjJ,WAAaD,EAAYC,WAC9CiJ,EAAqBjhH,QAAU83B,EAAO,GACtC9gC,EAAQgqH,gBAAgBC,MAY5B,EAAAnhH,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAS,0BAA4B7B,IAG5D,GAAgB,GAAZA,EAAEwoC,OACN,CACC,IAAI3f,EAAS,EAAAh4B,KAAKmP,EAAE0rB,eAChBq9E,EAAalgF,EAAO,GAAG3E,aAAa,cACpCguF,EAAerpF,EAAO,GAAG3E,aAAa,gBAAiBpkB,QAAQ,IAAK,KAEpEinG,EAAW,IAAI,EAAAp+F,kBACnBo+F,EAAShgH,MAAQgiH,EACjBhC,EAAStuG,KAAOy5G,EAChBxsH,KAAK2+G,UAAU,CAAC0C,IAEhBrhH,KAAK0vF,KAAK,EAAAx+E,kBAAkBuvG,cAI9B,EAAAt1G,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAS,sBAAwB7B,IAGxD,GAAgB,GAAZA,EAAEwoC,OACN,CACC,IAAI3f,EAAS,EAAAh4B,KAAKmP,EAAE0rB,eAChBlc,EAAMqZ,EAAO,GAAG3E,aAAa,OAC7B5U,EAAQuZ,EAAO,GAAG3E,aAAa,SAC/B9U,EAAOyZ,EAAO,GAAG3E,aAAa,QAElCx+B,KAAK0vF,KAAK,EAAAx+E,kBAAkBq4B,KAC5B,IAAIlgB,EAAO,IAAIhG,KAAKqG,EAAME,EAAOE,GACjC9pB,KAAKqpB,KAAKA,MAKL,gBAEP,OAAO,EAAAle,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0B,GAKtD,2BAA2B4oG,EAA4BU,GAG9D,IAAI7hG,EAAQ,IAAIF,KAAKqhG,EAAYnhG,OACjCvjB,KAAK+lH,4BAA4BxiG,EAAOyiG,EAAsBC,OAE9D,IAAIziG,EAAM,IAAIH,KAAKqhG,EAAYlhG,KAC/BxjB,KAAK+lH,4BAA4BviG,EAAKwiG,EAAsBE,KAG5D,IAAIuG,EAAmBzsH,KAAK0sH,oBAAoBhI,GAE5CW,EAAgC,GACnCX,EAA6CC,YAAa,EAC1DD,EAA6CgB,cAAgB+G,EAC9DpH,EAAuB7xF,KAAKkxF,GAG5B,IAAK,IAAIiI,KAAkBvH,EAC3B,CACC,GAAKuH,EAAgDhI,WACpD,SAGD,IAAIiI,EAAsB,IAAIvpG,KAAKspG,EAAeppG,OAClDvjB,KAAK+lH,4BAA4B6G,EAAqB5G,EAAsBC,OAE5E,IAAI4G,EAAoB,IAAIxpG,KAAKspG,EAAenpG,KAIhD,GAHAxjB,KAAK+lH,4BAA4B8G,EAAmB7G,EAAsBE,KAIpE3iG,EAAQspG,GAAqBrpG,EAAMopG,EACzC,CACC,IAAIhH,EAAiB5lH,KAAKslH,2BAA2BqH,EAAgBvH,GACrE,IAAK,IAAI0H,KAAiBlH,EACzBP,EAAuB7xF,KAAKs5F,IAG/B,OAAOzH,EAGA,4BAA4Bh8F,EAAY0jG,GAE/C,IAAI7iG,EAAUb,EAAKc,aACfs4F,EAAmBziH,KAAKyiH,mBAY5B,OAVIsK,GAAY/G,EAAsBC,MAEjC/7F,EAAUu4F,EAAmB,GAChCp5F,EAAK2jG,WAAW9iG,EAAWA,EAAUu4F,GAE9BsK,GAAY/G,EAAsBE,KAEtCh8F,EAAUu4F,EAAmB,GAChCp5F,EAAK2jG,WAAW9iG,GAAWu4F,EAAoBv4F,EAAUu4F,IAEpDp5F,EAGA,oBAAoBq7F,GAE3B,IAAInhG,EAAQ,IAAIF,KAAKqhG,EAAYnhG,OAC7BC,EAAM,IAAIH,KAAKqhG,EAAYlhG,KAC/B,OAAOxjB,KAAK6iH,iBAAiBvtF,OAAOJ,IAAMwvF,EAAYrB,YAAcnuF,EAAEmuF,YAAwC,MAA1BqB,EAAYrB,aAAuBnuF,EAAE3R,MAAMwG,WAAaxG,EAAMwG,WAAa1G,KAAKyL,uBAAuBoG,EAAE3R,MAAO2R,EAAE1R,IAAKD,EAAOC,IAGnN,UAAU4E,EAAW,iBAAkB6kG,GAAc,EAAOC,GAAY,EAAOlxG,GAAS,GAEnFA,GACH,EAAAuB,aAEI0vG,IACJ,EAAA9hH,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0B,GAAGL,MAAMC,SAAW,kBAE3E8I,OAAOwa,WAAW,KAEjBmuF,YAAYntH,KAAKsC,aAAaub,KAAMgpE,IAGnC,IAAInpD,EAAenkB,EAAEvZ,KAAKsC,aAAaiZ,QACnCoiB,EAAgBpkB,EAAEvZ,KAAKsC,aAAakZ,SAEpC4xG,EAAW1vF,EAAgB,EAC3B2vF,EAAwB,EAAXD,EAAgB,EAC7BE,EAAgB//F,KAAK82E,KAAK1mE,EAAiB0vF,GAAa,EAGxD1hB,EAAM,IAAI4hB,MAAM,CACnB/iE,YAAa,YACbgjE,KAAM,KACN7+F,OAAQ,CAACy+F,EAAUC,KAGpB,IAAII,EAAU5mC,EAAO4d,UAAU,YAAa,GAC5CkH,EAAI+hB,SAASD,EAAS,MAbF,IAauC/vF,EAAcC,GAEzE,IAAK,IAAIv9B,EAAI,EAAGA,GAAKktH,EAAeltH,IAEnCurG,EAAIgiB,QAAQ,CAACP,EAAUC,GAAY,aACnC1hB,EAAI+hB,SAASD,EAAS,MAlBH,GAkB2BJ,EAAYjtH,EAAK,EAAqBs9B,EAAcC,GAG/FuvF,GACHvhB,EAAIuhB,YAELvhB,EAAI5sB,KAAK32D,GAELpM,GACH,EAAA2B,gBAEA,KAGJ,aAEC,OAAO3d,KAAKqC,WAptEd,cA6tEA,MAAMurH,UAAuB,EAAA/uG,iBAK7B,MAAMilG,UAA+B8J,GAQrC,MAAMlK,UAAiCkK,GAMvC,MAAMrJ,UAAqCqJ,GAO3C,MAAMxJ,UAAsCwJ,GAM5C,IAAK5H,GAAL,SAAKA,GAEJ,qBACA,iBAHD,CAAKA,MAAqB,KAO1B,MAAM6H,UAA4BD,GASlC,MAAarB,UAAoCsB,GAAjD,gCAIA,MAAa7B,UAAuC6B,GAApD,mCAKA,MAAazB,UAAwCyB,GAArD,oCAOA,MAAMC,UAA2BF,GASjC,MAAM3F,UAAgC6F,GAItC,MAAM/F,UAA6B+F,GAKnC,MAAMzF,UAA8ByF,GAMpC,MAAMC,UAA6BH,GASnC,MAAM3E,UAAkC8E,GAIxC,MAAMhF,UAA+BgF,GAUrC,MAAMhQ,GAcN,MAAMiQ,UAAqCJ,GAM3C,MAAM9N,UAA6BkO,GAInC,MAAM3N,UAA+B2N,GAIrC,MAAMxP,K,8GC75EN,cACA,OACA,OAGA,MAAayP,UAAsB,EAAAljH,kBAAnC,kBAYA,MAAa9C,UAAe,EAAAihC,UAO3B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAI4rH,GAEM,MAAjB5rH,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACtB,MAAjBlZ,EAAQ6Y,QAAe7Y,EAAQ6Y,MAAQ,WACvB,MAAhB7Y,EAAQw4B,OAAcx4B,EAAQw4B,MAAO,GACjB,MAApBx4B,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAE5B,MAAlB55B,EAAQghD,SAAgBhhD,EAAQghD,QAAS,IACtB,IAAnBhhD,EAAQghD,SAAiBhhD,EAAQghD,OAAS,IAAI6qE,IAC3B,IAAnB7rH,EAAQghD,SAEiB,MAAxBhhD,EAAQghD,OAAOnoC,QAAe7Y,EAAQghD,OAAOnoC,MAAQ7Y,EAAQ6Y,OACtC,MAAvB7Y,EAAQghD,OAAO18B,OAActkB,EAAQghD,OAAO18B,KAAO,GAC3B,MAAxBtkB,EAAQghD,OAAO5nC,QAAepZ,EAAQghD,OAAO5nC,MAAQ,EAAAnO,gBAAgBipC,QAI1EttB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBuF,QAEnB,MAAjB5F,EAAQhB,OACXrB,KAAKqB,MAAMgB,EAAQhB,OAGG,MAAnBgB,EAAQ85B,UAEXn8B,KAAKqL,UAAUoQ,MAAMC,SAAW,mBAChC,EAAAvQ,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAU7B,IAEjC,IAAIwrC,EAAa,IAAIqoE,EACrBroE,EAAWhb,OAAS9qC,KACpB8lD,EAAWzkD,MAAQrB,KAAKqB,QACxBgB,EAAS85B,QAAS2pB,MAOrB,MAAMzkD,GAEL,GAAa,MAATA,EACJ,CACC,GAAc,KAAVA,EAGH,OADArB,KAAK+tC,QACE,GAGR,IAAI1rC,EAAUrC,KAAK+sC,aACnB,EAAA5hC,KAAKnL,KAAKqL,WAAWy/C,QAErB,IACIsjE,EADqB,EAAAC,cAAcC,WAAW9kG,OAAOnoB,GAAQ,EAAAktH,IAAIC,QACvDC,YAAY,EAAGpsH,EAAQ6Y,OAQrC,GAPA,EAAA/P,KAAKnL,KAAKqL,WAAWe,aAAagiH,GAElCpuH,KAAK0uH,KAAO,EAAAvjH,KAAKnL,KAAKqL,WAAWyQ,KAAK,OAAO,GAExCzZ,EAAQw4B,OACZ,EAAA1vB,KAAKnL,KAAK0uH,MAAM5yG,KAAK,QAAQ,GAAGL,MAAMC,SAAW,uBAE3B,IAAnBrZ,EAAQghD,OACZ,CACC,IAAIA,EAAShhD,EAAQghD,OACrBrjD,KAAK0uH,KAAKjzG,MAAMC,SAAW,iBAAmB2nC,EAAO5nC,MAAQ,mBAAqB4nC,EAAO18B,KAAO,qBAAuB08B,EAAOnoC,MAAQ,IAGvIlb,KAAKurC,OAASlqC,EACdrB,KAAKoW,QAAQoT,OAAOnoB,IAErB,OAAOmoB,OAAOxpB,KAAKurC,QAGpB,MAEC,OAAOvrC,KAAK0uH,KAGb,QAEC,EAAAvjH,KAAKnL,KAAKqL,WAAWy/C,QACrB9qD,KAAKurC,OAAS,GACdvrC,KAAKoW,QAAQ,IAGd,aAEC,OAAOpW,KAAKqC,WAjGd,WAwGA,MAAM6rH,GAON,MAAMC,UAAyB,EAAAtvG,mB,8HC5H/B,MAAawvG,EAsGZ,YAGiBM,EAGAC,EAEhBC,EAKgBC,GAIhB,GAdgB,KAAAH,UAGA,KAAAC,uBAOA,KAAAE,OAzBA,KAAAxuH,QAAiC,GAGjC,KAAA8mF,WAAoC,GA0BhDunC,EAAUN,EAAcU,aAAeJ,EAAUN,EAAcW,YAClE,KAAM,6BACP,GAAIF,GAAQ,GAAKA,EAAO,EACvB,KAAM,0BACP9uH,KAAK2mB,KAAiB,EAAVgoG,EAAc,GAG1B,IAAI3yD,EAAsB,GAC1B,IAAK,IAAI57D,EAAI,EAAGA,EAAIJ,KAAK2mB,KAAMvmB,IAC9B47D,EAAIxoC,MAAK,GACV,IAAK,IAAIpzB,EAAI,EAAGA,EAAIJ,KAAK2mB,KAAMvmB,IAE9BJ,KAAKM,QAAQkzB,KAAKwoC,EAAIppC,SACtB5yB,KAAKonF,WAAW5zD,KAAKwoC,EAAIppC,SAI1B5yB,KAAKivH,uBACL,MAAMC,EAA4BlvH,KAAKmvH,oBAAoBN,GAI3D,GAHA7uH,KAAKovH,cAAcF,IAGN,GAATJ,EACJ,CACC,IAAIO,EAAkB,IACtB,IAAK,IAAIjvH,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACCJ,KAAKsvH,UAAUlvH,GACfJ,KAAKuvH,eAAenvH,GACpB,MAAMovH,EAAexvH,KAAKyvH,kBACtBD,EAAUH,IAEbP,EAAO1uH,EACPivH,EAAaG,GAEdxvH,KAAKsvH,UAAUlvH,IAGjB,GAAI0uH,EAAO,GAAKA,EAAO,EACtB,KAAM,kBACP9uH,KAAK8uH,KAAOA,EACZ9uH,KAAKsvH,UAAUR,GACf9uH,KAAKuvH,eAAeT,GAEpB9uH,KAAKonF,WAAa,GAhKZ,kBAAkBr0E,EAAc28G,GAEtC,MAAMC,EAAyBC,EAAUC,aAAa98G,GACtD,OAAOs7G,EAAcyB,eAAeH,EAAMD,GAIpC,oBAAoBrvF,EAAmBqvF,GAE7C,MAAMK,EAAiBH,EAAUI,UAAU3vF,GAC3C,OAAOguF,EAAcyB,eAAe,CAACC,GAAML,GAIrC,sBAAsBC,EAAwBD,EACpDO,EAAkB,EAAGC,EAAkB,GACvCpB,GAAY,EAAIqB,GAAoB,GAEpC,KAAM9B,EAAcU,aAAekB,GAAcA,GAAcC,GAAcA,GAAc7B,EAAcW,cACrGF,GAAQ,GAAKA,EAAO,EACvB,KAAM,gBAGP,IAAIH,EACAyB,EACJ,IAAKzB,EAAUsB,GAActB,IAC7B,CACC,MAAM0B,EAA0E,EAAlDhC,EAAciC,oBAAoB3B,EAASe,GACnEa,EAAmBX,EAAUY,aAAab,EAAMhB,GACtD,GAAI4B,GAAYF,EAChB,CACCD,EAAeG,EACf,MAED,GAAI5B,GAAWuB,EACd,KAAM,gBAIR,IAAK,MAAMO,IAAU,CAAClC,EAAIC,OAAQD,EAAImC,SAAUnC,EAAIoC,MAE/CR,GAAYC,GAAqE,EAArD/B,EAAciC,oBAAoB3B,EAAS8B,KAC1Ef,EAAMe,GAIR,IAAIG,EAAiB,GACrB,IAAK,MAAMb,KAAOJ,EAClB,CACCkB,EAAWd,EAAIxuH,KAAKuvH,SAAU,EAAGF,GACjCC,EAAWd,EAAIgB,SAAUhB,EAAIxuH,KAAKyvH,iBAAiBrC,GAAUiC,GAC7D,IAAK,MAAMzlG,KAAK4kG,EAAI/6E,UACnB47E,EAAGp9F,KAAKrI,GAEV,GAAIylG,EAAGxlH,QAAUglH,EAChB,KAAM,kBAGP,MAAMC,EAA0E,EAAlDhC,EAAciC,oBAAoB3B,EAASe,GACzE,GAAIkB,EAAGxlH,OAASilH,EACf,KAAM,kBAGP,GAFAQ,EAAW,EAAGtjG,KAAKgJ,IAAI,EAAG85F,EAAmBO,EAAGxlH,QAASwlH,GACzDC,EAAW,GAAI,EAAID,EAAGxlH,OAAS,GAAK,EAAGwlH,GACnCA,EAAGxlH,OAAS,GAAK,EACpB,KAAM,kBAGP,IAAK,IAAI6lH,EAAU,IAAML,EAAGxlH,OAASilH,EAAkBY,GAAW,IACjEJ,EAAWI,EAAS,EAAGL,GAGxB,IAAI/B,EAA6B,GACjC,KAA8B,EAAvBA,EAAczjH,OAAawlH,EAAGxlH,QACpCyjH,EAAcr7F,KAAK,GAKpB,OAJAo9F,EAAGl3G,QAAQ,CAACyR,EAAQ/qB,IACnByuH,EAAczuH,IAAM,IAAM+qB,GAAM,GAAS,EAAJ/qB,IAG/B,IAAIiuH,EAAcM,EAASe,EAAKb,EAAeC,GA2FhD,UAAU17F,EAAQytE,GAExB,OAAO,GAAKztE,GAAKA,EAAIpzB,KAAK2mB,MAAQ,GAAKk6E,GAAKA,EAAI7gG,KAAK2mB,MAAQ3mB,KAAKM,QAAQugG,GAAGztE,GAUvE,WAAW03E,EAAYznD,EAAawjC,GAE1C,GAAIikB,GAAS,GAAKznD,EAAS,EAC1B,KAAM,qBACP,MAAM9nC,GAAcvb,KAAK2mB,KAAgB,EAAT08B,GAAcynD,EAC9CjkB,EAAOtrE,MAAQA,EACfsrE,EAAOrrE,OAASD,EAChB,IAAI2xF,EAAMrmB,EAAOK,WAAW,MAC5B,IAAK,IAAI2Z,GAAKx9C,EAAQw9C,EAAI7gG,KAAK2mB,KAAO08B,EAAQw9C,IAE7C,IAAK,IAAIztE,GAAKiwB,EAAQjwB,EAAIpzB,KAAK2mB,KAAO08B,EAAQjwB,IAE7C85E,EAAI5I,UAAYtkG,KAAKkxH,UAAU99F,EAAGytE,GAAK,UAAY,UACnDqM,EAAI3I,UAAUnxE,EAAIiwB,GAAUynD,GAAQjK,EAAIx9C,GAAUynD,EAAOA,EAAOA,GAO5D,YAAYznD,EAAanoC,GAE/B,GAAImoC,EAAS,EACZ,KAAM,8BACP,IAAI8tE,EAAuB,GAC3B,IAAK,IAAItwB,EAAI,EAAGA,EAAI7gG,KAAK2mB,KAAMk6E,IAE9B,IAAK,IAAIztE,EAAI,EAAGA,EAAIpzB,KAAK2mB,KAAMyM,IAE1BpzB,KAAKkxH,UAAU99F,EAAGytE,IACrBswB,EAAM39F,KAAK,IAAIJ,EAAIiwB,KAAUw9C,EAAIx9C,aAGpC,MAAO,kNAE4DrjD,KAAK2mB,KAAgB,EAAT08B,KAAcrjD,KAAK2mB,KAAgB,EAAT08B,sFAE/F8tE,EAAM9zG,KAAK,eAAiBnC,EAAQ,gBAMvC,uBAGP,IAAK,IAAI9a,EAAI,EAAGA,EAAIJ,KAAK2mB,KAAMvmB,IAE9BJ,KAAKoxH,kBAAkB,EAAGhxH,EAAGA,EAAI,GAAK,GACtCJ,KAAKoxH,kBAAkBhxH,EAAG,EAAGA,EAAI,GAAK,GAIvCJ,KAAKqxH,kBAAkB,EAAG,GAC1BrxH,KAAKqxH,kBAAkBrxH,KAAK2mB,KAAO,EAAG,GACtC3mB,KAAKqxH,kBAAkB,EAAGrxH,KAAK2mB,KAAO,GAGtC,MAAM2qG,EAA0BtxH,KAAKuxH,+BAC/BC,EAAgBF,EAAYlmH,OAClC,IAAK,IAAIhL,EAAI,EAAGA,EAAIoxH,EAAUpxH,IAE7B,IAAK,IAAI2jC,EAAI,EAAGA,EAAIytF,EAAUztF,IAGlB,GAAL3jC,GAAe,GAAL2jC,GAAe,GAAL3jC,GAAU2jC,GAAKytF,EAAW,GAAKpxH,GAAKoxH,EAAW,GAAU,GAALztF,GAC7E/jC,KAAKyxH,qBAAqBH,EAAYlxH,GAAIkxH,EAAYvtF,IAKzD/jC,KAAKuvH,eAAe,GACpBvvH,KAAK0xH,cAKE,eAAe5C,GAGtB,MAAMzuF,EAAYrgC,KAAK4uH,qBAAqB+C,YAAc,EAAI7C,EAC9D,IAAI8C,EAAWvxF,EACf,IAAK,IAAIjgC,EAAI,EAAGA,EAAI,GAAIA,IACvBwxH,EAAOA,GAAO,EAAoB,MAAbA,IAAQ,GAC9B,MAAMC,EAA4B,OAApBxxF,GAAQ,GAAKuxF,GAC3B,GAAIC,IAAS,IAAM,EAClB,KAAM,kBAGP,IAAK,IAAIzxH,EAAI,EAAGA,GAAK,EAAGA,IACvBJ,KAAKoxH,kBAAkB,EAAGhxH,EAAG0xH,EAAOD,EAAMzxH,IAC3CJ,KAAKoxH,kBAAkB,EAAG,EAAGU,EAAOD,EAAM,IAC1C7xH,KAAKoxH,kBAAkB,EAAG,EAAGU,EAAOD,EAAM,IAC1C7xH,KAAKoxH,kBAAkB,EAAG,EAAGU,EAAOD,EAAM,IAC1C,IAAK,IAAIzxH,EAAI,EAAGA,EAAI,GAAIA,IACvBJ,KAAKoxH,kBAAkB,GAAKhxH,EAAG,EAAG0xH,EAAOD,EAAMzxH,IAGhD,IAAK,IAAIA,EAAI,EAAGA,EAAI,EAAGA,IACtBJ,KAAKoxH,kBAAkBpxH,KAAK2mB,KAAO,EAAIvmB,EAAG,EAAG0xH,EAAOD,EAAMzxH,IAC3D,IAAK,IAAIA,EAAI,EAAGA,EAAI,GAAIA,IACvBJ,KAAKoxH,kBAAkB,EAAGpxH,KAAK2mB,KAAO,GAAKvmB,EAAG0xH,EAAOD,EAAMzxH,IAC5DJ,KAAKoxH,kBAAkB,EAAGpxH,KAAK2mB,KAAO,GAAG,GAKlC,cAEP,GAAI3mB,KAAK2uH,QAAU,EAClB,OAGD,IAAIiD,EAAW5xH,KAAK2uH,QACpB,IAAK,IAAIvuH,EAAI,EAAGA,EAAI,GAAIA,IACvBwxH,EAAOA,GAAO,EAAqB,MAAdA,IAAQ,IAC9B,MAAMC,EAAY7xH,KAAK2uH,SAAW,GAAKiD,EACvC,GAAIC,IAAS,IAAM,EAClB,KAAM,kBAGP,IAAK,IAAIzxH,EAAI,EAAGA,EAAI,GAAIA,IACxB,CACC,MAAM8a,EAAiB42G,EAAOD,EAAMzxH,GAC9B8qB,EAASlrB,KAAK2mB,KAAO,GAAKvmB,EAAI,EAC9B+qB,EAASoC,KAAKwkG,MAAM3xH,EAAI,GAC9BJ,KAAKoxH,kBAAkBlmG,EAAGC,EAAGjQ,GAC7Blb,KAAKoxH,kBAAkBjmG,EAAGD,EAAGhQ,IAMvB,kBAAkBkY,EAAQytE,GAEjC,IAAK,IAAImxB,GAAM,EAAGA,GAAM,EAAGA,IAE1B,IAAK,IAAIC,GAAM,EAAGA,GAAM,EAAGA,IAC3B,CACC,MAAMC,EAAY3kG,KAAK8I,IAAI9I,KAAKC,IAAIykG,GAAK1kG,KAAKC,IAAIwkG,IAC5CG,EAAU/+F,EAAI6+F,EACdG,EAAUvxB,EAAImxB,EAChB,GAAKG,GAAMA,EAAKnyH,KAAK2mB,MAAQ,GAAKyrG,GAAMA,EAAKpyH,KAAK2mB,MACrD3mB,KAAKoxH,kBAAkBe,EAAIC,EAAY,GAARF,GAAqB,GAARA,IAOxC,qBAAqB9+F,EAAQytE,GAEpC,IAAK,IAAImxB,GAAM,EAAGA,GAAM,EAAGA,IAE1B,IAAK,IAAIC,GAAM,EAAGA,GAAM,EAAGA,IAC1BjyH,KAAKoxH,kBAAkBh+F,EAAI6+F,EAAIpxB,EAAImxB,EAA4C,GAAxCzkG,KAAK8I,IAAI9I,KAAKC,IAAIykG,GAAK1kG,KAAKC,IAAIwkG,KAMlE,kBAAkB5+F,EAAQytE,EAAQwxB,GAEzCryH,KAAKM,QAAQugG,GAAGztE,GAAKi/F,EACrBryH,KAAKonF,WAAWyZ,GAAGztE,IAAK,EAKjB,oBAAoBiN,GAE3B,MAAMiyF,EAAWtyH,KAAK2uH,QAChBe,EAAW1vH,KAAK4uH,qBACtB,GAAIvuF,EAAKj1B,QAAUijH,EAAciC,oBAAoBgC,EAAK5C,GACzD,KAAM,mBAGP,MAAM6C,EAAiBlE,EAAcmE,4BAA4B9C,EAAI+C,SAASH,GACxEI,EAAmBrE,EAAcsE,wBAAwBjD,EAAI+C,SAASH,GACtEM,EAAoBrlG,KAAKwkG,MAAM1D,EAAcwE,qBAAqBP,GAAO,GACzEQ,EAAsBP,EAAYK,EAAeL,EACjDQ,EAAqBxlG,KAAKwkG,MAAMa,EAAeL,GAGrD,IAAIS,EAA6B,GACjC,MAAMC,EAAqB5E,EAAc6E,0BAA0BR,GACnE,IAAK,IAAItyH,EAAI,EAAG80B,EAAI,EAAG90B,EAAImyH,EAAWnyH,IACtC,CACC,IAAI+yH,EAAmB9yF,EAAKzN,MAAMsC,EAAGA,EAAI69F,EAAgBL,GAAetyH,EAAI0yH,EAAiB,EAAI,IACjG59F,GAAKi+F,EAAI/nH,OACT,MAAMgoH,EAAmB/E,EAAcgF,4BAA4BF,EAAKF,GACpE7yH,EAAI0yH,GACPK,EAAI3/F,KAAK,GACVw/F,EAAOx/F,KAAK2/F,EAAIv7F,OAAOw7F,IAIxB,IAAI7nG,EAAsB,GAC1B,IAAK,IAAInrB,EAAI,EAAGA,EAAI4yH,EAAO,GAAG5nH,OAAQhL,IAErC4yH,EAAOt5G,QAAQ,CAAC45G,EAAOvvF,MAGlB3jC,GAAK2yH,EAAgBL,GAAe3uF,GAAK+uF,IAC5CvnG,EAAOiI,KAAK8/F,EAAMlzH,MAGrB,GAAImrB,EAAOngB,QAAUwnH,EACpB,KAAM,kBACP,OAAOrnG,EAKA,cAAc8U,GAErB,GAAIA,EAAKj1B,QAAUmiB,KAAKwkG,MAAM1D,EAAcwE,qBAAqB7yH,KAAK2uH,SAAW,GAChF,KAAM,mBACP,IAAIvuH,EAAS,EAEb,IAAK,IAAIo8B,EAAQx8B,KAAK2mB,KAAO,EAAG6V,GAAS,EAAGA,GAAS,EACrD,CACc,GAATA,IACHA,EAAQ,GACT,IAAK,IAAI+2F,EAAO,EAAGA,EAAOvzH,KAAK2mB,KAAM4sG,IAEpC,IAAK,IAAIxvF,EAAI,EAAGA,EAAI,EAAGA,IACvB,CACC,MAAM3Q,EAASoJ,EAAQuH,EAEjB88D,EADuC,IAAnBrkE,EAAQ,EAAK,GACfx8B,KAAK2mB,KAAO,EAAI4sG,EAAOA,GAC1CvzH,KAAKonF,WAAWyZ,GAAGztE,IAAMhzB,EAAkB,EAAdigC,EAAKj1B,SAEtCpL,KAAKM,QAAQugG,GAAGztE,GAAK0+F,EAAOzxF,EAAKjgC,IAAM,GAAI,GAAS,EAAJA,IAChDA,MAOJ,GAAIA,GAAmB,EAAdigC,EAAKj1B,OACb,KAAM,kBAQA,UAAU0jH,GAEjB,GAAIA,EAAO,GAAKA,EAAO,EACtB,KAAM,0BACP,IAAK,IAAIjuB,EAAI,EAAGA,EAAI7gG,KAAK2mB,KAAMk6E,IAE9B,IAAK,IAAIztE,EAAI,EAAGA,EAAIpzB,KAAK2mB,KAAMyM,IAC/B,CACC,IAAIogG,EACJ,OAAQ1E,GAEP,KAAK,EAAG0E,GAAUpgG,EAAIytE,GAAK,GAAK,EAAG,MACnC,KAAK,EAAG2yB,EAAS3yB,EAAI,GAAK,EAAG,MAC7B,KAAK,EAAG2yB,EAASpgG,EAAI,GAAK,EAAG,MAC7B,KAAK,EAAGogG,GAAUpgG,EAAIytE,GAAK,GAAK,EAAG,MACnC,KAAK,EAAG2yB,GAAUjmG,KAAKwkG,MAAM3+F,EAAI,GAAK7F,KAAKwkG,MAAMlxB,EAAI,IAAM,GAAK,EAAG,MACnE,KAAK,EAAG2yB,EAASpgG,EAAIytE,EAAI,EAAIztE,EAAIytE,EAAI,GAAK,EAAG,MAC7C,KAAK,EAAG2yB,GAAUpgG,EAAIytE,EAAI,EAAIztE,EAAIytE,EAAI,GAAK,GAAK,EAAG,MACnD,KAAK,EAAG2yB,IAAWpgG,EAAIytE,GAAK,EAAIztE,EAAIytE,EAAI,GAAK,GAAK,EAAG,MACrD,QAAS,KAAM,mBAEX7gG,KAAKonF,WAAWyZ,GAAGztE,IAAMogG,IAC7BxzH,KAAKM,QAAQugG,GAAGztE,IAAMpzB,KAAKM,QAAQugG,GAAGztE,KAOlC,kBAEP,IAAI7H,EAAc,EAGlB,IAAK,IAAIs1E,EAAI,EAAGA,EAAI7gG,KAAK2mB,KAAMk6E,IAC/B,CACC,IAAI4yB,GAAW,EACXC,EAAO,EACPC,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACpC,IAAK,IAAIvgG,EAAI,EAAGA,EAAIpzB,KAAK2mB,KAAMyM,IAE1BpzB,KAAKM,QAAQugG,GAAGztE,IAAMqgG,GAEzBC,IACY,GAARA,EACHnoG,GAAU8iG,EAAcuF,WAChBF,EAAO,GACfnoG,MAGDvrB,KAAK6zH,wBAAwBH,EAAMC,GAC9BF,IACJloG,GAAUvrB,KAAK8zH,2BAA2BH,GAActF,EAAc0F,YACvEN,EAAWzzH,KAAKM,QAAQugG,GAAGztE,GAC3BsgG,EAAO,GAGTnoG,GAAUvrB,KAAKg0H,+BAA+BP,EAAUC,EAAMC,GAActF,EAAc0F,WAG3F,IAAK,IAAI3gG,EAAI,EAAGA,EAAIpzB,KAAK2mB,KAAMyM,IAC/B,CACC,IAAIqgG,GAAW,EACXQ,EAAO,EACPN,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACpC,IAAK,IAAI9yB,EAAI,EAAGA,EAAI7gG,KAAK2mB,KAAMk6E,IAE1B7gG,KAAKM,QAAQugG,GAAGztE,IAAMqgG,GAEzBQ,IACY,GAARA,EACH1oG,GAAU8iG,EAAcuF,WAChBK,EAAO,GACf1oG,MAGDvrB,KAAK6zH,wBAAwBI,EAAMN,GAC9BF,IACJloG,GAAUvrB,KAAK8zH,2BAA2BH,GAActF,EAAc0F,YACvEN,EAAWzzH,KAAKM,QAAQugG,GAAGztE,GAC3B6gG,EAAO,GAGT1oG,GAAUvrB,KAAKg0H,+BAA+BP,EAAUQ,EAAMN,GAActF,EAAc0F,WAI3F,IAAK,IAAIlzB,EAAI,EAAGA,EAAI7gG,KAAK2mB,KAAO,EAAGk6E,IAElC,IAAK,IAAIztE,EAAI,EAAGA,EAAIpzB,KAAK2mB,KAAO,EAAGyM,IACnC,CACC,MAAMlY,EAAiBlb,KAAKM,QAAQugG,GAAGztE,GACnClY,GAASlb,KAAKM,QAAQugG,GAAGztE,EAAI,IAChClY,GAASlb,KAAKM,QAAQugG,EAAI,GAAGztE,IAC7BlY,GAASlb,KAAKM,QAAQugG,EAAI,GAAGztE,EAAI,KACjC7H,GAAU8iG,EAAc6F,YAK3B,IAAIC,EAAa,EACjB,IAAK,MAAMn4D,KAAOh8D,KAAKM,QACtB6zH,EAAQn4D,EAAI9lC,OAAO,CAACQ,EAAKxb,IAAUwb,GAAOxb,EAAQ,EAAI,GAAIi5G,GAC3D,MAAM1vD,EAAazkE,KAAK2mB,KAAO3mB,KAAK2mB,KAIpC,OADA4E,IADegC,KAAK82E,KAAK92E,KAAKC,IAAY,GAAR2mG,EAAqB,GAAR1vD,GAAcA,GAAS,GACxD4pD,EAAc+F,WACrB7oG,EAMA,+BAEP,GAAoB,GAAhBvrB,KAAK2uH,QACR,MAAO,GAER,CACC,MAAM6C,EAAgBjkG,KAAKwkG,MAAM/xH,KAAK2uH,QAAU,GAAK,EAC/C0F,EAA6B,IAAhBr0H,KAAK2uH,QAAiB,GACW,EAAnDphG,KAAK82E,MAAMrkG,KAAK2mB,KAAO,KAAkB,EAAX6qG,EAAe,IAC9C,IAAIjmG,EAAqB,CAAC,GAC1B,IAAK,IAAI+oG,EAAMt0H,KAAK2mB,KAAO,EAAG4E,EAAOngB,OAASomH,EAAU8C,GAAOD,EAC9D9oG,EAAOyJ,OAAO,EAAG,EAAGs/F,GACrB,OAAO/oG,GAOD,4BAA4B+mG,GAEnC,GAAIA,EAAMjE,EAAcU,aAAeuD,EAAMjE,EAAcW,YAC1D,KAAM,8BACP,IAAIzjG,GAAe,GAAK+mG,EAAM,KAAOA,EAAM,GAC3C,GAAIA,GAAO,EACX,CACC,MAAMd,EAAgBjkG,KAAKwkG,MAAMO,EAAM,GAAK,EAC5C/mG,IAAW,GAAKimG,EAAW,IAAMA,EAAW,GACxCc,GAAO,IACV/mG,GAAU,IAEZ,KAAM,KAAOA,GAAUA,GAAU,OAChC,KAAM,kBACP,OAAOA,EAMA,2BAA2B+mG,EAAU5C,GAE5C,OAAOniG,KAAKwkG,MAAM1D,EAAcwE,qBAAqBP,GAAO,GAC3DjE,EAAcsE,wBAAwBjD,EAAI+C,SAASH,GACnDjE,EAAcmE,4BAA4B9C,EAAI+C,SAASH,GAKjD,iCAAiCiC,GAExC,GAAIA,EAAS,GAAKA,EAAS,IAC1B,KAAM,sBAGP,IAAIhpG,EAAsB,GAC1B,IAAK,IAAInrB,EAAI,EAAGA,EAAIm0H,EAAS,EAAGn0H,IAC/BmrB,EAAOiI,KAAK,GACbjI,EAAOiI,KAAK,GAKZ,IAAI9zB,EAAO,EACX,IAAK,IAAIU,EAAI,EAAGA,EAAIm0H,EAAQn0H,IAC5B,CAEC,IAAK,IAAI2jC,EAAI,EAAGA,EAAIxY,EAAOngB,OAAQ24B,IAElCxY,EAAOwY,GAAKsqF,EAAcmG,oBAAoBjpG,EAAOwY,GAAIrkC,GACrDqkC,EAAI,EAAIxY,EAAOngB,SAClBmgB,EAAOwY,IAAMxY,EAAOwY,EAAI,IAE1BrkC,EAAO2uH,EAAcmG,oBAAoB90H,EAAM,GAEhD,OAAO6rB,EAIA,mCAAmC8U,EAAmBo0F,GAE7D,IAAIlpG,EAAsBkpG,EAAQ73G,IAAI83G,GAAK,GAC3C,IAAK,MAAMvpG,KAAKkV,EAChB,CACC,MAAMs0F,EAAexpG,EAAKI,EAAOqpG,QACjCrpG,EAAOiI,KAAK,GACZihG,EAAQ/6G,QAAQ,CAACm7G,EAAMz0H,IACtBmrB,EAAOnrB,IAAMiuH,EAAcmG,oBAAoBK,EAAMF,IAEvD,OAAOppG,EAKA,2BAA2B6H,EAASytE,GAE3C,GAAIztE,IAAM,GAAK,GAAKytE,IAAM,GAAK,EAC9B,KAAM,oBAEP,IAAIi0B,EAAS,EACb,IAAK,IAAI10H,EAAI,EAAGA,GAAK,EAAGA,IAEvB00H,EAAKA,GAAK,EAAkB,KAAXA,IAAM,GACvBA,IAAOj0B,IAAMzgG,EAAK,GAAKgzB,EAExB,GAAI0hG,IAAM,GAAK,EACd,KAAM,kBACP,OAAOA,EAKA,2BAA2BnB,GAElC,MAAM9xH,EAAS8xH,EAAW,GAC1B,GAAI9xH,EAAgB,EAAZ7B,KAAK2mB,KACZ,KAAM,kBACP,MAAMouG,EAAgBlzH,EAAI,GAAK8xH,EAAW,IAAM9xH,GAAK8xH,EAAW,IAAU,EAAJ9xH,GAAS8xH,EAAW,IAAM9xH,GAAK8xH,EAAW,IAAM9xH,EACtH,OAAQkzH,GAAQpB,EAAW,IAAU,EAAJ9xH,GAAS8xH,EAAW,IAAM9xH,EAAI,EAAI,IAC/DkzH,GAAQpB,EAAW,IAAU,EAAJ9xH,GAAS8xH,EAAW,IAAM9xH,EAAI,EAAI,GAIxD,+BAA+BmzH,EAA0BC,EAAuBtB,GASvF,OAPIqB,IAEHh1H,KAAK6zH,wBAAwBoB,EAAkBtB,GAC/CsB,EAAmB,GAEpBA,GAAoBj1H,KAAK2mB,KACzB3mB,KAAK6zH,wBAAwBoB,EAAkBtB,GACxC3zH,KAAK8zH,2BAA2BH,GAIhC,wBAAwBsB,EAAuBtB,GAEjC,GAAjBA,EAAW,KACdsB,GAAoBj1H,KAAK2mB,MAC1BgtG,EAAWlwB,MACXkwB,EAAWl1E,QAAQw2E,IAoCrB,SAASpE,EAAWv5F,EAAUyL,EAAU6tF,GAEvC,GAAI7tF,EAAM,GAAKA,EAAM,IAAMzL,IAAQyL,GAAO,EACzC,KAAM,qBACP,IAAK,IAAI3iC,EAAI2iC,EAAM,EAAG3iC,GAAK,EAAGA,IAC7BwwH,EAAGp9F,KAAM8D,IAAQl3B,EAAK,GAKxB,SAAS0xH,EAAO1+F,EAAQhzB,GAEvB,OAA0B,IAAjBgzB,IAAMhzB,EAAK,GA/tBrB,kBAmrBwB,EAAA2uH,YAAmB,EAEnB,EAAAC,YAAmB,GAGlB,EAAA4E,WAAkB,EAClB,EAAAM,WAAkB,EAClB,EAAAH,WAAkB,GAClB,EAAAK,WAAkB,GAElB,EAAAzB,wBAA6C,CAGpE,EAAE,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAChK,EAAE,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACjK,EAAE,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACjK,EAAE,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAG1I,EAAAH,4BAAiD,CAGxE,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC1I,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACnJ,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACtJ,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAuBzJ,MAAa5C,EAwFZ,YAEiBruH,EAKAwvH,EAGCmE,GAGjB,GAXgB,KAAA3zH,OAKA,KAAAwvH,WAGC,KAAAmE,UAGbnE,EAAW,EACd,KAAM,mBACP/wH,KAAKk1H,QAAUA,EAAQtiG,QAlGjB,iBAAiByN,GAEvB,IAAIuwF,EAAiB,GACrB,IAAK,MAAMzlG,KAAKkV,EACfwwF,EAAW1lG,EAAG,EAAGylG,GAClB,OAAO,IAAIhB,EAAUuF,EAAKC,KAAM/0F,EAAKj1B,OAAQwlH,GAIvC,mBAAmByE,GAEzB,IAAKr1H,KAAKs1H,cAAclyF,KAAKiyF,GAC5B,KAAM,yCACP,IAAIzE,EAAiB,GACrB,IAAK,IAAIxwH,EAAI,EAAGA,EAAIi1H,EAAOjqH,QAC3B,CACC,MAAMvJ,EAAS0rB,KAAKgJ,IAAI8+F,EAAOjqH,OAAShL,EAAG,GAC3CywH,EAAW1iF,SAASknF,EAAOpqG,OAAO7qB,EAAGyB,GAAI,IAAS,EAAJA,EAAQ,EAAG+uH,GACzDxwH,GAAKyB,EAEN,OAAO,IAAI+tH,EAAUuF,EAAKI,QAASF,EAAOjqH,OAAQwlH,GAM5C,wBAAwB79G,GAE9B,IAAK/S,KAAKw1H,mBAAmBpyF,KAAKrwB,GACjC,KAAM,8DACP,IACI3S,EADAwwH,EAAiB,GAErB,IAAKxwH,EAAI,EAAGA,EAAI,GAAK2S,EAAK3H,OAAQhL,GAAK,EACvC,CACC,IAAIq1H,EAAqE,GAAzD7F,EAAU8F,qBAAqB3gG,QAAQhiB,EAAK2f,OAAOtyB,IACnEq1H,GAAQ7F,EAAU8F,qBAAqB3gG,QAAQhiB,EAAK2f,OAAOtyB,EAAI,IAC/DywH,EAAW4E,EAAM,GAAI7E,GAItB,OAFIxwH,EAAI2S,EAAK3H,QACZylH,EAAWjB,EAAU8F,qBAAqB3gG,QAAQhiB,EAAK2f,OAAOtyB,IAAK,EAAGwwH,GAChE,IAAIhB,EAAUuF,EAAKQ,aAAc5iH,EAAK3H,OAAQwlH,GAK/C,oBAAoB79G,GAG1B,MAAY,IAARA,EACI,GACC/S,KAAKs1H,cAAclyF,KAAKrwB,GACzB,CAAC68G,EAAUgG,YAAY7iH,IACtB/S,KAAKw1H,mBAAmBpyF,KAAKrwB,GAC9B,CAAC68G,EAAUiG,iBAAiB9iH,IAE5B,CAAC68G,EAAUI,UAAUJ,EAAUkG,gBAAgB/iH,KAKjD,eAAegjH,GAErB,IAAInF,EAAiB,GACrB,GAAImF,EAAY,EACf,KAAM,oCACF,GAAIA,EAAY,IACpBlF,EAAWkF,EAAW,EAAGnF,QACrB,GAAImF,EAAY,MAEpBlF,EAAW,EAAG,EAAGD,GACjBC,EAAWkF,EAAW,GAAInF,OACpB,MAAImF,EAAY,KAKtB,KAAM,oCAHNlF,EAAW,EAAG,EAAGD,GACjBC,EAAWkF,EAAW,GAAInF,GAG3B,OAAO,IAAIhB,EAAUuF,EAAKa,IAAK,EAAGpF,GA2B5B,UAEN,OAAO5wH,KAAKk1H,QAAQtiG,QAKd,oBAAoB+8F,EAAwBhB,GAElD,IAAIpjG,EAAiB,EACrB,IAAK,MAAMwkG,KAAOJ,EAClB,CACC,MAAMsG,EAAclG,EAAIxuH,KAAKyvH,iBAAiBrC,GAC9C,GAAIoB,EAAIgB,UAAa,GAAKkF,EACzB,OAAOC,IACR3qG,GAAU,EAAI0qG,EAASlG,EAAImF,QAAQ9pH,OAEpC,OAAOmgB,EAIA,uBAAuB4qG,GAE9BA,EAAMC,UAAUD,GAChB,IAAI5qG,EAAsB,GAC1B,IAAK,IAAInrB,EAAI,EAAGA,EAAI+1H,EAAI/qH,OAAQhL,IAEV,KAAjB+1H,EAAIzjG,OAAOtyB,GACdmrB,EAAOiI,KAAK2iG,EAAInzF,WAAW5iC,KAG3BmrB,EAAOiI,KAAK2a,SAASgoF,EAAIlrG,OAAO7qB,EAAI,EAAG,GAAI,KAC3CA,GAAK,GAGP,OAAOmrB,GAhJT,cAwJwB,EAAA+pG,cAAwB,WAMxB,EAAAE,mBAA6B,wBAI5B,EAAAE,qBAA+B,gDAGxD,MAAanH,EAOZ,YAEiBkE,EAEAd,GAFA,KAAAc,UAEA,KAAAd,cAXlB,QAEwB,EAAA0E,IAAM,IAAI9H,EAAI,EAAG,GACjB,EAAAC,OAAS,IAAID,EAAI,EAAG,GACpB,EAAAmC,SAAW,IAAInC,EAAI,EAAG,GACtB,EAAAoC,KAAO,IAAIpC,EAAI,EAAG,GAU1C,MAAa4G,EAQZ,YAEiBrE,EAECwF,GAFD,KAAAxF,WAEC,KAAAwF,mBAIX,iBAAiBhE,GAEvB,OAAOtyH,KAAKs2H,iBAAiB/oG,KAAKwkG,OAAOO,EAAM,GAAK,MAlBtD,SAEwB,EAAAiD,QAAU,IAAIJ,EAAK,EAAK,CAAC,GAAI,GAAI,KACjC,EAAAQ,aAAe,IAAIR,EAAK,EAAK,CAAC,EAAG,GAAI,KACrC,EAAAC,KAAO,IAAID,EAAK,EAAK,CAAC,EAAG,GAAI,KAC7B,EAAAoB,MAAQ,IAAIpB,EAAK,EAAK,CAAC,EAAG,GAAI,KAC9B,EAAAa,IAAM,IAAIb,EAAK,EAAK,CAAC,EAAG,EAAG,K,8HCj6BnD,aACA,OACA,OAKA,MAAaqB,UAA8B,EAAAzrH,kBAA3C,0BAoBA,MAAahD,UAAuB,EAAAmhC,UAWnC,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIm0H,GAEM,MAAjBn0H,EAAQ6kG,QAAe7kG,EAAQ6kG,MAAQ,IACjB,MAAtB7kG,EAAQw7F,aAAoBx7F,EAAQw7F,WAAa,IAC5B,MAArBx7F,EAAQs8G,YAAmBt8G,EAAQs8G,UAAY,IAChB,MAA/Bt8G,EAAQo0H,sBAA6Bp0H,EAAQo0H,qBAAsB,GACzC,MAA1Bp0H,EAAQq0H,iBAAwBr0H,EAAQq0H,eAAiB,GACrB,MAApCr0H,EAAQ47G,2BAAkC57G,EAAQ47G,yBAA2B,IAGjFh1F,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBqF,gBACxC/H,KAAK22H,WAAat0H,EAAQs8G,UAC1B3+G,KAAK42H,OAASv0H,EAAQ6kG,MACtBlnG,KAAK62H,yBAA2B,IAAIlwH,IAEpC3G,KAAKqL,UAAUoQ,MAAMC,SAAW,yCAEX,MAAjBrZ,EAAQ6kG,OACXlnG,KAAKknG,MAAM7kG,EAAQ6kG,OAEM,MAAtB7kG,EAAQw7F,YACX79F,KAAK69F,WAAWx7F,EAAQw7F,YAI1B,MAAMqJ,GAEL,GAAa,MAATA,GAAiBA,EAAM97F,OAAS,EACpC,CACC,IAAI/I,EAAUrC,KAAK+sC,aACnB/sC,KAAK62H,yBAAyB9oF,QAC9B,EAAA5iC,KAAKnL,KAAKqL,WAAWy/C,QAErBo8C,EAAQA,EAAMt0E,MAAM,EAAGvwB,EAAQq0H,gBAG/B,IAAII,EAAW,EAAAnhH,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,2BAA4BH,IAAK,iCAGzE1T,EAAQo0H,sBAEX,EAAA7zH,aAAa,CACZmY,KAAM,EAAArO,iBAAiBqqH,YACvBj7F,aAAc,0DACd/lB,IAAK,kCACLomB,QAAU7hB,IAET,GAA0B,MAAtBjY,EAAQuhH,WACZ,CACC,IAAIC,EAAgB,IAAImT,EACxBnT,EAAc/4E,OAAS9qC,KACvB6jH,EAAcE,OAASkT,EAAiC5X,SACxDwE,EAAc3c,MAAQlnG,KAAKknG,QAC3B7kG,EAAQuhH,WAAYC,MAGpBiT,GAEH,EAAAl0H,aAAa,CACZmY,KAAM,EAAArO,iBAAiBwqH,aACvBp7F,aAAc,2DACd/lB,IAAK,kCACLomB,QAAU7hB,IAET,GAA0B,MAAtBjY,EAAQuhH,WACZ,CACC,IAAIC,EAAgB,IAAImT,EACxBnT,EAAc/4E,OAAS9qC,KACvB6jH,EAAcE,OAASkT,EAAiC3X,SACxDuE,EAAc3c,MAAQlnG,KAAKknG,QAC3B7kG,EAAQuhH,WAAYC,MAGpBiT,IAIJ,IAAIK,EAAkB,IAAMjwB,EAAM97F,OAClC,IAAK,IAAIhL,GAAK,EAAGA,EAAI8mG,EAAM97F,OAAQhL,IACnC,CACC,IAAIg3H,EAAU,EAAAh1H,YAAY,CACzBu5B,MAAO,EAAA/tB,cAAcyqC,OACrBniC,MAAO,0BACPH,IAAK,eACL+lB,eAAsB,GAAN17B,EAAW,oFAAsF,wCAA0C+2H,EAAkB,6CAA+C,2GAC1NL,GAEH,IAAU,GAAN12H,EACJ,CACC,IAAIi3H,EAA8B,EAAAlsH,KAAK,SAASkL,gBAAgB+gH,EAAQ90H,aAAa,GACrF+0H,EAA4Br9G,UAAUpP,IAAI,4CAE1C5K,KAAKs3H,6BAA+B,EAAApyH,eAAe,CAClD3D,KAAM,EAAA+D,iBAAiBC,SACvBlE,MAAOgB,EAAQ47G,yBACfniF,aAAc,gFACd/lB,IAAK,yVACLinB,cAAe,CAAEzhB,MAAO,IACxBA,MAAO,GACP+7B,MAAO,CACN,CAAEvkC,KAAM,QAAS1R,MAAO,KACxB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,MACzB,CAAE0R,KAAM,SAAU1R,MAAO,OAE1BisC,cAAgBhzB,IAEfta,KAAKyiH,iBAAiBnoG,EAAEjZ,OACxBrB,KAAKgtD,WAEJqqE,OAGJ,CACC,IAAIvtG,EAAMo9E,EAAM9mG,GACZ0tB,EAAmB,CACtBG,QAAS,OACTvE,KAAM,UACNE,MAAO,OACPE,IAAK,UACLiE,QAAQ,GAGLtB,EADgB,IAAIgC,KAAKC,eAAqC,KAAMZ,GACzCa,OAAO7E,GACtCstG,EAAQ/1H,MAAMorB,IAIhB,EAAA9W,IAAImhH,EAAU,CAAE5gH,MAAO,oCAAqCH,IAAK,+EAGjE,IAAIwhH,EAAgB,EAAA5hH,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,gCAAiCH,IAAK,qCACvF,IAAK,IAAI3V,GAAK,EAAGA,EAAI8mG,EAAM97F,OAAQhL,IACnC,CACC,IAAIipB,GAAc,GAANjpB,EAAW,IAAIijB,KAAS6jF,EAAM9mG,GAG1CipB,EAAKiH,SAAS,EAAG,EAAG,EAAG,GACvB,IAAIknG,EAAY,EAAA5vH,gBAAgB,CAC/B80B,kBAAkB,EAClBiiF,UAAW3+G,KAAK22H,WAChB3Y,MAAO,CAAC,CAAEh1G,KAAM,EAAAkI,kBAAkBq4B,IAAK8F,UAAU,IACjDhmB,KAAMA,EACNyS,aAAc,YAAoB,GAAN17B,EAAW,QAAU+2H,EAAkB,MACnEvZ,UAAWv7G,EAAQu7G,UACnBC,QAASx7G,EAAQw7G,QACjBS,YAAmB,GAANl+G,EACb69G,yBAA0B57G,EAAQ47G,yBAClCziG,OAAQ,OACR6iG,UAAWh8G,EAAQg8G,UACnBE,WAAav+G,KAAK22H,WAAYvrH,OAAS,EACvCmzF,aAAa,EACbzgB,SAAU,CACT7tC,MAAM,EACNshD,QAAQ,GAET86B,gBAAiBhqH,EAAQgqH,gBACzBH,oBAAqB7pH,EAAQ6pH,oBAC7BJ,mBAAoBzpH,EAAQypH,oBAC1ByL,GACH,EAAApsH,KAAKqsH,EAAUl1H,aAAawZ,KAAK,0BAA0B,GAAGL,MAAMC,SAAW,iCAG1E1b,KAAK62H,yBAAyB3/F,IAAI7N,IACtCrpB,KAAK62H,yBAAyB1/F,IAAI9N,EAAMmuG,GAG1Cx3H,KAAKkgH,cACLlgH,KAAKy3H,WAELz3H,KAAK42H,OAAS1vB,EAEf,OAAOlnG,KAAK42H,OAGb,WAAoC/4B,GAUnC,OARkB,MAAdA,IAEH79F,KAAKwkH,YAAc3mB,EACnB79F,KAAK03H,SAAS75B,EAAY,CAAC25B,EAAWlgF,KAErCkgF,EAAU35B,WAAWvmD,MAGhBt3C,KAAKwkH,YAGb,eAAwCxF,GAUvC,OARsB,MAAlBA,IAEHh/G,KAAKopH,gBAAkBpK,EACvBh/G,KAAK03H,SAAS1Y,EAAgB,CAACwY,EAAWlgF,KAEzCkgF,EAAUxY,eAAe1nE,MAGpBt3C,KAAKopH,gBAGL,SAASvrB,EAAmBzhF,GAGnC,IAAIm8D,EAAgB,GACpB,IAAK,IAAIl4C,KAAQw9D,EACjB,CACC,IAAI+nB,EAAsB,KACC,MAAvBvlF,EAAKulF,iBAERA,EAAiBvlF,EAAKulF,eACtBvlF,EAAKulF,oBAAiBloG,GAGvB,IAAIi6G,EAAU,EAAA3sH,eAAeoqC,UAAU/U,GACnCu3F,EAAc,IAAIv0G,KAAKs0G,EAAQp0G,OACnCq0G,EAAYtnG,SAAS,EAAG,EAAG,EAAG,GAC9BqnG,EAAQE,cAAgBD,EACxBD,EAAQ/R,eAAiBA,EACzBrtC,EAAc/kD,KAAKmkG,GAKpB,IAAIG,EAAoBv/C,EAAcnhD,UAAUlC,GAAKA,EAAE2iG,eACvD,IAAK,IAAIE,KAAWD,EACpB,CACC,IAAIE,EAAoBF,EAAkBC,GACtC1uG,EAAO,IAAIhG,KAAK00G,GACpB1uG,EAAKiH,SAAS,EAAG,EAAG,EAAG,GAEvBtwB,KAAK62H,yBAAyBn9G,QAAQ,CAACrY,EAAOM,KAE7C,GAAI0hB,KAAKwJ,SAASxD,EAAM1nB,GACxB,CAEC,IAAI61H,EAAYx3H,KAAK62H,yBAAyB51H,IAAIU,GACjC,MAAb61H,GACHp7G,EAASo7G,EAAWQ,OAMzB,UAAUrZ,GAOT,OALiB,MAAbA,IAEH3+G,KAAK22H,WAAahY,EAClB3+G,KAAKgtD,UAEChtD,KAAK22H,WAGb,YAEC,OAAO32H,KAAK+sC,aAAa6wE,UAG1B,UAEC,OAAO59G,KAAK+sC,aAAa8wE,QAG1B,iBAAiBI,GAEhB,IAAI57G,EAAUrC,KAAK+sC,aAcnB,OAbgC,MAA5BkxE,IAEH57G,EAAQ47G,yBAA2BA,EACnCj+G,KAAKs3H,6BAA6Bj2H,MAAM48G,GAA0B,GAElEj+G,KAAK62H,yBAAyBn9G,QAAQ,CAACrY,EAAOM,KAG7C,IAAI61H,EAAYx3H,KAAK62H,yBAAyB51H,IAAIU,GACjC,MAAb61H,GACHA,EAAU/U,iBAAiBxE,MAGvB57G,EAAQ47G,yBAGhB,SAECj+G,KAAKknG,MAAMlnG,KAAK42H,QAChB52H,KAAK69F,WAAW79F,KAAKwkH,aACrBxkH,KAAKg/G,eAAeh/G,KAAKopH,iBAEzBppH,KAAKkgH,cACLlgH,KAAKy3H,WAGE,cAEP,IAAIznD,EAAa,EAAA7kE,KAAKnL,KAAKsC,aAAawZ,KAAK,kCAAkC,GAC3EzZ,EAAUrC,KAAK+sC,aAEfvxB,EAA0B,EAC9B,GAAsB,MAAlBnZ,EAAQmZ,OACZ,CACC,IAAIy8G,EAAuB,EAAA9sH,KAAKnL,KAAKsC,aAAak2B,SAAS5R,IAI3DpL,EAHqBgJ,OAAOwZ,YAAci6F,EAErB,EAAA9sH,KAAKnL,KAAKsC,aAAawZ,KAAK,6BAA6B+K,mBAI9ErL,EAASnZ,EAAQmZ,OAElB,EAAArQ,KAAK6kE,GAAYx0D,OAAOA,GAGjB,WAEP,IAAI08G,EAAgB,EAAA/sH,KAAKnL,KAAKsC,aAAawZ,KAAK,kCAAkC,GAC7D,MAAjBo8G,IAECA,EAAc39F,aAAe29F,EAAc19F,cAAgB09F,EAAc19F,aAAe,EAC3F,EAAArvB,KAAKnL,KAAKsC,aAAawZ,KAAK,sCAAsCI,OAElE,EAAA/Q,KAAKnL,KAAKsC,aAAawZ,KAAK,sCAAsCjJ,QAIrE,aAEC,OAAO7S,KAAKqC,WAxVd,mBA8VA,MAAM20H,UAAoC,EAAAn4G,iBAO1C,IAAKo4G,GAAL,SAAKA,GAEJ,2BACA,2BAHD,CAAKA,MAAgC,M,0GChYrC,aACA,OAGA,MAAakB,UAAoB,EAAAptH,kBAAjC,gBAeA,MAAa5C,UAAa,EAAA+gC,UAEzB,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAI81H,GAEM,MAAjB91H,EAAQ6Y,QAAe7Y,EAAQ6Y,MAAQ,QACd,MAAzB7Y,EAAQ+1H,gBAAuB/1H,EAAQ+1H,eAAgB,GACnC,MAApB/1H,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgByF,MAExC,EAAAgD,KAAKnL,KAAKqL,WAAWS,KAAK,cAAe,QAGzC9L,KAAKkb,MAAM7Y,EAAQ6Y,OAEK,MAApB7Y,EAAQ4Y,UACXjb,KAAKib,SAAS5Y,EAAQ4Y,UAIF,MAAjB5Y,EAAQhB,OACXrB,KAAKqB,MAAMgB,EAAQhB,OAIG,MAAnBgB,EAAQ+T,SACX,EAAAjL,KAAKnL,KAAKqL,WAAWS,KAAK,QAASzJ,EAAQ+T,UAIxC/T,EAAQ+1H,eAAoC,MAAnB/1H,EAAQ85B,WAEpCn8B,KAAKsC,YAAYmZ,MAAMC,SAAW,mBAClC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,oBAKjC,EAAAvQ,KAAKnL,KAAKsC,aAAa6Z,GAAG,QAAU7B,IAEnCta,KAAK4iC,UAMP,MAAMvhC,GAEL,IAAIgB,EAAUrC,KAAK+sC,aAOnB,OANa,MAAT1rC,IAEH,EAAA8J,KAAKnL,KAAKqL,WAAWwzB,YAAYx8B,EAAQhB,OACzC,EAAA8J,KAAKnL,KAAKqL,WAAWyvB,SAASz5B,GAC9BgB,EAAQhB,MAAQA,GAEVgB,EAAQhB,MAGhB,SAAS4Z,GAER,IAAI5Y,EAAUrC,KAAK+sC,aASnB,OARgB,MAAZ9xB,IAEsB,iBAAd,IACVA,GAAsB,MAEvBjb,KAAKqL,UAAUoQ,MAAMC,SAAW,cAAgBT,EAAW,IAC3D5Y,EAAQ4Y,SAAWA,GAEb5Y,EAAQ4Y,SAGhB,MAAMC,GAEL,IAAI7Y,EAAUrC,KAAK+sC,aAMnB,OALa,MAAT7xB,IAEHlb,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYR,EAAQ,IACpD7Y,EAAQ6Y,MAAQA,GAEV7Y,EAAQ6Y,MAGhB,QAEC,IAAI7Y,EAAUrC,KAAK+sC,aACgB,MAA/B1qC,EAAQmjD,oBACX,EAAA/xC,QAAQpR,EAAQmjD,qBAAqB3nC,KAAK,IAAM7d,KAAKylD,gBAAiB,IAAMzlD,KAAK0lD,mBAEjF1lD,KAAKylD,gBAGC,gBAEP,IAAIpjD,EAAUrC,KAAK+sC,aACnB,GAAwB,MAApB1qC,EAAS85B,QACb,CACC,IAAI2pB,EAAa,IAAIuyE,EACrBvyE,EAAWhb,OAAS9qC,KACpB8lD,EAAWzkD,MAAQrB,KAAKqB,QACxBgB,EAAS85B,QAAQ2pB,IAIX,kBAEP,IAAIzjD,EAAUrC,KAAK+sC,aACc,MAA7B1qC,EAAQ2jD,mBACX3jD,EAAQ2jD,oBAGV,aAEC,OAAOhmD,KAAKqC,WAtHd,SA6HA,MAAMg2H,UAAyB,EAAAx5G,mB,wHChJ/B,cACA,OACA,OAKA,MAAay5G,UAA2B,EAAAvtH,kBAAxC,uBAkBA,MAAa1C,UAAoB,EAAA6gC,UAOhC,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIi2H,GAEiB,MAA5Bj2H,EAAQq6B,mBAA0Br6B,EAAQq6B,kBAAmB,GACxC,MAArBr6B,EAAQmJ,YAAmBnJ,EAAQmJ,WAAY,GAC/B,MAAhBnJ,EAAQd,OAAcc,EAAQd,KAAO,EAAA2Q,oBAAoBqmH,KACjC,MAAxBl2H,EAAQm2H,eAAsBn2H,EAAQm2H,cAAe,GAC7B,MAAxBn2H,EAAQo2H,eAAsBp2H,EAAQo2H,cAAe,GAC9B,MAAvBp2H,EAAQ40C,cAAqB50C,EAAQ40C,aAAc,GACrB,MAA9B50C,EAAQq2H,qBAA4Br2H,EAAQq2H,oBAAqB,GACzC,MAAxBr2H,EAAQs7F,eAAsBt7F,EAAQs7F,aAAe,aAE9B,MAAvBt7F,EAAQs2H,cAAqBt2H,EAAQs2H,aAAc,IAC3B,IAAxBt2H,EAAQs2H,cAAsBt2H,EAAQs2H,YAAc,UAEjC,MAAnBt2H,EAAQu2H,UAAiBv2H,EAAQu2H,SAAU,IACvB,IAApBv2H,EAAQu2H,UACXv2H,EAAQu2H,QAAU,CAAC,OAAQ,UAAW,UAAW,OAAQ,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAG5H3vG,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB2F,aACxC,IAAM,IAAI,EAAAwwH,mBAAwB,MAAOv+G,IA8BzC,GA5BAta,KAAK84H,QAAU,IAAIC,QAAQ1tH,EAAS,CAAEsjB,OAAQtsB,EAAQd,OACtDvB,KAAKurC,OAAS,KAGdvrC,KAAK84H,QAAQE,OAAO,CACnBC,QAAQ,EACRL,SAA8B,IAApBv2H,EAAQu2H,QAAqBv2H,EAAQu2H,aAAUl7G,EACzDw7G,aAAkC,IAApB72H,EAAQu2H,QAAqBv2H,EAAQu2H,QAAQxtH,YAASsS,EACpEy7G,kBAAkB,EAClBT,mBAAoBr2H,EAAQq2H,mBAC5BC,aAAsC,IAAxBt2H,EAAQs2H,YACtBS,WAAoC,IAAxB/2H,EAAQs2H,YAAyBt2H,EAAQs2H,iBAAcj7G,EACnE86G,aAAcn2H,EAAQm2H,aACtBa,UAAU,EACVC,UAAWj3H,EAAQo2H,aACnBzrD,SAAU,KAEThtE,KAAKurC,OAAUvrC,KAAKuB,QAAU,EAAA2Q,oBAAoBqmH,IAAOv4H,KAAKu5H,WAAav5H,KAAKw5H,YAChFx5H,KAAKmwC,mBAMPnwC,KAAKqL,UAAUoQ,MAAMC,SAAW,YAAerZ,EAAiB,UAAI,GAAK,IAAM,MAI3EA,EAAQmJ,UACZ,CACC,IAAI0xB,EAAY76B,EAAQd,MAAQ,EAAA2Q,oBAAoBqmH,IAAO,GAAK,IAChEv4H,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYwhB,EAAW,kBAAoBA,EAAW,sBAGtFl9B,KAAKqL,UAAUoQ,MAAMC,SAAW,oGAWjC,GAPA1b,KAAK+tC,QAEgB,MAAjB1rC,EAAQhB,OACXrB,KAAKqB,MAAMgB,EAAQhB,QAIfgB,EAAQmJ,UACb,CACC,IAAIiuH,EAAU,EAAA9jH,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,uBAAwBH,IAAK,gQACxE,EAAA7N,WAAW,CACV7G,MAAO,EAAAqL,iBAAiBi8D,QACxBztD,MAAO,2BACPK,MAAO,OACPN,SAAU,GACVm9G,eAAe,EACft8F,aAAc,cACZ29F,GAEH,EAAAtuH,KAAKsuH,GAASt9G,GAAG,QAAU7B,GAAyBta,KAAK2T,QAK1D,GAAItR,EAAQ40C,YACZ,CACC,IAAIc,EAAY,EAAA7vC,WAAW,CAC1BiO,GAAI9K,EAAQ8K,GAAK,aACjB2lB,aAAc,+HAAkIz5B,EAAiB,UAAI,MAAQ,OAAS,MACtLhB,MAAO,EAAAqL,iBAAiBgtH,OACxBn9F,eAAgB,yBAChBH,SAAS,EACTD,QAAU7hB,GAAMta,KAAK+tC,OAAM,IACzB/hC,SAASC,KAAM,KAAMjM,KAAKqL,UAAU8K,GAAK,2BAE5C,EAAAhL,KAAK,QAAQgR,GAAG,iBAAkB,uBAAyB7B,IAE1DA,EAAE6oB,OAAO1nB,MAAMC,SAAW,8BACC,MAAvBq8B,EAAU1sC,YAAmB0sC,EAAU1sC,UAAUoQ,MAAMC,SAAW,uBACzC,MAAzBq8B,EAAUz1C,cAAqBy1C,EAAUz1C,YAAYmZ,MAAMC,SAAW,kCAE1E8I,OAAOwa,WAAW,KAEjB+Y,EAAUllC,OACVyH,EAAE6oB,OAAO1nB,MAAMC,SAAW,+BACxB,OAGJ,EAAAvQ,KAAK,QAAQgR,GAAG,kBAAmB,uBAAyB7B,IAE3D,IAAIsM,EAAM,EAAAzb,KAAK,EAAAA,KAAK,wBAAwB,IAAI5I,WAAWqkB,IAAM,IAC7DG,EAAO,EAAA5b,KAAK,EAAAA,KAAK,wBAAwB,IAAI5I,WAAWwkB,KAAO,GACtC,MAAzBgxB,EAAUz1C,cAAqBy1C,EAAUz1C,YAAYmZ,MAAMC,SAAW,QAAUkL,EAAM,aAAeG,EAAO,OAEhHzM,EAAE6oB,OAAO1nB,MAAMC,SAAW,8BACC,MAAvBq8B,EAAU1sC,YAAmB0sC,EAAU1sC,UAAUoQ,MAAMC,SAAW,gBACzC,MAAzBq8B,EAAUz1C,cAAqBy1C,EAAUz1C,YAAYmZ,MAAMC,SAAW,2BAC1Eq8B,EAAU77B,OAEVsI,OAAOwa,WAAW,KAEjB+Y,EAAU77B,OACV5B,EAAE6oB,OAAO1nB,MAAMC,SAAW,8BAE1B,IAAIkL,EAAM,EAAAzb,KAAK,EAAAA,KAAK,wBAAwB,IAAI5I,WAAWqkB,IAAM,IAC7DG,EAAO,EAAA5b,KAAK,EAAAA,KAAK,wBAAwB,IAAI5I,WAAWwkB,KAAO,GACtC,MAAzBgxB,EAAUz1C,cAAqBy1C,EAAUz1C,YAAYmZ,MAAMC,SAAW,QAAUkL,EAAM,aAAeG,EAAO,QAC9G,QAON,MAAM1lB,EAAuC8uC,GAAgB,GAS5D,OAPa,MAAT9uC,IAEmB,iBAAX,EACVrB,KAAKu5H,SAASl4H,EAAO8uC,GAErBnwC,KAAKw5H,UAAUn4H,EAAO8uC,IAEjBnwC,KAAKurC,OAGb,SAASlqC,EAAgB8uC,GAAgB,GAUxC,OARa,MAAT9uC,IAEHrB,KAAK84H,QAAQa,WAAWt4H,GACxBrB,KAAKurC,OAASvrC,KAAK84H,QAAQc,cAEvBzpF,GACHnwC,KAAKmwC,iBAEAnwC,KAAK84H,QAAQc,cAGrB,UAAUv4H,EAA8B8uC,GAAgB,GAUvD,OARa,MAAT9uC,IAEHrB,KAAK84H,QAAQe,SAASx4H,EAAMH,EAAGG,EAAMy4H,EAAGz4H,EAAM8pB,EAAe,MAAX9pB,EAAM6pB,EAAa7pB,EAAM6pB,EAAI,GAC/ElrB,KAAKurC,OAASvrC,KAAK84H,QAAQiB,eAEvB5pF,GACHnwC,KAAKmwC,iBAEAnwC,KAAK84H,QAAQiB,eAGrB,UAAU5pF,GAAgB,GAQzB,OANAnwC,KAAK84H,QAAQkB,YACbh6H,KAAKurC,OAASvrC,KAAKu5H,WAEfppF,GACHnwC,KAAKmwC,gBAECnwC,KAAKqB,QAGb,OAECrB,KAAK84H,QAAQ58G,OAGd,QAEClc,KAAK84H,QAAQjmH,OAGd,OAEC,OAAO7S,KAAK+sC,aAAaxrC,KAG1B,gBAEC,IAAIc,EAAUrC,KAAK+sC,aAGnB,GAAyB,MAArB1qC,EAAS2qE,SACb,CACC,IAAIjoD,EAAQ,IAAIk1G,EAChBl1G,EAAM+lB,OAAS9qC,KACf+kB,EAAM1jB,MAAQrB,KAAKqB,QACnB0jB,EAAMw0G,SAAWv5H,KAAKu5H,WACtBx0G,EAAMy0G,UAAYx5H,KAAKw5H,YACvBn3H,EAAS2qE,SAASjoD,IAKpB,MAAMorB,GAAgB,GAErB,IAAI9tC,EAAUrC,KAAK+sC,aACnB/sC,KAAKurC,OAAS,KAEdvrC,KAAKqL,UAAUoQ,MAAMC,SAAW,2BAChC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,ugBAE5BrZ,EAAQmJ,YAEVxL,KAAKqL,UAA+BhK,MAAQ,GAC5CrB,KAAKqL,UAA+BioC,YAAcjxC,EAAQs7F,aAC3D39F,KAAKqL,UAAUoQ,MAAMC,SAAW,0CAK7By0B,GACHnwC,KAAKmwC,gBAIP,SAEClnB,MAAMoT,SACN7X,OAAOwa,WAAW,KAEHh/B,KAAK+sC,aACNvhC,UAMZ,EAAAL,KAAKnL,KAAKqL,WAAWk+C,WAAW,aAJhCvpD,KAAK84H,QAAQE,OAAO,eAAe,GACnC,EAAA7tH,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyBI,UAOxD,UAEC+M,MAAMqT,UACN9X,OAAOwa,WAAW,KAEHh/B,KAAK+sC,aACNvhC,UAMZ,EAAAL,KAAKnL,KAAKqL,WAAWS,KAAK,WAAY,aAJtC9L,KAAK84H,QAAQE,OAAO,eAAe,GACnC,EAAA7tH,KAAKnL,KAAKsC,aAAawZ,KAAK,yBAAyBjJ,UAQxD,aAEC,OAAO7S,KAAKqC,WA3Rd,gBAiSA,MAAM63H,UAAyB,EAAAr7G,iBAK/B,MAAMo7G,UAA+BC,K,0GC/SrC,IAAWC,EAAQx6H,EALnB,2BAEC,iBAGUw6H,EAwBU,oBAAX31G,OAAyBA,OAASxkB,KAxBzBL,EAwB+B,SAAU6kB,GAS3D,IAowDO41G,EAxjCAC,EAlcAC,EAvQFC,EAHDC,IAGCD,EAAW,CAGd3kC,aAAa,EAEb6kC,UAAW,GAEXC,WAAY,GAGZC,SAAU,gBAEa,IAAXn2G,GAA0BA,EAAOxY,UAE3CwY,EAAOxY,SAAS4gC,iBAAiB,mBAAoB2tF,EAAIK,IAAIvpC,MAAM,IAKrEwpC,kBAAmB,SAAUtzC,EAAeuzC,GAG3C,KADAA,EAAWA,EAAWP,EAAIQ,KAAKD,GAAYt2G,EAAOxY,UAGjD,MAAM,IAAIJ,MAAM,qBAQjB,IALA,IAAIovH,EAAOF,EAASG,iBAAiB1zC,GAGjC2zC,EAAa,IAAI/mF,OAAO,WAAaomF,EAAIK,IAAIO,YAAc,6BAA8B,KAEpF/6H,EAAI,EAAGA,EAAI46H,EAAK5vH,OAAQhL,GAAK,EACtC,CAYC,IAAIg7H,EAAU56H,EAVd,KAAIw6H,EAAK56H,GAAGo6H,SAAWQ,EAAK56H,GAAGo6H,mBAAmBD,EAAIK,YAKjCl9G,IAAjBs9G,EAAK56H,GAAG4I,MAAoD,SAA9BgyH,EAAK56H,GAAG4I,KAAKsiB,gBAA4BivG,EAAIc,wBAQzB,QAApDD,EAAWb,EAAIe,YAAYN,EAAK56H,GAAI,aACpC46H,EAAK56H,GAAGw+B,YAAcp+B,EAAIw6H,EAAK56H,GAAGw+B,UAAUzL,MAAM+nG,KAEpD,CACC,IAAIK,EAAYP,EAAK56H,GAEjBo7H,EAAU,GACG,OAAbJ,EAEHI,EAAUJ,EAEA56H,IAEVk6F,QAAQ+gC,KAAK,sFAAwFlB,EAAImB,SACrGl7H,EAAE,KAELg7H,EAAUh7H,EAAE,KAId,IAAIm7H,EAAO,KACX,GAAIH,EAAQ1/E,OAEX,IAEC6/E,EAAOpB,EAAIqB,gBAAgBJ,GAC1B,MAAOlhH,GAERogF,QAAQ+gC,KAAKnhH,EAAI,KAAOkhH,GAI1B,IAEC,IAAIjB,EAAIK,IAAIW,EAAWI,GACtB,MAAOrhH,GAERogF,QAAQ+gC,KAAKnhH,OAOjBshH,gBAAiB,SAAUzF,GAE1B,IAAIwF,EAAO,KAEX,IAECA,EAAOz8F,KAAKC,MAAMg3F,GAEjB,MAAO0F,GAER,IAAKtB,EAAIK,IAAIkB,UAEZ,MAAM,IAAIlwH,MAAM,4CAA8CiwH,GAI9D,IAECF,EAAO,IAAKI,SAAS,eAAiB5F,EAAM,kDAArC,GACN,MAAO6F,GAER,MAAM,IAAIpwH,MAAM,uCAAyCowH,IAI5D,OAAOL,GAIRM,aAAc,WAGb,IADA,IAAIC,EAAY,GACP97H,EAAI,EAAGA,EAAIm6H,EAAIE,UAAUrvH,OAAQhL,GAAK,EAG1Cm6H,EAAIE,UAAUr6H,IAAMm6H,EAAIE,UAAUr6H,GAAG+7H,eAExCD,EAAK1oG,KAAK+mG,EAAIE,UAAUr6H,IAG1B,OAAO87H,GAIRE,SAAU,SAAUC,GAEnB,IAAIh1C,EAAK7iE,EAAOxY,SAAS4b,cAAcy0G,GAEvC,OADA9B,EAAI+B,QAAQj1C,EAAI,OAAO,GAChBA,GAIR0zC,KAAM,SAAUwB,GAEf,IAAKA,EAEJ,OAAO,KAGR,GAA8B,iBAAnBA,EACX,CAEC,IAAIC,EAAMD,EACNl1C,EAAK,KACT,IAECA,EAAK7iE,EAAOxY,SAASywH,cAAcD,GAClC,MAAOliH,GAGR,OADAogF,QAAQ+gC,KAAKnhH,GACN,KAMR,OAJK+sE,GAEJqT,QAAQ+gC,KAAK,sCAAuCe,GAE9Cn1C,EAGR,OAAIkzC,EAAImC,OAAOH,GAGPA,GAGR7hC,QAAQ+gC,KAAK,qCAAsCc,EAAgBA,GAC5D,OAKRG,OAAQ,SAAUplG,GAEjB,MAAoB,iBAATqlG,KAEHrlG,aAAeqlG,KAEhBrlG,GAAsB,iBAARA,GAA4C,iBAAjBA,EAAIslG,UAAiD,iBAAjBtlG,EAAIulG,UAIzFA,SAAU,SAAU9B,GAEnB,SAAIA,IAAQA,EAAK8B,WAET9B,EAAK8B,SAASvxG,eAMvBwxG,eAAgB,SAAU/B,GAEzB,KAAOA,EAAKgC,YAEXhC,EAAK9yG,YAAY8yG,EAAKgC,aAKxBC,YAAa,SAAU31C,GAEtB,OAAOA,GAA2B,UAArBkzC,EAAIsC,SAASx1C,IAA6C,SAA1BA,EAAGr+E,KAAKsiB,eAItD2xG,SAAU,SAAU51C,GAEnB,IAAKA,EAEJ,OAAO,EAER,IAAIxlF,EAAI04H,EAAIsC,SAASx1C,GACrB,MACQ,WAANxlF,GACM,UAANA,GAAiB,CAAC,SAAU,SAAU,SAASkzB,QAAQsyD,EAAGr+E,KAAKsiB,gBAAkB,GAKpF4xG,cAAe,SAAU71C,GAExB,OAAQkzC,EAAIsC,SAASx1C,IAEpB,IAAK,QAAS,OAASA,EAAGhmF,OAA6B,KAApBgmF,EAAGhmF,MAAMy6C,OAC5C,IAAK,SAAU,MAAkC,KAA1BurC,EAAGzlD,YAAYka,OAEvC,OAAO,MAKRqhF,wBAAyB,WAExB,IAAIC,GAAY,EAEhB,IAEC,IAAIzB,EAAO76H,OAAOC,eAAe,GAAI,UAAW,CAC/CE,IAAK,WAAcm8H,GAAY,KAEhC54G,EAAOooB,iBAAiB,cAAe,KAAM+uF,GAC7Cn3G,EAAO64G,oBAAoB,cAAe,KAAM1B,GAC/C,MAAOrhH,IAET,OAAO8iH,EAbiB,GAiBzB/B,sBAEKf,EAAM91G,EAAOxY,SAAS4b,cAAc,YACpC0yG,EAAI57F,eAEP47F,EAAI57F,aAAa,OAAQ,SACK,SAA1B47F,EAAItxH,KAAKsiB,iBASfgyG,SAAU,gBAOVhB,QAAS,WAER,IAAIiB,EAAM7xG,UAAU,GAEpB,GAAyB,IAArBA,UAAUtgB,OACd,CAEC,IAAIi1B,EAAOk9F,EAAIt7H,eAAes4H,EAAI+C,UAAYC,EAAIhD,EAAI+C,UAAaC,EAAIhD,EAAI+C,UAAY,GACnFjgF,EAAO3xB,UAAU,GACjBrqB,EAAQqqB,UAAU,GAGtB,OADA2U,EAAKgd,GAAQh8C,GACN,EAED,GAAyB,IAArBqqB,UAAUtgB,QAAwC,iBAAjBsgB,UAAU,GACtD,CAEK2U,EAAOk9F,EAAIt7H,eAAes4H,EAAI+C,UAAYC,EAAIhD,EAAI+C,UAAaC,EAAIhD,EAAI+C,UAAY,GAAvF,IACI1gH,EAAW8O,UAAU,GAEzB,IAAK,IAAI8xG,KAAS5gH,EAEbA,EAAI3a,eAAeu7H,KAEtBn9F,EAAKm9F,GAAS5gH,EAAI4gH,IAGpB,OAAO,EAGR,MAAM,IAAI5xH,MAAM,sBAOjB6xH,WAAY,WAEX,IAAIF,EAAM7xG,UAAU,GACpB,IAAK6xG,EAAIt7H,eAAes4H,EAAI+C,UAE3B,OAAO,EAER,IAAK,IAAIl9H,EAAI,EAAGA,EAAIsrB,UAAUtgB,OAAQhL,GAAK,EAC3C,CACC,IAAIi9C,EAAO3xB,UAAUtrB,UACdm9H,EAAIhD,EAAI+C,UAAUjgF,GAE1B,OAAO,GAIRrI,QAAS,SAAUuoF,EAAUlgF,EAAWqgF,GAEvC,IAAKH,EAAIt7H,eAAes4H,EAAI+C,UAC5B,CAEC,QAAmB5/G,IAAfggH,EAKH,OAHAH,EAAIhD,EAAI+C,UAAY,GAMtB,IAAIj9F,EAAOk9F,EAAIhD,EAAI+C,UAMnB,OAJKj9F,EAAKp+B,eAAeo7C,SAAwB3/B,IAAfggH,IAEjCr9F,EAAKgd,GAAQqgF,GAEPr9F,EAAKgd,IAIbi+E,YAAa,SAAUj0C,EAAS1mF,GAE/B,IAAIg9H,EAAW,QAAUh9H,EAEzB,OADgB0mF,EAAG7oD,aAAam/F,IAKjCC,YAAa,SAAUv2C,EAAS1mF,EAAWU,GAE1C,IAAIs8H,EAAW,QAAUh9H,EACzB0mF,EAAG3oD,aAAai/F,EAAUt8H,IAI3Bw8H,qBAAsB,GAGtBC,iBAAkB,SAAUC,EAAgB12C,EAAS22C,EAAWC,GAE1D1D,EAAIsD,qBAAqB57H,eAAe87H,KAE5CxD,EAAIsD,qBAAqBE,GAAa,IAEvCxD,EAAIsD,qBAAqBE,GAAWvqG,KAAK,CAAC6zD,EAAI22C,EAAMC,IACpD52C,EAAGz6C,iBAAiBoxF,EAAMC,GAAM,IAIjCC,kBAAmB,SAAUH,GAE5B,GAAIxD,EAAIsD,qBAAqB57H,eAAe87H,GAC5C,CACC,IAAK,IAAI39H,EAAI,EAAGA,EAAIm6H,EAAIsD,qBAAqBE,GAAW3yH,OAAQhL,GAAK,EACrE,CACC,IAAI+9H,EAAM5D,EAAIsD,qBAAqBE,GAAW39H,GAC9C+9H,EAAI,GAAGd,oBAAoBc,EAAI,GAAIA,EAAI,IAAI,UAErC5D,EAAIsD,qBAAqBE,KAKlC/kG,eAAgB,SAAU1e,GAErBA,EAAE0e,gBAAkB1e,EAAE0e,iBAC1B1e,EAAE8jH,aAAc,GAIjBC,cAAe,SAAUl7F,GAGpBA,EAAOm7F,aAEV/D,EAAIgE,gBAAkBp7F,EACtBo3F,EAAIgE,gBAAgBD,eAKtBE,cAAe,WAGVjE,EAAIgE,kBAEPhE,EAAIgE,gBAAgBE,iBACpBlE,EAAIgE,gBAAkB,OAKxBG,aAAc,SAAUr3C,EAASqM,EAAgBirC,EAAcC,GAE9D,GAAKv3C,EAAL,CAKA,IAAIw3C,EAAK,KAeT,MAbqB,mBAAVC,MAEVD,EAAK,IAAIC,MAAMprC,EAAW,CACzBirC,QAASA,EACTC,WAAYA,KAKbC,EAAKr6G,EAAOxY,SAAS+yH,YAAY,UAC9BC,UAAUtrC,EAAWirC,EAASC,KAG7BC,IAMLtE,EAAI+B,QAAQuC,EAAI,YAAY,GAE5Bx3C,EAAG43C,cAAcJ,IACV,KAIRK,kBAAmB,SAAU73C,EAASqM,EAAgBirC,EAAcC,GAE9Dv3C,GAIDkzC,EAAIyC,YAAY31C,IAEnBkzC,EAAImE,aAAar3C,EAAIqM,EAAWirC,EAASC,IAK3CO,SAAU,SAAUN,GAEnB,IAAIliH,EAAY,CACfyiH,EAAG,MACHC,GAAI,QACJC,GAAI,UAEL,MAAuB,iBAAZT,EAAGz6F,KAENy6F,EAAGz6F,UACe1mB,IAAfmhH,EAAGpsC,SAAyB91E,EAAK1a,eAAe48H,EAAGpsC,SAEtD91E,EAAKkiH,EAAGpsC,SAET,MAIR8sC,QAAS,SAAUpJ,GAElB,OAAKA,EAIEA,EAAI/7G,QAAQ,aAAc,IAAIuS,MAAM,OAFnC,IAOT2R,SAAU,SAAUg8F,EAAU17F,GAE7B,QAAKA,SAIiBlhB,IAAlB48G,EAAItgH,UAEAsgH,EAAItgH,UAAU6yB,SAASjO,IAGvB,IAAM,IAAM07F,EAAI17F,UAAUxkB,QAAQ,OAAQ,KAAO,KAAK2a,QAAQ,IAAM6J,EAAY,OAKzF9D,SAAU,SAAUw/F,EAAU17F,GAE7B,IAAI4gG,EAAajF,EAAIgF,QAAQ3gG,GAE7B,QAAsBlhB,IAAlB48G,EAAItgH,UASR,IAAS5Z,EAAI,EAAGA,EAAIo/H,EAAWp0H,OAAQhL,GAAK,EAEtCm6H,EAAIj8F,SAASg8F,EAAKkF,EAAWp/H,MAEjCk6H,EAAI17F,YAAc07F,EAAI17F,UAAY,IAAM,IAAM4gG,EAAWp/H,SAX1D,IAAK,IAAIA,EAAI,EAAGA,EAAIo/H,EAAWp0H,OAAQhL,GAAK,EAE3Ck6H,EAAItgH,UAAUpP,IAAI40H,EAAWp/H,KAgBhCy+B,YAAa,SAAUy7F,EAAU17F,GAEhC,IAAI4gG,EAAajF,EAAIgF,QAAQ3gG,GAE7B,QAAsBlhB,IAAlB48G,EAAItgH,UASR,IAAS5Z,EAAI,EAAGA,EAAIo/H,EAAWp0H,OAAQhL,GAAK,EAC5C,CACC,IAAIq/H,EAAO,IAAItrF,OACd,QAAUqrF,EAAWp/H,GAArB,YACSo/H,EAAWp/H,GADpB,aAESo/H,EAAWp/H,GAAK,SACzB,KAEDk6H,EAAI17F,UAAY07F,EAAI17F,UAAUxkB,QAAQqlH,EAAM,WAf5C,IAAK,IAAIr/H,EAAI,EAAGA,EAAIo/H,EAAWp0H,OAAQhL,GAAK,EAE3Ck6H,EAAItgH,UAAUK,OAAOmlH,EAAWp/H,KAkBnCs/H,aAAc,SAAUpF,GAEvB,IAAIqF,EAAYn7G,EAAO8kF,iBAAmB9kF,EAAO8kF,iBAAiBgxB,GAAOA,EAAIsF,aAI7E,OAAKD,GAEG,IAUTE,SAAU,SAAUvF,EAAUwF,EAAaC,EAAgBC,GAG1D,IAAIC,EAAWF,EAAY,YAAc,GACrCG,EAAY,KAEhB,IAAK,IAAI7iF,KAAQyiF,EAEhB,GAAIA,EAAO79H,eAAeo7C,GAC1B,CACC,IAAI8iF,EAAS,KAEQ,OAAjBL,EAAOziF,IAIL6iF,IAGJA,EAAY3F,EAAIvlF,QAAQslF,EAAK,cAE1B4F,GAAaA,EAAUj+H,eAAeo7C,KAGzC8iF,EAASD,EAAU7iF,MAOhB2iF,IAEEE,IAGJA,EAAY3F,EAAIvlF,QAAQslF,EAAK,YAAa,KAEtC4F,EAAUj+H,eAAeo7C,KAG7B6iF,EAAU7iF,GAAQi9E,EAAI7+G,MAAM4hC,KAG9B8iF,EAASL,EAAOziF,IAGF,OAAX8iF,GAEH7F,EAAI7+G,MAAM2kH,YAAY/iF,EAAM8iF,EAAQF,KAOxCI,SAAU,SAAUn/H,EAAQ44H,EAAQ3uG,GAEnC,MAAO,MACL,IAAMoC,KAAKkF,MAAMvxB,GAAG4b,SAAS,KAAKmO,QAAQ,IAC1C,IAAMsC,KAAKkF,MAAMqnG,GAAGh9G,SAAS,KAAKmO,QAAQ,IAC1C,IAAMsC,KAAKkF,MAAMtH,GAAGrO,SAAS,KAAKmO,QAAQ,IAC1C0H,eAIH2tG,UAAW,SAAUp/H,EAAQ44H,EAAQ3uG,EAAQD,GAE5C,MAAO,MACL,IAAMqC,KAAKkF,MAAMvxB,GAAG4b,SAAS,KAAKmO,QAAQ,IAC1C,IAAMsC,KAAKkF,MAAMqnG,GAAGh9G,SAAS,KAAKmO,QAAQ,IAC1C,IAAMsC,KAAKkF,MAAMtH,GAAGrO,SAAS,KAAKmO,QAAQ,IAC1C,IAAMsC,KAAKkF,MAAU,IAAJvH,GAASpO,SAAS,KAAKmO,QAAQ,IAChD0H,eAIH4tG,SAAU,SAAUr/H,EAAQ44H,EAAQ3uG,GAEnC,MAAO,OACNoC,KAAKkF,MAAMvxB,GAAK,IAChBqsB,KAAKkF,MAAMqnG,GAAK,IAChBvsG,KAAKkF,MAAMtH,GACX,KAIFq1G,UAAW,SAAUt/H,EAAQ44H,EAAQ3uG,EAAQD,GAE5C,MAAO,QACNqC,KAAKkF,MAAMvxB,GAAK,IAChBqsB,KAAKkF,MAAMqnG,GAAK,IAChBvsG,KAAKkF,MAAMtH,GAAK,IACfoC,KAAKkF,MAAgD,KAAzCvH,QAAgC,EAAIA,IAAY,IAC7D,KAIFu1G,gBAuBKpG,EApBJ,WAMC,IAJA,IACIqG,EAAW,CAAC,GAAI,WAAY,QAAS,MAAO,QAC5CC,EAASn8G,EAAOxY,SAAS4b,cAAc,OAElCxnB,EAAI,EAAGA,EAAIsgI,EAASt1H,OAAQhL,GAAK,EAC1C,CACC,IAAIwgI,EAAUF,EAAStgI,GANV,kBAOTygI,EAASD,EAAU,2CAGvB,GADAD,EAAOllH,MAAMk/B,WAAakmF,EACtBF,EAAOllH,MAAMk/B,WAEhB,OAAOimF,EAGT,MAfc,kBAkBAE,GAER,WAEN,OAAOzG,EAAW,IAAM39G,MAAM1a,UAAUqb,KAAK9c,KAAKmrB,UAAW,MAAQ,MAMvEq1G,gBAAiB,SAAUzG,EAAUj5H,GAEpCk5H,EAAIsF,SAASvF,EAAK,CAAE,gBAAiBj5H,GAAS,OAI/C2/H,aAAc,SAAU1G,EAAUj5H,GAEjCk5H,EAAIsF,SAASvF,EAAK,CAAE,aAAcj5H,GAAS,UAI5C4/H,cAAe,SAAU3mH,EAAQ4mH,GAEhC,IAAI9tG,EAAI,EAAGytE,EAAI,EACXsgC,EAAO7mH,EAAEkjB,wBAGb,GAFApK,EAAI+tG,EAAKp6G,KACT85E,EAAIsgC,EAAKv6G,KACJs6G,EACL,CACC,IAAIE,EAAU7G,EAAI8G,aAClBjuG,GAAKguG,EAAQ,GACbvgC,GAAKugC,EAAQ,GAEd,MAAO,CAAChuG,EAAGytE,IAIZygC,eAAgB,SAAUhnH,GAEzB,MAAO,CAACA,EAAEynB,YAAaznB,EAAE03D,eAK1BuvD,iBAAkB,SAAUjnH,GAE3B,IAAI8Y,EAAI,EAAGytE,EAAI,EAWf,YAVgC,IAArBvmF,EAAEknH,gBAAkClnH,EAAEknH,eAAep2H,QAG/DgoB,EAAI9Y,EAAEknH,eAAe,GAAGppG,QACxByoE,EAAIvmF,EAAEknH,eAAe,GAAGlpG,SACO,iBAAdhe,EAAE8d,UAEnBhF,EAAI9Y,EAAE8d,QACNyoE,EAAIvmF,EAAEge,SAEA,CAAElF,EAAGA,EAAGytE,EAAGA,IAKnB4gC,iBAAkB,SAAUnnH,GAE3B,IACIonH,GADSpnH,EAAE6oB,QAAU7oB,EAAEqnH,YACHnkG,wBAIpBpF,EAAU,EAAGE,EAAU,EAc3B,YAbgC,IAArBhe,EAAEknH,gBAAkClnH,EAAEknH,eAAep2H,QAG/DgtB,EAAU9d,EAAEknH,eAAe,GAAGppG,QAC9BE,EAAUhe,EAAEknH,eAAe,GAAGlpG,SACC,iBAAdhe,EAAE8d,UAEnBA,EAAU9d,EAAE8d,QACZE,EAAUhe,EAAEge,SAKN,CAAElF,EAFLgF,EAAUspG,EAAW36G,KAEV85E,EADXvoE,EAAUopG,EAAW96G,MAK1By6G,WAAY,WAEX,IAAIv8F,EAAMtgB,EAAOxY,SAAS21B,gBAC1B,MAAO,EACLnd,EAAOo9G,aAAe98F,EAAIwjB,aAAexjB,EAAI+8F,YAAc,IAC3Dr9G,EAAOs9G,aAAeh9F,EAAIktB,YAAcltB,EAAIi9F,WAAa,KAK5DC,YAAa,WAEZ,IAAIl9F,EAAMtgB,EAAOxY,SAAS21B,gBAC1B,MAAO,CACLnd,EAAO40E,YAAct0D,EAAIxK,YACzB9V,EAAOwZ,aAAe8G,EAAItK,eAW7BynG,QAAS,SAAU/gI,EAAQ44H,EAAQ3uG,GAElCjqB,GAAK,IACL44H,GAAK,IACL3uG,GAAK,IACL,IAAItpB,EAAI0rB,KAAKgJ,IAAIhJ,KAAKgJ,IAAIr1B,EAAG44H,GAAI3uG,GAC7B+2G,EAAI30G,KAAK8I,IAAI9I,KAAK8I,IAAIn1B,EAAG44H,GAAI3uG,GAC7B3qB,EAAI0hI,EAAIrgI,EACZ,GAAU,IAANrB,EAAW,MAAO,CAAC,KAAM,EAAG,IAAM0hI,GACtC,IAAIC,EAAIjhI,IAAMW,EAAI,GAAKspB,EAAI2uG,GAAKt5H,EAAKs5H,IAAMj4H,EAAI,GAAKX,EAAIiqB,GAAK3qB,EAAI,GAAKs5H,EAAI54H,GAAKV,EAC/E,MAAO,CACN,IAAY,IAAN2hI,EAAU,EAAIA,GACb3hI,EAAI0hI,EAAX,IACA,IAAMA,IAWRE,QAAS,SAAUD,EAAQhgI,EAAQ+/H,GAElC,IAAI9rG,EAAW8rG,EAAI,IAAX,IAER,GAAU,OAANC,EAEH,MAAO,CAAC/rG,EAAGA,EAAGA,GAGf+rG,GAAK,GACLhgI,GAAK,IAEL,IAAI/B,EAAImtB,KAAKwkG,MAAMoQ,GAEf3hI,EAAI41B,GAAK,EAAIj0B,GACbN,EAAIu0B,GAAK,EAAIj0B,GAFT/B,EAAI,EAAI+hI,EAAI/hI,EAAI,GAAK+hI,EAAI/hI,KAGjC,OAAQA,GAEP,KAAK,EACL,KAAK,EAAG,MAAO,CAACg2B,EAAGv0B,EAAGrB,GACtB,KAAK,EAAG,MAAO,CAACqB,EAAGu0B,EAAG51B,GACtB,KAAK,EAAG,MAAO,CAACA,EAAG41B,EAAGv0B,GACtB,KAAK,EAAG,MAAO,CAACrB,EAAGqB,EAAGu0B,GACtB,KAAK,EAAG,MAAO,CAACv0B,EAAGrB,EAAG41B,GACtB,KAAK,EAAG,MAAO,CAACA,EAAG51B,EAAGqB,GAEvB,OAAOu0B,GAIRisG,iBAAkB,SAAUlM,GAE3B,IAKI31H,EALAmrD,EAAW,CACd22E,KAAM,KACN3zG,OAAQ,MAKT,GAAInuB,EAAI21H,EAAIhjG,MAAM,4BAClB,CAGC,GAAoB,IAAhB3yB,EAAE,GAAG4K,OAGRugD,EAAIh9B,OAAS,OACbg9B,EAAI22E,KAAO,CACVn0F,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAC5BkjB,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAC5BkjB,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAC5BkjB,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAAM,UAG7B,GAAoB,IAAhBzqB,EAAE,GAAG4K,OAGfugD,EAAIh9B,OAAS,MACbg9B,EAAI22E,KAAO,CACVn0F,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAC5BkjB,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAC5BkjB,SAAS3tC,EAAE,GAAGyqB,OAAO,EAAG,GAAI,IAC5B,UAGK,IAAoB,IAAhBzqB,EAAE,GAAG4K,OAaf,OAAO,EAVPugD,EAAIh9B,OAAS,MACbg9B,EAAI22E,KAAO,CACVn0F,SAAS3tC,EAAE,GAAGkyB,OAAO,GAAKlyB,EAAE,GAAGkyB,OAAO,GAAI,IAC1Cyb,SAAS3tC,EAAE,GAAGkyB,OAAO,GAAKlyB,EAAE,GAAGkyB,OAAO,GAAI,IAC1Cyb,SAAS3tC,EAAE,GAAGkyB,OAAO,GAAKlyB,EAAE,GAAGkyB,OAAO,GAAI,IAC1C,MAQF,OAAOi5B,EAGR,GAAInrD,EAAI21H,EAAIhjG,MAAM,6BAClB,CAGC,IAEIovG,EAAIC,EAAIC,EAAIC,EAFZC,EAAMniI,EAAE,GAAGmsB,MAAM,KACjBi2G,EAAK,kCAET,GACCD,EAAIv3H,QAAU,IACbm3H,EAAKI,EAAI,GAAGxvG,MAAMyvG,MAClBJ,EAAKG,EAAI,GAAGxvG,MAAMyvG,MAClBH,EAAKE,EAAI,GAAGxvG,MAAMyvG,IAmBnB,OAhBAj3E,EAAIh9B,OAAS,MACbg9B,EAAI22E,KAAO,CACVO,WAAWN,EAAG,KAAO,EACrBM,WAAWL,EAAG,KAAO,EACrBK,WAAWJ,EAAG,KAAO,EACrB,MAIAE,EAAIv3H,QAAU,IACbs3H,EAAKC,EAAI,GAAGxvG,MAAMyvG,MAGnBj3E,EAAIh9B,OAAS,OACbg9B,EAAI22E,KAAK,GAAKO,WAAWH,EAAG,KAAO,GAE7B/2E,EAIT,OAAO,GAIRm3E,kBAAmB,SAAUC,GAE5B,IAAIC,EAAO,GAEU,iBAAVD,EAGTA,EAAc3oH,QAAQ,iDAAiD,SAAUkd,GAEjF0rG,EAAKxvG,KAAK8D,MAED5a,MAAM4X,QAAQyuG,KAExBC,EAAOD,GAOR,IAFA,IAAIE,EAAS,GAEJ7iI,EAAI,EAAGA,EAAI4iI,EAAK53H,OAAQhL,IACjC,CACC,IAAI8a,EAAQq/G,EAAI8H,iBAAiBW,EAAK5iI,IAClC8a,GAEH+nH,EAAOzvG,KAAKtY,GAId,OAAO+nH,GAIRC,wBAAyB,SAAUD,GAElC,IAAK,IAAI7iI,EAAI,EAAGA,EAAI6iI,EAAO73H,OAAQhL,IACnC,CACC,IAAI8qB,EAAI+3G,EAAO7iI,GAAGkiI,KAAK,GACvB,GAAU,OAANp3G,GAAcA,EAAI,EAErB,OAAO,EAGT,OAAO,GAIRi4G,cAAe,SAAUx0G,GAExB,OAAQA,EAAOrD,eAEd,IAAK,OACL,IAAK,OACJ,OAAO,EAET,OAAO,GAQR83G,sBAAuB,SAAUv8C,GAEhC,IAAIw8C,EAAM7+G,EAAOmjB,kBAAoB,EACrCk/C,EAAOtrE,OAAS8nH,EAChBx8C,EAAOrrE,QAAU6nH,EACPx8C,EAAOK,WAAW,MACxB4jB,MAAMu4B,EAAKA,IAIhBC,sBAAuB,SAAUpoH,EAAYqoH,EAAmBC,EAAgBC,GAG/E,IAAIC,EAAOn2G,KAAKkF,MAAM8nG,EAAIK,IAAI+I,iBAAiBv4H,QAC3Cw4H,EAASrJ,EAAIK,IAAIiJ,eACjBC,EAAWvJ,EAAIK,IAAImJ,iBACnBC,EAAWzJ,EAAIK,IAAIqJ,iBAEnBC,EAASV,GAAiC,EAATI,EACjCO,EAAmB,EAATP,EAEV/8C,EAAS0zC,EAAI6B,SAAS,UACtBlvB,EAAMrmB,EAAOK,WAAW,MAE5BL,EAAOtrE,MAAQ2oH,EACfr9C,EAAOrrE,OAAS2oH,EACZV,GAEHlJ,EAAI6I,sBAAsBv8C,GAI3BqmB,EAAI5I,UAAYw/B,EAChB52B,EAAI3I,SAAS,EAAG,EAAG2/B,EAAQC,GAG3Bj3B,EAAI5I,UAAY0/B,EAChB,IAAK,IAAI5wG,EAAI,EAAGA,EAAI8wG,EAAQ9wG,GAAc,EAATwwG,EAEhC12B,EAAI3I,SAASnxE,EAAG,EAAGwwG,EAAQA,GAC3B12B,EAAI3I,SAASnxE,EAAIwwG,EAAQA,EAAQA,EAAQA,GAGtC1oH,IAGHgyF,EAAI5I,UAAYppF,EAChBgyF,EAAI3I,SAAS,EAAG,EAAG2/B,EAAQC,IAG5B,IAAI5gH,EAAQ,KACZ,OAAQggH,GAEP,IAAK,OACJhgH,EAAQ,EACR2pF,EAAI/K,UAAU,EAAG,EAAGuhC,EAAO,EAAGS,GAC9B,MACD,IAAK,QACJ5gH,EAAQ2gH,EAASR,EACjBx2B,EAAI/K,UAAU+hC,EAAUR,EAAO,EAAI,EAAGA,EAAO,EAAGS,GAGlD,GAAc,OAAV5gH,EACJ,CACC2pF,EAAI/J,UAAY,EAChB,IAAK,IAAI/iG,EAAI,EAAGA,EAAIm6H,EAAIK,IAAI+I,iBAAiBv4H,OAAQhL,GAAK,EAEzD8sG,EAAI9J,YACJ8J,EAAIlK,YAAcu3B,EAAIK,IAAI+I,iBAAiBvjI,GAC3C8sG,EAAI7J,OAAO,GAAM9/E,EAAQnjB,EAAG,GAC5B8sG,EAAI5J,OAAO,GAAM//E,EAAQnjB,EAAG+jI,GAC5Bj3B,EAAI3J,SAIN,MAAO,CACN1c,OAAQA,EACRtrE,MAAO2oH,EACP1oH,OAAQ2oH,IAMVC,wBAAyB,SAAUlpH,EAAY3Y,EAAegZ,GAE7D,IAAI8oH,EAAS,GAoBb,OAhBCA,EAFG9hI,GAAYgZ,EAEN,CACR,MAAS,CAAE,KAAQ,QAAS,MAAS,QAAiBhZ,GACtD2Y,EAAQ,MACRA,EAAQ,IAAMK,EAAQ,KACtB,kBAAoBA,EAAQ,GAAK,KACjC,sBAIQ,CACR,WACAL,EAAQ,MACRA,EAAQ,SAIHq/G,EAAIkG,eAAe/qG,MAAM11B,KAAMqkI,IAIvCC,eAAgB,WAGf,GAAK/J,EAAIgK,QAAWhK,EAAIgK,OAAOC,MAA/B,CAKA,IAEIC,EAAIC,EAFJC,EAAUpK,EAAIgK,OAAOC,MAIrBG,EAAQC,OAIXH,EAAKlK,EAAI0G,cAAc0D,EAAQxI,eAAe,GAC9CuI,EAAK,CAAC,EAAG,KAGTD,EAAKlK,EAAI0G,cAAc0D,EAAQxI,eAC/BuI,EAAKnK,EAAI8G,cAGV,IAIIn2G,EAAGC,EAAG1qB,EAJNokI,EAAKtK,EAAI+G,eAAeqD,EAAQxI,eAChC2I,EAAKvK,EAAIyH,cACT+C,EAAKxK,EAAIyK,cAAcL,GACvBM,EAAK,CAACF,EAAGG,QAASH,EAAGI,SAEzB,OAAQR,EAAQpiI,SAAS+oB,eAExB,IAAK,OAAQJ,EAAI,EAAGC,EAAI,EAAG1qB,GAAK,EAAG,MACnC,IAAK,QAASyqB,EAAI,EAAGC,EAAI,EAAG1qB,EAAI,EAAG,MACnC,IAAK,MAAOyqB,EAAI,EAAGC,EAAI,EAAG1qB,GAAK,EAAG,MAClC,QAASyqB,EAAI,EAAGC,EAAI,EAAG1qB,EAAI,EAE5B,IAAIJ,GAAKwkI,EAAG15G,GAAK85G,EAAG95G,IAAM,EAG1B,GAAKw5G,EAAQS,cAQRC,EAAK,EACPX,EAAGx5G,GAAKu5G,EAAGv5G,GAAK+5G,EAAG/5G,GAAK45G,EAAG55G,KACzBw5G,EAAGx5G,GAAKu5G,EAAGv5G,GAAK25G,EAAG35G,GAAK,EAAI45G,EAAG55G,GAAK,GAAKu5G,EAAGv5G,GAAK25G,EAAG35G,GAAK+5G,EAAG/5G,IAAM,EAAIu5G,EAAGv5G,GAAK25G,EAAG35G,GAAK+5G,EAAG/5G,GAC3Fu5G,EAAGv5G,IACHw5G,EAAGv5G,GAAKs5G,EAAGt5G,GAAK05G,EAAG15G,GAAK85G,EAAG95G,GAAK9qB,EAAIA,EAAII,EAAIqkI,EAAG35G,IAC7Cu5G,EAAGv5G,GAAKs5G,EAAGt5G,GAAK05G,EAAG15G,GAAK,EAAI25G,EAAG35G,GAAK,GAAKs5G,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,GAAK,EAAIgkI,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,EAAIgkI,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,EAC/HgkI,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,GAAK,EAAIgkI,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,EAAIgkI,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,QAZxF,IAAI4kI,EAAK,CACRZ,EAAGv5G,GACHu5G,EAAGt5G,GAAK05G,EAAG15G,GAAK9qB,EAAIA,EAAII,GAc1B,IAAI2yB,EAAIiyG,EAAGn6G,GACP21E,EAAIwkC,EAAGl6G,GACPm6G,EAAgBX,EAAQC,MAAQ,QAAU,WAC1CW,GACFF,EAAG,GAAKJ,EAAG,GAAKR,EAAG,IAAMY,EAAG,GAAKZ,EAAG,GAAKI,EAAG,KAC5CQ,EAAG,GAAKJ,EAAG,GAAKR,EAAG,GAAKI,EAAG,GAE7BtK,EAAIiL,cAAcb,EAASvxG,EAAGytE,EAAGykC,EAAeC,KAIjDC,cAAe,SAAUb,EAAcvxG,EAAQytE,EAAQykC,EAAoBC,GAE1E,IAAIE,EAAUF,EAAiB,EAAIZ,EAAQe,WAE3CnL,EAAIgK,OAAO1pG,KAAKpf,MAAMlZ,SAAW+iI,EACjC/K,EAAIgK,OAAO1pG,KAAKpf,MAAMsL,KAAOqM,EAAI,KACjCmnG,EAAIgK,OAAO1pG,KAAKpf,MAAMmL,IAAMi6E,EAAI,KAEhC05B,EAAIyG,aACHzG,EAAIgK,OAAOoB,KACXhB,EAAQ1L,OACP,IAAIsB,EAAIH,UAAU,EAAGqL,EAASd,EAAQe,WAAY,EAAGf,EAAQiB,aAC7D,OAIHZ,cAAe,SAAUL,GAExB,IAAIkB,EAAI,EAAIlB,EAAQmB,mBAAqBnB,EAAQppH,MAC7C4mH,EAAI,EAAIwC,EAAQmB,mBAAqBnB,EAAQnpH,OAE7CuqH,EAAc,EAAIpB,EAAQmB,mBAAqB,EAAIvL,EAAIyL,kBAAkBrB,GAAWA,EAAQsB,WAE5F1L,EAAI2L,iBAAiBvB,KAExBkB,GAAKE,GAEFpB,EAAQwB,oBAEXN,GAAKE,GAGN,IAAIK,EAAM7L,EAAI8L,eAAe1B,EAASkB,GAElCO,EAAI5qH,SAEP2mH,GAAKiE,EAAI5qH,OAASmpH,EAAQnyD,SAEvBmyD,EAAQhM,cAEXwJ,GAAK,EAAIwC,EAAQmB,mBAAqBnB,EAAQnyD,QAAUmyD,EAAQ2B,cAGjE,IAAIC,EAAKV,EAAK,EAAIlB,EAAQnyD,QACtBg0D,EAAKrE,EAAK,EAAIwC,EAAQnyD,QAE1B,MAAO,CACNi0D,SAAUZ,EACVa,SAAUvE,EACVwE,QAASJ,EACTK,QAASJ,EACTtB,QAASqB,EAAM,EAAI5B,EAAQkC,YAC3B1B,QAASqB,EAAM,EAAI7B,EAAQkC,YAC3BjO,QAASwN,IAKXC,eAAgB,SAAU1B,EAAcppH,GAEvC,IAAIurH,EAAO,EAAGz1F,EAAO,EAAG01F,EAAQ,EAAGC,EAAQ,EAAGxrH,EAAS,EACnDyrH,EAActC,EAAQuC,SAAWvC,EAAQuC,SAAS97H,OAAS,EAmB/D,OAjBI67H,IAGH51F,GADAy1F,EAAOnC,EAAQzL,aACD,EAAI3rG,KAAK82E,KAAK4iC,EAAcH,GAAQ,EAGlDC,EAAQx5G,KAAK8I,IAAI,EAAG9I,KAAKwkG,OAAOx2G,GAAUurH,EAAO,GAAKnC,EAAQwC,gBAAmBL,IACjFE,EAAQrC,EAAQyC,cAAgB75G,KAAKgJ,IAAIouG,EAAQyC,cAAeL,GAASA,GAGtE11F,IAEH71B,EACC61B,EAAO21F,GACN31F,EAAO,GAAKszF,EAAQwC,gBAGhB,CACNL,KAAMA,EACNz1F,KAAMA,EACN01F,MAAOA,EACPC,MAAOA,EACPzrH,MAAOA,EACPC,OAAQA,IAKVwqH,kBAAmB,SAAUrB,GAE5B,OAAOp3G,KAAK8I,IACXsuG,EAAQnyD,QAAU,EACjB,EAAImyD,EAAQ0C,mBAAqB1C,EAAQ2C,iBAAoB3C,EAAQmB,qBAKxEyB,eAAgB,SAAU5C,GAEzB,OAAQA,EAAQpjI,KAAKmxB,OAAO,GAAGpH,eAE9B,IAAK,IAAK,MAAO,IAElB,MAAO,KAIR46G,iBAAkB,SAAUvB,GAE3B,GAAIA,EAAQpjI,KAAK6J,OAAS,EAEzB,OAAQu5H,EAAQpjI,KAAKmxB,OAAO,GAAGpH,eAE9B,IAAK,IAAK,MAAO,IACjB,IAAK,IAAK,MAAO,IAGnB,OAAO,MAKRk8G,gBAAiB,SAAU7C,EAActnF,GAExC,GAAKsnF,EAAQtnF,GAAb,CAIA,IAAIjhC,EAAW,KAEf,GAA6B,iBAAlBuoH,EAAQtnF,GAGlB,IAECjhC,EAAW,IAAI2/G,SAAS4I,EAAQtnF,IAC/B,MAAO/iC,GAERogF,QAAQ51E,MAAMxK,QAKf8B,EAAWuoH,EAAQtnF,GAGhBjhC,GAEHA,EAAS7b,KAAKokI,KAOhB8C,cAAe,SAAUC,GAGxB,IADA,IAAIxL,EAAO3B,EAAI0B,eACN77H,EAAI,EAAGA,EAAI87H,EAAK9wH,OAAQhL,GAAK,EAErC87H,EAAK97H,GAAG61F,QAAQyxC,IAKlBC,kBAAmB,CAClBC,MAAO,YACPC,MAAO,aAERC,iBAAkB,CACjBF,MAAO,UACPC,MAAO,YAIRE,eAAgB,KAChBxJ,gBAAiB,KAGjByJ,gBAAiB,SAAU1tH,IAE0B,IAAhD,CAAC,MAAO,UAAUya,QAAQwlG,EAAI4E,SAAS7kH,KAEtCigH,EAAIgK,QAAUhK,EAAIgK,OAAOC,OAE5BjK,EAAIgK,OAAOC,MAAMyD,WAMpBC,eAAgB,SAAU5tH,GAEzBigH,EAAI+J,kBAIL6D,eAAgB,SAAU7tH,GAEzBigH,EAAI+J,kBAIL8D,eAAgB,SAAU9tH,GAGrBigH,EAAIgK,QAAUhK,EAAIgK,OAAOC,OAE5BjK,EAAIgK,OAAOC,MAAMyD,WAKnBI,oBAAqB,SAAU/tH,GAE9B,IAAI6oB,EAAS7oB,EAAE6oB,QAAU7oB,EAAEqnH,WAEvBx+F,EAAOq3F,SAAWr3F,EAAOq3F,mBAAmBD,EAAIK,IAE/Cz3F,EAAOq3F,QAAQ8N,cAAgBnlG,EAAO08B,UAEzC18B,EAAOq3F,QAAQt+G,OAENq+G,EAAIvlF,QAAQ7R,EAAQ,OAEhBo3F,EAAIvlF,QAAQ7R,EAAQ,YAIjCo3F,EAAIgO,sBAAsBjuH,EAAG6oB,EAAQo3F,EAAIvlF,QAAQ7R,EAAQ,WAAY,SAKlEo3F,EAAIgK,QAAUhK,EAAIgK,OAAOC,OAE5BjK,EAAIgK,OAAOC,MAAMyD,WAMpBO,mBAAoB,SAAUluH,GAE7B,IAAI6oB,EAAS7oB,EAAE6oB,QAAU7oB,EAAEqnH,WAEvBpH,EAAIvlF,QAAQ7R,EAAQ,YAEvBo3F,EAAIgO,sBAAsBjuH,EAAG6oB,EAAQo3F,EAAIvlF,QAAQ7R,EAAQ,WAAY,UAKvEolG,sBAAuB,SAAUjuH,EAAQ6oB,EAAaslG,EAAkBC,GAEvE,IAAI/D,EAAUpK,EAAIvlF,QAAQ7R,EAAQ,YAElCo3F,EAAIvhG,eAAe1e,GACnBigH,EAAI8D,cAAcl7F,GAElB,IAAIwlG,EAAqB,SAAU7jG,EAAUtM,GAE5C+hG,EAAIuD,iBAAiB,OAAQh5F,EAAKy1F,EAAIoN,kBAAkBe,GACvDnO,EAAIqO,sBAAsBtuH,EAAG6oB,EAAQslG,EAAaC,EAAalwG,IAChE+hG,EAAIuD,iBAAiB,OAAQh5F,EAAKy1F,EAAIuN,iBAAiBY,GACtDnO,EAAIsO,qBAAqBvuH,EAAG6oB,EAAQslG,EAAaC,KAKnD,GAFAC,EAAmBnkH,EAAOxY,SAAU,CAAC,EAAG,IAEpCwY,EAAO27B,QAAU37B,EAAOskH,aAC5B,CACC,IAAI3H,EAAO38G,EAAOskH,aAAatrG,wBAC3BurG,EAAM,EAAE5H,EAAKp6G,MAAOo6G,EAAKv6G,KAC7B+hH,EAAmBnkH,EAAO27B,OAAO37B,OAAOxY,SAAU+8H,GAGnD,IAAIv7G,EAAM+sG,EAAIgH,iBAAiBjnH,GAC3BkpB,EAAM+2F,EAAIkH,iBAAiBnnH,GAM/B,OALAigH,EAAIwN,eAAiB,CACpB30G,EAAG5F,EAAI4F,EAAIoQ,EAAIpQ,EACfytE,EAAGrzE,EAAIqzE,EAAIr9D,EAAIq9D,GAGR4nC,GAEP,IAAK,MAEkC,MAAlClO,EAAI2L,iBAAiBvB,IAA2C,IAAvBA,EAAQqE,SAAS9G,GAE7DyC,EAAQsE,SAAS,KAAM,KAAM,IAAK,MAEnC1O,EAAI2O,OAAOvE,EAASrqH,EAAG,EAAG,GAC1B,MAED,IAAK,MACJigH,EAAI4O,OAAOxE,EAASrqH,EAAG,GACvB,MAED,IAAK,OACJigH,EAAI6O,QAAQzE,EAASrqH,EAAG,GAG1BqqH,EAAQ1uC,QAAQ,UAIjB2yC,sBAAuB,SAAUtuH,EAAQ6oB,EAAaslG,EAAkBC,EAAkBlwG,GAEzF,OAAO,SAAUle,GAEhB,IAAIqqH,EAAUpK,EAAIvlF,QAAQ7R,EAAQ,YAClC,OAAQslG,GAEP,IAAK,MACJlO,EAAI2O,OAAOvE,EAASrqH,EAAGke,EAAO,GAAIA,EAAO,IACzC,MAED,IAAK,MACJ+hG,EAAI4O,OAAOxE,EAASrqH,EAAGke,EAAO,IAC9B,MAED,IAAK,OACJ+hG,EAAI6O,QAAQzE,EAASrqH,EAAGke,EAAO,IAGjCmsG,EAAQ1uC,QAAQ,WAKlB4yC,qBAAsB,SAAUvuH,EAAQ6oB,EAAaslG,EAAkBC,GAEtE,OAAO,SAAUpuH,GAEhB,IAAIqqH,EAAUpK,EAAIvlF,QAAQ7R,EAAQ,YAClCo3F,EAAI2D,kBAAkB,QACtB3D,EAAIiE,gBAKJmG,EAAQ1uC,QAAQ,SAChB0uC,EAAQ1uC,QAAQ,YAKlBozC,qBAAsB,SAAU/uH,GAE/B,IAAI6oB,EAAS7oB,EAAE0rB,cACX2+F,EAAUpK,EAAIvlF,QAAQ7R,EAAQ,YAC9BjoB,EAAQq/G,EAAIvlF,QAAQ7R,EAAQ,SAGK,QAAjCwhG,EAAQh2G,OAAOrD,gBAElBq5G,EAAQ2E,WAAWpuH,EAAMyT,QACpB4rG,EAAI4I,cAAcwB,EAAQ4E,eAE9BruH,EAAMonH,KAAK,GAAK,IAKI,OAAlBpnH,EAAMonH,KAAK,MAEmB,IAA7BqC,EAAQxL,kBAA2D,SAA7BwL,EAAQxL,kBAA+BwL,EAAQ6E,2BAExFtuH,EAAMonH,KAAK,GAAK,GAIlBqC,EAAQ9K,SAASnkG,MAAMivG,EAASzpH,EAAMonH,MAEtCqC,EAAQ1uC,QAAQ,SAChB0uC,EAAQ1uC,QAAQ,UAEZ0uC,EAAQjM,oBAEXiM,EAAQ9xH,QAKVq2H,OAAQ,SAAUvE,EAAcrqH,EAAQmvH,EAAWC,GAElD,IAAIC,EAAapP,EAAIgH,iBAAiBjnH,GAClC8Y,EAAIq2G,EAAOE,EAAWv2G,EAAImnG,EAAIwN,eAAe30G,EAAIuxG,EAAQnyD,QAAUmyD,EAAQmB,mBAC3EjlC,EAAI6oC,EAAOC,EAAW9oC,EAAI05B,EAAIwN,eAAelnC,EAAI8jC,EAAQnyD,QAAUmyD,EAAQmB,mBAE3E8D,EAAOx2G,GAAK,KAAOuxG,EAAQppH,MAAQ,IACnCsuH,EAAO,IAAOhpC,GAAK,KAAO8jC,EAAQnpH,OAAS,IAE/C,OAAQ++G,EAAIgN,eAAe5C,IAE1B,IAAK,IAAKA,EAAQsE,SAASW,EAAMC,EAAM,KAAM,MAAO,MACpD,IAAK,IAAKlF,EAAQsE,SAASW,EAAM,KAAMC,EAAM,QAK/CV,OAAQ,SAAUxE,EAAcrqH,EAAQovH,GAEvC,IAEIG,EAAO,KADHH,EADSnP,EAAIgH,iBAAiBjnH,GACZumF,EAAI05B,EAAIwN,eAAelnC,EAAI8jC,EAAQnyD,QAAUmyD,EAAQmB,qBACxD,KAAOnB,EAAQnpH,OAAS,IAE/C,OAAQ++G,EAAI2L,iBAAiBvB,IAE5B,IAAK,IAAKA,EAAQsE,SAAS,KAAMY,EAAM,KAAM,MAAO,MACpD,IAAK,IAAKlF,EAAQsE,SAAS,KAAM,KAAMY,EAAM,QAK/CT,QAAS,SAAUzE,EAAcrqH,EAAQovH,GAExC,IAEIG,EAAO,GADHH,EADSnP,EAAIgH,iBAAiBjnH,GACZumF,EAAI05B,EAAIwN,eAAelnC,EAAI8jC,EAAQnyD,QAAUmyD,EAAQmB,qBACxD,GAAOnB,EAAQnpH,OAAS,IAE/C,GAAIquH,EAAO,EACX,CAEC,IAAIC,EAAMnF,EAAQ4E,YACmB,QAAjC5E,EAAQh2G,OAAOrD,eAA4BivG,EAAI4I,cAAc2G,IAEhEnF,EAAQ2E,WAAmB,QAARQ,EAAgB,OAAS,QAI9CnF,EAAQsE,SAAS,KAAM,KAAM,KAAMY,IAIpCE,gBAAiB,WAGhB,IAAIp+E,EAAW,CACd2uE,IAAK,KACLj4B,KAAM,MAGHxb,EAAS0zC,EAAI6B,SAAS,UACtBlvB,EAAMrmB,EAAOK,WAAW,MAwC5B,OAHAv7B,EAAI2uE,IAAMzzC,EACVl7B,EAAI02C,KApCW,SAAU9mF,EAAYC,EAAaxS,GAEjD69E,EAAOtrE,MAAQA,EACfsrE,EAAOrrE,OAASA,EAEhB0xF,EAAI/K,UAAU,EAAG,EAAGtb,EAAOtrE,MAAOsrE,EAAOrrE,QAEzC,IAAIwuH,EAAQ98B,EAAI+8B,qBAAqB,EAAG,EAAGpjD,EAAOtrE,MAAO,GACzDyuH,EAAME,aAAa,EAAO,QAC1BF,EAAME,aAAa,EAAI,EAAG,QAC1BF,EAAME,aAAa,EAAI,EAAG,QAC1BF,EAAME,aAAa,GAAO,QAC1BF,EAAME,aAAa,EAAI,EAAG,QAC1BF,EAAME,aAAa,EAAI,EAAG,QAC1BF,EAAME,aAAa,EAAO,QAE1Bh9B,EAAI5I,UAAY0lC,EAChB98B,EAAI3I,SAAS,EAAG,EAAG1d,EAAOtrE,MAAOsrE,EAAOrrE,QAExC,IAAI2uH,EAAQj9B,EAAI+8B,qBAAqB,EAAG,EAAG,EAAGpjD,EAAOrrE,QACrD,OAAQxS,EAAKsiB,eAEZ,IAAK,IACJ6+G,EAAMD,aAAa,EAAG,uBACtBC,EAAMD,aAAa,EAAG,uBACtB,MACD,IAAK,IACJC,EAAMD,aAAa,EAAG,iBACtBC,EAAMD,aAAa,EAAG,iBAGxBh9B,EAAI5I,UAAY6lC,EAChBj9B,EAAI3I,SAAS,EAAG,EAAG1d,EAAOtrE,MAAOsrE,EAAOrrE,SAMlCmwC,GAIRy+E,qBAAsB,WAGrB,IAAIz+E,EAAW,CACd2uE,IAAK,KACLj4B,KAAM,MAGHxb,EAAS0zC,EAAI6B,SAAS,UACtBlvB,EAAMrmB,EAAOK,WAAW,MAoB5B,OAHAv7B,EAAI2uE,IAAMzzC,EACVl7B,EAAI02C,KAhBW,SAAU9mF,EAAYC,EAAa6uH,EAAaC,GAE9DzjD,EAAOtrE,MAAQA,EACfsrE,EAAOrrE,OAASA,EAEhB0xF,EAAI/K,UAAU,EAAG,EAAGtb,EAAOtrE,MAAOsrE,EAAOrrE,QAEzC,IAAI+uH,EAAOr9B,EAAI+8B,qBAAqB,EAAG,EAAG,EAAGpjD,EAAOrrE,QACpD+uH,EAAKL,aAAa,EAAGG,GACrBE,EAAKL,aAAa,EAAGI,GAErBp9B,EAAI5I,UAAYimC,EAChBr9B,EAAI3I,SAAS,EAAG,EAAG1d,EAAOtrE,MAAOsrE,EAAOrrE,SAMlCmwC,GAIR6+E,sBAAuB,WAGtB,IAAI7+E,EAAW,CACd2uE,IAAK,KACLj4B,KAAM,MAGHxb,EAAS0zC,EAAI6B,SAAS,UACtBlvB,EAAMrmB,EAAOK,WAAW,MAuC5B,OAHAv7B,EAAI2uE,IAAMzzC,EACVl7B,EAAI02C,KAnCW,SAAU9mF,EAAYC,EAAaN,GAEjD2rE,EAAOtrE,MAAQA,EACfsrE,EAAOrrE,OAASA,EAEhB0xF,EAAI/K,UAAU,EAAG,EAAGtb,EAAOtrE,MAAOsrE,EAAOrrE,QAEzC,IAAIooH,EAAS/8C,EAAOtrE,MAAQ,EACxBuoH,EAAWvJ,EAAIK,IAAImJ,iBACnBC,EAAWzJ,EAAIK,IAAIqJ,iBAMvB,GAHA/2B,EAAI5I,UAAYw/B,EAChB52B,EAAI3I,SAAS,EAAG,EAAG1d,EAAOtrE,MAAOsrE,EAAOrrE,QAEpCooH,EAAS,EAEZ,IAAK,IAAI/iC,EAAI,EAAGA,EAAIha,EAAOrrE,OAAQqlF,GAAc,EAAT+iC,EAGvC12B,EAAI5I,UAAY0/B,EAChB92B,EAAI3I,SAAS,EAAG1D,EAAG+iC,EAAQA,GAC3B12B,EAAI3I,SAASq/B,EAAQ/iC,EAAI+iC,EAAQA,EAAQA,GAI3C,IAAI2G,EAAOr9B,EAAI+8B,qBAAqB,EAAG,EAAG,EAAGpjD,EAAOrrE,QACpD+uH,EAAKL,aAAa,EAAGhvH,GACrBqvH,EAAKL,aAAa,EAAG,iBAErBh9B,EAAI5I,UAAYimC,EAChBr9B,EAAI3I,SAAS,EAAG,EAAG1d,EAAOtrE,MAAOsrE,EAAOrrE,SAMlCmwC,GAIRyuE,WAEKA,EAAiB,SAAUqQ,EAAchF,EAAc9mG,EAAW+rG,EAAaxvH,EAAYyvH,GAE9FF,EAAUA,EACVhF,EAAUA,EACV9mG,EAAOA,EACP+rG,EAASA,EACTxvH,EAAQA,EACRyvH,IAAUA,GAGXvQ,EAAUp4H,UAAU8a,SAAW,WAE9B,IAAIkmH,EAAO,CACVz1G,KAAKkF,MAAMzyB,KAAKyqI,SAAW,KAC3Bl9G,KAAKkF,MAAMzyB,KAAKylI,SAAW,KAC3Bl4G,KAAKkF,MAAMzyB,KAAK2+B,MAAQ,KACxBpR,KAAKkF,MAAMzyB,KAAK0qI,QAAU,KAC1B1qI,KAAKkb,OAMN,OAJIlb,KAAK2qI,OAER3H,EAAKxvG,KAAK,SAEJwvG,EAAK3lH,KAAK,MAGX+8G,GAIRhmF,MAAO,CACNw2F,WAAY,EACZC,WAAY,EACZC,aAAc,GAIfC,SAAU,CACTp8G,OAAQ,CAAC,OAAQ,MAAO,MAAO,OAAQ,MAAO,QAC9Cq8G,gBAAiB,CAAC,OAAQ,SAC1BzpI,KAAM,CAAC,MAAO,MAAO,KAAM,MAC3BgB,SAAU,CAAC,OAAQ,QAAS,MAAO,UACnCi2H,aAAc,CAAC,QAAQ,GAAM,GAC7BW,iBAAkB,CAAC,QAAQ,GAAM,IAIlC8R,eAAgB,CAEf,aAAgB,iBAChB,aAAgB,UAChB,mBAAsB,aACtB,SAAY,cACZ,WAAc,qBACd,WAAc,qBACd,OAAU,MAIXvP,QAAS,iCAUTd,IAAK,SAAUuB,EAAoBR,GAGlC,IAAIuP,EAAOlrI,KAkzBX,SAASmrI,EAAUnS,EAAc33H,GAEhC,GAAsB,iBAAX23H,EAEV,MAAM,IAAIptH,MAAM,kCAAoCotH,GAIrD,GAAIuB,EAAIwQ,SAAS9oI,eAAe+2H,KAEV,iBAAV33H,IAEVA,EAAQA,EAAMiqB,gBAE8B,IAAzCivG,EAAIwQ,SAAS/R,GAAQjkG,QAAQ1zB,IAEhC,MAAM,IAAIuK,MAAM,WAAcotH,EAAS,wBAA2B33H,GAKpE,GAAIk5H,EAAI0Q,eAAehpI,eAAe+2H,GACtC,CACC,IAAIoS,EAASpS,EACTqS,EAAS9Q,EAAI0Q,eAAejS,GAChC,IAAIqS,EAQH,MAAM,IAAIz/H,MAAM,WAAcotH,EAAS,mBALvCt+B,QAAQ+gC,KAAK,iDAAuDlB,EAAImB,QAAS0P,EAAQC,GACzFrS,EAASqS,EAQX,IAAIC,EAAS,QAAUtS,EAEvB,GAA4B,mBAAjBkS,EAAKI,GAGf,OADAJ,EAAKI,GAAQjqI,IACN,EAED,GAAI23H,KAAUkS,EAGpB,OADAA,EAAKlS,GAAU33H,GACR,EAGR,MAAM,IAAIuK,MAAM,sCAAwCotH,GAIzD,SAASuS,EAAUvS,GAElB,GAAsB,iBAAXA,EAEV,MAAM,IAAIptH,MAAM,kCAAoCotH,GAIrD,GAAIuB,EAAI0Q,eAAehpI,eAAe+2H,GACtC,CACC,IAAIoS,EAASpS,EACTqS,EAAS9Q,EAAI0Q,eAAejS,GAChC,IAAIqS,EAQH,MAAM,IAAIz/H,MAAM,WAAcotH,EAAS,mBALvCt+B,QAAQ+gC,KAAK,iDAAuDlB,EAAImB,QAAS0P,EAAQC,GACzFrS,EAASqS,EAmBX,MAAM,IAAIz/H,MAAM,sCAAwCotH,GAYzD,SAASwS,IAMRN,EAAKO,8BAEAlR,EAAIgK,SAERhK,EAAIgK,OAAS,CACZC,MAAO,KACP3pG,KAAM0/F,EAAI6B,SAAS,OACnBsP,IAAKnR,EAAI6B,SAAS,OAClBuJ,KAAMpL,EAAI6B,SAAS,OACnBuP,KAAMpR,EAAI6B,SAAS,OACnBwP,IAAKrR,EAAI6B,SAAS,OAClByP,KAAMtR,EAAI6B,SAAS,OACnB0P,KAAMvR,EAAI6B,SAAS,OACnB2P,UAAWxR,EAAIwP,kBACfiC,MAAOzR,EAAI6B,SAAS,OACpB6P,QAAS1R,EAAI6B,SAAS,OACtB8P,QAAS3R,EAAI6B,SAAS,OACtB+P,QAAS5R,EAAI6B,SAAS,OACtBgQ,QAAS7R,EAAI6B,SAAS,OACtBiQ,IAAK9R,EAAI6B,SAAS,OAClBkQ,KAAM/R,EAAI6B,SAAS,OACnBmQ,KAAMhS,EAAI6B,SAAS,OACnBoQ,QAASjS,EAAI6P,uBACbqC,QAASlS,EAAI6B,SAAS,OACtBsQ,SAAUnS,EAAI6B,SAAS,OACvBuQ,SAAUpS,EAAI6B,SAAS,OACvBwQ,SAAUrS,EAAI6B,SAAS,OACvByQ,KAAMtS,EAAI6B,SAAS,OACnB0Q,MAAOvS,EAAI6B,SAAS,OACpB2Q,MAAOxS,EAAI6B,SAAS,OACpB4Q,SAAUzS,EAAIiQ,wBACdyC,SAAU1S,EAAI6B,SAAS,OACvB8Q,UAAW3S,EAAI6B,SAAS,OACxB+Q,UAAW5S,EAAI6B,SAAS,OACxBgR,UAAW7S,EAAI6B,SAAS,OACxBgK,IAAK7L,EAAI6B,SAAS,OAClBiR,IAAK9S,EAAI6B,SAAS,OAClBkR,KAAM/S,EAAI6B,SAAS,SAGpB7B,EAAIgK,OAAOqH,IAAI/jH,YAAY0yG,EAAIgK,OAAOwH,UAAUzR,KAChDC,EAAIgK,OAAOsH,KAAKhkH,YAAY0yG,EAAIgK,OAAOqH,KACvCrR,EAAIgK,OAAOyH,MAAMnkH,YAAY0yG,EAAIgK,OAAO0H,SACxC1R,EAAIgK,OAAOyH,MAAMnkH,YAAY0yG,EAAIgK,OAAO2H,SACxC3R,EAAIgK,OAAOyH,MAAMnkH,YAAY0yG,EAAIgK,OAAO4H,SACxC5R,EAAIgK,OAAOyH,MAAMnkH,YAAY0yG,EAAIgK,OAAO6H,SACxC7R,EAAIgK,OAAOsH,KAAKhkH,YAAY0yG,EAAIgK,OAAOyH,OACvCzR,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAOsH,MACtCtR,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAOuH,MAEtCvR,EAAIgK,OAAO8H,IAAIxkH,YAAY0yG,EAAIgK,OAAOiI,QAAQlS,KAC9CC,EAAIgK,OAAO+H,KAAKzkH,YAAY0yG,EAAIgK,OAAO8H,KACvC9R,EAAIgK,OAAO+H,KAAKzkH,YAAY0yG,EAAIgK,OAAOqI,UACvCrS,EAAIgK,OAAOqI,SAAS/kH,YAAY0yG,EAAIgK,OAAOoI,UAC3CpS,EAAIgK,OAAOoI,SAAS9kH,YAAY0yG,EAAIgK,OAAOmI,UAC3CnS,EAAIgK,OAAOmI,SAAS7kH,YAAY0yG,EAAIgK,OAAOkI,SAC3ClS,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAO+H,MACtC/R,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAOgI,MAEtChS,EAAIgK,OAAOsI,KAAKhlH,YAAY0yG,EAAIgK,OAAOyI,SAAS1S,KAChDC,EAAIgK,OAAOuI,MAAMjlH,YAAY0yG,EAAIgK,OAAOsI,MACxCtS,EAAIgK,OAAOuI,MAAMjlH,YAAY0yG,EAAIgK,OAAO6I,WACxC7S,EAAIgK,OAAO6I,UAAUvlH,YAAY0yG,EAAIgK,OAAO4I,WAC5C5S,EAAIgK,OAAO4I,UAAUtlH,YAAY0yG,EAAIgK,OAAO2I,WAC5C3S,EAAIgK,OAAO2I,UAAUrlH,YAAY0yG,EAAIgK,OAAO0I,UAC5C1S,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAOuI,OACtCvS,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAOwI,OAEtCxS,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAO6B,KAEtC7L,EAAIgK,OAAO8I,IAAIxlH,YAAY0yG,EAAIgK,OAAO+I,MACtC/S,EAAIgK,OAAOmH,IAAI7jH,YAAY0yG,EAAIgK,OAAO8I,KAEtC9S,EAAIgK,OAAOoH,KAAK9jH,YAAY0yG,EAAIgK,OAAOmH,KACvCnR,EAAIgK,OAAO1pG,KAAKhT,YAAY0yG,EAAIgK,OAAOoB,MACvCpL,EAAIgK,OAAO1pG,KAAKhT,YAAY0yG,EAAIgK,OAAOoH,MAEvCpR,EAAIgK,OAAO1pG,KAAK+R,iBAAiB,aAAc2tF,EAAIiO,qBAClDjO,EAAI4C,yBAA0B,CAAEoQ,SAAS,KAG3C,IAwSKC,EACAC,EAzSDvrI,EAAIq4H,EAAIgK,OAERmJ,IAAkBnT,EAAI2L,iBAAiBgF,GACvCyC,EAAqBzC,EAAK/E,kBAC1ByH,EAAarT,EAAIyK,cAAckG,GAC/B2C,EAAkB,EAAI3C,EAAK7D,mBAAqB6D,EAAK5D,iBAAmB,EAAI4D,EAAK4C,UACjFC,EAAiBxT,EAAIyL,kBAAkBkF,GACvC8C,EAAezgH,KAAKgJ,IACvB20G,EAAK8C,aACLzgH,KAAKkF,MAAMy4G,EAAK14D,QAAUjlD,KAAK0gH,KAIhC/rI,EAAE24B,KAAK+D,UAAY,sBACnB18B,EAAE24B,KAAKpf,MAAMsyB,MAAQ,OACrB7rC,EAAE24B,KAAKpf,MAAMF,MAAQqyH,EAAW1I,QAAU,KAC1ChjI,EAAE24B,KAAKpf,MAAMD,OAASoyH,EAAWzI,QAAU,KAC3CjjI,EAAE24B,KAAKpf,MAAMi/B,OAASwwF,EAAKxwF,OAG3Bx4C,EAAEwpI,IAAI9sG,UAAY,iBAClB18B,EAAEwpI,IAAIjwH,MAAMF,MAAQqyH,EAAWjH,QAAU,KACzCzkI,EAAEwpI,IAAIjwH,MAAMD,OAASoyH,EAAWhH,QAAU,KAC1C1kI,EAAEwpI,IAAIjwH,MAAMlZ,SAAW,WAGvBL,EAAEyjI,KAAK/mG,UAAY,wBACnB18B,EAAEyjI,KAAKlqH,MAAMlZ,SAAW,WACxBL,EAAEyjI,KAAKlqH,MAAMsL,KAAO,IACpB7kB,EAAEyjI,KAAKlqH,MAAMmL,IAAM,IACnB1kB,EAAEyjI,KAAKlqH,MAAMF,MAAQ,OACrBrZ,EAAEyjI,KAAKlqH,MAAMD,OAAS,OACtB++G,EAAIwG,gBAAgB7+H,EAAEyjI,KAAMqI,EAAe,MAG3C9rI,EAAEypI,KAAK/sG,UAAY,wBACnB18B,EAAEypI,KAAKlwH,MAAMlZ,SAAW,WACxBL,EAAEypI,KAAKlwH,MAAM4nC,OAAS6nF,EAAKrE,YAAc,WACzC3kI,EAAEypI,KAAKlwH,MAAM6nC,YAAc4nF,EAAK5nF,YAChCphD,EAAEypI,KAAKlwH,MAAMk/B,WAAauwF,EAAK9nF,gBAC/Bm3E,EAAIwG,gBAAgB7+H,EAAEypI,KAAMqC,EAAe,MAK3C9rI,EAAE4pI,KAAKrwH,MAAMk/B,WAAa,mBAC1Bz4C,EAAEqqI,KAAK9wH,MAAMk/B,WAAa,mBAC1Bz4C,EAAE6qI,MAAMtxH,MAAMk/B,WAAa,mBAE3Bz4C,EAAE4pI,KAAKrwH,MAAM0qC,QACZjkD,EAAEqqI,KAAK9wH,MAAM0qC,QACbjkD,EAAE6qI,MAAMtxH,MAAM0qC,QACd,IAGDjkD,EAAE0pI,IAAInwH,MAAMlZ,SAAW,WACvBL,EAAE0pI,IAAInwH,MAAMF,MAAQ2vH,EAAK3vH,MAAQ,KACjCrZ,EAAE0pI,IAAInwH,MAAMD,OAAS0vH,EAAK1vH,OAAS,KAGnCtZ,EAAE6pI,UAAU1pC,KAAK6oC,EAAK3vH,MAAO2vH,EAAK1vH,OAAQ++G,EAAIgN,eAAe2D,IAG7DhpI,EAAE2pI,KAAKpwH,MAAMlZ,SAAW,WACxBL,EAAE2pI,KAAKpwH,MAAMsL,KAAOmkH,EAAK14D,QAAU,KACnCtwE,EAAE2pI,KAAKpwH,MAAMmL,IAAMskH,EAAK14D,QAAU,KAClCtwE,EAAE2pI,KAAKpwH,MAAM4nC,OAAS6nF,EAAKpF,mBAAqB,WAChD5jI,EAAE2pI,KAAKpwH,MAAM6nC,YAAc4nF,EAAKgD,mBAGhChsI,EAAE4pI,KAAKrwH,MAAMlZ,SAAW,WACxBL,EAAE4pI,KAAKrwH,MAAMsL,KAAO,MACpB7kB,EAAE4pI,KAAKrwH,MAAMmL,IAAM,MACnB1kB,EAAE4pI,KAAKrwH,MAAMF,MAAS2vH,EAAK14D,QAAU,EAAI04D,EAAKpF,mBAAqBoF,EAAK3vH,MAAQwyH,EAAkB,KAClG7rI,EAAE4pI,KAAKrwH,MAAMD,OAAU,EAAI0vH,EAAKpF,mBAAqB,EAAIoF,EAAK14D,QAAU04D,EAAK1vH,OAAU,KACvFtZ,EAAE4pI,KAAKrwH,MAAMN,OAjEG,YAkEhBo/G,EAAI+B,QAAQp6H,EAAE4pI,KAAM,CACnBqC,SAAUjD,EACVvgI,QAAS,QAIVzI,EAAE8pI,MAAMvwH,MAAMlZ,SAAW,WACzBL,EAAE8pI,MAAMvwH,MAAMsL,KACb7kB,EAAE8pI,MAAMvwH,MAAMmL,IACd,IACD1kB,EAAE8pI,MAAMvwH,MAAMF,MACbrZ,EAAE8pI,MAAMvwH,MAAMD,OACdqyH,EAAiB,KAGlB3rI,EAAE+pI,QAAQxwH,MAAMlZ,SACfL,EAAEgqI,QAAQzwH,MAAMlZ,SAChB,WACDL,EAAE+pI,QAAQxwH,MAAMk/B,WACfz4C,EAAEgqI,QAAQzwH,MAAMk/B,WAChBuwF,EAAKkD,mBACNlsI,EAAE+pI,QAAQxwH,MAAMF,MACfrZ,EAAEgqI,QAAQzwH,MAAMD,OACf,EAAI0vH,EAAK7D,mBAAqB6D,EAAK5D,iBAAoB,KACzDplI,EAAE+pI,QAAQxwH,MAAMD,OACftZ,EAAEgqI,QAAQzwH,MAAMF,MAChBsyH,EAAiB,KAClB3rI,EAAE+pI,QAAQxwH,MAAMsL,KACf7kB,EAAEgqI,QAAQzwH,MAAMmL,IACf2G,KAAKwkG,MAAM8b,EAAiB,GAAKtgH,KAAKwkG,MAAMmZ,EAAK5D,iBAAmB,GAAK4D,EAAK7D,mBAAsB,KACtGnlI,EAAE+pI,QAAQxwH,MAAMmL,IACf1kB,EAAEgqI,QAAQzwH,MAAMsL,KAChB,IAGD7kB,EAAEiqI,QAAQ1wH,MAAMlZ,SACfL,EAAEkqI,QAAQ3wH,MAAMlZ,SAChB,WACDL,EAAEiqI,QAAQ1wH,MAAMk/B,WACfz4C,EAAEkqI,QAAQ3wH,MAAMk/B,WAChBuwF,EAAKmD,aACNnsI,EAAEiqI,QAAQ1wH,MAAMD,OACftZ,EAAEkqI,QAAQ3wH,MAAMF,MACfsyH,EAAiB,EAAI3C,EAAK7D,mBAAsB,KAClDnlI,EAAEiqI,QAAQ1wH,MAAMF,MACfrZ,EAAEkqI,QAAQ3wH,MAAMD,OAChB0vH,EAAK5D,iBAAmB,KACzBplI,EAAEiqI,QAAQ1wH,MAAMsL,KACf7kB,EAAEkqI,QAAQ3wH,MAAMmL,IACf2G,KAAKwkG,MAAM8b,EAAiB,GAAKtgH,KAAKwkG,MAAMmZ,EAAK5D,iBAAmB,GAAM,KAC5EplI,EAAEiqI,QAAQ1wH,MAAMmL,IACf1kB,EAAEkqI,QAAQ3wH,MAAMsL,KAChBmkH,EAAK7D,mBAAqB,KAI3BnlI,EAAEmqI,IAAI5wH,MAAM6yH,SAAW,SACvBpsI,EAAEmqI,IAAI5wH,MAAMF,MAAQ2vH,EAAKjF,WAAa,KACtC/jI,EAAEmqI,IAAI5wH,MAAMD,OAAS0vH,EAAK1vH,OAAS,KAGnCtZ,EAAEsqI,QAAQnqC,KAAK6oC,EAAKjF,WAAYiF,EAAK1vH,OAAQ,OAAQ,QAGrDtZ,EAAEoqI,KAAK7wH,MAAMu5C,QAAU04E,EAAgB,QAAU,OACjDxrI,EAAEoqI,KAAK7wH,MAAMlZ,SAAW,WACxBL,EAAEoqI,KAAK7wH,MAAMsL,KAAQmkH,EAAK14D,QAAU04D,EAAK3vH,MAAQ,EAAI2vH,EAAKpF,mBAAqB,EAAIiI,EAAkB,KACrG7rI,EAAEoqI,KAAK7wH,MAAMmL,IAAMskH,EAAK14D,QAAU,KAClCtwE,EAAEoqI,KAAK7wH,MAAM4nC,OAAS6nF,EAAKpF,mBAAqB,WAChD5jI,EAAEoqI,KAAK7wH,MAAM6nC,YAAc4nF,EAAKgD,mBAGhChsI,EAAEqqI,KAAK9wH,MAAMu5C,QAAU04E,EAAgB,QAAU,OACjDxrI,EAAEqqI,KAAK9wH,MAAMlZ,SAAW,WACxBL,EAAEqqI,KAAK9wH,MAAMsL,KAAQmkH,EAAK14D,QAAU04D,EAAK3vH,MAAQ,EAAI2vH,EAAKpF,mBAAqBiI,EAAkB,KACjG7rI,EAAEqqI,KAAK9wH,MAAMmL,IAAM,MACnB1kB,EAAEqqI,KAAK9wH,MAAMF,MACX2vH,EAAKjF,WAAa,EAAI8H,EAAiB,EAAI7C,EAAKpF,oBAChD6H,EAAqB,EAAIpgH,KAAK8I,IAAI,EAAG60G,EAAK14D,QAAUu7D,IAClD,KACJ7rI,EAAEqqI,KAAK9wH,MAAMD,OAAU,EAAI0vH,EAAKpF,mBAAqB,EAAIoF,EAAK14D,QAAU04D,EAAK1vH,OAAU,KACvFtZ,EAAEqqI,KAAK9wH,MAAMN,OAAS,UACtBo/G,EAAI+B,QAAQp6H,EAAEqqI,KAAM,CACnB4B,SAAUjD,EACVvgI,QAAS,QAIVzI,EAAEwqI,SAASjxH,MAAM4nC,OAChBnhD,EAAE0qI,SAASnxH,MAAM4nC,OACjB6nF,EAAK7D,mBAAqB,YAAc6D,EAAKkD,mBAG9ClsI,EAAE0qI,SAASnxH,MAAMlZ,SAAW,WAC5BL,EAAE0qI,SAASnxH,MAAMsL,OAAS,EAAImkH,EAAK7D,mBAAqB6D,EAAK5D,kBAAoB,KACjFplI,EAAE0qI,SAASnxH,MAAMmL,IAAM,IAGvB1kB,EAAEyqI,SAASlxH,MAAM4nC,OAAS6nF,EAAK5D,iBAAmB,YAAc4D,EAAKmD,aAGrEnsI,EAAEuqI,QAAQhxH,MAAMF,MAAQ2vH,EAAKjF,WAAa,KAC1C/jI,EAAEuqI,QAAQhxH,MAAMD,OAAS++G,EAAIK,IAAI2T,iBAAmB,KAIpDrsI,EAAE2qI,KAAKpxH,MAAM6yH,SAAW,SACxBpsI,EAAE2qI,KAAKpxH,MAAMF,MAAQ2vH,EAAKjF,WAAa,KACvC/jI,EAAE2qI,KAAKpxH,MAAMD,OAAS0vH,EAAK1vH,OAAS,KAGpCtZ,EAAE8qI,SAAS3qC,KAAK6oC,EAAKjF,WAAYiF,EAAK1vH,OAAQ,QAG9CtZ,EAAE4qI,MAAMrxH,MAAMu5C,QAAU24E,EAAqB,QAAU,OACvDzrI,EAAE4qI,MAAMrxH,MAAMlZ,SAAW,WACzBL,EAAE4qI,MAAMrxH,MAAMsL,KACZmkH,EAAK14D,QAAU04D,EAAK3vH,MAAQ,EAAI2vH,EAAKpF,mBAAqBiI,GAC1DL,EAAiBxC,EAAKjF,WAAa,EAAI8H,EAAiB,EAAI7C,EAAKpF,mBAAsB,GACrF,KACJ5jI,EAAE4qI,MAAMrxH,MAAMmL,IAAMskH,EAAK14D,QAAU,KACnCtwE,EAAE4qI,MAAMrxH,MAAM4nC,OAAS6nF,EAAKpF,mBAAqB,WACjD5jI,EAAE4qI,MAAMrxH,MAAM6nC,YAAc4nF,EAAKgD,mBAGjChsI,EAAE6qI,MAAMtxH,MAAMu5C,QAAU24E,EAAqB,QAAU,OACvDzrI,EAAE6qI,MAAMtxH,MAAMlZ,SAAW,WACzBL,EAAE6qI,MAAMtxH,MAAMsL,KACZmkH,EAAK14D,QAAU04D,EAAK3vH,MAAQ,EAAI2vH,EAAKpF,mBAAqBiI,GAC1DL,EAAiBxC,EAAKjF,WAAa,EAAI8H,EAAiB,EAAI7C,EAAKpF,mBAAsB,GACrF,KACJ5jI,EAAE6qI,MAAMtxH,MAAMmL,IAAM,MACpB1kB,EAAE6qI,MAAMtxH,MAAMF,MACZ2vH,EAAKjF,WAAa,EAAI8H,EAAiB,EAAI7C,EAAKpF,mBACjDv4G,KAAK8I,IAAI,EAAG60G,EAAK14D,QAAUu7D,GACxB,KACJ7rI,EAAE6qI,MAAMtxH,MAAMD,OAAU,EAAI0vH,EAAKpF,mBAAqB,EAAIoF,EAAK14D,QAAU04D,EAAK1vH,OAAU,KACxFtZ,EAAE6qI,MAAMtxH,MAAMN,OAAS,UACvBo/G,EAAI+B,QAAQp6H,EAAE6qI,MAAO,CACpBoB,SAAUjD,EACVvgI,QAAS,SAIVzI,EAAEgrI,UAAUzxH,MAAM4nC,OACjBnhD,EAAEkrI,UAAU3xH,MAAM4nC,OAClB6nF,EAAK7D,mBAAqB,YAAc6D,EAAKkD,mBAG9ClsI,EAAEkrI,UAAU3xH,MAAMlZ,SAAW,WAC7BL,EAAEkrI,UAAU3xH,MAAMsL,OAAS,EAAImkH,EAAK7D,mBAAqB6D,EAAK5D,kBAAoB,KAClFplI,EAAEkrI,UAAU3xH,MAAMmL,IAAM,IAGxB1kB,EAAEirI,UAAU1xH,MAAM4nC,OAAS6nF,EAAK5D,iBAAmB,YAAc4D,EAAKmD,aAGtEnsI,EAAE+qI,SAASxxH,MAAMF,MAAQ2vH,EAAKjF,WAAa,KAC3C/jI,EAAE+qI,SAASxxH,MAAMD,OAAS++G,EAAIK,IAAI2T,iBAAmB,KAIrDrsI,EAAEkkI,IAAIxnG,UAAY,kBAClB18B,EAAEkkI,IAAI3qH,MAAMu5C,QAAU44E,EAAWhV,QAAQvnF,KAAO,QAAU,OAC1DnvC,EAAEkkI,IAAI3qH,MAAMlZ,SAAW,WACvBL,EAAEkkI,IAAI3qH,MAAMsL,KAAOmkH,EAAK14D,QAAU,KAClCtwE,EAAEkkI,IAAI3qH,MAAMmL,IAAO,EAAIskH,EAAKpF,mBAAqB,EAAIoF,EAAK14D,QAAU04D,EAAK1vH,OAAU,KAInFtZ,EAAEkkI,IAAItkG,UAAY,GAKlB,IAHA,IAAI0sG,EAAajU,EAAI+I,sBAAsB,iBAEvCmL,EAAK,EACAvtI,EAAI,EAAGA,EAAI0sI,EAAWhV,QAAQvnF,KAAMnwC,IAE5C,IAAK,IAAIT,EAAI,EAAGA,EAAImtI,EAAWhV,QAAQkO,MAAQ2H,EAAKvD,EAAKhE,SAAS97H,OAAQ3K,IAAKguI,IAC/E,CACC,IAAIC,EAAcxD,EAAKhE,SAASuH,GAC5BE,EAAiBpU,EAAIiG,UAAU9qG,MAAM,KAAMg5G,EAAYpM,MAEvDsM,EAAKrU,EAAI6B,SAAS,OACtBwS,EAAGnzH,MAAMF,MAASqyH,EAAWhV,QAAQmO,MAAQ,EAAImE,EAAKpF,mBAAsB,KAC5E8I,EAAGnzH,MAAMD,OAAUoyH,EAAWhV,QAAQoO,MAAQ,EAAIkE,EAAKpF,mBAAsB,KAC7E8I,EAAGnzH,MAAM2nC,gBAAkBurF,EAE3B,IAAIE,EAAKtU,EAAI6B,SAAS,OACtByS,EAAGjwG,UAAY,yBACfiwG,EAAGpzH,MAAMu5C,QAAU,QACnB65E,EAAGpzH,MAAMlZ,SAAW,WACpBssI,EAAGpzH,MAAMsL,MACR6mH,EAAWhV,QAAQkO,MAAQ,EAAI,EAC9Bv5G,KAAKkF,MAAYhyB,IAAMmtI,EAAWnH,SAAWmH,EAAWhV,QAAQmO,QAAU6G,EAAWhV,QAAQkO,KAAO,IAAzF,IAAiG,IAC1G,KACJ+H,EAAGpzH,MAAMmL,IAAO1lB,GAAK0sI,EAAWhV,QAAQoO,MAAQkE,EAAK/D,gBAAmB,KACxE0H,EAAGpzH,MAAM4nC,OAAS6nF,EAAKpF,mBAAqB,WAC5C+I,EAAGpzH,MAAM6nC,YAAc4nF,EAAKgD,mBAC5BW,EAAGpzH,MAAMN,OAAS,UACU,OAAxBuzH,EAAYpM,KAAK,IAAeoM,EAAYpM,KAAK,GAAK,IAEzDuM,EAAGpzH,MAAMqzH,gBAAkB,QAAWN,EAAW3nD,OAAO4d,YAAc,KACtEoqC,EAAGpzH,MAAMszH,iBAAmB,SAC5BF,EAAGpzH,MAAMuzH,mBAAqB,iBAE/BzU,EAAI+B,QAAQuS,EAAI,CACfV,SAAUjD,EACVvgI,QAAS,iBACTuQ,MAAOwzH,IAERG,EAAGjiG,iBAAiB,QAAS2tF,EAAI8O,sBAAsB,GACvDwF,EAAGhnH,YAAY+mH,GACf1sI,EAAEkkI,IAAIv+G,YAAYgnH,GAapB3sI,EAAEmrI,IAAIzuG,UAAY,oBAClB18B,EAAEmrI,IAAI5xH,MAAMu5C,QAAUk2E,EAAKvS,YAAc,QAAU,OACnDz2H,EAAEmrI,IAAI5xH,MAAMlZ,SAAW,WACvBL,EAAEmrI,IAAI5xH,MAAMsL,KAAOmkH,EAAK14D,QAAU,KAClCtwE,EAAEmrI,IAAI5xH,MAAMghB,OAASyuG,EAAK14D,QAAU,KACpCtwE,EAAEmrI,IAAI5xH,MAAM+2D,QAAU,SACtBtwE,EAAEmrI,IAAI5xH,MAAM0hB,SAAYywG,EAAWnH,SAAW,EAAIyE,EAAKpF,mBAAqB,GAAkB,KAC9F5jI,EAAEmrI,IAAI5xH,MAAM6yH,SAAW,SACvBpsI,EAAEmrI,IAAI5xH,MAAMD,OAAS0vH,EAAK5E,aAAe,KACzCpkI,EAAEmrI,IAAI5xH,MAAMwzH,WAAa,SACzB/sI,EAAEmrI,IAAI5xH,MAAM4nC,OAAS6nF,EAAKpF,mBAAqB,WAf1C0H,EAActC,EAAKgD,mBAAmBvhH,MAAM,OAC5C8gH,EAAcD,EAAYpiI,OAAS,EAAIoiI,EAAY,GAAKA,EAAY,GAAK,IAAMA,EAAY,GAAK,IAAMA,EAAY,GAAK,IAAMA,EAAY,GAC7ItrI,EAAEmrI,IAAI5xH,MAAM6nC,YAAcmqF,EAe3BvrI,EAAEmrI,IAAI5xH,MAAMP,MAAQgwH,EAAKgE,YACzBhtI,EAAEmrI,IAAI5xH,MAAMgwE,KAAO,kBACnBvpF,EAAEmrI,IAAI5xH,MAAMmgB,UAAY,SACxB15B,EAAEmrI,IAAI5xH,MAAMN,OAAS,UACrBjZ,EAAEmrI,IAAI8B,YAAc,WAEnBjE,EAAKr4H,QAEN3Q,EAAEorI,KAAK7xH,MAAM2zH,WAAalE,EAAK5E,aAAe,KAC9CpkI,EAAEorI,KAAKxrG,UAAY,GACnB5/B,EAAEorI,KAAKzlH,YAAYrD,EAAOxY,SAASqjI,eAAenE,EAAK9R,YAGvDkW,IACAC,IACAC,IAIIjV,EAAIgK,OAAOC,OAASjK,EAAIgK,OAAOC,QAAU0G,GAE5C3Q,EAAI17F,YAAY07F,EAAIgK,OAAOC,MAAMrI,cAAe5B,EAAIK,IAAI6U,iBAIzDlV,EAAIgK,OAAOC,MAAQ0G,EAIfA,EAAK5oI,YAAckiB,EAAOxY,SAASC,KAEtCsuH,EAAI+J,iBAGJ/J,EAAIiL,cAAc0F,EAAM,EAAG,EAAG,YAAY,GAGvChpI,EAAE24B,KAAK2nF,aAAe0oB,EAAK5oI,WAE9B4oI,EAAK5oI,UAAUulB,YAAY3lB,EAAE24B,MAG9B0/F,EAAIz/F,SAASowG,EAAK/O,cAAe5B,EAAIK,IAAI6U,iBAI1C,SAASH,IAGR,IAAII,EAAWnV,EAAIgN,eAAe2D,GAC9B93G,EAAI7F,KAAKkF,MAAOy4G,EAAKlC,SAAS7G,EAAI,KAAQ+I,EAAK3vH,MAAQ,IACvDslF,EAAItzE,KAAKkF,OAAO,EAAIy4G,EAAKlC,SAAS0G,GAAY,MAAQxE,EAAK1vH,OAAS,IACpEqyH,EAAkB,EAAI3C,EAAK7D,mBAAqB6D,EAAK5D,iBAAmB,EAAI4D,EAAK4C,UACjF/E,GAAOx7G,KAAKwkG,MAAM8b,EAAiB,GAKvC,OAJAtT,EAAIgK,OAAOyH,MAAMvwH,MAAMsL,KAAQqM,EAAI21G,EAAO,KAC1CxO,EAAIgK,OAAOyH,MAAMvwH,MAAMmL,IAAOi6E,EAAIkoC,EAAO,KAGjCxO,EAAI2L,iBAAiBgF,IAE5B,IAAK,IACJ,IAAIyE,EAAOpV,EAAI6H,QAAQ8I,EAAKlC,SAAS7G,EAAG,IAAK+I,EAAKlC,SAAS9G,GACvD0N,EAAOrV,EAAI6H,QAAQ8I,EAAKlC,SAAS7G,EAAG,EAAG+I,EAAKlC,SAAS9G,GACrDmI,EAAS,OACZ98G,KAAKkF,MAAMk9G,EAAK,IAAM,IACtBpiH,KAAKkF,MAAMk9G,EAAK,IAAM,IACtBpiH,KAAKkF,MAAMk9G,EAAK,IAAM,IACnBrF,EAAS,OACZ/8G,KAAKkF,MAAMm9G,EAAK,IAAM,IACtBriH,KAAKkF,MAAMm9G,EAAK,IAAM,IACtBriH,KAAKkF,MAAMm9G,EAAK,IAAM,IACvBrV,EAAIgK,OAAOiI,QAAQnqC,KAAK6oC,EAAKjF,WAAYiF,EAAK1vH,OAAQ6uH,EAAQC,GAC9D,MACD,IAAK,IACJ,IAAIuF,EAAMtV,EAAI6H,QAAQ8I,EAAKlC,SAAS7G,EAAG+I,EAAKlC,SAAS7mI,EAAG,KACpDkoI,EAAS,OACZ98G,KAAKkF,MAAMo9G,EAAI,IAAM,IACrBtiH,KAAKkF,MAAMo9G,EAAI,IAAM,IACrBtiH,KAAKkF,MAAMo9G,EAAI,IAAM,IAClBvF,EAAS,OACb/P,EAAIgK,OAAOiI,QAAQnqC,KAAK6oC,EAAKjF,WAAYiF,EAAK1vH,OAAQ6uH,EAAQC,GAKhE/P,EAAIgK,OAAOyI,SAAS3qC,KAAK6oC,EAAKjF,WAAYiF,EAAK1vH,OAAQ0vH,EAAKtR,eAI7D,SAAS2V,IAER,IAAIO,EAAavV,EAAI2L,iBAAiBgF,GACtC,GAAI4E,EACJ,CAEC,IAAIjvC,EAAItzE,KAAKkF,OAAO,EAAIy4G,EAAKlC,SAAS8G,GAAc,MAAQ5E,EAAK1vH,OAAS,IAC1E++G,EAAIgK,OAAOqI,SAASnxH,MAAMmL,IAAOi6E,GAAK,EAAIqqC,EAAK7D,mBAAqB6D,EAAK5D,kBAAoB/5G,KAAKwkG,MAAMwI,EAAIK,IAAI2T,iBAAmB,GAAM,KAI1IhU,EAAIgK,OAAOyI,SAAS3qC,KAAK6oC,EAAKjF,WAAYiF,EAAK1vH,OAAQ0vH,EAAKtR,eAI7D,SAAS4V,IAER,IAAI3uC,EAAItzE,KAAKkF,OAAO,EAAIy4G,EAAKlC,SAAS99G,IAAMggH,EAAK1vH,OAAS,IAC1D++G,EAAIgK,OAAO6I,UAAU3xH,MAAMmL,IAAOi6E,GAAK,EAAIqqC,EAAK7D,mBAAqB6D,EAAK5D,kBAAoB/5G,KAAKwkG,MAAMwI,EAAIK,IAAI2T,iBAAmB,GAAM,KAI3I,SAASwB,IAER,OAAOxV,EAAIgK,QAAUhK,EAAIgK,OAAOC,QAAU0G,EAkH3C,GAxgDKvP,IAEJA,EAAO,IAGR37H,KAAKgpI,SAAW,CACf9nI,EAAG,IACH44H,EAAG,IACH3uG,EAAG,IACHg3G,EAAG,EACHhgI,EAAG,EACH+/H,EAAG,IACHh3G,EAAG,GAKJlrB,KAAK2uB,OAAS,OACd3uB,KAAKqB,WAAQqc,EACb1d,KAAKgwI,WAAQtyH,EACb1d,KAAKiwI,QAAS,EACdjwI,KAAKgtE,cAAWtvD,EAChB1d,KAAKkwI,aAAUxyH,EACf1d,KAAKmwI,kBAAezyH,EACpB1d,KAAKowI,kBAAe1yH,EACpB1d,KAAKqwI,oBAAiB3yH,EACtB1d,KAAKgrI,gBAAkB,OACvBhrI,KAAKswI,YAAc,GACnBtwI,KAAKuwI,eAAiB,EACtBvwI,KAAKq5H,UAAW,EAChBr5H,KAAKwwI,MAAO,EACZxwI,KAAKs5H,WAAY,EACjBt5H,KAAKywI,YAAa,EAIlBzwI,KAAKub,MAAQ,IACbvb,KAAKwb,OAAS,IACdxb,KAAKuB,KAAO,MACZvB,KAAKw4H,aAAe,OACpBx4H,KAAKuC,SAAW,SAChBvC,KAAKolI,eAAgB,EACrBplI,KAAKsoI,aAAc,EACnBtoI,KAAK0wI,aAAc,EACnB1wI,KAAK44H,QAAU,GACf54H,KAAKk5H,YAAc,GACnBl5H,KAAKm5H,iBAAmB,OACxBn5H,KAAKonI,cAAgB,GACrBpnI,KAAKmnI,eAAiB,EACtBnnI,KAAK04H,oBAAqB,EAC1B14H,KAAKimI,WAAa,GAClBjmI,KAAK8tI,UAAY,EACjB9tI,KAAK24H,aAAc,EACnB34H,KAAKo5H,UAAY,QACjBp5H,KAAKkvI,YAAc,gBACnBlvI,KAAKsmI,aAAe,GACpBtmI,KAAKwyE,QAAU,GACfxyE,KAAKojD,gBAAkB,sBACvBpjD,KAAK6mI,YAAc,EACnB7mI,KAAKsjD,YAAc,sBACnBtjD,KAAKguI,aAAe,EACpBhuI,KAAK8lI,mBAAqB,EAC1B9lI,KAAKkuI,mBAAqB,sBAC1BluI,KAAKi5H,QAAS,EACdj5H,KAAK0lI,WAAa,GAClB1lI,KAAK4lI,YAAc,kBACnB5lI,KAAKquI,aAAe,mBACpBruI,KAAKqnI,mBAAqB,EAC1BrnI,KAAKouI,mBAAqB,sBAC1BpuI,KAAKsnI,iBAAmB,EACxBtnI,KAAK06C,OAAS,IACd16C,KAAKsC,eAAYob,EAIjB1d,KAAK2wI,KAAO,EACZ3wI,KAAK4wI,KAAO,IACZ5wI,KAAK6wI,KAAO,EACZ7wI,KAAK8wI,KAAO,IACZ9wI,KAAK+wI,KAAO,EACZ/wI,KAAKgxI,KAAO,EAOZhxI,KAAKg5H,OAAS,WAEb,IAAKttG,UAAUtgB,OAEd,MAAM,IAAIQ,MAAM,uBAGjB,GAAyB,IAArB8f,UAAUtgB,QAAwC,iBAAjBsgB,UAAU,GAC/C,CAEC,IAEC,OAAO6/G,EAAU7/G,UAAU,IAC1B,MAAOpR,GAERogF,QAAQ+gC,KAAKnhH,GAEd,OAAO,EAED,GAAIoR,UAAUtgB,QAAU,GAA6B,iBAAjBsgB,UAAU,GACrD,CAEC,IAEC,IAAKy/G,EAAUz/G,UAAU,GAAIA,UAAU,IAEtC,OAAO,EAEP,MAAOpR,GAGR,OADAogF,QAAQ+gC,KAAKnhH,IACN,EAIR,OAFAta,KAAKixI,SACLjxI,KAAKkxI,eACE,EAED,GAAyB,IAArBxlH,UAAUtgB,QAAwC,iBAAjBsgB,UAAU,GACtD,CAEC,IAAIiwG,EAAOjwG,UAAU,GACjB4V,GAAU,EACd,IAAK,IAAIsjD,KAAO+2C,EAEf,GAAIA,EAAK15H,eAAe2iF,GAEvB,IAEMumD,EAAUvmD,EAAK+2C,EAAK/2C,MAExBtjD,GAAU,GAEV,MAAOhnB,GAERogF,QAAQ+gC,KAAKnhH,GACbgnB,GAAU,EAMb,OAFAthC,KAAKixI,SACLjxI,KAAKkxI,cACE5vG,EAGR,MAAM,IAAI11B,MAAM,sBAOjB5L,KAAKmxI,QAAU,SAAUxwI,EAAWU,GAEnC,GAAoB,iBAATV,EAEV,MAAM,IAAIiL,MAAM,mCAAqCjL,GAGtD,QAAc+c,IAAVrc,EAGH,OAAKrB,KAAKgpI,SAAS/mI,eAAetB,EAAK2qB,eAKhCtrB,KAAKgpI,SAASroI,EAAK2qB,gBAHzBovE,QAAQ+gC,KAAK,4BAA8B96H,IACpC,GAOR,IAAI2jC,GAAM,EACV,OAAQ3jC,EAAK2qB,eAEZ,IAAK,IAAKgZ,EAAMtkC,KAAK65H,SAASx4H,EAAO,KAAM,KAAM,MAAO,MACxD,IAAK,IAAKijC,EAAMtkC,KAAK65H,SAAS,KAAMx4H,EAAO,KAAM,MAAO,MACxD,IAAK,IAAKijC,EAAMtkC,KAAK65H,SAAS,KAAM,KAAMx4H,EAAO,MAAO,MACxD,IAAK,IAAKijC,EAAMtkC,KAAKipI,SAAS5nI,EAAO,KAAM,KAAM,MAAO,MACxD,IAAK,IAAKijC,EAAMtkC,KAAKipI,SAAS,KAAM5nI,EAAO,KAAM,MAAO,MACxD,IAAK,IAAKijC,EAAMtkC,KAAKipI,SAAS,KAAM,KAAM5nI,EAAO,MAAO,MACxD,IAAK,IAAKijC,EAAMtkC,KAAKipI,SAAS,KAAM,KAAM,KAAM5nI,GAAQ,MACxD,QAEC,OADAq5F,QAAQ+gC,KAAK,4BAA8B96H,IACpC,EAET,QAAI2jC,IAEHtkC,KAAKixI,UACE,IAcVjxI,KAAKi2F,QAAU,SAAUyxC,GAGxB,IADA,IAAI0J,EAAM7W,EAAIgF,QAAQmI,GACbtnI,EAAI,EAAGA,EAAIgxI,EAAIhmI,OAAQhL,GAAK,EACrC,CACC,IAAIy+H,EAAKuS,EAAIhxI,GAAGkrB,cAGZ+lH,EAAe,KACnB,OAAQxS,GAEP,IAAK,QAASwS,EAAe,UAAW,MACxC,IAAK,SAAUA,EAAe,WAE3BA,GAEH9W,EAAIiN,gBAAgBxnI,KAAMqxI,GAI3B9W,EAAI2E,kBAAkBl/H,KAAKmwI,aAActR,GAAI,GAAM,KAUrD7+H,KAAKipI,SAAW,SAAU9G,EAAQhgI,EAAQ+/H,EAAQh3G,EAAQkpB,GAOzD,QALU12B,IAANykH,IAAmBA,EAAI,WACjBzkH,IAANvb,IAAmBA,EAAI,WACjBub,IAANwkH,IAAmBA,EAAI,WACjBxkH,IAANwN,IAAmBA,EAAI,MAEjB,OAANi3G,EACJ,CACC,GAAI/1G,MAAM+1G,GAAM,OAAO,EACvBniI,KAAKgpI,SAAS7G,EAAI50G,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAK4rG,IAE7C,GAAU,OAANhgI,EACJ,CACC,GAAIiqB,MAAMjqB,GAAM,OAAO,EACvBnC,KAAKgpI,SAAS7mI,EAAIorB,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAKv2B,KAAK4wI,KAAMzuI,GAAInC,KAAK2wI,MAEjE,GAAU,OAANzO,EACJ,CACC,GAAI91G,MAAM81G,GAAM,OAAO,EACvBliI,KAAKgpI,SAAS9G,EAAI30G,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAKv2B,KAAK8wI,KAAM5O,GAAIliI,KAAK6wI,MAEjE,GAAU,OAAN3lH,EACJ,CACC,GAAIkB,MAAMlB,GAAM,OAAO,EACvBlrB,KAAKgpI,SAAS99G,EAAIlrB,KAAKmmI,kBACtB54G,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,EAAGv2B,KAAKgxI,KAAM9lH,GAAIlrB,KAAK+wI,MAC5C,EAGF,IAAIlB,EAAMtV,EAAI6H,QACbpiI,KAAKgpI,SAAS7G,EACdniI,KAAKgpI,SAAS7mI,EACdnC,KAAKgpI,SAAS9G,GAOf,OALAliI,KAAKgpI,SAAS9nI,EAAI2uI,EAAI,GACtB7vI,KAAKgpI,SAASlP,EAAI+V,EAAI,GACtB7vI,KAAKgpI,SAAS79G,EAAI0kH,EAAI,GAEtB7vI,KAAKkxI,YAAY98F,IACV,GASRp0C,KAAK65H,SAAW,SAAU34H,EAAQ44H,EAAQ3uG,EAAQD,EAAQkpB,GAOzD,QALU12B,IAANxc,IAAmBA,EAAI,WACjBwc,IAANo8G,IAAmBA,EAAI,WACjBp8G,IAANyN,IAAmBA,EAAI,WACjBzN,IAANwN,IAAmBA,EAAI,MAEjB,OAANhqB,EACJ,CACC,GAAIkrB,MAAMlrB,GAAM,OAAO,EACvBA,EAAIqsB,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAKr1B,IAE/B,GAAU,OAAN44H,EACJ,CACC,GAAI1tG,MAAM0tG,GAAM,OAAO,EACvBA,EAAIvsG,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAKujG,IAE/B,GAAU,OAAN3uG,EACJ,CACC,GAAIiB,MAAMjB,GAAM,OAAO,EACvBA,EAAIoC,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAKpL,IAE/B,GAAU,OAAND,EACJ,CACC,GAAIkB,MAAMlB,GAAM,OAAO,EACvBlrB,KAAKgpI,SAAS99G,EAAIlrB,KAAKmmI,kBACtB54G,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,EAAGv2B,KAAKgxI,KAAM9lH,GAAIlrB,KAAK+wI,MAC5C,EAGF,IAAIO,EAAM/W,EAAI0H,QACP,OAAN/gI,EAAalB,KAAKgpI,SAAS9nI,EAAIA,EACzB,OAAN44H,EAAa95H,KAAKgpI,SAASlP,EAAIA,EACzB,OAAN3uG,EAAanrB,KAAKgpI,SAAS79G,EAAIA,GAEjB,OAAXmmH,EAAI,KAEPtxI,KAAKgpI,SAAS7G,EAAI50G,KAAK8I,IAAI,EAAG9I,KAAKgJ,IAAI,IAAK+6G,EAAI,MAElC,IAAXA,EAAI,KAEPtxI,KAAKgpI,SAAS7mI,EAAIorB,KAAK8I,IAAI,EAAGr2B,KAAK2wI,KAAMpjH,KAAKgJ,IAAI,IAAKv2B,KAAK4wI,KAAMU,EAAI,MAEvEtxI,KAAKgpI,SAAS9G,EAAI30G,KAAK8I,IAAI,EAAGr2B,KAAK6wI,KAAMtjH,KAAKgJ,IAAI,IAAKv2B,KAAK8wI,KAAMQ,EAAI,KAGtE,IAAIzB,EAAMtV,EAAI6H,QAAQpiI,KAAKgpI,SAAS7G,EAAGniI,KAAKgpI,SAAS7mI,EAAGnC,KAAKgpI,SAAS9G,GAMtE,OALAliI,KAAKgpI,SAAS9nI,EAAI2uI,EAAI,GACtB7vI,KAAKgpI,SAASlP,EAAI+V,EAAI,GACtB7vI,KAAKgpI,SAAS79G,EAAI0kH,EAAI,GAEtB7vI,KAAKkxI,YAAY98F,IACV,GAMRp0C,KAAKuxI,QAAU,SAAUpP,EAAQhgI,EAAQ+/H,EAAQ9tF,GAGhD,OADAsmD,QAAQ+gC,KAAK,4DAA8DlB,EAAImB,SACxE17H,KAAKipI,SAAS9G,EAAGhgI,EAAG+/H,EAAG,KAAM9tF,IAMrCp0C,KAAKwxI,QAAU,SAAUtwI,EAAQ44H,EAAQ3uG,EAAQipB,GAGhD,OADAsmD,QAAQ+gC,KAAK,4DAA8DlB,EAAImB,SACxE17H,KAAK65H,SAAS34H,EAAG44H,EAAG3uG,EAAG,KAAMipB,IAIrCp0C,KAAK25H,WAAa,SAAUxD,EAAU/hF,GAErC,IAAKp0C,KAAKq5H,UAA2B,KAAflD,EAAIr6E,OAKzB,OAFA97C,KAAKyxI,oBAAoB,MACzBzxI,KAAK0xI,qBAAqB,KACnB,EAGR,IAAIx2H,EAAQq/G,EAAI8H,iBAAiBlM,GACjC,QAAKj7G,IAI6B,QAA9Blb,KAAK2uB,OAAOrD,gBAEftrB,KAAKspI,WAAWpuH,EAAMyT,QACjB4rG,EAAI4I,cAAcnjI,KAAKupI,eAE3BruH,EAAMonH,KAAK,GAAK,IAGlBtiI,KAAK65H,SACJ3+G,EAAMonH,KAAK,GACXpnH,EAAMonH,KAAK,GACXpnH,EAAMonH,KAAK,GACXpnH,EAAMonH,KAAK,GACXluF,IAEM,IAIRp0C,KAAKg6H,UAAY,SAAU6W,EAAWC,EAAWH,EAAWC,EAAWe,EAAWC,EAAWb,EAAWC,QAE1FtzH,IAATmzH,IAAsBA,EAAO,QACpBnzH,IAATozH,IAAsBA,EAAO,UACpBpzH,IAATizH,IAAsBA,EAAO,QACpBjzH,IAATkzH,IAAsBA,EAAO,UACpBlzH,IAATi0H,IAAsBA,EAAO,QACpBj0H,IAATk0H,IAAsBA,EAAO,UACpBl0H,IAATqzH,IAAsBA,EAAO,QACpBrzH,IAATszH,IAAsBA,EAAO,GAEjChxI,KAAKipI,SACJ0I,EAAOpkH,KAAKwkG,MAAMxkG,KAAK0iH,UAAY2B,EAAOD,EAAO,IACjDhB,EAAOpjH,KAAKwkG,MAAMxkG,KAAK0iH,UAAYW,EAAOD,EAAO,IACjDE,EAAOtjH,KAAKwkG,MAAMxkG,KAAK0iH,UAAYa,EAAOD,EAAO,KAC/C,IAAME,EAAQxjH,KAAKwkG,MAAMxkG,KAAK0iH,UAAY,KAAOe,EAAOD,GAAQ,KAAO,MAK3E/wI,KAAK8c,SAAW,SAAU6R,GAMzB,YAJejR,IAAXiR,IAEHA,EAAS3uB,KAAKupI,aAEP56G,EAAOrD,eAEd,IAAK,MAAO,OAAOtrB,KAAK45H,cACxB,IAAK,OAAQ,OAAO55H,KAAK6xI,eACzB,IAAK,MAAO,OAAO7xI,KAAK8xI,cACxB,IAAK,OAAQ,OAAO9xI,KAAK+5H,eAE1B,OAAO,GAIR/5H,KAAK45H,YAAc,WAElB,OAAOW,EAAI8F,SACVrgI,KAAKgpI,SAAS9nI,EACdlB,KAAKgpI,SAASlP,EACd95H,KAAKgpI,SAAS79G,IAKhBnrB,KAAK6xI,aAAe,WAEnB,OAAOtX,EAAI+F,UACVtgI,KAAKgpI,SAAS9nI,EACdlB,KAAKgpI,SAASlP,EACd95H,KAAKgpI,SAAS79G,EACdnrB,KAAKgpI,SAAS99G,IAKhBlrB,KAAK8xI,YAAc,WAElB,OAAOvX,EAAIgG,SACVvgI,KAAKgpI,SAAS9nI,EACdlB,KAAKgpI,SAASlP,EACd95H,KAAKgpI,SAAS79G,IAKhBnrB,KAAK+5H,aAAe,WAEnB,OAAOQ,EAAIiG,UACVxgI,KAAKgpI,SAAS9nI,EACdlB,KAAKgpI,SAASlP,EACd95H,KAAKgpI,SAAS79G,EACdnrB,KAAKgpI,SAAS99G,IAKhBlrB,KAAK+xI,YAAc,WAElB,MACC,KAAQ/xI,KAAKgpI,SAAS9nI,EACtB,KAAQlB,KAAKgpI,SAASlP,EACtB,KAAQ95H,KAAKgpI,SAAS79G,GAKxBnrB,KAAKgyI,SAAW,WAEf,OAAOzX,EAAI+I,sBAAsBtjI,KAAK+5H,gBAAgBlzC,QAIvD7mF,KAAKykG,UAAY,WAEhB,OAAOzkG,KAAKgyI,WAAWvtC,aAIxBzkG,KAAKiyI,aAAe,WAEnB,OAAO1X,EAAIK,IAAIjgF,WAAW36C,KAAK+5H,iBAIhC/5H,KAAKkyI,QAAU,WAEd,OAAOlyI,KAAK+xI,cAAgB,OAI7B/xI,KAAK6S,KAAO,WAEPk9H,MAgZJxV,EAAI17F,YAAYqsG,EAAK/O,cAAe5B,EAAIK,IAAI6U,iBAC5ClV,EAAIgK,OAAO1pG,KAAK2nF,WAAWv6F,YAAYsyG,EAAIgK,OAAO1pG,aAC3C0/F,EAAIgK,OAAOC,QA3YnBxkI,KAAKkc,KAAO,WAEXsvH,KAIDxrI,KAAKixI,OAAS,WAETlB,KAEHvE,KAKFxrI,KAAKupI,UAAY,WAEhB,OAAOvpI,KAAKmyI,gBAIbnyI,KAAKspI,WAAa,SAAU36G,GAE3B3uB,KAAKmyI,eAAiBxjH,EAAOrD,eAI9BtrB,KAAKmmI,gBAAkB,WAEtB,MAA0B,SAAtBnmI,KAAKw4H,aAGuB,QAA9Bx4H,KAAK2uB,OAAOrD,eACZivG,EAAI4I,cAAcnjI,KAAKupI,mBACR7rH,IAAf1d,KAAKgwI,YACiBtyH,IAAtB1d,KAAKowI,aAIApwI,KAAKw4H,cAIbx4H,KAAKoyI,kBAAoB,SAAUjc,GAE7Bn2H,KAAK25H,WAAWxD,IAGpBn2H,KAAKkxI,eAKPlxI,KAAKqyI,kBAAoB,SAAUlc,GAE7Bn2H,KAAKipI,SAAS,KAAM,KAAM,KAAMpG,WAAW1M,KAG/Cn2H,KAAKkxI,eAKPlxI,KAAKkxI,YAAc,SAAU98F,GAE5B,IAAIk+F,EAAWtyI,KAAK8c,WAChBgtH,EAAM9pI,KAAKupI,YAef,GAZAhP,EAAIqD,YAAY59H,KAAKm8H,cAAe,gBAAiBmW,GAE/Cl+F,EAAQmmF,EAAInmF,MAAMw2F,aAAe5qI,KAAKmwI,eAE/B,QAARrG,GAAyB,SAARA,IAEf9pI,KAAKs5H,YAAagZ,EAAWA,EAAShnH,eACtCtrB,KAAKwwI,OAAQ8B,EAAWA,EAASl4H,QAAQ,KAAM,MAErDpa,KAAK0xI,qBAAqBY,MAGrBl+F,EAAQmmF,EAAInmF,MAAMy2F,aAAe7qI,KAAKowI,aAC5C,CACC,IAAImC,EAAWhlH,KAAKkF,MAAwB,IAAlBzyB,KAAKgpI,SAAS99G,GAAW,IACnDlrB,KAAKwyI,qBAAqBD,GAGrBn+F,EAAQmmF,EAAInmF,MAAM02F,eAAiB9qI,KAAKqwI,kBAK5C9V,EAAIyC,YAAYh9H,KAAKqwI,iBACpB9V,EAAI0C,SAASj9H,KAAKqwI,kBAAoB9V,EAAI2C,cAAcl9H,KAAKqwI,kBAGjDrwI,KAAKgrI,gBAGnBhrI,KAAKyxI,oBAAoBzxI,KAAK+5H,iBAG3BgW,MAEHT,IACAC,IACAC,MAKFxvI,KAAKyxI,oBAAsB,SAAUv2H,GAEpC,GAAKlb,KAAKqwI,eAAV,CAKA,IAAI9tI,EAAW,KACXgZ,EAAQ,MAEXg/G,EAAIyC,YAAYh9H,KAAKqwI,iBACpB9V,EAAI0C,SAASj9H,KAAKqwI,kBAAoB9V,EAAI2C,cAAcl9H,KAAKqwI,mBAG9D9tI,EAAWvC,KAAKgrI,gBAChBzvH,EAAQvb,KAAKswI,aAGd,IAAImC,EAAqB,GAEzB,GAAKv3H,EAWL,CAECu3H,EAAYj/G,KAAK,CAChB6+D,MAAOkoC,EAAI6J,wBACVlpH,EACA3Y,EACAgZ,EAAQA,EAAQg/G,EAAIK,IAAI+I,iBAAiBv4H,OAAS,MAEnD7I,SAAU,WACVokB,KAAM,OACN+rH,OAAQnwI,EAAW,WAAa,SAChCowI,OAAQ,gBAIT,IAAIC,EAAUrY,EAAI+I,sBACjB,gBACA/gI,EAAY,CAAE,KAAQ,QAAS,MAAS,QAAiBA,GAAY,KACrEgZ,GACA,GAEDk3H,EAAYj/G,KAAK,CAChB6+D,MAAO,QAAWugD,EAAQ/rD,OAAO4d,YAAc,KAC/CliG,UAAWA,GAAY,QAAU,OACjCokB,KAAMisH,EAAQr3H,MAAQ,MAAQq3H,EAAQp3H,OAAS,KAC/Ck3H,OAAQnwI,EAAW,WAAa,SAChCowI,OAAQ,qBAlCTF,EAAYj/G,KAAK,CAChB6+D,MAAO,OACP9vF,SAAU,WACVokB,KAAM,OACN+rH,OAAQ,YACRC,OAAQ,gBAwCV,IAPA,IAAIE,EAAK,CACRxgD,MAAO,GACP9vF,SAAU,GACVokB,KAAM,GACN+rH,OAAQ,GACRC,OAAQ,IAEAvyI,EAAI,EAAGA,EAAIqyI,EAAYrnI,OAAQhL,GAAK,EAC7C,CACC,IAAIu6C,EAAkB83F,EAAYryI,GACjCyyI,EAAGxgD,MAAc7+D,KAAKmnB,EAAW03C,OACjCwgD,EAAGtwI,SAAiBixB,KAAKmnB,EAAWp4C,UACpCswI,EAAGlsH,KAAa6M,KAAKmnB,EAAWh0B,MAChCksH,EAAGH,OAAel/G,KAAKmnB,EAAW+3F,QAClCG,EAAGF,OAAen/G,KAAKmnB,EAAWg4F,QAIpC,IAAIG,EAAM,CACT,mBAAoBD,EAAGxgD,MAAMh1E,KAAK,MAClC,sBAAuBw1H,EAAGtwI,SAAS8a,KAAK,MACxC,kBAAmBw1H,EAAGlsH,KAAKtJ,KAAK,MAChC,oBAAqBw1H,EAAGH,OAAOr1H,KAAK,MACpC,oBAAqBw1H,EAAGF,OAAOt1H,KAAK,OAErCk9G,EAAIsF,SAAS7/H,KAAKqwI,eAAgByC,EAAK9yI,KAAKywI,YAI5C,IAAIj+D,EAAe,CAClBzrD,KAAM,KACNyV,MAAO,MAEJj6B,IAEHiwE,EAAQjwE,GAAavC,KAAKswI,YAActwI,KAAKuwI,eAAkB,MAGhE,IAAIwC,EAAY,CACf,eAAgBvgE,EAAQzrD,KACxB,gBAAiByrD,EAAQh2C,OAE1B+9F,EAAIsF,SAAS7/H,KAAKqwI,eAAgB0C,EAAM/yI,KAAKywI,YAAY,KAI1DzwI,KAAK0xI,qBAAuB,SAAUvb,GAEjCn2H,KAAKmwI,eAEgC,UAApC5V,EAAIsC,SAAS78H,KAAKmwI,cAErBnwI,KAAKmwI,aAAa9uI,MAAQ80H,EAG1Bn2H,KAAKmwI,aAAaruG,UAAYq0F,IAMjCn2H,KAAKwyI,qBAAuB,SAAUrc,GAEjCn2H,KAAKowI,eAEgC,UAApC7V,EAAIsC,SAAS78H,KAAKowI,cAErBpwI,KAAKowI,aAAa/uI,MAAQ80H,EAG1Bn2H,KAAKowI,aAAatuG,UAAYq0F,IAMjCn2H,KAAKyrI,4BAA8B,WAElC,IAAIzrI,KAAKgzI,yBAAT,CACAhzI,KAAKgzI,0BAA2B,EAEhC,IAAI1Y,EAAMt6H,KAAKm8H,cACf,EACA,CAGC,IAAIwD,EAAYpF,EAAImF,aAAapF,GAC7BqF,EAAUp9H,UAAiD,UAArCo9H,EAAUp9H,SAAS+oB,gBAE5CtrB,KAAK4kI,OAAQ,GAGVtK,IAAQt6H,KAAKm8H,gBAOX5B,EAAIvlF,QAAQslF,EAAK,uBAErBA,EAAI1tF,iBAAiB,SAAU2tF,EAAI6N,gBAAgB,GACnD7N,EAAI+B,QAAQhC,EAAK,qBAAqB,YAG/BA,EAAMA,EAAI9X,aAAqC,SAAtB+X,EAAIsC,SAASvC,MAIjDt6H,KAAKioI,QAAU,WAEVjoI,KAAK0wI,aAER1wI,KAAK6S,QAKP7S,KAAKizI,aAAe,SAAU37G,GAE7Bt3B,KAAK44H,QAAUthG,EACft3B,KAAKknI,SAAW3M,EAAIuI,kBAAkBxrG,GACtCt3B,KAAKwpI,wBAA0BjP,EAAI2I,wBAAwBljI,KAAKknI,WA4tB7D3M,EAAIK,IAAIv4H,QAGX,IAAK,IAAIuiF,KAAO21C,EAAIK,IAAIv4H,QAEvB,GAAIk4H,EAAIK,IAAIv4H,QAAQJ,eAAe2iF,GAElC,IAECumD,EAAUvmD,EAAK21C,EAAIK,IAAIv4H,QAAQuiF,IAC9B,MAAOtqE,GAERogF,QAAQ+gC,KAAKnhH,GASjB,IAAI44H,EAAa,GAEbvX,EAAKwX,SAEmB,iBAAhBxX,EAAKwX,OAEfD,EAAavX,EAAKwX,OAAOxmH,MAAM,OACrBjQ,MAAM4X,QAAQqnG,EAAKwX,QAE7BD,EAAavX,EAAKwX,OAAOvgH,QAGzB8nE,QAAQ+gC,KAAK,+BAKwB,IAAnCyX,EAAWn+G,QAAQ,YAEtBm+G,EAAW1/G,KAAK,WAKjB,IAAK,IAAIpzB,EAAI8yI,EAAW9nI,OAAS,EAAGhL,GAAK,EAAGA,GAAK,EACjD,CACC,IAAIgzI,EAAOF,EAAW9yI,GACtB,GAAKgzI,EAIL,GAAK7Y,EAAIK,IAAIyY,QAAQpxI,eAAemxI,IAKpC,IAAK,IAAIxuD,KAAO21C,EAAIK,IAAIyY,QAAQD,GAE/B,GAAI7Y,EAAIK,IAAIyY,QAAQD,GAAMnxI,eAAe2iF,GAExC,IAECumD,EAAUvmD,EAAK21C,EAAIK,IAAIyY,QAAQD,GAAMxuD,IACpC,MAAOtqE,GAERogF,QAAQ+gC,KAAKnhH,SAZfogF,QAAQ+gC,KAAK,qBAAsB2X,GAoBrC,IAAIE,EAAgB,CAEnB,UAED,IAAK,IAAI1uD,KAAO+2C,EAEf,GAAIA,EAAK15H,eAAe2iF,KAEa,IAAhC0uD,EAAcv+G,QAAQ6vD,GAEzB,IAECumD,EAAUvmD,EAAK+2C,EAAK/2C,IACnB,MAAOtqE,GAERogF,QAAQ+gC,KAAKnhH,GAsBjB,QATuBoD,IAAnB1d,KAAKsC,UAERtC,KAAKsC,UAAYkiB,EAAOxY,SAASC,KAIjCjM,KAAKsC,UAAYi4H,EAAIQ,KAAK/6H,KAAKsC,YAG3BtC,KAAKsC,UAET,MAAM,IAAIsJ,MAAM,+DAOjB,GAFA5L,KAAKm8H,cAAgB5B,EAAIQ,KAAKoB,IAEzBn8H,KAAKm8H,cACV,CAEC,GAA6B,iBAAlBA,GAA8B,qBAAqB/4F,KAAK+4F,GAIlE,MAAM,IAAIvwH,MAAM,OADCuwH,EACsB,2CADtBA,EACkF,gCAGpG,MAAM,IAAIvwH,MAAM,4DAGjB,GAAI5L,KAAKm8H,cAAc3B,SAAWx6H,KAAKm8H,cAAc3B,mBAAmBD,EAAIK,IAE3E,MAAM,IAAIhvH,MAAM,kDAajB,GARA5L,KAAKm8H,cAAc3B,QAAUx6H,KAC7Bu6H,EAAIz/F,SAAS96B,KAAKm8H,cAAe5B,EAAIK,IAAIh8F,WAGzC27F,EAAIE,UAAUjnG,KAAKxzB,MAIfu6H,EAAI0C,SAASj9H,KAAKm8H,iBAGyB,WAA1Cn8H,KAAKm8H,cAAcnzH,KAAKsiB,gBAI3BtrB,KAAKm8H,cAAcnzH,KAAO,UAGvBuxH,EAAI2C,cAAcl9H,KAAKm8H,gBAC3B,CAKC5B,EAAIuC,eAAe98H,KAAKm8H,eAGxBn8H,KAAKm8H,cAAct0G,YAAYrD,EAAOxY,SAASqjI,eAAe,MAG9D,IAAI1P,EAAYpF,EAAImF,aAAa1/H,KAAKm8H,gBACnB0G,WAAWlD,EAAU,eAAiB,GACtC3/H,KAAKswI,aAEvB/V,EAAIsF,SAAS7/H,KAAKm8H,cAAe,CAChC,YAAan8H,KAAKswI,YAAc,MAC9BtwI,KAAKywI,YA+CX,QAzC0B/yH,IAAtB1d,KAAKmwI,aAEJ5V,EAAIyC,YAAYh9H,KAAKm8H,iBAGxBn8H,KAAKmwI,aAAenwI,KAAKm8H,eAMM,OAAtBn8H,KAAKmwI,eAMfnwI,KAAKmwI,aAAe5V,EAAIQ,KAAK/6H,KAAKmwI,eAI/BnwI,KAAKowI,eAERpwI,KAAKowI,aAAe7V,EAAIQ,KAAK/6H,KAAKowI,oBAIP1yH,IAAxB1d,KAAKqwI,eAERrwI,KAAKqwI,eAAiBrwI,KAAKm8H,cAEO,OAAxBn8H,KAAKqwI,iBAMfrwI,KAAKqwI,eAAiB9V,EAAIQ,KAAK/6H,KAAKqwI,iBAIjCrwI,KAAKmwI,cAAgB5V,EAAIyC,YAAYh9H,KAAKmwI,cAC9C,CAIC,IAAIoD,EAAyB,CAC5BrD,QAASlwI,KAAKmwI,aAAaqD,SAE5BxzI,KAAKmwI,aAAaqD,QAAU,KAE5BxzI,KAAKmwI,aAAavjG,iBAAiB,WAvVpC,SAAwBiyF,GAEE,UAArBtE,EAAI4E,SAASN,KAEZqM,EAAKiF,cAERjF,EAAKkH,kBAAkBlH,EAAKiF,aAAa9uI,OAE1C6pI,EAAKjD,cA+UwD,GAC9DjoI,KAAKmwI,aAAavjG,iBAAiB,UA9TpC,SAAuBiyF,GAEtB,IAAItE,EAAIvlF,QAAQ6pF,EAAI,YAApB,CAKA,IAAI4U,EAASvI,EAAKiF,aAAa9uI,MAE/B6pI,EAAKkH,kBAAkBlH,EAAKiF,aAAa9uI,OAEzCk5H,EAAIiN,gBAAgB0D,EAAM,YAEtBA,EAAKiF,aAAa9uI,QAAUoyI,GAG/BlZ,EAAI2E,kBAAkBgM,EAAKiF,aAAc,UAAU,GAAM,OA8SE,GAC5DnwI,KAAKmwI,aAAavjG,iBAAiB,SAlRpC,SAAsBiyF,GAEjBtE,EAAIvlF,QAAQ6pF,EAAI,cAKhBqM,EAAKiF,cAERjF,EAAKvR,WAAWuR,EAAKiF,aAAa9uI,MAAOk5H,EAAInmF,MAAMw2F,YAGpDrQ,EAAIiN,gBAAgB0D,EAAM,eAsQgC,GAEtDqI,EAAuBrD,SAE1BlwI,KAAKmwI,aAAavjG,iBAAiB,QAAS2mG,EAAuBrD,SAAS,GAG7ElwI,KAAKmwI,aAAazxG,aAAa,eAAgB,OAC/C1+B,KAAKmwI,aAAazxG,aAAa,cAAe,OAC9C1+B,KAAKmwI,aAAazxG,aAAa,iBAAkB,OACjD1+B,KAAKmwI,aAAazxG,aAAa,cAAc,GAI1C1+B,KAAKowI,cAAgB7V,EAAIyC,YAAYh9H,KAAKowI,gBAE7CpwI,KAAKowI,aAAaxjG,iBAAiB,WA5VpC,SAAwBiyF,GAEE,UAArBtE,EAAI4E,SAASN,KAEZqM,EAAKkF,cAERlF,EAAKmH,kBAAkBnH,EAAKkF,aAAa/uI,OAE1C6pI,EAAKjD,cAoVwD,GAC9DjoI,KAAKowI,aAAaxjG,iBAAiB,UA3TpC,SAAuBiyF,GAEtB,IAAItE,EAAIvlF,QAAQ6pF,EAAI,YAApB,CAKA,IAAI4U,EAASvI,EAAKkF,aAAa/uI,MAE/B6pI,EAAKmH,kBAAkBnH,EAAKkF,aAAa/uI,OAEzCk5H,EAAIiN,gBAAgB0D,EAAM,YAG1B3Q,EAAI2E,kBAAkBgM,EAAKiF,aAAc,UAAU,GAAM,GAErDjF,EAAKkF,aAAa/uI,QAAUoyI,GAG/BlZ,EAAI2E,kBAAkBgM,EAAKkF,aAAc,UAAU,GAAM,OAwSE,GAC5DpwI,KAAKowI,aAAaxjG,iBAAiB,SAjRpC,SAAsBiyF,GAEjBtE,EAAIvlF,QAAQ6pF,EAAI,cAKhBqM,EAAKkF,cAERlF,EAAKjC,SAAS,KAAM,KAAM,KAAMpG,WAAWqI,EAAKkF,aAAa/uI,OAAQk5H,EAAInmF,MAAMy2F,YAGhFtQ,EAAIiN,gBAAgB0D,EAAM,WAG1B3Q,EAAI2E,kBAAkBgM,EAAKiF,aAAc,SAAS,GAAM,OAkQE,GAE1DnwI,KAAKowI,aAAa1xG,aAAa,eAAgB,OAC/C1+B,KAAKowI,aAAa1xG,aAAa,cAAe,OAC9C1+B,KAAKowI,aAAa1xG,aAAa,iBAAkB,OACjD1+B,KAAKowI,aAAa1xG,aAAa,cAAc,IAK9C,IAAIg1G,EAAY,cAEGh2H,IAAf1d,KAAKqB,MAERqyI,EAAY1zI,KAAKqB,MACPrB,KAAKmwI,mBAA4CzyH,IAA5B1d,KAAKmwI,aAAa9uI,QAEjDqyI,EAAY1zI,KAAKmwI,aAAa9uI,OAK/B,IAAIsyI,OAAYj2H,EAchB,QAZmBA,IAAf1d,KAAKgwI,MAER2D,EAAa,GAAK3zI,KAAKgwI,MACbhwI,KAAKowI,mBAA4C1yH,IAA5B1d,KAAKowI,aAAa/uI,QAEjDsyI,EAAY3zI,KAAKowI,aAAa/uI,OAK/BrB,KAAKmyI,eAAiB,KAElB,CAAC,OAAQ,OAAOp9G,QAAQ/0B,KAAK2uB,OAAOrD,gBAAkB,EAC1D,CAEC,IAAIpQ,EAAQq/G,EAAI8H,iBAAiBqR,GACjC1zI,KAAKmyI,eAAiBj3H,EAAQA,EAAMyT,OAAS,WAI7C3uB,KAAKmyI,eAAiBnyI,KAAK2uB,OAAOrD,cAKnCtrB,KAAKoyI,kBAAkBsB,QAOLh2H,IAAdi2H,GAEH3zI,KAAKqyI,kBAAkBsB,GAGpB3zI,KAAKiwI,QAGRjwI,KAAKg6H,UAAUtkG,MAAM11B,KAAM0c,MAAM4X,QAAQt0B,KAAKiwI,QAAUjwI,KAAKiwI,OAAS,OAkBrErV,IAAIh8F,UAAY,UAIpB27F,EAAIK,IAAI6U,gBAAkB,iBAK1BlV,EAAIK,IAAIkB,WAAY,EAIpBvB,EAAIK,IAAIyY,QAAU,GAGlB9Y,EAAIK,IAAIyY,QAAiB,QAAI,GAE7B9Y,EAAIK,IAAIyY,QAAe,MAAI,CAC1BjwF,gBAAiB,sBACjB8qF,mBAAoB,sBACpBgB,YAAa,iBAEd3U,EAAIK,IAAIyY,QAAc,KAAI,CACzBjwF,gBAAiB,mBACjB8qF,mBAAoB,sBACpBgB,YAAa,uBAGd3U,EAAIK,IAAIyY,QAAe,MAAI,CAAE93H,MAAO,IAAKC,OAAQ,IAAKg3D,QAAS,GAAIyzD,WAAY,GAAI/M,YAAa,GAChGqB,EAAIK,IAAIyY,QAAgB,OAAI,CAAE93H,MAAO,IAAKC,OAAQ,IAAKg3D,QAAS,GAAIyzD,WAAY,GAAI/M,YAAa,IACjGqB,EAAIK,IAAIyY,QAAe,MAAI,CAAE93H,MAAO,IAAKC,OAAQ,IAAKg3D,QAAS,GAAIyzD,WAAY,GAAI/M,YAAa,IAEhGqB,EAAIK,IAAIyY,QAAc,KAAI,CAAExM,YAAa,EAAGf,mBAAoB,EAAGuB,mBAAoB,GACvF9M,EAAIK,IAAIyY,QAAe,MAAI,CAAExM,YAAa,EAAGf,mBAAoB,EAAGuB,mBAAoB,GAIxF9M,EAAIK,IAAI2T,iBAAmB,EAG3BhU,EAAIK,IAAIiJ,eAAiB,EACzBtJ,EAAIK,IAAImJ,iBAAmB,UAC3BxJ,EAAIK,IAAIqJ,iBAAmB,UAG3B1J,EAAIK,IAAI+I,iBAAmB,CAAC,wBAAyB,yBAIrDpJ,EAAIK,IAAIvpC,KAAO,WAEd,IAAIkpC,EAAI3kC,YAiBR,IAXApxE,EAAOxY,SAAS4gC,iBAAiB,YAAa2tF,EAAI8N,qBAAqB,GACvE7jH,EAAOxY,SAAS4gC,iBAAiB,QAAS2tF,EAAIyN,iBAAiB,GAC/DxjH,EAAOooB,iBAAiB,SAAU2tF,EAAI2N,gBAAgB,GACtD1jH,EAAOooB,iBAAiB,SAAU2tF,EAAI4N,gBAAgB,GAGtD5N,EAAIK,IAAIgZ,UAERrZ,EAAI3kC,aAAc,EAGX2kC,EAAIG,WAAWtvH,QAEVmvH,EAAIG,WAAW9F,OAC1BqJ,IAMF1D,EAAIK,IAAIgZ,QAAU,SAAU9Y,GAE3B,IAAIx5F,GAAU,EAEd,IAECi5F,EAAIM,kBAAkB,iBAAkBC,GACvC,MAAOxgH,GAERgnB,GAAU,EACVo5D,QAAQ+gC,KAAKnhH,GAId,GAAIigH,EAAIK,IAAIO,YAEX,IAECZ,EAAIM,kBAEF,SAAWN,EAAIK,IAAIO,YAAnB,YACYZ,EAAIK,IAAIO,YAErBL,GAEA,MAAOxgH,IAGV,OAAOgnB,GAMRi5F,EAAIK,IAAIiZ,MAAQ,SAAU5V,GAEzB,MAAoB,mBAATA,GAEVvjC,QAAQ+gC,KAAK,mCACN,IAGJlB,EAAI3kC,YAEPqoC,IAGA1D,EAAIG,WAAWlnG,KAAKyqG,IAEd,IASR1D,EAAIK,IAAI3kC,QAAU,SAAUyxC,GAE3B,IAAIoM,EAAa,WAEhBvZ,EAAIkN,cAAcC,IAGfnN,EAAI3kC,YAEPk+C,IAGAvZ,EAAIK,IAAIiZ,MAAMC,IAMhBvZ,EAAIK,IAAI/nH,KAAO,WAEV0nH,EAAIgK,QAAUhK,EAAIgK,OAAOC,OAE5BjK,EAAIgK,OAAOC,MAAM3xH,QAMnB0nH,EAAIK,IAAI4T,WAAa,SAAUtzH,GAO9B,OALKA,IAEJA,EAAQ,iBAEKq/G,EAAI+I,sBAAsBpoH,GACzB2rE,OAAO4d,aAKvB81B,EAAIK,IAAIjgF,WAAa,SAAUz/B,GAE9B,IAAIu3H,EAAc,GAGlBA,EAAYj/G,KAAK+mG,EAAI6J,wBAAwBlpH,IAG7C,IAAI03H,EAAUrY,EAAI+I,wBAOlB,OANAmP,EAAYj/G,KAAK,CAChB,QAAWo/G,EAAQ/rD,OAAO4d,YAAc,KACxC,WACA,UACCpnF,KAAK,MAEAo1H,EAAYp1H,KAAK,OAYzBk9G,EAAIK,IAAIv4H,QAAU,GAUlBk4H,EAAIK,IAAIO,YAAc,UAMtBZ,EAAIK,IAAImZ,mBAAqB,WAG5B,OADAr5C,QAAQ51E,MAAM,qGAAuGy1G,EAAImB,UAClH,GAIRnB,EAAII,WAGGJ,EAAIK,KAcZ,YAR8B,IAAnBp2G,EAAOg2G,UAEjBh2G,EAAOg2G,QAAUh2G,EAAOu0G,QAAUyB,GAM5BA,GAp7HqD,iBAAnB36H,EAAOD,QAiBhDD,EAAQw6H,GAdPt6H,EAAOD,QAAUu6H,EAAQnuH,SACxBrM,EAAQw6H,GACR,SAAUv0C,GAET,IAAKA,EAAI55E,SAER,MAAM,IAAIJ,MAAM,wCAEjB,OAAOjM,EAAQimF,K,oHChCnB,aACA,OAIA,MAAaouD,UAAyB,EAAAjpI,kBAAtC,qBAgBA,MAAaxC,UAAkB,EAAA2gC,UAO9B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAI2xI,GAEc,MAAzB3xI,EAAQ4xI,gBAAuB5xI,EAAQ4xI,eAAgB,GAC7B,MAA1B5xI,EAAQ6xI,iBAAwB7xI,EAAQ6xI,gBAAiB,GACpC,MAArB7xI,EAAQ0nG,YAAmB1nG,EAAQ0nG,WAAY,GACxB,MAAvB1nG,EAAQixC,cAAqBjxC,EAAQixC,YAAc,YAEnC,MAAhBjxC,EAAQ0Y,OAAc1Y,EAAQ0Y,MAAO,GACrB,GAAhB1Y,EAAQ0Y,OAAc1Y,EAAQ0Y,KAAO,EAAArO,iBAAiBimC,QAG1D1pB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB6F,YAGnB,IAAjBlG,EAAQ0Y,MAEX,EAAA7S,WAAW,CACV7G,MAAOgB,EAAQ0Y,KACfG,MAA2B,MAAnB7Y,EAAQ85B,QAAmB,UAAY,OAC/CA,QAAU7hB,IAKT,GAH8B,MAA1BjY,EAAS4xI,eACZj0I,KAAKgqG,SAEkB,MAApB3nG,EAAS85B,QACb,CACC,IAAI2pB,EAAa,IAAIquF,EACrBruF,EAAWhb,OAAS9qC,KACpB8lD,EAAWzkD,MAAQrB,KAAKqB,QACxBgB,EAAS85B,QAAQ2pB,MAGjB9lD,KAAKqL,WAKTrL,KAAK07F,SAAW,EAAA14F,cAAc,CAC7BswC,YAAajxC,EAAQixC,YACrB/3B,OAAyB,IAAjBlZ,EAAQ0Y,KAAkB,oBAAsB,OACxD2xB,UAAYpyB,GAAMta,KAAKo0I,eAAiBp0I,KAAKqB,QAC7CupC,QAAUtwB,IAET,GAAwB,MAApBjY,EAASuoC,QACb,CACC,IAAIypG,EAAa,IAAIC,EACrBD,EAAWvpG,OAAS9qC,KACpBq0I,EAAWhzI,MAAQrB,KAAKqB,QACxBgzI,EAAWzoG,cAAgB5rC,KAAKo0I,eAChC/xI,EAASuoC,QAASypG,KAGpB1pG,WAAY,KAEX,GAA2B,MAAvBtoC,EAASsoC,WACb,CACC,IAAI4pG,EAAqB,IAAIC,EAC7BD,EAAmBzpG,OAAS9qC,KAC5Bu0I,EAAmBlzI,MAAQrB,KAAKqB,QAChCgB,EAASsoC,WAAW4pG,KAGtBzoG,OAASxxB,IAKR,GAHIjY,EAAS6xI,gBACZl0I,KAAK+9D,WAEiB,MAAnB17D,EAASypC,OACb,CACC,IAAI8N,EAAY,IAAI66F,EACpB76F,EAAU9O,OAAS9qC,KACnB45C,EAAUv4C,MAAQrB,KAAKqB,QACvBgB,EAASypC,OAAO8N,MAGhB55C,KAAKqL,WAIJhJ,EAAQ0nG,WACX/pG,KAAK+9D,WAKP,MAAMhrD,GAEL,OAAO/S,KAAK07F,SAASr6F,MAAc0R,GAGpC,QAEC/S,KAAK07F,SAAS3tD,QAIf,WAEC/tC,KAAK07F,SAAS7oF,OACd7S,KAAKsC,YAAYmZ,MAAMC,SAAW,uBAGnC,SAEC1b,KAAK07F,SAASx/E,OACdlc,KAAK07F,SAAS5zE,QACd9nB,KAAKsC,YAAYmZ,MAAMC,SAAW,oCAGnC,cAEC,OAAQ1b,KAAK07F,SAASt/D,UAIvB,QAECp8B,KAAK07F,SAAS5zE,SAhIhB,cAuIA,MAAM4sH,UAAuB,EAAA71H,iBAM7B,MAAMy1H,UAA4BI,GAKlC,MAAMF,UAA+BE,GAIrC,MAAMP,UAA4BO,GAIlC,MAAMD,UAA2BC,K,kHC/KjC,aACA,OAGA,MAAaC,UAAwB,EAAA5pI,kBAArC,oBAcA,MAAatC,UAAiB,EAAAygC,UAO7B,YAAY79B,EAAsBhJ,GA4BjC,OAzBe,MAAXA,IACHA,EAAU,IAAIsyI,GAEU,MAArBtyI,EAAQi7B,YAAmBj7B,EAAQi7B,UAAY,EAAAvsB,sBAAsB+1B,YAChD,MAArBzkC,EAAQuqD,YAAmBvqD,EAAQuqD,WAAY,GAC3B,MAApBvqD,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAEvB,MAAvB55B,EAAQmnG,cAAqBnnG,EAAQmnG,aAAc,IAC3B,IAAxBnnG,EAAQmnG,cAEXnnG,EAAQmnG,YAAc,IAAI,EAAAlnF,4BACW,MAAjCjgB,EAAQmnG,YAAYlsE,YAAmBj7B,EAAQmnG,YAAYlsE,UAAY,EAAAtsB,8BAA8BsqB,MACxE,MAA7Bj5B,EAAQmnG,YAAYtuF,QAAe7Y,EAAQmnG,YAAYtuF,MAAQ,QAE/D7Y,EAAQi7B,WAAa,EAAAvsB,sBAAsB+1B,WAAYzkC,EAAQmnG,YAAYlsE,UAAY,EAAAtsB,8BAA8BsqB,KAChHj5B,EAAQi7B,WAAa,EAAAvsB,sBAAsBg2B,WAAU1kC,EAAQmnG,YAAYlsE,UAAY,EAAAtsB,8BAA8B+sB,KAI7H9U,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB+F,UAEpCpG,EAAQuqD,WACXgoF,EAAoB50I,KAAMqC,GAGnBA,EAAQi7B,WAEf,KAAK,EAAAvsB,sBAAsB+1B,WAAY,EAAA37B,KAAKnL,KAAKqL,WAAWS,KAAK,iBAAkB,cAAe,MAClG,KAAK,EAAAiF,sBAAsBg2B,SAAU,EAAA57B,KAAKnL,KAAKqL,WAAWS,KAAK,iBAAkB,YAKlF,IAA4B,IAAxBzJ,EAAQmnG,YACZ,CACC,IAAIzuF,EAAO,GACP+gB,EAAe,GACnB,OAAQz5B,EAAQmnG,YAAYlsE,WAE3B,KAAK,EAAAtsB,8BAA8BsqB,KAEjCvgB,EAAO,EAAAtO,iBAAiBy6C,UACxBprB,EAAe,oCAEhB,MACD,KAAK,EAAA9qB,8BAA8ByqB,MAEjC1gB,EAAO,EAAAtO,iBAAiBsvC,WACxBjgB,EAAe,mCAEhB,MACD,KAAK,EAAA9qB,8BAA8B+sB,GAEjChjB,EAAO,EAAAtO,iBAAiBk8D,QACxB7sC,EAAe,qCAEhB,MACD,KAAK,EAAA9qB,8BAA8BitB,KAEjCljB,EAAO,EAAAtO,iBAAiBmrC,UACxB9b,EAAe,mCAKlB,EAAA5zB,WAAW,CACV7G,MAAO0Z,EACP+gB,aAAc,uBAAyBA,EACvC5gB,MAAO7Y,EAAQmnG,YAAYtuF,MAC3BuC,IAAK,WACL0e,QAAU7hB,IAET,IAAImD,EAAMnD,EAAEwwB,OAAOrtB,MAWnB,GARyB,MAArBzd,KAAK60I,eAER70I,KAAK60I,aAAe70I,KAAKsC,YAAYwyI,uBACrC90I,KAAK+0I,SAAW/0I,KAAKsC,YAAY0yI,oBAKK,MAAnC3yI,EAAS4yI,uBACb,CACC,IAAIC,EAA4B,IAAIC,EAOpC,GANAD,EAA0BpqG,OAAS9qC,KACnCk1I,EAA0Bn3E,SAAmB,YAAPtgD,EACtCy3H,EAA0BE,YAAcp1I,KAAK60I,aAC7CK,EAA0BG,QAAUr1I,KAAK+0I,SACzC1yI,EAAS4yI,uBAAuBC,GAE5BA,EAA0BnxH,qBAG7B,YADAzJ,EAAE0e,iBAMJ,OAAS32B,EAASmnG,YAA4ClsE,WAE7D,KAAK,EAAAtsB,8BAA8BsqB,KAGjC,GAAW,YAAP7d,EAEH,EAAAtS,KAAKnL,KAAK60I,cAAchiI,OACxB,EAAA1H,KAAKnL,KAAK+0I,UAAUx5H,MAAM,QAC1BjB,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBsvC,YAChCzhC,EAAEwwB,OAAOhP,aAAa,kBAGvB,CACC,EAAA3wB,KAAKnL,KAAK60I,cAAc34H,OAExB,IAAIX,EAAS,IAAMvb,KAAK60I,aAAap5H,MAAMF,MAAMwY,mBAAsB,IACnE/zB,KAAK60I,aAAap5H,MAAMF,MAAM4mB,SAAS,QAC1C5mB,EAAQ,eAAiBvb,KAAK60I,aAAap5H,MAAMF,MAAMwY,mBAAqB,OAC7E,EAAA5oB,KAAKnL,KAAK+0I,UAAUx5H,MAAMA,GAE1BjB,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBy6C,WAChC5sC,EAAEwwB,OAAOhP,aAAa,eAIxB,MACD,KAAK,EAAA9qB,8BAA8ByqB,MAGjC,GAAW,YAAPhe,EAEH,EAAAtS,KAAKnL,KAAK60I,cAAct5H,MAAM,QAC9B,EAAApQ,KAAKnL,KAAK+0I,UAAUliI,OACpByH,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBy6C,WAChC5sC,EAAEwwB,OAAOhP,aAAa,mBAGvB,CACC,IAAIvgB,EAAS,IAAMvb,KAAK+0I,SAASt5H,MAAMF,MAAMwY,mBAAsB,IAC/D/zB,KAAK+0I,SAASt5H,MAAMF,MAAM4mB,SAAS,QACtC5mB,EAAQ,eAAiBvb,KAAK+0I,SAASt5H,MAAMF,MAAMwY,mBAAqB,OACzE,EAAA5oB,KAAKnL,KAAK60I,cAAct5H,MAAMA,GAE9B,EAAApQ,KAAKnL,KAAK+0I,UAAU74H,OACpB5B,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBsvC,YAChCzhC,EAAEwwB,OAAOhP,aAAa,cAIxB,MACD,KAAK,EAAA9qB,8BAA8BitB,KAGjC,GAAW,YAAPxgB,EAEH,EAAAtS,KAAKnL,KAAK60I,cAAcr5H,OAAO,QAC/B,EAAArQ,KAAKnL,KAAK+0I,UAAUliI,OACpByH,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBk8D,SAChCruD,EAAEwwB,OAAOhP,aAAa,mBAGvB,CACC,IAAItgB,EAAU,IAAMxb,KAAK+0I,SAASt5H,MAAMD,OAAOuY,mBAAsB,IACjE/zB,KAAK+0I,SAASt5H,MAAMD,OAAO2mB,SAAS,QACvC3mB,EAAS,eAAiBxb,KAAK+0I,SAASt5H,MAAMD,OAAOuY,mBAAqB,OAC3E,EAAA5oB,KAAKnL,KAAK60I,cAAcr5H,OAAOA,GAE/B,EAAArQ,KAAKnL,KAAK+0I,UAAU74H,OACpB5B,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBmrC,WAChCt9B,EAAEwwB,OAAOhP,aAAa,cAIxB,MACD,KAAK,EAAA9qB,8BAA8B+sB,GAGjC,GAAW,YAAPtgB,EAEH,EAAAtS,KAAKnL,KAAK60I,cAAchiI,OACxB,EAAA1H,KAAKnL,KAAK+0I,UAAUv5H,OAAO,QAC3BlB,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBmrC,WAChCt9B,EAAEwwB,OAAOhP,aAAa,kBAGvB,CACC,EAAA3wB,KAAKnL,KAAK60I,cAAc34H,OAExB,IAAIV,EAAU,IAAMxb,KAAK60I,aAAap5H,MAAMD,OAAOuY,mBAAsB,IACrE/zB,KAAK60I,aAAap5H,MAAMD,OAAO2mB,SAAS,QAC3C3mB,EAAS,eAAiBxb,KAAK60I,aAAap5H,MAAMD,OAAOuY,mBAAqB,OAC/E,EAAA5oB,KAAKnL,KAAK+0I,UAAUv5H,OAAOA,GAE3BlB,EAAEwwB,OAAOzpC,MAAM,EAAAoL,iBAAiBk8D,SAChCruD,EAAEwwB,OAAOhP,aAAa,gBAQ1B,GAA4C,MAAxCz5B,EAASizI,4BACb,CACC,IAAIC,EAA2B,IAAIC,EACnCD,EAAyBzqG,OAAS9qC,KAClCu1I,EAAyBx3E,SAAmB,YAAPtgD,EACrC83H,EAAyBH,YAAcp1I,KAAK60I,aAC5CU,EAAyBF,QAAUr1I,KAAK+0I,SACxC1yI,EAASizI,4BAA4BC,GAI3B,YAAP93H,EACHnD,EAAEwwB,OAAOrtB,IAAI,aAEbnD,EAAEwwB,OAAOrtB,IAAI,cAEbzd,KAAKsC,eArOX,aA6OA,IAAIsyI,EAAsB,CAAC9pG,EAAkBzoC,KAE5C,IAAIozI,EAAU3qG,EAAOz/B,UACjBiyB,EAAiB,KACjBo4G,EAAmB,KACnBC,EAAmB,KAEnBviH,EAAI,EACJytE,EAAI,EACJ+0C,EAAoB,EACpBC,EAAmB,EAEvB,MAqCMC,EAAoBx7H,IAEzB,MAAM23G,EAAK33G,EAAE8d,QAAUhF,EACjB4+F,EAAK13G,EAAEge,QAAUuoE,EAEvB,OAAQvjE,GAEP,IAAK,WACJ,CACC,MAAM6kG,EAA+B,KAA1ByT,EAAoB5jB,GAAYyjB,EAAQ/3E,cAAc8kD,WAAWhlF,wBAAwBhiB,OACpGk6H,EAAYj6H,MAAMD,OAAY2mH,EAAH,IAC3BwT,EAAYl6H,MAAMD,OAAY,IAAM2mH,EAAT,IAE5B,MACD,IAAK,aACL,QACC,CACC,MAAM0D,EAA8B,KAAzBgQ,EAAmB5jB,GAAYwjB,EAAQ/3E,cAAc8kD,WAAWhlF,wBAAwBjiB,MACnGm6H,EAAYj6H,MAAMF,MAAWsqH,EAAH,IAC1B8P,EAAYl6H,MAAMF,MAAW,IAAMsqH,EAAT,KAM7B,MAAM1qH,EAAuB,eAAdmiB,EAA6B,aAAe,aAC3Dm4G,EAAQh6H,MAAMN,OAASA,EACvBnP,SAASC,KAAKwP,MAAMN,OAASA,EAE7Bu6H,EAAYj6H,MAAMs6H,WAAa,OAC/BL,EAAYj6H,MAAMu6H,cAAgB,OAElCL,EAAYl6H,MAAMs6H,WAAa,OAC/BJ,EAAYl6H,MAAMu6H,cAAgB,QAI7BC,EAAiB,KAetB,GAbAR,EAAQh6H,MAAMy6H,eAAe,UAC7BlqI,SAASC,KAAKwP,MAAMy6H,eAAe,UAEnCR,EAAYj6H,MAAMy6H,eAAe,eACjCR,EAAYj6H,MAAMy6H,eAAe,kBAEjCP,EAAYl6H,MAAMy6H,eAAe,eACjCP,EAAYl6H,MAAMy6H,eAAe,kBAEjClqI,SAASqxH,oBAAoB,YAAayY,GAC1C9pI,SAASqxH,oBAAoB,UAAW4Y,GAGX,MAAzB5zI,EAAQoyF,cACZ,CACC,IAAI0hD,EAAoB,IAAIC,EAC5BD,EAAkBrrG,OAASA,EAC3BqrG,EAAkBf,YAAcM,EAChCS,EAAkBd,QAAUM,EAC5BQ,EAAkB74G,UAAYA,EAC9Bj7B,EAASoyF,cAAc0hD,KAMzBV,EAAQ7oG,iBAAiB,YAtGCtyB,IAOzB,GALAgjB,EAAYm4G,EAAQj3G,aAAa,mBAAqB,aACtDk3G,EAAcD,EAAQ/3E,cAAco3E,uBACpCa,EAAcF,EAAQ/3E,cAAcs3E,mBAGN,MAA1B3yI,EAAQkyF,eACZ,CACC,IAAI4hD,EAAoB,IAAIE,EAO5B,GANAF,EAAkBrrG,OAASA,EAC3BqrG,EAAkBf,YAAcM,EAChCS,EAAkBd,QAAUM,EAC5BQ,EAAkB74G,UAAYA,EAC9Bj7B,EAASkyF,eAAe4hD,GAEpBA,EAAkBpyH,qBAGrB,YADAzJ,EAAE0e,iBAOJ5F,EAAI9Y,EAAE8d,QACNyoE,EAAIvmF,EAAEge,QAGN,MAAM6oG,EAAOuU,EAAYl4G,wBACzBo4G,EAAoBzU,EAAK3lH,OACzBq6H,EAAmB1U,EAAK5lH,MAExBvP,SAAS4gC,iBAAiB,YAAakpG,GACvC9pI,SAAS4gC,iBAAiB,UAAWqpG,MAyEvC,MAAMK,UAAsB,EAAAz3H,iBAK5B,MAAM03H,UAAoCD,GAM1C,MAAMnB,UAA0CoB,GAChD,MAAMf,UAAyCe,GAE/C,MAAMC,UAA4BF,GAOlC,MAAMD,UAAkCG,GACxC,MAAMJ,UAAiCI,K,gIC5YvC,aACA,OACA,OAIA,MAAaC,UAA+B,EAAA1rI,kBAA5C,2BAmBA,MAAapC,UAAwB,EAAAugC,UAepC,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIo0I,GAEM,MAAjBp0I,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQghD,SAAgBhhD,EAAQghD,QAAS,GACtB,MAAnBhhD,EAAQ+T,UAAiB/T,EAAQ+T,SAAU,GAEnB,MAAxB/T,EAAQq0I,eAAsBr0I,EAAQq0I,aAAe,IAAI,EAAAv3H,6BACjB,MAAxC9c,EAAQq0I,aAAatzF,kBAAyB/gD,EAAQq0I,aAAatzF,gBAAkB,QACnD,MAAlC/gD,EAAQq0I,aAAavzF,YAAmB9gD,EAAQq0I,aAAavzF,UAAY,WAC1C,MAA/B9gD,EAAQq0I,aAAarzF,SAAgBhhD,EAAQq0I,aAAarzF,OAAS,qBACtC,MAA7BhhD,EAAQq0I,aAAa36G,OAAc15B,EAAQq0I,aAAa36G,MAAO,GACvB,MAAxC15B,EAAQq0I,aAAaC,kBAAyBt0I,EAAQq0I,aAAaC,gBAAkB,oBAE5D,MAAzBt0I,EAAQu0I,gBAE2B,MAAlCv0I,EAAQu0I,cAAc5/F,WAAkB30C,EAAQu0I,cAAc5/F,UAAW,GACvC,MAAlC30C,EAAQu0I,cAAc9/F,WAAkBz0C,EAAQu0I,cAAc9/F,SAAW,EAAAloC,qBAAqBmoC,cAInG9tB,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBiG,iBACxC,EAAAwC,KAAKnL,KAAKqL,WAAWS,KAAK,WAAY,KACtC9L,KAAK62I,cAAgB,EAAAh8H,KAAK7a,KAAKqL,UAAW,CAAE0K,IAAK,wBAEjD/V,KAAKuqC,OAAS,EAAAp/B,KAAK,8CAAgDE,EAAQ8K,GAAK,sPAAsPG,eAAgC,MAAhB,EAAAvK,aAAwB,EAAAA,aAAeC,SAASC,MAAM,GAE5YjM,KAAKw5C,OAAS,GAEVn3C,EAAQghD,SACXrjD,KAAKqL,UAAUoQ,MAAMC,SAAW,2BAEjC,IAAImK,EAAU,EAqHd,GApHA7lB,KAAK82I,UAAY,EAAA9zI,cAAc,CAC9B84B,aAAc,0BACd/lB,IAAK,uDAAyD/V,KAAKub,QAAU,6CAC7EqvB,QAAUtwB,IAGT,IAAIA,EAAE3Y,KAAO,EAAA4Q,QAAQ85B,YAAc/xB,EAAE3Y,KAAO,EAAA4Q,QAAQ+5B,WAAahyB,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,SAC9EjyB,EAAE3Y,KAAO,EAAA4Q,QAAQumC,SAAWx+B,EAAE2wB,WAElB,KAAT3wB,EAAE3Y,MAAc2Y,EAAE2wB,SAIvB,OAFAjrC,KAAK+2I,wBACLz8H,EAAE0e,iBAM0B,MAA1B32B,EAASu0I,gBAEZt9F,aAAazzB,GACbA,EAAUrB,OAAOwa,WAAW,KAE3B,IAAIjsB,EAAOyW,OAAOlP,EAAEjZ,OACpB,GAA8B,MAA1BgB,EAASu0I,eAA8D,MAArCv0I,EAASu0I,cAAclrI,WAC7D,CAEC,IAAI6tC,EAAgBv5C,KAAKs1B,OAAOviB,EAAM/S,KAAKqL,WACvCkuC,EAAcnuC,OAAS,EAC1BpL,KAAK2T,OAEL3T,KAAKkqC,QAEO,KAAT5vB,EAAE3Y,KAAc2Y,EAAE2wB,SAAmC,GAAxBsO,EAAcnuC,SAE9CpL,KAAKg3I,WAAWxtH,OAAO+vB,EAAc,GAAGl4C,QACxCrB,KAAKkqC,cAIF,GAAyC,MAArC7nC,EAASu0I,cAAclrI,YAG3B4O,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,MACrB,CACC,GAAY,IAAR33B,EAIH,OAFA/S,KAAKw5C,OAAS,QACd,EAAAruC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMzB,SAI9B,CACC,IAAI2xB,EAAkBhsC,KAAKqL,UAA+B2gC,eACtDgK,EAAgBh2C,KAAKqL,UAA+B2qC,aAChC,GAAlBhK,GAAuBgK,GAAiBh2C,KAAKqL,UAA+BhK,MAAM+J,QACvFpL,KAAKy5C,WAAW1mC,MAKlB,OAGL43B,WAAarwB,IAEkB,MAA1BjY,EAASu0I,cAERv0I,EAASu0I,cAAc5/F,SAC1Bh3C,KAAKi3I,YAAY38H,EAAEwwB,OAAQxwB,EAAEwwB,OAAOzpC,UAGpCrB,KAAK82I,UAAU/oG,QACf/tC,KAAKszC,YAAYjxC,EAASixC,cAI3BtzC,KAAKi3I,YAAY38H,EAAEwwB,OAAQxwB,EAAEwwB,OAAOzpC,UAEtCqrC,UAAYpyB,IAIX,GAFAta,KAAK+2I,mBAEyB,MAA1B10I,EAASu0I,eAAyBt8H,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,UACvD,CACU,EAAArhC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,cAAc8O,QAC3C9C,WAGH9nB,KAAKqL,WAEqB,MAAzBhJ,EAAQu0I,eAAwD,MAA/Bv0I,EAAQu0I,cAAct/F,OAC1Dt3C,KAAKk3I,WAAW70I,EAAQu0I,cAAct/F,OAEvC,EAAAnsC,KAAKa,SAASC,MAAMkQ,GAAG,QAAU7B,IAEF,IAA1Bta,KAAK82I,UAAUz1I,SAAiBiZ,EAAE6oB,OAAOhtB,IAAMnW,KAAK82I,UAAUzrI,UAAU8K,IAAOmE,EAAE6oB,OAAOnpB,UAAU6yB,SAAS,8BAAiCvyB,EAAE6oB,OAAOnpB,UAAU6yB,SAAS,uBAE3K7sC,KAAKi3I,YAAYj3I,KAAK82I,UAAW92I,KAAK82I,UAAUz1I,SAChDrB,KAAK45C,eAKP,EAAAzuC,KAAKnL,KAAKqL,WAAW8Q,GAAG,QAAU7B,GAAyBta,KAAK8nB,SAIrC,MAAvBzlB,EAAQixC,aACXtzC,KAAKszC,YAAYjxC,EAAQixC,aAEL,MAAjBjxC,EAAQhB,OACXrB,KAAKs3C,MAAMj1C,EAAQhB,OAIA,MAAhBgB,EAAQgvC,KACZ,CACC,IAAIhU,EAAY,EAChB,IAAK,IAAIj9B,EAAI,EAAGA,EAAIiC,EAAQgvC,KAAMjxC,IAErBi9B,GAAH,GAALj9B,EAAqB,GACP,GAEnBJ,KAAKqL,UAAUoQ,MAAMC,SAAW,eAAiB2hB,EAAY,OAI1B,MAAhB,EAAAtxB,aAAwB,EAAAA,aAAeC,UAC7C4gC,iBAAiB,SAAWtyB,KAEpC,EAAAnP,KAAKmP,EAAE6oB,QAAQ7E,SAAS,sBAAwB,EAAAnzB,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,aACzE7L,KAAKkqC,UACJ,GAII,YAAYY,EAAa/3B,EAAc1R,GAE9C,IAAIgB,EAAUrC,KAAK+sC,aAInB,GAHAjC,EAAOiD,QACP/tC,KAAKszC,YAAYjxC,EAAQixC,aAEb,IAARvgC,EAEH,IAAK,IAAI2gB,KAAO3gB,EAAK4Z,MAAM,KAC3B,CACC,IAAI+H,EAAO,IAAI,EAAAxV,oBACfwV,EAAK3hB,KAAO2gB,EAAIooB,OACH,MAATz6C,IAAeqzB,EAAKrzB,MAAQA,GAChCrB,KAAKk/C,QAAQxqB,GAKf,EAAAvpB,KAAKnL,KAAK82I,UAAUx0I,aAAagU,eAAetW,KAAKqL,WAErDmZ,OAAOwa,WAAW,IAAMh/B,KAAK8nB,SAC7B9nB,KAAKkqC,QAGE,mBAEP,IAAI7nC,EAAUrC,KAAK+sC,aACf1rC,EAAQrB,KAAK82I,UAAUz1I,QACd,IAATA,EACHrB,KAAK82I,UAAUzrI,UAAUoQ,MAAMF,MAASvb,KAAK4hD,UAAUvgD,GAAS,GAAM,KAEtErB,KAAKszC,YAAYjxC,EAAQixC,aAK3B,MAAMgE,GAEL,GAAa,MAATA,EAEH,IAAK,IAAI5iB,KAAQ4iB,EAChBt3C,KAAKk/C,QAAQxqB,GAEf,OAAO10B,KAAKw5C,OAGb,QAAQ9kB,GAEP,GAAY,MAARA,GAAwB,IAARA,EACnB,OAED,IAAIryB,EAAUrC,KAAK+sC,aACnB/sC,KAAKszC,YAAY,IAEjB,IAAI6jG,EAAgCziH,EACf,iBAAV,IAEVyiH,EAAW,IAAI,EAAAj4H,oBACfi4H,EAASpkI,KAAO2hB,EAChByiH,EAAS91I,MAAQqzB,GAGI,MAAlByiH,EAAS91I,QACZ81I,EAAS91I,MAAQ81I,EAASpkI,MAE3B,IAAIwoG,EAAU,EAAA5lG,IAAI3V,KAAKqL,UAAW,CAAE6K,MAAO,wBAAyBK,WAAY,CAAC,CAAE5V,KAAM,QAASU,MAAO81I,EAAS91I,UAC9GymD,EAAe,EAAAjtC,KAAK0gG,EAAS,CAAEvlG,QAASmhI,EAASpkI,KAAMmD,MAAO,8BAG9D7T,EAAQ+T,SACX,EAAAjL,KAAKowG,GAASzvG,KAAK,QAASqrI,EAASpkI,MAItC,IAAIqwC,EAAkB/gD,EAAQq0I,aAActzF,gBACxCD,EAAY9gD,EAAQq0I,aAAcvzF,UAClCE,EAAShhD,EAAQq0I,aAAcrzF,OAC/BtnB,EAAO15B,EAAQq0I,aAAc36G,KAC7B46G,EAAkBt0I,EAAQq0I,aAAcC,gBACxCx5G,EAAW96B,EAAQq0I,aAAcv5G,SA0ErC,GAxEyB,MAArBg6G,EAASvhI,WAE6B,MAArCuhI,EAASvhI,SAASwtC,kBAAyBA,EAAkB+zF,EAASvhI,SAASwtC,iBAChD,MAA/B+zF,EAASvhI,SAASutC,YAAmBA,EAAYg0F,EAASvhI,SAASutC,WACvC,MAA5Bg0F,EAASvhI,SAASytC,SAAgBA,EAAS8zF,EAASvhI,SAASytC,QACnC,MAA1B8zF,EAASvhI,SAASmmB,OAAcA,EAAOo7G,EAASvhI,SAASmmB,MACpB,MAArCo7G,EAASvhI,SAAS+gI,kBAAyBA,EAAkBQ,EAASvhI,SAAS+gI,iBACjD,MAA9BQ,EAASvhI,SAASunB,WAAkBA,EAAWg6G,EAASvhI,SAASunB,WAGtEo+E,EAAQ9/F,MAAMC,SAAW,qBAAuB0nC,EAAkB,YAAcD,EAAY,aAAeE,EAAS,IAChHtnB,IACHw/E,EAAQ9/F,MAAMC,SAAW,qBAEV,MAAZyhB,IACH2qB,EAAarsC,MAAMC,SAAW,cAAgByhB,EAAW,OAI1D,EAAAhyB,KAAKowG,GAASp/F,GAAG,QAAU7B,IAG1B,GAA4B,MAAxBjY,EAAS+0I,YACb,CACC,IAAIC,EAAiB,IAAIC,EAMzB,GALAD,EAAevsG,OAAS9qC,KACxBq3I,EAAe3iH,KAAO,CAAEA,KAAMyiH,EAAU9rI,QAASkwG,GACjD87B,EAAetkI,KAAOokI,EAASpkI,KAC/B1Q,EAAS+0I,YAAYC,GAEjBA,EAAetzH,qBAGlB,YADAzJ,EAAE0e,iBAOJ,EAAA7tB,KAAKnL,KAAK82I,UAAUx0I,aAAay3B,mBAAmBwhF,GAEpDv7G,KAAKq/C,WAAW83F,EAAS91I,OAGzB,IAAIka,EAAQvb,KAAK4hD,UAAUu1F,EAASpkI,MAEpC/S,KAAK82I,UAAUz1I,MAAM81I,EAASpkI,MAAM,GACpC/S,KAAK82I,UAAUzrI,UAAUoQ,MAAMF,MAASA,EAAQ,GAAM,KACrDvb,KAAK82I,UAAUzrI,UAA+B0c,SAG/C/nB,KAAK8nB,UAKN,EAAA5f,WAAW,CACV7G,MAAO,EAAAsL,mBAAmBqrC,MAC1Blc,aAAc,+BACd5gB,MAAOy7H,EACPx6G,QAAU7hB,GAAMta,KAAKq/C,WAAW83F,EAAS91I,QACvCk6G,GAGH,EAAApwG,KAAKowG,GAASxhF,mBAAmB/5B,KAAK82I,UAAUx0I,aAE1B,MAAlB60I,EAAS91I,OACZ,EAAA8J,KAAKowG,GAASzvG,KAAK,QAASqrI,EAAS91I,OAEtCrB,KAAKw5C,OAAOhmB,KAAK2jH,GAGW,MAAxB90I,EAAS6lD,YACb,CACC,IAAIqvF,EAAiB,IAAIC,EACzBD,EAAezsG,OAAS9qC,KACxBu3I,EAAe7iH,KAAO,CAAEA,KAAMyiH,EAAU9rI,QAASkwG,GACjDl5G,EAAS6lD,YAAYqvF,IAKvB,WAAWl2I,GAEVrB,KAAKw5C,OAAOrkB,cAAcD,GAAKA,EAAE7zB,OAASA,GAC1C,EAAA8J,KAAKnL,KAAKsC,aAAawZ,KAAK,iCAAmCza,EAAQ,MAAMgZ,SAE7E,IAAIhY,EAAUrC,KAAK+sC,aAKnB,GAJ2B,GAAvB/sC,KAAKs3C,QAAQlsC,QAChBpL,KAAKszC,YAAYjxC,EAAQixC,aAGI,MAA1BjxC,EAASmmD,cACb,CACC,IAAI+uF,EAAiB,IAAIC,EACzBD,EAAezsG,OAAS9qC,KACxBu3I,EAAe7iH,KAAO10B,KAAK00B,KAAKrzB,GAChCgB,EAASmmD,cAAc+uF,IAKzB,KAAKl2I,GAEJ,IAAIqzB,EAAO,IAAI+iH,EAEXN,EAAWn3I,KAAKw5C,OAAOlkB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GACrDwb,EAAQ7c,KAAKs3C,QAAQviB,QAAQoiH,GAIjC,OAHAziH,EAAKA,KAAO10B,KAAKs3C,QAAQz6B,GAEzB6X,EAAKrpB,QAAU,EAAAF,KAAKnL,KAAKsC,aAAawZ,KAAK,iCAAmCza,EAAQ,MAAM,GACrFqzB,EAKR,MAAMrzB,EAAeuU,GAEpB,IAAI8e,EAAO10B,KAAK00B,KAAKrzB,GACD,MAAhBqzB,EAAKrpB,SAA+B,MAAZuK,IAEK,MAA5BA,EAASwtC,kBAAyB1uB,EAAKrpB,QAAQoQ,MAAMC,SAAW,qBAAuB9F,EAASwtC,gBAAkB,KAC5F,MAAtBxtC,EAASutC,YAAmBzuB,EAAKrpB,QAAQoQ,MAAMC,SAAW,UAAY9F,EAASutC,UAAY,KACxE,MAAnBvtC,EAASytC,SAAgB3uB,EAAKrpB,QAAQoQ,MAAMC,SAAW,WAAa9F,EAASytC,OAAS,KACtFztC,EAASmmB,OAAMrH,EAAKrpB,QAAQoQ,MAAMC,SAAW,sBAMnD,OAEC,OAAO1b,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAEniB,MAGhC,MAAMukC,GAKL,OAHa,MAATA,GACHt3C,KAAKs3C,MAAMA,GAELt3C,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OAGhC,YAAYA,GAEX,GAAa,MAATA,EACJ,CACC,IAAIka,EAAQvb,KAAK4hD,UAAUvgD,GAC1BrB,KAAK82I,UAAUzrI,UAA+BioC,YAAcjyC,EAC7DrB,KAAK82I,UAAUzrI,UAAUoQ,MAAMF,MAASA,EAAQ,GAAM,KAEvD,OAAQvb,KAAK82I,UAAUzrI,UAA+BioC,YAK/C,UAAUjyC,GAEjB,IAAIka,EAAQ,EAKZ,OAJAvb,KAAK62I,cAAc/0G,UAAYzgC,EAAM+Y,QAAQ,MAAO,UACpDmB,EAAQvb,KAAK62I,cAAc90G,YAC3B/hC,KAAK62I,cAAc/0G,UAAY,GAExBvmB,EAGR,QAEC,IAAIlZ,EAAUrC,KAAK+sC,aACd,EAAA5hC,KAAKnL,KAAKqL,WAAW8uB,mBAEzBn6B,KAAK82I,UAAUhvH,QACf9nB,KAAK03I,aAEyB,IAA1B13I,KAAK82I,UAAUz1I,SAClBrB,KAAKszC,YAAYjxC,EAAQixC,cAIpB,aAEP,IAAIjxC,EAAUrC,KAAK+sC,aACnB,GAAuB,MAAnB1qC,EAAQ4pC,QACZ,CACC,IAAIyrG,EAAa,IAAIC,EACrBD,EAAW5sG,OAAS9qC,KACpB03I,EAAWrsI,QAAUrL,KAAK82I,UAAUzrI,UACpChJ,EAAQ4pC,QAAQyrG,IAIV,YAEP,IAAIr1I,EAAUrC,KAAK+sC,aACnB,GAAsB,MAAlB1qC,EAAQypC,OACZ,CACC,IAAI4rG,EAAa,IAAIE,EACrBF,EAAW5sG,OAAS9qC,KACpB03I,EAAWrsI,QAAUrL,KAAK82I,UAAUzrI,UACpChJ,EAAQypC,OAAO4rG,IAIjB,QAEC,IAAIr1I,EAAUrC,KAAK+sC,aACnB/sC,KAAKw5C,OAAS,GAEd,EAAAruC,KAAKnL,KAAKsC,aAAawZ,KAAK,0BAA0BzB,SACtDra,KAAK82I,UAAU/oG,QAEf/tC,KAAKszC,YAAYjxC,EAAQixC,aAKlB,QAEP,EAAAnoC,KAAKnL,KAAKuqC,QAAQ13B,OAGX,OAGP,GADA,EAAA1H,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,iCAC/D7+B,KAAKiqC,UACT,OAED,GAAI,EAAA9+B,KAAKnL,KAAKuqC,QAAQ1+B,GAAG,YACxB,OAED,EAAAV,KAAKnL,KAAKuqC,QAAQruB,OAClB+M,MAAMykB,aAAa1tC,KAAKuqC,QAExB,IAAIrN,EAAW,EAAA/xB,KAAKnL,KAAKqL,WAAWkQ,QACpCvb,KAAKuqC,OAAO9uB,MAAMC,SAAW,cAAgBwhB,EAAW,MAGjD,WAAWnqB,EAAO,IAEzB,IAAI1Q,EAAUrC,KAAK+sC,aACnB,GAA6B,MAAzB1qC,EAAQu0I,eAA6D,MAApCv0I,EAAQu0I,cAAclrI,WAC1D,OAE6D,MAA1DrJ,EAAQu0I,cAAclrI,WAAW42C,wBAA+BjgD,EAAQu0I,cAAclrI,WAAW42C,sBAAwB,QAC9D,MAA3DjgD,EAAQu0I,cAAclrI,WAAW62C,yBAAgClgD,EAAQu0I,cAAclrI,WAAW62C,uBAAyB,SACrE,MAAtDlgD,EAAQu0I,cAAclrI,WAAW82C,oBAA2BngD,EAAQu0I,cAAclrI,WAAW82C,kBAAoB,SAErH,IAAIliB,EAAe,GAMnB,GALAA,EAAQj+B,EAAQu0I,cAAclrI,WAAW42C,uBAAyBvvC,EAElB,MAA5C1Q,EAAQu0I,cAAclrI,WAAW60B,UACpCl+B,EAAQu0I,cAAclrI,WAAW60B,QAAU,IAEO,MAA/Cl+B,EAAQu0I,cAAclrI,WAAW+2C,WACrC,CACC,IAAIA,EAAapgD,EAAQu0I,cAAclrI,WAAW+2C,aAC9CC,EAAiB5hD,OAAOogC,oBAAoBuhB,GAChD,IAAK,IAAIthB,KAASuhB,EACjBpiB,EAAQa,GAASshB,EAAWthB,GAG9BnhC,KAAK2iD,kBAAoB,EAAA33C,eAAeC,aACxCq1B,EAAQ9jB,KAAOxc,KAAK2iD,kBACpB,EAAA33C,eAAeyuC,WACd,CACCl4C,KAAM,EAAA8Q,eAAewuB,MACrBN,QAASl+B,EAAQu0I,cAAclrI,WAAW60B,QAC1Ca,OAAQ/+B,EAAQu0I,cAAclrI,WAAW01B,OACzCd,QAASA,GAETiB,IAEA,GAA8B,MAA1BvhC,KAAK2iD,mBAA8C,MAAjBphB,EAAS/kB,MAAgBxc,KAAK2iD,mBAAqBphB,EAAS/kB,KACjG,OAEDxc,KAAK0+C,qBAAuB3rC,EAC5B,IAAIukC,EAAQ/V,EAASl/B,EAASu0I,cAAelrI,WAAY82C,mBACzDxiD,KAAKk3I,WAAW5/F,GAEZA,EAAMlsC,OAAS,EAClBpL,KAAK2T,OAEL3T,KAAKkqC,UAKD,WAAWoN,GAElB,IAAIj1C,EAAUrC,KAAK+sC,aAqBnB,OApBa,MAATuK,IAEHt3C,KAAK63I,YAAcvgG,EAEe,GAA9Bt3C,KAAKw6C,eAAepvC,OACvB,EAAAD,KAAKnL,KAAKuqC,QAAQzP,SAAS,kBAE3B,EAAA3vB,KAAKnL,KAAKuqC,QAAQ1L,YAAY,kBAEU,MAArCx8B,EAAQu0I,cAAelrI,WAE1B1L,KAAKy6C,kBAI4B,MAA7Bz6C,KAAK0+C,uBAA8B1+C,KAAKw5C,OAAS,IACrDx5C,KAAKy6C,iBACLz6C,KAAK0+C,qBAAuB,OAGvB1+C,KAAK63I,YAGL,qBAAqBl8F,GAE5B,OAAO37C,KAAKk3I,aAAa5hH,OAAOJ,GAAsB,MAAjBA,EAAEwmB,aAAuBxmB,EAAEwmB,aAAeC,EAAWt6C,OAGnF,eAEP,IAAIi+C,EAA8B,GAClC,IAAK,IAAI5qB,KAAQ10B,KAAKk3I,aACtB,CACC,GAAY,MAARxiH,EACH,SAED,IAAIgnB,EAAchnB,EAAKgnB,YACvB,KAAsB,MAAfA,GACP,CACC,IAAIC,EAAa37C,KAAKk3I,aAAa5hH,OAAOJ,GAAKA,EAAE7zB,OAASq6C,GAAa,GAClE4D,EAAYvjC,SAAS4/B,IACzB2D,EAAY9rB,KAAKmoB,GAElBD,EAA6B,MAAdC,EAAsBA,EAAWD,iBAAch+B,EAC5C,MAAdi+B,GAAsBD,GAAeC,EAAWt6C,QACnDq6C,OAAch+B,IAGjB,OAAO4hC,EAGA,gBAEP,OAAOt/C,KAAKw6C,eAAellB,OAAOJ,GAAU,MAALA,GAAWtY,IAAIsY,GAAK1L,OAAO0L,EAAE7zB,QAG7D,eAAe26C,GAEtB,EAAA7wC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiBzB,SAExC,IAAIi9B,EAAQt3C,KAAKk3I,aACG,MAAhBl7F,IACH1E,EAAQt3C,KAAKo7C,4BAA4BY,IAEtB,GAAhB1E,EAAMlsC,QAA2B,MAAZksC,EAAM,KAG/Bt3C,KAAKk5C,mBAAqB,IAAIvyC,IAC9B3G,KAAKq6G,mBAAqB,IAAI1zG,IAC9B2wC,EAAQA,EAAMhiB,OAAOJ,GAAsB,MAAjBA,EAAEwmB,aAC5B17C,KAAKi8C,UAAU3E,EAAOt3C,KAAKuqC,SAGpB,UAAU+M,EAAuB4E,GAExC,IAAI75C,EAAUrC,KAAK+sC,aACnB,GAAoB,GAAhBuK,EAAMlsC,OACT,OAED,IAAI+wC,EAAK,EAAAhxC,KAAK,kCAAkCmL,eAAe4lC,GAC/D,IAAK,IAAIxnB,KAAQ4iB,EACjB,CACmB,MAAd5iB,EAAKrzB,QACRqzB,EAAKrzB,MAAQqzB,EAAK3hB,MAEnB,IAAIkmC,EAAK,EAAA9tC,KAAK,gDAAgDmL,eAAe6lC,GAE7E,GADAn8C,KAAKq6G,mBAAmBljF,IAAI8hB,EAAG,GAAIzvB,OAAOkL,EAAKrzB,QAC3CrB,KAAKk5C,mBAAmBhiB,IAAI1N,OAAOkL,EAAKrzB,QAC5C,CACC,IAAIg7C,EAAer8C,KAAKk5C,mBAAmBj4C,IAAIuoB,OAAOkL,EAAKrzB,QAC3Dg7C,EAAa7oB,KAAKylB,EAAG,IACrBj5C,KAAKk5C,mBAAmB/hB,IAAI3N,OAAOkL,EAAKrzB,OAAQg7C,QAGhDr8C,KAAKk5C,mBAAmB/hB,IAAI3N,OAAOkL,EAAKrzB,OAAQ,CAAC43C,EAAG,KAGrD,EAAA9tC,KAAK8tC,GAAI98B,GAAG,UAAY7B,IAEvB,EAAAnP,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,gCACpE,EAAA1zB,KAAKmP,EAAE6oB,QAAQrI,SAAS,+CAEzB,EAAA3vB,KAAK8tC,GAAI98B,GAAG,UAAY7B,IAEvB,GAAIA,EAAE3Y,KAAO,EAAA4Q,QAAQi6B,UACrB,CACC,IAAI2M,EAAO,EAAAhuC,KAAKmP,EAAE0rB,eAAemT,OACjC,GAAmB,GAAfA,EAAK/tC,OACR,OAGD,IADA,EAAAD,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,iCAC5Dsa,EAAKttC,GAAG,aACfstC,EAAO,EAAAhuC,KAAKguC,GAAMA,OAEnBA,EAAKrxB,aAED,GAAIxN,EAAE3Y,KAAO,EAAA4Q,QAAQg6B,QAC1B,CACC,IAAI6M,EAAO,EAAAjuC,KAAKmP,EAAE0rB,eAAeoT,OACjC,GAAmB,GAAfA,EAAKhuC,OACR,OAGD,IADA,EAAAD,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iCAAiC+iB,YAAY,iCAC5Dua,EAAKvtC,GAAG,aACfutC,EAAO,EAAAjuC,KAAKiuC,GAAMA,OAEnBA,EAAKtxB,aAEGxN,EAAE3Y,KAAO,EAAA4Q,QAAQm4B,OACzB,EAAAv/B,KAAKmP,EAAE0rB,eAAelqB,KAAK,uBAAuB8mB,UAKhDvgC,EAAQu0I,cAAe9/F,UAAY,EAAAloC,qBAAqB0tC,aAEnC,MAApB5nB,EAAKgnB,aACR,EAAAvwC,KAAK8tC,GAAInc,QAAQ,iBAAiBjqB,OAE3BxQ,EAAQu0I,cAAe9/F,UAAY,EAAAloC,qBAAqB2tC,wBAE5D,EAAApxC,KAAK8tC,GAAIuD,QAAQ,iBAAiBpxC,OAAS,GAC9C,EAAAD,KAAK8tC,GAAInc,QAAQ,iBAAiBjqB,OAIpC,IAAI0H,EAAWva,KAAKo8C,qBAAqB1nB,GACzC,GAAIna,EAASnP,OAAS,EACtB,CAEC,IAAIqxC,EAAkB,GAClBzhC,EAAY,EAAAtO,iBAAiBqvC,WAC7B15C,EAAQu0I,cAAe9/F,UAAY,EAAAloC,qBAAqB0tC,aAEnC,MAApB5nB,EAAKgnB,cAER1gC,EAAY,EAAAtO,iBAAiBqvC,WAC7BU,EAAkB,eAGXp6C,EAAQu0I,cAAe9/F,UAAY,EAAAloC,qBAAqB2tC,uBAEhB,GAA5C,EAAApxC,KAAK8tC,GAAIuD,QAAQ,iBAAiBpxC,QAErC4P,EAAY,EAAAtO,iBAAiBkrC,UAC7B6E,EAAkB,eAIlBzhC,EAAY,EAAAtO,iBAAiBqvC,WAC7BU,EAAkB,gBAKnBzhC,EAAY,EAAAtO,iBAAiBkrC,UAC7B6E,EAAkB,cAGnB,IAAIC,EAAU,EAAAvxC,KAAK,uCAAyCsxC,EAAkB,YAAYnmC,eAAe2iC,GACzG,EAAA9tC,KAAK,EAAAH,eAAe9C,WAAW8S,IAAY1E,eAAeomC,GAC1D,EAAAvxC,KAAKuxC,GAAS9Z,MAAOtoB,IAEpB,EAAAnP,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKskB,YAAY,EAAAnyB,iBAAiBqvC,WAAa,IAAM,EAAArvC,iBAAiBkrC,WACrG,EAAAzsC,KAAKmP,EAAE0rB,eAAenH,YAAY,0BAElC,IAAI8d,EAAa,EAAAxxC,KAAKmP,EAAE0rB,eAAe4W,SAAS,iBAC5CD,EAAW/xB,QAAQ/e,GAAG,aAEzB8wC,EAAW9pC,OACX,EAAA1H,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBqvC,YAC9D,EAAA5wC,KAAKmP,EAAE0rB,eAAelL,SAAS,iBAI/B6hB,EAAWzgC,OACX,EAAA/Q,KAAKmP,EAAE0rB,eAAezrB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBkrC,WAC9D,EAAAzsC,KAAKmP,EAAE0rB,eAAelL,SAAS,iBAMlC,IAAI+hB,EAAY,EAAA1xC,KAAK,kDAAkDmL,eAAe2iC,GAElF6E,EAAUppB,EAAK3hB,KAAKqH,QAAQ,KAAM,SACtC,GAA6B,MAAzB/X,EAAQu0I,eAA2D,MAAlCv0I,EAAQu0I,cAAc74F,SAC3D,CACC,IAAIC,EAAqB,GACzBA,EAAcC,SAAWvpB,EACzBspB,EAAc3yC,QAAUwxC,EAAU,GAClCmB,EAAclT,OAAS9qC,KACvB89C,EAAUz7C,EAAQu0I,cAAc74F,SAASC,GAG1C,IAAIpC,EAAgB,EAAAzwC,KAAK,gBAAkBupB,EAAK3hB,KAAO,WAAa2hB,EAAK3hB,KAAKqH,QAAQ,KAAM,SAAW,gCAAkC0jC,EAAU,WAAWxnC,eAAeumC,GAC7K,EAAA1xC,KAAKywC,GAAehZ,MAAOtoB,IAE1B,IAAIjZ,EAAQrB,KAAKq6G,mBAAmBp5G,IAAI,EAAAkK,KAAKmP,EAAE0rB,eAAelJ,QAAQ,MAAM,IACxEpI,EAAO10B,KAAKk3I,aAAa5hH,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAC/C,MAARqzB,GAAiB10B,KAAKm+C,gBAAgBpiC,SAASyN,OAAOkL,EAAKrzB,QAM9D,EAAA2J,eAAe2a,SAAS,IAAM,EAAAxa,KAAKnL,KAAKqL,WAAWsiC,YAAY,cAAe,IAAK,MAJnF3tC,KAAKg3I,WAAWxtH,OAAOkL,EAAKrzB,QAC5BrB,KAAKkqC,WAMH3vB,EAASnP,OAAS,GACrBpL,KAAKi8C,UAAUj8C,KAAKo8C,qBAAqB1nB,GAAOukB,IAI3C,WAAW53C,GAElB,GAAc,OAAVA,EAGH,YADArB,KAAK+tC,QAIN,IAAI+pG,EAAkC93I,KAAKk3I,aAAa5hH,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GACtFrB,KAAK82I,UAAUz1I,MAAMy2I,EAAkB/kI,MAAM,GAC7C/S,KAAKi3I,YAAYj3I,KAAK82I,UAAW92I,KAAK82I,UAAUz1I,QAASmoB,OAAOsuH,EAAkBz2I,QAG3E,OAAO0R,EAAc1H,GAE5B,IAAIhJ,EAAUrC,KAAK+sC,aACff,EAAkB3gC,EAA6B2gC,eAC/CgK,EAAgB3qC,EAA6B2qC,aAC7CsF,EAAgC,GAEpC,GAAY,IAARvoC,EAEH,EAAA5H,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMI,OACY,MAArC7Z,EAAQu0I,cAAelrI,aAE1B1L,KAAKw5C,OAAS,GACd,EAAAruC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,iBAAiBzB,eAGrC,GAAwB,GAAlB2xB,GAAuBgK,GAAiB3qC,EAA6BhK,MAAM+J,OACtF,CACC,EAAAD,KAAKnL,KAAKuqC,QAAQzuB,KAAK,MAAMjJ,OAE7B,IAAIykC,EAAQt3C,KAAKo7C,4BAA4BroC,GAC7CuoC,EAAgBhE,EAEhB,IAAIiE,EAASjE,EAAM16B,IAAIsY,GAAKA,EAAE7zB,OAC1Bm6C,EAAQlE,EAAM16B,IAAIsY,GAAKA,EAAEniB,MAE7B,IAAK,IAAI2hB,KAAQ4iB,EACjB,CACC,IAAIoE,EAAchnB,EAAKgnB,YACvB,KAAsB,MAAfA,GACP,CACC,IAAIC,EAAa37C,KAAKk3I,aAAa5hH,OAAOJ,GAAKA,EAAE7zB,OAASq6C,GAAa,GAClEH,EAAOx/B,SAAS2/B,KAEpBH,EAAO/nB,KAAKkoB,GACZF,EAAMhoB,KAAKmoB,EAAW5oC,OAEvB2oC,EAA6B,MAAdC,EAAsBA,EAAWD,iBAAch+B,EAC1Dg+B,GAAeC,EAAWt6C,QAC7Bq6C,OAAch+B,IAIjB,IAAK,IAAIk+B,KAAiBl/B,MAAMm/B,KAAsB,EAAA1wC,KAAKnL,KAAKuqC,QAAQzuB,KAAK,wBAExE0/B,EAAMz/B,SAASyN,OAAO,EAAAre,KAAKywC,GAAe9vC,KAAK,SAASgwC,UAE3D,EAAA3wC,KAAKywC,GAAe9e,QAAQ,iBAAiB5gB,OAC7C,EAAA/Q,KAAKywC,GAAe9e,QAAQ,iBAAiBA,QAAQ,iBAAiB5gB,OAEtE,EAAA/Q,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4B+iB,YAAY,0BAC1F,EAAA1zB,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4BvB,SAAS,KAAKskB,YAAY,EAAAnyB,iBAAiBqvC,WAAa,IAAM,EAAArvC,iBAAiBkrC,WAC7J,EAAAzsC,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4Bgf,SAAS,cACvF,EAAA3vB,KAAKywC,GAAe9e,QAAQ,iBAAiBhhB,KAAK,4BAA4BvB,SAAS,KAAKugB,SAAS,EAAApuB,iBAAiBkrC,YAIzH,OAAO0D,EAGA,4BAA4Bj6C,GAEnCA,EAAQA,EAAMiqB,cACd,IAAIgzB,EAAgC,GAOpC,OANuBt+C,KAAKk3I,aAAat6H,IAAIsY,GAAK1L,OAAO0L,EAAEniB,MAAMuY,eAC/C5R,QAAQ,CAACwb,EAAGrY,MAEJ,GAArBqY,EAAEH,QAAQ1zB,IACbi9C,EAAc9qB,KAAKxzB,KAAKk3I,aAAar6H,MAEhCyhC,EAIR,aAEC,OAAOt+C,KAAKqC,WAl3Bd,oBAu3BA,MAAM01I,UAA6B,EAAAl5H,iBAKnC,MAAMy4H,UAAsCS,GAM5C,MAAMP,UAAsCO,GAU5C,MAAMN,GAMN,MAAME,UAAkCI,GAMxC,MAAMH,UAAiCG,K,iMCj7BvC,aACA,OAMA,MAAa9+H,UAAgB,EAAAiwB,UAM5B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAI,EAAA0G,cAEM,MAAjB1G,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,KACrB,MAAlBlZ,EAAQmZ,SAAgBnZ,EAAQmZ,OAAS,KACzB,MAAhBnZ,EAAQ2G,OAAc3G,EAAQ2G,KAAO,EAAAC,cAAcC,KAChC,MAAnB7G,EAAQmwE,UAAiBnwE,EAAQmwE,QAAU,GACH,MAAxCnwE,EAAQ21I,+BAAsC31I,EAAQ21I,8BAA+B,GAC/D,MAAtB31I,EAAQ41I,aAAoB51I,EAAQ41I,YAAa,GAE9B,MAAnB51I,EAAQ61I,UAAiB71I,EAAQ61I,SAAU,GAC3C71I,EAAQ2G,MAAQ,EAAAC,cAAca,aAAkC,IAApBzH,EAAQ61I,UAAmB71I,EAAQ61I,SAAU,IACrE,IAApB71I,EAAQ61I,UAAkB71I,EAAQ61I,QAAU,CAAE9kH,GAAG,EAAMytE,GAAG,IAEzC,MAAjBx+F,EAAQ4T,QAAe5T,EAAQ4T,OAAQ,IACrB,IAAlB5T,EAAQ4T,QAAgB5T,EAAQ4T,MAAQ,IAAI,EAAAqJ,oBACxB,MAApBjd,EAAQ81I,WAAkB91I,EAAQ81I,UAAW,IACxB,IAArB91I,EAAQ81I,WAAmB91I,EAAQ81I,SAAW,IAAI,EAAA74H,oBAE5B,MAAtBjd,EAAQ+1I,aAAoB/1I,EAAQ+1I,YAAa,IAC1B,IAAvB/1I,EAAQ+1I,aAAqB/1I,EAAQ+1I,WAAa,IAAI,EAAA54H,yBAEpC,MAAlBnd,EAAQg2I,SAAgBh2I,EAAQg2I,QAAS,IACtB,IAAnBh2I,EAAQg2I,SAAiBh2I,EAAQg2I,OAAS,IAAI,EAAA54H,qBAE3B,MAAnBpd,EAAQ+T,UAAiB/T,EAAQ+T,SAAU,IACvB,IAApB/T,EAAQ+T,UAAkB/T,EAAQ+T,QAAU,IAAI,EAAAwJ,sBAGpDqJ,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBmG,OACxC7I,KAAKs4I,SAAW,IAAIC,EAGpB,IAAItiI,OAAayH,EACjB,IAAsB,IAAlBrb,EAAQ4T,MACZ,CACC,GAA8B,iBAAlB5T,EAAa,MACzB,CACC,IAAI0Q,EAAO1Q,EAAQ4T,MACnB5T,EAAQ4T,MAAQ,IAAI,EAAAqJ,mBACpBjd,EAAQ4T,MAAMlD,KAAOA,EAGrB1Q,EAAQ4T,MAAc++C,SAAU,EACN,MAAvB3yD,EAAQ4T,MAAMiF,QAAe7Y,EAAQ4T,MAAMiF,MAAQ,WAC7B,MAAtB7Y,EAAQ4T,MAAMw1E,OAAcppF,EAAQ4T,MAAMw1E,KAAO,IAAI,EAAAlsE,WAC1B,MAA3Bld,EAAQ4T,MAAMw1E,KAAK9kE,OAActkB,EAAQ4T,MAAMw1E,KAAK9kE,KAAO,IAC/D1Q,EAAQ5T,EAAQ4T,MAEjBjW,KAAKs4I,SAASriI,MAAQA,EAItB,IAAIkiI,OAAgBz6H,EACpB,IAAyB,IAArBrb,EAAQ81I,SACZ,CACC,GAAiC,iBAArB91I,EAAgB,SAC5B,CACC,IAAI0Q,EAAO1Q,EAAQ81I,SACnB91I,EAAQ81I,SAAW,IAAI,EAAA74H,mBACvBjd,EAAQ81I,SAASplI,KAAOA,EAGxB1Q,EAAQ81I,SAAiBnjF,SAAU,EACN,MAA1B3yD,EAAQ81I,SAASj9H,QAAe7Y,EAAQ81I,SAASj9H,MAAQ,WAC7Di9H,EAAW91I,EAAQ81I,SAEpBn4I,KAAKs4I,SAASE,SAAWL,EAIzB,IAAIC,OAAkB16H,GACK,IAAvBrb,EAAQ+1I,YAEqB,MAA5B/1I,EAAQ+1I,WAAWl9H,QAAe7Y,EAAQ+1I,WAAWl9H,MAAQ,WAChC,MAA7B7Y,EAAQ+1I,WAAWK,SAAgBp2I,EAAQ+1I,WAAWK,OAAS,EAAA1pI,0BAA0Bm3G,KAC7D,MAA5B7jH,EAAQ+1I,WAAWz8G,QAAet5B,EAAQ+1I,WAAWz8G,MAAQ,EAAA1sB,wBAAwBi3G,KACvD,MAA9B7jH,EAAQ+1I,WAAW5lE,UAAiBnwE,EAAQ+1I,WAAW5lE,QAAU,CAAEzrD,KAAM,EAAGyV,MAAO,IACvF47G,EAAa/1I,EAAQ+1I,WAEU,MAA3B/1I,EAAQq2I,kBAEXN,EAAWO,UAAY,CAACt3I,EAAY2iG,KAEnC,IAAI40C,EAAqB,IAAI,EAAAl4H,wBAI7B,OAHAk4H,EAAmB9tG,OAAS9qC,KAC5B44I,EAAmBv3I,MAAQA,EAC3Bu3I,EAAmB50C,QAAUA,EACtB3hG,EAASq2I,gBAAiBE,KAInCR,EAAWS,UAAY,CACtBC,MAAQ90C,IAGP,GADAA,EAAQ+0C,SAAU,EACW,MAAzB12I,EAAS22I,aACb,CACC,IAAIx0F,EAAa,IAAI,EAAAjkC,qBACrBikC,EAAW1Z,OAAS9qC,KACpBwkD,EAAWw/C,QAAUA,EACrB3hG,EAAS22I,aAAax0F,GAEvB,OAAO,GAERy0F,MAAQj1C,IAGP,GADAA,EAAQ+0C,SAAU,EACW,MAAzB12I,EAAS62I,aACb,CACC,IAAIC,EAAa,IAAI,EAAA34H,qBACrB24H,EAAWruG,OAAS9qC,KACpBm5I,EAAWn1C,QAAUA,EACrB3hG,EAAS62I,aAAaC,GAEvB,OAAO,GAERv2G,MAAQohE,IAEP,GAA6B,MAAzB3hG,EAAS+2I,aACb,CACC,IAAItzF,EAAa,IAAI,EAAArlC,qBACrBqlC,EAAWhb,OAAS9qC,KACpB8lD,EAAWk+C,QAAUA,EACrB3hG,EAAS+2I,aAAatzF,OAMzBsyF,EAAa,CAAEpjF,SAAS,GAEzBh1D,KAAKs4I,SAASe,WAAajB,EAI3B,IAAIhiI,EAAe,CAAE6zB,SAAS,IACN,IAApB5nC,EAAQ+T,UAEV/T,EAAQ+T,QAAgB6zB,SAAU,EACnC7zB,EAAU/T,EAAQ+T,SAEnBpW,KAAKs4I,SAASliI,QAAUA,EAIxB,IAAIiiI,EAAc,CAAErjF,SAAS,GA6E7B,IA5EuB,IAAnB3yD,EAAQg2I,SAEXA,EAAS,CACRrjF,SAAS,EACTzyD,SAAUF,EAAQg2I,OAAO91I,SACzBo5B,MAAOt5B,EAAQg2I,OAAO18G,MACtB29G,OAAQj3I,EAAQg2I,OAAOiB,OACvBrjI,MAAO5T,EAAQg2I,OAAOpiI,MACtBsuC,QAAS,CAACjqC,EAAQ2pF,EAAiBo0C,KAElC,GAA8B,MAA1Bh2I,EAASk3I,cACb,CACC,IAAI/0F,EAAa,IAAI,EAAArkC,sBACrBqkC,EAAW1Z,OAAS9qC,KACpBwkD,EAAWz/B,MAAQzK,EACnBkqC,EAAWy/C,WAAaA,EACxBz/C,EAAW6zF,OAASA,EACpBh2I,EAASk3I,cAAc/0F,KAGzBspC,QAAS,CAACxzE,EAAQ2pF,EAAiBo0C,KAElC,GAA8B,MAA1Bh2I,EAASm3I,cACb,CACC,IAAIL,EAAa,IAAI,EAAA/4H,sBACrB+4H,EAAWruG,OAAS9qC,KACpBm5I,EAAWp0H,MAAQzK,EACnB6+H,EAAWl1C,WAAaA,EACxBk1C,EAAWd,OAASA,EACpBh2I,EAASm3I,cAAcL,KAGzBh9G,QAAS,CAAC7hB,EAAQ2pF,EAAiBo0C,KAUlC,GARIh2I,EAAS21I,+BAERK,EAAOoB,MAAMC,OAAO1wI,OAAS,EAAAC,cAAcS,KAAO2uI,EAAOoB,MAAMC,OAAO1wI,OAAS,EAAAC,cAAcO,MAChGX,MAAM8wI,YAAYC,SAASC,UAAUjrD,QAAQypD,OAAOl8G,QAAQ7hB,EAAG2pF,EAAYo0C,GAE3ExvI,MAAMs8E,SAASyJ,QAAQypD,OAAOl8G,QAAQ7hB,EAAG2pF,EAAYo0C,IAGzB,MAA1Bh2I,EAASy3I,cACb,CACC,IAAIh0F,EAAa,IAAI,EAAAzlC,sBACrBylC,EAAWhb,OAAS9qC,KACpB8lD,EAAW/gC,MAAQzK,EACnBwrC,EAAWm+C,WAAaA,EACxBn+C,EAAWuyF,OAASA,EACpBh2I,EAASy3I,cAAch0F,OAK3B9lD,KAAKs4I,SAASD,OAASA,EAID,MAAlBh2I,EAAQ03I,SAAgB13I,EAAQ03I,OAAS,IACrB,MAApB13I,EAAQ03I,OAAO3mH,IAAW/wB,EAAQ03I,OAAO3mH,EAAI,IACjD/wB,EAAQ03I,OAAO3mH,EAAE4mH,MAAQ,KACD,MAApB33I,EAAQ03I,OAAOl5C,IAAWx+F,EAAQ03I,OAAOl5C,EAAI,IACjDx+F,EAAQ03I,OAAOl5C,EAAEm5C,MAAQ,KAErB33I,EAAQ2G,MAAQ,EAAAC,cAAcS,KAAOrH,EAAQ2G,MAAQ,EAAAC,cAAcO,QAEtEnH,EAAQ03I,OAAO3mH,EAAE4hC,SAAU,EAC3B3yD,EAAQ03I,OAAOl5C,EAAE7rC,SAAU,IAGJ,IAApB3yD,EAAQ61I,UAEX71I,EAAQ03I,OAAO3mH,EAAE8kH,QAAU71I,EAAQ61I,QAAQ9kH,EAC3C/wB,EAAQ03I,OAAOl5C,EAAEq3C,QAAU71I,EAAQ61I,QAAQr3C,GAGR,MAAhCx+F,EAAQ43I,qBACZ,CACC,IAAI79H,EAAW,CAAC/a,EAAY2iG,KAE3B,IAAI40C,EAAqB,IAAI,EAAAl4H,wBAI7B,OAHAk4H,EAAmB9tG,OAAS9qC,KAC5B44I,EAAmBv3I,MAAQA,EAC3Bu3I,EAAmB50C,QAAUA,EACtB3hG,EAAS43I,qBAAsBrB,IAGnCv2I,EAAQ2G,MAAQ,EAAAC,cAAcG,cAEjC/G,EAAQ03I,OAAO3mH,EAAE8mH,MAAQ,CACxB99H,SAAUA,GAKX/Z,EAAQ03I,OAAOl5C,EAAEq5C,MAAQ,CACxB99H,SAAUA,GAKQ,MAAjB/Z,EAAQ83I,QAEX93I,EAAQ03I,OAAO3mH,EAAEmD,IAAMl0B,EAAQ83I,MAAMC,KACrC/3I,EAAQ03I,OAAO3mH,EAAEiD,IAAMh0B,EAAQ83I,MAAME,KACrCh4I,EAAQ03I,OAAOl5C,EAAEtqE,IAAMl0B,EAAQ83I,MAAMG,KACrCj4I,EAAQ03I,OAAOl5C,EAAExqE,IAAMh0B,EAAQ83I,MAAMI,MAKX,MAAvBl4I,EAAQm4I,cAAqBn4I,EAAQm4I,YAAc,IAAI,EAAA16H,0BACvB,MAAhCzd,EAAQm4I,YAAYC,WAAkBp4I,EAAQm4I,YAAYC,UAAW,GAI/C,MAAtBp4I,EAAQw7F,aAAoBx7F,EAAQw7F,WAAa,IACrD79F,KAAK69F,WAAWx7F,EAAQw7F,YAKzB,aAEC,OAAQ79F,KAAKqL,UAAgCo5F,YAAYrqF,QAAQ,yBAA0B,IAG5F,WAAWyjF,GAES,MAAf79F,KAAK06I,QACR16I,KAAK06I,OAAOC,UAEb,IAAIt4I,EAAUrC,KAAK+sC,aACfusG,EAAmB,GAEvB,GAAkB,MAAdz7C,EACJ,CACC,IAAK,IAAI+8C,KAAW/8C,EAGfx7F,EAAQ2G,MAAQ,EAAAC,cAAcW,MAAQgxI,EAAQ5xI,MAAQ,EAAAC,cAAcW,MAE3C,MAAxBgxI,EAAQC,eAAsBD,EAAQC,aAAe,IAAI,EAAAx7H,mBAC1B,MAA/Bu7H,EAAQC,aAAa13G,SAAgBy3G,EAAQC,aAAa13G,OAAS,UACrC,MAA9By3G,EAAQC,aAAaC,QAAeF,EAAQC,aAAaC,MAAQ,2BACnC,MAA9BF,EAAQC,aAAaE,QAAeH,EAAQC,aAAaE,MAAQ,2BACpEH,EAAgBI,KAAOJ,EAAQC,cAGxBx4I,EAAQ2G,MAAQ,EAAAC,cAAcK,OAEZ,MAAtBsxI,EAAQK,aAAoBL,EAAQK,YAAa,GACjDL,EAAQK,aAAaL,EAAgBM,QAAU,KAGzB,MAAvBN,EAAQ/T,cAAqB+T,EAAQ/T,YAAc,GAClC,MAAjB+T,EAAQ3kI,QACV2kI,EAAgB7/G,MAAQ6/G,EAAQ3kI,OAEZ,MAAlB2kI,EAAQtB,QACXA,EAAO1kH,YAAYgmH,EAAQtB,QAG7Bt5I,KAAKwkH,YAAc3mB,EACnB,IAAIs9C,EAAY,CAAE7B,OAAQA,EAAQ8B,SAAUv9C,GAC5C79F,KAAK4I,YAAYuyI,GAElB,OAAOn7I,KAAKwkH,YAGL,YAAY22B,GAEnB,IAAI94I,EAAUrC,KAAK+sC,aACf/jC,EAAQ3G,EAAQ2G,MAAQ,EAAAC,cAAcG,eAAiB/G,EAAQ2G,MAAQ,EAAAC,cAAca,WAAc,EAAAb,cAAcC,IAAM7G,EAAQ2G,KAC/H3G,EAAQ2G,MAAQ,EAAAC,cAAcW,OAAMZ,EAAO,EAAAC,cAAcK,MAE7D,IAAIowI,EAAS,CACZ1wI,KAAMA,EACNq3B,KAAM86G,EACN94I,QAAS,CACR41I,WAAY51I,EAAQ41I,WACpBoD,oBAAqBh5I,EAAQm4I,YAAaC,SAC1CD,YAAan4I,EAAQm4I,YAAan5I,MAClC04I,OAAQ13I,EAAQ03I,OAChBuB,QAASj5I,EAAQi5I,QACjB1sD,QAAS,CACRyqD,WAAYr5I,KAAKs4I,SAASe,WAC1BpjI,MAAOjW,KAAKs4I,SAASriI,MACrBuiI,SAAUx4I,KAAKs4I,SAASE,SACxBH,OAAQr4I,KAAKs4I,SAASD,OACtBjiI,QAASpW,KAAKs4I,SAASliI,SAExBmlI,UAAYl5I,EAAQ2G,MAAQ,EAAAC,cAAcG,cAAiB,IAAM,KAElEosG,OAAQ,CAAEhjC,QAASnwE,EAAQmwE,SAC3Boc,QAAS,CAAC4sD,kBAEXx7I,KAAK06I,OAAS,IAAI7xI,MAAM7I,KAAKqL,UAAWquI,GAGzC,aAEC,OAAO15I,KAAKqC,WAtWd,YA2WA,yBAA8B4W,IAC9B,mCAAwCA,IACxC,0BAA+BA,IAC/B,2BAAgCA,IAChC,yBAA8BA,IAC9B,0BAA+BA,IAC/B,gCAAqCA,IAIrC,MAAMs/H,K,kHC5XN,aACA,OACA,OAIA,MAAakD,UAAwB,EAAA1wI,kBAArC,oBAaA,MAAaf,UAAiB,EAAAk/B,UAI7B,YAAY79B,EAAsBhJ,GAajC,GAVe,MAAXA,IACHA,EAAU,IAAIo5I,GAEM,MAAjBp5I,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,QACZ,MAA3BlZ,EAAQ+gD,kBAAyB/gD,EAAQ+gD,gBAAkB,WAG/Dn6B,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBsH,UAGnB,MAAjB3H,EAAQi1C,MAEX,IAAK,IAAI5iB,KAAQryB,EAAQi1C,MAMxB,GAJ0B,MAAtB5iB,EAAKsH,gBAAuBtH,EAAKsH,cAAgB,IAAI,EAAAhe,eACpB,MAAjC0W,EAAKsH,cAAc2e,aAAoBjmB,EAAKsH,cAAc2e,WAAat4C,EAAQ+gD,iBAG7D,MAAlB1uB,EAAKlyB,UACT,CACMkyB,EAAKlyB,UAAW0I,WAAW,OAC/BwpB,EAAKlyB,UAAY,IAAMkyB,EAAKlyB,WAE7B,IAAIk5I,EAAchnH,EAAKyH,QACvBzH,EAAKyH,QAAW7hB,IAEf,IAAIqhI,EAAgB37I,KAAKs3C,QAAQhiB,OAAOJ,GAAoB,MAAfA,EAAE1yB,WAAmBoa,IAAIsY,GAAKA,EAAE1yB,WAC7E,IAAK,IAAIA,KAAam5I,EAEhBn5I,EAAW0I,WAAW,OAC1B1I,EAAY,IAAMA,GAEnB,EAAA2I,KAAK3I,GAAWqQ,OAEjB,EAAA1H,KAAKupB,EAAKlyB,WAAW0Z,OAEF,MAAfw/H,GACHA,EAAYphI,IAQjBjY,EAAQkZ,MAAQ,OAChBlZ,EAAQy5B,kBAAepe,EACvBrb,EAAQ0T,IAAM,qBAAuB1T,EAAQ+gD,gBAAkB,IAC/D/gD,EAAQm5B,YAAS9d,EACjB1d,KAAK47I,aAAe,EAAA94I,kBAAkBT,EAAgBrC,KAAKqL,WAI5D,MAAMisC,GAEL,OAAOt3C,KAAK47I,aAAatkG,MAAMA,GAGhC,QAAQ5iB,EAAoBxY,GAAO,GAElC,IAAI7Z,EAAUrC,KAAK+sC,aAMnB,GAL0B,MAAtBrY,EAAKsH,gBAAuBtH,EAAKsH,cAAgB,IAAI,EAAAhe,eACpB,MAAjC0W,EAAKsH,cAAc2e,aAAoBjmB,EAAKsH,cAAc2e,WAAat4C,EAAQ+gD,iBAEnFpjD,KAAK47I,aAAa18F,QAAQxqB,GAEtBxY,GAEmB,MAAlBwY,EAAKlyB,UACT,CACMkyB,EAAKlyB,UAAW0I,WAAW,OAC/BwpB,EAAKlyB,UAAY,IAAMkyB,EAAKlyB,WAE7B,IAAIk5I,EAAchnH,EAAKyH,QACvBzH,EAAKyH,QAAW7hB,IAEf,IAAIqhI,EAAgB37I,KAAKs3C,QAAQhiB,OAAOJ,GAAoB,MAAfA,EAAE1yB,WAAmBoa,IAAIsY,GAAKA,EAAE1yB,WAC7E,IAAK,IAAIA,KAAam5I,EAEhBn5I,EAAW0I,WAAW,OAC1B1I,EAAY,IAAMA,GAEnB,EAAA2I,KAAK3I,GAAWqQ,OAEjB,EAAA1H,KAAKupB,EAAKlyB,WAAW0Z,OAEF,MAAfw/H,GACHA,EAAYphI,IAGd,EAAAnP,KAAKupB,EAAKlyB,WAAW0Z,QAKxB,KAAK7a,GAEJ,OAAOrB,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAGnD,WAAWA,GAEVrB,KAAK47I,aAAav8F,WAAWh+C,GAE7B,IAAIwb,EAAQ7c,KAAKs3C,QAAQ16B,IAAIsY,GAAKA,EAAE7zB,OAAO0zB,QAAQ1zB,IACrC,GAAVwb,GACH7c,KAAKs3C,QAAQtiB,OAAOnY,EAAO,GAE5B,IAAI6X,EAAO10B,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAC1C,MAARqzB,GAAkC,MAAlBA,EAAKlyB,YAEnBkyB,EAAKlyB,UAAW0I,WAAW,OAC/BwpB,EAAKlyB,UAAY,IAAMkyB,EAAKlyB,WAE7B,EAAA2I,KAAKupB,EAAKlyB,WAAW6X,UAIvB,iBAEC,IAAIi9B,EAAQ,EAAAtsC,eAAeoqC,UAAUp1C,KAAKs3C,SAC1C,IAAK,IAAI5iB,KAAQ4iB,EAChBt3C,KAAKq/C,WAAW71B,OAAOkL,EAAKrzB,QAG9B,UAAUk6C,GAETv7C,KAAK47I,aAAajzF,UAAUpN,GAG7B,SAASl6C,GAERrB,KAAK47I,aAAalzF,SAASrnD,GAG5B,eAECrB,KAAK47I,aAAaC,eAGnB,UAAUtgG,GAETv7C,KAAK47I,aAAa/yF,UAAUtN,GAE5B,IAAK,IAAIl6C,KAASk6C,EACjBv7C,KAAK4oD,SAASvnD,GAGhB,SAASA,EAAYwR,GAAO,GAI3B,GAFA7S,KAAK47I,aAAahzF,SAASvnD,GAEvBwR,EACJ,CACC,IAAI6hB,EAAO10B,KAAKs3C,QAAQhiB,OAAOJ,GAAKA,EAAE7zB,OAASA,GAAO,GAC1C,MAARqzB,GAAkC,MAAlBA,EAAKlyB,WACxB,EAAA2I,KAAKupB,EAAKlyB,WAAWqQ,QAIxB,aAAaipI,GAAc,GAI1B,GAFA97I,KAAK47I,aAAaG,eAEdD,EAEH,IAAK,IAAIpnH,KAAQ10B,KAAKs3C,QAET,MAAR5iB,GAAkC,MAAlBA,EAAKlyB,WACxB,EAAA2I,KAAKupB,EAAKlyB,WAAWqQ,OAKzB,YAAYxR,EAAY+3B,GAOvB,OALa,MAATA,IAECA,EAAOp5B,KAAK0oD,SAASrnD,GACpBrB,KAAK4oD,SAASvnD,IAEbrB,KAAK47I,aAAaI,YAAY36I,EAAO+3B,GAG7C,WAAW/3B,GAEVrB,KAAK47I,aAAapyF,WAAWnoD,GAG9B,YAAYk6C,GAEX,IAAK,IAAIl6C,KAASk6C,EACjBv7C,KAAK47I,aAAapyF,WAAWnoD,GAG/B,YAAYA,GAEXrB,KAAK47I,aAAanyF,YAAYpoD,GAG/B,aAAak6C,GAEZ,IAAK,IAAIl6C,KAASk6C,EACjBv7C,KAAK47I,aAAanyF,YAAYpoD,GAGhC,OAAOk6C,EAA6BpL,GAAgB,GAEnDnwC,KAAK47I,aAAa7zH,OAAOwzB,EAAQpL,GAGlC,YAAYtzB,EAAeszB,GAAgB,GAE1CnwC,KAAK47I,aAAaK,YAAYp/H,EAAOszB,GAGtC,QAEC,OAAOnwC,KAAK47I,aAAav6I,QAG1B,eAAeA,GAEd,OAAOrB,KAAK47I,aAAaxyF,eAAe/nD,GAGzC,eAAewb,GAEd,OAAO7c,KAAK47I,aAAa7yF,eAAelsC,GAGzC,YAAYxb,EAAe+U,GAE1B,OAAOpW,KAAK47I,aAAaM,YAAY76I,EAAO+U,GAG7C,SAAS/U,EAAe0R,EAAes2C,GAAgB,GAEtD,OAAOrpD,KAAK47I,aAAaO,SAAS96I,EAAO0R,EAAMs2C,GAGhD,gBAAgBxsC,EAAe9J,GAE9B,OAAO/S,KAAK47I,aAAaQ,gBAAgBv/H,EAAO9J,GAKjD,SAECkW,MAAMoT,SACNr8B,KAAK47I,aAAav/G,SAGnB,UAECpT,MAAMqT,UACNt8B,KAAK47I,aAAat/G,UAInB,aAEC,OAAOt8B,KAAKqC,WA9Qd,aAoR4B,EAAAwc,iB,gHCvS5B,aACA,OACA,QAGA,MAAaw9H,UAAuB,EAAAtxI,kBAApC,mBAoBA,MAAab,UAAgB,EAAAg/B,UAM5B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIg6I,GAES,MAApBh6I,EAAQE,WAAkBF,EAAQE,SAAW,EAAAoP,oBAAoBm3E,cAC/C,MAAlBzmF,EAAQi6I,SAAgBj6I,EAAQi6I,OAAS,EAAA9qI,kBAAkB+qI,OACzC,MAAlBl6I,EAAQm6I,SAAgBn6I,EAAQm6I,OAAS,EAAA/qI,kBAAkBmgB,SAC3C,MAAhBvvB,EAAQ2G,OAAc3G,EAAQ2G,KAAO,EAAA0I,gBAAgBkgB,SAE5B,MAAzBvvB,EAAQ25B,gBAAuB35B,EAAQ25B,cAAgB,IAAI,EAAAhe,eACvB,MAApC3b,EAAQ25B,cAAc2e,aAAoBt4C,EAAQ25B,cAAc2e,WAAa,WAC1C,MAAnCt4C,EAAQ25B,cAAcmnB,YAAmB9gD,EAAQ25B,cAAcmnB,UAAY,QAC3C,MAAhC9gD,EAAQ25B,cAAcqnB,SAAgBhhD,EAAQ25B,cAAcqnB,OAAS,QAE7C,MAAxBhhD,EAAQgsD,eAAsBhsD,EAAQgsD,aAAe,IAAIouF,GACvB,MAAlCp6I,EAAQgsD,aAAaquF,YAAmBr6I,EAAQgsD,aAAaquF,UAAY,KACvC,MAAlCr6I,EAAQgsD,aAAaq6B,YAAmBrmF,EAAQgsD,aAAaq6B,UAAY,EAAAp3E,kBAAkB8gB,MAEnE,MAAxB/vB,EAAQgmF,eAAsBhmF,EAAQgmF,aAAe,IAAIs0D,GACvB,MAAlCt6I,EAAQgmF,aAAau0D,YAAmBv6I,EAAQgmF,aAAau0D,UAAY,KACvC,MAAlCv6I,EAAQgmF,aAAaK,YAAmBrmF,EAAQgmF,aAAaK,UAAY,EAAAn3E,kBAAkB6gB,MAEhE,MAA3B/vB,EAAQ65C,kBAAyB75C,EAAQ65C,gBAAkB75C,EAAQ8gC,QAGvEla,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgBwH,SAGxC,IAAIoyI,EAA8BO,EAAoBC,WAClDN,EAA8BK,EAAoBE,WACtD,OAAQ16I,EAAQi6I,QAEf,KAAK,EAAA9qI,kBAAkB+qI,MAErBD,EAASO,EAAoBC,WACzBz6I,EAAQm6I,QAAU,EAAA/qI,kBAAkBmgB,UACvC4qH,EAASK,EAAoBE,YAE/B,MACD,KAAK,EAAAvrI,kBAAkBwrI,MAErBV,EAASO,EAAoBG,MACzB36I,EAAQm6I,QAAU,EAAA/qI,kBAAkBmgB,UACvC4qH,EAASK,EAAoBG,OAE/B,MACD,KAAK,EAAAxrI,kBAAkByrI,MAErBX,EAASO,EAAoBI,MACzB56I,EAAQm6I,QAAU,EAAA/qI,kBAAkBmgB,UACvC4qH,EAASK,EAAoBK,MAKjC,GAAI76I,EAAQm6I,QAAU,EAAA/qI,kBAAkBmgB,QAEvC,OAAQvvB,EAAQm6I,QAEf,KAAK,EAAA/qI,kBAAkB0rI,MAAOX,EAASK,EAAoBE,WAAY,MACvE,KAAK,EAAAtrI,kBAAkBurI,MAAOR,EAASK,EAAoBG,MAAO,MAClE,KAAK,EAAAvrI,kBAAkByrI,KAAMV,EAASK,EAAoBK,KAIxD76I,EAAQi6I,QAAU,EAAA9qI,kBAAkB4rI,QAEvC,EAAAjyI,KAAKnL,KAAKmjC,UAAUhnB,GAAGmgI,EAAShiI,IAE/BkK,OAAOwa,WAAW,IAAMh/B,KAAKkc,OAAQ7Z,EAASgsD,aAAcquF,aAG7D,EAAAvxI,KAAKnL,KAAKmjC,UAAUhnB,GAAGqgI,EAASliI,IAE3BjY,EAASm6I,QAAU,EAAA/qI,kBAAkB2rI,OACxC54H,OAAOwa,WAAW,IAAMh/B,KAAK6S,OAAQ4e,OAAOpvB,EAASgmF,aAAcu0D,cAGrE,EAAAzxI,KAAKnL,KAAKsC,aAAa6Z,GAAGqgI,EAASliI,IAE9BjY,EAASm6I,QAAU,EAAA/qI,kBAAkB2rI,OACxC54H,OAAOwa,WAAW,IAAMh/B,KAAK6S,OAAQ4e,OAAOpvB,EAASgmF,aAAcu0D,cAGjEJ,GAAUK,EAAoBG,OAAS36I,EAAQm6I,QAAU,EAAA/qI,kBAAkB2rI,OAC9E,EAAAjyI,KAAKa,SAASC,MAAMkQ,GAAG,QAAS,IAAMqI,OAAOwa,WAAW,IAAMh/B,KAAK6S,OAAQ4e,OAAOpvB,EAASgmF,aAAcu0D,cAK5G,KAAK5mI,GAEJ,GAAsB,MAAlBhW,KAAKq9I,WAAqBr9I,KAAKq9I,UAAUjhH,UAC5C,OAED,IAAI/5B,EAAUrC,KAAK+sC,aAkBnB,GAfe,MAAX/2B,GACHhW,KAAKgW,QAAQA,GAES,MAAnB3T,EAAQ2T,UACX3T,EAAQ2T,QAAUhW,KAAKmjC,SAAS2hC,WAGjC77C,MAAM/M,OAEL7Z,EAAQgmF,aAAqBE,UAAW,EACzCvoF,KAAKq9I,UAAY,IAAI,EAAArqI,SAAS3Q,EAAQ2T,QAAS3T,GAE/C,EAAA8I,KAAKnL,KAAKq9I,UAAU/6I,aAAagU,eAAejU,EAAQ65C,iBAGlC,MAAlB75C,EAAQi7I,OACZ,CACC,IAAIC,EAAY,IAAIC,EACpBD,EAAUzyG,OAAS9qC,KACnBu9I,EAAUvnI,QAAUhW,KAAKgW,UACzB3T,EAAQi7I,OAAOC,IAKjB,OAEC,GAAsB,MAAlBv9I,KAAKq9I,YAAsBr9I,KAAKq9I,UAAUjhH,UAC7C,OAED,IAAI/5B,EAAUrC,KAAK+sC,aAMnB,GAJA9jB,MAAMpW,OACN7S,KAAKq9I,UAAUxqI,OAGO,MAAlBxQ,EAAQo7I,OACZ,CACC,IAAIC,EAAY,IAAIC,EACpBD,EAAU5yG,OAAS9qC,KACnB09I,EAAU1nI,QAAUhW,KAAKgW,UACzB3T,EAAQo7I,OAAOC,IAKjB,QAAQtkH,GAGP,OADAnQ,MAAMmT,QAAQhD,GACY,MAAlBp5B,KAAKq9I,WAA6Br9I,KAAKq9I,UAAUjhH,QAAQhD,GAGlE,QAAQpjB,GAEP,IAAI3T,EAAUrC,KAAK+sC,aAInB,OAHe,MAAX/2B,IACH3T,EAAQ2T,QAAUA,GAEZ3T,EAAQ2T,QAGhB,SAEC,OAAO,EAAA7K,KAAKnL,KAAK+sC,aAAa5J,QAAQ,GAGvC,aAEC,OAAOnjC,KAAKqC,WA9Kd,YAoLA,MAAMs6I,GAON,MAAMF,GAMN,IAAKI,GAAL,SAAKA,GAEJ,gBACA,gBACA,0BACA,cACA,0BAND,CAAKA,MAAmB,KASxB,MAAMW,UAAyB,EAAA3+H,iBAM/B,MAAM8+H,UAAyB,EAAA9+H,mB,ufCzO/B,aACA,OASA,MAAazU,UAAyB,EAAA8+B,UAQrC,YAAY79B,EAAsBhJ,GAkDjC,GA/Ce,MAAXA,IACHA,EAAU,IAAI,EAAA0e,yBAEW,MAAtB1e,EAAQu7I,aAAoBv7I,EAAQu7I,YAAa,GACvB,MAA1Bv7I,EAAQwuF,iBAAwBxuF,EAAQwuF,gBAAiB,GACrC,MAApBxuF,EAAQmsB,WAAkBnsB,EAAQmsB,SAAW,SAClB,MAA3BnsB,EAAQw7I,kBAAyBx7I,EAAQw7I,gBAAkB,GAC3C,MAAhBx7I,EAAQskB,OAActkB,EAAQskB,KAAO,IACd,MAAvBtkB,EAAQ6sF,cAAqB7sF,EAAQ6sF,aAAc,GAGvDjmE,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB0H,kBAGxCpK,KAAK89I,eAAiB,EAAAl7I,aAAa,CAClCmY,KAAM,EAAArO,iBAAiBqxI,WACvBhoI,IAAK,mEAAqE1T,EAAQskB,KAAO,MACzFlJ,IAAK,cACLwlC,aAAc,CAAEhoC,SAAU5Y,EAAQskB,MAClCwV,QAAU7hB,IAET,GAAKta,KAAKiqC,UAAV,CAMA,GAAwB,MAApB5nC,EAAS85B,QACb,CACC,IAAI2pB,EAAa,IAAIk4F,EAIrB,GAHAl4F,EAAWhb,OAAS9qC,KACpBqC,EAAS85B,QAAQ2pB,GAEbA,EAAW/hC,qBACd,OAGoB,eAAlBzJ,EAAEwwB,OAAOrtB,MACZzd,KAAKujB,QAELvjB,KAAKixF,YAjBL32E,EAAE0e,mBAmBFh5B,KAAKqL,WAER,EAAAsK,IAAI3V,KAAK89I,eAAezyI,UAAW,CAAE6K,MAAO,6BAA8B,GAGpE,4BAA6BsO,QAAa,sBAAuBA,OASvE,CACC,IAAIy5H,EAAoBC,yBAA2BC,kBAC/CC,EAAoBC,yBAA2BC,kBASnD,GAPAt+I,KAAKu+I,aAAe,IAAIN,EACxBj+I,KAAKu+I,aAAaX,WAAav7I,EAAQu7I,WACvC59I,KAAKu+I,aAAa1tD,eAAiBxuF,EAAQwuF,eAC3C7wF,KAAKu+I,aAAaC,KAAOn8I,EAAQmsB,SACjCxuB,KAAKu+I,aAAaV,gBAAkBx7I,EAAQw7I,gBAGpB,MAApBx7I,EAAQo8I,UAAoBp8I,EAAQo8I,SAASrzI,OAAS,EAC1D,CACC,IAAIszI,EAAwB,IAAIN,EAChC,IAAK,IAAIO,KAAWt8I,EAAQo8I,SAC3BC,EAAsBE,cAAcD,EAAS,GAC9C3+I,KAAKu+I,aAAaE,SAAWC,EAK9B1+I,KAAKu+I,aAAaM,SAAYvkI,IAE7B,IAAIu2E,EAAiB,GACjBG,EAAe,GAEnB,IAAK,IAAI5wF,EAAIka,EAAEwkI,YAAa1+I,EAAIka,EAAEykI,QAAQ3zI,SAAUhL,EAE/Cka,EAAEykI,QAAQ3+I,GAAG4+I,SAEhBhuD,GAAgB12E,EAAEykI,QAAQ3+I,GAAG,GAAG6+I,WAChCj/I,KAAKk/I,mBAAqB5kI,EAAEykI,QAAQ3+I,GAAG,GAAG6+I,YAG1CpuD,GAAkBv2E,EAAEykI,QAAQ3+I,GAAG,GAAG6+I,WAIpC,GAAyB,MAArB58I,EAASuuF,SACb,CACC,IAAI7rE,EAAQ,IAAIo6H,EAChBp6H,EAAM+lB,OAAS9qC,KACf+kB,EAAMg6H,QAAUzkI,EAAEykI,QAClBh6H,EAAM+5H,YAAcxkI,EAAEwkI,YACtB/5H,EAAM8rE,eAAiBA,EACvB9rE,EAAMisE,aAAeA,EACrBjsE,EAAMq6H,iBAAmBp/I,KAAKk/I,kBAC9B78I,EAASuuF,SAAS7rE,KAIpB/kB,KAAKu+I,aAAac,UAAY,KAE7B,GAA0B,MAAtBh9I,EAASi9I,UACb,CACC,IAAIv6H,EAAQ,IAAIw6H,EAChBx6H,EAAM+lB,OAAS9qC,KACfqC,EAASi9I,UAAUv6H,KAIrB/kB,KAAKu+I,aAAa95H,QAAWnK,IAE5B,GAAwB,MAApBjY,EAASuxG,QACb,CACC,IAAI7uF,EAAQ,IAAIy6H,EAChBz6H,EAAM+lB,OAAS9qC,KACf+kB,EAAMD,MAAQxK,EAAEwK,MAChBC,EAAME,QAAU3K,EAAE2K,QAClB5iB,EAASuxG,QAAQ7uF,KAInB/kB,KAAKu+I,aAAakB,QAAU,KAE3B,GAAwB,MAApBp9I,EAAS01B,QACb,CACC,IAAIhT,EAAQ,IAAI26H,EAChB36H,EAAM+lB,OAAS9qC,KACfqC,EAAS01B,QAAQhT,KAInB/kB,KAAKu+I,aAAaoB,MAAQ,KAEzB,IAAIt9I,EAAUrC,KAAK+sC,aACnB,GAAiC,aAA7B/sC,KAAK89I,eAAergI,OAAwBpb,EAAQ6sF,YAEvDlvF,KAAKu+I,aAAah7H,aAQnB,GAJAvjB,KAAKk/I,kBAAoB,GACzBl/I,KAAK89I,eAAergI,IAAI,eACxB,EAAAtS,KAAKnL,KAAK89I,eAAezyI,WAAWwzB,YAAY,oBAE1B,MAAlBx8B,EAAS21B,MACb,CACC,IAAIjT,EAAQ,IAAI66H,EAChB76H,EAAM+lB,OAAS9qC,KACfqC,EAAS21B,MAAMjT,KAIjB/kB,KAAKu+I,aAAasB,cAAgB,KAEjC,GAA8B,MAA1Bx9I,EAASy9I,cACb,CACC,IAAI/6H,EAAQ,IAAIg7H,EAChBh7H,EAAM+lB,OAAS9qC,KACfqC,EAASy9I,cAAc/6H,KAIzB/kB,KAAKu+I,aAAayB,YAAc,KAE/B,GAA4B,MAAxB39I,EAAS49I,YACb,CACC,IAAIl7H,EAAQ,IAAIm7H,EAChBn7H,EAAM+lB,OAAS9qC,KACfqC,EAAS49I,YAAYl7H,KAIvB/kB,KAAKu+I,aAAa4B,aAAe,KAEhC,GAA6B,MAAzB99I,EAAS+9I,aACb,CACC,IAAIr7H,EAAQ,IAAIs7H,EAChBt7H,EAAM+lB,OAAS9qC,KACfqC,EAAS+9I,aAAar7H,KAIxB/kB,KAAKu+I,aAAa+B,WAAa,KAE9B,GAA2B,MAAvBj+I,EAASk+I,WACb,CACC,IAAIx7H,EAAQ,IAAIy7H,EAChBz7H,EAAM+lB,OAAS9qC,KACfqC,EAASk+I,WAAWx7H,KAItB/kB,KAAKu+I,aAAakC,aAAe,KAEhC,GAA6B,MAAzBp+I,EAASq+I,aACb,CACC,IAAI37H,EAAQ,IAAI47H,EAChB57H,EAAM+lB,OAAS9qC,KACfqC,EAASq+I,aAAa37H,KAIxB/kB,KAAKu+I,aAAaqC,WAAa,KAE9B,GAA2B,MAAvBv+I,EAASw+I,WACb,CACC,IAAI97H,EAAQ,IAAI+7H,EAChB/7H,EAAM+lB,OAAS9qC,KACfqC,EAASw+I,WAAW97H,UAtKtB/kB,KAAK89I,eAAexhH,UACpBt8B,KAAK89I,eAAe/iI,KAAK,EAAArO,iBAAiBq0I,iBAC1C/gJ,KAAK89I,eAAe1nI,QAAQ,+CA4K9B,QAECpW,KAAKk/I,kBAAoB,GACzBl/I,KAAK89I,eAAergI,IAAI,aACxB,EAAAtS,KAAKnL,KAAK89I,eAAezyI,WAAWyvB,SAAS,oBAC7C96B,KAAKu+I,aAAah7H,QAGnB,OAECvjB,KAAKk/I,kBAAoB,GACzBl/I,KAAK89I,eAAergI,IAAI,eACxB,EAAAtS,KAAKnL,KAAK89I,eAAezyI,WAAWwzB,YAAY,oBAChD7+B,KAAKu+I,aAAattD,OAGnB,cAEC,MAAoC,aAA7BjxF,KAAK89I,eAAergI,MAG5B,aAEC,OAAOzd,KAAKqC,UAKb,SAEC4mB,MAAMoT,SAGP,UAECpT,MAAMqT,UACNt8B,KAAKixF,QA/QP,qBAqRA,MAAa+vD,UAA8B,EAAAniI,iBAA3C,0BAKA,MAAa0gI,UAAqCyB,GAAlD,iCAGA,MAAahD,UAAmCgD,GAAhD,+BAGA,MAAaxB,UAAmCwB,GAAhD,+BAMA,MAAa7B,UAAoC6B,GAAjD,gCASA,MAAatB,UAAmCsB,GAAhD,+BAGA,MAAapB,UAAiCoB,GAA9C,6BAGA,MAAajB,UAAyCiB,GAAtD,qCAGA,MAAad,UAAuCc,GAApD,mCAGA,MAAaX,UAAwCW,GAArD,oCAGA,MAAaR,UAAsCQ,GAAnD,kCAGA,MAAaL,UAAwCK,GAArD,oCAGA,MAAaF,UAAsCE,GAAnD,mC,wGC9UA,aACA,OAGA,MAAaC,UAAmB,EAAAl2I,kBAAhC,eAYA,MAAaQ,UAAY,EAAA29B,UAExB,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAI4+I,GAEiB,MAA5B5+I,EAAQq6B,mBAA0Br6B,EAAQq6B,kBAAmB,GACzC,MAApBr6B,EAAQ4Y,WAAkB5Y,EAAQ4Y,SAAW,IAC3B,MAAlB5Y,EAAQghD,SAAgBhhD,EAAQghD,QAAS,GACvB,MAAlBhhD,EAAQ6+I,SAAgB7+I,EAAQ6+I,QAAS,GACrB,MAApB7+I,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB6I,KAGxCvL,KAAKqL,UAAUoQ,MAAMC,SAAW,cAAgBrZ,EAAQ4Y,SAAW,MAInEjb,KAAKsC,YAAYmZ,MAAMC,SAAW,iBAClC1b,KAAKqL,UAAUoQ,MAAMC,SAAW,eAE5BrZ,EAAQ6+I,SACXlhJ,KAAKsC,YAAYmZ,MAAMC,SAAW,0BAIf,MAAhBrZ,EAAQ0Q,MACX/S,KAAK+S,KAAK1Q,EAAQ0Q,MAIU,MAAzB1Q,EAAQ25B,gBAE4B,MAAnC35B,EAAQ25B,cAAcmnB,YAAmBnjD,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYrZ,EAAQ25B,cAAcmnB,UAAY,KACnF,MAApC9gD,EAAQ25B,cAAc2e,aAAoB36C,KAAKqL,UAAUoQ,MAAMC,SAAW,qBAAuBrZ,EAAQ25B,cAAc2e,WAAa,OAKlH,IAAnBt4C,EAAQghD,UAEY,IAAnBhhD,EAAQghD,SAAiBhhD,EAAQghD,OAAS,IAAI,EAAAllC,mBACvB,MAAvB9b,EAAQghD,OAAOr6C,OAAc3G,EAAQghD,OAAOr6C,KAAO,SAC3B,MAAxB3G,EAAQghD,OAAOnoC,QAAe7Y,EAAQghD,OAAOnoC,MAAQ,WAC9B,MAAvB7Y,EAAQghD,OAAO18B,OAActkB,EAAQghD,OAAO18B,KAAO,GACvD3mB,KAAKqL,UAAUoQ,MAAMC,SAAW,WAAarZ,EAAQghD,OAAOr6C,KAAO,IAAM3G,EAAQghD,OAAO18B,KAAO,MAAQtkB,EAAQghD,OAAOnoC,MAAQ,IAE9Hlb,KAAKmhJ,aAAa9+I,EAAQghD,OAAOz8B,IAAK,OACtC5mB,KAAKmhJ,aAAa9+I,EAAQghD,OAAO7mB,MAAO,SACxCx8B,KAAKmhJ,aAAa9+I,EAAQghD,OAAO5mB,OAAQ,UACzCz8B,KAAKmhJ,aAAa9+I,EAAQghD,OAAOt8B,KAAM,SAMzC,KAAKhU,GAKJ,OAHY,MAARA,IACH/S,KAAKqL,UAAUy2B,UAAY/uB,GAErB/S,KAAKqL,UAAUy2B,UAGvB,WAAW/uB,GAEV/S,KAAKqL,UAAUy2B,UAAY9hC,KAAK+S,OAASA,EAGlC,aAAaquI,EAAsD7+I,GAEpD,MAAlB6+I,IAAwBA,GAAiB,IACtB,IAAnBA,IAAyBA,EAAiB,IAAI,EAAAljI,4BAC3B,IAAnBkjI,GAEwB,MAAvBA,EAAep4I,OAAco4I,EAAep4I,KAAO,SAC5B,MAAvBo4I,EAAez6H,OAAcy6H,EAAez6H,KAAO,GAC3B,MAAxBy6H,EAAelmI,QAAekmI,EAAelmI,MAAQ,UACzDlb,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYnZ,EAAY,KAAO6+I,EAAep4I,KAAO,IAAMo4I,EAAez6H,KAAO,MAAQy6H,EAAelmI,MAAQ,KAGhJlb,KAAKqL,UAAUoQ,MAAMC,SAAW,UAAYnZ,EAAY,SAG1D,aAEC,OAAOvC,KAAKqC,WA1Fd,S,8GChBA,aACA,OAGA,MAAag/I,UAAsB,EAAAt2I,kBAAnC,kBAUA,MAAaT,UAAe,EAAA4+B,UAE3B,YAAY79B,EAAsBhJ,GAGlB,MAAXA,IACHA,EAAU,IAAIg/I,GAES,MAApBh/I,EAAQ4Y,WAAkB5Y,EAAQ4Y,SAAW,IAC7B,MAAhB5Y,EAAQ05B,OAAc15B,EAAQ05B,MAAO,GACpB,MAAjB15B,EAAQkZ,QAAelZ,EAAQkZ,MAAQ,qBACnB,MAApBlZ,EAAQ45B,WAAkB55B,EAAQ45B,UAAY,GAGlDhT,MAAM5d,EAAShJ,EAAS,EAAAK,gBAAgB4H,QAGxC,EAAAa,KAAK,mCAAqC9I,EAAQ4T,MAAQ,gBAAgBK,eAAetW,KAAKqL,WAI9F,IAAIogF,EAAO,GACa,MAApBppF,EAAQ4Y,WAEsB,iBAArB5Y,EAAgB,WAC3BA,EAAQ4Y,SAAW5Y,EAAQ4Y,SAAW,MAEvCwwE,GAAQ,cAAgBppF,EAAQ4Y,SAAW,KAElB,MAAtB5Y,EAAQqpF,aACXD,GAAQ,gBAAkBppF,EAAQqpF,WAAa,MAC3B,IAAjBrpF,EAAQ05B,OACX0vD,GAAQ,qBAET,EAAAtgF,KAAKnL,KAAKqL,WAAWyQ,KAAK,kBAAkB,GAAGL,MAAMC,SAAW+vE,GAlClE","file":"vrcontrols.all.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vr\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vr\"] = factory();\n\telse\n\t\troot[\"vr\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","//#region Import\r\nimport { LabelOptions, Label } from \"./controls/label\";\r\nimport { UtilityManager } from \"../managers/utilityManager\";\r\nimport { DeviceManager } from \"../managers/deviceManager\";\r\nimport { TextBoxOptions, TextBox, TextBoxNumeric, TextBoxPercentage, TextBoxCurrency, TextBoxPassword, TextBoxMultiline } from \"./controls/textbox\";\r\nimport { CheckBoxOptions, CheckBox } from \"./controls/checkbox\";\r\nimport { SeparatorOptions, Separator } from \"./controls/separator\";\r\nimport { ButtonGroup, ButtonGroupClickEvent, ButtonGroupIconClickEvent, ButtonGroupOptions } from \"./controls/buttonGroup\";\r\nimport { ImageOptions, Image } from \"./controls/image\";\r\nimport { DatePickerOptions, DatePicker, TimePicker, DateTimePicker, MonthPicker, YearPicker } from \"./controls/datePicker\";\r\nimport { ComboBoxOptions, ComboBox, DropDown } from \"./controls/comboBox\";\r\nimport { SplitButtonOptions, SplitButton, SplitButtonItem } from \"./controls/splitButton\";\r\nimport { Editor, EditorItemClickEvent, EditorOptions } from \"./controls/editor\";\r\nimport { WindowOptions, Window, WindowEvent } from \"./controls/window\";\r\nimport { ConfirmOptions, Confirm } from \"./controls/confirm\";\r\nimport { AlertOptions, Alert } from \"./controls/alert\";\r\nimport { Dialog, DialogOptions } from \"./controls/dialog\";\r\nimport { Grid, GridOptions, GridHeaderSettings, GridCellSettings, GridCustomSettings, GridIconSettings, GridImageSettings, GridLabelSettings, GridTemplateEvent, GridToolbarDeleteRequest, GridToolbarSwitchSettings, GridToolbarClickEvent, GridControlsSettings, GridExcelRow } from \"./controls/grid\";\r\nimport { PromptOptions, Prompt } from \"./controls/prompt\";\r\nimport { ControlManager } from \"../managers/controlManager\";\r\nimport { SwitchOptions, Switch } from \"./controls/switch\";\r\nimport { CheckBoxListOptions, CheckBoxList } from \"./controls/checkboxList\";\r\nimport { RadioButton, RadioButtonOptions } from \"./controls/radioButton\";\r\nimport { RadioButtonList, RadioButtonListOptions } from \"./controls/radioButtonList\";\r\nimport { RepeaterOptions, Repeater } from \"./controls/repeater\";\r\nimport { MapsOptions, Maps } from \"./controls/maps\";\r\nimport { AttributeSettings, VrControl, VrControlOptions, VrControlsEvent } from \"./common\";\r\nimport { PainterOptions, Painter } from \"./controls/painter\";\r\nimport { Calendar, CalendarOptions } from \"./controls/calendar\";\r\nimport { RatingOptions, Rating } from \"./controls/rating\";\r\nimport { LoaderManager } from \"../../src/managers/loaderManager\";\r\nimport { GroupBox, GroupBoxOptions } from \"./controls/groupBox\";\r\nimport { PdfViewer, PdfViewerOptions } from \"./controls/pdfViewer\";\r\nimport { Notifier, NotifierCustomHtmlEvent, NotifierHideSettings, NotifierOnClickEvent, NotifierShowSettings } from \"./controls/notifier\";\r\nimport { Upload, UploadOptions } from \"./controls/upload\";\r\nimport { PaypalButton, PaypalButtonOptions } from \"./controls/paypalButton\";\r\nimport { TreeView, TreeViewCellSettings, TreeViewContextMenuClickEvent, TreeViewHeaderSettings, TreeViewOptions } from \"./controls/treeView\";\r\nimport { Scheduler, SchedulerOptions } from \"./controls/scheduler\";\r\nimport { QrCode, QrCodeOptions } from \"./controls/qrCode\";\r\nimport { MultiScheduler, MultiSchedulerOptions } from \"./controls/multiScheduler\";\r\nimport { Icon, IconOptions } from \"./controls/icon\";\r\nimport { ColorPicker, ColorPickerOptions } from \"./controls/colorPicker\";\r\nimport { SearchBar, SearchBarOptions } from \"./controls/searchBar\";\r\nimport { Splitter, SplitterOptions } from \"./controls/splitter\";\r\nimport { AutoCompleteBox, AutoCompleteBoxOptions } from \"./controls/autoCompleteBox\";\r\nimport { AreaChart, BarChart, ChartVr, DonutChart, HorizontalBarChart, LineChart, PieChart, StackedBarChart } from \"./controls/chart\";\r\nimport { PrintFileOptions, PrintHtmlOptions, PrintManager } from \"../../src/managers/printManager\";\r\nimport { TabStrip, TabStripOptions } from \"./controls/tabStrip\";\r\nimport { Tooltip, TooltipOptions } from \"./controls/tooltip\";\r\nimport { SpeechRecognizer, SpeechRecognizerAudioEndEvent, SpeechRecognizerAudioStartEvent, SpeechRecognizerClickEvent, SpeechRecognizerEndEvent, SpeechRecognizerErrorEvent, SpeechRecognizerNoMatchEvent, SpeechRecognizerResultEvent, SpeechRecognizerSoundEndEvent, SpeechRecognizerSoundStartEvent, SpeechRecognizerSpeechEndEvent, SpeechRecognizerSpeechStartEvent, SpeechRecognizerStartEvent } from \"./controls/speechRecognizer\";\r\nimport { Div, DivOptions } from \"./controls/div\";\r\nimport { Button, ButtonBadgeSettings, ButtonOptions } from \"./controls/button\";\r\nimport { Legend, LegendOptions } from \"./controls/legend\";\r\n//#endregion\r\n\r\n//#region Factory\r\nexport function createLabel(options?: LabelOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Label\r\n{\r\n\tlet control = createControls<Label>(ControlTypeEnum.Label, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createButton(options?: ButtonOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Button\r\n{\r\n\tlet control = createControls<Button>(ControlTypeEnum.Button, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createButtonGroup(options?: ButtonGroupOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): ButtonGroup\r\n{\r\n\tlet control = createControls<ButtonGroup>(ControlTypeEnum.ButtonGroup, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createTextBox(options?: TextBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TextBox\r\n{\r\n\tlet control = createControls<TextBox>(ControlTypeEnum.TextBox, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createNumericTextBox(options?: TextBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TextBoxNumeric\r\n{\r\n\tif (options == null) options = new TextBoxOptions();\r\n\toptions.mode = TextModeEnum.Numeric;\r\n\treturn createTextBox(options, container, position, elementId);\r\n}\r\n\r\nexport function createPercentageTextBox(options?: TextBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TextBoxPercentage\r\n{\r\n\tif (options == null) options = new TextBoxOptions();\r\n\toptions.mode = TextModeEnum.Percentage;\r\n\treturn createTextBox(options, container, position, elementId);\r\n}\r\n\r\nexport function createCurrencyTextBox(options?: TextBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TextBoxCurrency\r\n{\r\n\tif (options == null) options = new TextBoxOptions();\r\n\toptions.mode = TextModeEnum.Currency;\r\n\treturn createTextBox(options, container, position, elementId);\r\n}\r\n\r\nexport function createPasswordTextBox(options?: TextBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TextBoxPassword\r\n{\r\n\tif (options == null) options = new TextBoxOptions();\r\n\toptions.mode = TextModeEnum.Password;\r\n\treturn createTextBox(options, container, position, elementId);\r\n}\r\n\r\nexport function createMultilineTextBox(options?: TextBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TextBoxMultiline\r\n{\r\n\tif (options == null) options = new TextBoxOptions();\r\n\toptions.mode = TextModeEnum.MultiLine;\r\n\treturn createTextBox(options, container, position, elementId);\r\n}\r\n\r\nexport function createCheckBox(options?: CheckBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): CheckBox\r\n{\r\n\tlet control = createControls<CheckBox>(ControlTypeEnum.CheckBox, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createSeparator(options?: SeparatorOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Separator\r\n{\r\n\tlet control = createControls<Separator>(ControlTypeEnum.Separator, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createImage(options?: ImageOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Image\r\n{\r\n\tlet control = createControls<Image>(ControlTypeEnum.Image, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createDatePicker(options?: DatePickerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): DatePicker\r\n{\r\n\tlet control = createControls<DatePicker>(ControlTypeEnum.DatePicker, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createTimePicker(options?: DatePickerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TimePicker\r\n{\r\n\tif (options == null) options = new DatePickerOptions();\r\n\toptions.mode = DateModeEnum.Time;\r\n\treturn createDatePicker(options, container, position, elementId);\r\n}\r\n\r\nexport function createDateTimePicker(options?: DatePickerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): DateTimePicker\r\n{\r\n\tif (options == null) options = new DatePickerOptions();\r\n\toptions.mode = DateModeEnum.DateTime;\r\n\treturn createDatePicker(options, container, position, elementId);\r\n}\r\n\r\nexport function createMonthPicker(options?: DatePickerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): MonthPicker\r\n{\r\n\tif (options == null) options = new DatePickerOptions();\r\n\toptions.depth = DateDepthEnum.Month;\r\n\treturn createDatePicker(options, container, position, elementId);\r\n}\r\n\r\nexport function createYearPicker(options?: DatePickerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): YearPicker\r\n{\r\n\tif (options == null) options = new DatePickerOptions();\r\n\toptions.depth = DateDepthEnum.Year;\r\n\treturn createDatePicker(options, container, position, elementId);\r\n}\r\n\r\nexport function createComboBox(options?: ComboBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): ComboBox\r\n{\r\n\tlet control = createControls<ComboBox>(ControlTypeEnum.ComboBox, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createDropDown(options?: ComboBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): DropDown\r\n{\r\n\tif (options == null) options = new ComboBoxOptions();\r\n\toptions.mode = ComboBoxTypeEnum.DropDown;\r\n\treturn createComboBox(options, container, position, elementId);\r\n}\r\n\r\nexport function createSplitButton(options?: SplitButtonOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): SplitButton\r\n{\r\n\tlet control = createControls<SplitButton>(ControlTypeEnum.SplitButton, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createEditor(options?: EditorOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Editor\r\n{\r\n\tlet control = createControls<Editor>(ControlTypeEnum.Editor, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createWindow(options?: WindowOptions | null, container?: HTMLElement | JQuery | string | null): Window\r\n{\r\n\tlet control = <Window>createControls(ControlTypeEnum.Window, container, null, null, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createGrid(options?: GridOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Grid\r\n{\r\n\tlet control = createControls<Grid>(ControlTypeEnum.Grid, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createSwitch(options?: SwitchOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Switch\r\n{\r\n\tlet control = createControls<Switch>(ControlTypeEnum.Switch, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createCheckBoxList(options?: CheckBoxListOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): CheckBoxList\r\n{\r\n\tlet control = createControls<CheckBoxList>(ControlTypeEnum.CheckBoxList, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createRadioButton(options?: RadioButtonOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): RadioButton\r\n{\r\n\tlet control = createControls<RadioButton>(ControlTypeEnum.RadioButton, container, position, elementId, options);\r\n\treturn control;\r\n}\r\nexport function createRadioButtonList(options?: RadioButtonListOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): RadioButtonList\r\n{\r\n\tlet control = createControls<RadioButtonList>(ControlTypeEnum.RadioButtonList, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createRepeater(options?: RepeaterOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Repeater\r\n{\r\n\tlet control = createControls<Repeater>(ControlTypeEnum.Repeater, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createMap(options?: MapsOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Maps\r\n{\r\n\tlet control = createControls<Maps>(ControlTypeEnum.Map, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createPainter(options?: PainterOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Painter\r\n{\r\n\tlet control = createControls<Painter>(ControlTypeEnum.Painter, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createCalendar(options?: CalendarOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Calendar\r\n{\r\n\tlet control = createControls<Calendar>(ControlTypeEnum.Calendar, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createRating(options?: RatingOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Rating\r\n{\r\n\tlet control = createControls<Rating>(ControlTypeEnum.Rating, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createGroupBox(options?: GroupBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): GroupBox\r\n{\r\n\tlet control = createControls<GroupBox>(ControlTypeEnum.GroupBox, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createPdfViewer(options?: PdfViewerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): PdfViewer\r\n{\r\n\tlet control = createControls<PdfViewer>(ControlTypeEnum.PdfViewer, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createPaypalButton(options?: PaypalButtonOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): PaypalButton\r\n{\r\n\tlet control = createControls<PaypalButton>(ControlTypeEnum.PaypalButton, container, position, elementId, options);;\r\n\treturn control;\r\n}\r\n\r\nexport function createUpload(options?: UploadOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Upload\r\n{\r\n\tlet control = createControls<Upload>(ControlTypeEnum.Upload, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createTreeView(options?: TreeViewOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TreeView\r\n{\r\n\tlet control = createControls<TreeView>(ControlTypeEnum.TreeView, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createScheduler(options?: SchedulerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Scheduler\r\n{\r\n\tlet control = createControls<Scheduler>(ControlTypeEnum.Scheduler, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createMultiScheduler(options?: MultiSchedulerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): MultiScheduler\r\n{\r\n\tlet control = createControls<MultiScheduler>(ControlTypeEnum.MultiScheduler, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createQrCode(options?: QrCodeOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): QrCode\r\n{\r\n\tlet control = createControls<QrCode>(ControlTypeEnum.QrCode, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createIcon(options?: IconOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Icon\r\n{\r\n\tlet control = createControls<Icon>(ControlTypeEnum.Icon, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createColorPicker(options?: ColorPickerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): ColorPicker\r\n{\r\n\tlet control = createControls<ColorPicker>(ControlTypeEnum.ColorPicker, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createSearchBar(options?: SearchBarOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): SearchBar\r\n{\r\n\tlet control = createControls<SearchBar>(ControlTypeEnum.SearchBar, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createSplitter(options?: SplitterOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Splitter\r\n{\r\n\tlet control = createControls<Splitter>(ControlTypeEnum.Splitter, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createAutoCompleteBox(options?: AutoCompleteBoxOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): AutoCompleteBox\r\n{\r\n\tlet control = createControls<AutoCompleteBox>(ControlTypeEnum.AutoCompleteBox, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): ChartVr\r\n{\r\n\tlet control = createControls<ChartVr>(ControlTypeEnum.Chart, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createBarChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): BarChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.Bar;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createHorizontalBarChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): HorizontalBarChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.HorizontalBar;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createLineChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): LineChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.Line;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createDonutChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): DonutChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.Donut;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createPieChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): PieChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.Pie;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createAreaChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): AreaChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.Area;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createStackedBarChart(options?: ChartOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): StackedBarChart\r\n{\r\n\tif (options == null) options = new ChartOptions();\r\n\toptions.type = ChartTypeEnum.StackedBar;\r\n\treturn createChart(options, container, position, elementId);\r\n}\r\n\r\nexport function createTabStrip(options?: TabStripOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): TabStrip\r\n{\r\n\tlet control = createControls<TabStrip>(ControlTypeEnum.TabStrip, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createTooltip(options?: TooltipOptions | null): Tooltip\r\n{\r\n\tlet control = createControls<Tooltip>(ControlTypeEnum.Tooltip, null, null, null, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createSpeechRecognizer(options?: SpeechRecognizerOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): SpeechRecognizer\r\n{\r\n\tlet control = createControls<SpeechRecognizer>(ControlTypeEnum.SpeechRecognizer, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function createLegend(options?: LegendOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, elementId?: string | null): Legend\r\n{\r\n\tlet control = createControls<Legend>(ControlTypeEnum.Legend, container, position, elementId, options);\r\n\treturn control;\r\n}\r\n\r\nexport function getControl<T extends VrControl>(controlId: string)\r\n{\r\n\treturn ControlManager.get<T>(controlId);\r\n}\r\n\r\nexport function addControl(control: VrControl)\r\n{\r\n\tControlManager.add(control);\r\n}\r\n\r\nfunction createControls<T extends VrControl>(controlTypeEnum: ControlTypeEnum, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null, definedElementId?: string | null, options?: VrControlOptions | null): T\r\n{\r\n\tif (options == null)\r\n\t\toptions = new VrControlOptions();\r\n\r\n\tlet elementId = \"vrpm_\" + UtilityManager.createGuid();\r\n\tif (definedElementId != null)\r\n\t{\r\n\t\telementId = definedElementId;\r\n\t\tif (!definedElementId.startsWith(\"#\"))\r\n\t\t\tdefinedElementId = \"#\" + definedElementId;\r\n\t}\r\n\r\n\t//#region Already exists\r\n\tif (container != null && puma(definedElementId).length > 0)\r\n\t\treturn puma(definedElementId)[0];\r\n\t//#endregion\r\n\r\n\t//#region Element\r\n\tlet element = null;\r\n\tlet elementTag = \"\";\r\n\r\n\t//#region ControlTypeEnum\r\n\tswitch (controlTypeEnum)\r\n\t{\r\n\t\tcase ControlTypeEnum.Label: elementTag = \"label\"; break;\r\n\t\tcase ControlTypeEnum.Button: elementTag = \"button\"; break;\r\n\t\tcase ControlTypeEnum.ButtonGroup: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.TextBox: elementTag = \"input\"; break;\r\n\t\tcase ControlTypeEnum.Window: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.CheckBox: elementTag = \"input\"; break;\r\n\t\tcase ControlTypeEnum.CheckBoxList: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Separator: elementTag = \"span\"; break;\r\n\t\tcase ControlTypeEnum.Image: elementTag = \"img\"; break;\r\n\t\tcase ControlTypeEnum.DatePicker: elementTag = \"input\"; break;\r\n\t\tcase ControlTypeEnum.SplitButton: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Editor: elementTag = \"textarea\"; break;\r\n\t\tcase ControlTypeEnum.Grid: elementTag = \"table\"; break;\r\n\t\tcase ControlTypeEnum.Switch: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.RadioButton: elementTag = \"input\"; break;\r\n\t\tcase ControlTypeEnum.RadioButtonList: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Repeater: elementTag = \"table\"; break;\r\n\t\tcase ControlTypeEnum.Map: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Painter: elementTag = \"canvas\"; break;\r\n\t\tcase ControlTypeEnum.Calendar: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Rating: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.GroupBox: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.PdfViewer: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.PaypalButton: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Upload: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.TreeView: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Scheduler: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.MultiScheduler: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.QrCode: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Icon: elementTag = \"i\"; break;\r\n\t\tcase ControlTypeEnum.SearchBar: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Splitter: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.AutoCompleteBox: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Chart: elementTag = \"canvas\"; break;\r\n\t\tcase ControlTypeEnum.TabStrip: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Tooltip: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.SpeechRecognizer: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Div: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.Legend: elementTag = \"div\"; break;\r\n\t\tcase ControlTypeEnum.ColorPicker:\r\n\t\t\t{\r\n\t\t\t\tif ((options as ColorPickerOptions).showInput == null || (options as ColorPickerOptions).showInput === true)\r\n\t\t\t\t\telementTag = \"input\";\r\n\t\t\t\telse\r\n\t\t\t\t\telementTag = \"button\";\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ControlTypeEnum.ComboBox:\r\n\t\t\t{\r\n\t\t\t\tif ((options as ComboBoxOptions).mode == null || (options as ComboBoxOptions).checkboxes === true || (options as ComboBoxOptions).webService != null)\r\n\t\t\t\t\t(options as ComboBoxOptions).mode = ComboBoxTypeEnum.Combo;\r\n\t\t\t\tswitch ((options as ComboBoxOptions).mode)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase ComboBoxTypeEnum.Combo: elementTag = ((options as ComboBoxOptions).checkboxes === true) ? \"div\" : \"input\"; break;\r\n\t\t\t\t\tcase ComboBoxTypeEnum.DropDown: elementTag = \"div\"; break;\r\n\t\t\t\t}\r\n\t\t\t} break;\r\n\t}\r\n\t//#endregion\r\n\r\n\tif (container != null || controlTypeEnum == ControlTypeEnum.Window || controlTypeEnum == ControlTypeEnum.PdfViewer || controlTypeEnum == ControlTypeEnum.Tooltip)\r\n\t\telement = puma(\"<\" + elementTag + \" id='\" + elementId + \"'></\" + elementTag + \">\")[0];\r\n\telse\r\n\t{\r\n\t\tif (definedElementId == null)\r\n\t\t\tthrow Error(controlTypeEnum + \": il container è nullo, ma l'id non è valorizzato!\");\r\n\r\n\t\tif (!elementId.startsWith(\"#\"))\r\n\t\t\telementId = \"#\" + elementId;\r\n\r\n\t\telement = puma(elementId)[0];\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Check element\r\n\tif (!puma(element).is(elementTag))\r\n\t\tthrow Error(\"L'elemento nell'HTML con id: \" + elementId + \" non corrisponde al corretto elemento: \" + elementTag);\r\n\t//#endregion\r\n\r\n\tif (elementTag == \"input\")\r\n\t\tpuma(element).attr(\"autocomplete\", \"off\");\r\n\r\n\t//#region Container\r\n\tif ((controlTypeEnum == ControlTypeEnum.Window || controlTypeEnum == ControlTypeEnum.Tooltip) && container == null)\r\n\t\tcontainer = (shadowRoot() != null) ? (shadowRoot() as any as HTMLElement) : document.body;\r\n\r\n\tif (container != null)\r\n\t{\r\n\t\tif (typeof (container) == \"string\" && !container.startsWith(\"#\"))\r\n\t\t\tcontainer = \"#\" + container;\r\n\r\n\t\tif (position == null) position = ControlPositionEnum.After;\r\n\t\tif (position == ControlPositionEnum.After)\r\n\t\t\tpuma(container).vrAppendPuma(element);\r\n\t\telse\r\n\t\t\tpuma(container).prepend(element);\r\n\t}\r\n\t//#endregion\r\n\r\n\tlet control = puma(element)[\"vr\" + controlTypeEnum](options);\r\n\taddControl(control);\r\n\treturn control as T;\r\n}\r\n\r\njQuery.fn.extend(\r\n\t{\r\n\t\tvrLabel: function (options?: LabelOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Label(element, options);\r\n\t\t},\r\n\t\tvrButton: function (options?: ButtonOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Button(element, options);\r\n\t\t},\r\n\t\tvrButtonGroup: function (options?: ButtonGroupOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new ButtonGroup(element, options);\r\n\t\t},\r\n\t\tvrTextBox: function (options?: TextBoxOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new TextBox(element, options);\r\n\t\t},\r\n\t\tvrCheckBox: function (options?: CheckBoxOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new CheckBox(element, options);\r\n\t\t},\r\n\t\tvrCheckBoxList: function (options?: CheckBoxListOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new CheckBoxList(element, options);\r\n\t\t},\r\n\t\tvrSeparator: function (options?: SeparatorOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Separator(element, options);\r\n\t\t},\r\n\t\tvrImage: function (options?: ImageOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Image(element, options);\r\n\t\t},\r\n\t\tvrDatePicker: function (options?: DatePickerOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new DatePicker(element, options);\r\n\t\t},\r\n\t\tvrComboBox: function (options?: ComboBoxOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new ComboBox(element, options);\r\n\t\t},\r\n\t\tvrSplitButton: function (options?: SplitButtonOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new SplitButton(element, options);\r\n\t\t},\r\n\t\tvrEditor: function (options?: EditorOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Editor(element, options);\r\n\t\t},\r\n\t\tvrWindow: function (options?: WindowOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Window(element, options);\r\n\t\t},\r\n\t\tvrGrid: function (options?: GridOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Grid(element, options);\r\n\t\t},\r\n\t\tvrSwitch: function (options?: SwitchOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Switch(element, options);\r\n\t\t},\r\n\t\tvrRadioButton: function (options?: RadioButtonOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new RadioButton(element, options);\r\n\t\t},\r\n\t\tvrRadioButtonList: function (options?: RadioButtonListOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new RadioButtonList(element, options);\r\n\t\t},\r\n\t\tvrRepeater: function (options?: RepeaterOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Repeater(element, options);\r\n\t\t},\r\n\t\tvrMap: function (options?: MapsOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Maps(element, options);\r\n\t\t},\r\n\t\tvrPainter: function (options?: PainterOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Painter(element, options);\r\n\t\t},\r\n\t\tvrCalendar: function (options?: CalendarOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Calendar(element, options);\r\n\t\t},\r\n\t\tvrRating: function (options?: RatingOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Rating(element, options);\r\n\t\t},\r\n\t\tvrGroupBox: function (options?: GroupBoxOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new GroupBox(element, options);\r\n\t\t},\r\n\t\tvrPdfViewer: function (options?: PdfViewerOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new PdfViewer(element, options);\r\n\t\t},\r\n\t\tvrPaypalButton: function (options?: PaypalButtonOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new PaypalButton(element, options);\r\n\t\t},\r\n\t\tvrUpload: function (options?: UploadOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Upload(element, options);\r\n\t\t},\r\n\t\tvrTreeView: function (options?: TreeViewOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new TreeView(element, options);\r\n\t\t},\r\n\t\tvrScheduler: function (options?: SchedulerOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Scheduler(element, options);\r\n\t\t},\r\n\t\tvrMultiScheduler: function (options?: MultiSchedulerOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new MultiScheduler(element, options);\r\n\t\t},\r\n\t\tvrQrCode: function (options?: QrCodeOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new QrCode(element, options);\r\n\t\t},\r\n\t\tvrIcon: function (options?: IconOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Icon(element, options);\r\n\t\t},\r\n\t\tvrColorPicker: function (options?: ColorPickerOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new ColorPicker(element, options);\r\n\t\t},\r\n\t\tvrSearchBar: function (options?: SearchBarOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new SearchBar(element, options);\r\n\t\t},\r\n\t\tvrSplitter: function (options?: SplitterOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Splitter(element, options);\r\n\t\t},\r\n\t\tvrAutoCompleteBox: function (options?: AutoCompleteBoxOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new AutoCompleteBox(element, options);\r\n\t\t},\r\n\t\tvrChart: function (options?: ChartOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new ChartVr(element, options);\r\n\t\t},\r\n\t\tvrTabStrip: function (options?: TabStripOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new TabStrip(element, options);\r\n\t\t},\r\n\t\tvrTooltip: function (options?: TooltipOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Tooltip(element, options);\r\n\t\t},\r\n\t\tvrSpeechRecognizer: function (options?: SpeechRecognizerOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new SpeechRecognizer(element, options);\r\n\t\t},\r\n\t\tvrDiv: function (options?: DivOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Div(element, options);\r\n\t\t},\r\n\t\tvrLegend: function (options?: LegendOptions | null)\r\n\t\t{\r\n\t\t\tlet element = (this as any)[0];\r\n\t\t\treturn new Legend(element, options);\r\n\t\t}\r\n\t});\r\n\r\n//#region Memory leaks' destroyer\r\n$(() =>\r\n{\r\n\tconst observer = new MutationObserver((mutations_list) =>\r\n\t{\r\n\t\tmutations_list.forEach((mutations) =>\r\n\t\t{\r\n\t\t\tmutations.removedNodes.forEach((currentValue, currentIndex, listObj) =>\r\n\t\t\t{\r\n\t\t\t\tif ((currentValue as HTMLElement).classList != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!currentValue.isConnected)\r\n\t\t\t\t\t\tremoveItems(currentValue);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\tobserver.observe(document.body, { subtree: true, childList: true });\r\n\r\n\tfunction removeItems(element: any)\r\n\t{\r\n\t\tif (element != null)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tif (element.id != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet idElement = element.id.replace(\"Container\", \"\").replace(\"#\", \"\").replace(\".\", \"\");\r\n\t\t\t\t\tControlManager.remove(idElement);\r\n\r\n\t\t\t\t\tpuma(\"#\" + idElement + \"_divPopup\").remove();\r\n\t\t\t\t\tpuma(\".\" + idElement + \"_wndUtility\").remove();\r\n\t\t\t\t\tpuma(\"#\" + idElement + \"_someStuff\").remove();\r\n\t\t\t\t\tpuma(\"#\" + idElement + \"_someStuffContainer\").remove();\r\n\t\t\t\t\tpuma(\"#vrWindowBackground_\" + idElement).remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch (e) { }\r\n\r\n\t\t\tif (element.children == null || element.children.length == 0)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tfor (let child of element.children)\r\n\t\t\t\tremoveItems(child);\r\n\t\t}\r\n\t}\r\n});\r\n//#endregion\r\n\r\nexport enum ControlTypeEnum\r\n{\r\n\tLabel = \"Label\",\r\n\tButton = \"Button\",\r\n\tWindow = \"Window\",\r\n\tTextBox = \"TextBox\",\r\n\tCheckBox = \"CheckBox\",\r\n\tSeparator = \"Separator\",\r\n\tButtonGroup = \"ButtonGroup\",\r\n\tImage = \"Image\",\r\n\tDatePicker = \"DatePicker\",\r\n\tComboBox = \"ComboBox\",\r\n\tSplitButton = \"SplitButton\",\r\n\tEditor = \"Editor\",\r\n\tGrid = \"Grid\",\r\n\tSwitch = \"Switch\",\r\n\tCheckBoxList = \"CheckBoxList\",\r\n\tRadioButton = \"RadioButton\",\r\n\tRadioButtonList = \"RadioButtonList\",\r\n\tRepeater = \"Repeater\",\r\n\tMap = \"Map\",\r\n\tPainter = \"Painter\",\r\n\tCalendar = \"Calendar\",\r\n\tRating = \"Rating\",\r\n\tGroupBox = \"GroupBox\",\r\n\tPdfViewer = \"PdfViewer\",\r\n\tUpload = \"Upload\",\r\n\tPaypalButton = \"PaypalButton\",\r\n\tTreeView = \"TreeView\",\r\n\tScheduler = \"Scheduler\",\r\n\tMultiScheduler = \"MultiScheduler\",\r\n\tQrCode = \"QrCode\",\r\n\tIcon = \"Icon\",\r\n\tColorPicker = \"ColorPicker\",\r\n\tSearchBar = \"SearchBar\",\r\n\tSplitter = \"Splitter\",\r\n\tAutoCompleteBox = \"AutoCompleteBox\",\r\n\tChart = \"Chart\",\r\n\tTabStrip = \"TabStrip\",\r\n\tTooltip = \"Tooltip\",\r\n\tSpeechRecognizer = \"SpeechRecognizer\",\r\n\tDiv = \"Div\",\r\n\tLegend = \"Legend\"\r\n}\r\n\r\nexport enum ControlPositionEnum\r\n{\r\n\tBefore,\r\n\tAfter,\r\n\tNone\r\n}\r\n//#endregion\r\n\r\n//#region Notifications\r\nexport function hideNotify()\r\n{\r\n\tpuma(\".vrNotifierContainer\").hide();\r\n}\r\n\r\nexport function notify(text: string, options?: NotifierOptions): Notifier\r\n{\r\n\tlet notifier = new Notifier(text, options);\r\n\treturn notifier;\r\n}\r\n\r\nexport function notifyError(text: string, options?: NotifierOptions | null): Notifier\r\n{\r\n\tif (options == null) options = new NotifierOptions();\r\n\tif (options.type == null) options.type = NotifierTypeEnum.Error;\r\n\treturn new Notifier(text, options)!;\r\n}\r\n\r\nexport function notifyWarning(text: string, options?: NotifierOptions | null): Notifier\r\n{\r\n\tif (options == null) options = new NotifierOptions();\r\n\tif (options.type == null) options.type = NotifierTypeEnum.Warning;\r\n\treturn new Notifier(text, options)!;\r\n}\r\n\r\nexport function notifySuccess(text: string, options?: NotifierOptions | null): Notifier\r\n{\r\n\tif (options == null) options = new NotifierOptions();\r\n\tif (options.type == null) options.type = NotifierTypeEnum.Success;\r\n\treturn new Notifier(text, options)!;\r\n}\r\n\r\nexport function notifyInfo(text: string, options?: NotifierOptions | null): Notifier\r\n{\r\n\tif (options == null) options = new NotifierOptions();\r\n\tif (options.type == null) options.type = NotifierTypeEnum.Info;\r\n\treturn new Notifier(text, options)!;\r\n}\r\n//#endregion\r\n\r\n//#region Dialog\r\nexport function confirm(text?: string | null, options?: ConfirmOptions | null): Promise<any>\r\n{\r\n\tlet confirm = new Confirm(text, options);\r\n\treturn confirm.open();\r\n}\r\n\r\nexport function alert(text?: string | null, options?: AlertOptions | null): Promise<any>\r\n{\r\n\tlet alert = new Alert(text, options);\r\n\treturn alert.open();\r\n}\r\n\r\nexport function dialog(text?: string | null, options?: DialogOptions | null)\r\n{\r\n\tlet dialog = new Dialog(text, options);\r\n\tdialog.open();\r\n\treturn dialog;\r\n}\r\n\r\nexport function prompt(text?: string | null, options?: PromptOptions | null): Promise<any>\r\n{\r\n\tlet prompt = new Prompt(text, options);\r\n\treturn prompt.open();\r\n}\r\n//#endregion\r\n\r\n//#region Print\r\nexport function printElement(element: string | HTMLElement | JQuery, options?: PrintHtmlOptions)\r\n{\r\n\tPrintManager.printElement(element, options);\r\n}\r\n\r\nexport function printHtml(elementId: string, options?: PrintFileOptions)\r\n{\r\n\tPrintManager.printHtml(elementId, options);\r\n}\r\n\r\nexport function printBytes(base64Bytes: string, options?: PrintFileOptions)\r\n{\r\n\tPrintManager.printBytes(base64Bytes, options);\r\n}\r\n\r\nexport function printPdf(path: string, options?: PrintFileOptions)\r\n{\r\n\tPrintManager.printPdf(path, options);\r\n}\r\n\r\nexport function printImage(path: string, options?: PrintFileOptions)\r\n{\r\n\tPrintManager.printImage(path, options);\r\n}\r\n//#endregion\r\n\r\n//#region Device manager\r\nexport function isSmartphone()\r\n{\r\n\treturn DeviceManager.isSmartphone();\r\n}\r\n\r\nexport function isTablet()\r\n{\r\n\treturn DeviceManager.isTablet();\r\n}\r\n\r\nexport function isDesktop()\r\n{\r\n\treturn DeviceManager.isDesktop();\r\n}\r\n\r\nexport function isMobile()\r\n{\r\n\treturn DeviceManager.isMobile();\r\n}\r\n\r\nexport function isIphoneX()\r\n{\r\n\treturn DeviceManager.isIphoneX();\r\n}\r\n\r\nexport function isIphone()\r\n{\r\n\treturn DeviceManager.isIphone();\r\n}\r\n\r\nexport function browser()\r\n{\r\n\treturn DeviceManager.browser();\r\n}\r\n\r\nexport function isInternetExplorer()\r\n{\r\n\treturn DeviceManager.isInternetExplorer();\r\n}\r\n\r\nexport function isSafari()\r\n{\r\n\treturn DeviceManager.isSafari();\r\n}\r\n\r\nexport function isChrome()\r\n{\r\n\treturn DeviceManager.isChrome();\r\n}\r\n\r\nexport function isFirefox()\r\n{\r\n\treturn DeviceManager.isFirefox();\r\n}\r\n\r\nexport function isEdge()\r\n{\r\n\treturn DeviceManager.isEdge();\r\n}\r\n\r\nexport function isOpera()\r\n{\r\n\treturn DeviceManager.isOpera();\r\n}\r\n\r\nexport function isVivaldi()\r\n{\r\n\treturn DeviceManager.isVivaldi();\r\n}\r\n\r\nexport function isSeamonkey()\r\n{\r\n\treturn DeviceManager.isSeamonkey();\r\n}\r\n\r\nexport enum BrowserTypeEnum\r\n{\r\n\tInternetExplorer = \"InternetExplorer\",\r\n\tSafari = \"Safari\",\r\n\tChrome = \"Chrome\",\r\n\tFirefox = \"Firefox\",\r\n\tEdge = \"Edge\",\r\n\tOpera = \"Opera\",\r\n\tVivaldi = \"Vivaldi\",\r\n\tSeamonkey = \"Seamonkey\"\r\n}\r\n//#endregion\r\n\r\n//#region HtmlElement\r\nexport function createDiv(options?: DivOptions | null, container?: HTMLElement | JQuery | string | null, position?: ControlPositionEnum | null): Div\r\n{\r\n\tlet control = createControls<Div>(ControlTypeEnum.Div, container, position, null, options);\r\n\treturn control;\r\n}\r\n\r\nexport function div(container?: string | HTMLElement | JQuery, settings?: DivSettings, prepend = false): HTMLElement\r\n{\r\n\tlet classAttribute = \"\";\r\n\tlet idAttribute = \"\";\r\n\tlet css = \"\";\r\n\tlet content = \"\";\r\n\tlet title = \"\";\r\n\r\n\tif (settings != null)\r\n\t{\r\n\t\tif (settings.class != null)\r\n\t\t\tclassAttribute = \"class = '\" + settings.class + \"'\";\r\n\r\n\t\tif (settings.id != null)\r\n\t\t\tidAttribute = \"id = '\" + settings.id + \"'\";\r\n\r\n\t\tif (settings.css != null)\r\n\t\t\tcss = \"style='\" + settings.css + \"'\";\r\n\r\n\t\tif (settings.content != null)\r\n\t\t\tcontent = settings.content;\r\n\r\n\t\tif (settings.tooltip != null)\r\n\t\t\ttitle = \"title='\" + settings.tooltip + \"'\";\r\n\t}\r\n\r\n\tlet div = puma(\"<div \" + title + \" \" + classAttribute + \" \" + idAttribute + \" \" + css + \">\" + content + \"</div>\")[0];\r\n\tif (container != null)\r\n\t{\r\n\t\tif (typeof (container) == \"string\" && !container.startsWith(\"#\") && !container.startsWith(\".\"))\r\n\t\t\tcontainer = \"#\" + container;\r\n\r\n\t\tif (!prepend)\r\n\t\t\tpuma(div).vrAppendToPuma(container);\r\n\t\telse\r\n\t\t\tpuma(div).vrPrependToPuma(container);\r\n\t}\r\n\r\n\tif (settings != null && settings.attributes != null)\r\n\t{\r\n\t\tfor (let attribute of settings.attributes)\r\n\t\t\tpuma(div).attr(attribute.name, attribute.value);\r\n\t}\r\n\r\n\treturn div;\r\n}\r\nclass DivSettings\r\n{\r\n\tclass?: string;\r\n\tid?: string;\r\n\tcontent?: string;\r\n\tcss?: string;\r\n\ttooltip?: string;\r\n\tattributes?: AttributeSettings[];\r\n}\r\n\r\nexport function span(container?: string | HTMLElement | JQuery, settings?: SpanSettings, prepend = false): HTMLElement\r\n{\r\n\tlet classAttribute = \"\";\r\n\tlet idAttribute = \"\";\r\n\tlet css = \"\";\r\n\tlet content = \"\";\r\n\tlet title = \"\";\r\n\r\n\tif (settings != null)\r\n\t{\r\n\t\tif (settings.class != null)\r\n\t\t\tclassAttribute = \"class = '\" + settings.class + \"'\";\r\n\r\n\t\tif (settings.id != null)\r\n\t\t\tidAttribute = \"id = '\" + settings.id + \"'\";\r\n\r\n\t\tif (settings.css != null)\r\n\t\t\tcss = \"style='\" + settings.css + \"'\";\r\n\r\n\t\tif (settings.content != null)\r\n\t\t\tcontent = settings.content;\r\n\r\n\t\tif (settings.tooltip != null)\r\n\t\t\ttitle = \"title='\" + settings.tooltip + \"'\";\r\n\t}\r\n\r\n\tlet span = puma(\"<span \" + title + \" \" + classAttribute + \" \" + idAttribute + \" \" + css + \">\" + content + \"</span>\")[0];\r\n\tif (container != null)\r\n\t{\r\n\t\tif (typeof (container) == \"string\" && !container.startsWith(\"#\") && !container.startsWith(\".\"))\r\n\t\t\tcontainer = \"#\" + container;\r\n\r\n\t\tif (!prepend)\r\n\t\t\tpuma(span).vrAppendToPuma(container);\r\n\t\telse\r\n\t\t\tpuma(span).vrPrependToPuma(container);\r\n\t}\r\n\r\n\tif (settings != null && settings.attributes != null)\r\n\t{\r\n\t\tfor (let attribute of settings.attributes)\r\n\t\t\tpuma(span).attr(attribute.name, attribute.value);\r\n\t}\r\n\r\n\treturn span;\r\n}\r\nclass SpanSettings\r\n{\r\n\tclass?: string;\r\n\tid?: string;\r\n\tcontent?: string;\r\n\tcss?: string;\r\n\ttooltip?: string;\r\n\tattributes?: AttributeSettings[];\r\n}\r\n\r\nexport function icon(iconClass: IconClass, container?: string | HTMLElement | JQuery | null, settings?: IconSettings | null, prepend = false): HTMLElement\r\n{\r\n\tif (container != null && typeof (container) == \"string\" && !container.startsWith(\"#\") && !container.startsWith(\".\"))\r\n\t\tcontainer = \"#\" + container;\r\n\r\n\tlet classAttribute = \"\";\r\n\tlet idAttribute = \"\";\r\n\tlet css = \"\";\r\n\r\n\t//#region Settings\r\n\tif (settings != null)\r\n\t{\r\n\t\tif (settings.id != null)\r\n\t\t\tidAttribute = \"id = '\" + settings.id + \"'\";\r\n\r\n\t\tif (settings.css != null)\r\n\t\t\tcss += settings.css + \";\";\r\n\r\n\t\tif (settings.fontSize != null)\r\n\t\t{\r\n\t\t\tif (typeof (settings.fontSize) == \"number\")\r\n\t\t\t\tsettings.fontSize = settings.fontSize + \"px\";\r\n\r\n\t\t\tcss += \"font-size: \" + settings.fontSize + \";\";\r\n\t\t}\r\n\r\n\t\tif (settings.color != null)\r\n\t\t\tcss += \"color: \" + settings.color + \";\";\r\n\r\n\t\tif (settings.class != null)\r\n\t\t\tclassAttribute += settings.class;\r\n\r\n\t\tif (settings.cursor != null)\r\n\t\t\tcss += \"cursor: \" + settings.cursor + \";\";\r\n\t}\r\n\t//#endregion\r\n\r\n\tlet icon = puma(\"<i class='\" + iconClass + \" vrIcon \" + classAttribute + \"' aria-hidden='true'\"\r\n\t\t+ \" id='\" + idAttribute + \"' style='\" + css + \"'></i>\")[0];\r\n\r\n\tif (container != null)\r\n\t{\r\n\t\tif (!prepend)\r\n\t\t\tpuma(icon).vrAppendToPuma(container);\r\n\t\telse\r\n\t\t\tpuma(icon).vrPrependToPuma(container);\r\n\t}\r\n\r\n\treturn icon;\r\n}\r\nexport class IconSettings\r\n{\r\n\tfontSize?: string | number;\r\n\tcss?: string;\r\n\tid?: string;\r\n\tcolor?: string;\r\n\tclass?: string;\r\n\tcursor?: string;\r\n\tposition?: PositionEnum;\r\n}\r\n\r\nexport function iframe(container: string | HTMLElement | JQuery, settings?: VrIframeSettings)\r\n{\r\n\tif (typeof (container) == \"string\" && !container.startsWith(\"#\") && !container.startsWith(\".\"))\r\n\t\tcontainer = \"#\" + container;\r\n\r\n\tif (settings == null) settings = new VrIframeSettings();\r\n\tif (settings.content == null) settings.content = \"\";\r\n\tif (settings.width == null) settings.width = \"100%\";\r\n\tif (settings.height == null) settings.height = \"100%\";\r\n\tif (typeof (settings.width) == \"number\") settings.width = settings.width + \"px\";\r\n\tif (typeof (settings.height) == \"number\") settings.height = settings.height + \"px\";\r\n\r\n\tlet iframe = puma(\"<iframe>\").vrAppendToPuma(container)[0];\r\n\tiframe.style.cssText += \"width: \" + settings.width + \"; height: \" + settings.height + \"; border: none;\" + settings.css;\r\n\r\n\tlet iframeBody: HTMLElement | null = null;\r\n\tlet iframeContentDocument = iframe.contentDocument;\r\n\tpuma(iframeContentDocument).find(\"body\").css(\"margin\", \"0px\");\r\n\tif (iframeContentDocument != null)\r\n\t\tiframeBody = iframeContentDocument.body;\r\n\r\n\tif (settings.content.includes(\".html\") || settings.content.includes(\".php\") || settings.content.includes(\".aspx\") || settings.content.includes(\"http\"))\r\n\t{\r\n\t\tif (settings.loader || settings.loader !== false)\r\n\t\t{\r\n\t\t\tif (settings.loader === true)\r\n\t\t\t\tsettings.loader = iframe;\r\n\r\n\t\t\tLoaderManager.show((settings.loader === false) ? iframe : settings.loader);\r\n\t\t}\r\n\r\n\t\tpuma(iframe).attr(\"src\", settings.content);\r\n\t\tpuma(iframe).on(\"load\", () => \r\n\t\t{\r\n\t\t\tlet iframeContentDocument = iframe!.contentDocument;\r\n\t\t\tpuma(iframeContentDocument).find(\"body\").css(\"margin\", \"0px\");\r\n\r\n\t\t\tif (settings!.callback != null)\r\n\t\t\t\tsettings!.callback();\r\n\r\n\t\t\tLoaderManager.hide();\r\n\t\t});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tpuma(settings.content).vrAppendToPuma(iframeBody);\r\n\r\n\t\tif (settings!.callback != null)\r\n\t\t\tsettings!.callback();\r\n\r\n\t\tLoaderManager.hide();\r\n\t}\r\n\r\n\tif (settings != null && settings.attributes != null)\r\n\t{\r\n\t\tfor (let attribute of settings.attributes)\r\n\t\t\tpuma(iframe).attr(attribute.name, attribute.value);\r\n\t}\r\n\r\n\treturn iframe as HTMLIFrameElement;\r\n}\r\nclass VrIframeSettings\r\n{\r\n\tcontent?: string;\r\n\tloader?: boolean | HTMLElement | JQuery | string;\r\n\tcallback?: Function;\r\n\twidth?: number | string;\r\n\theight?: number | string;\r\n\tcss?: string;\r\n\tattributes?: AttributeSettings[];\r\n}\r\n\r\nexport function br(container: string | HTMLElement | JQuery, count = 1)\r\n{\r\n\tif (typeof (container) == \"string\" && !container.startsWith(\"#\") && !container.startsWith(\".\"))\r\n\t\tcontainer = \"#\" + container;\r\n\r\n\tfor (let i = 0; i < count; i++)\r\n\t\tpuma(\"<br />\").vrAppendToPuma(container);\r\n}\r\n\r\nexport function hr(container: string | HTMLElement | JQuery, css: string = \"\", id?: string): HTMLElement\r\n{\r\n\tif (typeof (container) == \"string\" && !container.startsWith(\"#\") && !container.startsWith(\".\"))\r\n\t\tcontainer = \"#\" + container;\r\n\r\n\tlet idString = (id == null) ? \"\" : \" id='\" + id + \"'\";\r\n\r\n\treturn puma(\"<hr \" + idString + \" style='\" + css + \"' />\").vrAppendToPuma(container)[0];\r\n}\r\n\r\nexport function guid()\r\n{\r\n\tconst hex = [...Array(256).keys()].map(index => (index).toString(16).padStart(2, '0'));\r\n\tconst r = crypto.getRandomValues(new Uint8Array(16));\r\n\tr[6] = (r[6] & 0x0f) | 0x40;\r\n\tr[8] = (r[8] & 0x3f) | 0x80;\r\n\r\n\treturn [...r.entries()]\r\n\t\t.map(([index, int]) => [4, 6, 8, 10].includes(index) ? `-${hex[int]}` : hex[int])\r\n\t\t.join('');\r\n}\r\n\r\nexport class VrMarginSettings\r\n{\r\n\ttop?: number;\r\n\tright?: number;\r\n\tbottom?: number;\r\n\tleft?: number;\r\n}\r\n\r\nexport function showLoader(element?: string | HTMLElement | JQuery | boolean, transparency = true, tag?: any)\r\n{\r\n\tif (typeof (element) == \"boolean\") element = undefined;\r\n\tLoaderManager.show(element, transparency, tag);\r\n}\r\n\r\nexport function hideLoader(tag?: any)\r\n{\r\n\tLoaderManager.hide(tag);\r\n}\r\n//#endregion\r\n\r\n//#region Creator\r\nexport function pumo()\r\n{\r\n\tconfirm(\"Giuri solennemente di non avere buone intenzioni?\")\r\n\t\t.then(() => alert(\"Il signor Matteo Pumo è fiero di presentarti 'I controlli del malandrino'! So che saprai usarli nel modo giusto\"))\r\n\t\t.catch(() => alert(\"Peggio per te, non saprai mai quant'è profonda la tana del bianconiglio\"))\r\n}\r\n\r\nexport enum CreatorEnum\r\n{\r\n\tMatteoPumo = \"MatteoPumo\",\r\n\tMatteoPumoSite = \"https://www.matteopumo.com\",\r\n\tMatteoPumoMail = \"info@matteopumo.com\",\r\n\tVettoreRinascimento = \"VettoreRinascimento\",\r\n\tVettoreMedical = \"VettoreMedical\",\r\n\tYear2020 = \"Year2020\",\r\n\tPureJqueryTypescript = \"PureJqueryTypescript\",\r\n\tFastestControlsEver = \"FastestControlsEver\"\r\n}\r\n//#endregion\r\n\r\n//#region Icons\r\nexport type IconClass = IconClassicSolid | IconClassicLight | IconClassicRegular | IconClassicDuotone | IconClassicThin\r\n\t| IconClassicBrands | IconSharpSolid | IconSharpLight | IconSharpRegular | IconSharpDuotone | IconSharpThin | string;\r\n\r\n//#region Icon Classic\r\n\r\n//#region Icon Brands\r\nexport enum IconClassicBrands\r\n{\r\n\tAmazon = \"fa-brands fa-amazon\",\r\n\tAndroid = \"fa-brands fa-android\",\r\n\tApple = \"fa-brands fa-apple\",\r\n\tAppStore = \"fa-brands fa-app-store\",\r\n\tFacebook = \"fa-brands fa-facebook\",\r\n\tGoogle = \"fa-brands fa-google\",\r\n\tGooglePlay = \"fa-brands fa-google-play\",\r\n\tPaypal = \"fa-brands fa-paypal\",\r\n\tTwitter = \"fa-brands fa-twitter\",\r\n\tVimeo = \"fa-brands fa-vimeo\",\r\n\tWhatsapp = \"fa-brands fa-whatsapp\",\r\n\tWindows = \"fa-brands fa-windows\",\r\n\tYoutube = \"fa-brands fa-youtube\",\r\n}\r\n//#endregion\r\n\r\n//#region Icon Solid\r\nexport enum IconClassicSolid\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-solid fa-plus\",\r\n\tAddressCard = \"fa-solid fa-address-card\",\r\n\tAlert = \"fa-solid fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-solid fa-angle-down\",\r\n\tAngleLeft = \"fa-solid fa-angle-left\",\r\n\tAngleRight = \"fa-solid fa-angle-right\",\r\n\tAngleUp = \"fa-solid fa-angle-up\",\r\n\tAperture = \"fa-solid fa-aperture\",\r\n\tArrowDown = \"fa-solid fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-solid fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-solid fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-solid fa-arrow-left\",\r\n\tArrowPointer = \"fa-solid fa-arrow-pointer\",\r\n\tArrowRight = \"fa-solid fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-solid fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-solid fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-solid fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-solid fa-arrows-rotate\",\r\n\tArrowUp = \"fa-solid fa-arrow-up\",\r\n\tAsterisk = \"fa-solid fa-asterisk\",\r\n\tAt = \"fa-solid fa-at\",\r\n\tAttachment = \"fa-solid fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-solid fa-angle-left\",\r\n\tBackward = \"fa-solid fa-backward\",\r\n\tBackwardFast = \"fa-solid fa-backward-fast\",\r\n\tBackwardStep = \"fa-solid fa-backward-step\",\r\n\tBalanceScale = \"fa-solid fa-balance-scale\",\r\n\tBallotCheck = \"fa-solid fa-ballot-check\",\r\n\tBan = \"fa-solid fa-ban\",\r\n\tBarcode = \"fa-solid fa-barcode\",\r\n\tBarcodeScan = \"fa-solid fa-barcode-scan\",\r\n\tBars = \"fa-solid fa-bars\",\r\n\tBarsSort = \"fa-solid fa-bars-sort\",\r\n\tBell = \"fa-solid fa-bell\",\r\n\tBellSlash = \"fa-solid fa-bell-slash\",\r\n\tBolt = \"fa-solid fa-bolt\",\r\n\tBook = \"fa-solid fa-book\",\r\n\tBookOpen = \"fa-solid fa-book-open\",\r\n\tBox = \"fa-solid fa-box\",\r\n\tBoxArchive = \"fa-solid fa-box-archive\",\r\n\tBriefCase = \"fa-solid fa-brief-case\",\r\n\tBug = \"fa-solid fa-bug\",\r\n\tBurger = \"fa-solid fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-solid fa-cake-candles\",\r\n\tCalendar = \"fa-solid fa-calendar\",\r\n\tCalendarAlt = \"fa-solid fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-solid fa-calendar-check\",\r\n\tCalendarDay = \"fa-solid fa-calendar-day\",\r\n\tCalendarPlus = \"fa-solid fa-calendar-plus\",\r\n\tCamera = \"fa-solid fa-camera\",\r\n\tCameraAlt = \"fa-solid fa-camera-alt\",\r\n\tCameraWeb = \"fa-solid fa-camera-web\",\r\n\tCameraWebSlash = \"fa-solid fa-camera-web-slash\",\r\n\tCapsules = \"fa-solid fa-capsules\",\r\n\tCaretDown = \"fa-solid fa-caret-down\",\r\n\tCaretLeft = \"fa-solid fa-caret-left\",\r\n\tCaretRight = \"fa-solid fa-caret-right\",\r\n\tCaretUp = \"fa-solid fa-caret-up\",\r\n\tCartCirclePlus = \"fa-solid fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-solid fa-cart-shopping\",\r\n\tChartArea = \"fa-solid fa-chart-area\",\r\n\tChartBar = \"fa-solid fa-chart-bar\",\r\n\tChartColumn = \"fa-solid fa-chart-column\",\r\n\tChartLine = \"fa-solid fa-chart-line\",\r\n\tChartPie = \"fa-solid fa-chart-pie\",\r\n\tChartSimple = \"fa-solid fa-chart-simple\",\r\n\tChat = \"fa-solid fa-comment\",\r\n\tCheck = \"fa-solid fa-check\",\r\n\tChevronDown = \"fa-solid fa-chevron-down\",\r\n\tChevronLeft = \"fa-solid fa-chevron-left\",\r\n\tChevronRight = \"fa-solid fa-chevron-right\",\r\n\tChevronUp = \"fa-solid fa-chevron-up\",\r\n\tCircle = \"fa-solid fa-circle\",\r\n\tCircleCheck = \"fa-solid fa-circle-check\",\r\n\tCircleExclamation = \"fa-solid fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-solid fa-circle-info\",\r\n\tCircleStop = \"fa-solid fa-circle-stop\",\r\n\tClipboard = \"fa-solid fa-clipboard\",\r\n\tClipboardMedical = \"fa-solid fa-clipboard-medical\",\r\n\tClock = \"fa-solid fa-clock\",\r\n\tClockRotateLeft = \"fa-solid fa-clock-rotate-left\",\r\n\tClose = \"fa-solid fa-xmark\",\r\n\tCloud = \"fa-solid fa-cloud\",\r\n\tCloudArrowUp = \"fa-solid fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-solid fa-cloud-download\",\r\n\tCode = \"fa-solid fa-code\",\r\n\tCodeMerge = \"fa-solid fa-code-merge\",\r\n\tCoins = \"fa-solid fa-coins\",\r\n\tCollapse = \"fa-solid fa-compress\",\r\n\tComment = \"fa-solid fa-comment\",\r\n\tCommentDots = \"fa-solid fa-comment-dots\",\r\n\tCommentLines = \"fa-solid fa-comment-lines\",\r\n\tComments = \"fa-solid fa-comments\",\r\n\tCommentSms = \"fa-solid fa-comment-sms\",\r\n\tCompress = \"fa-solid fa-compress\",\r\n\tCopy = \"fa-solid fa-copy\",\r\n\tCopyright = \"fa-solid fa-copyright\",\r\n\tCreditCard = \"fa-solid fa-credit-card\",\r\n\tCrown = \"fa-solid fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-solid fa-database\",\r\n\tDelete = \"fa-solid fa-xmark\",\r\n\tDeleteLeft = \"fa-solid fa-delete-left\",\r\n\tDeleteRight = \"fa-solid fa-delete-right\",\r\n\tDesktop = \"fa-solid fa-desktop\",\r\n\tDownload = \"fa-solid fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-solid fa-pen\",\r\n\tEject = \"fa-solid fa-eject\",\r\n\tEllipsis = \"fa-solid fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-solid fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-solid fa-envelope\",\r\n\tEraser = \"fa-solid fa-eraser\",\r\n\tEuroSign = \"fa-solid fa-euro-sign\",\r\n\tExclamation = \"fa-solid fa-exclamation\",\r\n\tExpand = \"fa-solid fa-expand\",\r\n\tEye = \"fa-solid fa-eye\",\r\n\tEyeSlash = \"fa-solid fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-solid fa-family\",\r\n\tFastBackward = \"fa-solid fa-fast-backward\",\r\n\tFastForward = \"fa-solid fa-fast-forward\",\r\n\tFile = \"fa-solid fa-file\",\r\n\tFileAudio = \"fa-solid fa-file-audio\",\r\n\tFileContract = \"fa-solid fa-file-contract\",\r\n\tFileDownload = \"fa-solid fa-file-download\",\r\n\tFileExcel = \"fa-solid fa-file-excel\",\r\n\tFileExport = \"fa-solid fa-file-export\",\r\n\tFileImage = \"fa-solid fa-file-image\",\r\n\tFileInvoice = \"fa-solid fa-file-invoice\",\r\n\tFileImport = \"fa-solid fa-file-import\",\r\n\tFileLines = \"fa-solid fa-file-lines\",\r\n\tFileMusic = \"fa-solid fa-file-music\",\r\n\tFilePdf = \"fa-solid fa-file-pdf\",\r\n\tFiles = \"fa-solid fa-file-files\",\r\n\tFileSignature = \"fa-solid fa-file-signature\",\r\n\tFileVideo = \"fa-solid fa-file-video\",\r\n\tFileWord = \"fa-solid fa-file-word\",\r\n\tFileZipper = \"fa-solid fa-file-zipper\",\r\n\tFilter = \"fa-solid fa-filter\",\r\n\tFlag = \"fa-solid fa-flag\",\r\n\tFlagSwallowTail = \"fa-solid fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-solid fa-floppy-disk\",\r\n\tFolder = \"fa-solid fa-folder\",\r\n\tFolderOpen = \"fa-solid fa-folder-open\",\r\n\tFontAwesome = \"fa-solid  fa-font-awesome\",\r\n\tForward = \"fa-solid fa-forward\",\r\n\tForwardStep = \"fa-solid fa-forward-step\",\r\n\tForwardFast = \"fa-solid fa-forward-fast\",\r\n\tFutbol = \"fa-solid fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-solid fa-gear\",\r\n\tGears = \"fa-solid fa-gears\",\r\n\tGlobe = \"fa-solid fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-solid fa-hashtag\",\r\n\tHatWizard = \"fa-solid fa-hat-wizard\",\r\n\tHeadset = \"fa-solid fa-headset\",\r\n\tHospital = \"fa-solid fa-hospital\",\r\n\tHourglass = \"fa-solid fa-hourglass\",\r\n\tHourglassClock = \"fa-solid fa-hourglass-clock\",\r\n\tHouse = \"fa-solid fa-house\",\r\n\tHouseMedical = \"fa-solid fa-house-medical\",\r\n\tHouseUser = \"fa-solid fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-solid fa-image\",\r\n\tInbox = \"fa-solid fa-inbox\",\r\n\tInboxFull = \"fa-solid fa-inbox-full\",\r\n\tInfo = \"fa-solid fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-solid fa-key\",\r\n\tKeyboard = \"fa-solid fa-keyboard\",\r\n\tKeySkeleton = \"fa-solid fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-solid fa-laptop\",\r\n\tLaptopMedical = \"fa-solid fa-laptop-medical\",\r\n\tLevelDown = \"fa-solid fa-level-down\",\r\n\tLevelDownAlt = \"fa-solid fa-level-down-alt\",\r\n\tLevelLeft = \"fa-solid fa-level-left\",\r\n\tLevelLeftAlt = \"fa-solid fa-level-left-alt\",\r\n\tLevelRight = \"fa-solid fa-level-right\",\r\n\tLevelRightAlt = \"fa-solid fa-level-right-alt\",\r\n\tLevelUp = \"fa-solid fa-level-up\",\r\n\tLevelUpAlt = \"fa-solid fa-level-up-alt\",\r\n\tLink = \"fa-solid fa-link\",\r\n\tLinkExternal = \"fa-solid fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-solid fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-solid fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-solid fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-solid fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-solid fa-link-slash\",\r\n\tList = \"fa-solid fa-list\",\r\n\tListCheck = \"fa-solid fa-list-check\",\r\n\tListOl = \"fa-solid fa-list-ol\",\r\n\tListTree = \"fa-solid fa-list-tree\",\r\n\tListUl = \"fa-solid fa-list-ul\",\r\n\tLocationArrow = \"fa-solid fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-solid fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-solid fa-location-check\",\r\n\tLocationDot = \"fa-solid fa-location-dot\",\r\n\tLock = \"fa-solid fa-lock\",\r\n\tLockOpen = \"fa-solid fa-lock-open\",\r\n\tLogin = \"fa-solid fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-solid fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-solid fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-solid fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-solid fa-magnifying-glass-plus\",\r\n\tMail = \"fa-solid fa-envelope\",\r\n\tMailbox = \"fa-solid fa-mailbox\",\r\n\tMailOpen = \"fa-solid fa-envelope-open\",\r\n\tMap = \"fa-solid fa-map\",\r\n\tMapLocation = \"fa-solid fa-map-location\",\r\n\tMapLocationDot = \"fa-solid fa-map-location-dot\",\r\n\tMapPin = \"fa-solid fa-map-pin\",\r\n\tMaximize = \"fa-solid fa-maximize\",\r\n\tMerge = \"fa-solid fa-merge\",\r\n\tMessage = \"fa-solid fa-message\",\r\n\tMessageCode = \"fa-solid fa-message-code\",\r\n\tMessageDots = \"fa-solid fa-message-dots\",\r\n\tMessageLines = \"fa-solid fa-message-lines\",\r\n\tMessages = \"fa-solid fa-messages\",\r\n\tMicrophone = \"fa-solid fa-microphone\",\r\n\tMicrophoneLines = \"fa-solid fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-solid fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-solid fa-microphone-slash\",\r\n\tMicroscope = \"fa-solid fa-microscope\",\r\n\tMinimize = \"fa-solid fa-minimize\",\r\n\tMinus = \"fa-solid fa-minus\",\r\n\tMobile = \"fa-solid fa-mobile\",\r\n\tMobileNotch = \"fa-solid fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-solid fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-solid fa-music\",\r\n\tMusicSlash = \"fa-solid fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-solid fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-solid fa-palette\",\r\n\tPaperClip = \"fa-solid fa-paperclip\",\r\n\tPaperClipVertical = \"fa-solid fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-solid fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-solid fa-paper-plane-top\",\r\n\tPaste = \"fa-solid fa-paste\",\r\n\tPause = \"fa-solid fa-pause\",\r\n\tPencil = \"fa-solid fa-pencil\",\r\n\tPen = \"fa-solid fa-pen\",\r\n\tPenToSquare = \"fa-solid fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-solid fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-solid fa-percentage\",\r\n\tPersonChalkboard = \"fa-solid fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-solid fa-person-military-rifle\",\r\n\tPhone = \"fa-solid fa-phone\",\r\n\tPlay = \"fa-solid fa-play\",\r\n\tPlayPause = \"fa-solid fa-play-pause\",\r\n\tPlus = \"fa-solid fa-plus\",\r\n\tPrint = \"fa-solid fa-print\",\r\n\tPumo = \"fa-solid fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-solid fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-solid fa-redo\",\r\n\tRedoAlt = \"fa-solid fa-redo-alt\",\r\n\tRefresh = \"fa-solid fa-arrows-rotate\",\r\n\tRemove = \"fa-solid fa-xmark\",\r\n\tRepeat = \"fa-solid fa-repeat\",\r\n\tReply = \"fa-solid fa-reply\",\r\n\tReplyAll = \"fa-solid fa-reply-all\",\r\n\tRightFromBracket = \"fa-solid fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-solid fa-right-to-bracket\",\r\n\tRotate = \"fa-solid fa-rotate\",\r\n\tRotateLeft = \"fa-solid fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-solid fa-sack-dollar\",\r\n\tSave = \"fa-solid fa-floppy-disk\",\r\n\tScissors = \"fa-solid fa-scissors\",\r\n\tScrewdriverWrench = \"fa-solid fa-screwdriver-wrench\",\r\n\tSearch = \"fa-solid fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-solid fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-solid fa-gear\",\r\n\tShare = \"fa-solid fa-share\",\r\n\tShareAll = \"fa-solid fa-share-all\",\r\n\tShareNodes = \"fa-solid fa-share-nodes\",\r\n\tShareFromSquare = \"fa-solid fa-share-from-square\",\r\n\tShieldCheck = \"fa-solid fa-shield-check\",\r\n\tShip = \"fa-solid fa-ship\",\r\n\tSitemap = \"fa-solid fa-sitemap\",\r\n\tSoccer = \"fa-solid fa-futbol\",\r\n\tSort = \"fa-solid fa-sort\",\r\n\tSortDown = \"fa-solid fa-sort-down\",\r\n\tSortUp = \"fa-solid fa-sort-up\",\r\n\tSpinner = \"fa-solid fa-spinner\",\r\n\tSplit = \"fa-solid fa-split\",\r\n\tSquareCheck = \"fa-solid fa-square-check\",\r\n\tSquareMinus = \"fa-solid fa-square-minus\",\r\n\tSquarePen = \"fa-solid fa-square-pen\",\r\n\tStar = \"fa-solid fa-star\",\r\n\tStepBackward = \"fa-solid fa-step-backward\",\r\n\tStepForward = \"fa-solid fa-step-forward\",\r\n\tStethoscope = \"fa-solid fa-stethoscope\",\r\n\tStop = \"fa-solid fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-solid fa-table\",\r\n\tTableRows = \"fa-solid fa-table-rows\",\r\n\tTablet = \"fa-solid fa-tablet\",\r\n\tTag = \"fa-solid fa-tag\",\r\n\tTags = \"fa-solid fa-tags\",\r\n\tTasks = \"fa-solid fa-tasks\",\r\n\tThumbsDown = \"fa-solid fa-thumbs-down\",\r\n\tThumbsUp = \"fa-solid fa-thumbs-up\",\r\n\tThumbtack = \"fa-solid fa-thumbtack\",\r\n\tTrash = \"fa-solid fa-trash\",\r\n\tTrashCanList = \"fa-solid fa-trash-can-list\",\r\n\tTrashUndo = \"fa-solid fa-trash-undo\",\r\n\tTrashXmark = \"fa-solid fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-solid fa-triangle-exclamation\",\r\n\tTruck = \"fa-solid fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-solid fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-solid fa-unlock\",\r\n\tUpload = \"fa-solid fa-upload\",\r\n\tUsbDrive = \"fa-solid fa-usb-drive\",\r\n\tUser = \"fa-solid fa-user\",\r\n\tUserCheck = \"fa-solid fa-user-check\",\r\n\tUserClock = \"fa-solid fa-user-clock\",\r\n\tUserDoctor = \"fa-solid fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-solid fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-solid fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-solid fa-user-gear\",\r\n\tUserGroup = \"fa-solid fa-user-group\",\r\n\tUserHair = \"fa-solid fa-user-hair\",\r\n\tUserHairLong = \"fa-solid fa-user-hair-long\",\r\n\tUserHeadset = \"fa-solid fa-user-headset\",\r\n\tUsers = \"fa-solid fa-users\",\r\n\tUserSecret = \"fa-solid fa-user-secret\",\r\n\tUsersMedical = \"fa-solid fa-users-medical\",\r\n\tUserTag = \"fa-solid fa-user-tag\",\r\n\tUserXmark = \"fa-solid fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-solid fa-video\",\r\n\tVideoSlash = \"fa-solid fa-video-slash\",\r\n\tVolume = \"fa-solid fa-volume\",\r\n\tVolumeHigh = \"fa-solid fa-volume-high\",\r\n\tVolumeLow = \"fa-solid fa-volume-low\",\r\n\tVolumeOff = \"fa-solid fa-volume-off\",\r\n\tVolumeSlash = \"fa-solid fa-volume-slash\",\r\n\tVolumeXmark = \"fa-solid fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-solid fa-wifi\",\r\n\tWifiExclamation = \"fa-solid fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-solid fa-wifi-fair\",\r\n\tWifiSlash = \"fa-solid fa-wifi-slash\",\r\n\tWindow = \"fa-solid fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-solid fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Light\r\nexport enum IconClassicLight\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-light fa-plus\",\r\n\tAddressCard = \"fa-light fa-address-card\",\r\n\tAlert = \"fa-light fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-light fa-angle-down\",\r\n\tAngleLeft = \"fa-light fa-angle-left\",\r\n\tAngleRight = \"fa-light fa-angle-right\",\r\n\tAngleUp = \"fa-light fa-angle-up\",\r\n\tAperture = \"fa-light fa-aperture\",\r\n\tArrowDown = \"fa-light fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-light fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-light fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-light fa-arrow-left\",\r\n\tArrowPointer = \"fa-light fa-arrow-pointer\",\r\n\tArrowRight = \"fa-light fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-light fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-light fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-light fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-light fa-arrows-rotate\",\r\n\tArrowUp = \"fa-light fa-arrow-up\",\r\n\tAsterisk = \"fa-light fa-asterisk\",\r\n\tAt = \"fa-light fa-at\",\r\n\tAttachment = \"fa-light fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-light fa-angle-left\",\r\n\tBackward = \"fa-light fa-backward\",\r\n\tBackwardFast = \"fa-light fa-backward-fast\",\r\n\tBackwardStep = \"fa-light fa-backward-step\",\r\n\tBalanceScale = \"fa-light fa-balance-scale\",\r\n\tBallotCheck = \"fa-light fa-ballot-check\",\r\n\tBan = \"fa-light fa-ban\",\r\n\tBarcode = \"fa-light fa-barcode\",\r\n\tBarcodeScan = \"fa-light fa-barcode-scan\",\r\n\tBars = \"fa-light fa-bars\",\r\n\tBarsSort = \"fa-light fa-bars-sort\",\r\n\tBell = \"fa-light fa-bell\",\r\n\tBellSlash = \"fa-light fa-bell-slash\",\r\n\tBolt = \"fa-light fa-bolt\",\r\n\tBook = \"fa-light fa-book\",\r\n\tBookOpen = \"fa-light fa-book-open\",\r\n\tBox = \"fa-light fa-box\",\r\n\tBoxArchive = \"fa-light fa-box-archive\",\r\n\tBriefCase = \"fa-light fa-brief-case\",\r\n\tBug = \"fa-light fa-bug\",\r\n\tBurger = \"fa-light fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-light fa-cake-candles\",\r\n\tCalendar = \"fa-light fa-calendar\",\r\n\tCalendarAlt = \"fa-light fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-light fa-calendar-check\",\r\n\tCalendarDay = \"fa-light fa-calendar-day\",\r\n\tCalendarPlus = \"fa-light fa-calendar-plus\",\r\n\tCamera = \"fa-light fa-camera\",\r\n\tCameraAlt = \"fa-light fa-camera-alt\",\r\n\tCameraWeb = \"fa-light fa-camera-web\",\r\n\tCameraWebSlash = \"fa-light fa-camera-web-slash\",\r\n\tCapsules = \"fa-light fa-capsules\",\r\n\tCaretDown = \"fa-light fa-caret-down\",\r\n\tCaretLeft = \"fa-light fa-caret-left\",\r\n\tCaretRight = \"fa-light fa-caret-right\",\r\n\tCaretUp = \"fa-light fa-caret-up\",\r\n\tCartCirclePlus = \"fa-light fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-light fa-cart-shopping\",\r\n\tChartArea = \"fa-light fa-chart-area\",\r\n\tChartBar = \"fa-light fa-chart-bar\",\r\n\tChartColumn = \"fa-light fa-chart-column\",\r\n\tChartLine = \"fa-light fa-chart-line\",\r\n\tChartPie = \"fa-light fa-chart-pie\",\r\n\tChartSimple = \"fa-light fa-chart-simple\",\r\n\tChat = \"fa-light fa-comment\",\r\n\tCheck = \"fa-light fa-check\",\r\n\tChevronDown = \"fa-light fa-chevron-down\",\r\n\tChevronLeft = \"fa-light fa-chevron-left\",\r\n\tChevronRight = \"fa-light fa-chevron-right\",\r\n\tChevronUp = \"fa-light fa-chevron-up\",\r\n\tCircle = \"fa-light fa-circle\",\r\n\tCircleCheck = \"fa-light fa-circle-check\",\r\n\tCircleExclamation = \"fa-light fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-light fa-circle-info\",\r\n\tCircleStop = \"fa-light fa-circle-stop\",\r\n\tClipboard = \"fa-light fa-clipboard\",\r\n\tClipboardMedical = \"fa-light fa-clipboard-medical\",\r\n\tClock = \"fa-light fa-clock\",\r\n\tClockRotateLeft = \"fa-light fa-clock-rotate-left\",\r\n\tClose = \"fa-light fa-xmark\",\r\n\tCloud = \"fa-light fa-cloud\",\r\n\tCloudArrowUp = \"fa-light fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-light fa-cloud-download\",\r\n\tCode = \"fa-light fa-code\",\r\n\tCodeMerge = \"fa-light fa-code-merge\",\r\n\tCoins = \"fa-light fa-coins\",\r\n\tCollapse = \"fa-light fa-compress\",\r\n\tComment = \"fa-light fa-comment\",\r\n\tCommentDots = \"fa-light fa-comment-dots\",\r\n\tCommentLines = \"fa-light fa-comment-lines\",\r\n\tComments = \"fa-light fa-comments\",\r\n\tCommentSms = \"fa-light fa-comment-sms\",\r\n\tCompress = \"fa-light fa-compress\",\r\n\tCopy = \"fa-light fa-copy\",\r\n\tCopyright = \"fa-light fa-copyright\",\r\n\tCreditCard = \"fa-light fa-credit-card\",\r\n\tCrown = \"fa-light fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-light fa-database\",\r\n\tDelete = \"fa-light fa-xmark\",\r\n\tDeleteLeft = \"fa-light fa-delete-left\",\r\n\tDeleteRight = \"fa-light fa-delete-right\",\r\n\tDesktop = \"fa-light fa-desktop\",\r\n\tDownload = \"fa-light fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-light fa-pen\",\r\n\tEject = \"fa-light fa-eject\",\r\n\tEllipsis = \"fa-light fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-light fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-light fa-envelope\",\r\n\tEraser = \"fa-light fa-eraser\",\r\n\tEuroSign = \"fa-light fa-euro-sign\",\r\n\tExclamation = \"fa-light fa-exclamation\",\r\n\tExpand = \"fa-light fa-expand\",\r\n\tEye = \"fa-light fa-eye\",\r\n\tEyeSlash = \"fa-light fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-light fa-family\",\r\n\tFastBackward = \"fa-light fa-fast-backward\",\r\n\tFastForward = \"fa-light fa-fast-forward\",\r\n\tFile = \"fa-light fa-file\",\r\n\tFileAudio = \"fa-light fa-file-audio\",\r\n\tFileContract = \"fa-light fa-file-contract\",\r\n\tFileDownload = \"fa-light fa-file-download\",\r\n\tFileExcel = \"fa-light fa-file-excel\",\r\n\tFileExport = \"fa-light fa-file-export\",\r\n\tFileImage = \"fa-light fa-file-image\",\r\n\tFileInvoice = \"fa-light fa-file-invoice\",\r\n\tFileImport = \"fa-light fa-file-import\",\r\n\tFileLines = \"fa-light fa-file-lines\",\r\n\tFileMusic = \"fa-light fa-file-music\",\r\n\tFilePdf = \"fa-light fa-file-pdf\",\r\n\tFiles = \"fa-light fa-file-files\",\r\n\tFileSignature = \"fa-light fa-file-signature\",\r\n\tFileVideo = \"fa-light fa-file-video\",\r\n\tFileWord = \"fa-light fa-file-word\",\r\n\tFileZipper = \"fa-light fa-file-zipper\",\r\n\tFilter = \"fa-light fa-filter\",\r\n\tFlag = \"fa-light fa-flag\",\r\n\tFlagSwallowTail = \"fa-light fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-light fa-floppy-disk\",\r\n\tFolder = \"fa-light fa-folder\",\r\n\tFolderOpen = \"fa-light fa-folder-open\",\r\n\tFontAwesome = \"fa-light  fa-font-awesome\",\r\n\tForward = \"fa-light fa-forward\",\r\n\tForwardStep = \"fa-light fa-forward-step\",\r\n\tForwardFast = \"fa-light fa-forward-fast\",\r\n\tFutbol = \"fa-light fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-light fa-gear\",\r\n\tGears = \"fa-light fa-gears\",\r\n\tGlobe = \"fa-light fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-light fa-hashtag\",\r\n\tHatWizard = \"fa-light fa-hat-wizard\",\r\n\tHeadset = \"fa-light fa-headset\",\r\n\tHospital = \"fa-light fa-hospital\",\r\n\tHourglass = \"fa-light fa-hourglass\",\r\n\tHourglassClock = \"fa-light fa-hourglass-clock\",\r\n\tHouse = \"fa-light fa-house\",\r\n\tHouseMedical = \"fa-light fa-house-medical\",\r\n\tHouseUser = \"fa-light fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-light fa-image\",\r\n\tInbox = \"fa-light fa-inbox\",\r\n\tInboxFull = \"fa-light fa-inbox-full\",\r\n\tInfo = \"fa-light fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-light fa-key\",\r\n\tKeyboard = \"fa-light fa-keyboard\",\r\n\tKeySkeleton = \"fa-light fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-light fa-laptop\",\r\n\tLaptopMedical = \"fa-light fa-laptop-medical\",\r\n\tLevelDown = \"fa-light fa-level-down\",\r\n\tLevelDownAlt = \"fa-light fa-level-down-alt\",\r\n\tLevelLeft = \"fa-light fa-level-left\",\r\n\tLevelLeftAlt = \"fa-light fa-level-left-alt\",\r\n\tLevelRight = \"fa-light fa-level-right\",\r\n\tLevelRightAlt = \"fa-light fa-level-right-alt\",\r\n\tLevelUp = \"fa-light fa-level-up\",\r\n\tLevelUpAlt = \"fa-light fa-level-up-alt\",\r\n\tLink = \"fa-light fa-link\",\r\n\tLinkExternal = \"fa-light fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-light fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-light fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-light fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-light fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-light fa-link-slash\",\r\n\tList = \"fa-light fa-list\",\r\n\tListCheck = \"fa-light fa-list-check\",\r\n\tListOl = \"fa-light fa-list-ol\",\r\n\tListTree = \"fa-light fa-list-tree\",\r\n\tListUl = \"fa-light fa-list-ul\",\r\n\tLocationArrow = \"fa-light fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-light fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-light fa-location-check\",\r\n\tLocationDot = \"fa-light fa-location-dot\",\r\n\tLock = \"fa-light fa-lock\",\r\n\tLockOpen = \"fa-light fa-lock-open\",\r\n\tLogin = \"fa-light fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-light fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-light fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-light fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-light fa-magnifying-glass-plus\",\r\n\tMail = \"fa-light fa-envelope\",\r\n\tMailbox = \"fa-light fa-mailbox\",\r\n\tMailOpen = \"fa-light fa-envelope-open\",\r\n\tMap = \"fa-light fa-map\",\r\n\tMapLocation = \"fa-light fa-map-location\",\r\n\tMapLocationDot = \"fa-light fa-map-location-dot\",\r\n\tMapPin = \"fa-light fa-map-pin\",\r\n\tMaximize = \"fa-light fa-maximize\",\r\n\tMerge = \"fa-light fa-merge\",\r\n\tMessage = \"fa-light fa-message\",\r\n\tMessageCode = \"fa-light fa-message-code\",\r\n\tMessageDots = \"fa-light fa-message-dots\",\r\n\tMessageLines = \"fa-light fa-message-lines\",\r\n\tMessages = \"fa-light fa-messages\",\r\n\tMicrophone = \"fa-light fa-microphone\",\r\n\tMicrophoneLines = \"fa-light fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-light fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-light fa-microphone-slash\",\r\n\tMicroscope = \"fa-light fa-microscope\",\r\n\tMinimize = \"fa-light fa-minimize\",\r\n\tMinus = \"fa-light fa-minus\",\r\n\tMobile = \"fa-light fa-mobile\",\r\n\tMobileNotch = \"fa-light fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-light fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-light fa-music\",\r\n\tMusicSlash = \"fa-light fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-light fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-light fa-palette\",\r\n\tPaperClip = \"fa-light fa-paperclip\",\r\n\tPaperClipVertical = \"fa-light fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-light fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-light fa-paper-plane-top\",\r\n\tPaste = \"fa-light fa-paste\",\r\n\tPause = \"fa-light fa-pause\",\r\n\tPen = \"fa-light fa-pen\",\r\n\tPencil = \"fa-light fa-pencil\",\r\n\tPenToSquare = \"fa-light fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-light fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-light fa-percentage\",\r\n\tPersonChalkboard = \"fa-light fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-light fa-person-military-rifle\",\r\n\tPhone = \"fa-light fa-phone\",\r\n\tPlay = \"fa-light fa-play\",\r\n\tPlayPause = \"fa-light fa-play-pause\",\r\n\tPlus = \"fa-light fa-plus\",\r\n\tPrint = \"fa-light fa-print\",\r\n\tPumo = \"fa-light fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-light fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-light fa-redo\",\r\n\tRedoAlt = \"fa-light fa-redo-alt\",\r\n\tRefresh = \"fa-light fa-arrows-rotate\",\r\n\tRemove = \"fa-light fa-xmark\",\r\n\tRepeat = \"fa-light fa-repeat\",\r\n\tReply = \"fa-light fa-reply\",\r\n\tReplyAll = \"fa-light fa-reply-all\",\r\n\tRightFromBracket = \"fa-light fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-light fa-right-to-bracket\",\r\n\tRotate = \"fa-light fa-rotate\",\r\n\tRotateLeft = \"fa-light fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-light fa-sack-dollar\",\r\n\tSave = \"fa-light fa-floppy-disk\",\r\n\tScissors = \"fa-light fa-scissors\",\r\n\tScrewdriverWrench = \"fa-light fa-screwdriver-wrench\",\r\n\tSearch = \"fa-light fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-light fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-light fa-gear\",\r\n\tShare = \"fa-light fa-share\",\r\n\tShareAll = \"fa-light fa-share-all\",\r\n\tShareNodes = \"fa-light fa-share-nodes\",\r\n\tShareFromSquare = \"fa-light fa-share-from-square\",\r\n\tShieldCheck = \"fa-light fa-shield-check\",\r\n\tShip = \"fa-light fa-ship\",\r\n\tSitemap = \"fa-light fa-sitemap\",\r\n\tSoccer = \"fa-light fa-futbol\",\r\n\tSort = \"fa-light fa-sort\",\r\n\tSortDown = \"fa-light fa-sort-down\",\r\n\tSortUp = \"fa-light fa-sort-up\",\r\n\tSpinner = \"fa-light fa-spinner\",\r\n\tSplit = \"fa-light fa-split\",\r\n\tSquareCheck = \"fa-light fa-square-check\",\r\n\tSquareMinus = \"fa-light fa-square-minus\",\r\n\tSquarePen = \"fa-light fa-square-pen\",\r\n\tStamp = \"fa-light fa-stamp\",\r\n\tStar = \"fa-light fa-star\",\r\n\tStepBackward = \"fa-light fa-step-backward\",\r\n\tStepForward = \"fa-light fa-step-forward\",\r\n\tStethoscope = \"fa-light fa-stethoscope\",\r\n\tStop = \"fa-light fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-light fa-table\",\r\n\tTableRows = \"fa-light fa-table-rows\",\r\n\tTablet = \"fa-light fa-tablet\",\r\n\tTag = \"fa-light fa-tag\",\r\n\tTags = \"fa-light fa-tags\",\r\n\tTasks = \"fa-light fa-tasks\",\r\n\tThumbsDown = \"fa-light fa-thumbs-down\",\r\n\tThumbsUp = \"fa-light fa-thumbs-up\",\r\n\tThumbtack = \"fa-light fa-thumbtack\",\r\n\tTimer = \"fa-light fa-timer\",\r\n\tTrash = \"fa-light fa-trash\",\r\n\tTrashCanList = \"fa-light fa-trash-can-list\",\r\n\tTrashUndo = \"fa-light fa-trash-undo\",\r\n\tTrashXmark = \"fa-light fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-light fa-triangle-exclamation\",\r\n\tTruck = \"fa-light fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-light fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-light fa-unlock\",\r\n\tUpload = \"fa-light fa-upload\",\r\n\tUsbDrive = \"fa-light fa-usb-drive\",\r\n\tUser = \"fa-light fa-user\",\r\n\tUserCheck = \"fa-light fa-user-check\",\r\n\tUserClock = \"fa-light fa-user-clock\",\r\n\tUserDoctor = \"fa-light fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-light fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-light fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-light fa-user-gear\",\r\n\tUserGroup = \"fa-light fa-user-group\",\r\n\tUserHair = \"fa-light fa-user-hair\",\r\n\tUserHairLong = \"fa-light fa-user-hair-long\",\r\n\tUserHeadset = \"fa-light fa-user-headset\",\r\n\tUsers = \"fa-light fa-users\",\r\n\tUserSecret = \"fa-light fa-user-secret\",\r\n\tUsersMedical = \"fa-light fa-users-medical\",\r\n\tUserTag = \"fa-light fa-user-tag\",\r\n\tUserXmark = \"fa-light fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-light fa-video\",\r\n\tVideoSlash = \"fa-light fa-video-slash\",\r\n\tVolume = \"fa-light fa-volume\",\r\n\tVolumeHigh = \"fa-light fa-volume-high\",\r\n\tVolumeLow = \"fa-light fa-volume-low\",\r\n\tVolumeOff = \"fa-light fa-volume-off\",\r\n\tVolumeSlash = \"fa-light fa-volume-slash\",\r\n\tVolumeXmark = \"fa-light fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-light fa-wifi\",\r\n\tWifiExclamation = \"fa-light fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-light fa-wifi-fair\",\r\n\tWifiSlash = \"fa-light fa-wifi-slash\",\r\n\tWindow = \"fa-light fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-light fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Regular\r\nexport enum IconClassicRegular\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-regular fa-plus\",\r\n\tAddressCard = \"fa-regular fa-address-card\",\r\n\tAlert = \"fa-regular fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-regular fa-angle-down\",\r\n\tAngleLeft = \"fa-regular fa-angle-left\",\r\n\tAngleRight = \"fa-regular fa-angle-right\",\r\n\tAngleUp = \"fa-regular fa-angle-up\",\r\n\tAperture = \"fa-regular fa-aperture\",\r\n\tArrowDown = \"fa-regular fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-regular fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-regular fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-regular fa-arrow-left\",\r\n\tArrowPointer = \"fa-regular fa-arrow-pointer\",\r\n\tArrowRight = \"fa-regular fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-regular fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-regular fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-regular fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-regular fa-arrows-rotate\",\r\n\tArrowUp = \"fa-regular fa-arrow-up\",\r\n\tAsterisk = \"fa-regular fa-asterisk\",\r\n\tAt = \"fa-regular fa-at\",\r\n\tAttachment = \"fa-regular fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-regular fa-angle-left\",\r\n\tBackward = \"fa-regular fa-backward\",\r\n\tBackwardFast = \"fa-regular fa-backward-fast\",\r\n\tBackwardStep = \"fa-regular fa-backward-step\",\r\n\tBalanceScale = \"fa-regular fa-balance-scale\",\r\n\tBallotCheck = \"fa-regular fa-ballot-check\",\r\n\tBan = \"fa-regular fa-ban\",\r\n\tBarcode = \"fa-regular fa-barcode\",\r\n\tBarcodeScan = \"fa-regular fa-barcode-scan\",\r\n\tBars = \"fa-regular fa-bars\",\r\n\tBarsSort = \"fa-regular fa-bars-sort\",\r\n\tBell = \"fa-regular fa-bell\",\r\n\tBellSlash = \"fa-regular fa-bell-slash\",\r\n\tBolt = \"fa-regular fa-bolt\",\r\n\tBook = \"fa-regular fa-book\",\r\n\tBookOpen = \"fa-regular fa-book-open\",\r\n\tBox = \"fa-regular fa-box\",\r\n\tBoxArchive = \"fa-regular fa-box-archive\",\r\n\tBriefCase = \"fa-regular fa-brief-case\",\r\n\tBug = \"fa-regular fa-bug\",\r\n\tBurger = \"fa-regular fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-regular fa-cake-candles\",\r\n\tCalendar = \"fa-regular fa-calendar\",\r\n\tCalendarAlt = \"fa-regular fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-regular fa-calendar-check\",\r\n\tCalendarDay = \"fa-regular fa-calendar-day\",\r\n\tCalendarPlus = \"fa-regular fa-calendar-plus\",\r\n\tCamera = \"fa-regular fa-camera\",\r\n\tCameraAlt = \"fa-regular fa-camera-alt\",\r\n\tCameraWeb = \"fa-regular fa-camera-web\",\r\n\tCameraWebSlash = \"fa-regular fa-camera-web-slash\",\r\n\tCapsules = \"fa-regular fa-capsules\",\r\n\tCaretDown = \"fa-regular fa-caret-down\",\r\n\tCaretLeft = \"fa-regular fa-caret-left\",\r\n\tCaretRight = \"fa-regular fa-caret-right\",\r\n\tCaretUp = \"fa-regular fa-caret-up\",\r\n\tCartCirclePlus = \"fa-regular fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-regular fa-cart-shopping\",\r\n\tChartArea = \"fa-regular fa-chart-area\",\r\n\tChartBar = \"fa-regular fa-chart-bar\",\r\n\tChartColumn = \"fa-regular fa-chart-column\",\r\n\tChartLine = \"fa-regular fa-chart-line\",\r\n\tChartPie = \"fa-regular fa-chart-pie\",\r\n\tChartSimple = \"fa-regular fa-chart-simple\",\r\n\tChat = \"fa-regular fa-comment\",\r\n\tCheck = \"fa-regular fa-check\",\r\n\tChevronDown = \"fa-regular fa-chevron-down\",\r\n\tChevronLeft = \"fa-regular fa-chevron-left\",\r\n\tChevronRight = \"fa-regular fa-chevron-right\",\r\n\tChevronUp = \"fa-regular fa-chevron-up\",\r\n\tCircle = \"fa-regular fa-circle\",\r\n\tCircleCheck = \"fa-regular fa-circle-check\",\r\n\tCircleExclamation = \"fa-regular fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-regular fa-circle-info\",\r\n\tCircleStop = \"fa-regular fa-circle-stop\",\r\n\tClipboard = \"fa-regular fa-clipboard\",\r\n\tClipboardMedical = \"fa-regular fa-clipboard-medical\",\r\n\tClock = \"fa-regular fa-clock\",\r\n\tClockRotateLeft = \"fa-regular fa-clock-rotate-left\",\r\n\tClose = \"fa-regular fa-xmark\",\r\n\tCloud = \"fa-regular fa-cloud\",\r\n\tCloudArrowUp = \"fa-regular fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-regular fa-cloud-download\",\r\n\tCode = \"fa-regular fa-code\",\r\n\tCodeMerge = \"fa-regular fa-code-merge\",\r\n\tCoins = \"fa-regular fa-coins\",\r\n\tCollapse = \"fa-regular fa-compress\",\r\n\tComment = \"fa-regular fa-comment\",\r\n\tCommentDots = \"fa-regular fa-comment-dots\",\r\n\tCommentLines = \"fa-regular fa-comment-lines\",\r\n\tComments = \"fa-regular fa-comments\",\r\n\tCommentSms = \"fa-regular fa-comment-sms\",\r\n\tCompress = \"fa-regular fa-compress\",\r\n\tCopy = \"fa-regular fa-copy\",\r\n\tCopyright = \"fa-regular fa-copyright\",\r\n\tCreditCard = \"fa-regular fa-credit-card\",\r\n\tCrown = \"fa-regular fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-regular fa-database\",\r\n\tDelete = \"fa-regular fa-xmark\",\r\n\tDeleteLeft = \"fa-regular fa-delete-left\",\r\n\tDeleteRight = \"fa-regular fa-delete-right\",\r\n\tDesktop = \"fa-regular fa-desktop\",\r\n\tDownload = \"fa-regular fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-regular fa-pen\",\r\n\tEject = \"fa-regular fa-eject\",\r\n\tEllipsis = \"fa-regular fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-regular fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-regular fa-envelope\",\r\n\tEraser = \"fa-regular fa-eraser\",\r\n\tEuroSign = \"fa-regular fa-euro-sign\",\r\n\tExclamation = \"fa-regular fa-exclamation\",\r\n\tExpand = \"fa-regular fa-expand\",\r\n\tEye = \"fa-regular fa-eye\",\r\n\tEyeSlash = \"fa-regular fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-regular fa-family\",\r\n\tFastBackward = \"fa-regular fa-fast-backward\",\r\n\tFastForward = \"fa-regular fa-fast-forward\",\r\n\tFile = \"fa-regular fa-file\",\r\n\tFileAudio = \"fa-regular fa-file-audio\",\r\n\tFileContract = \"fa-regular fa-file-contract\",\r\n\tFileDownload = \"fa-regular fa-file-download\",\r\n\tFileExcel = \"fa-regular fa-file-excel\",\r\n\tFileExport = \"fa-regular fa-file-export\",\r\n\tFileImage = \"fa-regular fa-file-image\",\r\n\tFileInvoice = \"fa-regular fa-file-invoice\",\r\n\tFileImport = \"fa-regular fa-file-import\",\r\n\tFileLines = \"fa-regular fa-file-lines\",\r\n\tFileMusic = \"fa-regular fa-file-music\",\r\n\tFilePdf = \"fa-regular fa-file-pdf\",\r\n\tFiles = \"fa-regular fa-file-files\",\r\n\tFileSignature = \"fa-regular fa-file-signature\",\r\n\tFileVideo = \"fa-regular fa-file-video\",\r\n\tFileWord = \"fa-regular fa-file-word\",\r\n\tFileZipper = \"fa-regular fa-file-zipper\",\r\n\tFilter = \"fa-regular fa-filter\",\r\n\tFlag = \"fa-regular fa-flag\",\r\n\tFlagSwallowTail = \"fa-regular fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-regular fa-floppy-disk\",\r\n\tFolder = \"fa-regular fa-folder\",\r\n\tFolderOpen = \"fa-regular fa-folder-open\",\r\n\tFontAwesome = \"fa-regular  fa-font-awesome\",\r\n\tForward = \"fa-regular fa-forward\",\r\n\tForwardStep = \"fa-regular fa-forward-step\",\r\n\tForwardFast = \"fa-regular fa-forward-fast\",\r\n\tFutbol = \"fa-regular fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-regular fa-gear\",\r\n\tGears = \"fa-regular fa-gears\",\r\n\tGlobe = \"fa-regular fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-regular fa-hashtag\",\r\n\tHatWizard = \"fa-regular fa-hat-wizard\",\r\n\tHeadset = \"fa-regular fa-headset\",\r\n\tHospital = \"fa-regular fa-hospital\",\r\n\tHourglass = \"fa-regular fa-hourglass\",\r\n\tHourglassClock = \"fa-regular fa-hourglass-clock\",\r\n\tHouse = \"fa-regular fa-house\",\r\n\tHouseMedical = \"fa-regular fa-house-medical\",\r\n\tHouseUser = \"fa-regular fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-regular fa-image\",\r\n\tInbox = \"fa-regular fa-inbox\",\r\n\tInboxFull = \"fa-regular fa-inbox-full\",\r\n\tInfo = \"fa-regular fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-regular fa-key\",\r\n\tKeyboard = \"fa-regular fa-keyboard\",\r\n\tKeySkeleton = \"fa-regular fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-regular fa-laptop\",\r\n\tLaptopMedical = \"fa-regular fa-laptop-medical\",\r\n\tLevelDown = \"fa-regular fa-level-down\",\r\n\tLevelDownAlt = \"fa-regular fa-level-down-alt\",\r\n\tLevelLeft = \"fa-regular fa-level-left\",\r\n\tLevelLeftAlt = \"fa-regular fa-level-left-alt\",\r\n\tLevelRight = \"fa-regular fa-level-right\",\r\n\tLevelRightAlt = \"fa-regular fa-level-right-alt\",\r\n\tLevelUp = \"fa-regular fa-level-up\",\r\n\tLevelUpAlt = \"fa-regular fa-level-up-alt\",\r\n\tLink = \"fa-regular fa-link\",\r\n\tLinkExternal = \"fa-regular fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-regular fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-regular fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-regular fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-regular fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-regular fa-link-slash\",\r\n\tList = \"fa-regular fa-list\",\r\n\tListCheck = \"fa-regular fa-list-check\",\r\n\tListOl = \"fa-regular fa-list-ol\",\r\n\tListTree = \"fa-regular fa-list-tree\",\r\n\tListUl = \"fa-regular fa-list-ul\",\r\n\tLocationArrow = \"fa-regular fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-regular fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-regular fa-location-check\",\r\n\tLocationDot = \"fa-regular fa-location-dot\",\r\n\tLock = \"fa-regular fa-lock\",\r\n\tLockOpen = \"fa-regular fa-lock-open\",\r\n\tLogin = \"fa-regular fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-regular fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-regular fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-regular fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-regular fa-magnifying-glass-plus\",\r\n\tMail = \"fa-regular fa-envelope\",\r\n\tMailbox = \"fa-regular fa-mailbox\",\r\n\tMailOpen = \"fa-regular fa-envelope-open\",\r\n\tMap = \"fa-regular fa-map\",\r\n\tMapLocation = \"fa-regular fa-map-location\",\r\n\tMapLocationDot = \"fa-regular fa-map-location-dot\",\r\n\tMapPin = \"fa-regular fa-map-pin\",\r\n\tMaximize = \"fa-regular fa-maximize\",\r\n\tMerge = \"fa-regular fa-merge\",\r\n\tMessage = \"fa-regular fa-message\",\r\n\tMessageCode = \"fa-regular fa-message-code\",\r\n\tMessageDots = \"fa-regular fa-message-dots\",\r\n\tMessageLines = \"fa-regular fa-message-lines\",\r\n\tMessages = \"fa-regular fa-messages\",\r\n\tMicrophone = \"fa-regular fa-microphone\",\r\n\tMicrophoneLines = \"fa-regular fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-regular fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-regular fa-microphone-slash\",\r\n\tMicroscope = \"fa-regular fa-microscope\",\r\n\tMinimize = \"fa-regular fa-minimize\",\r\n\tMinus = \"fa-regular fa-minus\",\r\n\tMobile = \"fa-regular fa-mobile\",\r\n\tMobileNotch = \"fa-regular fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-regular fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-regular fa-music\",\r\n\tMusicSlash = \"fa-regular fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-regular fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-regular fa-palette\",\r\n\tPaperClip = \"fa-regular fa-paperclip\",\r\n\tPaperClipVertical = \"fa-regular fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-regular fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-regular fa-paper-plane-top\",\r\n\tPaste = \"fa-regular fa-paste\",\r\n\tPause = \"fa-regular fa-pause\",\r\n\tPen = \"fa-regular fa-pen\",\r\n\tPencil = \"fa-regular fa-pencil\",\r\n\tPenToSquare = \"fa-regular fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-regular fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-regular fa-percentage\",\r\n\tPersonChalkboard = \"fa-regular fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-regular fa-person-military-rifle\",\r\n\tPhone = \"fa-regular fa-phone\",\r\n\tPlay = \"fa-regular fa-play\",\r\n\tPlayPause = \"fa-regular fa-play-pause\",\r\n\tPlus = \"fa-regular fa-plus\",\r\n\tPrint = \"fa-regular fa-print\",\r\n\tPumo = \"fa-regular fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-regular fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-regular fa-redo\",\r\n\tRedoAlt = \"fa-regular fa-redo-alt\",\r\n\tRefresh = \"fa-regular fa-arrows-rotate\",\r\n\tRemove = \"fa-regular fa-xmark\",\r\n\tRepeat = \"fa-regular fa-repeat\",\r\n\tReply = \"fa-regular fa-reply\",\r\n\tReplyAll = \"fa-regular fa-reply-all\",\r\n\tRightFromBracket = \"fa-regular fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-regular fa-right-to-bracket\",\r\n\tRotate = \"fa-regular fa-rotate\",\r\n\tRotateLeft = \"fa-regular fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-regular fa-sack-dollar\",\r\n\tSave = \"fa-regular fa-floppy-disk\",\r\n\tScissors = \"fa-regular fa-scissors\",\r\n\tScrewdriverWrench = \"fa-regular fa-screwdriver-wrench\",\r\n\tSearch = \"fa-regular fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-regular fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-regular fa-gear\",\r\n\tShare = \"fa-regular fa-share\",\r\n\tShareAll = \"fa-regular fa-share-all\",\r\n\tShareNodes = \"fa-regular fa-share-nodes\",\r\n\tShareFromSquare = \"fa-regular fa-share-from-square\",\r\n\tShieldCheck = \"fa-regular fa-shield-check\",\r\n\tShip = \"fa-regular fa-ship\",\r\n\tSitemap = \"fa-regular fa-sitemap\",\r\n\tSoccer = \"fa-regular fa-futbol\",\r\n\tSort = \"fa-regular fa-sort\",\r\n\tSortDown = \"fa-regular fa-sort-down\",\r\n\tSortUp = \"fa-regular fa-sort-up\",\r\n\tSpinner = \"fa-regular fa-spinner\",\r\n\tSplit = \"fa-regular fa-split\",\r\n\tSquareCheck = \"fa-regular fa-square-check\",\r\n\tSquareMinus = \"fa-regular fa-square-minus\",\r\n\tSquarePen = \"fa-regular fa-square-pen\",\r\n\tStamp = \"fa-regular fa-stamp\",\r\n\tStar = \"fa-regular fa-star\",\r\n\tStepBackward = \"fa-regular fa-step-backward\",\r\n\tStepForward = \"fa-regular fa-step-forward\",\r\n\tStethoscope = \"fa-regular fa-stethoscope\",\r\n\tStop = \"fa-regular fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-regular fa-table\",\r\n\tTableRows = \"fa-regular fa-table-rows\",\r\n\tTablet = \"fa-regular fa-tablet\",\r\n\tTag = \"fa-regular fa-tag\",\r\n\tTags = \"fa-regular fa-tags\",\r\n\tTasks = \"fa-regular fa-tasks\",\r\n\tThumbsDown = \"fa-regular fa-thumbs-down\",\r\n\tThumbsUp = \"fa-regular fa-thumbs-up\",\r\n\tThumbtack = \"fa-regular fa-thumbtack\",\r\n\tTimer = \"fa-regular fa-timer\",\r\n\tTrash = \"fa-regular fa-trash\",\r\n\tTrashCanList = \"fa-regular fa-trash-can-list\",\r\n\tTrashUndo = \"fa-regular fa-trash-undo\",\r\n\tTrashXmark = \"fa-regular fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-regular fa-triangle-exclamation\",\r\n\tTruck = \"fa-regular fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-regular fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-regular fa-unlock\",\r\n\tUpload = \"fa-regular fa-upload\",\r\n\tUsbDrive = \"fa-regular fa-usb-drive\",\r\n\tUser = \"fa-regular fa-user\",\r\n\tUserCheck = \"fa-regular fa-user-check\",\r\n\tUserClock = \"fa-regular fa-user-clock\",\r\n\tUserDoctor = \"fa-regular fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-regular fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-regular fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-regular fa-user-gear\",\r\n\tUserGroup = \"fa-regular fa-user-group\",\r\n\tUserHair = \"fa-regular fa-user-hair\",\r\n\tUserHairLong = \"fa-regular fa-user-hair-long\",\r\n\tUserHeadset = \"fa-regular fa-user-headset\",\r\n\tUsers = \"fa-regular fa-users\",\r\n\tUserSecret = \"fa-regular fa-user-secret\",\r\n\tUsersMedical = \"fa-regular fa-users-medical\",\r\n\tUserTag = \"fa-regular fa-user-tag\",\r\n\tUserXmark = \"fa-regular fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-regular fa-video\",\r\n\tVideoSlash = \"fa-regular fa-video-slash\",\r\n\tVolume = \"fa-regular fa-volume\",\r\n\tVolumeHigh = \"fa-regular fa-volume-high\",\r\n\tVolumeLow = \"fa-regular fa-volume-low\",\r\n\tVolumeOff = \"fa-regular fa-volume-off\",\r\n\tVolumeSlash = \"fa-regular fa-volume-slash\",\r\n\tVolumeXmark = \"fa-regular fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-regular fa-wifi\",\r\n\tWifiExclamation = \"fa-regular fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-regular fa-wifi-fair\",\r\n\tWifiSlash = \"fa-regular fa-wifi-slash\",\r\n\tWindow = \"fa-regular fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-regular fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Duotone\r\nexport enum IconClassicDuotone\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-duotone fa-plus\",\r\n\tAddressCard = \"fa-duotone fa-address-card\",\r\n\tAlert = \"fa-duotone fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-duotone fa-angle-down\",\r\n\tAngleLeft = \"fa-duotone fa-angle-left\",\r\n\tAngleRight = \"fa-duotone fa-angle-right\",\r\n\tAngleUp = \"fa-duotone fa-angle-up\",\r\n\tAperture = \"fa-duotone fa-aperture\",\r\n\tArrowDown = \"fa-duotone fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-duotone fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-duotone fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-duotone fa-arrow-left\",\r\n\tArrowPointer = \"fa-duotone fa-arrow-pointer\",\r\n\tArrowRight = \"fa-duotone fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-duotone fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-duotone fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-duotone fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-duotone fa-arrows-rotate\",\r\n\tArrowUp = \"fa-duotone fa-arrow-up\",\r\n\tAsterisk = \"fa-duotone fa-asterisk\",\r\n\tAt = \"fa-duotone fa-at\",\r\n\tAttachment = \"fa-duotone fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-duotone fa-angle-left\",\r\n\tBackward = \"fa-duotone fa-backward\",\r\n\tBackwardFast = \"fa-duotone fa-backward-fast\",\r\n\tBackwardStep = \"fa-duotone fa-backward-step\",\r\n\tBalanceScale = \"fa-duotone fa-balance-scale\",\r\n\tBallotCheck = \"fa-duotone fa-ballot-check\",\r\n\tBan = \"fa-duotone fa-ban\",\r\n\tBarcode = \"fa-duotone fa-barcode\",\r\n\tBarcodeScan = \"fa-duotone fa-barcode-scan\",\r\n\tBars = \"fa-duotone fa-bars\",\r\n\tBarsSort = \"fa-duotone fa-bars-sort\",\r\n\tBell = \"fa-duotone fa-bell\",\r\n\tBellSlash = \"fa-duotone fa-bell-slash\",\r\n\tBolt = \"fa-duotone fa-bolt\",\r\n\tBook = \"fa-duotone fa-book\",\r\n\tBookOpen = \"fa-duotone fa-book-open\",\r\n\tBox = \"fa-duotone fa-box\",\r\n\tBoxArchive = \"fa-duotone fa-box-archive\",\r\n\tBriefCase = \"fa-duotone fa-brief-case\",\r\n\tBug = \"fa-duotone fa-bug\",\r\n\tBurger = \"fa-duotone fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-duotone fa-cake-candles\",\r\n\tCalendar = \"fa-duotone fa-calendar\",\r\n\tCalendarAlt = \"fa-duotone fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-duotone fa-calendar-check\",\r\n\tCalendarDay = \"fa-duotone fa-calendar-day\",\r\n\tCalendarPlus = \"fa-duotone fa-calendar-plus\",\r\n\tCamera = \"fa-duotone fa-camera\",\r\n\tCameraAlt = \"fa-duotone fa-camera-alt\",\r\n\tCameraWeb = \"fa-duotone fa-camera-web\",\r\n\tCameraWebSlash = \"fa-duotone fa-camera-web-slash\",\r\n\tCapsules = \"fa-duotone fa-capsules\",\r\n\tCaretDown = \"fa-duotone fa-caret-down\",\r\n\tCaretLeft = \"fa-duotone fa-caret-left\",\r\n\tCaretRight = \"fa-duotone fa-caret-right\",\r\n\tCaretUp = \"fa-duotone fa-caret-up\",\r\n\tCartCirclePlus = \"fa-duotone fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-duotone fa-cart-shopping\",\r\n\tChartArea = \"fa-duotone fa-chart-area\",\r\n\tChartBar = \"fa-duotone fa-chart-bar\",\r\n\tChartColumn = \"fa-duotone fa-chart-column\",\r\n\tChartLine = \"fa-duotone fa-chart-line\",\r\n\tChartPie = \"fa-duotone fa-chart-pie\",\r\n\tChartSimple = \"fa-duotone fa-chart-simple\",\r\n\tChat = \"fa-duotone fa-comment\",\r\n\tCheck = \"fa-duotone fa-check\",\r\n\tChevronDown = \"fa-duotone fa-chevron-down\",\r\n\tChevronLeft = \"fa-duotone fa-chevron-left\",\r\n\tChevronRight = \"fa-duotone fa-chevron-right\",\r\n\tChevronUp = \"fa-duotone fa-chevron-up\",\r\n\tCircle = \"fa-duotone fa-circle\",\r\n\tCircleCheck = \"fa-duotone fa-circle-check\",\r\n\tCircleExclamation = \"fa-duotone fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-duotone fa-circle-info\",\r\n\tCircleStop = \"fa-duotone fa-circle-stop\",\r\n\tClipboard = \"fa-duotone fa-clipboard\",\r\n\tClipboardMedical = \"fa-duotone fa-clipboard-medical\",\r\n\tClock = \"fa-duotone fa-clock\",\r\n\tClockRotateLeft = \"fa-duotone fa-clock-rotate-left\",\r\n\tClose = \"fa-duotone fa-xmark\",\r\n\tCloud = \"fa-duotone fa-cloud\",\r\n\tCloudArrowUp = \"fa-duotone fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-duotone fa-cloud-download\",\r\n\tCode = \"fa-duotone fa-code\",\r\n\tCodeMerge = \"fa-duotone fa-code-merge\",\r\n\tCoins = \"fa-duotone fa-coins\",\r\n\tCollapse = \"fa-duotone fa-compress\",\r\n\tComment = \"fa-duotone fa-comment\",\r\n\tCommentDots = \"fa-duotone fa-comment-dots\",\r\n\tCommentLines = \"fa-duotone fa-comment-lines\",\r\n\tComments = \"fa-duotone fa-comments\",\r\n\tCommentSms = \"fa-duotone fa-comment-sms\",\r\n\tCompress = \"fa-duotone fa-compress\",\r\n\tCopy = \"fa-duotone fa-copy\",\r\n\tCopyright = \"fa-duotone fa-copyright\",\r\n\tCreditCard = \"fa-duotone fa-credit-card\",\r\n\tCrown = \"fa-duotone fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-duotone fa-database\",\r\n\tDelete = \"fa-duotone fa-xmark\",\r\n\tDeleteLeft = \"fa-duotone fa-delete-left\",\r\n\tDeleteRight = \"fa-duotone fa-delete-right\",\r\n\tDesktop = \"fa-duotone fa-desktop\",\r\n\tDownload = \"fa-duotone fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-duotone fa-pen\",\r\n\tEject = \"fa-duotone fa-eject\",\r\n\tEllipsis = \"fa-duotone fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-duotone fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-duotone fa-envelope\",\r\n\tEraser = \"fa-duotone fa-eraser\",\r\n\tEuroSign = \"fa-duotone fa-euro-sign\",\r\n\tExclamation = \"fa-duotone fa-exclamation\",\r\n\tExpand = \"fa-duotone fa-expand\",\r\n\tEye = \"fa-duotone fa-eye\",\r\n\tEyeSlash = \"fa-duotone fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-duotone fa-family\",\r\n\tFastBackward = \"fa-duotone fa-fast-backward\",\r\n\tFastForward = \"fa-duotone fa-fast-forward\",\r\n\tFile = \"fa-duotone fa-file\",\r\n\tFileAudio = \"fa-duotone fa-file-audio\",\r\n\tFileContract = \"fa-duotone fa-file-contract\",\r\n\tFileDownload = \"fa-duotone fa-file-download\",\r\n\tFileExcel = \"fa-duotone fa-file-excel\",\r\n\tFileExport = \"fa-duotone fa-file-export\",\r\n\tFileImage = \"fa-duotone fa-file-image\",\r\n\tFileInvoice = \"fa-duotone fa-file-invoice\",\r\n\tFileImport = \"fa-duotone fa-file-import\",\r\n\tFileLines = \"fa-duotone fa-file-lines\",\r\n\tFileMusic = \"fa-duotone fa-file-music\",\r\n\tFilePdf = \"fa-duotone fa-file-pdf\",\r\n\tFiles = \"fa-duotone fa-file-files\",\r\n\tFileSignature = \"fa-duotone fa-file-signature\",\r\n\tFileVideo = \"fa-duotone fa-file-video\",\r\n\tFileWord = \"fa-duotone fa-file-word\",\r\n\tFileZipper = \"fa-duotone fa-file-zipper\",\r\n\tFilter = \"fa-duotone fa-filter\",\r\n\tFlag = \"fa-duotone fa-flag\",\r\n\tFlagSwallowTail = \"fa-duotone fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-duotone fa-floppy-disk\",\r\n\tFolder = \"fa-duotone fa-folder\",\r\n\tFolderOpen = \"fa-duotone fa-folder-open\",\r\n\tFontAwesome = \"fa-duotone  fa-font-awesome\",\r\n\tForward = \"fa-duotone fa-forward\",\r\n\tForwardStep = \"fa-duotone fa-forward-step\",\r\n\tForwardFast = \"fa-duotone fa-forward-fast\",\r\n\tFutbol = \"fa-duotone fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-duotone fa-gear\",\r\n\tGears = \"fa-duotone fa-gears\",\r\n\tGlobe = \"fa-duotone fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-duotone fa-hashtag\",\r\n\tHatWizard = \"fa-duotone fa-hat-wizard\",\r\n\tHeadset = \"fa-duotone fa-headset\",\r\n\tHospital = \"fa-duotone fa-hospital\",\r\n\tHourglass = \"fa-duotone fa-hourglass\",\r\n\tHourglassClock = \"fa-duotone fa-hourglass-clock\",\r\n\tHouse = \"fa-duotone fa-house\",\r\n\tHouseMedical = \"fa-duotone fa-house-medical\",\r\n\tHouseUser = \"fa-duotone fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-duotone fa-image\",\r\n\tInbox = \"fa-duotone fa-inbox\",\r\n\tInboxFull = \"fa-duotone fa-inbox-full\",\r\n\tInfo = \"fa-duotone fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-duotone fa-key\",\r\n\tKeyboard = \"fa-duotone fa-keyboard\",\r\n\tKeySkeleton = \"fa-duotone fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-duotone fa-laptop\",\r\n\tLaptopMedical = \"fa-duotone fa-laptop-medical\",\r\n\tLevelDown = \"fa-duotone fa-level-down\",\r\n\tLevelDownAlt = \"fa-duotone fa-level-down-alt\",\r\n\tLevelLeft = \"fa-duotone fa-level-left\",\r\n\tLevelLeftAlt = \"fa-duotone fa-level-left-alt\",\r\n\tLevelRight = \"fa-duotone fa-level-right\",\r\n\tLevelRightAlt = \"fa-duotone fa-level-right-alt\",\r\n\tLevelUp = \"fa-duotone fa-level-up\",\r\n\tLevelUpAlt = \"fa-duotone fa-level-up-alt\",\r\n\tLink = \"fa-duotone fa-link\",\r\n\tLinkExternal = \"fa-duotone fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-duotone fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-duotone fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-duotone fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-duotone fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-duotone fa-link-slash\",\r\n\tList = \"fa-duotone fa-list\",\r\n\tListCheck = \"fa-duotone fa-list-check\",\r\n\tListOl = \"fa-duotone fa-list-ol\",\r\n\tListTree = \"fa-duotone fa-list-tree\",\r\n\tListUl = \"fa-duotone fa-list-ul\",\r\n\tLocationArrow = \"fa-duotone fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-duotone fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-duotone fa-location-check\",\r\n\tLocationDot = \"fa-duotone fa-location-dot\",\r\n\tLock = \"fa-duotone fa-lock\",\r\n\tLockOpen = \"fa-duotone fa-lock-open\",\r\n\tLogin = \"fa-duotone fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-duotone fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-duotone fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-duotone fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-duotone fa-magnifying-glass-plus\",\r\n\tMail = \"fa-duotone fa-envelope\",\r\n\tMailbox = \"fa-duotone fa-mailbox\",\r\n\tMailOpen = \"fa-duotone fa-envelope-open\",\r\n\tMap = \"fa-duotone fa-map\",\r\n\tMapLocation = \"fa-duotone fa-map-location\",\r\n\tMapLocationDot = \"fa-duotone fa-map-location-dot\",\r\n\tMapPin = \"fa-duotone fa-map-pin\",\r\n\tMaximize = \"fa-duotone fa-maximize\",\r\n\tMerge = \"fa-duotone fa-merge\",\r\n\tMessage = \"fa-duotone fa-message\",\r\n\tMessageCode = \"fa-duotone fa-message-code\",\r\n\tMessageDots = \"fa-duotone fa-message-dots\",\r\n\tMessageLines = \"fa-duotone fa-message-lines\",\r\n\tMessages = \"fa-duotone fa-messages\",\r\n\tMicrophone = \"fa-duotone fa-microphone\",\r\n\tMicrophoneLines = \"fa-duotone fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-duotone fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-duotone fa-microphone-slash\",\r\n\tMicroscope = \"fa-duotone fa-microscope\",\r\n\tMinimize = \"fa-duotone fa-minimize\",\r\n\tMinus = \"fa-duotone fa-minus\",\r\n\tMobile = \"fa-duotone fa-mobile\",\r\n\tMobileNotch = \"fa-duotone fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-duotone fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-duotone fa-music\",\r\n\tMusicSlash = \"fa-duotone fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-duotone fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-duotone fa-palette\",\r\n\tPaperClip = \"fa-duotone fa-paperclip\",\r\n\tPaperClipVertical = \"fa-duotone fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-duotone fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-duotone fa-paper-plane-top\",\r\n\tPaste = \"fa-duotone fa-paste\",\r\n\tPause = \"fa-duotone fa-pause\",\r\n\tPen = \"fa-duotone fa-pen\",\r\n\tPencil = \"fa-duotone fa-pencil\",\r\n\tPenToSquare = \"fa-duotone fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-duotone fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-duotone fa-percentage\",\r\n\tPersonChalkboard = \"fa-duotone fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-duotone fa-person-military-rifle\",\r\n\tPhone = \"fa-duotone fa-phone\",\r\n\tPlay = \"fa-duotone fa-play\",\r\n\tPlayPause = \"fa-duotone fa-play-pause\",\r\n\tPlus = \"fa-duotone fa-plus\",\r\n\tPrint = \"fa-duotone fa-print\",\r\n\tPumo = \"fa-duotone fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-duotone fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-duotone fa-redo\",\r\n\tRedoAlt = \"fa-duotone fa-redo-alt\",\r\n\tRefresh = \"fa-duotone fa-arrows-rotate\",\r\n\tRemove = \"fa-duotone fa-xmark\",\r\n\tRepeat = \"fa-duotone fa-repeat\",\r\n\tReply = \"fa-duotone fa-reply\",\r\n\tReplyAll = \"fa-duotone fa-reply-all\",\r\n\tRightFromBracket = \"fa-duotone fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-duotone fa-right-to-bracket\",\r\n\tRotate = \"fa-duotone fa-rotate\",\r\n\tRotateLeft = \"fa-duotone fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-duotone fa-sack-dollar\",\r\n\tSave = \"fa-duotone fa-floppy-disk\",\r\n\tScissors = \"fa-duotone fa-scissors\",\r\n\tScrewdriverWrench = \"fa-duotone fa-screwdriver-wrench\",\r\n\tSearch = \"fa-duotone fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-duotone fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-duotone fa-gear\",\r\n\tShare = \"fa-duotone fa-share\",\r\n\tShareAll = \"fa-duotone fa-share-all\",\r\n\tShareNodes = \"fa-duotone fa-share-nodes\",\r\n\tShareFromSquare = \"fa-duotone fa-share-from-square\",\r\n\tShieldCheck = \"fa-duotone fa-shield-check\",\r\n\tShip = \"fa-duotone fa-ship\",\r\n\tSitemap = \"fa-duotone fa-sitemap\",\r\n\tSoccer = \"fa-duotone fa-futbol\",\r\n\tSort = \"fa-duotone fa-sort\",\r\n\tSortDown = \"fa-duotone fa-sort-down\",\r\n\tSortUp = \"fa-duotone fa-sort-up\",\r\n\tSpinner = \"fa-duotone fa-spinner\",\r\n\tSplit = \"fa-duotone fa-split\",\r\n\tSquareCheck = \"fa-duotone fa-square-check\",\r\n\tSquareMinus = \"fa-duotone fa-square-minus\",\r\n\tSquarePen = \"fa-duotone fa-square-pen\",\r\n\tStamp = \"fa-duotone fa-stamp\",\r\n\tStar = \"fa-duotone fa-star\",\r\n\tStepBackward = \"fa-duotone fa-step-backward\",\r\n\tStepForward = \"fa-duotone fa-step-forward\",\r\n\tStethoscope = \"fa-duotone fa-stethoscope\",\r\n\tStop = \"fa-duotone fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-duotone fa-table\",\r\n\tTableRows = \"fa-duotone fa-table-rows\",\r\n\tTablet = \"fa-duotone fa-tablet\",\r\n\tTag = \"fa-duotone fa-tag\",\r\n\tTags = \"fa-duotone fa-tags\",\r\n\tTasks = \"fa-duotone fa-tasks\",\r\n\tThumbsDown = \"fa-duotone fa-thumbs-down\",\r\n\tThumbsUp = \"fa-duotone fa-thumbs-up\",\r\n\tThumbtack = \"fa-duotone fa-thumbtack\",\r\n\tTimer = \"fa-duotone fa-timer\",\r\n\tTrash = \"fa-duotone fa-trash\",\r\n\tTrashCanList = \"fa-duotone fa-trash-can-list\",\r\n\tTrashUndo = \"fa-duotone fa-trash-undo\",\r\n\tTrashXmark = \"fa-duotone fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-duotone fa-triangle-exclamation\",\r\n\tTruck = \"fa-duotone fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-duotone fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-duotone fa-unlock\",\r\n\tUpload = \"fa-duotone fa-upload\",\r\n\tUsbDrive = \"fa-duotone fa-usb-drive\",\r\n\tUser = \"fa-duotone fa-user\",\r\n\tUserCheck = \"fa-duotone fa-user-check\",\r\n\tUserClock = \"fa-duotone fa-user-clock\",\r\n\tUserDoctor = \"fa-duotone fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-duotone fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-duotone fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-duotone fa-user-gear\",\r\n\tUserGroup = \"fa-duotone fa-user-group\",\r\n\tUserHair = \"fa-duotone fa-user-hair\",\r\n\tUserHairLong = \"fa-duotone fa-user-hair-long\",\r\n\tUserHeadset = \"fa-duotone fa-user-headset\",\r\n\tUsers = \"fa-duotone fa-users\",\r\n\tUserSecret = \"fa-duotone fa-user-secret\",\r\n\tUsersMedical = \"fa-duotone fa-users-medical\",\r\n\tUserTag = \"fa-duotone fa-user-tag\",\r\n\tUserXmark = \"fa-duotone fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-duotone fa-video\",\r\n\tVideoSlash = \"fa-duotone fa-video-slash\",\r\n\tVolume = \"fa-duotone fa-volume\",\r\n\tVolumeHigh = \"fa-duotone fa-volume-high\",\r\n\tVolumeLow = \"fa-duotone fa-volume-low\",\r\n\tVolumeOff = \"fa-duotone fa-volume-off\",\r\n\tVolumeSlash = \"fa-duotone fa-volume-slash\",\r\n\tVolumeXmark = \"fa-duotone fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-duotone fa-wifi\",\r\n\tWifiExclamation = \"fa-duotone fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-duotone fa-wifi-fair\",\r\n\tWifiSlash = \"fa-duotone fa-wifi-slash\",\r\n\tWindow = \"fa-duotone fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-duotone fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Thin\r\nexport enum IconClassicThin\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-thin fa-plus\",\r\n\tAddressCard = \"fa-thin fa-address-card\",\r\n\tAlert = \"fa-thin fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-thin fa-angle-down\",\r\n\tAngleLeft = \"fa-thin fa-angle-left\",\r\n\tAngleRight = \"fa-thin fa-angle-right\",\r\n\tAngleUp = \"fa-thin fa-angle-up\",\r\n\tAperture = \"fa-thin fa-aperture\",\r\n\tArrowDown = \"fa-thin fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-thin fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-thin fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-thin fa-arrow-left\",\r\n\tArrowPointer = \"fa-thin fa-arrow-pointer\",\r\n\tArrowRight = \"fa-thin fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-thin fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-thin fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-thin fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-thin fa-arrows-rotate\",\r\n\tArrowUp = \"fa-thin fa-arrow-up\",\r\n\tAsterisk = \"fa-thin fa-asterisk\",\r\n\tAt = \"fa-thin fa-at\",\r\n\tAttachment = \"fa-thin fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-thin fa-angle-left\",\r\n\tBackward = \"fa-thin fa-backward\",\r\n\tBackwardFast = \"fa-thin fa-backward-fast\",\r\n\tBackwardStep = \"fa-thin fa-backward-step\",\r\n\tBalanceScale = \"fa-thin fa-balance-scale\",\r\n\tBallotCheck = \"fa-thin fa-ballot-check\",\r\n\tBan = \"fa-thin fa-ban\",\r\n\tBarcode = \"fa-thin fa-barcode\",\r\n\tBarcodeScan = \"fa-thin fa-barcode-scan\",\r\n\tBars = \"fa-thin fa-bars\",\r\n\tBarsSort = \"fa-thin fa-bars-sort\",\r\n\tBell = \"fa-thin fa-bell\",\r\n\tBellSlash = \"fa-thin fa-bell-slash\",\r\n\tBolt = \"fa-thin fa-bolt\",\r\n\tBook = \"fa-thin fa-book\",\r\n\tBookOpen = \"fa-thin fa-book-open\",\r\n\tBox = \"fa-thin fa-box\",\r\n\tBoxArchive = \"fa-thin fa-box-archive\",\r\n\tBriefCase = \"fa-thin fa-brief-case\",\r\n\tBug = \"fa-thin fa-bug\",\r\n\tBurger = \"fa-thin fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-thin fa-cake-candles\",\r\n\tCalendar = \"fa-thin fa-calendar\",\r\n\tCalendarAlt = \"fa-thin fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-thin fa-calendar-check\",\r\n\tCalendarDay = \"fa-thin fa-calendar-day\",\r\n\tCalendarPlus = \"fa-thin fa-calendar-plus\",\r\n\tCamera = \"fa-thin fa-camera\",\r\n\tCameraAlt = \"fa-thin fa-camera-alt\",\r\n\tCameraWeb = \"fa-thin fa-camera-web\",\r\n\tCameraWebSlash = \"fa-thin fa-camera-web-slash\",\r\n\tCapsules = \"fa-thin fa-capsules\",\r\n\tCaretDown = \"fa-thin fa-caret-down\",\r\n\tCaretLeft = \"fa-thin fa-caret-left\",\r\n\tCaretRight = \"fa-thin fa-caret-right\",\r\n\tCaretUp = \"fa-thin fa-caret-up\",\r\n\tCartCirclePlus = \"fa-thin fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-thin fa-cart-shopping\",\r\n\tChartArea = \"fa-thin fa-chart-area\",\r\n\tChartBar = \"fa-thin fa-chart-bar\",\r\n\tChartColumn = \"fa-thin fa-chart-column\",\r\n\tChartLine = \"fa-thin fa-chart-line\",\r\n\tChartPie = \"fa-thin fa-chart-pie\",\r\n\tChartSimple = \"fa-thin fa-chart-simple\",\r\n\tChat = \"fa-thin fa-comment\",\r\n\tCheck = \"fa-thin fa-check\",\r\n\tChevronDown = \"fa-thin fa-chevron-down\",\r\n\tChevronLeft = \"fa-thin fa-chevron-left\",\r\n\tChevronRight = \"fa-thin fa-chevron-right\",\r\n\tChevronUp = \"fa-thin fa-chevron-up\",\r\n\tCircle = \"fa-thin fa-circle\",\r\n\tCircleCheck = \"fa-thin fa-circle-check\",\r\n\tCircleExclamation = \"fa-thin fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-thin fa-circle-info\",\r\n\tCircleStop = \"fa-thin fa-circle-stop\",\r\n\tClipboard = \"fa-thin fa-clipboard\",\r\n\tClipboardMedical = \"fa-thin fa-clipboard-medical\",\r\n\tClock = \"fa-thin fa-clock\",\r\n\tClockRotateLeft = \"fa-thin fa-clock-rotate-left\",\r\n\tClose = \"fa-thin fa-xmark\",\r\n\tCloud = \"fa-thin fa-cloud\",\r\n\tCloudArrowUp = \"fa-thin fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-thin fa-cloud-download\",\r\n\tCode = \"fa-thin fa-code\",\r\n\tCodeMerge = \"fa-thin fa-code-merge\",\r\n\tCoins = \"fa-thin fa-coins\",\r\n\tCollapse = \"fa-thin fa-compress\",\r\n\tComment = \"fa-thin fa-comment\",\r\n\tCommentDots = \"fa-thin fa-comment-dots\",\r\n\tCommentLines = \"fa-thin fa-comment-lines\",\r\n\tComments = \"fa-thin fa-comments\",\r\n\tCommentSms = \"fa-thin fa-comment-sms\",\r\n\tCompress = \"fa-thin fa-compress\",\r\n\tCopy = \"fa-thin fa-copy\",\r\n\tCopyright = \"fa-thin fa-copyright\",\r\n\tCreditCard = \"fa-thin fa-credit-card\",\r\n\tCrown = \"fa-thin fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-thin fa-database\",\r\n\tDelete = \"fa-thin fa-xmark\",\r\n\tDeleteLeft = \"fa-thin fa-delete-left\",\r\n\tDeleteRight = \"fa-thin fa-delete-right\",\r\n\tDesktop = \"fa-thin fa-desktop\",\r\n\tDownload = \"fa-thin fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-thin fa-pen\",\r\n\tEject = \"fa-thin fa-eject\",\r\n\tEllipsis = \"fa-thin fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-thin fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-thin fa-envelope\",\r\n\tEraser = \"fa-thin fa-eraser\",\r\n\tEuroSign = \"fa-thin fa-euro-sign\",\r\n\tExclamation = \"fa-thin fa-exclamation\",\r\n\tExpand = \"fa-thin fa-expand\",\r\n\tEye = \"fa-thin fa-eye\",\r\n\tEyeSlash = \"fa-thin fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-thin fa-family\",\r\n\tFastBackward = \"fa-thin fa-fast-backward\",\r\n\tFastForward = \"fa-thin fa-fast-forward\",\r\n\tFile = \"fa-thin fa-file\",\r\n\tFileAudio = \"fa-thin fa-file-audio\",\r\n\tFileContract = \"fa-thin fa-file-contract\",\r\n\tFileDownload = \"fa-thin fa-file-download\",\r\n\tFileExcel = \"fa-thin fa-file-excel\",\r\n\tFileExport = \"fa-thin fa-file-export\",\r\n\tFileImage = \"fa-thin fa-file-image\",\r\n\tFileInvoice = \"fa-thin fa-file-invoice\",\r\n\tFileImport = \"fa-thin fa-file-import\",\r\n\tFileLines = \"fa-thin fa-file-lines\",\r\n\tFileMusic = \"fa-thin fa-file-music\",\r\n\tFilePdf = \"fa-thin fa-file-pdf\",\r\n\tFiles = \"fa-thin fa-file-files\",\r\n\tFileSignature = \"fa-thin fa-file-signature\",\r\n\tFileVideo = \"fa-thin fa-file-video\",\r\n\tFileWord = \"fa-thin fa-file-word\",\r\n\tFileZipper = \"fa-thin fa-file-zipper\",\r\n\tFilter = \"fa-thin fa-filter\",\r\n\tFlag = \"fa-thin fa-flag\",\r\n\tFlagSwallowTail = \"fa-thin fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-thin fa-floppy-disk\",\r\n\tFolder = \"fa-thin fa-folder\",\r\n\tFolderOpen = \"fa-thin fa-folder-open\",\r\n\tFontAwesome = \"fa-thin  fa-font-awesome\",\r\n\tForward = \"fa-thin fa-forward\",\r\n\tForwardStep = \"fa-thin fa-forward-step\",\r\n\tForwardFast = \"fa-thin fa-forward-fast\",\r\n\tFutbol = \"fa-thin fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-thin fa-gear\",\r\n\tGears = \"fa-thin fa-gears\",\r\n\tGlobe = \"fa-thin fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-thin fa-hashtag\",\r\n\tHatWizard = \"fa-thin fa-hat-wizard\",\r\n\tHeadset = \"fa-thin fa-headset\",\r\n\tHospital = \"fa-thin fa-hospital\",\r\n\tHourglass = \"fa-thin fa-hourglass\",\r\n\tHourglassClock = \"fa-thin fa-hourglass-clock\",\r\n\tHouse = \"fa-thin fa-house\",\r\n\tHouseMedical = \"fa-thin fa-house-medical\",\r\n\tHouseUser = \"fa-thin fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-thin fa-image\",\r\n\tInbox = \"fa-thin fa-inbox\",\r\n\tInboxFull = \"fa-thin fa-inbox-full\",\r\n\tInfo = \"fa-thin fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-thin fa-key\",\r\n\tKeyboard = \"fa-thin fa-keyboard\",\r\n\tKeySkeleton = \"fa-thin fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-thin fa-laptop\",\r\n\tLaptopMedical = \"fa-thin fa-laptop-medical\",\r\n\tLevelDown = \"fa-thin fa-level-down\",\r\n\tLevelDownAlt = \"fa-thin fa-level-down-alt\",\r\n\tLevelLeft = \"fa-thin fa-level-left\",\r\n\tLevelLeftAlt = \"fa-thin fa-level-left-alt\",\r\n\tLevelRight = \"fa-thin fa-level-right\",\r\n\tLevelRightAlt = \"fa-thin fa-level-right-alt\",\r\n\tLevelUp = \"fa-thin fa-level-up\",\r\n\tLevelUpAlt = \"fa-thin fa-level-up-alt\",\r\n\tLink = \"fa-thin fa-link\",\r\n\tLinkExternal = \"fa-thin fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-thin fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-thin fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-thin fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-thin fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-thin fa-link-slash\",\r\n\tList = \"fa-thin fa-list\",\r\n\tListCheck = \"fa-thin fa-list-check\",\r\n\tListOl = \"fa-thin fa-list-ol\",\r\n\tListTree = \"fa-thin fa-list-tree\",\r\n\tListUl = \"fa-thin fa-list-ul\",\r\n\tLocationArrow = \"fa-thin fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-thin fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-thin fa-location-check\",\r\n\tLocationDot = \"fa-thin fa-location-dot\",\r\n\tLock = \"fa-thin fa-lock\",\r\n\tLockOpen = \"fa-thin fa-lock-open\",\r\n\tLogin = \"fa-thin fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-thin fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-thin fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-thin fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-thin fa-magnifying-glass-plus\",\r\n\tMail = \"fa-thin fa-envelope\",\r\n\tMailbox = \"fa-thin fa-mailbox\",\r\n\tMailOpen = \"fa-thin fa-envelope-open\",\r\n\tMap = \"fa-thin fa-map\",\r\n\tMapLocation = \"fa-thin fa-map-location\",\r\n\tMapLocationDot = \"fa-thin fa-map-location-dot\",\r\n\tMapPin = \"fa-thin fa-map-pin\",\r\n\tMaximize = \"fa-thin fa-maximize\",\r\n\tMerge = \"fa-thin fa-merge\",\r\n\tMessage = \"fa-thin fa-message\",\r\n\tMessageCode = \"fa-thin fa-message-code\",\r\n\tMessageDots = \"fa-thin fa-message-dots\",\r\n\tMessageLines = \"fa-thin fa-message-lines\",\r\n\tMessages = \"fa-thin fa-messages\",\r\n\tMicrophone = \"fa-thin fa-microphone\",\r\n\tMicrophoneLines = \"fa-thin fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-thin fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-thin fa-microphone-slash\",\r\n\tMicroscope = \"fa-thin fa-microscope\",\r\n\tMinimize = \"fa-thin fa-minimize\",\r\n\tMinus = \"fa-thin fa-minus\",\r\n\tMobile = \"fa-thin fa-mobile\",\r\n\tMobileNotch = \"fa-thin fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-thin fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-thin fa-music\",\r\n\tMusicSlash = \"fa-thin fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-thin fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-thin fa-palette\",\r\n\tPaperClip = \"fa-thin fa-paperclip\",\r\n\tPaperClipVertical = \"fa-thin fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-thin fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-thin fa-paper-plane-top\",\r\n\tPaste = \"fa-thin fa-paste\",\r\n\tPause = \"fa-thin fa-pause\",\r\n\tPen = \"fa-thin fa-pen\",\r\n\tPencil = \"fa-thin fa-pencil\",\r\n\tPenToSquare = \"fa-thin fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-thin fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-thin fa-percentage\",\r\n\tPersonChalkboard = \"fa-thin fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-thin fa-person-military-rifle\",\r\n\tPhone = \"fa-thin fa-phone\",\r\n\tPlay = \"fa-thin fa-play\",\r\n\tPlayPause = \"fa-thin fa-play-pause\",\r\n\tPlus = \"fa-thin fa-plus\",\r\n\tPrint = \"fa-thin fa-print\",\r\n\tPumo = \"fa-thin fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-thin fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-thin fa-redo\",\r\n\tRedoAlt = \"fa-thin fa-redo-alt\",\r\n\tRefresh = \"fa-thin fa-arrows-rotate\",\r\n\tRemove = \"fa-thin fa-xmark\",\r\n\tRepeat = \"fa-thin fa-repeat\",\r\n\tReply = \"fa-thin fa-reply\",\r\n\tReplyAll = \"fa-thin fa-reply-all\",\r\n\tRightFromBracket = \"fa-thin fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-thin fa-right-to-bracket\",\r\n\tRotate = \"fa-thin fa-rotate\",\r\n\tRotateLeft = \"fa-thin fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-thin fa-sack-dollar\",\r\n\tSave = \"fa-thin fa-floppy-disk\",\r\n\tScissors = \"fa-thin fa-scissors\",\r\n\tScrewdriverWrench = \"fa-thin fa-screwdriver-wrench\",\r\n\tSearch = \"fa-thin fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-thin fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-thin fa-gear\",\r\n\tShare = \"fa-thin fa-share\",\r\n\tShareAll = \"fa-thin fa-share-all\",\r\n\tShareNodes = \"fa-thin fa-share-nodes\",\r\n\tShareFromSquare = \"fa-thin fa-share-from-square\",\r\n\tShieldCheck = \"fa-thin fa-shield-check\",\r\n\tShip = \"fa-thin fa-ship\",\r\n\tSitemap = \"fa-thin fa-sitemap\",\r\n\tSoccer = \"fa-thin fa-futbol\",\r\n\tSort = \"fa-thin fa-sort\",\r\n\tSortDown = \"fa-thin fa-sort-down\",\r\n\tSortUp = \"fa-thin fa-sort-up\",\r\n\tSpinner = \"fa-thin fa-spinner\",\r\n\tSplit = \"fa-thin fa-split\",\r\n\tSquareCheck = \"fa-thin fa-square-check\",\r\n\tSquareMinus = \"fa-thin fa-square-minus\",\r\n\tSquarePen = \"fa-thin fa-square-pen\",\r\n\tStamp = \"fa-thin fa-stamp\",\r\n\tStar = \"fa-thin fa-star\",\r\n\tStepBackward = \"fa-thin fa-step-backward\",\r\n\tStepForward = \"fa-thin fa-step-forward\",\r\n\tStethoscope = \"fa-thin fa-stethoscope\",\r\n\tStop = \"fa-thin fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-thin fa-table\",\r\n\tTableRows = \"fa-thin fa-table-rows\",\r\n\tTablet = \"fa-thin fa-tablet\",\r\n\tTag = \"fa-thin fa-tag\",\r\n\tTags = \"fa-thin fa-tags\",\r\n\tTasks = \"fa-thin fa-tasks\",\r\n\tThumbsDown = \"fa-thin fa-thumbs-down\",\r\n\tThumbsUp = \"fa-thin fa-thumbs-up\",\r\n\tThumbtack = \"fa-thin fa-thumbtack\",\r\n\tTimer = \"fa-thin fa-timer\",\r\n\tTrash = \"fa-thin fa-trash\",\r\n\tTrashCanList = \"fa-thin fa-trash-can-list\",\r\n\tTrashUndo = \"fa-thin fa-trash-undo\",\r\n\tTrashXmark = \"fa-thin fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-thin fa-triangle-exclamation\",\r\n\tTruck = \"fa-thin fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-thin fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-thin fa-unlock\",\r\n\tUpload = \"fa-thin fa-upload\",\r\n\tUsbDrive = \"fa-thin fa-usb-drive\",\r\n\tUser = \"fa-thin fa-user\",\r\n\tUserCheck = \"fa-thin fa-user-check\",\r\n\tUserClock = \"fa-thin fa-user-clock\",\r\n\tUserDoctor = \"fa-thin fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-thin fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-thin fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-thin fa-user-gear\",\r\n\tUserGroup = \"fa-thin fa-user-group\",\r\n\tUserHair = \"fa-thin fa-user-hair\",\r\n\tUserHairLong = \"fa-thin fa-user-hair-long\",\r\n\tUserHeadset = \"fa-thin fa-user-headset\",\r\n\tUsers = \"fa-thin fa-users\",\r\n\tUserSecret = \"fa-thin fa-user-secret\",\r\n\tUsersMedical = \"fa-thin fa-users-medical\",\r\n\tUserTag = \"fa-thin fa-user-tag\",\r\n\tUserXmark = \"fa-thin fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-thin fa-video\",\r\n\tVideoSlash = \"fa-thin fa-video-slash\",\r\n\tVolume = \"fa-thin fa-volume\",\r\n\tVolumeHigh = \"fa-thin fa-volume-high\",\r\n\tVolumeLow = \"fa-thin fa-volume-low\",\r\n\tVolumeOff = \"fa-thin fa-volume-off\",\r\n\tVolumeSlash = \"fa-thin fa-volume-slash\",\r\n\tVolumeXmark = \"fa-thin fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-thin fa-wifi\",\r\n\tWifiExclamation = \"fa-thin fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-thin fa-wifi-fair\",\r\n\tWifiSlash = \"fa-thin fa-wifi-slash\",\r\n\tWindow = \"fa-thin fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-thin fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#endregion\r\n\r\n//#region Icon Sharp\r\n\r\n//#region Icon Sharp Solid\r\nexport enum IconSharpSolid\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-sharp fa-solid fa-plus\",\r\n\tAddressCard = \"fa-sharp fa-solid fa-address-card\",\r\n\tAlert = \"fa-sharp fa-solid fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-sharp fa-solid fa-angle-down\",\r\n\tAngleLeft = \"fa-sharp fa-solid fa-angle-left\",\r\n\tAngleRight = \"fa-sharp fa-solid fa-angle-right\",\r\n\tAngleUp = \"fa-sharp fa-solid fa-angle-up\",\r\n\tAperture = \"fa-sharp fa-solid fa-aperture\",\r\n\tArrowDown = \"fa-sharp fa-solid fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-sharp fa-solid fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-sharp fa-solid fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-sharp fa-solid fa-arrow-left\",\r\n\tArrowPointer = \"fa-sharp fa-solid fa-arrow-pointer\",\r\n\tArrowRight = \"fa-sharp fa-solid fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-sharp fa-solid fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-sharp fa-solid fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-sharp fa-solid fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-sharp fa-solid fa-arrows-rotate\",\r\n\tArrowUp = \"fa-sharp fa-solid fa-arrow-up\",\r\n\tAsterisk = \"fa-sharp fa-solid fa-asterisk\",\r\n\tAt = \"fa-sharp fa-solid fa-at\",\r\n\tAttachment = \"fa-sharp fa-solid fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-sharp fa-solid fa-angle-left\",\r\n\tBackward = \"fa-sharp fa-solid fa-backward\",\r\n\tBackwardFast = \"fa-sharp fa-solid fa-backward-fast\",\r\n\tBackwardStep = \"fa-sharp fa-solid fa-backward-step\",\r\n\tBalanceScale = \"fa-sharp fa-solid fa-balance-scale\",\r\n\tBallotCheck = \"fa-sharp fa-solid fa-ballot-check\",\r\n\tBan = \"fa-sharp fa-solid fa-ban\",\r\n\tBarcode = \"fa-sharp fa-solid fa-barcode\",\r\n\tBarcodeScan = \"fa-sharp fa-solid fa-barcode-scan\",\r\n\tBars = \"fa-sharp fa-solid fa-bars\",\r\n\tBarsSort = \"fa-sharp fa-solid fa-bars-sort\",\r\n\tBell = \"fa-sharp fa-solid fa-bell\",\r\n\tBellSlash = \"fa-sharp fa-solid fa-bell-slash\",\r\n\tBolt = \"fa-sharp fa-solid fa-bolt\",\r\n\tBook = \"fa-sharp fa-solid fa-book\",\r\n\tBookOpen = \"fa-sharp fa-solid fa-book-open\",\r\n\tBox = \"fa-sharp fa-solid fa-box\",\r\n\tBoxArchive = \"fa-sharp fa-solid fa-box-archive\",\r\n\tBriefCase = \"fa-sharp fa-solid fa-brief-case\",\r\n\tBug = \"fa-sharp fa-solid fa-bug\",\r\n\tBurger = \"fa-sharp fa-solid fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-sharp fa-solid fa-cake-candles\",\r\n\tCalendar = \"fa-sharp fa-solid fa-calendar\",\r\n\tCalendarAlt = \"fa-sharp fa-solid fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-sharp fa-solid fa-calendar-check\",\r\n\tCalendarDay = \"fa-sharp fa-solid fa-calendar-day\",\r\n\tCalendarPlus = \"fa-sharp fa-solid fa-calendar-plus\",\r\n\tCamera = \"fa-sharp fa-solid fa-camera\",\r\n\tCameraAlt = \"fa-sharp fa-solid fa-camera-alt\",\r\n\tCameraWeb = \"fa-sharp fa-solid fa-camera-web\",\r\n\tCameraWebSlash = \"fa-sharp fa-solid fa-camera-web-slash\",\r\n\tCapsules = \"fa-sharp fa-solid fa-capsules\",\r\n\tCaretDown = \"fa-sharp fa-solid fa-caret-down\",\r\n\tCaretLeft = \"fa-sharp fa-solid fa-caret-left\",\r\n\tCaretRight = \"fa-sharp fa-solid fa-caret-right\",\r\n\tCaretUp = \"fa-sharp fa-solid fa-caret-up\",\r\n\tCartCirclePlus = \"fa-sharp fa-solid fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-sharp fa-solid fa-cart-shopping\",\r\n\tChartArea = \"fa-sharp fa-solid fa-chart-area\",\r\n\tChartBar = \"fa-sharp fa-solid fa-chart-bar\",\r\n\tChartColumn = \"fa-sharp fa-solid fa-chart-column\",\r\n\tChartLine = \"fa-sharp fa-solid fa-chart-line\",\r\n\tChartPie = \"fa-sharp fa-solid fa-chart-pie\",\r\n\tChartSimple = \"fa-sharp fa-solid fa-chart-simple\",\r\n\tChat = \"fa-sharp fa-solid fa-comment\",\r\n\tCheck = \"fa-sharp fa-solid fa-check\",\r\n\tChevronDown = \"fa-sharp fa-solid fa-chevron-down\",\r\n\tChevronLeft = \"fa-sharp fa-solid fa-chevron-left\",\r\n\tChevronRight = \"fa-sharp fa-solid fa-chevron-right\",\r\n\tChevronUp = \"fa-sharp fa-solid fa-chevron-up\",\r\n\tCircle = \"fa-sharp fa-solid fa-circle\",\r\n\tCircleCheck = \"fa-sharp fa-solid fa-circle-check\",\r\n\tCircleExclamation = \"fa-sharp fa-solid fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-sharp fa-solid fa-circle-info\",\r\n\tCircleStop = \"fa-sharp fa-solid fa-circle-stop\",\r\n\tClipboard = \"fa-sharp fa-solid fa-clipboard\",\r\n\tClipboardMedical = \"fa-sharp fa-solid fa-clipboard-medical\",\r\n\tClock = \"fa-sharp fa-solid fa-clock\",\r\n\tClockRotateLeft = \"fa-sharp fa-solid fa-clock-rotate-left\",\r\n\tClose = \"fa-sharp fa-solid fa-xmark\",\r\n\tCloud = \"fa-sharp fa-solid fa-cloud\",\r\n\tCloudArrowUp = \"fa-sharp fa-solid fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-sharp fa-solid fa-cloud-download\",\r\n\tCode = \"fa-sharp fa-solid fa-code\",\r\n\tCodeMerge = \"fa-sharp fa-solid fa-code-merge\",\r\n\tCoins = \"fa-sharp fa-solid fa-coins\",\r\n\tCollapse = \"fa-sharp fa-solid fa-compress\",\r\n\tComment = \"fa-sharp fa-solid fa-comment\",\r\n\tCommentDots = \"fa-sharp fa-solid fa-comment-dots\",\r\n\tCommentLines = \"fa-sharp fa-solid fa-comment-lines\",\r\n\tComments = \"fa-sharp fa-solid fa-comments\",\r\n\tCommentSms = \"fa-sharp fa-solid fa-comment-sms\",\r\n\tCompress = \"fa-sharp fa-solid fa-compress\",\r\n\tCopy = \"fa-sharp fa-solid fa-copy\",\r\n\tCopyright = \"fa-sharp fa-solid fa-copyright\",\r\n\tCreditCard = \"fa-sharp fa-solid fa-credit-card\",\r\n\tCrown = \"fa-sharp fa-solid fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-sharp fa-solid fa-database\",\r\n\tDelete = \"fa-sharp fa-solid fa-xmark\",\r\n\tDeleteLeft = \"fa-sharp fa-solid fa-delete-left\",\r\n\tDeleteRight = \"fa-sharp fa-solid fa-delete-right\",\r\n\tDesktop = \"fa-sharp fa-solid fa-desktop\",\r\n\tDownload = \"fa-sharp fa-solid fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-sharp fa-solid fa-pen\",\r\n\tEject = \"fa-sharp fa-solid fa-eject\",\r\n\tEllipsis = \"fa-sharp fa-solid fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-sharp fa-solid fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-sharp fa-solid fa-envelope\",\r\n\tEraser = \"fa-sharp fa-solid fa-eraser\",\r\n\tEuroSign = \"fa-sharp fa-solid fa-euro-sign\",\r\n\tExclamation = \"fa-sharp fa-solid fa-exclamation\",\r\n\tExpand = \"fa-sharp fa-solid fa-expand\",\r\n\tEye = \"fa-sharp fa-solid fa-eye\",\r\n\tEyeSlash = \"fa-sharp fa-solid fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-sharp fa-solid fa-family\",\r\n\tFastBackward = \"fa-sharp fa-solid fa-fast-backward\",\r\n\tFastForward = \"fa-sharp fa-solid fa-fast-forward\",\r\n\tFile = \"fa-sharp fa-solid fa-file\",\r\n\tFileAudio = \"fa-sharp fa-solid fa-file-audio\",\r\n\tFileContract = \"fa-sharp fa-solid fa-file-contract\",\r\n\tFileDownload = \"fa-sharp fa-solid fa-file-download\",\r\n\tFileExcel = \"fa-sharp fa-solid fa-file-excel\",\r\n\tFileExport = \"fa-sharp fa-solid fa-file-export\",\r\n\tFileImage = \"fa-sharp fa-solid fa-file-image\",\r\n\tFileInvoice = \"fa-sharp fa-solid fa-file-invoice\",\r\n\tFileImport = \"fa-sharp fa-solid fa-file-import\",\r\n\tFileLines = \"fa-sharp fa-solid fa-file-lines\",\r\n\tFileMusic = \"fa-sharp fa-solid fa-file-music\",\r\n\tFilePdf = \"fa-sharp fa-solid fa-file-pdf\",\r\n\tFiles = \"fa-sharp fa-solid fa-file-files\",\r\n\tFileSignature = \"fa-sharp fa-solid fa-file-signature\",\r\n\tFileVideo = \"fa-sharp fa-solid fa-file-video\",\r\n\tFileWord = \"fa-sharp fa-solid fa-file-word\",\r\n\tFileZipper = \"fa-sharp fa-solid fa-file-zipper\",\r\n\tFilter = \"fa-sharp fa-solid fa-filter\",\r\n\tFlag = \"fa-sharp fa-solid fa-flag\",\r\n\tFlagSwallowTail = \"fa-sharp fa-solid fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-sharp fa-solid fa-floppy-disk\",\r\n\tFolder = \"fa-sharp fa-solid fa-folder\",\r\n\tFolderOpen = \"fa-sharp fa-solid fa-folder-open\",\r\n\tFontAwesome = \"fa-sharp fa-solid  fa-font-awesome\",\r\n\tForward = \"fa-sharp fa-solid fa-forward\",\r\n\tForwardStep = \"fa-sharp fa-solid fa-forward-step\",\r\n\tForwardFast = \"fa-sharp fa-solid fa-forward-fast\",\r\n\tFutbol = \"fa-sharp fa-solid fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-sharp fa-solid fa-gear\",\r\n\tGears = \"fa-sharp fa-solid fa-gears\",\r\n\tGlobe = \"fa-sharp fa-solid fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-sharp fa-solid fa-hashtag\",\r\n\tHatWizard = \"fa-sharp fa-solid fa-hat-wizard\",\r\n\tHeadset = \"fa-sharp fa-solid fa-headset\",\r\n\tHospital = \"fa-sharp fa-solid fa-hospital\",\r\n\tHourglass = \"fa-sharp fa-solid fa-hourglass\",\r\n\tHourglassClock = \"fa-sharp fa-solid fa-hourglass-clock\",\r\n\tHouse = \"fa-sharp fa-solid fa-house\",\r\n\tHouseMedical = \"fa-sharp fa-solid fa-house-medical\",\r\n\tHouseUser = \"fa-sharp fa-solid fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-sharp fa-solid fa-image\",\r\n\tInbox = \"fa-sharp fa-solid fa-inbox\",\r\n\tInboxFull = \"fa-sharp fa-solid fa-inbox-full\",\r\n\tInfo = \"fa-sharp fa-solid fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-sharp fa-solid fa-key\",\r\n\tKeyboard = \"fa-sharp fa-solid fa-keyboard\",\r\n\tKeySkeleton = \"fa-sharp fa-solid fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-sharp fa-solid fa-laptop\",\r\n\tLaptopMedical = \"fa-sharp fa-solid fa-laptop-medical\",\r\n\tLevelDown = \"fa-sharp fa-solid fa-level-down\",\r\n\tLevelDownAlt = \"fa-sharp fa-solid fa-level-down-alt\",\r\n\tLevelLeft = \"fa-sharp fa-solid fa-level-left\",\r\n\tLevelLeftAlt = \"fa-sharp fa-solid fa-level-left-alt\",\r\n\tLevelRight = \"fa-sharp fa-solid fa-level-right\",\r\n\tLevelRightAlt = \"fa-sharp fa-solid fa-level-right-alt\",\r\n\tLevelUp = \"fa-sharp fa-solid fa-level-up\",\r\n\tLevelUpAlt = \"fa-sharp fa-solid fa-level-up-alt\",\r\n\tLink = \"fa-sharp fa-solid fa-link\",\r\n\tLinkExternal = \"fa-sharp fa-solid fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-sharp fa-solid fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-sharp fa-solid fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-sharp fa-solid fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-sharp fa-solid fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-sharp fa-solid fa-link-slash\",\r\n\tList = \"fa-sharp fa-solid fa-list\",\r\n\tListCheck = \"fa-sharp fa-solid fa-list-check\",\r\n\tListOl = \"fa-sharp fa-solid fa-list-ol\",\r\n\tListTree = \"fa-sharp fa-solid fa-list-tree\",\r\n\tListUl = \"fa-sharp fa-solid fa-list-ul\",\r\n\tLocationArrow = \"fa-sharp fa-solid fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-sharp fa-solid fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-sharp fa-solid fa-location-check\",\r\n\tLocationDot = \"fa-sharp fa-solid fa-location-dot\",\r\n\tLock = \"fa-sharp fa-solid fa-lock\",\r\n\tLockOpen = \"fa-sharp fa-solid fa-lock-open\",\r\n\tLogin = \"fa-sharp fa-solid fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-sharp fa-solid fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-sharp fa-solid fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-sharp fa-solid fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-sharp fa-solid fa-magnifying-glass-plus\",\r\n\tMail = \"fa-sharp fa-solid fa-envelope\",\r\n\tMailbox = \"fa-sharp fa-solid fa-mailbox\",\r\n\tMailOpen = \"fa-sharp fa-solid fa-envelope-open\",\r\n\tMap = \"fa-sharp fa-solid fa-map\",\r\n\tMapLocation = \"fa-sharp fa-solid fa-map-location\",\r\n\tMapLocationDot = \"fa-sharp fa-solid fa-map-location-dot\",\r\n\tMapPin = \"fa-sharp fa-solid fa-map-pin\",\r\n\tMaximize = \"fa-sharp fa-solid fa-maximize\",\r\n\tMerge = \"fa-sharp fa-solid fa-merge\",\r\n\tMessage = \"fa-sharp fa-solid fa-message\",\r\n\tMessageCode = \"fa-sharp fa-solid fa-message-code\",\r\n\tMessageDots = \"fa-sharp fa-solid fa-message-dots\",\r\n\tMessageLines = \"fa-sharp fa-solid fa-message-lines\",\r\n\tMessages = \"fa-sharp fa-solid fa-messages\",\r\n\tMicrophone = \"fa-sharp fa-solid fa-microphone\",\r\n\tMicrophoneLines = \"fa-sharp fa-solid fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-sharp fa-solid fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-sharp fa-solid fa-microphone-slash\",\r\n\tMicroscope = \"fa-sharp fa-solid fa-microscope\",\r\n\tMinimize = \"fa-sharp fa-solid fa-minimize\",\r\n\tMinus = \"fa-sharp fa-solid fa-minus\",\r\n\tMobile = \"fa-sharp fa-solid fa-mobile\",\r\n\tMobileNotch = \"fa-sharp fa-solid fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-sharp fa-solid fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-sharp fa-solid fa-music\",\r\n\tMusicSlash = \"fa-sharp fa-solid fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-sharp fa-solid fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-sharp fa-solid fa-palette\",\r\n\tPaperClip = \"fa-sharp fa-solid fa-paperclip\",\r\n\tPaperClipVertical = \"fa-sharp fa-solid fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-sharp fa-solid fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-sharp fa-solid fa-paper-plane-top\",\r\n\tPaste = \"fa-sharp fa-solid fa-paste\",\r\n\tPause = \"fa-sharp fa-solid fa-pause\",\r\n\tPencil = \"fa-sharp fa-solid fa-pencil\",\r\n\tPen = \"fa-sharp fa-solid fa-pen\",\r\n\tPenToSquare = \"fa-sharp fa-solid fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-sharp fa-solid fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-sharp fa-solid fa-percentage\",\r\n\tPersonChalkboard = \"fa-sharp fa-solid fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-sharp fa-solid fa-person-military-rifle\",\r\n\tPhone = \"fa-sharp fa-solid fa-phone\",\r\n\tPlay = \"fa-sharp fa-solid fa-play\",\r\n\tPlayPause = \"fa-sharp fa-solid fa-play-pause\",\r\n\tPlus = \"fa-sharp fa-solid fa-plus\",\r\n\tPrint = \"fa-sharp fa-solid fa-print\",\r\n\tPumo = \"fa-sharp fa-solid fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-sharp fa-solid fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-sharp fa-solid fa-redo\",\r\n\tRedoAlt = \"fa-sharp fa-solid fa-redo-alt\",\r\n\tRefresh = \"fa-sharp fa-solid fa-arrows-rotate\",\r\n\tRemove = \"fa-sharp fa-solid fa-xmark\",\r\n\tRepeat = \"fa-sharp fa-solid fa-repeat\",\r\n\tReply = \"fa-sharp fa-solid fa-reply\",\r\n\tReplyAll = \"fa-sharp fa-solid fa-reply-all\",\r\n\tRightFromBracket = \"fa-sharp fa-solid fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-sharp fa-solid fa-right-to-bracket\",\r\n\tRotate = \"fa-sharp fa-solid fa-rotate\",\r\n\tRotateLeft = \"fa-sharp fa-solid fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-sharp fa-solid fa-sack-dollar\",\r\n\tSave = \"fa-sharp fa-solid fa-floppy-disk\",\r\n\tScissors = \"fa-sharp fa-solid fa-scissors\",\r\n\tScrewdriverWrench = \"fa-sharp fa-solid fa-screwdriver-wrench\",\r\n\tSearch = \"fa-sharp fa-solid fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-sharp fa-solid fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-sharp fa-solid fa-gear\",\r\n\tShare = \"fa-sharp fa-solid fa-share\",\r\n\tShareAll = \"fa-sharp fa-solid fa-share-all\",\r\n\tShareNodes = \"fa-sharp fa-solid fa-share-nodes\",\r\n\tShareFromSquare = \"fa-sharp fa-solid fa-share-from-square\",\r\n\tShieldCheck = \"fa-sharp fa-solid fa-shield-check\",\r\n\tShip = \"fa-sharp fa-solid fa-ship\",\r\n\tSitemap = \"fa-sharp fa-solid fa-sitemap\",\r\n\tSoccer = \"fa-sharp fa-solid fa-futbol\",\r\n\tSort = \"fa-sharp fa-solid fa-sort\",\r\n\tSortDown = \"fa-sharp fa-solid fa-sort-down\",\r\n\tSortUp = \"fa-sharp fa-solid fa-sort-up\",\r\n\tSpinner = \"fa-sharp fa-solid fa-spinner\",\r\n\tSplit = \"fa-sharp fa-solid fa-split\",\r\n\tSquareCheck = \"fa-sharp fa-solid fa-square-check\",\r\n\tSquareMinus = \"fa-sharp fa-solid fa-square-minus\",\r\n\tSquarePen = \"fa-sharp fa-solid fa-square-pen\",\r\n\tStar = \"fa-sharp fa-solid fa-star\",\r\n\tStepBackward = \"fa-sharp fa-solid fa-step-backward\",\r\n\tStepForward = \"fa-sharp fa-solid fa-step-forward\",\r\n\tStethoscope = \"fa-sharp fa-solid fa-stethoscope\",\r\n\tStop = \"fa-sharp fa-solid fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-sharp fa-solid fa-table\",\r\n\tTableRows = \"fa-sharp fa-solid fa-table-rows\",\r\n\tTablet = \"fa-sharp fa-solid fa-tablet\",\r\n\tTag = \"fa-sharp fa-solid fa-tag\",\r\n\tTags = \"fa-sharp fa-solid fa-tags\",\r\n\tTasks = \"fa-sharp fa-solid fa-tasks\",\r\n\tThumbsDown = \"fa-sharp fa-solid fa-thumbs-down\",\r\n\tThumbsUp = \"fa-sharp fa-solid fa-thumbs-up\",\r\n\tThumbtack = \"fa-sharp fa-solid fa-thumbtack\",\r\n\tTrash = \"fa-sharp fa-solid fa-trash\",\r\n\tTrashCanList = \"fa-sharp fa-solid fa-trash-can-list\",\r\n\tTrashUndo = \"fa-sharp fa-solid fa-trash-undo\",\r\n\tTrashXmark = \"fa-sharp fa-solid fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-sharp fa-solid fa-triangle-exclamation\",\r\n\tTruck = \"fa-sharp fa-solid fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-sharp fa-solid fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-sharp fa-solid fa-unlock\",\r\n\tUpload = \"fa-sharp fa-solid fa-upload\",\r\n\tUsbDrive = \"fa-sharp fa-solid fa-usb-drive\",\r\n\tUser = \"fa-sharp fa-solid fa-user\",\r\n\tUserCheck = \"fa-sharp fa-solid fa-user-check\",\r\n\tUserClock = \"fa-sharp fa-solid fa-user-clock\",\r\n\tUserDoctor = \"fa-sharp fa-solid fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-sharp fa-solid fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-sharp fa-solid fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-sharp fa-solid fa-user-gear\",\r\n\tUserGroup = \"fa-sharp fa-solid fa-user-group\",\r\n\tUserHair = \"fa-sharp fa-solid fa-user-hair\",\r\n\tUserHairLong = \"fa-sharp fa-solid fa-user-hair-long\",\r\n\tUserHeadset = \"fa-sharp fa-solid fa-user-headset\",\r\n\tUsers = \"fa-sharp fa-solid fa-users\",\r\n\tUserSecret = \"fa-sharp fa-solid fa-user-secret\",\r\n\tUsersMedical = \"fa-sharp fa-solid fa-users-medical\",\r\n\tUserTag = \"fa-sharp fa-solid fa-user-tag\",\r\n\tUserXmark = \"fa-sharp fa-solid fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-sharp fa-solid fa-video\",\r\n\tVideoSlash = \"fa-sharp fa-solid fa-video-slash\",\r\n\tVolume = \"fa-sharp fa-solid fa-volume\",\r\n\tVolumeHigh = \"fa-sharp fa-solid fa-volume-high\",\r\n\tVolumeLow = \"fa-sharp fa-solid fa-volume-low\",\r\n\tVolumeOff = \"fa-sharp fa-solid fa-volume-off\",\r\n\tVolumeSlash = \"fa-sharp fa-solid fa-volume-slash\",\r\n\tVolumeXmark = \"fa-sharp fa-solid fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-sharp fa-solid fa-wifi\",\r\n\tWifiExclamation = \"fa-sharp fa-solid fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-sharp fa-solid fa-wifi-fair\",\r\n\tWifiSlash = \"fa-sharp fa-solid fa-wifi-slash\",\r\n\tWindow = \"fa-sharp fa-solid fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-sharp fa-solid fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Sharp Light\r\nexport enum IconSharpLight\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-sharp fa-light fa-plus\",\r\n\tAddressCard = \"fa-sharp fa-light fa-address-card\",\r\n\tAlert = \"fa-sharp fa-light fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-sharp fa-light fa-angle-down\",\r\n\tAngleLeft = \"fa-sharp fa-light fa-angle-left\",\r\n\tAngleRight = \"fa-sharp fa-light fa-angle-right\",\r\n\tAngleUp = \"fa-sharp fa-light fa-angle-up\",\r\n\tAperture = \"fa-sharp fa-light fa-aperture\",\r\n\tArrowDown = \"fa-sharp fa-light fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-sharp fa-light fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-sharp fa-light fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-sharp fa-light fa-arrow-left\",\r\n\tArrowPointer = \"fa-sharp fa-light fa-arrow-pointer\",\r\n\tArrowRight = \"fa-sharp fa-light fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-sharp fa-light fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-sharp fa-light fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-sharp fa-light fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-sharp fa-light fa-arrows-rotate\",\r\n\tArrowUp = \"fa-sharp fa-light fa-arrow-up\",\r\n\tAsterisk = \"fa-sharp fa-light fa-asterisk\",\r\n\tAt = \"fa-sharp fa-light fa-at\",\r\n\tAttachment = \"fa-sharp fa-light fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-sharp fa-light fa-angle-left\",\r\n\tBackward = \"fa-sharp fa-light fa-backward\",\r\n\tBackwardFast = \"fa-sharp fa-light fa-backward-fast\",\r\n\tBackwardStep = \"fa-sharp fa-light fa-backward-step\",\r\n\tBalanceScale = \"fa-sharp fa-light fa-balance-scale\",\r\n\tBallotCheck = \"fa-sharp fa-light fa-ballot-check\",\r\n\tBan = \"fa-sharp fa-light fa-ban\",\r\n\tBarcode = \"fa-sharp fa-light fa-barcode\",\r\n\tBarcodeScan = \"fa-sharp fa-light fa-barcode-scan\",\r\n\tBars = \"fa-sharp fa-light fa-bars\",\r\n\tBarsSort = \"fa-sharp fa-light fa-bars-sort\",\r\n\tBell = \"fa-sharp fa-light fa-bell\",\r\n\tBellSlash = \"fa-sharp fa-light fa-bell-slash\",\r\n\tBolt = \"fa-sharp fa-light fa-bolt\",\r\n\tBook = \"fa-sharp fa-light fa-book\",\r\n\tBookOpen = \"fa-sharp fa-light fa-book-open\",\r\n\tBox = \"fa-sharp fa-light fa-box\",\r\n\tBoxArchive = \"fa-sharp fa-light fa-box-archive\",\r\n\tBriefCase = \"fa-sharp fa-light fa-brief-case\",\r\n\tBug = \"fa-sharp fa-light fa-bug\",\r\n\tBurger = \"fa-sharp fa-light fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-sharp fa-light fa-cake-candles\",\r\n\tCalendar = \"fa-sharp fa-light fa-calendar\",\r\n\tCalendarAlt = \"fa-sharp fa-light fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-sharp fa-light fa-calendar-check\",\r\n\tCalendarDay = \"fa-sharp fa-light fa-calendar-day\",\r\n\tCalendarPlus = \"fa-sharp fa-light fa-calendar-plus\",\r\n\tCamera = \"fa-sharp fa-light fa-camera\",\r\n\tCameraAlt = \"fa-sharp fa-light fa-camera-alt\",\r\n\tCameraWeb = \"fa-sharp fa-light fa-camera-web\",\r\n\tCameraWebSlash = \"fa-sharp fa-light fa-camera-web-slash\",\r\n\tCapsules = \"fa-sharp fa-light fa-capsules\",\r\n\tCaretDown = \"fa-sharp fa-light fa-caret-down\",\r\n\tCaretLeft = \"fa-sharp fa-light fa-caret-left\",\r\n\tCaretRight = \"fa-sharp fa-light fa-caret-right\",\r\n\tCaretUp = \"fa-sharp fa-light fa-caret-up\",\r\n\tCartCirclePlus = \"fa-sharp fa-light fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-sharp fa-light fa-cart-shopping\",\r\n\tChartArea = \"fa-sharp fa-light fa-chart-area\",\r\n\tChartBar = \"fa-sharp fa-light fa-chart-bar\",\r\n\tChartColumn = \"fa-sharp fa-light fa-chart-column\",\r\n\tChartLine = \"fa-sharp fa-light fa-chart-line\",\r\n\tChartPie = \"fa-sharp fa-light fa-chart-pie\",\r\n\tChartSimple = \"fa-sharp fa-light fa-chart-simple\",\r\n\tChat = \"fa-sharp fa-light fa-comment\",\r\n\tCheck = \"fa-sharp fa-light fa-check\",\r\n\tChevronDown = \"fa-sharp fa-light fa-chevron-down\",\r\n\tChevronLeft = \"fa-sharp fa-light fa-chevron-left\",\r\n\tChevronRight = \"fa-sharp fa-light fa-chevron-right\",\r\n\tChevronUp = \"fa-sharp fa-light fa-chevron-up\",\r\n\tCircle = \"fa-sharp fa-light fa-circle\",\r\n\tCircleCheck = \"fa-sharp fa-light fa-circle-check\",\r\n\tCircleExclamation = \"fa-sharp fa-light fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-sharp fa-light fa-circle-info\",\r\n\tCircleStop = \"fa-sharp fa-light fa-circle-stop\",\r\n\tClipboard = \"fa-sharp fa-light fa-clipboard\",\r\n\tClipboardMedical = \"fa-sharp fa-light fa-clipboard-medical\",\r\n\tClock = \"fa-sharp fa-light fa-clock\",\r\n\tClockRotateLeft = \"fa-sharp fa-light fa-clock-rotate-left\",\r\n\tClose = \"fa-sharp fa-light fa-xmark\",\r\n\tCloud = \"fa-sharp fa-light fa-cloud\",\r\n\tCloudArrowUp = \"fa-sharp fa-light fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-sharp fa-light fa-cloud-download\",\r\n\tCode = \"fa-sharp fa-light fa-code\",\r\n\tCodeMerge = \"fa-sharp fa-light fa-code-merge\",\r\n\tCoins = \"fa-sharp fa-light fa-coins\",\r\n\tCollapse = \"fa-sharp fa-light fa-compress\",\r\n\tComment = \"fa-sharp fa-light fa-comment\",\r\n\tCommentDots = \"fa-sharp fa-light fa-comment-dots\",\r\n\tCommentLines = \"fa-sharp fa-light fa-comment-lines\",\r\n\tComments = \"fa-sharp fa-light fa-comments\",\r\n\tCommentSms = \"fa-sharp fa-light fa-comment-sms\",\r\n\tCompress = \"fa-sharp fa-light fa-compress\",\r\n\tCopy = \"fa-sharp fa-light fa-copy\",\r\n\tCopyright = \"fa-sharp fa-light fa-copyright\",\r\n\tCreditCard = \"fa-sharp fa-light fa-credit-card\",\r\n\tCrown = \"fa-sharp fa-light fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-sharp fa-light fa-database\",\r\n\tDelete = \"fa-sharp fa-light fa-xmark\",\r\n\tDeleteLeft = \"fa-sharp fa-light fa-delete-left\",\r\n\tDeleteRight = \"fa-sharp fa-light fa-delete-right\",\r\n\tDesktop = \"fa-sharp fa-light fa-desktop\",\r\n\tDownload = \"fa-sharp fa-light fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-sharp fa-light fa-pen\",\r\n\tEject = \"fa-sharp fa-light fa-eject\",\r\n\tEllipsis = \"fa-sharp fa-light fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-sharp fa-light fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-sharp fa-light fa-envelope\",\r\n\tEraser = \"fa-sharp fa-light fa-eraser\",\r\n\tEuroSign = \"fa-sharp fa-light fa-euro-sign\",\r\n\tExclamation = \"fa-sharp fa-light fa-exclamation\",\r\n\tExpand = \"fa-sharp fa-light fa-expand\",\r\n\tEye = \"fa-sharp fa-light fa-eye\",\r\n\tEyeSlash = \"fa-sharp fa-light fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-sharp fa-light fa-family\",\r\n\tFastBackward = \"fa-sharp fa-light fa-fast-backward\",\r\n\tFastForward = \"fa-sharp fa-light fa-fast-forward\",\r\n\tFile = \"fa-sharp fa-light fa-file\",\r\n\tFileAudio = \"fa-sharp fa-light fa-file-audio\",\r\n\tFileContract = \"fa-sharp fa-light fa-file-contract\",\r\n\tFileDownload = \"fa-sharp fa-light fa-file-download\",\r\n\tFileExcel = \"fa-sharp fa-light fa-file-excel\",\r\n\tFileExport = \"fa-sharp fa-light fa-file-export\",\r\n\tFileImage = \"fa-sharp fa-light fa-file-image\",\r\n\tFileInvoice = \"fa-sharp fa-light fa-file-invoice\",\r\n\tFileImport = \"fa-sharp fa-light fa-file-import\",\r\n\tFileLines = \"fa-sharp fa-light fa-file-lines\",\r\n\tFileMusic = \"fa-sharp fa-light fa-file-music\",\r\n\tFilePdf = \"fa-sharp fa-light fa-file-pdf\",\r\n\tFiles = \"fa-sharp fa-light fa-file-files\",\r\n\tFileSignature = \"fa-sharp fa-light fa-file-signature\",\r\n\tFileVideo = \"fa-sharp fa-light fa-file-video\",\r\n\tFileWord = \"fa-sharp fa-light fa-file-word\",\r\n\tFileZipper = \"fa-sharp fa-light fa-file-zipper\",\r\n\tFilter = \"fa-sharp fa-light fa-filter\",\r\n\tFlag = \"fa-sharp fa-light fa-flag\",\r\n\tFlagSwallowTail = \"fa-sharp fa-light fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-sharp fa-light fa-floppy-disk\",\r\n\tFolder = \"fa-sharp fa-light fa-folder\",\r\n\tFolderOpen = \"fa-sharp fa-light fa-folder-open\",\r\n\tFontAwesome = \"fa-sharp fa-light  fa-font-awesome\",\r\n\tForward = \"fa-sharp fa-light fa-forward\",\r\n\tForwardStep = \"fa-sharp fa-light fa-forward-step\",\r\n\tForwardFast = \"fa-sharp fa-light fa-forward-fast\",\r\n\tFutbol = \"fa-sharp fa-light fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-sharp fa-light fa-gear\",\r\n\tGears = \"fa-sharp fa-light fa-gears\",\r\n\tGlobe = \"fa-sharp fa-light fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-sharp fa-light fa-hashtag\",\r\n\tHatWizard = \"fa-sharp fa-light fa-hat-wizard\",\r\n\tHeadset = \"fa-sharp fa-light fa-headset\",\r\n\tHospital = \"fa-sharp fa-light fa-hospital\",\r\n\tHourglass = \"fa-sharp fa-light fa-hourglass\",\r\n\tHourglassClock = \"fa-sharp fa-light fa-hourglass-clock\",\r\n\tHouse = \"fa-sharp fa-light fa-house\",\r\n\tHouseMedical = \"fa-sharp fa-light fa-house-medical\",\r\n\tHouseUser = \"fa-sharp fa-light fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-sharp fa-light fa-image\",\r\n\tInbox = \"fa-sharp fa-light fa-inbox\",\r\n\tInboxFull = \"fa-sharp fa-light fa-inbox-full\",\r\n\tInfo = \"fa-sharp fa-light fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-sharp fa-light fa-key\",\r\n\tKeyboard = \"fa-sharp fa-light fa-keyboard\",\r\n\tKeySkeleton = \"fa-sharp fa-light fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-sharp fa-light fa-laptop\",\r\n\tLaptopMedical = \"fa-sharp fa-light fa-laptop-medical\",\r\n\tLevelDown = \"fa-sharp fa-light fa-level-down\",\r\n\tLevelDownAlt = \"fa-sharp fa-light fa-level-down-alt\",\r\n\tLevelLeft = \"fa-sharp fa-light fa-level-left\",\r\n\tLevelLeftAlt = \"fa-sharp fa-light fa-level-left-alt\",\r\n\tLevelRight = \"fa-sharp fa-light fa-level-right\",\r\n\tLevelRightAlt = \"fa-sharp fa-light fa-level-right-alt\",\r\n\tLevelUp = \"fa-sharp fa-light fa-level-up\",\r\n\tLevelUpAlt = \"fa-sharp fa-light fa-level-up-alt\",\r\n\tLink = \"fa-sharp fa-light fa-link\",\r\n\tLinkExternal = \"fa-sharp fa-light fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-sharp fa-light fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-sharp fa-light fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-sharp fa-light fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-sharp fa-light fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-sharp fa-light fa-link-slash\",\r\n\tList = \"fa-sharp fa-light fa-list\",\r\n\tListCheck = \"fa-sharp fa-light fa-list-check\",\r\n\tListOl = \"fa-sharp fa-light fa-list-ol\",\r\n\tListTree = \"fa-sharp fa-light fa-list-tree\",\r\n\tListUl = \"fa-sharp fa-light fa-list-ul\",\r\n\tLocationArrow = \"fa-sharp fa-light fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-sharp fa-light fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-sharp fa-light fa-location-check\",\r\n\tLocationDot = \"fa-sharp fa-light fa-location-dot\",\r\n\tLock = \"fa-sharp fa-light fa-lock\",\r\n\tLockOpen = \"fa-sharp fa-light fa-lock-open\",\r\n\tLogin = \"fa-sharp fa-light fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-sharp fa-light fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-sharp fa-light fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-sharp fa-light fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-sharp fa-light fa-magnifying-glass-plus\",\r\n\tMail = \"fa-sharp fa-light fa-envelope\",\r\n\tMailbox = \"fa-sharp fa-light fa-mailbox\",\r\n\tMailOpen = \"fa-sharp fa-light fa-envelope-open\",\r\n\tMap = \"fa-sharp fa-light fa-map\",\r\n\tMapLocation = \"fa-sharp fa-light fa-map-location\",\r\n\tMapLocationDot = \"fa-sharp fa-light fa-map-location-dot\",\r\n\tMapPin = \"fa-sharp fa-light fa-map-pin\",\r\n\tMaximize = \"fa-sharp fa-light fa-maximize\",\r\n\tMerge = \"fa-sharp fa-light fa-merge\",\r\n\tMessage = \"fa-sharp fa-light fa-message\",\r\n\tMessageCode = \"fa-sharp fa-light fa-message-code\",\r\n\tMessageDots = \"fa-sharp fa-light fa-message-dots\",\r\n\tMessageLines = \"fa-sharp fa-light fa-message-lines\",\r\n\tMessages = \"fa-sharp fa-light fa-messages\",\r\n\tMicrophone = \"fa-sharp fa-light fa-microphone\",\r\n\tMicrophoneLines = \"fa-sharp fa-light fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-sharp fa-light fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-sharp fa-light fa-microphone-slash\",\r\n\tMicroscope = \"fa-sharp fa-light fa-microscope\",\r\n\tMinimize = \"fa-sharp fa-light fa-minimize\",\r\n\tMinus = \"fa-sharp fa-light fa-minus\",\r\n\tMobile = \"fa-sharp fa-light fa-mobile\",\r\n\tMobileNotch = \"fa-sharp fa-light fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-sharp fa-light fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-sharp fa-light fa-music\",\r\n\tMusicSlash = \"fa-sharp fa-light fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-sharp fa-light fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-sharp fa-light fa-palette\",\r\n\tPaperClip = \"fa-sharp fa-light fa-paperclip\",\r\n\tPaperClipVertical = \"fa-sharp fa-light fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-sharp fa-light fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-sharp fa-light fa-paper-plane-top\",\r\n\tPaste = \"fa-sharp fa-light fa-paste\",\r\n\tPause = \"fa-sharp fa-light fa-pause\",\r\n\tPen = \"fa-sharp fa-light fa-pen\",\r\n\tPencil = \"fa-sharp fa-light fa-pencil\",\r\n\tPenToSquare = \"fa-sharp fa-light fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-sharp fa-light fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-sharp fa-light fa-percentage\",\r\n\tPersonChalkboard = \"fa-sharp fa-light fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-sharp fa-light fa-person-military-rifle\",\r\n\tPhone = \"fa-sharp fa-light fa-phone\",\r\n\tPlay = \"fa-sharp fa-light fa-play\",\r\n\tPlayPause = \"fa-sharp fa-light fa-play-pause\",\r\n\tPlus = \"fa-sharp fa-light fa-plus\",\r\n\tPrint = \"fa-sharp fa-light fa-print\",\r\n\tPumo = \"fa-sharp fa-light fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-sharp fa-light fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-sharp fa-light fa-redo\",\r\n\tRedoAlt = \"fa-sharp fa-light fa-redo-alt\",\r\n\tRefresh = \"fa-sharp fa-light fa-arrows-rotate\",\r\n\tRemove = \"fa-sharp fa-light fa-xmark\",\r\n\tRepeat = \"fa-sharp fa-light fa-repeat\",\r\n\tReply = \"fa-sharp fa-light fa-reply\",\r\n\tReplyAll = \"fa-sharp fa-light fa-reply-all\",\r\n\tRightFromBracket = \"fa-sharp fa-light fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-sharp fa-light fa-right-to-bracket\",\r\n\tRotate = \"fa-sharp fa-light fa-rotate\",\r\n\tRotateLeft = \"fa-sharp fa-light fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-sharp fa-light fa-sack-dollar\",\r\n\tSave = \"fa-sharp fa-light fa-floppy-disk\",\r\n\tScissors = \"fa-sharp fa-light fa-scissors\",\r\n\tScrewdriverWrench = \"fa-sharp fa-light fa-screwdriver-wrench\",\r\n\tSearch = \"fa-sharp fa-light fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-sharp fa-light fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-sharp fa-light fa-gear\",\r\n\tShare = \"fa-sharp fa-light fa-share\",\r\n\tShareAll = \"fa-sharp fa-light fa-share-all\",\r\n\tShareNodes = \"fa-sharp fa-light fa-share-nodes\",\r\n\tShareFromSquare = \"fa-sharp fa-light fa-share-from-square\",\r\n\tShieldCheck = \"fa-sharp fa-light fa-shield-check\",\r\n\tShip = \"fa-sharp fa-light fa-ship\",\r\n\tSitemap = \"fa-sharp fa-light fa-sitemap\",\r\n\tSoccer = \"fa-sharp fa-light fa-futbol\",\r\n\tSort = \"fa-sharp fa-light fa-sort\",\r\n\tSortDown = \"fa-sharp fa-light fa-sort-down\",\r\n\tSortUp = \"fa-sharp fa-light fa-sort-up\",\r\n\tSpinner = \"fa-sharp fa-light fa-spinner\",\r\n\tSplit = \"fa-sharp fa-light fa-split\",\r\n\tSquareCheck = \"fa-sharp fa-light fa-square-check\",\r\n\tSquareMinus = \"fa-sharp fa-light fa-square-minus\",\r\n\tSquarePen = \"fa-sharp fa-light fa-square-pen\",\r\n\tStamp = \"fa-sharp fa-light fa-stamp\",\r\n\tStar = \"fa-sharp fa-light fa-star\",\r\n\tStepBackward = \"fa-sharp fa-light fa-step-backward\",\r\n\tStepForward = \"fa-sharp fa-light fa-step-forward\",\r\n\tStethoscope = \"fa-sharp fa-light fa-stethoscope\",\r\n\tStop = \"fa-sharp fa-light fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-sharp fa-light fa-table\",\r\n\tTableRows = \"fa-sharp fa-light fa-table-rows\",\r\n\tTablet = \"fa-sharp fa-light fa-tablet\",\r\n\tTag = \"fa-sharp fa-light fa-tag\",\r\n\tTags = \"fa-sharp fa-light fa-tags\",\r\n\tTasks = \"fa-sharp fa-light fa-tasks\",\r\n\tThumbsDown = \"fa-sharp fa-light fa-thumbs-down\",\r\n\tThumbsUp = \"fa-sharp fa-light fa-thumbs-up\",\r\n\tThumbtack = \"fa-sharp fa-light fa-thumbtack\",\r\n\tTimer = \"fa-sharp fa-light fa-timer\",\r\n\tTrash = \"fa-sharp fa-light fa-trash\",\r\n\tTrashCanList = \"fa-sharp fa-light fa-trash-can-list\",\r\n\tTrashUndo = \"fa-sharp fa-light fa-trash-undo\",\r\n\tTrashXmark = \"fa-sharp fa-light fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-sharp fa-light fa-triangle-exclamation\",\r\n\tTruck = \"fa-sharp fa-light fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-sharp fa-light fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-sharp fa-light fa-unlock\",\r\n\tUpload = \"fa-sharp fa-light fa-upload\",\r\n\tUsbDrive = \"fa-sharp fa-light fa-usb-drive\",\r\n\tUser = \"fa-sharp fa-light fa-user\",\r\n\tUserCheck = \"fa-sharp fa-light fa-user-check\",\r\n\tUserClock = \"fa-sharp fa-light fa-user-clock\",\r\n\tUserDoctor = \"fa-sharp fa-light fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-sharp fa-light fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-sharp fa-light fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-sharp fa-light fa-user-gear\",\r\n\tUserGroup = \"fa-sharp fa-light fa-user-group\",\r\n\tUserHair = \"fa-sharp fa-light fa-user-hair\",\r\n\tUserHairLong = \"fa-sharp fa-light fa-user-hair-long\",\r\n\tUserHeadset = \"fa-sharp fa-light fa-user-headset\",\r\n\tUsers = \"fa-sharp fa-light fa-users\",\r\n\tUserSecret = \"fa-sharp fa-light fa-user-secret\",\r\n\tUsersMedical = \"fa-sharp fa-light fa-users-medical\",\r\n\tUserTag = \"fa-sharp fa-light fa-user-tag\",\r\n\tUserXmark = \"fa-sharp fa-light fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-sharp fa-light fa-video\",\r\n\tVideoSlash = \"fa-sharp fa-light fa-video-slash\",\r\n\tVolume = \"fa-sharp fa-light fa-volume\",\r\n\tVolumeHigh = \"fa-sharp fa-light fa-volume-high\",\r\n\tVolumeLow = \"fa-sharp fa-light fa-volume-low\",\r\n\tVolumeOff = \"fa-sharp fa-light fa-volume-off\",\r\n\tVolumeSlash = \"fa-sharp fa-light fa-volume-slash\",\r\n\tVolumeXmark = \"fa-sharp fa-light fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-sharp fa-light fa-wifi\",\r\n\tWifiExclamation = \"fa-sharp fa-light fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-sharp fa-light fa-wifi-fair\",\r\n\tWifiSlash = \"fa-sharp fa-light fa-wifi-slash\",\r\n\tWindow = \"fa-sharp fa-light fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-sharp fa-light fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Sharp Regular\r\nexport enum IconSharpRegular\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-sharp fa-regular fa-plus\",\r\n\tAddressCard = \"fa-sharp fa-regular fa-address-card\",\r\n\tAlert = \"fa-sharp fa-regular fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-sharp fa-regular fa-angle-down\",\r\n\tAngleLeft = \"fa-sharp fa-regular fa-angle-left\",\r\n\tAngleRight = \"fa-sharp fa-regular fa-angle-right\",\r\n\tAngleUp = \"fa-sharp fa-regular fa-angle-up\",\r\n\tAperture = \"fa-sharp fa-regular fa-aperture\",\r\n\tArrowDown = \"fa-sharp fa-regular fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-sharp fa-regular fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-sharp fa-regular fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-sharp fa-regular fa-arrow-left\",\r\n\tArrowPointer = \"fa-sharp fa-regular fa-arrow-pointer\",\r\n\tArrowRight = \"fa-sharp fa-regular fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-sharp fa-regular fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-sharp fa-regular fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-sharp fa-regular fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-sharp fa-regular fa-arrows-rotate\",\r\n\tArrowUp = \"fa-sharp fa-regular fa-arrow-up\",\r\n\tAsterisk = \"fa-sharp fa-regular fa-asterisk\",\r\n\tAt = \"fa-sharp fa-regular fa-at\",\r\n\tAttachment = \"fa-sharp fa-regular fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-sharp fa-regular fa-angle-left\",\r\n\tBackward = \"fa-sharp fa-regular fa-backward\",\r\n\tBackwardFast = \"fa-sharp fa-regular fa-backward-fast\",\r\n\tBackwardStep = \"fa-sharp fa-regular fa-backward-step\",\r\n\tBalanceScale = \"fa-sharp fa-regular fa-balance-scale\",\r\n\tBallotCheck = \"fa-sharp fa-regular fa-ballot-check\",\r\n\tBan = \"fa-sharp fa-regular fa-ban\",\r\n\tBarcode = \"fa-sharp fa-regular fa-barcode\",\r\n\tBarcodeScan = \"fa-sharp fa-regular fa-barcode-scan\",\r\n\tBars = \"fa-sharp fa-regular fa-bars\",\r\n\tBarsSort = \"fa-sharp fa-regular fa-bars-sort\",\r\n\tBell = \"fa-sharp fa-regular fa-bell\",\r\n\tBellSlash = \"fa-sharp fa-regular fa-bell-slash\",\r\n\tBolt = \"fa-sharp fa-regular fa-bolt\",\r\n\tBook = \"fa-sharp fa-regular fa-book\",\r\n\tBookOpen = \"fa-sharp fa-regular fa-book-open\",\r\n\tBox = \"fa-sharp fa-regular fa-box\",\r\n\tBoxArchive = \"fa-sharp fa-regular fa-box-archive\",\r\n\tBriefCase = \"fa-sharp fa-regular fa-brief-case\",\r\n\tBug = \"fa-sharp fa-regular fa-bug\",\r\n\tBurger = \"fa-sharp fa-regular fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-sharp fa-regular fa-cake-candles\",\r\n\tCalendar = \"fa-sharp fa-regular fa-calendar\",\r\n\tCalendarAlt = \"fa-sharp fa-regular fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-sharp fa-regular fa-calendar-check\",\r\n\tCalendarDay = \"fa-sharp fa-regular fa-calendar-day\",\r\n\tCalendarPlus = \"fa-sharp fa-regular fa-calendar-plus\",\r\n\tCamera = \"fa-sharp fa-regular fa-camera\",\r\n\tCameraAlt = \"fa-sharp fa-regular fa-camera-alt\",\r\n\tCameraWeb = \"fa-sharp fa-regular fa-camera-web\",\r\n\tCameraWebSlash = \"fa-sharp fa-regular fa-camera-web-slash\",\r\n\tCapsules = \"fa-sharp fa-regular fa-capsules\",\r\n\tCaretDown = \"fa-sharp fa-regular fa-caret-down\",\r\n\tCaretLeft = \"fa-sharp fa-regular fa-caret-left\",\r\n\tCaretRight = \"fa-sharp fa-regular fa-caret-right\",\r\n\tCaretUp = \"fa-sharp fa-regular fa-caret-up\",\r\n\tCartCirclePlus = \"fa-sharp fa-regular fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-sharp fa-regular fa-cart-shopping\",\r\n\tChartArea = \"fa-sharp fa-regular fa-chart-area\",\r\n\tChartBar = \"fa-sharp fa-regular fa-chart-bar\",\r\n\tChartColumn = \"fa-sharp fa-regular fa-chart-column\",\r\n\tChartLine = \"fa-sharp fa-regular fa-chart-line\",\r\n\tChartPie = \"fa-sharp fa-regular fa-chart-pie\",\r\n\tChartSimple = \"fa-sharp fa-regular fa-chart-simple\",\r\n\tChat = \"fa-sharp fa-regular fa-comment\",\r\n\tCheck = \"fa-sharp fa-regular fa-check\",\r\n\tChevronDown = \"fa-sharp fa-regular fa-chevron-down\",\r\n\tChevronLeft = \"fa-sharp fa-regular fa-chevron-left\",\r\n\tChevronRight = \"fa-sharp fa-regular fa-chevron-right\",\r\n\tChevronUp = \"fa-sharp fa-regular fa-chevron-up\",\r\n\tCircle = \"fa-sharp fa-regular fa-circle\",\r\n\tCircleCheck = \"fa-sharp fa-regular fa-circle-check\",\r\n\tCircleExclamation = \"fa-sharp fa-regular fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-sharp fa-regular fa-circle-info\",\r\n\tCircleStop = \"fa-sharp fa-regular fa-circle-stop\",\r\n\tClipboard = \"fa-sharp fa-regular fa-clipboard\",\r\n\tClipboardMedical = \"fa-sharp fa-regular fa-clipboard-medical\",\r\n\tClock = \"fa-sharp fa-regular fa-clock\",\r\n\tClockRotateLeft = \"fa-sharp fa-regular fa-clock-rotate-left\",\r\n\tClose = \"fa-sharp fa-regular fa-xmark\",\r\n\tCloud = \"fa-sharp fa-regular fa-cloud\",\r\n\tCloudArrowUp = \"fa-sharp fa-regular fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-sharp fa-regular fa-cloud-download\",\r\n\tCode = \"fa-sharp fa-regular fa-code\",\r\n\tCodeMerge = \"fa-sharp fa-regular fa-code-merge\",\r\n\tCoins = \"fa-sharp fa-regular fa-coins\",\r\n\tCollapse = \"fa-sharp fa-regular fa-compress\",\r\n\tComment = \"fa-sharp fa-regular fa-comment\",\r\n\tCommentDots = \"fa-sharp fa-regular fa-comment-dots\",\r\n\tCommentLines = \"fa-sharp fa-regular fa-comment-lines\",\r\n\tComments = \"fa-sharp fa-regular fa-comments\",\r\n\tCommentSms = \"fa-sharp fa-regular fa-comment-sms\",\r\n\tCompress = \"fa-sharp fa-regular fa-compress\",\r\n\tCopy = \"fa-sharp fa-regular fa-copy\",\r\n\tCopyright = \"fa-sharp fa-regular fa-copyright\",\r\n\tCreditCard = \"fa-sharp fa-regular fa-credit-card\",\r\n\tCrown = \"fa-sharp fa-regular fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-sharp fa-regular fa-database\",\r\n\tDelete = \"fa-sharp fa-regular fa-xmark\",\r\n\tDeleteLeft = \"fa-sharp fa-regular fa-delete-left\",\r\n\tDeleteRight = \"fa-sharp fa-regular fa-delete-right\",\r\n\tDesktop = \"fa-sharp fa-regular fa-desktop\",\r\n\tDownload = \"fa-sharp fa-regular fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-sharp fa-regular fa-pen\",\r\n\tEject = \"fa-sharp fa-regular fa-eject\",\r\n\tEllipsis = \"fa-sharp fa-regular fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-sharp fa-regular fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-sharp fa-regular fa-envelope\",\r\n\tEraser = \"fa-sharp fa-regular fa-eraser\",\r\n\tEuroSign = \"fa-sharp fa-regular fa-euro-sign\",\r\n\tExclamation = \"fa-sharp fa-regular fa-exclamation\",\r\n\tExpand = \"fa-sharp fa-regular fa-expand\",\r\n\tEye = \"fa-sharp fa-regular fa-eye\",\r\n\tEyeSlash = \"fa-sharp fa-regular fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-sharp fa-regular fa-family\",\r\n\tFastBackward = \"fa-sharp fa-regular fa-fast-backward\",\r\n\tFastForward = \"fa-sharp fa-regular fa-fast-forward\",\r\n\tFile = \"fa-sharp fa-regular fa-file\",\r\n\tFileAudio = \"fa-sharp fa-regular fa-file-audio\",\r\n\tFileContract = \"fa-sharp fa-regular fa-file-contract\",\r\n\tFileDownload = \"fa-sharp fa-regular fa-file-download\",\r\n\tFileExcel = \"fa-sharp fa-regular fa-file-excel\",\r\n\tFileExport = \"fa-sharp fa-regular fa-file-export\",\r\n\tFileImage = \"fa-sharp fa-regular fa-file-image\",\r\n\tFileInvoice = \"fa-sharp fa-regular fa-file-invoice\",\r\n\tFileImport = \"fa-sharp fa-regular fa-file-import\",\r\n\tFileLines = \"fa-sharp fa-regular fa-file-lines\",\r\n\tFileMusic = \"fa-sharp fa-regular fa-file-music\",\r\n\tFilePdf = \"fa-sharp fa-regular fa-file-pdf\",\r\n\tFiles = \"fa-sharp fa-regular fa-file-files\",\r\n\tFileSignature = \"fa-sharp fa-regular fa-file-signature\",\r\n\tFileVideo = \"fa-sharp fa-regular fa-file-video\",\r\n\tFileWord = \"fa-sharp fa-regular fa-file-word\",\r\n\tFileZipper = \"fa-sharp fa-regular fa-file-zipper\",\r\n\tFilter = \"fa-sharp fa-regular fa-filter\",\r\n\tFlag = \"fa-sharp fa-regular fa-flag\",\r\n\tFlagSwallowTail = \"fa-sharp fa-regular fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-sharp fa-regular fa-floppy-disk\",\r\n\tFolder = \"fa-sharp fa-regular fa-folder\",\r\n\tFolderOpen = \"fa-sharp fa-regular fa-folder-open\",\r\n\tFontAwesome = \"fa-sharp fa-regular  fa-font-awesome\",\r\n\tForward = \"fa-sharp fa-regular fa-forward\",\r\n\tForwardStep = \"fa-sharp fa-regular fa-forward-step\",\r\n\tForwardFast = \"fa-sharp fa-regular fa-forward-fast\",\r\n\tFutbol = \"fa-sharp fa-regular fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-sharp fa-regular fa-gear\",\r\n\tGears = \"fa-sharp fa-regular fa-gears\",\r\n\tGlobe = \"fa-sharp fa-regular fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-sharp fa-regular fa-hashtag\",\r\n\tHatWizard = \"fa-sharp fa-regular fa-hat-wizard\",\r\n\tHeadset = \"fa-sharp fa-regular fa-headset\",\r\n\tHospital = \"fa-sharp fa-regular fa-hospital\",\r\n\tHourglass = \"fa-sharp fa-regular fa-hourglass\",\r\n\tHourglassClock = \"fa-sharp fa-regular fa-hourglass-clock\",\r\n\tHouse = \"fa-sharp fa-regular fa-house\",\r\n\tHouseMedical = \"fa-sharp fa-regular fa-house-medical\",\r\n\tHouseUser = \"fa-sharp fa-regular fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-sharp fa-regular fa-image\",\r\n\tInbox = \"fa-sharp fa-regular fa-inbox\",\r\n\tInboxFull = \"fa-sharp fa-regular fa-inbox-full\",\r\n\tInfo = \"fa-sharp fa-regular fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-sharp fa-regular fa-key\",\r\n\tKeyboard = \"fa-sharp fa-regular fa-keyboard\",\r\n\tKeySkeleton = \"fa-sharp fa-regular fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-sharp fa-regular fa-laptop\",\r\n\tLaptopMedical = \"fa-sharp fa-regular fa-laptop-medical\",\r\n\tLevelDown = \"fa-sharp fa-regular fa-level-down\",\r\n\tLevelDownAlt = \"fa-sharp fa-regular fa-level-down-alt\",\r\n\tLevelLeft = \"fa-sharp fa-regular fa-level-left\",\r\n\tLevelLeftAlt = \"fa-sharp fa-regular fa-level-left-alt\",\r\n\tLevelRight = \"fa-sharp fa-regular fa-level-right\",\r\n\tLevelRightAlt = \"fa-sharp fa-regular fa-level-right-alt\",\r\n\tLevelUp = \"fa-sharp fa-regular fa-level-up\",\r\n\tLevelUpAlt = \"fa-sharp fa-regular fa-level-up-alt\",\r\n\tLink = \"fa-sharp fa-regular fa-link\",\r\n\tLinkExternal = \"fa-sharp fa-regular fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-sharp fa-regular fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-sharp fa-regular fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-sharp fa-regular fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-sharp fa-regular fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-sharp fa-regular fa-link-slash\",\r\n\tList = \"fa-sharp fa-regular fa-list\",\r\n\tListCheck = \"fa-sharp fa-regular fa-list-check\",\r\n\tListOl = \"fa-sharp fa-regular fa-list-ol\",\r\n\tListTree = \"fa-sharp fa-regular fa-list-tree\",\r\n\tListUl = \"fa-sharp fa-regular fa-list-ul\",\r\n\tLocationArrow = \"fa-sharp fa-regular fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-sharp fa-regular fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-sharp fa-regular fa-location-check\",\r\n\tLocationDot = \"fa-sharp fa-regular fa-location-dot\",\r\n\tLock = \"fa-sharp fa-regular fa-lock\",\r\n\tLockOpen = \"fa-sharp fa-regular fa-lock-open\",\r\n\tLogin = \"fa-sharp fa-regular fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-sharp fa-regular fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-sharp fa-regular fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-sharp fa-regular fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-sharp fa-regular fa-magnifying-glass-plus\",\r\n\tMail = \"fa-sharp fa-regular fa-envelope\",\r\n\tMailbox = \"fa-sharp fa-regular fa-mailbox\",\r\n\tMailOpen = \"fa-sharp fa-regular fa-envelope-open\",\r\n\tMap = \"fa-sharp fa-regular fa-map\",\r\n\tMapLocation = \"fa-sharp fa-regular fa-map-location\",\r\n\tMapLocationDot = \"fa-sharp fa-regular fa-map-location-dot\",\r\n\tMapPin = \"fa-sharp fa-regular fa-map-pin\",\r\n\tMaximize = \"fa-sharp fa-regular fa-maximize\",\r\n\tMerge = \"fa-sharp fa-regular fa-merge\",\r\n\tMessage = \"fa-sharp fa-regular fa-message\",\r\n\tMessageCode = \"fa-sharp fa-regular fa-message-code\",\r\n\tMessageDots = \"fa-sharp fa-regular fa-message-dots\",\r\n\tMessageLines = \"fa-sharp fa-regular fa-message-lines\",\r\n\tMessages = \"fa-sharp fa-regular fa-messages\",\r\n\tMicrophone = \"fa-sharp fa-regular fa-microphone\",\r\n\tMicrophoneLines = \"fa-sharp fa-regular fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-sharp fa-regular fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-sharp fa-regular fa-microphone-slash\",\r\n\tMicroscope = \"fa-sharp fa-regular fa-microscope\",\r\n\tMinimize = \"fa-sharp fa-regular fa-minimize\",\r\n\tMinus = \"fa-sharp fa-regular fa-minus\",\r\n\tMobile = \"fa-sharp fa-regular fa-mobile\",\r\n\tMobileNotch = \"fa-sharp fa-regular fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-sharp fa-regular fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-sharp fa-regular fa-music\",\r\n\tMusicSlash = \"fa-sharp fa-regular fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-sharp fa-regular fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-sharp fa-regular fa-palette\",\r\n\tPaperClip = \"fa-sharp fa-regular fa-paperclip\",\r\n\tPaperClipVertical = \"fa-sharp fa-regular fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-sharp fa-regular fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-sharp fa-regular fa-paper-plane-top\",\r\n\tPaste = \"fa-sharp fa-regular fa-paste\",\r\n\tPause = \"fa-sharp fa-regular fa-pause\",\r\n\tPen = \"fa-sharp fa-regular fa-pen\",\r\n\tPencil = \"fa-sharp fa-regular fa-pencil\",\r\n\tPenToSquare = \"fa-sharp fa-regular fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-sharp fa-regular fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-sharp fa-regular fa-percentage\",\r\n\tPersonChalkboard = \"fa-sharp fa-regular fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-sharp fa-regular fa-person-military-rifle\",\r\n\tPhone = \"fa-sharp fa-regular fa-phone\",\r\n\tPlay = \"fa-sharp fa-regular fa-play\",\r\n\tPlayPause = \"fa-sharp fa-regular fa-play-pause\",\r\n\tPlus = \"fa-sharp fa-regular fa-plus\",\r\n\tPrint = \"fa-sharp fa-regular fa-print\",\r\n\tPumo = \"fa-sharp fa-regular fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-sharp fa-regular fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-sharp fa-regular fa-redo\",\r\n\tRedoAlt = \"fa-sharp fa-regular fa-redo-alt\",\r\n\tRefresh = \"fa-sharp fa-regular fa-arrows-rotate\",\r\n\tRemove = \"fa-sharp fa-regular fa-xmark\",\r\n\tRepeat = \"fa-sharp fa-regular fa-repeat\",\r\n\tReply = \"fa-sharp fa-regular fa-reply\",\r\n\tReplyAll = \"fa-sharp fa-regular fa-reply-all\",\r\n\tRightFromBracket = \"fa-sharp fa-regular fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-sharp fa-regular fa-right-to-bracket\",\r\n\tRotate = \"fa-sharp fa-regular fa-rotate\",\r\n\tRotateLeft = \"fa-sharp fa-regular fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-sharp fa-regular fa-sack-dollar\",\r\n\tSave = \"fa-sharp fa-regular fa-floppy-disk\",\r\n\tScissors = \"fa-sharp fa-regular fa-scissors\",\r\n\tScrewdriverWrench = \"fa-sharp fa-regular fa-screwdriver-wrench\",\r\n\tSearch = \"fa-sharp fa-regular fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-sharp fa-regular fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-sharp fa-regular fa-gear\",\r\n\tShare = \"fa-sharp fa-regular fa-share\",\r\n\tShareAll = \"fa-sharp fa-regular fa-share-all\",\r\n\tShareNodes = \"fa-sharp fa-regular fa-share-nodes\",\r\n\tShareFromSquare = \"fa-sharp fa-regular fa-share-from-square\",\r\n\tShieldCheck = \"fa-sharp fa-regular fa-shield-check\",\r\n\tShip = \"fa-sharp fa-regular fa-ship\",\r\n\tSitemap = \"fa-sharp fa-regular fa-sitemap\",\r\n\tSoccer = \"fa-sharp fa-regular fa-futbol\",\r\n\tSort = \"fa-sharp fa-regular fa-sort\",\r\n\tSortDown = \"fa-sharp fa-regular fa-sort-down\",\r\n\tSortUp = \"fa-sharp fa-regular fa-sort-up\",\r\n\tSpinner = \"fa-sharp fa-regular fa-spinner\",\r\n\tSplit = \"fa-sharp fa-regular fa-split\",\r\n\tSquareCheck = \"fa-sharp fa-regular fa-square-check\",\r\n\tSquareMinus = \"fa-sharp fa-regular fa-square-minus\",\r\n\tSquarePen = \"fa-sharp fa-regular fa-square-pen\",\r\n\tStamp = \"fa-sharp fa-regular fa-stamp\",\r\n\tStar = \"fa-sharp fa-regular fa-star\",\r\n\tStepBackward = \"fa-sharp fa-regular fa-step-backward\",\r\n\tStepForward = \"fa-sharp fa-regular fa-step-forward\",\r\n\tStethoscope = \"fa-sharp fa-regular fa-stethoscope\",\r\n\tStop = \"fa-sharp fa-regular fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-sharp fa-regular fa-table\",\r\n\tTableRows = \"fa-sharp fa-regular fa-table-rows\",\r\n\tTablet = \"fa-sharp fa-regular fa-tablet\",\r\n\tTag = \"fa-sharp fa-regular fa-tag\",\r\n\tTags = \"fa-sharp fa-regular fa-tags\",\r\n\tTasks = \"fa-sharp fa-regular fa-tasks\",\r\n\tThumbsDown = \"fa-sharp fa-regular fa-thumbs-down\",\r\n\tThumbsUp = \"fa-sharp fa-regular fa-thumbs-up\",\r\n\tThumbtack = \"fa-sharp fa-regular fa-thumbtack\",\r\n\tTimer = \"fa-sharp fa-regular fa-timer\",\r\n\tTrash = \"fa-sharp fa-regular fa-trash\",\r\n\tTrashCanList = \"fa-sharp fa-regular fa-trash-can-list\",\r\n\tTrashUndo = \"fa-sharp fa-regular fa-trash-undo\",\r\n\tTrashXmark = \"fa-sharp fa-regular fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-sharp fa-regular fa-triangle-exclamation\",\r\n\tTruck = \"fa-sharp fa-regular fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-sharp fa-regular fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-sharp fa-regular fa-unlock\",\r\n\tUpload = \"fa-sharp fa-regular fa-upload\",\r\n\tUsbDrive = \"fa-sharp fa-regular fa-usb-drive\",\r\n\tUser = \"fa-sharp fa-regular fa-user\",\r\n\tUserCheck = \"fa-sharp fa-regular fa-user-check\",\r\n\tUserClock = \"fa-sharp fa-regular fa-user-clock\",\r\n\tUserDoctor = \"fa-sharp fa-regular fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-sharp fa-regular fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-sharp fa-regular fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-sharp fa-regular fa-user-gear\",\r\n\tUserGroup = \"fa-sharp fa-regular fa-user-group\",\r\n\tUserHair = \"fa-sharp fa-regular fa-user-hair\",\r\n\tUserHairLong = \"fa-sharp fa-regular fa-user-hair-long\",\r\n\tUserHeadset = \"fa-sharp fa-regular fa-user-headset\",\r\n\tUsers = \"fa-sharp fa-regular fa-users\",\r\n\tUserSecret = \"fa-sharp fa-regular fa-user-secret\",\r\n\tUsersMedical = \"fa-sharp fa-regular fa-users-medical\",\r\n\tUserTag = \"fa-sharp fa-regular fa-user-tag\",\r\n\tUserXmark = \"fa-sharp fa-regular fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-sharp fa-regular fa-video\",\r\n\tVideoSlash = \"fa-sharp fa-regular fa-video-slash\",\r\n\tVolume = \"fa-sharp fa-regular fa-volume\",\r\n\tVolumeHigh = \"fa-sharp fa-regular fa-volume-high\",\r\n\tVolumeLow = \"fa-sharp fa-regular fa-volume-low\",\r\n\tVolumeOff = \"fa-sharp fa-regular fa-volume-off\",\r\n\tVolumeSlash = \"fa-sharp fa-regular fa-volume-slash\",\r\n\tVolumeXmark = \"fa-sharp fa-regular fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-sharp fa-regular fa-wifi\",\r\n\tWifiExclamation = \"fa-sharp fa-regular fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-sharp fa-regular fa-wifi-fair\",\r\n\tWifiSlash = \"fa-sharp fa-regular fa-wifi-slash\",\r\n\tWindow = \"fa-sharp fa-regular fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-sharp fa-regular fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Sharp Duotone\r\nexport enum IconSharpDuotone\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-sharp fa-duotone fa-plus\",\r\n\tAddressCard = \"fa-sharp fa-duotone fa-address-card\",\r\n\tAlert = \"fa-sharp fa-duotone fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-sharp fa-duotone fa-angle-down\",\r\n\tAngleLeft = \"fa-sharp fa-duotone fa-angle-left\",\r\n\tAngleRight = \"fa-sharp fa-duotone fa-angle-right\",\r\n\tAngleUp = \"fa-sharp fa-duotone fa-angle-up\",\r\n\tAperture = \"fa-sharp fa-duotone fa-aperture\",\r\n\tArrowDown = \"fa-sharp fa-duotone fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-sharp fa-duotone fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-sharp fa-duotone fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-sharp fa-duotone fa-arrow-left\",\r\n\tArrowPointer = \"fa-sharp fa-duotone fa-arrow-pointer\",\r\n\tArrowRight = \"fa-sharp fa-duotone fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-sharp fa-duotone fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-sharp fa-duotone fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-sharp fa-duotone fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-sharp fa-duotone fa-arrows-rotate\",\r\n\tArrowUp = \"fa-sharp fa-duotone fa-arrow-up\",\r\n\tAsterisk = \"fa-sharp fa-duotone fa-asterisk\",\r\n\tAt = \"fa-sharp fa-duotone fa-at\",\r\n\tAttachment = \"fa-sharp fa-duotone fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-sharp fa-duotone fa-angle-left\",\r\n\tBackward = \"fa-sharp fa-duotone fa-backward\",\r\n\tBackwardFast = \"fa-sharp fa-duotone fa-backward-fast\",\r\n\tBackwardStep = \"fa-sharp fa-duotone fa-backward-step\",\r\n\tBalanceScale = \"fa-sharp fa-duotone fa-balance-scale\",\r\n\tBallotCheck = \"fa-sharp fa-duotone fa-ballot-check\",\r\n\tBan = \"fa-sharp fa-duotone fa-ban\",\r\n\tBarcode = \"fa-sharp fa-duotone fa-barcode\",\r\n\tBarcodeScan = \"fa-sharp fa-duotone fa-barcode-scan\",\r\n\tBars = \"fa-sharp fa-duotone fa-bars\",\r\n\tBarsSort = \"fa-sharp fa-duotone fa-bars-sort\",\r\n\tBell = \"fa-sharp fa-duotone fa-bell\",\r\n\tBellSlash = \"fa-sharp fa-duotone fa-bell-slash\",\r\n\tBolt = \"fa-sharp fa-duotone fa-bolt\",\r\n\tBook = \"fa-sharp fa-duotone fa-book\",\r\n\tBookOpen = \"fa-sharp fa-duotone fa-book-open\",\r\n\tBox = \"fa-sharp fa-duotone fa-box\",\r\n\tBoxArchive = \"fa-sharp fa-duotone fa-box-archive\",\r\n\tBriefCase = \"fa-sharp fa-duotone fa-brief-case\",\r\n\tBug = \"fa-sharp fa-duotone fa-bug\",\r\n\tBurger = \"fa-sharp fa-duotone fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-sharp fa-duotone fa-cake-candles\",\r\n\tCalendar = \"fa-sharp fa-duotone fa-calendar\",\r\n\tCalendarAlt = \"fa-sharp fa-duotone fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-sharp fa-duotone fa-calendar-check\",\r\n\tCalendarDay = \"fa-sharp fa-duotone fa-calendar-day\",\r\n\tCalendarPlus = \"fa-sharp fa-duotone fa-calendar-plus\",\r\n\tCamera = \"fa-sharp fa-duotone fa-camera\",\r\n\tCameraAlt = \"fa-sharp fa-duotone fa-camera-alt\",\r\n\tCameraWeb = \"fa-sharp fa-duotone fa-camera-web\",\r\n\tCameraWebSlash = \"fa-sharp fa-duotone fa-camera-web-slash\",\r\n\tCapsules = \"fa-sharp fa-duotone fa-capsules\",\r\n\tCaretDown = \"fa-sharp fa-duotone fa-caret-down\",\r\n\tCaretLeft = \"fa-sharp fa-duotone fa-caret-left\",\r\n\tCaretRight = \"fa-sharp fa-duotone fa-caret-right\",\r\n\tCaretUp = \"fa-sharp fa-duotone fa-caret-up\",\r\n\tCartCirclePlus = \"fa-sharp fa-duotone fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-sharp fa-duotone fa-cart-shopping\",\r\n\tChartArea = \"fa-sharp fa-duotone fa-chart-area\",\r\n\tChartBar = \"fa-sharp fa-duotone fa-chart-bar\",\r\n\tChartColumn = \"fa-sharp fa-duotone fa-chart-column\",\r\n\tChartLine = \"fa-sharp fa-duotone fa-chart-line\",\r\n\tChartPie = \"fa-sharp fa-duotone fa-chart-pie\",\r\n\tChartSimple = \"fa-sharp fa-duotone fa-chart-simple\",\r\n\tChat = \"fa-sharp fa-duotone fa-comment\",\r\n\tCheck = \"fa-sharp fa-duotone fa-check\",\r\n\tChevronDown = \"fa-sharp fa-duotone fa-chevron-down\",\r\n\tChevronLeft = \"fa-sharp fa-duotone fa-chevron-left\",\r\n\tChevronRight = \"fa-sharp fa-duotone fa-chevron-right\",\r\n\tChevronUp = \"fa-sharp fa-duotone fa-chevron-up\",\r\n\tCircle = \"fa-sharp fa-duotone fa-circle\",\r\n\tCircleCheck = \"fa-sharp fa-duotone fa-circle-check\",\r\n\tCircleExclamation = \"fa-sharp fa-duotone fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-sharp fa-duotone fa-circle-info\",\r\n\tCircleStop = \"fa-sharp fa-duotone fa-circle-stop\",\r\n\tClipboard = \"fa-sharp fa-duotone fa-clipboard\",\r\n\tClipboardMedical = \"fa-sharp fa-duotone fa-clipboard-medical\",\r\n\tClock = \"fa-sharp fa-duotone fa-clock\",\r\n\tClockRotateLeft = \"fa-sharp fa-duotone fa-clock-rotate-left\",\r\n\tClose = \"fa-sharp fa-duotone fa-xmark\",\r\n\tCloud = \"fa-sharp fa-duotone fa-cloud\",\r\n\tCloudArrowUp = \"fa-sharp fa-duotone fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-sharp fa-duotone fa-cloud-download\",\r\n\tCode = \"fa-sharp fa-duotone fa-code\",\r\n\tCodeMerge = \"fa-sharp fa-duotone fa-code-merge\",\r\n\tCoins = \"fa-sharp fa-duotone fa-coins\",\r\n\tCollapse = \"fa-sharp fa-duotone fa-compress\",\r\n\tComment = \"fa-sharp fa-duotone fa-comment\",\r\n\tCommentDots = \"fa-sharp fa-duotone fa-comment-dots\",\r\n\tCommentLines = \"fa-sharp fa-duotone fa-comment-lines\",\r\n\tComments = \"fa-sharp fa-duotone fa-comments\",\r\n\tCommentSms = \"fa-sharp fa-duotone fa-comment-sms\",\r\n\tCompress = \"fa-sharp fa-duotone fa-compress\",\r\n\tCopy = \"fa-sharp fa-duotone fa-copy\",\r\n\tCopyright = \"fa-sharp fa-duotone fa-copyright\",\r\n\tCreditCard = \"fa-sharp fa-duotone fa-credit-card\",\r\n\tCrown = \"fa-sharp fa-duotone fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-sharp fa-duotone fa-database\",\r\n\tDelete = \"fa-sharp fa-duotone fa-xmark\",\r\n\tDeleteLeft = \"fa-sharp fa-duotone fa-delete-left\",\r\n\tDeleteRight = \"fa-sharp fa-duotone fa-delete-right\",\r\n\tDesktop = \"fa-sharp fa-duotone fa-desktop\",\r\n\tDownload = \"fa-sharp fa-duotone fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-sharp fa-duotone fa-pen\",\r\n\tEject = \"fa-sharp fa-duotone fa-eject\",\r\n\tEllipsis = \"fa-sharp fa-duotone fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-sharp fa-duotone fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-sharp fa-duotone fa-envelope\",\r\n\tEraser = \"fa-sharp fa-duotone fa-eraser\",\r\n\tEuroSign = \"fa-sharp fa-duotone fa-euro-sign\",\r\n\tExclamation = \"fa-sharp fa-duotone fa-exclamation\",\r\n\tExpand = \"fa-sharp fa-duotone fa-expand\",\r\n\tEye = \"fa-sharp fa-duotone fa-eye\",\r\n\tEyeSlash = \"fa-sharp fa-duotone fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-sharp fa-duotone fa-family\",\r\n\tFastBackward = \"fa-sharp fa-duotone fa-fast-backward\",\r\n\tFastForward = \"fa-sharp fa-duotone fa-fast-forward\",\r\n\tFile = \"fa-sharp fa-duotone fa-file\",\r\n\tFileAudio = \"fa-sharp fa-duotone fa-file-audio\",\r\n\tFileContract = \"fa-sharp fa-duotone fa-file-contract\",\r\n\tFileDownload = \"fa-sharp fa-duotone fa-file-download\",\r\n\tFileExcel = \"fa-sharp fa-duotone fa-file-excel\",\r\n\tFileExport = \"fa-sharp fa-duotone fa-file-export\",\r\n\tFileImage = \"fa-sharp fa-duotone fa-file-image\",\r\n\tFileInvoice = \"fa-sharp fa-duotone fa-file-invoice\",\r\n\tFileImport = \"fa-sharp fa-duotone fa-file-import\",\r\n\tFileLines = \"fa-sharp fa-duotone fa-file-lines\",\r\n\tFileMusic = \"fa-sharp fa-duotone fa-file-music\",\r\n\tFilePdf = \"fa-sharp fa-duotone fa-file-pdf\",\r\n\tFiles = \"fa-sharp fa-duotone fa-file-files\",\r\n\tFileSignature = \"fa-sharp fa-duotone fa-file-signature\",\r\n\tFileVideo = \"fa-sharp fa-duotone fa-file-video\",\r\n\tFileWord = \"fa-sharp fa-duotone fa-file-word\",\r\n\tFileZipper = \"fa-sharp fa-duotone fa-file-zipper\",\r\n\tFilter = \"fa-sharp fa-duotone fa-filter\",\r\n\tFlag = \"fa-sharp fa-duotone fa-flag\",\r\n\tFlagSwallowTail = \"fa-sharp fa-duotone fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-sharp fa-duotone fa-floppy-disk\",\r\n\tFolder = \"fa-sharp fa-duotone fa-folder\",\r\n\tFolderOpen = \"fa-sharp fa-duotone fa-folder-open\",\r\n\tFontAwesome = \"fa-sharp fa-duotone  fa-font-awesome\",\r\n\tForward = \"fa-sharp fa-duotone fa-forward\",\r\n\tForwardStep = \"fa-sharp fa-duotone fa-forward-step\",\r\n\tForwardFast = \"fa-sharp fa-duotone fa-forward-fast\",\r\n\tFutbol = \"fa-sharp fa-duotone fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-sharp fa-duotone fa-gear\",\r\n\tGears = \"fa-sharp fa-duotone fa-gears\",\r\n\tGlobe = \"fa-sharp fa-duotone fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-sharp fa-duotone fa-hashtag\",\r\n\tHatWizard = \"fa-sharp fa-duotone fa-hat-wizard\",\r\n\tHeadset = \"fa-sharp fa-duotone fa-headset\",\r\n\tHospital = \"fa-sharp fa-duotone fa-hospital\",\r\n\tHourglass = \"fa-sharp fa-duotone fa-hourglass\",\r\n\tHourglassClock = \"fa-sharp fa-duotone fa-hourglass-clock\",\r\n\tHouse = \"fa-sharp fa-duotone fa-house\",\r\n\tHouseMedical = \"fa-sharp fa-duotone fa-house-medical\",\r\n\tHouseUser = \"fa-sharp fa-duotone fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-sharp fa-duotone fa-image\",\r\n\tInbox = \"fa-sharp fa-duotone fa-inbox\",\r\n\tInboxFull = \"fa-sharp fa-duotone fa-inbox-full\",\r\n\tInfo = \"fa-sharp fa-duotone fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-sharp fa-duotone fa-key\",\r\n\tKeyboard = \"fa-sharp fa-duotone fa-keyboard\",\r\n\tKeySkeleton = \"fa-sharp fa-duotone fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-sharp fa-duotone fa-laptop\",\r\n\tLaptopMedical = \"fa-sharp fa-duotone fa-laptop-medical\",\r\n\tLevelDown = \"fa-sharp fa-duotone fa-level-down\",\r\n\tLevelDownAlt = \"fa-sharp fa-duotone fa-level-down-alt\",\r\n\tLevelLeft = \"fa-sharp fa-duotone fa-level-left\",\r\n\tLevelLeftAlt = \"fa-sharp fa-duotone fa-level-left-alt\",\r\n\tLevelRight = \"fa-sharp fa-duotone fa-level-right\",\r\n\tLevelRightAlt = \"fa-sharp fa-duotone fa-level-right-alt\",\r\n\tLevelUp = \"fa-sharp fa-duotone fa-level-up\",\r\n\tLevelUpAlt = \"fa-sharp fa-duotone fa-level-up-alt\",\r\n\tLink = \"fa-sharp fa-duotone fa-link\",\r\n\tLinkExternal = \"fa-sharp fa-duotone fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-sharp fa-duotone fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-sharp fa-duotone fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-sharp fa-duotone fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-sharp fa-duotone fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-sharp fa-duotone fa-link-slash\",\r\n\tList = \"fa-sharp fa-duotone fa-list\",\r\n\tListCheck = \"fa-sharp fa-duotone fa-list-check\",\r\n\tListOl = \"fa-sharp fa-duotone fa-list-ol\",\r\n\tListTree = \"fa-sharp fa-duotone fa-list-tree\",\r\n\tListUl = \"fa-sharp fa-duotone fa-list-ul\",\r\n\tLocationArrow = \"fa-sharp fa-duotone fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-sharp fa-duotone fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-sharp fa-duotone fa-location-check\",\r\n\tLocationDot = \"fa-sharp fa-duotone fa-location-dot\",\r\n\tLock = \"fa-sharp fa-duotone fa-lock\",\r\n\tLockOpen = \"fa-sharp fa-duotone fa-lock-open\",\r\n\tLogin = \"fa-sharp fa-duotone fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-sharp fa-duotone fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-sharp fa-duotone fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-sharp fa-duotone fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-sharp fa-duotone fa-magnifying-glass-plus\",\r\n\tMail = \"fa-sharp fa-duotone fa-envelope\",\r\n\tMailbox = \"fa-sharp fa-duotone fa-mailbox\",\r\n\tMailOpen = \"fa-sharp fa-duotone fa-envelope-open\",\r\n\tMap = \"fa-sharp fa-duotone fa-map\",\r\n\tMapLocation = \"fa-sharp fa-duotone fa-map-location\",\r\n\tMapLocationDot = \"fa-sharp fa-duotone fa-map-location-dot\",\r\n\tMapPin = \"fa-sharp fa-duotone fa-map-pin\",\r\n\tMaximize = \"fa-sharp fa-duotone fa-maximize\",\r\n\tMerge = \"fa-sharp fa-duotone fa-merge\",\r\n\tMessage = \"fa-sharp fa-duotone fa-message\",\r\n\tMessageCode = \"fa-sharp fa-duotone fa-message-code\",\r\n\tMessageDots = \"fa-sharp fa-duotone fa-message-dots\",\r\n\tMessageLines = \"fa-sharp fa-duotone fa-message-lines\",\r\n\tMessages = \"fa-sharp fa-duotone fa-messages\",\r\n\tMicrophone = \"fa-sharp fa-duotone fa-microphone\",\r\n\tMicrophoneLines = \"fa-sharp fa-duotone fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-sharp fa-duotone fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-sharp fa-duotone fa-microphone-slash\",\r\n\tMicroscope = \"fa-sharp fa-duotone fa-microscope\",\r\n\tMinimize = \"fa-sharp fa-duotone fa-minimize\",\r\n\tMinus = \"fa-sharp fa-duotone fa-minus\",\r\n\tMobile = \"fa-sharp fa-duotone fa-mobile\",\r\n\tMobileNotch = \"fa-sharp fa-duotone fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-sharp fa-duotone fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-sharp fa-duotone fa-music\",\r\n\tMusicSlash = \"fa-sharp fa-duotone fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-sharp fa-duotone fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-sharp fa-duotone fa-palette\",\r\n\tPaperClip = \"fa-sharp fa-duotone fa-paperclip\",\r\n\tPaperClipVertical = \"fa-sharp fa-duotone fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-sharp fa-duotone fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-sharp fa-duotone fa-paper-plane-top\",\r\n\tPaste = \"fa-sharp fa-duotone fa-paste\",\r\n\tPause = \"fa-sharp fa-duotone fa-pause\",\r\n\tPen = \"fa-sharp fa-duotone fa-pen\",\r\n\tPencil = \"fa-sharp fa-duotone fa-pencil\",\r\n\tPenToSquare = \"fa-sharp fa-duotone fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-sharp fa-duotone fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-sharp fa-duotone fa-percentage\",\r\n\tPersonChalkboard = \"fa-sharp fa-duotone fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-sharp fa-duotone fa-person-military-rifle\",\r\n\tPhone = \"fa-sharp fa-duotone fa-phone\",\r\n\tPlay = \"fa-sharp fa-duotone fa-play\",\r\n\tPlayPause = \"fa-sharp fa-duotone fa-play-pause\",\r\n\tPlus = \"fa-sharp fa-duotone fa-plus\",\r\n\tPrint = \"fa-sharp fa-duotone fa-print\",\r\n\tPumo = \"fa-sharp fa-duotone fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-sharp fa-duotone fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-sharp fa-duotone fa-redo\",\r\n\tRedoAlt = \"fa-sharp fa-duotone fa-redo-alt\",\r\n\tRefresh = \"fa-sharp fa-duotone fa-arrows-rotate\",\r\n\tRemove = \"fa-sharp fa-duotone fa-xmark\",\r\n\tRepeat = \"fa-sharp fa-duotone fa-repeat\",\r\n\tReply = \"fa-sharp fa-duotone fa-reply\",\r\n\tReplyAll = \"fa-sharp fa-duotone fa-reply-all\",\r\n\tRightFromBracket = \"fa-sharp fa-duotone fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-sharp fa-duotone fa-right-to-bracket\",\r\n\tRotate = \"fa-sharp fa-duotone fa-rotate\",\r\n\tRotateLeft = \"fa-sharp fa-duotone fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-sharp fa-duotone fa-sack-dollar\",\r\n\tSave = \"fa-sharp fa-duotone fa-floppy-disk\",\r\n\tScissors = \"fa-sharp fa-duotone fa-scissors\",\r\n\tScrewdriverWrench = \"fa-sharp fa-duotone fa-screwdriver-wrench\",\r\n\tSearch = \"fa-sharp fa-duotone fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-sharp fa-duotone fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-sharp fa-duotone fa-gear\",\r\n\tShare = \"fa-sharp fa-duotone fa-share\",\r\n\tShareAll = \"fa-sharp fa-duotone fa-share-all\",\r\n\tShareNodes = \"fa-sharp fa-duotone fa-share-nodes\",\r\n\tShareFromSquare = \"fa-sharp fa-duotone fa-share-from-square\",\r\n\tShieldCheck = \"fa-sharp fa-duotone fa-shield-check\",\r\n\tShip = \"fa-sharp fa-duotone fa-ship\",\r\n\tSitemap = \"fa-sharp fa-duotone fa-sitemap\",\r\n\tSoccer = \"fa-sharp fa-duotone fa-futbol\",\r\n\tSort = \"fa-sharp fa-duotone fa-sort\",\r\n\tSortDown = \"fa-sharp fa-duotone fa-sort-down\",\r\n\tSortUp = \"fa-sharp fa-duotone fa-sort-up\",\r\n\tSpinner = \"fa-sharp fa-duotone fa-spinner\",\r\n\tSplit = \"fa-sharp fa-duotone fa-split\",\r\n\tSquareCheck = \"fa-sharp fa-duotone fa-square-check\",\r\n\tSquareMinus = \"fa-sharp fa-duotone fa-square-minus\",\r\n\tSquarePen = \"fa-sharp fa-duotone fa-square-pen\",\r\n\tStamp = \"fa-sharp fa-duotone fa-stamp\",\r\n\tStar = \"fa-sharp fa-duotone fa-star\",\r\n\tStepBackward = \"fa-sharp fa-duotone fa-step-backward\",\r\n\tStepForward = \"fa-sharp fa-duotone fa-step-forward\",\r\n\tStethoscope = \"fa-sharp fa-duotone fa-stethoscope\",\r\n\tStop = \"fa-sharp fa-duotone fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-sharp fa-duotone fa-table\",\r\n\tTableRows = \"fa-sharp fa-duotone fa-table-rows\",\r\n\tTablet = \"fa-sharp fa-duotone fa-tablet\",\r\n\tTag = \"fa-sharp fa-duotone fa-tag\",\r\n\tTags = \"fa-sharp fa-duotone fa-tags\",\r\n\tTasks = \"fa-sharp fa-duotone fa-tasks\",\r\n\tThumbsDown = \"fa-sharp fa-duotone fa-thumbs-down\",\r\n\tThumbsUp = \"fa-sharp fa-duotone fa-thumbs-up\",\r\n\tThumbtack = \"fa-sharp fa-duotone fa-thumbtack\",\r\n\tTimer = \"fa-sharp fa-duotone fa-timer\",\r\n\tTrash = \"fa-sharp fa-duotone fa-trash\",\r\n\tTrashCanList = \"fa-sharp fa-duotone fa-trash-can-list\",\r\n\tTrashUndo = \"fa-sharp fa-duotone fa-trash-undo\",\r\n\tTrashXmark = \"fa-sharp fa-duotone fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-sharp fa-duotone fa-triangle-exclamation\",\r\n\tTruck = \"fa-sharp fa-duotone fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-sharp fa-duotone fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-sharp fa-duotone fa-unlock\",\r\n\tUpload = \"fa-sharp fa-duotone fa-upload\",\r\n\tUsbDrive = \"fa-sharp fa-duotone fa-usb-drive\",\r\n\tUser = \"fa-sharp fa-duotone fa-user\",\r\n\tUserCheck = \"fa-sharp fa-duotone fa-user-check\",\r\n\tUserClock = \"fa-sharp fa-duotone fa-user-clock\",\r\n\tUserDoctor = \"fa-sharp fa-duotone fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-sharp fa-duotone fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-sharp fa-duotone fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-sharp fa-duotone fa-user-gear\",\r\n\tUserGroup = \"fa-sharp fa-duotone fa-user-group\",\r\n\tUserHair = \"fa-sharp fa-duotone fa-user-hair\",\r\n\tUserHairLong = \"fa-sharp fa-duotone fa-user-hair-long\",\r\n\tUserHeadset = \"fa-sharp fa-duotone fa-user-headset\",\r\n\tUsers = \"fa-sharp fa-duotone fa-users\",\r\n\tUserSecret = \"fa-sharp fa-duotone fa-user-secret\",\r\n\tUsersMedical = \"fa-sharp fa-duotone fa-users-medical\",\r\n\tUserTag = \"fa-sharp fa-duotone fa-user-tag\",\r\n\tUserXmark = \"fa-sharp fa-duotone fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-sharp fa-duotone fa-video\",\r\n\tVideoSlash = \"fa-sharp fa-duotone fa-video-slash\",\r\n\tVolume = \"fa-sharp fa-duotone fa-volume\",\r\n\tVolumeHigh = \"fa-sharp fa-duotone fa-volume-high\",\r\n\tVolumeLow = \"fa-sharp fa-duotone fa-volume-low\",\r\n\tVolumeOff = \"fa-sharp fa-duotone fa-volume-off\",\r\n\tVolumeSlash = \"fa-sharp fa-duotone fa-volume-slash\",\r\n\tVolumeXmark = \"fa-sharp fa-duotone fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-sharp fa-duotone fa-wifi\",\r\n\tWifiExclamation = \"fa-sharp fa-duotone fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-sharp fa-duotone fa-wifi-fair\",\r\n\tWifiSlash = \"fa-sharp fa-duotone fa-wifi-slash\",\r\n\tWindow = \"fa-sharp fa-duotone fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-sharp fa-duotone fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Icon Sharp Thin\r\nexport enum IconSharpThin\r\n{\r\n\t//#region A\r\n\tAdd = \"fa-sharp fa-thin fa-plus\",\r\n\tAddressCard = \"fa-sharp fa-thin fa-address-card\",\r\n\tAlert = \"fa-sharp fa-thin fa-triangle-exclamation\",\r\n\tAngleDown = \"fa-sharp fa-thin fa-angle-down\",\r\n\tAngleLeft = \"fa-sharp fa-thin fa-angle-left\",\r\n\tAngleRight = \"fa-sharp fa-thin fa-angle-right\",\r\n\tAngleUp = \"fa-sharp fa-thin fa-angle-up\",\r\n\tAperture = \"fa-sharp fa-thin fa-aperture\",\r\n\tArrowDown = \"fa-sharp fa-thin fa-arrow-down\",\r\n\tArrowDownShortWide = \"fa-sharp fa-thin fa-arrow-down-short-wide\",\r\n\tArrowDownWideShort = \"fa-sharp fa-thin fa-arrow-down-wide-short\",\r\n\tArrowLeft = \"fa-sharp fa-thin fa-arrow-left\",\r\n\tArrowPointer = \"fa-sharp fa-thin fa-arrow-pointer\",\r\n\tArrowRight = \"fa-sharp fa-thin fa-arrow-right\",\r\n\tArrowRightToBracket = \"fa-sharp fa-thin fa-arrow-right-to-bracket\",\r\n\tArrowRightFromBracket = \"fa-sharp fa-thin fa-arrow-right-from-bracket\",\r\n\tArrowRotateRight = \"fa-sharp fa-thin fa-arrow-rotate-right\",\r\n\tArrowsRotate = \"fa-sharp fa-thin fa-arrows-rotate\",\r\n\tArrowUp = \"fa-sharp fa-thin fa-arrow-up\",\r\n\tAsterisk = \"fa-sharp fa-thin fa-asterisk\",\r\n\tAt = \"fa-sharp fa-thin fa-at\",\r\n\tAttachment = \"fa-sharp fa-thin fa-paperclip\",\r\n\t//#endregion\r\n\r\n\t//#region B\r\n\tBack = \"fa-sharp fa-thin fa-angle-left\",\r\n\tBackward = \"fa-sharp fa-thin fa-backward\",\r\n\tBackwardFast = \"fa-sharp fa-thin fa-backward-fast\",\r\n\tBackwardStep = \"fa-sharp fa-thin fa-backward-step\",\r\n\tBalanceScale = \"fa-sharp fa-thin fa-balance-scale\",\r\n\tBallotCheck = \"fa-sharp fa-thin fa-ballot-check\",\r\n\tBan = \"fa-sharp fa-thin fa-ban\",\r\n\tBarcode = \"fa-sharp fa-thin fa-barcode\",\r\n\tBarcodeScan = \"fa-sharp fa-thin fa-barcode-scan\",\r\n\tBars = \"fa-sharp fa-thin fa-bars\",\r\n\tBarsSort = \"fa-sharp fa-thin fa-bars-sort\",\r\n\tBell = \"fa-sharp fa-thin fa-bell\",\r\n\tBellSlash = \"fa-sharp fa-thin fa-bell-slash\",\r\n\tBolt = \"fa-sharp fa-thin fa-bolt\",\r\n\tBook = \"fa-sharp fa-thin fa-book\",\r\n\tBookOpen = \"fa-sharp fa-thin fa-book-open\",\r\n\tBox = \"fa-sharp fa-thin fa-box\",\r\n\tBoxArchive = \"fa-sharp fa-thin fa-box-archive\",\r\n\tBriefCase = \"fa-sharp fa-thin fa-brief-case\",\r\n\tBug = \"fa-sharp fa-thin fa-bug\",\r\n\tBurger = \"fa-sharp fa-thin fa-bars\",\r\n\t//#endregion\r\n\r\n\t//#region C\r\n\tCakeCandles = \"fa-sharp fa-thin fa-cake-candles\",\r\n\tCalendar = \"fa-sharp fa-thin fa-calendar\",\r\n\tCalendarAlt = \"fa-sharp fa-thin fa-calendar-alt\",\r\n\tCalendarCheck = \"fa-sharp fa-thin fa-calendar-check\",\r\n\tCalendarDay = \"fa-sharp fa-thin fa-calendar-day\",\r\n\tCalendarPlus = \"fa-sharp fa-thin fa-calendar-plus\",\r\n\tCamera = \"fa-sharp fa-thin fa-camera\",\r\n\tCameraAlt = \"fa-sharp fa-thin fa-camera-alt\",\r\n\tCameraWeb = \"fa-sharp fa-thin fa-camera-web\",\r\n\tCameraWebSlash = \"fa-sharp fa-thin fa-camera-web-slash\",\r\n\tCapsules = \"fa-sharp fa-thin fa-capsules\",\r\n\tCaretDown = \"fa-sharp fa-thin fa-caret-down\",\r\n\tCaretLeft = \"fa-sharp fa-thin fa-caret-left\",\r\n\tCaretRight = \"fa-sharp fa-thin fa-caret-right\",\r\n\tCaretUp = \"fa-sharp fa-thin fa-caret-up\",\r\n\tCartCirclePlus = \"fa-sharp fa-thin fa-cart-circle-plus\",\r\n\tCartShopping = \"fa-sharp fa-thin fa-cart-shopping\",\r\n\tChartArea = \"fa-sharp fa-thin fa-chart-area\",\r\n\tChartBar = \"fa-sharp fa-thin fa-chart-bar\",\r\n\tChartColumn = \"fa-sharp fa-thin fa-chart-column\",\r\n\tChartLine = \"fa-sharp fa-thin fa-chart-line\",\r\n\tChartPie = \"fa-sharp fa-thin fa-chart-pie\",\r\n\tChartSimple = \"fa-sharp fa-thin fa-chart-simple\",\r\n\tChat = \"fa-sharp fa-thin fa-comment\",\r\n\tCheck = \"fa-sharp fa-thin fa-check\",\r\n\tChevronDown = \"fa-sharp fa-thin fa-chevron-down\",\r\n\tChevronLeft = \"fa-sharp fa-thin fa-chevron-left\",\r\n\tChevronRight = \"fa-sharp fa-thin fa-chevron-right\",\r\n\tChevronUp = \"fa-sharp fa-thin fa-chevron-up\",\r\n\tCircle = \"fa-sharp fa-thin fa-circle\",\r\n\tCircleCheck = \"fa-sharp fa-thin fa-circle-check\",\r\n\tCircleExclamation = \"fa-sharp fa-thin fa-circle-exclamation\",\r\n\tCircleInfo = \"fa-sharp fa-thin fa-circle-info\",\r\n\tCircleStop = \"fa-sharp fa-thin fa-circle-stop\",\r\n\tClipboard = \"fa-sharp fa-thin fa-clipboard\",\r\n\tClipboardMedical = \"fa-sharp fa-thin fa-clipboard-medical\",\r\n\tClock = \"fa-sharp fa-thin fa-clock\",\r\n\tClockRotateLeft = \"fa-sharp fa-thin fa-clock-rotate-left\",\r\n\tClose = \"fa-sharp fa-thin fa-xmark\",\r\n\tCloud = \"fa-sharp fa-thin fa-cloud\",\r\n\tCloudArrowUp = \"fa-sharp fa-thin fa-cloud-arrow-up\",\r\n\tCloudDownload = \"fa-sharp fa-thin fa-cloud-download\",\r\n\tCode = \"fa-sharp fa-thin fa-code\",\r\n\tCodeMerge = \"fa-sharp fa-thin fa-code-merge\",\r\n\tCoins = \"fa-sharp fa-thin fa-coins\",\r\n\tCollapse = \"fa-sharp fa-thin fa-compress\",\r\n\tComment = \"fa-sharp fa-thin fa-comment\",\r\n\tCommentDots = \"fa-sharp fa-thin fa-comment-dots\",\r\n\tCommentLines = \"fa-sharp fa-thin fa-comment-lines\",\r\n\tComments = \"fa-sharp fa-thin fa-comments\",\r\n\tCommentSms = \"fa-sharp fa-thin fa-comment-sms\",\r\n\tCompress = \"fa-sharp fa-thin fa-compress\",\r\n\tCopy = \"fa-sharp fa-thin fa-copy\",\r\n\tCopyright = \"fa-sharp fa-thin fa-copyright\",\r\n\tCreditCard = \"fa-sharp fa-thin fa-credit-card\",\r\n\tCrown = \"fa-sharp fa-thin fa-crown\",\r\n\t//#endregion\r\n\r\n\t//#region D\r\n\tDatabase = \"fa-sharp fa-thin fa-database\",\r\n\tDelete = \"fa-sharp fa-thin fa-xmark\",\r\n\tDeleteLeft = \"fa-sharp fa-thin fa-delete-left\",\r\n\tDeleteRight = \"fa-sharp fa-thin fa-delete-right\",\r\n\tDesktop = \"fa-sharp fa-thin fa-desktop\",\r\n\tDownload = \"fa-sharp fa-thin fa-download\",\r\n\t//#endregion\r\n\r\n\t//#region E\r\n\tEdit = \"fa-sharp fa-thin fa-pen\",\r\n\tEject = \"fa-sharp fa-thin fa-eject\",\r\n\tEllipsis = \"fa-sharp fa-thin fa-ellipsis\",\r\n\tEllipsisVertical = \"fa-sharp fa-thin fa-ellipsis-vertical\",\r\n\tEnvelope = \"fa-sharp fa-thin fa-envelope\",\r\n\tEraser = \"fa-sharp fa-thin fa-eraser\",\r\n\tEuroSign = \"fa-sharp fa-thin fa-euro-sign\",\r\n\tExclamation = \"fa-sharp fa-thin fa-exclamation\",\r\n\tExpand = \"fa-sharp fa-thin fa-expand\",\r\n\tEye = \"fa-sharp fa-thin fa-eye\",\r\n\tEyeSlash = \"fa-sharp fa-thin fa-eye-slash\",\r\n\t//#endregion\r\n\r\n\t//#region F\r\n\tFamily = \"fa-sharp fa-thin fa-family\",\r\n\tFastBackward = \"fa-sharp fa-thin fa-fast-backward\",\r\n\tFastForward = \"fa-sharp fa-thin fa-fast-forward\",\r\n\tFile = \"fa-sharp fa-thin fa-file\",\r\n\tFileAudio = \"fa-sharp fa-thin fa-file-audio\",\r\n\tFileContract = \"fa-sharp fa-thin fa-file-contract\",\r\n\tFileDownload = \"fa-sharp fa-thin fa-file-download\",\r\n\tFileExcel = \"fa-sharp fa-thin fa-file-excel\",\r\n\tFileExport = \"fa-sharp fa-thin fa-file-export\",\r\n\tFileImage = \"fa-sharp fa-thin fa-file-image\",\r\n\tFileInvoice = \"fa-sharp fa-thin fa-file-invoice\",\r\n\tFileImport = \"fa-sharp fa-thin fa-file-import\",\r\n\tFileLines = \"fa-sharp fa-thin fa-file-lines\",\r\n\tFileMusic = \"fa-sharp fa-thin fa-file-music\",\r\n\tFilePdf = \"fa-sharp fa-thin fa-file-pdf\",\r\n\tFiles = \"fa-sharp fa-thin fa-file-files\",\r\n\tFileSignature = \"fa-sharp fa-thin fa-file-signature\",\r\n\tFileVideo = \"fa-sharp fa-thin fa-file-video\",\r\n\tFileWord = \"fa-sharp fa-thin fa-file-word\",\r\n\tFileZipper = \"fa-sharp fa-thin fa-file-zipper\",\r\n\tFilter = \"fa-sharp fa-thin fa-filter\",\r\n\tFlag = \"fa-sharp fa-thin fa-flag\",\r\n\tFlagSwallowTail = \"fa-sharp fa-thin fa-flag-swallowtail\",\r\n\tFloppyDisk = \"fa-sharp fa-thin fa-floppy-disk\",\r\n\tFolder = \"fa-sharp fa-thin fa-folder\",\r\n\tFolderOpen = \"fa-sharp fa-thin fa-folder-open\",\r\n\tFontAwesome = \"fa-sharp fa-thin  fa-font-awesome\",\r\n\tForward = \"fa-sharp fa-thin fa-forward\",\r\n\tForwardStep = \"fa-sharp fa-thin fa-forward-step\",\r\n\tForwardFast = \"fa-sharp fa-thin fa-forward-fast\",\r\n\tFutbol = \"fa-sharp fa-thin fa-futbol\",\r\n\t//#endregion\r\n\r\n\t//#region G\r\n\tGear = \"fa-sharp fa-thin fa-gear\",\r\n\tGears = \"fa-sharp fa-thin fa-gears\",\r\n\tGlobe = \"fa-sharp fa-thin fa-globe\",\r\n\t//#endregion\r\n\r\n\t//#region H\r\n\tHashtag = \"fa-sharp fa-thin fa-hashtag\",\r\n\tHatWizard = \"fa-sharp fa-thin fa-hat-wizard\",\r\n\tHeadset = \"fa-sharp fa-thin fa-headset\",\r\n\tHospital = \"fa-sharp fa-thin fa-hospital\",\r\n\tHourglass = \"fa-sharp fa-thin fa-hourglass\",\r\n\tHourglassClock = \"fa-sharp fa-thin fa-hourglass-clock\",\r\n\tHouse = \"fa-sharp fa-thin fa-house\",\r\n\tHouseMedical = \"fa-sharp fa-thin fa-house-medical\",\r\n\tHouseUser = \"fa-sharp fa-thin fa-house-user\",\r\n\t//#endregion\r\n\r\n\t//#region I\r\n\tImage = \"fa-sharp fa-thin fa-image\",\r\n\tInbox = \"fa-sharp fa-thin fa-inbox\",\r\n\tInboxFull = \"fa-sharp fa-thin fa-inbox-full\",\r\n\tInfo = \"fa-sharp fa-thin fa-info\",\r\n\t//#endregion\r\n\r\n\t//#region K\r\n\tKey = \"fa-sharp fa-thin fa-key\",\r\n\tKeyboard = \"fa-sharp fa-thin fa-keyboard\",\r\n\tKeySkeleton = \"fa-sharp fa-thin fa-key-skeleton\",\r\n\t//#endregion\r\n\r\n\t//#region L\r\n\tLaptop = \"fa-sharp fa-thin fa-laptop\",\r\n\tLaptopMedical = \"fa-sharp fa-thin fa-laptop-medical\",\r\n\tLevelDown = \"fa-sharp fa-thin fa-level-down\",\r\n\tLevelDownAlt = \"fa-sharp fa-thin fa-level-down-alt\",\r\n\tLevelLeft = \"fa-sharp fa-thin fa-level-left\",\r\n\tLevelLeftAlt = \"fa-sharp fa-thin fa-level-left-alt\",\r\n\tLevelRight = \"fa-sharp fa-thin fa-level-right\",\r\n\tLevelRightAlt = \"fa-sharp fa-thin fa-level-right-alt\",\r\n\tLevelUp = \"fa-sharp fa-thin fa-level-up\",\r\n\tLevelUpAlt = \"fa-sharp fa-thin fa-level-up-alt\",\r\n\tLink = \"fa-sharp fa-thin fa-link\",\r\n\tLinkExternal = \"fa-sharp fa-thin fa-arrow-up-right-from-square\",\r\n\tLinkHorizontal = \"fa-sharp fa-thin fa-link-horizontal\",\r\n\tLinkHorizontalSlash = \"fa-sharp fa-thin fa-link-horizontal-slash\",\r\n\tLinkSimple = \"fa-sharp fa-thin fa-link-simple\",\r\n\tLinkSimpleSlash = \"fa-sharp fa-thin fa-link-simple-slash\",\r\n\tLinkSlash = \"fa-sharp fa-thin fa-link-slash\",\r\n\tList = \"fa-sharp fa-thin fa-list\",\r\n\tListCheck = \"fa-sharp fa-thin fa-list-check\",\r\n\tListOl = \"fa-sharp fa-thin fa-list-ol\",\r\n\tListTree = \"fa-sharp fa-thin fa-list-tree\",\r\n\tListUl = \"fa-sharp fa-thin fa-list-ul\",\r\n\tLocationArrow = \"fa-sharp fa-thin fa-location-arrow\",\r\n\tLocationCrossHairs = \"fa-sharp fa-thin fa-location-crosshairs\",\r\n\tLocationCheck = \"fa-sharp fa-thin fa-location-check\",\r\n\tLocationDot = \"fa-sharp fa-thin fa-location-dot\",\r\n\tLock = \"fa-sharp fa-thin fa-lock\",\r\n\tLockOpen = \"fa-sharp fa-thin fa-lock-open\",\r\n\tLogin = \"fa-sharp fa-thin fa-arrow-right-to-bracket\",\r\n\tLogout = \"fa-sharp fa-thin fa-arrow-right-from-bracket\",\r\n\t//#endregion\r\n\r\n\t//#region M\r\n\tMagnifyingGlass = \"fa-sharp fa-thin fa-magnifying-glass\",\r\n\tMagnifyingGlassMinus = \"fa-sharp fa-thin fa-magnifying-glass-minus\",\r\n\tMagnifyingGlassPlus = \"fa-sharp fa-thin fa-magnifying-glass-plus\",\r\n\tMail = \"fa-sharp fa-thin fa-envelope\",\r\n\tMailbox = \"fa-sharp fa-thin fa-mailbox\",\r\n\tMailOpen = \"fa-sharp fa-thin fa-envelope-open\",\r\n\tMap = \"fa-sharp fa-thin fa-map\",\r\n\tMapLocation = \"fa-sharp fa-thin fa-map-location\",\r\n\tMapLocationDot = \"fa-sharp fa-thin fa-map-location-dot\",\r\n\tMapPin = \"fa-sharp fa-thin fa-map-pin\",\r\n\tMaximize = \"fa-sharp fa-thin fa-maximize\",\r\n\tMerge = \"fa-sharp fa-thin fa-merge\",\r\n\tMessage = \"fa-sharp fa-thin fa-message\",\r\n\tMessageCode = \"fa-sharp fa-thin fa-message-code\",\r\n\tMessageDots = \"fa-sharp fa-thin fa-message-dots\",\r\n\tMessageLines = \"fa-sharp fa-thin fa-message-lines\",\r\n\tMessages = \"fa-sharp fa-thin fa-messages\",\r\n\tMicrophone = \"fa-sharp fa-thin fa-microphone\",\r\n\tMicrophoneLines = \"fa-sharp fa-thin fa-microphone-lines\",\r\n\tMicrophoneLinesSlash = \"fa-sharp fa-thin fa-microphone-lines-slash\",\r\n\tMicrophoneSlash = \"fa-sharp fa-thin fa-microphone-slash\",\r\n\tMicroscope = \"fa-sharp fa-thin fa-microscope\",\r\n\tMinimize = \"fa-sharp fa-thin fa-minimize\",\r\n\tMinus = \"fa-sharp fa-thin fa-minus\",\r\n\tMobile = \"fa-sharp fa-thin fa-mobile\",\r\n\tMobileNotch = \"fa-sharp fa-thin fa-mobile-notch\",\r\n\tMoneyCheckDollarPen = \"fa-sharp fa-thin fa-money-check-dollar-pen\",\r\n\tMusic = \"fa-sharp fa-thin fa-music\",\r\n\tMusicSlash = \"fa-sharp fa-thin fa-music-slash\",\r\n\t//#endregion\r\n\r\n\t//#region Newspaper\r\n\tNewsPaper = \"fa-sharp fa-thin fa-newspaper\",\r\n\t//#endregion\r\n\r\n\t//#region P\r\n\tPalette = \"fa-sharp fa-thin fa-palette\",\r\n\tPaperClip = \"fa-sharp fa-thin fa-paperclip\",\r\n\tPaperClipVertical = \"fa-sharp fa-thin fa-paperclip-vertical\",\r\n\tPaperPlane = \"fa-sharp fa-thin fa-paper-plane\",\r\n\tPaperPlaneTop = \"fa-sharp fa-thin fa-paper-plane-top\",\r\n\tPaste = \"fa-sharp fa-thin fa-paste\",\r\n\tPause = \"fa-sharp fa-thin fa-pause\",\r\n\tPen = \"fa-sharp fa-thin fa-pen\",\r\n\tPencil = \"fa-sharp fa-thin fa-pencil\",\r\n\tPenToSquare = \"fa-sharp fa-thin fa-pen-to-square\",\r\n\tPeopleArrowsLeftRight = \"fa-sharp fa-thin fa-people-arrows-left-right\",\r\n\tPercentage = \"fa-sharp fa-thin fa-percentage\",\r\n\tPersonChalkboard = \"fa-sharp fa-thin fa-person-chalkboard\",\r\n\tPersonMilitaryRifle = \"fa-sharp fa-thin fa-person-military-rifle\",\r\n\tPhone = \"fa-sharp fa-thin fa-phone\",\r\n\tPlay = \"fa-sharp fa-thin fa-play\",\r\n\tPlayPause = \"fa-sharp fa-thin fa-play-pause\",\r\n\tPlus = \"fa-sharp fa-thin fa-plus\",\r\n\tPrint = \"fa-sharp fa-thin fa-print\",\r\n\tPumo = \"fa-sharp fa-thin fa-font-awesome\",\r\n\t//#endregion\r\n\r\n\t//#region Q\r\n\tQuestion = \"fa-sharp fa-thin fa-question\",\r\n\t//#endregion\r\n\r\n\t//#region R\r\n\tRedo = \"fa-sharp fa-thin fa-redo\",\r\n\tRedoAlt = \"fa-sharp fa-thin fa-redo-alt\",\r\n\tRefresh = \"fa-sharp fa-thin fa-arrows-rotate\",\r\n\tRemove = \"fa-sharp fa-thin fa-xmark\",\r\n\tRepeat = \"fa-sharp fa-thin fa-repeat\",\r\n\tReply = \"fa-sharp fa-thin fa-reply\",\r\n\tReplyAll = \"fa-sharp fa-thin fa-reply-all\",\r\n\tRightFromBracket = \"fa-sharp fa-thin fa-right-from-bracket\",\r\n\tRightToBracket = \"fa-sharp fa-thin fa-right-to-bracket\",\r\n\tRotate = \"fa-sharp fa-thin fa-rotate\",\r\n\tRotateLeft = \"fa-sharp fa-thin fa-rotate-left\",\r\n\t//#endregion\r\n\r\n\t//#region S\r\n\tSackDollar = \"fa-sharp fa-thin fa-sack-dollar\",\r\n\tSave = \"fa-sharp fa-thin fa-floppy-disk\",\r\n\tScissors = \"fa-sharp fa-thin fa-scissors\",\r\n\tScrewdriverWrench = \"fa-sharp fa-thin fa-screwdriver-wrench\",\r\n\tSearch = \"fa-sharp fa-thin fa-magnifying-glass\",\r\n\tSensorTriangleExclamation = \"fa-sharp fa-thin fa-sensor-triangle-exclamation\",\r\n\tSettings = \"fa-sharp fa-thin fa-gear\",\r\n\tShare = \"fa-sharp fa-thin fa-share\",\r\n\tShareAll = \"fa-sharp fa-thin fa-share-all\",\r\n\tShareNodes = \"fa-sharp fa-thin fa-share-nodes\",\r\n\tShareFromSquare = \"fa-sharp fa-thin fa-share-from-square\",\r\n\tShieldCheck = \"fa-sharp fa-thin fa-shield-check\",\r\n\tShip = \"fa-sharp fa-thin fa-ship\",\r\n\tSitemap = \"fa-sharp fa-thin fa-sitemap\",\r\n\tSoccer = \"fa-sharp fa-thin fa-futbol\",\r\n\tSort = \"fa-sharp fa-thin fa-sort\",\r\n\tSortDown = \"fa-sharp fa-thin fa-sort-down\",\r\n\tSortUp = \"fa-sharp fa-thin fa-sort-up\",\r\n\tSpinner = \"fa-sharp fa-thin fa-spinner\",\r\n\tSplit = \"fa-sharp fa-thin fa-split\",\r\n\tSquareCheck = \"fa-sharp fa-thin fa-square-check\",\r\n\tSquareMinus = \"fa-sharp fa-thin fa-square-minus\",\r\n\tSquarePen = \"fa-sharp fa-thin fa-square-pen\",\r\n\tStamp = \"fa-sharp fa-thin fa-stamp\",\r\n\tStar = \"fa-sharp fa-thin fa-star\",\r\n\tStepBackward = \"fa-sharp fa-thin fa-step-backward\",\r\n\tStepForward = \"fa-sharp fa-thin fa-step-forward\",\r\n\tStethoscope = \"fa-sharp fa-thin fa-stethoscope\",\r\n\tStop = \"fa-sharp fa-thin fa-stop\",\r\n\t//#endregion\r\n\r\n\t//#region T\r\n\tTable = \"fa-sharp fa-thin fa-table\",\r\n\tTableRows = \"fa-sharp fa-thin fa-table-rows\",\r\n\tTablet = \"fa-sharp fa-thin fa-tablet\",\r\n\tTag = \"fa-sharp fa-thin fa-tag\",\r\n\tTags = \"fa-sharp fa-thin fa-tags\",\r\n\tTasks = \"fa-sharp fa-thin fa-tasks\",\r\n\tThumbsDown = \"fa-sharp fa-thin fa-thumbs-down\",\r\n\tThumbsUp = \"fa-sharp fa-thin fa-thumbs-up\",\r\n\tThumbtack = \"fa-sharp fa-thin fa-thumbtack\",\r\n\tTimer = \"fa-sharp fa-thin fa-timer\",\r\n\tTrash = \"fa-sharp fa-thin fa-trash\",\r\n\tTrashCanList = \"fa-sharp fa-thin fa-trash-can-list\",\r\n\tTrashUndo = \"fa-sharp fa-thin fa-trash-undo\",\r\n\tTrashXmark = \"fa-sharp fa-thin fa-trash-xmark\",\r\n\tTriangleExclamation = \"fa-sharp fa-thin fa-triangle-exclamation\",\r\n\tTruck = \"fa-sharp fa-thin fa-truck\",\r\n\t//#endregion\r\n\r\n\t//#region U\r\n\tUndo = \"fa-sharp fa-thin fa-arrow-rotate-left\",\r\n\tUnlock = \"fa-sharp fa-thin fa-unlock\",\r\n\tUpload = \"fa-sharp fa-thin fa-upload\",\r\n\tUsbDrive = \"fa-sharp fa-thin fa-usb-drive\",\r\n\tUser = \"fa-sharp fa-thin fa-user\",\r\n\tUserCheck = \"fa-sharp fa-thin fa-user-check\",\r\n\tUserClock = \"fa-sharp fa-thin fa-user-clock\",\r\n\tUserDoctor = \"fa-sharp fa-thin fa-user-doctor\",\r\n\tUserDoctorHair = \"fa-sharp fa-thin fa-user-doctor-hair\",\r\n\tUserDoctorHairLong = \"fa-sharp fa-thin fa-user-doctor-hair-long\",\r\n\tUserGear = \"fa-sharp fa-thin fa-user-gear\",\r\n\tUserGroup = \"fa-sharp fa-thin fa-user-group\",\r\n\tUserHair = \"fa-sharp fa-thin fa-user-hair\",\r\n\tUserHairLong = \"fa-sharp fa-thin fa-user-hair-long\",\r\n\tUserHeadset = \"fa-sharp fa-thin fa-user-headset\",\r\n\tUsers = \"fa-sharp fa-thin fa-users\",\r\n\tUserSecret = \"fa-sharp fa-thin fa-user-secret\",\r\n\tUsersMedical = \"fa-sharp fa-thin fa-users-medical\",\r\n\tUserTag = \"fa-sharp fa-thin fa-user-tag\",\r\n\tUserXmark = \"fa-sharp fa-thin fa-user-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region V\r\n\tVideo = \"fa-sharp fa-thin fa-video\",\r\n\tVideoSlash = \"fa-sharp fa-thin fa-video-slash\",\r\n\tVolume = \"fa-sharp fa-thin fa-volume\",\r\n\tVolumeHigh = \"fa-sharp fa-thin fa-volume-high\",\r\n\tVolumeLow = \"fa-sharp fa-thin fa-volume-low\",\r\n\tVolumeOff = \"fa-sharp fa-thin fa-volume-off\",\r\n\tVolumeSlash = \"fa-sharp fa-thin fa-volume-slash\",\r\n\tVolumeXmark = \"fa-sharp fa-thin fa-volume-xmark\",\r\n\t//#endregion\r\n\r\n\t//#region W\r\n\tWifi = \"fa-sharp fa-thin fa-wifi\",\r\n\tWifiExclamation = \"fa-sharp fa-thin fa-wifi-exclamation\",\r\n\tWifiFair = \"fa-sharp fa-thin fa-wifi-fair\",\r\n\tWifiSlash = \"fa-sharp fa-thin fa-wifi-slash\",\r\n\tWindow = \"fa-sharp fa-thin fa-window\",\r\n\t//#endregion\r\n\r\n\t//#region X\r\n\tXmark = \"fa-sharp fa-thin fa-xmark\",\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#endregion\r\n\r\n//#endregion\r\n\r\n//#region Common\r\nexport enum PositionEnum\r\n{\r\n\tLeft,\r\n\tTop,\r\n\tRight,\r\n\tBottom\r\n}\r\n\r\nexport enum OrientationEnum\r\n{\r\n\tHorizontal,\r\n\tVertical\r\n}\r\n\r\nexport class PopupSettings\r\n{\r\n\twidth?: number | string;\r\n\tminWidth?: number | string;\r\n\tmaxWidth?: number | string;\r\n\theight?: number | string;\r\n\tminHeight?: number | string;\r\n\tmaxHeight?: number | string;\r\n\tright?: boolean;\r\n\tdirection?: PopupDirectionEnum;\r\n}\r\n\r\nexport enum PopupDirectionEnum\r\n{\r\n\tAuto,\r\n\tUp,\r\n\tDown\r\n}\r\n\r\nexport enum BorderStyleEnum\r\n{\r\n\tDashed = \"dashed\",\r\n\tDotted = \"dotted\",\r\n\tDouble = \"double\",\r\n\tHidden = \"hidden\",\r\n\tSolid = \"solid\",\r\n\tGroove = \"groove\",\r\n\tRidge = \"ridge\"\r\n}\r\n//#endregion\r\n\r\n//#region Button\r\nexport enum ButtonModeEnum\r\n{\r\n\tDefault = \"vrButtonDefaultMode\",\r\n\tPrimary = \"vrButtonPrimaryMode\",\r\n\tDelete = \"vrButtonDeleteMode\",\r\n\tExcel = \"vrButtonExcelMode\",\r\n\tPrint = \"vrButtonPrintMode\",\r\n\tWarning = \"vrButtonWarningMode\"\r\n}\r\n\r\nexport class ColorSettings\r\n{\r\n\ttextColor?: string;\r\n\tbackground?: string;\r\n\tborder?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Div\r\nexport class DivColorSettings\r\n{\r\n\ttextColor?: string;\r\n\tbackground?: string;\r\n}\r\n\r\nexport class DivBorderSpecificSettings\r\n{\r\n\ttype?: string;\r\n\tsize?: number;\r\n\tcolor?: string;\r\n}\r\n\r\nexport class DivBorderSettings extends DivBorderSpecificSettings\r\n{\r\n\ttop?: boolean | DivBorderSpecificSettings;\r\n\tright?: boolean | DivBorderSpecificSettings;\r\n\tbottom?: boolean | DivBorderSpecificSettings;\r\n\tleft?: boolean | DivBorderSpecificSettings;\r\n}\r\n//#endregion\r\n\r\n//#region ButtonGroup\r\nexport enum SelectionModeEnum\r\n{\r\n\tSingle,\r\n\tMultiple\r\n}\r\n\r\nexport class ButtonGroupItem\r\n{\r\n\tvalue?: string | number;\r\n\ttext?: string;\r\n\ticon?: IconClass;\r\n\timageUrl?: string;\r\n\tselected?: boolean;\r\n\tcss?: string;\r\n\tcolorSettings?: ColorSettings;\r\n\tvisible?: boolean;\r\n\tenable?: boolean;\r\n\ttooltip?: string;\r\n\r\n\tonClick?: (e: ButtonGroupClickEvent) => void;\r\n\tonIconClick?: (e: ButtonGroupIconClickEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region TabStrip\r\nexport class TabStripItem extends ButtonGroupItem\r\n{\r\n\telementId?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Rating\r\nexport enum RatingPrecisionEnum\r\n{\r\n\tHalf,\r\n\tFull\r\n}\r\n//#endregion\r\n\r\n//#region Label\r\nexport enum LabelModeEnum\r\n{\r\n\tDefault,\r\n\tPrimary,\r\n\tError,\r\n\tPhone,\r\n\tMail,\r\n\tLink,\r\n\tCurrency,\r\n\tDate,\r\n\tTime,\r\n\tDateTime\r\n}\r\n\r\nexport enum LabelUnderlineMode\r\n{\r\n\tAlways,\r\n\tNone,\r\n\tOnHover\r\n}\r\n//#endregion\r\n\r\n//#region TextBox\r\nexport enum TextAlignEnum\r\n{\r\n\tLeft = \"left\",\r\n\tCenter = \"center\",\r\n\tRight = \"right\",\r\n\tJustify = \"justify\"\r\n}\r\n\r\nexport class TextBoxLengthSettings\r\n{\r\n\tsubstituteChar?: string;\r\n\tvalue: number;\r\n}\r\n\r\nexport enum TextModeEnum\r\n{\r\n\tText,\r\n\tLink,\r\n\tPhone,\r\n\tSearch,\r\n\tMail,\r\n\tMultiLine,\r\n\tPassword,\r\n\tPasswordViewable,\r\n\tNumeric,\r\n\tPercentage,\r\n\tCurrency\r\n}\r\n\r\nexport enum TextTransformModeEnum\r\n{\r\n\tCapitalize = \"capitalize\",\r\n\tUppercase = \"uppercase\",\r\n\tLowercase = \"lowercase\",\r\n\tDefault = \"none\"\r\n}\r\n\r\nexport class TextBoxValidationSettings\r\n{\r\n\tminValue?: number;\r\n\tmaxValue?: number;\r\n\tminLength?: number | TextBoxLengthSettings;\r\n\tmaxLength?: number | TextBoxLengthSettings;\r\n\tregex?: string | TextBoxRegexSettings;\r\n\terror?: TextBoxValidationErrorEnum;\r\n}\r\n\r\nexport class TextBoxRegexSettings\r\n{\r\n\tvalue?: string;\r\n\tflags?: string;\r\n\tcheckOnValue?: boolean;\r\n\tcheckOnKeyDown?: boolean;\r\n\tcheckOnKeyUp?: boolean;\r\n\tcheckOnBlur?: boolean;\r\n\tonlyNumbers?: boolean;\r\n\tonlyCharacters?: boolean;\r\n\tonlyUpperCase?: boolean;\r\n\tonlyLowerCase?: boolean;\r\n}\r\n\r\nexport enum TextBoxValidationErrorEnum\r\n{\r\n\tFlashing,\r\n\tStable,\r\n\tNone\r\n}\r\n//#endregion\r\n\r\n//#region Error\r\nexport enum ErrorModeEnum\r\n{\r\n\tTooltip,\r\n\tOverlay,\r\n\tSolid\r\n}\r\n\r\nexport enum ErrorPositionEnum\r\n{\r\n\tRight,\r\n\tBottom\r\n}\r\n\r\nexport enum ErrorHideModeEnum\r\n{\r\n\tOnFocus,\r\n\tOnAction,\r\n\tNever\r\n}\r\n//#endregion\r\n\r\n//#region Paypal\r\nexport enum PaypalEnvironmentEnum\r\n{\r\n\tSandbox = \"sandbox\",\r\n\tProduction = \"production\"\r\n}\r\n\r\nexport enum PaypalStyleSizeEnum\r\n{\r\n\tMedium = \"medium\",\r\n\tLarge = \"large\",\r\n\tSmall = \"small\",\r\n\tResponsive = \"responsive\"\r\n}\r\n\r\nexport enum PaypalStyleColorEnum\r\n{\r\n\tGold = \"gold\",\r\n\tBlue = \"blue\",\r\n\tSilver = \"silver\",\r\n\tBlack = \"black\"\r\n}\r\n\r\nexport enum PaypalStyleShapeEnum\r\n{\r\n\tRect = \"rect\",\r\n\tPill = \"pill\"\r\n}\r\n\r\nexport enum PaypalStyleLabelEnum\r\n{\r\n\tCheckout = \"checkout\",\r\n\tCredit = \"credit\",\r\n\tPay = \"pay\",\r\n\tBuyNow = \"buynow\",\r\n\tPaypal = \"paypal\",\r\n\tInstallment = \"installment\"\r\n}\r\n\r\nexport enum PaypalStyleLayoutEnum\r\n{\r\n\tVertical = \"vertical\",\r\n\tHorizontal = \"horizontal\"\r\n}\r\n//#endregion\r\n\r\n//#region CheckBox\r\nexport enum CheckboxStateEnum\r\n{\r\n\tChecked,\r\n\tUnchecked,\r\n\tUndefined\r\n}\r\n//#endregion\r\n\r\n//#region Image\r\nexport enum ImagePositionTypeEnum\r\n{\r\n\tCenter,\r\n\tFit,\r\n\tFill,\r\n\tStretch,\r\n\tOriginal\r\n}\r\n\r\nexport enum ImageToolbarTypeEnum\r\n{\r\n\tDownload,\r\n\tDelete,\r\n\tCustom\r\n}\r\n//#endregion\r\n\r\n//#region DatePicker\r\nexport enum DefaultDayEnum\r\n{\r\n\tFirst,\r\n\tLast\r\n}\r\n//#endregion\r\n\r\n//#region ComboBox\r\nexport enum ComboBoxTypeEnum\r\n{\r\n\tCombo,\r\n\tDropDown\r\n}\r\n\r\nexport enum ComboBoxTreeModeEnum\r\n{\r\n\tAllExpanded,\r\n\tOnlyFirstLevelExpanded,\r\n\tAllCollapsed\r\n}\r\n\r\nexport class ComboBoxItem\r\n{\r\n\ttext: string;\r\n\tvalue: any;\r\n\tparentValue?: any;\r\n}\r\n\r\nexport class ComboBoxWebServiceSettings\r\n{\r\n\tmethod: string;\r\n\tauthKey?: string;\r\n\titemsPropertyName?: string;\r\n\ttypedTextPropertyName?: string;\r\n\ttypedValuePropertyName?: string;\r\n\tsearchAfterCharsNumber?: number;\r\n\tparameters?: () => any;\r\n}\r\n\r\nexport class ComboBoxTemplateEvent\r\n{\r\n\tsender: ComboBox;\r\n\tdataItem: any;\r\n\telement: HTMLElement;\r\n}\r\n\r\nexport class ComboBoxEvent extends VrControlsEvent\r\n{\r\n\tsender: ComboBox;\r\n\tvalue: any;\r\n\ttext: string;\r\n\tchildrenValues: string[];\r\n\tselectedItem?: ComboBoxItem;\r\n\tchecked: boolean;\r\n\tisParent?: boolean;\r\n}\r\n\r\nexport class ComboBoxChangeEvent extends ComboBoxEvent\r\n{\r\n\r\n}\r\n\r\nexport class ComboBoxChangingEvent extends ComboBoxEvent\r\n{\r\n\tpreviousValue?: string | null;\r\n\tpreviousCheckedValues?: string[] | null;\r\n}\r\n\r\nexport class ComboBoxClearEvent extends VrControlsEvent\r\n{\r\n\tsender: ComboBox;\r\n}\r\n\r\nexport class SortByComboSettings\r\n{\r\n\tfield: string;\r\n\tdirection?: SortDirectionEnum;\r\n}\r\n//#endregion\r\n\r\n//#region AutoCompleteBox\r\nexport class AutoCompleteBoxItem\r\n{\r\n\ttext: string;\r\n\tvalue?: string;\r\n\tsettings?: AutoCompleteBoxItemSettings;\r\n}\r\n\r\nexport class AutoCompleteBoxItemSettings\r\n{\r\n\tbackgroundColor?: string;\r\n\ttextColor?: string;\r\n\tdeleteIconColor?: string;\r\n\tborder?: string;\r\n\tbold?: boolean;\r\n\tmaxWidth?: number;\r\n}\r\n\r\nexport class AutoCompleteBoxComboSettings\r\n{\r\n\titems?: ComboBoxItem[];\r\n\tfreeText?: boolean;\r\n\twebService?: ComboBoxWebServiceSettings;\r\n\ttemplate?: (e: any) => string;\r\n\ttreeMode?: ComboBoxTreeModeEnum;\r\n}\r\n//#endregion\r\n\r\n//#region Chart\r\nexport enum ChartTypeEnum\r\n{\r\n\tBar = \"bar\",\r\n\tHorizontalBar = \"horizontalBar\",\r\n\tLine = \"line\",\r\n\tDonut = \"doughnut\",\r\n\tPie = \"pie\",\r\n\tArea = \"area\",\r\n\tStackedBar = \"stackedBar\"\r\n}\r\n\r\nexport class ChartAreaSettings\r\n{\r\n\ttarget?: number | string | boolean | object;\r\n\tabove?: string;\r\n\tbelow?: string;\r\n}\r\n\r\nexport class ChartTitleSettings\r\n{\r\n\talign?: ChartTitleAlignEnum;\r\n\tcolor?: string;\r\n\tfullSize?: boolean;\r\n\tposition?: ChartTitlePositionEnum;\r\n\tfont?: ChartFont;\r\n\tpadding?: number;\r\n\ttext?: string;\r\n}\r\n\r\nexport enum ChartTitleAlignEnum\r\n{\r\n\tStart = \"start\",\r\n\tCenter = \"center\",\r\n\tEnd = \"end\"\r\n}\r\n\r\nexport enum ChartTitlePositionEnum\r\n{\r\n\tTop = \"top\",\r\n\tLeft = \"left\",\r\n\tBottom = \"bottom\",\r\n\tRight = \"right\"\r\n}\r\n\r\nexport class ChartFont\r\n{\r\n\tfamily?: string;\r\n\tsize?: number;\r\n\tstyle?: string;\r\n\tweight?: string;\r\n\tlineHeight?: number | string;\r\n}\r\n\r\nexport class ChartDataLabelsSettings\r\n{\r\n\tcolor?: string;\r\n\tbackgroundColor?: string;\r\n\tborderColor?: string;\r\n\tfont?: ChartFont;\r\n\tanchor?: ChartDataLabelsAnchorEnum;\r\n\talign?: ChartDataLabelAlignEnum;\r\n\toffset?: number;\r\n\topacity?: number;\r\n\tpadding?: number | { top?: number, right?: number, bottom?: number, left?: number };\r\n\ttextAlign?: ChartDataLabelsTextAlignEnum;\r\n\trotation?: number;\r\n}\r\n\r\nexport enum ChartDataLabelsAnchorEnum\r\n{\r\n\tCenter = \"center\",\r\n\tStart = \"start\",\r\n\tEnd = \"end\"\r\n}\r\n\r\nexport enum ChartDataLabelsTextAlignEnum\r\n{\r\n\tCenter = \"center\",\r\n\tStart = \"start\",\r\n\tEnd = \"end\",\r\n\tRight = \"right\",\r\n\tLeft = \"left\",\r\n}\r\n\r\nexport enum ChartDataLabelAlignEnum\r\n{\r\n\tCenter = \"center\",\r\n\tStart = \"start\",\r\n\tEnd = \"end\",\r\n\tRight = \"right\",\r\n\tBottom = \"bottom\",\r\n\tLeft = \"left\",\r\n\tTop = \"top\"\r\n}\r\n\r\nexport class ChartLegendSettings\r\n{\r\n\tposition?: ChartLegendPositionEnum;\r\n\talign?: ChartLegendAlignEnum;\r\n\tlabels?: ChartLegendLabelsSettings;\r\n\ttitle?: ChartLegendTitleSettings;\r\n}\r\n\r\nexport enum ChartLegendPositionEnum\r\n{\r\n\tTop = \"top\",\r\n\tLeft = \"left\",\r\n\tBottom = \"bottom\",\r\n\tRight = \"right\",\r\n\tChartArea = \"chartArea\"\r\n}\r\n\r\nexport enum ChartLegendAlignEnum\r\n{\r\n\tCenter = \"center\",\r\n\tStart = \"start\",\r\n\tEnd = \"end\"\r\n}\r\n\r\nexport class ChartLegendLabelsSettings\r\n{\r\n\tcolor?: string;\r\n\tboxHeight?: number;\r\n\tpadding?: number;\r\n\ttextAlign?: ChartLegendLabelsAlignEnum;\r\n}\r\n\r\nexport enum ChartLegendLabelsAlignEnum\r\n{\r\n\tLeft = \"left\",\r\n\tRight = \"right\",\r\n\tCenter = \"center\"\r\n}\r\n\r\nexport class ChartLegendTitleSettings\r\n{\r\n\tcolor?: string;\r\n\tdisplay?: boolean;\r\n\tpadding?: number;\r\n\ttext?: string;\r\n}\r\n\r\nexport class ChartTooltipSettings\r\n{\r\n\tposition?: ChartTooltipPositionEnum;\r\n\tbackgroundColor?: string;\r\n\ttitleColor?: string;\r\n\ttitleFont?: ChartFont;\r\n\ttitleAlign?: ChartTooltipAlignEnum;\r\n\tbodyColor?: string;\r\n\tbodyFont?: ChartFont;\r\n\tbodyAlign?: ChartTooltipAlignEnum;\r\n\tfooterColor?: string;\r\n\tfooterFont?: ChartFont;\r\n\tfooterAlign?: ChartTooltipAlignEnum;\r\n\tborderColor?: string;\r\n\tborderWidth?: number;\r\n\txAlign?: ChartTooltipAlignEnum;\r\n\tyAlign?: ChartTooltipYAlignEnum;\r\n}\r\n\r\nexport enum ChartTooltipPositionEnum\r\n{\r\n\tAverage = \"average\",\r\n\tNearest = \"nearest\"\r\n}\r\n\r\nexport enum ChartTooltipAlignEnum\r\n{\r\n\tLeft = \"left\",\r\n\tRight = \"right\",\r\n\tCenter = \"center\"\r\n}\r\n\r\nexport enum ChartTooltipYAlignEnum\r\n{\r\n\tTop = \"top\",\r\n\tCenter = \"center\",\r\n\tBottom = \"bottom\"\r\n}\r\n\r\nexport class ChartStackedSettings\r\n{\r\n\tx?: boolean;\r\n\ty?: boolean;\r\n}\r\n\r\nexport class ChartAspectRatioSettings\r\n{\r\n\tmaintain?: boolean;\r\n\tvalue?: number;\r\n}\r\n\r\nexport class ChartLimitSettings\r\n{\r\n\tminX?: number;\r\n\tmaxX?: number;\r\n\tminY?: number;\r\n\tmaxY?: number;\r\n}\r\n\r\nexport class ChartDataSource\r\n{\r\n\tareaSettings?: ChartAreaSettings;\r\n\ttype?: ChartTypeEnum;\r\n\ttitle?: string;\r\n\tbackgroundColor?: string[];\r\n\tborderColor?: string[];\r\n\tborderWidth?: number;\r\n\tlabels?: string[];\r\n\thidden?: boolean;\r\n\torder?: number;\r\n\tfill?: boolean;\r\n\tdata?: any[];\r\n\tparsing?: ChartParsingSettings;\r\n\tsmoothLine?: boolean;\r\n}\r\n\r\nexport class ChartParsingSettings\r\n{\r\n\txAxisKey?: string;\r\n\tyAxisKey?: string;\r\n}\r\n\r\nexport class ChartLegendEvent extends VrControlsEvent\r\n{\r\n\tsender: ChartVr;\r\n\tevent: any;\r\n\tlegendItem: any;\r\n\tlegend: any;\r\n}\r\n\r\nexport class ChartLegendHoverEvent extends ChartLegendEvent { }\r\nexport class ChartLegendLeaveEvent extends ChartLegendEvent { }\r\nexport class ChartLegendClickEvent extends ChartLegendEvent { }\r\n\r\nexport class ChartLabelEvent extends VrControlsEvent\r\n{\r\n\tsender: ChartVr;\r\n\tcontext: any;\r\n}\r\n\r\nexport class ChartLabelHoverEvent extends ChartLabelEvent { }\r\nexport class ChartLabelLeaveEvent extends ChartLabelEvent { }\r\nexport class ChartLabelClickEvent extends ChartLabelEvent { }\r\n\r\nexport class ChartAxisFormatterEvent extends VrControlsEvent\r\n{\r\n\tvalue: any;\r\n\tcontext: any;\r\n\tsender: ChartVr;\r\n}\r\n\r\nexport class ChartOptions extends VrControlOptions\r\n{\r\n\ttype?: ChartTypeEnum;\r\n\tpadding?: number;\r\n\tparsing?: ChartParsingSettings;\r\n\ttitle?: boolean | string | ChartTitleSettings;\r\n\tsubTitle?: boolean | string | ChartTitleSettings;\r\n\tdataLabels?: boolean | ChartDataLabelsSettings;\r\n\tdatasource?: ChartDataSource[];\r\n\tlegend?: boolean | ChartLegendSettings;\r\n\ttooltip?: boolean | ChartTooltipSettings;\r\n\tstacked?: boolean | ChartStackedSettings;\r\n\tlimit?: ChartLimitSettings;\r\n\tshowHideDatasetOnLegendClick?: boolean;\r\n\tresponsive?: boolean;\r\n\taspectRatio?: ChartAspectRatioSettings;\r\n\tscales?: any;\r\n\r\n\tonLegendHover?: (e: ChartLegendHoverEvent) => void;\r\n\tonLegendLeave?: (e: ChartLegendLeaveEvent) => void;\r\n\tonLegendClick?: (e: ChartLegendClickEvent) => void;\r\n\tonLabelHover?: (e: ChartLabelHoverEvent) => void;\r\n\tonLabelLeave?: (e: ChartLabelLeaveEvent) => void;\r\n\tonLabelClick?: (e: ChartLabelClickEvent) => void;\r\n\tonAxisLabelFormatter?: (e: ChartAxisFormatterEvent) => void;\r\n\tonDataFormatter?: (e: ChartAxisFormatterEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Window\r\nexport enum WindowFooterItemTypeEnum\r\n{\r\n\tClose,\r\n\tOk,\r\n\tCustom,\r\n\tSplitButton,\r\n\tSwitch,\r\n\tButtonGroup,\r\n\tCheckBox,\r\n\tComboBox,\r\n\tDatePicker,\r\n\tLabel,\r\n\tTextBox,\r\n\tSeparator\r\n}\r\n\r\nexport enum WindowFooterItemAlignEnum\r\n{\r\n\tLeft,\r\n\tRight\r\n}\r\n\r\nexport enum WindowAutoSizeDirectionEnum\r\n{\r\n\tWidth,\r\n\tHeight\r\n}\r\n//#endregion\r\n\r\n//#region Editor\r\nexport enum vrEditorItemEnum\r\n{\r\n\tSeparator = \"|\",\r\n\tUndo = \"undo\",\r\n\tRedo = \"redo\",\r\n\tBold = \"bold\",\r\n\tItalic = \"italic\",\r\n\tUnderline = \"underline\",\r\n\tFontFamily = \"fontfamily\",\r\n\tFontSelect = \"fontfamily\",\r\n\tFontSize = \"fontsize\",\r\n\tForeColor = \"forecolor\",\r\n\tFullScreen = \"fullscreen\",\r\n\tAlignLeft = \"alignleft\",\r\n\tAlignRight = \"alignright\",\r\n\tAlignCenter = \"aligncenter\",\r\n\tAlignJustify = \"alignjustify\",\r\n\tOrderedList = \"numlist\",\r\n\tNumList = \"numlist\",\r\n\tUnorderedList = \"bullist\",\r\n\tBullist = \"bullist\",\r\n\tColorPicker = \"color\",\r\n\tLink = \"link\",\r\n\tCut = \"cut\",\r\n\tCopy = \"copy\",\r\n\tPaste = \"paste\",\r\n\tPasteText = \"pastetext\",\r\n\tSelectAll = \"selectall\",\r\n\tSearchAndReplace = \"searchreplace\",\r\n\tPrint = \"print\",\r\n\tPreview = \"preview\",\r\n\tCodeSource = \"code\",\r\n\tWordCount = \"wordcount\",\r\n\tImage = \"image\",\r\n\tMedia = \"media\",\r\n\tTable = \"inserttable\",\r\n\tInsertTable = \"inserttable\",\r\n\tCell = \"cell\",\r\n\tRow = \"row\",\r\n\tSymbols = \"charmap\",\r\n\tCharMap = \"charmap\",\r\n\tEmoticons = \"emoticons\",\r\n\tHr = \"hr\",\r\n\tPageBreak = \"pagebreak\",\r\n\tStrikeThrough = \"strikethrough\",\r\n\tSuperscript = \"superscript\",\r\n\tSubscript = \"subscript\",\r\n\tFontFormats = \"fontformats\",\r\n\tAlignFormats = \"align\",\r\n\tBlockFormats = \"blockformats\",\r\n\tBackgroundColor = \"backcolor\",\r\n\tClearFormatting = \"removeformat\",\r\n\tRemoveFormat = \"removeformat\"\r\n}\r\n\r\nexport enum vrEditorToolbarModeEnum\r\n{\r\n\tFloating = \"floating\",\r\n\tSliding = \"sliding\",\r\n\tScrolling = \"scrolling\",\r\n\tWrap = \"wrap\"\r\n}\r\n\r\nexport enum TinyMceIconEnum\r\n{\r\n\tCaretDown = \"action-next\",\r\n\tCaretUp = \"action-prev\",\r\n\tAlignCenter = \"align-center\",\r\n\tAlignJustify = \"align-justify\",\r\n\tAlignLeft = \"align-left\",\r\n\tAlignRight = \"align-right\",\r\n\tAlignNone = \"align-none\",\r\n\tArrowLeft = \"arrow-left\",\r\n\tArrowRight = \"arrow-right\",\r\n\tCancel = \"cancel\",\r\n\tCheckMark = \"checkmark\",\r\n\tChevronDown = \"chevron-down\",\r\n\tChevronRight = \"chevron-right\",\r\n\tChevronUp = \"chevron-up\",\r\n\tChevronLeft = \"chevron-left\",\r\n\tClose = \"close\",\r\n\tEdit = \"edit-block\",\r\n\tFullScreen = \"fullscreen\",\r\n\tHome = \"home\",\r\n\tLineHorizontal = \"horizontal-rule\",\r\n\tBurgerHorizontal = \"image-options\",\r\n\tImage = \"image\",\r\n\tInfo = \"info\",\r\n\tTime = \"insert-time\",\r\n\tSymbols = \"insert-character\",\r\n\tLink = \"link\",\r\n\tUrl = \"link\",\r\n\tLock = \"lock\",\r\n\tDocument = \"new-document\",\r\n\tNewTab = \"new-tab\",\r\n\tAlert = \"notice\",\r\n\tParagraph = \"paragraph\",\r\n\tPaste = \"paste\",\r\n\tPasteText = \"paste-text\",\r\n\tAdd = \"plus\",\r\n\tPlus = \"plus\",\r\n\tSettings = \"preferences\",\r\n\tPreview = \"preview\",\r\n\tPrint = \"print\",\r\n\tQuote = \"quote\",\r\n\tRedo = \"redo\",\r\n\tReload = \"reload\",\r\n\tRefresh = \"reload\",\r\n\tRemove = \"remove\",\r\n\tDelete = \"remove\",\r\n\tResize = \"resize\",\r\n\tRotateLeft = \"rotate-left\",\r\n\tRotateRight = \"rotate-right\",\r\n\tSearch = \"search\",\r\n\tSourceCode = \"sourcecode\",\r\n\tTable = \"table\",\r\n\tUndo = \"undo\",\r\n\tUnlink = \"unlink\",\r\n\tUnlock = \"unlock\",\r\n\tUpload = \"upload\",\r\n\tWarning = \"warning\",\r\n\tZoomIn = \"zoom-in\",\r\n\tZoomOut = \"zoom-out\"\r\n}\r\n\r\nexport class vrEditorCustomItem\r\n{\r\n\ticon?: TinyMceIconEnum;\r\n\timageUrl?: string;\r\n\ttext?: string;\r\n\ttooltip?: string;\r\n\tonClick?(e: EditorItemClickEvent): void;\r\n}\r\n\r\nexport class vrEditorCustomMenuItem\r\n{\r\n\ttype: EditorCustomMenuItemType;\r\n\tbuttonOptions?: ButtonOptions;\r\n\tseparatorOptions?: SeparatorOptions;\r\n\tsplitButtonOptions?: SplitButtonOptions;\r\n\tswitchOptions?: SwitchOptions;\r\n\tbuttonGroupOptions?: ButtonGroupOptions;\r\n\tcomboBoxOptions?: ComboBoxOptions;\r\n\tdatePickerOptions?: DatePickerOptions;\r\n\ttextBoxOptions?: TextBoxOptions;\r\n\tlabelOptions?: LabelOptions;\r\n}\r\n\r\nexport enum EditorCustomMenuItemType\r\n{\r\n\tButton,\r\n\tSeparator,\r\n\tSplitButton,\r\n\tSwitch,\r\n\tButtonGroup,\r\n\tCheckBox,\r\n\tComboBox,\r\n\tDatePicker,\r\n\tLabel,\r\n\tTextBox\r\n}\r\n\r\nexport class vrEditorSpeechRecognizerSettings\r\n{\r\n\tstopAtClick: boolean;\r\n\tposition?: EditorSpeechRecognizerPositionEnum;\r\n\tmode?: EditorSpeechRecognizerModeEnum;\r\n\tshowInfoCommands?: boolean;\r\n}\r\n\r\nexport enum EditorSpeechRecognizerModeEnum\r\n{\r\n\tPopup,\r\n\tDirect\r\n}\r\n\r\nexport enum EditorSpeechRecognizerPositionEnum\r\n{\r\n\tMenuBar,\r\n\tMenuItems\r\n}\r\n\r\nexport class vrEditorFontSizeSettings\r\n{\r\n\tdefaultSize?: number;\r\n\tformatSizeList?: number[];\r\n}\r\n//#endregion\r\n\r\n//#region Speech recognizer\r\nexport class SpeechRecognizerOptions extends VrControlOptions\r\n{\r\n\tgrammars?: string[];\r\n\tcontinuous?: boolean;\r\n\tstopAtClick?: boolean;\r\n\tinterimResults?: boolean;\r\n\tlanguage?: string;\r\n\tmaxAlternatives?: number;\r\n\tsize?: number;\r\n\r\n\tonClick?: (e: SpeechRecognizerClickEvent) => void;\r\n\tonNoMatch?: (e: SpeechRecognizerNoMatchEvent) => void;\r\n\tonError?: (e: SpeechRecognizerErrorEvent) => void;\r\n\tonResult?: (e: SpeechRecognizerResultEvent) => void;\r\n\tonStart?: (e: SpeechRecognizerStartEvent) => void;\r\n\tonEnd?: (e: SpeechRecognizerEndEvent) => void;\r\n\tonSpeechStart?: (e: SpeechRecognizerSpeechStartEvent) => void;\r\n\tonSpeechEnd?: (e: SpeechRecognizerSpeechEndEvent) => void;\r\n\tonAudioStart?: (e: SpeechRecognizerAudioStartEvent) => void;\r\n\tonAudioEnd?: (e: SpeechRecognizerAudioEndEvent) => void;\r\n\tonSoundStart?: (e: SpeechRecognizerSoundStartEvent) => void;\r\n\tonSoundEnd?: (e: SpeechRecognizerSoundEndEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Grid\r\nexport enum GridCheckboxModeEnum\r\n{\r\n\tNone,\r\n\tSingleCheck,\r\n\tMultiCheck\r\n}\r\n\r\nexport enum GridSortDirectionEnum\r\n{\r\n\tAsc,\r\n\tDesc\r\n}\r\n\r\nexport enum SortDirectionEnum\r\n{\r\n\tAsc,\r\n\tDesc\r\n}\r\n\r\nexport enum GridHeightModeEnum\r\n{\r\n\tFitScreen,\r\n\tFitContent\r\n}\r\n\r\nexport enum GridModeEnum\r\n{\r\n\tSync,\r\n\tNotSync\r\n}\r\n\r\nexport enum GridAggregateMode\r\n{\r\n\tAverage,\r\n\tCount,\r\n\tMax,\r\n\tMin,\r\n\tSum,\r\n\tNone\r\n}\r\n\r\nexport enum GridAlignEnum\r\n{\r\n\tLeft = \"left\",\r\n\tCenter = \"center\",\r\n\tRight = \"right\"\r\n}\r\n\r\nexport enum GridColumnTypeEnum\r\n{\r\n\tString = 0,\r\n\tNumber = 1,\r\n\tCurrency = 2,\r\n\tPercentage = 3,\r\n\tDuration = 4,\r\n\tDate = 5,\r\n\tTime = 6,\r\n\tDateTime = 7,\r\n\tCheckbox = 8,\r\n\tBoolean = 9,\r\n\tButton = 10,\r\n\tEditButton = 11,\r\n\tLabel = 12,\r\n\tImage = 13,\r\n\tCustom = 14,\r\n\tIcon = 15,\r\n\tDropDownList = 16,\r\n\tComboBox = 17,\r\n\tDropDownTree = 18,\r\n\tDropDownTreeCheckboxes = 19,\r\n\tPasswordViewable = 20,\r\n\tColor = 21,\r\n\tLongDate = 22,\r\n\tLongDateTime = 23,\r\n\tLongWeekDate = 24,\r\n\tShortWeekDate = 25\r\n}\r\n\r\nexport enum GridLabelUnderlineMode\r\n{\r\n\tAlways,\r\n\tNone,\r\n\tOnFocus\r\n}\r\n\r\nexport enum GridToolbarItemType\r\n{\r\n\tAdd,\r\n\tDelete,\r\n\tSeparator,\r\n\tExcel,\r\n\tExcelWithHiddenColumns,\r\n\tCustom,\r\n\tRebind,\r\n\tSplitButton,\r\n\tSwitch,\r\n\tButtonGroup,\r\n\tCheckBox,\r\n\tComboBox,\r\n\tDatePicker,\r\n\tLabel,\r\n\tTextBox\r\n}\r\n\r\nexport enum GridDateFilterTypeEnum\r\n{\r\n\tGreaterThan,\r\n\tLessThan,\r\n\tEqualsTo,\r\n\tBetween\r\n}\r\n\r\nexport enum GridNumberFilterTypeEnum\r\n{\r\n\tGreaterThan,\r\n\tLessThan,\r\n\tEqualsTo,\r\n\tBetween\r\n}\r\n\r\nexport enum GridStringFilterTypeEnum\r\n{\r\n\tStartsWith,\r\n\tEndsWith,\r\n\tEqualsTo,\r\n\tIncludes,\r\n\tIncludesFromSimpleSearch\r\n}\r\n\r\nexport class GridStickerSettings\r\n{\r\n\ttextColor?: string;\r\n\tbackgroundColor?: string;\r\n\ttext?: string;\r\n\tcssContainer?: string;\r\n\tcss?: string;\r\n\tbold?: boolean;\r\n\r\n\tonClick?: (e: GridStickerClickEvent) => void;\r\n}\r\n\r\nexport class GridStickerClickEvent\r\n{\r\n\tsender: Grid;\r\n\tcontrol: Label;\r\n\tvalue?: string | null;\r\n}\r\n\r\nexport class GridServerBindSettings\r\n{\r\n\tpublic itemCountPropertyName?: string;\r\n\tpublic totalsPropertyName?: string;\r\n\tpublic excelDownloadUrlPropertyName?: string;\r\n}\r\n\r\nexport class GridGroupBySettings\r\n{\r\n\tsortBy?: GridSortSettings;\r\n\tinternalSortBy?: GridSortSettings;\r\n\tfields: string[] | GridGroupByItem[];\r\n}\r\n\r\nexport class GridSortSettings\r\n{\r\n\tfield: string;\r\n\tdirection?: GridSortDirectionEnum;\r\n}\r\n\r\nexport class GridGroupByItem\r\n{\r\n\tfield: string;\r\n\tdisplayField?: string;\r\n\tdisplayValue?: (e: GridGroupDisplayValueEvent) => string;\r\n\tonExpandCollapse?: (e: GridGroupExpandCollapseEvent) => void;\r\n\tonEditClick?: (e: GridGroupEditClickEvent) => void;\r\n}\r\n\r\nexport class GridGroupDisplayValueEvent\r\n{\r\n\tsender: Grid;\r\n\tdataItem: any;\r\n\tfield: string;\r\n\tdisplayField?: string;\r\n}\r\n\r\nexport class GridGroupExpandCollapseEvent\r\n{\r\n\tsender: Grid;\r\n\tgroupByField: string;\r\n\tchildrenItems: any[];\r\n\tgroupByDisplayField?: string;\r\n\tcollapse: boolean;\r\n\tvalue: any;\r\n\tchildrenRows: HTMLElement[];\r\n\tdisplayValue: any;\r\n}\r\n\r\nexport class GridGroupEditClickEvent\r\n{\r\n\tsender: Grid;\r\n\tgroupByField: string;\r\n\tchildrenItems: any[];\r\n\tgroupByDisplayField?: string;\r\n\tvalue: any;\r\n\tchildrenRows: HTMLElement[];\r\n\tdisplayValue: any;\r\n}\r\n\r\nexport class GridPageSelectedEvent extends VrControlsEvent\r\n{\r\n\tsender: Grid;\r\n\tpageSelected: number;\r\n}\r\n\r\nexport class GridScrollEvent extends VrControlsEvent\r\n{\r\n\tsender: Grid;\r\n\ttarget: HTMLElement;\r\n\tscrollLeft: number;\r\n\tscrollTop: number;\r\n}\r\n\r\nclass GridExcelExportEvent extends VrControlsEvent\r\n{\r\n\tsender: Grid;\r\n}\r\n\r\nexport class GridBeforeExcelExportEvent extends GridExcelExportEvent\r\n{\r\n\tfileName: string;\r\n\texportHiddenColumns: boolean;\r\n}\r\n\r\nexport class GridAfterExcelExportEvent extends GridExcelExportEvent\r\n{\r\n\theaderRow: GridExcelRow;\r\n\tcontentRows: GridExcelRow[];\r\n\tfooterRow: GridExcelRow;\r\n\texcelFileName: string;\r\n\tgroupBy: string[] | null;\r\n\texportHiddenColumns: boolean;\r\n}\r\n\r\nexport class GridColumn\r\n{\r\n\tfield: string;\r\n\ttitle?: string;\r\n\twidth?: number;\r\n\tfitSpace?: boolean;\r\n\ttype?: GridColumnTypeEnum;\r\n\tdecimalDigits?: number;\r\n\tmilesSeparator?: boolean;\r\n\tshowSeconds?: boolean;\r\n\tignoreFactor?: boolean;\r\n\tbold?: boolean;\r\n\taggregate?: boolean | GridAggregateMode;\r\n\tcountZeroInAverage?: boolean;\r\n\troundingSettings?: NumberFormatRoundingSettings;\r\n\tdefaultValue?: any;\r\n\teditable?: boolean;\r\n\texportable?: boolean;\r\n\tgroupable?: boolean;\r\n\tlocked?: boolean;\r\n\tlockable?: boolean;\r\n\thidden?: boolean;\r\n\thideable?: boolean;\r\n\tfilterable?: boolean;\r\n\tfilterWebService?: boolean;\r\n\tcustomFilterProperties?: string[];\r\n\r\n\t//#region DropDownList, ComboBox and DropDownTree\r\n\tdisplayField?: string;\r\n\tdataItems?: any[];\r\n\tddlNullable?: boolean;\r\n\t//#endregion\r\n\r\n\theaderSettings?: GridHeaderSettings;\r\n\tcellSettings?: GridCellSettings;\r\n\r\n\t//#region Controls\r\n\tbuttonSettings?: (templateEvent: GridTemplateEvent) => GridButtonSettings;\r\n\tcustomSettings?: (templateEvent: GridTemplateEvent) => GridCustomSettings | void;\r\n\ticonSettings?: (templateEvent: GridTemplateEvent) => GridIconSettings;\r\n\timageSettings?: (templateEvent: GridTemplateEvent) => GridImageSettings;\r\n\tlabelSettings?: (templateEvent: GridTemplateEvent) => GridLabelSettings;\r\n\t//#endregion\r\n}\r\n\r\nexport class GridButtonSettings extends GridControlsSettings\r\n{\r\n\ttext?: string;\r\n\ticon?: IconClass;\r\n\timageUrl?: string;\r\n\tisPrimaryButton?: boolean;\r\n\tcolor?: string;\r\n\tbackgroundColor?: string;\r\n}\r\n\r\nexport class GridToolbarItem\r\n{\r\n\ttype?: GridToolbarItemType;\r\n\ttext?: string;\r\n\ticon?: IconClass;\r\n\timageUrl?: string;\r\n\tconfirmationMessage?: string;\r\n\tdeleteRequest?: GridToolbarDeleteRequest;\r\n\texcelFileName?: string;\r\n\tbackgroundColor?: string;\r\n\ttextColor?: string;\r\n\tvisible?: boolean;\r\n\tcss?: string;\r\n\tcssContainer?: string;\r\n\tclassContainer?: string;\r\n\tbadge?: ButtonBadgeSettings;\r\n\tprimary?: boolean;\r\n\tenable?: boolean;\r\n\r\n\tsplitButtonItems?: SplitButtonItem[];\r\n\tsplitButtonOptions?: SplitButtonOptions;\r\n\tswitchSettings?: GridToolbarSwitchSettings;\r\n\tbuttonGroupItems?: ButtonGroupItem[];\r\n\tcomboBoxOptions?: ComboBoxOptions;\r\n\tdatePickerOptions?: DatePickerOptions;\r\n\ttextBoxOptions?: TextBoxOptions;\r\n\r\n\t/** Required if type CUSTOM */\r\n\tvalue?: string;\r\n\r\n\tonClick?: (e: GridToolbarClickEvent) => void;\r\n\tonBeforeClick?: (e: GridToolbarClickEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region PdfViewer\r\nexport enum PdfViewerToolbarAreaEnum\r\n{\r\n\tLeft,\r\n\tCenter,\r\n\tRight\r\n}\r\n\r\nexport class OnContentRenderedEvent\r\n{\r\n\tsender: PdfViewer;\r\n\tpdf: any;\r\n\tbase64bytes: string;\r\n}\r\n\r\nexport class PdfViewerToolbarSettings\r\n{\r\n\tnavigation?: boolean;\r\n\tzoom?: boolean;\r\n\tprint?: boolean;\r\n\tdownload?: boolean;\r\n\titems?: PdfViewerToolbarItem[];\r\n}\r\n\r\nexport class PdfViewerToolbarItem\r\n{\r\n\ttext?: string;\r\n\ticon?: IconClass;\r\n\tvalue?: string;\r\n\tarea?: PdfViewerToolbarAreaEnum;\r\n\tcss?: string;\r\n\tcssContainer?: string;\r\n\tonClick?: (e: ToolbarItemOnClickEvent) => void;\r\n}\r\n\r\nexport class ToolbarItemOnClickEvent\r\n{\r\n\tsender: PdfViewer;\r\n\ttext?: string;\r\n\tvalue?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Splitter\r\nexport enum SplitterDirectionEnum\r\n{\r\n\tHorizontal = \"horizontal\",\r\n\tVertical = \"vertical\"\r\n}\r\n\r\nexport enum SplitterCollapseDirectionEnum\r\n{\r\n\tLeft,\r\n\tRight,\r\n\tUp,\r\n\tDown\r\n}\r\n\r\nexport class SplitterCollapsableSettings\r\n{\r\n\tdirection: SplitterCollapseDirectionEnum;\r\n\tcolor?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Switch\r\nexport class SwitchLabelSettings\r\n{\r\n\ttext: string;\r\n\ttooltip?: string;\r\n\tcolor?: string;\r\n\tbold?: boolean;\r\n\tcss?: string;\r\n\tonClick?: (e: SwitchLabelSettingsOnClickEvent) => void;\r\n}\r\n\r\nexport class SwitchLabelSettingsOnClickEvent extends VrControlsEvent\r\n{\r\n\tsender: Switch;\r\n\tchecked: boolean;\r\n}\r\n//#endregion\r\n\r\n//#region Scheduler\r\nexport class SchedulerSaturationInfo\r\n{\r\n\tmanual?: boolean;\r\n\tdayMode?: SchedulerSaturationDay[];\r\n\tweekMode?: SchedulerSaturationWeek;\r\n\tfourWeeksMode?: SchedulerSaturationFourWeeks[];\r\n}\r\n\r\nexport class SchedulerSaturationDay\r\n{\r\n\tresourceId: number;\r\n\tdate?: Date;\r\n\tpercentageValue?: number;\r\n\tcolor?: string;\r\n\tborderColor?: string;\r\n}\r\n\r\nexport class SchedulerSaturationWeek\r\n{\r\n\tgroupedByResource?: SchedulerSaturationWeekByResource[];\r\n\tgroupedByDate?: SchedulerSaturationWeekByDate[];\r\n}\r\n\r\nexport class SchedulerSaturationWeekByResource\r\n{\r\n\tresourceId: number;\r\n\tpercentageValue?: number;\r\n\tdateList?: SaturationDate[];\r\n\tcolor?: string;\r\n\ttitleColor?: string;\r\n}\r\n\r\nexport class SaturationDate\r\n{\r\n\tdate: Date;\r\n\tpercentageValue?: number;\r\n\tcolor?: string;\r\n\tborderColor?: string;\r\n}\r\n\r\nexport class SchedulerSaturationWeekByDate\r\n{\r\n\tdate: Date;\r\n\tresourceList?: SaturationResource[];\r\n}\r\n\r\nexport class SaturationResource\r\n{\r\n\tid: number;\r\n\tpercentageValue?: number;\r\n\tcolor?: string;\r\n\tborderColor?: string;\r\n}\r\n\r\nexport class SchedulerSaturationFourWeeks\r\n{\r\n\tresourceId: number;\r\n\tpercentageValue?: number;\r\n\tdateList?: SaturationDate[];\r\n\tcolor?: string;\r\n\ttitleColor?: string;\r\n}\r\n\r\nexport class SchedulerResource\r\n{\r\n\ttext: string;\r\n\tvalue: string;\r\n}\r\n\r\nexport enum DayOfWeekEnum\r\n{\r\n\tSunday,\r\n\tMonday,\r\n\tTuesday,\r\n\tWednesday,\r\n\tThursday,\r\n\tFriday,\r\n\tSaturday\r\n}\r\n\r\nexport class SchedulerView\r\n{\r\n\ttype: SchedulerViewEnum;\r\n\tselected: boolean;\r\n}\r\n\r\nexport enum SchedulerViewEnum\r\n{\r\n\tDay = 0,\r\n\tWeek = 1,\r\n\tFourWeeks = 2\r\n}\r\n\r\nexport class SchedulerSlotElement\r\n{\r\n\tresourceId: string;\r\n\tstart: Date;\r\n\tend: Date;\r\n\tcolumnPosition: boolean[];\r\n\tattributes: SchedulerAttribute[];\r\n\r\n\tcolumnIndex: number;\r\n\trowIndex: number;\r\n}\r\n\r\nexport class SchedulerData\r\n{\r\n\tid: string;\r\n\tresourceId: string;\r\n\tstart: Date;\r\n\tend: Date;\r\n\tbackgroundColor?: string;\r\n\ttextColor?: string;\r\n\ttext?: string;\r\n\ttooltip?: string;\r\n\tcss?: string;\r\n\tclass?: string;\r\n\tattributes?: SchedulerAttribute[];\r\n\r\n\tget duration(): number\r\n\t{\r\n\t\treturn Date.vrDifferenceBetweenDatesInMinutes(new Date(this.start), new Date(this.end));\r\n\t}\r\n}\r\n\r\nexport class SchedulerAttribute\r\n{\r\n\tkey: string;\r\n\tvalue: string;\r\n}\r\n\r\nexport enum SchedulerNavigateActionEnum\r\n{\r\n\tNextDate = 0,\r\n\tPrevDate = 1,\r\n\tToday = 2,\r\n\tChangeDate = 4\r\n}\r\n//#endregion\r\n\r\n//#region Notifier\r\nexport class NotifierOptions\r\n{\r\n\ttarget?: HTMLElement | JQuery | string;\r\n\ttype?: NotifierTypeEnum;\r\n\tposition?: NotifierPositionEnum;\r\n\thideSettings?: NotifierHideSettings;\r\n\tshowSettings?: NotifierShowSettings;\r\n\tcolorSettings?: ColorSettings;\r\n\tcss?: string;\r\n\tcssContainer?: string;\r\n\tclass?: string;\r\n\twidth?: string | number;\r\n\ticon?: IconClass | boolean;\r\n\tbold?: boolean;\r\n\tfontSize?: number | string;\r\n\r\n\tcustomHtml?: string | ((e: NotifierCustomHtmlEvent) => void);\r\n\tonClick?: (e: NotifierOnClickEvent) => void;\r\n}\r\n\r\nexport enum NotifierTypeEnum\r\n{\r\n\tDefault,\r\n\tSuccess,\r\n\tInfo,\r\n\tWarning,\r\n\tError\r\n}\r\n\r\nexport enum NotifierPositionEnum\r\n{\r\n\tTopLeft = \"TopLeft\",\r\n\tTopCenter = \"TopCenter\",\r\n\tTopRight = \"TopRight\",\r\n\tBottomLeft = \"BottomLeft\",\r\n\tBottomCenter = \"BottomCenter\",\r\n\tBottomRight = \"BottomRight\",\r\n\tRightMiddle = \"RightMiddle\",\r\n\tRightTop = \"RightTop\",\r\n\tRightBottom = \"RightBottom\",\r\n\tLeftBottom = \"LeftBottom\",\r\n\tLeftTop = \"LeftTop\",\r\n\tLeftMiddle = \"LeftMiddle\",\r\n\tMiddleScreen = \"MiddleScreen\"\r\n}\r\n\r\nexport enum AnimationShowEnum\r\n{\r\n\tNone,\r\n\tDefault,\r\n\tFadeIn,\r\n\tSlideDown\r\n}\r\n\r\nexport enum AnimationHideEnum\r\n{\r\n\tNone,\r\n\tDefault,\r\n\tFadeOut,\r\n\tSlideUp\r\n}\r\n\r\n\r\n//#endregion\r\n\r\n//#region Tooltip\r\nexport enum TooltipShowOnEnum\r\n{\r\n\tClick,\r\n\tFocus,\r\n\tHover,\r\n\tNever\r\n}\r\n\r\nexport enum TooltipHideOnEnum\r\n{\r\n\tDefault,\r\n\tNever,\r\n\tClick,\r\n\tBlur,\r\n\tLeave\r\n}\r\n\r\nexport enum TooltipTypeEnum\r\n{\r\n\tDefault,\r\n\tSuccess,\r\n\tInfo,\r\n\tWarning,\r\n\tError\r\n}\r\n\r\nexport enum TooltipPositionEnum\r\n{\r\n\tTopLeft = \"TopLeft\",\r\n\tTopCenter = \"TopCenter\",\r\n\tTopRight = \"TopRight\",\r\n\tBottomLeft = \"BottomLeft\",\r\n\tBottomCenter = \"BottomCenter\",\r\n\tBottomRight = \"BottomRight\",\r\n\tRightMiddle = \"RightMiddle\",\r\n\tRightTop = \"RightTop\",\r\n\tRightBottom = \"RightBottom\",\r\n\tLeftBottom = \"LeftBottom\",\r\n\tLeftTop = \"LeftTop\",\r\n\tLeftMiddle = \"LeftMiddle\",\r\n\tMiddleScreen = \"MiddleScreen\"\r\n}\r\n//#endregion\r\n\r\n//#region TreeView\r\nexport class TreeViewColumn\r\n{\r\n\tfield: string;\r\n\ttitle?: string;\r\n\twidth?: number;\r\n\ttype?: TreeViewColumnTypeEnum;\r\n\tdecimalDigits?: number;\r\n\tshowSeconds?: boolean;\r\n\tignoreFactor?: boolean;\r\n\tbold?: boolean;\r\n\tmilesSeparator?: boolean;\r\n\tboldRoot?: boolean;\r\n\thidden?: boolean;\r\n\r\n\theaderSettings?: TreeViewHeaderSettings;\r\n\tcellSettings?: TreeViewCellSettings;\r\n}\r\n\r\nexport class TreeViewToolbarItem\r\n{\r\n\ttype?: TreeViewToolbarItemType;\r\n\ttext?: string;\r\n\ticon?: IconClass;\r\n\timageUrl?: string;\r\n\tconfirmationMessage?: string;\r\n\tbackgroundColor?: string;\r\n\ttextColor?: string;\r\n\tvisible?: boolean;\r\n\tcss?: string;\r\n\tcssContainer?: string;\r\n\tclassContainer?: string;\r\n\tbadge?: ButtonBadgeSettings;\r\n\tprimary?: boolean;\r\n\r\n\tsplitButtonItems?: SplitButtonItem[];\r\n\tswitchSettings?: TreeViewToolbarSwitchSettings;\r\n\tbuttonGroupItems?: ButtonGroupItem[];\r\n\tcomboBoxOptions?: ComboBoxOptions;\r\n\tdatePickerOptions?: DatePickerOptions;\r\n\ttextBoxOptions?: TextBoxOptions;\r\n\r\n\t/** Required if type CUSTOM */\r\n\tvalue?: string;\r\n\r\n\tonClick?: (e: TreeViewToolbarClickEvent) => void;\r\n}\r\n\r\nexport class TreeViewToolbarSwitchSettings\r\n{\r\n\tlabelOff?: string;\r\n\tlabelOn?: string;\r\n\tchecked?: boolean;\r\n\tonCheck?: (e: TreeViewToolbarSwitchEvent) => void;\r\n}\r\n\r\nexport class TreeViewToolbarSwitchEvent\r\n{\r\n\tchecked: boolean;\r\n}\r\n\r\nexport class TreeViewToolbarClickEvent\r\n{\r\n\tsender: any;\r\n\ttype: TreeViewToolbarItemType;\r\n\tisDefaultPrevented: boolean;\r\n\tdeletedItems?: any[];\r\n\r\n\tpreventDefault()\r\n\t{\r\n\t\tthis.isDefaultPrevented = true;\r\n\t}\r\n}\r\n\r\nexport class UpdateRowRebindSettings\r\n{\r\n\tonlyText: boolean;\r\n}\r\n\r\nexport enum TreeViewToolbarItemType\r\n{\r\n\tSeparator,\r\n\tExcel,\r\n\tCustom,\r\n\tRebind,\r\n\tSplitButton,\r\n\tSwitch,\r\n\tButtonGroup,\r\n\tCheckBox,\r\n\tComboBox,\r\n\tDatePicker,\r\n\tLabel,\r\n\tTextBox\r\n}\r\n\r\nexport class TreeViewItem\r\n{\r\n\ttext: string;\r\n\tvalue: string;\r\n\ticon?: IconClass;\r\n\tparentValue?: string;\r\n\tnumericValue?: number;\r\n\tbold?: boolean;\r\n}\r\n\r\nexport class TreeViewItemExtraCell extends TreeViewColumn\r\n{\r\n\tvalue?: string;\r\n}\r\n\r\nexport class TreeViewContextMenuItem\r\n{\r\n\ttext?: string;\r\n\tvalue?: string;\r\n\ticon?: IconClass;\r\n\tseparator?: boolean;\r\n\tconfirmationMessage?: string;\r\n\r\n\tonClick?: (e: TreeViewContextMenuClickEvent) => void;\r\n}\r\n\r\nexport enum TreeModeEnum\r\n{\r\n\tAllExpanded,\r\n\tOnlyFirstLevelExpanded,\r\n\tAllCollapsed\r\n}\r\n\r\nexport enum TreeViewNumericTypeEnum\r\n{\r\n\tDefault = 0,\r\n\tCurrency = 1,\r\n\tPercentage = 2\r\n}\r\n\r\nexport enum TreeViewColumnTypeEnum\r\n{\r\n\tString = 0,\r\n\tNumber = 1,\r\n\tCurrency = 2,\r\n\tPercentage = 3,\r\n\tDuration = 4,\r\n\tDate = 5,\r\n\tTime = 6,\r\n\tDateTime = 7,\r\n\tCheckbox = 8,\r\n\tBoolean = 9,\r\n\tColor = 21,\r\n}\r\n\r\nexport enum TreeViewAlignEnum\r\n{\r\n\tLeft = \"left\",\r\n\tCenter = \"center\",\r\n\tRight = \"right\"\r\n}\r\n\r\nexport class TreeViewFilterSettings\r\n{\r\n\tonlyParents?: boolean;\r\n}\r\n//#endregion\r\n\r\n//#region Maps\r\nexport class MapMarker\r\n{\r\n\tlatitude: number;\r\n\tlongitude: number;\r\n\ttitle: string;\r\n\topacity: number;\r\n\tdraggable: boolean;\r\n}\r\n\r\nexport enum MapModeEnum\r\n{\r\n\tStreets = \"mapbox/streets-v11\",\r\n\tOutdoors = \"mapbox/outdoors-v11\",\r\n\tLight = \"mapbox/light-v10\",\r\n\tDark = \"mapbox/dark-v10\",\r\n\tSatellite = \"mapbox/satellite-v9\",\r\n\tSatelliteStreets = \"mapbox/satellite-streets-v11\",\r\n\tNavigationDay = \"mapbox/navigation-day-v1\",\r\n\tNavigationNight = \"mapbox/navigation-night-v1\"\r\n}\r\n//#endregion\r\n\r\n//#region Color Picker\r\nexport class ColorPickerRgbaValue\r\n{\r\n\tr: number;\r\n\tg: number;\r\n\tb: number;\r\n\ta?: number;\r\n}\r\n\r\nexport enum ColorPickerModeEnum\r\n{\r\n\tHex = \"hex\",\r\n\tRgba = \"rgba\"\r\n}\r\n//#endregion\r\n\r\n//#region Upload\r\nexport enum UploadValidationErrorTypeEnum\r\n{\r\n\tMinSize,\r\n\tMaxSize,\r\n\tExtensions\r\n}\r\n//#endregion\r\n\r\n//#region Colors\r\nexport enum Color\r\n{\r\n\tred = \"#FF0000\",\r\n\tred50 = \"#ffebee\",\r\n\tred100 = \"#ffcdd2\",\r\n\tred200 = \"#ef9a9a\",\r\n\tred300 = \"#e57373\",\r\n\tred400 = \"#ef5350\",\r\n\tred500 = \"#f44336\",\r\n\tred600 = \"#e53935\",\r\n\tred700 = \"#d32f2f\",\r\n\tred800 = \"#c62828\",\r\n\tred900 = \"#b71c1c\",\r\n\tredA100 = \"#ff8a80\",\r\n\tredA200 = \"#ff5252\",\r\n\tredA400 = \"#ff1744\",\r\n\tredA700 = \"#d50000\",\r\n\tpink50 = \"#fce4ec\",\r\n\tpink100 = \"#f8bbd0\",\r\n\tpink200 = \"#f48fb1\",\r\n\tpink300 = \"#f06292\",\r\n\tpink400 = \"#ec407a\",\r\n\tpink500 = \"#e91e63\",\r\n\tpink600 = \"#d81b60\",\r\n\tpink700 = \"#c2185b\",\r\n\tpink800 = \"#ad1457\",\r\n\tpink900 = \"#880e4f\",\r\n\tpinkA100 = \"#ff80ab\",\r\n\tpinkA200 = \"#ff4081\",\r\n\tpinkA400 = \"#f50057\",\r\n\tpinkA700 = \"#c51162\",\r\n\tpurple50 = \"#f3e5f5\",\r\n\tpurple100 = \"#e1bee7\",\r\n\tpurple200 = \"#ce93d8\",\r\n\tpurple300 = \"#ba68c8\",\r\n\tpurple400 = \"#ab47bc\",\r\n\tpurple500 = \"#9c27b0\",\r\n\tpurple600 = \"#8e24aa\",\r\n\tpurple700 = \"#7b1fa2\",\r\n\tpurple800 = \"#6a1b9a\",\r\n\tpurple900 = \"#4a148c\",\r\n\tpurpleA100 = \"#ea80fc\",\r\n\tpurpleA200 = \"#e040fb\",\r\n\tpurpleA400 = \"#d500f9\",\r\n\tpurpleA700 = \"#aa00ff\",\r\n\tdeepPurple50 = \"#ede7f6\",\r\n\tdeepPurple100 = \"#d1c4e9\",\r\n\tdeepPurple200 = \"#b39ddb\",\r\n\tdeepPurple300 = \"#9575cd\",\r\n\tdeepPurple400 = \"#7e57c2\",\r\n\tdeepPurple500 = \"#673ab7\",\r\n\tdeepPurple600 = \"#5e35b1\",\r\n\tdeepPurple700 = \"#512da8\",\r\n\tdeepPurple800 = \"#4527a0\",\r\n\tdeepPurple900 = \"#311b92\",\r\n\tdeepPurpleA100 = \"#b388ff\",\r\n\tdeepPurpleA200 = \"#7c4dff\",\r\n\tdeepPurpleA400 = \"#651fff\",\r\n\tdeepPurpleA700 = \"#6200ea\",\r\n\tindigo50 = \"#e8eaf6\",\r\n\tindigo100 = \"#c5cae9\",\r\n\tindigo200 = \"#9fa8da\",\r\n\tindigo300 = \"#7986cb\",\r\n\tindigo400 = \"#5c6bc0\",\r\n\tindigo500 = \"#3f51b5\",\r\n\tindigo600 = \"#3949ab\",\r\n\tindigo700 = \"#303f9f\",\r\n\tindigo800 = \"#283593\",\r\n\tindigo900 = \"#1a237e\",\r\n\tindigoA100 = \"#8c9eff\",\r\n\tindigoA200 = \"#536dfe\",\r\n\tindigoA400 = \"#3d5afe\",\r\n\tindigoA700 = \"#304ffe\",\r\n\tblue = \"#0000FF\",\r\n\tblue50 = \"#e3f2fd\",\r\n\tblue100 = \"#bbdefb\",\r\n\tblue200 = \"#90caf9\",\r\n\tblue300 = \"#64b5f6\",\r\n\tblue400 = \"#42a5f5\",\r\n\tblue500 = \"#2196f3\",\r\n\tblue600 = \"#1e88e5\",\r\n\tblue700 = \"#1976d2\",\r\n\tblue800 = \"#1565c0\",\r\n\tblue900 = \"#0d47a1\",\r\n\tblueA100 = \"#82b1ff\",\r\n\tblueA200 = \"#448aff\",\r\n\tblueA400 = \"#2979ff\",\r\n\tblueA700 = \"#2962ff\",\r\n\tlightBlue50 = \"#e1f5fe\",\r\n\tlightBlue100 = \"#b3e5fc\",\r\n\tlightBlue200 = \"#81d4fa\",\r\n\tlightBlue300 = \"#4fc3f7\",\r\n\tlightBlue400 = \"#29b6f6\",\r\n\tlightBlue500 = \"#03a9f4\",\r\n\tlightBlue600 = \"#039be5\",\r\n\tlightBlue700 = \"#0288d1\",\r\n\tlightBlue800 = \"#0277bd\",\r\n\tlightBlue900 = \"#01579b\",\r\n\tlightBlueA100 = \"#80d8ff\",\r\n\tlightBlueA200 = \"#40c4ff\",\r\n\tlightBlueA400 = \"#00b0ff\",\r\n\tlightBlueA700 = \"#0091ea\",\r\n\tcyan = \"#00FFFF\",\r\n\tcyan50 = \"#e0f7fa\",\r\n\tcyan100 = \"#b2ebf2\",\r\n\tcyan200 = \"#80deea\",\r\n\tcyan300 = \"#4dd0e1\",\r\n\tcyan400 = \"#26c6da\",\r\n\tcyan500 = \"#00bcd4\",\r\n\tcyan600 = \"#00acc1\",\r\n\tcyan700 = \"#0097a7\",\r\n\tcyan800 = \"#00838f\",\r\n\tcyan900 = \"#006064\",\r\n\tcyanA100 = \"#84ffff\",\r\n\tcyanA200 = \"#18ffff\",\r\n\tcyanA400 = \"#00e5ff\",\r\n\tcyanA700 = \"#00b8d4\",\r\n\tteal50 = \"#e0f2f1\",\r\n\tteal100 = \"#b2dfdb\",\r\n\tteal200 = \"#80cbc4\",\r\n\tteal300 = \"#4db6ac\",\r\n\tteal400 = \"#26a69a\",\r\n\tteal500 = \"#009688\",\r\n\tteal600 = \"#00897b\",\r\n\tteal700 = \"#00796b\",\r\n\tteal800 = \"#00695c\",\r\n\tteal900 = \"#004d40\",\r\n\ttealA100 = \"#a7ffeb\",\r\n\ttealA200 = \"#64ffda\",\r\n\ttealA400 = \"#1de9b6\",\r\n\ttealA700 = \"#00bfa5\",\r\n\tgreen = \"#00FF00\",\r\n\tgreen50 = \"#e8f5e9\",\r\n\tgreen100 = \"#c8e6c9\",\r\n\tgreen200 = \"#a5d6a7\",\r\n\tgreen300 = \"#81c784\",\r\n\tgreen400 = \"#66bb6a\",\r\n\tgreen500 = \"#4caf50\",\r\n\tgreen600 = \"#43a047\",\r\n\tgreen700 = \"#388e3c\",\r\n\tgreen800 = \"#2e7d32\",\r\n\tgreen900 = \"#1b5e20\",\r\n\tgreenA100 = \"#b9f6ca\",\r\n\tgreenA200 = \"#69f0ae\",\r\n\tgreenA400 = \"#00e676\",\r\n\tgreenA700 = \"#00c853\",\r\n\tlightGreen50 = \"#f1f8e9\",\r\n\tlightGreen100 = \"#dcedc8\",\r\n\tlightGreen200 = \"#c5e1a5\",\r\n\tlightGreen300 = \"#aed581\",\r\n\tlightGreen400 = \"#9ccc65\",\r\n\tlightGreen500 = \"#8bc34a\",\r\n\tlightGreen600 = \"#7cb342\",\r\n\tlightGreen700 = \"#689f38\",\r\n\tlightGreen800 = \"#558b2f\",\r\n\tlightGreen900 = \"#33691e\",\r\n\tlightGreenA100 = \"#ccff90\",\r\n\tlightGreenA200 = \"#b2ff59\",\r\n\tlightGreenA400 = \"#76ff03\",\r\n\tlightGreenA700 = \"#64dd17\",\r\n\tvettore = \"#51B3E1\",\r\n\tvettoreLight = \"#e3f1fa\",\r\n\tpumo = \"#32CD32\",\r\n\tlime50 = \"#f9fbe7\",\r\n\tlime100 = \"#f0f4c3\",\r\n\tlime200 = \"#e6ee9c\",\r\n\tlime300 = \"#dce775\",\r\n\tlime400 = \"#d4e157\",\r\n\tlime500 = \"#cddc39\",\r\n\tlime600 = \"#c0ca33\",\r\n\tlime700 = \"#afb42b\",\r\n\tlime800 = \"#9e9d24\",\r\n\tlime900 = \"#827717\",\r\n\tlimeA100 = \"#f4ff81\",\r\n\tlimeA200 = \"#eeff41\",\r\n\tlimeA400 = \"#c6ff00\",\r\n\tlimeA700 = \"#aeea00\",\r\n\tyellow = \"#FFFF00\",\r\n\tyellow50 = \"#fffde7\",\r\n\tyellow100 = \"#fff9c4\",\r\n\tyellow200 = \"#fff59d\",\r\n\tyellow300 = \"#fff176\",\r\n\tyellow400 = \"#ffee58\",\r\n\tyellow500 = \"#ffeb3b\",\r\n\tyellow600 = \"#fdd835\",\r\n\tyellow700 = \"#fbc02d\",\r\n\tyellow800 = \"#f9a825\",\r\n\tyellow900 = \"#f57f17\",\r\n\tyellowA100 = \"#ffff8d\",\r\n\tyellowA200 = \"#ffff00\",\r\n\tyellowA400 = \"#ffea00\",\r\n\tyellowA700 = \"#ffd600\",\r\n\tamber50 = \"#fff8e1\",\r\n\tamber100 = \"#ffecb3\",\r\n\tamber200 = \"#ffe082\",\r\n\tamber300 = \"#ffd54f\",\r\n\tamber400 = \"#ffca28\",\r\n\tamber500 = \"#ffc107\",\r\n\tamber600 = \"#ffb300\",\r\n\tamber700 = \"#ffa000\",\r\n\tamber800 = \"#ff8f00\",\r\n\tamber900 = \"#ff6f00\",\r\n\tamberA100 = \"#ffe57f\",\r\n\tamberA200 = \"#ffd740\",\r\n\tamberA400 = \"#ffc400\",\r\n\tamberA700 = \"#ffab00\",\r\n\torange50 = \"#fff3e0\",\r\n\torange100 = \"#ffe0b2\",\r\n\torange200 = \"#ffcc80\",\r\n\torange300 = \"#ffb74d\",\r\n\torange400 = \"#ffa726\",\r\n\torange500 = \"#ff9800\",\r\n\torange600 = \"#fb8c00\",\r\n\torange700 = \"#f57c00\",\r\n\torange800 = \"#ef6c00\",\r\n\torange900 = \"#e65100\",\r\n\torangeA100 = \"#ffd180\",\r\n\torangeA200 = \"#ffab40\",\r\n\torangeA400 = \"#ff9100\",\r\n\torangeA700 = \"#ff6d00\",\r\n\tdeepOrange50 = \"#fbe9e7\",\r\n\tdeepOrange100 = \"#ffccbc\",\r\n\tdeepOrange200 = \"#ffab91\",\r\n\tdeepOrange300 = \"#ff8a65\",\r\n\tdeepOrange400 = \"#ff7043\",\r\n\tdeepOrange500 = \"#ff5722\",\r\n\tdeepOrange600 = \"#f4511e\",\r\n\tdeepOrange700 = \"#e64a19\",\r\n\tdeepOrange800 = \"#d84315\",\r\n\tdeepOrange900 = \"#bf360c\",\r\n\tdeepOrangeA100 = \"#ff9e80\",\r\n\tdeepOrangeA200 = \"#ff6e40\",\r\n\tdeepOrangeA400 = \"#ff3d00\",\r\n\tdeepOrangeA700 = \"#dd2c00\",\r\n\tbrown50 = \"#efebe9\",\r\n\tbrown100 = \"#d7ccc8\",\r\n\tbrown200 = \"#bcaaa4\",\r\n\tbrown300 = \"#a1887f\",\r\n\tbrown400 = \"#8d6e63\",\r\n\tbrown500 = \"#795548\",\r\n\tbrown600 = \"#6d4c41\",\r\n\tbrown700 = \"#5d4037\",\r\n\tbrown800 = \"#4e342e\",\r\n\tbrown900 = \"#3e2723\",\r\n\tgrey50 = \"#fafafa\",\r\n\tgrey100 = \"#f5f5f5\",\r\n\tgrey200 = \"#eeeeee\",\r\n\tgrey300 = \"#e0e0e0\",\r\n\tgrey400 = \"#bdbdbd\",\r\n\tgrey500 = \"#9e9e9e\",\r\n\tgrey600 = \"#757575\",\r\n\tgrey700 = \"#616161\",\r\n\tgrey800 = \"#424242\",\r\n\tgrey900 = \"#212121\",\r\n\tblueGrey50 = \"#eceff1\",\r\n\tblueGrey100 = \"#cfd8dc\",\r\n\tblueGrey200 = \"#b0bec5\",\r\n\tblueGrey300 = \"#90a4ae\",\r\n\tblueGrey400 = \"#78909c\",\r\n\tblueGrey500 = \"#607d8b\",\r\n\tblueGrey600 = \"#546e7a\",\r\n\tblueGrey700 = \"#455a64\",\r\n\tblueGrey800 = \"#37474f\",\r\n\tblueGrey900 = \"#263238\"\r\n}\r\n//#endregion\r\n\r\n//#region General/Utility\r\nexport function pageError(callback?: (e: PageErrorEvent) => void)\r\n{\r\n\twindow.onerror = (msg: string | Event, url?: string, lineNo?: number, columnNo?: number, error?: Error) =>\r\n\t{\r\n\t\tif (callback != null)\r\n\t\t{\r\n\t\t\tlet event = new PageErrorEvent();\r\n\t\t\tevent.message = msg;\r\n\t\t\tevent.url = url;\r\n\t\t\tevent.lineNumber = lineNo;\r\n\t\t\tevent.columnNumber = columnNo;\r\n\t\t\tevent.error = error;\r\n\t\t\tcallback(event);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nclass PageErrorEvent\r\n{\r\n\tpublic message: string | Event;\r\n\tpublic url?: string;\r\n\tpublic lineNumber?: number;\r\n\tpublic columnNumber?: number;\r\n\tpublic error?: Error;\r\n}\r\n\r\nexport function isEquals(item1: any, item2: any)\r\n{\r\n\treturn UtilityManager.equals(item1, item2);\r\n}\r\n\r\nexport function isLocalhost()\r\n{\r\n\treturn (location.hostname.includes(\"localhost\"));\r\n}\r\n\r\nexport function interval(callback: Function, each: number, timeout?: number, timeoutCallback?: Function)\r\n{\r\n\tUtilityManager.interval(callback, each, timeout, timeoutCallback);\r\n}\r\n\r\nexport function addCssStyle(cssRules: string, id?: string)\r\n{\r\n\tUtilityManager.addCssStyle(cssRules, id);\r\n}\r\n\r\nexport function addCss(cssRules: string, id?: string)\r\n{\r\n\taddCssStyle(cssRules, id);\r\n}\r\n\r\nexport function addJsScript(jsRules: string, id?: string)\r\n{\r\n\tUtilityManager.addJsScript(jsRules, id);\r\n}\r\n\r\nexport function addCssFiles(...paths: string[])\r\n{\r\n\tlet promise = new Promise((callback: Function) =>\r\n\t{\r\n\t\tUtilityManager.addCssFiles(...paths).then(() => callback());\r\n\t});\r\n\treturn promise;\r\n}\r\n\r\nexport function addJsFiles(...paths: string[])\r\n{\r\n\tlet promise = new Promise((callback: Function) =>\r\n\t{\r\n\t\tUtilityManager.addJsFiles(...paths).then(() => callback());\r\n\t});\r\n\treturn promise;\r\n}\r\n\r\nexport function openUrl(url: string, name = \"download\", newTab = false)\r\n{\r\n\tUtilityManager.openUrl(url, name, newTab);\r\n}\r\n\r\nexport function openBrowserWindow(url: string, newTab = false, size?: BrowserWindowSize, position?: BrowserWindowPosition)\r\n{\r\n\t//#region Size\r\n\tlet width = 1000;\r\n\tlet height = 700;\r\n\tif (size != null)\r\n\t{\r\n\t\tif (size.width != null) width = size.width;\r\n\t\tif (size.height != null) height = size.height;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Position\r\n\tlet top = window!.top!.outerHeight / 2 + window!.top!.screenY - (height / 2);\r\n\tlet left = window!.top!.outerWidth / 2 + window!.top!.screenX - (width / 2);\r\n\tif (position != null)\r\n\t{\r\n\t\tif (position.top != null) top = position.top;\r\n\t\tif (position.left != null) left = position.left;\r\n\t}\r\n\t//#endregion\r\n\r\n\twindow.open(url, (newTab) ? \"_blank\" : \"\", (newTab) ? `width=${width}, height=${height}, top=${top}, left=${left}` : \"\");\r\n}\r\n\r\nexport class BrowserWindowSize\r\n{\r\n\theight?: number;\r\n\twidth?: number;\r\n}\r\n\r\nexport class BrowserWindowPosition\r\n{\r\n\tleft?: number;\r\n\ttop?: number;\r\n}\r\n\r\nexport function isValidEmail(email: string)\r\n{\r\n\treturn UtilityManager.isValidEmail(email);\r\n}\r\n\r\nexport function copyTextToClipboard(text: string)\r\n{\r\n\tif (!navigator.clipboard)\r\n\t{\r\n\t\toldSupportCopyTextToClipboard(text);\r\n\t\treturn;\r\n\t}\r\n\tnavigator.clipboard.writeText(text).then(() => notify(\"Copiato!\"));\r\n}\r\n\r\nfunction oldSupportCopyTextToClipboard(text: string)\r\n{\r\n\tlet textAreaTemp = document.createElement(\"textarea\");\r\n\ttextAreaTemp.value = text;\r\n\r\n\t//#region Avoid scrolling to bottom\r\n\ttextAreaTemp.style.top = \"0\";\r\n\ttextAreaTemp.style.left = \"0\";\r\n\ttextAreaTemp.style.position = \"fixed\";\r\n\t//#endregion\r\n\r\n\tdocument.body.appendChild(textAreaTemp);\r\n\ttextAreaTemp.focus();\r\n\ttextAreaTemp.select();\r\n\r\n\ttry { if (document.execCommand('copy')) notify(\"Copiato!\"); }\r\n\tcatch (e) { }\r\n\r\n\tdocument.body.removeChild(textAreaTemp);\r\n}\r\n\r\nexport function base64ToFile(base64: string, fileName: string, options?: FilePropertyBag)\r\n{\r\n\treturn UtilityManager.base64ToFile(base64, fileName, options);\r\n}\r\n\r\nexport function base64ToBytes(base64: string)\r\n{\r\n\treturn UtilityManager.base64ToBytes(base64);\r\n}\r\n\r\nexport function bytesToBase64(bytes: Uint8Array)\r\n{\r\n\treturn UtilityManager.bytesToBase64(bytes);\r\n}\r\n\r\nexport function base64ToBlob(base64: string, contentType = '', sliceSize = 512)\r\n{\r\n\treturn UtilityManager.base64ToBlob(base64, contentType, sliceSize);\r\n}\r\n\r\nexport function shadowRoot(shadowRoot?: ShadowRoot)\r\n{\r\n\tif (shadowRoot != null)\r\n\t\t_shadowRoot2 = shadowRoot;\r\n\r\n\treturn _shadowRoot2;\r\n}\r\n\r\nexport function jqueryVariable(jqueryVariable?: any)\r\n{\r\n\tif (jqueryVariable != null)\r\n\t\t_jqueryVariable = jqueryVariable;\r\n\r\n\treturn _jqueryVariable;\r\n}\r\n\r\nexport enum WebApiModeEnum\r\n{\r\n\tAsync,\r\n\tSync\r\n}\r\n\r\nexport enum DateModeEnum\r\n{\r\n\tDate = 0,\r\n\tDateTime = 1,\r\n\tTime = 2,\r\n\tLongDate = 3,\r\n\tLongDateTime = 4,\r\n\tLongWeekDate = 5,\r\n\tShortWeekDate = 6\r\n}\r\n\r\nexport enum DateDepthEnum\r\n{\r\n\tDay,\r\n\tMonth,\r\n\tYear\r\n}\r\n\r\nexport enum DateFormatEnum\r\n{\r\n\tLongDate,\r\n\tShortDate,\r\n\tWeekDay,\r\n\tWeekRange,\r\n\tFourWeeksRange,\r\n\tMonth,\r\n\tYear,\r\n\tLongDateWithoutYear,\r\n\tShortDateWithoutYear\r\n}\r\n\r\nexport enum KeyEnum\r\n{\r\n\tArrowLeft = \"ArrowLeft\",\r\n\tArrowUp = \"ArrowUp\",\r\n\tArrowRight = \"ArrowRight\",\r\n\tArrowDown = \"ArrowDown\",\r\n\tEnter = \"Enter\",\r\n\tTab = \"Tab\",\r\n\tBackspace = \"Backspace\",\r\n\tControl = \"Control\",\r\n\tShift = \"Shift\"\r\n}\r\n\r\nexport class NumberFormatRoundingSettings\r\n{\r\n\troundingMode?: RoundingModeEnum;\r\n\tminimumFractionDigits?: number;\r\n\tmaximumFractionDigits?: number;\r\n}\r\n\r\nexport class NumberFormatSettings extends NumberFormatRoundingSettings\r\n{\r\n\tconstructor(roundingSettings?: NumberFormatRoundingSettings)\r\n\t{\r\n\t\tsuper();\r\n\t\tif (roundingSettings != null)\r\n\t\t{\r\n\t\t\tthis.roundingMode = roundingSettings.roundingMode;\r\n\t\t\tthis.minimumFractionDigits = roundingSettings.minimumFractionDigits;\r\n\t\t\tthis.maximumFractionDigits = roundingSettings.maximumFractionDigits;\r\n\t\t}\r\n\t}\r\n\r\n\tstyle?: NumberStyleEnum;\r\n\tcurrency?: string;\r\n\tuseGrouping?: GroupingModeEnum | boolean;\r\n}\r\n\r\nenum NumberStyleEnum\r\n{\r\n\tDefault = \"decimal\",\r\n\tDecimal = \"decimal\",\r\n\tCurrency = \"currency\",\r\n\tPercentage = \"percent\",\r\n\tUnit = \"unit\"\r\n}\r\n\r\nexport enum GroupingModeEnum\r\n{\r\n\tAlways = \"always\",\r\n\tAuto = \"auto\",\r\n\tMin2 = \"min2\"\r\n}\r\n\r\nexport enum RoundingModeEnum\r\n{\r\n\tDefault = \"halfExpand\",\r\n\tNone = \"none\",\r\n\tCeil = \"ceil\",\r\n\tFloor = \"floor\",\r\n\tAwayFromZero = \"expand\",\r\n\tExpand = \"expand\",\r\n\tTrunc = \"trunc\",\r\n\r\n\tHalfCeil = \"halfCeil\",\r\n\tHalfFloor = \"halfFloor\",\r\n\tHalfAwayFromZero = \"halfExpand\",\r\n\tHalfExpand = \"halfExpand\",\r\n\tHalfTrunc = \"halfTrunc\",\r\n\tHalfEven = \"halfEven\"\r\n}\r\n\r\nexport class DateTime\r\n{\r\n\tpublic year: number;\r\n\tpublic month: number;\r\n\tpublic day: number;\r\n\tpublic hours: number;\r\n\tpublic minutes: number;\r\n\tpublic seconds: number;\r\n\tpublic milliseconds: number;\r\n\r\n\tprivate _createdByTypeEnum: DateTimeTypeEnum;\r\n\r\n\tconstructor(date?: Date | DateTime | string)\r\n\t{\r\n\t\tif (date != null)\r\n\t\t{\r\n\t\t\tif (typeof (date) == \"string\")\r\n\t\t\t{\r\n\t\t\t\tdate = Date.vrFixDateString(date);\r\n\t\t\t\tthis._createdByTypeEnum = DateTimeTypeEnum.String;\r\n\t\t\t}\r\n\r\n\t\t\tif (Date.vrIsValidDate(date))\r\n\t\t\t{\r\n\t\t\t\tdate = date as Date;\r\n\t\t\t\tthis.year = date.getFullYear();\r\n\t\t\t\tthis.month = date.getMonth() + 1;\r\n\t\t\t\tthis.day = date.getDate();\r\n\t\t\t\tthis.hours = date.getHours();\r\n\t\t\t\tthis.minutes = date.getMinutes();\r\n\t\t\t\tthis.seconds = date.getSeconds();\r\n\t\t\t\tthis.milliseconds = date.getMilliseconds();\r\n\t\t\t\tthis._createdByTypeEnum = DateTimeTypeEnum.Date;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\r\n\t\t\t\tdate = date as DateTime;\r\n\t\t\t\tthis.year = date.year;\r\n\t\t\t\tthis.month = date.month;\r\n\t\t\t\tthis.day = date.day;\r\n\t\t\t\tthis.hours = date.hours;\r\n\t\t\t\tthis.minutes = date.minutes;\r\n\t\t\t\tthis.seconds = date.seconds;\r\n\t\t\t\tthis.milliseconds = date.milliseconds;\r\n\t\t\t\tthis._createdByTypeEnum = DateTimeTypeEnum.DateTime;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic createdByTypeEnum()\r\n\t{\r\n\t\treturn this._createdByTypeEnum;\r\n\t}\r\n\r\n\tpublic isCreatedByDateTime()\r\n\t{\r\n\t\treturn this.createdByTypeEnum() == DateTimeTypeEnum.DateTime;\r\n\t}\r\n\r\n\tpublic isCreatedByDate()\r\n\t{\r\n\t\treturn this.createdByTypeEnum() == DateTimeTypeEnum.Date;\r\n\t}\r\n\r\n\tpublic isCreatedByString()\r\n\t{\r\n\t\treturn this.createdByTypeEnum() == DateTimeTypeEnum.String;\r\n\t}\r\n\r\n\tpublic toDate()\r\n\t{\r\n\t\treturn DateTime.toDate(this);\r\n\t}\r\n\r\n\tpublic isEqualsTo(source: DateTime, ignoreHours = false)\r\n\t{\r\n\t\tif (ignoreHours)\r\n\t\t\treturn this.year == source.year && this.month == source.month && this.day == source.day;\r\n\t\telse\r\n\t\t\treturn this.year == source.year && this.month == source.month && this.day == source.day && this.hours == source.hours\r\n\t\t\t\t&& this.minutes == source.minutes && this.seconds == source.seconds && this.milliseconds == source.milliseconds;\r\n\t}\r\n\r\n\tpublic static toDate(source?: DateTime | null): Date\r\n\t{\r\n\t\tif (source == null || Date.vrIsValidDate(source))\r\n\t\t\treturn source as any;\r\n\r\n\t\treturn new Date(source.year, source.month - 1, source.day, source.hours, source.minutes, source.seconds, source.milliseconds);\r\n\t}\r\n\r\n\tpublic static fromDate(source?: Date | null): DateTime\r\n\t{\r\n\t\tif (source == null)\r\n\t\t\treturn null as any;\r\n\r\n\t\treturn new DateTime(source);\r\n\t}\r\n\r\n\tpublic static equals(first: DateTime, second: DateTime, ignoreHours = false)\r\n\t{\r\n\t\tif (first == null || second == null)\r\n\t\t\treturn false;\r\n\r\n\t\treturn first.isEqualsTo(second, ignoreHours);\r\n\t}\r\n}\r\n\r\nexport enum DateTimeTypeEnum\r\n{\r\n\tDate,\r\n\tDateTime,\r\n\tString\r\n}\r\n//#endregion\r\n\r\n//#region Primitive type extensions\r\ndeclare global\r\n{\r\n\tinterface DateConstructor\r\n\t{\r\n\t\tvrFixDateString(dateString?: Date | string | null): Date;\r\n\t\tvrEquals(firstDate: Date, secondDate: Date): boolean;\r\n\t\tvrGetFirstDayOfMonthByDate(dateToCheck: Date): Date;\r\n\t\tvrGetLastDayOfMonthByDate(dateToCheck: Date): Date;\r\n\t\tvrGetFirstDayOfWeekByDate(dateToCheck: Date): Date;\r\n\t\tvrDifferenceBetweenDatesInMinutes(firstDate: Date, secondDate: Date): number;\r\n\t\tvrIsValidDate(date: any): boolean;\r\n\t\tvrConvertDateFromClient(dateFromClient?: Date | null): Date;\r\n\t\tvrConvertDateFromServer(dateFromServer: Date): Date;\r\n\t\tvrArePeriodsOverlapped(startA: Date, endA: Date, startB: Date, endB: Date, equal?: boolean): boolean;\r\n\t\tvrToWebApiDateTime(date: Date): any;\r\n\t\tvrGetDaysInMonth(date: Date): number;\r\n\t\tvrDifferenceBetweenDatesInDays(firstDate: Date, secondDate: Date): number;\r\n\t\tMIN_VALUE: Date;\r\n\t\tMAX_VALUE: Date;\r\n\t}\r\n\r\n\tinterface Date\r\n\t{\r\n\t\tvrToItalyString(mode?: DateModeEnum, showSeconds?: boolean): string;\r\n\t\tvrFormatString(options: Intl.DateTimeFormatOptions, language?: string[] | string): string;\r\n\t\tvrToLongDateString(): string;\r\n\t\tvrAddYears(years: number): Date;\r\n\t\tvrAddMonths(months: number): Date;\r\n\t\tvrAddDays(days: number): Date;\r\n\t\tvrAddHours(hours: number): Date;\r\n\t\tvrAddMinutes(minutes: number): Date;\r\n\t\tvrAddSeconds(seconds: number): Date;\r\n\t\tvrIsLessThan(date: Date, equals?: boolean, checkTime?: boolean): boolean;\r\n\t\tvrIsGreaterThan(date: Date, equals?: boolean, checkTime?: boolean): boolean;\r\n\t\tvrIsEqualsTo(date: Date, checkTime?: boolean): boolean;\r\n\t\tvrIsBetween(firstDate: Date, secondDate: Date): boolean;\r\n\t}\r\n\r\n\tinterface Number\r\n\t{\r\n\t\tvrToNumberString(formatSettings?: NumberFormatSettings): string;\r\n\t\tvrToCurrencyString(formatSettings?: NumberFormatSettings): string;\r\n\t\tvrToPercentageString(formatSettings?: NumberFormatSettings): string;\r\n\t\tvrRound(decimals: number): number;\r\n\t\tvrFormatNumber(formatSettings: NumberFormatSettings): string;\r\n\t}\r\n\r\n\tinterface String\r\n\t{\r\n\t\tvrCapitalize(): string;\r\n\t\tvrCamelCase(exceptFirst?: boolean): string;\r\n\t\tvrKebabCase(): string;\r\n\t\tvrSnakeCase(): string;\r\n\t\tvrSwapCase(): string;\r\n\t\tvrTitleCase(): string;\r\n\t\tvrTrunc(index: number, useWordBoundary?: boolean): string;\r\n\t\tvrGetNumericPart(): number;\r\n\t\tvrToBoolean(): boolean;\r\n\t\tvrIsNotNullOrEmpty(): boolean;\r\n\t\tvrIsNullOrEmpty(): boolean;\r\n\t\tvrRemoveHtml(): string;\r\n\t}\r\n\r\n\tinterface ArrayConstructor\r\n\t{\r\n\t\tvrEquals(array1: any[], array2: any[]): boolean;\r\n\t}\r\n\r\n\tinterface Array<T>\r\n\t{\r\n\t\tvrFirst(): T;\r\n\t\tvrLast(): T;\r\n\t\tvrDelete(value: any): void;\r\n\t\tvrDeleteItem(item: any, key: string): void;\r\n\t\tvrDeleteAllBy<U>(callbackfn?: (value: T, index: number, array: T[]) => U, thisArg?: any): void;\r\n\t\tvrToNumberArrayList(): number[];\r\n\t\tvrToStringArrayList(): string[];\r\n\t\tvrToCommaSeparatedList(): string;\r\n\t\tvrPushRange(arrayToAdd: any[]): void;\r\n\t\tvrAll<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): boolean;\r\n\t\tvrAny<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): boolean;\r\n\t\tvrSum<U>(callbackfn?: (value: T, index: number, array: T[]) => U, thisArg?: any): number;\r\n\t\tvrMax<U>(callbackfn?: (value: T, index: number, array: T[]) => U, thisArg?: any): number;\r\n\t\tvrMin<U>(callbackfn?: (value: T, index: number, array: T[]) => U, thisArg?: any): number;\r\n\t\tvrAvg<U>(callbackfn?: (value: T, index: number, array: T[]) => U, thisArg?: any): number;\r\n\t\tvrDistinct(): T[];\r\n\t\tvrDistinctBy<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): T[];\r\n\t\tvrSortAsc(...properties: string[]): any[];\r\n\t\tvrSortDesc(...properties: string[]): any[];\r\n\t\tvrSortBy(properties: string[], ascending?: boolean): any[];\r\n\t\tvrGroupBy<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): any[];\r\n\t\tvrGroupByProperty(property: string): any[];\r\n\t}\r\n\r\n\tinterface JQuery\r\n\t{\r\n\t\tvrDrag(element?: HTMLElement | string | JQuery): void;\r\n\t\tvrVisible(state?: boolean): boolean;\r\n\t\tvrAppendToPuma(element: any): JQuery;\r\n\t\tvrPrependToPuma(element: any): JQuery;\r\n\t\tvrAppendPuma(element: any): JQuery;\r\n\t\tvrPrependPuma(element: any): JQuery;\r\n\t\tvrAfterPuma(element: any): JQuery;\r\n\t\tvrBeforePuma(element: any): JQuery;\r\n\t\tvrInsertAfterPuma(element: any): JQuery;\r\n\t\tvrInsertBeforePuma(element: any): JQuery;\r\n\t\tvrHasScrollBar(horizontal?: boolean): boolean;\r\n\t}\r\n}\r\n\r\nDate.MIN_VALUE = new Date(-8640000000000000);\r\nDate.MAX_VALUE = new Date(8640000000000000);\r\n\r\nDate.vrFixDateString = function (dateString?: Date | null): Date\r\n{\r\n\tif (dateString != null && !(Object.prototype.toString.call(dateString) === '[object Date]'))\r\n\t{\r\n\t\tlet tempDateString = dateString.toString();\r\n\t\tlet dateSplitted = tempDateString.split(/[^0-9]/).vrToNumberArrayList();\r\n\t\tlet date = new Date(dateSplitted[0], dateSplitted[1] - 1, dateSplitted[2], dateSplitted[3], dateSplitted[4], dateSplitted[5]);\r\n\t\tdateString = new Date(date.toString());\r\n\t}\r\n\treturn dateString!;\r\n}\r\n\r\nDate.vrEquals = function (firstDate: Date, secondDate: Date): boolean\r\n{\r\n\treturn firstDate.getTime() === secondDate.getTime();\r\n}\r\n\r\nDate.vrGetFirstDayOfMonthByDate = function (dateToCheck: Date): Date\r\n{\r\n\tlet date = new Date(dateToCheck);\r\n\treturn new Date(date.getFullYear(), date.getMonth(), 1);\r\n}\r\n\r\nDate.vrGetLastDayOfMonthByDate = function (dateToCheck: Date): Date\r\n{\r\n\tlet date = new Date(dateToCheck);\r\n\treturn new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n}\r\n\r\nDate.vrGetFirstDayOfWeekByDate = function (dateToCheck: Date): Date\r\n{\r\n\tlet date = new Date(dateToCheck);\r\n\tlet day = date.getDay(),\r\n\t\tdiff = date.getDate() - day + (day == 0 ? -6 : 1); // adjust when day is sunday\r\n\treturn new Date(date.setDate(diff));\r\n}\r\n\r\nDate.vrDifferenceBetweenDatesInMinutes = function (firstDate: Date, secondDate: Date): number\r\n{\r\n\tfirstDate = Date.vrFixDateString(firstDate);\r\n\tsecondDate = Date.vrFixDateString(secondDate);\r\n\r\n\tlet difference = firstDate.getTime() - secondDate.getTime();\r\n\tlet secondsDifference = difference / 1000;\r\n\treturn Math.abs(secondsDifference / 60);\r\n}\r\n\r\nDate.vrIsValidDate = function (date: Date)\r\n{\r\n\treturn date != null && date instanceof Date && !isNaN(date.getTime()) && date.getTime() != new Date(0, 0, 0).getTime();\r\n}\r\n\r\nDate.vrGetDaysInMonth = function (date: Date): number\r\n{\r\n\treturn new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n}\r\n\r\nDate.vrToWebApiDateTime = function (date: Date)\r\n{\r\n\tif (date != null)\r\n\t{\r\n\t\tdate = Date.vrFixDateString(date);\r\n\t\tif (Date.vrIsValidDate(date))\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tday: date!.getDate(),\r\n\t\t\t\tmonth: date!.getMonth() + 1,\r\n\t\t\t\tyear: date!.getFullYear(),\r\n\t\t\t\thours: date!.getHours(),\r\n\t\t\t\tminutes: date!.getMinutes(),\r\n\t\t\t\tseconds: date!.getSeconds(),\r\n\t\t\t\tmilliSeconds: date!.getMilliseconds()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nDate.prototype.vrToItalyString = function (mode?: DateModeEnum, showSeconds = false): string\r\n{\r\n\tlet dateOptions: any = {};\r\n\tswitch (mode)\r\n\t{\r\n\t\tcase DateModeEnum.Date:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase DateModeEnum.LongWeekDate:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\tweekday: 'long',\r\n\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase DateModeEnum.ShortWeekDate:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\tweekday: 'short',\r\n\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase DateModeEnum.LongDate:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\tweekday: 'long',\r\n\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase DateModeEnum.DateTime:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (showSeconds)\r\n\t\t\t\t\tdateOptions.second = \"2-digit\";\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase DateModeEnum.LongDateTime:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\tweekday: 'long',\r\n\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (showSeconds)\r\n\t\t\t\t\tdateOptions.second = \"2-digit\";\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase DateModeEnum.Time:\r\n\t\t\t{\r\n\t\t\t\tdateOptions = {\r\n\t\t\t\t\thour: \"2-digit\",\r\n\t\t\t\t\tminute: \"2-digit\",\r\n\t\t\t\t\thour12: false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (showSeconds)\r\n\t\t\t\t\tdateOptions.second = \"2-digit\";\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t}\r\n\treturn this.vrFormatString(dateOptions, \"it\");\r\n}\r\n\r\nDate.prototype.vrFormatString = function (options: Intl.DateTimeFormatOptions, language?: string[] | string): string\r\n{\r\n\tlet dateFormatter = new Intl.DateTimeFormat((language == null) ? navigator.language : language, options);\r\n\tlet dateString = dateFormatter.format(this).vrCapitalize();\r\n\treturn dateString;\r\n}\r\n\r\nDate.prototype.vrToLongDateString = function ()\r\n{\r\n\tlet dateOptions: any = {\r\n\t\tweekday: 'long',\r\n\t\tyear: 'numeric',\r\n\t\tmonth: 'long',\r\n\t\tday: '2-digit',\r\n\t\thour12: false\r\n\t}\r\n\tlet dateFormatter = new Intl.DateTimeFormat(/*navigator.language*/\"it\", dateOptions);\r\n\treturn dateFormatter.format(this).vrCapitalize();\r\n}\r\n\r\nDate.vrArePeriodsOverlapped = function (startA: Date, endA: Date, startB: Date, endB: Date, equal = false)\r\n{\r\n\treturn (!equal) ? (startA.getTime() < endB.getTime() && endA.getTime() > startB.getTime()) : (startA.getTime() <= endB.getTime() && endA.getTime() >= startB.getTime());\r\n}\r\n\r\nDate.prototype.vrAddYears = function (years: number): Date\r\n{\r\n\tlet date: Date = new Date(this.valueOf());\r\n\tdate.setFullYear(date.getFullYear() + years);\r\n\treturn date;\r\n}\r\n\r\nDate.prototype.vrAddMonths = function (months: number): Date\r\n{\r\n\tlet february = new Date(this.getFullYear(), 1, 1);\r\n\tlet februaryDays = Date.vrGetDaysInMonth(february);\r\n\r\n\tlet date: Date = new Date(this.valueOf());\r\n\tlet newMonth = date.getMonth() + months;\r\n\tif (newMonth == 1 && date.getDate() > februaryDays) // February\r\n\t\tdate.setDate(februaryDays);\r\n\r\n\tdate.setMonth(newMonth);\r\n\treturn date;\r\n}\r\n\r\nDate.prototype.vrAddDays = function (days: number): Date\r\n{\r\n\tlet date: Date = new Date(this.valueOf());\r\n\tdate.setDate(date.getDate() + days);\r\n\treturn date;\r\n}\r\n\r\nDate.prototype.vrAddHours = function (hours: number): Date\r\n{\r\n\tthis.setTime(this.getTime() + (hours * 60 * 60 * 1000));\r\n\treturn this;\r\n}\r\n\r\nDate.prototype.vrAddMinutes = function (minutes: number): Date\r\n{\r\n\tthis.setTime(this.getTime() + (minutes * 60 * 1000));\r\n\treturn this;\r\n}\r\n\r\nDate.prototype.vrAddSeconds = function (seconds: number): Date\r\n{\r\n\tthis.setTime(this.getTime() + (seconds * 1000));\r\n\treturn this;\r\n}\r\n\r\nDate.prototype.vrIsLessThan = function (date: Date, equals = false, checkTime = true): boolean\r\n{\r\n\tif (!checkTime)\r\n\t{\r\n\t\tthis.setHours(0, 0, 0, 0);\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t}\r\n\r\n\tif (equals)\r\n\t\treturn (this.getTime() <= date.getTime());\r\n\telse\r\n\t\treturn (this.getTime() < date.getTime());\r\n}\r\n\r\nDate.prototype.vrIsGreaterThan = function (date: Date, equals = false, checkTime = true): boolean\r\n{\r\n\tif (!checkTime)\r\n\t{\r\n\t\tthis.setHours(0, 0, 0, 0);\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t}\r\n\r\n\tif (equals)\r\n\t\treturn (this.getTime() >= date.getTime());\r\n\telse\r\n\t\treturn (this.getTime() > date.getTime());\r\n}\r\n\r\nDate.prototype.vrIsEqualsTo = function (date: Date, checkTime = true): boolean\r\n{\r\n\tif (!checkTime)\r\n\t{\r\n\t\tthis.setHours(0, 0, 0, 0);\r\n\t\tdate.setHours(0, 0, 0, 0);\r\n\t}\r\n\r\n\treturn (this.getTime() == date.getTime());\r\n}\r\n\r\nDate.prototype.vrIsBetween = function (firstDate: Date, secondDate: Date): boolean\r\n{\r\n\tlet millisecondsFirstDate = firstDate.getTime();\r\n\tlet millisecondsSecondDate = secondDate.getTime();\r\n\tlet millisecondsDateToCheck = this.getTime();\r\n\r\n\tif (millisecondsDateToCheck >= millisecondsFirstDate && millisecondsDateToCheck <= millisecondsSecondDate)\r\n\t\treturn true;\r\n\r\n\treturn false;\r\n}\r\n\r\nDate.vrDifferenceBetweenDatesInDays = function (firstDate: Date, secondDate: Date): number\r\n{\r\n\tlet first = this.vrFixDateString(firstDate);\r\n\tlet second = this.vrFixDateString(secondDate);\r\n\r\n\tlet difference = first.getTime() - second.getTime();\r\n\tlet secondsDifference = difference / 1000;\r\n\treturn Math.abs(secondsDifference / 60 / 60 / 24);\r\n}\r\n\r\nDate.vrConvertDateFromClient = function (dateFromClient?: Date | null): Date\r\n{\r\n\tif (dateFromClient != null)\r\n\t{\r\n\t\tdateFromClient = Date.vrFixDateString(dateFromClient);\r\n\t\tlet dateConverted = new Date(Date.UTC(dateFromClient.getFullYear(), dateFromClient.getMonth(), dateFromClient.getDate(), dateFromClient.getHours(), dateFromClient.getMinutes(), dateFromClient.getSeconds()));\r\n\t\treturn dateConverted;\r\n\t}\r\n\telse\r\n\t\treturn dateFromClient!;\r\n}\r\n\r\nDate.vrConvertDateFromServer = function (dateFromServer: Date): Date\r\n{\r\n\tif (dateFromServer != null)\r\n\t{\r\n\t\tdateFromServer = Date.vrFixDateString(dateFromServer);\r\n\t\tlet dateConverted = new Date(dateFromServer.getUTCFullYear(), dateFromServer.getUTCMonth(), dateFromServer.getUTCDate(), dateFromServer.getUTCHours(), dateFromServer.getUTCMinutes(), dateFromServer.getUTCSeconds());\r\n\t\treturn dateConverted;\r\n\t}\r\n\telse\r\n\t\treturn dateFromServer;\r\n}\r\n\r\nNumber.prototype.vrToNumberString = function (formatSettings?: NumberFormatSettings): string\r\n{\r\n\tif (formatSettings == null) formatSettings = new NumberFormatSettings();\r\n\tformatSettings.style = NumberStyleEnum.Default;\r\n\treturn this.vrFormatNumber(formatSettings);\r\n}\r\n\r\nNumber.prototype.vrToCurrencyString = function (formatSettings?: NumberFormatSettings): string\r\n{\r\n\tif (formatSettings == null) formatSettings = new NumberFormatSettings();\r\n\tformatSettings.style = NumberStyleEnum.Currency;\r\n\tif (formatSettings.minimumFractionDigits == null) formatSettings.minimumFractionDigits = 2;\r\n\tif (formatSettings.maximumFractionDigits == null) formatSettings.maximumFractionDigits = 2;\r\n\treturn this.vrFormatNumber(formatSettings);\r\n}\r\n\r\nNumber.prototype.vrToPercentageString = function (formatSettings?: NumberFormatSettings): string\r\n{\r\n\tif (formatSettings == null) formatSettings = new NumberFormatSettings();\r\n\tformatSettings.style = NumberStyleEnum.Percentage;\r\n\tif (formatSettings.minimumFractionDigits == null) formatSettings.minimumFractionDigits = 2;\r\n\tif (formatSettings.maximumFractionDigits == null) formatSettings.maximumFractionDigits = 2;\r\n\treturn this.vrFormatNumber(formatSettings);\r\n}\r\n\r\nNumber.prototype.vrFormatNumber = function (format?: NumberFormatSettings)\r\n{\r\n\tif (format == null) format = new NumberFormatSettings();\r\n\tif (format.style == null) format.style = NumberStyleEnum.Default;\r\n\tif (format.currency == null) format.currency = \"EUR\";\r\n\tif (format.useGrouping == null) format.useGrouping = GroupingModeEnum.Auto;\r\n\r\n\tif (format.roundingMode == null) format.roundingMode = RoundingModeEnum.HalfAwayFromZero;\r\n\tif (format.roundingMode == RoundingModeEnum.None)\r\n\t{\r\n\t\tformat.roundingMode = RoundingModeEnum.Default;\r\n\t\tif (format.maximumFractionDigits == null)\r\n\t\t\tformat.maximumFractionDigits = 8;\r\n\t}\r\n\r\n\tconst formatter = new Intl.NumberFormat(\"it-IT\"/*navigator.language*/, format as any);\r\n\treturn formatter.format(Number(this));\r\n}\r\n\r\nNumber.prototype.vrRound = function (decimals: number): number\r\n{\r\n\tlet pow = Math.pow(10, decimals);\r\n\treturn Math.round((this as number) * pow) / pow;\r\n}\r\n\r\nString.prototype.vrCapitalize = function ()\r\n{\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1).toLowerCase();\r\n}\r\n\r\nString.prototype.vrCamelCase = function (exceptFirst?: boolean)\r\n{\r\n\tif (exceptFirst == null) exceptFirst = false;\r\n\r\n\tlet words = this.split(\" \");\r\n\tfor (let word of words)\r\n\t\tword.vrCapitalize();\r\n\r\n\tlet stringToReturn = words.toString().replace(\",\", \"\");\r\n\tif (exceptFirst)\r\n\t\tstringToReturn = stringToReturn[0].toLowerCase() + stringToReturn.substr(1);\r\n\r\n\treturn stringToReturn;\r\n}\r\n\r\nString.prototype.vrKebabCase = function (this)\r\n{\r\n\tif (this.length == 0)\r\n\t\treturn \"\";\r\n\r\n\treturn this\r\n\t\t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)!\r\n\t\t.map(x => x.toLowerCase())\r\n\t\t.join('-');\r\n}\r\n\r\nString.prototype.vrSnakeCase = function (this)\r\n{\r\n\tif (this.length == 0)\r\n\t\treturn \"\";\r\n\r\n\treturn this\r\n\t\t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)!\r\n\t\t.map(x => x.toLowerCase())\r\n\t\t.join('_');\r\n}\r\n\r\nString.prototype.vrSwapCase = function (this)\r\n{\r\n\tvar swapped = [];\r\n\tfor (let i = 0; i < this.length; i++)\r\n\t{\r\n\t\tif (this != \" \")\r\n\t\t{\r\n\t\t\tif (this[i] == this[i].toUpperCase())\r\n\t\t\t\tswapped.push(this[i].toLowerCase());\r\n\t\t\telse\r\n\t\t\t\tswapped.push(this[i].toUpperCase());\r\n\t\t}\r\n\t}\r\n\treturn swapped.join(\"\");\r\n}\r\n\r\nString.prototype.vrTitleCase = function (this)\r\n{\r\n\treturn this.replace(/\\w\\S*/g, (txt) => { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase() });\r\n}\r\n\r\nString.prototype.vrTrunc = function (index: number, useWordBoundary?: boolean)\r\n{\r\n\tif (useWordBoundary == null) useWordBoundary = true;\r\n\r\n\tif (this.length <= index) { return this.valueOf(); }\r\n\tvar subString = this.substr(0, index - 1);\r\n\treturn (useWordBoundary\r\n\t\t? subString.substr(0, subString.lastIndexOf(' '))\r\n\t\t: subString) + \"&hellip;\";\r\n};\r\n\r\nString.prototype.vrGetNumericPart = function (this)\r\n{\r\n\tlet number = 0;\r\n\tif (this.length > 0)\r\n\t\tnumber = Number(this.match(/[\\d\\.\\-]+/))\r\n\r\n\treturn number;\r\n}\r\n\r\nString.prototype.vrToBoolean = function (this)\r\n{\r\n\treturn (this.toLowerCase() === \"true\");\r\n}\r\n\r\nString.prototype.vrIsNotNullOrEmpty = function (this)\r\n{\r\n\treturn this != null && this != \"\";\r\n}\r\n\r\nString.prototype.vrIsNullOrEmpty = function (this)\r\n{\r\n\treturn this == null || this == \"\";\r\n}\r\n\r\nString.prototype.vrRemoveHtml = function (this)\r\n{\r\n\treturn this.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n}\r\n\r\nArray.prototype.vrFirst = function ()\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn (this as any)[0];\r\n\r\n\treturn null;\r\n}\r\n\r\nArray.prototype.vrLast = function ()\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn this[this.length - 1];\r\n\r\n\treturn null;\r\n}\r\n\r\nArray.prototype.vrToNumberArrayList = function ()\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn this.map((value) => { return Number(value) });\r\n\r\n\treturn [];\r\n}\r\n\r\nArray.prototype.vrToStringArrayList = function ()\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn this.map((value) => { return String(value) });\r\n\r\n\treturn [];\r\n}\r\n\r\nArray.prototype.vrToCommaSeparatedList = function ()\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tlet result = \"\";\r\n\t\tfor (let item of this)\r\n\t\t\tresult += item.toString() + \", \";\r\n\r\n\t\treturn result.substring(0, result.length - 2);\r\n\t}\r\n\telse\r\n\t\treturn \"\";\r\n}\r\n\r\nArray.prototype.vrPushRange = function (arrayToAdd: any[])\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tfor (let element of arrayToAdd)\r\n\t\t\tthis.push(element);\r\n\t}\r\n}\r\n\r\nArray.prototype.vrDelete = function (value: any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tlet index = this.indexOf(value);\r\n\t\tif (index != -1)\r\n\t\t\tthis.splice(index, 1);\r\n\t}\r\n}\r\n\r\nArray.prototype.vrDeleteItem = function (item: any, key: string)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tlet index = this.map(k => k[key]).indexOf(item[key]);\r\n\t\tif (index != -1)\r\n\t\t\tthis.splice(index, 1);\r\n\t}\r\n}\r\n\r\nArray.prototype.vrDeleteAllBy = function (callbackfn: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tlet itemToDeleteList = this.filter(callbackfn);\r\n\t\tfor (let itemToDelete of itemToDeleteList)\r\n\t\t{\r\n\t\t\tif (itemToDelete != null)\r\n\t\t\t\tthis.vrDelete(itemToDelete);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction dynamicSort(property: string)\r\n{\r\n\tvar sortOrder = 1;\r\n\tif (property[0] === \"-\")\r\n\t{\r\n\t\tsortOrder = -1;\r\n\t\tproperty = property.substr(1);\r\n\t}\r\n\r\n\treturn function (a: any, b: any)\r\n\t{\r\n\t\tlet aProperty = a[property];\r\n\t\tlet bProperty = b[property];\r\n\r\n\t\tif (typeof (aProperty) == \"string\")\r\n\t\t\taProperty = aProperty.toLowerCase();\r\n\r\n\t\tif (typeof (bProperty) == \"string\")\r\n\t\t\tbProperty = bProperty.toLowerCase();\r\n\r\n\t\tvar result = (aProperty < bProperty) ? -1 : (aProperty > bProperty) ? 1 : 0;\r\n\r\n\t\t//#region Manage Empty & Null\r\n\t\tif ((typeof (aProperty) == \"string\" && aProperty == \"\") || (typeof (bProperty) == \"string\" && bProperty == \"\"))\r\n\t\t\tresult = (aProperty == \"\") ? 1 : -1;\r\n\r\n\t\tif (aProperty == null || bProperty == null)\r\n\t\t\tresult = (sortOrder == 1) ? ((aProperty == null) ? 1 : -1) : ((aProperty == null) ? -1 : 1);\r\n\t\t//#endregion\r\n\r\n\t\treturn result * sortOrder;\r\n\t}\r\n}\r\n\r\nfunction dynamicSortMultiple()\r\n{\r\n\tvar props = arguments;\r\n\treturn function (obj1: any, obj2: any)\r\n\t{\r\n\t\tvar i = 0, result = 0, numberOfProperties = props.length;\r\n\t\twhile (result === 0 && i < numberOfProperties)\r\n\t\t{\r\n\t\t\tresult = dynamicSort(props[i])(obj1, obj2);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nArray.prototype.vrSortBy = function (properties: string[], ascending?: boolean)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tif (properties != null && properties.length > 0)\r\n\t\t{\r\n\t\t\tif (ascending != null && !ascending)\r\n\t\t\t\tproperties = properties.map(k => { return (!k.startsWith(\"-\")) ? \"-\" + k : k });\r\n\r\n\t\t\tthis.sort(dynamicSortMultiple.apply(null, properties as any));\r\n\t\t}\r\n\t\telse\r\n\t\t\tinternalSortWithoutProperties(this, (ascending == null) ? true : ascending);\r\n\t}\r\n\treturn this;\r\n}\r\n\r\nArray.prototype.vrSortAsc = function (...properties: string[])\r\n{\r\n\treturn this.vrSortBy(properties, true);\r\n}\r\n\r\nArray.prototype.vrSortDesc = function (...properties: string[])\r\n{\r\n\treturn this.vrSortBy(properties, false);\r\n}\r\n\r\nfunction internalSortWithoutProperties(array: any[], ascending: boolean)\r\n{\r\n\tarray.sort((a: any, b: any) => \r\n\t{\r\n\t\tif (ascending)\r\n\t\t{\r\n\t\t\tif (typeof (a) == \"number\")\r\n\t\t\t{\r\n\t\t\t\tconst diff = a - b;\r\n\t\t\t\tif (diff)\r\n\t\t\t\t\treturn diff;\r\n\t\t\t}\r\n\t\t\telse if (typeof (a) == \"string\")\r\n\t\t\t{\r\n\t\t\t\t// Try to catch date\r\n\t\t\t\tlet tryDate = new Date(a);\r\n\t\t\t\tif (!isNaN(tryDate.getTime()))\r\n\t\t\t\t\treturn new Date(a).getTime() - new Date(b).getTime();\r\n\t\t\t\telse\r\n\t\t\t\t\treturn a.localeCompare(b);\r\n\t\t\t}\r\n\t\t\telse if (Object.prototype.toString.call(a) === '[object Date]')\r\n\t\t\t\treturn new Date(a).getTime() - new Date(b).getTime();\r\n\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (typeof (b) == \"number\")\r\n\t\t\t{\r\n\t\t\t\tconst diff = b - a;\r\n\t\t\t\tif (diff)\r\n\t\t\t\t\treturn diff;\r\n\t\t\t}\r\n\t\t\telse if (typeof (b) == \"string\")\r\n\t\t\t{\r\n\t\t\t\t// Try to catch date\r\n\t\t\t\tlet tryDate = new Date(b);\r\n\t\t\t\tif (!isNaN(tryDate.getTime()))\r\n\t\t\t\t\treturn new Date(b).getTime() - new Date(a).getTime();\r\n\t\t\t\telse\r\n\t\t\t\t\treturn b.localeCompare(a);\r\n\t\t\t}\r\n\t\t\telse if (Object.prototype.toString.call(b) === '[object Date]')\r\n\t\t\t\treturn new Date(b).getTime() - new Date(a).getTime();\r\n\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nArray.prototype.vrAll = function (callbackfn: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn this.every(callbackfn);\r\n\r\n\treturn false;\r\n}\r\n\r\nArray.prototype.vrAny = function (callbackfn: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn this.some(callbackfn);\r\n\r\n\treturn false;\r\n}\r\n\r\nArray.prototype.vrMax = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tif (callbackfn != null)\r\n\t\t{\r\n\t\t\tlet property = callbackfn.toString().split(\".\")[1];\r\n\t\t\treturn this.reduce((oa, u) => Math.max(oa, u[property]), 0);\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn Math.max.apply(null, this);\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nArray.prototype.vrMin = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tif (callbackfn != null)\r\n\t\t{\r\n\t\t\tlet property = callbackfn.toString().split(\".\")[1];\r\n\t\t\treturn this.reduce((oa, u) => Math.min(oa, u[property]), Number.MAX_VALUE);\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn Math.min.apply(null, this);\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nArray.prototype.vrSum = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tif (callbackfn == null)\r\n\t\t\treturn this.reduce((ty, u) => ty + u, 0);\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet property = callbackfn.toString().split(\"=>\")[1];\r\n\t\t\tlet sum: number = 0;\r\n\t\t\tthis.forEach(k => sum += eval(property));\r\n\t\t\treturn sum;\r\n\t\t}\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n\r\nArray.prototype.vrAvg = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tif (callbackfn == null)\r\n\t\t\treturn this.vrSum() / this.length;\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet sum = this.vrSum(callbackfn);\r\n\t\t\treturn sum / this.length;\r\n\t\t}\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n\r\nArray.prototype.vrDistinct = function (this)\r\n{\r\n\tif (Array.isArray(this))\r\n\t\treturn [...new Set(this)];\r\n\r\n\treturn [];\r\n}\r\n\r\nArray.prototype.vrDistinctBy = function (callbackfn: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tlet arrayResult: any[] = [];\r\n\t\tlet arrayMap = new Map();\r\n\t\tlet property = callbackfn.toString().split(\".\")[1];\r\n\r\n\t\tfor (let item of this)\r\n\t\t{\r\n\t\t\tlet value: any;\r\n\t\t\tfor (let key in item)\r\n\t\t\t{\r\n\t\t\t\tif (key == property)\r\n\t\t\t\t\tvalue = item[key];\r\n\t\t\t}\r\n\r\n\t\t\tif (!arrayMap.has(value))\r\n\t\t\t{\r\n\t\t\t\tarrayMap.set(value, true);\r\n\t\t\t\tarrayResult.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arrayResult;\r\n\t}\r\n\treturn [];\r\n}\r\n\r\n/** Deprecated */\r\nArray.prototype.vrGroupBy = function (callbackfn: (value: any, index: number, array: any[]) => any)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\tlet property = callbackfn.toString().split(\".\")[1];\r\n\t\tif (!callbackfn.toString().includes(\".\"))\r\n\t\t\tproperty = callbackfn.toString().split(\"[\")[1].replace(\"]\", \"\");\r\n\r\n\t\treturn this.reduce(function (groups, item)\r\n\t\t{\r\n\t\t\tconst val = item[property];\r\n\t\t\tgroups[val] = groups[val] || [];\r\n\t\t\tgroups[val].push(item);\r\n\t\t\treturn groups;\r\n\t\t}, {});\r\n\t}\r\n\treturn [];\r\n}\r\n\r\nArray.prototype.vrGroupByProperty = function (property: string)\r\n{\r\n\tif (Array.isArray(this))\r\n\t{\r\n\t\treturn this.reduce(function (groups, item)\r\n\t\t{\r\n\t\t\tconst val = item[property];\r\n\t\t\tgroups[val] = groups[val] || [];\r\n\t\t\tgroups[val].push(item);\r\n\t\t\treturn groups;\r\n\t\t}, {});\r\n\t}\r\n\treturn [];\r\n}\r\n\r\nArray.vrEquals = function (array1: any[], array2: any[]): boolean\r\n{\r\n\tif (Array.isArray(array1) && Array.isArray(array2))\r\n\t{\r\n\t\tlet array1Length = array1.length;\r\n\r\n\t\tif (array1 == null || array2 == null) return false;\r\n\t\tif (array1Length != array2.length) return false;\r\n\r\n\t\tlet arr1 = array1.concat().sort();\r\n\t\tlet arr2 = array2.concat().sort();\r\n\r\n\t\tfor (let i = 0; i < arr1.length; ++i)\r\n\t\t{\r\n\t\t\tif (arr1[i] !== arr2[i])\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\njQuery.prototype.vrDrag = function (element?: HTMLElement | string | JQuery, onStart?: (e: { event: any, left: number, top: number }) => void, onEnd?: (e: { event: any, left: number, top: number }) => void)\r\n{\r\n\tthis.mousedown((emd: JQuery.MouseDownEvent) =>\r\n\t{\r\n\t\tlet startingXPosition = emd.clientX;\r\n\t\tlet startingYPosition = emd.clientY;\r\n\t\tlet diffX = emd.clientX - puma((this as any)[0]).offset().left;\r\n\t\tlet diffY = emd.clientY - puma((this as any)[0]).offset().top;\r\n\r\n\t\tif (diffX <= 5 && diffY <= 5)\r\n\t\t\treturn;\r\n\r\n\t\t// Moving\r\n\t\tpuma(document).mousemove((emm: JQuery.MouseMoveEvent) => \r\n\t\t{\r\n\t\t\tif (!(emm.clientX == startingXPosition && emm.clientY == startingYPosition))\r\n\t\t\t{\r\n\t\t\t\tlet elementToDrag: JQuery = this;\r\n\t\t\t\tif (element != null)\r\n\t\t\t\t\telementToDrag = puma(element);\r\n\r\n\t\t\t\tif (onStart != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet onStartEvent = new WindowEvent() as any;\r\n\t\t\t\t\tonStartEvent.event = emm;\r\n\t\t\t\t\tonStartEvent.left = emm.clientX - diffX;\r\n\t\t\t\t\tonStartEvent.top = emm.clientY;\r\n\t\t\t\t\tonStart(onStartEvent);\r\n\r\n\t\t\t\t\tif (onStartEvent.isDefaultPrevented())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\t\t\t\t\t\temm.preventDefault();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telementToDrag.offset({ top: emm.clientY, left: (emm.clientX - diffX) });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Stop moving\r\n\t\tpuma(document).mouseup((emm: JQuery.MouseUpEvent) =>\r\n\t\t{\r\n\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\tpuma(document).unbind(\"mousemove\");\r\n\r\n\t\t\tif (onEnd != null)\r\n\t\t\t{\r\n\t\t\t\tlet onEndEvent: any = {};\r\n\t\t\t\tonEndEvent.event = emm;\r\n\t\t\t\tonEndEvent.left = emm.clientX - (puma((this as any)[0]).width() / 2);\r\n\t\t\t\tonEndEvent.top = emm.clientY;\r\n\t\t\t\tonEnd(onEndEvent);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\njQuery.prototype.vrVisible = function (state?: boolean)\r\n{\r\n\tif (state != null)\r\n\t{\r\n\t\tif (state) this.show();\r\n\t\telse this.hide();\r\n\t}\r\n\treturn this.is(\":visible\");\r\n}\r\n\r\nvar _shadowRoot2: ShadowRoot | null | undefined = null;\r\nvar _jqueryVariable: any = jQuery;\r\n\r\njQuery.prototype.vrAppendToPuma = function (element: any)\r\n{\r\n\tlet container = puma(element);\r\n\treturn this.appendTo(container);\r\n}\r\n\r\njQuery.prototype.vrPrependToPuma = function (element: any)\r\n{\r\n\tlet container = puma(element);\r\n\treturn this.prependTo(container);\r\n}\r\n\r\njQuery.prototype.vrAppendPuma = function (element: any)\r\n{\r\n\tlet toCreate = puma(element);\r\n\treturn this.append(toCreate);\r\n}\r\n\r\njQuery.prototype.vrPrependPuma = function (element: any)\r\n{\r\n\tlet toCreate = puma(element);\r\n\treturn this.prepend(toCreate);\r\n}\r\n\r\njQuery.prototype.vrBeforePuma = function (element: any)\r\n{\r\n\tlet elementJq = puma(element);\r\n\treturn this.before(elementJq);\r\n}\r\n\r\njQuery.prototype.vrAfterPuma = function (element: any)\r\n{\r\n\tlet elementJq = puma(element);\r\n\treturn this.after(elementJq);\r\n}\r\n\r\njQuery.prototype.vrInsertBeforePuma = function (element: any)\r\n{\r\n\tlet elementJq = puma(element);\r\n\treturn this.insertBefore(elementJq);\r\n}\r\n\r\njQuery.prototype.vrInsertAfterPuma = function (element: any)\r\n{\r\n\tlet elementJq = puma(element);\r\n\treturn this.insertAfter(elementJq);\r\n}\r\n\r\njQuery.prototype.vrHasScrollBar = function (horizontal: boolean = false): boolean\r\n{\r\n\tif (this.get(0) == null)\r\n\t\treturn false;\r\n\r\n\tif (!horizontal)\r\n\t\treturn this.get(0).scrollHeight > this.get(0).clientHeight;\r\n\telse\r\n\t\treturn this.get(0).scrollWidth > this.get(0).clientWidth;\r\n}\r\n\r\nexport function puma(element: any)\r\n{\r\n\treturn (shadowRoot() != null && jqueryVariable()(element).length == 0) ? jqueryVariable()(shadowRoot()).find(element) : jqueryVariable()(element);\r\n}\r\n//#endregion","import { ControlTypeEnum, LabelModeEnum, PositionEnum, createLabel, ControlPositionEnum, TextAlignEnum, PopupSettings, ColorSettings, puma, shadowRoot, PopupDirectionEnum, VrMarginSettings, LabelUnderlineMode } from \"./vr\";\r\nimport { Label, LabelClickEvent } from \"./controls/label\";\r\n\r\nexport class VrControl\r\n{\r\n    private _element: HTMLElement | HTMLInputElement;\r\n    _options: VrControlOptions;\r\n    private _labelOutside: Label;\r\n    private _typeEnum: ControlTypeEnum;\r\n    private _tag: any;\r\n\r\n    constructor(element?: HTMLElement | HTMLInputElement, options?: VrControlOptions, typeEnum?: ControlTypeEnum)\r\n    {\r\n        this._element = element!;\r\n        this._options = options!;\r\n        this._typeEnum = typeEnum!;\r\n\r\n        //#region MainClass/Container\r\n        puma(element).wrap(\"<div class='vrControlsContainer'></div>\");\r\n        puma(element).addClass(\"vr\" + typeEnum);\r\n        puma(element).addClass(\"vrControls\");\r\n        puma(this.container()).addClass(\"vr\" + typeEnum + \"Container\");\r\n        puma(this.container()).attr(\"id\", element!.id + \"Container\");\r\n        //#endregion\r\n\r\n        //#region Label\r\n        if (options!.label != null)\r\n        {\r\n            if (options!.labelSettings == null)\r\n                options!.labelSettings = new LabelControlsSettings();\r\n\r\n            if (options!.labelSettings.mode == null) options!.labelSettings.mode = LabelModeEnum.Primary;\r\n            if (options!.labelSettings.position == null) options!.labelSettings.position = PositionEnum.Top;\r\n\r\n            let labelPosition = options!.labelSettings.position;\r\n            let controlPositionEnum = (labelPosition == PositionEnum.Top || labelPosition == PositionEnum.Left) ? ControlPositionEnum.Before : ControlPositionEnum.After;\r\n            let margin = \"\";\r\n            let top = \"\";\r\n            if (labelPosition == PositionEnum.Left)\r\n            {\r\n                margin = \"margin-right: 5px;\";\r\n                top = \"top: -1px;\";\r\n            }\r\n            else if (labelPosition == PositionEnum.Right)\r\n            {\r\n                margin = \"margin-left: 5px;\";\r\n                top = \"top: -1px;\";\r\n            }\r\n            else\r\n                this.container().style.cssText += \"display: inline-flex; flex-direction: column;\";\r\n\r\n            this._labelOutside = createLabel(\r\n                {\r\n                    id: options!.labelSettings!.id,\r\n                    text: options!.label,\r\n                    mode: options!.labelSettings.mode,\r\n                    align: options!.labelSettings.textAlign,\r\n                    width: (labelPosition == PositionEnum.Top || labelPosition == PositionEnum.Bottom) ? \"100%\" : options!.labelSettings.width,\r\n                    class: options!.labelSettings.class,\r\n                    fontSize: options!.labelSettings.fontSize,\r\n                    cssContainer: margin + top + options!.labelSettings.cssContainer,\r\n                    css: options!.labelSettings.css,\r\n                    bold: options!.labelSettings.bold,\r\n                    tooltip: options!.labelSettings.tooltip,\r\n                    colorSettings: options!.labelSettings.colorSettings,\r\n                    tabIndex: -1,\r\n                    underlineMode: options!.labelSettings.underlineMode,\r\n                    onClick: options!.labelSettings.onClick\r\n                }, this.container(), controlPositionEnum);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Width and Height\r\n        if (options!.width != null)\r\n            this.width(options!.width);\r\n        if (options!.height != null)\r\n            this.height(options!.height);\r\n        //#endregion\r\n\r\n        //#region Visible/Enable\r\n        if (options!.visible === false)\r\n            this.hide();\r\n        if (options!.enable === false)\r\n            this.disable();\r\n        //#endregion\r\n\r\n        //#region Id/CSS/Class\r\n        if (options!.id != null)\r\n            this.id(options!.id);\r\n\r\n        if (options!.css != null)\r\n            this.css(options!.css);\r\n        if (options!.cssContainer != null)\r\n            this.cssContainer(options!.cssContainer);\r\n        if (options!.class != null)\r\n            this.class(options!.class);\r\n        if (options!.classContainer != null)\r\n            this.classContainer(options!.classContainer);\r\n        //#endregion\r\n\r\n        //#region Other\r\n        if (options!.margin != null)\r\n        {\r\n            if (typeof (options!.margin) == \"number\")\r\n                this.container().style.cssText += \"margin: \" + options!.margin + \"px;\";\r\n            else\r\n            {\r\n                if (options!.margin.top != null) this.container().style.cssText += \"margin-top: \" + options!.margin.top + \"px;\";\r\n                if (options!.margin.right != null) this.container().style.cssText += \"margin-right: \" + options!.margin.right + \"px;\";\r\n                if (options!.margin.bottom != null) this.container().style.cssText += \"margin-bottom: \" + options!.margin.bottom + \"px;\";\r\n                if (options!.margin.left != null) this.container().style.cssText += \"margin-left: \" + options!.margin.left + \"px;\";\r\n            }\r\n        }\r\n\r\n        if (options!.addToControlList == null)\r\n            options!.addToControlList = true;\r\n        //#endregion\r\n\r\n        //#region Tag/Attributes/TabIndex\r\n        this._tag = options!.tag;\r\n\r\n        if (options!.attributes == null) options!.attributes = [];\r\n        if (options!.uniqueName != null)\r\n            options!.attributes!.push({ name: \"uniqueName\", value: options!.uniqueName });\r\n\r\n        for (let attribute of options!.attributes)\r\n            this.attribute(attribute.name, attribute.value, attribute.container);\r\n\r\n        if (options!.tabIndex == null) options!.tabIndex = 0;\r\n        this.attribute(\"tabindex\", options!.tabIndex);\r\n\r\n        if (options!.shadowRoot !== false)\r\n        {\r\n            if (shadowRoot() != null)\r\n                puma(this.container()).addClass(\"shadowRoot\");\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    controlType(): ControlTypeEnum\r\n    {\r\n        return this._typeEnum;\r\n    }\r\n\r\n    id(id?: string)\r\n    {\r\n        if (id != null)\r\n        {\r\n            this.element().id = id;\r\n            this.container().id = id + \"Container\";\r\n        }\r\n        return this.element().id;\r\n    }\r\n\r\n    tag(tag?: any)\r\n    {\r\n        if (tag != null)\r\n            this._tag = tag;\r\n\r\n        if (tag === null)\r\n            this._tag = null;\r\n\r\n        return this._tag;\r\n    }\r\n\r\n    uniqueName(uniqueName?: string)\r\n    {\r\n        if (uniqueName != null)\r\n            this.attribute(\"uniqueName\", uniqueName);\r\n\r\n        return puma(this.element()).attr(\"uniqueName\");\r\n    }\r\n\r\n    attribute(name: string, value: any, toContainer = false)\r\n    {\r\n        if (!toContainer)\r\n            puma(this.element()).attr(name, value);\r\n        else\r\n            puma(this.container()).attr(name, value);\r\n    }\r\n\r\n    tooltip(tooltip?: string, container = false)\r\n    {\r\n        if (tooltip != null)\r\n        {\r\n            if (container) puma(this.container()).attr(\"title\", tooltip);\r\n            else puma(this.element()).attr(\"title\", tooltip);\r\n        }\r\n        return (container) ? puma(this.container()).attr(\"title\") : puma(this.element()).attr(\"title\");\r\n    }\r\n\r\n    //#region Element/Container/Options\r\n    element<T extends HTMLElement>()\r\n    {\r\n        return this._element as T;\r\n    }\r\n\r\n    container(): HTMLElement\r\n    {\r\n        return puma(this.element()).closest(\".vrControlsContainer\")[0];\r\n    }\r\n\r\n    label(): Label | null\r\n    {\r\n        return this._labelOutside;\r\n    }\r\n\r\n    options<T extends VrControlOptions>()\r\n    {\r\n        return <T>this._options;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Popup\r\n    settingPopup(popup: HTMLElement, popupSettings?: PopupSettings)\r\n    {\r\n        //#region Settings\r\n        if (popupSettings != null)\r\n        {\r\n            // Width\r\n            if (popupSettings.width != null) popup.style.cssText += \"width: \" + this.fixWidthHeightValue(popupSettings.width) + \";\";\r\n            if (popupSettings.minWidth != null) popup.style.cssText += \"min-width: \" + this.fixWidthHeightValue(popupSettings.minWidth) + \";\";\r\n            if (popupSettings.maxWidth != null) popup.style.cssText += \"max-width: \" + this.fixWidthHeightValue(popupSettings.maxWidth) + \";\";\r\n\r\n            // Height\r\n            if (popupSettings.height != null) popup.style.cssText += \"height: \" + this.fixWidthHeightValue(popupSettings.height) + \";\";\r\n            if (popupSettings.minHeight != null) popup.style.cssText += \"min-height: \" + this.fixWidthHeightValue(popupSettings.minHeight) + \";\";\r\n            if (popupSettings.maxHeight != null) popup.style.cssText += \"max-height: \" + this.fixWidthHeightValue(popupSettings.maxHeight) + \";\";\r\n\r\n            // Direction\r\n            if (popupSettings.direction == null) popupSettings.direction = PopupDirectionEnum.Auto;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Values\r\n        let elementTop = this.element().getBoundingClientRect().top;\r\n        let elementLeft = this.element().getBoundingClientRect().left;\r\n        let elementWidth = puma(this.element()).outerWidth();\r\n        let elementHeight = puma(this.element()).outerHeight();\r\n\r\n        let popupWidth = puma(popup).outerWidth();\r\n        let popupHeight = puma(popup).outerHeight();\r\n        //#endregion\r\n\r\n        //#region Right/Left management\r\n        let positionLeft = 0;\r\n        if (popupSettings != null && popupSettings.right === true)\r\n            positionLeft = elementLeft + elementWidth - popupWidth;\r\n        else\r\n        {\r\n            let documentBodyLeft = puma(document.body).offset().left;\r\n            let documentBodyWidth = puma(document.body).width();\r\n\r\n            if ((documentBodyLeft + documentBodyWidth) <= (elementLeft + popupWidth + elementWidth)) // To right\r\n                positionLeft = elementLeft + elementWidth - popupWidth;\r\n            else // To left\r\n                positionLeft = elementLeft;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Up/Down management\r\n        if (popupSettings != null && popupSettings.direction != PopupDirectionEnum.Auto)\r\n        {\r\n            if (popupSettings.direction == PopupDirectionEnum.Up)\r\n                popup.style.cssText += \"left: \" + positionLeft + \"px; bottom: \" + (window.innerHeight - elementTop) + \"px;\";\r\n            else if (popupSettings.direction == PopupDirectionEnum.Down)\r\n                popup.style.cssText += \"left: \" + positionLeft + \"px; top: \" + (elementTop + elementHeight) + \"px;\";\r\n        }\r\n        else\r\n        {\r\n            let documentBodyTop = puma(document.body).offset().top;\r\n            let documentBodyHeight = puma(document.body).height();\r\n\r\n            if ((documentBodyTop + documentBodyHeight) <= (elementTop + popupHeight + elementHeight)) // To up\r\n                popup.style.cssText += \"left: \" + positionLeft + \"px; bottom: \" + (window.innerHeight - elementTop) + \"px;\";\r\n            else // To down\r\n                popup.style.cssText += \"left: \" + positionLeft + \"px; top: \" + (elementTop + elementHeight) + \"px;\";\r\n        }\r\n        //#endregion\r\n\r\n        if (shadowRoot() != null)\r\n            popup.style.cssText += \"position: fixed;\";\r\n    }\r\n\r\n    private fixWidthHeightValue(value: string | number)\r\n    {\r\n        if (typeof (value) == \"number\")\r\n            value = value + \"px\";\r\n        return value;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Width/Height\r\n    width(value?: string | number): number\r\n    {\r\n        if (value != null)\r\n        {\r\n            let options = this.options();\r\n            let containerJq = puma(this.container());\r\n            let elementJq = puma(this.element());\r\n\r\n            //#region Label width before width assignment\r\n            let labelWidth = 0;\r\n            if (options.label != null)\r\n            {\r\n                let label = containerJq.find(\".vrLabel\")[0];\r\n                labelWidth = puma(label).outerWidth(true) + 5;\r\n            }\r\n            //#endregion\r\n\r\n            //#region Width without Label\r\n            containerJq.width(value);\r\n            let diff = elementJq.outerWidth() - elementJq.width();\r\n            if (diff === elementJq.outerWidth() && options.label == null)\r\n                diff = 0;\r\n\r\n            elementJq.width(\"Calc(100% - \" + diff + \"px)\");\r\n            if (elementJq.hasClass(\"vrEditor\"))\r\n                elementJq.width(\"100%\");\r\n            //#endregion\r\n\r\n            if (options.label != null)\r\n            {\r\n                //#region Width with Label\r\n                let labelPosition = options.labelSettings!.position;\r\n                if (labelPosition == PositionEnum.Left || labelPosition == PositionEnum.Right)\r\n                {\r\n                    if (options.labelSettings!.width != null)\r\n                        labelWidth = options.labelSettings!.width;\r\n\r\n                    if (typeof (value) === \"string\")\r\n                        elementJq.width(\"Calc(100% - \" + (diff + labelWidth) + \"px)\");\r\n                    else if (typeof (value) === \"number\")\r\n                    {\r\n                        elementJq.width(value - diff);\r\n                        containerJq.width(value + labelWidth);\r\n                    }\r\n                }\r\n                else if (elementJq.is(\"button\") || elementJq.is(\"textarea\"))\r\n                    elementJq.width(\"Calc(100% - 0px)\");\r\n                //#endregion\r\n            }\r\n            else if (elementJq.is(\"button\") || elementJq.is(\"textarea\"))\r\n                elementJq.width(\"100%\");\r\n        }\r\n        return puma(this.element()).width();\r\n    }\r\n\r\n    height(value?: string | number): number\r\n    {\r\n        if (value != null)\r\n        {\r\n            if (typeof (value) == \"string\")\r\n            {\r\n                puma(this.container())[0].style.cssText += \"height: \" + value + \";\";\r\n                puma(this.element())[0].style.cssText += \"height: \" + value + \";\";\r\n            }\r\n            else\r\n            {\r\n                puma(this.container()).height(value);\r\n                puma(this.element()).height(value);\r\n            }\r\n        }\r\n        return puma(this.element()).height();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Enable/Disable\r\n    enabled(state?: boolean)\r\n    {\r\n        if (state != null)\r\n        {\r\n            if (state) this.enable();\r\n            else this.disable();\r\n        }\r\n\r\n        let disabledAttribute = this.element().getAttribute(\"disabled\");\r\n        return disabledAttribute == null || disabledAttribute == \"\";\r\n    }\r\n\r\n    enable()\r\n    {\r\n        this.element().removeAttribute(\"disabled\");\r\n    }\r\n\r\n    disable()\r\n    {\r\n        this.element().setAttribute(\"disabled\", \"disabled\");\r\n    }\r\n    //#endregion\r\n\r\n    //#region Visible\r\n    visible(state?: boolean): boolean\r\n    {\r\n        if (state != null)\r\n        {\r\n            if (state) this.show();\r\n            else this.hide();\r\n        }\r\n        return puma(this.container()).is(\":visible\");\r\n    }\r\n\r\n    show()\r\n    {\r\n        puma(this.container()).show();\r\n        if (puma(this.element()).is(\"button\"))\r\n            puma(this.element()).css({ \"max-width\": \"100%\" });\r\n    }\r\n\r\n    hide()\r\n    {\r\n        puma(this.container()).hide();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Focus\r\n    focus()\r\n    {\r\n        puma(this.element()).focus();\r\n    }\r\n\r\n    blur()\r\n    {\r\n        puma(this.element()).blur();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Css\r\n    cssContainer(value: string)\r\n    {\r\n        this.container().style.cssText += value;\r\n    }\r\n\r\n    css(value: string)\r\n    {\r\n        this.element().style.cssText += value;\r\n    }\r\n\r\n    class(className?: string): string[]\r\n    {\r\n        if (className != null)\r\n            puma(this.element()).addClass(className);\r\n\r\n        return this.element().className.split(/\\s+/);\r\n    }\r\n\r\n    classContainer(className?: string): string[]\r\n    {\r\n        if (className != null)\r\n            puma(this.container()).addClass(className);\r\n\r\n        return this.container().className.split(/\\s+/);\r\n    }\r\n\r\n    removeClass(className: string)\r\n    {\r\n        puma(this.element()).removeClass(className);\r\n    }\r\n    //#endregion\r\n}\r\n\r\nexport class VrControlOptions\r\n{\r\n    width?: string | number;\r\n    height?: string | number;\r\n\r\n    id?: string;\r\n    css?: string;\r\n    cssContainer?: string;\r\n    class?: string;\r\n    classContainer?: string;\r\n\r\n    margin?: number | VrMarginSettings;\r\n\r\n    enable?: boolean;\r\n    visible?: boolean;\r\n\r\n    label?: string;\r\n    labelSettings?: LabelControlsSettings;\r\n\r\n    tag?: any;\r\n    uniqueName?: string;\r\n    attributes?: AttributeSettings[];\r\n    tabIndex?: number;\r\n    shadowRoot?: boolean;\r\n    addToControlList?: boolean;\r\n}\r\n\r\nexport class LabelControlsSettings\r\n{\r\n    id?: string;\r\n    mode?: LabelModeEnum;\r\n    width?: number;\r\n    class?: string;\r\n    position?: PositionEnum;\r\n    fontSize?: number | string;\r\n    textAlign?: TextAlignEnum;\r\n    tooltip?: boolean | string;\r\n    bold?: boolean;\r\n    css?: string;\r\n    cssContainer?: string;\r\n    colorSettings?: ColorSettings;\r\n    underlineMode?: LabelUnderlineMode | undefined;\r\n\r\n    onClick?: (e: LabelClickEvent) => void;\r\n}\r\n\r\nexport class AttributeSettings\r\n{\r\n    name: string;\r\n    value: any;\r\n    container?: boolean;\r\n}\r\n\r\nexport class VrControlsEvent\r\n{\r\n    private _defaultPrevented: boolean = false;\r\n\r\n    preventDefault()\r\n    {\r\n        this._defaultPrevented = true;\r\n    }\r\n\r\n    isDefaultPrevented()\r\n    {\r\n        return this._defaultPrevented;\r\n    }\r\n}","import { IconClassicLight, jqueryVariable, puma, WebApiModeEnum, span, notifyError, IconClass } from \"../ui/vr\";\r\n\r\nexport class UtilityManager\r\n{\r\n    static createGuid()\r\n    {\r\n        const hex = [...Array(256).keys()].map(index => (index).toString(16).padStart(2, '0'));\r\n        const r = crypto.getRandomValues(new Uint8Array(16));\r\n        r[6] = (r[6] & 0x0f) | 0x40;\r\n        r[8] = (r[8] & 0x3f) | 0x80;\r\n\r\n        return [...r.entries()]\r\n            .map(([index, int]) => [4, 6, 8, 10].includes(index) ? `-${hex[int]}` : hex[int])\r\n            .join('');\r\n    }\r\n\r\n    static interval(callback: Function, each: number, timeout?: number, timeoutCallback?: Function)\r\n    {\r\n        let interval = window.setInterval(() => callback(), each);\r\n        if (timeout != null)\r\n            window.setTimeout(() => \r\n            {\r\n                window.clearInterval(interval);\r\n                if (timeoutCallback != null)\r\n                    timeoutCallback();\r\n            }, timeout);\r\n    }\r\n\r\n    static createIcon(icon: IconClass): HTMLElement\r\n    {\r\n        return puma(\"<i class='\" + icon + \" vrIcon' aria-hidden='true'></i>\")[0];\r\n    }\r\n\r\n    static duplicate(element: any): any\r\n    {\r\n        if (element != null)\r\n        {\r\n            if (Array.isArray(element))\r\n                return element.map(k => k);\r\n            else\r\n                return JSON.parse(JSON.stringify(element));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static equals(item1: any, item2: any) // Only primitive types\r\n    {\r\n        if (item1 == null && item2 == null)\r\n            return true;\r\n        else if (item1 == null || item2 == null)\r\n            return false;\r\n\r\n        if ((Object.prototype.toString.call(item1) === '[object Date]') && (Object.prototype.toString.call(item2) === '[object Date]'))\r\n            return Date.vrEquals(item1, item2);\r\n        else if (typeof (item1) == \"number\" && typeof (item2) == \"number\")\r\n            return Number(item1) == Number(item2);\r\n        else if ((typeof (item1) == \"string\" && typeof (item2) == \"string\") || (typeof (item1) == \"boolean\" && typeof (item2) == \"boolean\"))\r\n            return item1 == item2;\r\n        else\r\n            return item1 == item2;\r\n    }\r\n\r\n    static getMonthNumberByName(monthName: string)\r\n    {\r\n        switch (monthName.toLowerCase())\r\n        {\r\n            case \"gennaio\": return MonthEnum.January;\r\n            case \"febbraio\": return MonthEnum.February;\r\n            case \"marzo\": return MonthEnum.March;\r\n            case \"aprile\": return MonthEnum.April;\r\n            case \"maggio\": return MonthEnum.May;\r\n            case \"giugno\": return MonthEnum.June;\r\n            case \"luglio\": return MonthEnum.July;\r\n            case \"agosto\": return MonthEnum.August;\r\n            case \"settembre\": return MonthEnum.September;\r\n            case \"ottobre\": return MonthEnum.October;\r\n            case \"novembre\": return MonthEnum.November;\r\n            case \"dicembre\": return MonthEnum.December;\r\n            default:\r\n                return -1;\r\n        }\r\n    }\r\n\r\n    static doAjaxCall<T>(settings: AjaxCallSettings, callBack?: (response: T) => void, errorCallback?: () => void)\r\n    {\r\n        let data = undefined;\r\n        if (settings.request != null)\r\n        {\r\n            settings.request[\"authKey\"] = settings.authKey;\r\n            data = JSON.stringify(settings.request);\r\n        }\r\n\r\n        //#region Multipart\r\n        let formDataMultipart = null;\r\n        if (settings.file != null)\r\n        {\r\n            formDataMultipart = new FormData();\r\n            formDataMultipart.append(\"file\", settings.file);\r\n        }\r\n        //#endregion\r\n\r\n        let result: T | null = null;\r\n        jqueryVariable().ajax({\r\n            async: (settings.mode == WebApiModeEnum.Async) ? true : false,\r\n            beforeSend: (xhr: any) =>\r\n            {\r\n                //#region Header parameters\r\n                xhr.setRequestHeader(\"Accept-Language\", \"it\");\r\n                xhr.setRequestHeader(\"AuthKey\", settings.authKey);\r\n                if (settings!.headerParameters != null)\r\n                {\r\n                    let headerParameters = Object.getOwnPropertyNames(settings!.headerParameters);\r\n                    for (let param of headerParameters)\r\n                        xhr.setRequestHeader(param, settings!.headerParameters[param]);\r\n                }\r\n                //#endregion\r\n            },\r\n            contentType: (settings.file != null) ? false : \"application/json\",\r\n            data: (settings.file != null) ? formDataMultipart : data,\r\n            method: \"POST\",\r\n            processData: false,\r\n            url: settings.method,\r\n            success: (response: any) =>\r\n            {\r\n                if (settings!.mode == WebApiModeEnum.Sync)\r\n                    result = response as T;\r\n\r\n                if (callBack != null)\r\n                {\r\n                    response.guid = (settings.request != null) ? settings.request.guid : null;\r\n                    callBack(response);\r\n                }\r\n            },\r\n            error: (response: JQueryXHR) => \r\n            {\r\n                notifyError(\"Errore nella chiamata alla webApi\")\r\n\r\n                if (errorCallback != null)\r\n                    errorCallback();\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n\r\n    static htmlDecode(text: string)\r\n    {\r\n        let doc = new DOMParser().parseFromString(text, \"text/html\");\r\n        return doc.documentElement.textContent;\r\n    }\r\n\r\n    static textWidth(object: HTMLElement | string): number\r\n    {\r\n        let width = 0;\r\n        if (typeof (object) == \"string\")\r\n        {\r\n            let spanTemp = span(document.body);\r\n            spanTemp.id = \"utility_tempSpanTextWidth\";\r\n\r\n            spanTemp.innerHTML = object.replace(/\\s/g, \"&nbsp;\");\r\n            width = spanTemp.offsetWidth;\r\n\r\n            puma(\"#utility_tempSpanTextWidth\").remove();\r\n        }\r\n        else\r\n        {\r\n            // Wrap text into span\r\n            let originalHtmlText = (typeof (object) == \"string\") ? object : puma(object).html();\r\n            let htmlCalculated = \"<span style='display: inline-block; overflow-y: scroll; white-space: nowrap;'>\" + originalHtmlText + \"</span>\";\r\n            puma(object).html(htmlCalculated);\r\n\r\n            // Calculate width\r\n            width = puma(object).find(\"span:first\").width();\r\n\r\n            // Restore original\r\n            puma(object).html(originalHtmlText);\r\n        }\r\n        return width;\r\n    }\r\n\r\n    static downloadPdfBytes(base64Bytes: string, name = \"download.pdf\")\r\n    {\r\n        if (!name.endsWith(\".pdf\"))\r\n            name += \".pdf\";\r\n\r\n        let arraybuffer = this.base64ToArrayBuffer(base64Bytes);\r\n        let blob = new Blob([arraybuffer], { type: \"application/pdf\" });\r\n        let url = URL.createObjectURL(blob);\r\n\r\n        let a = document.createElement(\"a\");\r\n        a.href = url;\r\n        a.download = name;\r\n        a.click();\r\n\r\n        // let url = \"data:application/pdf;base64,\" + base64Bytes;\r\n        // this.openUrl(url, name);\r\n    }\r\n\r\n    private static base64ToArrayBuffer(base64: string): ArrayBuffer\r\n    {\r\n        var binary_string = window.atob(base64.replace(/\\s/g, ''));\r\n        var len = binary_string.length;\r\n        var bytes = new Uint8Array(len);\r\n        for (var i = 0; i < len; i++)\r\n            bytes[i] = binary_string.charCodeAt(i);\r\n\r\n        return bytes.buffer;\r\n    }\r\n\r\n    static openUrl(url: string, name = \"download\", newTab = false)\r\n    {\r\n        let aTag = document.createElement(\"a\");\r\n        aTag.id = \"utility_tempOpeningUrl\";\r\n        aTag.href = url;\r\n        aTag.download = name;\r\n\r\n        if (newTab)\r\n            aTag.target = \"_blank\";\r\n\r\n        aTag.click();\r\n        puma(\"#utility_tempOpeningUrl\").remove();\r\n    }\r\n\r\n    static isValidEmail(email: string)\r\n    {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n    }\r\n\r\n    //#region Files/Css/Js\r\n    static addCssStyle(cssRules: string, id?: string)\r\n    {\r\n        if (cssRules != null && cssRules != \"\")\r\n        {\r\n            let idAttribute = (id == null) ? \"\" : \" id='\" + id + \"'\";\r\n            puma(\"<style\" + idAttribute + \">\" + cssRules + \"</style>\").vrAppendToPuma(\"head\");\r\n        }\r\n    }\r\n\r\n    static addCssFiles(...pathList: string[])\r\n    {\r\n        let promise = new Promise((callback: Function) =>\r\n        {\r\n            if (pathList != null && pathList.length > 0)\r\n            {\r\n                let head = document.getElementsByTagName(\"head\")[0];\r\n                for (let path of pathList)\r\n                {\r\n                    let existing = $(\"link[rel='stylesheet']\").filter((k, e) => (e as HTMLLinkElement).href.toLowerCase().startsWith(path.toLowerCase() + \"?\"));\r\n                    if (existing.length == 0)\r\n                    {\r\n                        let css = document.createElement(\"link\");\r\n                        css.href = path;\r\n                        css.type = \"text/css\";\r\n                        css.rel = \"stylesheet\";\r\n                        head.appendChild(css);\r\n                    }\r\n                }\r\n                callback();\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    static addJsScript(jsRules: string, id?: string)\r\n    {\r\n        if (jsRules != null && jsRules != \"\")\r\n        {\r\n            let idAttribute = (id == null) ? \"\" : \" id='\" + id + \"'\";\r\n            puma(\"<script\" + idAttribute + \">\" + jsRules + \"</script>\").vrAppendToPuma(\"head\");\r\n        }\r\n    }\r\n\r\n    static addJsFiles(...pathList: string[])\r\n    {\r\n        let promise = new Promise((callback: Function) =>\r\n        {\r\n            if (pathList != null && pathList.length > 0)\r\n            {\r\n                $.when(...pathList.map(k => $.getScript(k).promise())).done(() =>\r\n                {\r\n                    callback();\r\n                })\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n    //#endregion\r\n\r\n    static bytesToBase64(bytes: Uint8Array)\r\n    {\r\n        const base64abc = [\r\n            \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\",\r\n            \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\r\n            \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\",\r\n            \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\r\n            \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"+\", \"/\"\r\n        ];\r\n\r\n        let result = '', i, l = bytes.length;\r\n        for (i = 2; i < l; i += 3)\r\n        {\r\n            result += base64abc[bytes[i - 2] >> 2];\r\n            result += base64abc[((bytes[i - 2] & 0x03) << 4) | (bytes[i - 1] >> 4)];\r\n            result += base64abc[((bytes[i - 1] & 0x0F) << 2) | (bytes[i] >> 6)];\r\n            result += base64abc[bytes[i] & 0x3F];\r\n        }\r\n        if (i === l + 1)\r\n        { // 1 octet yet to write\r\n            result += base64abc[bytes[i - 2] >> 2];\r\n            result += base64abc[(bytes[i - 2] & 0x03) << 4];\r\n            result += \"==\";\r\n        }\r\n        if (i === l)\r\n        { // 2 octets yet to write\r\n            result += base64abc[bytes[i - 2] >> 2];\r\n            result += base64abc[((bytes[i - 2] & 0x03) << 4) | (bytes[i - 1] >> 4)];\r\n            result += base64abc[(bytes[i - 1] & 0x0F) << 2];\r\n            result += \"=\";\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static base64ToBytes(base64: any)\r\n    {\r\n        if (base64.length % 4 !== 0)\r\n        {\r\n            throw new Error(\"Unable to parse base64 string.\");\r\n        }\r\n        const index = base64.indexOf(\"=\");\r\n        if (index !== -1 && index < base64.length - 2)\r\n        {\r\n            throw new Error(\"Unable to parse base64 string.\");\r\n        }\r\n        let missingOctets = base64.endsWith(\"==\") ? 2 : base64.endsWith(\"=\") ? 1 : 0,\r\n            n = base64.length,\r\n            result = new Uint8Array(3 * (n / 4)),\r\n            buffer;\r\n        for (let i = 0, j = 0; i < n; i += 4, j += 3)\r\n        {\r\n            buffer =\r\n                this.getBase64Code(base64.charCodeAt(i)) << 18 |\r\n                this.getBase64Code(base64.charCodeAt(i + 1)) << 12 |\r\n                this.getBase64Code(base64.charCodeAt(i + 2)) << 6 |\r\n                this.getBase64Code(base64.charCodeAt(i + 3));\r\n            result[j] = buffer >> 16;\r\n            result[j + 1] = (buffer >> 8) & 0xFF;\r\n            result[j + 2] = buffer & 0xFF;\r\n        }\r\n        return result.subarray(0, result.length - missingOctets);\r\n    }\r\n\r\n    private static getBase64Code(charCode: any)\r\n    {\r\n        const base64codes = [\r\n            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,\r\n            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,\r\n            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 62, 255, 255, 255, 63,\r\n            52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 255, 255, 255, 0, 255, 255,\r\n            255, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,\r\n            15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 255, 255, 255, 255, 255,\r\n            255, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\r\n            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\r\n        ];\r\n\r\n        if (charCode >= base64codes.length)\r\n        {\r\n            throw new Error(\"Unable to parse base64 string.\");\r\n        }\r\n        const code = base64codes[charCode];\r\n        if (code === 255)\r\n        {\r\n            throw new Error(\"Unable to parse base64 string.\");\r\n        }\r\n        return code;\r\n    }\r\n\r\n    static base64ToFile(base64: string, fileName: string, options?: FilePropertyBag)\r\n    {\r\n        return (fetch(base64)\r\n            .then(function (res) { return res.arrayBuffer(); })\r\n            .then(function (buf) { return new File([buf], fileName, options); })\r\n        );\r\n    }\r\n\r\n    static base64ToBlob(base64: string, contentType = '', sliceSize = 512)\r\n    {\r\n        const byteCharacters = atob(base64);\r\n        const byteArrays = [];\r\n\r\n        for (let offset = 0; offset < byteCharacters.length; offset += sliceSize)\r\n        {\r\n            const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n            const byteNumbers = new Array(slice.length);\r\n            for (let i = 0; i < slice.length; i++)\r\n                byteNumbers[i] = slice.charCodeAt(i);\r\n\r\n            const byteArray = new Uint8Array(byteNumbers);\r\n            byteArrays.push(byteArray);\r\n        }\r\n\r\n        const blob = new Blob(byteArrays, { type: contentType });\r\n        return blob;\r\n    }\r\n\r\n    static enterFullScreen(target: HTMLElement, errorCallback?: Function)\r\n    {\r\n        try\r\n        {\r\n            let element = target as any;\r\n            let doc = window.document as any;\r\n            if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement)\r\n            {\r\n                //#region RequestFullScreen\r\n                if (element.requestFullscreen)\r\n                    element.requestFullscreen();\r\n                else if (element.mozRequestFullScreen) // Firefox\r\n                    element.mozRequestFullScreen();\r\n                else if (element.webkitRequestFullscreen) // Chrome, Safari, Opera\r\n                    element.webkitRequestFullscreen();\r\n                else if (element.msRequestFullscreen) // Edge\r\n                    element.msRequestFullscreen();\r\n                else\r\n                {\r\n                    if (errorCallback != null)\r\n                        errorCallback();\r\n                }\r\n                //#endregion\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n            if (errorCallback != null)\r\n                errorCallback();\r\n        }\r\n    }\r\n\r\n    static exitFullScreen()\r\n    {\r\n        try\r\n        {\r\n            let doc = window.document as any;\r\n            if (!(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement))\r\n            {\r\n                //#region ExitFullScreen\r\n                if (doc.exitFullscreen)\r\n                    doc.exitFullscreen();\r\n                else if (doc.mozCancelFullScreen) // Firefox\r\n                    doc.mozCancelFullScreen();\r\n                else if (doc.webkitExitFullscreen) // Chrome, Safari, Opera\r\n                    doc.webkitExitFullscreen();\r\n                else if (doc.msExitFullscreen) // Edge\r\n                    doc.msExitFullscreen();\r\n                //#endregion\r\n            }\r\n        }\r\n        catch (e) { }\r\n    }\r\n\r\n    //#region Drag\r\n    static drag(element: HTMLElement | JQuery | string, dragEvent?: VrDragSupportEvent)\r\n    {\r\n        if (dragEvent == null) dragEvent = new VrDragSupportEvent();\r\n        if (dragEvent.sensibility == null) dragEvent.sensibility = 50;\r\n        if (dragEvent.typeEnum == null) dragEvent.typeEnum = VrDragSupportTypeEnum.Both;\r\n\r\n        puma(element).on(\"mousedown\", (emd: JQuery.MouseDownEvent) =>\r\n        {\r\n            let startingXPosition = emd.clientX;\r\n            let startingYPosition = emd.clientY;\r\n\r\n            let target = puma(emd.currentTarget);\r\n            let targetStartingXPosition = target.offset().left;\r\n            let targetStartingYPosition = target.offset().top;\r\n\r\n            //#region Moved variables\r\n            let leftMoved = false;\r\n            let rightMoved = false;\r\n            let upMoved = false;\r\n            let downMoved = false;\r\n            let moved = false;\r\n            //#endregion\r\n\r\n            //#region Moving\r\n            puma(document).on(\"mousemove\", (emm: JQuery.MouseMoveEvent) => \r\n            {\r\n                let actualXPosition = emm.clientX;\r\n                let actualYPosition = emm.clientY;\r\n                let xDiff = startingXPosition - actualXPosition;\r\n                let yDiff = startingYPosition - actualYPosition;\r\n\r\n                if (!(emm.clientX == startingXPosition && emm.clientY == startingYPosition))\r\n                {\r\n                    //#region Change position\r\n                    let leftPosition = 0;\r\n                    let topPosition = 0;\r\n                    switch (dragEvent!.typeEnum)\r\n                    {\r\n                        case VrDragSupportTypeEnum.Both:\r\n                            {\r\n                                leftPosition = (emm.clientX - ($(target[0]).width()! / 2));\r\n                                topPosition = emm.clientY;\r\n                            }\r\n                            break;\r\n                        case VrDragSupportTypeEnum.Horizontal:\r\n                            {\r\n                                leftPosition = (emm.clientX - ($(target[0]).width()! / 2));\r\n                                topPosition = targetStartingYPosition;\r\n                            }\r\n                            break;\r\n                        case VrDragSupportTypeEnum.Vertical:\r\n                            {\r\n                                leftPosition = targetStartingXPosition;\r\n                                topPosition = emm.clientY;\r\n                            }\r\n                            break;\r\n                    }\r\n                    target.offset({ top: topPosition, left: leftPosition });\r\n                    //#endregion\r\n\r\n                    //#region Dragging event\r\n                    if (dragEvent!.dragging != null)\r\n                    {\r\n                        let dragEveryEvent = new VrDragEveryEvent();\r\n                        dragEveryEvent.left = target.position().left;\r\n                        dragEveryEvent.top = target.position().top;\r\n                        dragEveryEvent.element = $(element as any)[0];\r\n                        dragEvent!.dragging(dragEveryEvent);\r\n                    }\r\n                    //#endregion\r\n                }\r\n\r\n                //#region Drag direction\r\n                if (Math.abs(xDiff) > Math.abs(yDiff))\r\n                {\r\n                    if (dragEvent == null && xDiff != 0)\r\n                        return;\r\n\r\n                    moved = true;\r\n                    if (xDiff > dragEvent!.sensibility!)\r\n                        leftMoved = true;\r\n                    else if (xDiff < -dragEvent!.sensibility!)\r\n                        rightMoved = true;\r\n                }\r\n                else if (Math.abs(xDiff) < Math.abs(yDiff))\r\n                {\r\n                    if (dragEvent == null && xDiff != 0)\r\n                        return;\r\n\r\n                    moved = true;\r\n                    if (yDiff > dragEvent!.sensibility!)\r\n                        upMoved = true;\r\n                    else if (yDiff < -dragEvent!.sensibility!)\r\n                        downMoved = true;\r\n                }\r\n                //#endregion\r\n            });\r\n            //#endregion\r\n\r\n            //#region Stop moving\r\n            puma(document).mouseup((e: JQuery.MouseUpEvent) =>\r\n            {\r\n                puma(document).unbind(\"mouseup\");\r\n                puma(document).unbind(\"mousemove\");\r\n\r\n                //#region Events\r\n                if (leftMoved && dragEvent!.dragLeft != null)\r\n                    dragEvent!.dragLeft();\r\n\r\n                if (rightMoved && dragEvent!.dragRight != null)\r\n                    dragEvent!.dragRight();\r\n\r\n                if (upMoved && dragEvent!.dragUp != null)\r\n                    dragEvent!.dragUp();\r\n\r\n                if (downMoved && dragEvent!.dragDown != null)\r\n                    dragEvent!.dragDown();\r\n\r\n                if (moved && dragEvent!.dragged != null)\r\n                {\r\n                    let dragEveryEvent = new VrDragEveryEvent();\r\n                    dragEveryEvent.left = target.position().left;\r\n                    dragEveryEvent.top = target.position().top;\r\n                    dragEveryEvent.element = $(element as any)[0];\r\n                    dragEvent!.dragged(dragEveryEvent);\r\n                }\r\n                //#endregion\r\n            });\r\n            //#endregion\r\n        });\r\n    }\r\n    //#endregion\r\n}\r\n\r\nclass AjaxCallSettings\r\n{\r\n    mode: WebApiModeEnum;\r\n    authKey: string;\r\n    method: string;\r\n    request?: any;\r\n    headerParameters?: any;\r\n    file?: string | Blob | File;\r\n}\r\n\r\nenum MonthEnum\r\n{\r\n    January,\r\n    February,\r\n    March,\r\n    April,\r\n    May,\r\n    June,\r\n    July,\r\n    August,\r\n    September,\r\n    October,\r\n    November,\r\n    December\r\n}\r\n\r\nclass VrDragSupportEvent\r\n{\r\n    public sensibility?: number = 50;\r\n    typeEnum?: VrDragSupportTypeEnum;\r\n\r\n    dragLeft?: null | (() => void);\r\n    dragRight?: null | (() => void);\r\n    dragUp?: null | (() => void);\r\n    dragDown?: null | (() => void);\r\n\r\n    dragged?: null | ((e: VrDragEveryEvent) => void);\r\n    dragging?: null | ((e: VrDragEveryEvent) => void);\r\n}\r\n\r\nclass VrDragEveryEvent\r\n{\r\n    left: number;\r\n    top: number;\r\n    element: HTMLElement;\r\n}\r\n\r\nexport enum VrDragSupportTypeEnum\r\n{\r\n    Vertical,\r\n    Horizontal,\r\n    Both\r\n}","import { BrowserTypeEnum } from \"../../src/ui/vr\";\r\n\r\nexport class DeviceManager\r\n{\r\n    //#region Device category\r\n    static getScreenResolution()\r\n    {\r\n        let screenResolution = new ScreenResolution();\r\n        screenResolution.width = window.screen.width * window.devicePixelRatio;\r\n        screenResolution.height = window.screen.height * window.devicePixelRatio;\r\n        return screenResolution;\r\n    }\r\n\r\n    static isSmartphone()\r\n    {\r\n        return (this.getScreenResolution().width < 768);\r\n    }\r\n\r\n    static isTablet()\r\n    {\r\n        let screenResolution = this.getScreenResolution();\r\n        return (screenResolution.width < 1200 && screenResolution.width >= 768);\r\n    }\r\n\r\n    static isDesktop()\r\n    {\r\n        return (this.getScreenResolution().width >= 1200);\r\n    }\r\n\r\n    static isMobile()\r\n    {\r\n        if ((navigator as any).userAgentData != null)\r\n            return (navigator as any).userAgentData.mobile;\r\n\r\n        return this.isSmartphone() || this.isTablet();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Device\r\n    static isIphoneX()\r\n    {\r\n        if (this.isIphone())\r\n        {\r\n            let height = window.screen.height;\r\n            let width = window.screen.width;\r\n            if (height > 800 && width > 370)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static isIphone()\r\n    {\r\n        return navigator.userAgent.match(/iPhone/i);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Browser\r\n    static browser()\r\n    {\r\n        if (this.isFirefox()) return BrowserTypeEnum.Firefox;\r\n        else if (this.isEdge()) return BrowserTypeEnum.Edge;\r\n        else if (this.isInternetExplorer()) return BrowserTypeEnum.InternetExplorer;\r\n        else if (this.isOpera()) return BrowserTypeEnum.Opera;\r\n        else if (this.isVivaldi()) return BrowserTypeEnum.Vivaldi;\r\n        else if (this.isChrome()) return BrowserTypeEnum.Chrome;\r\n        else if (this.isSafari()) return BrowserTypeEnum.Safari;\r\n        else if (this.isSeamonkey()) return BrowserTypeEnum.Seamonkey;\r\n        else\r\n            return \"Unknown\";\r\n    }\r\n\r\n    private static agentHas(keyword: string)\r\n    {\r\n        return navigator.userAgent.toLowerCase().search(keyword.toLowerCase()) > -1;\r\n    }\r\n\r\n    static isInternetExplorer()\r\n    {\r\n        return !!(document as any).documentMode || this.agentHas(\"MSIE\") || this.agentHas(\"Trident\");\r\n    }\r\n\r\n    static isSafari()\r\n    {\r\n        return (!!(window as any).ApplePaySetupFeature || !!(window as any).safari)\r\n            && this.agentHas(\"Safari\") && !this.agentHas(\"Chrome\") && !this.agentHas(\"CriOS\") && !this.agentHas(\"Chromium\");\r\n    }\r\n\r\n    static isChrome()\r\n    {\r\n        return (this.agentHas(\"CriOS\") || this.agentHas(\"Chrome\") || !!(window as any).chrome)\r\n            && !this.agentHas(\"Chromium\") && !this.agentHas(\"Edg\");\r\n    }\r\n\r\n    static isFirefox()\r\n    {\r\n        return (this.agentHas(\"Firefox\") || this.agentHas(\"FxiOS\") || this.agentHas(\"Focus\")) && !this.agentHas(\"Seamonkey\");\r\n    }\r\n\r\n    static isEdge()\r\n    {\r\n        return this.agentHas(\"Edg\");\r\n    }\r\n\r\n    static isOpera()\r\n    {\r\n        return this.agentHas(\"OPR\") || this.agentHas(\"Opera\");\r\n    }\r\n\r\n    static isVivaldi()\r\n    {\r\n        return this.agentHas(\"Vivaldi\");\r\n    }\r\n\r\n    static isSeamonkey()\r\n    {\r\n        return this.agentHas(\"Seamonkey\");\r\n    }\r\n    //#endregion\r\n}\r\n\r\nclass ScreenResolution\r\n{\r\n    width: number;\r\n    height: number;\r\n}","import { Dictionary } from \"./dictionary\";\r\nimport { VrControl } from \"src/ui/common\";\r\n\r\nexport class ControlManager\r\n{\r\n    private static _dictionaryControls: Dictionary<string, VrControl> = new Dictionary();\r\n\r\n    static add(control: VrControl): void\r\n    {\r\n        if (control.options().addToControlList === true && control.id() != null && control.id() != \"\")\r\n            this._dictionaryControls.set(control.id(), control);\r\n    }\r\n\r\n    static get<T extends VrControl>(controlId: string): T\r\n    {\r\n        return this._dictionaryControls.get(controlId) as T;\r\n    }\r\n\r\n    static remove(controlId: string)\r\n    {\r\n        if (controlId != \"\" && controlId != null)\r\n            this._dictionaryControls.delete(controlId);\r\n    }\r\n}","import { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, IconClassicLight, IconClass, createLabel, DefaultDayEnum, DateModeEnum, PositionEnum, puma, shadowRoot, DateFormatEnum, KeyEnum, createCalendar, DateDepthEnum, notify, PopupSettings } from \"../vr\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\n\r\n//#region Options\r\nexport class DatePickerOptions extends VrControlOptions\r\n{\r\n    defaultDay?: DefaultDayEnum;\r\n    mode?: DateModeEnum;\r\n    value?: Date;\r\n    min?: Date;\r\n    max?: Date;\r\n    timeInterval?: number;\r\n    format?: DateFormatEnum | Intl.DateTimeFormatOptions;\r\n    todayLabel?: boolean;\r\n    otherMonthDays?: boolean;\r\n    tooltip?: string;\r\n    depth?: DateDepthEnum;\r\n    nullable?: boolean;\r\n    popupSettings?: PopupSettings;\r\n\r\n    onBeforeChange?(e: DatePickerChangingEvent): void;\r\n    onAfterChange?(e: DatePickerChangeEvent): void;\r\n    onKeyUp?(e: DatePickerKeyUpEvent): void;\r\n    onKeyDown?(e: DatePickerKeyDownEvent): void;\r\n    onEnterKey?(): void;\r\n    onFocus?(e: DatePickerFocusEvent): void;\r\n    onBlur?(e: DatePickerBlurEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class DatePicker extends VrControl\r\n{\r\n    private _value: Date | null;\r\n    private _currentCursorPosition: number;\r\n    private _popup: HTMLElement;\r\n    private _justOpened: boolean;\r\n\r\n    constructor(element: HTMLElement, options?: DatePickerOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new DatePickerOptions();\r\n\r\n        if (options.defaultDay == null) options.defaultDay = DefaultDayEnum.First;\r\n        if (options.mode == null) options.mode = DateModeEnum.Date;\r\n        if (options.todayLabel == null) options.todayLabel = true;\r\n        if (options.otherMonthDays == null) options.otherMonthDays = true;\r\n        if (options.depth == null) options.depth = DateDepthEnum.Day;\r\n        if (options.nullable == null) options.nullable = true;\r\n\r\n        if (options.format == null)\r\n        {\r\n            switch (options.depth)\r\n            {\r\n                case DateDepthEnum.Day: options.format = DateFormatEnum.ShortDate; break;\r\n                case DateDepthEnum.Month: options.format = DateFormatEnum.Month; break;\r\n                case DateDepthEnum.Year: options.format = DateFormatEnum.Year; break;\r\n                default:\r\n                    options.format = DateFormatEnum.ShortDate; break;\r\n            }\r\n        }\r\n\r\n        if (options.timeInterval == null)\r\n            options.timeInterval = 15;\r\n\r\n        if (options.mode == DateModeEnum.Time)\r\n        {\r\n            if (options.width == null)\r\n                options.width = 92;\r\n\r\n            if (options.min == null)\r\n            {\r\n                let defaultDateMin = new Date();\r\n                defaultDateMin.setHours(6, 0);\r\n                options.min = defaultDateMin;\r\n            }\r\n\r\n            if (options.max == null)\r\n            {\r\n                let defaultDateMax = new Date();\r\n                defaultDateMax.setHours(23, 15);\r\n                options.max = defaultDateMax;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (options.min == null)\r\n            {\r\n                let defaultDateMin = Date.MIN_VALUE;\r\n                defaultDateMin.setHours(6, 0);\r\n                options.min = defaultDateMin;\r\n            }\r\n\r\n            if (options.max == null)\r\n            {\r\n                let defaultDateMax = Date.MAX_VALUE;\r\n                defaultDateMax = defaultDateMax.vrAddDays(-1);\r\n                defaultDateMax.setHours(23, 15);\r\n                options.max = defaultDateMax;\r\n            }\r\n\r\n            if (options.mode == DateModeEnum.DateTime && options.width == null)\r\n                options.width = 180;\r\n        }\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.DatePicker);\r\n        this._currentCursorPosition = 0;\r\n\r\n        puma(element).attr(\"type\", \"text\");\r\n\r\n        if (options.label != null && options.labelSettings!.position == PositionEnum.Top)\r\n            this.element().style.cssText += \"padding-left: 0px !important; width: calc(100% - 12px) !important;\";\r\n\r\n        //#region Picker icon\r\n        let pickerIcon = null;\r\n        switch (options.mode)\r\n        {\r\n            case DateModeEnum.Date: pickerIcon = UtilityManager.createIcon(IconClassicLight.Calendar); break;\r\n            case DateModeEnum.Time: pickerIcon = UtilityManager.createIcon(IconClassicLight.Clock); break;\r\n            case DateModeEnum.DateTime:\r\n                {\r\n                    let divPickerIcon = puma(\"<div class='vrDivPickerDateTimeIcon'></div>\").vrAppendToPuma(this.container())[0];\r\n                    let pickerIcon = UtilityManager.createIcon(IconClassicLight.Calendar);\r\n                    puma(divPickerIcon).vrAppendPuma(pickerIcon);\r\n                    puma(divPickerIcon).click(() => \r\n                    {\r\n                        if (!this.enabled())\r\n                            return;\r\n\r\n                        this.close();\r\n                        this.openPopupDatePicker();\r\n                    });\r\n\r\n                    if (options.label != null && options.labelSettings!.position == PositionEnum.Top)\r\n                        divPickerIcon.style.cssText += \"bottom: 1px; top: inherit;\";\r\n\r\n                    let divPickerTimeIcon = puma(\"<div class='vrDivPickerIcon'></div>\").vrAppendToPuma(this.container())[0];\r\n                    let pickerTimeIcon = UtilityManager.createIcon(IconClassicLight.Clock);\r\n                    puma(divPickerTimeIcon).vrAppendPuma(pickerTimeIcon);\r\n                    puma(divPickerTimeIcon).click((e: any) => \r\n                    {\r\n                        if (!this.enabled())\r\n                            return;\r\n\r\n                        this.close();\r\n                        this.openPopupTimePicker();\r\n                    });\r\n\r\n                    if (options.label != null && options.labelSettings!.position == PositionEnum.Top)\r\n                        divPickerTimeIcon.style.cssText += \"bottom: 1px; top: inherit;\";\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (pickerIcon != null)\r\n        {\r\n            let divPickerIcon = puma(\"<div class='vrDivPickerIcon'></div>\").vrAppendToPuma(this.container())[0];\r\n            if (options.label != null && options.labelSettings!.position == PositionEnum.Top)\r\n                divPickerIcon.style.cssText += \"bottom: 1px; top: inherit;\";\r\n\r\n            puma(divPickerIcon).vrAppendPuma(pickerIcon);\r\n            puma(divPickerIcon).click(() => \r\n            {\r\n                if (!this.enabled())\r\n                    return;\r\n\r\n                if (puma(this._popup).is(\":visible\"))\r\n                    this.close();\r\n                else\r\n                    this.open();\r\n            });\r\n        }\r\n        //#endregion\r\n\r\n        //#region Tooltip\r\n        if (options.tooltip != null)\r\n            puma(this.element()).attr(\"title\", options.tooltip);\r\n        //#endregion\r\n\r\n        //#region Input events\r\n        puma(this.element()).keyup((e: JQuery.KeyUpEvent) =>\r\n        {\r\n            let value = (e.target as HTMLInputElement).value;\r\n            if (value == \"\")\r\n            {\r\n                this.formatDateInput(value);\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if (e.key == KeyEnum.Enter)\r\n            {\r\n                this.formatDateInput((e.target as HTMLInputElement).value);\r\n\r\n                if (options!.onEnterKey != null)\r\n                    options!.onEnterKey();\r\n            }\r\n            else\r\n            {\r\n                if (options!.onKeyUp != null)\r\n                {\r\n                    let event = new DatePickerKeyUpEvent();\r\n                    event.sender = this;\r\n                    event.text = (e.target as HTMLInputElement).value;\r\n                    event.key = e.key;\r\n                    event.shiftKey = e.shiftKey;\r\n                    event.altKey = e.altKey;\r\n                    event.ctrlKey = e.ctrlKey;\r\n                    event.enterKey = e.key == KeyEnum.Enter;\r\n                    event.backSpaceKey = e.key == KeyEnum.Backspace;\r\n                    event.tabKey = e.key == KeyEnum.Tab;\r\n                    options!.onKeyUp(event);\r\n                }\r\n            }\r\n        });\r\n        puma(this.element()).blur((e: JQuery.BlurEvent) => \r\n        {\r\n            let value = (this._value != null) ? new Date(this._value) : null;\r\n            this._value = this.formatDateInput((e.target as HTMLInputElement).value, true) as any;\r\n            if (this._value != null)\r\n                this.formatValue();\r\n\r\n            if (!UtilityManager.equals(value, this._value))\r\n            {\r\n                let changingEvent = new DatePickerChangingEvent();\r\n                if (options!.onBeforeChange != null)\r\n                {\r\n                    changingEvent.sender = this;\r\n                    changingEvent.value = (this._value != null) ? new Date(this._value!) : null;\r\n                    changingEvent.previousValue = value;\r\n                    options!.onBeforeChange(changingEvent);\r\n\r\n                    if (changingEvent.isDefaultPrevented())\r\n                        return;\r\n                }\r\n\r\n                this.change();\r\n            }\r\n\r\n            if (options!.onBlur != null)\r\n            {\r\n                let event = new DatePickerBlurEvent();\r\n                event.sender = this;\r\n                options!.onBlur(event);\r\n            }\r\n        });\r\n        puma(this.element()).click((e: JQuery.ClickEvent) => this._currentCursorPosition = (e.target as HTMLInputElement).selectionStart!);\r\n        puma(this.element()).focus((e: JQuery.FocusEvent) => \r\n        {\r\n            (this.element() as HTMLInputElement).select();\r\n\r\n            if (options!.onFocus != null)\r\n            {\r\n                let event = new DatePickerFocusEvent();\r\n                event.sender = this;\r\n                options!.onFocus(event);\r\n            }\r\n        });\r\n        //#endregion\r\n\r\n        //#region Cursor management\r\n        puma(element).keydown((e: JQuery.KeyDownEvent) =>\r\n        {\r\n            let cursorStartPosition = (e.target as HTMLInputElement).selectionStart!;\r\n            if (cursorStartPosition != this._currentCursorPosition)\r\n                this._currentCursorPosition = cursorStartPosition;\r\n\r\n            if (e.key == KeyEnum.ArrowRight)\r\n                this._currentCursorPosition = cursorStartPosition + 1;\r\n            else if (e.key == KeyEnum.ArrowLeft) // Arrow left\r\n                this._currentCursorPosition = cursorStartPosition - 1;\r\n            else if (e.key == KeyEnum.ArrowUp)\r\n            {\r\n                if (this.value() != null)\r\n                {\r\n                    if (this._currentCursorPosition >= 0 && this._currentCursorPosition <= 2)\r\n                        this.value(this.value()!.vrAddDays(1));\r\n                    else if (this._currentCursorPosition >= 3 && this._currentCursorPosition <= 5)\r\n                        this.value(this.value()!.vrAddMonths(1));\r\n                    else if (this._currentCursorPosition >= 6)\r\n                        this.value(this.value()!.vrAddYears(1));\r\n                }\r\n            }\r\n            else if (e.key == KeyEnum.ArrowDown)\r\n            {\r\n                if (this.value() != null)\r\n                {\r\n                    if (this._currentCursorPosition >= 0 && this._currentCursorPosition <= 2)\r\n                        this.value(this.value()!.vrAddDays(-1));\r\n                    else if (this._currentCursorPosition >= 3 && this._currentCursorPosition <= 5)\r\n                        this.value(this.value()!.vrAddMonths(-1));\r\n                    else if (this._currentCursorPosition >= 6)\r\n                        this.value(this.value()!.vrAddYears(-1));\r\n                }\r\n            }\r\n\r\n            if (e.key == KeyEnum.ArrowRight || e.key == KeyEnum.ArrowLeft || e.key == KeyEnum.ArrowUp || e.key == KeyEnum.ArrowDown)\r\n            {\r\n                this.updateCursorPosition();\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (options!.onKeyDown != null)\r\n            {\r\n                let event = new DatePickerKeyDownEvent();\r\n                event.sender = this;\r\n                event.key = e.key;\r\n                event.shiftKey = e.shiftKey;\r\n                event.altKey = e.altKey;\r\n                event.ctrlKey = e.ctrlKey;\r\n                event.enterKey = e.key == KeyEnum.Enter;\r\n                event.backSpaceKey = e.key == KeyEnum.Backspace;\r\n                event.tabKey = e.key == KeyEnum.Tab;\r\n                options!.onKeyDown(event);\r\n            }\r\n        });\r\n        //#endregion\r\n\r\n        //#region Value\r\n        if (options.value != null)\r\n            this.value(options.value, false);\r\n        //#endregion\r\n\r\n        window.addEventListener(\"click\", (e: any) =>\r\n        {\r\n            if (puma(this._popup).is(\":visible\") && !puma(this._popup)[0].contains(e.target) && !puma(this.container())[0].contains(e.target) && !this._justOpened)\r\n                this.close();\r\n        });\r\n\r\n        let baseListener = (shadowRoot() != null) ? shadowRoot() : document;\r\n        baseListener!.addEventListener(\"scroll\", (e) =>\r\n        {\r\n            if (!puma(e.target).hasClass(\"vrDivPickerPopup\") && puma(this._popup).is(\":visible\"))\r\n                this.close();\r\n        }, true);\r\n    }\r\n\r\n    //#region Methods\r\n    close(): void\r\n    {\r\n        puma(this._popup).remove();\r\n        (this._popup as any) = null;\r\n    }\r\n\r\n    open(): void\r\n    {\r\n        if (!this.enabled())\r\n            return;\r\n\r\n        if (this._popup == null)\r\n            this._popup = puma(\"<div class='vrDivPickerPopup vrPopup' id='\" + this.element().id + \"_divPopup'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n\r\n        let options = this.getOptions();\r\n        switch (options.mode)\r\n        {\r\n            case DateModeEnum.Date:\r\n            case DateModeEnum.DateTime:\r\n                this.openPopupDatePicker(); break;\r\n            case DateModeEnum.Time: this.openPopupTimePicker(); break;\r\n        }\r\n\r\n        this._justOpened = true;\r\n        window.setTimeout(() => this._justOpened = false, 500);\r\n    }\r\n\r\n    private formatDateInput(inputText: string, onlyFormat = false)\r\n    {\r\n        let options = this.getOptions();\r\n        switch (options.mode)\r\n        {\r\n            case DateModeEnum.Date: return this.formatInputDatePicker(inputText, onlyFormat); break;\r\n            case DateModeEnum.DateTime: return this.formatInputDateTimePicker(inputText); break;\r\n            case DateModeEnum.Time: return this.formatInputTimePicker(inputText, onlyFormat); break;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    //#region DatePicker\r\n    private openPopupDatePicker(): void\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        if (this._popup == null)\r\n            this._popup = puma(\"<div class='vrDivPickerPopup vrPopup' id='\" + this.element().id + \"_divPopup'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n\r\n        puma(this._popup).removeClass(\"timePickerPopup\");\r\n        puma(this._popup).addClass(\"datePickerPopup\");\r\n\r\n        createCalendar({\r\n            value: (this.value() != null) ? new Date(this.value()!.toString()) : undefined,\r\n            dateSlotWidth: 30,\r\n            depth: options.depth,\r\n            onAfterChange: (e) =>\r\n            {\r\n                this.close();\r\n                if (e.value != null)\r\n                {\r\n                    let actualHours = (this.value() != null) ? this.value()!.getHours() : ((options.mode == DateModeEnum.DateTime) ? new Date().getHours() : 0);\r\n                    let actualMinutes = (this.value() != null) ? this.value()!.getMinutes() : ((options.mode == DateModeEnum.DateTime) ? new Date().getMinutes() : 0);\r\n\r\n                    let dateToSelect = new Date(e.value.getFullYear(), e.value.getMonth(), e.value.getDate(), actualHours, actualMinutes);\r\n                    this.value(dateToSelect);\r\n                }\r\n            }\r\n        }, this._popup);\r\n\r\n        super.settingPopup(this._popup, options.popupSettings);\r\n    }\r\n\r\n    private formatInputDatePicker(inputText: string, onlyFormat = false): void | Date\r\n    {\r\n        let options = this.getOptions();\r\n        if (inputText == null || inputText == \"\")\r\n        {\r\n            if (!options.nullable)\r\n            {\r\n                UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n                this.value(this.value(), false);\r\n                return;\r\n            }\r\n\r\n            this._value = null;\r\n            if (!onlyFormat)\r\n                this.change();\r\n\r\n            return;\r\n        }\r\n\r\n        if (this.format() != DateFormatEnum.ShortDate && this.value() != null)\r\n            inputText = this.value()!.vrToItalyString();\r\n\r\n        //#region Slash or Minus\r\n        if (inputText.includes(\"/\") || inputText.includes(\"-\") || inputText.includes(\",\") || inputText.includes(\".\"))\r\n        {\r\n            let splittedDate: string[] = [];\r\n            if (inputText.includes(\"/\"))\r\n                splittedDate = inputText.split(\"/\");\r\n            else if (inputText.includes(\"-\"))\r\n                splittedDate = inputText.split(\"-\");\r\n            else if (inputText.includes(\",\"))\r\n                splittedDate = inputText.split(\",\");\r\n            else if (inputText.includes(\".\"))\r\n                splittedDate = inputText.split(\".\");\r\n\r\n            let day = splittedDate[0];\r\n            if (day == null)\r\n                day = String(-1);\r\n\r\n            let month = splittedDate[1];\r\n            if (month == null)\r\n                month = String(new Date().getMonth());\r\n\r\n            let year = splittedDate[2];\r\n            if (year == null)\r\n                year = String(new Date().getFullYear());\r\n\r\n            year = String(this.getFinalYear(year));\r\n\r\n            let dateToReturn = new Date(Number(year), Number(month) - 1, Number(day));\r\n            if (dateToReturn != null && Date.vrIsValidDate(dateToReturn) && Number(month) >= 1 && Number(month) <= 12\r\n                && (dateToReturn.getMonth() + 1) == Number(month))\r\n            {\r\n                if (this.value() == null || !Date.vrEquals(this.value()!, dateToReturn))\r\n                    this.value(dateToReturn);\r\n                else\r\n                    this.formatValue();\r\n            }\r\n            else\r\n            {\r\n                UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n                this.clear();\r\n            }\r\n            return dateToReturn;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Month and Year\r\n        let inputTextArray = inputText.toLowerCase().split(\" \");\r\n        if (inputTextArray.length > 1)\r\n        {\r\n            let monthNumber = UtilityManager.getMonthNumberByName(inputTextArray[0]);\r\n            if (monthNumber != -1)\r\n            {\r\n                if (inputTextArray[1].length == 2 || inputTextArray[1].length == 4)\r\n                {\r\n                    let year = parseInt(inputTextArray[1]);\r\n                    if (inputTextArray[1].length == 2)\r\n                        year = this.getFinalYear(inputTextArray[1]);\r\n\r\n                    let day = (this.getOptions().defaultDay == DefaultDayEnum.First) ? 1 : Date.vrGetLastDayOfMonthByDate(new Date(new Date().getFullYear(), monthNumber, 1)).getDate();\r\n                    this.value(new Date(year, monthNumber, day));\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        let originalInput = inputText;\r\n        inputText = inputText.replace(/[^\\w\\s]/gi, '');\r\n        inputText = inputText.replace(/\\s/g, '');\r\n        let inputTextNumeric = Number(inputText);\r\n\r\n        let day: number | null = 0;\r\n        let month: number | null = 0;\r\n        let year: number | null = 0;\r\n        let dateToReturn: Date | null = null;\r\n\r\n        let todayYear = new Date().getFullYear();\r\n        let todayMonth = new Date().getMonth();\r\n\r\n        //#region Special\r\n        let specialDates = [\"oggi\", \"adesso\", \"ieri\", \"domani\", \"dopodomani\", \"natale\", \"vettore\", \"pumo\", \"pumetta\", \"pumettina\",\r\n            \"sanvalentino\", \"fineanno\", \"inizioanno\"];\r\n        if (specialDates.includes(inputText.toLowerCase()))\r\n        {\r\n            switch (inputText.toLowerCase())\r\n            {\r\n                case \"oggi\":\r\n                    {\r\n                        let today = new Date();\r\n                        today.setHours(0, 0);\r\n                        this.value(today);\r\n                    }\r\n                    break;\r\n                case \"adesso\": this.value(new Date()); break;\r\n                case \"ieri\": this.value(new Date().vrAddDays(-1)); break;\r\n                case \"domani\": this.value(new Date().vrAddDays(1)); break;\r\n                case \"dopodomani\": this.value(new Date().vrAddDays(2)); break;\r\n                case \"natale\": this.value(new Date(todayYear, 11, 25)); break;\r\n                case \"vettore\": this.value(new Date(2013, 0, 1)); break;\r\n                case \"doctolib\": this.value(new Date(2022, 9, 1)); break;\r\n                case \"pumo\": { this.value(new Date(1993, 9, 10)); } break;\r\n                case \"pumetta\": { this.value(new Date(1992, 6, 9)); } break;\r\n                case \"pumettina\": { this.value(new Date(2022, 8, 24)); } break;\r\n                case \"sanvalentino\": this.value(new Date(todayYear, 1, 14)); break;\r\n                case \"fineanno\": this.value(new Date(todayYear, 12, 31)); break;\r\n                case \"inizioanno\": this.value(new Date(todayYear, 1, 1)); break;\r\n            }\r\n            return this.value()!;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Months\r\n        let monthNumber = UtilityManager.getMonthNumberByName(inputText.toLowerCase());\r\n        if (monthNumber != -1)\r\n        {\r\n            this.value(new Date(todayYear, monthNumber, ((this.getOptions().defaultDay == DefaultDayEnum.First) ? 1 : Date.vrGetLastDayOfMonthByDate(new Date(todayYear, monthNumber, 1)).getDate())));\r\n            return;\r\n        }\r\n        //#endregion\r\n\r\n        let yearStringToday = new Date().getFullYear().toString();\r\n        let todayYearFull = parseInt(yearStringToday.substr(0, 2) + \"00\");\r\n\r\n        //#region Normal use\r\n        if (inputText.length == 1 || inputText.length == 2)\r\n        {\r\n            if (originalInput.length == 3)\r\n            {\r\n                let regexForSpecialChars = /^[A-Za-z0-9 ]+$/;\r\n                let hasNotSeparator = regexForSpecialChars.test(originalInput);\r\n                if (!hasNotSeparator)\r\n                {\r\n                    day = Number(originalInput[0]);\r\n                    month = Number(originalInput[2]) - 1;\r\n                    year = todayYear;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                day = Number(inputText);\r\n                month = todayMonth;\r\n                year = todayYear;\r\n            }\r\n        }\r\n        else if (inputText.length == 3)\r\n        {\r\n            day = Number(inputText[0]);\r\n            month = Number(inputText[1] + inputText[2]) - 1;\r\n            if (month > 11)\r\n            {\r\n                day = Number(inputText[0] + inputText[1]);\r\n                month = Number(inputText[2]) - 1;\r\n            }\r\n            year = todayYear;\r\n        }\r\n        else if (inputText.length == 4)\r\n        {\r\n            let yearString = inputText[2] + inputText[3];\r\n            let yearNumber = Number(yearString);\r\n            if (yearNumber <= 12 && (Number(inputText[0] + inputText[1]) <= 31))\r\n            {\r\n                day = Number(inputText[0] + inputText[1]);\r\n                month = Number(inputText[2] + inputText[3]) - 1;\r\n                year = todayYear;\r\n            }\r\n            else\r\n            {\r\n                let finalYear = this.getFinalYear(yearString);\r\n                if (inputTextNumeric >= todayYearFull && inputTextNumeric <= new Date().getFullYear())\r\n                {\r\n                    day = 1;\r\n                    month = 0;\r\n                    year = finalYear;\r\n\r\n                    if (this.getOptions().defaultDay == DefaultDayEnum.Last)\r\n                    {\r\n                        day = 31;\r\n                        month = 11;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    day = Number(inputText[0]);\r\n                    month = Number(inputText[1]) - 1;\r\n                    year = finalYear;\r\n                }\r\n            }\r\n        }\r\n        else if (inputText.length == 5)\r\n        {\r\n            let yearString = inputText[3] + inputText[4];\r\n            let finalYear = this.getFinalYear(yearString);\r\n\r\n            day = Number(inputText[0]);\r\n            month = Number(inputText[1] + inputText[2]) - 1;\r\n            if (month > 11)\r\n            {\r\n                day = Number(inputText[0] + inputText[1]);\r\n                month = Number(inputText[2]) - 1;\r\n            }\r\n            year = finalYear;\r\n        }\r\n        else if (inputText.length == 6)\r\n        {\r\n            let yearString = inputText[4] + inputText[5];\r\n            let finalYear = this.getFinalYear(yearString);\r\n\r\n            day = Number(inputText[0] + inputText[1]);\r\n            month = Number(inputText[2] + inputText[3]) - 1;\r\n            if (month > 11)\r\n            {\r\n                day = Number(inputText[0]);\r\n                month = Number(inputText[1]) - 1;\r\n                finalYear = Number(inputText[2] + inputText[3] + inputText[4] + inputText[5]);\r\n            }\r\n\r\n            year = finalYear;\r\n        }\r\n        else if (inputText.length == 7)\r\n        {\r\n            let finalYear = Number(inputText[3] + inputText[4] + inputText[5] + inputText[6]);\r\n\r\n            day = Number(inputText[0]);\r\n            month = Number(inputText[1] + inputText[2]) - 1;\r\n            if (month > 11)\r\n            {\r\n                day = Number(inputText[0] + inputText[1]);\r\n                month = Number(inputText[2]) - 1;\r\n            }\r\n\r\n            year = finalYear;\r\n        }\r\n        else if (inputText.length == 8)\r\n        {\r\n            day = Number(inputText[0] + inputText[1]);\r\n            month = Number(inputText[2] + inputText[3]) - 1;\r\n            year = Number(inputText[4] + inputText[5] + inputText[6] + inputText[7]);\r\n        }\r\n        //#endregion\r\n\r\n        dateToReturn = new Date(year, month, day);\r\n        if (onlyFormat)\r\n            return dateToReturn;\r\n\r\n        if (dateToReturn != null && Date.vrIsValidDate(dateToReturn) && Number(month) >= 0 && Number(month) <= 11\r\n            && (dateToReturn.getMonth()) == Number(month))\r\n        {\r\n            if (this.value() == null || !Date.vrEquals(this.value()!, dateToReturn))\r\n                this.value(dateToReturn);\r\n            else\r\n                this.formatValue();\r\n        }\r\n        else\r\n        {\r\n            UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n            this.clear();\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region TimePicker\r\n    private openPopupTimePicker(): void\r\n    {\r\n        //#region Value\r\n        let value = this.value();\r\n        let hours = (value != null) ? value.getHours() : 0;\r\n        let minutes = (value != null) ? value.getMinutes() : 0;\r\n        //#endregion\r\n\r\n        if (this._popup == null)\r\n            this._popup = puma(\"<div class='vrDivPickerPopup vrPopup' id='\" + this.element().id + \"_divPopup'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n\r\n        puma(this._popup).removeClass(\"datePickerPopup\");\r\n        puma(this._popup).addClass(\"timePickerPopup\");\r\n\r\n        super.settingPopup(this._popup, { right: true });\r\n\r\n        let options = this.getOptions();\r\n\r\n        let tempMin = new Date(options.min!);\r\n        let tempMax = new Date(options.max!);\r\n        tempMin.setFullYear(1900, 1, 1);\r\n        tempMax.setFullYear(1900, 1, 1);\r\n\r\n        let differenceBetweenMinMax = Date.vrDifferenceBetweenDatesInMinutes(tempMin, tempMax);\r\n        let interval = Math.round(differenceBetweenMinMax / options.timeInterval!);\r\n\r\n        let topPosition = 0;\r\n        let time = new Date(options.min!);\r\n        for (let i = 0; i < interval; i++)\r\n        {\r\n            let text = time.toTimeString();\r\n            let textHours = Number(text.split(\":\")[0]);\r\n            let textMinutes = Number(text.split(\":\")[1]);\r\n\r\n            let selected = hours == textHours && minutes == textMinutes;\r\n            let label = this.createTimeLabel(text, selected);\r\n            time.vrAddMinutes(options.timeInterval!);\r\n\r\n            //#region Time not included in interval\r\n            if (hours == textHours)\r\n            {\r\n                if (minutes % options.timeInterval! != 0 && minutes > textMinutes && minutes < (textMinutes + options.timeInterval!))\r\n                {\r\n                    selected = true;\r\n                    text = String(hours).padStart(2, \"0\") + \":\" + String(minutes).padStart(2, \"0\");\r\n                    label = this.createTimeLabel(text, selected);\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            if (selected)\r\n                topPosition = puma(label.element()).offset().top - puma(this._popup).offset().top - (puma(this._popup).height() / 2);\r\n        }\r\n\r\n        if (topPosition < 0) topPosition = 0;\r\n        this._popup.scrollTo(0, topPosition);\r\n    }\r\n\r\n    private createTimeLabel(text: string, selected = false)\r\n    {\r\n        let label = createLabel(\r\n            {\r\n                text: text,\r\n                width: \"Calc(100% - 10px)\",\r\n                onClick: (e) => \r\n                {\r\n                    let value = label.value();\r\n                    let hours = value.split(\":\")[0];\r\n                    let minutes = value.split(\":\")[1];\r\n\r\n                    let actualYear = (this.value() != null) ? this.value()!.getFullYear() : new Date().getFullYear();\r\n                    let actualMonth = (this.value() != null) ? this.value()!.getMonth() : new Date().getMonth();\r\n                    let actualDays = (this.value() != null) ? this.value()!.getDate() : new Date().getDate();\r\n\r\n                    this.close();\r\n                    let dateToSelect = new Date(actualYear, actualMonth, actualDays, Number(hours), Number(minutes));\r\n                    this.value(dateToSelect);\r\n                },\r\n                css: \"cursor: pointer;\",\r\n                cssContainer: \"padding: 5px; padding-top: 2px; cursor: pointer; border-bottom: solid 1px #DCDCDC;\" + ((selected) ? \"background-color: #51B3E1; color: #FFF;\" : \"\")\r\n            }, this._popup);\r\n\r\n        return label;\r\n    }\r\n\r\n    private formatInputTimePicker(inputText: string, onlyFormat = false): void | Date\r\n    {\r\n        let options = this.getOptions();\r\n        if (inputText == null || inputText == \"\")\r\n        {\r\n            if (!options.nullable)\r\n            {\r\n                UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n                this.value(this.value(), false);\r\n                return;\r\n            }\r\n\r\n            this._value = null;\r\n            this.change();\r\n            return;\r\n        }\r\n\r\n        inputText = inputText.replace(/[^\\w\\s]/gi, '');\r\n        inputText = inputText.replace(/\\s/g, '');\r\n        let inputTextNumeric = Number(inputText);\r\n\r\n        let today = new Date();\r\n        today.setHours(0, 0);\r\n\r\n        //#region Special\r\n        switch (inputText.toLowerCase())\r\n        {\r\n            case \"adesso\": this.value(new Date()); return;\r\n            case \"pumo\": { this.value(new Date(1993, 9, 10, 10, 10)); } return;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Normal use\r\n        if (inputText.length == 1 || inputText.length == 3)\r\n            inputText = \"0\" + inputText;\r\n\r\n        if (isNaN(inputTextNumeric))\r\n        {\r\n            UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n            this.clear();\r\n            return;\r\n        }\r\n\r\n        let dateToReturn = today;\r\n        if (inputText.length == 2)\r\n            dateToReturn = dateToReturn.vrAddHours(inputTextNumeric);\r\n        else if (inputText.length == 4)\r\n        {\r\n            let hours = Number(inputText[0] + inputText[1]);\r\n            let minutes = Number(inputText[2] + inputText[3]);\r\n            dateToReturn = dateToReturn.vrAddHours(hours).vrAddMinutes(minutes);\r\n        }\r\n\r\n        if (onlyFormat)\r\n            return dateToReturn;\r\n\r\n        this.value(dateToReturn);\r\n        //#endregion\r\n    }\r\n    //#endregion\r\n\r\n    //#region DateTimePicker\r\n    private formatInputDateTimePicker(inputText: string)\r\n    {\r\n        let timeString = inputText.split(\" \")[1];\r\n        let time = this.formatInputTimePicker(timeString, true) as Date;\r\n\r\n        let dateString = inputText.split(\" \")[0];\r\n        let date = this.formatInputDatePicker(dateString, true) as Date;\r\n\r\n        if (date != null)\r\n        {\r\n            date.setHours(time.getHours(), time.getMinutes());\r\n            this.value(date);\r\n        }\r\n        return date;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Utility\r\n    private getFinalYear(yearString: string): number\r\n    {\r\n        if (yearString.length == 4)\r\n            return Number(yearString);\r\n\r\n        let yearStringToday = new Date().getFullYear().toString();\r\n        let todayYearFull = Number(yearStringToday.substr(0, 2) + \"00\");\r\n        let todayYear2digits = Number(yearStringToday.substr(0, 2));\r\n\r\n        let yearStringFinal = (yearString.length == 1) ? \"0\" + yearString : yearString.substr(0, 2);\r\n\r\n        let inputYear = Number(yearStringFinal);\r\n        let yearFinalString = \"\";\r\n        if (inputYear <= ((new Date().getFullYear() + 10) - todayYearFull))\r\n            yearFinalString = todayYear2digits + yearStringFinal;\r\n        else\r\n            yearFinalString = (todayYear2digits - 1) + yearStringFinal;\r\n\r\n        return Number(yearFinalString);\r\n    }\r\n\r\n    private updateCursorPosition(): void\r\n    {\r\n        if ((this.element() as any).createTextRange)\r\n        {\r\n            var range = (this.element() as any).createTextRange();\r\n            range.move('character', this._currentCursorPosition);\r\n            range.select();\r\n        }\r\n        else\r\n        {\r\n            if ((this.element() as any).selectionStart >= 0)\r\n            {\r\n                (this.element() as any).focus();\r\n                (this.element() as any).setSelectionRange(this._currentCursorPosition, this._currentCursorPosition);\r\n            }\r\n            else\r\n                (this.element() as any).focus();\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    value(date?: Date | null, triggerChange: boolean = true): Date | null\r\n    {\r\n        let options = this.getOptions();\r\n        if (date === null)\r\n        {\r\n            let changingEvent = new DatePickerChangingEvent();\r\n            if (options.onBeforeChange != null)\r\n            {\r\n                changingEvent.sender = this;\r\n                changingEvent.value = new Date(date!);\r\n                changingEvent.previousValue = (this._value != null) ? new Date(this._value!) : null;\r\n                options.onBeforeChange(changingEvent);\r\n\r\n                if (changingEvent.isDefaultPrevented())\r\n                    return null;\r\n            }\r\n\r\n            if (!options.nullable)\r\n            {\r\n                UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n                return this._value;\r\n            }\r\n            else\r\n            {\r\n                this.clear();\r\n                return null;\r\n            }\r\n        }\r\n\r\n        if (date != null)\r\n        {\r\n            if (typeof (date) == \"string\")\r\n                date = Date.vrFixDateString(date);\r\n\r\n            if (date == null)\r\n                throw Error(\"Formato data non valido!\");\r\n\r\n            //#region Check\r\n            if (options.mode == DateModeEnum.Time)\r\n            {\r\n                date.setFullYear(new Date().getFullYear());\r\n                date.setMonth(new Date().getMonth());\r\n                //date.setDate(new Date().getDate());\r\n            }\r\n\r\n            if (options.mode != DateModeEnum.Time)\r\n            {\r\n                if (date.vrIsLessThan(options.min!))\r\n                {\r\n                    notify(\"Data minima consentita: \" + options.min!.vrToItalyString());\r\n                    UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n                    this.clear();\r\n                    return null;\r\n                }\r\n                if (date.vrIsGreaterThan(options.max!))\r\n                {\r\n                    notify(\"Data massima consentita: \" + options.max!.vrToItalyString());\r\n                    UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n                    this.clear();\r\n                    return null;\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            if (triggerChange)\r\n            {\r\n                let changingEvent = new DatePickerChangingEvent();\r\n                if (options.onBeforeChange != null)\r\n                {\r\n                    changingEvent.sender = this;\r\n                    changingEvent.value = new Date(date);\r\n                    changingEvent.previousValue = (this._value != null) ? new Date(this._value!) : null;\r\n                    options.onBeforeChange(changingEvent);\r\n                }\r\n\r\n                if (!changingEvent.isDefaultPrevented())\r\n                {\r\n                    this._value = new Date(date);\r\n                    this.formatValue();\r\n                    this.change();\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this._value = new Date(date);\r\n                this.formatValue();\r\n            }\r\n        }\r\n\r\n        if (this._value != null)\r\n            this._value.setSeconds(0);\r\n\r\n        if (this.mode() == DateModeEnum.Time && this._value != null)\r\n        {\r\n            let hours = this._value.getHours();\r\n            let minutes = this._value.getMinutes();\r\n            this._value = new Date(1900, 0, 1, hours, minutes);\r\n        }\r\n\r\n        return this._value;\r\n    }\r\n\r\n    private formatValue()\r\n    {\r\n        let options = this.getOptions();\r\n        let element = (this.element() as HTMLInputElement);\r\n\r\n        if (typeof (options.format!) == \"number\") // DateFormatEnum\r\n        {\r\n            let dateOptions: Intl.DateTimeFormatOptions = {};\r\n            switch (options.format)\r\n            {\r\n                case DateFormatEnum.ShortDate:\r\n                case DateFormatEnum.ShortDateWithoutYear:\r\n                    {\r\n                        dateOptions = {\r\n                            year: (options.format == DateFormatEnum.ShortDate) ? 'numeric' : undefined,\r\n                            month: '2-digit',\r\n                            day: '2-digit',\r\n                            hour12: false\r\n                        }\r\n                    }\r\n                    break;\r\n                case DateFormatEnum.LongDate:\r\n                case DateFormatEnum.LongDateWithoutYear:\r\n                    {\r\n                        dateOptions = {\r\n                            weekday: 'long',\r\n                            year: (options.format == DateFormatEnum.LongDate) ? 'numeric' : undefined,\r\n                            month: 'long',\r\n                            day: '2-digit',\r\n                            hour12: false\r\n                        }\r\n                    }\r\n                    break;\r\n                case DateFormatEnum.WeekDay:\r\n                    {\r\n                        dateOptions = {\r\n                            weekday: 'long',\r\n                            year: 'numeric',\r\n                            month: '2-digit',\r\n                            day: '2-digit',\r\n                            hour12: false\r\n                        }\r\n                    }\r\n                    break;\r\n                case DateFormatEnum.Month:\r\n                    {\r\n                        dateOptions = {\r\n                            year: 'numeric',\r\n                            month: 'long',\r\n                        }\r\n                    }\r\n                    break;\r\n                case DateFormatEnum.Year:\r\n                    {\r\n                        dateOptions = {\r\n                            year: 'numeric',\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            let dateFormatter = new Intl.DateTimeFormat(/*navigator.language*/\"it\", dateOptions);\r\n            let dateString = dateFormatter.format(this._value!).vrCapitalize();\r\n\r\n            if (options.format == DateFormatEnum.WeekRange)\r\n            {\r\n                let firstDayOfWeek = Date.vrGetFirstDayOfWeekByDate(this._value!);\r\n                let lastDayOfWeek = firstDayOfWeek.vrAddDays(5);\r\n                dateString = firstDayOfWeek.vrToItalyString() + \" - \" + lastDayOfWeek.vrToItalyString();\r\n            }\r\n            else if (options.format == DateFormatEnum.FourWeeksRange)\r\n            {\r\n                let firstDayOfWeek = Date.vrGetFirstDayOfWeekByDate(this._value!);\r\n                let lastDayOfWeek = firstDayOfWeek.vrAddDays(26);\r\n                dateString = firstDayOfWeek.vrToItalyString() + \" - \" + lastDayOfWeek.vrToItalyString();\r\n            }\r\n\r\n            switch (options.mode)\r\n            {\r\n                case DateModeEnum.Date: element.value = dateString; break;\r\n                case DateModeEnum.Time: element.value = this._value!.toTimeString(); break;\r\n                case DateModeEnum.DateTime: element.value = dateString + \" \" + this._value!.toTimeString(); break;\r\n            }\r\n        }\r\n        else\r\n            element.value = this._value!.vrFormatString(options.format!, \"it\")\r\n    }\r\n\r\n    mode(mode?: DateModeEnum)\r\n    {\r\n        let options = this.getOptions();\r\n        if (mode != null)\r\n            options.mode = mode;\r\n\r\n        return options.mode;\r\n    }\r\n\r\n    min(min?: Date)\r\n    {\r\n        let options = this.getOptions();\r\n        if (min != null)\r\n            options.min = min;\r\n\r\n        return options.min;\r\n    }\r\n\r\n    max(max?: Date)\r\n    {\r\n        let options = this.getOptions();\r\n        if (max != null)\r\n            options.max = max;\r\n\r\n        return options.max;\r\n    }\r\n\r\n    format(format?: DateFormatEnum, changeText = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (format != null)\r\n        {\r\n            options.format = format;\r\n            if (changeText)\r\n                this.value(this.value(), false);\r\n        }\r\n        return options.format;\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        this._value = null;\r\n        (this.element() as HTMLInputElement).value = \"\";\r\n\r\n        if (triggerChange)\r\n            this.change();\r\n    }\r\n\r\n    isEmpty()\r\n    {\r\n        return this.value() == null;\r\n    }\r\n\r\n    error()\r\n    {\r\n        puma(this.element()).addClass(\"vrDatePickerError\");\r\n    }\r\n\r\n    hideError()\r\n    {\r\n        puma(this.element()).removeClass(\"vrDatePickerError\");\r\n    }\r\n\r\n    private getOptions(): DatePickerOptions\r\n    {\r\n        return this.options<DatePickerOptions>();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        puma(this.container()).find(\".vrDivPickerIcon\").removeClass(\"vrDivPickerIconDisable\");\r\n        puma(this.container()).find(\".vrDivPickerDateTimeIcon\").removeClass(\"vrDivPickerIconDisable\");\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        puma(this.container()).find(\".vrDivPickerIcon\").addClass(\"vrDivPickerIconDisable\");\r\n        puma(this.container()).find(\".vrDivPickerDateTimeIcon\").addClass(\"vrDivPickerIconDisable\");\r\n    }\r\n    //#endregion\r\n\r\n    //#region Events\r\n    change(): void\r\n    {\r\n        let changeCallBack = this.getOptions().onAfterChange;\r\n        if (changeCallBack != null)\r\n        {\r\n            let changeEvent = new DatePickerChangeEvent();\r\n            changeEvent.sender = this;\r\n            changeEvent.value = (this.value() != null) ? new Date(this.value()!) : null;\r\n            changeCallBack(changeEvent);\r\n        }\r\n    }\r\n    //#endregion\r\n}\r\n\r\nexport class TimePicker extends DatePicker { }\r\nexport class DateTimePicker extends DatePicker { }\r\nexport class MonthPicker extends DatePicker { }\r\nexport class YearPicker extends DatePicker { }\r\n//#endregion\r\n\r\n//#region Classes\r\nclass DatePickerEvent extends VrControlsEvent\r\n{\r\n    sender: DatePicker;\r\n    value: Date | null;\r\n}\r\n\r\nclass DatePickerChangeEvent extends DatePickerEvent\r\n{\r\n\r\n}\r\n\r\nclass DatePickerChangingEvent extends DatePickerEvent\r\n{\r\n    previousValue?: Date | null;\r\n}\r\n\r\nexport enum ActualViewEnum\r\n{\r\n    Day,\r\n    Month,\r\n    Year,\r\n    Decade\r\n}\r\n\r\nclass DatePickerFocusEvent extends DatePickerEvent\r\n{\r\n}\r\n\r\nclass DatePickerBlurEvent extends DatePickerEvent\r\n{\r\n}\r\n\r\nclass DatePickerKeyUpPressEvent extends VrControlsEvent\r\n{\r\n    sender: DatePicker;\r\n    text: string;\r\n    key: string;\r\n    shiftKey: boolean;\r\n    altKey: boolean;\r\n    ctrlKey: boolean;\r\n    enterKey: boolean;\r\n    backSpaceKey: boolean;\r\n    tabKey: boolean;\r\n}\r\n\r\nclass DatePickerKeyUpEvent extends DatePickerKeyUpPressEvent\r\n{\r\n}\r\n\r\nclass DatePickerKeyDownEvent extends DatePickerKeyUpPressEvent\r\n{\r\n}\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, TextAlignEnum, TextModeEnum, TextTransformModeEnum, PositionEnum, ErrorModeEnum, ErrorPositionEnum, ErrorHideModeEnum, puma, IconClassicLight, IconClass, KeyEnum, icon, TextBoxLengthSettings, NumberFormatRoundingSettings, NumberFormatSettings, RoundingModeEnum, TextBoxValidationSettings, TextBoxValidationErrorEnum, TextBoxRegexSettings } from \"../vr\";\r\nimport { UtilityManager } from \"../../managers/utilityManager\";\r\nimport { DeviceManager } from \"../../../src/managers/deviceManager\";\r\n\r\n//#region Options\r\nexport class TextBoxOptions extends VrControlOptions\r\n{\r\n    value?: string | number;\r\n    placeholder?: string;\r\n    readOnly?: boolean;\r\n    rows?: number;\r\n    decimals?: number;\r\n    zeros?: number;\r\n    align?: TextAlignEnum;\r\n    mode?: TextModeEnum;\r\n    inputMode?: TextTransformModeEnum;\r\n    icon?: IconClass;\r\n    imageUrl?: string;\r\n    bold?: boolean;\r\n    nullable?: boolean;\r\n    growWithContent?: boolean;\r\n    tooltip?: string;\r\n    roundingSettings?: NumberFormatRoundingSettings;\r\n    validation?: TextBoxValidationSettings;\r\n\r\n    onChanged?(e: TextBoxChangeEvent): void;\r\n    onKeyUp?(e: TextBoxKeyUpEvent): void;\r\n    onKeyDown?(e: TextBoxKeyDownEvent): void;\r\n    onEnterKey?(e: TextBoxEnterKeyEvent): void;\r\n    onFocus?(e: TextBoxFocusEvent): void;\r\n    onBlur?(e: TextBoxBlurEvent): void;\r\n    onPaste?(e: TextBoxPasteEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class TextBox extends VrControl\r\n{\r\n    private _numberValue: number | null;\r\n    private _hideErrorMode: ErrorHideModeEnum;\r\n    private _keyDownCanceled: boolean;\r\n    private _originalHeight: number;\r\n    private _oldValue: string | number | null;\r\n    private _originalMarginBottom: number;\r\n    private _passwordViewableIcon: HTMLElement;\r\n\r\n    constructor(element: HTMLElement, options?: TextBoxOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new TextBoxOptions();\r\n\r\n        if (options.mode == null) options.mode = TextModeEnum.Text;\r\n        if (options.inputMode == null) options.inputMode = TextTransformModeEnum.Default;\r\n        if (options.rows == null) options.rows = 2;\r\n        if (options.width == null) options.width = 200;\r\n        if (options.bold == null) options.bold = false;\r\n        if (options.nullable == null) options.nullable = true;\r\n        if (options.growWithContent == null) options.growWithContent = false;\r\n\r\n        if (options.decimals == null) \r\n        {\r\n            if (options.mode == TextModeEnum.Numeric)\r\n                options.decimals = 0;\r\n            else if (options.mode == TextModeEnum.Currency || options.mode == TextModeEnum.Percentage)\r\n                options.decimals = 2;\r\n        }\r\n\r\n        if (options.align == null) \r\n        {\r\n            if (options.mode == TextModeEnum.Numeric || options.mode == TextModeEnum.Percentage || options.mode == TextModeEnum.Currency)\r\n                options.align = TextAlignEnum.Right;\r\n            else\r\n                options.align = TextAlignEnum.Left;\r\n        }\r\n\r\n        //#region Validation\r\n        if (options.validation == null) options.validation = new TextBoxValidationSettings();\r\n        if (options.validation.error == null) options.validation.error = TextBoxValidationErrorEnum.Flashing;\r\n        if (options.validation.minValue == null) options.validation.minValue = Number.MIN_SAFE_INTEGER;\r\n        if (options.validation.maxValue == null) options.validation.maxValue = Number.MAX_SAFE_INTEGER;\r\n\r\n        if (options.validation.minLength == null) options.validation.minLength = new TextBoxLengthSettings();\r\n        if (typeof (options.validation.minLength) == \"number\")\r\n        {\r\n            let minLength = options.validation.minLength;\r\n            options.validation.minLength = new TextBoxLengthSettings();\r\n            options.validation.minLength.value = minLength;\r\n        }\r\n        if (options.validation.minLength.substituteChar == null) options.validation.minLength.substituteChar = \"X\";\r\n\r\n        if (options.validation.maxLength == null) options.validation.maxLength = new TextBoxLengthSettings();\r\n        if (typeof (options.validation.maxLength) == \"number\")\r\n        {\r\n            let maxLength = options.validation.maxLength;\r\n            options.validation.maxLength = new TextBoxLengthSettings();\r\n            options.validation.maxLength.value = maxLength;\r\n        }\r\n\r\n        if (options.validation.regex != null)\r\n        {\r\n            if (typeof (options.validation.regex) == \"string\") \r\n            {\r\n                let value = options.validation.regex;\r\n                options.validation.regex = new TextBoxRegexSettings();\r\n                options.validation.regex.value = value;\r\n            }\r\n\r\n            if (options.validation.regex.checkOnKeyUp == null && options.validation.regex.checkOnValue == null\r\n                && options.validation.regex.checkOnKeyDown == null && options.validation.regex.checkOnBlur == null)\r\n                options.validation.regex.checkOnKeyDown = true;\r\n\r\n            if (options.validation.regex.value == null)\r\n            {\r\n                if (options.validation.regex.onlyNumbers === true)\r\n                    options.validation.regex.value = \"^\\\\d*$\";\r\n                else if (options.validation.regex.onlyCharacters === true)\r\n                    options.validation.regex.value = \"^[a-zA-Z]+$\";\r\n                else if (options.validation.regex.onlyUpperCase === true)\r\n                    options.validation.regex.value = \"^[A-Z]+$\";\r\n                else if (options.validation.regex.onlyLowerCase === true)\r\n                    options.validation.regex.value = \"^[a-z]+$\";\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Mode\r\n        switch (options.mode)\r\n        {\r\n            case TextModeEnum.Text: puma(element).attr(\"type\", \"text\"); break;\r\n            case TextModeEnum.Link: puma(element).attr(\"type\", \"url\"); break;\r\n            case TextModeEnum.Phone: puma(element).attr(\"type\", \"tel\"); break;\r\n            case TextModeEnum.Search: puma(element).attr(\"type\", \"search\"); break;\r\n            case TextModeEnum.Mail: puma(element).attr(\"type\", \"email\"); break;\r\n            case TextModeEnum.Password: puma(element).attr(\"type\", \"password\"); break;\r\n            case TextModeEnum.PasswordViewable: puma(element).attr(\"type\", \"text\"); break;\r\n            case TextModeEnum.Numeric:\r\n            case TextModeEnum.Percentage:\r\n            case TextModeEnum.Currency:\r\n                puma(element).attr(\"type\", \"number\");\r\n                break;\r\n            case TextModeEnum.MultiLine:\r\n                {\r\n                    let textArea = document.createElement(\"textarea\");\r\n                    textArea.id = element.id;\r\n                    puma(textArea).addClass(\"vrTextArea\");\r\n                    puma(textArea).attr(\"autocomplete\", \"off\");\r\n\r\n                    //#region Rows for height\r\n                    if (options.height == null)\r\n                        puma(textArea).height(38 + (20 * (options.rows - 1)));\r\n                    //#endregion\r\n\r\n                    textArea.style.cssText += \"-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;\";\r\n                    textArea.style.cssText += \"border-radius: 4px; border-color: #d9d9d9; font-size: 16px; color: #000; padding: 5px; padding-left: 10px; padding-right: 10px; resize: none;\";\r\n\r\n                    puma(element).vrAfterPuma(textArea);\r\n                    puma(element).hide();\r\n                    element = textArea;\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (!DeviceManager.isMobile() && options.mode != TextModeEnum.Password)\r\n            puma(element).attr(\"type\", \"text\");\r\n\r\n        puma(element).attr(\"autocomplete\", \"off\");\r\n        //#endregion\r\n\r\n        element.style.cssText += \"padding-left: 10px; padding-right: 10px;\";\r\n        super(element, options, ControlTypeEnum.TextBox);\r\n        this._numberValue = null;\r\n\r\n        //#region Password Viewable\r\n        if (options.mode == TextModeEnum.PasswordViewable)\r\n        {\r\n            this.viewPassword(false);\r\n            this._passwordViewableIcon = icon(IconClassicLight.EyeSlash, this.container(), { css: \"position: absolute; right: 5px; bottom: 7px; font-size: 14px; opacity: 0.8; cursor: pointer;\" })\r\n            puma(this._passwordViewableIcon).on(\"click\", (e: JQuery.ClickEvent) =>\r\n            {\r\n                this.viewPassword(this.viewPassword());\r\n            });\r\n        }\r\n        //#endregion\r\n\r\n        if (options.height != null && options.mode == TextModeEnum.MultiLine)\r\n            puma(this.element()).height(Number(options.height) - 12);\r\n\r\n        this._originalHeight = puma(this.element()).outerHeight();\r\n        this._originalMarginBottom = puma(this.container()).css(\"margin-bottom\").getNumericPart();\r\n\r\n        //#region Text/Placeholder & Max/Min Length\r\n        if (options.value != null)\r\n            this.value(options.value, false);\r\n        if (options.placeholder != null)\r\n            this.placeholder(options.placeholder);\r\n\r\n        if (options.validation.minLength != null)\r\n            puma(this.element()).attr(\"minlength\", options.validation.minLength.value);\r\n\r\n        if (options.validation.maxLength != null)\r\n            puma(this.element()).attr(\"maxlength\", options.validation.maxLength.value);\r\n        //#endregion\r\n\r\n        //#region Tooltip\r\n        if (options.tooltip != null)\r\n            puma(this.element()).attr(\"title\", options.tooltip);\r\n        //#endregion\r\n\r\n        //#region Enable/Readonly\r\n        if (options.readOnly === true)\r\n            puma(this.element()).attr(\"readonly\", \"readonly\");\r\n\r\n        if (options.readOnly === true || options.enable === false)\r\n            puma(this.element()).attr(\"tabIndex\", \"-1\");\r\n        //#endregion\r\n\r\n        //#region Bold\r\n        if (options.bold === true)\r\n            this.element().style.cssText += \"font-weight: 500;\";\r\n        //#endregion\r\n\r\n        //#region Align and Input mode\r\n        puma(this.element()).css(\"text-align\", options.align);\r\n        puma(this.element()).css(\"text-transform\", options.inputMode);\r\n        //#endregion\r\n\r\n        //#region Icon/ImageUrl\r\n        if (options.icon != null)\r\n        {\r\n            puma(this.element()).vrBeforePuma(\"<i class='\" + options.icon + \"' style='position: absolute; margin-left: 6px; color: #A9A9A9;'></i>\");\r\n            this.element().style.cssText += \"text-indent: 15px;\";\r\n        }\r\n        else if (options.imageUrl != null)\r\n            this.element().style.cssText += \"background-image: url(\" + options.imageUrl + \"); background-position: 4px 5px; background-repeat: no-repeat; text-indent: 13px;\";\r\n\r\n        if (options.mode != TextModeEnum.MultiLine && options.label != null && options.labelSettings!.position == PositionEnum.Top && (options.icon == null || options.imageUrl == null))\r\n            this.element().style.cssText += \"padding-left: 0px !important; width: calc(100% - 12px) !important;\";\r\n        //#endregion\r\n\r\n        //#region Events\r\n        puma(this.element()).keyup((e: JQuery.KeyUpEvent) =>\r\n        {\r\n            if (this._keyDownCanceled)\r\n            {\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            let value = puma(e.currentTarget).val();\r\n            this.autoSize();\r\n\r\n            if (e.key != KeyEnum.Tab)\r\n            {\r\n                let validateRegex = (options!.validation!.regex != null && (options!.validation!.regex as TextBoxRegexSettings).checkOnKeyUp);\r\n                this.validate(value, false, validateRegex);\r\n            }\r\n\r\n            if (options!.onKeyUp != null)\r\n            {\r\n                let event = new TextBoxKeyUpEvent();\r\n                event.sender = this;\r\n                event.value = (this.isNumericTextBox()) ? this._numberValue : value;\r\n                event.key = e.key;\r\n                event.shiftKey = e.shiftKey;\r\n                event.altKey = e.altKey;\r\n                event.ctrlKey = e.ctrlKey;\r\n                event.enterKey = e.key == KeyEnum.Enter;\r\n                event.backSpaceKey = e.key == KeyEnum.Backspace;\r\n                event.tabKey = e.key == KeyEnum.Tab;\r\n\r\n                let validForNumeric = [\",\", \".\", \"-\", \"+\"];\r\n                event.validForNumeric = (!isNaN(Number(e.key)) || validForNumeric.includes(e.key));\r\n                options!.onKeyUp(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                    e.preventDefault();\r\n            }\r\n        });\r\n\r\n        puma(this.element()).keydown((e: KeyboardEvent) =>\r\n        {\r\n            puma(this.element()).removeClass(\"errorInput\");\r\n            this._keyDownCanceled = false;\r\n            if (this._hideErrorMode == ErrorHideModeEnum.OnAction)\r\n                this.hideError();\r\n\r\n            //#region Check\r\n            if (e.key != KeyEnum.Backspace && e.key != KeyEnum.ArrowRight && e.key != KeyEnum.ArrowLeft\r\n                && e.key != KeyEnum.ArrowUp && e.key != KeyEnum.ArrowDown && e.key != KeyEnum.Tab)\r\n            {\r\n                if (this.isNumericTextBox() && isNaN(Number(e.key)) && e.key != \"-\" && e.key != \".\" && e.key != \",\" && !e.ctrlKey)\r\n                {\r\n                    UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800, () => puma(this.element()).removeClass(\"errorInput\"));\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n\r\n                if (options!.validation!.regex != null\r\n                    && (options!.validation!.regex as TextBoxRegexSettings).value != null\r\n                    && (options!.validation!.regex as TextBoxRegexSettings).value != \"\"\r\n                    && (options!.validation!.regex as TextBoxRegexSettings).checkOnKeyDown)\r\n                {\r\n                    let regex = new RegExp((options!.validation!.regex as TextBoxRegexSettings).value!, (options!.validation!.regex as TextBoxRegexSettings).flags);\r\n                    if (!regex.test(e.key))\r\n                    {\r\n                        UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800, () => puma(this.element()).removeClass(\"errorInput\"));\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            if (options!.onEnterKey != null && e.key == KeyEnum.Enter)\r\n            {\r\n                let enterKeyEvent = new TextBoxEnterKeyEvent();\r\n                enterKeyEvent.sender = this;\r\n                enterKeyEvent.value = this.value();\r\n                options!.onEnterKey(enterKeyEvent);\r\n            }\r\n\r\n            if (options!.onKeyDown != null)\r\n            {\r\n                let event = new TextBoxKeyDownEvent();\r\n                event.sender = this;\r\n                event.key = e.key;\r\n                event.shiftKey = e.shiftKey;\r\n                event.altKey = e.altKey;\r\n                event.ctrlKey = e.ctrlKey;\r\n                event.enterKey = e.key == KeyEnum.Enter;\r\n                event.backSpaceKey = e.key == KeyEnum.Backspace;\r\n                event.tabKey = e.key == KeyEnum.Tab;\r\n\r\n                let value = puma(e.currentTarget).val();\r\n                event.value = (this.isNumericTextBox()) ? this._numberValue : value;\r\n\r\n                let validForNumeric = [\",\", \".\", \"-\", \"+\"];\r\n                event.validForNumeric = (!isNaN(Number(e.key)) || validForNumeric.includes(e.key));\r\n                options!.onKeyDown(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                {\r\n                    this._keyDownCanceled = true;\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        });\r\n\r\n        puma(this.element()).focusin((e: JQuery.FocusInEvent) =>\r\n        {\r\n            puma(this.element()).removeClass(\"errorInput\");\r\n            if (this._hideErrorMode == ErrorHideModeEnum.OnFocus)\r\n                this.hideError();\r\n\r\n            if (this.isNumericTextBox())\r\n            {\r\n                let value = \"\";\r\n                if (this._numberValue != null)\r\n                    value = this.formatValue(String(this._numberValue));\r\n\r\n                (this.element() as HTMLInputElement).value = value;\r\n                puma(this.element()).select();\r\n            }\r\n\r\n            if (options!.onFocus != null)\r\n            {\r\n                let event = new TextBoxFocusEvent();\r\n                event.sender = this;\r\n                options!.onFocus(event);\r\n            }\r\n        });\r\n\r\n        puma(this.element()).blur((e: JQuery.BlurEvent) =>\r\n        {\r\n            let options = this.getOptions();\r\n\r\n            if (this.isNumericTextBox())\r\n                this.value(this._numberValue);\r\n            else\r\n            {\r\n                let validateRegex = (options!.validation!.regex != null && (options!.validation!.regex as TextBoxRegexSettings).checkOnBlur);\r\n                let realValue = this.validate(undefined, true, validateRegex);\r\n                (this.element() as HTMLInputElement).value = realValue;\r\n            }\r\n\r\n            if (options!.onBlur != null)\r\n            {\r\n                let event = new TextBoxBlurEvent();\r\n                event.sender = this;\r\n                event.target = e.target;\r\n                event.value = this.value();\r\n                options!.onBlur(event);\r\n            }\r\n        });\r\n\r\n        puma(this.element()).on(\"paste\", (e: any) =>\r\n        {\r\n            let pastedValue = e.originalEvent.clipboardData.getData(\"text\");\r\n\r\n            if (options!.onPaste != null)\r\n            {\r\n                let event = new TextBoxPasteEvent();\r\n                event.sender = this;\r\n                event.pastedValue = pastedValue;\r\n                event.value = this.value() + pastedValue;\r\n                options!.onPaste(event);\r\n            }\r\n        })\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n\r\n    //#region Text/Placeholder\r\n    value<T extends string | number | null>(value?: string | number | null, triggerChange: boolean = true): T\r\n    {\r\n        let options = this.options<TextBoxOptions>();\r\n        if (value === null)\r\n        {\r\n            if (options.nullable)\r\n            {\r\n                this._numberValue = null;\r\n                (this.element() as HTMLInputElement).value = \"\";\r\n                return <T>null;\r\n            }\r\n            else if (this.isNumericTextBox())\r\n                value = 0;\r\n        }\r\n\r\n        if (value != null)\r\n        {\r\n            let validateRegex = (options!.validation!.regex != null && (options!.validation!.regex as TextBoxRegexSettings).checkOnValue);\r\n            let realValue = this.validate(String(value), true, validateRegex);\r\n            (this.element() as HTMLInputElement).value = realValue;\r\n            this.autoSize();\r\n\r\n            if (triggerChange)\r\n                this.change();\r\n\r\n            this._oldValue = (this.isNumericTextBox()) ? UtilityManager.duplicate(this._numberValue) : (this.element() as HTMLInputElement).value;\r\n        }\r\n\r\n        if (this.isNumericTextBox())\r\n            return <T>this._numberValue;\r\n        else\r\n            return <T>(this.element() as HTMLInputElement).value;\r\n    }\r\n\r\n    private validate(value?: string, format = true, validateRegex = false)\r\n    {\r\n        let options = this.getOptions();\r\n        puma(this.element()).removeClass(\"errorInput\");\r\n\r\n        if (value == null) value = String(this.value());\r\n        let realValue = value;\r\n\r\n        let error = false;\r\n        let numericValue: number | null = 0;\r\n        if (this.isNumericTextBox())\r\n        {\r\n            if (value == \"\")\r\n                this._numberValue = null;\r\n            else\r\n            {\r\n                let isNegative = value.startsWith(\"-\");\r\n                numericValue = value.replace(\",\", \".\").vrGetNumericPart();\r\n\r\n                //#region Min/Max value\r\n                if (format && numericValue < options.validation!.minValue!)\r\n                {\r\n                    numericValue = options.validation!.minValue!;\r\n                    error = true;\r\n                }\r\n\r\n                if (numericValue! > options.validation!.maxValue!)\r\n                {\r\n                    numericValue = options.validation!.maxValue!;\r\n                    error = true;\r\n                }\r\n                //#endregion\r\n\r\n                if (isNaN(Number(numericValue)))\r\n                {\r\n                    if (isNegative)\r\n                        numericValue = null;\r\n                    else\r\n                    {\r\n                        numericValue = 0;\r\n                        error = true;\r\n                    }\r\n                }\r\n\r\n                this._numberValue = numericValue;\r\n            }\r\n        }\r\n\r\n        //#region Zeros\r\n        if (options.zeros != null)\r\n            realValue = String(realValue).padStart(options.zeros, \"0\");\r\n        //#endregion\r\n\r\n        //#region Min/Max length\r\n        if (options.validation!.minLength != null)\r\n        {\r\n            let minLengthSettings = (options.validation!.minLength as TextBoxLengthSettings);\r\n            if (format && realValue.length < minLengthSettings.value)\r\n            {\r\n                realValue = realValue.padEnd(minLengthSettings.value, minLengthSettings.substituteChar);\r\n                error = true;\r\n            }\r\n        }\r\n\r\n        if (options.validation!.maxLength != null)\r\n        {\r\n            let maxLengthSettings = (options.validation!.maxLength as TextBoxLengthSettings);\r\n            if (realValue.length > maxLengthSettings.value)\r\n            {\r\n                realValue = realValue.substring(0, maxLengthSettings.value);\r\n                error = true;\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Regex\r\n        if (validateRegex\r\n            && (options!.validation!.regex as TextBoxRegexSettings).value != null\r\n            && (options!.validation!.regex as TextBoxRegexSettings).value != \"\"\r\n            && value != \"\" && value != null)\r\n        {\r\n            let regex = new RegExp((options!.validation!.regex as TextBoxRegexSettings).value!, (options!.validation!.regex as TextBoxRegexSettings).flags);\r\n            if (!regex.test(value))\r\n            {\r\n                realValue = \"\";\r\n                error = true;\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        if (this.isNumericTextBox())\r\n            realValue = (format) ? this.formatValue(String(numericValue)) : String(numericValue);\r\n\r\n        if (error)\r\n        {\r\n            switch (options.validation!.error)\r\n            {\r\n                case TextBoxValidationErrorEnum.None: { } break;\r\n                case TextBoxValidationErrorEnum.Flashing: UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800, () => puma(this.element()).removeClass(\"errorInput\")); break;\r\n                case TextBoxValidationErrorEnum.Stable: puma(this.element()).addClass(\"errorInput\"); break;\r\n            }\r\n        }\r\n        return realValue;\r\n    }\r\n\r\n    placeholder(value?: string): string\r\n    {\r\n        if (value != null)\r\n            (this.element() as HTMLInputElement).placeholder = value;\r\n\r\n        return (this.element() as HTMLInputElement).placeholder;\r\n    }\r\n    //#endregion\r\n\r\n    type(type: TextModeEnum): void\r\n    {\r\n        let options = this.getOptions();\r\n        options.mode = type;\r\n\r\n        if (options.decimals == null) \r\n        {\r\n            if (options.mode == TextModeEnum.Numeric)\r\n                options.decimals = 0;\r\n            else if (options.mode == TextModeEnum.Currency || options.mode == TextModeEnum.Percentage)\r\n                options.decimals = 2;\r\n        }\r\n\r\n        if (options.align == null) \r\n        {\r\n            if (options.mode == TextModeEnum.Numeric || options.mode == TextModeEnum.Percentage || options.mode == TextModeEnum.Currency)\r\n                options.align = TextAlignEnum.Right;\r\n            else\r\n                options.align = TextAlignEnum.Left;\r\n        }\r\n    }\r\n\r\n    getOptions(): TextBoxOptions\r\n    {\r\n        return this.options<TextBoxOptions>();\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.nullable && this.isNumericTextBox())\r\n            this.value(null, false);\r\n        else\r\n        {\r\n            this._numberValue = null;\r\n            (this.element() as HTMLInputElement).value = \"\";\r\n        }\r\n\r\n        if (triggerChange)\r\n            this.change();\r\n    }\r\n\r\n    isEmpty(): boolean\r\n    {\r\n        if (this.isNumericTextBox())\r\n            return this._numberValue == null;\r\n        else\r\n            return (this.element() as HTMLInputElement).value === \"\";\r\n    }\r\n\r\n    private autoSize()\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.growWithContent === true && options.mode == TextModeEnum.MultiLine)\r\n        {\r\n            let heightContainer = this.element().clientHeight;\r\n            if (options.labelSettings != null && (options.labelSettings.position == PositionEnum.Top || options.labelSettings.position == PositionEnum.Bottom))\r\n                heightContainer += puma(this.container()).find(\".vrLabelContainer\").height();\r\n\r\n            this.element().style.height = \"1px\";\r\n            this.container().style.height = heightContainer + \"px\";\r\n            let newHeight = 25 + this.element().scrollHeight;\r\n            if (newHeight > this._originalHeight)\r\n                this.element().style.height = (25 + this.element().scrollHeight) + \"px\";\r\n            else\r\n                this.element().style.height = this._originalHeight + \"px\";\r\n\r\n            this.container().style.height = \"auto\";\r\n        }\r\n    }\r\n\r\n    private isNumericTextBox(): boolean\r\n    {\r\n        let options = this.options<TextBoxOptions>();\r\n        let mode = options.mode;\r\n        return (mode == TextModeEnum.Numeric || mode == TextModeEnum.Percentage || mode == TextModeEnum.Currency);\r\n    }\r\n\r\n    viewPassword(state?: boolean)\r\n    {\r\n        if (state != null)\r\n        {\r\n            puma(this._passwordViewableIcon).removeClass(IconClassicLight.EyeSlash);\r\n            puma(this._passwordViewableIcon).removeClass(IconClassicLight.Eye);\r\n\r\n            if (state) \r\n            {\r\n                puma(this.element()).removeClass(\"noViewablePassword\");\r\n                puma(this._passwordViewableIcon).addClass(IconClassicLight.Eye);\r\n            }\r\n            else \r\n            {\r\n                puma(this.element()).addClass(\"noViewablePassword\");\r\n                puma(this._passwordViewableIcon).addClass(IconClassicLight.EyeSlash);\r\n            }\r\n        }\r\n        return this.element().classList.contains(\"noViewablePassword\");\r\n    }\r\n\r\n    //#region Caret\r\n    caretPosition()\r\n    {\r\n        return (this.element() as HTMLInputElement).selectionStart!;\r\n    }\r\n\r\n    insertTextAtCursor(text: string)\r\n    {\r\n        this.appendText(text, this.caretPosition());\r\n    }\r\n\r\n    insertTextAtPosition(text: string, position: number)\r\n    {\r\n        this.appendText(text, position);\r\n    }\r\n\r\n    appendText(text: string, position?: number)\r\n    {\r\n        let element = this.element() as HTMLInputElement;\r\n        if (position == null)\r\n            position = element.value.length;\r\n\r\n        this.value(element.value.substring(0, position)\r\n            + text\r\n            + element.value.substring(element.selectionEnd!, element.value.length));\r\n\r\n        element.selectionStart = this.caretPosition() + text.length;\r\n        element.selectionEnd = this.caretPosition() + text.length;\r\n        this.focus();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Error management\r\n    error(text?: string, mode?: ErrorModeEnum, position?: ErrorPositionEnum, hideMode?: ErrorHideModeEnum): void\r\n    {\r\n        let options = this.options<TextBoxOptions>();\r\n        if (mode == null) mode = ErrorModeEnum.Tooltip;\r\n        if (position == null) position = ErrorPositionEnum.Right;\r\n        if (hideMode == null) hideMode = ErrorHideModeEnum.OnAction;\r\n        if (text == null) text = \"\";\r\n\r\n        puma(this.element()).addClass(\"vrTextBoxError\");\r\n        this._hideErrorMode = hideMode;\r\n\r\n        let errorIcon = puma(this.container()).find(\".vrTextBoxErrorIcon\")[0];\r\n        if (errorIcon == null)\r\n            errorIcon = puma(\"<i class='\" + IconClassicLight.TriangleExclamation + \" vrTextBoxErrorIcon'></i>\").vrInsertAfterPuma(this.element())[0];\r\n        puma(errorIcon).show();\r\n\r\n        if (this.label() != null)\r\n            errorIcon.style.cssText += \"top: 24px;\";\r\n        else\r\n            errorIcon.style.cssText += \"top: 5px;\";\r\n\r\n        if (mode == ErrorModeEnum.Tooltip)\r\n        {\r\n            //#region Tooltip\r\n            let spanError = puma(\"<span class='vrTextBoxErrorTooltip vrErrorTooltip'>\" + text + \"</span>\").vrAppendToPuma(errorIcon);\r\n            if (position == ErrorPositionEnum.Right)\r\n                puma(spanError).addClass(\"vrTextBoxErrorTooltipRight\");\r\n            else if (position == ErrorPositionEnum.Bottom)\r\n            {\r\n                puma(spanError).addClass(\"vrTextBoxErrorTooltipBottom\");\r\n                puma(errorIcon).hover(() => \r\n                {\r\n                    if (text == \"\")\r\n                        puma(spanError).hide();\r\n                    else\r\n                        puma(spanError)[0].style.cssText += \"display: inline-block; left: -\" + ((puma(spanError).outerWidth() / 2) - 7) + \"px;\"\r\n                });\r\n            }\r\n            //#endregion\r\n        }\r\n        else if (mode == ErrorModeEnum.Overlay)\r\n        {\r\n            //#region Overlay\r\n            let spanError = puma(this.container()).find(\".vrTextBoxErrorOverlay\")[0];\r\n            if (spanError == null)\r\n                spanError = puma(\"<span class='vrTextBoxErrorOverlay'>\" + text + \"</span>\").vrInsertAfterPuma(this.element())[0];\r\n            puma(spanError).show();\r\n\r\n            if (position == ErrorPositionEnum.Right)\r\n                puma(spanError).addClass(\"vrTextBoxErrorOverlayRight\");\r\n            else if (position == ErrorPositionEnum.Bottom)\r\n            {\r\n                let labelWidth = (options.label != null && (options.labelSettings!.position == PositionEnum.Left || options.labelSettings!.position == PositionEnum.Right)) ? puma(this.label()).width() : 0;\r\n                puma(spanError).addClass(\"vrTextBoxErrorOverlayBottom\");\r\n                puma(spanError)[0].style.cssText += \"left: Calc(50% - \" + ((puma(spanError).width() / 2) - (labelWidth / 2)) + \"px);\";\r\n            }\r\n\r\n            puma(spanError).html(text);\r\n            //#endregion\r\n        }\r\n        else if (mode == ErrorModeEnum.Solid)\r\n        {\r\n            //#region Solid\r\n            let spanError = puma(this.container()).find(\".vrTextBoxErrorSolid\")[0];\r\n            if (spanError == null)\r\n                spanError = puma(\"<span class='vrTextBoxErrorSolid'>\" + text + \"</span>\").vrInsertAfterPuma(this.element())[0];\r\n            puma(spanError).show();\r\n\r\n            position = ErrorPositionEnum.Bottom;\r\n            puma(spanError).addClass(\"vrTextBoxErrorSolidBottom\");\r\n            puma(spanError).html(text);\r\n\r\n            let labelWidth = (options.label != null && (options.labelSettings!.position == PositionEnum.Left || options.labelSettings!.position == PositionEnum.Right)) ? puma(this.label()).width() : 0;\r\n            puma(spanError)[0].style.cssText += \"left: Calc(50% - \" + ((puma(spanError).width() / 2) - (labelWidth / 2)) + \"px);\";\r\n            puma(this.container())[0].style.cssText += \"margin-bottom: \" + (puma(spanError).height() + 20) + \"px;\";\r\n            //#endregion\r\n        }\r\n    }\r\n\r\n    hideError(): void\r\n    {\r\n        if (puma(this.element()).hasClass(\"vrTextBoxError\"))\r\n        {\r\n            puma(this.element()).removeClass(\"vrTextBoxError\");\r\n            puma(this.container()).find(\".vrTextBoxErrorIcon\").hide();\r\n            puma(this.container()).find(\".vrTextBoxErrorTooltip\").hide();\r\n            puma(this.container()).find(\".vrTextBoxErrorOverlay\").hide();\r\n            puma(this.container()).find(\".vrTextBoxErrorSolid\").hide();\r\n            puma(this.container()).css({ \"margin-bottom\": this._originalMarginBottom + \"px\" });\r\n        }\r\n    }\r\n\r\n    hasError()\r\n    {\r\n        return (puma(this.element()).hasClass(\"vrTextBoxError\"));\r\n    }\r\n\r\n    private formatValue(value: string)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        let decimals = options.decimals;\r\n        let formatSettings = new NumberFormatSettings(options.roundingSettings);\r\n        formatSettings.minimumFractionDigits = decimals;\r\n        formatSettings.maximumFractionDigits = decimals;\r\n\r\n        if (options.roundingSettings != null)\r\n        {\r\n            if (options.roundingSettings.minimumFractionDigits != null) formatSettings.minimumFractionDigits = options.roundingSettings.minimumFractionDigits;\r\n            if (options.roundingSettings.maximumFractionDigits != null) formatSettings.maximumFractionDigits = options.roundingSettings.maximumFractionDigits\r\n\r\n            if (options.roundingSettings.roundingMode == RoundingModeEnum.None)\r\n            {\r\n                if (options.roundingSettings.maximumFractionDigits == null)\r\n                    formatSettings.maximumFractionDigits = 8;\r\n            }\r\n        }\r\n\r\n        switch (options.mode)\r\n        {\r\n            case TextModeEnum.Numeric: value = Number(value).toFixed(decimals); break;\r\n            case TextModeEnum.Currency: value = Number(value).vrToCurrencyString(formatSettings); break;\r\n            case TextModeEnum.Percentage: value = (Number(value) / 100).vrToPercentageString(formatSettings); break;\r\n        }\r\n        return value;\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region Events\r\n    change(): void\r\n    {\r\n        let changeCallBack = this.options<TextBoxOptions>().onChanged;\r\n        if (changeCallBack != null)\r\n        {\r\n            let changeEvent = new TextBoxChangeEvent();\r\n            changeEvent.sender = this;\r\n            changeEvent.value = this.value();\r\n            changeEvent.oldValue = this._oldValue;\r\n            changeCallBack(changeEvent);\r\n        }\r\n    }\r\n    //#endregion\r\n}\r\n\r\nexport class TextBoxMultiline extends TextBox { }\r\nexport class TextBoxNumeric extends TextBox { }\r\nexport class TextBoxPassword extends TextBox { }\r\nexport class TextBoxCurrency extends TextBox { }\r\nexport class TextBoxPercentage extends TextBox { }\r\n//#endregion\r\n\r\n//#region EventClasses\r\nexport class TextBoxEvent extends VrControlsEvent\r\n{\r\n    sender: TextBox;\r\n    value: string | number | null;\r\n}\r\n\r\nclass TextBoxChangeEvent extends TextBoxEvent\r\n{\r\n    oldValue: string | number | null;\r\n}\r\n\r\nclass TextBoxFocusEvent extends TextBoxEvent\r\n{\r\n}\r\n\r\nclass TextBoxBlurEvent extends TextBoxEvent\r\n{\r\n    target: HTMLElement;\r\n}\r\n\r\nclass TextBoxPasteEvent extends TextBoxEvent\r\n{\r\n    pastedValue: string;\r\n}\r\n\r\nclass TextBoxKeyUpPressEvent extends TextBoxEvent\r\n{\r\n    key: string;\r\n    shiftKey: boolean;\r\n    altKey: boolean;\r\n    ctrlKey: boolean;\r\n    enterKey: boolean;\r\n    backSpaceKey: boolean;\r\n    tabKey: boolean;\r\n}\r\n\r\nclass TextBoxKeyUpEvent extends TextBoxKeyUpPressEvent\r\n{\r\n    validForNumeric: boolean;\r\n}\r\n\r\nclass TextBoxKeyDownEvent extends TextBoxKeyUpPressEvent\r\n{\r\n    validForNumeric: boolean;\r\n}\r\n\r\nclass TextBoxEnterKeyEvent extends TextBoxEvent\r\n{\r\n}\r\n//#endregion","import { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, ComboBoxTypeEnum, ComboBoxTreeModeEnum, ComboBoxItem, IconClassicLight, IconClass, createTextBox, ControlPositionEnum, TextAlignEnum, PositionEnum, PopupSettings, ComboBoxWebServiceSettings, puma, createCheckBox, CheckboxStateEnum, KeyEnum, WebApiModeEnum, shadowRoot, createButton, ComboBoxTemplateEvent, ComboBoxChangeEvent, ComboBoxChangingEvent, ComboBoxClearEvent, SortDirectionEnum, SortByComboSettings, IconClassicRegular, icon, IconClassicSolid } from \"../vr\";\r\nimport { UtilityManager } from \"../../managers/utilityManager\";\r\nimport { TextBox } from \"./textbox\";\r\nimport { CheckBox } from \"./checkbox\";\r\nimport { Button, ButtonOptions } from \"./button\";\r\nimport { Icon } from \"./icon\";\r\n\r\n//#region Options\r\nexport class ComboBoxOptions extends VrControlOptions\r\n{\r\n    mode?: ComboBoxTypeEnum;\r\n    checkboxes?: boolean;\r\n    freeText?: boolean;\r\n    filter?: boolean;\r\n    treeMode?: ComboBoxTreeModeEnum;\r\n    value?: string | number | string[] | number[];\r\n    webService?: ComboBoxWebServiceSettings;\r\n    items?: ComboBoxItem[];\r\n    clearButton?: boolean;\r\n    addButton?: boolean | ButtonOptions;\r\n    nullable?: boolean | ComboBoxNullableItem;\r\n    textAlign?: TextAlignEnum;\r\n    placeholder?: string;\r\n    popupSettings?: PopupSettings;\r\n    allSelectedMessage?: string;\r\n    textEllipsis?: boolean;\r\n    onlyIcon?: boolean;\r\n    icon?: IconClass;\r\n    imageUrl?: string;\r\n    checkAll?: boolean;\r\n    showCheckAll?: boolean | CheckAllSettings;\r\n    tooltip?: string;\r\n    template?: (e: ComboBoxTemplateEvent) => string;\r\n\r\n    onBeforeChange?(e: ComboBoxChangingEvent): void;\r\n    onAfterChange?(e: ComboBoxChangeEvent): void;\r\n    onKeyDown?(e: ComboBoxKeyDownEvent): void;\r\n    onKeyUp?(e: ComboBoxKeyUpEvent): void;\r\n    onEnterKey?(e: ComboBoxEnterKeyEvent): void;\r\n    onBeforeOpen?(e: ComboBoxOpenEvent): void;\r\n    onAfterOpen?(e: ComboBoxOpenEvent): void;\r\n    onClose?(e: ComboBoxCloseEvent): void;\r\n    onItemDataBound?(e: ComboBoxItemDataBoundEvent): void;\r\n    onBlur?(e: ComboBoxBlurEvent): void;\r\n    onClear?(e: ComboBoxClearEvent): void;\r\n    onPaste?(e: ComboBoxPasteEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class ComboBox extends VrControl\r\n{\r\n    private _items: ComboBoxItem[];\r\n    private _popup: HTMLElement;\r\n    private _isDivElement: boolean;\r\n    private _value?: string[] | null;\r\n    private _tempValueWebService?: string[] | null;\r\n    private _txtSearchFilter: TextBox;\r\n    private _chkCheckAll: CheckBox;\r\n    private _typedTextWebService: string | null;\r\n    private _isChecked: boolean;\r\n    private _tempCheckedValue: string | null;\r\n    private _openPopupAfterFocus: boolean;\r\n    private _btnCombo: Button;\r\n    private _divPickerIcon: HTMLElement;\r\n    private _allCheckedOnlyIcon: HTMLElement;\r\n    private _iconCombo: HTMLElement | null;\r\n\r\n    private _dictionaryValueLi: Map<string, HTMLElement[]>;\r\n    private _checkedValues: string[];\r\n    private _openedValue: any;\r\n    private _lastAjaxCallGuid: string;\r\n    private _focusWithArrows: boolean;\r\n    private _callbackAfterValue?: null | ((e: ComboBoxChangeEvent) => void);\r\n\r\n    constructor(element: HTMLElement, options?: ComboBoxOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new ComboBoxOptions();\r\n\r\n        if (options.mode == null) options.mode = ComboBoxTypeEnum.Combo;\r\n        if (options.treeMode == null) options.treeMode = ComboBoxTreeModeEnum.AllExpanded;\r\n        if (options.freeText == null) options.freeText = false;\r\n        if (options.checkboxes == null) options.checkboxes = false;\r\n        if (options.filter == null) options.filter = false;\r\n        if (options.clearButton == null) options.clearButton = false;\r\n        if (options.addButton == null) options.addButton = false;\r\n        if (options.textAlign == null) options.textAlign = TextAlignEnum.Left;\r\n        if (options.textEllipsis == null) options.textEllipsis = false;\r\n        if (options.checkAll == null) options.checkAll = false;\r\n\r\n        if (options.showCheckAll == null && options.checkboxes == true) options.showCheckAll = true;\r\n        if (options.showCheckAll != null && typeof (options.showCheckAll) != \"boolean\")\r\n            if (options.showCheckAll.triggerChange == null) options.showCheckAll.triggerChange = true;\r\n\r\n        if (options.popupSettings == null)\r\n            options.popupSettings = { maxHeight: 200, maxWidth: 500 };\r\n        else if (options.popupSettings.maxHeight == null && options.popupSettings.height == null)\r\n            options.popupSettings.maxHeight = 200;\r\n        else if (options.popupSettings.maxWidth == null && options.popupSettings.width == null)\r\n            options.popupSettings.maxWidth = 500;\r\n\r\n        if (options.mode == ComboBoxTypeEnum.DropDown) \r\n        {\r\n            options.checkboxes = false;\r\n            options.freeText = false;\r\n            options.placeholder = undefined;\r\n        }\r\n\r\n        if (options.webService != null || options.freeText) \r\n        {\r\n            options.mode = ComboBoxTypeEnum.Combo;\r\n            options.checkboxes = false;\r\n            options.filter = false;\r\n\r\n            if (options.webService != null)\r\n            {\r\n                options.items = undefined;\r\n                if (options.webService.searchAfterCharsNumber == null) options.webService.searchAfterCharsNumber = 3;\r\n            }\r\n        }\r\n\r\n        if (options.mode == ComboBoxTypeEnum.Combo && !options.checkboxes)\r\n            options.filter = false;\r\n\r\n        if (options.checkboxes === true) \r\n        {\r\n            options.mode = ComboBoxTypeEnum.Combo;\r\n            options.nullable = false;\r\n        }\r\n\r\n        if (options.onlyIcon == null) options.onlyIcon = false;\r\n        if (options.width == null) options.width = (options.onlyIcon) ? 40 : 200;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.ComboBox);\r\n        puma(element).attr(\"type\", \"text\");\r\n        puma(element).attr(\"autocomplete\", \"off\");\r\n\r\n        this._isDivElement = puma(this.element()).is(\"div\");\r\n\r\n        this._checkedValues = [];\r\n        this._openPopupAfterFocus = true;\r\n\r\n        this.items((options.items != null) ? options.items : [], false);\r\n\r\n        //#region Mode\r\n        switch (options.mode)\r\n        {\r\n            case ComboBoxTypeEnum.Combo: puma(this.element()).addClass(\"vrComboBox\"); break;\r\n            case ComboBoxTypeEnum.DropDown: puma(this.element()).addClass(\"vrComboBoxDropDown\"); break;\r\n        }\r\n\r\n        if (options.mode == ComboBoxTypeEnum.Combo)\r\n        {\r\n            if (this._isDivElement)\r\n                puma(this.element()).addClass(\"vrComboBoxCheckbox\");\r\n            else\r\n            {\r\n                puma(this.element()).addClass(\"vrComboBox\");\r\n                if (options.placeholder != null)\r\n                    (this.element() as HTMLInputElement).placeholder = options.placeholder;\r\n            }\r\n        }\r\n\r\n        if (options.mode == ComboBoxTypeEnum.DropDown || options.checkboxes)\r\n        {\r\n            if (!this._isDivElement)\r\n                throw Error(\"L'element html deve essere un div\");\r\n        }\r\n        else if (this._isDivElement)\r\n            throw Error(\"L'element html deve essere un input\");\r\n        //#endregion\r\n\r\n        //#region Tooltip\r\n        if (options.tooltip != null)\r\n            puma(this.element()).attr(\"title\", options.tooltip);\r\n        //#endregion\r\n\r\n        //#region Picker icon\r\n        let pickerIcon = UtilityManager.createIcon(IconClassicLight.CaretDown);\r\n        let classPickerIcon = \"vrDivPickerIconComboBox\";\r\n        if (this._isDivElement)\r\n            classPickerIcon = \"vrDivPickerIconComboBoxDropDown\";\r\n\r\n        this._divPickerIcon = puma(\"<div class='\" + classPickerIcon + \"'></div>\").vrAppendToPuma(this.container())[0];\r\n        puma(this._divPickerIcon).vrAppendPuma(pickerIcon);\r\n        puma(this._divPickerIcon).click(() => \r\n        {\r\n            if (puma(\".comboBox_divPopup\").is(\":visible\"))\r\n                this.close();\r\n            else\r\n            {\r\n                this.open();\r\n                this.focus();\r\n            }\r\n        });\r\n\r\n        puma(this._divPickerIcon).on(\"mouseenter\", (e: JQuery.MouseEnterEvent) => puma(this.element()).addClass(\"hoverClass\"))\r\n        puma(this._divPickerIcon).on(\"mouseleave\", (e: JQuery.MouseLeaveEvent) => puma(this.element()).removeClass(\"hoverClass\"))\r\n\r\n        if (options.label != null && options.labelSettings!.position == PositionEnum.Top)\r\n            this._divPickerIcon.style.cssText += \"bottom: 1px; top: inherit;\";\r\n        //#endregion\r\n\r\n        //#region Clear button\r\n        let clearIcon = UtilityManager.createIcon(IconClassicRegular.Xmark);\r\n        let divClearIcon = puma(\"<div class='vrDivComboBoxClearIcon' style='display: none;'></div>\").vrAppendToPuma(this.container())[0];\r\n        if (options.addButton !== false)\r\n            divClearIcon.style.cssText += \"right: 57px;\";\r\n\r\n        puma(divClearIcon).vrAppendPuma(clearIcon);\r\n        puma(divClearIcon).click((e: any) => \r\n        {\r\n            if (this.enabled())\r\n                this.clear(true);\r\n        });\r\n        //#endregion\r\n\r\n        //#region Button\r\n        if (options.addButton !== false)\r\n        {\r\n            if (options.addButton === true) options.addButton = new ButtonOptions();\r\n            if (options.addButton.icon == null) options.addButton.icon = IconClassicLight.Plus;\r\n            options.addButton.cssContainer = options.addButton.cssContainer + \"; position: absolute; right: 0px; bottom: 0px;\";\r\n            options.addButton.css = options.addButton.css + \"; border-top-left-radius: 0px; border-bottom-left-radius: 0px; height: 26px;\";\r\n            if (options.addButton.enable == null) options.addButton.enable = options.enable;\r\n\r\n            this._btnCombo = createButton(options.addButton, this.container());\r\n\r\n            if (options.addButton.visible !== false)\r\n                this._divPickerIcon.classList.add(\"vrComboDivPickerWithButton\");\r\n        }\r\n        //#endregion\r\n\r\n        //#region Value\r\n        if (options.value != null)\r\n            this.value(options.value, false);\r\n        //#endregion\r\n\r\n        //#region Text align\r\n        switch (options.textAlign)\r\n        {\r\n            case TextAlignEnum.Left: this.element().style.cssText += \"text-align: left;\"; break;\r\n            case TextAlignEnum.Center: this.element().style.cssText += \"text-align: center;\"; break;\r\n            case TextAlignEnum.Right: this.element().style.cssText += \"text-align: right;\"; break;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Icon/ImageUrl\r\n        this._iconCombo = null;\r\n        if (options.icon != null)\r\n        {\r\n            let style = \"\";\r\n            if (this.options().label == null)\r\n                style = \"margin-left: 6px; margin-top: -1px;\";\r\n            else\r\n            {\r\n                let labelWidth = puma(this.container()).find(\".vrLabel\").width();\r\n                if (options.labelSettings != null && options.labelSettings.width != null)\r\n                    labelWidth = options.labelSettings.width;\r\n\r\n                if (this.options().labelSettings!.position == PositionEnum.Left || this.options().labelSettings!.position == PositionEnum.Right)\r\n                    style = \"margin-left: \" + (labelWidth + 10) + \"px; margin-top: -1px;\";\r\n                else\r\n                    style = \"left: 6px; bottom: 6px;\";\r\n            }\r\n\r\n            this._iconCombo = puma(\"<i class='\" + options.icon + \"' style='cursor: pointer; font-size: 14px; position: absolute;\" + style + \"'></i>\")[0];\r\n            puma(this.element()).vrBeforePuma(this._iconCombo);\r\n            this.element().style.cssText += \"text-indent: 18px;\";\r\n\r\n            if (options.tooltip != null)\r\n                puma(this._iconCombo).attr(\"title\", options.tooltip);\r\n\r\n            puma(this._iconCombo).click(() => \r\n            {\r\n                if (puma(\".comboBox_divPopup\").is(\":visible\"))\r\n                    this.close();\r\n                else\r\n                {\r\n                    this.open();\r\n                    this.focus();\r\n                }\r\n            });\r\n\r\n            puma(this._iconCombo).on(\"mouseenter\", (e: JQuery.MouseEnterEvent) => puma(this.element()).addClass(\"hoverClass\"))\r\n            puma(this._iconCombo).on(\"mouseleave\", (e: JQuery.MouseLeaveEvent) => puma(this.element()).removeClass(\"hoverClass\"))\r\n        }\r\n        else if (options.imageUrl != null)\r\n            this.element().style.cssText += \"background-image: url(\" + options.imageUrl + \"); background-position: 4px 5px; background-repeat: no-repeat; text-indent: 13px;\";\r\n        //#endregion\r\n\r\n        //#region Only icons\r\n        if (options.onlyIcon && options.icon != null)\r\n            this._allCheckedOnlyIcon = icon(IconClassicSolid.Check, this._iconCombo, { css: \"display: none; position: absolute; z-index: 2; font-size: 9px; top: -5px; right: -7px;\" });\r\n        //#endregion\r\n\r\n        //#region Check all\r\n        if (options.checkAll)\r\n            this.checkAll(false);\r\n        //#endregion\r\n\r\n        //#region Searching text\r\n        if (options.mode == ComboBoxTypeEnum.Combo)\r\n        {\r\n            puma(this.element()).keydown((e: JQuery.KeyDownEvent) =>\r\n            {\r\n                this.open();\r\n                if (options!.onKeyDown != null)\r\n                {\r\n                    let onKeyDownEvent = new ComboBoxKeyDownEvent();\r\n                    onKeyDownEvent.sender = this;\r\n                    onKeyDownEvent.event = e;\r\n                    options!.onKeyDown(onKeyDownEvent);\r\n\r\n                    if (onKeyDownEvent.isDefaultPrevented())\r\n                        return;\r\n                }\r\n\r\n                if (options!.onEnterKey != null && e.key == KeyEnum.Enter)\r\n                {\r\n                    let onEnterKeyEvent = new ComboBoxEnterKeyEvent();\r\n                    onEnterKeyEvent.sender = this;\r\n                    onEnterKeyEvent.value = this.value();\r\n                    options!.onEnterKey(onEnterKeyEvent);\r\n\r\n                    if (onEnterKeyEvent.isDefaultPrevented())\r\n                        return;\r\n                }\r\n\r\n                if (e.key != KeyEnum.Tab)\r\n                    this.limitInputByDataSource((this.element() as HTMLInputElement), e);\r\n\r\n                let text = (this.element() as HTMLInputElement).value;\r\n                let selectionStart = (this.element() as HTMLInputElement).selectionStart;\r\n                let selectionEnd = (this.element() as HTMLInputElement).selectionEnd;\r\n                if (selectionEnd != null && selectionStart != null && ((selectionEnd - selectionStart) == text.length) && e.key == KeyEnum.Backspace)\r\n                {\r\n                    this.value(null);\r\n                    this.change();\r\n                }\r\n                else if (e.key == KeyEnum.Backspace && text.length == 0)\r\n                    this.change();\r\n            });\r\n\r\n            let timeout = 0;\r\n            puma(this.element()).keyup((e: JQuery.KeyUpEvent) =>\r\n            {\r\n                this.open();\r\n                if (e.key == KeyEnum.ArrowRight || e.key == KeyEnum.ArrowLeft || e.key == KeyEnum.Control || e.ctrlKey)\r\n                {\r\n                    if (!(e.key == \"v\" && e.ctrlKey))\r\n                    {\r\n                        e.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                if (options!.onKeyUp != null)\r\n                {\r\n                    let onKeyUpEvent = new ComboBoxKeyUpEvent();\r\n                    onKeyUpEvent.sender = this;\r\n                    onKeyUpEvent.event = e;\r\n                    options!.onKeyUp(onKeyUpEvent);\r\n\r\n                    if (onKeyUpEvent.isDefaultPrevented())\r\n                        return;\r\n                }\r\n\r\n                if (e.key == KeyEnum.ArrowDown && !options!.checkboxes)\r\n                {\r\n                    let li = null;\r\n                    if (this.value() == null)\r\n                        li = puma(this._popup).find(\"li:visible\").first();\r\n                    else\r\n                        li = puma(this._dictionaryValueLi.get(this.value<string>()!)).next();\r\n\r\n                    li.focus();\r\n\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n\r\n                if (e.key == KeyEnum.ArrowUp && !options!.checkboxes)\r\n                {\r\n                    let li = null;\r\n                    if (this.value() == null)\r\n                        li = puma(this._popup).find(\"li:visible\").first();\r\n                    else\r\n                        li = puma(this._dictionaryValueLi.get(this.value<string>()!)).prev();\r\n\r\n                    li.focus();\r\n\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n\r\n                if (e.key == KeyEnum.Enter || e.key == KeyEnum.Tab || e.key == KeyEnum.Shift)\r\n                    return;\r\n                else\r\n                    this._value = null;\r\n\r\n                if (e.key != KeyEnum.Tab)\r\n                    this.limitInputByDataSource((this.element() as HTMLInputElement), e);\r\n\r\n                clearTimeout(timeout);\r\n                timeout = window.setTimeout(() =>\r\n                {\r\n                    let text = (this.element() as HTMLInputElement).value;\r\n                    if (options!.webService == null)\r\n                    {\r\n                        let filteredItems = this.filter(text, this.element());\r\n                        if (e.key == \"v\" && e.ctrlKey && filteredItems.length == 1)\r\n                        {\r\n                            this.value(filteredItems[0].value);\r\n                            this.close();\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (text == \"\")\r\n                        {\r\n                            this._items = [];\r\n                            puma(this._popup).find(\"ul\").remove();\r\n                            return;\r\n                        }\r\n                        else\r\n                        {\r\n                            if (text.length < options!.webService!.searchAfterCharsNumber!)\r\n                                return;\r\n\r\n                            let selectionStart = (this.element() as HTMLInputElement).selectionStart;\r\n                            let selectionEnd = (this.element() as HTMLInputElement).selectionEnd;\r\n                            if (!(selectionStart == 0 && selectionEnd == (this.element() as HTMLInputElement).value.length))\r\n                                this.doAjaxCall(text);\r\n                        }\r\n                    }\r\n                }, 300);\r\n            });\r\n\r\n            puma(this.element()).on(\"paste\", (e: any) =>\r\n            {\r\n                this.open();\r\n                let pastedValue = e.originalEvent.clipboardData.getData(\"text\");\r\n\r\n                timeout = window.setTimeout(() =>\r\n                {\r\n                    if (options!.onPaste != null)\r\n                    {\r\n                        let event = new ComboBoxPasteEvent();\r\n                        event.sender = this;\r\n                        event.pastedValue = pastedValue;\r\n                        event.value = this.value() + pastedValue;\r\n                        event.event = e;\r\n                        options!.onPaste(event);\r\n\r\n                        if (event.isDefaultPrevented())\r\n                        {\r\n                            e.preventDefault();\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    let text = (this.element() as HTMLInputElement).value;\r\n                    if (options!.webService == null)\r\n                    {\r\n                        let filteredItems = this.filter(text, this.element());\r\n                        if (e.key == \"v\" && e.ctrlKey && filteredItems.length == 1)\r\n                        {\r\n                            this.value(filteredItems[0].value);\r\n                            this.close();\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (text == \"\")\r\n                        {\r\n                            this._items = [];\r\n                            puma(this._popup).find(\"ul\").remove();\r\n                            return;\r\n                        }\r\n                        else\r\n                        {\r\n                            let selectionStart = (this.element() as HTMLInputElement).selectionStart;\r\n                            let selectionEnd = (this.element() as HTMLInputElement).selectionEnd;\r\n                            if (!(selectionStart == 0 && selectionEnd == (this.element() as HTMLInputElement).value.length))\r\n                                this.doAjaxCall(text);\r\n                        }\r\n                    }\r\n                }, 300);\r\n            })\r\n        }\r\n        //#endregion\r\n\r\n        //#region Click/Focus\r\n        if (!this._isDivElement)\r\n        {\r\n            puma(this.element()).focus((e: any) => \r\n            {\r\n                (this.element() as HTMLInputElement).select();\r\n                if (this._openPopupAfterFocus)\r\n                    this.open();\r\n\r\n                this._openPopupAfterFocus = true;\r\n            });\r\n            puma(this.element()).blur((e: any) => window.setTimeout(() => \r\n            {\r\n                if (this.value() == null && puma(this._popup).find(\".keydownFocus\").length == 0)\r\n                    this.filter(\"\", this.element());\r\n\r\n                if (this._popup != null && !this._focusWithArrows)\r\n                    this.close();\r\n\r\n                if (options!.onBlur != null)\r\n                {\r\n                    let blurEvent = new ComboBoxBlurEvent();\r\n                    blurEvent.sender = this;\r\n                    blurEvent.value = this.value();\r\n                    options!.onBlur(blurEvent);\r\n                }\r\n            }, 200));\r\n        }\r\n        else\r\n            puma(this.element()).click((e: any) => { (puma(this._popup).is(\":visible\")) ? this.close() : this.open() });\r\n        //#endregion\r\n\r\n        let baseListener = (shadowRoot() != null) ? shadowRoot() : document;\r\n        baseListener!.addEventListener(\"scroll\", (e) =>\r\n        {\r\n            if (!puma(e.target).hasClass(\"comboBox_divPopup\") && puma(this._popup).is(\":visible\"))\r\n            {\r\n                this.blur()\r\n                this.close();\r\n            }\r\n        }, true);\r\n    }\r\n\r\n    //#region Methods\r\n    close(): void\r\n    {\r\n        let options = this.getOptions();\r\n        puma(this._popup).remove();\r\n        (this._popup as any) = null;\r\n        this._focusWithArrows = false;\r\n        this._dictionaryValueLi = new Map<string, HTMLElement[]>();\r\n\r\n        if (this._isDivElement)\r\n            puma(\"#vrComboBoxBackground_\" + this.element().id).remove();\r\n\r\n        if (options.onClose != null)\r\n        {\r\n            let closeEvent = new ComboBoxCloseEvent();\r\n            closeEvent.sender = this;\r\n            closeEvent.beforeValue = this._openedValue;\r\n            closeEvent.afterValue = this.value();\r\n            options.onClose(closeEvent);\r\n        }\r\n\r\n        if (options.mode == ComboBoxTypeEnum.Combo && this._value == null)\r\n        {\r\n            if (options.freeText)\r\n                this.valueInternal((this.element() as HTMLInputElement).value);\r\n            else\r\n                (this.element() as HTMLInputElement).value = \"\";\r\n        }\r\n    }\r\n\r\n    open(): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (!this.enabled())\r\n            return;\r\n\r\n        if (puma(this._popup).is(\":visible\"))\r\n            return;\r\n\r\n        if (options.onBeforeOpen != null)\r\n        {\r\n            let beforeOpenEvent = new ComboBoxOpenEvent();\r\n            beforeOpenEvent.sender = this;\r\n            beforeOpenEvent.value = this.value();\r\n            options.onBeforeOpen(beforeOpenEvent);\r\n\r\n            if (beforeOpenEvent.isDefaultPrevented())\r\n                return;\r\n        }\r\n\r\n        if (this._popup == null)\r\n            this._popup = puma(\"<div class='comboBox_divPopup vrPopup' id='\" + this.element().id + \"_divPopup'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n\r\n        if (this.getRootItems().length == 0)\r\n            puma(this._popup).addClass(\"vrComboBoxFlat\");\r\n        else\r\n            puma(this._popup).removeClass(\"vrComboBoxFlat\");\r\n\r\n        window.setTimeout(() =>\r\n        {\r\n            this.drawDataSource();\r\n\r\n            if (this._isDivElement)\r\n            {\r\n                let zIndex = puma(this._popup).css(\"z-index\") - 1;\r\n                let background = puma(\"<div class='vrWindowBackground' id='vrComboBoxBackground_\" + this.element().id + \"' style='background-color: transparent; display: block; z-index: \" + zIndex + \";'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n                puma(background).click((e: any) => this.close());\r\n            }\r\n\r\n            //#region Popup\r\n            let minWidth = puma(this.element()).outerWidth();\r\n            if (options.popupSettings!.width != null && minWidth > options.popupSettings!.width)\r\n                minWidth = options.popupSettings!.width;\r\n\r\n            if (options.popupSettings!.minWidth != null)\r\n                minWidth = options.popupSettings!.minWidth;\r\n\r\n            if (minWidth < 100)\r\n                minWidth = 100;\r\n\r\n            if (options.popupSettings != null)\r\n                options.popupSettings.minWidth = minWidth;\r\n            else\r\n                this._popup.style.cssText += \"min-width: \" + minWidth + \"px;\";\r\n\r\n            super.settingPopup(this._popup, options.popupSettings!);\r\n            //#endregion\r\n\r\n            //#region Check all\r\n            if (options.showCheckAll)\r\n            {\r\n                this._chkCheckAll = createCheckBox(\r\n                    {\r\n                        addToControlList: false,\r\n                        text: \"Seleziona tutti...\",\r\n                        width: \"100%\",\r\n                        cssContainer: \"padding-bottom: 5px; margin-bottom: 5px; border-bottom: solid 1px #d0d0d0;\",\r\n                        class: \"vrComboBoxSelectAll\",\r\n                        enable: options.enable,\r\n                        onCheck: (e) => \r\n                        {\r\n                            let triggerChange = true;\r\n                            if (typeof (options!.showCheckAll) == \"boolean\")\r\n                                triggerChange = options!.showCheckAll;\r\n                            else\r\n                                triggerChange = options!.showCheckAll!.triggerChange!;\r\n\r\n                            if (e.checked)\r\n                                this.checkAll(triggerChange);\r\n                            else\r\n                                this.unCheckAll(triggerChange);\r\n                        }\r\n                    }, this._popup, ControlPositionEnum.Before);\r\n            }\r\n            //#endregion\r\n\r\n            //#region Filter\r\n            if (options.filter === true && puma(this._popup).find(\".vrComboBoxFilter\").length == 0)\r\n            {\r\n                let timeout = 0;\r\n                this._txtSearchFilter = createTextBox(\r\n                    {\r\n                        width: \"100%\",\r\n                        icon: IconClassicLight.Search,\r\n                        placeholder: \"Cerca...\",\r\n                        class: \"vrComboBoxFilter\",\r\n                        cssContainer: \"margin-bottom: 5px; margin-top: 5px;\",\r\n                        onKeyDown: (e) =>\r\n                        {\r\n                            this.limitInputByDataSource(e.sender.element() as HTMLInputElement, e);\r\n                        },\r\n                        onKeyUp: (e) =>\r\n                        {\r\n                            this.limitInputByDataSource(e.sender.element() as HTMLInputElement, e);\r\n                            clearTimeout(timeout);\r\n                            timeout = window.setTimeout(() => \r\n                            {\r\n                                let text: string = e.sender.value();\r\n                                this.filter(text, this._txtSearchFilter.element());\r\n                            }, 100);\r\n                        }\r\n                    }, this._popup, ControlPositionEnum.Before);\r\n            }\r\n\r\n            if (this._txtSearchFilter != null)\r\n                puma(this._txtSearchFilter.element()).focus();\r\n            //#endregion  \r\n\r\n            //#region Value\r\n            if (options.webService == null)\r\n                this.value(this.value(), false);\r\n\r\n            this._openedValue = this.value();\r\n\r\n            if (!options.checkboxes)\r\n            {\r\n                let liValue = this._dictionaryValueLi.get(this.value<string>()!);\r\n                if (liValue != null)\r\n                {\r\n                    puma(liValue).addClass(\"vrComboBoxSelectedComboValue\");\r\n\r\n                    let topPosition = puma(liValue).offset().top - puma(this._popup).offset().top - (puma(this._popup).height() / 2);\r\n                    if (topPosition < 0) topPosition = 0;\r\n                    this._popup.scrollTo(0, topPosition);\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            if (options.onAfterOpen != null)\r\n            {\r\n                let afterOpenEvent = new ComboBoxOpenEvent();\r\n                afterOpenEvent.sender = this;\r\n                afterOpenEvent.value = this._openedValue;\r\n                options.onAfterOpen(afterOpenEvent);\r\n            }\r\n        });\r\n    }\r\n\r\n    private limitInputByDataSource(element: HTMLInputElement, e: any): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.webService != null || options.freeText === true)\r\n            return;\r\n\r\n        let filtered = this.getFilteredArrayByInputText(element.value);\r\n        if (filtered.length == 0)\r\n        {\r\n            let newText = element.value;\r\n            element.value = newText.substring(0, newText.length - 1);\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n    }\r\n\r\n    private filter(text: string, element: HTMLElement)\r\n    {\r\n        let selectionStart = (element as HTMLInputElement).selectionStart;\r\n        let selectionEnd = (element as HTMLInputElement).selectionEnd;\r\n        let itemsToReturn: ComboBoxItem[] = [];\r\n\r\n        if (text == \"\" || text == null)\r\n        {\r\n            puma(this._popup).find(\"li\").show();\r\n            if (this.getOptions().webService != null)\r\n            {\r\n                this._items = [];\r\n                puma(this._popup).find(\".vrComboBoxUl\").remove();\r\n            }\r\n        }\r\n        else if (!(selectionStart == 0 && selectionEnd == (element as HTMLInputElement).value.length))\r\n        {\r\n            puma(this._popup).find(\"li\").hide();\r\n\r\n            let items = this.getFilteredArrayByInputText(text);\r\n            itemsToReturn = items;\r\n\r\n            let values = items.map(k => k.value);\r\n            let texts = items.map(k => UtilityManager.htmlDecode(k.text));\r\n\r\n            for (let item of items)\r\n            {\r\n                let parentValue = item.parentValue;\r\n                while (parentValue != null)\r\n                {\r\n                    let parentItem = this.items().filter(k => k.value == parentValue)[0];\r\n                    if (!values.includes(parentValue))\r\n                    {\r\n                        values.push(parentValue);\r\n                        texts.push(UtilityManager.htmlDecode(parentItem.text));\r\n                    }\r\n                    parentValue = (parentItem != null) ? parentItem.parentValue : undefined;\r\n                    if (parentValue == parentItem.value)\r\n                        parentValue = undefined;\r\n                }\r\n            }\r\n\r\n            for (let comboItemText of Array.from<HTMLSpanElement>(puma(this._popup).find(\".vrComboBoxItemText\")))\r\n            {\r\n                if (texts.includes(String(puma(comboItemText).attr(\"text\")).trim()))\r\n                {\r\n                    puma(comboItemText).closest(\".vrComboBoxLi\").show();\r\n                    puma(comboItemText).closest(\".vrComboBoxLi\").closest(\".vrComboBoxUl\").show();\r\n\r\n                    puma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").removeClass(\"caret-right caret-down\");\r\n                    puma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").children(\"i\").removeClass(IconClassicLight.CaretRight + \" \" + IconClassicLight.CaretDown);\r\n                    puma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").addClass(\"caret-down\");\r\n                    puma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").children(\"i\").addClass(IconClassicLight.CaretDown);\r\n                }\r\n            }\r\n        }\r\n        return itemsToReturn;\r\n    }\r\n\r\n    private drawDataSource(searchedText?: string | null): void\r\n    {\r\n        puma(this._popup).find(\".vrComboBoxUl\").remove();\r\n\r\n        let items = this.items();\r\n        if (searchedText != null)\r\n            items = this.getFilteredArrayByInputText(searchedText);\r\n\r\n        if (items.length == 1 && items[0] == null)\r\n            return;\r\n\r\n        this._dictionaryValueLi = new Map<string, HTMLElement[]>();\r\n        items = items.filter(k => k.parentValue == null);\r\n\r\n        if (this._popup != null)\r\n            this.drawItems(items, this._popup);\r\n    }\r\n\r\n    private drawItems(items: ComboBoxItem[], elementToAppend: HTMLElement): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (items.length == 0)\r\n            return;\r\n\r\n        let ul = puma(\"<ul class='vrComboBoxUl'></ul>\").vrAppendToPuma(elementToAppend);\r\n        for (let item of items)\r\n        {\r\n            if (item.value == null)\r\n                item.value = item.text;\r\n\r\n            let children = this.getOnlyChildrenItems(item);\r\n\r\n            let li = puma(\"<li class='vrComboBoxLi' tabindex='-1'></li>\").vrAppendToPuma(ul);\r\n            if (this._dictionaryValueLi.has(String(item.value)))\r\n            {\r\n                let actualLiList = this._dictionaryValueLi.get(String(item.value))!;\r\n                actualLiList.push(li[0]);\r\n                this._dictionaryValueLi.set(String(item.value), actualLiList);\r\n            }\r\n            else\r\n                this._dictionaryValueLi.set(String(item.value), [li[0]]);\r\n\r\n            //#region Key support\r\n            if (!options.checkboxes)\r\n            {\r\n                puma(li).on(\"focusin\", (e: JQuery.FocusEvent) => \r\n                {\r\n                    this._focusWithArrows = true;\r\n                    puma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n\r\n                    if (children.length == 0)\r\n                        puma(e.target).addClass(\"vrComboBoxSelectedComboValue keydownFocus\");\r\n                });\r\n                puma(li).on(\"keydown\", (e: JQuery.KeyDownEvent) =>\r\n                {\r\n                    if (e.key == KeyEnum.ArrowDown)\r\n                    {\r\n                        let next = puma(e.currentTarget).next();\r\n                        if (next.length == 0)\r\n                            return;\r\n\r\n                        puma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n                        while (!next.is(\":visible\"))\r\n                            next = puma(next).next();\r\n\r\n                        next.focus();\r\n                    }\r\n                    else if (e.key == KeyEnum.ArrowUp)\r\n                    {\r\n                        let prev = puma(e.currentTarget).prev();\r\n                        if (prev.length == 0)\r\n                            return;\r\n\r\n                        puma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n                        while (!prev.is(\":visible\"))\r\n                            prev = puma(prev).prev();\r\n\r\n                        prev.focus();\r\n                    }\r\n                    else if (e.key == KeyEnum.Enter)\r\n                        puma(e.currentTarget).find(\".vrComboBoxItemText\").mousedown();\r\n                });\r\n            }\r\n            //#endregion\r\n\r\n            //#region Tree mode\r\n            if (options.treeMode == ComboBoxTreeModeEnum.AllCollapsed)\r\n            {\r\n                if (item.parentValue != null)\r\n                    puma(li).closest(\".vrComboBoxUl\").hide();\r\n            }\r\n            else if (options.treeMode == ComboBoxTreeModeEnum.OnlyFirstLevelExpanded)\r\n            {\r\n                if (puma(li).parents(\".vrComboBoxUl\").length > 2)\r\n                    puma(li).closest(\".vrComboBoxUl\").hide();\r\n            }\r\n            //#endregion\r\n\r\n            if (children.length > 0)\r\n            {\r\n                //#region Icon expand/collapse\r\n                let iconClassForDiv = \"\";\r\n                let iconClass = IconClassicLight.CaretRight;\r\n                if (options.treeMode == ComboBoxTreeModeEnum.AllCollapsed)\r\n                {\r\n                    iconClass = IconClassicLight.CaretRight;\r\n                    iconClassForDiv = \"caret-right\";\r\n                }\r\n                else if (options.treeMode == ComboBoxTreeModeEnum.OnlyFirstLevelExpanded)\r\n                {\r\n                    if (puma(li).parents(\".vrComboBoxUl\").length == 1)\r\n                    {\r\n                        iconClass = IconClassicLight.CaretDown;\r\n                        iconClassForDiv = \"caret-down\";\r\n                    }\r\n                    else\r\n                    {\r\n                        iconClass = IconClassicLight.CaretRight;\r\n                        iconClassForDiv = \"caret-right\";\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    iconClass = IconClassicLight.CaretDown;\r\n                    iconClassForDiv = \"caret-down\";\r\n                }\r\n\r\n                let divIcon = puma(\"<div class='vrComboBoxDivIconExpand \" + iconClassForDiv + \"'></div>\").vrAppendToPuma(li);\r\n                puma(UtilityManager.createIcon(iconClass)).vrAppendToPuma(divIcon);\r\n                puma(divIcon).click((e: any) =>\r\n                {\r\n                    puma(e.currentTarget).children(\"i\").removeClass(IconClassicLight.CaretRight + \" \" + IconClassicLight.CaretDown);\r\n                    puma(e.currentTarget).removeClass(\"caret-right caret-down\");\r\n\r\n                    let ulChildren = puma(e.currentTarget).siblings(\".vrComboBoxUl\");\r\n                    if (ulChildren.first().is(\":visible\"))\r\n                    {\r\n                        ulChildren.hide();\r\n                        puma(e.currentTarget).children(\"i\").addClass(IconClassicLight.CaretRight);\r\n                        puma(e.currentTarget).addClass(\"caret-right\");\r\n                    }\r\n                    else\r\n                    {\r\n                        ulChildren.show();\r\n                        puma(e.currentTarget).children(\"i\").addClass(IconClassicLight.CaretDown);\r\n                        puma(e.currentTarget).addClass(\"caret-down\");\r\n                    }\r\n                });\r\n                //#endregion\r\n            }\r\n\r\n            let comboItem = puma(\"<div class='vrComboBoxDivItemContainer'></div>\").vrAppendToPuma(li);\r\n            if (options.checkboxes)\r\n            {\r\n                let checkBox = puma(\"<input type='checkbox' class='vrCheckBox'></input>\").vrAppendToPuma(comboItem);\r\n                puma(checkBox).click((e: JQuery.ClickEvent) =>\r\n                {\r\n                    //#region Checkboxes\r\n                    let isChecked = e.currentTarget.checked;\r\n                    let value = item.value;\r\n\r\n                    if (isChecked)\r\n                        this._checkedValues.push(value);\r\n                    else\r\n                        this._checkedValues.vrDelete(value);\r\n\r\n                    let targetItem = this.items().filter(k => k.value == value)[0];\r\n                    if (targetItem != null && this.getOnlyChildrenItems(targetItem).length > 0)\r\n                    {\r\n                        let childrenItems = this.getAllChildrenItems(targetItem);\r\n                        if (e.currentTarget.checked)\r\n                            this._checkedValues.vrPushRange(childrenItems.map(k => k.value));\r\n\r\n                        let childrenCheckboxes = this.getChildrenCheckboxElements<JQuery>(targetItem, false);\r\n                        puma(childrenCheckboxes).prop(\"checked\", e.currentTarget.checked);\r\n\r\n                        for (let childItem of childrenItems)\r\n                        {\r\n                            if (!e.currentTarget.checked)\r\n                                this._checkedValues.vrDelete(childItem.value);\r\n                        }\r\n                    }\r\n                    //#endregion\r\n\r\n                    this._isChecked = e.currentTarget.checked;\r\n\r\n                    if (!this._isChecked)\r\n                        this._checkedValues.vrDelete(item.value);\r\n\r\n                    //#region Other checkboxes same value\r\n                    let comboItemTexts: HTMLSpanElement[] = [];\r\n                    let liList = this._dictionaryValueLi.get(String(item.value))!;\r\n                    for (let li of liList)\r\n                    {\r\n                        let comboItemText = puma(li).find(\".vrComboBoxItemText\")[0];\r\n                        comboItemTexts.push(comboItemText);\r\n                    }\r\n\r\n                    for (let comboItemText of comboItemTexts)\r\n                    {\r\n                        if (comboItemText == null)\r\n                            continue;\r\n\r\n                        let checkBox = puma(comboItemText).siblings(\"input\");\r\n                        puma(checkBox).removeClass(\"indeterminateVrCheckbox\");\r\n                        puma(checkBox).prop(\"checked\", this._isChecked);\r\n                        checkBox[0].checked = this._isChecked;\r\n                    }\r\n\r\n                    for (let otherItem of this.items().filter(k => k.value == item.value))\r\n                    {\r\n                        let parentChecked = this.manageCheckParent(otherItem);\r\n                        if (!parentChecked && otherItem.parentValue != null)\r\n                            this._checkedValues.vrDelete(otherItem.parentValue);\r\n                        else if (parentChecked && otherItem.parentValue != null && !this._checkedValues.includes(String(otherItem.parentValue)))\r\n                            this._checkedValues.push(String(otherItem.parentValue));\r\n                    }\r\n                    //#endregion\r\n\r\n                    let parentChecked = this.manageCheckParent(item);\r\n                    if (!parentChecked && item.parentValue != null)\r\n                        this._checkedValues.vrDelete(item.parentValue);\r\n                    else if (parentChecked && item.parentValue != null && !this._checkedValues.includes(String(item.parentValue)))\r\n                        this._checkedValues.push(String(item.parentValue));\r\n\r\n                    this._tempCheckedValue = String(item.value);\r\n                    this._checkedValues = this._checkedValues.vrDistinct();\r\n                    this.valueInternal(this._checkedValues);\r\n                    this._tempCheckedValue = null;\r\n                });\r\n            }\r\n\r\n            let rowText = item.text.replace(/'/g, \"&#39;\");\r\n            if (options.template != null)\r\n            {\r\n                let templateEvent = new ComboBoxTemplateEvent();\r\n                templateEvent.dataItem = item;\r\n                templateEvent.element = comboItem[0];\r\n                templateEvent.sender = this;\r\n                rowText = options.template(templateEvent);\r\n            }\r\n\r\n            let classIfCheckbox = (options.checkboxes) ? \"vrComboBoxItemTextCheckbox\" : \"\";\r\n            let comboItemText = puma(\"<span title='\" + item.text + \"' text='\" + item.text.replace(/'/g, \"&#39;\") + \"' class='vrComboBoxItemText \" + classIfCheckbox + \"'>\" + rowText + \"</span>\").vrAppendToPuma(comboItem);\r\n            puma(comboItemText).on(\"mousedown\", (e: JQuery.MouseDownEvent) =>\r\n            {\r\n                let value = item.value;\r\n                let item2 = this.items().filter(k => k.value == value)[0];\r\n                if (item2 != null && !this.getRootValues().includes(String(item2.value)))\r\n                {\r\n                    if (!options.checkboxes)\r\n                    {\r\n                        this.valueInternal(item2.value);\r\n                        this.close();\r\n                    }\r\n                    else\r\n                        puma(e.currentTarget).siblings(\".vrCheckBox\").click();\r\n                }\r\n                else\r\n                    UtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n            });\r\n\r\n            if (options.onItemDataBound != null)\r\n            {\r\n                let event = new ComboBoxItemDataBoundEvent();\r\n                event.sender = this;\r\n                event.element = comboItemText[0];\r\n                event.dataItem = item;\r\n                options.onItemDataBound(event);\r\n            }\r\n\r\n            if (children.length > 0)\r\n                this.drawItems(children, li);\r\n        }\r\n    }\r\n\r\n    private getFilteredArrayByInputText(value: string): ComboBoxItem[]\r\n    {\r\n        value = value.toLowerCase();\r\n        let filteredArray: ComboBoxItem[] = [];\r\n        let arrayWhereSearch = this.items().map(k => String(k.text).toLowerCase());\r\n        arrayWhereSearch!.forEach((k, index) => \r\n        {\r\n            if (k.indexOf(value) != -1)\r\n                filteredArray.push(this.items()[index]);\r\n        });\r\n        return filteredArray;\r\n    }\r\n\r\n    //#region Items\r\n    datasource(items?: ComboBoxItem[], triggerChange = true): ComboBoxItem[]\r\n    {\r\n        return this.items(items, triggerChange);\r\n    }\r\n\r\n    items(items?: ComboBoxItem[], triggerChange = true): ComboBoxItem[]\r\n    {\r\n        let options = this.getOptions();\r\n        if (items != null)\r\n        {\r\n            let realItems = UtilityManager.duplicate(items);\r\n            if (options.nullable != null && options.nullable !== false && realItems.length > 0)\r\n            {\r\n                let nullableItem = new ComboBoxItem();\r\n                nullableItem.text = (typeof (options.nullable) == \"boolean\" || options.nullable.text == null) ? \"Non selezionato\" : options.nullable.text;\r\n                nullableItem.value = (typeof (options.nullable) == \"boolean\") ? \"\" : ((options.nullable.value != null) ? options.nullable.value : \"0\");\r\n                realItems.unshift(nullableItem);\r\n            }\r\n\r\n            this._items = realItems;\r\n\r\n            if (options.webService == null)\r\n            {\r\n                this.drawDataSource();\r\n                if (options.mode == ComboBoxTypeEnum.DropDown && this.items().vrFirst() != null)\r\n                    this.valueInternal(this.items().vrFirst().value, triggerChange);\r\n            }\r\n            else\r\n            {\r\n                if (this._typedTextWebService == null) this._items = [];\r\n                this.drawDataSource();\r\n                this._typedTextWebService = null;\r\n            }\r\n        }\r\n        return this._items;\r\n    }\r\n\r\n    values()\r\n    {\r\n        return this.items().map(k => k.value);\r\n    }\r\n\r\n    getCheckedItems(onlyChildren = false): ComboBoxItem[]\r\n    {\r\n        let items = this.items().filter(k => this._checkedValues.includes(String(k.value)));\r\n        if (onlyChildren)\r\n        {\r\n            let childrenValues = this.getChildrenValues();\r\n            items = items.filter(k => childrenValues.includes(String(k.value)));\r\n        }\r\n        return items.vrDistinctBy(k => k.value);\r\n    }\r\n\r\n    getCheckedValues(onlyChildren = false): string[]\r\n    {\r\n        let values = this._checkedValues.vrDistinct();\r\n        if (onlyChildren)\r\n        {\r\n            let childrenValues = this.getChildrenValues();\r\n            values = values.filter(k => childrenValues.includes(k));\r\n        }\r\n        return values;\r\n    }\r\n\r\n    getSelectedItem<T extends ComboBoxItem>(): T\r\n    {\r\n        return this.items().filter(k => k.value != null && k.value == this.value())[0] as T;\r\n    }\r\n\r\n    addItem(item: ComboBoxItem, reloadCombo = true, triggerChange = true, sortBy?: SortByComboSettings): void\r\n    {\r\n        this.items().push(item);\r\n\r\n        if (sortBy != null)\r\n        {\r\n            if (sortBy.direction == null) sortBy.direction = SortDirectionEnum.Asc;\r\n            this.items().vrSortBy([sortBy.field], (sortBy.direction == SortDirectionEnum.Asc));\r\n        }\r\n\r\n        if (reloadCombo)\r\n            this.items(this.items(), triggerChange);\r\n    }\r\n\r\n    addItems(items: ComboBoxItem[], reloadCombo = true, triggerChange = true): void\r\n    {\r\n        for (let item of items)\r\n            this.addItem(item, false);\r\n\r\n        if (reloadCombo)\r\n            this.items(this.items(), triggerChange);\r\n    }\r\n\r\n    removeItem(itemOrId: ComboBoxItem | string | number, reloadCombo = true): void\r\n    {\r\n        if (typeof itemOrId == \"string\" || typeof itemOrId == \"number\")\r\n        {\r\n            let foundedItem = this.items().filter(k => k.value == itemOrId)[0];\r\n            this.items().vrDelete(foundedItem);\r\n        }\r\n        else\r\n            this.items().vrDelete(itemOrId);\r\n\r\n        if (reloadCombo)\r\n            this.items(this.items());\r\n    }\r\n\r\n    removeItems(items: ComboBoxItem[] | string[] | number[], reloadCombo = true): void\r\n    {\r\n        for (let item of items)\r\n            this.removeItem(item, false);\r\n\r\n        if (reloadCombo)\r\n            this.items(this.items());\r\n    }\r\n\r\n    getItemByValue(value: string): ComboBoxItem\r\n    {\r\n        return this.items().filter(k => String(k.value).toLowerCase() == value.toLowerCase())[0];\r\n    }\r\n\r\n    getItemByText(text: string): ComboBoxItem\r\n    {\r\n        return this.items().filter(k => k.text.toLowerCase() == text.toLowerCase())[0];\r\n    }\r\n\r\n    getElementsByValue(value: string): HTMLElement[] | undefined\r\n    {\r\n        let liValue = this._dictionaryValueLi.get(value);\r\n        return liValue;\r\n    }\r\n\r\n    getRootItems(): ComboBoxItem[]\r\n    {\r\n        let parentItems: ComboBoxItem[] = [];\r\n        for (let item of this.items())\r\n        {\r\n            if (item == null)\r\n                continue;\r\n\r\n            let parentValue = item.parentValue;\r\n            while (parentValue != null)\r\n            {\r\n                let parentItem = this.items().filter(k => k.value == parentValue)[0];\r\n                if (!parentItems.includes(parentItem))\r\n                    parentItems.push(parentItem);\r\n\r\n                parentValue = (parentItem != null) ? parentItem.parentValue : undefined;\r\n                if (parentItem != null && parentValue == parentItem.value)\r\n                    parentValue = undefined;\r\n            }\r\n        }\r\n        return parentItems;\r\n    }\r\n    getRootValues(): string[]\r\n    {\r\n        return this.getRootItems().filter(k => k != null).map(k => String(k.value));\r\n    }\r\n    private getRootTexts(): string[]\r\n    {\r\n        return this.getRootItems().map(k => k.text);\r\n    }\r\n\r\n    getLeafItems(): ComboBoxItem[]\r\n    {\r\n        let rootValues = this.getRootValues();\r\n        return this.items().filter(k => !rootValues.includes(String(k.value)));\r\n    }\r\n    getLeafValues(): string[]\r\n    {\r\n        return this.getLeafItems().map(k => String(k.value));\r\n    }\r\n    private getLeafTexts(): string[]\r\n    {\r\n        return this.getLeafItems().map(k => k.text);\r\n    }\r\n\r\n    getChildrenItems(): ComboBoxItem[]\r\n    {\r\n        return this.getLeafItems();\r\n    }\r\n    getChildrenValues(): string[]\r\n    {\r\n        return this.getLeafValues();\r\n    }\r\n    private getChildrenTexts(): string[]\r\n    {\r\n        return this.getLeafTexts();\r\n    }\r\n\r\n    private getOnlyChildrenItems(parentItem: ComboBoxItem): ComboBoxItem[]\r\n    {\r\n        return this.items().filter(k => k.parentValue != null && k.parentValue == parentItem.value);\r\n    }\r\n\r\n    private getAllChildrenItems(parentItem?: ComboBoxItem | null): ComboBoxItem[]\r\n    {\r\n        return this.getDataChildrenItems(parentItem);\r\n    }\r\n    private getAllChildrenValues(parentItem?: ComboBoxItem | null): string[]\r\n    {\r\n        return this.getAllChildrenItems(parentItem).map(k => String(k.value));\r\n    }\r\n\r\n    private getDataChildrenItems(parentItem?: ComboBoxItem | null): ComboBoxItem[]\r\n    {\r\n        let dataItems = (parentItem == null) ? this.items() : this.getOnlyChildrenItems(parentItem);\r\n        let items: ComboBoxItem[] = [];\r\n        for (let dataElement of dataItems)\r\n        {\r\n            items.push(dataElement);\r\n            if (this.getOnlyChildrenItems(dataElement).length > 0)\r\n                items.vrPushRange(this.getDataChildrenItems(dataElement));\r\n        }\r\n        return items;\r\n    }\r\n\r\n    private getChildrenCheckboxElements<T extends HTMLInputElement[] | JQuery>(parentItem: ComboBoxItem, checked = false, arrayMode = false): T\r\n    {\r\n        let liParent = this._dictionaryValueLi.get(String(parentItem.value));\r\n        let parentComboItemText = puma(liParent).find(\".vrComboBoxItemText\")[0];\r\n        let parentCheckbox = puma(parentComboItemText).siblings(\"input\");\r\n\r\n        let childrenCheckboxElements = puma(parentCheckbox).parent().parent().find(\"input\" + ((checked) ? \":checked\" : \"\"));\r\n        let sibling = puma(childrenCheckboxElements[0]).siblings(\".vrComboBoxItemText\")[0];\r\n        if (sibling != null && parentItem.text != null)\r\n        {\r\n            if (puma(sibling).html().vrRemoveHtml() == parentItem.text.vrRemoveHtml())\r\n                childrenCheckboxElements.splice(0, 1);\r\n        }\r\n\r\n        if (arrayMode)\r\n            childrenCheckboxElements = Array.from<HTMLInputElement>(childrenCheckboxElements);\r\n\r\n        return childrenCheckboxElements as T;\r\n    }\r\n\r\n    private getParentItem(childItem: ComboBoxItem): ComboBoxItem | null\r\n    {\r\n        if (childItem.parentValue != null)\r\n            return this.items().filter(k => k.value == childItem.parentValue)[0];\r\n        return null;\r\n    }\r\n\r\n    private manageCheckParent(item: ComboBoxItem): boolean | void\r\n    {\r\n        let parentItem = this.getParentItem(item);\r\n        if (parentItem != null)\r\n        {\r\n            let children = this.getChildrenCheckboxElements<HTMLInputElement[]>(parentItem, true, true);\r\n            let tempCheckedElements = children.filter(k => k != null && k.checked);\r\n\r\n            let liParent = this._dictionaryValueLi.get(String(parentItem.value))!;\r\n            let parentInputElement = puma(liParent).find(\"input\")[0];\r\n            if (parentInputElement != null)\r\n            {\r\n                puma(parentInputElement).removeClass(\"indeterminateVrCheckbox\");\r\n                parentInputElement.checked = false;\r\n\r\n                if (this.getAllChildrenItems(parentItem).length == tempCheckedElements.length)\r\n                {\r\n                    parentInputElement.checked = true;\r\n                    return true;\r\n                }\r\n                else if (tempCheckedElements.length == 0)\r\n                {\r\n                    parentInputElement.checked = false;\r\n                    return false;\r\n                }\r\n                else\r\n                {\r\n                    puma(parentInputElement).addClass(\"indeterminateVrCheckbox\");\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Text & Value\r\n    text(text?: string): string\r\n    {\r\n        if (text != null)\r\n        {\r\n            if (!this._isDivElement)\r\n                (this.element() as HTMLInputElement).value = text;\r\n            else\r\n                puma(this.element()).find(\".vrComboBoxSelectedValues\")[0].innerHTML = text;\r\n        }\r\n\r\n        if (!this._isDivElement)\r\n        {\r\n            let value = (this.element() as HTMLInputElement).value;\r\n            let selectedItem = this.getSelectedItem();\r\n            if (value == \"\" && selectedItem != null)\r\n                value = selectedItem.text;\r\n\r\n            if (value == null) value = \"\";\r\n            return value;\r\n        }\r\n        else\r\n        {\r\n            if (puma(this.element()).find(\".vrComboBoxSelectedValues\")[0] != null)\r\n            {\r\n                let value = puma(this.element()).find(\".vrComboBoxSelectedValues\")[0].innerHTML;\r\n                let selectedItem = this.getSelectedItem();\r\n                if (value == \"\" && selectedItem != null)\r\n                    value = selectedItem.text;\r\n\r\n                return value;\r\n            }\r\n            else\r\n                return \"\";\r\n        }\r\n    }\r\n\r\n    placeholder(text?: string)\r\n    {\r\n        if (text != null)\r\n            (this.element() as HTMLInputElement).placeholder = text;\r\n\r\n        return (this.element() as HTMLInputElement).placeholder;\r\n    }\r\n\r\n    private valueInternal<T extends string | string[] | number>(value?: ComboBoxItem | string | number | string[] | number[] | null, triggerChange: boolean = true): T | null\r\n    {\r\n        let options = this.getOptions();\r\n        (options as any).fromInternal = \"pumo\";\r\n\r\n        let val = this.value<T>(value, triggerChange, this._callbackAfterValue);\r\n\r\n        (options as any).fromInternal = null;\r\n        return val;\r\n    }\r\n\r\n    value<T extends string | string[] | number>(value?: ComboBoxItem | string | number | string[] | number[] | null, triggerChange: boolean = true, callback?: null | ((e: ComboBoxChangeEvent) => void)): T | null\r\n    {\r\n        if (value === null)\r\n        {\r\n            this.clear();\r\n            return null;\r\n        }\r\n\r\n        let options = this.getOptions();\r\n        if (value != null)\r\n        {\r\n            this._callbackAfterValue = callback;\r\n            if (typeof (value) == \"number\")\r\n                value = String(value);\r\n\r\n            if ((options as any).fromInternal == null && options.checkboxes === true)\r\n                this.clear();\r\n\r\n            if (!options.checkboxes)\r\n                puma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n\r\n            if (typeof (value) == \"string\" || typeof (value) == \"number\")\r\n            {\r\n                value = [String(value)];\r\n                if (options.webService != null && (options as any).fromInternal == null)\r\n                    value = { value: String(value), text: \"\" };\r\n            }\r\n\r\n            let comboItem = null;\r\n            if (Array.isArray(value))\r\n            {\r\n                value = value.vrDistinct();\r\n                value = value.vrToStringArrayList();\r\n            }\r\n            else // Is comboBoxItem\r\n            {\r\n                comboItem = new ComboBoxItem();\r\n                comboItem.text = value.text;\r\n                comboItem.value = value.value;\r\n                value = [String(comboItem.value)];\r\n            }\r\n\r\n            if (value.length == 0)\r\n                this.hideClearButton();\r\n            else\r\n                this.showClearButton();\r\n\r\n            let prevValue = UtilityManager.duplicate(this._value);\r\n            this._value = [];\r\n            for (let singleValue of value)\r\n            {\r\n                let singleItem = this.items().filter(k => k.value == singleValue)[0];\r\n                if (singleItem != null)\r\n                    this._value.push(String(singleItem.value));\r\n            }\r\n\r\n            //#region WebService\r\n            if (options.webService != null && comboItem != null)\r\n            {\r\n                this._tempValueWebService = [];\r\n                this._tempValueWebService.push(String(comboItem.value));\r\n                this._typedTextWebService = (comboItem.text == null) ? \"\" : comboItem.text;\r\n                this.doAjaxCall(comboItem.text, true, triggerChange);\r\n\r\n                // this._typedTextWebService = (comboItem.text == null) ? \"\" : comboItem.text;\r\n                // if (comboItem.text != null && comboItem.text != \"\" && comboItem.value != null && comboItem.value != \"\")\r\n                // {\r\n                //     this.items([comboItem], false);\r\n                //     this.valueInternal(comboItem.value, triggerChange);\r\n                // }\r\n                // else\r\n                // {\r\n                //     this._tempValueWebService = [];\r\n                //     this._tempValueWebService.push(comboItem.value);\r\n                //     this.doAjaxCall(comboItem.text, true, triggerChange);\r\n                // }\r\n                return comboItem.value as T;\r\n            }\r\n            //#endregion\r\n\r\n            if (options.webService == null)\r\n            {\r\n                let values = this.values();\r\n                value = value.filter(k => values.includes(k));\r\n            }\r\n\r\n            this._checkedValues = value;\r\n\r\n            if (triggerChange)\r\n            {\r\n                let changingEvent = new ComboBoxChangingEvent();\r\n                if (options.onBeforeChange != null)\r\n                {\r\n                    let isParent = this.getRootValues().includes(this._value[0]);\r\n                    let parentItem = null;\r\n                    if (isParent)\r\n                        parentItem = this.items().filter(k => k.value == value)[0];\r\n\r\n                    changingEvent.sender = this;\r\n                    changingEvent.previousValue = prevValue;\r\n                    changingEvent.previousCheckedValues = prevValue;\r\n                    changingEvent.value = (options.checkboxes === true) ? this._checkedValues : this._value[0];\r\n                    changingEvent.text = this.text();\r\n                    changingEvent.childrenValues = (isParent) ? this.getAllChildrenValues(parentItem!) : [];\r\n                    changingEvent.checked = this._isChecked;\r\n                    changingEvent.isParent = this.getRootValues().includes(this._value[0]);\r\n                    options.onBeforeChange(changingEvent);\r\n                }\r\n\r\n                if (!changingEvent.isDefaultPrevented())\r\n                {\r\n                    this.writeTextByValue(comboItem, value);\r\n                    this.change();\r\n                }\r\n                else\r\n                {\r\n                    this._value = prevValue;\r\n                    this._callbackAfterValue = null;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.writeTextByValue(comboItem, value);\r\n                if (value.length > 0)\r\n                    this.manageCallbackAfterValue();\r\n            }\r\n        }\r\n\r\n        if (this._value == null)\r\n            return null;\r\n        else if (options.checkboxes === true)\r\n            return this._value as T;\r\n        else\r\n            return this._value[0] as T;\r\n    }\r\n\r\n    private manageCallbackAfterValue()\r\n    {\r\n        let options = this.getOptions();\r\n        if (this._callbackAfterValue != null)\r\n        {\r\n            let value = (options.checkboxes && this._tempCheckedValue != null) ? this._tempCheckedValue : this.value<string>()!;\r\n\r\n            let isParent = this.getRootValues().includes(value);\r\n            let parentItem = null;\r\n            if (isParent)\r\n                parentItem = this.items().filter(k => k.value == value)[0];\r\n\r\n            let event = new ComboBoxChangeEvent();\r\n            event.sender = this;\r\n            event.value = value;\r\n            event.text = this.text();\r\n            event.childrenValues = (isParent) ? this.getAllChildrenValues(parentItem!) : [];\r\n            event.selectedItem = this.getSelectedItem();\r\n            event.checked = this._isChecked;\r\n            event.isParent = isParent;\r\n            this._callbackAfterValue(event);\r\n        }\r\n        this._callbackAfterValue = null;\r\n    }\r\n\r\n    private writeTextByValue(comboItem: ComboBoxItem | null, value: string[]): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (!this._isDivElement)\r\n        {\r\n            if (comboItem == null)\r\n            {\r\n                let item = this.items().filter(k => k.value == value[0])[0];\r\n                if (item != null)\r\n                    (this.element() as HTMLInputElement).value = item.text;\r\n            }\r\n            else\r\n                (this.element() as HTMLInputElement).value = comboItem.text;\r\n        }\r\n        else\r\n        {\r\n            puma(this.element()).find(\".vrComboBoxSelectedValues\").remove();\r\n            let selectedItems = this.items().filter(k => value.includes(String(k.value)));\r\n            if (selectedItems.length > 0)\r\n            {\r\n                if (selectedItems.length == 1 && selectedItems.vrFirst().text == \"\")\r\n                    return;\r\n\r\n                if (options.checkboxes)\r\n                {\r\n                    selectedItems = selectedItems.vrDistinctBy(k => k.value);\r\n                    let selectedValues = selectedItems.map(k => k.value);\r\n                    let comboItemTexts: HTMLSpanElement[] = [];\r\n                    for (let val of selectedValues)\r\n                    {\r\n                        //#region All checkboxes same value\r\n                        let liList = this._dictionaryValueLi.get(String(val))!;\r\n                        if (liList != null)\r\n                        {\r\n                            for (let li of liList)\r\n                            {\r\n                                let comboItemText = puma(li).find(\".vrComboBoxItemText\")[0];\r\n                                comboItemTexts.push(comboItemText);\r\n                            }\r\n                        }\r\n                        //#endregion\r\n                    }\r\n\r\n                    for (let comboItemText of comboItemTexts)\r\n                    {\r\n                        if (comboItemText == null)\r\n                            continue;\r\n\r\n                        let checkBox = puma(comboItemText).siblings(\"input\");\r\n                        puma(checkBox).removeClass(\"indeterminateVrCheckbox\");\r\n                        puma(checkBox).prop(\"checked\", true);\r\n                        checkBox[0].checked = true;\r\n                    }\r\n\r\n                    //#region To manage parents checkboxes\r\n                    let selectedItemsDistinctedByValue = selectedItems.vrDistinctBy(k => k.parentValue);\r\n                    for (let item of selectedItemsDistinctedByValue)\r\n                    {\r\n                        this.manageCheckParent(item);\r\n\r\n                        //#region Check if parent has all children selected\r\n                        let parentItem = this.getParentItem(item);\r\n                        if (parentItem != null)\r\n                        {\r\n                            let childrenValues = this.getAllChildrenValues(parentItem);\r\n                            let containsAll = selectedItemsDistinctedByValue.map(k => k.value).every(value =>\r\n                            {\r\n                                return childrenValues.includes(value);\r\n                            });\r\n\r\n                            if (containsAll && !selectedItems.map(k => k.value).includes(parentItem.value))\r\n                                selectedItems.push(parentItem);\r\n                        }\r\n                        //#endregion\r\n                    }\r\n                    //#endregion\r\n                }\r\n\r\n                selectedItems = selectedItems.vrDistinctBy(k => k.value);\r\n                let toWriteElements: ComboBoxItem[] = [];\r\n                for (let selectedItem of selectedItems)\r\n                {\r\n                    if (this.getChildrenValues().includes(selectedItem.value))\r\n                        toWriteElements.push(selectedItem)\r\n                }\r\n\r\n                let spanSelectedValues = puma(\"<span class='vrComboBoxSelectedValues'>\" + ((options.onlyIcon) ? \"\" : toWriteElements.map(k => k.text).vrToCommaSeparatedList()) + \"</span>\").vrAppendToPuma(this.element())[0];\r\n                if (!options.onlyIcon)\r\n                {\r\n                    //#region Write text\r\n                    let textWidth = UtilityManager.textWidth(spanSelectedValues);\r\n                    if (textWidth > puma(spanSelectedValues).width() && toWriteElements.length > 1 && !options.textEllipsis)\r\n                        puma(spanSelectedValues).html(toWriteElements.length + \" elementi\");\r\n\r\n                    if (selectedItems.length == this.items().vrDistinctBy(k => k.value).length && !options.textEllipsis && options.mode != ComboBoxTypeEnum.DropDown)\r\n                        puma(spanSelectedValues).html((options.allSelectedMessage != null) ? options.allSelectedMessage : \"Tutti selezionati\");\r\n                    //#endregion\r\n                }\r\n                else\r\n                {\r\n                    puma(this._allCheckedOnlyIcon).hide();\r\n                    if (selectedItems.length == this.items().vrDistinctBy(k => k.value).length && !options.textEllipsis && options.mode != ComboBoxTypeEnum.DropDown)\r\n                        puma(this._allCheckedOnlyIcon).show();\r\n                }\r\n\r\n                if (this._chkCheckAll != null)\r\n                {\r\n                    if (selectedItems.length == this.items().vrDistinctBy(k => k.value).length)\r\n                        this._chkCheckAll.checked(true, false);\r\n                    else\r\n                    {\r\n                        if (selectedItems.length > 0)\r\n                            this._chkCheckAll.checked(CheckboxStateEnum.Undefined, false);\r\n                        else\r\n                            this._chkCheckAll.checked(false, false);\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (this._chkCheckAll != null)\r\n                    this._chkCheckAll.checked(false, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    select(index = 0, triggerChange = true): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.mode == ComboBoxTypeEnum.DropDown && this.items()[index] != null)\r\n            this.valueInternal(this.items()[index].value, triggerChange);\r\n    }\r\n\r\n    index(index = 0, triggerChange = true)\r\n    {\r\n        this.select(index, triggerChange);\r\n    }\r\n\r\n    icon(icon?: IconClass | string | null)\r\n    {\r\n        let options = this.getOptions();\r\n        if (icon != null && this._iconCombo != null)\r\n        {\r\n            options.icon = icon;\r\n            this._iconCombo.removeAttribute('class');\r\n            puma(this._iconCombo).addClass(icon)\r\n        }\r\n        return this._iconCombo;\r\n    }\r\n\r\n    isEmpty()\r\n    {\r\n        return this.value() == null || this.value() == \"\";\r\n    }\r\n\r\n    error()\r\n    {\r\n        this.element().style.cssText += \"border-bottom: solid 1px red;\";\r\n    }\r\n\r\n    hideError()\r\n    {\r\n        this.element().style.cssText += \"border-bottom: solid 1px #CCC;\";\r\n    }\r\n    //#endregion\r\n\r\n    //#region Check\r\n    checkAll(triggerChange = true): void\r\n    {\r\n        this._checkedValues = this.items().map(k => String(k.value));\r\n        this._checkedValues = this._checkedValues.vrDistinct();\r\n        this.valueInternal(this.items().map(k => String(k.value)), triggerChange);\r\n\r\n        if (this._chkCheckAll != null)\r\n            this._chkCheckAll.checked(true, false);\r\n    }\r\n\r\n    unCheckAll(triggerChange = true): void\r\n    {\r\n        this._checkedValues = [];\r\n        puma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n        puma(this._popup).find(\"input\").removeClass(\"indeterminateVrCheckbox\");\r\n        for (let input of Array.from<HTMLInputElement>(puma(this._popup).find(\"input\")))\r\n        {\r\n            puma(input).prop(\"checked\", false);\r\n            input.checked = false;\r\n        }\r\n\r\n        this.valueInternal([], triggerChange);\r\n        if (this._chkCheckAll != null)\r\n            this._chkCheckAll.checked(false, false);\r\n\r\n        let options = this.getOptions();\r\n        if (options.onlyIcon)\r\n            puma(this._allCheckedOnlyIcon).hide();\r\n    }\r\n\r\n    check(value: string, triggerChange = true)\r\n    {\r\n        let checkedValues = this.getCheckedValues();\r\n        checkedValues.push(value);\r\n        this.value(checkedValues, triggerChange);\r\n    }\r\n\r\n    unCheck(value: string, triggerChange = true): void\r\n    {\r\n        let item = this.items().filter(k => k.value == value)[0];\r\n        if (item != null)\r\n        {\r\n            let comboItemTexts: HTMLSpanElement[] = [];\r\n            let liList = this._dictionaryValueLi.get(value)!;\r\n            if (liList != null)\r\n            {\r\n                for (let li of liList)\r\n                {\r\n                    let comboItemText = puma(li).find(\".vrComboBoxItemText\")[0];\r\n                    comboItemTexts.push(comboItemText);\r\n                }\r\n\r\n                for (let comboItemText of comboItemTexts)\r\n                {\r\n                    if (comboItemText == null)\r\n                        continue;\r\n\r\n                    let checkBox = puma(comboItemText).siblings(\"input\");\r\n                    puma(checkBox).removeClass(\"indeterminateVrCheckbox\");\r\n                    puma(checkBox).prop(\"checked\", false);\r\n                    checkBox[0].checked = false;\r\n                }\r\n            }\r\n\r\n            this._checkedValues.vrDelete(value);\r\n            this.value(this.getCheckedValues(), triggerChange);\r\n        }\r\n    }\r\n\r\n    allChecked()\r\n    {\r\n        return this.getCheckedValues().length == this.getAllChildrenValues().vrDistinct().length;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Support\r\n    clear(triggerChange = false): void\r\n    {\r\n        let options = this.getOptions();\r\n        puma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n        this.unCheckAll(false);\r\n\r\n        this.hideClearButton();\r\n        puma(this._popup).find(\"li\").show();\r\n\r\n        this._value = null;\r\n        if (!this._isDivElement)\r\n            (this.element() as HTMLInputElement).value = \"\";\r\n        else\r\n        {\r\n            if (options.mode == ComboBoxTypeEnum.DropDown)\r\n            {\r\n                let firstItem = this.items().vrFirst();\r\n                if (firstItem != null)\r\n                {\r\n                    let children = this.getOnlyChildrenItems(firstItem);\r\n                    if (children.length == 0)\r\n                        this.valueInternal(firstItem.value, false);\r\n                    else\r\n                        this.valueInternal(children.vrFirst().value, false);\r\n                }\r\n                else\r\n                    puma(this.element()).find(\".vrComboBoxSelectedValues\").remove();\r\n            }\r\n            else\r\n                puma(this.element()).find(\".vrComboBoxSelectedValues\").remove();\r\n        }\r\n\r\n        if (options.filter === true && puma(this._popup).find(\".vrComboBoxFilter\")[0] != null)\r\n            puma(this._popup).find(\".vrComboBoxFilter\")[0].value = \"\";\r\n\r\n        if (options.webService != null)\r\n        {\r\n            this._items = [];\r\n            puma(this._popup).find(\".vrComboBoxUl\").remove();\r\n        }\r\n\r\n        if (triggerChange)\r\n            this.change();\r\n\r\n        if (options.onClear != null)\r\n        {\r\n            let clearEvent = new ComboBoxClearEvent();\r\n            clearEvent.sender = this;\r\n            options.onClear(clearEvent);\r\n        }\r\n    }\r\n\r\n    clearItems(): void\r\n    {\r\n        this._items = [];\r\n        this.clear();\r\n        puma(this._popup).find(\".vrComboBoxUl\").remove();\r\n    }\r\n\r\n    popup()\r\n    {\r\n        return puma(this._popup)[0];\r\n    }\r\n\r\n    focus(open = true)\r\n    {\r\n        this._openPopupAfterFocus = open;\r\n        puma(this.element()).focus();\r\n    }\r\n\r\n    private getOptions(): ComboBoxOptions\r\n    {\r\n        return this.options<ComboBoxOptions>();\r\n    }\r\n\r\n    private doAjaxCall(text = \"\", fromSet = false, triggerChange = true): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.webService == null)\r\n            return;\r\n\r\n        if (options.webService.typedTextPropertyName == null) options.webService.typedTextPropertyName = \"text\";\r\n        if (options.webService.typedValuePropertyName == null) options.webService.typedValuePropertyName = \"value\";\r\n        if (options.webService.itemsPropertyName == null) options.webService.itemsPropertyName = \"items\";\r\n\r\n        let request: any = {};\r\n        request[options.webService.typedTextPropertyName] = text;\r\n\r\n        if (fromSet)\r\n            request[options.webService.typedValuePropertyName] = this._tempValueWebService![0];\r\n\r\n        if (options.webService.authKey == null)\r\n            options.webService.authKey = \"\";\r\n\r\n        if (options.webService.parameters != null)\r\n        {\r\n            let parameters = options.webService.parameters();\r\n            let jsonParameters = Object.getOwnPropertyNames(parameters);\r\n            for (let param of jsonParameters)\r\n                request[param] = parameters[param];\r\n        }\r\n\r\n        this._lastAjaxCallGuid = UtilityManager.createGuid();\r\n        request.guid = this._lastAjaxCallGuid;\r\n        UtilityManager.doAjaxCall(\r\n            {\r\n                mode: WebApiModeEnum.Async,\r\n                authKey: options.webService.authKey,\r\n                method: options.webService.method,\r\n                request: request\r\n            },\r\n            (response: any) =>\r\n            {\r\n                if (this._lastAjaxCallGuid != null && response.guid != null && this._lastAjaxCallGuid != response.guid)\r\n                    return;\r\n\r\n                let finalValue = \"\";\r\n                if (!fromSet)\r\n                {\r\n                    this._typedTextWebService = text;\r\n                    this.items(response[options!.webService!.itemsPropertyName!]);\r\n\r\n                    if (this._value != null)\r\n                        finalValue = this._value[0];\r\n                }\r\n                else\r\n                {\r\n                    let resultItems: any[] = response[options!.webService!.itemsPropertyName!];\r\n                    let itemSelected = resultItems.filter(k => k.value == this._tempValueWebService![0])[0];\r\n                    if (itemSelected != null)\r\n                    {\r\n                        this.items([itemSelected], false);\r\n                        finalValue = itemSelected.value;\r\n                    }\r\n                }\r\n\r\n                if (finalValue != \"\" && finalValue != null)\r\n                    this.valueInternal(finalValue, triggerChange);\r\n                else if (triggerChange)\r\n                {\r\n                    let value = (options.checkboxes && this._tempCheckedValue != null) ? this._tempCheckedValue : this.value();\r\n                    if (value != \"\" && value != null)\r\n                        this.change();\r\n                }\r\n            },\r\n            () => this._callbackAfterValue = null\r\n        )\r\n    }\r\n\r\n    showClearButton(): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.clearButton !== false)\r\n            puma(this.container()).find(\".vrDivComboBoxClearIcon\").show();\r\n    }\r\n\r\n    hideClearButton(): void\r\n    {\r\n        puma(this.container()).find(\".vrDivComboBoxClearIcon\").hide();\r\n    }\r\n\r\n    button()\r\n    {\r\n        return this._btnCombo;\r\n    }\r\n\r\n    buttonVisible(state?: boolean)\r\n    {\r\n        if (state != null)\r\n        {\r\n            this.button().visible(state);\r\n            if (state)\r\n                this._divPickerIcon.classList.add(\"vrComboDivPickerWithButton\");\r\n            else\r\n                this._divPickerIcon.classList.remove(\"vrComboDivPickerWithButton\");\r\n        }\r\n        return this.button().visible();\r\n    }\r\n\r\n    showButton()\r\n    {\r\n        this.buttonVisible(true);\r\n    }\r\n\r\n    hideButton()\r\n    {\r\n        this.buttonVisible(false);\r\n    }\r\n\r\n    buttonEnabled(state?: boolean)\r\n    {\r\n        if (state != null)\r\n            this.button().enabled(state);\r\n\r\n        return this.button().enabled();\r\n    }\r\n\r\n    enableButton()\r\n    {\r\n        this.buttonEnabled(true);\r\n    }\r\n\r\n    disableButton()\r\n    {\r\n        this.buttonEnabled(true);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        puma(this.container()).find(\".vrDivPickerIconComboBox\").removeClass(\"vrDivPickerIconDisable\");\r\n        puma(this.container()).find(\".vrDivPickerIconComboBoxDropDown\").removeClass(\"vrDivPickerIconDisable\");\r\n\r\n        if (this._btnCombo != null)\r\n            this._btnCombo.enable();\r\n\r\n        if (this._chkCheckAll != null)\r\n            this._chkCheckAll.enable();\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        puma(this.container()).find(\".vrDivPickerIconComboBox\").addClass(\"vrDivPickerIconDisable\");\r\n        puma(this.container()).find(\".vrDivPickerIconComboBoxDropDown\").addClass(\"vrDivPickerIconDisable\");\r\n\r\n        if (this._btnCombo != null)\r\n            this._btnCombo.disable();\r\n\r\n        if (this._chkCheckAll != null)\r\n            this._chkCheckAll.disable();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Events\r\n    change(callBack?: Function): void\r\n    {\r\n        let changeCallBack = this.getOptions().onAfterChange;\r\n        if (changeCallBack != null)\r\n        {\r\n            let options = this.getOptions();\r\n            let value = (options.checkboxes && this._tempCheckedValue != null) ? this._tempCheckedValue : this.value<string>()!;\r\n\r\n            let isParent = this.getRootValues().includes(value);\r\n            let parentItem = null;\r\n            if (isParent)\r\n                parentItem = this.items().filter(k => k.value == value)[0];\r\n\r\n            let changeEvent = new ComboBoxChangeEvent();\r\n            changeEvent.sender = this;\r\n            changeEvent.value = value;\r\n            changeEvent.text = this.text();\r\n            changeEvent.childrenValues = (isParent) ? this.getAllChildrenValues(parentItem!) : [];\r\n            changeEvent.selectedItem = this.getSelectedItem();\r\n            changeEvent.checked = this._isChecked;\r\n            changeEvent.isParent = isParent;\r\n            changeCallBack(changeEvent);\r\n        }\r\n\r\n        this.manageCallbackAfterValue();\r\n\r\n        if (callBack != null)\r\n            callBack();\r\n    }\r\n    //#endregion\r\n}\r\n\r\nexport class DropDown extends ComboBox { }\r\n//#endregion\r\n\r\n//#region Classes\r\nclass ComboBoxNullableItem\r\n{\r\n    text?: string;\r\n    value?: string;\r\n}\r\n\r\nclass CheckAllSettings\r\n{\r\n    triggerChange?: boolean;\r\n}\r\n\r\nclass ComboBoxKeyDownEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    event: any;\r\n}\r\n\r\nclass ComboBoxKeyUpEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    event: any;\r\n}\r\n\r\nclass ComboBoxPasteEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    event: any;\r\n    pastedValue: string;\r\n    value: string;\r\n}\r\n\r\nclass ComboBoxEnterKeyEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    value: any;\r\n}\r\n\r\nclass ComboBoxCloseEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    beforeValue: any;\r\n    afterValue: any;\r\n}\r\n\r\nclass ComboBoxOpenEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    value: any;\r\n}\r\n\r\nclass ComboBoxItemDataBoundEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    element: HTMLElement;\r\n    dataItem: any;\r\n}\r\n\r\nclass ComboBoxBlurEvent extends VrControlsEvent\r\n{\r\n    sender: ComboBox;\r\n    value: any;\r\n}\r\n//#endregion","import { ButtonModeEnum, ColorSettings, IconClass, PositionEnum, ControlTypeEnum, confirm, puma, span, IconSettings } from \"../vr\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\n\r\n//#region Options\r\nexport class ButtonOptions extends VrControlOptions\r\n{\r\n    text?: string;\r\n    value?: string;\r\n    mode?: ButtonModeEnum;\r\n    tooltip?: string;\r\n    colorSettings?: ColorSettings;\r\n    icon?: IconClass;\r\n    imageUrl?: string;\r\n    iconSettings?: IconSettings;\r\n    confirmationMessage?: string;\r\n    badgeSettings?: ButtonBadgeSettings;\r\n\r\n    onContextMenu?: boolean | ((e: ContextMenuEvent) => void);\r\n    onClick?: (e: ButtonClickEvent) => void;\r\n    onRightClick?: (e: ButtonRightClickEvent) => void;\r\n    onMiddleClick?: (e: ButtonMiddleClickEvent) => void;\r\n    onHover?: (e: ButtonHoverEvent) => void;\r\n    onBlur?: (e: ButtonBlurEvent) => void;\r\n    onRejectedConfirm?: () => void;\r\n    onMouseDown?: (e: ButtonMouseDownEvent) => void;\r\n    onMouseUp?: (e: ButtonMouseUpEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Button extends VrControl\r\n{\r\n    private _mouseDownEvent: JQuery.MouseDownEvent | null;\r\n\r\n    constructor(element: HTMLElement, options?: ButtonOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new ButtonOptions();\r\n\r\n        if (options.text == null) options.text = \"\";\r\n        if (options.mode == null) options.mode = ButtonModeEnum.Default;\r\n\r\n        if (options.iconSettings == null) options.iconSettings = new IconSettings();\r\n        if (options.iconSettings.position == null) options.iconSettings.position = PositionEnum.Left;\r\n        if (options.onContextMenu == null) options.onContextMenu = true;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Button);\r\n\r\n        //#region Width\r\n        if (options.width == null)\r\n            this.element().style.cssText += \"min-width: 27px;\";\r\n        else\r\n            this.element().style.cssText += \"width: 100%;\";\r\n        //#endregion\r\n\r\n        //#region Color settings\r\n        if (options.colorSettings != null)\r\n        {\r\n            let colorSettings = options.colorSettings;\r\n            if (colorSettings.textColor != null)\r\n                this.color(colorSettings.textColor);\r\n            if (colorSettings.background != null)\r\n                this.backgroundColor(colorSettings.background);\r\n            if (colorSettings.border != null)\r\n                this.borderColor(colorSettings.border);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Mode\r\n        this.mode(options.mode);\r\n        //#endregion\r\n\r\n        //#region Icon/ImageUrl\r\n        if (options.icon != null)\r\n            this.icon(options.icon);\r\n        else if (options.imageUrl != null)\r\n            this.imageUrl(options.imageUrl);\r\n        //#endregion\r\n\r\n        //#region Text/Tooltip/Value\r\n        this.text(options.text);\r\n\r\n        if (options.tooltip != null)\r\n            this.tooltip(options.tooltip);\r\n\r\n        if (options.value != null)\r\n            puma(this.element()).attr(\"value\", options.value);\r\n        //#endregion\r\n\r\n        //#region Badge\r\n        let badgeColor = \"#FFF\";\r\n        let badgeBackgroundColor = \"red\";\r\n        let badgeText = \"\";\r\n        let badgeVisible = false;\r\n        if (options.badgeSettings != null)\r\n        {\r\n            if (options.badgeSettings.text != null) badgeText = String(options.badgeSettings.text);\r\n            if (options.badgeSettings.color != null) badgeColor = options.badgeSettings.color;\r\n            if (options.badgeSettings.backgroundColor != null) badgeBackgroundColor = String(options.badgeSettings.backgroundColor);\r\n            if (options.badgeSettings.visible != null) badgeVisible = options.badgeSettings.visible;\r\n        }\r\n\r\n        let badge = puma(\"<span class='vrButtonBadgeClass'>\" + badgeText + \"</span>\")[0];\r\n        badge.innerHTML = badgeText;\r\n        puma(element).after(badge);\r\n\r\n        if (options.tooltip != null)\r\n            badge.title = options.tooltip;\r\n\r\n        badge.style.cssText += \"color: \" + badgeColor + \"; background-color: \" + badgeBackgroundColor + \";\";\r\n        if ((badgeText == \"\" || badgeText == null) && !badgeVisible)\r\n            puma(badge).hide();\r\n\r\n        if (options.badgeSettings != null && options.badgeSettings.css != null)\r\n            badge.style.cssText += options.badgeSettings.css;\r\n\r\n        if (options.badgeSettings != null && options.badgeSettings.click != null)\r\n        {\r\n            puma(badge).on(\"mousedown\", (e: JQuery.MouseDownEvent) =>\r\n            {\r\n                let badgeClickEvent = new ButtonBadgeClickEvent();\r\n                badgeClickEvent.sender = this;\r\n                badgeClickEvent.text = this.badge();\r\n\r\n                switch (e.button)\r\n                {\r\n                    case 0: badgeClickEvent.leftButton = true; break;\r\n                    case 1: badgeClickEvent.middleButton = true; break;\r\n                    case 2: badgeClickEvent.rightButton = true; break;\r\n                }\r\n\r\n                options!.badgeSettings!.click!(badgeClickEvent);\r\n            });\r\n        }\r\n        else if (options.onClick != null)\r\n        {\r\n            puma(badge).on(\"click\", (e: JQuery.MouseDownEvent) => \r\n            {\r\n                this.click();\r\n                return false;\r\n            });\r\n        }\r\n        //#endregion\r\n\r\n        //#region Events\r\n        puma(element).on(\"mousedown\", (e: JQuery.MouseDownEvent) => \r\n        {\r\n            //#region MouseDown event\r\n            if (options!.onMouseDown != null)\r\n            {\r\n                let event = new ButtonMouseDownEvent();\r\n                event.sender = this;\r\n                options!.onMouseDown(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                    return;\r\n            }\r\n            //#endregion\r\n\r\n            this._mouseDownEvent = e;\r\n            if (e.button != 0) // Not left button\r\n                this.click();\r\n        });\r\n\r\n        puma(element).on(\"click\", (e: JQuery.ClickEvent) =>\r\n        {\r\n            this.click();\r\n\r\n            // To prevent Ajax rebind\r\n            e.preventDefault();\r\n            return false;\r\n        });\r\n\r\n        puma(element).on(\"mouseup\", (e: JQuery.MouseUpEvent) => \r\n        {\r\n            //#region MouseUp event\r\n            if (options!.onMouseUp != null)\r\n            {\r\n                let event = new ButtonMouseUpEvent();\r\n                event.sender = this;\r\n                options!.onMouseUp(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                    return;\r\n            }\r\n            //#endregion\r\n        });\r\n\r\n        puma(this.container()).hover(() =>\r\n        {\r\n            if (options!.onHover != null)\r\n            {\r\n                let hoverEvent = new ButtonHoverEvent();\r\n                hoverEvent.sender = this;\r\n                options!.onHover(hoverEvent);\r\n            }\r\n        });\r\n\r\n        puma(this.container()).mouseleave(() =>\r\n        {\r\n            if (options!.onBlur != null)\r\n            {\r\n                let blurEvent = new ButtonBlurEvent();\r\n                blurEvent.sender = this;\r\n                options!.onBlur(blurEvent);\r\n            }\r\n        });\r\n\r\n        puma(this.container()).on(\"contextmenu\", (e: JQuery.ContextMenuEvent) => \r\n        {\r\n            if (options!.onContextMenu != null)\r\n            {\r\n                if (typeof (options!.onContextMenu) == \"boolean\")\r\n                {\r\n                    if (!options!.onContextMenu)\r\n                        e.preventDefault();\r\n                }\r\n                else\r\n                {\r\n                    let event = new ContextMenuEvent();\r\n                    event.sender = this;\r\n                    options!.onContextMenu(event);\r\n                }\r\n            }\r\n        });\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n\r\n    //#region Text/Label/Tooltip\r\n    text(value?: string): string\r\n    {\r\n        let options = this.getOptions();\r\n        if (value != null)\r\n        {\r\n            puma(this.element()).find(\".vrButtonSpanText\").remove();\r\n            let spanText = span(this.element(), { class: \"vrButtonSpanText\" });\r\n\r\n            //#region Position\r\n            let iconPosition = options.iconSettings!.position;\r\n            if (iconPosition == PositionEnum.Left)\r\n                puma(this.element()).vrAppendPuma(spanText);\r\n            else if (iconPosition == PositionEnum.Right)\r\n                puma(this.element()).vrPrependPuma(spanText);\r\n            //#endregion\r\n\r\n            spanText.innerHTML = value;\r\n            options.text = value;\r\n        }\r\n        return options.text!;\r\n    }\r\n\r\n    value(value?: string)\r\n    {\r\n        return this.text(value);\r\n    }\r\n\r\n    tooltip(value?: string | number): string\r\n    {\r\n        if (value != null)\r\n            this.element().title = String(value);\r\n\r\n        return this.element().title;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Badge\r\n    badge(text?: string | number)\r\n    {\r\n        if (text != null)\r\n        {\r\n            puma(this.container()).find(\".vrButtonBadgeClass\").html(text);\r\n            this.showBadge();\r\n        }\r\n        return puma(this.container()).find(\".vrButtonBadgeClass\").html();\r\n    }\r\n\r\n    badgeBackgroundColor(color: string)\r\n    {\r\n        puma(this.container()).find(\".vrButtonBadgeClass\").css(\"background-color\", color)\r\n    }\r\n\r\n    badgeColor(color: string)\r\n    {\r\n        puma(this.container()).find(\".vrButtonBadgeClass\").css(\"color\", color)\r\n    }\r\n\r\n    showBadge()\r\n    {\r\n        puma(this.container()).find(\".vrButtonBadgeClass\").show();\r\n    }\r\n\r\n    hideBadge()\r\n    {\r\n        puma(this.container()).find(\".vrButtonBadgeClass\").hide();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Override\r\n    hide()\r\n    {\r\n        super.hide();\r\n        this.hideBadge();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Mode\r\n    mode(mode?: ButtonModeEnum): ButtonModeEnum\r\n    {\r\n        if (mode != null)\r\n        {\r\n            puma(this.element()).removeClass([ButtonModeEnum.Default, ButtonModeEnum.Primary, ButtonModeEnum.Delete, ButtonModeEnum.Excel, ButtonModeEnum.Primary].join(\" \"));\r\n            puma(this.element()).addClass(mode);\r\n        }\r\n\r\n        let classList: string[] = this.element().className.split(/\\s+/);\r\n        return classList.filter(k => k.endsWith(\"Mode\"))[0] as ButtonModeEnum;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Color\r\n    colorSettings(settings?: ColorSettings)\r\n    {\r\n        let options = this.getOptions();\r\n        if (settings != null)\r\n        {\r\n            options.colorSettings = settings;\r\n            if (settings.textColor != null)\r\n                this.color(settings.textColor);\r\n            if (settings.background != null)\r\n                this.backgroundColor(settings.background);\r\n            if (settings.border != null)\r\n                this.borderColor(settings.border);\r\n        }\r\n        return options.colorSettings;\r\n    }\r\n\r\n    color(value?: string): string\r\n    {\r\n        if (value != null)\r\n            this.element().style.cssText += \"color: \" + value;\r\n\r\n        return puma(this.element()).css(\"color\");\r\n    }\r\n\r\n    backgroundColor(value?: string): string\r\n    {\r\n        if (value != null)\r\n            this.element().style.cssText += \"background-color: \" + value;\r\n\r\n        return puma(this.element()).css(\"background-color\");\r\n    }\r\n\r\n    borderColor(value?: string): string\r\n    {\r\n        if (value != null)\r\n            this.element().style.cssText += \"border-color: \" + value;\r\n\r\n        return puma(this.element()).css(\"border-color\");\r\n    }\r\n    //#endregion\r\n\r\n    //#region Icon/ImageUrl\r\n    icon(icon?: IconClass, iconPosition?: PositionEnum | null, iconTooltip = \"\"): HTMLElement | null\r\n    {\r\n        let options = this.getOptions();\r\n        if (iconPosition == null)\r\n            iconPosition = options.iconSettings!.position;\r\n\r\n        let vrIcon = puma(this.element()).find(\".vrIcon\")[0] as HTMLElement;\r\n        if (icon != null)\r\n        {\r\n            if (vrIcon != null)\r\n            {\r\n                let classList: string[] = vrIcon.className.split(/\\s+/);\r\n                let iconClassList = classList.filter(k => k.startsWith(\"fa-\"));\r\n                for (let iconClass of iconClassList)\r\n                    vrIcon.classList.remove(iconClass);\r\n\r\n                puma(vrIcon).addClass(icon);\r\n            }\r\n            else\r\n            {\r\n                let options = this.options<ButtonOptions>();\r\n                let margin = \"\";\r\n                if (options.text != null && options.text != \"\")\r\n                {\r\n                    if (iconPosition == PositionEnum.Left) margin = \"margin-right: 5px;\";\r\n                    else if (iconPosition == PositionEnum.Right) margin = \"margin-left: 5px;\";\r\n                }\r\n\r\n                //#region Settings\r\n                let classAttribute = \"\";\r\n                let idAttribute = \"\";\r\n                let css = \"\";\r\n\r\n                let settings = options.iconSettings!;\r\n                if (settings.id != null)\r\n                    idAttribute = \"id = '\" + settings.id + \"'\";\r\n\r\n                if (settings.css != null)\r\n                    css += settings.css + \";\";\r\n\r\n                if (settings.fontSize != null)\r\n                {\r\n                    if (typeof (settings.fontSize) == \"number\")\r\n                        settings.fontSize = settings.fontSize + \"px\";\r\n\r\n                    css += \"font-size: \" + settings.fontSize + \";\";\r\n                }\r\n\r\n                if (settings.color != null)\r\n                    css += \"color: \" + settings.color + \";\";\r\n\r\n                if (settings.class != null)\r\n                    classAttribute += settings.class;\r\n\r\n                if (settings.cursor != null)\r\n                    css += \"cursor: \" + settings.cursor + \";\";\r\n                //#endregion\r\n\r\n                let iElementString = \"<i class='\" + icon + \" vrIcon \" + classAttribute\r\n                    + \"' aria-hidden='true' style='position: relative; top: -1px;\" + margin + \" \" + css + \"' id='\" + idAttribute + \"'></i>\";\r\n\r\n                if (iconPosition == PositionEnum.Left)\r\n                    puma(this.element()).vrPrependPuma(iElementString);\r\n                else if (iconPosition == PositionEnum.Right)\r\n                    puma(this.element()).vrAppendPuma(iElementString);\r\n            }\r\n\r\n            if (iconTooltip != \"\")\r\n                puma(vrIcon).attr(\"title\", iconTooltip);\r\n        }\r\n        return vrIcon;\r\n    }\r\n\r\n    imageUrl(imageUrl?: string, imagePosition?: PositionEnum): HTMLElement | null\r\n    {\r\n        let options = this.getOptions();\r\n        if (imagePosition == null)\r\n            imagePosition = options.iconSettings!.position;\r\n\r\n        let vrImageUrl = puma(this.element()).find(\".vrImageUrl\")[0];\r\n        if (imageUrl != null)\r\n        {\r\n            if (vrImageUrl != null)\r\n                puma(vrImageUrl).remove();\r\n\r\n            let options = this.options<ButtonOptions>();\r\n            let margin = \"\";\r\n            if (options.text != null && options.text != \"\")\r\n            {\r\n                if (imagePosition == PositionEnum.Left) margin = \"margin-right: 5px;\";\r\n                else if (imagePosition == PositionEnum.Right) margin = \"margin-left: 5px;\";\r\n            }\r\n\r\n            if (imagePosition == PositionEnum.Left)\r\n                puma(this.element()).prepend(\"<img src='\" + imageUrl + \"' vrImageUrl' style='width: 16px; height: 16px; float: left;\" + margin + \"' />\");\r\n            else if (imagePosition == PositionEnum.Right)\r\n                puma(this.element()).vrAppendPuma(\"<img src='\" + imageUrl + \"' vrImageUrl' style='width: 16px; height: 16px; float: right;\" + margin + \"' />\");\r\n        }\r\n\r\n        vrImageUrl = puma(this.element()).find(\".vrImageUrl\")[0];\r\n        return vrImageUrl;\r\n    }\r\n    //#endregion\r\n\r\n    getOptions(): ButtonOptions\r\n    {\r\n        return this.options<ButtonOptions>();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Events\r\n    click(callback?: (e: ButtonClickEvent) => void): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.confirmationMessage != null)\r\n            confirm(options.confirmationMessage).then(() => this.internalClick(callback), () => this.rejectedConfirm());\r\n        else\r\n            this.internalClick(callback);\r\n    }\r\n\r\n    private internalClick(callback?: (e: ButtonClickEvent) => void): void\r\n    {\r\n        let clickCallback = this.options<ButtonOptions>().onClick; // Left click\r\n        if (this._mouseDownEvent != null)\r\n        {\r\n            switch (this._mouseDownEvent.button)\r\n            {\r\n                case 0: clickCallback = this.options<ButtonOptions>().onClick; break; // Left click\r\n                case 1: clickCallback = this.options<ButtonOptions>().onMiddleClick; break; // Middle click\r\n                case 2: clickCallback = this.options<ButtonOptions>().onRightClick; break; // Right click\r\n            }\r\n        }\r\n\r\n        if (clickCallback != null)\r\n        {\r\n            let clickEvent = new ButtonClickEvent();\r\n            clickEvent.sender = this;\r\n            clickEvent.text = this.text();\r\n            clickCallback(clickEvent);\r\n        }\r\n        this._mouseDownEvent = null;\r\n\r\n        if (callback != null)\r\n        {\r\n            let clickEvent = new ButtonClickEvent();\r\n            clickEvent.sender = this;\r\n            clickEvent.text = this.text();\r\n            callback(clickEvent);\r\n        }\r\n    }\r\n\r\n    private rejectedConfirm()\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.onRejectedConfirm != null)\r\n            options.onRejectedConfirm();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region EventClasses\r\nclass ButtonEvent extends VrControlsEvent\r\n{\r\n    sender: Button;\r\n}\r\n\r\nclass ButtonClickEvent extends ButtonEvent\r\n{\r\n    text: string;\r\n}\r\n\r\nclass ButtonRightClickEvent extends ButtonEvent\r\n{\r\n    text: string;\r\n    leftButton?: boolean;\r\n    middleButton?: boolean;\r\n    rightButton?: boolean;\r\n}\r\n\r\nclass ButtonMiddleClickEvent extends ButtonEvent\r\n{\r\n    text: string;\r\n    leftButton?: boolean;\r\n    middleButton?: boolean;\r\n    rightButton?: boolean;\r\n}\r\n\r\nclass ButtonHoverEvent extends ButtonEvent\r\n{ }\r\n\r\nclass ButtonBlurEvent extends ButtonEvent\r\n{ }\r\n\r\nclass ContextMenuEvent extends ButtonEvent\r\n{ }\r\n\r\nclass ButtonMouseDownEvent extends ButtonEvent\r\n{ }\r\n\r\nclass ButtonMouseUpEvent extends ButtonEvent\r\n{ }\r\n\r\nexport class ButtonBadgeSettings\r\n{\r\n    text?: string | number;\r\n    color?: string;\r\n    backgroundColor?: string;\r\n    visible?: boolean;\r\n    css?: string;\r\n    click?: (e: ButtonBadgeClickEvent) => void;\r\n}\r\n\r\nclass ButtonBadgeClickEvent\r\n{\r\n    sender: Button;\r\n    text: string;\r\n    leftButton?: boolean;\r\n    middleButton?: boolean;\r\n    rightButton?: boolean;\r\n}\r\n//#endregion","import { puma } from \"../ui/vr\";\r\n\r\nexport class LoaderManager\r\n{\r\n\tstatic show(element?: string | HTMLElement | JQuery, transparency = true, tag?: any)\r\n\t{\r\n\t\tthis.addCss();\r\n\t\tif (tag == null)\r\n\t\t\ttag = \"vrLoadingTemp\";\r\n\r\n\t\t//#region\tLoader\telement\r\n\t\tlet loaderElement = null;\r\n\t\tif (element == null)\r\n\t\t\tloaderElement = document.body;\r\n\t\telse if (typeof (element) == \"string\")\r\n\t\t{\r\n\t\t\tif (!element.startsWith(\"#\"))\r\n\t\t\t\telement = \"#\" + element;\r\n\t\t\tloaderElement = puma(element)[0];\r\n\t\t}\r\n\t\telse\r\n\t\t\tloaderElement = puma(element)[0];\r\n\r\n\t\tif (puma(loaderElement).css(\"position\") != \"absolute\")\r\n\t\t\tpuma(loaderElement).css(\"position\", \"relative\");\r\n\t\t//#endregion\r\n\r\n\t\t//#region\tTransparency\r\n\t\tlet opacity = \"0.5\";\r\n\t\tif (!transparency)\r\n\t\t\topacity = \"1\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region\tWidth/Height\r\n\t\tlet elementWidth = puma(loaderElement).outerWidth();\r\n\t\tlet elementHeight = puma(loaderElement).outerHeight();\r\n\r\n\t\tlet loaderWidthNumber = elementHeight;\r\n\t\tif (loaderWidthNumber > 80)\r\n\t\t\tloaderWidthNumber = 80;\r\n\t\tlet loaderHeightNumber = elementHeight;\r\n\t\tif (loaderHeightNumber > 80)\r\n\t\t\tloaderHeightNumber = 80;\r\n\t\t//#endregion\r\n\r\n\t\t//#region\tBackground\r\n\t\tlet zIndex: number = 2500000;\r\n\t\tzIndex = String((puma(loaderElement).css(\"z-index\"))).vrGetNumericPart() + 1;\r\n\t\tif (loaderElement == document.body)\r\n\t\t\tzIndex = 999999999;\r\n\r\n\t\tlet backgroundWidth = elementWidth + \"px\";\r\n\t\tlet backgroundHeight = elementHeight + \"px\";\r\n\r\n\t\tlet background: HTMLDivElement = document.createElement(\"div\");\r\n\t\tbackground.setAttribute(\"id\", \"loaderManager_background\");\r\n\t\tbackground.setAttribute(\"class\", \"loaderManager_background\");\r\n\t\tbackground.setAttribute(\"style\", \"position:\tabsolute;\tleft:\t\" + 0 + \";\ttop:\t\" + 0 + \";\tz-index:\t\" + zIndex.toString() + \";\tbackground-color:\t#FFF;\topacity:\t\" + opacity + \";\twidth:\t\" + backgroundWidth + \";\theight:\t\" + backgroundHeight + \";\");\r\n\t\tbackground.setAttribute(\"tag\", tag);\r\n\t\tpuma(background).vrAppendToPuma(loaderElement);\r\n\t\t//#endregion\r\n\r\n\t\t//#region\tLoader\r\n\t\tlet loaderLeftPosition = \"Calc(50% - \" + (loaderWidthNumber / 2) + \"px)\";\r\n\t\tlet loaderTopPosition = \"Calc(50% - \" + (loaderWidthNumber / 2) + \"px)\";\r\n\t\tlet loaderWidth = loaderWidthNumber + \"px\";\r\n\t\tlet loaderHeight = loaderHeightNumber + \"px\";\r\n\r\n\t\tpuma(`\r\n\t\t\t<div class='loaderManager_loader' tag='` + tag + `' style='display: inline-block; z-index: 99999999; \r\n\t\t\tposition: absolute; left: ` + loaderLeftPosition + `; top: ` + loaderTopPosition + `; width: ` + loaderWidth + `; \r\n\t\t\theight: ` + loaderHeight + `;'>\r\n\t\t\t\t<div class='loaderManager_step' style='left: 8px; animation: loaderManager_loader1 0.6s infinite;'></div>\r\n\t\t\t\t<div class='loaderManager_step' style='left: 8px; animation: loaderManager_loader2 0.6s infinite;'></div>\r\n\t\t\t\t<div class='loaderManager_step' style='left: 32px; animation: loaderManager_loader2 0.6s infinite;'></div>\r\n\t\t\t\t<div class='loaderManager_step' style='left: 56px; animation: loaderManager_loader3 0.6s infinite;'></div>\r\n\t\t\t</div>\r\n\t\t`).vrAppendToPuma(loaderElement);\t\t\r\n\t\t//#endregion\r\n\t}\r\n\r\n\tstatic hide(tag?: any)\r\n\t{\r\n\t\tif (tag == null)\r\n\t\t{\r\n\t\t\tpuma(\"#loaderManager_background[tag='vrLoadingTemp']\").remove();\r\n\t\t\tpuma(\".loaderManager_loader[tag='vrLoadingTemp']\").remove();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpuma(\".loaderManager_background[tag='\" + tag + \"']\").remove();\r\n\t\t\tpuma(\".loaderManager_loader[tag='\" + tag + \"']\").remove();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static addCss()\r\n\t{\r\n\t\tif (puma(\"head\").find(\"style[id='vr_loader']\")[0] == null)\r\n\t\t{\r\n\t\t\tthis.addCssBase(`\r\n                @keyframes loaderManager_loader1 {\r\n                  0% {\r\n                    transform: scale(0);\r\n                  }\r\n                  100% {\r\n                    transform: scale(1);\r\n                  }\r\n                }\r\n\r\n                @keyframes loaderManager_loader3 {\r\n                  0% {\r\n                    transform: scale(1);\r\n                  }\r\n                  100% {\r\n                    transform: scale(0);\r\n                  }\r\n                }\r\n\r\n                @keyframes loaderManager_loader2 {\r\n                  0% {\r\n                    transform: translate(0, 0);\r\n                  }\r\n                  100% {\r\n                    transform: translate(24px, 0);\r\n                  }\r\n                }\r\n\r\n\t\t\t\t.loaderManager_step {\r\n\t\t\t\t\tbackground: #51B3E1;\r\n\t\t\t\t\tposition: absolute; \r\n\t\t\t\t\ttop: Calc(50% - 6.5px); \r\n\t\t\t\t\twidth: 13px; \r\n\t\t\t\t\theight: 13px; \r\n\t\t\t\t\tborder-radius: 50%; \r\n\t\t\t\t\tanimation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n\t\t\t\t\tz-index: 999999999;\r\n\t\t\t\t}\r\n            `);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static addCssBase(cssRules: string)\r\n\t{\r\n\t\tpuma(\"<style id='vr_loader'>\" + cssRules + \"</style>\").vrAppendToPuma(\"head\");\r\n\t}\r\n}","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, SelectionModeEnum, createCheckBox, puma, ButtonGroupItem, span, createButton, ControlPositionEnum, IconClassicLight } from \"../vr\";\r\nimport { UtilityManager } from \"../../managers/utilityManager\";\r\nimport { Button } from \"./button\";\r\n\r\n//#region Options\r\nexport class ButtonGroupOptions extends VrControlOptions\r\n{\r\n    items?: ButtonGroupItem[];\r\n    selectionMode?: SelectionModeEnum;\r\n    checkboxes?: boolean;\r\n    tooltip?: boolean;\r\n\r\n    onSelect?(e: ButtonGroupSelectEvent): void;\r\n    onItemAdded?(e: ButtonGroupItemAddedEvent): void;\r\n    onItemRemoved?(e: ButtonGroupItemRemovedEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class ButtonGroup extends VrControl\r\n{\r\n    private _items: ButtonGroupItem[];\r\n    private _btnScrollBack: Button;\r\n    private _btnScrollForward: Button;\r\n    private _populating: boolean;\r\n\r\n    constructor(element: HTMLElement, options?: ButtonGroupOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new ButtonGroupOptions();\r\n\r\n        if (options.selectionMode == null) options.selectionMode = SelectionModeEnum.Single;\r\n        if (options.checkboxes == null) options.checkboxes = false;\r\n        if (options.items == null) options.items = [];\r\n        if (options.tooltip == null) options.tooltip = false;\r\n        //#endregion        \r\n\r\n        super(element, options, ControlTypeEnum.ButtonGroup);\r\n        this.element().style.cssText += \"display: inline-block;\";\r\n\r\n        //#region Back/Forward buttons for horizontal scroll\r\n        let intervalScrolling = 0;\r\n        this._btnScrollBack = createButton({\r\n            icon: IconClassicLight.CaretLeft,\r\n            visible: false,\r\n            enable: false,\r\n            colorSettings: { background: \"#f1f1f1\" },\r\n            css: \"border-top-right-radius: 0px; border-bottom-right-radius: 0px;\",\r\n            onMouseDown: (e) =>\r\n            {\r\n                this.scrollBack();\r\n                intervalScrolling = window.setInterval(() =>\r\n                {\r\n                    this.scrollBack(intervalScrolling);\r\n                }, 100)\r\n            },\r\n            onMouseUp: (e) => window.clearInterval(intervalScrolling)\r\n        }, this.container())\r\n        puma(this._btnScrollBack.container()).vrInsertBeforePuma(this.element())\r\n\r\n        this._btnScrollForward = createButton({\r\n            icon: IconClassicLight.CaretRight,\r\n            visible: false,\r\n            colorSettings: { background: \"#f1f1f1\" },\r\n            css: \"border-top-left-radius: 0px; border-bottom-left-radius: 0px;\",\r\n            onMouseDown: (e) =>\r\n            {\r\n                this.scrollForward();\r\n                intervalScrolling = window.setInterval(() =>\r\n                {\r\n                    this.scrollForward(intervalScrolling);\r\n                }, 100)\r\n            },\r\n            onMouseUp: (e) => window.clearInterval(intervalScrolling)\r\n        }, this.container())\r\n        puma(this._btnScrollForward.container()).vrInsertAfterPuma(this.element())\r\n        //#endregion\r\n\r\n        //#region Items\r\n        this._items = [];\r\n        if (options.items != null)\r\n            this.items(options.items);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    items(items?: ButtonGroupItem[])\r\n    {\r\n        if (items != null)\r\n        {\r\n            this._populating = true;\r\n            for (let item of items)\r\n                this.addItem(item);\r\n\r\n            this.manageScrolling();\r\n            this._populating = false;\r\n        }\r\n        return this._items;\r\n    }\r\n\r\n    addItem(item: ButtonGroupItem)\r\n    {\r\n        this.items().push(item);\r\n\r\n        let options = this.getOptions();\r\n        let spanButton = puma(\"<span></span>\").vrAppendToPuma(this.element())[0];\r\n        puma(spanButton).addClass(\"buttonGroupItem\");\r\n\r\n        //#region Checkbox\r\n        let checkbox = null;\r\n        if (options.checkboxes)\r\n        {\r\n            checkbox = createCheckBox(\r\n                {\r\n                    checked: (item.selected === true) ? true : false,\r\n                    onCheck: (e) => puma(spanButton).click()\r\n                }, spanButton);\r\n            puma(checkbox.element()).attr(\"value\", item.value);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Icon/ImageUrl\r\n        let iconOrImage = null;\r\n        if (item.icon != null)\r\n            iconOrImage = UtilityManager.createIcon(item.icon);\r\n        else if (item.imageUrl != null)\r\n            iconOrImage = puma(\"<img src='\" + item.imageUrl + \"' />\")[0];\r\n\r\n        if (iconOrImage != null)\r\n        {\r\n            puma(spanButton).vrAppendPuma(iconOrImage);\r\n\r\n            //#region Icon click\r\n            if (item.onIconClick != null)\r\n            {\r\n                puma(iconOrImage).on(\"click\", (e: JQuery.ClickEvent) =>\r\n                {\r\n                    let event = new ButtonGroupIconClickEvent();\r\n                    event.sender = this;\r\n                    event.value = puma(spanButton).attr(\"value\");\r\n                    event.selected = puma(spanButton).hasClass(\"buttonGroupItemSelected\");\r\n                    item.onIconClick!(event);\r\n                });\r\n            }\r\n            //#endregion\r\n        }\r\n        //#endregion\r\n\r\n        //#region Text\r\n        if (item.text == null) item.text = \"\";\r\n        let marginLeft = \"\";\r\n        if (item.icon != null || item.imageUrl != null)\r\n            marginLeft = \"margin-left: 5px;\";\r\n\r\n        let spanItemText = puma(\"<span class='buttonGroupItemText' style='height: 23px; \" + marginLeft + \"'>\" + item.text + \"</span>\").vrAppendToPuma(spanButton);\r\n        if (item.text != \"\")\r\n        {\r\n            let tooltip = \"\";\r\n            if (item.tooltip != null)\r\n                tooltip = item.tooltip;\r\n            else if (options.tooltip)\r\n                tooltip = item.text;\r\n\r\n            if (tooltip != \"\")\r\n                puma(spanItemText).attr(\"title\", tooltip);\r\n        }\r\n        //#endregion\r\n\r\n        puma(spanButton).attr(\"value\", item.value);\r\n\r\n        //#region Selected\r\n        if (item.selected === true)\r\n        {\r\n            if (!options.checkboxes)\r\n                puma(spanButton).addClass(\"buttonGroupItemSelected\");\r\n            else\r\n                checkbox!.check();\r\n        }\r\n        //#endregion\r\n\r\n        //#region Color settings\r\n        if (item.colorSettings != null)\r\n        {\r\n            let colorSettings = item.colorSettings;\r\n            if (colorSettings.textColor != null)\r\n                puma(spanButton).css(\"color\", colorSettings.textColor);\r\n            if (colorSettings.background != null)\r\n                puma(spanButton).css(\"background-color\", colorSettings.background);\r\n            if (colorSettings.border != null)\r\n                puma(spanButton).css(\"border-color\", colorSettings.border);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Visibility/Enable\r\n        if (item.visible === false)\r\n            puma(spanButton).hide();\r\n\r\n        if (item.enable === false)\r\n            puma(spanButton).attr(\"disabled\", \"disabled\");\r\n        //#endregion\r\n\r\n        //#region Click\r\n        puma(spanButton).click((e: JQueryEventObject) =>\r\n        {\r\n            if (!this.enabled() || puma(spanButton).attr(\"disabled\") != null)\r\n            {\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if (options!.selectionMode == SelectionModeEnum.Single)\r\n                this.clear();\r\n\r\n            if (!options!.checkboxes)\r\n                puma(e.currentTarget).toggleClass(\"buttonGroupItemSelected\");\r\n            else\r\n            {\r\n                let checkbox = puma(e.currentTarget).find(\".vrCheckBox\")[0];\r\n                checkbox.checked = !checkbox.checked;\r\n            }\r\n\r\n            this.changeItem(puma(e.currentTarget).attr(\"value\"), puma(e.currentTarget).hasClass(\"buttonGroupItemSelected\"), item);\r\n            this.changeGlobal(puma(e.currentTarget).attr(\"value\"), puma(e.currentTarget).hasClass(\"buttonGroupItemSelected\"), item);\r\n        });\r\n        //#endregion\r\n\r\n        if (!this._populating)\r\n            this.manageScrolling();\r\n\r\n        if (item.css != null)\r\n            spanButton.style.cssText += item.css;\r\n\r\n        //#region Event\r\n        if (options.onItemAdded != null)\r\n        {\r\n            let event = new ButtonGroupItemAddedEvent();\r\n            event.sender = this;\r\n            event.value = String(item.value);\r\n            options.onItemAdded(event);\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    private manageScrolling()\r\n    {\r\n        let scrolling = puma(this.element()).vrHasScrollBar(true);\r\n        if (scrolling)\r\n        {\r\n            this._btnScrollBack.show();\r\n            this._btnScrollForward.show();\r\n\r\n            puma(this.element()).find(\".buttonGroupItem\").first().css({ \"border-top-left-radius\": \"0px\", \"border-bottom-left-radius\": \"0px\", \"border-left\": \"none\" })\r\n            puma(this.element()).find(\".buttonGroupItem\").last().css({ \"border-top-right-radius\": \"0px\", \"border-bottom-right-radius\": \"0px\", \"border-right\": \"none\" })\r\n        }\r\n        else\r\n        {\r\n            this._btnScrollBack.hide();\r\n            this._btnScrollForward.hide();\r\n\r\n            puma(this.element()).find(\".buttonGroupItem\").first().css({ \"border-top-left-radius\": \"4px\", \"border-bottom-left-radius\": \"4px\", \"border-left\": \"solid 1px #d9d9d9\" })\r\n            puma(this.element()).find(\".buttonGroupItem\").last().css({ \"border-top-right-radius\": \"4px\", \"border-bottom-right-radius\": \"4px\", \"border-right\": \"solid 1px #d9d9d9\" })\r\n        }\r\n    }\r\n\r\n    private scrollBack(interval?: number)\r\n    {\r\n        let leftPos = puma(this.element()).scrollLeft();\r\n        puma(this.element()).animate({ scrollLeft: leftPos - 20 }, 10);\r\n\r\n        this._btnScrollForward.enable();\r\n        if ((leftPos - 20) <= 0)\r\n        {\r\n            window.clearInterval(interval);\r\n            this._btnScrollBack.disable();\r\n        }\r\n    }\r\n\r\n    private scrollForward(interval?: number)\r\n    {\r\n        let leftPos = puma(this.element()).scrollLeft();\r\n        puma(this.element()).animate({ scrollLeft: leftPos + 20 }, 10);\r\n\r\n        this._btnScrollBack.enable();\r\n        if ((leftPos + 20) >= (this.element().scrollWidth - this.element().offsetWidth))\r\n        {\r\n            window.clearInterval(interval);\r\n            this._btnScrollForward.disable();\r\n        }\r\n    }\r\n\r\n    item(value: string)\r\n    {\r\n        return this.items().filter(k => k.value == value)[0];\r\n    }\r\n\r\n    removeItem(value: string)\r\n    {\r\n        let options = this.getOptions();\r\n        puma(this.container()).find(\".buttonGroupItem[value='\" + value + \"']\").remove();\r\n\r\n        let index = this.items().map(k => k.value).indexOf(value);\r\n        if (index != -1)\r\n            this.items().splice(index, 1);\r\n\r\n        this.manageScrolling();\r\n\r\n        //#region Event\r\n        if (options.onItemRemoved != null)\r\n        {\r\n            let event = new ButtonGroupItemRemovedEvent();\r\n            event.sender = this;\r\n            event.value = value;\r\n            options.onItemRemoved(event);\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    showItems(values: any[])\r\n    {\r\n        for (let value of values)\r\n            this.showItem(value);\r\n    }\r\n\r\n    showItem(value: any)\r\n    {\r\n        puma(this.container()).find(\".buttonGroupItem[value='\" + value + \"']\").show();\r\n        this.manageScrolling();\r\n    }\r\n\r\n    showAllItems()\r\n    {\r\n        let values = this.items().map(k => k.value);\r\n        this.showItems(values);\r\n    }\r\n\r\n    hideItems(values: any[])\r\n    {\r\n        for (let value of values)\r\n            this.hideItem(value);\r\n    }\r\n\r\n    hideItem(value: any)\r\n    {\r\n        puma(this.container()).find(\".buttonGroupItem[value='\" + value + \"']\").hide();\r\n        this.manageScrolling();\r\n    }\r\n\r\n    hideAllItems()\r\n    {\r\n        let values = this.items().map(k => k.value);\r\n        this.hideItems(values);\r\n    }\r\n\r\n    visibleItem(value: any, state?: boolean): boolean\r\n    {\r\n        let spanItem = puma(this.container()).find(\".buttonGroupItem[value='\" + value + \"']\");\r\n        if (state != null)\r\n        {\r\n            if (state) spanItem.show();\r\n            else spanItem.hide();\r\n        }\r\n\r\n        this.manageScrolling();\r\n        return spanItem.is(\":visible\");\r\n    }\r\n\r\n    select(values: string[] | number[], triggerChange = true): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.selectionMode == SelectionModeEnum.Single)\r\n            this.clear();\r\n\r\n        for (let value of values)\r\n        {\r\n            if (!options.checkboxes)\r\n                puma(this.container()).find(\".buttonGroupItem[value='\" + value + \"']\").addClass(\"buttonGroupItemSelected\");\r\n            else\r\n                puma(this.container()).find(\".buttonGroupItem .vrCheckBox[value='\" + value + \"']\")[0].checked = true;\r\n\r\n            if (triggerChange)\r\n                this.changeItem(String(value));\r\n        }\r\n\r\n        if (triggerChange)\r\n        {\r\n            let value = null;\r\n            if (this.selectionMode() == SelectionModeEnum.Single)\r\n                value = values.vrFirst();\r\n\r\n            this.changeGlobal(String(value));\r\n        }\r\n    }\r\n\r\n    selectIndex(index: number, triggerChange = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.selectionMode == SelectionModeEnum.Single)\r\n            this.clear();\r\n\r\n        if (!options.checkboxes)\r\n            puma(puma(this.container()).find(\".buttonGroupItem\")[index]).addClass(\"buttonGroupItemSelected\");\r\n        else\r\n            puma(this.container()).find(\".buttonGroupItem .vrCheckBox\")[index].checked = true;\r\n\r\n        let item = this.getItemByIndex(index);\r\n        let value = puma(item).attr(\"value\");\r\n\r\n        if (triggerChange)\r\n            this.changeItem(String(value));\r\n\r\n        if (triggerChange)\r\n            this.changeGlobal(String(value));\r\n    }\r\n\r\n    private changeGlobal(value?: string | null, selected?: boolean, item?: ButtonGroupItem)\r\n    {\r\n        if (item == null)\r\n            item = this.items().filter(k => k.value == value)[0];\r\n\r\n        let options = this.getOptions();\r\n        if (options!.onSelect != null)\r\n        {\r\n            let event = new ButtonGroupSelectEvent();\r\n            event.sender = this;\r\n            event.value = value;\r\n            event.selected = selected;\r\n            event.selectedValues = this.getSelectedValues();\r\n            window.setTimeout(() => options!.onSelect!(event));\r\n        }\r\n    }\r\n\r\n    private changeItem(value: string, selected = true, item?: ButtonGroupItem)\r\n    {\r\n        if (item == null)\r\n            item = this.items().filter(k => k.value == value)[0];\r\n\r\n        if (item != null && item.onClick != null)\r\n        {\r\n            let event = new ButtonGroupClickEvent();\r\n            event.sender = this;\r\n            event.value = value;\r\n            event.selected = selected;\r\n            item.onClick(event);\r\n        }\r\n    }\r\n\r\n    getSelectedValues(): string[]\r\n    {\r\n        let options = this.getOptions();\r\n        if (!options.checkboxes)\r\n            return Array.from(puma(this.container()).find(\".buttonGroupItem.buttonGroupItemSelected\")).map(k => puma(k).attr(\"value\"));\r\n        else\r\n            return Array.from(puma(this.container()).find(\".buttonGroupItem .vrCheckBox:checked\")).map(k => puma(k).attr(\"value\"));\r\n    }\r\n\r\n    value()\r\n    {\r\n        return puma(puma(this.container()).find(\".buttonGroupItem.buttonGroupItemSelected\")).attr(\"value\");\r\n    }\r\n\r\n    clear(): void\r\n    {\r\n        puma(this.container()).find(\".buttonGroupItem\").removeClass(\"buttonGroupItemSelected\");\r\n\r\n        let options = this.getOptions();\r\n        if (options.checkboxes)\r\n        {\r\n            for (let checkbox of Array.from<HTMLInputElement>(puma(this.container()).find(\".buttonGroupItem .vrCheckBox\")))\r\n                checkbox.checked = false;\r\n        }\r\n    }\r\n\r\n    selectionMode()\r\n    {\r\n        return this.getOptions().selectionMode;\r\n    }\r\n\r\n    getItemByValue(value: string): HTMLElement\r\n    {\r\n        return puma(this.container()).find(\".buttonGroupItem[value='\" + value + \"']\")[0];\r\n    }\r\n\r\n    getItemByIndex(index: number): HTMLElement\r\n    {\r\n        return puma(this.container()).find(\".buttonGroupItem\")[index];\r\n    }\r\n\r\n    itemTooltip(value: string, tooltip?: string): string\r\n    {\r\n        let item = this.getItemByValue(value);\r\n        if (tooltip != null)\r\n            puma(item).find(\".buttonGroupItemText\")[0].title = tooltip;\r\n\r\n        return puma(item).find(\".buttonGroupItemText\")[0].title;\r\n    }\r\n\r\n    itemText(value: string, text?: string, updateTooltip = true): string\r\n    {\r\n        let item = this.getItemByValue(value);\r\n        let buttonGroupItemText = puma(item).find(\".buttonGroupItemText\")[0];\r\n        if (text != null && buttonGroupItemText != null)\r\n        {\r\n            buttonGroupItemText.innerHTML = text;\r\n            if (updateTooltip)\r\n                buttonGroupItemText.title = text;\r\n        }\r\n        return (buttonGroupItemText != null) ? buttonGroupItemText.innerHTML : \"\";\r\n    }\r\n\r\n    itemTextByIndex(index: number, text?: string): string\r\n    {\r\n        let item = this.getItemByIndex(index);\r\n        if (text != null)\r\n            puma(item).find(\".buttonGroupItemText\")[0].innerHTML = text;\r\n\r\n        return puma(item).find(\".buttonGroupItemText\")[0].innerHTML;\r\n    }\r\n\r\n    enableItem(value: any)\r\n    {\r\n        let element = this.getItemByValue(value);\r\n        puma(element).removeAttr(\"disabled\");\r\n    }\r\n\r\n    disableItem(value: any)\r\n    {\r\n        let element = this.getItemByValue(value);\r\n        puma(element).attr(\"disabled\", \"disabled\");\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    enable()\r\n    {\r\n        super.enable();\r\n        for (let item of this.items())\r\n            this.enableItem(item.value!);\r\n    }\r\n\r\n    disable()\r\n    {\r\n        super.disable();\r\n        for (let item of this.items())\r\n            this.disableItem(item.value!);\r\n    }\r\n    //#endregion\r\n\r\n    getOptions(): ButtonGroupOptions\r\n    {\r\n        return this.options<ButtonGroupOptions>();\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass ButtonGroupEvent extends VrControlsEvent\r\n{\r\n    sender: ButtonGroup;\r\n    value?: string | null;\r\n}\r\n\r\nclass ButtonGroupSelectEvent extends ButtonGroupEvent\r\n{\r\n    selectedValues: string[];\r\n    selected?: boolean;\r\n}\r\n\r\nclass ButtonGroupItemAddedEvent extends ButtonGroupEvent { }\r\nclass ButtonGroupItemRemovedEvent extends ButtonGroupEvent { }\r\n\r\nexport class ButtonGroupClickEvent extends ButtonGroupEvent\r\n{\r\n    value: string;\r\n    selected: boolean;\r\n}\r\n\r\nexport class ButtonGroupIconClickEvent extends ButtonGroupEvent\r\n{\r\n    value: string;\r\n    selected: boolean;\r\n}\r\n//#endregion","import { ControlTypeEnum, ButtonModeEnum, ColorSettings, createButton, IconClassicLight, IconClass, PopupSettings, puma, shadowRoot, createSeparator, OrientationEnum } from \"../vr\";\r\nimport { VrControlOptions, VrControl } from \"../common\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { Button } from \"./button\";\r\n\r\n//#region Options\r\nexport class SplitButtonOptions extends VrControlOptions\r\n{\r\n    text?: string;\r\n    icon?: IconClass;\r\n    imageUrl?: string;\r\n    colorSettings?: ColorSettings;\r\n    popupSettings?: PopupSettings;\r\n    tooltip?: string;\r\n    items?: SplitButtonItem[];\r\n    hoverMode?: boolean;\r\n    modal?: boolean;\r\n    showDefault?: boolean;\r\n    separator?: boolean;\r\n\r\n    onClick?: (e: SplitButtonMainClickEvent) => void;\r\n    onSelect?: (e: SplitButtonSelectClickEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class SplitButton extends VrControl\r\n{\r\n    private _popup: HTMLElement;\r\n    private _btnMain: Button;\r\n    private _items: SplitButtonItem[];\r\n    private _itemButtonList: Button[];\r\n\r\n    constructor(element: HTMLElement, options?: SplitButtonOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new SplitButtonOptions();\r\n\r\n        if (options.text == null) options.text = \"\";\r\n        if (options.items == null) options.items = [];\r\n        if (options.hoverMode == null) options.hoverMode = false;\r\n        if (options.modal == null) options.modal = false;\r\n        if (options.showDefault == null) options.showDefault = true;\r\n        if (options.separator == null) options.separator = false;\r\n        if (options.tabIndex == null) options.tabIndex = -1;\r\n\r\n        let width = options.width;\r\n        options.width = undefined;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.SplitButton);\r\n        this._itemButtonList = [];\r\n\r\n        //#region Main button\r\n        this._btnMain = createButton(\r\n            {\r\n                text: options.text,\r\n                icon: options.icon,\r\n                imageUrl: options.imageUrl,\r\n                colorSettings: options.colorSettings,\r\n                tooltip: options.tooltip,\r\n                enable: options.enable,\r\n                width: width,\r\n                tabIndex: options.tabIndex,\r\n                css: \"border-top-right-radius: 0px; border-bottom-right-radius: 0px;\" + ((options.onClick != null) ? \"background-color: #f8f8f8;\" : \"\"),\r\n                onClick: (e) => \r\n                {\r\n                    if (options!.onClick != null)\r\n                        this.click();\r\n                    else\r\n                    {\r\n                        if (puma(this._popup).is(\":visible\"))\r\n                            this.close();\r\n                        else\r\n                            this.open();\r\n                    }\r\n                },\r\n                onHover: (e) =>\r\n                {\r\n                    if (options!.hoverMode)\r\n                        this.open();\r\n\r\n                    puma(divPickerIcon).addClass(\"hoverClass\");\r\n                },\r\n                onBlur: (e) =>\r\n                {\r\n                    puma(divPickerIcon).removeClass(\"hoverClass\");\r\n                }\r\n            }, this.element(), null, element.id + \"btnMain\");\r\n\r\n        puma(this.container()).mouseleave((e: any) => \r\n        {\r\n            if (options!.hoverMode && e.relatedTarget != this._popup)\r\n                this.close();\r\n        });\r\n        //#endregion\r\n\r\n        //#region Default items\r\n        if (options.onClick != null && options.showDefault)\r\n        {\r\n            let defaultItem = new SplitButtonItem();\r\n            defaultItem.text = options.text;\r\n            defaultItem.icon = options.icon;\r\n            defaultItem.imageUrl = options.imageUrl;\r\n            defaultItem.colorSettings = options.colorSettings;\r\n            defaultItem.onClick = options.onClick as any;\r\n            options.items.splice(0, 0, defaultItem);\r\n        }\r\n        //#endregion\r\n\r\n        //Set items\r\n        this.items(options.items);\r\n\r\n        //#region Picker icon\r\n        let classPickerIcon = (options.onClick != null) ? \"vrDivPickerIconSplitButton\" : \"vrDivPickerIconSplitButtonFlat\";\r\n        let pickerIcon = UtilityManager.createIcon(IconClassicLight.CaretDown);\r\n        let divPickerIcon = puma(\"<div class='\" + classPickerIcon + \"'></div>\").vrAppendToPuma(this.element())[0];\r\n        puma(divPickerIcon).vrAppendPuma(pickerIcon);\r\n        puma(divPickerIcon).click(() => \r\n        {\r\n            if (puma(this._popup).is(\":visible\"))\r\n                this.close();\r\n            else\r\n                this.open();\r\n        });\r\n\r\n        puma(divPickerIcon).on(\"mouseenter\", (e: JQuery.MouseEnterEvent) => puma(this._btnMain.element()).addClass(\"hoverClass\"))\r\n        puma(divPickerIcon).on(\"mouseleave\", (e: JQuery.MouseLeaveEvent) => puma(this._btnMain.element()).removeClass(\"hoverClass\"))\r\n        //#endregion\r\n\r\n        window.addEventListener(\"click\", (e: any) =>\r\n        {\r\n            if (puma(this._popup).is(\":visible\") && !puma(this.container())[0].contains(e.target))\r\n                this.close();\r\n        });\r\n\r\n        let baseListener = (shadowRoot() != null) ? shadowRoot() : document;\r\n        baseListener!.addEventListener(\"scroll\", (e) =>\r\n        {\r\n            if (!puma(e.target).hasClass(\"splitButton_divPopup\") && puma(this._popup).is(\":visible\"))\r\n                this.close();\r\n        }, true);\r\n    }\r\n\r\n    //#region Methods\r\n    open(): void\r\n    {\r\n        if (!this.enabled())\r\n            return;\r\n\r\n        let options = this.getOptions();\r\n\r\n        if (this._popup == null)\r\n            this._popup = puma(\"<div class='splitButton_divPopup' id='\" + this.element().id + \"_divPopup'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n\r\n        puma(this._popup).attr(\"tabindex\", \"0\");\r\n        this._popup.style.cssText += \"min-width: 100px;\";\r\n\r\n        puma(this._popup).mouseleave((e: any) => \r\n        {\r\n            if (options!.hoverMode)\r\n                this.close();\r\n        });\r\n\r\n        if (options.modal)\r\n        {\r\n            puma(\"#vrWindowBackground_\" + this.element().id).remove();\r\n            let background = puma(\"<div class='vrWindowBackground' id='vrWindowBackground_\" + this.element().id + \"'></div>\").vrAppendToPuma(document.body)[0];\r\n            puma(background).show();\r\n            puma(background).css(\"z-index\", (Number(puma(this._popup).css(\"z-index\")) - 1));\r\n            puma(background).click(() => this.close());\r\n        }\r\n\r\n        this._itemButtonList = [];\r\n        this.items(this.items());\r\n        super.settingPopup(this._popup, options.popupSettings!);\r\n    }\r\n\r\n    close(): void\r\n    {\r\n        puma(this._popup).remove();\r\n        (this._popup as any) = null;\r\n        puma(\"#vrWindowBackground_\" + this.element().id).remove();\r\n    }\r\n\r\n    items(items?: SplitButtonItem[]): SplitButtonItem[]\r\n    {\r\n        if (items != null)\r\n        {\r\n            this._items = items;\r\n            let i = 0;\r\n            for (let item of items)\r\n            {\r\n                if (item.separator === true)\r\n                {\r\n                    let divSeparatorContainerValue = (item.value != null) ? \"value='\" + item.value + \"'\" : \"value='separator'\";\r\n                    let separatorContainer = puma(\"<div \" + divSeparatorContainerValue + \"></div>\").vrAppendToPuma(this._popup);\r\n                    let separator = createSeparator({\r\n                        tag: (item.value == null) ? \"separator\" : item.value,\r\n                        orientation: OrientationEnum.Horizontal,\r\n                        visible: item.visible,\r\n                        cssContainer: \"margin-top: -8px !important; margin-bottom: 5px !important;\"\r\n                    }, separatorContainer);\r\n\r\n                    this._itemButtonList.push(separator as any);\r\n                    continue;\r\n                }\r\n\r\n                this.drawItem(item, i);\r\n                i++;\r\n            }\r\n        }\r\n        return this._items;\r\n    }\r\n\r\n    private drawItem(item: SplitButtonItem, index?: number)\r\n    {\r\n        let options = this.getOptions();\r\n        if (index == null) index = -1;\r\n\r\n        let divItemContainerValue = (item.value != null) ? \"value='\" + item.value + \"'\" : \"\";\r\n        if (item.text != null && (divItemContainerValue == null || divItemContainerValue == \"\"))\r\n            divItemContainerValue = \"value='\" + item.text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\") + \"'\";\r\n\r\n        let divItemContainer = puma(\"<div class='vrSplitButton_divItemContainer' \" + divItemContainerValue + \"></div>\").vrAppendToPuma(this._popup);\r\n        let button = createButton(\r\n            {\r\n                text: item.text,\r\n                icon: item.icon,\r\n                imageUrl: item.imageUrl,\r\n                mode: item.mode,\r\n                colorSettings: item.colorSettings,\r\n                confirmationMessage: item.confirmationMessage,\r\n                tooltip: item.tooltip,\r\n                visible: item.visible,\r\n                enable: item.enable,\r\n                tag: item.value,\r\n                width: \"100%\",\r\n                css: \"width: 100%; text-align: left; border: none;\" + item.css,\r\n                cssContainer: item.cssContainer + \";\" + ((options.separator) ? \"border-bottom: solid 1px #dedede;\" : \"\"),\r\n                class: item.class,\r\n                tabIndex: options.tabIndex,\r\n                onClick: (e) => \r\n                {\r\n                    this.close();\r\n                    if (item.onClick != null)\r\n                    {\r\n                        let clickEvent = new SplitButtonClickEvent();\r\n                        clickEvent.sender = this;\r\n                        clickEvent.item = item;\r\n                        item.onClick(clickEvent);\r\n                    }\r\n\r\n                    if (options.onSelect != null)\r\n                    {\r\n                        let clickEvent = new SplitButtonSelectClickEvent();\r\n                        clickEvent.text = options.text;\r\n                        clickEvent.value = String(item.value);\r\n                        clickEvent.mainButton = false;\r\n                        options.onSelect(clickEvent);\r\n                    }\r\n                }\r\n            }, divItemContainer);\r\n\r\n        if (item.value != null)\r\n            puma(button.element()).attr(\"value\", item.value);\r\n\r\n        this._itemButtonList.push(button);\r\n    }\r\n\r\n    addItem(item: SplitButtonItem)\r\n    {\r\n        this.drawItem(item);\r\n        this._items.push(item);\r\n    }\r\n\r\n    removeItem(value: string | number)\r\n    {\r\n        puma(this._popup).find(\".vrSplitButton_divItemContainer[value='\" + value + \"']\").remove();\r\n        this._items.vrDeleteAllBy(k => k.value == value);\r\n    }\r\n\r\n    clearItems()\r\n    {\r\n        puma(this._popup).empty();\r\n        this._items = [];\r\n        this._itemButtonList = [];\r\n    }\r\n\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        puma(this.container()).find(\".vrDivPickerIconSplitButton\").removeClass(\"vrDivPickerIconDisable\");\r\n        puma(this.container()).find(\".vrDivPickerIconSplitButtonFlat\").removeClass(\"vrDivPickerIconDisable\");\r\n\r\n        if (this._btnMain != null)\r\n            this._btnMain.enable();\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        puma(this.container()).find(\".vrDivPickerIconSplitButton\").addClass(\"vrDivPickerIconDisable\");\r\n        puma(this.container()).find(\".vrDivPickerIconSplitButtonFlat\").addClass(\"vrDivPickerIconDisable\");\r\n\r\n        if (this._btnMain != null)\r\n            this._btnMain.disable();\r\n    }\r\n\r\n    //#region Visibility\r\n    itemVisible(value: string, state?: boolean): boolean\r\n    {\r\n        let itemButton = this._itemButtonList.filter(k => k.tag() == value)[0];\r\n        if (state != null)\r\n        {\r\n            itemButton.visible(state);\r\n            let index = this._items.findIndex(k => k.value == value);\r\n            let item = this._items[index];\r\n            item.visible = state;\r\n        }\r\n        return itemButton.visible();\r\n    }\r\n\r\n    showItem(value: string): void\r\n    {\r\n        this.itemVisible(value, true);\r\n    }\r\n\r\n    hideItem(value: string): void\r\n    {\r\n        this.itemVisible(value, false);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Enable\r\n    itemEnable(value: string, state?: boolean): boolean\r\n    {\r\n        let itemButton = this._itemButtonList.filter(k => k.tag() == value)[0];\r\n        if (state != null)\r\n        {\r\n            itemButton.enabled(state);\r\n            let index = this._items.findIndex(k => k.value == value);\r\n            let item = this._items[index];\r\n            item.enable = state;\r\n        }\r\n\r\n        return itemButton.enabled();\r\n    }\r\n\r\n    enableAllItems()\r\n    {\r\n        this.enableItems(this.items().map(k => String(k.value)));\r\n    }\r\n\r\n    enableItems(values: string[])\r\n    {\r\n        for (let value of values)\r\n            this.enableItem(value);\r\n    }\r\n\r\n    enableItem(value: string): void\r\n    {\r\n        this.itemEnable(value, true);\r\n    }\r\n\r\n    disableAllItems()\r\n    {\r\n        this.disableItems(this.items().map(k => String(k.value)));\r\n    }\r\n\r\n    disableItems(values: string[])\r\n    {\r\n        for (let value of values)\r\n            this.disableItem(value);\r\n    }\r\n\r\n    disableItem(value: string): void\r\n    {\r\n        this.itemEnable(value, false);\r\n    }\r\n    //#endregion\r\n\r\n    item(value: string | number): Button | null\r\n    {\r\n        let itemButton = this._itemButtonList.filter(k => k.tag() == value)[0];\r\n        return itemButton;\r\n    }\r\n\r\n    mainItem()\r\n    {\r\n        return this._btnMain;\r\n    }\r\n\r\n    private getOptions(): SplitButtonOptions\r\n    {\r\n        return this.options<SplitButtonOptions>();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Events\r\n    click(): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.onClick != null)\r\n        {\r\n            let clickEvent = new SplitButtonMainClickEvent();\r\n            clickEvent.sender = this;\r\n            clickEvent.text = options.text;\r\n            clickEvent.items = options.items;\r\n            options.onClick(clickEvent);\r\n        }\r\n\r\n        if (options.onSelect != null)\r\n        {\r\n            let clickEvent = new SplitButtonSelectClickEvent();\r\n            clickEvent.text = options.text;\r\n            clickEvent.mainButton = true;\r\n            options.onSelect(clickEvent);\r\n        }\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nexport class SplitButtonItem\r\n{\r\n    text?: string;\r\n    value?: string | number;\r\n    icon?: IconClass;\r\n    imageUrl?: string;\r\n    separator?: boolean;\r\n    mode?: ButtonModeEnum;\r\n    colorSettings?: ColorSettings;\r\n    confirmationMessage?: string;\r\n    visible?: boolean;\r\n    enable?: boolean;\r\n    tooltip?: string;\r\n    css?: string;\r\n    cssContainer?: string;\r\n    class?: string;\r\n\r\n    onClick?: (e: SplitButtonClickEvent) => void;\r\n}\r\n\r\nclass SplitButtonClickEvent\r\n{\r\n    sender: SplitButton;\r\n    item: SplitButtonItem;\r\n}\r\n\r\nclass SplitButtonMainClickEvent\r\n{\r\n    sender: SplitButton;\r\n    text?: string;\r\n    value?: string;\r\n    items?: SplitButtonItem[];\r\n}\r\n\r\nclass SplitButtonSelectClickEvent\r\n{\r\n    text?: string;\r\n    value?: string;\r\n    mainButton?: boolean;\r\n}\r\n//#endregion","import { UtilityManager } from \"./utilityManager\";\r\n\r\nexport class KeyValuePair<K, V>\r\n{\r\n    key: K;\r\n    value: V;\r\n}\r\n\r\nexport class Dictionary<K, V>\r\n{\r\n    items: KeyValuePair<K, V>[];\r\n\r\n    private _map: Map<K, V> | null;\r\n    private get map(): Map<K, V>\r\n    {\r\n        if (this._map == null)\r\n            this._map = this.asMap();\r\n        return this._map;\r\n    }\r\n\r\n    constructor()\r\n    {\r\n        this.items = [];\r\n    }\r\n\r\n    public asMap(): Map<K, V>\r\n    {\r\n        return new Map<K, V>(this.items.map(k => [k.key, k.value]));\r\n    }\r\n\r\n    public static fromMap<K, V>(map: Map<K, V>): Dictionary<K, V>\r\n    {\r\n        let dict = new Dictionary<K, V>();\r\n\r\n        for (let item of map)\r\n        {\r\n            let pair = new KeyValuePair<K, V>();\r\n            pair.key = item[0];\r\n            pair.value = item[1];\r\n            dict.items.push(pair);\r\n        }\r\n\r\n        dict._map = map;\r\n\r\n        return dict;\r\n    }\r\n\r\n    public static parse<K, V>(dict: Dictionary<K, V>): Dictionary<K, V>\r\n    {\r\n        let ret = new Dictionary<K, V>();\r\n        ret.items = dict.items;\r\n        return ret;\r\n    }\r\n\r\n    public get(key: K): V | undefined\r\n    {\r\n        return this.map.get(key);\r\n    }\r\n\r\n    public set(key: K, value: V)\r\n    {\r\n        let item = this.items.find(k => k.key == key);\r\n        if (item == null)\r\n        {\r\n            item = new KeyValuePair<K, V>();\r\n            item.key = key;\r\n        }\r\n        item.value = value;\r\n\r\n        this.map.set(key, value);\r\n        this.items.push(item);\r\n    }\r\n\r\n    //#region Utility\r\n    public has(key: K)\r\n    {\r\n        return this.map.has(key);\r\n    }\r\n\r\n    public delete(key: K)\r\n    {\r\n        let itemToDelete = this.items.find(k => k.key == key);\r\n        if (itemToDelete != null)\r\n            this.items.vrDeleteItem(itemToDelete, \"key\");\r\n        this.map.delete(key);\r\n    }\r\n\r\n    public changeKey(oldKey: K, newKey: K)\r\n    {\r\n        let oldItems = UtilityManager.duplicate(this.get(oldKey));\r\n        this.delete(oldKey);\r\n        this.set(newKey, oldItems);\r\n    }\r\n\r\n    public keys()\r\n    {\r\n        return this.items.map(k => k.key);\r\n    }\r\n    //#endregion\r\n}","import { ControlTypeEnum, IconClassicLight, IconClass, WindowAutoSizeDirectionEnum, dialog, confirm, alert, ButtonModeEnum, createSplitButton, createComboBox, ComboBoxTypeEnum, prompt, createButton, DateModeEnum, createTextBox, createCheckBox, createWindow, WindowFooterItemTypeEnum, createDatePicker, PositionEnum, TextModeEnum, WindowFooterItemAlignEnum, GridHeightModeEnum, GridCheckboxModeEnum, GridModeEnum, GridColumnTypeEnum, GridAlignEnum, GridAggregateMode, GridLabelUnderlineMode, GridToolbarItemType, GridDateFilterTypeEnum, GridNumberFilterTypeEnum, createGrid, createSwitch, GridColumn, GridToolbarItem, puma, GridButtonSettings, KeyEnum, GridSortDirectionEnum, GridGroupBySettings, GridSortSettings, GridGroupByItem, createButtonGroup, SelectionModeEnum, createLabel, createColorPicker, GridGroupExpandCollapseEvent, GridGroupEditClickEvent, GridGroupDisplayValueEvent, notify, showLoader, hideLoader, IconClassicRegular, IconClassicSolid, notifyError, NumberFormatRoundingSettings, NumberFormatSettings, RoundingModeEnum, GridPageSelectedEvent, notifyWarning, GridScrollEvent, div, ControlPositionEnum, createCheckBoxList, OrientationEnum, GridStringFilterTypeEnum, CheckboxStateEnum, GridServerBindSettings, GridStickerSettings, TextAlignEnum, GridStickerClickEvent, GridBeforeExcelExportEvent, GridAfterExcelExportEvent, ComboBoxItem, DateTime, DateTimeTypeEnum } from \"../vr\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { Window } from \"./Window\";\r\nimport { SplitButton, SplitButtonOptions } from \"./splitButton\";\r\nimport { ControlManager } from \"../../../src/managers/controlManager\";\r\nimport { ComboBox, ComboBoxOptions } from \"./comboBox\";\r\nimport { CheckBox } from \"./checkbox\";\r\nimport { TextBox, TextBoxOptions } from \"./textbox\";\r\nimport { DatePicker, DatePickerOptions } from \"./datePicker\";\r\nimport { Dictionary } from \"../../../src/managers/dictionary\";\r\nimport { ColorPicker } from \"./colorPicker\";\r\nimport { Button } from \"./button\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { Switch } from \"./switch\";\r\nimport { Label } from \"./label\";\r\n\r\n//#region Options\r\nexport class GridOptions extends VrControlOptions\r\n{\r\n    //#region Properties\r\n    columns?: GridColumn[];\r\n    toolbar?: GridToolbarItem[];\r\n    height?: string | number | GridHeightModeEnum;\r\n    dataSource?: any[];\r\n    rebind?: GridRebindRequest;\r\n    excel?: GridExcelRequest;\r\n    tooltip?: boolean;\r\n    checkboxes?: boolean | GridCheckboxModeEnum;\r\n    dataSourceFieldId?: string;\r\n    rowHeight?: number;\r\n    multilineRows?: boolean;\r\n    multilineHeader?: boolean;\r\n    hideEditButton?: boolean;\r\n    autoWindowSettings?: GridAutoWindowSettings;\r\n    mode?: GridModeEnum;\r\n    filterable?: boolean;\r\n    alternateRowColors?: boolean | string;\r\n    hoverRowColor?: boolean;\r\n    rowColorProperty?: string;\r\n    pageSize?: number | boolean;\r\n    largePageSize?: boolean;\r\n    footer?: boolean | GridFooterSettings;\r\n    header?: boolean;\r\n    resizable?: boolean;\r\n    reorderable?: boolean;\r\n    lockable?: boolean;\r\n    groupBy?: string[] | GridGroupBySettings | null;\r\n    groupable?: boolean;\r\n    sortable?: boolean;\r\n    sortBy?: string | GridSortSettings | null;\r\n    serverBinding?: boolean | GridServerBindSettings;\r\n    roundingSettings?: NumberFormatRoundingSettings;\r\n    sticker?: string | GridStickerSettings;\r\n\r\n    //**********************TODO//**********************\r\n    layoutSettings?: GridLayoutSettings | boolean;\r\n    //#endregion\r\n\r\n    //#region Events\r\n    onDataSourceChanged?: () => void;\r\n    onDataBound?: (e: GridOnDataBoundEvent) => void;\r\n    onRowDataBound?: (e: GridOnRowDataBoundEvent) => void | string;\r\n    onSelectRow?: (e: GridSelectRowEvent) => void;\r\n    onSelectAllRows?: (e: GridSelectAllRowsEvent) => void;\r\n    onUnselectRow?: (e: GridUnselectRowEvent) => void;\r\n    onUnselectAllRows?: (e: GridUnselectAllRowsEvent) => void;\r\n    onGroupExpandCollapse?: (e: GridGroupExpandCollapseEvent) => void;\r\n    onGroupEditClick?: (e: GridGroupEditClickEvent) => void;\r\n    onPageSelected?: (e: GridPageSelectedEvent) => void;\r\n    onScroll?: (e: GridScrollEvent) => void;\r\n    onBeforeExcelExport?: (e: GridBeforeExcelExportEvent) => void;\r\n    onAfterExcelExport?: (e: GridAfterExcelExportEvent) => void;\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Grid extends VrControl\r\n{\r\n    //#region Variables\r\n    private _fitSpaceColumnPercentage: number;\r\n    private _showTotals: boolean;\r\n    private _isResizing: boolean;\r\n    private _isDragging: boolean;\r\n    private _actualSortingInfo: GridSortingInfo | null;\r\n    private _columnOptions: GridColumnPosition[];\r\n    private _actualPageSize: number;\r\n    private _actualPageSelected: number;\r\n    private _internalOptions: GridOptions;\r\n    private _tempRebindInfo: TempRebindInfo | null;\r\n    private _pageSizeUnlimited: boolean;\r\n    private _checkedItemsForFiltering: any[] | null;\r\n    private _timeoutFilterText: number;\r\n    private _workerTotals: Worker;\r\n    private _workerTotalsGroup: Worker;\r\n\r\n    //#region DataSource\r\n    private _dataSource: any[] | null;\r\n    private _originalDataSource: any[];\r\n    private _deletedItems: any[];\r\n    private _actualEditedItem: any | null;\r\n    private _lastIndexAdded: number;\r\n    private _responseForServerBinding: any;\r\n    private _serverBindingPagination: GridServerBindPagination;\r\n    //#endregion\r\n\r\n    //#region Filtering\r\n    private _wndFiltering: Window;\r\n    private _dictionaryDataValues: Map<string, string[]>;\r\n    private _dictionaryFilterConditions: Map<string, GridFilterSettings>;\r\n    //#endregion\r\n\r\n    //#region Show/Hide & Group\r\n    private _wndActions: Window;\r\n    private _groupByActualValue: any;\r\n    private _originalHiddenColumnFields: string[];\r\n    //#endregion\r\n\r\n    //#region Auto window\r\n    private _wndAutoWindow: Window;\r\n    //#endregion\r\n\r\n    //#region Layout\r\n    private _wndLayout: Window;\r\n    private _grdLayout: Grid;\r\n    private _actualLayout: GridLayout | null;\r\n    private _originalOptionsForLayout: GridLayoutStructure;\r\n    private _customLayouts: GridLayout[];\r\n    //#endregion\r\n\r\n    //#region Controls\r\n    private _cellButtons: Map<string, GridControlData>;\r\n    private _cellIcons: Map<string, GridControlData>;\r\n    private _cellCustoms: Map<string, GridControlData>;\r\n    private _cellLabels: Map<string, GridControlData>;\r\n    private _cellImages: Map<string, GridControlData>;\r\n    //#endregion\r\n\r\n    //#region Structure\r\n    private _elementId: string;\r\n    private _elementLocked: HTMLElement;\r\n    private _lblSticker: Label;\r\n    private _divToolbar: HTMLElement;\r\n    private _divHeaderContainer: HTMLElement;\r\n    private _divHeader: HTMLElement;\r\n    private _divHeaderLocked: HTMLElement;\r\n    private _divFilters: HTMLElement;\r\n    private _divFiltersLocked: HTMLElement;\r\n    private _divBody: HTMLElement;\r\n    private _divBodyLocked: HTMLElement;\r\n    private _divTotals: HTMLElement;\r\n    private _divTotalsLocked: HTMLElement;\r\n    private _divFooter: HTMLElement;\r\n    private _spanFitHeaderSpace: HTMLSpanElement;\r\n    private _spanFitFilterSpace: HTMLSpanElement;\r\n    private _spanFitTotalsSpace: HTMLSpanElement;\r\n    private _vrDateTimeFields: string[];\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    constructor(element: HTMLElement, options?: GridOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new GridOptions();\r\n\r\n        if (options.addToControlList == null) options.addToControlList = false;\r\n        if (options.width == null) options.width = \"100%\";\r\n        if (options.tooltip == null) options.tooltip = true;\r\n        if (options.dataSourceFieldId == null) options.dataSourceFieldId = \"id\";\r\n        if (options.multilineRows == null) options.multilineRows = true;\r\n        if (options.multilineHeader == null) options.multilineHeader = false;\r\n        if (options.rowHeight == null) options.rowHeight = 27;\r\n        if (options.columns == null) options.columns = [];\r\n        if (options.hideEditButton == null) options.hideEditButton = false;\r\n        if (options.mode == null) options.mode = GridModeEnum.Sync;\r\n        if (options.pageSize == null || options.pageSize === true) options.pageSize = 50;\r\n        if (options.filterable == null) options.filterable = true;\r\n        if (options.alternateRowColors == null) options.alternateRowColors = true;\r\n        if (options.hoverRowColor == null) options.hoverRowColor = false;\r\n        if (options.footer == null) options.footer = true;\r\n        if (options.header == null) options.header = true;\r\n        if (options.resizable == null) options.resizable = true;\r\n        if (options.reorderable == null) options.reorderable = true;\r\n        if (options.largePageSize == null) options.largePageSize = false;\r\n        if (options.enable == null) options.enable = true;\r\n        if (options.excel == null) options.excel = options.rebind;\r\n        if (options.lockable == null) options.lockable = true;\r\n\r\n        if (options.checkboxes == null || options.checkboxes === false) options.checkboxes = GridCheckboxModeEnum.None;\r\n        if (options.checkboxes === true) options.checkboxes = GridCheckboxModeEnum.MultiCheck;\r\n\r\n        //#region Server binding\r\n        if (options.serverBinding == null) options.serverBinding = false;\r\n        if (options.serverBinding === true)\r\n            options.serverBinding = new GridServerBindSettings();\r\n\r\n        if (options.serverBinding !== false)\r\n        {\r\n            if (options.serverBinding.itemCountPropertyName == null) options.serverBinding.itemCountPropertyName = \"itemCount\";\r\n            if (options.serverBinding.totalsPropertyName == null) options.serverBinding.totalsPropertyName = \"totals\";\r\n            if (options.serverBinding.excelDownloadUrlPropertyName == null) options.serverBinding.excelDownloadUrlPropertyName = \"excelDownloadUrl\";\r\n        }\r\n        //#endregion\r\n\r\n        //#region Sticker options\r\n        if (options.sticker == null) options.sticker = new GridStickerSettings();\r\n        if (typeof (options.sticker) == \"string\")\r\n        {\r\n            let text = options.sticker;\r\n            options.sticker = new GridStickerSettings();\r\n            options.sticker.text = text;\r\n        }\r\n\r\n        if (options.sticker.textColor == null) options.sticker.textColor = \"#000\";\r\n        if (options.sticker.backgroundColor == null) options.sticker.backgroundColor = \"#e3f1fa\";\r\n        //#endregion\r\n\r\n        //#region Layout\r\n        if (options.layoutSettings == null || options.layoutSettings === true)\r\n            options.layoutSettings = new GridLayoutSettings();\r\n\r\n        if (options.layoutSettings !== false)\r\n            if (options.layoutSettings.name == null) options.layoutSettings.name = \"\";\r\n        //#endregion\r\n\r\n        //#region Sort\r\n        if (options.sortable == null) options.sortable = true;\r\n        if (options.sortBy != null)\r\n        {\r\n            let sortByField = options.sortBy;\r\n            if (typeof (options.sortBy) == \"string\")\r\n            {\r\n                options.sortBy = new GridSortSettings();\r\n                options.sortBy.field = String(sortByField);\r\n            }\r\n\r\n            if ((options.sortBy as GridSortSettings).direction == null) (options.sortBy as GridSortSettings).direction = GridSortDirectionEnum.Asc;\r\n        }\r\n        //#endregion\r\n\r\n        //#region GroupBy\r\n        if (options.groupable == null)\r\n            options.groupable = true;\r\n\r\n        if (options.groupBy != null)\r\n        {\r\n            if (Array.isArray(options.groupBy))\r\n            {\r\n                let groupByFields = options.groupBy;\r\n                options.groupBy = new GridGroupBySettings();\r\n                options.groupBy.fields = groupByFields;\r\n                options.groupBy.sortBy = { field: groupByFields[0], direction: GridSortDirectionEnum.Asc };\r\n            }\r\n\r\n            if (options.groupBy.sortBy == null) options.groupBy.sortBy = new GridSortSettings();\r\n            if (options.groupBy.sortBy.direction == null) options.groupBy.sortBy.direction = GridSortDirectionEnum.Asc;\r\n\r\n            let groupByFields = options.groupBy.fields;\r\n            options.groupBy.fields = [];\r\n            if (groupByFields != null)\r\n            {\r\n                for (let field of groupByFields)\r\n                {\r\n                    if (typeof (field) == \"string\")\r\n                        options.groupBy.fields.push({ field: field } as any);\r\n                    else\r\n                        options.groupBy.fields.push(field as any);\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Check columns field\r\n        for (let column of options.columns)\r\n        {\r\n            let fieldList = options.columns.map(k => k.field);\r\n            let fieldListFiltered = fieldList.filter(k => k == column.field);\r\n            if (fieldListFiltered.length > 1)\r\n                throw new Error(\"La proprietà 'field' delle colonne deve essere univoca!!!\");\r\n        }\r\n        //#endregion\r\n\r\n        //#region Footer default\r\n        if (options.footer == null || options.footer === true)\r\n            options.footer = new GridFooterSettings();\r\n\r\n        if (options.footer !== false)\r\n        {\r\n            if (options.footer.maxVisiblePages == null) options.footer.maxVisiblePages = 10;\r\n            if (options.footer.showPagination == null) options.footer.showPagination = true;\r\n            if (options.footer.showPageSize == null) options.footer.showPageSize = true;\r\n            if (options.footer.showSettings == null) options.footer.showSettings = true;\r\n            if (options.footer.totalElements == null) options.footer.totalElements = true;\r\n        }\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Grid);\r\n\r\n        this._originalHiddenColumnFields = [];\r\n        this._originalDataSource = [];\r\n        this._dictionaryFilterConditions = new Map<string, GridFilterSettings>();\r\n\r\n        if (options.pageSize === false)\r\n            this._pageSizeUnlimited = true;\r\n\r\n        this._elementId = element.id;\r\n        this._actualLayout = null;\r\n\r\n        //#region Add columns from groupBy if not included\r\n        if (options.groupBy != null)\r\n        {\r\n            let optionsFields = options.columns.map(k => k.field);\r\n            for (let groupByItem of options.groupBy.fields as GridGroupByItem[])\r\n            {\r\n                if (!optionsFields.includes(groupByItem.field))\r\n                {\r\n                    let column = new GridColumn();\r\n                    column.field = groupByItem.field;\r\n                    column.title = groupByItem.displayField;\r\n                    column.hidden = true;\r\n                    options.columns.push(column);\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Original options for layout\r\n        let layoutList: GridLayout[] = [];\r\n        if (options.layoutSettings !== false)\r\n        {\r\n            let layoutJson = new GridLayoutStructure();\r\n            layoutJson.filterConditions = null;\r\n            layoutJson.pageSize = JSON.parse(JSON.stringify(options.pageSize!));\r\n            layoutJson.sortingInfo = null;\r\n\r\n            if (options.groupBy != null)\r\n                layoutJson.groupBy = JSON.parse(JSON.stringify(options.groupBy));\r\n\r\n            let index = 0;\r\n            let layoutColumns: GridLayoutColumn[] = [];\r\n            for (let column of options.columns!)\r\n            {\r\n                let layoutColumn = new GridLayoutColumn();\r\n                layoutColumn.field = (column.type == GridColumnTypeEnum.EditButton) ? \"editButton\" : column.field;\r\n                layoutColumn.fitSpace = column.fitSpace;\r\n                layoutColumn.hidden = column.hidden;\r\n                layoutColumn.locked = column.locked;\r\n                layoutColumn.index = index;\r\n\r\n                let width = (column.width != null) ? (column.width) : ((column.type == GridColumnTypeEnum.EditButton) ? 32 : 100);\r\n                layoutColumn.width = width;\r\n\r\n                layoutColumns.push(layoutColumn);\r\n                index++;\r\n\r\n                if (column.hidden === true)\r\n                    this._originalHiddenColumnFields.push(column.field);\r\n            }\r\n\r\n            layoutJson.columns = layoutColumns;\r\n            this._originalOptionsForLayout = layoutJson;\r\n\r\n            let getLayoutListRequest = new GetLayoutListRequest();\r\n            getLayoutListRequest.gridName = options.layoutSettings.name;\r\n            getLayoutListRequest.pageName = window.location.href;\r\n\r\n            //**********************TODO//**********************\r\n            this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Get, getLayoutListRequest, (response: any) =>\r\n            {\r\n                layoutList = response.tableLayoutList;\r\n                if (layoutList.length > 0)\r\n                {\r\n                    this._customLayouts = layoutList;\r\n                    let layoutToLoad = layoutList[0];\r\n                    let layoutClass = JSON.parse(layoutToLoad.layoutJson) as GridLayoutStructure;\r\n\r\n                    //#region Check if saved layout correspond with actual layout\r\n                    let same = true;\r\n                    for (let layoutColumn of layoutClass.columns)\r\n                    {\r\n                        if (layoutColumn.field == \"editButton\" && !options!.hideEditButton)\r\n                            continue;\r\n\r\n                        if (!options!.columns!.map(k => k.field).includes(layoutColumn.field))\r\n                        {\r\n                            same = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    //#endregion\r\n\r\n                    if (same)\r\n                    {\r\n                        this._actualLayout = layoutToLoad;\r\n                        //this.changeLayout();\r\n                    }\r\n                }\r\n            });\r\n            //**********************TODO//**********************\r\n        }\r\n        //#endregion\r\n\r\n        //#region Instantiate variables\r\n        this._lastIndexAdded = -1;\r\n        this._dictionaryDataValues = new Map<string, string[]>();\r\n        this._groupByActualValue = {};\r\n        this._actualPageSize = (options.pageSize === false) ? 50 : options.pageSize;\r\n        this._actualPageSelected = 1;\r\n\r\n        this._serverBindingPagination = new GridServerBindPagination();\r\n        this._serverBindingPagination.indexFrom = 0 * this._actualPageSize;\r\n        this._serverBindingPagination.indexTo = this._serverBindingPagination.indexFrom + this._actualPageSize - 1;\r\n        //#endregion\r\n\r\n        //#region Structure\r\n        let divContainer = puma(element).vrBeforePuma(\"<div id='\" + element.id + \"_divContainer' class='p-grid-container'></div>\");\r\n\r\n        //#region Sticker\r\n        this._lblSticker = createLabel({\r\n            text: options.sticker.text,\r\n            align: TextAlignEnum.Center,\r\n            bold: options.sticker.bold,\r\n            visible: options.sticker.text != null && options.sticker.text.length > 0,\r\n            colorSettings: { background: options.sticker.backgroundColor, textColor: options.sticker.textColor },\r\n            cssContainer: \"width: 30px; border: solid 1px #d9d9d9; border-right: none; border-top: solid 2px #25a0da;\" + options.sticker.cssContainer,\r\n            css: \"transform: rotate(180deg); writing-mode: tb; width: 100%; height: 100%; font-size: 16px;\" + options.sticker.css,\r\n            onClick: (e) =>\r\n            {\r\n                if ((options!.sticker! as GridStickerSettings).onClick != null)\r\n                {\r\n                    let clickEvent = new GridStickerClickEvent();\r\n                    clickEvent.sender = this;\r\n                    clickEvent.control = e.sender;\r\n                    clickEvent.value = e.sender.value();\r\n                    (options!.sticker! as GridStickerSettings).onClick!(clickEvent);\r\n                }\r\n            }\r\n        }, this.container(), ControlPositionEnum.Before)\r\n        //#endregion\r\n\r\n        //#region Header\r\n        this._divHeaderContainer = div(\"#\" + element.id + \"_divContainer\", { css: \"height: 35px;\" })\r\n        if (options.lockable)\r\n            this._divHeaderLocked = puma(\"<div class='grid_Header grid_Header_locked' style='overflow-x: hidden; display: inline-block;'></div>\").vrAppendToPuma(this._divHeaderContainer)[0] as HTMLDivElement;\r\n\r\n        this._divHeader = puma(\"<div id='\" + element.id + \"Header' class='grid_Header' style='overflow-x: hidden; display: inline-block;'></div>\").vrAppendToPuma(this._divHeaderContainer)[0] as HTMLDivElement;\r\n        if (!options.header)\r\n        {\r\n            this._divHeaderContainer.style.cssText += \"display: none;\";\r\n            this._divHeader.style.cssText += \"display: none;\";\r\n            this._divHeaderLocked.style.cssText += \"display: none;\";\r\n        }\r\n\r\n        this._spanFitHeaderSpace = puma(\"<span id='\" + element.id + \"FitHeaderSpace' class='grid_fitHeaderSpace'></span>\").vrAppendToPuma(\"#\" + element.id + \"_divContainer\")[0];\r\n        //#endregion\r\n\r\n        //#region Filters\r\n        let divFilters = div(\"#\" + element.id + \"_divContainer\", { css: \"height: 31px; display: none;\" })\r\n        if (options.lockable)\r\n            this._divFiltersLocked = puma(\"<div id='\" + element.id + \"Filters' class='grid_Filters grid_Filters_locked' style='overflow-x: hidden; display: none;'></div>\").vrAppendToPuma(divFilters)[0] as HTMLDivElement;\r\n\r\n        this._divFilters = puma(\"<div id='\" + element.id + \"Filters' class='grid_Filters' style='overflow-x: hidden; display: none;'></div>\").vrAppendToPuma(divFilters)[0] as HTMLDivElement;\r\n        this._spanFitFilterSpace = puma(\"<span id='\" + element.id + \"FitFilterSpace' class='grid_fitFilterSpace'></span>\").vrAppendToPuma(\"#\" + element.id + \"_divContainer\")[0];\r\n        //#endregion\r\n\r\n        //#region Body\r\n        let divBodyContainer = div(\"#\" + element.id + \"_divContainer\", { id: element.id + \"_grid_body_container\" })\r\n        if (options.lockable)\r\n            this._divBodyLocked = div(divBodyContainer, { class: \"grid_body_locked\", css: \"overflow-y: auto; vertical-align: top; display: inline-block; overflow-x: hidden; border-top: none; border: solid 1px #d9d9d9; border-right: solid 1px #a5a5a5; border-bottom: none;\" })\r\n\r\n        this._divBody = puma(\"<div id='\" + element.id + \"Body' class='grid_Body'></div>\").vrAppendToPuma(divBodyContainer)[0] as HTMLDivElement;\r\n        puma(this._divBody).scroll((e: any) =>\r\n        {\r\n            puma(this._divFilters).scrollLeft(puma(this._divBody).scrollLeft());\r\n            puma(this._divHeader).scrollLeft(puma(this._divBody).scrollLeft());\r\n            puma(this._divTotals).scrollLeft(puma(this._divBody).scrollLeft());\r\n            puma(this._divBodyLocked).scrollTop(puma(this._divBody).scrollTop());\r\n\r\n            if (options!.onScroll != null)\r\n            {\r\n                let scrollEvent = new GridScrollEvent();\r\n                scrollEvent.sender = this;\r\n                scrollEvent.target = e.target;\r\n                scrollEvent.scrollLeft = puma(this._divBody).scrollLeft();\r\n                scrollEvent.scrollTop = puma(this._divBody).scrollTop();\r\n                options!.onScroll(scrollEvent);\r\n            }\r\n        });\r\n\r\n        puma(this._divBodyLocked).scroll((e: any) =>\r\n        {\r\n            puma(this._divBody).scrollTop(puma(this._divBodyLocked).scrollTop());\r\n\r\n            if (options!.onScroll != null)\r\n            {\r\n                let scrollEvent = new GridScrollEvent();\r\n                scrollEvent.sender = this;\r\n                scrollEvent.target = e.target;\r\n                scrollEvent.scrollLeft = puma(this._divBody).scrollLeft();\r\n                scrollEvent.scrollTop = puma(this._divBody).scrollTop();\r\n                options!.onScroll(scrollEvent);\r\n            }\r\n        });\r\n        //#endregion\r\n\r\n        //#region Totals\r\n        let divTotals = div(\"#\" + element.id + \"_divContainer\", { css: \"height: 23px; display: none;\" });\r\n        if (options.lockable)\r\n            this._divTotalsLocked = puma(\"<div id='\" + element.id + \"Totals' class='grid_Totals grid_Totals_locked' style='overflow-x: hidden; display: none;'></div>\").vrAppendToPuma(divTotals)[0] as HTMLDivElement;\r\n\r\n        this._divTotals = puma(\"<div id='\" + element.id + \"Totals' class='grid_Totals' style='overflow-x: hidden; display: none;'></div>\").vrAppendToPuma(divTotals)[0] as HTMLDivElement;\r\n\r\n        this._showTotals = options.columns!.vrAny(k => k.aggregate != null && k.aggregate !== false);\r\n        if (this._showTotals)\r\n            this.createTotalsFunction();\r\n\r\n        this._spanFitTotalsSpace = puma(\"<span id='\" + element.id + \"FitTotalsSpace' class='grid_fitTotalsSpace'></span>\").vrAppendToPuma(\"#\" + element.id + \"_divContainer\")[0];\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        //#region Footer\r\n        if (options.footer !== false)\r\n        {\r\n            this._divFooter = puma(\"<div id='\" + element.id + \"Footer' class='p-grid-footer'></div>\").vrAppendToPuma(\"#\" + element.id + \"_divContainer\")[0] as HTMLDivElement;\r\n\r\n            //#region Footer page size\r\n            if (options.footer.showPageSize && typeof (options.pageSize) != \"boolean\")\r\n            {\r\n                //#region PageSize items\r\n                let pageSizeItems =\r\n                    [\r\n                        { text: \"50\", value: \"50\", numberValue: 50 },\r\n                        { text: \"100\", value: \"100\", numberValue: 100 }\r\n                    ];\r\n\r\n                if (options.pageSize! >= 200)\r\n                    options.largePageSize = true;\r\n\r\n                if (options.largePageSize)\r\n                {\r\n                    pageSizeItems.push({ text: \"200\", value: \"200\", numberValue: 200 });\r\n                    pageSizeItems.push({ text: \"500\", value: \"500\", numberValue: 500 });\r\n                }\r\n\r\n                if (options.pageSize! != 50 && options.pageSize! != 100 && options.pageSize! != 200 && options.pageSize != 500)\r\n                    pageSizeItems.push({ text: String(options.pageSize!), value: String(options.pageSize!), numberValue: Number(options.pageSize!) });\r\n\r\n                pageSizeItems.vrSortBy([\"numberValue\"], true);\r\n                //#endregion\r\n\r\n                createComboBox(\r\n                    {\r\n                        width: 65,\r\n                        mode: ComboBoxTypeEnum.DropDown,\r\n                        cssContainer: \"margin-top: 3px;\",\r\n                        css: \"border: solid 1px #d9d9d9 !important;\",\r\n                        items: pageSizeItems,\r\n                        value: String(options.pageSize!),\r\n                        onAfterChange: (e) =>\r\n                        {\r\n                            options!.pageSize = Number(e.sender.value());\r\n\r\n                            if (options!.columns!.length > 10)\r\n                                showLoader();\r\n\r\n                            window.setTimeout(() =>\r\n                            {\r\n                                this.update();\r\n                                hideLoader();\r\n                            }, 200);\r\n                        }\r\n                    }, this._divFooter, null, element.id + \"_ddlPageSize\");\r\n            }\r\n            //#endregion\r\n\r\n            //#region Footer settings\r\n            if (options.footer.showSettings)\r\n            {\r\n                //#region Settings split button\r\n                let spbSettingsControl = createSplitButton(\r\n                    {\r\n\r\n                        icon: IconClassicLight.Gear,\r\n                        cssContainer: \"top: 2px; margin-left: 5px;\",\r\n                        items:\r\n                            [\r\n                                {\r\n                                    text: \"Salva layout\", icon: IconClassicLight.Table, onClick: (e) =>\r\n                                    {\r\n                                        if (this._actualLayout == null)\r\n                                            prompt(\"Assegna un nome a questo layout\", { title: \"Salva layout\" }).then((value) => this.saveLayout(value));\r\n                                        else\r\n                                        {\r\n                                            dialog(\"Vuoi sovrascrivere questo layout, o crearne uno nuovo?\",\r\n                                                {\r\n                                                    title: \"Salva layout\",\r\n                                                    footerItems:\r\n                                                        [\r\n                                                            { text: \"Annulla\", type: WindowFooterItemTypeEnum.Close },\r\n                                                            {\r\n                                                                text: \"Sovrascrivi\", mode: ButtonModeEnum.Primary, onClick: (e) => \r\n                                                                {\r\n                                                                    this.saveLayout(this._actualLayout!.layoutName)\r\n                                                                    e.sender.close();\r\n                                                                }\r\n                                                            },\r\n                                                            {\r\n                                                                text: \"Crea nuovo\", mode: ButtonModeEnum.Primary, onClick: (e) =>\r\n                                                                {\r\n                                                                    prompt(\"Assegna un nome a questo layout\", { title: \"Nome layout\" }).then((value) =>\r\n                                                                    {\r\n                                                                        this._actualLayout = null;\r\n                                                                        this.saveLayout(value);\r\n                                                                        e.sender.close();\r\n                                                                    });\r\n                                                                }\r\n                                                            }\r\n                                                        ]\r\n                                                });\r\n                                        }\r\n                                    }\r\n                                },\r\n                                {\r\n                                    text: \"Gestisci layout\", icon: IconClassicLight.Table, value: \"manageLayout\",\r\n                                    onClick: (e) => this.openWindowLayout()\r\n                                },\r\n                                {\r\n                                    text: \"Ripristina layout di base\", icon: IconClassicLight.Table, value: \"restoreBaseLayout\",\r\n                                    confirmationMessage: \"Confermi di voler ripristinare il layout di base?\",\r\n                                    onClick: (e) => \r\n                                    {\r\n                                        this._actualLayout = null;\r\n                                        this.changeLayout(true, this._originalOptionsForLayout);\r\n                                    }\r\n                                },\r\n                                {\r\n                                    text: \"Mostra/Nascondi\", icon: IconClassicLight.Eye,\r\n                                    onClick: (e) => this.openWindowActions(GridActionEnum.ShowHide)\r\n                                },\r\n                                {\r\n                                    text: \"Raggruppa per...\", icon: IconClassicLight.Users, visible: options.groupable,\r\n                                    onClick: (e) => this.openWindowActions(GridActionEnum.GroupBy)\r\n                                },\r\n                                {\r\n                                    text: \"Blocca/Sblocca\", icon: IconClassicLight.Lock, visible: options.lockable!,\r\n                                    onClick: (e) => this.openWindowActions(GridActionEnum.LockUnlock)\r\n                                }\r\n                            ]\r\n                    }, this._divFooter, null, this._elementId + \"_spbSettings\");\r\n                //#endregion\r\n\r\n                //#region Hide manage layout button\r\n                if (layoutList.length == 0)\r\n                    window.setTimeout(() => spbSettingsControl.hideItem(\"manageLayout\"));\r\n                //#endregion\r\n            }\r\n            //#endregion\r\n        }\r\n        //#endregion\r\n\r\n        //#region CSS\r\n        if (options.css != null)\r\n            puma(\"#\" + element.id + \"_divContainer\")[0].style.cssText += options.css;\r\n\r\n        puma(element).addClass(\"p-grid\");\r\n        puma(element).css(\"border-collapse\", \"collapse\");\r\n\r\n        if (typeof (options.alternateRowColors) === \"string\")\r\n            puma(\"<style>#\" + element.id + \" .p-grid tr.p-grid-body:nth-child(odd) { background-color: \" + options.alternateRowColors + \"; }</style>\").vrAppendToPuma(\"head\");\r\n        else if (options.alternateRowColors === true)\r\n            puma(element).addClass(\"alternateRowsColor\");\r\n\r\n        if (options.hoverRowColor)\r\n            puma(element).addClass(\"p-grid-hover\");\r\n        //#endregion\r\n\r\n        //#region Height\r\n        if (options.height == null) options.height = GridHeightModeEnum.FitContent;\r\n        if (options.height == GridHeightModeEnum.FitContent)\r\n            options.height = \"auto\";\r\n\r\n        puma(this._divBody).height(options.height!);\r\n        let heightContainer = (typeof (options.height!) == \"number\") ? options.height! + 2 : options.height;\r\n        puma(\"#\" + this.element().id + \"_grid_body_container\").height(heightContainer);\r\n        if (options.lockable) puma(this._divBodyLocked).height(options.height!);\r\n\r\n        if (this._lblSticker != null)\r\n        {\r\n            let headerHeight = (puma(this._divHeader).is(\":visible\")) ? 34 : 0;\r\n            let filtersHeight = (options.filterable) ? 30 : 0;\r\n            let totalsheight = (this._showTotals) ? 25 : 0;\r\n            puma(this._lblSticker.container()).height(puma(\"#\" + this.element().id + \"_grid_body_container\").height() + headerHeight + filtersHeight + totalsheight - 1);\r\n        }\r\n        //#endregion\r\n\r\n        puma(this._divBody).vrAppendPuma(element);\r\n\r\n        if (options.lockable)\r\n        {\r\n            this._elementLocked = puma(\"<table class='p-grid p-grid-locked' style='border-collapse: collapse;'></table>\");\r\n            if (options.alternateRowColors === true) puma(this._elementLocked).addClass(\"alternateRowsColor\");\r\n            if (options.hoverRowColor) puma(this._elementLocked).addClass(\"p-grid-hover\")\r\n            puma(this._divBodyLocked).vrAppendPuma(this._elementLocked);\r\n        }\r\n\r\n        //#region Edit button\r\n        let editButtonColumnsNumber = options.columns.filter(k => k.type == GridColumnTypeEnum.EditButton).length;\r\n        if (editButtonColumnsNumber > 1)\r\n            throw Error(\"Non possono coesistere due o più colonne di edit!\");\r\n\r\n        if (editButtonColumnsNumber == 1)\r\n        {\r\n            let indexEditButtonColumn = options.columns.findIndex(k => k.type == GridColumnTypeEnum.EditButton);\r\n            options.columns[indexEditButtonColumn].field = \"editButton\";\r\n            options.columns[indexEditButtonColumn].locked = this.thereAreLockedColumns();\r\n        }\r\n\r\n        if (editButtonColumnsNumber == 0 && !options.hideEditButton)\r\n            options.columns.unshift({ type: GridColumnTypeEnum.EditButton, field: \"editButton\", locked: this.thereAreLockedColumns() });\r\n        //#endregion\r\n\r\n        //#region Width\r\n        puma(element).width(options.width);\r\n        puma(\"#\" + element.id + \"_divContainer\").width(options.width);\r\n        //#endregion\r\n\r\n        //#region Fit space\r\n        let tableWidth = puma(this.element()).width();\r\n        let columnsWidthOccupied = 0;\r\n        let fitSpaceColumnsNumber = 0;\r\n        for (let column of options.columns)\r\n        {\r\n            if (column.hidden == true)\r\n                continue;\r\n\r\n            if (this.thereAreLockedColumns() && column.type == GridColumnTypeEnum.EditButton)\r\n                continue;\r\n\r\n            if ((column.fitSpace == null || column.fitSpace == false))\r\n                columnsWidthOccupied += (column.width != null) ? column.width : ((column.type == GridColumnTypeEnum.EditButton) ? 32 : 100);\r\n            else\r\n                fitSpaceColumnsNumber++;\r\n        }\r\n\r\n        let remainingSpace = tableWidth - columnsWidthOccupied;\r\n        if (!this.thereAreLockedColumns() && options.checkboxes != GridCheckboxModeEnum.None)\r\n            remainingSpace -= 20;\r\n\r\n        if (options.groupBy != null && options.groupBy.fields != null)\r\n            remainingSpace -= 20 * options.groupBy.fields.length;\r\n\r\n        let fitSpaceColumnPercentage = (100 * (remainingSpace / fitSpaceColumnsNumber) / tableWidth);\r\n        this._fitSpaceColumnPercentage = fitSpaceColumnPercentage;\r\n        //#endregion\r\n\r\n        //#region Toolbar\r\n        if (options.toolbar != null && options.toolbar.length > 0)\r\n        {\r\n            this._divToolbar = puma(\"<div id='\" + element.id + \"Toolbar' class='grid_divToolbar'></div>\").vrPrependToPuma(\"#\" + element.id + \"_divContainer\")[0] as HTMLDivElement;\r\n\r\n            let separatorCount = 0;\r\n            for (let toolbarItem of options.toolbar)\r\n            {\r\n                //#region Value if separator\r\n                if (toolbarItem.type != null && toolbarItem.type == GridToolbarItemType.Separator\r\n                    && (toolbarItem.value == \"\" || toolbarItem.value == null))\r\n                {\r\n                    toolbarItem.value = \"separator\" + separatorCount;\r\n                    separatorCount++;\r\n                }\r\n                //#endregion\r\n\r\n                this.addToolbarItem(toolbarItem);\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Header columns\r\n        puma(this._divHeader).vrAppendPuma(\"<table class='p-grid'><thead><tr class='p-grid-headerColumn'></tr></thead></table>\");\r\n        if (options.lockable)\r\n            puma(this._divHeaderLocked).vrAppendPuma(\"<table class='p-grid p-grid-locked'><thead><tr class='p-grid-headerColumn'></tr></thead></table>\");\r\n\r\n        if (options.groupable! || options.groupBy != null)\r\n        {\r\n            for (let column of options.columns!)\r\n            {\r\n                let display = \"\";\r\n                if (options.groupBy == null || (!(options.groupBy.fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                    display = \"display: none;\";\r\n\r\n                puma(this._divHeader).find(\".p-grid-headerColumn\").vrAppendPuma(\"<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1; \" + display + \"' value='groupBy\" + column.field + \"' class='groupBy\" + column.field + \"'></th>\");\r\n                if (options.lockable)\r\n                    puma(this._divHeaderLocked).find(\".p-grid-headerColumn\").vrAppendPuma(\"<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1; \" + display + \"' value='groupBy\" + column.field + \"' class='groupBy\" + column.field + \"'></th>\");\r\n            }\r\n        }\r\n\r\n        //#region Checkbox column\r\n        if (options.checkboxes != GridCheckboxModeEnum.None)\r\n        {\r\n            let thCheckbox = document.createElement(\"th\");\r\n            thCheckbox.style.cssText += \"border: 1px solid #dddddd;\";\r\n            puma(thCheckbox).attr(\"width\", 20);\r\n            puma(thCheckbox).attr(\"value\", \"vrGridCheckboxColumn\");\r\n            puma(thCheckbox).css(\"background-color\", \"#51B3E1\");\r\n            puma(thCheckbox).css(\"color\", \"#FFF\");\r\n\r\n            let textHTML = \"<input id='\" + element.id + \"header_CheckboxColumn' class='vrCheckBox' type='checkbox'></input>\"\r\n                + \"<label class='vrCheckBoxLabel vr-checkboxColumnHeader-label' for='header_CheckboxColumn'></label>\";\r\n            thCheckbox.innerHTML = textHTML;\r\n\r\n            puma(thCheckbox).css(\"text-align\", \"center\");\r\n\r\n            if (this.thereAreLockedColumns())\r\n                puma(this._divHeaderLocked).find(\".p-grid-headerColumn\").vrAppendPuma(thCheckbox);\r\n            else\r\n                puma(this._divHeader).find(\".p-grid-headerColumn\").vrAppendPuma(thCheckbox);\r\n\r\n            if (options.checkboxes == GridCheckboxModeEnum.SingleCheck)\r\n                puma(thCheckbox).children().hide();\r\n            else\r\n            {\r\n                puma(thCheckbox).click((e: any) =>\r\n                {\r\n                    let isChecked = (e.target as HTMLInputElement).checked;\r\n                    if (isChecked)\r\n                        this.checkAllRows();\r\n                    else\r\n                        this.unCheckAllRows();\r\n                });\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Columns\r\n        for (let column of options.columns)\r\n        {\r\n            let th = document.createElement(\"th\");\r\n            puma(th).attr(\"value\", column.field);\r\n            th.style.cssText += \"border: 1px solid #dddddd;\";\r\n\r\n            let title = (column.title != null) ? column.title : \"\";\r\n            puma(th).attr(\"title\", title);\r\n\r\n            //#region Icon\r\n            if (column.headerSettings != null && column.headerSettings.icon != null)\r\n                title = \"<i class='\" + column.headerSettings.icon + \"'></i>\" + title;\r\n            //#endregion\r\n\r\n            //#region Bold\r\n            if (column.bold === true)\r\n                puma(th).css(\"font-weight\", \"500\");\r\n            //#endregion\r\n\r\n            //#region Css\r\n            if (column.headerSettings != null && column.headerSettings!.css != null)\r\n                th.style.cssText += column.headerSettings!.css;\r\n            //#endregion\r\n\r\n            th.innerHTML = \"<div class='grid_headerTh'><span class='grid_headerThContent'>\" + title + \"</span><i style='position: absolute; top: 10px; right: 5px;'></i></div>\";\r\n\r\n            puma(th).attr(\"width\", (column.width != null) ? column.width : ((column.fitSpace == true) ? fitSpaceColumnPercentage + \"%\" : (column.type == GridColumnTypeEnum.EditButton) ? 32 : 100));\r\n            if (column.fitSpace == true)\r\n                puma(th).attr(\"fitSpace\", \"true\");\r\n\r\n            //#region Color\r\n            let backgroundColor = \"#51B3E1\";\r\n            let color = \"#000\";\r\n            if (column.headerSettings != null)\r\n            {\r\n                backgroundColor = (column.headerSettings.backgroundColor != null) ? column.headerSettings.backgroundColor : backgroundColor;\r\n                color = (column.headerSettings.color != null) ? column.headerSettings.color : \"#000\";\r\n            }\r\n            puma(th).css(\"background-color\", backgroundColor);\r\n            puma(th).css(\"color\", color);\r\n            //#endregion\r\n\r\n            //#region Text align\r\n            let textAlign = GridAlignEnum.Left;\r\n            if (column.headerSettings != null && column.headerSettings.textAlign != null)\r\n                textAlign = column.headerSettings.textAlign;\r\n            puma(th).css(\"text-align\", textAlign);\r\n            //#endregion\r\n\r\n            //#region Tooltip\r\n            if (options.tooltip)\r\n            {\r\n                let tooltip = \"\";\r\n                if (column.headerSettings != null)\r\n                {\r\n                    if (column.headerSettings.tooltip == true)\r\n                        tooltip = (column.title == null) ? \"\" : column.title;\r\n                    else if (typeof (column.headerSettings.tooltip) == \"string\")\r\n                        tooltip = column.headerSettings.tooltip;\r\n                }\r\n\r\n                if (tooltip.length > 0)\r\n                    puma(th).attr(\"title\", tooltip);\r\n            }\r\n            //#endregion\r\n\r\n            //#region Sort\r\n            let sortGridColumnTypes = [GridColumnTypeEnum.Currency, GridColumnTypeEnum.Date, GridColumnTypeEnum.DateTime,\r\n            GridColumnTypeEnum.Duration, GridColumnTypeEnum.Label, GridColumnTypeEnum.Number, GridColumnTypeEnum.Percentage,\r\n            GridColumnTypeEnum.String, GridColumnTypeEnum.Time, GridColumnTypeEnum.LongDate, GridColumnTypeEnum.LongDateTime,\r\n            GridColumnTypeEnum.LongWeekDate, GridColumnTypeEnum.ShortWeekDate];\r\n\r\n            if (sortGridColumnTypes.includes(column.type!))\r\n            {\r\n                puma(th).css(\"cursor\", \"pointer\");\r\n                puma(th).click(() =>\r\n                {\r\n                    if (this._isResizing === true || this._isDragging === true)\r\n                        return;\r\n\r\n                    if (puma(th).attr(\"sortMode\") == null)\r\n                        this.sort(column.field, GridSortDirectionEnum.Asc);\r\n                    else\r\n                    {\r\n                        let sortMode = Number(puma(th).attr(\"sortMode\")) as GridSortDirectionEnum;\r\n                        if (sortMode == GridSortDirectionEnum.Asc)\r\n                            this.sort(column.field, GridSortDirectionEnum.Desc);\r\n                        else\r\n                            this.removeSort();\r\n                    }\r\n                });\r\n            }\r\n            else\r\n                puma(th).css(\"cursor\", \"grab\");\r\n            //#endregion\r\n\r\n            // Append th\r\n            if (options.lockable && column.locked)\r\n            {\r\n                th.setAttribute(\"locked\", \"locked\");\r\n                puma(this._divHeaderLocked).find(\".p-grid-headerColumn\").vrAppendPuma(th);\r\n            }\r\n            else\r\n                puma(this._divHeader).find(\".p-grid-headerColumn\").vrAppendPuma(th);\r\n\r\n            if (column.hidden == true)\r\n                puma(th).hide();\r\n        }\r\n\r\n        if (options.lockable && this.thereAreLockedColumns())\r\n            puma(this._divHeader).width(\"Calc(100% - \" + (puma(this._divHeaderLocked).width() + 5) + \"px)\")\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        //#region Filters\r\n        if (options.filterable)\r\n        {\r\n            puma(divFilters).show();\r\n            puma(this._divFilters)[0].style.cssText += \"display: inline-block\";\r\n            puma(this._divFilters).vrAppendPuma(\"<table class='p-grid'><thead><tr class='p-grid-filters'></tr></thead></table>\");\r\n\r\n            if (options.lockable)\r\n            {\r\n                puma(this._divFiltersLocked)[0].style.cssText += \"display: inline-block\";\r\n                puma(this._divFiltersLocked).vrAppendPuma(\"<table class='p-grid p-grid-locked'><thead><tr class='p-grid-filters'></tr></thead></table>\");\r\n            }\r\n\r\n            if (options.groupable! || options.groupBy != null)\r\n            {\r\n                for (let column of options.columns!)\r\n                {\r\n                    let display = \"\";\r\n                    if (options.groupBy == null || (!(options.groupBy.fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                        display = \"display: none;\";\r\n\r\n                    puma(this._divFilters).find(\".p-grid-filters\").vrAppendPuma(\"<td style='border: 1px solid rgb(221, 221, 221); \" + display + \"' value='groupBy\" + column.field + \"' width=16 class='groupBy\" + column.field + \"'></td>\");\r\n                    if (options.lockable)\r\n                        puma(this._divFiltersLocked).find(\".p-grid-filters\").vrAppendPuma(\"<td style='border: 1px solid rgb(221, 221, 221); \" + display + \"' width=16 class='groupBy\" + column.field + \"'></td>\");\r\n                }\r\n            }\r\n\r\n            //#region Checkbox column\r\n            if (options.checkboxes != GridCheckboxModeEnum.None)\r\n            {\r\n                let thCheckbox = document.createElement(\"td\");\r\n                puma(thCheckbox).attr(\"value\", \"vrGridCheckboxColumn\");\r\n                thCheckbox.style.cssText += \"border: 1px solid #dddddd;\";\r\n                puma(thCheckbox).attr(\"width\", 20);\r\n\r\n                if (this.thereAreLockedColumns())\r\n                    puma(this._divFiltersLocked).find(\".p-grid-filters\").vrAppendPuma(thCheckbox);\r\n                else\r\n                    puma(this._divFilters).find(\".p-grid-filters\").vrAppendPuma(thCheckbox);\r\n            }\r\n            //#endregion\r\n\r\n            //#region Columns\r\n            for (let column of options.columns)\r\n            {\r\n                //#region Create dictionary\r\n                if (column.type != GridColumnTypeEnum.EditButton)\r\n                    this._dictionaryDataValues.set(column.field, []);\r\n                //#endregion\r\n\r\n                let td = document.createElement(\"td\");\r\n                puma(td).attr(\"value\", column.field);\r\n                td.style.cssText += \"border: 1px solid #dddddd;\";\r\n\r\n                puma(td).attr(\"width\", (column.width != null) ? column.width : ((column.fitSpace == true) ? fitSpaceColumnPercentage + \"%\" : (column.type == GridColumnTypeEnum.EditButton) ? 32 : 100));\r\n                if (column.fitSpace == true)\r\n                    puma(td).attr(\"fitSpace\", \"true\");\r\n\r\n                // Append th\r\n                if (options.lockable && column.locked)\r\n                    puma(this._divFiltersLocked).find(\".p-grid-filters\").vrAppendPuma(td);\r\n                else\r\n                    puma(this._divFilters).find(\".p-grid-filters\").vrAppendPuma(td);\r\n\r\n                //#region Filter type\r\n                if ((column.type == GridColumnTypeEnum.Custom && column.filterable == null) || column.type == GridColumnTypeEnum.Color)\r\n                    column.filterable = false;\r\n\r\n                if (column.type != null && column.filterable !== false)\r\n                {\r\n                    switch (column.type)\r\n                    {\r\n                        case GridColumnTypeEnum.Checkbox:\r\n                        case GridColumnTypeEnum.Boolean:\r\n                            {\r\n                                puma(td).css(\"text-align\", \"center\");\r\n                                td.innerHTML = \"<input id='\" + element.id + \"_CheckboxFilter_\" + column.field + \"' class='vrCheckBox' type='checkbox'></input>\"\r\n                                    + \"<label class='vrLabel vr-checkboxFilter-label' for='\" + element.id + \"_CheckboxFilter_\" + column.field + \"'></label>\";\r\n\r\n                                //#region Create filter\r\n                                let checkboxJq = puma(\"#\" + element.id + \"_CheckboxFilter_\" + column.field);\r\n                                checkboxJq.addClass(\"indeterminateVrCheckbox\");\r\n                                checkboxJq.click((e: any) =>\r\n                                {\r\n                                    let checkbox = checkboxJq[0] as HTMLInputElement;\r\n                                    if (checkbox.checked && !puma(checkbox).hasClass(\"indeterminateVrCheckbox\"))\r\n                                    {\r\n                                        puma(checkbox).addClass(\"indeterminateVrCheckbox\");\r\n                                        this.removeFilter(column.field);\r\n                                        e.preventDefault();\r\n                                    }\r\n                                    else\r\n                                    {\r\n                                        puma(checkbox).removeClass(\"indeterminateVrCheckbox\");\r\n\r\n                                        let filterSettings = new GridFilterSettings();\r\n                                        filterSettings.type = column.type!;\r\n                                        filterSettings.checkboxFilterSettings = new GridCheckboxFilterSettings();\r\n                                        filterSettings.checkboxFilterSettings.value = checkbox.checked;\r\n                                        this.updateFilter(column.field, filterSettings, false);\r\n                                        this.applyFilters(true);\r\n                                    }\r\n                                });\r\n                                //#endregion\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.DateTime:\r\n                        case GridColumnTypeEnum.Time:\r\n                        case GridColumnTypeEnum.Date:\r\n                        case GridColumnTypeEnum.LongDate:\r\n                        case GridColumnTypeEnum.LongDateTime:\r\n                        case GridColumnTypeEnum.LongWeekDate:\r\n                        case GridColumnTypeEnum.ShortWeekDate:\r\n                            {\r\n                                puma(td).css(\"text-align\", \"center\");\r\n                                td.innerHTML = \"<button id='\" + this._elementId + \"_DateFilter_\" + column.field + \"'></button>\" +\r\n                                    \"<button id='\" + this._elementId + \"_DateFilterRemove_\" + column.field + \"'></button>\";\r\n\r\n                                //#region Create filter\r\n                                let dateFilter = createButton(\r\n                                    {\r\n                                        icon: IconClassicLight.Filter,\r\n                                        tooltip: \"Applica filtro\",\r\n                                        onClick: (e) =>\r\n                                        {\r\n                                            this.openWindowFiltering(column);\r\n                                        }\r\n                                    }, null, null, this._elementId + \"_DateFilter_\" + column.field);\r\n\r\n                                let dateFilterRemove = createButton(\r\n                                    {\r\n                                        icon: IconClassicRegular.Xmark,\r\n                                        tooltip: \"Rimuovi filtro\",\r\n                                        colorSettings: { background: \"#CCC\" },\r\n                                        visible: false,\r\n                                        cssContainer: \"margin-left: 5px;\",\r\n                                        onClick: (e) =>\r\n                                        {\r\n                                            this.removeFilter(column.field);\r\n\r\n                                            dateFilter.tooltip(\"\");\r\n                                            puma(dateFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                            puma(dateFilter.element()).css(\"color\", \"#000\");\r\n                                            dateFilterRemove.hide();\r\n                                            this.recalculateHeight(true);\r\n                                        }\r\n                                    }, null, null, this._elementId + \"_DateFilterRemove_\" + column.field);\r\n                                //#endregion\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.Number:\r\n                        case GridColumnTypeEnum.Currency:\r\n                        case GridColumnTypeEnum.Percentage:\r\n                        case GridColumnTypeEnum.Duration:\r\n                            {\r\n                                puma(td).css(\"text-align\", \"center\");\r\n                                td.innerHTML = \"<button id='\" + this._elementId + \"_NumberFilter_\" + column.field + \"'></button>\" +\r\n                                    \"<button id='\" + this._elementId + \"_NumberFilterRemove_\" + column.field + \"'></button>\";\r\n\r\n                                //#region Create filter\r\n                                let numberFilter = createButton(\r\n                                    {\r\n                                        icon: IconClassicLight.Filter,\r\n                                        tooltip: \"Applica filtro\",\r\n                                        onClick: (e) =>\r\n                                        {\r\n                                            this.openWindowFiltering(column);\r\n                                        }\r\n                                    }, null, null, this._elementId + \"_NumberFilter_\" + column.field);\r\n\r\n                                let numberFilterRemove = createButton(\r\n                                    {\r\n                                        icon: IconClassicRegular.Xmark,\r\n                                        tooltip: \"Rimuovi filtro\",\r\n                                        colorSettings: { background: \"#CCC\" },\r\n                                        visible: false,\r\n                                        cssContainer: \"margin-left: 5px;\",\r\n                                        onClick: (e) =>\r\n                                        {\r\n                                            this.removeFilter(column.field);\r\n\r\n                                            numberFilter.tooltip(\"\");\r\n                                            puma(numberFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                            puma(numberFilter.element()).css(\"color\", \"#000\");\r\n                                            numberFilterRemove.hide();\r\n                                            this.recalculateHeight(true);\r\n                                        }\r\n                                    }, null, null, this._elementId + \"_NumberFilterRemove_\" + column.field);\r\n                                //#endregion\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.String:\r\n                        case GridColumnTypeEnum.Custom:\r\n                        case GridColumnTypeEnum.Label:\r\n                            {\r\n                                //#region Create filter\r\n                                this._timeoutFilterText = 0;\r\n                                let txtValue = createTextBox(\r\n                                    {\r\n                                        icon: (column.type == GridColumnTypeEnum.Custom) ? IconClassicLight.Search : undefined,\r\n                                        placeholder: (column.type == GridColumnTypeEnum.Custom) ? \"Cerca...\" : undefined,\r\n                                        width: \"Calc(100% - 27px)\",\r\n                                        attributes: [{ name: \"field\", value: column.field }],\r\n                                        onPaste: (e) =>\r\n                                        {\r\n                                            clearTimeout(this._timeoutFilterText);\r\n                                            let textToSearch = String(e.value).trim().toLowerCase();\r\n                                            let field = puma(e.sender.element()).attr(\"field\");\r\n\r\n                                            this.manageFilterTextByColumn(textToSearch, column, field, false);\r\n                                        },\r\n                                        onKeyUp: (e) =>\r\n                                        {\r\n                                            if (e.tabKey)\r\n                                                return;\r\n\r\n                                            //#region Filter button\r\n                                            btnStringFilter.tooltip(\"\");\r\n                                            puma(btnStringFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                            puma(btnStringFilter.element()).css(\"color\", \"#000\");\r\n                                            btnStringFilterRemove.hide();\r\n                                            e.sender.width(\"Calc(100% - 27px)\");\r\n                                            //#endregion\r\n\r\n                                            clearTimeout(this._timeoutFilterText);\r\n                                            let textToSearch = e.sender.value<string>().toLowerCase();\r\n                                            let field = puma(e.sender.element()).attr(\"field\");\r\n\r\n                                            //#region Server binding\r\n                                            if (options!.serverBinding !== false)\r\n                                            {\r\n                                                let filterSettings = new GridFilterSettings();\r\n                                                filterSettings.type = column.type!;\r\n                                                filterSettings.stringFilterSettings = new GridStringFilterSettings();\r\n                                                filterSettings.stringFilterSettings.filterTypeEnum = GridStringFilterTypeEnum.IncludesFromSimpleSearch;\r\n                                                filterSettings.stringFilterSettings.text = textToSearch.toLowerCase();\r\n\r\n                                                if (e.key == KeyEnum.Enter)\r\n                                                    this.updateFilter(column.field, filterSettings);\r\n\r\n                                                return;\r\n                                            }\r\n                                            //#endregion\r\n\r\n                                            if (textToSearch.length == 0)\r\n                                            {\r\n                                                this.removeFilter(puma(e.sender.element()).attr(\"field\"), false);\r\n                                                window.setTimeout(() =>\r\n                                                {\r\n                                                    if (column.filterWebService === true)\r\n                                                        this.rebind(null, true);\r\n                                                    else\r\n                                                        this.applyFilters(true);\r\n\r\n                                                    this._checkedItemsForFiltering = this.getCheckedItems();\r\n                                                }, 100);\r\n                                                return;\r\n                                            }\r\n\r\n                                            this.manageFilterTextByColumn(textToSearch, column, field, e.backSpaceKey);\r\n                                        }\r\n                                    }, td, null, this._elementId + \"_StringFilter_\" + column.field);\r\n                                //#endregion\r\n\r\n                                //#region Create filter button\r\n                                let btnStringFilter = createButton(\r\n                                    {\r\n                                        icon: IconClassicLight.Filter,\r\n                                        tooltip: \"Applica filtro\",\r\n                                        onClick: (e) =>\r\n                                        {\r\n                                            this.openWindowFiltering(column);\r\n                                        }\r\n                                    }, td, null, this._elementId + \"_StringFilterBtn_\" + column.field);\r\n\r\n                                let btnStringFilterRemove = createButton(\r\n                                    {\r\n                                        icon: IconClassicRegular.Xmark,\r\n                                        tooltip: \"Rimuovi filtro\",\r\n                                        colorSettings: { background: \"#CCC\" },\r\n                                        visible: false,\r\n                                        cssContainer: \"margin-left: 5px;\",\r\n                                        onClick: (e) =>\r\n                                        {\r\n                                            this.removeFilter(column.field);\r\n\r\n                                            btnStringFilter.tooltip(\"\");\r\n                                            puma(btnStringFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                            puma(btnStringFilter.element()).css(\"color\", \"#000\");\r\n                                            btnStringFilterRemove.hide();\r\n                                            this.recalculateHeight(true);\r\n\r\n                                            txtValue.width(\"Calc(100% - 27px\");\r\n                                        }\r\n                                    }, td, null, this._elementId + \"_StringFilterBtnRemove_\" + column.field);\r\n                                //#endregion\r\n                            }\r\n                            break;\r\n                        default:\r\n                            td.innerHTML = \"\";\r\n                            break;\r\n                    }\r\n                }\r\n                //#endregion\r\n\r\n                if (column.hidden === true)\r\n                    puma(td).hide();\r\n            }\r\n            //#endregion\r\n\r\n            if (options.lockable && this.thereAreLockedColumns())\r\n                puma(this._divFilters).width(\"Calc(100% - \" + (puma(this._divHeaderLocked).width() + 5) + \"px)\")\r\n        }\r\n        //#endregion\r\n\r\n        //#region Totals\r\n        if (this._showTotals)\r\n        {\r\n            puma(divTotals).show();\r\n            puma(this._divTotals)[0].style.cssText += \"display: inline-block\";\r\n            puma(this._divTotals).vrAppendPuma(\"<table class='p-grid'><thead><tr class='p-grid-totals'></tr></thead></table>\");\r\n\r\n            if (options.lockable)\r\n            {\r\n                puma(this._divTotalsLocked)[0].style.cssText += \"display: inline-block\";\r\n                puma(this._divTotalsLocked).vrAppendPuma(\"<table class='p-grid p-grid-locked'><thead><tr class='p-grid-totals'></tr></thead></table>\");\r\n            }\r\n\r\n            if (options.groupable! || options.groupBy != null)\r\n            {\r\n                for (let column of options.columns!)\r\n                {\r\n                    let display = \"\";\r\n                    if (options.groupBy == null || (!(options.groupBy.fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                        display = \"display: none;\";\r\n\r\n                    puma(this._divTotals).find(\".p-grid-totals\").vrAppendPuma(\"<td style='border: 1px solid rgb(221, 221, 221); \" + display + \"' width=16 class='groupBy\" + column.field + \"'></td>\");\r\n                    if (options.lockable)\r\n                        puma(this._divTotalsLocked).find(\".p-grid-totals\").vrAppendPuma(\"<td style='border: 1px solid rgb(221, 221, 221); \" + display + \"' width=16 class='groupBy\" + column.field + \"'></td>\");\r\n                }\r\n            }\r\n\r\n            //#region Checkbox column\r\n            if (options.checkboxes != GridCheckboxModeEnum.None)\r\n            {\r\n                let thCheckbox = document.createElement(\"td\");\r\n                puma(thCheckbox).attr(\"value\", \"vrGridCheckboxColumn\");\r\n                thCheckbox.style.cssText += \"border: 1px solid #dddddd;\";\r\n                puma(thCheckbox).attr(\"width\", 20);\r\n\r\n                if (this.thereAreLockedColumns())\r\n                    puma(this._divTotalsLocked).find(\".p-grid-totals\").vrAppendPuma(thCheckbox);\r\n                else\r\n                    puma(this._divTotals).find(\".p-grid-totals\").vrAppendPuma(thCheckbox);\r\n            }\r\n            //#endregion\r\n\r\n            //#region Columns\r\n            for (let column of options.columns!)\r\n            {\r\n                let td = document.createElement(\"td\");\r\n                puma(td).attr(\"value\", column.field);\r\n                td.style.cssText += \"border: 1px solid #dddddd;\";\r\n\r\n                puma(td).attr(\"width\", (column.width != null) ? column.width : ((column.fitSpace == true) ? this._fitSpaceColumnPercentage + \"%\" : (column.type == GridColumnTypeEnum.EditButton) ? 32 : 100));\r\n                if (column.fitSpace == true)\r\n                    puma(td).attr(\"fitSpace\", \"true\");\r\n\r\n                //#region TextAlign\r\n                let textAlign = GridAlignEnum.Right;\r\n                switch (column.type)\r\n                {\r\n                    case GridColumnTypeEnum.Number:\r\n                    case GridColumnTypeEnum.Currency:\r\n                    case GridColumnTypeEnum.Percentage:\r\n                        textAlign = GridAlignEnum.Right;\r\n                        break;\r\n                    case GridColumnTypeEnum.Duration:\r\n                        textAlign = GridAlignEnum.Center;\r\n                        break;\r\n                    case GridColumnTypeEnum.Date:\r\n                    case GridColumnTypeEnum.DateTime:\r\n                    case GridColumnTypeEnum.Time:\r\n                    case GridColumnTypeEnum.LongDate:\r\n                    case GridColumnTypeEnum.LongDateTime:\r\n                    case GridColumnTypeEnum.LongWeekDate:\r\n                    case GridColumnTypeEnum.ShortWeekDate:\r\n                        textAlign = GridAlignEnum.Center;\r\n                        break;\r\n                    case GridColumnTypeEnum.String:\r\n                        textAlign = GridAlignEnum.Left;\r\n                        break;\r\n                }\r\n\r\n                if (column.cellSettings != null)\r\n                    textAlign = (column.cellSettings.textAlign != null) ? column.cellSettings.textAlign : textAlign;\r\n\r\n                puma(td).css(\"text-align\", textAlign);\r\n                //#endregion\r\n\r\n                //Append th\r\n                if (options.lockable && column.locked)\r\n                    puma(this._divTotalsLocked).find(\".p-grid-totals\").vrAppendPuma(td);\r\n                else\r\n                    puma(this._divTotals).find(\".p-grid-totals\").vrAppendPuma(td);\r\n\r\n                //#region Format\r\n                if (column.aggregate != null && column.aggregate !== false)\r\n                {\r\n                    let decimalDigits = 0;\r\n                    if (typeof (column.aggregate) == \"boolean\")\r\n                    {\r\n                        switch (column.type)\r\n                        {\r\n                            case GridColumnTypeEnum.Number: column.aggregate = GridAggregateMode.Sum; break;\r\n                            case GridColumnTypeEnum.Currency: column.aggregate = GridAggregateMode.Sum; break;\r\n                            case GridColumnTypeEnum.Duration: column.aggregate = GridAggregateMode.Sum; break;\r\n                            case GridColumnTypeEnum.Percentage: column.aggregate = GridAggregateMode.Average; break;\r\n                        }\r\n                    }\r\n\r\n                    //#region Type\r\n                    switch (column.type)\r\n                    {\r\n                        case GridColumnTypeEnum.Number:\r\n                            decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 0;\r\n                            break;\r\n                        case GridColumnTypeEnum.Currency:\r\n                            decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 2;\r\n                            break;\r\n                        case GridColumnTypeEnum.Duration:\r\n                            decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 0;\r\n                            break;\r\n                        case GridColumnTypeEnum.Percentage:\r\n                            decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 2;\r\n                            break;\r\n                    }\r\n                    //#endregion\t\t\t\t\t\t\r\n\r\n                    puma(td).attr(\"field\", column.field);\r\n                    puma(td).attr(\"decimalDigits\", decimalDigits);\r\n                    puma(td).attr(\"aggregate\", String(column.aggregate));\r\n                }\r\n                //#endregion\r\n\r\n                if (column.type == GridColumnTypeEnum.Custom && column.exportable == null)\r\n                    column.exportable = false;\r\n\r\n                //Hidden\r\n                if (column.hidden == true)\r\n                    puma(td).hide();\r\n            }\r\n            //#endregion\r\n\r\n            if (this.thereAreLockedColumns())\r\n                puma(this._divTotals).width(\"Calc(100% - \" + (puma(this._divHeaderLocked).width() + 5) + \"px)\")\r\n        }\r\n        else\r\n            puma(this._divTotals).hide();\r\n\r\n        if (options.lockable)\r\n        {\r\n            if (!this.thereAreLockedColumns())\r\n            {\r\n                if (this._divHeaderLocked != null) this._divHeaderLocked.style.cssText += \"display: none;\";\r\n                if (this._divFiltersLocked != null) this._divFiltersLocked.style.cssText += \"display: none;\";\r\n                if (this._divBodyLocked != null) this._divBodyLocked.style.cssText += \"display: none;\";\r\n                if (this._divTotalsLocked != null) this._divTotalsLocked.style.cssText += \"display: none;\";\r\n            }\r\n            else\r\n            {\r\n                puma(this._divBody).width(\"Calc(100% - \" + (puma(this._divHeaderLocked).width() + 5) + \"px)\")\r\n                puma(this._divBodyLocked).width(puma(this._divHeaderLocked).width())\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        this._internalOptions = options;\r\n\r\n        if (this._actualLayout != null)\r\n            this.changeLayout();\r\n\r\n        //#region DataSource\r\n        if (options.dataSource != null)\r\n            this.dataSource(options.dataSource);\r\n        else\r\n            this.recalculateHeight();\r\n        //#endregion\r\n\r\n        //#region Rebind\r\n        if (options.rebind != null && options.rebind.rebindAtStartup === true)\r\n            this.doWebApiCall(options.rebind, GridRequestTypeEnum.Rebind);\r\n        //#endregion\r\n\r\n        if (options.enable === false)\r\n            this.enable(options.enable);\r\n\r\n        //#region Column options\r\n        let thHeaderList = Array.from<HTMLElement>(puma(this._divHeader).find(\"table th\"));\r\n        if (options.lockable)\r\n            thHeaderList.vrPushRange(Array.from<HTMLElement>(puma(this._divHeaderLocked).find(\"table th\")));\r\n\r\n        this._columnOptions = [];\r\n        for (let th of thHeaderList)\r\n        {\r\n            let columnPosition = new GridColumnPosition();\r\n            columnPosition.field = puma(th).attr(\"value\");\r\n            columnPosition.left = puma(th).offset().left;\r\n            columnPosition.right = puma(th).offset().left + puma(th).width();\r\n            columnPosition.index = puma(th).index();\r\n            columnPosition.th = th;\r\n            this._columnOptions.push(columnPosition);\r\n        }\r\n        //#endregion\r\n\r\n        if (options.resizable)\r\n            this.resizable();\r\n\r\n        if (options.reorderable)\r\n            this.draggableColumns();\r\n\r\n        //#region GroupBy\r\n        if (options.groupBy != null)\r\n        {\r\n            for (let groupByProperty of options.groupBy.fields as GridGroupByItem[])\r\n                this._groupByActualValue[groupByProperty.field] = undefined\r\n        }\r\n        //#endregion\r\n\r\n        puma(window).on(\"resize\", () => \r\n        {\r\n            this.recalculateHeight();\r\n            this.recalculateWidth();\r\n        });\r\n    }\r\n\r\n    //#region Methods\r\n\r\n    //#region DataSource\r\n    rebind(parameters?: any | null, filterWithWebService = false, keepInfo = true, loadingElement?: boolean | HTMLElement | JQuery | string): any\r\n    {\r\n        let promise = new Promise<void>((callback: Function) =>\r\n        {\r\n            //#region Filter with webService\r\n            if (filterWithWebService)\r\n            {\r\n                let tableSearchingInfoList: GridSearchingInfo[] = [];\r\n                this._dictionaryFilterConditions.forEach((value, key, dic) =>\r\n                {\r\n                    if (value.stringFilterSettings != null)\r\n                    {\r\n                        let tableSearchingInfo = new GridSearchingInfo();\r\n                        tableSearchingInfo.field = key;\r\n                        tableSearchingInfo.text = value.stringFilterSettings.text;\r\n                        tableSearchingInfoList.push(tableSearchingInfo);\r\n                    }\r\n                });\r\n                parameters = { tableSearchingInfoList: tableSearchingInfoList };\r\n            }\r\n            //#endregion\r\n\r\n            let options = this.getOptions();\r\n            if (options.rebind != null)\r\n            {\r\n                options.rebind.otherParameters = undefined;\r\n                if (parameters != null)\r\n                    options.rebind.otherParameters = parameters;\r\n\r\n                //#region Keep info after rebind\r\n                if (keepInfo)\r\n                {\r\n                    this._tempRebindInfo = new TempRebindInfo();\r\n                    this._tempRebindInfo.checkedValues = this.getCheckedValues();\r\n                    this._tempRebindInfo.page = this.pageSelected();\r\n                    this._tempRebindInfo.yPosition = puma(this.container()).find(\".grid_Body\")[0].scrollTop;\r\n                }\r\n                else\r\n                    this._tempRebindInfo = null;\r\n                //#endregion\r\n\r\n                (options.rebind as any).tempLoadingElement = loadingElement;\r\n\r\n                this.clearSelection();\r\n                this.doWebApiCall(options.rebind, GridRequestTypeEnum.Rebind, callback);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    rebindSpecificRows(itemIdList: number[], update = true, keepInfo = true, loadingElement?: boolean | HTMLElement | JQuery | string)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.rebind != null)\r\n        {\r\n            if (options.rebind.specificItemIdListPropertyName == null)\r\n                options.rebind.specificItemIdListPropertyName = \"specificItemIdList\";\r\n\r\n            options.rebind.otherParameters = {};\r\n            options.rebind.otherParameters[options.rebind.specificItemIdListPropertyName] = itemIdList;\r\n            options.rebind.otherParameters[\"update\"] = update;\r\n            (options.rebind as any).loadingElement = loadingElement;\r\n\r\n            if (keepInfo)\r\n            {\r\n                //#region Keep info after rebind\r\n                this._tempRebindInfo = new TempRebindInfo();\r\n                this._tempRebindInfo.checkedValues = this.getCheckedValues();\r\n                this._tempRebindInfo.page = this.pageSelected();\r\n                this._tempRebindInfo.yPosition = puma(this.container()).find(\".grid_Body\")[0].scrollTop;\r\n                //#endregion\r\n            }\r\n\r\n            this.clearSelection();\r\n            this.doWebApiCall(options.rebind, GridRequestTypeEnum.RebindSpecificRows);\r\n        }\r\n    }\r\n\r\n    clear(triggerChange = false)\r\n    {\r\n        this._vrDateTimeFields = [];\r\n\r\n        if (this.dataSource().filter(k => k[\"defaultRow\"] == null || k[\"defaultRow\"] == false).length > 0)\r\n        {\r\n            this.dataSource([]);\r\n            this.clearSelection(triggerChange);\r\n        }\r\n    }\r\n\r\n    private manageDataSourceControls(GridControlData: GridControlData, className: string)\r\n    {\r\n        puma(this.element()).add(puma(this._elementLocked)).off(\"click\", \".\" + className);\r\n        puma(this.element()).add(puma(this._elementLocked)).on(\"click\", \".\" + className, (e: any) =>\r\n        {\r\n            puma(e.target).attr(\"disabled\", \"disabled\");\r\n            let options = this.getOptions();\r\n            let rowId = puma(e.currentTarget).attr(\"dataItemId\");\r\n            if (rowId == null)\r\n                rowId = puma(e.target).closest(\".vrButton\").attr(\"dataItemId\");\r\n\r\n            let dataItem = this.dataSource()!.filter(k => k[options.dataSourceFieldId!] == rowId)[0];\r\n\r\n            //#region Control settings\r\n            let controlSettings: GridButtonSettings = new GridButtonSettings();\r\n            switch (GridControlData.columnType)\r\n            {\r\n                case GridColumnTypeEnum.Button:\r\n                case GridColumnTypeEnum.EditButton:\r\n                    controlSettings = GridControlData.GridControlsSettings as GridButtonSettings;\r\n                    break;\r\n                case GridColumnTypeEnum.Icon:\r\n                    controlSettings = GridControlData.GridControlsSettings as GridIconSettings;\r\n                    break;\r\n                case GridColumnTypeEnum.Custom:\r\n                    controlSettings = GridControlData.GridControlsSettings as GridCustomSettings;\r\n                    break;\r\n                case GridColumnTypeEnum.Label:\r\n                    controlSettings = GridControlData.GridControlsSettings as GridLabelSettings;\r\n                    break;\r\n            }\r\n            //#endregion\r\n\r\n            //#region Control click\r\n            if (controlSettings != null)\r\n            {\r\n                let tableClickEvent = new GridControlsClickEvent();\r\n                tableClickEvent.dataItem = dataItem;\r\n\r\n                if (controlSettings.onClick != null && controlSettings.enabled !== false)\r\n                {\r\n                    if (controlSettings.confirmationMessage != null && controlSettings.confirmationMessage.length > 0)\r\n                    {\r\n                        confirm(controlSettings.confirmationMessage).then(() =>\r\n                        {\r\n                            controlSettings!.onClick!(tableClickEvent);\r\n                        });\r\n                    }\r\n                    else\r\n                        controlSettings!.onClick!(tableClickEvent);\r\n                }\r\n                else if (GridControlData.columnType == GridColumnTypeEnum.EditButton)\r\n                    this.openAutoWindow(dataItem);\r\n\r\n                window.setTimeout(() => puma(e.target).removeAttr(\"disabled\"), 500);\r\n            }\r\n            //#endregion\r\n            return false;\r\n        });\r\n    }\r\n\r\n    private manageControls()\r\n    {\r\n        let controlList = [this._cellButtons, this._cellIcons, this._cellCustoms, this._cellLabels, this._cellImages];\r\n        for (let control of controlList)\r\n        {\r\n            control.forEach((GridControlData: GridControlData, className: string) =>\r\n            {\r\n                this.manageDataSourceControls(GridControlData, className);\r\n            });\r\n        }\r\n    }\r\n\r\n    originalDataSource()\r\n    {\r\n        return this._originalDataSource;\r\n    }\r\n\r\n    dataSource(dataItems?: any[], clearFilters = false, keepInfo = true)\r\n    {\r\n        if (dataItems != null)\r\n        {\r\n            let options = this.getOptions();\r\n\r\n            //#region DataSourceFieldId not defined\r\n            if (dataItems.length > 0 && dataItems[0][options.dataSourceFieldId!] == null)\t\t\t\t\t\r\n            {\r\n                let index = -1;\r\n                for (let item of dataItems)\r\n                {\r\n                    item[options.dataSourceFieldId!] = index;\r\n                    index--;\r\n                }\r\n                this._lastIndexAdded = index;\r\n            }\r\n            //#endregion\r\n\r\n            //#region Manage vr.DateTime type\r\n            this.fixDatasourceWithDate(dataItems);\r\n            //#endregion\r\n\r\n            //#region GroupBy & Filterable\r\n            if (options.groupBy != null)\r\n                this.sortingGroupFields(dataItems);\r\n\r\n            if (options.sortBy != null)\r\n            {\r\n                let sortByField = (options.sortBy as GridSortSettings).field;\r\n                this.sort(sortByField, (options.sortBy as GridSortSettings).direction, false);\r\n            }\r\n\r\n            this._originalDataSource = UtilityManager.duplicate(dataItems);\r\n            if (options.filterable)\r\n            {\r\n                this._dictionaryDataValues.clear();\r\n                for (let column of options.columns!)\r\n                {\r\n                    if (column.type != GridColumnTypeEnum.EditButton)\r\n                        this._dictionaryDataValues.set(column.field, dataItems.map(k => String(k[column.field]).toLowerCase()));\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            //#region Keep info after rebind\r\n            if (keepInfo)\r\n            {\r\n                this._tempRebindInfo = new TempRebindInfo();\r\n                this._tempRebindInfo.checkedValues = this.getCheckedValues();\r\n                this._tempRebindInfo.page = this.pageSelected();\r\n                this._tempRebindInfo.yPosition = puma(this.container()).find(\".grid_Body\")[0].scrollTop;\r\n            }\r\n            //#endregion\r\n\r\n            if (clearFilters)\r\n            {\r\n                this.clearFilters(false);\r\n                this.setDataSource(dataItems);\r\n            }\r\n            else\r\n            {\r\n                if (options.serverBinding !== false)\r\n                    this.setDataSource(dataItems);\r\n                else\r\n                    this.applyFilters(true, !options.serverBinding);\r\n            }\r\n        }\r\n\r\n        if (this._dataSource == null)\r\n            this._dataSource = [];\r\n\r\n        return this._dataSource;\r\n    }\r\n\r\n    update(triggerDataBound = true, keepInfo = true)\r\n    {\r\n        //#region Keep info after rebind\r\n        if (keepInfo)\r\n        {\r\n            this._tempRebindInfo = new TempRebindInfo();\r\n            this._tempRebindInfo.checkedValues = this.getCheckedValues();\r\n            this._tempRebindInfo.page = this.pageSelected();\r\n            this._tempRebindInfo.yPosition = puma(this.container()).find(\".grid_Body\")[0].scrollTop;\r\n        }\r\n        //#endregion\r\n\r\n        this.setDataSource(this.dataSource(), triggerDataBound);\r\n    }\r\n\r\n    private setDataSource(dataItems: any[], triggerDataBound = true)\r\n    {\r\n        let options = this.getOptions();\r\n        this._dataSource = dataItems;\r\n\r\n        if (this._actualSortingInfo != null && !options.serverBinding)\r\n            this.applySorting();\r\n        else\r\n        {\r\n            this._cellButtons = new Map<string, GridControlData>();\r\n            this._cellIcons = new Map<string, GridControlData>();\r\n            this._cellCustoms = new Map<string, GridControlData>();\r\n            this._cellLabels = new Map<string, GridControlData>();\r\n            this._cellImages = new Map<string, GridControlData>();\r\n\r\n            //#region Keep info after rebind\r\n            if (this._tempRebindInfo != null && !options.serverBinding)\r\n            {\r\n                let page = this._tempRebindInfo.page;\r\n                let checkedValues = this._tempRebindInfo.checkedValues;\r\n                let yPosition = this._tempRebindInfo.yPosition;\r\n                this._tempRebindInfo = null;\r\n\r\n                this.pageSelected(page, false);\r\n                this.drawTable(dataItems, triggerDataBound);\r\n                this.manageControls();\r\n\r\n                this.selectRows(checkedValues, undefined, false);\r\n                puma(this.container()).find(\".grid_Body\").scrollTop(yPosition);\r\n            }\r\n            else\r\n            {\r\n                this.drawTable(dataItems, triggerDataBound);\r\n                this.manageControls();\r\n            }\r\n            //#endregion\r\n        }\r\n    }\r\n\r\n    private drawTable(dataItems: any[], triggerDataBound = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (typeof (options.pageSize) == \"boolean\" || this._pageSizeUnlimited)\r\n            options.pageSize = dataItems.length;\r\n\r\n        //#region Body\r\n        if (puma(this.element()).find(\"tbody\").length == 0)\r\n            puma(this.element()).vrAppendPuma(\"<tbody></tbody>\");\r\n        else\r\n        {\r\n            puma(this.element()).find(\"tbody tr\").empty();\r\n            puma(this.element()).find(\"tbody td\").css(\"background-color\", \"\");\r\n        }\r\n\r\n        if (options.lockable)\r\n        {\r\n            if (puma(this._elementLocked).find(\"tbody\").length == 0)\r\n                puma(this._elementLocked).vrAppendPuma(\"<tbody></tbody>\");\r\n            else\r\n            {\r\n                puma(this._elementLocked).find(\"tbody tr\").empty();\r\n                puma(this._elementLocked).find(\"tbody td\").css(\"background-color\", \"\");\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Rows\r\n        let items: any[];\r\n        let firstIndex;\r\n        let lastIndex;\r\n        if (!options.serverBinding)\r\n        {\r\n            firstIndex = (this.pageSelected() - 1) * options.pageSize!;\r\n            lastIndex = this.pageSelected() * options.pageSize!;\r\n            items = dataItems.slice(firstIndex, lastIndex);\r\n        }\r\n        else\r\n        {\r\n            items = dataItems;\r\n            firstIndex = 0;\r\n            lastIndex = dataItems.length - 1;\r\n        }\r\n\r\n        //#region Default row if empty\r\n        if (items.length == 0)\r\n        {\r\n            let defaultRow: any = {};\r\n            for (let column of options.columns!)\r\n            {\r\n                defaultRow[column.field] = null;\r\n                defaultRow[\"defaultRow\"] = true;\r\n            }\r\n            items.push(defaultRow);\r\n\r\n            if (dataItems.length == 0)\r\n                dataItems.push(defaultRow);\r\n        }\r\n        else\r\n        {\r\n            let defaultRow = puma(this._divBody).find(\"table tr[defaultrow='defaultrow']\");\r\n            if (defaultRow.length > 0)\r\n            {\r\n                defaultRow.find(\"td\").empty();\r\n                defaultRow.removeAttr(\"defaultRow\");\r\n            }\r\n\r\n            if (items.filter(k => k[\"defaultRow\"] != null).length > 0)\r\n                items.splice(0, 1);\r\n\r\n            if (dataItems.filter(k => k[\"defaultRow\"] != null).length > 0)\r\n                dataItems.splice(0, 1);\r\n        }\r\n        //#endregion\r\n\r\n        //#region GroupBy\r\n        let visibleColumns = [];\r\n        if (options.groupable! || options.groupBy != null)\r\n        {\r\n            puma(this.container()).find(\".grid_trGroupBy\").remove();\r\n            puma(this.container()).find(\".p-grid-totalsGroup\").remove();\r\n            this._groupByActualValue = {};\r\n            visibleColumns = options.columns!.filter(k => k.hidden !== true);\r\n        }\r\n        //#endregion\r\n\r\n        let i = (!options.serverBinding) ? ((this.pageSelected() - 1) * options.pageSize!) : 0;\r\n        if (i > dataItems.length)\r\n        {\r\n            i = 0;\r\n            this.pageSelected(1, false);\r\n        }\r\n\r\n        let j = 1;\r\n        for (let row of items)\r\n        {\r\n            let dataItem = dataItems[i];\r\n            let dataItemId = dataItem[options.dataSourceFieldId!];\r\n            let rowId = \"row\" + i + \"_\" + dataItemId;\r\n\r\n            //#region GroupBy\r\n            let rowAdded = 0;\r\n            if (options.groupable !== false && options.groupBy != null)\r\n            {\r\n                if ((options.groupBy as GridGroupBySettings).fields != null)\r\n                {\r\n                    let groupByIndex = 0;\r\n                    for (let groupByField of ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]))\r\n                    {\r\n                        let cellValue = row[(groupByField as GridGroupByItem).field];\r\n                        let column = options.columns!.filter(k => k.field == (groupByField as GridGroupByItem).field)[0];\r\n\r\n                        if (this._groupByActualValue[(groupByField as GridGroupByItem).field] !== cellValue)\r\n                        {\r\n                            if (rowAdded == 0)\r\n                            {\r\n                                for (let p = groupByIndex; p < ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).length; p++)\r\n                                {\r\n                                    options.groupBy = options.groupBy as GridGroupBySettings;\r\n                                    this._groupByActualValue[(options.groupBy.fields as GridGroupByItem[])[p].field] = undefined;\r\n                                }\r\n                            }\r\n\r\n                            //#region Add tr groupBy\r\n                            let trOld = puma(this.element()).find(\"tbody tr:nth-child(\" + (j + rowAdded) + \")\")[0] as HTMLTableRowElement;\r\n                            let trGroupBy: HTMLElement | null = null;\r\n\r\n                            let newTr = puma(\"<tr value='\" + ((cellValue == null || cellValue === \"\") ? \"nosetted\" :\r\n                                this.fixValueWithoutSpecialChars(cellValue))\r\n                                + \"' level='\" + groupByIndex + \"' class='grid_trGroupBy p-grid-body'></tr>\");\r\n\r\n                            if (trOld == null)\r\n                                trGroupBy = newTr.vrAppendToPuma(puma(this.element()).find(\"tbody\"))[0];\r\n                            else\r\n                                trGroupBy = newTr.vrInsertBeforePuma(trOld)[0];\r\n\r\n                            puma(trGroupBy).height(options.rowHeight!);\r\n\r\n                            let trGroupByLocked = null;\r\n                            if (options.lockable)\r\n                            {\r\n                                let trOldLocked = puma(this._elementLocked).find(\"tbody tr:nth-child(\" + (j + rowAdded) + \")\")[0] as HTMLTableRowElement;\r\n                                let newTr = puma(\"<tr value='\" + ((cellValue == null || cellValue === \"\") ? \"nosetted\" :\r\n                                    this.fixValueWithoutSpecialChars(cellValue))\r\n                                    + \"' level='\" + groupByIndex + \"' class='grid_trGroupBy grid_trGroupByLocked p-grid-body'></tr>\");\r\n\r\n                                if (trOldLocked == null)\r\n                                    trGroupByLocked = newTr.vrAppendToPuma(puma(this._elementLocked).find(\"tbody\"))[0];\r\n                                else\r\n                                    trGroupByLocked = newTr.vrInsertBeforePuma(trOldLocked)[0];\r\n\r\n                                puma(trGroupByLocked).height(options.rowHeight!);\r\n                            }\r\n                            //#endregion\r\n\r\n                            rowAdded++;\r\n                            if (groupByIndex > 0)\r\n                            {\r\n                                for (let p = 0; p < groupByIndex; p++)\r\n                                {\r\n                                    puma(trGroupBy!).vrAppendPuma(\"<td width=16 class='groupBy\" + groupByField + \"'></td>\");\r\n                                    if (options.lockable) puma(trGroupByLocked!).vrAppendPuma(\"<td width=16 class='groupBy\" + groupByField + \"'></td>\");\r\n                                }\r\n                            }\r\n\r\n                            //#region Group title\r\n                            let cellText = String(cellValue);\r\n                            if (column != null)\r\n                            {\r\n                                if (column.type == GridColumnTypeEnum.Date)\r\n                                    cellText = (row[(groupByField as GridGroupByItem).field] == null) ? \"\" : Date.vrFixDateString(row[(groupByField as GridGroupByItem).field]).vrToItalyString();\r\n                                else if (column.type == GridColumnTypeEnum.Checkbox || column.type == GridColumnTypeEnum.Boolean)\r\n                                    cellText = (Boolean(row[(groupByField as GridGroupByItem).field])) ? \"Sì\" : \"No\";\r\n                            }\r\n\r\n                            let colspan = visibleColumns.length - groupByIndex + ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).length;\r\n                            if (options.checkboxes == GridCheckboxModeEnum.None)\r\n                                colspan -= 1;\r\n\r\n                            let groupByDisplayText = cellText;\r\n                            if ((groupByField as GridGroupByItem).displayField != null)\r\n                                groupByDisplayText = row[(groupByField as GridGroupByItem).displayField!];\r\n\r\n                            if ((groupByField as GridGroupByItem).displayValue != null)\r\n                            {\r\n                                let groupByDisplayValueEvent = new GridGroupDisplayValueEvent();\r\n                                groupByDisplayValueEvent.sender = this;\r\n                                groupByDisplayValueEvent.dataItem = row;\r\n                                groupByDisplayValueEvent.field = (groupByField as GridGroupByItem).field;\r\n                                groupByDisplayValueEvent.displayField = (groupByField as GridGroupByItem).displayField;\r\n                                groupByDisplayText = (groupByField as GridGroupByItem).displayValue!(groupByDisplayValueEvent);\r\n                            }\r\n\r\n                            if (groupByDisplayText == null) groupByDisplayText = cellText;\r\n\r\n                            let groupByCaret = IconClassicLight.CaretDown;\r\n                            let childrenRows = this.getChildrenGroupRows(trGroupBy!, this._divBody);\r\n                            if (this.thereAreLockedColumns())\r\n                                childrenRows = this.getChildrenGroupRows(trGroupBy!, this._divBodyLocked);\r\n\r\n                            if (this.pageSelected() > 1 && !puma(childrenRows.allRows.vrFirst()).is(\":visible\"))\r\n                                groupByCaret = IconClassicLight.CaretRight;\r\n\r\n                            let text = \"<td width=16 class='grid_tdGroupByCollapse groupBy\" + groupByField + \"' style='border-right-color: transparent !important;'>\"\r\n                                + \"<i class='grid_tdGroupByCollapse \" + groupByCaret + \"'></i></td>\"\r\n                                + \"<td class='grid_tdGroupByName' style='font-weight: 500;' colspan=\" + colspan + \"><div class='grid_divGroupByName'>\"\r\n                                + ((dataItems.length == 1 && dataItems[0][\"defaultRow\"] != null) ? \"Nessun gruppo o elemento presente\" : (groupByDisplayText == null || groupByDisplayText === \"\" || groupByDisplayText == \"null\") ? \"Non impostato\" : groupByDisplayText)\r\n                                + \"</div>\"\r\n                                + ((options.onGroupEditClick != null || (groupByField as GridGroupByItem).onEditClick != null) ? \"<div style='position: relative; display: inline-flex; margin-left: 6px;\" + ((options.checkboxes !== false) ? \"top: -4px;\" : \"\") + \"'><i class='grid_groupByEdit \" + IconClassicLight.Pencil + \"' style='cursor: pointer;'></div></i>\" : \"\")\r\n                                + \"</td>\";\r\n                            puma(trGroupBy).vrAppendPuma(text);\r\n                            if (options.lockable) puma(trGroupByLocked).vrAppendPuma(text);\r\n                            this._groupByActualValue[(groupByField as GridGroupByItem).field] = cellValue;\r\n\r\n                            if (this.thereAreLockedColumns())\r\n                                puma(trGroupBy).find(\"i.grid_groupByEdit\").parent().hide();\r\n                            //#endregion\r\n\r\n                            //#region Checkbox group\r\n                            if (options.checkboxes != GridCheckboxModeEnum.None)\r\n                            {\r\n                                let checkboxContainer = puma(trGroupBy).find(\"div.grid_divGroupByName\")[0];\r\n                                if (this.thereAreLockedColumns())\r\n                                    checkboxContainer = puma(trGroupByLocked).find(\"div.grid_divGroupByName\")[0];\r\n\r\n                                createCheckBox(\r\n                                    {\r\n                                        cssContainer: \"margin-right: 5px;\",\r\n                                        onCheck: (e) =>\r\n                                        {\r\n                                            let parentGroupRow = e.sender.element().parentElement!.parentElement!.parentElement!.parentElement!;\r\n                                            let childrenRows = this.getChildrenGroupRows(parentGroupRow, this._divBody);\r\n                                            if (this.thereAreLockedColumns())\r\n                                                childrenRows = this.getChildrenGroupRows(parentGroupRow, this._divBodyLocked);\r\n\r\n                                            for (let childRow of childrenRows.children)\r\n                                            {\r\n                                                let dataItemIdNotSplitted = puma(childRow).attr(\"id\");\r\n                                                if (dataItemIdNotSplitted != null && dataItemIdNotSplitted.length > 0)\r\n                                                {\r\n                                                    let dataItemId = dataItemIdNotSplitted.split(\"_\")[1];\r\n                                                    if (e.checked)\r\n                                                    {\r\n                                                        let checkBox = puma(childRow).find(\".vr-checkbox-column\")[0] as HTMLInputElement;\r\n                                                        if (checkBox.checked)\r\n                                                            this.unselectRow(dataItemId);\r\n                                                    }\r\n                                                    this.selectRowInternal(dataItemId, true, true, false, true, false, true);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }, checkboxContainer, ControlPositionEnum.Before);\r\n                            }\r\n                            //#endregion\r\n\r\n                            //#region Expand/Collapse\r\n                            puma(trGroupBy).find(\"td.grid_tdGroupByCollapse\").add(puma(trGroupByLocked).find(\"td.grid_tdGroupByCollapse\")).click((e: any) =>\r\n                            {\r\n                                //#region Group icon\r\n                                let icon = puma(e.currentTarget).find(\"i\");\r\n                                let collapse = icon.hasClass(\"fa-caret-down\");\r\n                                //#endregion\r\n\r\n                                //#region Collapse/Expand\r\n                                let childrenRows = this.getChildrenGroupRows(e.currentTarget.parentElement! as HTMLElement, this._divBody);\r\n                                childrenRows.allRows.vrPushRange(this.getChildrenGroupRows(e.currentTarget.parentElement! as HTMLElement, this._divBodyLocked).allRows)\r\n\r\n                                for (let childRow of childrenRows.allRows)\r\n                                {\r\n                                    if (collapse)\r\n                                        puma(childRow).hide();\r\n                                    else\r\n                                    {\r\n                                        puma(childRow).show();\r\n\r\n                                        //#region Subgroup icon\r\n                                        let childrenIcon = puma(childRow).find(\"i.grid_tdGroupByCollapse\");\r\n                                        childrenIcon.removeClass(IconClassicLight.CaretRight);\r\n                                        childrenIcon.addClass(IconClassicLight.CaretDown);\r\n                                        //#endregion\r\n                                    }\r\n                                }\r\n                                //#endregion\r\n\r\n                                //#region Icon\r\n                                let indexIcon = puma(e.currentTarget.parentElement!).index() + 1;\r\n                                let iconNormal = puma(puma(this._divBody).find(\"tr:nth-child(\" + indexIcon + \")\").find(\"i\")[0]);\r\n                                if (collapse)\r\n                                {\r\n                                    iconNormal.removeClass(IconClassicLight.CaretDown);\r\n                                    iconNormal.addClass(IconClassicLight.CaretRight);\r\n\r\n                                    if (options.lockable)\r\n                                    {\r\n                                        let iconLocked = puma(puma(this._divBodyLocked).find(\"tr:nth-child(\" + indexIcon + \")\").find(\"i\")[0]);\r\n                                        iconLocked.removeClass(IconClassicLight.CaretDown);\r\n                                        iconLocked.addClass(IconClassicLight.CaretRight);\r\n                                    }\r\n                                }\r\n                                else\r\n                                {\r\n                                    iconNormal.removeClass(IconClassicLight.CaretRight);\r\n                                    iconNormal.addClass(IconClassicLight.CaretDown);\r\n\r\n                                    if (options.lockable)\r\n                                    {\r\n                                        let iconLocked = puma(puma(this._divBodyLocked).find(\"tr:nth-child(\" + indexIcon + \")\").find(\"i\")[0]);\r\n                                        iconLocked.removeClass(IconClassicLight.CaretRight);\r\n                                        iconLocked.addClass(IconClassicLight.CaretDown);\r\n                                    }\r\n                                }\r\n                                //#endregion\r\n\r\n                                if (options.onGroupExpandCollapse != null || (groupByField as GridGroupByItem).onExpandCollapse != null)\r\n                                {\r\n                                    let expandCollapseEvent = new GridGroupExpandCollapseEvent();\r\n                                    expandCollapseEvent.sender = this;\r\n                                    expandCollapseEvent.groupByField = groupByField.field;\r\n                                    expandCollapseEvent.groupByDisplayField = groupByField.displayField;\r\n                                    expandCollapseEvent.collapse = collapse;\r\n\r\n                                    expandCollapseEvent.value = row[(groupByField as GridGroupByItem).field];\r\n                                    if ((groupByField as GridGroupByItem).displayField != null)\r\n                                        expandCollapseEvent.displayValue = row[(groupByField as GridGroupByItem).displayField!];\r\n\r\n                                    let childrenItems: any[] = [];\r\n                                    for (let childRow of childrenRows.allRows)\r\n                                    {\r\n                                        let dataItemId = puma(childRow).attr(\"dataitemid\");\r\n                                        let dataItem = this.dataSource().filter(k => k[options.dataSourceFieldId!] == dataItemId)[0];\r\n                                        childrenItems.push(dataItem);\r\n                                    }\r\n                                    expandCollapseEvent.childrenItems = childrenItems;\r\n                                    expandCollapseEvent.childrenRows = childrenRows.allRows;\r\n\r\n                                    if (options.onGroupExpandCollapse != null)\r\n                                        options.onGroupExpandCollapse(expandCollapseEvent);\r\n                                    else if ((groupByField as GridGroupByItem).onExpandCollapse != null)\r\n                                        (groupByField as GridGroupByItem).onExpandCollapse!(expandCollapseEvent);\r\n                                }\r\n                            });\r\n                            //#endregion\r\n\r\n                            //#region Edit click\r\n                            puma(trGroupBy).find(\".grid_groupByEdit\").add(puma(trGroupByLocked).find(\".grid_groupByEdit\")).click((e: any) =>\r\n                            {\r\n                                if (options.onGroupEditClick != null || (groupByField as GridGroupByItem).onEditClick != null)\r\n                                {\r\n                                    let editClickEvent = new GridGroupEditClickEvent();\r\n                                    editClickEvent.sender = this;\r\n                                    editClickEvent.groupByField = groupByField.field;\r\n                                    editClickEvent.groupByDisplayField = groupByField.displayField;\r\n\r\n                                    editClickEvent.value = row[(groupByField as GridGroupByItem).field];\r\n                                    if ((groupByField as GridGroupByItem).displayField != null)\r\n                                        editClickEvent.displayValue = row[(groupByField as GridGroupByItem).displayField!];\r\n\r\n                                    let childrenRows = this.getChildrenGroupRows(e.currentTarget.parentElement! as HTMLElement, this._divBody)\r\n                                    let childrenItems: any[] = [];\r\n                                    for (let childRow of childrenRows.allRows)\r\n                                    {\r\n                                        let dataItemId = puma(childRow).attr(\"dataitemid\");\r\n                                        let dataItem = this.dataSource().filter(k => k[options.dataSourceFieldId!] == dataItemId)[0];\r\n                                        childrenItems.push(dataItem);\r\n                                    }\r\n                                    editClickEvent.childrenItems = childrenItems;\r\n                                    editClickEvent.childrenRows = childrenRows.allRows;\r\n\r\n                                    if (options.onGroupEditClick != null)\r\n                                        options.onGroupEditClick(editClickEvent);\r\n                                    else if ((groupByField as GridGroupByItem).onEditClick != null)\r\n                                        (groupByField as GridGroupByItem).onEditClick!(editClickEvent);\r\n                                }\r\n                            });\r\n                            //#endregion\r\n                        }\r\n                        groupByIndex++;\r\n                    }\r\n                }\r\n            }\r\n            j += rowAdded;\r\n            //#endregion\r\n\r\n            let isNewRow = false;\r\n            let tr = puma(this.element()).find(\">tbody>tr:nth-child(\" + j + \")\")[0] as HTMLTableRowElement;\r\n            if (tr == null)\r\n            {\r\n                tr = document.createElement(\"tr\");\r\n                isNewRow = true;\r\n            }\r\n            puma(tr).addClass(\"p-grid-body\");\r\n            puma(tr).attr(\"id\", rowId);\r\n            puma(tr).attr(\"dataItemId\", dataItemId);\r\n            puma(tr).attr(\"row\", i);\r\n\r\n            let trLocked = null;\r\n            let isNewRowLocked = false;\r\n            if (options.lockable)\r\n            {\r\n                trLocked = puma(this._elementLocked).find(\">tbody>tr:nth-child(\" + j + \")\")[0] as HTMLTableRowElement;\r\n                if (trLocked == null)\r\n                {\r\n                    trLocked = document.createElement(\"tr\");\r\n                    isNewRowLocked = true;\r\n                }\r\n                puma(trLocked).addClass(\"p-grid-body\");\r\n                puma(trLocked).attr(\"id\", rowId);\r\n                puma(trLocked).attr(\"dataItemId\", dataItemId);\r\n                puma(trLocked).attr(\"row\", i);\r\n            }\r\n\r\n            //#region Checkbox column\r\n            if (options.checkboxes != GridCheckboxModeEnum.None)\r\n            {\r\n                let index = (options.groupable! || options.groupBy != null) ? (1 + options.columns!.length) : 1;\r\n                let isNewCellCheckbox = false;\r\n                let tdCheckbox = null;\r\n\r\n                if (this.thereAreLockedColumns())\r\n                    tdCheckbox = puma(trLocked).find(\">td:nth-child(\" + index + \")\")[0] as HTMLTableCellElement;\r\n                else\r\n                    tdCheckbox = puma(tr).find(\">td:nth-child(\" + index + \")\")[0] as HTMLTableCellElement;\r\n\r\n                if (tdCheckbox == null)\r\n                {\r\n                    tdCheckbox = document.createElement(\"td\");\r\n                    isNewCellCheckbox = true;\r\n                }\r\n                tdCheckbox.style.cssText += \"border-left: none !important;\";\r\n\r\n                puma(tdCheckbox).attr(\"width\", 20);\r\n                puma(tdCheckbox).addClass(\"vrGridTdCheckboxColumn\");\r\n                puma(tdCheckbox).attr(\"value\", \"vrGridCheckboxColumn\");\r\n\r\n                let textHTML = \"<input dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_CheckboxColumn' class='vrCheckBox vr-checkbox-column' type='checkbox'></input>\"\r\n                    + \"<label style='display: none;' class='vrLabel vrCheckBoxLabel vr-checkboxColumn-label' for='\" + rowId + \"_CheckboxColumn'></label>\";\r\n                tdCheckbox.innerHTML = textHTML;\r\n\r\n                puma(tdCheckbox).css(\"text-align\", \"center\");\r\n\r\n                if (isNewCellCheckbox)\r\n                {\r\n                    if (this.thereAreLockedColumns())\r\n                        puma(trLocked).vrAppendPuma(tdCheckbox);\r\n                    else\r\n                        puma(tr).vrAppendPuma(tdCheckbox);\r\n                }\r\n\r\n                puma(tdCheckbox).off(\"click\");\r\n                puma(tdCheckbox).click((e: JQuery.ClickEvent) =>\r\n                {\r\n                    if (e.shiftKey && options.checkboxes == GridCheckboxModeEnum.MultiCheck)\r\n                        this.selectRangeShiftKey(e.target);\r\n                    else\r\n                        this.selectRowInternal(dataItemId, true, false, false, true, false, true);\r\n                });\r\n            }\r\n            //#endregion\r\n\r\n            //#region Columns\r\n            let k = (options.checkboxes != GridCheckboxModeEnum.None) ? 2 : 1;\r\n            if (options.groupable! || options.groupBy != null)\r\n                k += options.columns!.length;\r\n\r\n            for (let column of options.columns!)\r\n            {\r\n                let isNewCell = false;\r\n                let td = puma(tr).find(\">td:nth-child(\" + k + \")\")[0] as HTMLTableCellElement;\r\n                if (td == null)\r\n                {\r\n                    td = document.createElement(\"td\");\r\n                    isNewCell = true;\r\n                }\r\n\r\n                let tdLocked = null;\r\n                let isNewCellLocked = false;\r\n                if (options.lockable)\r\n                {\r\n                    tdLocked = puma(trLocked).find(\">td:nth-child(\" + k + \")\")[0] as HTMLTableCellElement;\r\n                    if (tdLocked == null)\r\n                    {\r\n                        tdLocked = document.createElement(\"td\");\r\n                        isNewCellLocked = true;\r\n                    }\r\n                }\r\n\r\n                let field = column.field;\r\n                puma(td).attr(\"value\", column.field);\r\n                puma(td).attr(\"field\", field);\r\n                td.style.cssText += \"border-left: none !important;\";\r\n\r\n                if (options.lockable)\r\n                {\r\n                    puma(tdLocked).attr(\"value\", column.field);\r\n                    puma(tdLocked).attr(\"field\", field);\r\n                    tdLocked!.style.cssText += \"border-left: none !important;\";\r\n                }\r\n\r\n                //#region Width\r\n                let width = (column.width != null) ? (column.width) : ((column.fitSpace == true) ? this._fitSpaceColumnPercentage + \"%\" : (column.type == GridColumnTypeEnum.EditButton) ? 32 : 100);\r\n                puma(td).attr(\"width\", width);\r\n                if (options.lockable) puma(tdLocked).attr(\"width\", width);\r\n\r\n                if (column.fitSpace == true)\r\n                {\r\n                    puma(td).attr(\"fitSpace\", \"true\");\r\n                    if (options.lockable) puma(tdLocked).attr(\"fitSpace\", \"true\");\r\n                }\r\n                //#endregion\r\n\r\n                //#region Hidden\r\n                if (column.hidden === true)\r\n                {\r\n                    td.style.display = \"none\"\r\n                    if (isNewCell)\r\n                        puma(tr).vrAppendPuma(td);\r\n\r\n                    if (options.lockable)\r\n                    {\r\n                        tdLocked!.style.display = \"none\"\r\n                        if (isNewCellLocked)\r\n                            puma(trLocked).vrAppendPuma(tdLocked);\r\n                    }\r\n\r\n                    k++;\r\n                    continue;\r\n                }\r\n                else\r\n                {\r\n                    td.style.display = \"table-cell\"\r\n                    if (options.lockable) tdLocked!.style.display = \"table-cell\"\r\n                }\r\n                //#endregion\r\n\r\n                if (!options.multilineRows)\r\n                {\r\n                    puma(td).addClass(\"grid_singleLineGridRow\");\r\n                    if (options.lockable) puma(tdLocked).addClass(\"grid_singleLineGridRow\");\r\n                }\r\n\r\n                //#region Cell\r\n                let textAlign = GridAlignEnum.Left;\r\n                let textHTML = (row[field] == null) ? \"\" : String(row[field]);\r\n\r\n                //#region Type\r\n                switch (column.type)\r\n                {\r\n                    //#region Password\r\n                    case GridColumnTypeEnum.PasswordViewable:\r\n                        {\r\n                            let result = \"\";\r\n                            for (let char of textHTML)\r\n                                result += \"*\";\r\n\r\n                            textHTML = result;\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Number, Currency, Percentage & Duration\r\n                    case GridColumnTypeEnum.Number:\r\n                    case GridColumnTypeEnum.Currency:\r\n                    case GridColumnTypeEnum.Percentage:\r\n                        {\r\n                            textAlign = GridAlignEnum.Right;\r\n                            let decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 0;\r\n                            if (column.type == GridColumnTypeEnum.Currency || column.type == GridColumnTypeEnum.Percentage)\r\n                                decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 2;\r\n\r\n                            if (column.cellSettings == null) column.cellSettings = new GridCellSettings();\r\n                            if (column.cellSettings.zeroIfNull == null) column.cellSettings.zeroIfNull = false;\r\n\r\n                            if (textHTML === \"\" && column.cellSettings.zeroIfNull === false)\r\n                                textHTML = \"\";\r\n                            else\r\n                            {\r\n                                let valueFormatted = this.formatValue(Number(textHTML), column.type, decimalDigits, column.roundingSettings);\r\n                                textHTML = valueFormatted;\r\n                            }\r\n                        }\r\n                        break;\r\n                    case GridColumnTypeEnum.Duration:\r\n                        {\r\n                            textAlign = GridAlignEnum.Center;\r\n                            if (column.cellSettings == null) column.cellSettings = new GridCellSettings();\r\n                            if (column.cellSettings.zeroIfNull == null) column.cellSettings.zeroIfNull = false;\r\n\r\n                            if (textHTML === \"\" && column.cellSettings.zeroIfNull === false)\r\n                                textHTML = \"\";\r\n                            else\r\n                            {\r\n                                let valueFormatted = this.formatValue(Number(textHTML), column.type);\r\n                                textHTML = valueFormatted;\r\n                            }\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Date, Time, DateTime\r\n                    case GridColumnTypeEnum.Date:\r\n                    case GridColumnTypeEnum.DateTime:\r\n                    case GridColumnTypeEnum.Time:\r\n                    case GridColumnTypeEnum.LongDate:\r\n                    case GridColumnTypeEnum.LongDateTime:\r\n                    case GridColumnTypeEnum.LongWeekDate:\r\n                    case GridColumnTypeEnum.ShortWeekDate:\r\n                        {\r\n                            textAlign = GridAlignEnum.Center;\r\n                            let date = new Date(textHTML);\r\n                            let valueFormatted = this.formatValue(date, column.type, undefined, undefined, column.showSeconds);\r\n                            textHTML = valueFormatted;\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Checkbox\r\n                    case GridColumnTypeEnum.Checkbox:\r\n                    case GridColumnTypeEnum.Boolean:\r\n                        {\r\n                            let checked = (row[field] != null && Boolean(row[field]) == true) ? \"checked='checked'\" : \"\";\r\n\r\n                            textAlign = GridAlignEnum.Center;\r\n                            textHTML = \"<input \" + checked + \" disabled='disabled' dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_\" + column.field + \"' class='vrCheckBox' type='checkbox'></input>\"\r\n                                + \"<label class='vrLabel vrCheckBoxLabel' for='\" + rowId + \"_\" + column.field + \"'></label>\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Button\r\n                    case GridColumnTypeEnum.Button:\r\n                    case GridColumnTypeEnum.EditButton:\r\n                        {\r\n                            let buttonSettings = null;\r\n                            textAlign = GridAlignEnum.Center;\r\n\r\n                            let className = \"btn_\" + column.field + \"_\" + rowId;\r\n\r\n                            //#region Button settings\r\n                            if (column.buttonSettings != null && (dataItem[options.dataSourceFieldId!] != null))\r\n                            {\r\n                                let templateEvent = new GridTemplateEvent();\r\n                                templateEvent.dataItem = dataItem;\r\n                                templateEvent.className = className;\r\n                                templateEvent.element = td;\r\n                                templateEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                                buttonSettings = column.buttonSettings(templateEvent);\r\n                            }\r\n\r\n                            if (buttonSettings == null)\r\n                            {\r\n                                buttonSettings = new GridButtonSettings();\r\n                                buttonSettings.text = \"\";\r\n                                buttonSettings.value = column.field;\r\n                            }\r\n                            //#endregion\r\n\r\n                            let customCss = \"max-width: 100%;\";\r\n                            let buttonClass = \"vrButton grid-button\";\r\n\r\n                            //#region Color\r\n                            if (buttonSettings.isPrimaryButton == true)\r\n                                customCss += \"color: #FFF; background-color: #51B3E1;\";\r\n\r\n                            if (buttonSettings.color != null)\r\n                                customCss += \"color: \" + buttonSettings.color + \";\";\r\n                            if (buttonSettings.backgroundColor != null)\r\n                                customCss += \"background-color: \" + buttonSettings.backgroundColor + \";\";\r\n                            //#endregion\r\n\r\n                            //#region Custom CSS & Class\r\n                            if (buttonSettings.css != null)\r\n                                customCss += buttonSettings.css;\r\n\r\n                            if (buttonSettings.class != null)\r\n                                buttonClass += \" \" + buttonSettings.class;\r\n                            //#endregion\r\n\r\n                            //#region Icon/Image\r\n                            let iconClass = (column.type == GridColumnTypeEnum.EditButton) ? IconClassicLight.Pencil : \"\";\r\n                            let spanIcon = \"\";\r\n                            if (buttonSettings.icon != null)\r\n                                iconClass = buttonSettings.icon;\r\n\r\n                            let imageUrl = \"\";\r\n                            let spanImage = \"\";\r\n                            if (buttonSettings.imageUrl != null)\r\n                                imageUrl = buttonSettings.imageUrl;\r\n\r\n                            if (iconClass.length > 0)\r\n                            {\r\n                                let marginRight = (buttonSettings.text != null) ? \"margin-right: 5px;\" : \"\";\r\n                                spanIcon = \"<span style='\" + marginRight + \"'><i class='vrIcon \" + iconClass + \"'></i></span> \";\r\n                            }\r\n                            else if (imageUrl.length > 0)\r\n                            {\r\n                                let marginRight = (buttonSettings.text != null) ? \"margin-right: 5px;\" : \"\";\r\n                                spanImage = \"<img style='\" + marginRight + \"' src='\" + imageUrl + \"' />\";\r\n                            }\r\n                            //#endregion\r\n\r\n                            //#region Tooltip\r\n                            let tooltip = (column.type == GridColumnTypeEnum.EditButton) ? \"Premi per modificare la riga\" : \"\";\r\n                            if (buttonSettings.tooltip != null)\r\n                                tooltip = buttonSettings.tooltip;\r\n                            //#endregion\r\n\r\n                            //#region Width\r\n                            if (column.type == GridColumnTypeEnum.EditButton)\r\n                                customCss += \"width: 29px;\";\r\n                            //#endregion\r\n\r\n                            //#region Enabled\r\n                            let disabled = \"\";\r\n                            if (buttonSettings.enabled === false)\r\n                            {\r\n                                disabled = \" disabled='disabled' \";\r\n                                customCss += \"opacity: 0.5; cursor: default;\";\r\n                            }\r\n                            //#endregion\r\n\r\n                            this._cellButtons.set(className, { GridControlsSettings: buttonSettings, columnType: column.type });\r\n\r\n                            let buttonText = (buttonSettings.text != null) ? buttonSettings.text : \"\";\r\n                            textHTML = \"<button title='\" + tooltip + \"' style='\" + customCss + \"' class='\" + buttonClass + \" \" + className + \"' dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_\" + column.field + \"'\" + disabled + \">\" + spanIcon + spanImage + buttonText + \"</button>\";\r\n\r\n                            if (buttonSettings.visible === false)\r\n                                textHTML = \"\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Custom\r\n                    case GridColumnTypeEnum.Custom:\r\n                        {\r\n                            let customSettings = null;\r\n                            textAlign = GridAlignEnum.Center;\r\n\r\n                            let className = \"btn_\" + column.field + \"_\" + rowId;\r\n\r\n                            //#region Custom settings\r\n                            if (column.customSettings != null && (dataItem[options.dataSourceFieldId!] != null))\r\n                            {\r\n                                let templateEvent = new GridTemplateEvent();\r\n                                templateEvent.dataItem = dataItem;\r\n                                templateEvent.className = className;\r\n                                templateEvent.element = td;\r\n                                templateEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                                customSettings = column.customSettings(templateEvent);\r\n                            }\r\n\r\n                            if (customSettings == null)\r\n                            {\r\n                                customSettings = new GridCustomSettings();\r\n                                customSettings.value = column.field;\r\n                                customSettings.template = \"<div></div>\";\r\n                            }\r\n\r\n                            let customCss = \"\";\r\n                            if (customSettings.css != null)\r\n                                customCss += customSettings.css;\r\n                            //#endregion\r\n\r\n                            this._cellCustoms.set(className, { GridControlsSettings: customSettings, columnType: column.type });\r\n                            if (customSettings.template !== \"\")\r\n                                textHTML = \"<div style='\" + customCss + \"'>\" + customSettings.template + \"</div>\";\r\n\r\n                            if (customSettings.visible === false)\r\n                                textHTML = \"\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Icon\r\n                    case GridColumnTypeEnum.Icon:\r\n                        {\r\n                            let iconSettings = null;\r\n                            textAlign = GridAlignEnum.Center;\r\n\r\n                            let className = \"btn_\" + column.field + \"_\" + rowId;\r\n\r\n                            //#region Icon settings\r\n                            if (column.iconSettings != null && (dataItem[options.dataSourceFieldId!] != null))\r\n                            {\r\n                                let templateEvent = new GridTemplateEvent();\r\n                                templateEvent.dataItem = dataItem;\r\n                                templateEvent.className = className;\r\n                                templateEvent.element = td;\r\n                                templateEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                                iconSettings = column.iconSettings(templateEvent);\r\n                            }\r\n\r\n                            if (iconSettings == null)\r\n                            {\r\n                                iconSettings = new GridIconSettings();\r\n                                iconSettings.value = column.field;\r\n                            }\r\n                            //#endregion\r\n\r\n                            let customCss = \"\";\r\n                            let iconCustomClass = \"\";\r\n\r\n                            //#region Color\r\n                            if (iconSettings.color != null)\r\n                                customCss += \"color: \" + iconSettings.color + \";\";\r\n                            //#endregion\r\n\r\n                            //#region Custom CSS & Class\r\n                            if (iconSettings.css != null)\r\n                                customCss += iconSettings.css;\r\n\r\n                            if (iconSettings.class != null)\r\n                                iconCustomClass += \" \" + iconSettings.class;\r\n                            //#endregion\r\n\r\n                            //#region Tooltip\r\n                            let tooltip = \"\";\r\n                            if (iconSettings.tooltip != null)\r\n                                tooltip = iconSettings.tooltip;\r\n                            //#endregion\r\n\r\n                            //#region Click\r\n                            if (iconSettings.onClick != null && iconSettings.enabled !== false)\r\n                                customCss += \"cursor: pointer;\";\r\n                            //#endregion\r\n\r\n                            //#region Icon or Image url\r\n                            let icon = \"\";\r\n                            let imageUrl = \"\";\r\n                            if (iconSettings.icon != null)\r\n                                icon = \"<i class='vrIcon \" + iconSettings.icon + \"'></i>\";\r\n                            else if (iconSettings.imageUrl != null)\r\n                                imageUrl = \"<img src='\" + iconSettings.imageUrl + \"' />\";\r\n                            else\r\n                                icon = \"<i class='vrIcon \" + row[field] + \"'></i>\";\r\n                            //#endregion\r\n\r\n                            this._cellIcons.set(className, { GridControlsSettings: iconSettings, columnType: column.type });\r\n\r\n                            textHTML = \"<span title='\" + tooltip + \"' style='\" + customCss + \"' class='\" + iconCustomClass + \" \" + className + \"' dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_\" + column.field + \"'>\" + icon + imageUrl + \"</span>\";\r\n\r\n                            if (iconSettings.visible === false)\r\n                                textHTML = \"\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Image\r\n                    case GridColumnTypeEnum.Image:\r\n                        {\r\n                            let imageSettings = null;\r\n                            textAlign = GridAlignEnum.Center;\r\n\r\n                            let className = \"btn_\" + column.field + \"_\" + rowId;\r\n\r\n                            //#region Image settings\r\n                            if (column.imageSettings != null && (dataItem[options.dataSourceFieldId!] != null))\r\n                            {\r\n                                let templateEvent = new GridTemplateEvent();\r\n                                templateEvent.dataItem = dataItem;\r\n                                templateEvent.className = className;\r\n                                templateEvent.element = td;\r\n                                templateEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                                imageSettings = column.imageSettings(templateEvent);\r\n                            }\r\n\r\n                            if (imageSettings == null)\r\n                            {\r\n                                imageSettings = new GridImageSettings();\r\n                                imageSettings.value = column.field;\r\n                            }\r\n                            //#endregion\r\n\r\n                            let customCss = \"\";\r\n                            let imageCustomClass = \"\";\r\n\r\n                            //#region Custom CSS & Class\r\n                            if (imageSettings.css != null)\r\n                                customCss += imageSettings.css;\r\n\r\n                            if (imageSettings.class != null)\r\n                                imageCustomClass += \" \" + imageSettings.class;\r\n                            //#endregion\r\n\r\n                            //#region Tooltip\r\n                            let tooltip = \"\";\r\n                            if (imageSettings.tooltip != null)\r\n                                tooltip = imageSettings.tooltip;\r\n                            //#endregion\r\n\r\n                            //#region Click\r\n                            if (imageSettings.onClick != null && imageSettings.enabled !== false)\r\n                                customCss += \"cursor: pointer;\";\r\n                            //#endregion\r\n\r\n                            //#region Icon or Image url\r\n                            let imageUrl = textHTML;\r\n                            if (imageSettings.imageUrl != null)\r\n                                imageUrl = imageSettings.imageUrl;\r\n                            //#endregion\r\n\r\n                            this._cellImages.set(className, { GridControlsSettings: imageSettings, columnType: column.type });\r\n\r\n                            let url = imageUrl;\r\n                            if (imageSettings.base64Bytes != null)\r\n                                url = \"data:image/png;base64,\" + imageSettings.base64Bytes;\r\n\r\n                            textHTML = \"<img title='\" + tooltip + \"' style='\" + customCss + \"' class='\" + imageCustomClass + \" \" + className + \"' dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_\" + column.field + \"' src='\" + url + \"' />\";\r\n\r\n                            if (imageSettings.visible === false)\r\n                                textHTML = \"\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Label\r\n                    case GridColumnTypeEnum.Label:\r\n                        {\r\n                            let labelSettings = null;\r\n                            textAlign = GridAlignEnum.Left;\r\n\r\n                            let className = \"lbl_\" + column.field + \"_\" + rowId;\r\n\r\n                            //#region Label settings\r\n                            if (column.labelSettings != null && (dataItem[options.dataSourceFieldId!] != null))\r\n                            {\r\n                                let templateEvent = new GridTemplateEvent();\r\n                                templateEvent.dataItem = dataItem;\r\n                                templateEvent.className = className;\r\n                                templateEvent.element = td;\r\n                                templateEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                                labelSettings = column.labelSettings(templateEvent);\r\n                            }\r\n\r\n                            if (labelSettings == null)\r\n                            {\r\n                                labelSettings = new GridLabelSettings();\r\n                                labelSettings.value = column.field;\r\n                            }\r\n                            //#endregion\r\n\r\n                            let customCss = \"\";\r\n\r\n                            //#region Color\r\n                            if (labelSettings.color != null)\r\n                                customCss += \"color: \" + labelSettings.color + \";\";\r\n                            //#endregion\r\n\r\n                            //#region Custom CSS & Class\r\n                            if (labelSettings.css != null)\r\n                                customCss += labelSettings.css;\r\n                            //#endregion\r\n\r\n                            //#region Tooltip\r\n                            let tooltip = \"\";\r\n                            if (labelSettings.tooltip != null)\r\n                                tooltip = labelSettings.tooltip;\r\n                            //#endregion\r\n\r\n                            //#region Click\r\n                            if (labelSettings.onClick != null && labelSettings.enabled !== false)\r\n                                customCss += \"cursor: pointer;\";\r\n                            //#endregion\r\n\r\n                            //#region Bold\r\n                            if (labelSettings.bold != null)\r\n                                customCss += \"font-weight: 500;\";\r\n                            //#endregion\r\n\r\n                            //#region Underline mode\r\n                            let underlineOnFocus = \"\";\r\n                            if (labelSettings.underlineMode != null)\r\n                            {\r\n                                switch (labelSettings.underlineMode)\r\n                                {\r\n                                    case GridLabelUnderlineMode.Always: customCss += \"text-decoration: underline\"; break;\r\n                                    case GridLabelUnderlineMode.None: customCss += \"text-decoration: none\"; break;\r\n                                    case GridLabelUnderlineMode.OnFocus: underlineOnFocus = \"grid_labelhover\"; break;\r\n                                }\r\n                            }\r\n                            //#endregion\r\n\r\n                            //#region NoBr\r\n                            if (labelSettings.noBr === true)\r\n                                customCss += \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";\r\n                            //#endregion\r\n\r\n                            this._cellLabels.set(className, { GridControlsSettings: labelSettings, columnType: column.type });\r\n\r\n                            textHTML = \"<label title='\" + tooltip + \"' style='\" + customCss + \"' class='\" + className + \" \" + underlineOnFocus + \"' dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_\" + column.field + \"'>\" + labelSettings.text + \"</label>\";\r\n\r\n                            if (labelSettings.visible === false)\r\n                                textHTML = \"\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region ComboBox, DropDownList, DropDownTree\r\n                    case GridColumnTypeEnum.ComboBox:\r\n                    case GridColumnTypeEnum.DropDownList:\r\n                    case GridColumnTypeEnum.DropDownTree:\r\n                    case GridColumnTypeEnum.DropDownTreeCheckboxes:\r\n                        {\r\n                            textAlign = GridAlignEnum.Left;\r\n                            if (column.displayField != null)\r\n                                textHTML = row[column.displayField];\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n\r\n                    //#region Color\r\n                    case GridColumnTypeEnum.Color:\r\n                        {\r\n                            textAlign = GridAlignEnum.Center;\r\n                            if (textHTML.vrIsNotNullOrEmpty())\r\n                                textHTML = \"<i class='\" + IconClassicSolid.Circle + \"' style='height: 20px; color: \" + textHTML + \"; display: inline-flex; align-items: center;'></i>\";\r\n                        }\r\n                        break;\r\n                    //#endregion\r\n                }\r\n                //#endregion\r\n\r\n                //#region Text\r\n                if (row[\"defaultRow\"] === true)\r\n                {\r\n                    textHTML = \"\";\r\n                    if (puma(tr).attr(\"defaultrow\") == null)\r\n                        puma(tr).attr(\"defaultrow\", \"defaultrow\");\r\n                }\r\n\r\n                if (td.innerHTML === \"\")\r\n                    td.innerHTML = textHTML;\r\n\r\n                if (options.lockable && tdLocked!.innerHTML === \"\")\r\n                    tdLocked!.innerHTML = textHTML;\r\n                //#endregion\r\n\r\n                //#region Color\r\n                if (column.cellSettings != null)\r\n                {\r\n                    if (column.cellSettings.backgroundColor != null)\r\n                    {\r\n                        puma(td).css(\"background-color\", column.cellSettings.backgroundColor);\r\n                        if (options.lockable) puma(tdLocked).css(\"background-color\", column.cellSettings.backgroundColor);\r\n                    }\r\n\r\n                    if (column.cellSettings.color != null)\r\n                    {\r\n                        puma(td).css(\"color\", column.cellSettings.color);\r\n                        if (options.lockable) puma(tdLocked).css(\"color\", column.cellSettings.color);\r\n                    }\r\n\r\n                    if (column.cellSettings.css != null)\r\n                    {\r\n                        td.style.cssText += column.cellSettings.css;\r\n                        if (options.lockable) tdLocked!.style.cssText += column.cellSettings.css;\r\n                    }\r\n                }\r\n\r\n                if (options.rowColorProperty != null && row[options.rowColorProperty] != null && row[options.rowColorProperty] !== \"\")\r\n                {\r\n                    puma(td).css(\"background-color\", row[options.rowColorProperty]);\r\n                    if (options.lockable) puma(tdLocked).css(\"background-color\", row[options.rowColorProperty]);\r\n                }\r\n                //#endregion\r\n\r\n                //#region Text align\r\n                if (column.cellSettings != null)\r\n                    textAlign = (column.cellSettings.textAlign != null) ? column.cellSettings.textAlign : textAlign;\r\n\r\n                puma(td).css(\"text-align\", textAlign);\r\n                if (options.lockable) puma(tdLocked).css(\"text-align\", textAlign);\r\n                //#endregion\r\n\r\n                //#region Tooltip\r\n                if (options.tooltip === true && column.type != GridColumnTypeEnum.Custom)\r\n                {\r\n                    let tooltip = \"\";\r\n                    if (column.cellSettings != null)\r\n                    {\r\n                        if (column.cellSettings.tooltip === true)\r\n                            tooltip = (column.title == null) ? \"\" : column.title;\r\n                        else if (typeof (column.cellSettings.tooltip) == \"string\")\r\n                            tooltip = column.cellSettings.tooltip;\r\n                        else if (typeof (column.cellSettings.tooltip) == \"function\")\r\n                        {\r\n                            let tooltipEvent = new GridTooltipEvent();\r\n                            tooltipEvent.dataItem = dataItem;\r\n                            tooltipEvent.element = td;\r\n                            tooltipEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                            tooltip = column.cellSettings.tooltip(tooltipEvent);\r\n                        }\r\n                    }\r\n\r\n                    if (tooltip == null || tooltip.length == 0)\r\n                        tooltip = textHTML;\r\n\r\n                    if (tooltip != null && tooltip.length > 0)\r\n                    {\r\n                        puma(td).attr(\"title\", puma(\"<span>\" + tooltip + \"</span>\").text());\r\n                        if (options.lockable) puma(tdLocked).attr(\"title\", puma(\"<span>\" + tooltip + \"</span>\").text());\r\n                    }\r\n                }\r\n                //#endregion\r\n\r\n                //#region Bold\r\n                if (column.bold === true)\r\n                {\r\n                    puma(td).css(\"font-weight\", \"500\");\r\n                    if (options.lockable) puma(tdLocked).css(\"font-weight\", \"500\");\r\n                }\r\n                //#endregion\r\n\r\n                //#endregion\r\n\r\n                // Append td\r\n                if (options.lockable && isNewCellLocked && column.locked)\r\n                    puma(trLocked).vrAppendPuma(tdLocked)\r\n                else if (isNewCell)\r\n                    puma(tr).vrAppendPuma(td);\r\n\r\n                k++;\r\n            }\r\n            //#endregion\r\n\r\n            // Append tr\r\n            if (isNewRow)\r\n                puma(this.element()).find(\">tbody\").vrAppendPuma(tr);\r\n\r\n            if (options.lockable && isNewRowLocked)\r\n                puma(this._elementLocked).find(\">tbody\").vrAppendPuma(trLocked);\r\n\r\n            //#region GroupBy\r\n            if (options.groupable! || options.groupBy != null)\r\n            {\r\n                for (let i = options.columns!.length - 1; i >= 0; i--)\r\n                {\r\n                    let column = options.columns![i];\r\n\r\n                    let display = \"\";\r\n                    if (options.groupBy == null || (options.groupBy as GridGroupBySettings).fields == null || ((options.groupBy as GridGroupBySettings).fields != null && !((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                        display = \"display: none;\";\r\n\r\n                    let tdGroupBy = puma(tr).find(\"td.groupBy\" + column.field);\r\n                    if (tdGroupBy.length == 0)\r\n                        puma(tr).prepend(\"<td width=16 style='border-left: none !important;\" + display + \"' class='groupBy\" + column.field + \"'></td>\");\r\n                    else\r\n                    {\r\n                        if (options.groupBy == null || (options.groupBy as GridGroupBySettings).fields == null)\r\n                            tdGroupBy[0].style.display = \"none\";\r\n                        else if (((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field))\r\n                            tdGroupBy[0].style.display = \"table-cell\";\r\n                    }\r\n\r\n                    if (options.lockable)\r\n                    {\r\n                        let tdGroupByLocked = puma(trLocked).find(\"td.groupBy\" + column.field);\r\n                        if (tdGroupByLocked.length == 0)\r\n                            puma(trLocked).prepend(\"<td width=16 style='border-left: none !important;\" + display + \"' class='groupBy\" + column.field + \"'></td>\");\r\n                        else\r\n                        {\r\n                            if (options.groupBy == null || (options.groupBy as GridGroupBySettings).fields == null)\r\n                                tdGroupByLocked[0].style.display = \"none\";\r\n                            else if (((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field))\r\n                                tdGroupByLocked[0].style.display = \"table-cell\";\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            puma(tr).height(options.rowHeight!);\r\n\r\n            //#region Select row\r\n            if (options.checkboxes != GridCheckboxModeEnum.None)\r\n            {\r\n                puma(tr).add(puma(trLocked)).off(\"click\");\r\n                puma(tr).add(puma(trLocked)).click((e: any) =>\r\n                {\r\n                    if (e.shiftKey && options.checkboxes == GridCheckboxModeEnum.MultiCheck)\r\n                        this.selectRangeShiftKey(e.target);\r\n                    else\r\n                    {\r\n                        if (!puma(e.target).is(\"input\") && !puma(e.target).hasClass(\"vrButton\") && !puma(e.target).hasClass(\"vrIcon\"))\r\n                            this.selectRowInternal(dataItemId, false, true);\r\n                    }\r\n                });\r\n            }\r\n            else\r\n            {\r\n                puma(tr).add(puma(trLocked)).off(\"click\");\r\n                puma(tr).add(puma(trLocked)).click((e: any) =>\r\n                {\r\n                    //#region Event\r\n                    if (options.onSelectRow != null)\r\n                    {\r\n                        let selectRowEvent = new GridSelectRowEvent();\r\n                        selectRowEvent.sender = this;\r\n                        selectRowEvent.rowElement = e.currentTarget;\r\n                        selectRowEvent.dataItem = dataItem;\r\n                        selectRowEvent.checked = true;\r\n                        selectRowEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n                        options.onSelectRow(selectRowEvent);\r\n                    }\r\n                    //#endregion\r\n                });\r\n            }\r\n            //#endregion\r\n\r\n            //#region OnRowDataBound\r\n            if (options.onRowDataBound != null)\r\n            {\r\n                let onRowDataBoundEvent = new GridOnRowDataBoundEvent();\r\n                onRowDataBoundEvent.sender = this;\r\n                onRowDataBoundEvent.rowElement = tr;\r\n\r\n                let dataItem: any = {};\r\n                for (let property of Object.getOwnPropertyNames(row))\r\n                    dataItem[property] = row[property];\r\n\r\n                onRowDataBoundEvent.dataItem = dataItem;\r\n                onRowDataBoundEvent.realDataItem = row;\r\n                onRowDataBoundEvent.empty = (dataItem[options.dataSourceFieldId!] == null);\r\n\r\n                let backgroundColor = options.onRowDataBound(onRowDataBoundEvent);\r\n                if (backgroundColor != null && backgroundColor.length > 0)\r\n                {\r\n                    puma(tr).find(\"td\").css(\"background-color\", backgroundColor);\r\n                    if (options.lockable)\r\n                        puma(trLocked).find(\"td\").css(\"background-color\", backgroundColor);\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            i++;\r\n            j++;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Remove empty rows\r\n        if (items.length < options.pageSize!)\r\n        {\r\n            let trGroupByNumber = puma(this.element()).find(\".grid_trGroupBy\").length;\r\n            let to = (options.groupable && options.groupBy != null) ? options.pageSize! + trGroupByNumber : options.pageSize!;\r\n            let from = (options.groupable && options.groupBy != null) ? items.length + 1 + trGroupByNumber : items.length + 1;\r\n            for (let i = from; i <= to; i++)\r\n                puma(this._divBody).find(\"tbody tr:nth-child(\" + from + \")\").remove();\r\n\r\n            if (options.lockable)\r\n            {\r\n                let trGroupByNumber = puma(this._elementLocked).find(\".grid_trGroupBy\").length;\r\n                let to = (options.groupable && options.groupBy != null) ? options.pageSize! + trGroupByNumber : options.pageSize!;\r\n                let from = (options.groupable && options.groupBy != null) ? items.length + 1 + trGroupByNumber : items.length + 1;\r\n                for (let i = from; i <= to; i++)\r\n                    puma(this._divBodyLocked).find(\"tbody tr:nth-child(\" + from + \")\").remove();\r\n            }\r\n        }\r\n\r\n        if (this._actualPageSize > options.pageSize!)\r\n        {\r\n            let trGroupByNumber = puma(this.element()).find(\".grid_trGroupBy\").length;\r\n            for (let i = options.pageSize! + 1 + trGroupByNumber; i <= this._actualPageSize + trGroupByNumber; i++)\r\n                puma(this._divBody).find(\"tbody tr:nth-child(\" + (options.pageSize! + 1 + trGroupByNumber) + \")\").remove();\r\n\r\n            if (options.lockable)\r\n            {\r\n                let trGroupByNumber = puma(this._elementLocked).find(\".grid_trGroupBy\").length;\r\n                for (let i = options.pageSize! + 1 + trGroupByNumber; i <= this._actualPageSize + trGroupByNumber; i++)\r\n                    puma(this._divBodyLocked).find(\"tbody tr:nth-child(\" + (options.pageSize! + 1 + trGroupByNumber) + \")\").remove();\r\n            }\r\n        }\r\n        this._actualPageSize = options.pageSize!;\r\n        //#endregion\r\n\r\n        //#region OnDataBound\r\n        if (options.onDataBound != null && triggerDataBound)\r\n        {\r\n            let onDataBoundEvent = new GridOnDataBoundEvent();\r\n            onDataBoundEvent.sender = this;\r\n            options.onDataBound(onDataBoundEvent);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Footer\r\n        if (options.footer !== false)\r\n        {\r\n            let footer = options.footer as GridFooterSettings;\r\n            let maxLength = (options.serverBinding !== false) ? this._responseForServerBinding[(options.serverBinding! as GridServerBindSettings).itemCountPropertyName!] : dataItems.length;\r\n            if (options.pageSize! < maxLength)\r\n            {\r\n                let pageSelected = this.pageSelected();\r\n                let numberOfPages = Math.trunc(maxLength / options.pageSize!);\r\n                if (maxLength % options.pageSize! > 0)\r\n                    numberOfPages += 1;\r\n\r\n                //#region Pages\r\n                if (footer.showPagination && options.pageSize! != 0)\r\n                {\r\n                    puma(\"#\" + this._elementId + \"_divPagination\").remove();\r\n                    let spanPagination = puma(\"<span id='\" + this._elementId + \"_divPagination' class='p-grid-pagination'></span>\").prependTo(this._divFooter);\r\n\r\n                    //#region Previous buttons\r\n                    createButton(\r\n                        {\r\n                            icon: IconClassicLight.Backward,\r\n                            css: \"border-left: none; border-top-left-radius: 5px; border-bottom-left-radius: 5px;\",\r\n                            onClick: (e) =>\r\n                            {\r\n                                this.pageSelected(1);\r\n                            }\r\n                        }, spanPagination, null, this._elementId + \"_btnFirstPage\");\r\n\r\n                    createButton(\r\n                        {\r\n                            icon: IconClassicLight.BackwardStep,\r\n                            onClick: (e) =>\r\n                            {\r\n                                let pageToSelect = this.pageSelected() - 1;\r\n                                if (pageToSelect < 1)\r\n                                    pageToSelect = 1;\r\n\r\n                                this.pageSelected(pageToSelect);\r\n                            }\r\n                        }, spanPagination, null, this._elementId + \"_btnPreviousPage\");\r\n                    //#endregion\r\n\r\n                    //#region Index\r\n                    let maxVisiblePages = (options.footer! as GridFooterSettings).maxVisiblePages!;\r\n                    let startingIndex = 1;\r\n                    if (pageSelected % maxVisiblePages == 0)\r\n                        startingIndex = (((pageSelected / maxVisiblePages) - 1) * maxVisiblePages) + 1;\r\n                    else\r\n                        startingIndex = (Math.trunc(pageSelected / maxVisiblePages) * maxVisiblePages) + 1;\r\n\r\n                    let endIndex = 0;\r\n                    let noMore = false;\r\n                    if (numberOfPages <= maxVisiblePages)\r\n                    {\r\n                        endIndex = startingIndex + numberOfPages;\r\n                        noMore = true;\r\n                    }\r\n                    else\r\n                        endIndex = startingIndex + maxVisiblePages;\r\n\r\n                    if (endIndex >= (numberOfPages + 1))\r\n                    {\r\n                        endIndex = (numberOfPages + 1);\r\n                        noMore = true;\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region Page numbers\r\n                    if (startingIndex > 1)\r\n                    {\r\n                        puma(\"<button id='\" + this._elementId + \"_btnPage_\" + (startingIndex - 1) + \"'></button>\").vrAppendToPuma(spanPagination);\r\n                        createButton(\r\n                            {\r\n                                text: \"...\",\r\n                                onClick: (e) =>\r\n                                {\r\n                                    this.pageSelected(startingIndex - 1);\r\n                                }\r\n                            }, null, null, this._elementId + \"_btnPage_\" + (startingIndex - 1));\r\n                    }\r\n\r\n                    for (let i = startingIndex; i <= endIndex; i++)\r\n                    {\r\n                        if (i == endIndex && noMore)\r\n                            break;\r\n\r\n                        puma(\"<button id='\" + this._elementId + \"_btnPage_\" + i + \"'></button>\").vrAppendToPuma(spanPagination);\r\n                        createButton(\r\n                            {\r\n                                text: (i == endIndex) ? ((startingIndex == endIndex) ? String(i) : \"...\") : String(i),\r\n                                class: (i == pageSelected) ? \"p-grid-pageSelected\" : undefined,\r\n                                onClick: (e) =>\r\n                                {\r\n                                    let index = Number(puma(e.sender.element()).attr(\"id\").split(\"_\").last());\r\n                                    this.pageSelected(index);\r\n                                }\r\n                            }, null, null, this._elementId + \"_btnPage_\" + i);\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region Next buttons\r\n                    puma(\"<button id='\" + this._elementId + \"_btnNextPage'></button>\").vrAppendToPuma(spanPagination);\r\n                    createButton(\r\n                        {\r\n                            icon: IconClassicLight.ForwardStep,\r\n                            onClick: (e) =>\r\n                            {\r\n                                let pageToSelect = this.pageSelected() + 1;\r\n                                if (pageToSelect > numberOfPages)\r\n                                    pageToSelect = numberOfPages;\r\n\r\n                                this.pageSelected(pageToSelect);\r\n                            }\r\n                        }, null, null, this._elementId + \"_btnNextPage\");\r\n\r\n                    puma(\"<button id='\" + this._elementId + \"_btnLastPage'></button>\").vrAppendToPuma(spanPagination);\r\n                    createButton(\r\n                        {\r\n                            icon: IconClassicLight.Forward,\r\n                            css: \"border-top-right-radius: 5px; border-bottom-right-radius: 5px;\",\r\n                            onClick: (e) =>\r\n                            {\r\n                                this.pageSelected(numberOfPages);\r\n                            }\r\n                        }, null, null, this._elementId + \"_btnLastPage\");\r\n                    //#endregion\r\n                }\r\n                //#endregion\r\n\r\n                //#region Total elements\r\n                if (footer.totalElements)\r\n                {\r\n                    puma(\"#\" + this._elementId + \"TotalsLabel\").remove();\r\n                    puma(\"<span id='\" + this._elementId + \"TotalsLabel' class='p-grid-totalElements'></span>\").vrAppendToPuma(this._divFooter);\r\n\r\n                    if (typeof (footer.totalElements) == \"boolean\" && footer.totalElements === true)\r\n                    {\r\n                        if (options.pageSize == 0)\r\n                            puma(\"#\" + this._elementId + \"TotalsLabel\").html(\"Nessun elemento\");\r\n                        else\r\n                        {\r\n                            if (lastIndex > maxLength)\r\n                                lastIndex = maxLength;\r\n\r\n                            let pagesText = firstIndex + \" - \" + lastIndex + \" di \" + maxLength + ((maxLength == 1) ? \" elemento\" : \" elementi\") +\r\n                                \" - \" + pageSelected + \" di \" + numberOfPages + \" pagine\";\r\n\r\n                            if (options.serverBinding !== false)\r\n                            {\r\n                                let indexFrom = options.pageSize! * (this.pageSelected() - 1) + 1;\r\n                                let indexTo = options.pageSize! * (this.pageSelected() - 1) + dataItems.length;\r\n\r\n                                pagesText = indexFrom + \" - \" + indexTo + \" di \" + maxLength + ((maxLength == 1) ? \" elemento\" : \" elementi\") +\r\n                                    \" - \" + pageSelected + \" di \" + numberOfPages + \" pagine\";\r\n                            }\r\n\r\n                            puma(\"#\" + this._elementId + \"TotalsLabel\").html(pagesText);\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        let totalElementTemplateEvent = new GridTotalElementTemplateEvent();\r\n                        totalElementTemplateEvent.dataItems = dataItems;\r\n                        totalElementTemplateEvent.firstIndex = firstIndex;\r\n                        totalElementTemplateEvent.lastIndex = lastIndex;\r\n                        totalElementTemplateEvent.numberOfPages = numberOfPages;\r\n                        totalElementTemplateEvent.pageSelected = pageSelected;\r\n                        let totalElementsText = footer.totalElements(totalElementTemplateEvent);\r\n\r\n                        puma(\"#\" + this._elementId + \"TotalsLabel\").html(totalElementsText);\r\n                    }\r\n                }\r\n                //#endregion                \r\n            }\r\n            else\r\n            {\r\n                //#region Clear footer\r\n                if (footer.showPagination)\r\n                    puma(\"#\" + this._elementId + \"_divPagination\").remove();\r\n\r\n                if (footer.totalElements)\r\n                {\r\n                    puma(\"#\" + this._elementId + \"TotalsLabel\").remove();\r\n                    puma(\"<span id='\" + this._elementId + \"TotalsLabel' class='p-grid-totalElements'></span>\").vrAppendToPuma(this._divFooter);\r\n                    let realDataItems = dataItems.filter(k => k[\"defaultRow\"] == null || k[\"defaultRow\"] == false);\r\n\r\n                    if (typeof (footer.totalElements) == \"boolean\" && footer.totalElements === true)\r\n                    {\r\n                        if (realDataItems.length == 0)\r\n                            puma(\"#\" + this._elementId + \"TotalsLabel\").html(\"Nessun elemento\");\r\n                        else\r\n                            puma(\"#\" + this._elementId + \"TotalsLabel\").html(dataItems.length + ((realDataItems.length == 1) ? \" elemento\" : \" elementi\"));\r\n                    }\r\n                    else\r\n                    {\r\n                        let totalElementTemplateEvent = new GridTotalElementTemplateEvent();\r\n                        totalElementTemplateEvent.dataItems = realDataItems;\r\n                        totalElementTemplateEvent.firstIndex = firstIndex;\r\n                        totalElementTemplateEvent.lastIndex = lastIndex;\r\n                        let totalElementsText = footer.totalElements(totalElementTemplateEvent);\r\n\r\n                        puma(\"#\" + this._elementId + \"TotalsLabel\").html(totalElementsText);\r\n                    }\r\n                }\r\n\r\n                if (!footer.showPageSize)\r\n                {\r\n                    let ddlPageSize = ControlManager.get<ComboBox>(this._elementId + \"_ddlPageSize\");\r\n                    if (ddlPageSize != null)\r\n                        ddlPageSize.hide();\r\n                }\r\n                //#endregion\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Totals\r\n        if (this._showTotals && options.columns!.filter(k => k.aggregate != null && k.aggregate !== false).length > 0)\r\n        {\r\n            if (options.serverBinding !== false)\r\n                this.createTotals(this._responseForServerBinding[(options.serverBinding as GridServerBindSettings).totalsPropertyName!], false);\r\n            else\r\n            {\r\n                //#region Worker totals request\r\n                puma(this._divTotals).find(\"td\").empty();\r\n                if (options.lockable)\r\n                    puma(this._divTotalsLocked).find(\"td\").empty();\r\n\r\n                let workerTotalsRequest = new WorkerTotalsRequest();\r\n                workerTotalsRequest.isGroup = false;\r\n                workerTotalsRequest.dataItems = dataItems;\r\n                workerTotalsRequest.columnOptions = options.columns!.filter(k => k.aggregate != null && k.aggregate !== false && k.hidden !== true).map(k => \r\n                {\r\n                    let td = puma(this._divTotals).find(\"td[field='\" + k.field + \"']\")[0];\r\n                    if (options.lockable && td == null)\r\n                        td = puma(this._divTotalsLocked).find(\"td[field='\" + k.field + \"']\")[0];\r\n\r\n                    let decimalDigits = puma(td).attr(\"decimalDigits\");\r\n                    let aggregateMode = Number(puma(td).attr(\"aggregate\"));\r\n\r\n                    return {\r\n                        field: k.field,\r\n                        decimalDigits: decimalDigits,\r\n                        aggregateMode: aggregateMode,\r\n                        type: k.type!,\r\n                        countZeroInAverage: k.countZeroInAverage,\r\n                        roundingSettings: k.roundingSettings\r\n                    }\r\n                });\r\n                this._workerTotals.postMessage(JSON.parse(JSON.stringify(workerTotalsRequest)));\r\n                //#endregion\r\n\r\n                //#region Worker totals response\r\n                this._workerTotals.onmessage = (e) =>\r\n                {\r\n                    this.createTotals(e.data, false);\r\n                };\r\n                //#endregion\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region GroupBy\r\n        if (options.groupable! && options.groupBy != null)\r\n        {\r\n            //#region Group totals\r\n            let workerTotalsGroupRequest = new WorkerTotalsRequest();\r\n            workerTotalsGroupRequest.groupItems = [];\r\n            workerTotalsGroupRequest.isGroup = true;\r\n\r\n            let trGroupByList = Array.from<HTMLElement>(puma(this.element()).find(\".grid_trGroupBy\"));\r\n            trGroupByList.vrPushRange(Array.from<HTMLElement>(puma(this._elementLocked).find(\".grid_trGroupByLocked\")))\r\n\r\n            for (let tr of trGroupByList)\r\n            {\r\n                let children = [];\r\n                if (puma(tr).hasClass(\"grid_trGroupByLocked\"))\r\n                    children = this.getChildrenGroupRows(tr, this._divBodyLocked).children;\r\n                else\r\n                    children = this.getChildrenGroupRows(tr, this._divBody).children;\r\n\r\n                //#region Children number\r\n                if (!options.serverBinding)\r\n                {\r\n                    let td = puma(tr).find(\"td.grid_tdGroupByName\");\r\n                    let childrenNumber = children.length;\r\n\r\n                    if (this.dataSource().length > 1)\r\n                        td.find(\"div.grid_divGroupByName\").vrAppendPuma(\"<span style='margin-left: 5px;'>(\" + childrenNumber + \")</span>\");\r\n                }\r\n                //#endregion\r\n\r\n                //#region Totals group\r\n                if (this._showTotals)\r\n                {\r\n                    let value = this.fixValueWithoutSpecialChars(puma(tr).attr(\"value\"));\r\n\r\n                    let clonedTr = puma(children.vrLast()).clone();\r\n                    clonedTr.addClass(\"p-grid-totalsGroup\");\r\n                    clonedTr.find(\"td\").empty();\r\n                    clonedTr.vrInsertAfterPuma(children.vrLast());\r\n                    clonedTr.addClass(this._elementId + \"_totalGroupBy\" + value);\r\n\r\n                    let workerTotalsGroupItem = new WorkerTotalsGroupItem();\r\n                    workerTotalsGroupItem.groupValue = value;\r\n\r\n                    let childrenItems = [];\r\n                    for (let child of children)\r\n                    {\r\n                        let dataItemId = puma(child).attr(\"dataitemid\");\r\n                        childrenItems.push(dataItems.filter(k => k[options.dataSourceFieldId!] == dataItemId)[0]);\r\n                    }\r\n                    workerTotalsGroupItem.dataItems = childrenItems;\r\n                    workerTotalsGroupRequest.groupItems.push(workerTotalsGroupItem);\r\n                }\r\n                //#endregion\r\n            }\r\n\r\n            if (this._showTotals && options.columns!.filter(k => k.aggregate != null && k.aggregate !== false).length > 0)\r\n            {\r\n                //#region WorkerTotalsGroupRequest\r\n                workerTotalsGroupRequest.columnOptions = options.columns!.filter(k => k.aggregate != null && k.aggregate !== false && k.hidden !== true).map(k =>\r\n                {\r\n                    let td = puma(this._divTotals).find(\"td[field='\" + k.field + \"']\")[0];\r\n                    if (options.lockable && td == null)\r\n                        td = puma(this._divTotalsLocked).find(\"td[field='\" + k.field + \"']\")[0];\r\n\r\n                    let decimalDigits = puma(td).attr(\"decimalDigits\");\r\n                    let aggregateMode = Number(puma(td).attr(\"aggregate\"));\r\n\r\n                    return {\r\n                        field: k.field,\r\n                        decimalDigits: decimalDigits,\r\n                        aggregateMode: aggregateMode,\r\n                        type: k.type!,\r\n                        countZeroInAverage: k.countZeroInAverage,\r\n                        roundingSettings: k.roundingSettings\r\n                    }\r\n                });\r\n                this._workerTotalsGroup.postMessage(JSON.parse(JSON.stringify(workerTotalsGroupRequest)));\r\n                //#endregion\r\n\r\n                //#region WorkerTotalsGroupResponse\r\n                this._workerTotalsGroup.onmessage = (e) =>\r\n                {\r\n                    this.createTotals(e.data, true);\r\n                };\r\n                //#endregion\r\n            }\r\n\r\n            //#endregion\r\n        }\r\n        //#endregion\r\n\r\n        //#region Recalculate Width/Height & AdjustTrHeight\r\n        this.recalculateHeight();\r\n        this.recalculateWidth();\r\n        this.recalculateHeight();\r\n\r\n        this.adjustTrHeight();\r\n        //#endregion\r\n\r\n        this._deletedItems = [];\r\n        if (this._checkedItemsForFiltering != null && this._checkedItemsForFiltering.length > 0)\r\n            this.selectRows(this._checkedItemsForFiltering.map(k => k[options.dataSourceFieldId!]), undefined, false);\r\n    }\r\n\r\n    private createTotals(data: any[], isGroup: boolean)\r\n    {\r\n        if (!isGroup)\r\n        {\r\n            for (let total of data)\r\n            {\r\n                let td = puma(this._divTotals).find(\"td[field='\" + total.field + \"']\")[0];\r\n\r\n                let options = this.getOptions();\r\n                if (options.lockable && td == null)\r\n                    td = puma(this._divTotalsLocked).find(\"td[field='\" + total.field + \"']\")[0];\r\n\r\n                this.writeTotals(total, td);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (let totalsGroup of data)\r\n            {\r\n                for (let total of totalsGroup.totals)\r\n                {\r\n                    let tdList = Array.from<HTMLElement>(puma(\".\" + this._elementId + \"_totalGroupBy\"\r\n                        + this.fixValueWithoutSpecialChars(totalsGroup.groupValue))\r\n                        .find(\"td[field='\" + total.field + \"']\"))\r\n\r\n                    for (let td of tdList)\r\n                        this.writeTotals(total, td);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private writeTotals(total: WorkerTotalsResult, td: HTMLElement)\r\n    {\r\n        if (td != null)\r\n        {\r\n            let valueFormatted = this.formatValue(total.total, total.type, total.decimalDigits, total.roundingSettings);\r\n            td.innerHTML = valueFormatted;\r\n            puma(td).attr(\"title\", td.innerText);\r\n        }\r\n    }\r\n\r\n    private formatValue(value: any, columnType?: GridColumnTypeEnum, decimalDigits?: number, roundingSettings?: NumberFormatRoundingSettings, showSeconds?: boolean)\r\n    {\r\n        let options = this.getOptions();\r\n        if (columnType == null) columnType = GridColumnTypeEnum.String;\r\n\r\n        //#region Number, Currency, Percentage\r\n        if (columnType == GridColumnTypeEnum.Number || columnType == GridColumnTypeEnum.Currency || columnType == GridColumnTypeEnum.Percentage)\r\n        {\r\n            if (roundingSettings == null)\r\n                roundingSettings = options.roundingSettings;\r\n\r\n            let formatSettings = new NumberFormatSettings(roundingSettings);\r\n            formatSettings.minimumFractionDigits = decimalDigits;\r\n            formatSettings.maximumFractionDigits = decimalDigits;\r\n\r\n            if (roundingSettings != null)\r\n            {\r\n                if (roundingSettings.minimumFractionDigits != null) formatSettings.minimumFractionDigits = roundingSettings.minimumFractionDigits;\r\n                if (roundingSettings.maximumFractionDigits != null) formatSettings.maximumFractionDigits = roundingSettings.maximumFractionDigits\r\n\r\n                if (roundingSettings.roundingMode == RoundingModeEnum.None)\r\n                {\r\n                    if (roundingSettings.maximumFractionDigits == null)\r\n                        formatSettings.maximumFractionDigits = 8;\r\n                }\r\n            }\r\n\r\n            if (columnType == GridColumnTypeEnum.Percentage)\r\n                value = Number(value) / 100;\r\n\r\n            if (columnType == GridColumnTypeEnum.Number)\r\n                return Number(value).vrToNumberString(formatSettings);\r\n            else if (columnType == GridColumnTypeEnum.Currency)\r\n                return Number(value).vrToCurrencyString(formatSettings);\r\n            else if (columnType == GridColumnTypeEnum.Percentage)\r\n                return Number(value).vrToPercentageString(formatSettings);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Duration\r\n        else if (columnType == GridColumnTypeEnum.Duration)\r\n        {\r\n            let hours: number = Math.trunc(value / 60);\r\n            let hoursString = String(hours);\r\n            if (hours < 10)\r\n                hoursString = \"0\" + hoursString;\r\n\r\n            let minutes: number = Math.trunc(value % 60);\r\n            let minutesString = String(minutes);\r\n            if (minutes < 10)\r\n                minutesString = \"0\" + minutesString;\r\n\r\n            return hoursString + \":\" + minutesString;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Date, DateTime, Time\r\n        else if (columnType == GridColumnTypeEnum.Date || columnType == GridColumnTypeEnum.DateTime\r\n            || columnType == GridColumnTypeEnum.Time || columnType == GridColumnTypeEnum.LongDate\r\n            || columnType == GridColumnTypeEnum.LongDateTime || columnType == GridColumnTypeEnum.LongWeekDate\r\n            || columnType == GridColumnTypeEnum.ShortWeekDate)\r\n        {\r\n            value = Date.vrFixDateString(value);\r\n            let dateModeEnum: DateModeEnum = DateModeEnum.Date;\r\n\r\n            if (columnType == GridColumnTypeEnum.Date) dateModeEnum = DateModeEnum.Date;\r\n            else if (columnType == GridColumnTypeEnum.DateTime) dateModeEnum = DateModeEnum.DateTime;\r\n            else if (columnType == GridColumnTypeEnum.Time) dateModeEnum = DateModeEnum.Time;\r\n            else if (columnType == GridColumnTypeEnum.LongDate) dateModeEnum = DateModeEnum.LongDate;\r\n            else if (columnType == GridColumnTypeEnum.LongDateTime) dateModeEnum = DateModeEnum.LongDateTime;\r\n            else if (columnType == GridColumnTypeEnum.LongWeekDate) dateModeEnum = DateModeEnum.LongWeekDate;\r\n            else if (columnType == GridColumnTypeEnum.ShortWeekDate) dateModeEnum = DateModeEnum.ShortWeekDate;\r\n\r\n            return (value == \"\" || !Date.vrIsValidDate(value)) ? \"\" : new Date(value).vrToItalyString(dateModeEnum, showSeconds);\r\n        }\r\n        //#endregion\r\n\r\n        //#region String, Label\r\n        else if (columnType == GridColumnTypeEnum.String || columnType == GridColumnTypeEnum.Label)\r\n        {\r\n            value = String(value);\r\n            return value;\r\n        }\r\n        //#endregion\r\n\r\n        return \"\";\r\n    }\r\n    //#endregion\r\n\r\n    //#region Manage rows\r\n    updateRow(dataItem: any, rebind = true)\r\n    {\r\n        let options = this.getOptions();\r\n        let dataItemId = dataItem[options.dataSourceFieldId!];\r\n\r\n        let itemOriginalDatasource = this.originalDataSource().filter(k => k[options.dataSourceFieldId!] == dataItemId)[0];\r\n        let itemOriginalDatasourceIndex = this.originalDataSource().indexOf(itemOriginalDatasource);\r\n        let itemDatasource = this.dataSource().filter(k => k[options.dataSourceFieldId!] == dataItemId)[0];\r\n        let itemDatasourceIndex = this.dataSource().indexOf(itemDatasource);\r\n        if (itemOriginalDatasource != null)\r\n        {\r\n            this.fixDatasourceWithDate([dataItem]);\r\n            this.originalDataSource()[itemOriginalDatasourceIndex] = dataItem;\r\n            this.dataSource()[itemDatasourceIndex] = dataItem;\r\n\r\n            if (rebind)\r\n                this.update();\r\n        }\r\n        else\r\n            this.addRow(dataItem, rebind);\r\n    }\r\n\r\n    updateRows(dataItems: any[], rebind = true)\r\n    {\r\n        for (let dataItem of dataItems)\r\n            this.updateRow(dataItem, false);\r\n\r\n        if (rebind)\r\n            this.update();\r\n    }\r\n\r\n    addRow(dataItem: any, rebind = true)\r\n    {\r\n        this.addRows([dataItem], rebind);\r\n    }\r\n\r\n    addRows(dataItems: any[], rebind = true)\r\n    {\r\n        this.fixDatasourceWithDate(dataItems);\r\n        let options = this.getOptions();\r\n        for (let dataItem of dataItems)\r\n        {\r\n            if (dataItem[options.dataSourceFieldId!] == null)\r\n            {\r\n                dataItem[options.dataSourceFieldId!] = this._lastIndexAdded;\r\n                this._lastIndexAdded--;\r\n            }\r\n        }\r\n\r\n        if (this._originalDataSource == null)\r\n            this._originalDataSource = [];\r\n\r\n        this.dataSource().vrPushRange(dataItems);\r\n        this._originalDataSource.vrPushRange(dataItems);\r\n\r\n        if (options.groupable! && options.groupBy != null)\r\n            this.sortingGroupFields(dataItems);\r\n\r\n        if (rebind)\r\n            this.setDataSource(this.dataSource());\r\n\r\n        //#region Add to dictionary for filter\r\n        for (let column of options.columns!)\r\n        {\r\n            if (column.type != GridColumnTypeEnum.EditButton)\r\n                this._dictionaryDataValues.set(column.field, this._originalDataSource.map(k => String(k[column.field]).toLowerCase()));\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    deleteRow(dataItemId: number | string, rebind = false)\r\n    {\r\n        this.deleteRows([dataItemId], rebind);\r\n    }\r\n\r\n    deleteRows(dataItemIdList: (number | string)[], rebind = false)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        //#region Delete row element\r\n        let rows = Array.from(puma(this._divBody).find(\"tr\"));\r\n        for (let row of rows)\r\n        {\r\n            if (dataItemIdList.vrToStringArrayList().includes(puma(row).attr(\"dataItemId\")))\r\n                puma(row).remove();\r\n        }\r\n\r\n        if (this.thereAreLockedColumns())\r\n        {\r\n            let rows = Array.from(puma(this._divBodyLocked).find(\"tr\"));\r\n            for (let row of rows)\r\n            {\r\n                if (dataItemIdList.vrToStringArrayList().includes(puma(row).attr(\"dataItemId\")))\r\n                    puma(row).remove();\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Delete item\r\n        for (let itemId of dataItemIdList)\r\n        {\r\n            let itemToDelete = this.dataSource().filter(k => k[options.dataSourceFieldId!] == itemId)[0];\r\n            if (itemToDelete != null)\r\n            {\r\n                this.dataSource().vrDeleteItem(itemToDelete, options.dataSourceFieldId!);\r\n                this._originalDataSource.vrDeleteItem(itemToDelete, options.dataSourceFieldId!);\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Remove from dictionary for filter\r\n        for (let column of options.columns!)\r\n        {\r\n            if (column.type != GridColumnTypeEnum.EditButton)\r\n                this._dictionaryDataValues.set(column.field, this._originalDataSource.map(k => String(k[column.field]).toLowerCase()));\r\n        }\r\n        //#endregion\r\n\r\n        if (rebind)\r\n            this.setDataSource(this.dataSource());\r\n    }\r\n\r\n    rows()\r\n    {\r\n        let rows: GridRow[] = [];\r\n        let rowElements = Array.from<HTMLElement>(puma(this._divBody).find(\"tr\"));\r\n        for (let rowElement of rowElements)\r\n        {\r\n            let row = new GridRow();\r\n            row.element = rowElement;\r\n            row.cells = puma(rowElement).find(\"td\");\r\n            row.id = rowElement.id;\r\n            row.dataItemId = rowElement.getAttribute(\"dataItemId\")!;\r\n            row.index = Number(rowElement.getAttribute(\"row\")!);\r\n            rows.push(row);\r\n        }\r\n        return rows;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Items\r\n    public getAllItems(toSavePurpose: boolean = false)\r\n    {\r\n        let rows = this.dataSource();\r\n        if (toSavePurpose)\r\n        {\r\n            for (let row of rows)\r\n            {\r\n                for (let property in row)\r\n                {\r\n                    let propertyValue = row[property];\r\n                    if (Date.vrIsValidDate(propertyValue))\r\n                        row[property] = Date.vrConvertDateFromClient(propertyValue);\r\n                }\r\n            }\r\n        }\r\n        return rows.filter(k => k.defaultRow !== true);\r\n    }\r\n\r\n    getCheckedItems()\r\n    {\r\n        let options = this.getOptions();\r\n        let checkboxList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".vr-checkbox-column\") as any);\r\n        if (this.thereAreLockedColumns())\r\n            checkboxList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".vr-checkbox-column\") as any);\r\n\r\n        let checkboxCheckedList = checkboxList.filter(k => k.checked);\r\n\r\n        let checkedItems: any[] = [];\r\n        for (let checkboxChecked of checkboxCheckedList)\r\n        {\r\n            let rowElement = checkboxChecked.closest(\"tr\");\r\n            if (rowElement != null)\r\n            {\r\n                let rowId = puma(rowElement).attr(\"dataItemId\");\r\n                let checkedItem = this.dataSource().filter(k => k[options.dataSourceFieldId!] == rowId)[0];\r\n                if (checkedItem != null)\r\n                    checkedItems.push(checkedItem);\r\n            }\r\n        }\r\n        return checkedItems;\r\n    }\r\n\r\n    getCheckedValues()\r\n    {\r\n        let options = this.getOptions();\r\n        return this.getCheckedItems().map(k => k != null && k[options.dataSourceFieldId!]);\r\n    }\r\n\r\n    getDeletedItems()\r\n    {\r\n        return this._deletedItems;\r\n    }\r\n\r\n    getDeletedItemValues(key?: string)\r\n    {\r\n        let options = this.getOptions();\r\n        return this.getDeletedItems().map(k => key != null ? k[key] : k[options.dataSourceFieldId!]);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Check/Select\r\n    clearSelection(triggerChange = true)\r\n    {\r\n        this.unCheckAllRows(triggerChange);\r\n    }\r\n\r\n    checkAllRows(triggerChange = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.checkboxes == GridCheckboxModeEnum.SingleCheck)\r\n            return;\r\n\r\n        let headerCheckbox = puma(\"#\" + puma(this.element()).attr(\"id\") + \"header_CheckboxColumn\");\r\n        headerCheckbox.attr(\"checked\", \"checked\");\r\n        if (headerCheckbox[0] != null)\r\n            headerCheckbox[0].checked = true;\r\n\r\n        let checkboxList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".vr-checkbox-column\") as any);\r\n        if (this.thereAreLockedColumns())\r\n            checkboxList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".vr-checkbox-column\") as any);\r\n\r\n        for (let checkbox of checkboxList)\r\n        {\r\n            puma(checkbox).attr(\"checked\", \"checked\");\r\n            checkbox.checked = true;\r\n        }\r\n\r\n        headerCheckbox.removeClass(\"indeterminateVrCheckbox\");\r\n\r\n        //#region Group by\r\n        if (options.groupable! && options.groupBy != null && options.checkboxes != GridCheckboxModeEnum.None)\r\n        {\r\n            let groupByRows = puma(this._divBody).find(\".grid_trGroupBy\");\r\n            if (this.thereAreLockedColumns())\r\n                groupByRows = puma(this._divBodyLocked).find(\".grid_trGroupBy\");\r\n\r\n            for (let groupByRow of Array.from(groupByRows))\r\n            {\r\n                let checkBox = puma(groupByRow).find(\"input\");\r\n                (checkBox[0] as HTMLInputElement).checked = true;\r\n                checkBox.removeClass(\"indeterminateVrCheckbox\");\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        this._checkedItemsForFiltering = this.getCheckedItems();\r\n\r\n        //#region Event\r\n        if (triggerChange && options.onSelectAllRows != null)\r\n        {\r\n            let selectAllRowsEvent = new GridSelectAllRowsEvent();\r\n            selectAllRowsEvent.sender = this;\r\n            options.onSelectAllRows(selectAllRowsEvent);\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    unCheckAllRows(triggerChange = true)\r\n    {\r\n        let options = this.getOptions();\r\n        let headerCheckbox = puma(\"#\" + puma(this.element()).attr(\"id\") + \"header_CheckboxColumn\");\r\n        headerCheckbox.removeAttr(\"checked\");\r\n        if (headerCheckbox[0] != null)\r\n            headerCheckbox[0].checked = false;\r\n\r\n        let checkboxList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".vr-checkbox-column\") as any);\r\n        if (this.thereAreLockedColumns())\r\n            checkboxList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".vr-checkbox-column\") as any);\r\n\r\n        for (let checkbox of checkboxList)\r\n        {\r\n            puma(checkbox).removeAttr(\"checked\");\r\n            checkbox.checked = false;\r\n        }\r\n\r\n        headerCheckbox.removeClass(\"indeterminateVrCheckbox\");\r\n\r\n        //#region Group by\r\n        if (options.groupable! && options.groupBy != null && options.checkboxes != GridCheckboxModeEnum.None)\r\n        {\r\n            let groupByRows = puma(this._divBody).find(\".grid_trGroupBy\");\r\n            if (this.thereAreLockedColumns())\r\n                groupByRows = puma(this._divBodyLocked).find(\".grid_trGroupBy\");\r\n\r\n            for (let groupByRow of Array.from(groupByRows))\r\n            {\r\n                let checkBox = puma(groupByRow).find(\"input\");\r\n                (checkBox[0] as HTMLInputElement).checked = false;\r\n                puma(checkBox).removeAttr(\"checked\");\r\n                checkBox.removeClass(\"indeterminateVrCheckbox\");\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        this._checkedItemsForFiltering = [];\r\n\r\n        //#region Event\r\n        if (triggerChange && options.onUnselectAllRows != null)\r\n        {\r\n            let unselectAllRowsEvent = new GridUnselectAllRowsEvent();\r\n            unselectAllRowsEvent.sender = this;\r\n            options.onUnselectAllRows(unselectAllRowsEvent);\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    selectRowsByIndexes(indexes: number[], triggerChange = true)\r\n    {\r\n        for (let index of indexes)\r\n            this.selectRowByIndex(index, triggerChange);\r\n    }\r\n\r\n    selectRowByIndex(index: number, triggerChange = true)\r\n    {\r\n        let tr = puma(this._divBody).find(\"tr[row='\" + index + \"']\");\r\n        let dataItemId = tr.attr(\"dataItemId\");\r\n        this.selectRowInternal(dataItemId, false, false, triggerChange);\r\n    }\r\n\r\n    selectRows(itemIdList: string[], property?: string, triggerChange = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.checkboxes == GridCheckboxModeEnum.SingleCheck)\r\n            itemIdList = [itemIdList.vrLast()];\r\n\r\n        //#region Other property instead of 'id'\r\n        if (property != null)\r\n        {\r\n            let options = this.getOptions();\r\n            let filteredDataSourceList: any[] = [];\r\n            itemIdList = itemIdList.vrDistinct();\r\n            for (let itemId of itemIdList)\r\n                filteredDataSourceList.vrPushRange(this.dataSource().filter(k => k[property] == itemId));\r\n\r\n            itemIdList = filteredDataSourceList.map(k => k[options.dataSourceFieldId!]);\r\n        }\r\n        //#endregion\r\n\r\n        for (let itemId of itemIdList)\r\n            this.selectRow(itemId, triggerChange);\r\n    }\r\n\r\n    selectRow(itemId: string, triggerChange = true)\r\n    {\r\n        this.selectRowInternal(itemId, false, false, true, triggerChange);\r\n    }\r\n\r\n    private selectRangeShiftKey(target: HTMLElement)\r\n    {\r\n        let rowIndex = Number(puma(target).closest(\"tr\").attr(\"row\"));\r\n        let checkboxList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".vr-checkbox-column:checked\") as any);\r\n        if (this.thereAreLockedColumns())\r\n            checkboxList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".vr-checkbox-column:checked\") as any);\r\n\r\n        let trSelectedList: HTMLElement[] = [];\r\n        for (let checkbox of checkboxList)\r\n            trSelectedList.push(puma(checkbox).closest(\"tr\")[0]);\r\n\r\n        let minDifferenceTr: number | null = null;\r\n        let finalRowIndex = 0;\r\n        for (let trSelected of trSelectedList)\r\n        {\r\n            let rowIndexSelected = Number(puma(trSelected).attr(\"row\"));\r\n            let diff = Math.abs(rowIndex - rowIndexSelected);\r\n            if (minDifferenceTr == null || (diff < minDifferenceTr && diff > 0))\r\n            {\r\n                minDifferenceTr = diff;\r\n                finalRowIndex = Number(puma(trSelected).attr(\"row\"));\r\n            }\r\n        }\r\n\r\n        let start = (finalRowIndex < rowIndex) ? finalRowIndex : rowIndex;\r\n        let end = (finalRowIndex < rowIndex) ? rowIndex : finalRowIndex;\r\n        for (let i = start + 1; i <= end; i++)\r\n        {\r\n            let tr = puma(this._divBody).find(\"tr[row='\" + i + \"']\");\r\n            let dataItemId = tr.attr(\"dataItemId\");\r\n            this.selectRowInternal(dataItemId, true, true, false, true, true);\r\n        }\r\n    }\r\n\r\n    private selectRowInternal(itemId: string, fromCheckboxInput = false, fromGroupOrRow = false, fromMethodCall = false, triggerChange = true, shiftKey = false, checkbox = false)\r\n    {\r\n        let options = this.getOptions();\r\n        let checkboxList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".vr-checkbox-column\") as any);\r\n        let checkboxGroupList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".grid_divGroupByName input\") as any);\r\n\r\n        if (this.thereAreLockedColumns())\r\n        {\r\n            checkboxList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".vr-checkbox-column\") as any);\r\n            checkboxGroupList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".grid_divGroupByName input\") as any);\r\n        }\r\n\r\n        //#region Select checkbox\r\n        let dataItem = null;\r\n        let checkboxToSelect = checkboxList.filter(k => puma(k as any).attr(\"dataItemId\") == itemId)[0];\r\n        if (checkboxToSelect != null)\r\n        {\r\n            if (checkboxToSelect.checked)\r\n            {\r\n                let checkedCheckboxList = checkboxList.filter(k => k.checked);\r\n                if (options.checkboxes == GridCheckboxModeEnum.SingleCheck || (options.checkboxes == GridCheckboxModeEnum.MultiCheck && !fromCheckboxInput && checkedCheckboxList.length > 1))\r\n                {\r\n                    if (!fromMethodCall)\r\n                    {\r\n                        for (let checkbox of checkboxList)\r\n                        {\r\n                            puma(checkbox).removeAttr(\"checked\");\r\n                            checkbox.checked = false;\r\n                        }\r\n\r\n                        for (let checkbox of checkboxGroupList)\r\n                        {\r\n                            puma(checkbox).removeAttr(\"checked\");\r\n                            checkbox.checked = false;\r\n                            puma(checkbox).removeClass(\"indeterminateVrCheckbox\");\r\n                        }\r\n\r\n                        if (this._checkedItemsForFiltering != null)\r\n                            this._checkedItemsForFiltering.vrDeleteAllBy(k => k[options.dataSourceFieldId!] == itemId);\r\n                    }\r\n\r\n                    puma(checkboxToSelect).attr(\"checked\", \"checked\");\r\n                    checkboxToSelect.checked = true;\r\n                }\r\n                else if (fromGroupOrRow)\r\n                    this.unselectRow(itemId, triggerChange);\r\n            }\r\n            else\r\n            {\r\n                if ((options.checkboxes == GridCheckboxModeEnum.SingleCheck || !fromCheckboxInput) && !fromMethodCall)\r\n                {\r\n                    for (let checkbox of checkboxList)\r\n                    {\r\n                        puma(checkbox).removeAttr(\"checked\");\r\n                        checkbox.checked = false;\r\n\r\n                        if (this._checkedItemsForFiltering != null)\r\n                            this._checkedItemsForFiltering.vrDeleteAllBy(k => k[options.dataSourceFieldId!] == itemId);\r\n                    }\r\n\r\n                    for (let checkbox of checkboxGroupList)\r\n                    {\r\n                        puma(checkbox).removeAttr(\"checked\");\r\n                        checkbox.checked = false;\r\n                        puma(checkbox).removeClass(\"indeterminateVrCheckbox\");\r\n                    }\r\n                }\r\n\r\n                if (!fromGroupOrRow && !fromMethodCall)\r\n                {\r\n                    puma(checkboxToSelect).removeAttr(\"checked\");\r\n                    checkboxToSelect.checked = false;\r\n\r\n                    if (this._checkedItemsForFiltering != null)\r\n                        this._checkedItemsForFiltering.vrDeleteAllBy(k => k[options.dataSourceFieldId!] == itemId);\r\n                }\r\n                else\r\n                {\r\n                    puma(checkboxToSelect).attr(\"checked\", \"checked\");\r\n                    checkboxToSelect.checked = true;\r\n                }\r\n            }\r\n\r\n            dataItem = this.dataSource().filter(k => k[options.dataSourceFieldId!] == itemId)[0];\r\n        }\r\n        //#endregion\r\n\r\n        let headerCheckbox = puma(\"#\" + puma(this.element()).attr(\"id\") + \"header_CheckboxColumn\");\r\n        headerCheckbox.addClass(\"indeterminateVrCheckbox\");\r\n\r\n        //#region All rows checked\r\n        let checkedItems = this.getCheckedItems();\r\n        if (this._checkedItemsForFiltering != null)\r\n        {\r\n            for (let checkedItem of checkedItems)\r\n            {\r\n                if (this._checkedItemsForFiltering.length == 0 || !this._checkedItemsForFiltering.map(k => k[options.dataSourceFieldId!]).includes(checkedItem[options.dataSourceFieldId!]))\r\n                    this._checkedItemsForFiltering.push(checkedItem);\r\n            }\r\n        }\r\n\r\n        if (checkedItems.length == checkboxList.length)\r\n        {\r\n            headerCheckbox.removeClass(\"indeterminateVrCheckbox\");\r\n            headerCheckbox.attr(\"checked\", \"checked\");\r\n\r\n            if (headerCheckbox[0] != null)\r\n                headerCheckbox[0].checked = true;\r\n        }\r\n        else if (checkedItems.length == 0)\r\n            headerCheckbox.removeClass(\"indeterminateVrCheckbox\");\r\n        //#endregion\r\n\r\n        //#region Group\r\n        this.manageGroupCheckParent(checkboxToSelect);\r\n        //#endregion\r\n\r\n        //#region Event\r\n        if (options.onSelectRow != null && dataItem != null && triggerChange)\r\n        {\r\n            let rowElement = puma(checkboxToSelect).closest(\"tr\")[0] as HTMLTableRowElement;\r\n\r\n            let dataSourceIdList = this.dataSource().map(k => k[options!.dataSourceFieldId!]);\r\n            let index = dataSourceIdList.indexOf(dataItem[options!.dataSourceFieldId!]);\r\n            if (index == -1 || options!.dataSourceFieldId == null)\r\n                index = puma(rowElement).index();\r\n\r\n            let selectRowEvent = new GridSelectRowEvent();\r\n            selectRowEvent.sender = this;\r\n            selectRowEvent.rowElement = rowElement;\r\n            selectRowEvent.dataItem = dataItem;\r\n            selectRowEvent.checked = (checkboxToSelect != null) ? checkboxToSelect.checked : false;\r\n            selectRowEvent.empty = (dataItem != null && dataItem[options.dataSourceFieldId!] == null);\r\n            selectRowEvent.index = index;\r\n            selectRowEvent.shiftKey = shiftKey;\r\n            selectRowEvent.fromCheckbox = checkbox;\r\n            options.onSelectRow(selectRowEvent);\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    private manageGroupCheckParent(checkbox: HTMLElement)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.groupable! && options.groupBy != null && (options.groupBy as GridGroupBySettings).fields != null && (options.groupBy as GridGroupBySettings).fields.length > 0 && options.checkboxes != GridCheckboxModeEnum.None && checkbox != null)\r\n        {\r\n            //#region Parent group row\r\n            let parentGroupRow = checkbox.parentElement!.parentElement!;\r\n            let i = puma(parentGroupRow).index();\r\n            while (!puma(parentGroupRow).hasClass(\"grid_trGroupBy\"))\r\n            {\r\n                parentGroupRow = puma(this._divBody).find(\"tr:nth-child(\" + i + \")\")[0];\r\n                if (this.thereAreLockedColumns())\r\n                    parentGroupRow = puma(this._divBodyLocked).find(\"tr:nth-child(\" + i + \")\")[0];\r\n\r\n                i--;\r\n            }\r\n            //#endregion\r\n\r\n            //#region Checkbox management\r\n            while ((Number(puma(parentGroupRow).attr(\"level\")) == 0 && puma(parentGroupRow).hasClass(\"grid_trGroupBy\")) || (Number(puma(parentGroupRow).attr(\"level\")) > 0 || !puma(parentGroupRow).hasClass(\"grid_trGroupBy\")))\r\n            {\r\n                if (!puma(parentGroupRow).hasClass(\"grid_trGroupBy\"))\r\n                {\r\n                    parentGroupRow = puma(this._divBody).find(\"tr:nth-child(\" + i + \")\")[0];\r\n                    if (this.thereAreLockedColumns())\r\n                        parentGroupRow = puma(this._divBodyLocked).find(\"tr:nth-child(\" + i + \")\")[0];\r\n\r\n                    i--;\r\n                    continue;\r\n                }\r\n\r\n                let checkBoxParentGroup = puma(parentGroupRow).find(\"input\");\r\n\r\n                //#region Check or not \r\n                let childrenRows = this.getChildrenGroupRows(parentGroupRow, this._divBody);\r\n                if (this.thereAreLockedColumns())\r\n                    childrenRows = this.getChildrenGroupRows(parentGroupRow, this._divBodyLocked);\r\n\r\n                let numberOfCheckedChildren = this.getCheckedChildrenGroupRows(parentGroupRow, this._divBody).length;\r\n                if (this.thereAreLockedColumns())\r\n                    numberOfCheckedChildren = this.getCheckedChildrenGroupRows(parentGroupRow, this._divBodyLocked).length;\r\n\r\n                (checkBoxParentGroup[0] as HTMLInputElement).checked = false;\r\n                checkBoxParentGroup.removeClass(\"indeterminateVrCheckbox\");\r\n\r\n                if (numberOfCheckedChildren == childrenRows.children.length)\r\n                    (checkBoxParentGroup[0] as HTMLInputElement).checked = true;\r\n                else if (numberOfCheckedChildren == 0)\r\n                    (checkBoxParentGroup[0] as HTMLInputElement).checked = false;\r\n                else\r\n                    checkBoxParentGroup.addClass(\"indeterminateVrCheckbox\");\r\n                //#endregion\r\n\r\n                if (Number(puma(parentGroupRow).attr(\"level\")) == 0)\r\n                    break;\r\n\r\n                parentGroupRow = puma(this._divBody).find(\"tr:nth-child(\" + i + \")\")[0];\r\n                if (this.thereAreLockedColumns())\r\n                    parentGroupRow = puma(this._divBodyLocked).find(\"tr:nth-child(\" + i + \")\")[0];\r\n\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n\r\n    unselectRows(itemIdList: string[], property?: string, triggerChange = true)\r\n    {\r\n        //#region Other property instead of 'id'\r\n        if (property != null)\r\n        {\r\n            let options = this.getOptions();\r\n            let filteredDataSourceList: any[] = [];\r\n            itemIdList = itemIdList.vrDistinct();\r\n            for (let itemId of itemIdList)\r\n                filteredDataSourceList.vrPushRange(this.dataSource().filter(k => k[property] == itemId));\r\n\r\n            itemIdList = filteredDataSourceList.map(k => k[options.dataSourceFieldId!]);\r\n        }\r\n        //#endregion\r\n\r\n        for (let itemId of itemIdList)\r\n            this.unselectRow(itemId, triggerChange);\r\n    }\r\n\r\n    unselectRow(itemId: string, triggerChange = true)\r\n    {\r\n        let options = this.getOptions();\r\n        let checkboxList: HTMLInputElement[] = Array.from<HTMLInputElement>(puma(this._divBody).find(\".vr-checkbox-column\") as any);\r\n        if (this.thereAreLockedColumns())\r\n            checkboxList = Array.from<HTMLInputElement>(puma(this._divBodyLocked).find(\".vr-checkbox-column\") as any);\r\n\r\n        let headerCheckbox = puma(\"#\" + puma(this.element()).attr(\"id\") + \"header_CheckboxColumn\");\r\n        headerCheckbox.removeAttr(\"checked\");\r\n        if (headerCheckbox[0] != null)\r\n            headerCheckbox[0].checked = false;\r\n\r\n        let checkedItems = this.getCheckedItems();\r\n        if (this._checkedItemsForFiltering != null)\r\n        {\r\n            for (let checkedItem of checkedItems)\r\n                this._checkedItemsForFiltering.vrDeleteItem(checkedItem, options.dataSourceFieldId!);\r\n        }\r\n\r\n        if (checkedItems.length == 0)\r\n            headerCheckbox.removeClass(\"indeterminateVrCheckbox\");\r\n        else\r\n            headerCheckbox.addClass(\"indeterminateVrCheckbox\");\r\n\r\n        let dataItem = null;\r\n        let checkboxToSelect = checkboxList.filter(k => puma(k as any).attr(\"dataItemId\") == itemId)[0];\r\n        if (checkboxToSelect != null)\r\n        {\r\n            if (checkboxToSelect.checked)\r\n            {\r\n                puma(checkboxToSelect).removeAttr(\"checked\");\r\n                checkboxToSelect.checked = false;\r\n            }\r\n            dataItem = this.dataSource().filter(k => k[options.dataSourceFieldId!] == itemId)[0];\r\n        }\r\n\r\n        //#region Event\r\n        if (options.onUnselectRow != null && triggerChange)\r\n        {\r\n            let unselectRowEvent = new GridUnselectRowEvent();\r\n            unselectRowEvent.sender = this;\r\n            unselectRowEvent.rowElement = checkboxToSelect.closest(\"tr\") as HTMLTableRowElement;\r\n            unselectRowEvent.dataItem = dataItem;\r\n            options.onUnselectRow(unselectRowEvent);\r\n        }\r\n        //#endregion\r\n    }\r\n    //#endregion\r\n\r\n    //#region Sorting\r\n    private applySorting(rebind = true)\r\n    {\r\n        if (this._actualSortingInfo != null)\r\n            this.sort(this._actualSortingInfo.field, this._actualSortingInfo.mode, rebind);\r\n    }\r\n\r\n    removeSort(updateDataSource = true)\r\n    {\r\n        if (this._actualSortingInfo != null)\r\n        {\r\n            let options = this.getOptions();\r\n            let field = this._actualSortingInfo.field;\r\n            let thJq = puma(this._divHeader).find(\"th[value='\" + field + \"']\");\r\n            if (options.lockable && thJq[0] == null)\r\n                thJq = puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\");\r\n\r\n            if (thJq[0] != null)\r\n            {\r\n                thJq[0].style.cssText += \"background-color: #e3f1fa !important; color: #000 !important;\";\r\n\r\n                if (thJq.find(\".grid_headerThContent\")[0] != null)\r\n                    thJq.find(\".grid_headerThContent\")[0].style.cssText += \"color: #000 !important;\";\r\n            }\r\n\r\n            thJq.find(\"i\").removeClass(IconClassicLight.CaretUp);\r\n            thJq.find(\"i\").removeClass(IconClassicLight.CaretDown);\r\n            thJq.removeAttr(\"sortMode\");\r\n            this._actualSortingInfo = null;\r\n\r\n            if (updateDataSource)\r\n            {\r\n                if (options.serverBinding !== false)\r\n                    this.rebind();\r\n                else\r\n                    this.update();\r\n            }\r\n        }\r\n    }\r\n\r\n    sort(field: string, gridSortModeEnum?: GridSortDirectionEnum, rebind = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.sortable === false)\r\n            return;\r\n\r\n        if (this._actualSortingInfo != null && this._actualSortingInfo.field !== field)\r\n            this.removeSort(false);\r\n\r\n        let thJq = puma(this._divHeader).find(\"th[value='\" + field + \"']\");\r\n        if (options.lockable && thJq[0] == null)\r\n            thJq = puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\");\r\n\r\n        if (thJq[0] != null)\r\n        {\r\n            thJq[0].style.cssText += \"background-color: coral !important; color: #FFF !important;\";\r\n\r\n            if (thJq.find(\".grid_headerThContent\")[0] != null)\r\n                thJq.find(\".grid_headerThContent\")[0].style.cssText += \"color: #FFF !important;\";\r\n        }\r\n\r\n        //#region Sort mode\r\n        if (gridSortModeEnum == null) gridSortModeEnum = GridSortDirectionEnum.Asc;\r\n        this._actualSortingInfo = { field: field, mode: gridSortModeEnum };\r\n        if (gridSortModeEnum == GridSortDirectionEnum.Asc)\r\n        {\r\n            thJq.find(\"i\").removeClass(IconClassicLight.CaretDown);\r\n            thJq.find(\"i\").removeClass(IconClassicLight.CaretUp);\r\n\r\n            thJq.find(\"i\").addClass(IconClassicLight.CaretUp);\r\n            thJq.attr(\"sortMode\", GridSortDirectionEnum.Asc);\r\n        }\r\n        else\r\n        {\r\n            thJq.find(\"i\").removeClass(IconClassicLight.CaretDown);\r\n            thJq.find(\"i\").removeClass(IconClassicLight.CaretUp);\r\n\r\n            thJq.find(\"i\").addClass(IconClassicLight.CaretDown);\r\n            thJq.attr(\"sortMode\", GridSortDirectionEnum.Desc);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Server binding\r\n        if (options.serverBinding !== false && rebind)\r\n        {\r\n            this.rebind();\r\n            return;\r\n        }\r\n        //#endregion\r\n\r\n        if (this.dataSource().length > 2500)\r\n            showLoader();\r\n\r\n        window.setTimeout(() =>\r\n        {\r\n            this._cellButtons = new Map<string, GridControlData>();\r\n            this._cellIcons = new Map<string, GridControlData>();\r\n            this._cellCustoms = new Map<string, GridControlData>();\r\n            this._cellLabels = new Map<string, GridControlData>();\r\n            this._cellImages = new Map<string, GridControlData>();\r\n\r\n            let items: any[] = this.dataSource().map(k => k);\r\n            if (options.groupBy != null)\r\n            {\r\n                (options.groupBy as GridGroupBySettings).internalSortBy = { field: field, direction: gridSortModeEnum };\r\n                this.sortingGroupFields(items);\r\n            }\r\n            else\r\n                items.vrSortBy([field], (gridSortModeEnum == GridSortDirectionEnum.Asc));\r\n\r\n            if (rebind)\r\n            {\r\n                this.drawTable(items);\r\n                this.manageControls();\r\n            }\r\n            hideLoader();\r\n        });\r\n    }\r\n\r\n    private sortingGroupFields(dataItems: any[])\r\n    {\r\n        let options = this.getOptions();\r\n        let sortingFields: string[] = [];\r\n\r\n        //#region Internal group sort\r\n        if ((options.groupBy as GridGroupBySettings).internalSortBy != null)\r\n        {\r\n            let internalSortByField = ((options.groupBy as GridGroupBySettings).internalSortBy as GridSortSettings).field;\r\n            if (internalSortByField != null)\r\n            {\r\n                if (((options.groupBy as GridGroupBySettings).internalSortBy! as GridSortSettings).direction == GridSortDirectionEnum.Desc)\r\n                    sortingFields.push(\"-\" + internalSortByField);\r\n                else\r\n                    sortingFields.push(internalSortByField);\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region External group sort\r\n        let sortByField = (options.groupBy as GridGroupBySettings).sortBy != null ? ((options.groupBy as GridGroupBySettings).sortBy! as GridSortSettings).field : null;\r\n        if (sortByField != null)\r\n        {\r\n            if (((options.groupBy as GridGroupBySettings).sortBy! as GridSortSettings).direction == GridSortDirectionEnum.Desc)\r\n                sortingFields.push(\"-\" + sortByField);\r\n            else\r\n                sortingFields.push(sortByField);\r\n        }\r\n        else\r\n        {\r\n            if ((options.groupBy as GridGroupBySettings).fields != null)\r\n            {\r\n                for (let groupByField of ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]))\r\n                {\r\n                    if (groupByField == null)\r\n                        continue;\r\n\r\n                    if (!sortingFields.includes((groupByField as GridGroupByItem).field))\r\n                        sortingFields.push((groupByField as GridGroupByItem).field);\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        dataItems.vrSortBy(sortingFields);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Column\r\n    column(field: string)\r\n    {\r\n        let options = this.getOptions();\r\n        let column = options.columns!.filter(k => k.field == field)[0];\r\n        let columnIndex = options.columns!.indexOf(column);\r\n        return options.columns![columnIndex];\r\n    }\r\n\r\n    columnTitle(field: string, title?: string)\r\n    {\r\n        let column = this.column(field);\r\n        if (column != null)\r\n        {\r\n            if (title != null)\r\n            {\r\n                column.title = title;\r\n                puma(this._divHeader).find(\"th[value='\" + field + \"']\").find(\"span.grid_headerThContent\").html(title);\r\n\r\n                let options = this.getOptions();\r\n                if (options.lockable)\r\n                    puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\").find(\"span.grid_headerThContent\").html(title);\r\n            }\r\n            return column.title;\r\n        }\r\n        else\r\n            return \"\";\r\n    }\r\n\r\n    hideColumns(fields: string[], update = true)\r\n    {\r\n        for (let field of fields)\r\n            this.hideColumn(field, false);\r\n\r\n        if (update)\r\n            this.update();\r\n    }\r\n\r\n    hideColumn(field: string, updateDataSource = true)\r\n    {\r\n        puma(this._divHeader).find(\"th[value='\" + field + \"']\").hide();\r\n        puma(this._divFilters).find(\"td[value='\" + field + \"']\").hide();\r\n        puma(this._divBody).find(\"td[value='\" + field + \"']\").hide();\r\n        puma(this._divTotals).find(\"td[value='\" + field + \"']\").hide();\r\n\r\n        let options = this.getOptions();\r\n        if (options.lockable)\r\n        {\r\n            puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\").hide();\r\n            puma(this._divFiltersLocked).find(\"td[value='\" + field + \"']\").hide();\r\n            puma(this._divBodyLocked).find(\"td[value='\" + field + \"']\").hide();\r\n            puma(this._divTotalsLocked).find(\"td[value='\" + field + \"']\").hide();\r\n        }\r\n\r\n        let column = this.column(field);\r\n        if (column != null)\r\n        {\r\n            column.hidden = true;\r\n            this.removeFilter(field);\r\n        }\r\n\r\n        if (updateDataSource)\r\n            this.update();\r\n    }\r\n\r\n    hideCheckboxColumn(updateDataSource = false)\r\n    {\r\n        this.hideColumn(\"vrGridCheckboxColumn\", updateDataSource);\r\n    }\r\n\r\n    showColumns(fields: string[], update = true)\r\n    {\r\n        for (let field of fields)\r\n            this.showColumn(field, false);\r\n\r\n        if (update)\r\n            this.update();\r\n    }\r\n\r\n    showColumn(field: string, updateDataSource = true)\r\n    {\r\n        puma(this._divHeader).find(\"th[value='\" + field + \"']\").show();\r\n        puma(this._divFilters).find(\"td[value='\" + field + \"']\").show();\r\n        puma(this._divBody).find(\"td[value='\" + field + \"']\").show();\r\n        puma(this._divTotals).find(\"td[value='\" + field + \"']\").show();\r\n\r\n        let options = this.getOptions();\r\n        if (options.lockable)\r\n        {\r\n            puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\").show();\r\n            puma(this._divFiltersLocked).find(\"td[value='\" + field + \"']\").show();\r\n            puma(this._divBodyLocked).find(\"td[value='\" + field + \"']\").show();\r\n            puma(this._divTotalsLocked).find(\"td[value='\" + field + \"']\").show();\r\n        }\r\n\r\n        let column = this.column(field);\r\n        if (column != null)\r\n            column.hidden = false;\r\n\r\n        if (updateDataSource)\r\n            this.update();\r\n    }\r\n\r\n    showCheckboxColumn(updateDataSource = false)\r\n    {\r\n        this.showColumn(\"vrGridCheckboxColumn\", updateDataSource);\r\n    }\r\n\r\n    showOnlyThisColumns(fieldList: string[], updateDataSource = true)\r\n    {\r\n        let options = this.getOptions();\r\n        for (let column of options.columns!)\r\n            this.hideColumn(column.field, false);\r\n\r\n        for (let field of fieldList)\r\n            this.showColumn(field, false);\r\n\r\n        if (updateDataSource)\r\n            this.update();\r\n    }\r\n\r\n    columnVisible(value: string, state: boolean, updateDataSource = true)\r\n    {\r\n        if (state) this.showColumn(value, updateDataSource);\r\n        else this.hideColumn(value, updateDataSource);\r\n    }\r\n\r\n    columnCheckboxVisible(state: boolean, updateDataSource = false)\r\n    {\r\n        if (state) this.showCheckboxColumn(updateDataSource);\r\n        else this.hideCheckboxColumn(updateDataSource);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Lock/Unlock\r\n    lockColumns(fields: string[], update = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.lockable)\r\n        {\r\n            for (let field of fields)\r\n                this.lockColumn(field, false);\r\n\r\n            if (update)\r\n                this.update();\r\n        }\r\n    }\r\n\r\n    lockColumn(field: string, update = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.lockable)\r\n        {\r\n            if (this._divHeaderLocked != null) this._divHeaderLocked.style.cssText += \"display: inline-block;\";\r\n            if (this._divFiltersLocked != null) this._divFiltersLocked.style.cssText += \"display: inline-block;\";\r\n            if (this._divBodyLocked != null) this._divBodyLocked.style.cssText += \"display: inline-block;\";\r\n            if (this._divTotalsLocked != null) this._divTotalsLocked.style.cssText += \"display: inline-block;\";\r\n\r\n            if (!this.thereAreLockedColumns())\r\n            {\r\n                //#region Edit Button\r\n                let columnEditButton = this.column(\"editButton\");\r\n                if (columnEditButton != null)\r\n                {\r\n                    columnEditButton.locked = true;\r\n                    this.showColumn(\"editButton\", false);\r\n\r\n                    //#region Move column to correct index\r\n                    let columnToMoveIndex = options.columns!.indexOf(columnEditButton);\r\n                    let columnToMove = options.columns!.splice(columnToMoveIndex, 1)[0];\r\n                    options.columns!.splice(0, 0, columnToMove);\r\n                    //#endregion\r\n\r\n                    puma(this._divHeader).find(\"th[value='\" + \"editButton\" + \"']\").attr(\"locked\", \"locked\");\r\n                    puma(this._divHeader).find(\"th[value='\" + \"editButton\" + \"']\").vrAppendToPuma(puma(this._divHeaderLocked).find(\"tr\"));\r\n                    puma(this._divFilters).find(\"td[value='\" + \"editButton\" + \"']\").vrAppendToPuma(puma(this._divFiltersLocked).find(\"tr\"));\r\n                    puma(this._divTotals).find(\"td[value='\" + \"editButton\" + \"']\").vrAppendToPuma(puma(this._divTotalsLocked).find(\"tr\"));\r\n                }\r\n                //#endregion\r\n\r\n                //#region Checkboxes\r\n                if (options.checkboxes !== false)\r\n                {\r\n                    let firstColumnField = options.columns![0].field;\r\n                    puma(this._divHeader).find(\"th[value='\" + \"vrGridCheckboxColumn\" + \"']\").vrInsertBeforePuma(puma(this._divHeaderLocked).find(\"tr th[value='\" + firstColumnField + \"']\"));\r\n                    puma(this._divFilters).find(\"td[value='\" + \"vrGridCheckboxColumn\" + \"']\").vrInsertBeforePuma(puma(this._divFiltersLocked).find(\"tr td[value='\" + firstColumnField + \"']\"));\r\n                    puma(this._divTotals).find(\"td[value='\" + \"vrGridCheckboxColumn\" + \"']\").vrInsertBeforePuma(puma(this._divTotalsLocked).find(\"tr td[value='\" + firstColumnField + \"']\"));\r\n                }\r\n                //#endregion\r\n            }\r\n\r\n            puma(this._divHeader).find(\"th[value='\" + field + \"']\").vrAppendToPuma(puma(this._divHeaderLocked).find(\"tr\"));\r\n            puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\").attr(\"locked\", \"locked\");\r\n            puma(this._divFilters).find(\"td[value='\" + field + \"']\").vrAppendToPuma(puma(this._divFiltersLocked).find(\"tr\"));\r\n            puma(this._divTotals).find(\"td[value='\" + field + \"']\").vrAppendToPuma(puma(this._divTotalsLocked).find(\"tr\"));\r\n\r\n            let column = this.column(field);\r\n            if (column != null)\r\n            {\r\n                column.locked = true;\r\n                this.showColumn(field, false);\r\n\r\n                //#region Move column to correct index\r\n                let columnToMoveIndex = options.columns!.indexOf(column);\r\n                let columnToMove = options.columns!.splice(columnToMoveIndex, 1)[0];\r\n                let lastLockedColumn = options.columns!.filter(k => k.locked == true).vrLast();\r\n                let lastLockedColumnIndex = (lastLockedColumn == null) ? 0 : options.columns!.lastIndexOf(lastLockedColumn);\r\n                options.columns!.splice((lastLockedColumn == null) ? 0 : (lastLockedColumnIndex + 1), 0, columnToMove);\r\n                //#endregion    \r\n            }\r\n\r\n            if (update)\r\n                this.update();\r\n        }\r\n    }\r\n\r\n    unlockColumns(fields: string[], update = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.lockable)\r\n        {\r\n            for (let field of fields)\r\n                this.unlockColumn(field, false);\r\n\r\n            if (update)\r\n                this.update();\r\n        }\r\n    }\r\n\r\n    unlockColumn(field: string, update = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.lockable)\r\n        {\r\n            puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\").removeAttr(\"locked\");\r\n            puma(this._divHeaderLocked).find(\"th[value='\" + field + \"']\").vrAppendToPuma(puma(this._divHeader).find(\"tr\"));\r\n            puma(this._divFiltersLocked).find(\"td[value='\" + field + \"']\").vrAppendToPuma(puma(this._divFilters).find(\"tr\"));\r\n            puma(this._divTotalsLocked).find(\"td[value='\" + field + \"']\").vrAppendToPuma(puma(this._divTotals).find(\"tr\"));\r\n\r\n            let column = this.column(field);\r\n            if (column != null)\r\n            {\r\n                column.locked = false;\r\n\r\n                //#region Move column to correct index\r\n                let columnToMoveIndex = options.columns!.indexOf(column);\r\n                let columnToMove = options.columns!.splice(columnToMoveIndex, 1)[0];\r\n                options.columns!.splice(options.columns!.length, 0, columnToMove);\r\n                //#endregion\r\n            }\r\n\r\n            if (!this.thereAreLockedColumns())\r\n            {\r\n                if (this._divHeaderLocked != null) this._divHeaderLocked.style.cssText += \"display: none;\";\r\n                if (this._divFiltersLocked != null) this._divFiltersLocked.style.cssText += \"display: none;\";\r\n                if (this._divBodyLocked != null) this._divBodyLocked.style.cssText += \"display: none;\";\r\n                if (this._divTotalsLocked != null) this._divTotalsLocked.style.cssText += \"display: none;\";\r\n\r\n                //#region Edit Button\r\n                let columnEditButton = this.column(\"editButton\");\r\n                if (columnEditButton != null)\r\n                {\r\n                    columnEditButton.locked = false;\r\n\r\n                    //#region Move column to correct index\r\n                    let columnToMoveIndex = options.columns!.indexOf(columnEditButton);\r\n                    let columnToMove = options.columns!.splice(columnToMoveIndex, 1)[0];\r\n                    options.columns!.splice(0, 0, columnToMove);\r\n                    //#endregion\r\n\r\n                    let fieldAfterEditButton = options.columns![1].field;\r\n                    puma(this._divHeaderLocked).find(\"th[value='\" + \"editButton\" + \"']\").removeAttr(\"locked\");\r\n                    puma(this._divHeaderLocked).find(\"th[value='\" + \"editButton\" + \"']\").vrInsertBeforePuma(puma(this._divHeader).find(\"tr th[value='\" + fieldAfterEditButton + \"']\"));\r\n                    puma(this._divFiltersLocked).find(\"td[value='\" + \"editButton\" + \"']\").vrInsertBeforePuma(puma(this._divFilters).find(\"tr td[value='\" + fieldAfterEditButton + \"']\"));\r\n                    puma(this._divTotalsLocked).find(\"td[value='\" + \"editButton\" + \"']\").vrInsertBeforePuma(puma(this._divTotals).find(\"tr td[value='\" + fieldAfterEditButton + \"']\"));\r\n                }\r\n                //#endregion\r\n\r\n                //#region Checkboxes\r\n                if (options.checkboxes !== false)\r\n                {\r\n                    let firstColumnField = options.columns![0].field;\r\n                    puma(this._divHeaderLocked).find(\"th[value='\" + \"vrGridCheckboxColumn\" + \"']\").vrInsertBeforePuma(puma(this._divHeader).find(\"tr th[value='\" + firstColumnField + \"']\"));\r\n                    puma(this._divFiltersLocked).find(\"td[value='\" + \"vrGridCheckboxColumn\" + \"']\").vrInsertBeforePuma(puma(this._divFilters).find(\"tr td[value='\" + firstColumnField + \"']\"));\r\n                    puma(this._divTotalsLocked).find(\"td[value='\" + \"vrGridCheckboxColumn\" + \"']\").vrInsertBeforePuma(puma(this._divTotals).find(\"tr td[value='\" + firstColumnField + \"']\"));\r\n                }\r\n                //#endregion\r\n            }\r\n\r\n            if (update)\r\n                this.update();\r\n        }\r\n    }\r\n\r\n    lockedColumns()\r\n    {\r\n        let options = this.getOptions();\r\n        return options.columns!.filter(k => k.locked && k.field != \"editButton\");\r\n    }\r\n\r\n    thereAreLockedColumns()\r\n    {\r\n        let options = this.getOptions();\r\n        return options.lockable && options.columns!.filter(k => k.field != \"editButton\").vrAny(k => k.locked);\r\n    }\r\n    //#endregion\r\n\r\n    //#region GroupBy\r\n    removeGroup(field: string, updateDataSource = true)\r\n    {\r\n        this.removeGroups([field], updateDataSource);\r\n    }\r\n\r\n    removeGroups(fields: string[], updateDataSource = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.groupable! && options.groupBy != null)\r\n        {\r\n            for (let field of fields)\r\n            {\r\n                if (((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes(field))\r\n                    ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).vrDeleteAllBy(k => (k as GridGroupByItem).field == field);\r\n\r\n                puma(\"#\" + this._elementId + \"_divContainer\").find(\".groupBy\" + field).hide();\r\n            }\r\n\r\n            if ((options.groupBy as GridGroupBySettings).fields == null || ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).length == 0)\r\n                options.groupBy = null;\r\n\r\n            if (updateDataSource)\r\n                this.update();\r\n        }\r\n    }\r\n\r\n    removeAllGroups(updateDataSource = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.groupable! && options.groupBy != null)\r\n            this.removeGroups(((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field), false);\r\n\r\n        options.groupBy = null;\r\n        if (updateDataSource)\r\n            this.update();\r\n    }\r\n\r\n    addGroup(field: string | GridGroupByItem, updateDataSource = true, sortBySettings?: GridSortSettings, internalSortBy?: GridSortSettings)\r\n    {\r\n        this.addGroups([field], updateDataSource, sortBySettings, internalSortBy);\r\n    }\r\n\r\n    addGroups(fields: (string | GridGroupByItem)[], updateDataSource = true, sortBy?: GridSortSettings, internalSortBy?: GridSortSettings)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.groupBy == null)\r\n            options.groupBy = new GridGroupBySettings();\r\n        else\r\n        {\r\n            if (options.groupBy != null && (options.groupBy as GridGroupBySettings).fields != null && (options.groupBy as GridGroupBySettings).fields.length > 0)\r\n            {\r\n                // If grid is grouped, then remove all groups and re-added all\r\n                let allFields: any[] = UtilityManager.duplicate((options.groupBy as GridGroupBySettings).fields);\r\n                for (let field of fields)\r\n                {\r\n                    let realField = \"\";\r\n                    if (typeof (field) == \"string\")\r\n                        realField = field;\r\n                    else\r\n                        realField = field.field;\r\n\r\n                    if (!allFields.map(k => k.field).includes(realField))\r\n                        allFields.push(field);\r\n                }\r\n\r\n                this.removeAllGroups(false);\r\n                this.addGroups(allFields, updateDataSource, sortBy, internalSortBy);\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (!options.groupable)\r\n            throw new Error(\"Griglia non raggruppabile! Mettere opzione .groupable: true\");\r\n\r\n        if (sortBy != null)\r\n            (options.groupBy as GridGroupBySettings).sortBy = sortBy;\r\n\r\n        if (internalSortBy != null)\r\n            (options.groupBy as GridGroupBySettings).internalSortBy = internalSortBy;\r\n\r\n        for (let field of fields)\r\n        {\r\n            let groupByItem = field;\r\n            if (typeof (field) == \"string\")\r\n            {\r\n                groupByItem = new GridGroupByItem();\r\n                groupByItem.field = field;\r\n            }\r\n\r\n            if ((options.groupBy as GridGroupBySettings).fields == null) (options.groupBy as GridGroupBySettings).fields = [];\r\n            if (!((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes((groupByItem as GridGroupByItem).field))\r\n                ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).push(groupByItem as GridGroupByItem);\r\n\r\n            let groupByField = field;\r\n            if (typeof (field) != \"string\")\r\n                groupByField = field.field;\r\n\r\n            puma(\"#\" + this._elementId + \"_divContainer\").find(\".groupBy\" + groupByField).show();\r\n\r\n            let headerClasses = Array.from(puma(this._divHeader).find(\">table tr:first-child th\")).map(k => (k as any).classList[0]);\r\n            if (!headerClasses.includes(\"groupBy\" + (groupByItem as GridGroupByItem).field))\r\n                puma(this._divHeader).find(\">table tr:first-child\").vrPrependPuma(\"<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1;' class='groupBy\" + (groupByItem as GridGroupByItem).field + \"' value='\" + (groupByItem as GridGroupByItem).field + \"'></th>\");\r\n\r\n            let filterClasses = Array.from(puma(this._divFilters).find(\">table tr:first-child td\")).map(k => (k as any).classList[0]);\r\n            if (!filterClasses.includes(\"groupBy\" + (groupByItem as GridGroupByItem).field))\r\n                puma(this._divFilters).find(\">table tr:first-child\").vrPrependPuma(\"<td width=16 style='border: 1px solid rgb(221, 221, 221);' class='groupBy\" + (groupByItem as GridGroupByItem).field + \"'></td>\");\r\n\r\n            if (options.lockable)\r\n            {\r\n                let headerLockedClasses = Array.from(puma(this._divHeaderLocked).find(\">table tr:first-child th\")).map(k => (k as any).classList[0]);\r\n                if (!headerLockedClasses.includes(\"groupBy\" + (groupByItem as GridGroupByItem).field))\r\n                    puma(this._divHeaderLocked).find(\">table tr:first-child\").vrPrependPuma(\"<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1;' class='groupBy\" + (groupByItem as GridGroupByItem).field + \"' value='\" + (groupByItem as GridGroupByItem).field + \"'></th>\");\r\n\r\n                let filterLockedClasses = Array.from(puma(this._divFiltersLocked).find(\">table tr:first-child td\")).map(k => (k as any).classList[0]);\r\n                if (!filterLockedClasses.includes(\"groupBy\" + (groupByItem as GridGroupByItem).field))\r\n                    puma(this._divFiltersLocked).find(\">table tr:first-child\").vrPrependPuma(\"<td width=16 style='border: 1px solid rgb(221, 221, 221);' class='groupBy\" + (groupByItem as GridGroupByItem).field + \"'></td>\");\r\n            }\r\n\r\n            let columnFields = options.columns!.map(k => k.field);\r\n            if (!columnFields.includes((groupByItem as GridGroupByItem).field))\r\n                options.columns!.push({ field: (groupByItem as GridGroupByItem).field, hidden: true });\r\n        }\r\n\r\n        this.sortingGroupFields(this.dataSource());\r\n\r\n        if (updateDataSource)\r\n            this.update();\r\n    }\r\n\r\n    private getChildrenGroupRows(tr: HTMLElement, divBody: HTMLElement)\r\n    {\r\n        let childrenGroupRows: GridChildrenGroupRows = new GridChildrenGroupRows();\r\n        let childrenList: HTMLElement[] = [];\r\n\r\n        //#region Group level\r\n        let level = Number(puma(tr).attr(\"level\"));\r\n        let i = puma(tr).index() + 2;\r\n        let childrenRow = puma(divBody).find(\"tr:nth-child(\" + i + \")\");\r\n        let childrenLevel = Number(puma(divBody).find(\"tr:nth-child(\" + i + \")\").attr(\"level\"));\r\n        childrenList.push(childrenRow[0]);\r\n        //#endregion\r\n\r\n        //#region Get children\r\n        while ((level == 0 && childrenLevel != level) || (level != childrenLevel && !childrenRow.hasClass(\"grid_trGroupBy\")))\r\n        {\r\n            if (childrenRow.length == 0)\r\n                break;\r\n\r\n            if (!childrenList.map(k => puma(k).attr(\"id\")).includes(childrenRow.attr(\"id\")) || childrenRow.hasClass(\"grid_trGroupBy\"))\r\n                childrenList.push(childrenRow[0]);\r\n\r\n            i++;\r\n            childrenRow = puma(divBody).find(\"tr:nth-child(\" + i + \")\");\r\n            childrenLevel = Number(puma(divBody).find(\"tr:nth-child(\" + i + \")\").attr(\"level\"));\r\n        }\r\n        //#endregion\r\n\r\n        childrenList = childrenList.filter(k => !puma(k).hasClass(\"p-grid-totalsGroup\"));\r\n        childrenGroupRows.children = childrenList.filter(k => !puma(k).hasClass(\"grid_trGroupBy\"));\r\n        childrenGroupRows.groupRows = childrenList.filter(k => puma(k).hasClass(\"grid_trGroupBy\"));\r\n        childrenGroupRows.allRows = childrenList;\r\n        return childrenGroupRows;\r\n    }\r\n\r\n    private getCheckedChildrenGroupRows(tr: HTMLElement, divBody: HTMLElement)\r\n    {\r\n        let checkedChildren = [];\r\n        let childrenRows = this.getChildrenGroupRows(tr, divBody);\r\n        for (let childRow of childrenRows.children)\r\n        {\r\n            let checkBox = puma(childRow).find(\".vr-checkbox-column\")[0] as HTMLInputElement;\r\n            if (checkBox != null && checkBox.checked)\r\n                checkedChildren.push(childRow);\r\n        }\r\n        return checkedChildren;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Table actions (Show/Hide & GroupBy)\r\n    private createWindowActions()\r\n    {\r\n        if (this._wndActions != null)\r\n            return;\r\n\r\n        this._wndActions = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                width: 530,\r\n                height: 400,\r\n                closeable: false,\r\n                title: \"Mostra/Nascondi colonne\",\r\n                classContainer: this.element().id + \"_wndUtility\",\r\n                onClose: (e) =>\r\n                {\r\n                    puma(this._wndActions.container()).remove();\r\n                    (this._wndActions as any) = null;\r\n                },\r\n                footer:\r\n                    [\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Custom, text: \"Reimposta\", mode: ButtonModeEnum.Primary,\r\n                            value: \"restoreOriginal\", icon: IconClassicLight.RotateLeft, align: WindowFooterItemAlignEnum.Left,\r\n                            onClick: (e) =>\r\n                            {\r\n                                let wndTableActionsContainer = puma(\"#\" + this._elementId + \"_divWindowTableActionsContainer\");\r\n                                for (let checkBoxElement of Array.from<HTMLInputElement>(wndTableActionsContainer.find(\"input\")))\r\n                                {\r\n                                    let checkBox = ControlManager.get<CheckBox>(checkBoxElement.id);\r\n                                    let field = puma(checkBoxElement).attr(\"field\");\r\n\r\n                                    let newValue = !this._originalHiddenColumnFields.includes(field);\r\n                                    if (checkBox.checked() != newValue)\r\n                                        checkBox.checked(newValue);\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Custom, text: \"Seleziona tutti\", mode: ButtonModeEnum.Primary,\r\n                            value: \"checkAll\", icon: IconClassicLight.Check, align: WindowFooterItemAlignEnum.Left,\r\n                            onClick: (e) =>\r\n                            {\r\n                                let wndTableActionsContainer = puma(\"#\" + this._elementId + \"_divWindowTableActionsContainer\");\r\n                                for (let checkBoxElement of Array.from<HTMLInputElement>(wndTableActionsContainer.find(\"input\")))\r\n                                {\r\n                                    let checkBox = ControlManager.get<CheckBox>(checkBoxElement.id);\r\n                                    if (!checkBox.checked())\r\n                                        checkBox.checked(true, true);\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Custom, text: \"Deseleziona tutti\", icon: IconClassicLight.Check,\r\n                            align: WindowFooterItemAlignEnum.Left,\r\n                            onClick: (e) =>\r\n                            {\r\n                                let wndTableActionsContainer = puma(\"#\" + this._elementId + \"_divWindowTableActionsContainer\");\r\n                                for (let checkBoxElement of Array.from<HTMLInputElement>(wndTableActionsContainer.find(\"input\")))\r\n                                {\r\n                                    let checkBox = ControlManager.get<CheckBox>(checkBoxElement.id);\r\n                                    if (checkBox.checked())\r\n                                        checkBox.checked(false, true);\r\n                                }\r\n                            }\r\n                        },\r\n                        { type: WindowFooterItemTypeEnum.Close, align: WindowFooterItemAlignEnum.Right },\r\n                        { type: WindowFooterItemTypeEnum.Ok, value: \"ok\", text: \"Applica\", align: WindowFooterItemAlignEnum.Right }\r\n                    ]\r\n            });\r\n        puma(this._wndActions.element()).vrAppendPuma(\"<div id='\" + this._elementId + \"_divWindowTableActionsContainer'  class='vrContainer'></div>\");\r\n    }\r\n\r\n    private openWindowActions(gridActionEnum: GridActionEnum)\r\n    {\r\n        this.createWindowActions();\r\n\r\n        let groupFieldAddedList: string[] = [];\r\n        let groupFieldRemovedList: string[] = [];\r\n        let columnFieldToShowList: string[] = [];\r\n        let columnFieldToHideList: string[] = [];\r\n        let columnFieldToLockList: string[] = [];\r\n        let columnFieldToUnlockList: string[] = [];\r\n        let editTableActions = false;\r\n\r\n        let options = this.getOptions();\r\n        this._wndActions.open([\r\n            {\r\n                value: \"ok\", callback: () =>\r\n                {\r\n                    if (!editTableActions)\r\n                        return;\r\n\r\n                    if (this.dataSource().length > 1000)\r\n                        showLoader();\r\n\r\n                    this._wndActions.close();\r\n                    window.setTimeout(() =>\r\n                    {\r\n                        if (gridActionEnum == GridActionEnum.GroupBy && (groupFieldRemovedList.length > 0 || groupFieldAddedList.length > 0))\r\n                        {\r\n                            //#region Manage groups\r\n                            this.removeGroups(groupFieldRemovedList, false);\r\n                            this.addGroups(groupFieldAddedList, false);\r\n                            this.update();\r\n                            //#endregion\r\n                        }\r\n                        else if (gridActionEnum == GridActionEnum.ShowHide && (columnFieldToShowList.length > 0 || columnFieldToHideList.length > 0))\r\n                        {\r\n                            //#region Show/Hide\r\n                            this.showColumns(columnFieldToShowList, false);\r\n                            this.hideColumns(columnFieldToHideList, false);\r\n                            this.removeFilters(columnFieldToHideList, false);\r\n\r\n                            if (columnFieldToHideList.length > 0)\r\n                                this.applyFilters(true);\r\n                            else\r\n                                this.update();\r\n                            //#endregion\r\n                        }\r\n                        else if (gridActionEnum == GridActionEnum.LockUnlock && (columnFieldToLockList.length > 0 || columnFieldToUnlockList.length > 0))\r\n                        {\r\n                            //#region Lock/Unlock\r\n                            if (columnFieldToLockList.length > 0 || (this.lockedColumns().length - columnFieldToUnlockList.length > 0))\r\n                            {\r\n                                this.lockColumns(columnFieldToLockList, false);\r\n                                this.unlockColumns(columnFieldToUnlockList, false);\r\n                                this.update();\r\n                            }\r\n                            else\r\n                            {\r\n                                confirm(\"Vuoi ripristinare il layout di base?\").then(() =>\r\n                                {\r\n                                    this.lockColumns(columnFieldToLockList, false);\r\n                                    this.unlockColumns(columnFieldToUnlockList, false);\r\n\r\n                                    this._actualLayout = null;\r\n                                    this.changeLayout(true, this._originalOptionsForLayout);\r\n                                },\r\n                                    () => \r\n                                    {\r\n                                        this.lockColumns(columnFieldToLockList, false);\r\n                                        this.unlockColumns(columnFieldToUnlockList, false);\r\n                                        this.update()\r\n                                    });\r\n                            }\r\n                            //#endregion\r\n                        }\r\n\r\n                        hideLoader();\r\n                    }, 100)\r\n                }\r\n            }]);\r\n        this.clearWindowActions();\r\n\r\n        let divContainer = puma(\"#\" + this._elementId + \"_divWindowTableActionsContainer\")[0];\r\n        divContainer.style.cssText += \"overflow-y: auto;\";\r\n\r\n        if (gridActionEnum == GridActionEnum.ShowHide)\r\n            this._wndActions.title(\"Mostra o nascondi colonne\");\r\n        else if (gridActionEnum == GridActionEnum.GroupBy)\r\n            this._wndActions.title(\"Raggruppa per colonne\");\r\n        else if (gridActionEnum == GridActionEnum.LockUnlock)\r\n            this._wndActions.title(\"Blocca o sblocca colonne\");\r\n\r\n        //#region Write columns\r\n        for (let column of options.columns!)\r\n        {\r\n            if (column.type == GridColumnTypeEnum.EditButton || column.title === \"\" || column.title == null)\r\n                continue;\r\n\r\n            if ((gridActionEnum == GridActionEnum.ShowHide && column.hideable === false)\r\n                || (gridActionEnum == GridActionEnum.GroupBy && column.groupable === false)\r\n                || (gridActionEnum == GridActionEnum.LockUnlock && column.lockable === false))\r\n                continue;\r\n\r\n            let div = puma(\"<div id='\" + this._elementId + \"_divActionColumn\" + column.field + \"' field='\" + column.field + \"' class='grid_divActionColumn'></div>\").vrAppendToPuma(divContainer);\r\n\r\n            //#region CheckBox\r\n            let checked = false;\r\n            if (gridActionEnum == GridActionEnum.ShowHide)\r\n            {\r\n                checked = (column.hidden !== true);\r\n                this._wndActions.footerItem(\"restoreOriginal\")!.show();\r\n            }\r\n            else if (gridActionEnum == GridActionEnum.GroupBy)\r\n            {\r\n                checked = (options.groupable! && options.groupBy != null && (options.groupBy as GridGroupBySettings).fields != null) ? (((options.groupBy! as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes(column.field)) : false;\r\n                this._wndActions.footerItem(\"restoreOriginal\")!.hide();\r\n            }\r\n            else if (gridActionEnum == GridActionEnum.LockUnlock)\r\n            {\r\n                checked = (column.locked === true);\r\n                this._wndActions.footerItem(\"restoreOriginal\")!.hide();\r\n                this._wndActions.footerItem(\"checkAll\")!.hide();\r\n            }\r\n\r\n            let checkBoxElement = puma(\"<input id='\" + this._elementId + \"_chkActionColumn\" + column.field + \"' field='\" + column.field + \"' />\").vrAppendToPuma(div);\r\n            createCheckBox(\r\n                {\r\n                    checked: checked,\r\n                    text: column.title,\r\n                    cssContainer: \"width: 100%\",\r\n                    onCheck: (e) =>\r\n                    {\r\n                        editTableActions = true;\r\n                        let field = puma(e.sender.element()).attr(\"field\");\r\n\r\n                        if (gridActionEnum == GridActionEnum.ShowHide)\r\n                        {\r\n                            //#region Show/Hide\r\n                            if (e.checked && !columnFieldToShowList.includes(field))\r\n                            {\r\n                                columnFieldToShowList.push(field);\r\n                                if (columnFieldToHideList.includes(field))\r\n                                    columnFieldToHideList.vrDelete(field);\r\n                            }\r\n                            else if (!e.checked && !columnFieldToHideList.includes(field))\r\n                            {\r\n                                columnFieldToHideList.push(field);\r\n                                if (columnFieldToShowList.includes(field))\r\n                                    columnFieldToShowList.vrDelete(field);\r\n                            }\r\n                            //#endregion\r\n                        }\r\n                        else if (gridActionEnum == GridActionEnum.GroupBy)\r\n                        {\r\n                            //#region Manage groups\r\n                            if (e.checked && !groupFieldAddedList.includes(field)) // Add\r\n                            {\r\n                                groupFieldAddedList.push(field);\r\n                                if (groupFieldRemovedList.includes(field))\r\n                                    groupFieldRemovedList.vrDelete(field);\r\n                            }\r\n                            else if (!e.checked && !groupFieldRemovedList.includes(field)) // Remove\r\n                            {\r\n                                groupFieldRemovedList.push(field);\r\n                                if (groupFieldAddedList.includes(field))\r\n                                    groupFieldAddedList.vrDelete(field);\r\n                            }\r\n                            //#endregion\r\n                        }\r\n                        else if (gridActionEnum == GridActionEnum.LockUnlock)\r\n                        {\r\n                            //#region Lock/Unlock\r\n                            if (e.checked && !columnFieldToLockList.includes(field))\r\n                            {\r\n                                columnFieldToLockList.push(field);\r\n                                if (columnFieldToUnlockList.includes(field))\r\n                                    columnFieldToUnlockList.vrDelete(field);\r\n                            }\r\n                            else if (!e.checked && !columnFieldToUnlockList.includes(field))\r\n                            {\r\n                                columnFieldToUnlockList.push(field);\r\n                                if (columnFieldToLockList.includes(field))\r\n                                    columnFieldToLockList.vrDelete(field);\r\n                            }\r\n                            //#endregion\r\n                        }\r\n                    }\r\n                }, null, null, this._elementId + \"_chkActionColumn\" + column.field);\r\n            //#endregion\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    private clearWindowActions()\r\n    {\r\n        puma(\"#\" + this._elementId + \"_divWindowTableActionsContainer\").empty();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Filtering\r\n    private manageFilterTextByColumn(textToSearch: string, column: GridColumn, field: string, backSpace: boolean)\r\n    {\r\n        let filteredArray: any[] = [];\r\n        if (column.type == GridColumnTypeEnum.Custom)\r\n        {\r\n            //#region Custom column\r\n            filteredArray = this._originalDataSource.filter(k => \r\n            {\r\n                let properties = (column.customFilterProperties != null && column.customFilterProperties.length > 0) ? column.customFilterProperties : Object.keys(k);\r\n                for (let value in k)\r\n                {\r\n                    if (!properties.includes(value))\r\n                        continue;\r\n\r\n                    if (String(k[value]).toLowerCase().indexOf(textToSearch) != -1)\r\n                        return true;\r\n                }\r\n                return false;\r\n            });\r\n            //#endregion\r\n        }\r\n        else\r\n            filteredArray = this.getFilteredArrayByInputText(field, textToSearch);\r\n\r\n        if (!Array.vrEquals(filteredArray, this.dataSource()) || column.filterWebService === true)\r\n        {\r\n            this._timeoutFilterText = window.setTimeout(() =>\r\n            {\r\n                this.removeFilter(column.field, false);\r\n                if (column.filterWebService === true)\r\n                {\r\n                    //#region Add filter condition\r\n                    let filterSettings = new GridFilterSettings();\r\n                    filterSettings.type = column.type!;\r\n                    filterSettings.stringFilterSettings = new GridStringFilterSettings();\r\n                    filterSettings.stringFilterSettings.filterTypeEnum = GridStringFilterTypeEnum.IncludesFromSimpleSearch;\r\n                    filterSettings.stringFilterSettings.text = textToSearch.toLowerCase();\r\n                    this.updateFilter(column.field, filterSettings, false);\r\n                    //#endregion\r\n\r\n                    this.rebind(null, true);\r\n                }\r\n                else\r\n                {\r\n                    this.pageSelected(1, false);\r\n                    this.setDataSource(filteredArray);\r\n\r\n                    if (this._dictionaryFilterConditions.size > 0)\r\n                        this.applyFilters();\r\n\r\n                    //#region Add filter condition\r\n                    let filterSettings = new GridFilterSettings();\r\n                    filterSettings.type = column.type!;\r\n                    filterSettings.stringFilterSettings = new GridStringFilterSettings();\r\n                    filterSettings.stringFilterSettings.filterTypeEnum = GridStringFilterTypeEnum.IncludesFromSimpleSearch;\r\n                    filterSettings.stringFilterSettings.text = textToSearch.toLowerCase();\r\n                    this.updateFilter(column.field, filterSettings, false);\r\n                    //#endregion\r\n                }\r\n            }, 500);\r\n        }\r\n    }\r\n\r\n    clearFilters(updateDataSource = true, rebind = false)\r\n    {\r\n        let options = this.getOptions();\r\n        this._dictionaryFilterConditions.forEach((value, key) =>\r\n        {\r\n            //#region Type\r\n            let column = options.columns!.filter(k => k.field == key)[0];\r\n            switch (column.type)\r\n            {\r\n                case GridColumnTypeEnum.Checkbox:\r\n                case GridColumnTypeEnum.Boolean:\r\n                    {\r\n                        let checkboxJq = puma(\"#\" + this._elementId + \"_CheckboxFilter_\" + column.field);\r\n                        checkboxJq.addClass(\"indeterminateVrCheckbox\");\r\n\r\n                        let checkbox = checkboxJq[0] as HTMLInputElement;\r\n                        checkbox.checked = false;\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Date:\r\n                    {\r\n                        let dateFilter = ControlManager.get<Button>(this._elementId + \"_DateFilter_\" + column.field);\r\n                        dateFilter.tooltip(\"\");\r\n                        puma(dateFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                        puma(dateFilter.element()).css(\"color\", \"#000\");\r\n\r\n                        let dateFilterRemove = ControlManager.get<Button>(this._elementId + \"_DateFilterRemove_\" + column.field);\r\n                        dateFilterRemove.hide();\r\n                        this.recalculateHeight(true);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Percentage:\r\n                case GridColumnTypeEnum.Duration:\r\n                    {\r\n                        let numberFilter = ControlManager.get<Button>(this._elementId + \"_NumberFilter_\" + column.field);\r\n                        numberFilter.tooltip(\"\");\r\n                        puma(numberFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                        puma(numberFilter.element()).css(\"color\", \"#000\");\r\n\r\n                        let numberFilterRemove = ControlManager.get<Button>(this._elementId + \"_NumberFilterRemove_\" + column.field);\r\n                        numberFilterRemove.hide();\r\n                        this.recalculateHeight(true);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.String:\r\n                case GridColumnTypeEnum.Custom:\r\n                case GridColumnTypeEnum.Label:\r\n                    {\r\n                        let textBox = ControlManager.get<TextBox>(this._elementId + \"_StringFilter_\" + column.field);\r\n                        textBox.clear();\r\n                        textBox.width(\"Calc(100% - 27px)\");\r\n\r\n                        let stringFilter = ControlManager.get<Button>(this._elementId + \"_StringFilterBtn_\" + column.field);\r\n                        stringFilter.tooltip(\"\");\r\n                        puma(stringFilter.element()).css(\"background-color\", \"#f3f3f3\");\r\n                        puma(stringFilter.element()).css(\"color\", \"#000\");\r\n\r\n                        let stringFilterRemove = ControlManager.get<Button>(this._elementId + \"_StringFilterBtnRemove_\" + column.field);\r\n                        stringFilterRemove.hide();\r\n                        this.recalculateHeight(true);\r\n                    }\r\n                    break;\r\n            }\r\n            //#endregion\r\n\r\n            this.removeFilter(key, false);\r\n        });\r\n\r\n        if (updateDataSource)\r\n            this.update();\r\n\r\n        if (rebind)\r\n            this.rebind();\r\n    }\r\n\r\n    private getFilteredArrayByInputText(field: string, value: string)\r\n    {\r\n        value = value.toLowerCase();\r\n        let filteredArray: any[] = [];\r\n\r\n        let arrayWhereSearch = this._dictionaryDataValues.get(field);\r\n        arrayWhereSearch!.forEach((k, index) => \r\n        {\r\n            if (k.indexOf(value) !== -1)\r\n                filteredArray.push(this._originalDataSource[index]);\r\n        });\r\n        return filteredArray;\r\n    }\r\n\r\n    private createWindowFiltering()\r\n    {\r\n        if (this._wndFiltering != null)\r\n            return;\r\n\r\n        this._wndFiltering = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                classContainer: this.element().id + \"_wndUtility\",\r\n                width: 430,\r\n                autoSize: WindowAutoSizeDirectionEnum.Height,\r\n                title: \"Gestisci filtro\",\r\n                onClose: (e) =>\r\n                {\r\n                    puma(this._wndFiltering.container()).remove();\r\n                    (this._wndFiltering as any) = null;\r\n                },\r\n                footer:\r\n                    [\r\n                        { type: WindowFooterItemTypeEnum.Ok, text: \"Applica\" },\r\n                        { type: WindowFooterItemTypeEnum.Close },\r\n                        { type: WindowFooterItemTypeEnum.Separator, value: \"removeFilterSeparator\" },\r\n                        { type: WindowFooterItemTypeEnum.Custom, text: \"Rimuovi filtro\", value: \"removeFilter\", cssContainer: \"margin-right: 18px;\" }\r\n                    ]\r\n            });\r\n\r\n        puma(this._wndFiltering.element()).vrAppendPuma(\"<div id='\" + this._elementId + \"_divWindowFilteringContainer' class='vrContainer'></div>\");\r\n        let divContainer = puma(\"#\" + this._elementId + \"_divWindowFilteringContainer\")[0];\r\n\r\n        puma(\"<div id='\" + this._elementId + \"_switchFilterSearch'></div>\").vrAppendToPuma(divContainer);\r\n        createSwitch({\r\n            labelOff: \"Ricerca con parametri\",\r\n            labelOn: { text: \"Ricerca puntuale\", tooltip: \"Max 100 valori\" },\r\n            cssContainer: \"margin-bottom: 5px;\",\r\n            onChange: (e) =>\r\n            {\r\n                puma(divSearchIntervals).vrVisible(!e.checked);\r\n                puma(divSearchSpecific).vrVisible(e.checked);\r\n                let lblCheckboxSelected = this._wndFiltering.footerItem<Label>(\"lblCheckboxSelectedSpecificValues\");\r\n                lblCheckboxSelected.visible(e.checked);\r\n\r\n                this._wndFiltering.center();\r\n                if (e.checked)\r\n                    txtFilterSpecificValues.focus();\r\n            }\r\n        }, null, null, this._elementId + \"_switchFilterSearch\")\r\n\r\n        //#region Search intervals\r\n        let divSearchIntervals = div(divContainer);\r\n\r\n        //#region Filter date\r\n        let divFilterDate = puma(\"<div id='\" + this._elementId + \"DivFilterDate' style='display: none;'></div>\").vrAppendToPuma(divSearchIntervals);\r\n        let dateFilterType = puma(\"<div id='\" + this._elementId + \"_ddlFilterDateType'></div>\").vrAppendToPuma(divFilterDate);\r\n\r\n        let datePickerDateFilterValueFrom: DatePicker;\r\n        let datePickerDateFilterValueTo: DatePicker;\r\n        let datePickerDateTimeFilterValueFrom: DatePicker;\r\n        let datePickerDateTimeFilterValueTo: DatePicker;\r\n        let numericTextBoxFilterValueTo: TextBox;\r\n        createComboBox(\r\n            {\r\n                mode: ComboBoxTypeEnum.DropDown,\r\n                label: \"Tipo di filtro\",\r\n                width: \"100%\",\r\n                cssContainer: \"margin-bottom: 10px;\",\r\n                items:\r\n                    [\r\n                        { text: \"Data maggiore di\", value: String(GridDateFilterTypeEnum.GreaterThan) },\r\n                        { text: \"Data minore di\", value: String(GridDateFilterTypeEnum.LessThan) },\r\n                        { text: \"Data uguale a\", value: String(GridDateFilterTypeEnum.EqualsTo) },\r\n                        { text: \"Data compresa tra\", value: String(GridDateFilterTypeEnum.Between) }\r\n                    ],\r\n                onAfterChange: (e) =>\r\n                {\r\n                    if (datePickerDateFilterValueTo == null || datePickerDateTimeFilterValueTo == null)\r\n                        return;\r\n\r\n                    if (Number(e.sender.value()) == GridDateFilterTypeEnum.Between)\r\n                    {\r\n                        if (datePickerDateFilterValueFrom.visible())\r\n                            datePickerDateFilterValueTo.show();\r\n                        else\r\n                            datePickerDateTimeFilterValueTo.show();\r\n                    }\r\n                    else\r\n                    {\r\n                        if (datePickerDateFilterValueFrom.visible())\r\n                            datePickerDateFilterValueTo.hide();\r\n                        else\r\n                            datePickerDateTimeFilterValueTo.hide();\r\n                    }\r\n                }\r\n            }, null, null, this._elementId + \"_ddlFilterDateType\");\r\n\r\n        //#region Date/Time\r\n        puma(\"<input id='\" + this._elementId + \"_dtpFilterDateFrom' />\").vrAppendToPuma(divFilterDate);\r\n        datePickerDateFilterValueFrom = createDatePicker(\r\n            {\r\n                width: 200,\r\n                cssContainer: \"margin-right: 5px;\"\r\n            }, null, null, this._elementId + \"_dtpFilterDateFrom\");\r\n\r\n        puma(\"<input id='\" + this._elementId + \"_dtpFilterDateTo' />\").vrAppendToPuma(divFilterDate);\r\n        datePickerDateFilterValueTo = createDatePicker(\r\n            {\r\n                width: 198,\r\n                label: \"e\",\r\n                labelSettings: { position: PositionEnum.Left },\r\n                visible: false\r\n            }, null, null, this._elementId + \"_dtpFilterDateTo\");\r\n        //#endregion\r\n\r\n        //#region DateTime\r\n        puma(\"<input id='\" + this._elementId + \"_dtpDateTimeFilterDateFrom' />\").vrAppendToPuma(divFilterDate);\r\n        datePickerDateTimeFilterValueFrom = createDatePicker(\r\n            {\r\n                width: 200,\r\n                cssContainer: \"margin-right: 5px;\",\r\n                visible: false,\r\n                mode: DateModeEnum.DateTime\r\n            }, null, null, this._elementId + \"_dtpDateTimeFilterDateFrom\");\r\n\r\n        puma(\"<input id='\" + this._elementId + \"_dtpDateTimeFilterDateTo' />\").vrAppendToPuma(divFilterDate);\r\n        datePickerDateTimeFilterValueTo = createDatePicker(\r\n            {\r\n                width: 198,\r\n                label: \"e\",\r\n                labelSettings: { position: PositionEnum.Left },\r\n                visible: false,\r\n                mode: DateModeEnum.DateTime\r\n            }, null, null, this._elementId + \"_dtpDateTimeFilterDateTo\");\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        //#region Filter number\r\n        let divFilterNumber = puma(\"<div id='\" + this._elementId + \"DivFilterNumber' style='display: none;'></div>\").vrAppendToPuma(divSearchIntervals);\r\n        puma(\"<div id='\" + this._elementId + \"_ddlFilterNumberType'></div>\").vrAppendToPuma(divFilterNumber);\r\n        createComboBox(\r\n            {\r\n                mode: ComboBoxTypeEnum.DropDown,\r\n                label: \"Tipo di filtro\",\r\n                width: \"100%\",\r\n                cssContainer: \"margin-bottom: 10px;\",\r\n                items:\r\n                    [\r\n                        { text: \"Numero maggiore di\", value: String(GridNumberFilterTypeEnum.GreaterThan) },\r\n                        { text: \"Numero minore di\", value: String(GridNumberFilterTypeEnum.LessThan) },\r\n                        { text: \"Numero uguale a\", value: String(GridNumberFilterTypeEnum.EqualsTo) },\r\n                        { text: \"Numero compreso tra\", value: String(GridNumberFilterTypeEnum.Between) }\r\n                    ],\r\n                onAfterChange: (e) =>\r\n                {\r\n                    if (numericTextBoxFilterValueTo == null)\r\n                        return;\r\n\r\n                    if (Number(e.sender.value()) == GridNumberFilterTypeEnum.Between)\r\n                        numericTextBoxFilterValueTo.show();\r\n                    else\r\n                        numericTextBoxFilterValueTo.hide();\r\n                }\r\n            }, null, null, this._elementId + \"_ddlFilterNumberType\");\r\n\r\n        puma(\"<input id='\" + this._elementId + \"_ntbFilterNumberFrom' />\").vrAppendToPuma(divFilterNumber);\r\n        createTextBox(\r\n            {\r\n                mode: TextModeEnum.Numeric,\r\n                cssContainer: \"margin-right: 5px;\",\r\n                decimals: 2,\r\n                validation: { minValue: 0 }\r\n            }, null, null, this._elementId + \"_ntbFilterNumberFrom\");\r\n\r\n        puma(\"<input id='\" + this._elementId + \"_ntbFilterNumberTo' />\").vrAppendToPuma(divFilterNumber);\r\n        numericTextBoxFilterValueTo = createTextBox(\r\n            {\r\n                mode: TextModeEnum.Numeric,\r\n                label: \"e\",\r\n                labelSettings: { position: PositionEnum.Left },\r\n                visible: false,\r\n                decimals: 2\r\n            }, null, null, this._elementId + \"_ntbFilterNumberTo\");\r\n        //#endregion\r\n\r\n        //#region Filter string\r\n        let divFilterString = puma(\"<div id='\" + this._elementId + \"DivFilterString' style='display: none;'></div>\").vrAppendToPuma(divSearchIntervals);\r\n        puma(\"<div id='\" + this._elementId + \"_ddlFilterStringType'></div>\").vrAppendToPuma(divFilterString);\r\n        createComboBox(\r\n            {\r\n                mode: ComboBoxTypeEnum.DropDown,\r\n                label: \"Tipo di filtro\",\r\n                width: \"100%\",\r\n                cssContainer: \"margin-bottom: 10px;\",\r\n                items:\r\n                    [\r\n                        { text: \"Inizia con\", value: String(GridStringFilterTypeEnum.StartsWith) },\r\n                        { text: \"Finisce con\", value: String(GridStringFilterTypeEnum.EndsWith) },\r\n                        { text: \"Uguale a\", value: String(GridStringFilterTypeEnum.EqualsTo) },\r\n                        { text: \"Contiene\", value: String(GridStringFilterTypeEnum.Includes) }\r\n                    ],\r\n                onAfterChange: (e) =>\r\n                {\r\n                    if (numericTextBoxFilterValueTo == null)\r\n                        return;\r\n\r\n                    if (Number(e.sender.value()) == GridNumberFilterTypeEnum.Between)\r\n                        numericTextBoxFilterValueTo.show();\r\n                    else\r\n                        numericTextBoxFilterValueTo.hide();\r\n                }\r\n            }, null, null, this._elementId + \"_ddlFilterStringType\");\r\n\r\n        puma(\"<input id='\" + this._elementId + \"_txtFilterStringValue' />\").vrAppendToPuma(divFilterString);\r\n        createTextBox(\r\n            {\r\n                width: \"100%\",\r\n            }, null, null, this._elementId + \"_txtFilterStringValue\");\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        //#region Search specific vlaues\r\n        let divSearchSpecific = div(divContainer, { css: \"display: none;\", class: \"vrGridDivSpecificValues\" });\r\n        let divFilterSpecificValues = div(divSearchSpecific);\r\n        let timeoutSearch = 0;\r\n\r\n        createCheckBox({\r\n            cssContainer: \"top: 4px;\",\r\n            onCheck: (e) =>\r\n            {\r\n                let allCheckboxes = Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\"));\r\n                for (let checkbox of allCheckboxes)\r\n                    checkbox.checked = e.checked;\r\n\r\n                puma(e.sender.element()).removeClass(\"indeterminateVrCheckbox\");\r\n                let lblCheckboxSelected = this._wndFiltering.footerItem<Label>(\"lblCheckboxSelectedSpecificValues\");\r\n                if (e.checked)\r\n                    lblCheckboxSelected.value(allCheckboxes.length + \" di \" + allCheckboxes.length + \" elementi\");\r\n                else\r\n                    lblCheckboxSelected.value(allCheckboxes.length + \" elementi\");\r\n            }\r\n        }, divFilterSpecificValues, null, this._elementId + \"_checkAllFilterSearchSpecificValues\")\r\n\r\n        let txtFilterSpecificValues = createTextBox({\r\n            width: \"Calc(100% - 27px)\",\r\n            css: \"border: solid 1px #ddd !important;\",\r\n            onKeyUp: (e) =>\r\n            {\r\n                window.clearTimeout(timeoutSearch);\r\n                timeoutSearch = window.setTimeout(() =>\r\n                {\r\n                    let checkboxToShowList = [];\r\n                    let checkboxToHideList = [];\r\n                    for (let checkbox of Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\")))\r\n                    {\r\n                        if (e.value != \"\")\r\n                        {\r\n                            let tag = String(JSON.parse(checkbox.getAttribute(\"tag\")!));\r\n                            if (tag.toLowerCase().indexOf(String(e.value!).toLowerCase()) !== -1)\r\n                                checkboxToShowList.push(checkbox.parentElement!);\r\n                            else\r\n                                checkboxToHideList.push(checkbox.parentElement!);\r\n                        }\r\n                        else\r\n                            checkboxToShowList.push(checkbox.parentElement!);\r\n                    }\r\n\r\n                    for (let checkboxToShow of checkboxToShowList) checkboxToShow.style.display = \"flex\";\r\n                    for (let checkboxToHide of checkboxToHideList) checkboxToHide.style.display = \"none\";\r\n                }, 300)\r\n            }\r\n        }, divFilterSpecificValues, null, this._elementId + \"_txtFilterSearchSpecificValues\")\r\n\r\n        let dtpFilterSpecificValues = createDatePicker({\r\n            width: \"Calc(100% - 27px)\",\r\n            css: \"border: solid 1px #ddd !important;\",\r\n            onAfterChange: (e) =>\r\n            {\r\n                let checkboxToShowList = [];\r\n                let checkboxToHideList = [];\r\n                for (let checkbox of Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\")))\r\n                {\r\n                    if (e.value != null)\r\n                    {\r\n                        let tag = new Date(JSON.parse(checkbox.getAttribute(\"tag\")!));\r\n                        if (Date.vrEquals(tag, e.value))\r\n                            checkboxToShowList.push(checkbox.parentElement!);\r\n                        else\r\n                            checkboxToHideList.push(checkbox.parentElement!);\r\n                    }\r\n                    else\r\n                        checkboxToShowList.push(checkbox.parentElement!);\r\n                }\r\n\r\n                for (let checkboxToShow of checkboxToShowList) checkboxToShow.style.display = \"flex\";\r\n                for (let checkboxToHide of checkboxToHideList) checkboxToHide.style.display = \"none\";\r\n            }\r\n        }, divFilterSpecificValues, null, this._elementId + \"_dtpFilterSearchSpecificValues\")\r\n\r\n        let divSpecificValues = div(divSearchSpecific, { id: this._elementId + \"_specificValues\", css: \"height: 300px; overflow-y: auto;\" })\r\n\r\n        this._wndFiltering.addFooterItem({\r\n            type: WindowFooterItemTypeEnum.Label,\r\n            value: \"lblCheckboxSelectedSpecificValues\",\r\n            cssContainer: \"margin-left: 10px;\"\r\n        })\r\n        //#endregion\r\n    }\r\n\r\n    private openWindowFiltering(column: GridColumn)\r\n    {\r\n        this.createWindowFiltering();\r\n\r\n        this._wndFiltering.open([\r\n            { value: \"ok\", callback: () => this.saveWindowFiltering(column) },\r\n            {\r\n                value: \"removeFilter\", callback: () =>\r\n                {\r\n                    this._wndFiltering.close();\r\n                    this.removeFilter(column.field);\r\n                    this.recalculateHeight(true);\r\n\r\n                    switch (column.type)\r\n                    {\r\n                        case GridColumnTypeEnum.DateTime:\r\n                        case GridColumnTypeEnum.Time:\r\n                        case GridColumnTypeEnum.Date:\r\n                        case GridColumnTypeEnum.LongDate:\r\n                        case GridColumnTypeEnum.LongDateTime:\r\n                        case GridColumnTypeEnum.LongWeekDate:\r\n                        case GridColumnTypeEnum.ShortWeekDate:\r\n                            {\r\n                                let filterButton = ControlManager.get<Button>(this._elementId + \"_DateFilter_\" + column.field);\r\n                                puma(filterButton.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                puma(filterButton.element()).css(\"color\", \"#000\");\r\n\r\n                                let filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_DateFilterRemove_\" + column.field);\r\n                                filterButtonRemove.hide();\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.Number:\r\n                        case GridColumnTypeEnum.Currency:\r\n                        case GridColumnTypeEnum.Duration:\r\n                        case GridColumnTypeEnum.Percentage:\r\n                            {\r\n                                let filterButton = ControlManager.get<Button>(this._elementId + \"_NumberFilter_\" + column.field);\r\n                                puma(filterButton.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                puma(filterButton.element()).css(\"color\", \"#000\");\r\n\r\n                                let filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_NumberFilterRemove_\" + column.field);\r\n                                filterButtonRemove.hide();\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.String:\r\n                        case GridColumnTypeEnum.Label:\r\n                            {\r\n                                let filterButton = ControlManager.get<Button>(this._elementId + \"_StringFilterBtn_\" + column.field);\r\n                                puma(filterButton.element()).css(\"background-color\", \"#f3f3f3\");\r\n                                puma(filterButton.element()).css(\"color\", \"#000\");\r\n\r\n                                let filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_StringFilterBtnRemove_\" + column.field);\r\n                                filterButtonRemove.hide();\r\n\r\n                                let textBox = ControlManager.get<TextBox>(this._elementId + \"_StringFilter_\" + column.field);\r\n                                textBox.width(\"Calc(100% - 27px)\");\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        ]);\r\n        this.clearWindowFiltering();\r\n        this._wndFiltering.autoSize(WindowAutoSizeDirectionEnum.Height);\r\n\r\n        if (column.title != null)\r\n            this._wndFiltering.title(\"Filtro campo: '\" + column.title + \"'\");\r\n        else\r\n            this._wndFiltering.title(\"Imposta filtro\");\r\n\r\n        let dtpFrom = ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateFrom\");\r\n        let dtpTo = ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateTo\");\r\n        let dtpDateTimeFrom = ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateFrom\");\r\n        let dtpDateTimeTo = ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateTo\");\r\n        let ntbFrom = ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberFrom\");\r\n        let ntbTo = ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberTo\");\r\n        let txtStringValue = ControlManager.get<TextBox>(this._elementId + \"_txtFilterStringValue\");\r\n        let txtFilterSearchSpecificValues = ControlManager.get<TextBox>(this._elementId + \"_txtFilterSearchSpecificValues\");\r\n        let dtpFilterSearchSpecificValues = ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterSearchSpecificValues\");\r\n\r\n        //#region Hide/Show\r\n        switch (column.type!)\r\n        {\r\n            case GridColumnTypeEnum.DateTime:\r\n            case GridColumnTypeEnum.Time:\r\n            case GridColumnTypeEnum.Date:\r\n            case GridColumnTypeEnum.LongDate:\r\n            case GridColumnTypeEnum.LongDateTime:\r\n            case GridColumnTypeEnum.LongWeekDate:\r\n            case GridColumnTypeEnum.ShortWeekDate:\r\n                {\r\n                    puma(\"#\" + this._elementId + \"DivFilterDate\").show();\r\n                    puma(\"#\" + this._elementId + \"DivFilterNumber\").hide();\r\n                    puma(\"#\" + this._elementId + \"DivFilterString\").hide();\r\n                    txtFilterSearchSpecificValues.hide();\r\n                    dtpFilterSearchSpecificValues.show();\r\n\r\n                    switch (column.type!)\r\n                    {\r\n                        case GridColumnTypeEnum.DateTime:\r\n                        case GridColumnTypeEnum.LongDateTime:\r\n                            {\r\n                                dtpFrom.hide();\r\n                                dtpTo.hide();\r\n                                dtpDateTimeFrom.show();\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.Time:\r\n                            {\r\n                                dtpFrom.show();\r\n                                dtpDateTimeFrom.hide();\r\n                                dtpDateTimeTo.hide();\r\n\r\n                                dtpFrom.mode(DateModeEnum.Time);\r\n                                dtpTo.mode(DateModeEnum.Time);\r\n\r\n                                let defaultDateMin = new Date();\r\n                                defaultDateMin.setHours(0, 0, 0, 1);\r\n                                dtpFrom.min(defaultDateMin);\r\n                                dtpTo.min(defaultDateMin);\r\n\r\n                                let defaultDateMax = new Date();\r\n                                defaultDateMax.setHours(23, 59, 59, 59);\r\n                                dtpFrom.max(defaultDateMax);\r\n                                dtpTo.max(defaultDateMax);\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.Date:\r\n                        case GridColumnTypeEnum.LongDate:\r\n                        case GridColumnTypeEnum.LongWeekDate:\r\n                        case GridColumnTypeEnum.ShortWeekDate:\r\n                            {\r\n                                dtpFrom.show();\r\n                                dtpDateTimeFrom.hide();\r\n                                dtpDateTimeTo.hide();\r\n\r\n                                dtpFrom.mode(DateModeEnum.Date);\r\n                                dtpTo.mode(DateModeEnum.Date);\r\n\r\n                                let defaultDateMin = Date.MIN_VALUE;\r\n                                defaultDateMin.setHours(7, 0);\r\n                                dtpFrom.min(defaultDateMin);\r\n                                dtpTo.min(defaultDateMin);\r\n\r\n                                let defaultDateMax = Date.MAX_VALUE;\r\n                                defaultDateMax.setHours(22, 0);\r\n                                dtpFrom.max(defaultDateMax);\r\n                                dtpTo.max(defaultDateMax);\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                break;\r\n            case GridColumnTypeEnum.Number:\r\n            case GridColumnTypeEnum.Currency:\r\n            case GridColumnTypeEnum.Duration:\r\n            case GridColumnTypeEnum.Percentage:\r\n                {\r\n                    puma(\"#\" + this._elementId + \"DivFilterDate\").hide();\r\n                    puma(\"#\" + this._elementId + \"DivFilterNumber\").show();\r\n                    puma(\"#\" + this._elementId + \"DivFilterString\").hide();\r\n                    txtFilterSearchSpecificValues.show();\r\n                    dtpFilterSearchSpecificValues.hide();\r\n\r\n                    switch (column.type)\r\n                    {\r\n                        case GridColumnTypeEnum.Number:\r\n                        case GridColumnTypeEnum.Duration:\r\n                            {\r\n                                ntbFrom.type(TextModeEnum.Numeric);\r\n                                ntbTo.type(TextModeEnum.Numeric);\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.Currency:\r\n                            {\r\n                                ntbFrom.type(TextModeEnum.Currency);\r\n                                ntbTo.type(TextModeEnum.Currency);\r\n                            }\r\n                            break;\r\n                        case GridColumnTypeEnum.Percentage:\r\n                            {\r\n                                ntbFrom.type(TextModeEnum.Percentage);\r\n                                ntbTo.type(TextModeEnum.Percentage);\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                break;\r\n            case GridColumnTypeEnum.String:\r\n            case GridColumnTypeEnum.Label:\r\n                {\r\n                    puma(\"#\" + this._elementId + \"DivFilterDate\").hide();\r\n                    puma(\"#\" + this._elementId + \"DivFilterNumber\").hide();\r\n                    puma(\"#\" + this._elementId + \"DivFilterString\").show();\r\n                    txtFilterSearchSpecificValues.show();\r\n                    dtpFilterSearchSpecificValues.hide();\r\n                }\r\n                break;\r\n        }\r\n        //#endregion\r\n\r\n        this._wndFiltering.hideFooterItem(\"removeFilter\");\r\n        this._wndFiltering.hideFooterItem(\"removeFilterSeparator\");\r\n        let isSearchIntervals = true;\r\n        if (this._dictionaryFilterConditions.has(column.field))\r\n        {\r\n            this._wndFiltering.showFooterItem(\"removeFilter\");\r\n            this._wndFiltering.showFooterItem(\"removeFilterSeparator\");\r\n\r\n            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n            if (filterSettings != null)\r\n            {\r\n                if (filterSettings.dateFilterSettings != null && filterSettings.dateFilterSettings.specificValues != null\r\n                    && filterSettings.dateFilterSettings.specificValues.length > 0)\r\n                    isSearchIntervals = false;\r\n                else if (filterSettings.numberFilterSettings != null && filterSettings.numberFilterSettings.specificValues != null\r\n                    && filterSettings.numberFilterSettings.specificValues.length > 0)\r\n                    isSearchIntervals = false;\r\n                else if (filterSettings.stringFilterSettings != null && filterSettings.stringFilterSettings.specificValues != null\r\n                    && filterSettings.stringFilterSettings.specificValues.length > 0)\r\n                    isSearchIntervals = false;\r\n            }\r\n        }\r\n\r\n        //#region Fill CheckboxList specific values\r\n        let items = this.originalDataSource().map(k =>\r\n        {\r\n            let text = this.formatValue(k[column.field], column.type!, column.decimalDigits, column.roundingSettings, column.showSeconds);\r\n            let tag = k[column.field];\r\n            if (column.type == GridColumnTypeEnum.Date || column.type == GridColumnTypeEnum.DateTime\r\n                || column.type == GridColumnTypeEnum.Time || column.type == GridColumnTypeEnum.LongDate\r\n                || column.type == GridColumnTypeEnum.LongDateTime || column.type == GridColumnTypeEnum.LongWeekDate\r\n                || column.type == GridColumnTypeEnum.ShortWeekDate)\r\n                tag = new Date(k[column.field]);\r\n            else if (column.type == GridColumnTypeEnum.String || column.type == GridColumnTypeEnum.Label)\r\n                tag = tag.toLowerCase();\r\n\r\n            return { text: text, value: tag, tag: tag }\r\n        }).vrDistinctBy(k => k.text).vrSortAsc(\"tag\");\r\n\r\n        let divContent = puma(\"#\" + this._elementId + \"_specificValues\")[0];\r\n        let contentFragment = document.createDocumentFragment();\r\n        let divRecords = document.createElement(\"div\");\r\n        divRecords.classList.add(\"vrGrid_divSearchSpecificValues\");\r\n        contentFragment.appendChild(divRecords);\r\n        for (let data of items)\r\n        {\r\n            let divRow = document.createElement(\"div\");\r\n            divRecords.appendChild(divRow);\r\n\r\n            let checkbox = document.createElement(\"input\");\r\n            checkbox.setAttribute(\"type\", \"checkbox\");\r\n            checkbox.classList.add(\"vrControls\", \"vrCheckBox\");\r\n            checkbox.setAttribute(\"tag\", JSON.stringify(data.tag));\r\n            checkbox.onclick = (e: any) =>\r\n            {\r\n                let checkboxCheckedList = Array.from<HTMLElement>(puma('.vrGrid_divSearchSpecificValues input:checkbox:checked'));\r\n                if (checkboxCheckedList.length == 0)\r\n                {\r\n                    lblCheckboxSelected.value(items.length + \" elementi\")\r\n                    chkCheckAllSpecificValues.checked(false, false);\r\n                }\r\n                else\r\n                {\r\n                    if (checkboxCheckedList.length == items.length)\r\n                        chkCheckAllSpecificValues.checked(true, false);\r\n                    else\r\n                        chkCheckAllSpecificValues.checked(CheckboxStateEnum.Undefined, false);\r\n\r\n                    lblCheckboxSelected.value(checkboxCheckedList.length + \" di \" + items.length + \" elementi\");\r\n                }\r\n            }\r\n            divRow.appendChild(checkbox);\r\n\r\n            let lblText = document.createElement(\"label\");\r\n            lblText.innerHTML = data.text;\r\n            lblText.style.cssText += \"display: block; width: 100%; user-select: none;\";\r\n            lblText.onclick = (e: any) => puma(checkbox).click();\r\n            divRow.appendChild(lblText);\r\n        }\r\n        divContent.appendChild(contentFragment);\r\n\r\n        let lblCheckboxSelected = this._wndFiltering.footerItem<Label>(\"lblCheckboxSelectedSpecificValues\");\r\n        lblCheckboxSelected.value(items.length + \" elementi\");\r\n\r\n        let chkCheckAllSpecificValues = ControlManager.get<CheckBox>(this._elementId + \"_checkAllFilterSearchSpecificValues\");\r\n        //#endregion\r\n\r\n        let switchSearch = ControlManager.get<Switch>(this._elementId + \"_switchFilterSearch\");\r\n        if (isSearchIntervals)\r\n        {\r\n            //#region Search intervals\r\n            switchSearch.checked(false);\r\n            switch (column.type!)\r\n            {\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.Time:\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        if (this._dictionaryFilterConditions.has(column.field))\r\n                        {\r\n                            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n                            if (filterSettings != null && filterSettings.dateFilterSettings != null)\r\n                            {\r\n                                let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterDateType\");\r\n                                ddlType.value(filterSettings.dateFilterSettings.filterTypeEnum, true);\r\n\r\n                                if (column.type == GridColumnTypeEnum.DateTime || column.type == GridColumnTypeEnum.LongDateTime)\r\n                                {\r\n                                    dtpDateTimeFrom.value(filterSettings.dateFilterSettings.dateFrom);\r\n                                    dtpDateTimeTo.value(filterSettings.dateFilterSettings.dateTo);\r\n                                }\r\n                                else\r\n                                {\r\n                                    dtpFrom.value(filterSettings.dateFilterSettings.dateFrom);\r\n                                    dtpTo.value(filterSettings.dateFilterSettings.dateTo);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Duration:\r\n                case GridColumnTypeEnum.Percentage:\r\n                    {\r\n                        if (this._dictionaryFilterConditions.has(column.field))\r\n                        {\r\n                            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n                            if (filterSettings != null && filterSettings.numberFilterSettings != null)\r\n                            {\r\n                                let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterNumberType\");\r\n                                ddlType.value(filterSettings.numberFilterSettings.filterTypeEnum, true);\r\n                                ntbFrom.value(filterSettings.numberFilterSettings.numberFrom);\r\n                                ntbTo.value(filterSettings.numberFilterSettings.numberTo);\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.String:\r\n                case GridColumnTypeEnum.Label:\r\n                    {\r\n                        if (this._dictionaryFilterConditions.has(column.field))\r\n                        {\r\n                            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n                            if (filterSettings != null && filterSettings.stringFilterSettings != null)\r\n                            {\r\n                                let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterStringType\");\r\n                                ddlType.value(filterSettings.stringFilterSettings.filterTypeEnum, true);\r\n                                txtStringValue.value(filterSettings.stringFilterSettings.text);\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            //#endregion\r\n        }\r\n        else\r\n        {\r\n            //#region Search specific values\r\n            switchSearch.checked(true);\r\n            switch (column.type!)\r\n            {\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.Time:\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        //#region Load filter data\r\n                        if (this._dictionaryFilterConditions.has(column.field))\r\n                        {\r\n                            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n                            if (filterSettings != null && filterSettings.dateFilterSettings != null\r\n                                && filterSettings.dateFilterSettings.specificValues != null\r\n                                && filterSettings.dateFilterSettings.specificValues.length > 0)\r\n                            {\r\n                                for (let value of filterSettings.dateFilterSettings.specificValues)\r\n                                {\r\n                                    for (let checkbox of Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\")))\r\n                                    {\r\n                                        let tag = new Date(JSON.parse(checkbox.getAttribute(\"tag\")!));\r\n                                        if (UtilityManager.equals(value, tag))\r\n                                        {\r\n                                            checkbox.checked = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                lblCheckboxSelected.value(filterSettings.dateFilterSettings.specificValues.length + \" di \" + items.length + \" elementi\")\r\n                                if (filterSettings.dateFilterSettings.specificValues.length == items.length)\r\n                                    chkCheckAllSpecificValues.checked(true, false);\r\n                                else\r\n                                    chkCheckAllSpecificValues.checked(CheckboxStateEnum.Undefined, false);\r\n                            }\r\n                        }\r\n                        //#endregion\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Duration:\r\n                case GridColumnTypeEnum.Percentage:\r\n                    {\r\n                        //#region Load filter data\r\n                        if (this._dictionaryFilterConditions.has(column.field))\r\n                        {\r\n                            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n                            if (filterSettings != null && filterSettings.numberFilterSettings != null\r\n                                && filterSettings.numberFilterSettings.specificValues != null\r\n                                && filterSettings.numberFilterSettings.specificValues.length > 0)\r\n                            {\r\n                                for (let value of filterSettings.numberFilterSettings.specificValues)\r\n                                {\r\n                                    for (let checkbox of Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\")))\r\n                                    {\r\n                                        let tag = Number(JSON.parse(checkbox.getAttribute(\"tag\")!));\r\n                                        if (UtilityManager.equals(value, tag))\r\n                                        {\r\n                                            checkbox.checked = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                lblCheckboxSelected.value(filterSettings.numberFilterSettings.specificValues.length + \" di \" + items.length + \" elementi\")\r\n                                if (filterSettings.numberFilterSettings.specificValues.length == items.length)\r\n                                    chkCheckAllSpecificValues.checked(true, false);\r\n                                else\r\n                                    chkCheckAllSpecificValues.checked(CheckboxStateEnum.Undefined, false);\r\n                            }\r\n                        }\r\n                        //#endregion\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.String:\r\n                case GridColumnTypeEnum.Label:\r\n                    {\r\n                        if (this._dictionaryFilterConditions.has(column.field))\r\n                        {\r\n                            let filterSettings = this._dictionaryFilterConditions.get(column.field);\r\n                            if (filterSettings != null && filterSettings.stringFilterSettings != null\r\n                                && filterSettings.stringFilterSettings.specificValues != null\r\n                                && filterSettings.stringFilterSettings.specificValues.length > 0)\r\n                            {\r\n                                for (let value of filterSettings.stringFilterSettings.specificValues)\r\n                                {\r\n                                    for (let checkbox of Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\")))\r\n                                    {\r\n                                        let tag = String(JSON.parse(checkbox.getAttribute(\"tag\")!));\r\n                                        if (UtilityManager.equals(value, tag))\r\n                                        {\r\n                                            checkbox.checked = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                lblCheckboxSelected.value(filterSettings.stringFilterSettings.specificValues.length + \" di \" + items.length + \" elementi\")\r\n                                if (filterSettings.stringFilterSettings.specificValues.length == items.length)\r\n                                    chkCheckAllSpecificValues.checked(true, false);\r\n                                else\r\n                                    chkCheckAllSpecificValues.checked(CheckboxStateEnum.Undefined, false);\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            //#endregion\r\n        }\r\n    }\r\n\r\n    private saveWindowFiltering(column: GridColumn)\r\n    {\r\n        let options = this.getOptions();\r\n        let filterSettings = new GridFilterSettings();\r\n        filterSettings.type = column.type!;\r\n        let checkboxCheckedList = [];\r\n        let checkboxAllList = [];\r\n\r\n        let switchSearch = ControlManager.get<Switch>(this._elementId + \"_switchFilterSearch\");\r\n        if (!switchSearch.checked())\r\n        {\r\n            //#region Search intervals\r\n            switch (column.type!)\r\n            {\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.Time:\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        //#region Date filter settings\r\n                        let dtpFrom = ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateFrom\");\r\n                        let dtpTo = ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateTo\");\r\n                        let dtpDateTimeFrom = ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateFrom\");\r\n                        let dtpDateTimeTo = ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateTo\");\r\n\r\n                        if (column.type! == GridColumnTypeEnum.DateTime || column.type! == GridColumnTypeEnum.LongDateTime)\r\n                        {\r\n                            if (dtpDateTimeFrom.value() == null)\r\n                            {\r\n                                notifyWarning(\"Inserire almeno una data\");\r\n                                return;\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            if (dtpFrom.value() == null)\r\n                            {\r\n                                notifyWarning(\"Inserire almeno una data\");\r\n                                return;\r\n                            }\r\n                        }\r\n\r\n                        let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterDateType\")\r\n                        filterSettings.dateFilterSettings = new GridDateFilterSettings();\r\n                        filterSettings.dateFilterSettings.filterTypeEnum = Number(ddlType.value());\r\n                        filterSettings.dateFilterSettings.dateFrom = (column.type! == GridColumnTypeEnum.DateTime || column.type! == GridColumnTypeEnum.LongDateTime) ? dtpDateTimeFrom.value()! : dtpFrom.value()!;\r\n                        filterSettings.dateFilterSettings.dateTo = (column.type! == GridColumnTypeEnum.DateTime || column.type! == GridColumnTypeEnum.LongDateTime) ? dtpDateTimeTo.value()! : dtpTo.value();\r\n                        //#endregion\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Duration:\r\n                case GridColumnTypeEnum.Percentage:\r\n                    {\r\n                        //#region Number filter settings\r\n                        let ntbFrom = ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberFrom\");\r\n                        let ntbTo = ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberTo\");\r\n                        if (ntbFrom.isEmpty())\r\n                        {\r\n                            notifyWarning(\"Inserire almeno un numero\");\r\n                            return;\r\n                        }\r\n\r\n                        let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterNumberType\");\r\n                        filterSettings.numberFilterSettings = new GridNumberFilterSettings();\r\n                        filterSettings.numberFilterSettings.filterTypeEnum = Number(ddlType.value());\r\n                        filterSettings.numberFilterSettings.numberFrom = ntbFrom.value();\r\n                        filterSettings.numberFilterSettings.numberTo = (ntbTo.value() == 0) ? null : Number(ntbTo.value());\r\n                        //#endregion\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.String:\r\n                case GridColumnTypeEnum.Label:\r\n                    {\r\n                        //#region String filter settings\r\n                        let txtStringValue = ControlManager.get<TextBox>(this._elementId + \"_txtFilterStringValue\");\r\n                        if (txtStringValue.isEmpty())\r\n                        {\r\n                            notifyWarning(\"Inserire un testo\");\r\n                            return;\r\n                        }\r\n\r\n                        let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterStringType\");\r\n                        filterSettings.stringFilterSettings = new GridStringFilterSettings();\r\n                        filterSettings.stringFilterSettings.filterTypeEnum = Number(ddlType.value());\r\n                        filterSettings.stringFilterSettings.text = txtStringValue.value();\r\n                        //#endregion\r\n                    }\r\n                    break;\r\n            }\r\n            //#endregion\r\n        }\r\n        else\r\n        {\r\n            //#region Search specific values\r\n            checkboxCheckedList = Array.from<HTMLElement>(puma('.vrGrid_divSearchSpecificValues input:checkbox:checked'));\r\n            checkboxAllList = Array.from<HTMLInputElement>(puma(this._wndFiltering.element()).find(\".vrGrid_divSearchSpecificValues input\"));\r\n            let filterButton = null;\r\n            let filterButtonRemove = null;\r\n\r\n            switch (column.type!)\r\n            {\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.Time:\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        filterSettings.dateFilterSettings = new GridDateFilterSettings();\r\n                        filterSettings.dateFilterSettings.specificValues = [];\r\n                        for (let checkbox of checkboxCheckedList)\r\n                            filterSettings.dateFilterSettings.specificValues.push(new Date(JSON.parse(checkbox.getAttribute(\"tag\")!)));\r\n\r\n                        if (checkboxCheckedList.length == 0 || checkboxAllList.length == checkboxCheckedList.length)\r\n                        {\r\n                            filterButton = ControlManager.get<Button>(this._elementId + \"_DateFilter_\" + column.field);\r\n                            puma(filterButton.element()).css(\"background-color\", \"#f3f3f3\");\r\n                            puma(filterButton.element()).css(\"color\", \"#000\");\r\n\r\n                            filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_DateFilterRemove_\" + column.field);\r\n                            filterButtonRemove.hide();\r\n                        }\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Duration:\r\n                case GridColumnTypeEnum.Percentage:\r\n                    {\r\n                        filterSettings.numberFilterSettings = new GridNumberFilterSettings();\r\n                        filterSettings.numberFilterSettings.specificValues = [];\r\n                        for (let checkbox of checkboxCheckedList)\r\n                            filterSettings.numberFilterSettings.specificValues.push(Number(JSON.parse(checkbox.getAttribute(\"tag\")!)));\r\n\r\n                        if (checkboxCheckedList.length == 0 || checkboxAllList.length == checkboxCheckedList.length)\r\n                        {\r\n                            filterButton = ControlManager.get<Button>(this._elementId + \"_NumberFilter_\" + column.field);\r\n                            puma(filterButton.element()).css(\"background-color\", \"#f3f3f3\");\r\n                            puma(filterButton.element()).css(\"color\", \"#000\");\r\n\r\n                            filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_NumberFilterRemove_\" + column.field);\r\n                            filterButtonRemove.hide();\r\n                        }\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.String:\r\n                case GridColumnTypeEnum.Label:\r\n                    {\r\n                        filterSettings.stringFilterSettings = new GridStringFilterSettings();\r\n                        filterSettings.stringFilterSettings.specificValues = [];\r\n                        for (let checkbox of checkboxCheckedList)\r\n                            filterSettings.stringFilterSettings.specificValues.push(String(JSON.parse(checkbox.getAttribute(\"tag\")!)));\r\n\r\n                        if (checkboxCheckedList.length == 0 || checkboxAllList.length == checkboxCheckedList.length)\r\n                        {\r\n                            filterButton = ControlManager.get<Button>(this._elementId + \"_StringFilterBtn_\" + column.field);\r\n                            puma(filterButton.element()).css(\"background-color\", \"#f3f3f3\");\r\n                            puma(filterButton.element()).css(\"color\", \"#000\");\r\n\r\n                            filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_StringFilterBtnRemove_\" + column.field);\r\n                            filterButtonRemove.hide();\r\n\r\n                            let textBox = ControlManager.get<TextBox>(this._elementId + \"_StringFilter_\" + column.field);\r\n                            textBox.width(\"Calc(100% - 27px)\");\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            //#endregion\r\n        }\r\n\r\n        if (switchSearch.checked() && (checkboxCheckedList.length == 0 || checkboxAllList.length == checkboxCheckedList.length))\r\n            this.removeFilter(column.field);\r\n        else\r\n        {\r\n            this.removeFilter(column.field, !options.serverBinding);\r\n            this.updateFilter(column.field, filterSettings);\r\n        }\r\n        this._wndFiltering.close();\r\n    }\r\n\r\n    private clearWindowFiltering()\r\n    {\r\n        //#region Date filter\r\n        ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterDateType\").clear();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateFrom\").clear();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateTo\").clear();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterDateTo\").hide();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateFrom\").clear();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateTo\").clear();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateFrom\").hide();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpDateTimeFilterDateTo\").hide();\r\n        //#endregion\r\n\r\n        //#region Number filter\r\n        ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterNumberType\").clear();\r\n        ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberFrom\").clear();\r\n        ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberTo\").clear();\r\n        ControlManager.get<TextBox>(this._elementId + \"_ntbFilterNumberTo\").hide();\r\n        //#endregion\r\n\r\n        //#region Search specific values\r\n        ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterStringType\").clear();\r\n        ControlManager.get<TextBox>(this._elementId + \"_txtFilterStringValue\").clear();\r\n        puma(this._wndFiltering.element()).find(this._elementId + \"_specificValues\").empty();\r\n        ControlManager.get<TextBox>(this._elementId + \"_txtFilterSearchSpecificValues\").show();\r\n        ControlManager.get<DatePicker>(this._elementId + \"_dtpFilterSearchSpecificValues\").hide();\r\n        this._wndFiltering.footerItem<Label>(\"lblCheckboxSelectedSpecificValues\").clear();\r\n        ControlManager.get<CheckBox>(this._elementId + \"_checkAllFilterSearchSpecificValues\").clear();\r\n        //#endregion\r\n    }\r\n\r\n    addFilter(field: string, filterCondition: GridFilterSettings, applyFilters = true)\r\n    {\r\n        this._dictionaryFilterConditions.set(field, filterCondition);\r\n        if (applyFilters)\r\n            this.applyFilters();\r\n    }\r\n\r\n    removeFilters(fields: string[], applyFilters = true)\r\n    {\r\n        for (let field of fields)\r\n            this.removeFilter(field, false);\r\n\r\n        if (applyFilters)\r\n            this.applyFilters(true);\r\n    }\r\n\r\n    removeFilter(field: string, applyFilters = true)\r\n    {\r\n        if (this._dictionaryFilterConditions.has(field))\r\n        {\r\n            this._dictionaryFilterConditions.delete(field);\r\n            if (applyFilters)\r\n                this.applyFilters(true);\r\n        }\r\n    }\r\n\r\n    updateFilter(field: string, filterCondition: GridFilterSettings, applyFilters = true)\r\n    {\r\n        this._dictionaryFilterConditions.set(field, filterCondition);\r\n        if (applyFilters)\r\n            this.applyFilters();\r\n    }\r\n\r\n    private applyFilters(onOriginalDataSource = false, applyFilters = true)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        //#region Server binding\r\n        if (options.serverBinding !== false)\r\n        {\r\n            this.pageSelected(1, false);\r\n            if (applyFilters)\r\n                this.rebind();\r\n            else\r\n                this.setDataSource((onOriginalDataSource) ? this._originalDataSource : this.dataSource());\r\n\r\n            return;\r\n        }\r\n        //#endregion\r\n\r\n        let filteredArray: any[] = (onOriginalDataSource) ? this._originalDataSource : this.dataSource();\r\n        this._dictionaryFilterConditions.forEach((valueFilterSettings, columnField, dic) =>\r\n        {\r\n            let column = options.columns!.filter(k => k.field == columnField)[0];\r\n            if (column != null && column.hidden === true)\r\n                return;\r\n\r\n            if (valueFilterSettings.numberFilterSettings != null)\r\n            {\r\n                //#region Number filter\r\n                let filterButton = ControlManager.get<Button>(this._elementId + \"_NumberFilter_\" + columnField);\r\n                puma(filterButton.element()).css(\"background-color\", \"coral\");\r\n                puma(filterButton.element()).css(\"color\", \"#FFF\");\r\n\r\n                let filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_NumberFilterRemove_\" + columnField);\r\n                filterButtonRemove.show();\r\n                this.recalculateHeight(true);\r\n\r\n                if (valueFilterSettings.numberFilterSettings.specificValues != null && valueFilterSettings.numberFilterSettings.specificValues.length > 0)\r\n                {\r\n                    //#region Search specific values\r\n                    filteredArray = filteredArray.filter(k => valueFilterSettings.numberFilterSettings!.specificValues.includes(k[columnField]));\r\n                    filterButton.tooltip(\"Ricerca specifica su questi valori: \" + valueFilterSettings.numberFilterSettings.specificValues.join(\" - \"));\r\n                    //#endregion\r\n                }\r\n                else\r\n                {\r\n                    //#region Search intervals\r\n                    switch (valueFilterSettings.numberFilterSettings.filterTypeEnum)\r\n                    {\r\n                        case GridNumberFilterTypeEnum.GreaterThan:\r\n                            filteredArray = filteredArray.filter(k => k[columnField] > valueFilterSettings.numberFilterSettings!.numberFrom);\r\n                            break;\r\n                        case GridNumberFilterTypeEnum.LessThan:\r\n                            filteredArray = filteredArray.filter(k => k[columnField] < valueFilterSettings.numberFilterSettings!.numberFrom);\r\n                            break;\r\n                        case GridNumberFilterTypeEnum.EqualsTo:\r\n                            filteredArray = filteredArray.filter(k => k[columnField] == valueFilterSettings.numberFilterSettings!.numberFrom);\r\n                            break;\r\n                        case GridNumberFilterTypeEnum.Between:\r\n                            {\r\n                                if (valueFilterSettings.numberFilterSettings!.numberTo != null)\r\n                                    filteredArray = filteredArray.filter(k => k[columnField] >= valueFilterSettings.numberFilterSettings!.numberFrom && k[columnField] <= valueFilterSettings.numberFilterSettings!.numberTo!);\r\n                                else\r\n                                    filteredArray = filteredArray.filter(k => k[columnField] > valueFilterSettings.numberFilterSettings!.numberFrom);\r\n                            }\r\n                            break;\r\n                    }\r\n\r\n                    // Filter button\r\n                    let valueTooltip = String(valueFilterSettings.numberFilterSettings!.numberFrom);\r\n                    if (valueFilterSettings.numberFilterSettings!.filterTypeEnum == GridNumberFilterTypeEnum.Between)\r\n                        valueTooltip += \" e \" + valueFilterSettings.numberFilterSettings!.numberTo;\r\n\r\n                    let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterNumberType\");\r\n                    let type = \"\";\r\n                    switch (Number(ddlType!.value()))\r\n                    {\r\n                        case GridNumberFilterTypeEnum.GreaterThan: type = \"Maggiore di \"; break;\r\n                        case GridNumberFilterTypeEnum.LessThan: type = \"Minore di \"; break;\r\n                        case GridNumberFilterTypeEnum.EqualsTo: type = \"Uguale a \"; break;\r\n                        case GridNumberFilterTypeEnum.Between: type = \"Compreso tra \"; break;\r\n                    }\r\n\r\n                    filterButton.tooltip(type + valueTooltip);\r\n                    //#endregion\r\n                }\r\n                //#endregion\r\n            }\r\n            else if (valueFilterSettings.dateFilterSettings != null)\r\n            {\r\n                //#region Date filter\r\n                let filterButton = ControlManager.get<Button>(this._elementId + \"_DateFilter_\" + columnField);\r\n                puma(filterButton.element()).css(\"background-color\", \"coral\");\r\n                puma(filterButton.element()).css(\"color\", \"#FFF\");\r\n\r\n                let filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_DateFilterRemove_\" + columnField);\r\n                filterButtonRemove.show();\r\n                this.recalculateHeight(true);\r\n\r\n                if (valueFilterSettings.dateFilterSettings.specificValues != null && valueFilterSettings.dateFilterSettings.specificValues.length > 0)\r\n                {\r\n                    //#region Search specific values\r\n                    let dateFilteredArray = [];\r\n                    for (let filterValue of filteredArray)\r\n                    {\r\n                        for (let specificValue of valueFilterSettings.dateFilterSettings.specificValues)\r\n                        {\r\n                            if (Date.vrEquals(new Date(filterValue[columnField]), specificValue))\r\n                                dateFilteredArray.push(filterValue);\r\n                        }\r\n                    }\r\n                    filteredArray = dateFilteredArray;\r\n\r\n                    let tooltipValues: string[] = [];\r\n                    let dateModeEnum: DateModeEnum = DateModeEnum.Date;\r\n\r\n                    if (column.type == GridColumnTypeEnum.Date) dateModeEnum = DateModeEnum.Date;\r\n                    else if (column.type == GridColumnTypeEnum.DateTime) dateModeEnum = DateModeEnum.DateTime;\r\n                    else if (column.type == GridColumnTypeEnum.Time) dateModeEnum = DateModeEnum.Time;\r\n                    else if (column.type == GridColumnTypeEnum.LongDate) dateModeEnum = DateModeEnum.LongDate;\r\n                    else if (column.type == GridColumnTypeEnum.LongDateTime) dateModeEnum = DateModeEnum.LongDateTime;\r\n                    else if (column.type == GridColumnTypeEnum.LongWeekDate) dateModeEnum = DateModeEnum.LongWeekDate;\r\n                    else if (column.type == GridColumnTypeEnum.ShortWeekDate) dateModeEnum = DateModeEnum.ShortWeekDate;\r\n\r\n                    tooltipValues = valueFilterSettings.dateFilterSettings.specificValues.map(k => { return new Date(k).vrToItalyString(dateModeEnum, column.showSeconds) });\r\n                    filterButton.tooltip(\"Ricerca specifica su questi valori: \" + tooltipValues.join(\" - \"));\r\n                    //#endregion\r\n                }\r\n                else\r\n                {\r\n                    //#region Search intervals\r\n                    let filterDateFrom = Date.vrFixDateString(valueFilterSettings.dateFilterSettings!.dateFrom);\r\n                    let filterDateTo = Date.vrFixDateString(valueFilterSettings.dateFilterSettings!.dateTo);\r\n\r\n                    switch (valueFilterSettings.dateFilterSettings.filterTypeEnum)\r\n                    {\r\n                        case GridDateFilterTypeEnum.GreaterThan:\r\n                            {\r\n                                switch (column.type)\r\n                                {\r\n                                    case GridColumnTypeEnum.Date:\r\n                                    case GridColumnTypeEnum.LongDate:\r\n                                    case GridColumnTypeEnum.LongWeekDate:\r\n                                    case GridColumnTypeEnum.ShortWeekDate:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsGreaterThan(filterDateFrom, false, false));\r\n                                        break;\r\n                                    case GridColumnTypeEnum.DateTime:\r\n                                    case GridColumnTypeEnum.LongDateTime:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsGreaterThan(filterDateFrom));\r\n                                        break;\r\n                                    case GridColumnTypeEnum.Time:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && (Date.vrFixDateString(k[columnField]).getHours() > filterDateFrom.getHours() || (Date.vrFixDateString(k[columnField]).getHours() == filterDateFrom.getHours() && Date.vrFixDateString(k[columnField]).getMinutes() > filterDateFrom.getMinutes())))\r\n                                        break;\r\n                                }\r\n                            }\r\n                            break;\r\n                        case GridDateFilterTypeEnum.LessThan:\r\n                            {\r\n                                switch (column.type)\r\n                                {\r\n                                    case GridColumnTypeEnum.Date:\r\n                                    case GridColumnTypeEnum.LongDate:\r\n                                    case GridColumnTypeEnum.LongWeekDate:\r\n                                    case GridColumnTypeEnum.ShortWeekDate:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsLessThan(filterDateFrom, false, false));\r\n                                        break;\r\n                                    case GridColumnTypeEnum.DateTime:\r\n                                    case GridColumnTypeEnum.LongDateTime:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsLessThan(filterDateFrom));\r\n                                        break;\r\n                                    case GridColumnTypeEnum.Time:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && (Date.vrFixDateString(k[columnField]).getHours() < filterDateFrom.getHours() || (Date.vrFixDateString(k[columnField]).getHours() == filterDateFrom.getHours() && Date.vrFixDateString(k[columnField]).getMinutes() < filterDateFrom.getMinutes())))\r\n                                        break;\r\n                                }\r\n                            }\r\n                            break;\r\n                        case GridDateFilterTypeEnum.EqualsTo:\r\n                            {\r\n                                switch (column.type)\r\n                                {\r\n                                    case GridColumnTypeEnum.Date:\r\n                                    case GridColumnTypeEnum.LongDate:\r\n                                    case GridColumnTypeEnum.LongWeekDate:\r\n                                    case GridColumnTypeEnum.ShortWeekDate:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsEqualsTo(filterDateFrom, false));\r\n                                        break;\r\n                                    case GridColumnTypeEnum.DateTime:\r\n                                    case GridColumnTypeEnum.LongDateTime:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsEqualsTo(filterDateFrom));\r\n                                        break;\r\n                                    case GridColumnTypeEnum.Time:\r\n                                        filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && (Date.vrFixDateString(k[columnField]).getHours() == filterDateFrom.getHours() && Date.vrFixDateString(k[columnField]).getMinutes() == filterDateFrom.getMinutes()))\r\n                                        break;\r\n                                }\r\n                            }\r\n                            break;\r\n                        case GridDateFilterTypeEnum.Between:\r\n                            {\r\n                                switch (column.type)\r\n                                {\r\n                                    case GridColumnTypeEnum.Date:\r\n                                    case GridColumnTypeEnum.DateTime:\r\n                                    case GridColumnTypeEnum.LongDate:\r\n                                    case GridColumnTypeEnum.LongWeekDate:\r\n                                    case GridColumnTypeEnum.ShortWeekDate:\r\n                                    case GridColumnTypeEnum.LongDateTime:\r\n                                        {\r\n                                            if (valueFilterSettings.dateFilterSettings!.dateTo != null)\r\n                                                filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsBetween(filterDateFrom, filterDateTo));\r\n                                            else\r\n                                                filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && Date.vrFixDateString(k[columnField]).vrIsGreaterThan(filterDateFrom));\r\n                                        }\r\n                                        break;\r\n                                    case GridColumnTypeEnum.Time:\r\n                                        {\r\n                                            if (valueFilterSettings.dateFilterSettings!.dateTo != null)\r\n                                            {\r\n                                                filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && (Date.vrFixDateString(k[columnField]).getHours() > filterDateFrom.getHours() || (Date.vrFixDateString(k[columnField]).getHours() == filterDateFrom.getHours() && Date.vrFixDateString(k[columnField]).getMinutes() > filterDateFrom.getMinutes())))\r\n                                                filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && (Date.vrFixDateString(k[columnField]).getHours() < filterDateTo.getHours() || (Date.vrFixDateString(k[columnField]).getHours() == filterDateTo.getHours() && Date.vrFixDateString(k[columnField]).getMinutes() < filterDateTo.getMinutes())))\r\n                                            }\r\n                                            else\r\n                                                filteredArray = filteredArray.filter(k => Date.vrFixDateString(k[columnField]) != null && (Date.vrFixDateString(k[columnField]).getHours() > filterDateFrom.getHours() || (Date.vrFixDateString(k[columnField]).getHours() == filterDateFrom.getHours() && Date.vrFixDateString(k[columnField]).getMinutes() > filterDateFrom.getMinutes())))\r\n                                        }\r\n                                        break;\r\n                                }\r\n                            }\r\n                            break;\r\n                    }\r\n\r\n                    // Filter button\r\n                    let dateModeEnum: DateModeEnum = DateModeEnum.Date;\r\n\r\n                    if (column.type == GridColumnTypeEnum.Date) dateModeEnum = DateModeEnum.Date;\r\n                    else if (column.type == GridColumnTypeEnum.DateTime) dateModeEnum = DateModeEnum.DateTime;\r\n                    else if (column.type == GridColumnTypeEnum.Time) dateModeEnum = DateModeEnum.Time;\r\n                    else if (column.type == GridColumnTypeEnum.LongDate) dateModeEnum = DateModeEnum.LongDate;\r\n                    else if (column.type == GridColumnTypeEnum.LongDateTime) dateModeEnum = DateModeEnum.LongDateTime;\r\n                    else if (column.type == GridColumnTypeEnum.LongWeekDate) dateModeEnum = DateModeEnum.LongWeekDate;\r\n                    else if (column.type == GridColumnTypeEnum.ShortWeekDate) dateModeEnum = DateModeEnum.ShortWeekDate;\r\n\r\n                    let tooltip = Date.vrFixDateString(valueFilterSettings.dateFilterSettings!.dateFrom).vrToItalyString(dateModeEnum);\r\n                    if (valueFilterSettings.dateFilterSettings!.filterTypeEnum == GridDateFilterTypeEnum.Between)\r\n                        tooltip += \" e \" + Date.vrFixDateString(valueFilterSettings.dateFilterSettings!.dateTo!).vrToItalyString(dateModeEnum);\r\n\r\n                    let ddlType = ControlManager.get<ComboBox>(this._elementId + \"_ddlFilterDateType\");\r\n                    let type = \"\";\r\n                    switch (Number(ddlType!.value()))\r\n                    {\r\n                        case GridNumberFilterTypeEnum.GreaterThan: type = \"Maggiore di \"; break;\r\n                        case GridNumberFilterTypeEnum.LessThan: type = \"Minore di \"; break;\r\n                        case GridNumberFilterTypeEnum.EqualsTo: type = \"Uguale a \"; break;\r\n                        case GridNumberFilterTypeEnum.Between: type = \"Compreso tra \"; break;\r\n                    }\r\n\r\n                    filterButton.tooltip(type + tooltip);\r\n                    //#endregion\r\n                }\r\n                //#endregion\r\n            }\r\n            else if (valueFilterSettings.stringFilterSettings != null)\r\n            {\r\n                //#region String filter\r\n                if ((valueFilterSettings.stringFilterSettings!.text == null || valueFilterSettings.stringFilterSettings!.text == \"\")\r\n                    && (valueFilterSettings.stringFilterSettings.specificValues == null || valueFilterSettings.stringFilterSettings.specificValues.length == 0))\r\n                    return;\r\n\r\n                let textBox = ControlManager.get<TextBox>(this._elementId + \"_StringFilter_\" + column.field);\r\n                let filterButton: Button | null = null;\r\n                if ((valueFilterSettings.stringFilterSettings.specificValues != null && valueFilterSettings.stringFilterSettings.specificValues.length > 0)\r\n                    || valueFilterSettings.stringFilterSettings.filterTypeEnum != GridStringFilterTypeEnum.IncludesFromSimpleSearch)\r\n                {\r\n                    filterButton = ControlManager.get<Button>(this._elementId + \"_StringFilterBtn_\" + columnField);\r\n                    puma(filterButton.element()).css(\"background-color\", \"coral\");\r\n                    puma(filterButton.element()).css(\"color\", \"#FFF\");\r\n\r\n                    let filterButtonRemove = ControlManager.get<Button>(this._elementId + \"_StringFilterBtnRemove_\" + columnField);\r\n                    filterButtonRemove.show();\r\n                    this.recalculateHeight(true);\r\n\r\n                    textBox.width(\"Calc(100% - 60px)\");\r\n                }\r\n                else if (valueFilterSettings.stringFilterSettings.filterTypeEnum == GridStringFilterTypeEnum.IncludesFromSimpleSearch)\r\n                    textBox.value(valueFilterSettings.stringFilterSettings.text, false);\r\n\r\n                if (valueFilterSettings.stringFilterSettings.specificValues != null && valueFilterSettings.stringFilterSettings.specificValues.length > 0)\r\n                {\r\n                    //#region Search specific values\r\n                    filteredArray = filteredArray.filter(k => k[columnField] != null && valueFilterSettings.stringFilterSettings!.specificValues.map(k => { return k.toLowerCase() }).includes(k[columnField].toLowerCase()));\r\n                    if (filterButton != null)\r\n                        filterButton.tooltip(\"Ricerca specifica su questi valori: \" + valueFilterSettings.stringFilterSettings.specificValues.join(\" - \"));\r\n                    //#endregion\r\n                }\r\n                else\r\n                {\r\n                    //#region Search intervals\r\n                    let type = \"\";\r\n                    switch (valueFilterSettings.stringFilterSettings.filterTypeEnum)\r\n                    {\r\n                        case GridStringFilterTypeEnum.StartsWith:\r\n                            {\r\n                                type = \"Inizia con: \";\r\n                                filteredArray = filteredArray.filter(k => k[columnField] != null && k[columnField].toLowerCase().startsWith(valueFilterSettings.stringFilterSettings!.text.toLowerCase()));\r\n                            }\r\n                            break;\r\n                        case GridStringFilterTypeEnum.EndsWith:\r\n                            {\r\n                                type = \"Finisce con: \";\r\n                                filteredArray = filteredArray.filter(k => k[columnField] != null && k[columnField].toLowerCase().endsWith(valueFilterSettings.stringFilterSettings!.text.toLowerCase()));\r\n                            }\r\n                            break;\r\n                        case GridStringFilterTypeEnum.EqualsTo:\r\n                            {\r\n                                type = \"Uguale a: \";\r\n                                filteredArray = filteredArray.filter(k => k[columnField] != null && k[columnField].toLowerCase() == valueFilterSettings.stringFilterSettings!.text.toLowerCase());\r\n                            }\r\n                            break;\r\n                        case GridStringFilterTypeEnum.Includes:\r\n                            {\r\n                                type = \"Contiene: \";\r\n                                filteredArray = filteredArray.filter(k => k[columnField] != null && k[columnField].toLowerCase().indexOf(valueFilterSettings.stringFilterSettings!.text.toLowerCase()) !== -1);\r\n                            }\r\n                            break;\r\n                        case GridStringFilterTypeEnum.IncludesFromSimpleSearch:\r\n                            {\r\n                                type = \"Contiene: \";\r\n                                filteredArray = filteredArray.filter(k => k[columnField] != null && k[columnField].toLowerCase().indexOf(valueFilterSettings.stringFilterSettings!.text.toLowerCase()) !== -1);\r\n                            }\r\n                            break;\r\n                        default:\r\n                            {\r\n                                type = \"Contiene: \";\r\n                                filteredArray = filteredArray.filter(k => k[columnField] != null && k[columnField].toLowerCase().indexOf(valueFilterSettings.stringFilterSettings!.text.toLowerCase()) !== -1);\r\n                            }\r\n                            break;\r\n                    }\r\n\r\n                    if (filterButton != null)\r\n                        filterButton.tooltip(type + valueFilterSettings.stringFilterSettings!.text);\r\n                    //#endregion\r\n                }\r\n                //#endregion\r\n            }\r\n            else if (valueFilterSettings.checkboxFilterSettings != null)\r\n            {\r\n                filteredArray = filteredArray.filter(k => k[columnField] === valueFilterSettings.checkboxFilterSettings!.value);\r\n\r\n                //#region Filter checkbox\r\n                let checkboxJq = puma(\"#\" + this._elementId + \"_CheckboxFilter_\" + columnField);\r\n                checkboxJq.removeClass(\"indeterminateVrCheckbox\");\r\n\r\n                let checkbox = checkboxJq[0] as HTMLInputElement;\r\n                checkbox.checked = valueFilterSettings.checkboxFilterSettings!.value;\r\n                //#endregion\r\n            }\r\n        });\r\n\r\n        this.pageSelected(1, false);\r\n\r\n        if (applyFilters)\r\n        {\r\n            this._dataSource = UtilityManager.duplicate(filteredArray);\r\n            if (options.groupBy != null)\r\n                this.sortingGroupFields(this.dataSource());\r\n\r\n            this.setDataSource(this._dataSource!);\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region Resizing\r\n    private resizable()\r\n    {\r\n        let options = this.getOptions();\r\n        let headerTable = puma(this._divHeader).find(\"table\")[0];\r\n        let tableHeight = headerTable.offsetHeight;\r\n\r\n        let thList = Array.from<HTMLElement>(puma(headerTable).find(\"th\"));\r\n        if (options.lockable)\r\n            thList.vrPushRange(Array.from<HTMLElement>(puma(this._divHeaderLocked).find(\"table\").find(\"th\")));\r\n\r\n        for (let th of thList)\r\n        {\r\n            let divResizable = document.createElement(\"div\");\r\n            divResizable.style.cssText += \"position: absolute; top: 0px; right: 0px; width: 5px; cursor: col-resize; user-select: none; height: \" + tableHeight + \"px;\";\r\n            th.appendChild(divResizable);\r\n            th.style.position = \"relative\";\r\n            this.setResizingEvents(divResizable);\r\n        }\r\n    }\r\n\r\n    private setResizingEvents(divResizable: HTMLDivElement)\r\n    {\r\n        let pageX: number | null = null;\r\n        let currentColumn: HTMLElement | null = null;\r\n        let currentColumnWidth: number | null = null;\r\n        let timeoutRecalculateWidthWhileMoving: number = 0;\r\n\r\n        //#region Div events\r\n        puma(divResizable).on(\"mousedown\", (e: any) =>\r\n        {\r\n            this._isResizing = true;\r\n            currentColumn = e.target.parentElement;\r\n            pageX = e.pageX;\r\n\r\n            //#region Padding\r\n            let padding = 0;\r\n            if (puma(currentColumn!).css(\"box-sizing\") == \"border-box\")\r\n                padding = 0;\r\n            else\r\n            {\r\n                let padLeft = puma(currentColumn!).css(\"padding-left\");\r\n                let padRight = puma(currentColumn!).css(\"padding-right\");\r\n                padding = (padLeft.getNumericPart() + padRight.getNumericPart());\r\n            }\r\n            //#endregion\r\n\r\n            currentColumnWidth = currentColumn!.offsetWidth - padding;\r\n        });\r\n\r\n        puma(divResizable).on(\"mouseover\", (e: any) => (e.target as HTMLElement).style.borderRight = \"2px solid #0000ff\");\r\n        puma(divResizable).on(\"mouseout\", (e: any) => (e.target as HTMLElement).style.borderRight = \"\");\r\n        //#endregion\r\n\r\n        //#region Document events\r\n        puma(this.container()).on(\"mousemove\", (e: any) =>\r\n        {\r\n            if (currentColumn != null && !this._isDragging)\r\n            {\r\n                let options = this.getOptions();\r\n                let field = puma(puma(this._divHeader).find(\"th\")[puma(currentColumn).index()]).attr(\"value\");\r\n                let isColumnLocked = (currentColumn.getAttribute(\"locked\") != null);\r\n                if (isColumnLocked)\r\n                    field = puma(puma(this._divHeaderLocked).find(\"th\")[puma(currentColumn).index()]).attr(\"value\");\r\n\r\n                let index = puma(currentColumn!).index();\r\n\r\n                let column = this.column(field);\r\n                if (isColumnLocked)\r\n                {\r\n                    for (let headerColumn of Array.from(puma(this._divHeaderLocked).find(\"th[fitSpace='true']\")))\r\n                        puma(headerColumn).css({ \"width\": puma(headerColumn).width() + \"px\" });\r\n\r\n                    for (let filterColumn of Array.from(puma(this._divFiltersLocked).find(\"td[fitSpace='true']\")))\r\n                        puma(filterColumn).css({ \"width\": puma(filterColumn).width() + \"px\" });\r\n\r\n                    for (let totalColumn of Array.from(puma(this._divTotalsLocked).find(\"td[fitSpace='true']\")))\r\n                        puma(totalColumn).css({ \"width\": puma(totalColumn).width() + \"px\" });\r\n                }\r\n                else\r\n                {\r\n                    for (let headerColumn of Array.from(puma(this._divHeader).find(\"th[fitSpace='true']\")))\r\n                        puma(headerColumn).css({ \"width\": puma(headerColumn).width() + \"px\" });\r\n\r\n                    for (let filterColumn of Array.from(puma(this._divFilters).find(\"td[fitSpace='true']\")))\r\n                        puma(filterColumn).css({ \"width\": puma(filterColumn).width() + \"px\" });\r\n\r\n                    for (let totalColumn of Array.from(puma(this._divTotals).find(\"td[fitSpace='true']\")))\r\n                        puma(totalColumn).css({ \"width\": puma(totalColumn).width() + \"px\" });\r\n                }\r\n\r\n                let diffX = e.pageX - pageX!;\r\n                currentColumn.style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                column.width = (currentColumnWidth! + diffX);\r\n\r\n                if (options.filterable)\r\n                {\r\n                    if (isColumnLocked)\r\n                    {\r\n                        if (puma(this._divFiltersLocked).find(\"td\")[index] != null)\r\n                            puma(this._divFiltersLocked).find(\"td\")[index].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                    }\r\n                    else\r\n                    {\r\n                        if (puma(this._divFilters).find(\"td\")[index] != null)\r\n                            puma(this._divFilters).find(\"td\")[index].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                    }\r\n                }\r\n\r\n                if (this._showTotals)\r\n                {\r\n                    if (isColumnLocked)\r\n                    {\r\n                        if (puma(this._divTotalsLocked).find(\"td\")[index] != null)\r\n                            puma(this._divTotalsLocked).find(\"td\")[index].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                    }\r\n                    else\r\n                    {\r\n                        if (puma(this._divTotals).find(\"td\")[index] != null)\r\n                            puma(this._divTotals).find(\"td\")[index].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                    }\r\n                }\r\n\r\n                let indexColumn = this._columnOptions.findIndex(k => k.field == field);\r\n                let columnPosition = this._columnOptions[indexColumn];\r\n                if (options.groupable)\r\n                {\r\n                    let col = puma(this._divBody).find(\"colgroup\").find(\"col[field='\" + field + \"'\");\r\n                    if (isColumnLocked)\r\n                    {\r\n                        col = puma(this._divBodyLocked).find(\"colgroup\").find(\"col[field='\" + field + \"'\");\r\n                        puma(this._divBodyLocked).find(\"td[value='\" + field + \"']\")[0].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                    }\r\n\r\n                    if (col[0] != null)\r\n                    {\r\n                        col[0].style.width = (currentColumnWidth! + diffX + 12) + \"px\";\r\n                        let colWidth = col[0].style.width.getNumericPart();\r\n                        columnPosition.right = columnPosition.left + colWidth;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if (isColumnLocked)\r\n                        puma(this._divBodyLocked).find(\"td[value='\" + field + \"']\")[0].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n                    else\r\n                        puma(this._divBody).find(\"td[value='\" + field + \"']\")[0].style.width = (currentColumnWidth! + diffX) + \"px\";\r\n\r\n                    columnPosition.field = field;\r\n                    columnPosition.left = columnPosition.left;\r\n                    columnPosition.right = columnPosition.left + column.width;\r\n                    columnPosition.index = index;\r\n                }\r\n\r\n                this.recalculateWidth(false);\r\n                window.clearTimeout(timeoutRecalculateWidthWhileMoving);\r\n                timeoutRecalculateWidthWhileMoving = window.setTimeout(() => this.recalculateWidth(), 1000);\r\n            }\r\n        });\r\n\r\n        puma(this.container()).on(\"mouseup\", () =>\r\n        {\r\n            window.setTimeout(() => this._isResizing = false);\r\n\r\n            currentColumn = null;\r\n            pageX = null;\r\n            currentColumnWidth = null;\r\n        });\r\n        //#endregion\r\n    }\r\n    //#endregion\r\n\r\n    //#region Columns Drag&Drop\r\n    private updateColumnOptions()\r\n    {\r\n        let headerTable = puma(this._divHeader).find(\"table\")[0];\r\n        for (let th of Array.from(puma(headerTable).find(\"th\")))\r\n        {\r\n            let field = puma(th).attr(\"value\");\r\n            let index = this._columnOptions.findIndex(k => k.field == field);\r\n            let columnPosition = this._columnOptions[index];\r\n            columnPosition.field = field;\r\n            columnPosition.left = puma(th).offset().left;\r\n            columnPosition.right = puma(th).offset().left + puma(th).width();\r\n            columnPosition.index = puma(th).index();\r\n        }\r\n    }\r\n\r\n    private draggableColumns()\r\n    {\r\n        let options = this.getOptions();\r\n        let headerTable = puma(this._divHeader).find(\"table\")[0];\r\n        for (let th of Array.from<HTMLElement>(puma(headerTable).find(\"th\")))\r\n        {\r\n            let field = puma(th).attr(\"value\");\r\n            if (field == \"vrGridCheckboxColumn\" || field == \"editButton\" || field.startsWith(\"groupBy\"))\r\n                continue;\r\n\r\n            this.drag(th,\r\n                {\r\n                    onDragging: (e) =>\r\n                    {\r\n                        //#region Dragging\r\n                        puma(this._divHeader).find(\"table th\").removeClass(\"grid_tdDraggedOn\");\r\n\r\n                        let draggingColumnPosition = this._columnOptions.filter(k => e.left >= k.left && e.left <= k.right)[0];\r\n                        if (draggingColumnPosition == null)\r\n                        {\r\n                            if (e.left < this._columnOptions[0].left)\r\n                                draggingColumnPosition = this._columnOptions[0];\r\n                            else if (e.left > this._columnOptions[this._columnOptions.length - 1].right)\r\n                                draggingColumnPosition = this._columnOptions[this._columnOptions.length - 1];\r\n                        }\r\n                        else if (draggingColumnPosition.index !== puma(th).index())\r\n                        {\r\n                            puma(th).addClass(\"grid_dragging\");\r\n\r\n                            if (draggingColumnPosition.index < puma(th).index())\r\n                                puma(puma(this._divHeader).find(\"table th\")[draggingColumnPosition.index]).addClass(\"grid_tdDraggedOn\");\r\n                            else\r\n                                puma(puma(this._divHeader).find(\"table th\")[draggingColumnPosition.index + 1]).addClass(\"grid_tdDraggedOn\");\r\n                        }\r\n                        //#endregion\r\n                    },\r\n                    onDragged: (e) =>\r\n                    {\r\n                        //#region Dragged\r\n                        puma(this._divHeader).find(\"table th\").removeClass(\"grid_tdDraggedOn\");\r\n                        puma(th).removeClass(\"grid_dragging\");\r\n                        puma(th)[0].style.cssText += \"top: 0px; left: 0px;\";\r\n\r\n                        let toDragColumnPosition = this._columnOptions.filter(k => e.left >= k.left && e.left <= k.right)[0];\r\n                        if (toDragColumnPosition == null)\r\n                        {\r\n                            if (e.left < this._columnOptions[0].left)\r\n                                toDragColumnPosition = this._columnOptions[0];\r\n                            else if (e.left > this._columnOptions[this._columnOptions.length - 1].right)\r\n                                toDragColumnPosition = this._columnOptions[this._columnOptions.length - 1];\r\n                        }\r\n                        else\r\n                        {\r\n                            let columnIndex = puma(th).index();\r\n\r\n                            //#region Swap column\r\n                            if (toDragColumnPosition.index > columnIndex)\r\n                                puma(puma(this._divHeader).find(\"table th\")[toDragColumnPosition.index]).vrAfterPuma(puma(this._divHeader).find(\"table th\")[columnIndex]);\r\n                            else\r\n                                puma(puma(this._divHeader).find(\"table th\")[toDragColumnPosition.index]).vrBeforePuma(puma(this._divHeader).find(\"table th\")[columnIndex]);\r\n\r\n                            if (options.filterable)\r\n                            {\r\n                                if (toDragColumnPosition.index > columnIndex)\r\n                                    puma(puma(this._divFilters).find(\"table td\")[toDragColumnPosition.index]).vrAfterPuma(puma(this._divFilters).find(\"table td\")[columnIndex]);\r\n                                else\r\n                                    puma(puma(this._divFilters).find(\"table td\")[toDragColumnPosition.index]).vrBeforePuma(puma(this._divFilters).find(\"table td\")[columnIndex]);\r\n                            }\r\n\r\n                            if (this._showTotals)\r\n                            {\r\n                                if (toDragColumnPosition.index > columnIndex)\r\n                                    puma(puma(this._divTotals).find(\"table td\")[toDragColumnPosition.index]).vrAfterPuma(puma(this._divTotals).find(\"table td\")[columnIndex]);\r\n                                else\r\n                                    puma(puma(this._divTotals).find(\"table td\")[toDragColumnPosition.index]).vrBeforePuma(puma(this._divTotals).find(\"table td\")[columnIndex]);\r\n                            }\r\n\r\n                            for (let row of Array.from(puma(this._divBody).find(\"table tr\")))\r\n                            {\r\n                                let field = puma(th).attr(\"value\");\r\n                                let tdJq = puma(row).find(\"td[value='\" + field + \"']\");\r\n                                let tdJqToDrag = puma(row).find(\"td[value='\" + toDragColumnPosition.field + \"']\");\r\n                                if (toDragColumnPosition.index > columnIndex)\r\n                                    tdJqToDrag.vrAfterPuma(tdJq);\r\n                                else\r\n                                    tdJqToDrag.vrBeforePuma(tdJq);\r\n                            }\r\n\r\n                            if (options.groupable)\r\n                            {\r\n                                if (toDragColumnPosition.index > columnIndex)\r\n                                    puma(this._divBody).find(\"colgroup\").find(\"col[field='\" + toDragColumnPosition.field + \"']\").vrAfterPuma(puma(this._divBody).find(\"colgroup\").find(\"col[field='\" + field + \"'\"));\r\n                                else\r\n                                    puma(this._divBody).find(\"colgroup\").find(\"col[field='\" + toDragColumnPosition.field + \"']\").vrBeforePuma(puma(this._divBody).find(\"colgroup\").find(\"col[field='\" + field + \"'\"));\r\n                            }\r\n                            //#endregion\r\n\r\n                            this.updateColumnOptions();\r\n\r\n                            //#region Update options.columns\r\n                            let column = options.columns!.filter(k => k.field == field)[0];\r\n                            let fieldToDrag = toDragColumnPosition.field;\r\n                            let columnToDrag = options.columns!.filter(k => k.field == fieldToDrag)[0];\r\n                            let indexToDrag = options.columns!.indexOf(columnToDrag);\r\n\r\n                            let fromIndex = options.columns!.indexOf(column);\r\n                            let tempColumn = options.columns![fromIndex];\r\n                            options.columns!.splice(fromIndex, 1);\r\n                            options.columns!.splice(indexToDrag, 0, tempColumn);\r\n                            //#endregion\r\n                        }\r\n                        //#endregion\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    //#region Drag column support\r\n    drag(element: HTMLElement | JQuery | string, dragEvent?: DragSupportEvent)\r\n    {\r\n        let targetStartingXPosition: number | null = null;\r\n        puma(element).mousedown((emd: JQuery.MouseDownEvent) =>\r\n        {\r\n            if (this._isResizing === true)\r\n                return;\r\n\r\n            let startingXPosition = emd.clientX;\r\n            let startingYPosition = emd.clientY;\r\n\r\n            let target = puma(emd.currentTarget);\r\n            targetStartingXPosition = target.offset().left;\r\n            let targetStartingYPosition = target.offset().top;\r\n\r\n            let moved = false;\r\n            let tttt = window.setTimeout(() => targetStartingXPosition = null, 100);\r\n\r\n            //#region Moving\r\n            let that = this;\r\n            function mouseMoveDrag(emm: JQuery.MouseMoveEvent)\r\n            {\r\n                clearTimeout(tttt);\r\n                if (targetStartingXPosition == null || that._isResizing === true)\r\n                    return;\r\n\r\n                let actualXPosition = emm.clientX;\r\n                let actualYPosition = emm.clientY;\r\n                let xDiff = startingXPosition - actualXPosition;\r\n                let yDiff = startingYPosition - actualYPosition;\r\n\r\n                if (xDiff >= -50 && xDiff <= 50)\r\n                    return;\r\n\r\n                if (!(emm.clientX == startingXPosition && emm.clientY == startingYPosition))\r\n                {\r\n                    //#region Change position\r\n                    let leftPosition = (emm.clientX - (puma(target[0]).width() / 2));\r\n                    let topPosition = targetStartingYPosition;\r\n                    target.offset({ top: topPosition, left: leftPosition });\r\n                    //#endregion\r\n\r\n                    //#region Dragging event\r\n                    if (dragEvent!.onDragging != null)\r\n                    {\r\n                        let dragEveryEvent = new DragEveryEvent();\r\n                        dragEveryEvent.left = target.position().left;\r\n                        dragEveryEvent.top = target.position().top;\r\n                        dragEveryEvent.element = puma(element)[0];\r\n                        dragEvent!.onDragging(dragEveryEvent);\r\n                    }\r\n                    //#endregion\r\n                }\r\n\r\n                //#region Drag direction\r\n                if (Math.abs(xDiff) > Math.abs(yDiff))\r\n                {\r\n                    if (dragEvent == null && xDiff != 0)\r\n                        return;\r\n\r\n                    moved = true;\r\n                    that._isDragging = true;\r\n                }\r\n                else if (Math.abs(xDiff) < Math.abs(yDiff))\r\n                {\r\n                    if (dragEvent == null && xDiff != 0)\r\n                        return;\r\n\r\n                    moved = true;\r\n                    that._isDragging = true;\r\n                }\r\n                //#endregion\r\n            };\r\n            puma(this.container()).on(\"mousemove\", mouseMoveDrag);\r\n            //#endregion\r\n\r\n            //#region Stop moving\r\n            puma(this.container()).on(\"mouseup\", function mouseUpDrag(e: any)\r\n            {\r\n                puma(that.container()).off(\"mouseup\", mouseUpDrag);\r\n                puma(that.container()).off(\"mousemove\", mouseMoveDrag);\r\n                that._isDragging = false;\r\n\r\n                if (targetStartingXPosition == null || that._isResizing === true)\r\n                {\r\n                    targetStartingXPosition = null;\r\n                    return;\r\n                }\r\n\r\n                //#region Events\r\n                if (moved && dragEvent!.onDragged != null)\r\n                {\r\n                    let dragEveryEvent = new DragEveryEvent();\r\n                    dragEveryEvent.left = target.position().left;\r\n                    dragEveryEvent.top = target.position().top;\r\n                    dragEveryEvent.element = puma(element)[0];\r\n                    dragEvent!.onDragged(dragEveryEvent);\r\n                }\r\n                //#endregion\r\n\r\n                targetStartingXPosition = null;\r\n            });\r\n            //#endregion\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region Sticker\r\n    sticker(text?: string)\r\n    {\r\n        if (text != null && text.length > 0)\r\n        {\r\n            this.showSticker();\r\n            this._lblSticker.value(text);\r\n        }\r\n\r\n        return this._lblSticker;\r\n    }\r\n\r\n    stickerVisible(state?: boolean)\r\n    {\r\n        if (state != null)\r\n            this._lblSticker.visible(state);\r\n\r\n        return this._lblSticker.visible();\r\n    }\r\n\r\n    showSticker()\r\n    {\r\n        this._lblSticker.show();\r\n    }\r\n\r\n    hideSticker()\r\n    {\r\n        this._lblSticker.hide();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Utility\r\n    createTotalsFunction()\r\n    {\r\n        function calculateTotals(e: any)\r\n        {\r\n            let response: any[] = [];\r\n\r\n            //#region Utility\r\n            Array.prototype.vrSum = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n            {\r\n                if (Array.isArray(this))\r\n                {\r\n                    if (callbackfn == null)\r\n                        return this.reduce((ty, u) => ty + u, 0);\r\n                    else\r\n                    {\r\n                        let property = callbackfn.toString().split(\"=>\")[1];\r\n                        let sum: number = 0;\r\n                        this.forEach(k => sum += eval(property));\r\n                        return sum;\r\n                    }\r\n                }\r\n\r\n                return 0;\r\n            }\r\n\r\n            Array.prototype.vrAvg = function (callbackfn?: (value: any, index: number, array: any[]) => any, countZeroInAverage?: boolean)\r\n            {\r\n                if (Array.isArray(this))\r\n                {\r\n                    let length = this.length;\r\n                    if (countZeroInAverage === false)\r\n                        length = this.length - this.filter(k => k == 0).length;\r\n\r\n                    if (length == 0)\r\n                        return 0;\r\n\r\n                    if (callbackfn == null)\r\n                        return this.vrSum() / length;\r\n                    else\r\n                    {\r\n                        let sum = this.vrSum(callbackfn);\r\n                        return sum / length;\r\n                    }\r\n                }\r\n\r\n                return 0;\r\n            }\r\n\r\n            Array.prototype.vrMax = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n            {\r\n                if (Array.isArray(this))\r\n                {\r\n                    if (callbackfn != null)\r\n                    {\r\n                        let property = callbackfn.toString().split(\".\")[1];\r\n                        return this.reduce((oa, u) => Math.max(oa, u[property]), 0);\r\n                    }\r\n                    else\r\n                        return Math.max.apply(null, this);\r\n                }\r\n\r\n                return 0;\r\n            };\r\n\r\n            Array.prototype.vrMin = function (callbackfn?: (value: any, index: number, array: any[]) => any)\r\n            {\r\n                if (Array.isArray(this))\r\n                {\r\n                    if (callbackfn != null)\r\n                    {\r\n                        let property = callbackfn.toString().split(\".\")[1];\r\n                        return this.reduce((oa, u) => Math.min(oa, u[property]), Number.MAX_VALUE);\r\n                    }\r\n                    else\r\n                        return Math.min.apply(null, this);\r\n                }\r\n\r\n                return 0;\r\n            };\r\n            //#endregion\r\n\r\n            //#region Get totals\r\n            let request = e.data as WorkerTotalsRequest;\r\n            if (request.isGroup)\r\n            {\r\n                if (request.groupItems == null || request.groupItems.length == 0 || request.groupItems[0].dataItems[0] == null)\r\n                {\r\n                    (self as any).postMessage(response);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            function getTotals(dataItems: any[])\r\n            {\r\n                let totals = [];\r\n                for (let column of request.columnOptions)\r\n                {\r\n                    let aggregateResult = 0;\r\n                    switch (column.aggregateMode)\r\n                    {\r\n                        case 1: aggregateResult = dataItems.map(k => k[column.field]).length; break;\r\n                        case 4: aggregateResult = dataItems.map(k => k[column.field]).vrSum(); break;\r\n                        case 0:\r\n                            {\r\n                                if (column.type == 3)\r\n                                    aggregateResult = dataItems.map(k => k[column.field]).vrAvg(undefined, column.countZeroInAverage) / 100;\r\n                                else\r\n                                    aggregateResult = dataItems.map(k => k[column.field]).vrAvg(undefined, column.countZeroInAverage);\r\n                            }\r\n                            break;\r\n                        case 3:\r\n                            {\r\n                                if (column.type != null && (column.type == 5 || column.type == 6 || column.type == 7))\r\n                                    aggregateResult = dataItems.map(k => new Date(k[column.field])).vrMin();\r\n                                else\r\n                                    aggregateResult = dataItems.map(k => k[column.field]).vrMin();\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            {\r\n                                if (column.type != null && (column.type == 5 || column.type == 6 || column.type == 7))\r\n                                    aggregateResult = dataItems.map(k => new Date(k[column.field])).vrMax();\r\n                                else\r\n                                    aggregateResult = dataItems.map(k => k[column.field]).vrMax();\r\n                            }\r\n                            break;\r\n                    }\r\n\r\n                    let total: any = {};\r\n                    total.field = column.field;\r\n                    total.total = aggregateResult;\r\n                    total.decimalDigits = column.decimalDigits;\r\n                    total.roundingSettings = column.roundingSettings;\r\n                    total.type = column.type;\r\n                    totals.push(total);\r\n                }\r\n                return totals;\r\n            }\r\n\r\n            if (request.isGroup)\r\n            {\r\n                for (let group of request.groupItems)\r\n                {\r\n                    let totals = getTotals(group.dataItems);\r\n                    response.push({ totals: totals, groupValue: group.groupValue });\r\n                }\r\n            }\r\n            else\r\n            {\r\n                let totals = getTotals(request.dataItems);\r\n                response = totals;\r\n            }\r\n            //#endregion\r\n\r\n            (self as any).postMessage(response);\r\n        }\r\n\r\n        let scriptCalculateTotalsWorker = puma(\"head\").find(\"script[id='vr_workerTotals']\")[0];\r\n        if (scriptCalculateTotalsWorker == null)\r\n            puma(\"<script id='vr_workerTotals'> self.onmessage=\" + calculateTotals.toString() + \" </script>\").vrAppendToPuma(\"head\");\r\n\r\n        let workerTotalsData = new Blob([document.getElementById(\"vr_workerTotals\")!.textContent!],\r\n            {\r\n                type: \"text/javascript\"\r\n            });\r\n        this._workerTotals = new Worker(window.URL.createObjectURL(workerTotalsData));\r\n        this._workerTotalsGroup = new Worker(window.URL.createObjectURL(workerTotalsData));\r\n    }\r\n\r\n    fixDatasourceWithVrDatetime(items: any[])\r\n    {\r\n        let newItems: any[] = [];\r\n        if (this._vrDateTimeFields != null && this._vrDateTimeFields.length > 0)\r\n        {\r\n            for (let item of items.filter(k => k))\r\n            {\r\n                for (let field of this._vrDateTimeFields)\r\n                {\r\n                    if (item[field] != null)\r\n                        item[field] = new DateTime(item[field]);\r\n                }\r\n                newItems.push(item);\r\n            }\r\n        }\r\n        else\r\n            newItems.vrPushRange(items);\r\n\r\n        return newItems;\r\n    }\r\n\r\n    fixDatasourceWithDate(items: any[])\r\n    {\r\n        let options = this.getOptions();\r\n        this._vrDateTimeFields = [];\r\n        let dateTypes = [GridColumnTypeEnum.Date, GridColumnTypeEnum.DateTime, GridColumnTypeEnum.Time, GridColumnTypeEnum.LongDate,\r\n        GridColumnTypeEnum.LongDateTime, GridColumnTypeEnum.LongWeekDate, GridColumnTypeEnum.ShortWeekDate];\r\n        if (options.columns!.vrAny(k => dateTypes.includes(k.type!)))\r\n        {\r\n            let columnDateTypes = options.columns!.filter(k => dateTypes.includes(k.type!));\r\n            for (let column of columnDateTypes)\r\n            {\r\n                for (let row of items)\r\n                {\r\n                    if (row[column.field] != null)\r\n                    {\r\n                        let dateTime = new DateTime(row[column.field]);\r\n                        if (!this._vrDateTimeFields.includes(column.field) && dateTime.isCreatedByDateTime())\r\n                            this._vrDateTimeFields.push(column.field);\r\n\r\n                        row[column.field] = dateTime.toDate();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    pageSize(pageSize?: number, update = false, triggerDataBound = false)\r\n    {\r\n        if (pageSize != null)\r\n        {\r\n            let options = this.getOptions();\r\n            this._actualPageSize = pageSize;\r\n            options.pageSize = pageSize;\r\n\r\n            if (update)\r\n                this.update(triggerDataBound);\r\n\r\n            let newPageSizeItem = { text: String(pageSize), value: String(pageSize), numberValue: pageSize };\r\n            let ddlPageSize = ControlManager.get<ComboBox>(this._elementId + \"_ddlPageSize\");\r\n            if (ddlPageSize != null)\r\n            {\r\n                if (!ddlPageSize.items().vrAny(k => k.value == String(pageSize)))\r\n                    ddlPageSize.addItem(newPageSizeItem, true, false, { field: \"numberValue\" });\r\n\r\n                ddlPageSize.value(String(pageSize), false);\r\n            }\r\n        }\r\n        return this._actualPageSize;\r\n    }\r\n\r\n    pageSelected(page?: number, update = true)\r\n    {\r\n        if (page != null)\r\n        {\r\n            let options = this.getOptions();\r\n            if (options.footer !== false)\r\n                puma(\"#\" + this._divFooter.id + \" button\").removeClass(\"p-grid-pageSelected\");\r\n\r\n            let buttonSelected = ControlManager.get<Button>(this._elementId + \"_btnPage_\" + page);\r\n            if (buttonSelected != null)\r\n                puma(buttonSelected.element()).addClass(\"p-grid-pageSelected\");\r\n\r\n            //#region Event\r\n            if (options.onPageSelected != null)\r\n            {\r\n                let event = new GridPageSelectedEvent();\r\n                event.sender = this;\r\n                event.pageSelected = page;\r\n                options.onPageSelected(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                    return this._actualPageSelected;\r\n            }\r\n            //#endregion\r\n\r\n            this._actualPageSelected = page;\r\n            if (update)\r\n            {\r\n                if (options.serverBinding !== false)\r\n                {\r\n                    let pageSelected = (this._actualPageSelected == 0) ? 0 : (this._actualPageSelected - 1);\r\n                    this._serverBindingPagination.indexFrom = pageSelected * this.pageSize();\r\n                    this._serverBindingPagination.indexTo = this._serverBindingPagination.indexFrom + this.pageSize() - 1;\r\n                    window.setTimeout(() => this.rebind());\r\n                }\r\n                else\r\n                    this.update();\r\n            }\r\n            return page;\r\n        }\r\n        return this._actualPageSelected;\r\n    }\r\n\r\n    checkboxesMode(mode?: GridCheckboxModeEnum)\r\n    {\r\n        let options = this.getOptions();\r\n        if (mode != null)\r\n            options.checkboxes = mode;\r\n\r\n        return options.checkboxes;\r\n    }\r\n\r\n    focus(field?: string)\r\n    {\r\n        let options = this.getOptions();\r\n        if (field != null && options.filterable)\r\n            puma(\"#\" + this._elementId + \"_StringFilter_\" + field).focus();\r\n    }\r\n\r\n    scrollTo(rowIndex: number)\r\n    {\r\n        let rowAtIndex = this.rows().filter(k => k.index == rowIndex)[0];\r\n        if (rowAtIndex != null)\r\n        {\r\n            let position = puma(rowAtIndex.element).position();\r\n            puma(this._divBody).scrollTop(position.top);\r\n        }\r\n    }\r\n\r\n    private isRepeater()\r\n    {\r\n        return puma(this.container()).hasClass(\"vrRepeaterContainer\");\r\n    }\r\n\r\n    private fixValueWithoutSpecialChars(value: string)\r\n    {\r\n        return String(value)\r\n            .replace(/%/, \"\").replace(/ /g, \"\").replace(/\\./g, \"\").replace(/-/g, \"\").replace(/\\//g, \"\").replace(/&/g, \"e\")\r\n            .replace(/\\(/g, \"\").replace(/\\)/g, \"\").replace(/,/g, \"\").replace(/\\[/g, \"\").replace(/\\]/g, \"\").replace(/:/g, \"\");\r\n    }\r\n\r\n    getOptions()\r\n    {\r\n        return (this._internalOptions != null) ? this._internalOptions : this.options<GridOptions>();\r\n    }\r\n\r\n    recalculateWidth(fixColGroup = true)\r\n    {\r\n        let options = this.getOptions();\r\n        if (puma(this._divBody).css('overflow-y') == 'scroll' || puma(this._divBody).css('overflow-y') == 'auto')\r\n        {\r\n            if (puma(this._divBody)[0].scrollHeight > puma(this._divBody)[0].clientHeight && puma(this._divBody)[0].clientHeight > 0)\r\n            {\r\n                //#region Structure\r\n                let minusWidth = 19;\r\n                if (this.thereAreLockedColumns())\r\n                    minusWidth += puma(this._divHeaderLocked).width() + 5;\r\n\r\n                puma(this._divHeader).width(\"Calc(100% - \" + minusWidth + \"px)\")\r\n                puma(this._divHeader).find(\"th[fitSpace='true']\").attr(\"width\", this._fitSpaceColumnPercentage + \"%\");\r\n\r\n                puma(this._divFilters).width(\"Calc(100% - \" + minusWidth + \"px)\")\r\n                puma(this._divFilters).find(\"td[fitSpace='true']\").attr(\"width\", this._fitSpaceColumnPercentage + \"%\");\r\n\r\n                if (this.thereAreLockedColumns())\r\n                {\r\n                    puma(this._divBody).width(\"Calc(100% - \" + (puma(this._divHeaderLocked).width() + 5) + \"px)\")\r\n                    puma(this._divBodyLocked).width(puma(this._divHeaderLocked).width())\r\n                }\r\n                else\r\n                    puma(this._divBody).width(\"Calc(100% - 2px)\");\r\n\r\n                puma(this._divTotals).width(\"Calc(100% - \" + minusWidth + \"px)\")\r\n                puma(this._divTotals).find(\"td[fitSpace='true']\").attr(\"width\", this._fitSpaceColumnPercentage + \"%\");\r\n                //#endregion\r\n\r\n                //#region Fit space\r\n                if (puma(this._divHeader).is(\":visible\"))\r\n                {\r\n                    this._spanFitHeaderSpace.style.cssText += \"top: \" + (puma(this._divHeader).position().top) + \"px; left: \" + (puma(this._divHeader).position().left + puma(this._divHeader).width()) + \"px\";\r\n                    puma(this._spanFitHeaderSpace).show();\r\n                }\r\n\r\n                if (options.filterable)\r\n                {\r\n                    this._spanFitFilterSpace.style.cssText += \"top: \" + (puma(this._divFilters).position().top) + \"px; left: \" + (puma(this._divFilters).position().left + puma(this._divFilters).width()) + \"px\";\r\n                    puma(this._spanFitFilterSpace).show();\r\n                }\r\n                else\r\n                    puma(this._spanFitFilterSpace).hide();\r\n\r\n                if (this._showTotals && this.getAllItems().length > 0)\r\n                {\r\n                    this._spanFitTotalsSpace.style.cssText += \"top: \" + (puma(this._divTotals).position().top) + \"px; left: \" + (puma(this._divTotals).position().left + puma(this._divTotals).width()) + \"px\";\r\n                    puma(this._spanFitTotalsSpace).show();\r\n                }\r\n                else\r\n                    puma(this._spanFitTotalsSpace).hide();\r\n                //#endregion\r\n            }\r\n            else\r\n            {\r\n                let minusWidth = 2;\r\n                if (this.thereAreLockedColumns())\r\n                    minusWidth += puma(this._divHeaderLocked).width() + 5;\r\n\r\n                //#region Structure\r\n                puma(this._divHeader).width(\"Calc(100% - \" + minusWidth + \"px)\")\r\n                puma(this._divHeader).find(\"th[fitSpace='true']\").attr(\"width\", this._fitSpaceColumnPercentage + \"%\");\r\n\r\n                puma(this._divFilters).width(\"Calc(100% - \" + minusWidth + \"px)\")\r\n                puma(this._divFilters).find(\"td[fitSpace='true']\").attr(\"width\", this._fitSpaceColumnPercentage + \"%\");\r\n\r\n                if (this.thereAreLockedColumns())\r\n                {\r\n                    puma(this._divBody).width(\"Calc(100% - \" + (puma(this._divHeaderLocked).width() + 5) + \"px)\")\r\n                    puma(this._divBodyLocked).width(puma(this._divHeaderLocked).width())\r\n                }\r\n                else\r\n                    puma(this._divBody).width(\"Calc(100% - 2px)\");\r\n\r\n                puma(this._divTotals).width(\"Calc(100% - \" + minusWidth + \"px)\")\r\n                puma(this._divTotals).find(\"td[fitSpace='true']\").attr(\"width\", this._fitSpaceColumnPercentage + \"%\");\r\n                //#endregion\r\n\r\n                //#region Fit space\r\n                puma(this._spanFitHeaderSpace).hide();\r\n                puma(this._spanFitFilterSpace).hide();\r\n                puma(this._spanFitTotalsSpace).hide();\r\n                //#endregion\r\n            }\r\n        }\r\n        else\r\n        {\r\n            puma(this._spanFitHeaderSpace).hide();\r\n            puma(this._spanFitFilterSpace).hide();\r\n            puma(this._spanFitTotalsSpace).hide();\r\n        }\r\n\r\n        if (fixColGroup && (options.groupable! || options.groupBy != null))\r\n        {\r\n            let i = 0;\r\n            puma(this._divBody).find(\"table colgroup\").remove();\r\n            let colGroup = puma(\"<colgroup></colgroup>\").prependTo(puma(this._divBody).find(\">table\"));\r\n\r\n            puma(this._divHeaderContainer).show();\r\n            puma(this._divHeader).show();\r\n            for (let column of Array.from(puma(this._divHeader).find(\">table tr:first-child th\")))\r\n            {\r\n                let field = puma(column).attr(\"value\");\r\n\r\n                let display = \"\";\r\n                if (!puma(column).is(\":visible\"))\r\n                    display = \"display: none;\";\r\n                else\r\n                    i++;\r\n\r\n                let width = puma(column).outerWidth();\r\n                if (i == 1)\r\n                    width -= 1;\r\n\r\n                puma(\"<col field='\" + field + \"' style='width: \" + width + \"px; \" + display + \"' />\").vrAppendToPuma(colGroup);\r\n            }\r\n\r\n            if (options.header === false)\r\n                puma(this._divHeader).hide();\r\n\r\n            if (this.thereAreLockedColumns())\r\n            {\r\n                let i = 0;\r\n                puma(this._divBodyLocked).find(\"table colgroup\").remove();\r\n                let colGroup = puma(\"<colgroup></colgroup>\").prependTo(puma(this._divBodyLocked).find(\">table\"));\r\n\r\n                puma(this._divHeaderLocked).show();\r\n                for (let column of Array.from(puma(this._divHeaderLocked).find(\">table tr:first-child th\")))\r\n                {\r\n                    let field = puma(column).attr(\"value\");\r\n\r\n                    let display = \"\";\r\n                    if (!puma(column).is(\":visible\"))\r\n                        display = \"display: none;\";\r\n                    else\r\n                        i++;\r\n\r\n                    let width = puma(column).width();\r\n                    if (i == 1)\r\n                        width -= 1;\r\n\r\n                    puma(\"<col field='\" + field + \"' style='width: \" + width + \"px; \" + display + \"' />\").vrAppendToPuma(colGroup);\r\n                }\r\n\r\n                if (options.header === false)\r\n                    puma(this._divHeaderLocked).hide();\r\n            }\r\n\r\n            if (options.header === false)\r\n                puma(this._divHeaderContainer).hide();\r\n        }\r\n    }\r\n\r\n    height(height?: number | string)\r\n    {\r\n        if (height != null)\r\n        {\r\n            let options = this.getOptions();\r\n            if (typeof (height) == \"number\" && height > 0)\r\n            {\r\n                puma(this._divBody).height(height);\r\n                puma(\"#\" + this.element().id + \"_grid_body_container\").height(height);\r\n\r\n                if (this._lblSticker != null)\r\n                {\r\n                    let headerHeight = (puma(this._divHeader).is(\":visible\")) ? 34 : 0;\r\n                    let filtersHeight = (options.filterable) ? 30 : 0;\r\n                    let totalsheight = (this._showTotals) ? 25 : 0;\r\n                    puma(this._lblSticker.container()).height(puma(this._divBody).height() + headerHeight + filtersHeight + totalsheight - 1);\r\n                }\r\n\r\n                if (options.lockable && this._divBody != null)\r\n                {\r\n                    if (this._divBody.scrollWidth > this._divBody.clientWidth && this._divBody.clientWidth > 0)\r\n                        puma(this._divBodyLocked).height(Number(height) - 17);\r\n                    else\r\n                        puma(this._divBodyLocked).height(height);\r\n                }\r\n            }\r\n        }\r\n        return puma(this._divBody).height();\r\n    }\r\n\r\n    recalculateHeight(afterFilter = false)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        let headerHeight = (puma(this._divHeader).is(\":visible\")) ? 34 : 0;\r\n        let filtersHeight = (options.filterable) ? 30 : 0;\r\n        let totalsheight = (this._showTotals) ? 25 : 0;\r\n\r\n        if (options.height! < 0 || options.height == GridHeightModeEnum.FitScreen)\r\n        {\r\n            let footerHeight = (options.footer !== false) ? 34 : 0;\r\n            let toolbarHeight = (options.toolbar != null) ? 34 : 0;\r\n            let diffHeaderElement = 4;\r\n            let diffHeight = headerHeight + filtersHeight + toolbarHeight + totalsheight + footerHeight + diffHeaderElement;\r\n\r\n            let containerOffset = puma(\"#\" + this._elementId + \"_divContainer\").offset();\r\n            let containerOffsetTop = (containerOffset != null) ? containerOffset.top : 0;\r\n            let height = document.body.offsetHeight - containerOffsetTop - diffHeight + \"px\";\r\n            puma(this._divBody).height(height);\r\n\r\n            let heightContainer = document.body.offsetHeight - containerOffsetTop - diffHeight + 2 + \"px\";\r\n            puma(\"#\" + this.element().id + \"_grid_body_container\").height(heightContainer);\r\n\r\n            if (options.lockable && this._divBody != null)\r\n            {\r\n                if (this._divBody.scrollWidth > this._divBody.clientWidth && this._divBody.clientWidth > 0)\r\n                    puma(this._divBodyLocked).height(height.vrGetNumericPart() - 17);\r\n                else\r\n                    puma(this._divBodyLocked).height(height);\r\n            }\r\n\r\n            if (this._lblSticker != null)\r\n                puma(this._lblSticker.container()).height(puma(this._divBody).height() + headerHeight + filtersHeight + totalsheight - 1);\r\n        }\r\n        else if (afterFilter && typeof (options.height) == \"number\")\r\n        {\r\n            if (puma(this._divFilters).height() > 32)\r\n                puma(this._divBody).height(options.height - 58.5);\r\n            else\r\n                puma(this._divBody).height(options.height - 31);\r\n\r\n            let height = puma(this._divBody).height();\r\n            puma(\"#\" + this.element().id + \"_grid_body_container\").height(height + 2);\r\n\r\n            if (this._lblSticker != null)\r\n                puma(this._lblSticker.container()).height(height + headerHeight + filtersHeight + totalsheight - 1);\r\n\r\n            if (options.lockable && this._divBody != null)\r\n            {\r\n                if (this._divBody.scrollWidth > this._divBody.clientWidth && this._divBody.clientWidth > 0)\r\n                    puma(this._divBodyLocked).height(Number(puma(this._divBody).height()) - 17);\r\n                else\r\n                    puma(this._divBodyLocked).height(puma(this._divBody).height());\r\n            }\r\n        }\r\n    }\r\n\r\n    private adjustTrHeight()\r\n    {\r\n        let options = this.getOptions();\r\n        if (this.thereAreLockedColumns())\r\n        {\r\n            let trLockedList = Array.from<HTMLElement>(puma(this._elementLocked).find(\">tbody tr\"));\r\n            let trList = Array.from<HTMLElement>(puma(this.element()).find(\">tbody tr\"));\r\n            for (let i = 0; i < trLockedList.length; i++)\r\n            {\r\n                let trLocked = trLockedList[i];\r\n                let tr = trList[i];\r\n                let heightToSet = (puma(trLocked).height() > puma(tr).height()) ? puma(trLocked).height() : puma(tr).height();\r\n                if (heightToSet < options.rowHeight!)\r\n                    heightToSet = options.rowHeight!;\r\n\r\n                puma(trLocked).height(heightToSet);\r\n                puma(tr).height(heightToSet);\r\n            }\r\n        }\r\n    }\r\n\r\n    //#region WebApi\r\n    private doWebApiCall(request: GridWebApiRequest, requestType: GridRequestTypeEnum, promiseCallback?: Function)\r\n    {\r\n        let that = this;\r\n        let options = this.getOptions();\r\n\r\n        let json: any = {};\r\n        json.AuthKey = request.authKey;\r\n\r\n        //#region Type\r\n        if (requestType == GridRequestTypeEnum.Delete)\r\n        {\r\n            if ((request as GridToolbarDeleteRequest).deletedValuesPropertyName == null)\r\n                (request as GridToolbarDeleteRequest).deletedValuesPropertyName = \"itemValues\";\r\n\r\n            if ((request as GridToolbarDeleteRequest).valuePropertyName == null)\r\n                (request as GridToolbarDeleteRequest).valuePropertyName = options.dataSourceFieldId!;\r\n\r\n            json[(request as GridToolbarDeleteRequest).deletedValuesPropertyName!] = this.getDeletedItemValues((request as GridToolbarDeleteRequest).valuePropertyName);\r\n        }\r\n        else if (requestType == GridRequestTypeEnum.Rebind || requestType == GridRequestTypeEnum.Excel)\r\n        {\r\n            if (requestType == GridRequestTypeEnum.Rebind)\r\n            {\r\n                if ((request as GridRebindRequest).itemsPropertyName == null)\r\n                    (request as GridRebindRequest).itemsPropertyName = \"items\";\r\n            }\r\n\r\n            //#region Server binding\r\n            if (options.serverBinding !== false)\r\n            {\r\n                //#region Fix date for server\r\n                for (const [key, value] of this._dictionaryFilterConditions.entries())\r\n                {\r\n                    if (value.dateFilterSettings != null)\r\n                    {\r\n                        value.dateFilterSettings.dateFrom = Date.vrConvertDateFromClient(value.dateFilterSettings.dateFrom);\r\n                        if (value.dateFilterSettings.dateTo != null)\r\n                            value.dateFilterSettings.dateTo = Date.vrConvertDateFromClient(value.dateFilterSettings.dateTo);\r\n                    }\r\n                }\r\n                //#endregion\r\n\r\n                let gridServerBindingSettings = new VrGridServerBindingSettings();\r\n                gridServerBindingSettings.indexFrom = this._serverBindingPagination.indexFrom;\r\n                gridServerBindingSettings.indexTo = this._serverBindingPagination.indexTo;\r\n                gridServerBindingSettings.columns = options.columns;\r\n                gridServerBindingSettings.sortingInfo = this._actualSortingInfo;\r\n                gridServerBindingSettings.filters = Dictionary.fromMap(this._dictionaryFilterConditions);\r\n                gridServerBindingSettings.groupByFields = (options.groupBy == null) ? [] : ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field);\r\n                gridServerBindingSettings.excel = requestType == GridRequestTypeEnum.Excel;\r\n\r\n                if ((request as GridExcelRequest).fileName != null)\r\n                    gridServerBindingSettings.excelFileName = (request as GridExcelRequest).fileName;\r\n\r\n                json.serverBindingSettings = gridServerBindingSettings;\r\n            }\r\n            //#endregion\r\n        }\r\n        else if (requestType == GridRequestTypeEnum.Save)\r\n        {\r\n            for (let property in this._actualEditedItem)\r\n            {\r\n                let propertyValue = this._actualEditedItem[property];\r\n                if (Object.prototype.toString.call(propertyValue) === '[object Date]')\r\n                    this._actualEditedItem[property] = Date.vrConvertDateFromClient(propertyValue);\r\n            }\r\n\r\n            if ((request as GridSaveRequest).itemPropertyName == null)\r\n                (request as GridSaveRequest).itemPropertyName = \"item\";\r\n            json[(request as GridSaveRequest).itemPropertyName!] = this._actualEditedItem;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Method\r\n        if (request.method != null)\r\n        {\r\n            if (!request.method!.startsWith(\"/api/\"))\r\n            {\r\n                if (request.method!.startsWith(\"/\"))\r\n                    request.method!.substring(1);\r\n\r\n                request.method = \"/api/\" + request.method;\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Paramaters\r\n        if (request.otherParameters != null)\r\n        {\r\n            let jsonParameters = Object.getOwnPropertyNames(request.otherParameters);\r\n            for (let param of jsonParameters)\r\n                json[param] = request.otherParameters[param];\r\n        }\r\n\r\n        if (request.parameters != null)\r\n        {\r\n            let parameters = request.parameters();\r\n            let jsonParameters = Object.getOwnPropertyNames(parameters);\r\n            for (let param of jsonParameters)\r\n                json[param] = parameters[param];\r\n        }\r\n        //#endregion\r\n\r\n        let jsonS = JSON.stringify(json);\r\n\r\n        //#region Loader\r\n        let loadingElement = request.loadingElement;\r\n        if (loadingElement == null)\r\n            loadingElement = true;\r\n\r\n        if (typeof (loadingElement) == \"boolean\")\r\n        {\r\n            if (loadingElement === false)\r\n                loadingElement = undefined;\r\n            else\r\n                loadingElement = this.container();\r\n        }\r\n\r\n        if (loadingElement != null)\r\n            showLoader((request as any).tempLoadingElement != null ? (request as any).tempLoadingElement : loadingElement, true, \"vrGridLoaderRebind\" + this._elementId);\r\n\r\n        (request as any).tempLoadingElement = undefined;\r\n        //#endregion\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            contentType: \"application/json\",\r\n            data: jsonS,\r\n            method: \"POST\",\r\n            processData: false,\r\n            dataType: \"json\",\r\n            url: request.method,\r\n            success: (response: any, textStatus: string, jqXHR: JQueryXHR) =>\r\n            {\r\n                hideLoader(\"vrGridLoaderRebind\" + this._elementId);\r\n\r\n                that._deletedItems = [];\r\n\r\n                if (response != null && (response.Success || response.success))\r\n                {\r\n                    //#region Success notification message\r\n                    let successMessage = request!.successNotificationMessage;\r\n                    successMessage = (successMessage == null) ? false : successMessage;\r\n\r\n                    if (typeof (successMessage) == \"string\")\r\n                        successMessage = successMessage;\r\n                    else if (successMessage == true)\r\n                    {\r\n                        if (requestType == GridRequestTypeEnum.Delete)\r\n                            successMessage = \"Eliminazione avvenuta correttamente\";\r\n                        else if (requestType == GridRequestTypeEnum.Save)\r\n                            successMessage = \"Salvataggio effettuato correttamente\";\r\n                    }\r\n\r\n                    if (typeof (successMessage) == \"string\")\r\n                        notify(successMessage);\r\n                    //#endregion\r\n\r\n                    //#region Rebind\r\n                    let rebindAfterSave = request!.rebindGridAfterSave;\r\n                    rebindAfterSave = (rebindAfterSave == null) ? false : rebindAfterSave;\r\n\r\n                    if (rebindAfterSave && requestType != GridRequestTypeEnum.Rebind)\r\n                        that.rebind();\r\n                    else\r\n                    {\r\n                        if (requestType == GridRequestTypeEnum.Save)\r\n                            that.updateRow(that._actualEditedItem);\r\n                        else if (requestType == GridRequestTypeEnum.RebindSpecificRows)\r\n                        {\r\n                            let specificItemIdListRequested: any[] = [];\r\n                            if (request.otherParameters != null)\r\n                                specificItemIdListRequested = request.otherParameters[(request as GridRebindRequest).specificItemIdListPropertyName!];\r\n\r\n                            let specificItems: any[] = response[(request as GridRebindRequest).itemsPropertyName!];\r\n                            if (specificItems != null && specificItems.length > 0)\r\n                            {\r\n                                let itemToRemoveIdList = specificItemIdListRequested.filter(k => !specificItems.map(k => k[options.dataSourceFieldId!]).includes(k));\r\n                                let itemsToAddIdList = specificItems.filter(k => !this.originalDataSource().map(j => j[options.dataSourceFieldId!]).includes(k[options.dataSourceFieldId!])).map(k => k[options.dataSourceFieldId!]);\r\n\r\n                                for (let specificItem of specificItems)\r\n                                {\r\n                                    let specificItemId = specificItem[options.dataSourceFieldId!];\r\n                                    if (itemToRemoveIdList.includes(specificItemId) || itemsToAddIdList.includes(specificItemId))\r\n                                        continue;\r\n\r\n                                    this.updateRow(specificItem, false);\r\n                                }\r\n\r\n                                for (let itemToRemoveId of itemToRemoveIdList)\r\n                                    this.deleteRow(itemToRemoveId, false);\r\n\r\n                                for (let itemToAddId of itemsToAddIdList)\r\n                                    this.addRow(specificItems.filter(k => k[options.dataSourceFieldId!] == itemToAddId)[0], false);\r\n                            }\r\n                            else\r\n                            {\r\n                                for (let itemToRemoveId of specificItemIdListRequested)\r\n                                    this.deleteRow(itemToRemoveId, false);\r\n                            }\r\n\r\n                            if (request.otherParameters[\"update\"])\r\n                            {\r\n                                if (this._actualSortingInfo != null)\r\n                                    this.applySorting(false);\r\n\r\n                                if (this._dictionaryFilterConditions.size > 0)\r\n                                    this.applyFilters(false, false);\r\n\r\n                                if (options.groupBy != null)\r\n                                    this.sortingGroupFields(this.dataSource());\r\n\r\n                                this.update(true, false);\r\n                            }\r\n                        }\r\n                    }\r\n                    //#endregion\r\n\r\n                    if (request!.callbackBeforeDatasourceChange != null)\r\n                        request!.callbackBeforeDatasourceChange(response);\r\n\r\n                    //#region Set data source if rebind\r\n                    if (requestType == GridRequestTypeEnum.Rebind && response[(request as GridRebindRequest).itemsPropertyName!] != null)\r\n                    {\r\n                        if (options.serverBinding !== false)\r\n                        {\r\n                            this._responseForServerBinding = response;\r\n\r\n                            let maxLength = this._responseForServerBinding[(options.serverBinding! as GridServerBindSettings).itemCountPropertyName!];\r\n                            let pageSelected = this.pageSelected();\r\n                            let numberOfPages = Math.trunc(maxLength / Number(options.pageSize!));\r\n                            if (maxLength % Number(options.pageSize!) > 0)\r\n                                numberOfPages += 1;\r\n\r\n                            if (pageSelected > numberOfPages)\r\n                                this.pageSelected(1, false);\r\n                        }\r\n\r\n                        let clearFilters = ((request as GridRebindRequest).clearFilters == null) ? false : (request as GridRebindRequest).clearFilters;\r\n\r\n                        let newDatasource = response[(request as GridRebindRequest).itemsPropertyName!];\r\n                        if (newDatasource.length == 0)\r\n                            this.clear();\r\n                        else\r\n                            that.dataSource(newDatasource, clearFilters);\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region Excel for Server binding\r\n                    if (requestType == GridRequestTypeEnum.Excel && options.serverBinding !== false)\r\n                    {\r\n                        let downloadUrl = response[(options.serverBinding as GridServerBindSettings).excelDownloadUrlPropertyName!];\r\n                        if (downloadUrl != null && downloadUrl.length > 0)\r\n                            location.replace(downloadUrl);\r\n                    }\r\n                    //#endregion\r\n\r\n                    if (that._wndAutoWindow != null)\r\n                        that._wndAutoWindow.close();\r\n\r\n                    if (request!.callback != null)\r\n                        request!.callback(response);\r\n\r\n                    if (options.onDataSourceChanged != null)\r\n                        options.onDataSourceChanged();\r\n\r\n                    if (promiseCallback != null)\r\n                        promiseCallback();\r\n                }\r\n                else\r\n                {\r\n                    let exception = (response.Exception || response.exception);\r\n                    let exceptionCode = (exception.Code || exception.code);\r\n                    if (response != null && exceptionCode == \"403\")\r\n                    {\r\n                        location.replace(\"/Default.aspx\");\r\n                        return;\r\n                    }\r\n\r\n                    //#region Error notification message\r\n                    let errorMessage = request!.errorNotificationMessage;\r\n                    errorMessage = (errorMessage == null) ? true : errorMessage;\r\n\r\n                    if (errorMessage == true || typeof (errorMessage) == \"string\")\r\n                        notifyError((typeof (errorMessage) == \"string\") ? errorMessage! : ((response != null) ? (response.ExceptionMessage! || response.exceptionMessage) : \"Errore nel salvataggio\"));\r\n                    //#endregion\r\n\r\n                    //#region Rebind\r\n                    let rebindAfterError = request!.rebindGridAfterError;\r\n                    rebindAfterError = (rebindAfterError == null) ? false : rebindAfterError;\r\n\r\n                    if (rebindAfterError && requestType != GridRequestTypeEnum.Rebind)\r\n                        that.rebind();\r\n                    //#endregion\r\n\r\n                    let closeWindowAfterError = request!.closeWindowAfterError;\r\n                    closeWindowAfterError = (closeWindowAfterError == null) ? false : closeWindowAfterError;\r\n                    if (that._wndAutoWindow != null && closeWindowAfterError)\r\n                        that._wndAutoWindow.close();\r\n\r\n                    if (request!.errorCallback != null)\r\n                        request!.errorCallback((response != null) ? (response.ExceptionMessage! || response.exceptionMessage) : \"Errore nel salvataggio\");\r\n                }\r\n            },\r\n            error: (response: JQueryXHR, textStatus: string, errorThrown: string) =>\r\n            {\r\n                hideLoader(\"vrGridLoaderRebind\" + this._elementId);\r\n\r\n                //#region Error notification message\r\n                let errorMessage = request!.errorNotificationMessage;\r\n                errorMessage = (errorMessage == null) ? true : errorMessage;\r\n\r\n                let message = \"Errore nel salvataggio\";\r\n                if (response.responseJSON != null)\r\n                    message = (response.responseJSON.errorMessage != null) ? response.responseJSON.errorMessage : ((response.responseJSON.Message || response.responseJSON.message) + \"<br />\" + (response.responseJSON.ExceptionMessage || response.responseJSON.exceptionMessage));\r\n                else if (response.responseText != null && response.responseText != \"\")\r\n                    message = response.responseText;\r\n                else if (response.statusText != null && response.statusText != \"\")\r\n                    message = response.statusText;\r\n                else\r\n                    message = \"Si è verificato un problema\";\r\n\r\n                if (response.status == 401)\r\n                    message = \"Auth key errata\";\r\n                else if (response.status == 404)\r\n                    message = \"Web Api non trovata\";\r\n                else if (response.status == 403)\r\n                {\r\n                    location.replace(\"/Default.aspx\");\r\n                    return;\r\n                }\r\n\r\n                let finalMessage = \"Errore nel salvataggio\";\r\n                if (errorMessage == true || typeof (errorMessage) == \"string\")\r\n                {\r\n                    finalMessage = (errorMessage == true) ? message : errorMessage;\r\n                    notifyError(finalMessage);\r\n                }\r\n                //#endregion\r\n\r\n                //#region Rebind\r\n                let rebindAfterError = request!.rebindGridAfterError;\r\n                rebindAfterError = (rebindAfterError == null) ? false : rebindAfterError;\r\n\r\n                if (rebindAfterError && requestType != GridRequestTypeEnum.Rebind)\r\n                    that.rebind();\r\n                //#endregion\r\n\r\n                let closeWindowAfterError = request!.closeWindowAfterError;\r\n                closeWindowAfterError = (closeWindowAfterError == null) ? false : closeWindowAfterError;\r\n                if (that._wndAutoWindow != null && closeWindowAfterError)\r\n                    that._wndAutoWindow.close();\r\n\r\n                if (request!.errorCallback != null)\r\n                    request!.errorCallback(finalMessage);\r\n            }\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion    \r\n    enable(state?: boolean | string)\r\n    {\r\n        if (state == null)\r\n            state = true;\r\n\r\n        puma(\"#\" + puma(this.element()).attr(\"id\") + \"_divContainer\").find(\".grid_divTableDisabled\").remove();\r\n        if (state !== true)\r\n        {\r\n            let options = this.getOptions();\r\n            let message = (typeof (state) == \"string\") ? (\"<span>\" + state + \"</span>\") : \"\";\r\n            if (message == \"\" && typeof (options.enable) == \"string\")\r\n                message = \"<span>\" + options.enable + \"</span>\";\r\n\r\n            puma(\"<div class='grid_divTableDisabled'>\" + message + \"</div>\").vrAppendToPuma(\"#\" + puma(this.element()).attr(\"id\") + \"_divContainer\");\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#region Toolbar\r\n    private toolbarCustomLogic(toolbarItem: GridToolbarItem, toolbarClickEvent: GridToolbarClickEvent)\r\n    {\r\n        if (toolbarItem.onBeforeClick != null)\r\n        {\r\n            toolbarItem.onBeforeClick(toolbarClickEvent);\r\n            if (toolbarClickEvent.isDefaultPrevented)\r\n                return;\r\n        }\r\n\r\n        switch (toolbarItem.type)\r\n        {\r\n            case GridToolbarItemType.Add:\r\n                {\r\n                    if (toolbarItem.onClick == null)\r\n                        this.openAutoWindow();\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Delete:\r\n                {\r\n                    let options = this.getOptions();\r\n                    let checkedItems = this.getCheckedItems();\r\n                    this._deletedItems.vrPushRange(checkedItems);\r\n                    toolbarClickEvent.deletedItems = this._deletedItems;\r\n\r\n                    this.deleteRows(checkedItems.map(k => k[options.dataSourceFieldId!]));\r\n                    this.clearSelection();\r\n\r\n                    //#region Delete request\r\n                    let deleteRequest = toolbarItem.deleteRequest;\r\n                    if (deleteRequest != null && options.mode == GridModeEnum.Sync)\r\n                        this.doWebApiCall(deleteRequest, GridRequestTypeEnum.Delete);\r\n                    else\r\n                    {\r\n                        this.update();\r\n                        if (options.onDataSourceChanged != null)\r\n                            options.onDataSourceChanged();\r\n                    }\r\n                    //#endregion\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Rebind:\r\n                {\r\n                    this._deletedItems = [];\r\n                    this.rebind();\r\n                    this.clearSelection();\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Excel:\r\n                {\r\n                    this.excelExport(toolbarItem.excelFileName);\r\n                }\r\n                break;\r\n            case GridToolbarItemType.ExcelWithHiddenColumns:\r\n                {\r\n                    this.excelExport(toolbarItem.excelFileName, true);\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (toolbarItem.onClick != null)\r\n            toolbarItem.onClick(toolbarClickEvent);\r\n    }\r\n\r\n    //#region Excel\r\n    excelExport(fileName = \"Esportazione_excel\", exportHiddenColumns = false)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        //#region Before excel export\r\n        if (options.onBeforeExcelExport != null)\r\n        {\r\n            let event = new GridBeforeExcelExportEvent();\r\n            event.sender = this;\r\n            event.fileName = fileName;\r\n            event.exportHiddenColumns = exportHiddenColumns;\r\n            options.onBeforeExcelExport(event);\r\n\r\n            if (event.isDefaultPrevented())\r\n                return;\r\n        }\r\n        //#endregion\r\n\r\n        if (!options.serverBinding)\r\n            showLoader(this.container(), true, \"vrGridLoaderExcel\" + this._elementId);\r\n\r\n        window.setTimeout(() =>\r\n        {\r\n            if (!options.serverBinding)\r\n            {\r\n                //#region Header rows\r\n                let headerRow = new GridExcelRow();\r\n                headerRow.cells = [];\r\n                for (let column of options.columns!)\r\n                {\r\n                    if (column.exportable !== true && ((!exportHiddenColumns && column.hidden == true\r\n                        && (options.groupBy == null || !((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                        || column.type == GridColumnTypeEnum.EditButton || column.type == GridColumnTypeEnum.Image\r\n                        || column.type == GridColumnTypeEnum.Button || column.type == GridColumnTypeEnum.Icon || column.exportable === false))\r\n                        continue;\r\n\r\n                    let excelCell = new GridExcelCell();\r\n                    excelCell.field = column.field;\r\n                    excelCell.title = column.title;\r\n                    excelCell.text = column.title;\r\n                    excelCell.bold = column.bold;\r\n                    excelCell.type = column.type;\r\n                    excelCell.width = column.width;\r\n                    excelCell.cellSettings = column.headerSettings;\r\n                    excelCell.hidden = column.hidden;\r\n                    excelCell.locked = column.locked;\r\n                    headerRow.cells.push(excelCell);\r\n                }\r\n                //#endregion\r\n\r\n                //#region Content rows\r\n                let contentRows: GridExcelRow[] = [];\r\n                for (let item of this.dataSource())\r\n                {\r\n                    let contentRow = new GridExcelRow();\r\n                    contentRow.cells = [];\r\n\r\n                    for (let column of options.columns!)\r\n                    {\r\n                        if (column.exportable !== true && ((!exportHiddenColumns && column.hidden == true && (options.groupBy == null || !((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                            || column.type == GridColumnTypeEnum.EditButton || column.type == GridColumnTypeEnum.Image\r\n                            || column.type == GridColumnTypeEnum.Button || column.type == GridColumnTypeEnum.Icon\r\n                            || column.exportable === false))\r\n                            continue;\r\n\r\n                        let textHTML = (item[column.field] == null) ? \"\" : String(item[column.field]);\r\n                        let textAlign = GridAlignEnum.Left;\r\n\r\n                        //#region Type\r\n                        switch (column.type)\r\n                        {\r\n                            //#region Date, DateTime, Time\r\n                            case GridColumnTypeEnum.Date:\r\n                            case GridColumnTypeEnum.DateTime:\r\n                            case GridColumnTypeEnum.Time:\r\n                            case GridColumnTypeEnum.LongDate:\r\n                            case GridColumnTypeEnum.LongDateTime:\r\n                            case GridColumnTypeEnum.LongWeekDate:\r\n                            case GridColumnTypeEnum.ShortWeekDate:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Center;\r\n                                    let dateModeEnum: DateModeEnum = DateModeEnum.Date;\r\n\r\n                                    if (column.type == GridColumnTypeEnum.Date) dateModeEnum = DateModeEnum.Date;\r\n                                    else if (column.type == GridColumnTypeEnum.DateTime) dateModeEnum = DateModeEnum.DateTime;\r\n                                    else if (column.type == GridColumnTypeEnum.Time) dateModeEnum = DateModeEnum.Time;\r\n                                    else if (column.type == GridColumnTypeEnum.LongDate) dateModeEnum = DateModeEnum.LongDate;\r\n                                    else if (column.type == GridColumnTypeEnum.LongDateTime) dateModeEnum = DateModeEnum.LongDateTime;\r\n                                    else if (column.type == GridColumnTypeEnum.LongWeekDate) dateModeEnum = DateModeEnum.LongWeekDate;\r\n                                    else if (column.type == GridColumnTypeEnum.ShortWeekDate) dateModeEnum = DateModeEnum.ShortWeekDate;\r\n\r\n                                    textHTML = (textHTML == \"\") ? \"\" : new Date(new Date(textHTML)).vrToItalyString(dateModeEnum, column.showSeconds);\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region Number, Currency, Percentage, Duration\r\n                            case GridColumnTypeEnum.Number:\r\n                            case GridColumnTypeEnum.Currency:\r\n                            case GridColumnTypeEnum.Percentage:\r\n                            case GridColumnTypeEnum.Duration:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Right;\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region Custom\r\n                            case GridColumnTypeEnum.Custom:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Center;\r\n                                    if (column.customSettings != null)\r\n                                    {\r\n                                        try\r\n                                        {\r\n                                            let settings = column.customSettings({ dataItem: item });\r\n                                            if (settings && settings.template !== \"\" && textHTML == \"\")\r\n                                                textHTML = settings.template;\r\n                                        }\r\n                                        catch (e) { }\r\n                                    }\r\n                                    else\r\n                                        textHTML = puma(textHTML).text();\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region Label\r\n                            case GridColumnTypeEnum.Label:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Center;\r\n                                    if (column.labelSettings != null)\r\n                                    {\r\n                                        try\r\n                                        {\r\n                                            let settings = column.labelSettings({ dataItem: item });\r\n                                            textHTML = (settings.text == null) ? \"\" : settings.text;\r\n                                        }\r\n                                        catch (e) { }\r\n                                    }\r\n                                    else\r\n                                        textHTML = puma(textHTML).text();\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region String\r\n                            case GridColumnTypeEnum.String:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Left;\r\n                                    textHTML = puma(\"<span>\" + textHTML + \"</span>\").text();\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region Password\r\n                            case GridColumnTypeEnum.PasswordViewable:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Left;\r\n                                    textHTML = puma(\"<span>\" + textHTML + \"</span>\").text();\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region CheckBox\r\n                            case GridColumnTypeEnum.Checkbox:\r\n                            case GridColumnTypeEnum.Boolean:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Center;\r\n                                    textHTML = (item[column.field] == true) ? \"true\" : \"false\";\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region ComboBox, DropDownList, DropDownTree\r\n                            case GridColumnTypeEnum.ComboBox:\r\n                            case GridColumnTypeEnum.DropDownList:\r\n                            case GridColumnTypeEnum.DropDownTree:\r\n                            case GridColumnTypeEnum.DropDownTreeCheckboxes:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Left;\r\n                                    let itemValue = item[column.displayField!];\r\n                                    if (itemValue != null)\r\n                                        textHTML = itemValue.toString();\r\n                                    else\r\n                                        textHTML = \"\";\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n\r\n                            //#region Color\r\n                            case GridColumnTypeEnum.Color:\r\n                                {\r\n                                    textAlign = GridAlignEnum.Center;\r\n                                }\r\n                                break;\r\n                            //#endregion\r\n                        }\r\n                        //#endregion\r\n\r\n                        if (column.cellSettings == null)\r\n                            column.cellSettings = new GridHeaderAndCellSettings();\r\n\r\n                        if (column.cellSettings.textAlign == null)\r\n                            column.cellSettings.textAlign = textAlign;\r\n\r\n                        let excelCell = new GridExcelCell();\r\n                        excelCell.field = column.field;\r\n                        excelCell.title = column.title;\r\n                        excelCell.text = textHTML;\r\n                        excelCell.bold = column.bold;\r\n                        excelCell.type = column.type;\r\n                        excelCell.width = column.width;\r\n                        excelCell.cellSettings = column.cellSettings;\r\n                        excelCell.decimalDigits = column.decimalDigits;\r\n                        excelCell.roundingSettings = (column.roundingSettings != null) ? column.roundingSettings : options.roundingSettings;\r\n                        excelCell.hidden = column.hidden;\r\n                        excelCell.locked = column.locked;\r\n\r\n                        //#region Aggregate mode\r\n                        if (column.aggregate === true)\r\n                        {\r\n                            switch (column.type)\r\n                            {\r\n                                case GridColumnTypeEnum.Number: column.aggregate = GridAggregateMode.Sum; break;\r\n                                case GridColumnTypeEnum.Currency: column.aggregate = GridAggregateMode.Sum; break;\r\n                                case GridColumnTypeEnum.Duration: column.aggregate = GridAggregateMode.Sum; break;\r\n                                case GridColumnTypeEnum.Percentage: column.aggregate = GridAggregateMode.Average; break;\r\n                                default: column.aggregate = GridAggregateMode.Sum;\r\n                            }\r\n                        }\r\n                        excelCell.aggregate = (column.aggregate == null || column.aggregate === false) ? GridAggregateMode.None : column.aggregate;\r\n                        //#endregion\r\n\r\n                        //#region Background color\r\n                        let backgroundColor = \"\";\r\n                        let color = \"\";\r\n                        if (column.cellSettings != null)\r\n                        {\r\n                            if (column.cellSettings.backgroundColor != null)\r\n                                backgroundColor = column.cellSettings.backgroundColor;\r\n\r\n                            if (column.cellSettings.color != null)\r\n                                color = column.cellSettings.color;\r\n                        }\r\n\r\n                        if (options.rowColorProperty != null && item[options.rowColorProperty] != null && item[options.rowColorProperty] !== \"\")\r\n                            backgroundColor = item[options.rowColorProperty];\r\n\r\n                        excelCell.backgroundColor = backgroundColor;\r\n                        excelCell.color = color;\r\n                        //#endregion\r\n\r\n                        contentRow.cells.push(excelCell);\r\n                    }\r\n                    contentRows.push(contentRow);\r\n                }\r\n                //#endregion\r\n\r\n                //#region Footer rows\r\n                let footerRow = new GridExcelRow();\r\n                footerRow.cells = [];\r\n                for (let td of Array.from<HTMLElement>(puma(this._divTotals).find(\"td\")))\r\n                {\r\n                    let field = puma(td).attr(\"value\");\r\n                    if (field == null)\r\n                        continue;\r\n\r\n                    let column = options.columns!.filter(k => k.field == field)[0];\r\n                    if (column == null || (column != null && column.exportable !== true))\r\n                    {\r\n                        if (column == null || (!exportHiddenColumns && column.hidden == true && (options.groupBy == null || !((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field).includes(column.field)))\r\n                            || column.type == GridColumnTypeEnum.EditButton || column.type == GridColumnTypeEnum.Image\r\n                            || column.type == GridColumnTypeEnum.Button || column.type == GridColumnTypeEnum.Icon || column.exportable === false)\r\n                            continue;\r\n                    }\r\n\r\n                    let excelCell = new GridExcelCell();\r\n                    excelCell.field = column.field;\r\n                    excelCell.title = column.title;\r\n                    excelCell.text = String(Number(td.innerHTML.replace(\"€\", \"\").replace(\"%\", \"\").replace(\".\", \"\").replace(\",\", \".\")));\r\n                    excelCell.bold = column.bold;\r\n                    excelCell.type = column.type;\r\n                    excelCell.width = column.width;\r\n                    excelCell.decimalDigits = column.decimalDigits;\r\n                    excelCell.roundingSettings = (column.roundingSettings != null) ? column.roundingSettings : options.roundingSettings;\r\n                    excelCell.hidden = column.hidden;\r\n                    excelCell.locked = column.locked;\r\n\r\n                    //#region Aggregate mode\r\n                    if (column.aggregate === true)\r\n                    {\r\n                        switch (column.type)\r\n                        {\r\n                            case GridColumnTypeEnum.Number: column.aggregate = GridAggregateMode.Sum; break;\r\n                            case GridColumnTypeEnum.Currency: column.aggregate = GridAggregateMode.Sum; break;\r\n                            case GridColumnTypeEnum.Duration: column.aggregate = GridAggregateMode.Sum; break;\r\n                            case GridColumnTypeEnum.Percentage: column.aggregate = GridAggregateMode.Average; break;\r\n                            default: column.aggregate = GridAggregateMode.Sum;\r\n                        }\r\n                    }\r\n                    excelCell.aggregate = (column.aggregate == null || column.aggregate === false) ? GridAggregateMode.None : column.aggregate;\r\n                    //#endregion\r\n\r\n                    footerRow.cells.push(excelCell);\r\n                }\r\n                //#endregion\r\n\r\n                //#region Generate Excel\r\n                if (options.excel != null && options.excel.fileName != null) fileName = options.excel.fileName;\r\n\r\n                let generateExcelRequest = new GenerateExcelRequest();\r\n                generateExcelRequest.headerRow = headerRow;\r\n                generateExcelRequest.contentRows = contentRows;\r\n                generateExcelRequest.footerRow = footerRow;\r\n                generateExcelRequest.excelFileName = fileName;\r\n                generateExcelRequest.AuthKey = \"10(P9m+U3a@Mtt-Oeo\";\r\n                generateExcelRequest.exportHiddenColumns = exportHiddenColumns;\r\n\r\n                if (options.groupBy != null)\r\n                {\r\n                    let groupByFields = (options.groupBy as GridGroupBySettings).fields;\r\n                    generateExcelRequest.groupBy = groupByFields as GridGroupByItem[];\r\n                }\r\n\r\n                let jsonString = JSON.stringify(generateExcelRequest);\r\n\r\n                //#region Multipart\r\n                let formDataMultipart = null;\r\n                formDataMultipart = new FormData();\r\n                formDataMultipart.append(\"file\", new Blob([jsonString], { type: \"application/json\" }));\r\n                //#endregion\r\n\r\n                $.ajax(\r\n                    {\r\n                        type: \"POST\",\r\n                        beforeSend: (xhr: any) =>\r\n                        {\r\n                            //#region Header parameters\r\n                            xhr.setRequestHeader(\"Accept-Language\", \"it\");\r\n                            xhr.setRequestHeader(\"AuthKey\", \"10(P9m+U3a@Mtt-Oeo\");\r\n                            //#endregion\r\n                        },\r\n                        contentType: false,\r\n                        data: formDataMultipart,\r\n                        method: \"POST\",\r\n                        processData: false,\r\n                        dataType: \"JSON\",\r\n                        url: \"/api/UtilityWebApi/GenerateExcel\",\r\n                        success: (response: GenerateExcelResponse, textStatus: string, jqXHR: JQueryXHR) =>\r\n                        {\r\n                            hideLoader(\"vrGridLoaderExcel\" + this._elementId);\r\n\r\n                            //#region After excel export\r\n                            if (options.onAfterExcelExport != null)\r\n                            {\r\n                                let event = new GridAfterExcelExportEvent();\r\n                                event.sender = this;\r\n                                event.headerRow = headerRow;\r\n                                event.contentRows = contentRows;\r\n                                event.footerRow = footerRow;\r\n                                event.excelFileName = fileName;\r\n                                event.exportHiddenColumns = exportHiddenColumns;\r\n\r\n                                if (options.groupBy != null)\r\n                                {\r\n                                    let groupByFields = (options.groupBy as GridGroupBySettings).fields;\r\n                                    event.groupBy = (groupByFields != null) ? (groupByFields as GridGroupByItem[]).map(k => k.field) : null;\r\n                                }\r\n\r\n                                options.onAfterExcelExport(event);\r\n\r\n                                if (event.isDefaultPrevented())\r\n                                    return;\r\n                            }\r\n                            //#endregion\r\n\r\n                            if (response.downloadUrl != null && response.downloadUrl.length > 0)\r\n                                location.replace(response.downloadUrl);\r\n\r\n                            if (!(response as any).Success)\r\n                                alert((response as any).ErrorMessage + \"<br />\" + (response as any).StackTrace, { width: 600, css: \"overflow: auto;\" });\r\n                        },\r\n                        error: (response: JQueryXHR, textStatus: string, errorThrown: string) =>\r\n                        {\r\n                            hideLoader();\r\n                            alert(\"Errore nell'esportazione Excel. Contattare l'assistenza.\");\r\n                        }\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                if (options.excel != null)\r\n                {\r\n                    if (options.excel.fileName == null) options.excel.fileName = fileName;\r\n                    this.doWebApiCall(options.excel, GridRequestTypeEnum.Excel);\r\n                }\r\n            }\r\n            //#endregion\r\n        }, 200);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Toolbar\r\n    visibleToolbar(state?: boolean)\r\n    {\r\n        if (state != null)\r\n        {\r\n            if (state) puma(this._divToolbar).show();\r\n            else puma(this._divToolbar).hide();\r\n        }\r\n        return puma(this._divToolbar).is(\":visible\");\r\n    }\r\n\r\n    showToolbar()\r\n    {\r\n        this.visibleToolbar(true);\r\n    }\r\n\r\n    hideToolbar()\r\n    {\r\n        this.visibleToolbar(false);\r\n    }\r\n\r\n    toolbar()\r\n    {\r\n        return this._divToolbar;\r\n    }\r\n\r\n    toolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        return ControlManager.get<T>(\"grid-\" + value + \"_\" + this._elementId);\r\n    }\r\n\r\n    showToolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        let toolbarItem = this.toolbarItem<T>(value);\r\n        if (toolbarItem != null)\r\n            toolbarItem.show();\r\n    }\r\n\r\n    hideToolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        let toolbarItem = this.toolbarItem<T>(value);\r\n        if (toolbarItem != null)\r\n            toolbarItem.hide();\r\n    }\r\n\r\n    enableToolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        let toolbarItem = this.toolbarItem<T>(value);\r\n        if (toolbarItem != null)\r\n            toolbarItem.enable();\r\n    }\r\n\r\n    disableToolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        let toolbarItem = this.toolbarItem<T>(value);\r\n        if (toolbarItem != null)\r\n            toolbarItem.disable();\r\n    }\r\n\r\n    removeToolbarItem(value: string)\r\n    {\r\n        let toolbarItem = this.toolbarItem(value);\r\n        if (toolbarItem != null)\r\n            puma(toolbarItem.container()).remove();\r\n    }\r\n\r\n    addToolbarItems(toolbarItems: GridToolbarItem[])\r\n    {\r\n        for (let toolbarItem of toolbarItems)\r\n            this.addToolbarItem(toolbarItem);\r\n    }\r\n\r\n    addToolbarItem(toolbarItem: GridToolbarItem)\r\n    {\r\n        if (toolbarItem.visible == null) toolbarItem.visible = true;\r\n        if (toolbarItem.type == null) toolbarItem.type = GridToolbarItemType.Custom;\r\n\r\n        //#region Toolbar control settings\r\n        let text = \"\";\r\n        let iconClass: IconClass | undefined = undefined;\r\n        let buttonClass = \"\";\r\n        let enabled = toolbarItem.enable;\r\n        let vrButton = false;\r\n        if (toolbarItem.css == null) toolbarItem.css = \"\";\r\n        if (toolbarItem.cssContainer == null) toolbarItem.cssContainer = \"\";\r\n        let toolbarItemValue = (toolbarItem.value == null) ? ((toolbarItem.text != null) ? toolbarItem.text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\") : \"noValue\") : toolbarItem.value;\r\n\r\n        //#region Toolbar item type\r\n        switch (toolbarItem.type)\r\n        {\r\n            case GridToolbarItemType.Add:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"Aggiungi\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicLight.Plus;\r\n                    buttonClass = (toolbarItem.value != null) ? \"grid-\" + toolbarItem.value : \"grid-add\";\r\n                    vrButton = true;\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Custom:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : undefined;\r\n                    buttonClass = \"grid-\" + toolbarItemValue;\r\n                    vrButton = true;\r\n                }\r\n                break;\r\n            case GridToolbarItemType.SplitButton:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : undefined;\r\n                    vrButton = false;\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Switch:\r\n            case GridToolbarItemType.ButtonGroup:\r\n            case GridToolbarItemType.CheckBox:\r\n            case GridToolbarItemType.ComboBox:\r\n            case GridToolbarItemType.DatePicker:\r\n            case GridToolbarItemType.Label:\r\n            case GridToolbarItemType.TextBox:\r\n                {\r\n                    vrButton = false;\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Delete:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"Elimina\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicRegular.Xmark;\r\n                    buttonClass = (toolbarItem.value != null) ? \"grid-\" + toolbarItem.value : \"grid-delete\";\r\n                    vrButton = true;\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Excel:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"Excel\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicLight.FileExcel;\r\n                    buttonClass = (toolbarItem.value != null) ? \"grid-\" + toolbarItem.value : \"grid-excel\";\r\n                    vrButton = true;\r\n                    toolbarItem.backgroundColor = \"#008a00\";\r\n                    toolbarItem.textColor = \"#FFF\";\r\n                }\r\n                break;\r\n            case GridToolbarItemType.ExcelWithHiddenColumns:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"Excel\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicLight.FileExcel;\r\n                    buttonClass = (toolbarItem.value != null) ? \"grid-\" + toolbarItem.value : \"grid-excelHiddenColumns\";\r\n                    vrButton = true;\r\n                    toolbarItem.backgroundColor = \"#008a00\";\r\n                    toolbarItem.textColor = \"#FFF\";\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Separator:\r\n                {\r\n                    buttonClass = (toolbarItem.value != null) ? \"grid-\" + toolbarItem.value : \"grid-separator\";\r\n                    enabled = false;\r\n                    vrButton = true;\r\n                }\r\n                break;\r\n            case GridToolbarItemType.Rebind:\r\n                {\r\n                    text = (toolbarItem.text != null) ? toolbarItem.text : \"Aggiorna\";\r\n                    iconClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicLight.Refresh;\r\n                    buttonClass = (toolbarItem.value != null) ? \"grid-\" + toolbarItem.value : \"grid-rebind\";\r\n                    vrButton = true;\r\n                }\r\n                break;\r\n        }\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        if (vrButton)\r\n        {\r\n            //#region Create button\r\n            createButton(\r\n                {\r\n                    icon: iconClass,\r\n                    imageUrl: toolbarItem.imageUrl,\r\n                    enable: enabled,\r\n                    text: text,\r\n                    colorSettings: { background: toolbarItem.backgroundColor, textColor: toolbarItem.textColor },\r\n                    visible: toolbarItem.visible,\r\n                    cssContainer: toolbarItem.cssContainer,\r\n                    css: toolbarItem.css,\r\n                    mode: (toolbarItem.primary === true) ? ButtonModeEnum.Primary : undefined,\r\n                    classContainer: \"grid-toolbarItemsContainer \" + ((toolbarItem.classContainer != null) ? toolbarItem.classContainer : \"\"),\r\n                    class: ((toolbarItem.type == GridToolbarItemType.Separator) ? \"grid-separator\" : \"\") + \" grid-toolbarItems \" + buttonClass,\r\n                    badgeSettings: toolbarItem.badge,\r\n                    onClick: (e) =>\r\n                    {\r\n                        //#region Delete\r\n                        if (toolbarItem.type == GridToolbarItemType.Delete)\r\n                        {\r\n                            let checkedItems = this.getCheckedItems();\r\n                            if (checkedItems.length == 0)\r\n                            {\r\n                                notifyWarning(\"Selezionare almeno una riga per proseguire\");\r\n                                return;\r\n                            }\r\n                            else\r\n                            {\r\n                                if (toolbarItem.confirmationMessage == null)\r\n                                {\r\n                                    if (checkedItems.length == 1) toolbarItem.confirmationMessage = \"Proseguendo, verrà eliminato l'elemento selezionato. Continuare?\";\r\n                                    else if (checkedItems.length > 1) toolbarItem.confirmationMessage = \"Proseguendo, verranno eliminati gli elementi selezionati. Continuare?\";\r\n                                }\r\n                            }\r\n                        }\r\n                        //#endregion\r\n\r\n                        //#region Event\r\n                        let toolbarClickEvent = new GridToolbarClickEvent();\r\n                        toolbarClickEvent.sender = e.sender;\r\n                        toolbarClickEvent.type = toolbarItem.type!;\r\n                        //#endregion\r\n\r\n                        //#region Confirmation message\r\n                        if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n                        {\r\n                            confirm(toolbarItem.confirmationMessage).then(() =>\r\n                            {\r\n                                this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                            });\r\n                        }\r\n                        else\r\n                            this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                        //#endregion\r\n                    }\r\n                }, this._divToolbar, null, buttonClass + \"_\" + this._elementId);\r\n            //#endregion\r\n        }\r\n        else\r\n        {\r\n            //#region SplitButton\r\n            if (toolbarItem.type == GridToolbarItemType.SplitButton)\r\n            {\r\n                let value = (toolbarItem.value != null) ? toolbarItem.value : \"splitButton\";\r\n                if (toolbarItem.value == null && toolbarItem.text != null)\r\n                    value = toolbarItem.text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\") + \"splitButton\";\r\n\r\n                if (toolbarItem.splitButtonOptions == null) toolbarItem.splitButtonOptions = new SplitButtonOptions();\r\n                if (toolbarItem.splitButtonItems != null) toolbarItem.splitButtonOptions.items = toolbarItem.splitButtonItems;\r\n                if (toolbarItem.splitButtonOptions.separator == null) toolbarItem.splitButtonOptions.separator = false;\r\n\r\n                let itemClass = \"grid-\" + value;\r\n                createSplitButton(\r\n                    {\r\n                        text: text,\r\n                        icon: iconClass,\r\n                        enable: enabled,\r\n                        imageUrl: toolbarItem.imageUrl,\r\n                        items: toolbarItem.splitButtonOptions.items,\r\n                        visible: toolbarItem.visible,\r\n                        separator: toolbarItem.splitButtonOptions.separator,\r\n                        colorSettings: toolbarItem.splitButtonOptions.colorSettings,\r\n                        popupSettings: toolbarItem.splitButtonOptions.popupSettings,\r\n                        tooltip: toolbarItem.splitButtonOptions.tooltip,\r\n                        hoverMode: toolbarItem.splitButtonOptions.hoverMode,\r\n                        modal: toolbarItem.splitButtonOptions.modal,\r\n                        showDefault: toolbarItem.splitButtonOptions.showDefault,\r\n                        cssContainer: toolbarItem.cssContainer + \" vertical-align: top;\",\r\n                        css: toolbarItem.css,\r\n                        classContainer: \"grid-toolbarItemsContainer \" + ((toolbarItem.classContainer != null) ? toolbarItem.classContainer : \"\"),\r\n                        class: \"grid-toolbarItems grid-splitButton \" + itemClass,\r\n                        onClick: (toolbarItem.onClick == null) ? undefined : (e) =>\r\n                        {\r\n                            //#region Event\r\n                            let toolbarClickEvent = new GridToolbarClickEvent();\r\n                            toolbarClickEvent.sender = e.sender;\r\n                            toolbarClickEvent.type = toolbarItem.type!;\r\n                            //#endregion\r\n\r\n                            //#region Confirmation message\r\n                            if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n                            {\r\n                                confirm(toolbarItem.confirmationMessage).then(() =>\r\n                                {\r\n                                    this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                                });\r\n                            }\r\n                            else\r\n                                this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                            //#endregion\r\n                        }\r\n                    }, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region ButtonGroup\r\n            if (toolbarItem.type == GridToolbarItemType.ButtonGroup)\r\n            {\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"buttonGroup\");\r\n                createButtonGroup(\r\n                    {\r\n                        enable: enabled,\r\n                        selectionMode: SelectionModeEnum.Single,\r\n                        items: toolbarItem.buttonGroupItems!,\r\n                        visible: toolbarItem.visible,\r\n                        cssContainer: \"top: -1px; \" + toolbarItem.cssContainer,\r\n                        css: toolbarItem.css,\r\n                        classContainer: \"grid-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n                        class: \"grid-toolbarItems grid-buttonGroup \" + itemClass,\r\n                        width: \"auto\",\r\n                        onSelect: (e) => \r\n                        {\r\n                            //#region Event\r\n                            let toolbarClickEvent = new GridToolbarClickEvent();\r\n                            toolbarClickEvent.sender = e.sender;\r\n                            toolbarClickEvent.type = toolbarItem.type!;\r\n                            //#endregion\r\n\r\n                            //#region Confirmation message\r\n                            if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n                            {\r\n                                confirm(toolbarItem.confirmationMessage).then(() =>\r\n                                {\r\n                                    this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                                });\r\n                            }\r\n                            else\r\n                                this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                            //#endregion\r\n                        }\r\n                    }, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region CheckBox\r\n            if (toolbarItem.type == GridToolbarItemType.CheckBox)\r\n            {\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"checkbox\");\r\n                createCheckBox(\r\n                    {\r\n                        enable: enabled,\r\n                        text: toolbarItem.text,\r\n                        visible: toolbarItem.visible,\r\n                        cssContainer: \"top: 3px; \" + toolbarItem.cssContainer,\r\n                        css: toolbarItem.css,\r\n                        classContainer: \"grid-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n                        class: \"grid-toolbarItems grid-checkBox \" + itemClass,\r\n                        onCheck: (e) => \r\n                        {\r\n                            //#region Event\r\n                            let toolbarClickEvent = new GridToolbarClickEvent();\r\n                            toolbarClickEvent.sender = e.sender;\r\n                            toolbarClickEvent.type = toolbarItem.type!;\r\n                            //#endregion\r\n\r\n                            //#region Confirmation message\r\n                            if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n                            {\r\n                                confirm(toolbarItem.confirmationMessage).then(() =>\r\n                                {\r\n                                    this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                                });\r\n                            }\r\n                            else\r\n                                this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                            //#endregion\r\n                        }\r\n                    }, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region Label\r\n            if (toolbarItem.type == GridToolbarItemType.Label)\r\n            {\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"label\");\r\n                createLabel(\r\n                    {\r\n                        enable: enabled,\r\n                        text: toolbarItem.text,\r\n                        visible: toolbarItem.visible,\r\n                        cssContainer: toolbarItem.cssContainer,\r\n                        css: toolbarItem.css,\r\n                        classContainer: \"grid-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n                        class: \"grid-toolbarItems grid-label \" + itemClass,\r\n                        colorSettings:\r\n                        {\r\n                            background: toolbarItem.backgroundColor,\r\n                            textColor: toolbarItem.textColor\r\n                        },\r\n                        onClick: (e) => \r\n                        {\r\n                            //#region Event\r\n                            let toolbarClickEvent = new GridToolbarClickEvent();\r\n                            toolbarClickEvent.sender = e.sender;\r\n                            toolbarClickEvent.type = toolbarItem.type!;\r\n                            //#endregion\r\n\r\n                            //#region Confirmation message\r\n                            if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n                            {\r\n                                confirm(toolbarItem.confirmationMessage).then(() =>\r\n                                {\r\n                                    this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                                });\r\n                            }\r\n                            else\r\n                                this.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n                            //#endregion\r\n                        }\r\n                    }, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region ComboBox\r\n            if (toolbarItem.type == GridToolbarItemType.ComboBox)\r\n            {\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"comboBox\");\r\n\r\n                if (toolbarItem.comboBoxOptions == null) toolbarItem.comboBoxOptions = new ComboBoxOptions();\r\n                toolbarItem.comboBoxOptions.classContainer = \"grid-toolbarItemsContainer \" + toolbarItem.comboBoxOptions.classContainer;\r\n                toolbarItem.comboBoxOptions.class = \"grid-toolbarItems grid-comboBox \" + itemClass + \" \" + toolbarItem.comboBoxOptions.class;\r\n                if (toolbarItem.comboBoxOptions.visible == null) toolbarItem.comboBoxOptions.visible = toolbarItem.visible;\r\n                if (toolbarItem.comboBoxOptions.css == null) toolbarItem.comboBoxOptions.css = toolbarItem.css;\r\n                if (toolbarItem.comboBoxOptions.cssContainer == null) toolbarItem.comboBoxOptions.cssContainer = toolbarItem.cssContainer + \";\";\r\n                toolbarItem.comboBoxOptions.cssContainer += \"vertical-align: top;\";\r\n                if (toolbarItem.comboBoxOptions.enable == null) toolbarItem.comboBoxOptions.enable = enabled;\r\n\r\n                createComboBox(toolbarItem.comboBoxOptions, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region DatePicker\r\n            if (toolbarItem.type == GridToolbarItemType.DatePicker)\r\n            {\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"datePicker\");\r\n\r\n                if (toolbarItem.datePickerOptions == null) toolbarItem.datePickerOptions = new DatePickerOptions();\r\n                toolbarItem.datePickerOptions.classContainer = \"grid-toolbarItemsContainer \" + toolbarItem.datePickerOptions.classContainer;\r\n                toolbarItem.datePickerOptions.class = \"grid-toolbarItems grid-datePicker \" + itemClass + \" \" + toolbarItem.datePickerOptions.class;\r\n                if (toolbarItem.datePickerOptions.visible == null) toolbarItem.datePickerOptions.visible = toolbarItem.visible;\r\n                if (toolbarItem.datePickerOptions.css == null) toolbarItem.datePickerOptions.css = toolbarItem.css;\r\n                if (toolbarItem.datePickerOptions.cssContainer == null) toolbarItem.datePickerOptions.cssContainer = toolbarItem.cssContainer;\r\n                toolbarItem.datePickerOptions.cssContainer += \"top: -1px; \" + toolbarItem.datePickerOptions.cssContainer;\r\n                if (toolbarItem.datePickerOptions.enable == null) toolbarItem.datePickerOptions.enable = enabled;\r\n\r\n                createDatePicker(toolbarItem.datePickerOptions, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region TextBox\r\n            if (toolbarItem.type == GridToolbarItemType.TextBox)\r\n            {\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"textBox\");\r\n\r\n                if (toolbarItem.textBoxOptions == null) toolbarItem.textBoxOptions = new TextBoxOptions();\r\n                toolbarItem.textBoxOptions.classContainer = \"grid-toolbarItemsContainer \" + toolbarItem.textBoxOptions.classContainer;\r\n                toolbarItem.textBoxOptions.class = \"grid-toolbarItems grid-textBox \" + itemClass + \" \" + toolbarItem.textBoxOptions.class;\r\n                if (toolbarItem.textBoxOptions.visible == null) toolbarItem.textBoxOptions.visible = toolbarItem.visible;\r\n                if (toolbarItem.textBoxOptions.css == null) toolbarItem.textBoxOptions.css = toolbarItem.css;\r\n                if (toolbarItem.textBoxOptions.cssContainer == null) toolbarItem.textBoxOptions.cssContainer = toolbarItem.cssContainer;\r\n                toolbarItem.textBoxOptions.cssContainer += \"top: -1px; \" + toolbarItem.textBoxOptions.cssContainer;\r\n                if (toolbarItem.textBoxOptions.enable == null) toolbarItem.textBoxOptions.enable = enabled;\r\n\r\n                createTextBox(toolbarItem.textBoxOptions, this._divToolbar, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n\r\n            //#region Switch\r\n            else if (toolbarItem.type == GridToolbarItemType.Switch)\r\n            {\r\n                if (toolbarItem.switchSettings == null)\r\n                {\r\n                    toolbarItem.switchSettings = new GridToolbarSwitchSettings();\r\n                    toolbarItem.switchSettings.labelOff = \"\";\r\n                    toolbarItem.switchSettings.labelOn = \"\";\r\n                }\r\n\r\n                if (toolbarItem.switchSettings.checked == null) toolbarItem.switchSettings.checked = false;\r\n                let itemClass = \"grid-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"switch\");\r\n                puma(this._divToolbar).vrAppendPuma(\"<div id='\" + itemClass + \"_\" + this._elementId + \"' class='grid-toolbarItems-switch'></div>\");\r\n                createSwitch(\r\n                    {\r\n                        labelOff: toolbarItem.switchSettings!.labelOff,\r\n                        labelOn: toolbarItem.switchSettings!.labelOn,\r\n                        checked: toolbarItem.switchSettings.checked,\r\n                        cssContainer: \"top: -2px; \" + toolbarItem.cssContainer,\r\n                        css: toolbarItem.css,\r\n                        classContainer: \"grid-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n                        visible: toolbarItem.visible,\r\n                        enable: enabled,\r\n                        onChange: (e) =>\r\n                        {\r\n                            if (toolbarItem.switchSettings!.onCheck != null)\r\n                            {\r\n                                let tableSwitchEvent = new GridToolbarSwitchEvent();\r\n                                tableSwitchEvent.checked = e.checked;\r\n                                toolbarItem.switchSettings!.onCheck(tableSwitchEvent);\r\n                            }\r\n                        }\r\n                    }, null, null, itemClass + \"_\" + this._elementId);\r\n            }\r\n            //#endregion\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region Auto Window\r\n    private createAutoWindow()\r\n    {\r\n        if (this._wndAutoWindow != null)\r\n            return;\r\n\r\n        let options = this.getOptions();\r\n\r\n        //#region Default options\r\n        if (options.autoWindowSettings == null)\r\n            options.autoWindowSettings = new GridAutoWindowSettings();\r\n\r\n        if (options.autoWindowSettings.options == null)\r\n            options.autoWindowSettings.options = new GridAutoWindowOption();\r\n\r\n        if (options.autoWindowSettings.options.width == null) options.autoWindowSettings.options.width = 400;\r\n        if (options.autoWindowSettings.options.titleNew == null) options.autoWindowSettings.options.titleNew = \"Nuovo\";\r\n        if (options.autoWindowSettings.options.titleEdit == null) options.autoWindowSettings.options.titleEdit = \"Modifica\";\r\n        //#endregion\r\n\r\n        //#region Create window\r\n        this._wndAutoWindow = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                classContainer: this.element().id + \"_wndUtility\",\r\n                width: options.autoWindowSettings.options.width,\r\n                height: options.autoWindowSettings.options.height,\r\n                title: options.autoWindowSettings.options.titleNew,\r\n                onBeforeClose: (e) =>\r\n                {\r\n                    //#region OnBeforeClose event\r\n                    if (options.autoWindowSettings!.onBeforeClose != null)\r\n                    {\r\n                        let event = new AutowindowBeforeCloseEvent();\r\n                        event.sender = this;\r\n                        event.window = this._wndAutoWindow;\r\n                        event.dataItem = this._actualEditedItem;\r\n                        event.columns = options.columns;\r\n                        options.autoWindowSettings!.onBeforeClose(event);\r\n\r\n                        if (event.isDefaultPrevented())\r\n                            return;\r\n                    }\r\n                    //#endregion\r\n                },\r\n                onClose: (e) =>\r\n                {\r\n                    puma(this._wndAutoWindow.container()).remove();\r\n                    (this._wndAutoWindow as any) = null;\r\n\r\n                    //#region OnAfterClose event\r\n                    if (options.autoWindowSettings!.onAfterClose != null)\r\n                    {\r\n                        let event = new AutowindowAfterCloseEvent();\r\n                        event.sender = this;\r\n                        event.window = this._wndAutoWindow;\r\n                        event.dataItem = this._actualEditedItem;\r\n                        event.columns = options.columns;\r\n                        options.autoWindowSettings!.onAfterClose(event);\r\n\r\n                        if (event.isDefaultPrevented())\r\n                            return;\r\n                    }\r\n                    //#endregion\r\n\r\n                    this._actualEditedItem = null;\r\n                },\r\n                footer:\r\n                    [\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Close\r\n                        },\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Ok, onClick: (e) =>\r\n                            {\r\n                                //#region Confirmation message\r\n                                if (options.autoWindowSettings!.options!.confirmationMessage != null\r\n                                    && options.autoWindowSettings!.options!.confirmationMessage.length > 0)\r\n                                {\r\n                                    confirm(options.autoWindowSettings!.options!.confirmationMessage).then(() =>\r\n                                    {\r\n                                        this.saveAutoWindow();\r\n                                    });\r\n                                }\r\n                                else\r\n                                    this.saveAutoWindow();\r\n                                //#endregion\t\t\t\t\t\t\t\t\r\n                            }\r\n                        }\r\n                    ]\r\n            });\r\n        puma(this._wndAutoWindow.element()).addClass(\"grid_autoWindow\");\r\n        //#endregion\r\n\r\n        this.createControlsAutoWindow(options);\r\n    }\r\n\r\n    private createControlsAutoWindow(options: GridOptions)\r\n    {\r\n        let columnsOrdered = [];\r\n        let autoWindowId = this._wndAutoWindow.element().id;\r\n\r\n        //#region Checkboxes after all\r\n        for (let column of options.columns!.slice(1).reverse())\r\n        {\r\n            if (column.hidden)\r\n                continue;\r\n\r\n            if (column.type == GridColumnTypeEnum.Checkbox || column.type == GridColumnTypeEnum.Boolean)\r\n                columnsOrdered.unshift(column);\r\n            else\r\n                columnsOrdered.push(column);\r\n        }\r\n        //#endregion\r\n\r\n        for (let column of columnsOrdered.reverse())\r\n        {\r\n            let label = (column.title == null) ? column.field : column.title;\r\n            let tooltip = (column.cellSettings != null && column.cellSettings.tooltip != null) ? column.cellSettings.tooltip : undefined;\r\n            if (tooltip === true)\r\n                tooltip = label;\r\n            else if (tooltip === false)\r\n                tooltip = undefined;\r\n            else if (typeof (tooltip) == \"function\")\r\n                tooltip = undefined;\r\n\r\n            //#region Type\r\n            switch (column.type)\r\n            {\r\n                //#region CheckBox\r\n                case GridColumnTypeEnum.Checkbox:\r\n                case GridColumnTypeEnum.Boolean:\r\n                    {\r\n                        let checkBox = createCheckBox(\r\n                            {\r\n                                label: label,\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_checkBox_\" + column.field);\r\n\r\n                        puma(checkBox.element()).parent().css(\"margin-top\", \"10px\");\r\n                        puma(checkBox.element()).parent().css(\"display\", \"inline-block\");\r\n                        puma(checkBox.element()).parent().css(\"margin-right\", \"5px\");\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region String\r\n                case GridColumnTypeEnum.String:\r\n                    {\r\n                        let textBox = createTextBox(\r\n                            {\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_textBox_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Password\r\n                case GridColumnTypeEnum.PasswordViewable:\r\n                    {\r\n                        let txtPasswordViewable = createTextBox({\r\n                            label: label,\r\n                            width: \"100%\",\r\n                            mode: TextModeEnum.PasswordViewable,\r\n                            tooltip: tooltip\r\n                        }, autoWindowId, null, this._elementId + \"_textBox_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Date, DateTime, Time\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        let datePicker = createDatePicker(\r\n                            {\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_datePicker_\" + column.field);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                    {\r\n                        let dateTimePicker = createDatePicker(\r\n                            {\r\n                                mode: DateModeEnum.DateTime,\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_dateTimePicker_\" + column.field);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Time:\r\n                    {\r\n                        let timePicker = createDatePicker(\r\n                            {\r\n                                mode: DateModeEnum.Time,\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_timePicker_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region ComboBox, DropDownList, DropDownTree\r\n                case GridColumnTypeEnum.DropDownList:\r\n                    {\r\n                        if (column.dataItems == null)\r\n                            throw new Error(\"Property 'dataItems' of column '\" + column.field + \"' is null; please, consider to fill it with an array of dropDownListItem[]\");\r\n\r\n                        let dropDownList = createComboBox(\r\n                            {\r\n                                mode: ComboBoxTypeEnum.DropDown,\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                items: column.dataItems,\r\n                                nullable: column.ddlNullable,\r\n                                clearButton: column.ddlNullable,\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_dropDownList_\" + column.field);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DropDownTree:\r\n                case GridColumnTypeEnum.DropDownTreeCheckboxes:\r\n                    {\r\n                        if (column.dataItems == null)\r\n                            throw new Error(\"Property 'dataItems' of column '\" + column.field + \"' is null; please, consider to fill it with an array of dropDownTreeItem[]\");\r\n\r\n                        for (let item of column.dataItems!)\r\n                        {\r\n                            if (item.expanded == null)\r\n                                item.expanded = true;\r\n                        }\r\n\r\n                        let dropDownTree = createComboBox(\r\n                            {\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                items: column.dataItems,\r\n                                checkboxes: (column.type == GridColumnTypeEnum.DropDownTreeCheckboxes),\r\n                                clearButton: column.ddlNullable,\r\n                                tooltip: tooltip\r\n                            }, autoWindowId, null, this._elementId + \"_dropDownTree_\" + column.field);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.ComboBox:\r\n                    {\r\n                        if (column.dataItems == null)\r\n                            throw new Error(\"Property 'dataItems' of column '\" + column.field + \"' is null; please, consider to fill it with an array of comboBoxItem[]\");\r\n\r\n                        let comboBox = createComboBox(\r\n                            {\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                items: column.dataItems,\r\n                                tooltip: tooltip,\r\n                                clearButton: column.ddlNullable\r\n                            }, autoWindowId, null, this._elementId + \"_comboBox_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Number, Currency, Percentage, Duration\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Percentage:\r\n                case GridColumnTypeEnum.Duration:\r\n                    {\r\n                        let type = TextModeEnum.Numeric;\r\n                        if (column.type == GridColumnTypeEnum.Currency) type = TextModeEnum.Currency;\r\n                        else if (column.type == GridColumnTypeEnum.Percentage) type = TextModeEnum.Percentage;\r\n\r\n                        let numericTextBox = createTextBox(\r\n                            {\r\n                                label: label,\r\n                                width: \"100%\",\r\n                                mode: type,\r\n                                tooltip: tooltip,\r\n                                roundingSettings: (column.roundingSettings != null) ? column.roundingSettings : options.roundingSettings\r\n                            }, autoWindowId, null, this._elementId + \"_numericTextBox_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Color\r\n                case GridColumnTypeEnum.Color:\r\n                    {\r\n                        let colorPicker = createColorPicker({\r\n                            label: label,\r\n                            width: \"100%\",\r\n                            cssContainer: \"align-items: flex-start;\",\r\n                            addToControlList: true\r\n                        }, autoWindowId, null, this._elementId + \"_colorPicker_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Color\r\n                case GridColumnTypeEnum.Icon:\r\n                    {\r\n                        let iconItems: ComboBoxItem[] = [];\r\n                        for (let value of Object.values(IconClassicLight))\r\n                            iconItems.push({ text: value, value: value });\r\n\r\n                        let comboIcons = createComboBox({\r\n                            label: label,\r\n                            width: \"100%\",\r\n                            cssContainer: \"margin-right: 5px;\",\r\n                            items: iconItems,\r\n                            tooltip: tooltip,\r\n                            clearButton: true,\r\n                            placeholder: \"Scrivi per cercare un'icona...\",\r\n                            template: (e) => { return \"<i class='\" + e.dataItem.value + \"'></i>\" },\r\n                            onAfterOpen: (e) => comboIcons.text(\"\"),\r\n                            onAfterChange: (e) => \r\n                            {\r\n                                comboIcons.text(\"\");\r\n                                if (e.value == null) comboIcons.icon(IconClassicLight.Pumo)\r\n                                else comboIcons.icon(e.value);\r\n                            },\r\n                            icon: IconClassicLight.Pumo\r\n                        }, autoWindowId, null, this._elementId + \"_comboIcons_\" + column.field);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n            }\r\n            //#endregion\r\n        }\r\n    }\r\n\r\n    private openAutoWindow(dataItem?: any)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.autoWindowSettings != null || !options.hideEditButton)\r\n            this.createAutoWindow();\r\n\r\n        if (this._wndAutoWindow == null)\r\n            return;\r\n\r\n        //#region OnBeforeOpen event\r\n        if (options.autoWindowSettings!.onBeforeOpen != null)\r\n        {\r\n            let event = new AutowindowBeforeOpenEvent();\r\n            event.sender = this;\r\n            event.window = this._wndAutoWindow;\r\n            event.dataItem = dataItem;\r\n            event.columns = options.columns;\r\n            options.autoWindowSettings!.onBeforeOpen(event);\r\n\r\n            if (event.isDefaultPrevented())\r\n                return;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Main options\r\n        let title = (dataItem != null) ? options.autoWindowSettings!.options!.titleEdit : options.autoWindowSettings!.options!.titleNew;\r\n        this._wndAutoWindow.title(title);\r\n        this._wndAutoWindow.open();\r\n\r\n        if (options.autoWindowSettings!.options!.height == null)\r\n        {\r\n            puma(this._wndAutoWindow.element()).css(\"height\", \"auto\");\r\n            puma(this._wndAutoWindow.element()).parent().css(\"height\", \"auto\");\r\n            this._wndAutoWindow.center();\r\n            puma(this._wndAutoWindow.element()).css(\"overflow-y\", \"auto\");\r\n        }\r\n        //#endregion\r\n\r\n        //#region OnAfterOpen event\r\n        if (options.autoWindowSettings!.onAfterOpen != null)\r\n        {\r\n            let event = new AutowindowAfterOpenEvent();\r\n            event.sender = this;\r\n            event.window = this._wndAutoWindow;\r\n            event.dataItem = dataItem;\r\n            event.columns = options.columns;\r\n            options.autoWindowSettings!.onAfterOpen(event);\r\n\r\n            if (event.isDefaultPrevented())\r\n                return;\r\n        }\r\n        //#endregion\r\n\r\n        let index = 0;\r\n        this._actualEditedItem = dataItem;\r\n        for (let column of options.columns!.slice(1))\r\n        {\r\n            if (column.hidden && !column.editable)\r\n                continue;\r\n\r\n            let columnValue = (dataItem != null) ? dataItem[column.field] : null;\r\n\r\n            //#region Type\r\n            switch (column.type)\r\n            {\r\n                //#region CheckBox\r\n                case GridColumnTypeEnum.Checkbox:\r\n                case GridColumnTypeEnum.Boolean:\r\n                    {\r\n                        let checkBox = ControlManager.get<CheckBox>(this._elementId + \"_checkBox_\" + column.field);\r\n                        checkBox.clear();\r\n\r\n                        if (columnValue != null)\r\n                            checkBox.checked(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            checkBox.checked(column.defaultValue);\r\n                        else if (column.field == \"Active\" || column.field == \"IsActive\")\r\n                            checkBox.checked(true);\r\n\r\n                        if (index == 0)\r\n                            checkBox.focus();\r\n\r\n                        if (column.editable == false)\r\n                            checkBox.enabled(false);\r\n                        else\r\n                            checkBox.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region String\r\n                case GridColumnTypeEnum.String:\r\n                    {\r\n                        let textBox = ControlManager.get<TextBox>(this._elementId + \"_textBox_\" + column.field);\r\n                        textBox.clear();\r\n\r\n                        if (columnValue != null)\r\n                            textBox.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            textBox.value(column.defaultValue);\r\n\r\n                        if (index == 0)\r\n                            textBox.focus();\r\n\r\n                        if (column.editable == false)\r\n                            textBox.enabled(false);\r\n                        else\r\n                            textBox.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Password\r\n                case GridColumnTypeEnum.PasswordViewable:\r\n                    {\r\n                        let textBox = ControlManager.get<TextBox>(this._elementId + \"_textBox_\" + column.field);\r\n                        textBox.clear();\r\n\r\n                        if (columnValue != null)\r\n                            textBox.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            textBox.value(column.defaultValue);\r\n\r\n                        if (index == 0)\r\n                            textBox.focus();\r\n\r\n                        if (column.editable == false)\r\n                            textBox.enabled(false);\r\n                        else\r\n                            textBox.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Date, DateTime, Time\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        let datePicker = ControlManager.get<DatePicker>(this._elementId + \"_datePicker_\" + column.field);\r\n                        datePicker.clear();\r\n\r\n                        if (columnValue != null)\r\n                            datePicker.value(new Date(columnValue));\r\n                        else if (column.defaultValue != null)\r\n                            datePicker.value(new Date(column.defaultValue));\r\n\r\n                        if (index == 0)\r\n                            datePicker.focus();\r\n\r\n                        if (column.editable == false)\r\n                            datePicker.enabled(false);\r\n                        else\r\n                            datePicker.enabled(true);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                    {\r\n                        let dateTimePicker = ControlManager.get<DatePicker>(this._elementId + \"_dateTimePicker_\" + column.field);\r\n                        dateTimePicker.clear();\r\n\r\n                        if (columnValue != null)\r\n                            dateTimePicker.value(new Date(columnValue));\r\n                        else if (column.defaultValue != null)\r\n                            dateTimePicker.value(new Date(column.defaultValue));\r\n\r\n                        if (index == 0)\r\n                            dateTimePicker.focus();\r\n\r\n                        if (column.editable == false)\r\n                            dateTimePicker.enabled(false);\r\n                        else\r\n                            dateTimePicker.enabled(true);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Time:\r\n                    {\r\n                        let timePicker = ControlManager.get<DatePicker>(this._elementId + \"_timePicker_\" + column.field);\r\n                        timePicker.clear();\r\n\r\n                        if (columnValue != null)\r\n                            timePicker.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            timePicker.value(new Date(column.defaultValue));\r\n\r\n                        if (index == 0)\r\n                            timePicker.focus();\r\n\r\n                        if (column.editable == false)\r\n                            timePicker.enabled(false);\r\n                        else\r\n                            timePicker.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region ComboBox, DropDownList, DropDownTree\r\n                case GridColumnTypeEnum.DropDownList:\r\n                    {\r\n                        let dropDownList = ControlManager.get<ComboBox>(this._elementId + \"_dropDownList_\" + column.field);\r\n                        dropDownList.clearItems();\r\n                        dropDownList.items(column.dataItems);\r\n\r\n                        if (columnValue != null)\r\n                            dropDownList.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            dropDownList.value(column.defaultValue);\r\n\r\n                        if (column.editable == false)\r\n                            dropDownList.enabled(false);\r\n                        else\r\n                            dropDownList.enabled(true);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DropDownTree:\r\n                case GridColumnTypeEnum.DropDownTreeCheckboxes:\r\n                    {\r\n                        let dropDownTree = ControlManager.get<ComboBox>(this._elementId + \"_dropDownTree_\" + column.field);\r\n                        dropDownTree.clearItems();\r\n                        dropDownTree.items(column.dataItems);\r\n\r\n                        if (columnValue != null)\r\n                        {\r\n                            let value = this._actualEditedItem[column.field];\r\n                            if (typeof (value) === \"string\")\r\n                                value = value.split(\",\");\r\n                            else if (!Array.isArray(value))\r\n                                value = [value];\r\n\r\n                            dropDownTree.value(value);\r\n                        }\r\n                        else if (column.defaultValue != null)\r\n                        {\r\n                            let value = column.defaultValue;\r\n                            if (typeof (value) === \"string\")\r\n                                value = value.split(\",\");\r\n                            else if (!Array.isArray(value))\r\n                                value = [value];\r\n\r\n                            dropDownTree.value((typeof (value) === \"string\") ? value.split(\",\") : [value]);\r\n                        }\r\n\r\n                        if (column.editable == false)\r\n                            dropDownTree.enabled(false);\r\n                        else\r\n                            dropDownTree.enabled(true);\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.ComboBox:\r\n                    {\r\n                        let comboBox = ControlManager.get<ComboBox>(this._elementId + \"_comboBox_\" + column.field);\r\n                        comboBox.clearItems();\r\n                        comboBox.items(column.dataItems);\r\n\r\n                        if (columnValue != null)\r\n                            comboBox.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            comboBox.value(column.defaultValue);\r\n\r\n                        if (column.editable == false)\r\n                            comboBox.enabled(false);\r\n                        else\r\n                            comboBox.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Number, Currency, Percentage, Duration\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Percentage:\r\n                case GridColumnTypeEnum.Duration:\r\n                    {\r\n                        let numericTextBox = ControlManager.get<TextBox>(this._elementId + \"_numericTextBox_\" + column.field);\r\n\r\n                        numericTextBox.clear();\r\n                        if (columnValue != null)\r\n                            numericTextBox.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            numericTextBox.value(column.defaultValue);\r\n\r\n                        if (index == 0)\r\n                            numericTextBox.focus();\r\n\r\n                        if (column.editable == false)\r\n                            numericTextBox.enabled(false);\r\n                        else\r\n                            numericTextBox.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Color\r\n                case GridColumnTypeEnum.Color:\r\n                    {\r\n                        let colorPicker = ControlManager.get<ColorPicker>(this._elementId + \"_colorPicker_\" + column.field);\r\n                        colorPicker.clear();\r\n\r\n                        if (columnValue != null)\r\n                            colorPicker.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            colorPicker.value(column.defaultValue);\r\n\r\n                        if (column.editable == false)\r\n                            colorPicker.enabled(false);\r\n                        else\r\n                            colorPicker.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Icon\r\n                case GridColumnTypeEnum.Icon:\r\n                    {\r\n                        let comboIcons = ControlManager.get<ComboBox>(this._elementId + \"_comboIcons_\" + column.field);\r\n                        comboIcons.clear();\r\n\r\n                        if (columnValue != null)\r\n                            comboIcons.value(columnValue);\r\n                        else if (column.defaultValue != null)\r\n                            comboIcons.value(column.defaultValue);\r\n\r\n                        comboIcons.icon(comboIcons.value<string>());\r\n\r\n                        if (column.editable == false || column.editable == null)\r\n                        {\r\n                            comboIcons.enabled(false);\r\n                            comboIcons.hide();\r\n                        }\r\n                        else\r\n                            comboIcons.enabled(true);\r\n                    }\r\n                    break;\r\n                //#endregion\r\n            }\r\n            //#endregion\r\n\r\n            index++;\r\n        }\r\n    }\r\n\r\n    private saveAutoWindow()\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        //#region Get edited item\r\n        if (this._actualEditedItem == null)\r\n            this._actualEditedItem = {};\r\n\r\n        let oldItem = jQuery.extend(true, {}, this._actualEditedItem);\r\n        for (let column of options.columns!.slice(1))\r\n        {\r\n            if (column.hidden)\r\n                continue;\r\n\r\n            //#region Type\r\n            switch (column.type)\r\n            {\r\n                //#region CheckBox\r\n                case GridColumnTypeEnum.Checkbox:\r\n                case GridColumnTypeEnum.Boolean:\r\n                    {\r\n                        let checkBox = ControlManager.get<CheckBox>(this._elementId + \"_checkBox_\" + column.field);\r\n                        this._actualEditedItem[column.field] = checkBox.checked();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region String\r\n                case GridColumnTypeEnum.String:\r\n                    {\r\n                        let textBox = ControlManager.get<TextBox>(this._elementId + \"_textBox_\" + column.field);\r\n                        this._actualEditedItem[column.field] = textBox.value();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Password\r\n                case GridColumnTypeEnum.PasswordViewable:\r\n                    {\r\n                        let txtPassword = ControlManager.get<TextBox>(this._elementId + \"_textBox_\" + column.field);\r\n                        this._actualEditedItem[column.field] = txtPassword.value();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Date, DateTime, Time\r\n                case GridColumnTypeEnum.Date:\r\n                case GridColumnTypeEnum.LongDate:\r\n                case GridColumnTypeEnum.LongWeekDate:\r\n                case GridColumnTypeEnum.ShortWeekDate:\r\n                    {\r\n                        let datePicker = ControlManager.get<DatePicker>(this._elementId + \"_datePicker_\" + column.field);\r\n                        this._actualEditedItem[column.field] = datePicker.value();\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DateTime:\r\n                case GridColumnTypeEnum.LongDateTime:\r\n                    {\r\n                        let dateTimePicker = ControlManager.get<DatePicker>(this._elementId + \"_dateTimePicker_\" + column.field);\r\n                        this._actualEditedItem[column.field] = dateTimePicker.value();\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.Time:\r\n                    {\r\n                        let timePicker = ControlManager.get<DatePicker>(this._elementId + \"_timePicker_\" + column.field);\r\n                        this._actualEditedItem[column.field] = timePicker.value();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region ComboBox, DropDownList, DropDownTree\r\n                case GridColumnTypeEnum.DropDownList:\r\n                    {\r\n                        let dropDownList = ControlManager.get<ComboBox>(this._elementId + \"_dropDownList_\" + column.field);\r\n                        this._actualEditedItem[column.field] = dropDownList.value();\r\n                        this._actualEditedItem[column.displayField!] = dropDownList.text();\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DropDownTree:\r\n                    {\r\n                        let dropDownTree = ControlManager.get<ComboBox>(this._elementId + \"_dropDownTree_\" + column.field);\r\n                        this._actualEditedItem[column.field] = dropDownTree.value();\r\n                        this._actualEditedItem[column.displayField!] = dropDownTree.text();\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.DropDownTreeCheckboxes:\r\n                    {\r\n                        let dropDownTree = ControlManager.get<ComboBox>(this._elementId + \"_dropDownTree_\" + column.field);\r\n                        this._actualEditedItem[column.field] = dropDownTree.getCheckedValues();\r\n                        this._actualEditedItem[column.displayField!] = dropDownTree.getCheckedItems().map(k => k.text).vrToCommaSeparatedList();\r\n                    }\r\n                    break;\r\n                case GridColumnTypeEnum.ComboBox:\r\n                    {\r\n                        let comboBox = ControlManager.get<ComboBox>(this._elementId + \"_comboBox_\" + column.field);\r\n                        this._actualEditedItem[column.field] = comboBox.value();\r\n                        this._actualEditedItem[column.displayField!] = comboBox.text();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Number, Currency, Percentage, Duration\r\n                case GridColumnTypeEnum.Number:\r\n                case GridColumnTypeEnum.Currency:\r\n                case GridColumnTypeEnum.Percentage:\r\n                case GridColumnTypeEnum.Duration:\r\n                    {\r\n                        let numericTextBox = ControlManager.get<TextBox>(this._elementId + \"_numericTextBox_\" + column.field);\r\n                        this._actualEditedItem[column.field] = numericTextBox.value();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Color\r\n                case GridColumnTypeEnum.Color:\r\n                    {\r\n                        let colorPicker = ControlManager.get<ColorPicker>(this._elementId + \"_colorPicker_\" + column.field);\r\n                        this._actualEditedItem[column.field] = colorPicker.value();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n\r\n                //#region Icon\r\n                case GridColumnTypeEnum.Icon:\r\n                    {\r\n                        let comboIcons = ControlManager.get<ComboBox>(this._elementId + \"_comboIcons_\" + column.field);\r\n                        this._actualEditedItem[column.field] = comboIcons.value();\r\n                        this._actualEditedItem[column.displayField!] = comboIcons.text();\r\n                    }\r\n                    break;\r\n                //#endregion\r\n            }\r\n            //#endregion\r\n        }\r\n        //#endregion\r\n\r\n        //#region OnBeforeSave event\r\n        if (options.autoWindowSettings!.onBeforeSave != null)\r\n        {\r\n            let event = new AutowindowBeforeSaveEvent();\r\n            event.sender = this;\r\n            event.window = this._wndAutoWindow;\r\n            event.dataItem = this._actualEditedItem;\r\n            event.columns = options.columns;\r\n            options.autoWindowSettings!.onBeforeSave(event);\r\n\r\n            if (event.isDefaultPrevented())\r\n                return;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Save request\r\n        let saveRequest = options.autoWindowSettings!.save;\r\n        if (saveRequest != null)\r\n        {\r\n            if (options.mode == GridModeEnum.Sync)\r\n                this.doWebApiCall(saveRequest, GridRequestTypeEnum.Save);\r\n            else\r\n            {\r\n                if (saveRequest.callback != null)\r\n                    saveRequest.callback({ actualItem: this._actualEditedItem, oldItem: oldItem });\r\n\r\n                this._wndAutoWindow.close();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (let property of Object.getOwnPropertyNames(this._actualEditedItem))\r\n            {\r\n                let column = options.columns!.filter(k => k.field == property)[0];\r\n                if (column != null && column.type == GridColumnTypeEnum.Percentage && column.ignoreFactor != true)\r\n                    this._actualEditedItem[property] *= 100;\r\n            }\r\n\r\n            this.updateRow(this._actualEditedItem);\r\n\r\n            //#region OnAfterSave event\r\n            if (options.autoWindowSettings!.onAfterSave != null)\r\n            {\r\n                let event = new AutowindowAfterSaveEvent();\r\n                event.sender = this;\r\n                event.window = this._wndAutoWindow;\r\n                event.dataItem = this._actualEditedItem;\r\n                event.columns = options.columns;\r\n                options.autoWindowSettings!.onAfterSave(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                    return;\r\n            }\r\n            //#endregion\r\n\r\n            this._wndAutoWindow.close();\r\n\r\n            if (options.onDataSourceChanged != null)\r\n                options.onDataSourceChanged();\r\n        }\r\n        //#endregion        \r\n    }\r\n    //#endregion\r\n\r\n    //#region Layout\r\n    private createWindowLayout()\r\n    {\r\n        if (this._wndLayout != null)\r\n            return;\r\n\r\n        let options = this.getOptions();\r\n        if (typeof (options.layoutSettings) === \"boolean\")\r\n            return;\r\n\r\n        this._wndLayout = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                width: 500,\r\n                height: 300,\r\n                title: \"Gestisci layout\",\r\n                classContainer: this.element().id + \"_wndUtility\",\r\n                onClose: (e) =>\r\n                {\r\n                    puma(this._wndLayout.container()).remove();\r\n                    (this._wndLayout as any) = null;\r\n                },\r\n                footer:\r\n                    [\r\n                        { type: WindowFooterItemTypeEnum.Close },\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Custom, text: \"Layout base\", mode: ButtonModeEnum.Primary,\r\n                            align: WindowFooterItemAlignEnum.Left, onClick: (e) =>\r\n                            {\r\n                                this._actualLayout = null;\r\n                                this.changeLayout(true, this._originalOptionsForLayout);\r\n                            }\r\n                        },\r\n                        {\r\n                            type: WindowFooterItemTypeEnum.Custom, text: \"Carica\", mode: ButtonModeEnum.Primary,\r\n                            onClick: (e) =>\r\n                            {\r\n                                let checkedItems = this._grdLayout.getCheckedItems();\r\n                                if (checkedItems.length == 0)\r\n                                {\r\n                                    notifyWarning(\"Selezionare almeno un layout\");\r\n                                    return;\r\n                                }\r\n\r\n                                let checkedItem = checkedItems[0];\r\n                                if (this._actualLayout == null || (this._actualLayout != null && checkedItem.id != this._actualLayout.id))\r\n                                    this.loadLayout(checkedItem.layoutName);\r\n                            }\r\n                        }\r\n                    ]\r\n            });\r\n\r\n        puma(this._wndLayout.element()).vrAppendPuma(\"<div id='\" + this._elementId + \"_divWindowLayoutContainer' class='vrContainer'></div>\");\r\n        let divContainer = puma(\"#\" + this._elementId + \"_divWindowLayoutContainer\")[0];\r\n        puma(\"<table id='\" + this._elementId + \"_tblLayout'></table>\").vrAppendToPuma(divContainer);\r\n\r\n        //#region Grid layout\r\n        this._grdLayout = createGrid(\r\n            {\r\n                addToControlList: false,\r\n                footer: false,\r\n                pageSize: 400,\r\n                filterable: false,\r\n                checkboxes: GridCheckboxModeEnum.SingleCheck,\r\n                height: 144,\r\n                groupBy: null,\r\n                groupable: false,\r\n                rebind:\r\n                {//**********************TODO//**********************\r\n                    authKey: \"10(P9m+U3a@Mtt-Oeo\", method: \"/api/GridLayoutPersisterWebApi/GetLayoutList\",\r\n                    itemsPropertyName: \"tableLayoutList\", parameters: () =>\r\n                    {\r\n                        let options = this.getOptions();\r\n                        if (typeof (options.layoutSettings) === \"boolean\")\r\n                            return;\r\n\r\n                        return { pageName: window.location.href, gridName: options!.layoutSettings!.name }\r\n                    },\r\n                    callback: (response: any) =>\r\n                    {\r\n                        if (this._actualLayout != null)\r\n                            this._grdLayout.selectRowInternal(String(this._actualLayout.id), undefined, true);\r\n                    }\r\n                },\r\n                autoWindowSettings:\r\n                {\r\n                    save:\r\n                    {\r\n                        authKey: \"10(P9m+U3a@Mtt-Oeo\", method: \"/api/GridLayoutPersisterWebApi/EditLayout\",\r\n                        rebindGridAfterSave: true\r\n                    }\r\n                },\r\n                toolbar:\r\n                    [\r\n                        {\r\n                            type: GridToolbarItemType.Custom, icon: IconClassicRegular.Xmark, text: \"Elimina\",\r\n                            confirmationMessage: \"Confermi di voler eliminare questo layout?\",\r\n                            onClick: (e) =>\r\n                            {\r\n                                let checkedItem = this._grdLayout.getCheckedItems()[0];\r\n                                this._grdLayout.deleteRow(checkedItem.id);\r\n\r\n                                let loadOriginalLayout = (this._actualLayout != null && checkedItem.id == this._actualLayout!.id);\r\n                                this.clearLayout(checkedItem.layoutName, loadOriginalLayout);\r\n\r\n                                if (this._grdLayout.getAllItems().length == 0)\r\n                                {\r\n                                    //#region Settings\r\n                                    ControlManager.get<SplitButton>(this._elementId + \"_spbSettings\").hideItem(\"manageLayout\");\r\n                                    window.setTimeout(() => this._wndLayout.close(), 300);\r\n                                    //#endregion\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            type: GridToolbarItemType.Custom, icon: IconClassicLight.Plus, text: \"Crea nuovo\",\r\n                            onClick: (e) =>\r\n                            {\r\n                                prompt(\"Assegna un nome a questo layout\", { title: \"Nuovo layout\" }).then((value) =>\r\n                                {\r\n                                    this.saveLayout(value, () => this._grdLayout.rebind());\r\n                                });\r\n                            }\r\n                        }\r\n                    ],\r\n                columns:\r\n                    [\r\n                        { type: GridColumnTypeEnum.String, title: \"Nome\", field: \"layoutName\", fitSpace: true },\r\n                        {\r\n                            type: GridColumnTypeEnum.DateTime, title: \"Ultima modifica\", field: \"layoutLastEditDate\",\r\n                            width: 200, editable: false, headerSettings: { textAlign: GridAlignEnum.Center }\r\n                        }\r\n                    ]\r\n            }, null, null, this._elementId + \"_tblLayout\");\r\n        //#endregion\r\n    }\r\n\r\n    private openWindowLayout()\r\n    {\r\n        this.createWindowLayout();\r\n        this._wndLayout.open();\r\n        this._grdLayout.rebind();\r\n    }\r\n\r\n    private doWebApiCallLayout<T>(layoutOperationType: GridLayoutOperationTypeEnum, request: any, callBack?: (e: T) => void)\r\n    {\r\n        let url = \"\";\r\n        switch (layoutOperationType)\r\n        {\r\n            case GridLayoutOperationTypeEnum.Save: url = \"/api/GridLayoutPersisterWebApi/SaveLayout\"; break;\r\n            case GridLayoutOperationTypeEnum.Load: url = \"/api/GridLayoutPersisterWebApi/LoadLayout\"; break;\r\n            case GridLayoutOperationTypeEnum.Clear: url = \"/api/GridLayoutPersisterWebApi/ClearLayout\"; break;\r\n            case GridLayoutOperationTypeEnum.Get: url = \"/api/GridLayoutPersisterWebApi/GetLayoutList\"; break;\r\n        }\r\n\r\n        //#region Call\r\n        request.AuthKey = \"10(P9m+U3a@Mtt-Oeo\";\r\n        $.ajax({\r\n            type: \"POST\",\r\n            contentType: \"application/json\",\r\n            data: JSON.stringify(request),\r\n            method: \"POST\",\r\n            processData: false,\r\n            async: !(layoutOperationType == GridLayoutOperationTypeEnum.Get),\r\n            dataType: \"json\",\r\n            url: url,\r\n            success: function (response: T, textStatus: string, jqXHR: JQueryXHR)\r\n            {\r\n                if (callBack != null)\r\n                    callBack(response);\r\n            }\r\n        });\r\n        //#endregion\r\n    }\r\n\r\n    //#region SaveLayout\r\n    saveLayout(layoutName: string, callBack?: Function)\r\n    {\r\n        let options = this.getOptions();\r\n        if (typeof (options.layoutSettings) === \"boolean\")\r\n            return;\r\n\r\n        if (layoutName == \"\")\r\n        {\r\n            notify(\"Inserire un nome del layout\");\r\n            return;\r\n        }\r\n\r\n        //#region LayoutJson\r\n        let layoutJson = new GridLayoutStructure();\r\n        layoutJson.filterConditions = Array.from(this._dictionaryFilterConditions.entries());\r\n\r\n        if (options.groupBy != null)\r\n        {\r\n            if ((options.groupBy as GridGroupBySettings).fields != null)\r\n            {\r\n                layoutJson.groupBy = new GridGroupBySettings();\r\n                layoutJson.groupBy.fields = (options.groupBy as GridGroupBySettings).fields;\r\n                layoutJson.groupBy.internalSortBy = (options.groupBy as GridGroupBySettings).internalSortBy;\r\n                layoutJson.groupBy.sortBy = (options.groupBy as GridGroupBySettings).sortBy;\r\n            }\r\n        }\r\n\r\n        layoutJson.pageSize = ((typeof (options.pageSize) == \"boolean\") || this._pageSizeUnlimited) ? 50 : options.pageSize!;\r\n        layoutJson.sortingInfo = this._actualSortingInfo;\r\n\r\n        let index = 0;\r\n        let layoutColumns: GridLayoutColumn[] = [];\r\n        for (let column of options.columns!)\r\n        {\r\n            let layoutColumn = new GridLayoutColumn();\r\n            layoutColumn.field = column.field;\r\n            layoutColumn.fitSpace = column.fitSpace;\r\n            layoutColumn.hidden = column.hidden;\r\n            layoutColumn.locked = column.locked;\r\n            layoutColumn.index = index;\r\n\r\n            let width = (column.width != null) ? (column.width) : ((column.type == GridColumnTypeEnum.EditButton) ? 32 : 100);\r\n            layoutColumn.width = width;\r\n\r\n            layoutColumns.push(layoutColumn);\r\n            index++;\r\n        }\r\n        layoutJson.columns = layoutColumns;\r\n        //#endregion\r\n\r\n        //#region Call\r\n        let saveLayoutRequest = new SaveLayoutRequest();\r\n        saveLayoutRequest.layoutJson = JSON.stringify(layoutJson);\r\n        saveLayoutRequest.pageName = window.location.href;\r\n        saveLayoutRequest.gridName = options.layoutSettings!.name;\r\n        saveLayoutRequest.layoutName = layoutName;\r\n\r\n        this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Save, saveLayoutRequest, (response: any) =>\r\n        {\r\n            //#region Settings\r\n            if (this._actualLayout == null)\r\n            {\r\n                ControlManager.get<SplitButton>(this._elementId + \"_spbSettings\").showItem(\"manageLayout\");\r\n                let topSettingsBtnPosition = 0;\r\n                if (options.groupable) topSettingsBtnPosition = -127;\r\n                else topSettingsBtnPosition = -95;\r\n\r\n                puma(`<style>.vrContainer .grid_spbSettings .k-animation-container\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttop: ` + topSettingsBtnPosition + `px !important;\r\n\t\t\t\t\t}</style>`).vrAppendToPuma(\"head\");\r\n            }\r\n            //#endregion\r\n            //**********************TODO//**********************\r\n            if (saveLayoutRequest.layoutPropertyName == null)\r\n                saveLayoutRequest.layoutPropertyName = \"tableLayout\";\r\n\r\n            this._actualLayout = response[saveLayoutRequest.layoutPropertyName];\r\n            notify(\"Layout salvato correttamente\");\r\n\r\n            if (callBack != null)\r\n                callBack();\r\n        });\r\n        //#endregion\r\n    }\r\n    //#endregion\r\n\r\n    //#region ClearLayout\r\n    private clearLayout(layoutName: string, updateDataSource = false)\r\n    {\r\n        let options = this.getOptions();\r\n        if (typeof (options.layoutSettings) === \"boolean\")\r\n            return;\r\n\r\n        //#region Call\r\n        let clearLayoutRequest = new ClearLayoutRequest();\r\n        clearLayoutRequest.pageName = window.location.href;\r\n        clearLayoutRequest.gridName = options.layoutSettings!.name!;\r\n        clearLayoutRequest.layoutName = layoutName;\r\n\r\n        this.doWebApiCallLayout<ClearLayoutResponse>(GridLayoutOperationTypeEnum.Clear, clearLayoutRequest, (response) =>\r\n        {\r\n            if (updateDataSource)\r\n            {\r\n                this._actualLayout = null;\r\n                this.changeLayout(true, this._originalOptionsForLayout);\r\n            }\r\n        });\r\n        //#endregion\r\n    }\r\n    //#endregion\r\n\r\n    //#region LoadLayout\r\n    customLayouts()\r\n    {\r\n        return this._customLayouts;\r\n    }\r\n\r\n    activeLayout()\r\n    {\r\n        return this._actualLayout;\r\n    }\r\n\r\n    private loadLayout(layoutName: string)\r\n    {\r\n        let options = this.getOptions();\r\n        if (typeof (options.layoutSettings) === \"boolean\")\r\n            return;\r\n\r\n        //#region Call\r\n        let loadLayoutRequest = new LoadLayoutRequest();\r\n        loadLayoutRequest.pageName = window.location.href;\r\n        loadLayoutRequest.gridName = options.layoutSettings!.name;\r\n        loadLayoutRequest.layoutName = layoutName;\r\n\r\n        this.doWebApiCallLayout<LoadLayoutResponse>(GridLayoutOperationTypeEnum.Load, loadLayoutRequest, (response) =>\r\n        {\r\n            if (response.tableLayout != null && response.tableLayout.layoutJson != null)\r\n            {\r\n                this._actualLayout = response.tableLayout;\r\n                this.changeLayout(true);\r\n                notify(\"Layout caricato correttamente\");\r\n                this._wndLayout.close();\r\n            }\r\n            else\r\n                notify(\"Errore nel caricamento del layout\");\r\n        });\r\n        //#endregion\r\n    }\r\n\r\n    private changeLayout(updateDataSource = false, layoutJson?: GridLayoutStructure)\r\n    {\r\n        if (this._actualLayout != null || layoutJson != null)\r\n        {\r\n            let options = this.getOptions();\r\n            let json = (layoutJson != null) ? layoutJson : JSON.parse(this._actualLayout!.layoutJson) as GridLayoutStructure;\r\n\r\n            let editButtonColumnIndex = json.columns.findIndex(k => k.field.toLowerCase() == \"editbutton\");\r\n            let editButtonColumn = json.columns[editButtonColumnIndex];\r\n            if (editButtonColumn != null)\r\n                editButtonColumn.field = \"editButton\";\r\n\r\n            //#region GroupBy\r\n            if (options.groupable! && options.groupBy != null)\r\n            {\r\n                let oldGroupByList = [];\r\n                if ((options.groupBy as GridGroupBySettings).fields != null)\r\n                {\r\n                    for (let group of ((options.groupBy as GridGroupBySettings).fields as GridGroupByItem[]).map(k => k.field))\r\n                        oldGroupByList.push(group);\r\n                }\r\n\r\n                for (let groupRemoved of oldGroupByList)\r\n                    this.removeGroup(groupRemoved, false);\r\n            }\r\n\r\n            if (json.groupBy != null)\r\n            {\r\n                let groupByFields: GridGroupByItem[] = [];\r\n                if (Array.isArray(json.groupBy))\r\n                {\r\n                    for (let groupByField of json.groupBy)\r\n                        groupByFields.push({ field: UtilityManager.duplicate(groupByField) });\r\n\r\n                    options.groupBy = new GridGroupBySettings();\r\n                    options.groupBy.fields = UtilityManager.duplicate(groupByFields);\r\n                }\r\n                else\r\n                {\r\n                    groupByFields = UtilityManager.duplicate(json.groupBy.fields as GridGroupByItem[]);\r\n                    options.groupBy = UtilityManager.duplicate(json.groupBy);\r\n                }\r\n\r\n                if (groupByFields != null)\r\n                    this.addGroups(groupByFields, updateDataSource);\r\n            }\r\n            //#endregion\r\n\r\n            //#region PageSize\r\n            if (json.pageSize != null)\r\n            {\r\n                options.pageSize = json.pageSize;\r\n                if (updateDataSource)\r\n                {\r\n                    let ddlPageSize = ControlManager.get<ComboBox>(this._elementId + \"_ddlPageSize\");\r\n                    if (!ddlPageSize.items().map(k => k.value).includes(String(json.pageSize)))\r\n                    {\r\n                        let items = ddlPageSize.items();\r\n                        items.push({ text: String(json.pageSize), value: String(json.pageSize) });\r\n                        ddlPageSize.items(items);\r\n                    }\r\n                    ddlPageSize.value(String(json.pageSize), true);\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            //#region Filtering\r\n            this.clearFilters(false);\r\n            if (json.filterConditions != null && json.filterConditions.length > 0)\r\n            {\r\n                let dictionaryFilterConditions = new Map<string, GridFilterSettings>();\r\n                for (let filterCondition of json.filterConditions)\r\n                    dictionaryFilterConditions.set(filterCondition[0], filterCondition[1]);\r\n\r\n                this._dictionaryFilterConditions = dictionaryFilterConditions;\r\n            }\r\n            //#endregion\r\n\r\n            //#region Sorting\r\n            this.removeSort(false);\r\n            if (json.sortingInfo != null)\r\n                this._actualSortingInfo = json.sortingInfo;\r\n            //#endregion\r\n\r\n            //#region Columns\r\n            if (json.columns != null)\r\n            {\r\n                for (let jsonColumn of json.columns)\r\n                {\r\n                    let optionsColumn = options.columns!.filter(k => k.field == jsonColumn.field)[0];\r\n                    if (optionsColumn != null)\r\n                    {\r\n                        let optionsColumnIndex = options.columns!.indexOf(optionsColumn);\r\n                        (options.columns![optionsColumnIndex] as any).index = jsonColumn.index;\r\n\r\n                        if (jsonColumn.fitSpace !== true)\r\n                            options.columns![optionsColumnIndex].width = jsonColumn.width;\r\n\r\n                        //#region Header columns width\r\n                        if (jsonColumn.fitSpace !== true)\r\n                        {\r\n                            let thHeader = puma(this._divHeader).find(\"th[value='\" + jsonColumn.field + \"']\")[0];\r\n                            if (options.lockable && thHeader == null)\r\n                                thHeader = puma(this._divHeaderLocked).find(\"th[value='\" + jsonColumn.field + \"']\")[0];\r\n\r\n                            thHeader.style.width = jsonColumn.width + \"px\";\r\n\r\n                            if (options.filterable)\r\n                            {\r\n                                if (puma(this._divFilters).find(\"td[value='\" + jsonColumn.field + \"']\")[0] != null)\r\n                                    puma(this._divFilters).find(\"td[value='\" + jsonColumn.field + \"']\")[0].style.width = jsonColumn.width + \"px\";\r\n\r\n                                if (options.lockable)\r\n                                {\r\n                                    if (puma(this._divFiltersLocked).find(\"td[value='\" + jsonColumn.field + \"']\")[0] != null)\r\n                                        puma(this._divFiltersLocked).find(\"td[value='\" + jsonColumn.field + \"']\")[0].style.width = jsonColumn.width + \"px\";\r\n\r\n                                }\r\n                            }\r\n\r\n                            if (this._showTotals)\r\n                            {\r\n                                if (puma(this._divTotals).find(\"td[value='\" + jsonColumn.field + \"']\")[0] != null)\r\n                                    puma(this._divTotals).find(\"td[value='\" + jsonColumn.field + \"']\")[0].style.width = jsonColumn.width + \"px\";\r\n\r\n                                if (options.lockable)\r\n                                {\r\n                                    if (puma(this._divTotalsLocked).find(\"td[value='\" + jsonColumn.field + \"']\")[0] != null)\r\n                                        puma(this._divTotalsLocked).find(\"td[value='\" + jsonColumn.field + \"']\")[0].style.width = jsonColumn.width + \"px\";\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                        //#endregion\r\n\r\n                        if (jsonColumn.hidden)\r\n                            this.hideColumn(jsonColumn.field, false);\r\n                        else\r\n                            this.showColumn(jsonColumn.field, false);\r\n\r\n                        if (jsonColumn.locked)\r\n                            this.lockColumn(jsonColumn.field, false);\r\n                        else\r\n                            this.unlockColumn(jsonColumn.field, false);\r\n                    }\r\n                }\r\n                options.columns!.vrSortAsc(\"index\");\r\n\r\n                //#region Order columns\r\n                let lastIndex = puma(this._divHeader).find(\"table th:last-child\").index();\r\n                for (let column of options.columns!)\r\n                {\r\n                    //#region Header\r\n                    let headerTh = puma(this._divHeader).find(\"table th[value='\" + column.field + \"']\")[0];\r\n                    puma(puma(this._divHeader).find(\"table th\")[lastIndex]).vrAfterPuma(headerTh);\r\n                    //#endregion\r\n\r\n                    //#region Filters\r\n                    if (options.filterable)\r\n                    {\r\n                        let filtersTd = puma(this._divFilters).find(\"table td[value='\" + column.field + \"']\")[0];\r\n                        puma(puma(this._divFilters).find(\"table td\")[lastIndex]).vrAfterPuma(filtersTd);\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region Totals\r\n                    if (this._showTotals)\r\n                    {\r\n                        let totalsTd = puma(this._divTotals).find(\"table td[value='\" + column.field + \"']\")[0];\r\n                        puma(puma(this._divTotals).find(\"table td\")[lastIndex]).vrAfterPuma(totalsTd);\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region Groups\r\n                    if (options.groupable)\r\n                    {\r\n                        let colGroupCol = puma(this._divBody).find(\"colgroup col[field='\" + column.field + \"']\")[0];\r\n                        puma(puma(this._divBody).find(\"colgroup col\")[lastIndex]).vrAfterPuma(colGroupCol);\r\n                    }\r\n                    //#endregion\r\n                }\r\n                //#endregion\r\n\r\n                this.recalculateWidth();\r\n            }\r\n            //#endregion\r\n\r\n            if (updateDataSource)\r\n            {\r\n                hideLoader(\"vrGridLoaderLayout\" + this._elementId);\r\n                if (this._originalDataSource.length > 2000)\r\n                    showLoader(this.container(), true, \"vrGridLoaderLayout\" + this._elementId);\r\n\r\n                window.setTimeout(() =>\r\n                {\r\n                    puma(this.element()).find(\"tbody\").remove();\r\n                    this.dataSource(this._originalDataSource);\r\n                    hideLoader(\"vrGridLoaderLayout\" + this._elementId);\r\n                }, 50);\r\n            }\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\n\r\n//#region Common\r\nclass GridWebApiRequest\r\n{\r\n    authKey?: string;\r\n    method?: string;\r\n    successNotificationMessage?: boolean | string;\r\n    errorNotificationMessage?: boolean | string;\r\n    rebindGridAfterSave?: boolean;\r\n    rebindGridAfterError?: boolean;\r\n    closeWindowAfterError?: boolean;\r\n    otherParameters?: any;\r\n    loadingElement?: boolean | HTMLElement | JQuery | string;\r\n\r\n    callback?: (response?: any) => void;\r\n    callbackBeforeDatasourceChange?: (response?: any) => void;\r\n    errorCallback?: (message?: string) => void;\r\n    parameters?: () => any;\r\n}\r\n\r\nenum GridRequestTypeEnum\r\n{\r\n    Delete = 0,\r\n    Rebind = 1,\r\n    Save = 2,\r\n    Excel = 3,\r\n    RebindSpecificRows = 4\r\n}\r\n//#endregion\r\n\r\n//#region Header columns\r\nexport class GridHeaderAndCellSettings\r\n{\r\n    textAlign?: GridAlignEnum;\r\n    backgroundColor?: string;\r\n    color?: string;\r\n    tooltip?: boolean | string | ((e: GridTooltipEvent) => string);\r\n    css?: string;\r\n}\r\n\r\nexport class GridHeaderSettings extends GridHeaderAndCellSettings\r\n{\r\n    icon?: IconClass;\r\n}\r\n\r\nexport class GridCellSettings extends GridHeaderAndCellSettings\r\n{\r\n    zeroIfNull?: boolean;\r\n}\r\n//#endregion\r\n\r\n//#region Controls settings\r\nclass GridControlData\r\n{\r\n    GridControlsSettings: GridControlsSettings;\r\n    columnType: GridColumnTypeEnum;\r\n}\r\n\r\nexport class GridControlsSettings\r\n{\r\n    onClick?: (e: GridControlsClickEvent) => void;\r\n    confirmationMessage?: string;\r\n    value?: string;\r\n    css?: string;\r\n    class?: string;\r\n    visible?: boolean;\r\n    enabled?: boolean;\r\n    tooltip?: string;\r\n}\r\n\r\nexport class GridCustomSettings extends GridControlsSettings\r\n{\r\n    template: string;\r\n    filterFields?: string[];\r\n}\r\n\r\nexport class GridIconSettings extends GridControlsSettings\r\n{\r\n    icon?: IconClass;\r\n    imageUrl?: string;\r\n    color?: string;\r\n}\r\n\r\nexport class GridImageSettings extends GridControlsSettings\r\n{\r\n    imageUrl?: string;\r\n    base64Bytes?: string;\r\n}\r\n\r\nexport class GridLabelSettings extends GridControlsSettings\r\n{\r\n    text?: string;\r\n    underlineMode?: GridLabelUnderlineMode;\r\n    bold?: boolean;\r\n    color?: string;\r\n    noBr?: boolean;\r\n}\r\n//#endregion\r\n\r\n//#region Rebind\r\nexport class GridRebindRequest extends GridWebApiRequest\r\n{\r\n    itemsPropertyName?: string;\r\n    rebindAtStartup?: boolean;\r\n    clearFilters?: boolean;\r\n    specificItemIdListPropertyName?: string;\r\n}\r\n\r\nclass GridSearchingInfo\r\n{\r\n    public field: string;\r\n    public text: string;\r\n}\r\n\r\nclass VrGridServerBindingSettings\r\n{\r\n    indexFrom?: number;\r\n    indexTo?: number;\r\n    columns?: GridColumn[];\r\n    sortingInfo?: GridSortingInfo | null;\r\n    filters?: Dictionary<string, GridFilterSettings>;\r\n    groupByFields?: string[] | null;\r\n    excel?: boolean;\r\n    excelFileName: string | undefined;\r\n}\r\n\r\nclass GridServerBindPagination\r\n{\r\n    indexFrom?: number;\r\n    indexTo?: number;\r\n}\r\n//#endregion\r\n\r\n//#regon Excel\r\nexport class GridExcelRequest extends GridWebApiRequest\r\n{\r\n    fileName?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass GridControlsClickEvent\r\n{\r\n    dataItem: any;\r\n}\r\n\r\nexport class GridTemplateEvent\r\n{\r\n    dataItem: any;\r\n    className?: string;\r\n    element?: HTMLTableCellElement;\r\n    empty?: boolean;\r\n}\r\n\r\nexport class GridTooltipEvent\r\n{\r\n    dataItem: any;\r\n    element?: HTMLTableCellElement;\r\n    empty: boolean;\r\n}\r\n\r\nexport class GridOnDataBoundEvent\r\n{\r\n    sender: Grid;\r\n}\r\n\r\nexport class GridOnRowDataBoundEvent\r\n{\r\n    sender: Grid;\r\n    rowElement: HTMLTableRowElement;\r\n    dataItem: any;\r\n    realDataItem: any;\r\n    empty?: boolean;\r\n}\r\n\r\nexport class GridSelectRowEvent\r\n{\r\n    sender: Grid;\r\n    rowElement: HTMLTableRowElement;\r\n    dataItem: any;\r\n    checked: boolean;\r\n    empty: boolean;\r\n    index: number;\r\n    shiftKey: boolean;\r\n    fromCheckbox: boolean;\r\n}\r\n\r\nexport class GridSelectAllRowsEvent\r\n{\r\n    sender: Grid;\r\n}\r\n\r\nexport class GridUnselectRowEvent\r\n{\r\n    sender: Grid;\r\n    rowElement: HTMLTableRowElement;\r\n    dataItem: any;\r\n}\r\n\r\nexport class GridUnselectAllRowsEvent\r\n{\r\n    sender: Grid;\r\n}\r\n\r\nexport class GridToolbarClickEvent\r\n{\r\n    sender: any;\r\n    type: GridToolbarItemType;\r\n    isDefaultPrevented: boolean;\r\n    deletedItems?: any[];\r\n\r\n    preventDefault()\r\n    {\r\n        this.isDefaultPrevented = true;\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Toolbar\r\nexport class GridToolbarSwitchSettings\r\n{\r\n    labelOff?: string;\r\n    labelOn?: string;\r\n    checked?: boolean;\r\n    onCheck?: (e: GridToolbarSwitchEvent) => void;\r\n}\r\n\r\nclass GridToolbarSwitchEvent\r\n{\r\n    checked: boolean;\r\n}\r\n\r\nexport class GridToolbarDeleteRequest extends GridWebApiRequest\r\n{\r\n    deletedValuesPropertyName?: string;\r\n    valuePropertyName?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Footer\r\nexport class GridFooterSettings\r\n{\r\n    maxVisiblePages?: number;\r\n    totalElements?: boolean | ((e: GridTotalElementTemplateEvent) => string | number);\r\n    showPagination?: boolean;\r\n    showPageSize?: boolean;\r\n    showSettings?: boolean;\r\n}\r\n\r\nclass GridTotalElementTemplateEvent\r\n{\r\n    firstIndex?: number;\r\n    lastIndex?: number;\r\n    dataItems: any[];\r\n    pageSelected: number;\r\n    numberOfPages: number;\r\n}\r\n//#endregion\r\n\r\n//#region Totals\r\nclass WorkerTotalsRequest\r\n{\r\n    dataItems: any[];\r\n    columnOptions: WorkerTotalsMessageColumnOptions[];\r\n    groupItems: WorkerTotalsGroupItem[];\r\n    isGroup: boolean;\r\n}\r\n\r\nclass WorkerTotalsMessageColumnOptions\r\n{\r\n    field: string;\r\n    decimalDigits: number;\r\n    aggregateMode: GridAggregateMode;\r\n    type: GridColumnTypeEnum;\r\n    countZeroInAverage?: boolean;\r\n    roundingSettings?: NumberFormatRoundingSettings;\r\n}\r\n\r\nclass WorkerTotalsGroupItem\r\n{\r\n    groupValue: string;\r\n    dataItems: any[];\r\n}\r\n\r\nclass WorkerTotalsResult\r\n{\r\n    field: string;\r\n    total: number;\r\n    decimalDigits: number;\r\n    roundingSettings?: NumberFormatRoundingSettings;\r\n    type: GridColumnTypeEnum;\r\n}\r\n//#endregion\r\n\r\n//#region Excel\r\nexport class GridExcelRow\r\n{\r\n    cells: GridExcelCell[];\r\n}\r\n\r\nclass GridExcelCell\r\n{\r\n    title: string | undefined;\r\n    field: string;\r\n    text?: string;\r\n    bold?: boolean;\r\n    type?: GridColumnTypeEnum;\r\n    width?: number;\r\n    cellSettings?: GridHeaderAndCellSettings;\r\n    aggregate?: GridAggregateMode;\r\n    decimalDigits?: number;\r\n    hidden?: boolean;\r\n    locked?: boolean;\r\n    backgroundColor: string;\r\n    color: string;\r\n    roundingSettings?: NumberFormatRoundingSettings;\r\n}\r\n\r\nclass GenerateExcelRequest\r\n{\r\n    public headerRow: GridExcelRow;\r\n    public contentRows: GridExcelRow[];\r\n    public footerRow: GridExcelRow;\r\n    public excelFileName: string;\r\n    public AuthKey: string;\r\n    public groupBy?: GridGroupByItem[] | null;\r\n    public exportHiddenColumns: boolean;\r\n}\r\n\r\nclass GenerateExcelResponse\r\n{\r\n    public downloadUrl: string;\r\n}\r\n//#endregion\r\n\r\n//#region Sorting\r\nclass GridSortingInfo\r\n{\r\n    field: string;\r\n    mode: GridSortDirectionEnum;\r\n}\r\n//#endregion\r\n\r\n//#region Auto window\r\nclass GridAutoWindowSettings\r\n{\r\n    save?: GridSaveRequest;\r\n    options?: GridAutoWindowOption;\r\n\r\n    onBeforeOpen?: (e: AutowindowBeforeOpenEvent) => void;\r\n    onAfterOpen?: (e: AutowindowAfterOpenEvent) => void;\r\n    onBeforeSave?: (e: AutowindowBeforeSaveEvent) => void;\r\n    onAfterSave?: (e: AutowindowAfterSaveEvent) => void;\r\n    onBeforeClose?: (e: AutowindowBeforeCloseEvent) => void;\r\n    onAfterClose?: (e: AutowindowAfterCloseEvent) => void;\r\n}\r\n\r\nclass GridAutoWindowOption\r\n{\r\n    titleNew?: string;\r\n    titleEdit?: string;\r\n    height?: number | string;\r\n    width?: number | string;\r\n    showSaveButton?: boolean;\r\n    showCancelButton?: boolean;\r\n    textSaveButton?: string;\r\n    textCancelButton?: string;\r\n    confirmationMessage?: string;\r\n}\r\n\r\nclass GridSaveRequest extends GridWebApiRequest\r\n{\r\n    itemPropertyName?: string;\r\n}\r\n\r\nclass AutoWindowEvent extends VrControlsEvent\r\n{\r\n    sender: Grid;\r\n    window: Window;\r\n    dataItem: any;\r\n    columns?: GridColumn[];\r\n}\r\n\r\nclass AutowindowBeforeOpenEvent extends AutoWindowEvent { }\r\nclass AutowindowAfterOpenEvent extends AutoWindowEvent { }\r\nclass AutowindowBeforeSaveEvent extends AutoWindowEvent { }\r\nclass AutowindowAfterSaveEvent extends AutoWindowEvent { }\r\nclass AutowindowBeforeCloseEvent extends AutoWindowEvent { }\r\nclass AutowindowAfterCloseEvent extends AutoWindowEvent { }\r\n//#endregion\r\n\r\n//#region Grid actions (Show/Hide and GroupBy)\r\nenum GridActionEnum\r\n{\r\n    ShowHide,\r\n    GroupBy,\r\n    LockUnlock\r\n}\r\n//#endregion\r\n\r\n//#region Filtering\r\nexport class GridFilterSettings\r\n{\r\n    type: GridColumnTypeEnum;\r\n\r\n    dateFilterSettings?: GridDateFilterSettings | null;\r\n    numberFilterSettings?: GridNumberFilterSettings | null;\r\n    checkboxFilterSettings?: GridCheckboxFilterSettings | null;\r\n    stringFilterSettings?: GridStringFilterSettings | null;\r\n}\r\n\r\nclass GridDateFilterSettings\r\n{\r\n    filterTypeEnum: GridDateFilterTypeEnum;\r\n    dateFrom: Date;\r\n    dateTo?: Date | null;\r\n    specificValues: any[];\r\n}\r\n\r\nclass GridNumberFilterSettings\r\n{\r\n    filterTypeEnum: GridNumberFilterTypeEnum;\r\n    numberFrom: number;\r\n    numberTo?: number | null;\r\n    specificValues: any[];\r\n}\r\n\r\nclass GridCheckboxFilterSettings\r\n{\r\n    value: boolean;\r\n}\r\n\r\nclass GridStringFilterSettings\r\n{\r\n    text: string;\r\n    filterTypeEnum: GridStringFilterTypeEnum;\r\n    specificValues: any[];\r\n}\r\n//#endregion\r\n\r\n//#region Drag&Drop\r\nclass DragSupportEvent\r\n{\r\n    onDragged?: null | ((e: DragEveryEvent) => void);\r\n    onDragging?: null | ((e: DragEveryEvent) => void);\r\n}\r\n\r\nclass DragEveryEvent\r\n{\r\n    left: number;\r\n    top: number;\r\n    element: HTMLElement;\r\n}\r\n\r\nclass GridColumnPosition\r\n{\r\n    left: number;\r\n    right: number;\r\n    field: string;\r\n    index: number;\r\n    th: HTMLElement;\r\n}\r\n//#endregion\r\n\r\n//#region GroupBy\r\nclass GridChildrenGroupRows\r\n{\r\n    children: HTMLElement[];\r\n    groupRows: HTMLElement[];\r\n    allRows: HTMLElement[];\r\n}\r\n//#endregion\r\n\r\n//#region Layout\r\nclass GridLayoutSettings\r\n{\r\n    //*****************TODO*************************** */\r\n    name?: string;\r\n    get?: GetLayoutListRequest;\r\n    save?: SaveLayoutRequest;\r\n    load?: LoadLayoutRequest;\r\n}\r\n\r\nclass GridLayoutStructure\r\n{\r\n    filterConditions?: any[] | null;\r\n    groupBy?: GridGroupBySettings | null;\r\n    pageSize: number;\r\n    sortingInfo?: GridSortingInfo | null;\r\n    columns: GridLayoutColumn[];\r\n}\r\n\r\nclass GridLayoutColumn\r\n{\r\n    width?: number;\r\n    fitSpace?: boolean;\r\n    hidden?: boolean;\r\n    locked?: boolean;\r\n    index: number;\r\n    field: string;\r\n}\r\n\r\nclass SaveLayoutRequest\r\n{\r\n    public method: string;\r\n    public authKey?: string;\r\n    public layoutJson?: string;\r\n    public pageName?: string;\r\n    public gridName?: string;\r\n    public layoutName?: string;\r\n    public layoutPropertyName?: string;\r\n}\r\n\r\nclass LoadLayoutRequest\r\n{\r\n    public method: string;\r\n    public authKey?: string;\r\n    public pageName?: string;\r\n    public gridName?: string;\r\n    public layoutName?: string;\r\n    public layoutPropertyName?: string;\r\n}\r\n\r\nclass LoadLayoutResponse\r\n{\r\n    public tableLayout: GridLayout;\r\n}\r\n\r\nclass ClearLayoutRequest\r\n{\r\n    public AuthKey: string;\r\n    public pageName: string;\r\n    public gridName: string;\r\n    public layoutName: string;\r\n}\r\n\r\nclass ClearLayoutResponse\r\n{\r\n\r\n}\r\n\r\nclass GetLayoutListRequest\r\n{\r\n    public method: string;\r\n    public authKey?: string;\r\n    public pageName?: string;\r\n    public gridName?: string;\r\n    public layoutsPropertyName?: string;\r\n}\r\n\r\nclass GridLayout\r\n{\r\n    layoutName: string;\r\n    layoutLastEditDate: Date;\r\n    id: number;\r\n    layoutJson: string;\r\n}\r\n\r\nenum GridLayoutOperationTypeEnum\r\n{\r\n    Save,\r\n    Load,\r\n    Clear,\r\n    Get\r\n}\r\n//#endregion\r\n\r\nclass TempRebindInfo\r\n{\r\n    yPosition: number;\r\n    checkedValues: string[];\r\n    page: number;\r\n}\r\n\r\nexport class GridRow \r\n{\r\n    element: HTMLElement;\r\n    cells: HTMLElement[];\r\n    index: number;\r\n    dataItemId: string;\r\n    id: string;\r\n\r\n    findControl<T extends VrControl>(uniqueName: string)\r\n    {\r\n        let controlElement = puma(this.element).find(\"*[uniqueName='\" + uniqueName + \"']\")[0];\r\n        if (controlElement != null)\r\n            return ControlManager.get<T>(controlElement.id);\r\n        else\r\n            return null;\r\n    }\r\n}\r\n//#endregion","import { puma } from \"../../src/ui/vr\";\r\n\r\ndeclare function printJS(options: PrintJsOptions): void;\r\n\r\nexport class PrintManager\r\n{\r\n\t//#region Print bytes, pdf, image or html\r\n\tpublic static printBytes(base64Bytes: string, options?: PrintFileOptions)\r\n\t{\r\n\t\tthis.printBytesFileImageOrHtml(base64Bytes, PrintTypeEnum.Pdf, options, true);\r\n\t}\r\n\r\n\tpublic static printPdf(path: string, options?: PrintFileOptions)\r\n\t{\r\n\t\tthis.printBytesFileImageOrHtml(path, PrintTypeEnum.Pdf, options);\r\n\t}\r\n\r\n\tpublic static printImage(path: string, options?: PrintFileOptions)\r\n\t{\r\n\t\tthis.printBytesFileImageOrHtml(path, PrintTypeEnum.Image, options);\r\n\t}\r\n\r\n\tpublic static printHtml(elementId: string, options?: PrintFileOptions)\r\n\t{\r\n\t\tif (elementId.startsWith(\"#\"))\r\n\t\t\telementId = elementId.substr(1);\r\n\r\n\t\tthis.printBytesFileImageOrHtml(elementId, PrintJsTypeEnum.Html, options);\r\n\t}\r\n\r\n\tpublic static printElement(element: string | HTMLElement | JQuery, options?: PrintHtmlOptions)\r\n\t{\r\n\t\tlet elementId = \"\";\r\n\t\tif (typeof (element) != \"string\")\r\n\t\t\telementId = puma(element)[0].id;\r\n\r\n\t\tif (elementId == \"\" || elementId == null)\r\n\t\t{\r\n\t\t\tpuma(element)[0].id = \"vr_printTemp\";\r\n\t\t\telementId = \"vr_printTemp\";\r\n\t\t}\r\n\r\n\t\tif (!elementId.startsWith(\"#\"))\r\n\t\t\telementId = \"#\" + elementId;\r\n\r\n\t\tif (options == null) options = new PrintHtmlOptions();\r\n\t\tpuma(elementId).printThis({\r\n\t\t\tpageTitle: options.pageTitle,\r\n\t\t\tremoveInlineStyles: options.removeInlineStyles,\r\n\t\t\tprintDelay: options.printDelay,\r\n\t\t\theader: options.header,\r\n\t\t\tfooter: options.footer,\r\n\t\t\tremoveScripts: options.removeScripts,\r\n\t\t\tdebug: options.debug,\r\n\t\t\tbeforePrint: options.beforePrint,\r\n\t\t\timportCSS: true,\r\n\t\t\timportStyle: true,\r\n\t\t\tafterPrint: () =>\r\n\t\t\t{\r\n\t\t\t\tif (elementId == \"#vr_printTemp\")\r\n\t\t\t\t\tpuma(element)[0].id = \"\";\r\n\r\n\t\t\t\tif (options!.afterPrint != null)\r\n\t\t\t\t\toptions!.afterPrint();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate static printBytesFileImageOrHtml(pathBytesOrId: string, type: PrintTypeEnum | string, options?: PrintFileOptions, base64: boolean = false)\r\n\t{\r\n\t\tif (pathBytesOrId == \"\")\r\n\t\t\treturn;\r\n\r\n\t\tlet title = undefined;\r\n\t\tlet documentTitle = \"File_\" + new Date().toLocaleString();\r\n\t\tlet customCss = undefined;\r\n\t\tif (options != null)\r\n\t\t{\r\n\t\t\tif (options.type != null) type = options.type;\r\n\t\t\tif (options.headerTitle != null) title = options.headerTitle;\r\n\t\t\tif (options.documentTitle != null) documentTitle = options.documentTitle;\r\n\t\t\tif (options.customCss != null) customCss = options.customCss;\r\n\t\t}\r\n\r\n\t\tlet printJsOptions = new PrintJsOptions();\r\n\t\tprintJsOptions.printable = pathBytesOrId;\r\n\t\tprintJsOptions.type = type;\r\n\t\tprintJsOptions.base64 = base64;\r\n\t\tprintJsOptions.header = title;\r\n\t\tprintJsOptions.documentTitle = documentTitle;\r\n\t\tprintJsOptions.style = customCss;\r\n\t\tthis.print(printJsOptions);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Print grid\r\n\tpublic static printGrid(jsonData: any, options?: PrintGridOptions)\r\n\t{\r\n\t\tif (jsonData == null)\r\n\t\t\treturn;\r\n\r\n\t\tlet headerCss = undefined;\r\n\t\tlet contentCss = undefined;\r\n\t\tlet properties: string[] | null = null;\r\n\t\tlet title = undefined;\r\n\t\tlet repeatHeaderOnEveryPage = true;\r\n\t\tlet documentTitle = \"File_\" + new Date().toLocaleString();\r\n\t\tif (options != null)\r\n\t\t{\r\n\t\t\tif (options.headerCss != null) headerCss = options.headerCss;\r\n\t\t\tif (options.contentCss != null) contentCss = options.contentCss;\r\n\t\t\tif (options.properties != null) properties = options.properties;\r\n\t\t\tif (options.headerTitle != null) title = options.headerTitle;\r\n\t\t\tif (options.repeatHeaderOnEveryPages != null) repeatHeaderOnEveryPage = options.repeatHeaderOnEveryPages;\r\n\t\t\tif (options.documentTitle != null) documentTitle = options.documentTitle;\r\n\t\t}\r\n\r\n\t\tlet printJsOptions = new PrintJsOptions();\r\n\t\tprintJsOptions.printable = jsonData;\r\n\t\tprintJsOptions.type = PrintJsTypeEnum.Json;\r\n\t\tprintJsOptions.properties = (properties == null) ? Object.getOwnPropertyNames(jsonData) : properties;\r\n\t\tprintJsOptions.gridHeaderStyle = headerCss;\r\n\t\tprintJsOptions.gridStyle = contentCss;\r\n\t\tprintJsOptions.header = title;\r\n\t\tprintJsOptions.repeatTableHeader = repeatHeaderOnEveryPage;\r\n\t\tprintJsOptions.documentTitle = documentTitle;\r\n\t\tthis.print(printJsOptions);\r\n\t}\r\n\t//#endregion\r\n\r\n\tprivate static print(options: PrintJsOptions)\r\n\t{\r\n\t\tprintJS(options);\r\n\t}\r\n}\r\n\r\n//#region Classes\r\nclass PrintJsOptions\r\n{\r\n\tpublic printable: string | string[];\r\n\tpublic type?: string;\r\n\tpublic base64?: boolean;\r\n\tpublic properties?: string[];\r\n\tpublic gridHeaderStyle?: string;\r\n\tpublic gridStyle?: string;\r\n\tpublic header?: string;\r\n\tpublic repeatTableHeader?: boolean;\r\n\tpublic documentTitle?: string;\r\n\tpublic style?: string;\r\n}\r\n\r\nenum PrintJsTypeEnum\r\n{\r\n\tPdf = \"pdf\",\r\n\tHtml = \"html\",\r\n\tImage = \"image\",\r\n\tJson = \"json\"\r\n}\r\n\r\nexport enum PrintTypeEnum\r\n{\r\n\tPdf = \"pdf\",\r\n\tImage = \"image\"\r\n}\r\n\r\nexport class PrintFileOptions\r\n{\r\n\tpublic type?: PrintTypeEnum;\r\n\tpublic loadingMessage?: string;\r\n\tpublic headerTitle?: string;\r\n\tpublic documentTitle?: string;\r\n\tpublic customCss?: string;\r\n}\r\n\r\nexport class PrintHtmlOptions\r\n{\r\n\tpageTitle?: string;\r\n\tremoveInlineStyles?: boolean;\r\n\tprintDelay?: number;\r\n\theader?: string | HTMLElement | JQuery;\r\n\tfooter?: string | HTMLElement | JQuery;\r\n\tremoveScripts?: boolean;\r\n\tdebug?: boolean;\r\n\r\n\tbeforePrint?: Function;\r\n\tafterPrint?: Function;\r\n}\r\n\r\nclass PrintGridOptions\r\n{\r\n\tpublic headerCss?: string;\r\n\tpublic contentCss?: string;\r\n\tpublic properties?: string[];\r\n\tpublic loadingMessage?: string;\r\n\tpublic headerTitle?: string;\r\n\tpublic repeatHeaderOnEveryPages?: boolean;\r\n\tpublic documentTitle?: string;\r\n}\r\n//#endregion\r\n\r\n//#region PrintThis\r\n(function ($)\r\n{\r\n\r\n\tfunction appendContent($el: any, content: any)\r\n\t{\r\n\t\tif (!content) return;\r\n\r\n\t\t// Simple test for a jQuery element\r\n\t\t$el.append(content.jquery ? content.clone() : content);\r\n\t}\r\n\r\n\tfunction appendBody($body: any, $element: any, opt: any)\r\n\t{\r\n\t\t// Clone for safety and convenience\r\n\t\t// Calls clone(withDataAndEvents = true) to copy form values.\r\n\t\tvar $content = $element.clone(opt.formValues);\r\n\r\n\t\tif (opt.formValues)\r\n\t\t{\r\n\t\t\t// Copy original select and textarea values to their cloned counterpart\r\n\t\t\t// Makes up for inability to clone select and textarea values with clone(true)\r\n\t\t\tcopyValues($element, $content, 'select, textarea');\r\n\t\t}\r\n\r\n\t\tif (opt.removeScripts)\r\n\t\t{\r\n\t\t\t$content.find('script').remove();\r\n\t\t}\r\n\r\n\t\tif (opt.printContainer)\r\n\t\t{\r\n\t\t\t// grab $.selector as container\r\n\t\t\t$content.appendTo($body);\r\n\t\t} else\r\n\t\t{\r\n\t\t\t// otherwise just print interior elements of container\r\n\t\t\t$content.each(function (index: number, element: any)\r\n\t\t\t{\r\n\t\t\t\t$(element).children().appendTo($body)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Copies values from origin to clone for passed in elementSelector\r\n\tfunction copyValues(origin: any, clone: any, elementSelector: any)\r\n\t{\r\n\t\tvar $originalElements = origin.find(elementSelector);\r\n\r\n\t\tclone.find(elementSelector).each(function (index: any, item: any)\r\n\t\t{\r\n\t\t\t$(item).val($originalElements.eq(index).val());\r\n\t\t});\r\n\t}\r\n\r\n\tvar opt: any;\r\n\t($.fn as any).printThis = function (options: any)\r\n\t{\r\n\t\topt = $.extend({}, ($.fn as any).printThis.defaults, options);\r\n\t\tvar $element = this instanceof jQuery ? this : $(this);\r\n\r\n\t\tvar strFrameName = \"printThis-\" + (new Date()).getTime();\r\n\r\n\t\tif (window.location.hostname !== document.domain && navigator.userAgent.match(/msie/i))\r\n\t\t{\r\n\t\t\t// Ugly IE hacks due to IE not inheriting document.domain from parent\r\n\t\t\t// checks if document.domain is set by comparing the host name against document.domain\r\n\t\t\tvar iframeSrc = \"javascript:document.write(\\\"<head><script>document.domain=\\\\\\\"\" + document.domain + \"\\\\\\\";</s\" + \"cript></head><body></body>\\\")\";\r\n\t\t\tvar printI = document.createElement('iframe');\r\n\t\t\tprintI.name = \"printIframe\";\r\n\t\t\tprintI.id = strFrameName;\r\n\t\t\tprintI.className = \"MSIE\";\r\n\t\t\tdocument.body.appendChild(printI);\r\n\t\t\tprintI.src = iframeSrc;\r\n\r\n\t\t} else\r\n\t\t{\r\n\t\t\t// other browsers inherit document.domain, and IE works if document.domain is not explicitly set\r\n\t\t\tvar $frame = $(\"<iframe id='\" + strFrameName + \"' name='printIframe' />\");\r\n\t\t\t$frame.appendTo(\"body\");\r\n\t\t}\r\n\r\n\t\tvar $iframe = $(\"#\" + strFrameName);\r\n\r\n\t\t// show frame if in debug mode\r\n\t\tif (!opt.debug) $iframe.css({\r\n\t\t\tposition: \"absolute\",\r\n\t\t\twidth: \"0px\",\r\n\t\t\theight: \"0px\",\r\n\t\t\tleft: \"-600px\",\r\n\t\t\ttop: \"-600px\"\r\n\t\t});\r\n\r\n\t\t// before print callback\r\n\t\tif (typeof opt.beforePrint === \"function\")\r\n\t\t{\r\n\t\t\topt.beforePrint();\r\n\t\t}\r\n\r\n\t\t// $iframe.ready() and $iframe.load were inconsistent between browsers\r\n\t\tsetTimeout(function ()\r\n\t\t{\r\n\r\n\t\t\t// Add doctype to fix the style difference between printing and render\r\n\t\t\tfunction setDocType($iframe: any, doctype: any)\r\n\t\t\t{\r\n\t\t\t\tvar win, doc;\r\n\t\t\t\twin = $iframe.get(0);\r\n\t\t\t\twin = win.contentWindow || win.contentDocument || win;\r\n\t\t\t\tdoc = win.document || win.contentDocument || win;\r\n\t\t\t\tdoc.open();\r\n\t\t\t\tdoc.write(doctype);\r\n\t\t\t\tdoc.close();\r\n\t\t\t}\r\n\r\n\t\t\tif (opt.doctypeString)\r\n\t\t\t{\r\n\t\t\t\tsetDocType($iframe, opt.doctypeString);\r\n\t\t\t}\r\n\r\n\t\t\tvar $doc = $iframe.contents(),\r\n\t\t\t\t$head = $doc.find(\"head\"),\r\n\t\t\t\t$body = $doc.find(\"body\"),\r\n\t\t\t\t$base = $('base'),\r\n\t\t\t\tbaseURL;\r\n\r\n\t\t\t// add base tag to ensure elements use the parent domain\r\n\t\t\tif (opt.base === true && $base.length > 0)\r\n\t\t\t{\r\n\t\t\t\t// take the base tag from the original page\r\n\t\t\t\tbaseURL = $base.attr('href');\r\n\t\t\t} else if (typeof opt.base === 'string')\r\n\t\t\t{\r\n\t\t\t\t// An exact base string is provided\r\n\t\t\t\tbaseURL = opt.base;\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\t// Use the page URL as the base\r\n\t\t\t\tbaseURL = document.location.protocol + '//' + document.location.host;\r\n\t\t\t}\r\n\r\n\t\t\t$head.append('<base href=\"' + baseURL + '\">');\r\n\r\n\t\t\t// import page stylesheets\r\n\t\t\tif (opt.importCSS) $(\"link[rel=stylesheet]\").each(function (index: number, element: any)\r\n\t\t\t{\r\n\t\t\t\tvar href = $(element).attr(\"href\");\r\n\t\t\t\tif (href)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar media = $(element).attr(\"media\") || \"all\";\r\n\t\t\t\t\t$head.append(\"<link type='text/css' rel='stylesheet' href='\" + href + \"' media='\" + media + \"'>\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// import style tags\r\n\t\t\tif (opt.importStyle) $(\"style\").each(function (index: number, element: any)\r\n\t\t\t{\r\n\t\t\t\t$head.append(element.outerHTML);\r\n\t\t\t});\r\n\r\n\t\t\t// add title of the page\r\n\t\t\tif (opt.pageTitle) $head.append(\"<title>\" + opt.pageTitle + \"</title>\");\r\n\r\n\t\t\t// import additional stylesheet(s)\r\n\t\t\tif (opt.loadCSS)\r\n\t\t\t{\r\n\t\t\t\tif ($.isArray(opt.loadCSS))\r\n\t\t\t\t{\r\n\t\t\t\t\tjQuery.each(opt.loadCSS, function (index: any, value: any)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$head.append(\"<link type='text/css' rel='stylesheet' href='\" + value + \"'>\");\r\n\t\t\t\t\t});\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t$head.append(\"<link type='text/css' rel='stylesheet' href='\" + opt.loadCSS + \"'>\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar pageHtml = $('html')[0];\r\n\r\n\t\t\t// CSS VAR in html tag when dynamic apply e.g.  document.documentElement.style.setProperty(\"--foo\", bar);\r\n\t\t\t$doc.find('html').prop('style', pageHtml.style.cssText);\r\n\r\n\t\t\t// copy 'root' tag classes\r\n\t\t\tvar tag = opt.copyTagClasses;\r\n\t\t\tif (tag)\r\n\t\t\t{\r\n\t\t\t\ttag = tag === true ? 'bh' : tag;\r\n\t\t\t\tif (tag.indexOf('b') !== -1)\r\n\t\t\t\t{\r\n\t\t\t\t\t$body.addClass($('body')[0].className);\r\n\t\t\t\t}\r\n\t\t\t\tif (tag.indexOf('h') !== -1)\r\n\t\t\t\t{\r\n\t\t\t\t\t$doc.find('html').addClass(pageHtml.className);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// print header\r\n\t\t\tappendContent($body, opt.header);\r\n\r\n\t\t\tif (opt.canvas)\r\n\t\t\t{\r\n\t\t\t\t// add canvas data-ids for easy access after cloning.\r\n\t\t\t\tvar canvasId = 0;\r\n\t\t\t\t// .addBack('canvas') adds the top-level element if it is a canvas.\r\n\t\t\t\t($element as any).find('canvas').addBack('canvas').each(function (index: number, element: any)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(element).attr('data-printthis', canvasId++);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tappendBody($body, $element, opt);\r\n\r\n\t\t\tif (opt.canvas)\r\n\t\t\t{\r\n\t\t\t\t// Re-draw new canvases by referencing the originals\r\n\t\t\t\t$body.find('canvas').each(function (index: number, element: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar cid = $(element).data('printthis'),\r\n\t\t\t\t\t\t$src = $('[data-printthis=\"' + cid + '\"]');\r\n\r\n\t\t\t\t\telement.getContext('2d').drawImage($src[0], 0, 0);\r\n\r\n\t\t\t\t\t// Remove the markup from the original\r\n\t\t\t\t\tif ($.isFunction($.fn.removeAttr))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$src.removeAttr('data-printthis');\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$.each($src, function (i: any, el: any)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tel.removeAttribute('data-printthis');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// remove inline styles\r\n\t\t\tif (opt.removeInline)\r\n\t\t\t{\r\n\t\t\t\t// Ensure there is a selector, even if it's been mistakenly removed\r\n\t\t\t\tvar selector = opt.removeInlineSelector || '*';\r\n\t\t\t\t// $.removeAttr available jQuery 1.7+\r\n\t\t\t\tif ($.isFunction(($ as any).removeAttr))\r\n\t\t\t\t{\r\n\t\t\t\t\t$body.find(selector).removeAttr(\"style\");\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t$body.find(selector).attr(\"style\", \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// print \"footer\"\r\n\t\t\tappendContent($body, opt.footer);\r\n\r\n\t\t\t// attach event handler function to beforePrint event\r\n\t\t\tfunction attachOnBeforePrintEvent($iframe: any, beforePrintHandler: any)\r\n\t\t\t{\r\n\t\t\t\tvar win = $iframe.get(0);\r\n\t\t\t\twin = win.contentWindow || win.contentDocument || win;\r\n\r\n\t\t\t\tif (typeof beforePrintHandler === \"function\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif ('matchMedia' in win)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twin.matchMedia('print').addListener(function (mql: any)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (mql.matches) beforePrintHandler();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twin.onbeforeprint = beforePrintHandler;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tattachOnBeforePrintEvent($iframe, opt.beforePrintEvent);\r\n\r\n\t\t\tsetTimeout(function ()\r\n\t\t\t{\r\n\t\t\t\tif ($iframe.hasClass(\"MSIE\"))\r\n\t\t\t\t{\r\n\t\t\t\t\t// check if the iframe was created with the ugly hack\r\n\t\t\t\t\t// and perform another ugly hack out of neccessity\r\n\t\t\t\t\t(window.frames as any)[\"printIframe\"].focus();\r\n\t\t\t\t\t$head.append(\"<script>  window.print(); </s\" + \"cript>\");\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t// proper method\r\n\t\t\t\t\tif (document.queryCommandSupported(\"print\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t($iframe[0] as any).contentWindow.document.execCommand(\"print\", false, null);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t($iframe[0] as any).contentWindow.focus();\r\n\t\t\t\t\t\t($iframe[0] as any).contentWindow.print();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// remove iframe after print\r\n\t\t\t\tif (!opt.debug)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetTimeout(function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$iframe.remove();\r\n\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// after print callback\r\n\t\t\t\tif (typeof opt.afterPrint === \"function\")\r\n\t\t\t\t{\r\n\t\t\t\t\topt.afterPrint();\r\n\t\t\t\t}\r\n\r\n\t\t\t}, opt.printDelay);\r\n\r\n\t\t}, 333);\r\n\r\n\t};\r\n\r\n\t// defaults\r\n\t($.fn as any).printThis.defaults = {\r\n\t\tdebug: false,               // show the iframe for debugging\r\n\t\timportCSS: true,            // import parent page css\r\n\t\timportStyle: false,         // import style tags\r\n\t\tprintContainer: true,       // print outer container/$.selector\r\n\t\tloadCSS: \"\",                // path to additional css file - use an array [] for multiple\r\n\t\tpageTitle: \"\",              // add title to print page\r\n\t\tremoveInline: false,        // remove inline styles from print elements\r\n\t\tremoveInlineSelector: \"*\",  // custom selectors to filter inline styles. removeInline must be true\r\n\t\tprintDelay: 333,            // variable print delay\r\n\t\theader: null,               // prefix to html\r\n\t\tfooter: null,               // postfix to html\r\n\t\tbase: false,                // preserve the BASE tag or accept a string for the URL\r\n\t\tformValues: true,           // preserve input/form values\r\n\t\tcanvas: false,              // copy canvas content\r\n\t\tdoctypeString: '<!DOCTYPE html>', // enter a different doctype for older markup\r\n\t\tremoveScripts: false,       // remove script tags from print content\r\n\t\tcopyTagClasses: false,      // copy classes from the html & body tag\r\n\t\tbeforePrintEvent: null,     // callback function for printEvent in iframe\r\n\t\tbeforePrint: null,          // function called before iframe is filled\r\n\t\tafterPrint: null            // function called before iframe is removed\r\n\t};\r\n})(jQuery);\r\n//#endregion","import { DeviceManager } from \"../../../src/managers/deviceManager\";\r\nimport { AnimationShowEnum, AnimationHideEnum, ColorSettings, div, icon, IconClassicLight, IconClass, NotifierPositionEnum, NotifierTypeEnum, puma, shadowRoot, NotifierOptions, IconClassicRegular } from \"../vr\";\r\n\r\n//#region Control\r\nexport class Notifier\r\n{\r\n\tprivate _options: NotifierOptions;\r\n\tprivate _container: HTMLElement;\r\n\tprivate _arrow: HTMLElement;\r\n\tprivate _element: HTMLElement;\r\n\r\n\tconstructor(text: string, options?: NotifierOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new NotifierOptions();\r\n\r\n\t\tif (options.type == null) options.type = NotifierTypeEnum.Default;\r\n\t\tif (options.width == null) options.width = (DeviceManager.isMobile()) ? \"100%\" : ((options.target == null) ? \"undefined\" : \"max-content\");\r\n\t\tif (options.bold == null) options.bold = false;\r\n\t\tif (options.position == null) options.position = (options.target == null) ? NotifierPositionEnum.TopCenter : NotifierPositionEnum.RightMiddle;\r\n\t\tif (options.hideSettings == null) options.hideSettings = new NotifierHideSettings();\r\n\t\tif (options.hideSettings.autoHide == null || options.hideSettings.autoHide === true) options.hideSettings.autoHide = 3000;\r\n\t\tif (options.hideSettings.clickToHide == null) options.hideSettings.clickToHide = false;\r\n\t\tif (options.hideSettings.clickToHide === true) options.hideSettings.autoHide = false;\r\n\t\tif (options.hideSettings.duration == null) options.hideSettings.duration = 300;\r\n\t\tif (options.hideSettings.animation == null) options.hideSettings.animation = AnimationHideEnum.SlideUp;\r\n\r\n\t\tif (options.showSettings == null) options.showSettings = new NotifierShowSettings();\r\n\t\tif (options.showSettings.duration == null) options.showSettings.duration = 300;\r\n\t\tif (options.showSettings.animation == null) options.showSettings.animation = AnimationShowEnum.SlideDown;\r\n\r\n\t\tif (options.colorSettings == null) options.colorSettings = new ColorSettings();\r\n\t\tif (options.colorSettings.background == null) options.colorSettings.background = \"#e3f1fa\";\r\n\t\tif (options.colorSettings.textColor == null) options.colorSettings.textColor = \"#000\";\r\n\t\tif (options.colorSettings.border == null) options.colorSettings.border = \"#c6edff\";\r\n\r\n\t\tif (DeviceManager.isMobile())\r\n\t\t{\r\n\t\t\tif (options.target == null) options.position = NotifierPositionEnum.TopCenter;\r\n\t\t\telse options.position = NotifierPositionEnum.BottomCenter;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tthis._options = options;\r\n\r\n\t\t//#region Notification areas\r\n\t\tif (!this.isOnTarget())\r\n\t\t{\r\n\t\t\tif (puma(\".vrNotifierArea\" + options.position).length == 0)\r\n\t\t\t\tpuma(\"<div class='vrNotifierArea\" + options.position + \"'></div>\").appendTo((shadowRoot() != null) ? shadowRoot() : document.body);\r\n\r\n\t\t\tif (DeviceManager.isMobile())\r\n\t\t\t{\r\n\t\t\t\tif (puma(\".vrNotifierAreaTopCenter\")[0] != null)\r\n\t\t\t\t\tpuma(\".vrNotifierAreaTopCenter\")[0].style.cssText += \"left: 0px; width: Calc(100% - 22px);\";\r\n\r\n\t\t\t\tif (puma(\".vrNotifierAreaBottomCenter\")[0] != null)\r\n\t\t\t\t\tpuma(\".vrNotifierAreaBottomCenter\")[0].style.cssText += \"left: 0px; width: Calc(100% - 22px);\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tthis.prepareNotification(text);\r\n\t\tthis.show();\r\n\t}\r\n\r\n\tprivate prepareNotification(text: string)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet containerToAdd = this.getContainerToAdd();\r\n\r\n\t\tthis._container = div(containerToAdd, { class: \"vrNotifierContainer\", css: (options.cssContainer != null) ? options.cssContainer : \"\" }, true);\r\n\t\tthis._arrow = div(this._container, { class: \"vrNotifierArrow\" });\r\n\t\tthis._element = div(this._container, { class: \"vrNotifier \" + ((options.class != null) ? options.class : \"\"), css: (options.css != null) ? options.css : \"\" });\r\n\r\n\t\tif (DeviceManager.isMobile())\r\n\t\t\tthis._container.style.cssText += \"left: 0px;\";\r\n\r\n\t\t//#region Bold\r\n\t\tif (options.bold)\r\n\t\t\tpuma(this._element).css(\"font-weight\", \"600\");\r\n\t\t//#endregion\r\n\r\n\t\t//#region Font size\r\n\t\tif (options.fontSize != null)\r\n\t\t\tthis._element.style.cssText += \"font-size: \" + options.fontSize + \";\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Target\r\n\t\tif (this.isOnTarget())\r\n\t\t{\r\n\t\t\tif (typeof (options.target) == \"string\" && !options.target.startsWith(\"#\"))\r\n\t\t\t\toptions.target = \"#\" + options.target;\r\n\r\n\t\t\toptions.target = puma(options.target)[0];\r\n\t\t\tpuma(this._container).insertBefore(options.target);\r\n\r\n\t\t\tthis._container.style.cssText += \"width: 0; height: 0; position: absolute; display: inline-block;\";\r\n\t\t\tthis._arrow.style.cssText += \"display: block;\";\r\n\t\t\tthis._element.style.cssText += \"position: absolute;\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis._container.style.cssText += \"position: relative; margin: 5px;\";\r\n\t\t\tthis._arrow.style.cssText += \"display: none;\";\r\n\t\t\tthis._element.style.cssText += \"position: relative;\";\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Width\r\n\t\tif (options.width != null)\r\n\t\t\tpuma(this._element).width(options.width);\r\n\t\t//#endregion\r\n\r\n\t\tlet color = options.colorSettings!.textColor;\r\n\t\tlet backgroundColor = options.colorSettings!.background;\r\n\t\tlet borderColor = options.colorSettings!.border;\r\n\t\tlet iconClass = options.icon;\r\n\r\n\t\t//#region Type\r\n\t\tswitch (options.type)\r\n\t\t{\r\n\t\t\tcase NotifierTypeEnum.Error:\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor = \"#B94A48\";\r\n\t\t\t\t\tbackgroundColor = \"#F2DEDE\";\r\n\t\t\t\t\tborderColor = \"#EED3D7\";\r\n\t\t\t\t\ticonClass = IconClassicRegular.CircleExclamation;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase NotifierTypeEnum.Warning:\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor = \"#684200\";\r\n\t\t\t\t\tbackgroundColor = \"#FCF8E3\";\r\n\t\t\t\t\tborderColor = \"#FBEED5\";\r\n\t\t\t\t\ticonClass = IconClassicRegular.TriangleExclamation;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase NotifierTypeEnum.Info:\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor = \"#3A87AD\";\r\n\t\t\t\t\tbackgroundColor = \"#D9EDF7\";\r\n\t\t\t\t\tborderColor = \"#BCE8F1\";\r\n\t\t\t\t\ticonClass = IconClassicRegular.Info;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase NotifierTypeEnum.Success:\r\n\t\t\t\t{\r\n\t\t\t\t\tcolor = \"#468847\";\r\n\t\t\t\t\tbackgroundColor = \"#DFF0D8\";\r\n\t\t\t\t\tborderColor = \"#D6E9C6\";\r\n\t\t\t\t\ticonClass = IconClassicRegular.Check;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Icon\r\n\t\tif (iconClass != null && options.icon !== false)\r\n\t\t\tpuma(this._element).append(icon(iconClass as any, null, { css: \"margin-right: 8px;\" }));\r\n\t\t//#endregion\r\n\r\n\t\t//#region Color\r\n\t\tpuma(this._element).css(\"background-color\", backgroundColor);\r\n\t\tpuma(this._element).css(\"color\", color);\r\n\t\tpuma(this._element).css(\"border\", \"solid 1px \" + borderColor);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Text\r\n\t\tif (options.customHtml != null)\r\n\t\t{\r\n\t\t\t//#region Custom HTML\r\n\t\t\tif (typeof (options.customHtml) == \"string\")\r\n\t\t\t\tpuma(this._element).append(options.customHtml.replace(\"#text#\", text));\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet event = new NotifierCustomHtmlEvent();\r\n\t\t\t\tevent.sender = this;\r\n\t\t\t\tevent.divContainer = this._element;\r\n\t\t\t\toptions.customHtml(event);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t\telse\r\n\t\t\tpuma(this._element).append(\"<label>\" + text + \"</label>\");\r\n\t\t//#endregion\t\r\n\r\n\t\tif (this.isOnTarget())\r\n\t\t{\r\n\t\t\t//#region Arrow\r\n\t\t\tlet borderTopArrow = \"border-right: 5px solid transparent; border-left: 5px solid transparent; border-top: 5px solid \" + backgroundColor + \";\";\r\n\t\t\tlet borderBottomArrow = \"border-right: 5px solid transparent; border-left: 5px solid transparent; border-bottom: 5px solid \" + backgroundColor + \";\";\r\n\t\t\tlet borderLeftArrow = \"border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 5px solid \" + backgroundColor + \";\";\r\n\t\t\tlet borderRightArrow = \"border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-right: 5px solid \" + backgroundColor + \";\";\r\n\t\t\t//#endregion\r\n\r\n\t\t\tlet offsetLeft = this.targetOptions().marginLeft;\r\n\t\t\tlet topElement = null, rightElement = null, bottomElement = null, leftElement = null;\r\n\t\t\tswitch (options.position)\r\n\t\t\t{\r\n\t\t\t\t//#region Top\r\n\t\t\t\tcase NotifierPositionEnum.TopCenter:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet diffLeft = ((this.element().offsetWidth - this.targetOptions().width) * -1) / 2;\r\n\t\t\t\t\t\tleftElement = diffLeft + offsetLeft;\r\n\t\t\t\t\t\tbottomElement = 4;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + ((this.targetOptions().width / 2 - 5) + offsetLeft) + \"px; bottom: 0px;\" + borderTopArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; bottom: \" + bottomElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.TopRight:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tleftElement = offsetLeft + this.targetOptions().width - this.element().offsetWidth;\r\n\t\t\t\t\t\tbottomElement = 4;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + ((this.targetOptions().width / 2 - 5) + offsetLeft) + \"px; bottom: 0px;\" + borderTopArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; bottom: \" + bottomElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.TopLeft:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tleftElement = offsetLeft;\r\n\t\t\t\t\t\tbottomElement = 4;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + ((this.targetOptions().width / 2 - 5) + offsetLeft) + \"px; bottom: 0px;\" + borderTopArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; bottom: \" + bottomElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\t//#region Right\r\n\t\t\t\tcase NotifierPositionEnum.RightMiddle:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet diffTop = ((this.element().offsetHeight - this.target().offsetHeight) * -1) / 2;\r\n\t\t\t\t\t\tleftElement = (this.target().offsetWidth + 4) + offsetLeft;\r\n\t\t\t\t\t\ttopElement = diffTop;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + (this.targetOptions().width + offsetLeft) + \"px; top: \" + (puma(this.target()).offset().top + (this.target().offsetHeight / 2) - 5) + \"px;\" + borderRightArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t\tthis._container.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.RightTop:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tleftElement = (this.target().offsetWidth + 4) + offsetLeft;\r\n\t\t\t\t\t\ttopElement = 0;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + (this.target().offsetWidth + offsetLeft) + \"px; top: \" + ((this.target().offsetHeight / 2) - 5) + \"px;\" + borderRightArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.RightBottom:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet diffTop = Math.abs((this.element().offsetHeight - this.target().offsetHeight));\r\n\t\t\t\t\t\tleftElement = (this.target().offsetWidth + 4) + offsetLeft;\r\n\t\t\t\t\t\ttopElement = -(diffTop);\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + (this.target().offsetWidth + offsetLeft) + \"px; top: \" + ((this.target().offsetHeight / 2) - 5) + \"px;\" + borderRightArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\t//#region Left\r\n\t\t\t\tcase NotifierPositionEnum.LeftMiddle:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet diffTop = ((this.element().offsetHeight - this.target().offsetHeight) * -1) / 2;\r\n\t\t\t\t\t\trightElement = -(offsetLeft - 4);\r\n\t\t\t\t\t\ttopElement = diffTop;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"right: -\" + (offsetLeft) + \"px; top: \" + ((this.target().offsetHeight / 2) - 5) + \"px;\" + borderLeftArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"right: \" + rightElement + \"px; top: \" + diffTop + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.LeftTop:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trightElement = -(offsetLeft - 4);\r\n\t\t\t\t\t\ttopElement = 0;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"right: -\" + (offsetLeft) + \"px; top: \" + ((this.target().offsetHeight / 2) - 5) + \"px;\" + borderLeftArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"right: \" + rightElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.LeftBottom:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet diffTop = Math.abs((this.element().offsetHeight - this.target().offsetHeight));\r\n\t\t\t\t\t\trightElement = -(offsetLeft - 4);\r\n\t\t\t\t\t\ttopElement = -(diffTop);\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"right: -\" + (offsetLeft) + \"px; top: \" + ((this.target().offsetHeight / 2) - 5) + \"px;\" + borderLeftArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"right: \" + rightElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\t//#region Bottom\r\n\t\t\t\tcase NotifierPositionEnum.BottomCenter:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet diffLeft = ((this.element().offsetWidth - this.targetOptions().width) * -1) / 2;\r\n\t\t\t\t\t\tleftElement = diffLeft + offsetLeft;\r\n\t\t\t\t\t\ttopElement = this.targetOptions().height + 4;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + ((this.targetOptions().width / 2 - 5) + offsetLeft) + \"px; top: \" + this.targetOptions().height + \"px;\" + borderBottomArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.BottomRight:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tleftElement = offsetLeft + this.targetOptions().width - this.element().offsetWidth;\r\n\t\t\t\t\t\ttopElement = this.targetOptions().height + 4;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + ((this.targetOptions().width / 2 - 5) + offsetLeft) + \"px; top: \" + this.targetOptions().height + \"px;\" + borderBottomArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NotifierPositionEnum.BottomLeft:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tleftElement = offsetLeft;\r\n\t\t\t\t\t\ttopElement = this.targetOptions().height + 4;\r\n\r\n\t\t\t\t\t\tthis._arrow.style.cssText += \"left: \" + ((this.targetOptions().width / 2 - 5) + offsetLeft) + \"px; top: \" + this.targetOptions().height + \"px;\" + borderBottomArrow;\r\n\t\t\t\t\t\tthis._element.style.cssText += \"left: \" + leftElement + \"px; top: \" + topElement + \"px;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\r\n\t\t\tif (leftElement != null && leftElement < 0)\r\n\t\t\t{\r\n\t\t\t\tthis._element.style.cssText += \"left: 0px;\";\r\n\t\t\t\tthis._container.style.cssText += \"left: 0px;\";\r\n\t\t\t}\r\n\r\n\t\t\tif (topElement != null && topElement < 0)\r\n\t\t\t{\r\n\t\t\t\tthis._element.style.cssText += \"top: 0px;\";\r\n\t\t\t\tthis._container.style.cssText += \"top: 0px;\";\r\n\t\t\t}\r\n\r\n\t\t\t// if (puma(this.element()).offset().left + puma(this.element()).width() > document.body.clientWidth)\r\n\t\t\t// \tthis._element.style.cssText += \"left: unset; right: 0px;\";\r\n\t\t}\r\n\r\n\t\tpuma(this._element).hide();\r\n\t\tpuma(this._arrow).hide();\r\n\t}\r\n\r\n\tprivate getContainerToAdd()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet containerToAdd: HTMLElement | null = null;\r\n\r\n\t\tif (this.isOnTarget())\r\n\t\t\tcontainerToAdd = document.body;\r\n\t\telse\r\n\t\t\tcontainerToAdd = puma(\".vrNotifierArea\" + options.position);\r\n\r\n\t\treturn containerToAdd!;\r\n\t}\r\n\r\n\tcontainer()\r\n\t{\r\n\t\treturn this._container;\r\n\t}\r\n\r\n\tvisible(state?: boolean)\r\n\t{\r\n\t\tif (state != null)\r\n\t\t{\r\n\t\t\tif (state) this.show();\r\n\t\t\telse this.hide();\r\n\t\t}\r\n\r\n\t\treturn puma(this._element).is(\":visible\");\r\n\t}\r\n\r\n\tshow(text?: string)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet showSettings = options.showSettings!;\r\n\t\tlet hideSettings = options.hideSettings!;\r\n\t\tlet duration = showSettings.duration;\r\n\r\n\t\tswitch (showSettings.animation)\r\n\t\t{\r\n\t\t\tcase AnimationShowEnum.Default: puma(this._element).show(duration); break;\r\n\t\t\tcase AnimationShowEnum.FadeIn: puma(this._element).fadeIn(duration); break;\r\n\t\t\tcase AnimationShowEnum.SlideDown: puma(this._element).slideDown(duration); break;\r\n\t\t\tcase AnimationShowEnum.None: puma(this._element).show(); break;\r\n\t\t\tdefault:\r\n\t\t\t\tpuma(this._element).show(duration); break;\r\n\t\t}\r\n\t\tpuma(this._arrow).show();\r\n\r\n\t\tif (hideSettings.autoHide !== false)\r\n\t\t\twindow.setTimeout(() => this.hide(), hideSettings.autoHide as number);\r\n\t\telse if (hideSettings.clickToHide === true)\r\n\t\t\tpuma(this._container).on(\"click\", (e: JQuery.ClickEvent) => this.hide());\r\n\r\n\t\tif (text != null)\r\n\t\t\tpuma(this._element).append(\"<label>\" + text + \"</label>\");\r\n\r\n\t\tpuma(this._element).on(\"click\", () =>\r\n\t\t{\r\n\t\t\tif (options.onClick != null)\r\n\t\t\t{\r\n\t\t\t\tlet clickEvent = new NotifierOnClickEvent();\r\n\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\tclickEvent.text = text;\r\n\t\t\t\toptions.onClick(clickEvent);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\topen(text?: string)\r\n\t{\r\n\t\tthis.show(text);\r\n\t}\r\n\r\n\thide()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet hideSettings = options.hideSettings!;\r\n\r\n\t\tlet duration = hideSettings.duration;\r\n\t\tswitch (hideSettings.animation)\r\n\t\t{\r\n\t\t\tcase AnimationHideEnum.Default: puma(this._element).hide(duration); break;\r\n\t\t\tcase AnimationHideEnum.FadeOut: puma(this._element).fadeOut(duration); break;\r\n\t\t\tcase AnimationHideEnum.SlideUp: puma(this._element).slideUp(duration); break;\r\n\t\t\tcase AnimationHideEnum.None: puma(this._element).hide(); break;\r\n\t\t\tdefault:\r\n\t\t\t\tpuma(this._element).hide(duration); break;\r\n\t\t}\r\n\t\tpuma(this._arrow).hide();\r\n\r\n\t\twindow.setTimeout(() => puma(this._container).remove(), duration);\r\n\t}\r\n\r\n\tclose()\r\n\t{\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\tisOnTarget()\r\n\t{\r\n\t\treturn this.target() != null;\r\n\t}\r\n\r\n\ttarget()\r\n\t{\r\n\t\treturn this.getOptions().target as HTMLElement;\r\n\t}\r\n\r\n\ttargetOptions()\r\n\t{\r\n\t\tlet targetOptions = new TargetOptions();\r\n\t\ttargetOptions.width = this.target().offsetWidth;\r\n\t\ttargetOptions.height = this.target().offsetHeight;\r\n\t\ttargetOptions.offsetLeft = this.target().offsetLeft;\r\n\t\ttargetOptions.offsetTop = this.target().offsetTop;\r\n\t\ttargetOptions.marginTop = puma(this.target()).css(\"marginTop\").getNumericPart();\r\n\t\ttargetOptions.marginRight = puma(this.target()).css(\"marginRight\").getNumericPart();\r\n\t\ttargetOptions.marginBottom = puma(this.target()).css(\"marginBottom\").getNumericPart();\r\n\t\ttargetOptions.marginLeft = puma(this.target()).css(\"marginLeft\").getNumericPart();\r\n\r\n\t\treturn targetOptions;\r\n\t}\r\n\r\n\telement()\r\n\t{\r\n\t\treturn this._element;\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this._options;\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nexport class NotifierShowSettings\r\n{\r\n\tduration: number;\r\n\tanimation?: AnimationShowEnum;\r\n}\r\n\r\nexport class NotifierCustomHtmlEvent\r\n{\r\n\tsender: Notifier;\r\n\tdivContainer: HTMLElement;\r\n}\r\n\r\nclass TargetOptions\r\n{\r\n\theight: number;\r\n\twidth: number;\r\n\tmarginLeft: number;\r\n\tmarginRight: number;\r\n\tmarginTop: number;\r\n\tmarginBottom: number;\r\n\toffsetLeft: number;\r\n\toffsetTop: number;\r\n}\r\n\r\nexport class NotifierOnClickEvent\r\n{\r\n\tsender: Notifier;\r\n\ttext?: string;\r\n}\r\n\r\nexport class NotifierHideSettings\r\n{\r\n\tautoHide?: boolean | number;\r\n\tclickToHide?: boolean;\r\n\tduration?: number;\r\n\tanimation?: AnimationHideEnum;\r\n}\r\n//#endregion","import { ControlTypeEnum, LabelModeEnum, DateModeEnum, puma, ColorSettings, TextAlignEnum, LabelUnderlineMode, PositionEnum } from \"../vr\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\n\r\n//#region Options\r\nexport class LabelOptions extends VrControlOptions\r\n{\r\n    text?: string | number | Date;\r\n    key?: string;\r\n    tooltip?: boolean | string;\r\n    colorSettings?: ColorSettings;\r\n    fontSize?: number | string;\r\n    fontFamily?: string;\r\n    bold?: boolean;\r\n    noBr?: boolean | number;\r\n    mode?: LabelModeEnum;\r\n    align?: TextAlignEnum;\r\n    linkCss?: string;\r\n    underlineMode?: LabelUnderlineMode;\r\n\r\n    onClick?: (e: LabelClickEvent) => void;\r\n    onHover?: (e: LabelHoverEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Label extends VrControl\r\n{\r\n    constructor(element: HTMLElement, options?: LabelOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new LabelOptions();\r\n\r\n        if (options.text == null) options.text = \"\";\r\n        if (options.noBr == null) options.noBr = false;\r\n        if (options.mode == null) options.mode = LabelModeEnum.Default;\r\n\r\n        if (options.mode == LabelModeEnum.Currency && options.align == null)\r\n            options.align = TextAlignEnum.Right;\r\n\r\n        if (options.align == null) options.align = TextAlignEnum.Left;\r\n        if (options.tabIndex == null) options.tabIndex = -1;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Label);\r\n\r\n        if (options.label != null && options.labelSettings!.position == PositionEnum.Left)\r\n            this.element().style.cssText += \"margin-top: -2px;\";\r\n\r\n        //#region NoBr\r\n        if (options.noBr !== false)\r\n        {\r\n            if (options.noBr === true)\r\n            {\r\n                this.element().style.cssText += \"white-space: nowrap; overflow:hidden; margin-bottom: -6px; text-overflow: ellipsis; display: inline-block;\";\r\n                if (options.width == null)\r\n                    this.element().style.cssText += \"width: 100%;\";\r\n            }\r\n            else\r\n                this.element().style.cssText += \"overflow: hidden; display: -webkit-inline-box; -webkit-line-clamp: \" + options.noBr + \"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;\";\r\n        }\r\n        //#endregion\r\n\r\n        //#region Text/Tooltip\r\n        this.value(options.text);\r\n\r\n        if (options.tooltip != null && options.tooltip !== false)\r\n            this.tooltip((options.tooltip === true) ? options.text : options.tooltip);\r\n        //#endregion\r\n\r\n        //#region Value\r\n        if (options.key != null)\r\n            puma(this.element()).attr(\"key\", options.key);\r\n        //#endregion\r\n\r\n        //#region Color settings\r\n        if (options.colorSettings != null)\r\n        {\r\n            let colorSettings = options.colorSettings;\r\n            if (colorSettings.textColor != null)\r\n                this.color(colorSettings.textColor);\r\n            if (colorSettings.background != null)\r\n                this.backgroundColor(colorSettings.background);\r\n            if (colorSettings.border != null)\r\n                this.borderColor(colorSettings.border);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Font\r\n        let font = \"\";\r\n        if (options.fontSize != null)\r\n        {\r\n            if (typeof (options.fontSize) == \"number\")\r\n                options.fontSize = options.fontSize + \"px\";\r\n\r\n            font += \"font-size: \" + options.fontSize + \";\";\r\n        }\r\n        if (options.fontFamily != null)\r\n            font += \"font-family: \" + options.fontFamily + \";\";\r\n        if (options.bold === true)\r\n            font += \"font-weight: 600;\";\r\n\r\n        this.element().style.cssText += font;\r\n        //#endregion\r\n\r\n        //#region Align\r\n        this.element().style.cssText += \"text-align: \" + options.align + \";\";\r\n        this.container().style.cssText += \"text-align: \" + options.align + \";\";\r\n        //#endregion\r\n\r\n        //#region Underline\r\n        let underlineOnHoverClass = \"\";\r\n        let underlineCss = \"\";\r\n        if (options.underlineMode != null)\r\n        {\r\n            switch (options.underlineMode)\r\n            {\r\n                case LabelUnderlineMode.Always: underlineCss += \"text-decoration: underline\"; break;\r\n                case LabelUnderlineMode.None: underlineCss += \"text-decoration: none\"; break;\r\n                case LabelUnderlineMode.OnHover: underlineOnHoverClass = \"labelhover\"; break;\r\n            }\r\n\r\n            this.element().style.cssText += underlineCss + \";\";\r\n            if (underlineOnHoverClass.vrIsNotNullOrEmpty())\r\n                puma(this.element()).addClass(underlineOnHoverClass);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Events\r\n        if (options.onClick != null)\r\n        {\r\n            this.container().style.cssText += \"cursor: pointer;\";\r\n            this.element().style.cssText += \"cursor: pointer;\";\r\n        }\r\n        puma(this.container()).click(() => this.click());\r\n\r\n        if (options.onHover != null)\r\n        {\r\n            puma(this.container()).on(\"hover\", () =>\r\n            {\r\n                let hoverEvent = new LabelHoverEvent();\r\n                hoverEvent.sender = this;\r\n                hoverEvent.text = this.value();\r\n                options!.onHover!(hoverEvent);\r\n            });\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n\r\n    //#region Text/Label/Tooltip\r\n    value(value?: string | number | Date): string\r\n    {\r\n        let options = this.getOptions();\r\n        if (value != null)\r\n        {\r\n            let linkCss = \"\";\r\n            if (options.linkCss != null)\r\n                linkCss = \" style='\" + options.linkCss + \";' \";\r\n\r\n            let mode = this.options<LabelOptions>().mode;\r\n            switch (mode)\r\n            {\r\n                case LabelModeEnum.Primary: puma(this.element()).addClass(\"vrLabelPrimaryMode\"); break;\r\n                case LabelModeEnum.Error: puma(this.element()).addClass(\"vrLabelErrorMode\"); break;\r\n                case LabelModeEnum.Phone: value = \"<a \" + linkCss + \" href='tel:\" + value + \"'>\" + value + \"</a>\"; break;\r\n                case LabelModeEnum.Mail: value = \"<a \" + linkCss + \" href='mailto:\" + value + \"'>\" + value + \"</a>\"; break;\r\n                case LabelModeEnum.Link: value = \"<a \" + linkCss + \" href='\" + value + \"'>\" + value + \"</a>\"; break;\r\n                case LabelModeEnum.Currency: value = Number(value).vrToCurrencyString(); break;\r\n                case LabelModeEnum.Date:\r\n                    {\r\n                        if (Date.vrIsValidDate(value))\r\n                            value = new Date(value).vrToItalyString(DateModeEnum.Date);\r\n                    }\r\n                    break;\r\n                case LabelModeEnum.DateTime:\r\n                    {\r\n                        if (Date.vrIsValidDate(value))\r\n                            value = new Date(value).vrToItalyString(DateModeEnum.DateTime);\r\n                    }\r\n                    break;\r\n                case LabelModeEnum.Time:\r\n                    {\r\n                        if (Date.vrIsValidDate(value))\r\n                            value = new Date(value).vrToItalyString(DateModeEnum.Time);\r\n                    }\r\n                    break;\r\n            }\r\n            this.element().innerHTML = String(value);\r\n\r\n            let textWidth = UtilityManager.textWidth(this.element());\r\n            if (options.tooltip === true || (options.tooltip !== false && textWidth != null && textWidth > 0 && (textWidth + 10) > this.width()))\r\n                this.tooltip(this.element().textContent!);\r\n        }\r\n        return this.element().innerHTML;\r\n    }\r\n\r\n    appendText(value: string | number)\r\n    {\r\n        this.value(this.value() + value);\r\n    }\r\n\r\n    tooltip(value?: string | number | Date): string\r\n    {\r\n        if (value != null)\r\n            this.element().title = (typeof (value) == \"string\" || typeof (value) == \"number\") ? String(value) : value.vrToItalyString();\r\n\r\n        return this.element().title;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Mail/Phone/Link\r\n    toTel(phoneNumber: string, customText?: string): void\r\n    {\r\n        this.element().innerHTML = this.formatLinkLabel(\"tel:\" + phoneNumber, customText);\r\n    }\r\n\r\n    toMail(mail: string, customText?: string): void\r\n    {\r\n        this.element().innerHTML = this.formatLinkLabel(\"mailto:\" + mail, customText);\r\n    }\r\n\r\n    toLink(url: string, customText?: string): void\r\n    {\r\n        this.element().innerHTML = this.formatLinkLabel(url, customText);\r\n    }\r\n\r\n    private formatLinkLabel(url: string, customText?: string)\r\n    {\r\n        let options = this.getOptions();\r\n        let linkCss = \"\";\r\n        if (options.linkCss != null)\r\n            linkCss = \" style='\" + options.linkCss + \";' \";\r\n\r\n        return \"<a \" + linkCss + \" href='\" + url + \"'>\" + ((customText != null) ? customText : this.value()) + \"</a>\";\r\n    }\r\n    //#endregion\r\n\r\n    //#region Color\r\n    color(value?: string): string\r\n    {\r\n        if (value != null)\r\n            this.element().style.cssText += \"color: \" + value;\r\n\r\n        return puma(this.element()).css(\"color\");\r\n    }\r\n\r\n    backgroundColor(value?: string): string\r\n    {\r\n        if (value != null)\r\n            this.element().style.cssText += \"background-color: \" + value;\r\n\r\n        return puma(this.element()).css(\"background-color\");\r\n    }\r\n\r\n    borderColor(value?: string): string\r\n    {\r\n        if (value != null)\r\n            this.element().style.cssText += \"border: solid 1px \" + value + \"; padding: 1px 3px 1px 3px;\";\r\n\r\n        return puma(this.element()).css(\"border-color\");\r\n    }\r\n    //#endregion\r\n\r\n    isEmpty(): boolean\r\n    {\r\n        return this.element().innerHTML === \"\";\r\n    }\r\n\r\n    clear(): void\r\n    {\r\n        this.element().innerHTML = \"\";\r\n        this.element().title = \"\";\r\n    }\r\n\r\n    getOptions(): LabelOptions\r\n    {\r\n        return this.options<LabelOptions>();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Events\r\n    click(): void\r\n    {\r\n        let clickCallback = this.options<LabelOptions>().onClick;\r\n        if (clickCallback != null)\r\n        {\r\n            let clickEvent = new LabelClickEvent();\r\n            clickEvent.sender = this;\r\n            clickEvent.text = this.value();\r\n            clickCallback(clickEvent);\r\n        }\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region EventClasses\r\nexport class LabelClickEvent extends VrControlsEvent\r\n{\r\n    sender: Label;\r\n    text: string;\r\n}\r\n\r\nclass LabelHoverEvent extends VrControlsEvent\r\n{\r\n    sender: Label;\r\n    text: string;\r\n}\r\n//#endregion","import { VrControlOptions, VrControl } from \"../common\";\r\nimport { ControlTypeEnum, createLabel, CheckboxStateEnum, ErrorPositionEnum, puma } from \"../vr\";\r\nimport { DeviceManager } from \"../../../src/managers/deviceManager\";\r\n\r\n//#region Options\r\nexport class CheckBoxOptions extends VrControlOptions\r\n{\r\n    text?: string;\r\n    value?: string;\r\n    threeState?: boolean;\r\n    checked?: boolean;\r\n    name?: string;\r\n    tooltip?: string;\r\n\r\n    onCheck?(e: CheckBoxCheckEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class CheckBox extends VrControl\r\n{\r\n    constructor(element: HTMLElement, options?: CheckBoxOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new CheckBoxOptions();\r\n\r\n        if (options.text == null) options.text = \"\";\r\n        if (options.checked == null) options.checked = false;\r\n        if (options.threeState == null) options.threeState = false;\r\n        //#endregion\r\n\r\n        puma(element).attr(\"type\", \"checkbox\");\r\n\r\n        let userWidth = options.width;\r\n        options.width = undefined;\r\n        super(element, options, ControlTypeEnum.CheckBox);\r\n\r\n        if (userWidth != null)\r\n        {\r\n            if (typeof (userWidth) == \"number\")\r\n                userWidth = userWidth + \"px\";\r\n\r\n            this.container().style.cssText += \"width: \" + userWidth + \";\";\r\n        }\r\n\r\n        let label = createLabel(\r\n            {\r\n                text: options.text,\r\n                cssContainer: \"position: relative; top: -1px;\",\r\n                class: \"vrCheckBoxLabel\",\r\n                width: \"100%\",\r\n                tooltip: options.tooltip\r\n            }, this.container());\r\n        puma(label.element()).attr(\"for\", element.id);\r\n\r\n        //#region Value & Name\r\n        if (options.value == null) options.value = options.text;\r\n        if (options.value != null)\r\n            puma(this.element()).attr(\"value\", options.value);\r\n\r\n        if (options.name != null)\r\n            puma(this.element()).attr(\"name\", options.name);\r\n        //#endregion\r\n\r\n        //#region Tooltip\r\n        if (options.tooltip != null)\r\n            puma(this.element()).attr(\"title\", options.tooltip);\r\n        //#endregion\r\n\r\n        //#region Checked\r\n        if (options.checked === true)\r\n            this.checked(CheckboxStateEnum.Checked, false);\r\n        else if (options.threeState)\r\n            this.checked(CheckboxStateEnum.Undefined, false);\r\n        //#endregion\r\n\r\n        //#region Events\r\n        puma(this.element()).click((e: JQueryEventObject) =>\r\n        {\r\n            this.hideError();\r\n            let checkbox = e.currentTarget as HTMLInputElement;\r\n            let checked = checkbox.checked;\r\n\r\n            let state = null;\r\n            if (!options!.threeState)\r\n            {\r\n                if (checkbox.checked)\r\n                    state = CheckboxStateEnum.Checked;\r\n                else\r\n                    state = CheckboxStateEnum.Unchecked;\r\n            }\r\n            else\r\n            {\r\n                if (checkbox.checked && !puma(this.element()).hasClass(\"indeterminateVrCheckbox\"))\r\n                {\r\n                    puma(this.element()).addClass(\"indeterminateVrCheckbox\");\r\n                    state = CheckboxStateEnum.Undefined;\r\n                    e.preventDefault();\r\n                }\r\n                else\r\n                {\r\n                    puma(this.element()).removeClass(\"indeterminateVrCheckbox\");\r\n                    state = (checked) ? CheckboxStateEnum.Checked : CheckboxStateEnum.Unchecked;\r\n                }\r\n            }\r\n\r\n            if (options!.onCheck != null)\r\n            {\r\n                let event = new CheckBoxCheckEvent();\r\n                event.sender = this;\r\n                event.checked = checked;\r\n                event.stateEnum = state;\r\n                event.shiftKey = e.shiftKey;\r\n                event.ctrlKey = e.ctrlKey;\r\n                options!.onCheck(event);\r\n            }\r\n        });\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    checked<T extends boolean | null>(state?: CheckboxStateEnum | boolean, triggerChange = true): T\r\n    {\r\n        if (state != null)\r\n        {\r\n            this.hideError();\r\n            let checkedBoolean = true;\r\n            let checkedState = CheckboxStateEnum.Checked;\r\n\r\n            puma(this.element()).removeClass(\"indeterminateVrCheckbox\");\r\n            if (typeof (state) === \"boolean\")\r\n            {\r\n                (this.element() as HTMLInputElement).checked = state;\r\n                checkedBoolean = state;\r\n                checkedState = (state) ? CheckboxStateEnum.Checked : CheckboxStateEnum.Unchecked;\r\n            }\r\n            else\r\n            {\r\n                checkedState = state;\r\n                if (state == CheckboxStateEnum.Checked)\r\n                {\r\n                    (this.element() as HTMLInputElement).checked = true;\r\n                    checkedBoolean = true;\r\n                }\r\n                else\r\n                {\r\n                    (this.element() as HTMLInputElement).checked = false;\r\n                    checkedBoolean = false;\r\n\r\n                    if (state == CheckboxStateEnum.Undefined)\r\n                        puma(this.element()).addClass(\"indeterminateVrCheckbox\");\r\n                }\r\n            }\r\n\r\n            if (triggerChange)\r\n            {\r\n                let options = this.getOptions();\r\n                if (options!.onCheck != null)\r\n                {\r\n                    let event = new CheckBoxCheckEvent();\r\n                    event.sender = this;\r\n                    event.checked = checkedBoolean;\r\n                    event.stateEnum = checkedState;\r\n                    options!.onCheck(event);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (puma(this.element()).hasClass(\"indeterminateVrCheckbox\"))\r\n            return <T>null;\r\n        else\r\n            return <T>(this.element() as HTMLInputElement).checked;\r\n    }\r\n\r\n    check(): void\r\n    {\r\n        puma(this.element()).click();\r\n    }\r\n\r\n    text(text?: string): string\r\n    {\r\n        if (text != null)\r\n            puma(this.container()).find(\".vrCheckBoxLabel\").html(text);\r\n\r\n        return puma(this.container()).find(\".vrCheckBoxLabel\").html();\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.threeState)\r\n            this.checked(CheckboxStateEnum.Undefined, triggerChange);\r\n        else\r\n            this.checked(false, triggerChange);\r\n    }\r\n\r\n    getOptions(): CheckBoxOptions\r\n    {\r\n        return this.options<CheckBoxOptions>();\r\n    }\r\n\r\n    //#region Error management\r\n    error(text?: string, position?: ErrorPositionEnum, showIcon = false): void\r\n    {\r\n        let options = this.options<CheckBoxOptions>();\r\n        if (position == null) position = ErrorPositionEnum.Right;\r\n        if (text == null) text = \"\";\r\n\r\n        puma(this.element()).addClass(\"vrCheckBoxError\");\r\n\r\n        let errorIcon = puma(this.container()).find(\".vrCheckBoxErrorIcon\")[0];\r\n        if (errorIcon == null && !DeviceManager.isMobile())\r\n            errorIcon = puma(\"<i class='fa fa-exclamation-triangle vrCheckBoxErrorIcon'></i>\").vrInsertAfterPuma(puma(this.container()).find(\".vrCheckBoxLabel\"))[0];\r\n\r\n        if (showIcon)\r\n            puma(errorIcon).show();\r\n        else\r\n            puma(errorIcon).hide();\r\n\r\n        //#region Tooltip\r\n        let spanError = puma(\"<span class='vrCheckBoxErrorTooltip vrErrorTooltip'>\" + text + \"</span>\").vrAppendToPuma(errorIcon);\r\n        if (position == ErrorPositionEnum.Right)\r\n            puma(spanError).addClass(\"vrCheckBoxErrorTooltipRight\");\r\n        else if (position == ErrorPositionEnum.Bottom)\r\n        {\r\n            puma(spanError).addClass(\"vrCheckBoxErrorTooltipBottom\");\r\n            puma(errorIcon).hover(() => puma(spanError)[0].style.cssText += \"left: -\" + ((puma(spanError).outerWidth() / 2) - 7) + \"px;\");\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    hideError(): void\r\n    {\r\n        puma(this.element()).removeClass(\"vrCheckBoxError\");\r\n        puma(this.container()).find(\".vrCheckBoxErrorIcon\").hide();\r\n        puma(this.container()).find(\".vrCheckBoxErrorTooltip\").hide();\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass CheckBoxEvent\r\n{\r\n    sender: CheckBox;\r\n}\r\n\r\nexport class CheckBoxCheckEvent extends CheckBoxEvent\r\n{\r\n    stateEnum: CheckboxStateEnum;\r\n    checked: boolean;\r\n    shiftKey: boolean;\r\n    ctrlKey: boolean;\r\n}\r\n//#endregion","import { VrControlOptions, VrControl } from \"../common\";\r\nimport { ControlTypeEnum, OrientationEnum } from \"../vr\";\r\n\r\n//#region Options\r\nexport class SeparatorOptions extends VrControlOptions\r\n{\r\n    size?: number;\r\n    orientation?: OrientationEnum;\r\n    color?: string;\r\n    marginSettings?: MarginSettings;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Separator extends VrControl\r\n{\r\n    constructor(element: HTMLElement, options?: SeparatorOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new SeparatorOptions();\r\n\r\n        if (options.size == null) options.size = 1;\r\n        if (options.marginSettings == null) options.marginSettings = new MarginSettings();\r\n        if (options.orientation == null) options.orientation = OrientationEnum.Vertical;\r\n        if (options.color == null) options.color = \"#CCC\";\r\n        if (options.tabIndex == null) options.tabIndex = -1;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Separator);\r\n\r\n        //#region Orientation\r\n        if (options.orientation == OrientationEnum.Vertical)\r\n        {\r\n            if (options.marginSettings.top == null) options.marginSettings.top = 0;\r\n            if (options.marginSettings.right == null) options.marginSettings.right = 8;\r\n            if (options.marginSettings.bottom == null) options.marginSettings.bottom = 0;\r\n            if (options.marginSettings.left == null) options.marginSettings.left = 5;\r\n\r\n            this.container().style.cssText += \"display: inline; position: relative;\"\r\n                + \"margin-top: \" + options.marginSettings.top + \"px; margin-bottom: \" + options.marginSettings.bottom + \"px;\"\r\n                + \"margin-right: \" + options.marginSettings.right + \"px; margin-left: \" + options.marginSettings.left + \"px;\";\r\n            this.element().style.cssText += \"display: inline-block; height: 30px; width: \" + options.size + \"px;\"\r\n                + \"background-color: \" + options.color + \"; position: absolute; top: -4px;\";\r\n        }\r\n        else\r\n        {\r\n            if (options.marginSettings.top == null) options.marginSettings.top = 0;\r\n            if (options.marginSettings.right == null) options.marginSettings.right = 0;\r\n            if (options.marginSettings.bottom == null) options.marginSettings.bottom = 8;\r\n            if (options.marginSettings.left == null) options.marginSettings.left = 0;\r\n\r\n            this.container().style.cssText += \"display: block;\"\r\n                + \"margin-top: \" + options.marginSettings.top + \"px; margin-bottom: \" + options.marginSettings.bottom + \"px;\"\r\n                + \"margin-right: \" + options.marginSettings.right + \"px; margin-left: \" + options.marginSettings.left + \"px;\";\r\n            this.element().style.cssText += \"display: inline-block; width: 100%; height: \" + options.size + \"px; background-color: \" + options.color;\r\n        }\r\n        //#endregion\r\n\r\n        if (options.visible != null)\r\n            super.visible(options.visible);\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass MarginSettings\r\n{\r\n    top?: number;\r\n    right?: number;\r\n    bottom?: number;\r\n    left?: number;\r\n}\r\n//#endregion","import { ControlTypeEnum, ImagePositionTypeEnum, ImageToolbarTypeEnum, confirm, IconClass, puma } from \"../vr\";\r\nimport { VrControl, VrControlOptions } from \"../common\";\r\n\r\n//#region Options\r\nexport class ImageOptions extends VrControlOptions\r\n{\r\n    value?: string;\r\n    base64?: boolean;\r\n    tooltip?: string;\r\n    position?: ImagePositionTypeEnum;\r\n    toolbarItems?: ImageToolbarItem[];\r\n    overlayDescription?: boolean | string;\r\n\r\n    onHover?(): void;\r\n    onLeave?(): void;\r\n    onClick?(e: ImageClickEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Image extends VrControl\r\n{\r\n    constructor(element: HTMLElement, options?: ImageOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new ImageOptions();\r\n\r\n        if (options.position == null) options.position = ImagePositionTypeEnum.Original;\r\n        if (options.base64 == null) options.base64 = false;\r\n        if (options.overlayDescription == null) options.overlayDescription = false;\r\n        if (options.tabIndex == null) options.tabIndex = -1;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Image);\r\n        this.element().style.cssText += \"width: auto; height: auto;\";\r\n\r\n        //#region Value\r\n        if (options.value != null)\r\n            this.value(options.value);\r\n        //#endregion\r\n\r\n        //#region Tooltip\r\n        if (options.tooltip != null)\r\n        {\r\n            (this.element() as HTMLImageElement).alt = options.tooltip;\r\n            (this.element() as HTMLImageElement).title = options.tooltip;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Image position\r\n        switch (options.position)\r\n        {\r\n            case ImagePositionTypeEnum.Center:\r\n                {\r\n                    this.container().style.cssText += \"text-align: center; justify-content: center;\";\r\n                    this.element().style.cssText += \"max-width: 100%; max-height: 100%;\";\r\n                }\r\n                break;\r\n            case ImagePositionTypeEnum.Fill: this.element().style.cssText += \"width: 100%; max-height: 100%;\"; break;\r\n            case ImagePositionTypeEnum.Fit: this.element().style.cssText += \"height: 100%; max-width: 100%;\"; break;\r\n            case ImagePositionTypeEnum.Stretch: this.element().style.cssText += \"width: 100%; height: 100%;\"; break;\r\n            case ImagePositionTypeEnum.Original: this.element().style.cssText += \"max-width: 100%; max-height: 100%;\"; break;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Toolbar items\r\n        if (options.toolbarItems != null)\r\n        {\r\n            let toolbar = document.createElement(\"div\");\r\n            puma(toolbar).addClass(\"vrImageToolbar\");\r\n            puma(this.container()).prepend(toolbar);\r\n\r\n            for (let toolbarItem of options.toolbarItems)\r\n            {\r\n                if (toolbarItem.type == null) toolbarItem.type = ImageToolbarTypeEnum.Custom;\r\n                switch (toolbarItem.type)\r\n                {\r\n                    case ImageToolbarTypeEnum.Download:\r\n                        {\r\n                            //#region Download\r\n                            let downloadButton = document.createElement(\"a\");\r\n                            puma(downloadButton).addClass(\"vrImageDownloadToolbar vrImageToolbarItem\");\r\n                            downloadButton.download = \"download\";\r\n                            downloadButton.href = this.value();\r\n                            downloadButton.innerHTML = \"<i class='fa fa-download' aria-hidden='true'></i>\";\r\n                            toolbar.append(downloadButton);\r\n\r\n                            puma(downloadButton).click((e: JQueryEventObject) =>\r\n                            {\r\n                                if (toolbarItem.onClick != null)\r\n                                {\r\n                                    let event = new ImageToolbarClickEvent();\r\n                                    event.sender = this;\r\n                                    toolbarItem.onClick(event);\r\n                                }\r\n                            });\r\n                            //#endregion\r\n                        }\r\n                        break;\r\n                    case ImageToolbarTypeEnum.Delete:\r\n                        {\r\n                            //#region Delete\r\n                            let deleteButton = document.createElement(\"a\");\r\n                            puma(deleteButton).addClass(\"vrImageDeleteToolbar vrImageToolbarItem\");\r\n                            deleteButton.id = \"deleteToolbarImage_\" + element.id;\r\n                            deleteButton.innerHTML = \"<i class='fa fa-remove' aria-hidden='true'></i>\";\r\n                            toolbar.append(deleteButton);\r\n\r\n                            puma(deleteButton).click((e: JQueryEventObject) =>\r\n                            {\r\n                                if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage != \"\")\r\n                                {\r\n                                    confirm(toolbarItem.confirmationMessage).then(() =>\r\n                                    {\r\n                                        this.clear();\r\n                                        if (toolbarItem.onClick != null)\r\n                                        {\r\n                                            let event = new ImageToolbarClickEvent();\r\n                                            event.sender = this;\r\n                                            toolbarItem.onClick(event);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else\r\n                                {\r\n                                    this.clear();\r\n                                    if (toolbarItem.onClick != null)\r\n                                    {\r\n                                        let event = new ImageToolbarClickEvent();\r\n                                        event.sender = this;\r\n                                        toolbarItem.onClick(event);\r\n                                    }\r\n                                }\r\n                            });\r\n                            //#endregion\r\n                        }\r\n                        break;\r\n                    case ImageToolbarTypeEnum.Custom:\r\n                        {\r\n                            //#region Custom\r\n                            let customButton = document.createElement(\"a\");\r\n                            puma(customButton).addClass(\"vrImageToolbarItem\");\r\n                            customButton.innerHTML = \"<i class='fa fa-\" + toolbarItem.icon + \"'></i>\";\r\n                            customButton.style.cssText += \"float: right; margin-right: 7px; color: #FFF; cursor: pointer;\";\r\n                            toolbar.append(customButton);\r\n\r\n                            puma(customButton).click((e: JQueryEventObject) =>\r\n                            {\r\n                                if (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage != \"\")\r\n                                {\r\n                                    confirm(toolbarItem.confirmationMessage).then(() =>\r\n                                    {\r\n                                        if (toolbarItem.onClick != null)\r\n                                        {\r\n                                            let event = new ImageToolbarClickEvent();\r\n                                            event.sender = this;\r\n                                            toolbarItem.onClick(event);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else\r\n                                {\r\n                                    if (toolbarItem.onClick != null)\r\n                                    {\r\n                                        let event = new ImageToolbarClickEvent();\r\n                                        event.sender = this;\r\n                                        toolbarItem.onClick(event);\r\n                                    }\r\n                                }\r\n                            });\r\n                            //#endregion\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Overlay description\r\n        if (options.overlayDescription !== false)\r\n        {\r\n            if (options.overlayDescription == true) options.overlayDescription = \"\";\r\n\r\n            let overlayDescription = document.createElement(\"div\");\r\n            puma(overlayDescription).addClass(\"vrImageOverlayDescription\");\r\n            overlayDescription.innerHTML = options.overlayDescription;\r\n            puma(this.container()).prepend(overlayDescription);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Events\r\n        puma(this.container()).on(\"mouseenter\", (e: JQuery.Event) =>\r\n        {\r\n            if (!this.enabled())\r\n                return;\r\n\r\n            if (this.value() != null && this.value() != \"\")\r\n            {\r\n                if (options!.toolbarItems != null)\r\n                    puma(this.container()).find(\".vrImageToolbar\").show();\r\n\r\n                if (options!.overlayDescription !== false)\r\n                    puma(this.container()).find(\".vrImageOverlayDescription\").show();\r\n            }\r\n\r\n            if (options!.onHover != null)\r\n                options!.onHover();\r\n        });\r\n\r\n        puma(this.container()).on(\"mouseleave\", (e: JQuery.MouseLeaveEvent) =>\r\n        {\r\n            if (!this.enabled())\r\n                return;\r\n\r\n            if (options!.toolbarItems != null)\r\n                puma(this.container()).find(\".vrImageToolbar\").hide();\r\n\r\n            if (options!.overlayDescription !== false)\r\n                puma(this.container()).find(\".vrImageOverlayDescription\").hide();\r\n\r\n            if (options!.onLeave != null)\r\n                options!.onLeave();\r\n        });\r\n\r\n        if (options.onClick != null)\r\n        {\r\n            this.element().style.cssText += \"cursor: pointer;\";\r\n            puma(this.container()).on(\"click\", (e: JQuery.ClickEvent) =>\r\n            {\r\n                if (!this.enabled())\r\n                    return;\r\n\r\n                let imageClickEvent = new ImageClickEvent();\r\n                imageClickEvent.sender = this;\r\n                options!.onClick!(imageClickEvent);\r\n            });\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    value(pathOrBytes?: string, fileName?: string, mimeType?: string): string\r\n    {\r\n        let options = this.options<ImageOptions>();\r\n        if (pathOrBytes != null && pathOrBytes != \"\")\r\n        {\r\n            mimeType = (mimeType == null) ? \"image/png\" : mimeType;\r\n            fileName = (fileName == null) ? \"download\" : fileName;\r\n            pathOrBytes = pathOrBytes.replace(/^data:image\\/[^;]+;base64,/, '');\r\n\r\n            let prePath = (options.base64) ? \"data:\" + mimeType + \";base64,\" : \"\";\r\n            puma(this.element()).attr(\"src\", prePath + pathOrBytes);\r\n\r\n            //#region Download\r\n            if (options.base64)\r\n                pathOrBytes = pathOrBytes.replace(/^data:image\\/[^;]+/, 'data:application/octet-stream');\r\n\r\n            puma(this.container()).find(\".vrImageDownloadToolbar\").attr(\"href\", prePath + pathOrBytes);\r\n            puma(this.container()).find(\".vrImageDownloadToolbar\").attr(\"download\", fileName);\r\n            //#endregion \r\n        }\r\n        return puma(this.element()).attr(\"src\");\r\n    }\r\n\r\n    overlayDescription(description?: string): string\r\n    {\r\n        if (description != null)\r\n        {\r\n            let options = this.options<ImageOptions>();\r\n            if (options.overlayDescription !== false)\r\n                puma(this.container()).find(\".vrImageOverlayDescription\").html(description);\r\n        }\r\n        return puma(this.container()).find(\".vrImageOverlayDescription\").html();\r\n    }\r\n\r\n    toolbar()\r\n    {\r\n        return puma(this.container()).find(\".vrImageToolbar\")[0];\r\n    }\r\n\r\n    clear(): void\r\n    {\r\n        puma(this.element()).removeAttr(\"src\");\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    enable()\r\n    {\r\n        super.enable();\r\n        window.setTimeout(() => puma(this.toolbar()).show());\r\n    }\r\n\r\n    disable()\r\n    {\r\n        super.disable();\r\n        window.setTimeout(() => puma(this.toolbar()).hide());\r\n    }\r\n    //#endregion\r\n\r\n    getOptions()\r\n    {\r\n        return this.options<ImageOptions>();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass ImageToolbarItem\r\n{\r\n    type?: ImageToolbarTypeEnum;\r\n    icon?: IconClass;\r\n    confirmationMessage?: string;\r\n    onClick?(e: ImageToolbarClickEvent): void;\r\n}\r\n\r\nclass ImageToolbarClickEvent\r\n{\r\n    sender: Image;\r\n}\r\n\r\nclass ImageClickEvent\r\n{\r\n    sender: Image;\r\n}\r\n//#endregion","import { ControlManager } from \"../../../src/managers/controlManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, vrEditorItemEnum, vrEditorToolbarModeEnum, div, vrEditorCustomItem, vrEditorCustomMenuItem, EditorCustomMenuItemType, createSplitButton, createSwitch, createButtonGroup, createComboBox, createDatePicker, createTextBox, createButton, createSeparator, createLabel, puma, createSpeechRecognizer, vrEditorSpeechRecognizerSettings, createWindow, PositionEnum, vrEditorFontSizeSettings, EditorSpeechRecognizerPositionEnum, EditorSpeechRecognizerModeEnum, createMultilineTextBox, IconClassicLight, KeyEnum } from \"../vr\";\r\nimport { ButtonGroupOptions } from \"./buttonGroup\";\r\nimport { SpeechRecognizer } from \"./speechRecognizer\";\r\nimport { TextBox } from \"./textbox\";\r\nimport { Window } from \"./window\";\r\ndeclare var tinyMCE: any;\r\n\r\n//#region Options\r\nexport class EditorOptions extends VrControlOptions\r\n{\r\n    text?: string;\r\n    placeholder?: string;\r\n    resizable?: boolean;\r\n    language?: string;\r\n    pasteImages?: boolean;\r\n    toolbarMode?: vrEditorToolbarModeEnum;\r\n    menu?: boolean | vrEditorMenu;\r\n    toolbar?: boolean | vrEditorItemEnum[] | string;\r\n    plugins?: string;\r\n    customToolItems?: vrEditorCustomItem[];\r\n    customMenuItems?: vrEditorCustomMenuItem[];\r\n    baseUrl?: string;\r\n    speechRecognizer?: vrEditorSpeechRecognizerSettings | boolean;\r\n    fontSize?: vrEditorFontSizeSettings;\r\n    browserSpellCheck?: boolean;\r\n    pasteAsText?: boolean;\r\n    replacePtagWithDiv?: boolean;\r\n    statusbar?: boolean;\r\n\r\n    onFocus?: (e: EditorOnFocusEvent) => void;\r\n    onBlur?: (e: EditorOnBlurEvent) => void;\r\n    onCommand?: (e: EditorOnCommandEvent) => void;\r\n    onSetContent?: (e: EditorSetContentEvent) => void;\r\n    onBeforeResize?: (e: EditorOnResizingEvent) => void;\r\n    onAfterResize?: (e: EditorOnResizedEvent) => void;\r\n    onKeyUp?: (e: EditorOnKeyUpEvent) => void;\r\n    onKeyDown?: (e: EditorOnKeyDownEvent) => void;\r\n    onInit?: (e: EditorOnInitEvent) => void;\r\n    onDrop?: (e: EditorDropEvent) => void;\r\n    onDragEnter?: (e: EditorDragEnterEvent) => void;\r\n    onDragOver?: (e: EditorDragOverEvent) => void;\r\n    onDragLeave?: (e: EditorDragLeaveEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Editor extends VrControl\r\n{\r\n    private _settings: any;\r\n    private _tinyMceControl: any;\r\n    private _divMenuItem: HTMLElement;\r\n    private _finalTextSpeeched: string;\r\n    private _value: string;\r\n    private _speechRecognizer: SpeechRecognizer;\r\n    private _divDragFile: HTMLElement;\r\n    private _initialized: boolean;\r\n    private _wndCommands: Window;\r\n    private _wndTempMessage: Window;\r\n    private _txtTempMessage: TextBox;\r\n\r\n    constructor(element: HTMLElement, options?: EditorOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new EditorOptions();\r\n\r\n        if (options.height == null) options.height = 350;\r\n        if (options.resizable == null) options.resizable = false;\r\n        if (options.pasteImages == null) options.pasteImages = false;\r\n        if (options.toolbar == null) options.toolbar = true;\r\n        if (options.menu == null) options.menu = true;\r\n        if (options.customMenuItems != null && options.menu !== false) options.menu = true;\r\n        if (options.baseUrl == null) options.baseUrl = \"/scripts/tinymce/\";\r\n        if (options.toolbarMode == null) options.toolbarMode = vrEditorToolbarModeEnum.Floating;\r\n        if (options.plugins == null) options.plugins = \"image,link,searchreplace,fullscreen,preview,emoticons,media,lists,pagebreak,table,charmap,code,wordcount\";\r\n        if (options.browserSpellCheck == null) options.browserSpellCheck = true;\r\n        if (options.enable == null) options.enable = true;\r\n        if (options.pasteAsText == null) options.pasteAsText = true;\r\n        if (options.replacePtagWithDiv == null) options.replacePtagWithDiv = true;\r\n        if (options.statusbar == null) options.statusbar = false;\r\n\r\n        if (options.speechRecognizer == null) options.speechRecognizer = true;\r\n        if (options.speechRecognizer !== false) \r\n        {\r\n            options.speechRecognizer = new vrEditorSpeechRecognizerSettings();\r\n            if (options.speechRecognizer.stopAtClick == null) options.speechRecognizer.stopAtClick = true;\r\n            if (options.speechRecognizer.position == null) options.speechRecognizer.position = EditorSpeechRecognizerPositionEnum.MenuItems;\r\n            if (options.speechRecognizer.mode == null) options.speechRecognizer.mode = EditorSpeechRecognizerModeEnum.Popup;\r\n            if (options.speechRecognizer.showInfoCommands == null) options.speechRecognizer.showInfoCommands = true;\r\n        }\r\n\r\n        if (options.fontSize == null) options.fontSize = new vrEditorFontSizeSettings();\r\n        if (options.fontSize.defaultSize == null) options.fontSize.defaultSize = 14;\r\n        if (options.fontSize.formatSizeList == null) options.fontSize.formatSizeList = [8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 24, 36];\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Editor);\r\n\r\n        //#region Toolbar\r\n        let toolbar: any = false;\r\n        if (options.toolbar === true)\r\n            toolbar = \"bold italic underline | fontfamily fontsize | alignleft aligncenter alignright alignjustify | numlist bullist | forecolor link | fullscreen\";\r\n        else if (options.toolbar === false)\r\n            toolbar = false;\r\n        else\r\n            toolbar = options.toolbar.toString().replace(/,/g, \" \");\r\n        //#endregion\r\n\r\n        //#region Menu\r\n        let menuBar = false;\r\n        let menu: any = {};\r\n        if (options.menu === true)\r\n        {\r\n            menuBar = true;\r\n            menu = {\r\n                file: { title: \"\", items: \"\" },\r\n                edit: { title: \"Edit\", items: \"undo redo | cut copy | selectall searchreplace\" },\r\n                view: { title: \"View\", items: \"preview code wordcount | fullscreen\" },\r\n                insert: { title: \"\", items: \"\" },\r\n                format: { title: \"Format\", items: \"bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat\" },\r\n                table: { title: \"\", items: \"\" },\r\n                tools: { title: \"\", items: \"\" },\r\n            };\r\n        }\r\n        else if (options.menu === false)\r\n        {\r\n            menuBar = false;\r\n            menu = undefined;\r\n        }\r\n        else\r\n        {\r\n            menuBar = true;\r\n\r\n            //#region Menu file\r\n            if (!options.menu.file)\r\n                menu.file = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"preview\";\r\n                if (options.menu.file === true)\r\n                    menu.file = { title: \"File\", items: defaultItems };\r\n                else\r\n                    menu.file = { title: (options.menu.file.title == null) ? \"File\" : options.menu.file.title, items: (options.menu.file.items == null) ? defaultItems : options.menu.file.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n\r\n            //#region Menu edit\r\n            if (!options.menu.edit)\r\n                menu.edit = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"undo redo | cut copy | selectall searchreplace\";\r\n                if (options.menu.edit === true)\r\n                    menu.edit = { title: \"Edit\", items: defaultItems };\r\n                else\r\n                    menu.edit = { title: (options.menu.edit.title == null) ? \"Edit\" : options.menu.edit.title, items: (options.menu.edit.items == null) ? defaultItems : options.menu.edit.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n\r\n            //#region Menu view\r\n            if (!options.menu.view)\r\n                menu.view = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"preview code wordcount fullscreen\";\r\n                if (options.menu.view === true)\r\n                    menu.view = { title: \"View\", items: defaultItems };\r\n                else\r\n                    menu.view = { title: (options.menu.view.title == null) ? \"View\" : options.menu.view.title, items: (options.menu.view.items == null) ? defaultItems : options.menu.view.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n\r\n            //#region Menu insert\r\n            if (!options.menu.insert)\r\n                menu.insert = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"link | charmap pagebreak\";\r\n                if (options.menu.insert === true)\r\n                    menu.insert = { title: \"Insert\", items: defaultItems };\r\n                else\r\n                    menu.insert = { title: (options.menu.insert.title == null) ? \"Insert\" : options.menu.insert.title, items: (options.menu.insert.items == null) ? defaultItems : options.menu.insert.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n\r\n            //#region Menu format\r\n            if (!options.menu.format)\r\n                menu.format = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat\";\r\n                if (options.menu.format === true)\r\n                    menu.format = { title: \"Format\", items: defaultItems };\r\n                else\r\n                    menu.format = { title: (options.menu.format.title == null) ? \"Format\" : options.menu.format.title, items: (options.menu.format.items == null) ? defaultItems : options.menu.format.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n\r\n            //#region Menu table\r\n            if (!options.menu.table)\r\n                menu.table = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"inserttable cell row\";\r\n                if (options.menu.table === true)\r\n                    menu.table = { title: \"Table\", items: defaultItems };\r\n                else\r\n                    menu.table = { title: (options.menu.table.title == null) ? \"Table\" : options.menu.table.title, items: (options.menu.table.items == null) ? defaultItems : options.menu.table.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n\r\n            //#region Menu tools\r\n            if (!options.menu.tools)\r\n                menu.tools = { title: \"\", items: \"\" };\r\n            else\r\n            {\r\n                let defaultItems = \"code wordcount\";\r\n                if (options.menu.tools === true)\r\n                    menu.tools = { title: \"Tools\", items: defaultItems };\r\n                else\r\n                    menu.tools = { title: (options.menu.tools.title == null) ? \"Tools\" : options.menu.tools.title, items: (options.menu.tools.items == null) ? defaultItems : options.menu.tools.items.toString().replace(/,/g, \" \") };\r\n            }\r\n            //#endregion\r\n        }\r\n        //#endregion\r\n\r\n        //#region Custom items\r\n        let customItemValues = \"\";\r\n        if (options.customToolItems != null)\r\n        {\r\n            for (let i = 0; i < options.customToolItems.length; i++)\r\n                customItemValues += \" customItem\" + i;\r\n        }\r\n        //#endregion\r\n\r\n        //#region CustomMenu items\r\n        let divMenuItemTop = (options.label != null && options.labelSettings!.position == PositionEnum.Top) ? 24 : 6;\r\n        this._divMenuItem = div(this.container(), { css: \"position: absolute; top: \" + divMenuItemTop + \"px; right: 5px; z-index: 1; display: none;\" });\r\n        if (menubar)\r\n        {\r\n            if (options.customMenuItems != null)\r\n            {\r\n                for (let menuItem of options.customMenuItems)\r\n                    this.addMenuItem(menuItem);\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Speech recognizer\r\n        if (options.speechRecognizer !== false)\r\n        {\r\n            this._finalTextSpeeched = \"\";\r\n            this._speechRecognizer = createSpeechRecognizer({\r\n                size: 20,\r\n                cssContainer: \"margin-left: 10px;\" + ((options.speechRecognizer.position == EditorSpeechRecognizerPositionEnum.MenuItems) ? ((options.menu !== false) ? \"top: 48px; right: -6px;\" : \"top: 10px;\") : \"\"),\r\n                stopAtClick: options.speechRecognizer.stopAtClick,\r\n                onEnd: (e) =>\r\n                {\r\n                    if (this._wndCommands != null)\r\n                        this._wndCommands.close();\r\n\r\n                    if (this._wndTempMessage != null)\r\n                        this._wndTempMessage.close();\r\n                },\r\n                onStart: (e) => this._finalTextSpeeched = this.value() + \" \",\r\n                onClick: (e) => \r\n                {\r\n                    if ((options!.speechRecognizer! as vrEditorSpeechRecognizerSettings).mode == EditorSpeechRecognizerModeEnum.Popup)\r\n                    {\r\n                        if ((this._wndTempMessage == null || !this._wndTempMessage.visible()) && !e.sender.isRecording())\r\n                            this.openWindowTempMessage();\r\n                        else\r\n                            this._wndTempMessage.close();\r\n                    }\r\n                },\r\n                onResult: (e) =>\r\n                {\r\n                    if (e.interimResults.length > 0)\r\n                    {\r\n                        let interimResults = this.parseInput(e.interimResults, true);\r\n                        if ((options!.speechRecognizer! as vrEditorSpeechRecognizerSettings).mode == EditorSpeechRecognizerModeEnum.Popup)\r\n                            this._txtTempMessage.value(interimResults);\r\n                        else\r\n                            this.value(this._finalTextSpeeched + interimResults);\r\n                    }\r\n\r\n                    if (e.finalResults.length > 0)\r\n                    {\r\n                        if (e.finalResults.toLowerCase().includes(\"stop registrazione\") || e.finalResults.toLowerCase().includes(\"fine registrazione\"))\r\n                            e.sender.stop();\r\n\r\n                        let finalResults = this.parseInput(e.finalResults);\r\n                        if ((options!.speechRecognizer! as vrEditorSpeechRecognizerSettings).mode == EditorSpeechRecognizerModeEnum.Popup)\r\n                        {\r\n                            this._txtTempMessage.clear();\r\n                            this.insertTextAtCursor(finalResults);\r\n                        }\r\n                        else\r\n                        {\r\n                            this._finalTextSpeeched += finalResults;\r\n                            this.value(this._finalTextSpeeched);\r\n                        }\r\n                    }\r\n                }\r\n            }, this._divMenuItem);\r\n        }\r\n        //#endregion\r\n\r\n        //#region TinyMce control settings\r\n        tinyMCE.baseURL = options.baseUrl;\r\n        tinyMCE.suffix = \".min\";\r\n        tinyMCE.init(<TinyMceSettings>\r\n            {\r\n                selector: \"#\" + this.element().id,\r\n                height: \"100%\",\r\n                readonly: !options.enable,\r\n                placeholder: options.placeholder,\r\n                resize: options.resizable,\r\n                toolbar_mode: options.toolbarMode,\r\n                paste_data_images: options.pasteImages,\r\n                language: options.language,\r\n                menu: menu,\r\n                menubar: menuBar,\r\n                statusbar: options.statusbar,\r\n                toolbar: toolbar + customItemValues,\r\n                plugins: options.plugins,\r\n                browser_spellcheck: options.browserSpellCheck,\r\n                contextmenu: false,\r\n                font_size_formats: options.fontSize.formatSizeList.join(\"px \") + \"px\",\r\n                content_style: \"body { font-size: \" + options.fontSize.defaultSize + \"px; } p { margin-top: 0px; margin-bottom: 0px; }\",\r\n                forced_root_block: \"div\",\r\n                paste_as_text: options.pasteAsText,\r\n                setup: (editor: any) =>\r\n                {\r\n                    //#region Custom items\r\n                    if (options!.customToolItems != null)\r\n                    {\r\n                        let i = 0;\r\n                        for (let customToolItem of options!.customToolItems)\r\n                        {\r\n                            editor.ui.registry.addButton(\"customItem\" + i,\r\n                                {\r\n                                    icon: customToolItem.icon,\r\n                                    image: customToolItem.imageUrl,\r\n                                    tooltip: customToolItem.tooltip,\r\n                                    text: customToolItem.text,\r\n                                    onAction: function (e: any)\r\n                                    {\r\n                                        if (customToolItem.onClick != null)\r\n                                        {\r\n                                            let clickEvent = new EditorItemClickEvent();\r\n                                            clickEvent.sender = this;\r\n                                            customToolItem.onClick(clickEvent);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            i++;\r\n                        }\r\n                    }\r\n                    //#endregion\r\n\r\n                    //#region Events\r\n                    editor.on(\"keyup\", (e: any) =>\r\n                    {\r\n                        if (options!.onKeyUp != null)\r\n                        {\r\n                            let event = new EditorOnKeyUpEvent();\r\n                            event.sender = this;\r\n                            event.key = e.key;\r\n                            event.keyCode = e.keyCode;\r\n                            event.realEvent = e;\r\n                            options!.onKeyUp(event);\r\n                        }\r\n                    });\r\n\r\n                    editor.on(\"keydown\", (e: any) =>\r\n                    {\r\n                        //#region Go to next control when press tab\r\n                        if (e.key == KeyEnum.Tab)\r\n                        {\r\n                            let nextControlId = puma(this.container()).nextAll(\".vrControlsContainer\").first().attr(\"id\");\r\n                            if (nextControlId != null && nextControlId != \"\")\r\n                            {\r\n                                nextControlId = nextControlId.replace(\"Container\", \"\");\r\n                                let control = ControlManager.get(nextControlId);\r\n                                if (control != null)\r\n                                    control.focus();\r\n                                else\r\n                                    puma(nextControlId).focus();\r\n\r\n                                e.preventDefault();\r\n                            }\r\n                        }\r\n                        //#endregion\r\n\r\n                        if (options!.onKeyDown != null)\r\n                        {\r\n                            let event = new EditorOnKeyDownEvent();\r\n                            event.sender = this;\r\n                            event.key = e.key;\r\n                            event.keyCode = e.keyCode;\r\n                            event.realEvent = e;\r\n                            options!.onKeyDown(event);\r\n\r\n                            if (event.isDefaultPrevented())\r\n                            {\r\n                                e.preventDefault();\r\n                                return;\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    editor.on(\"init\", (e: any) =>\r\n                    {\r\n                        this._initialized = true;\r\n                        puma(this._divMenuItem).show();\r\n                        puma(e.target.iframeElement.contentDocument).find(\"html\").height(\"100%\");\r\n                        puma(e.target.iframeElement.contentDocument).find(\"body\").height(\"-webkit-fill-available\");\r\n\r\n                        if (options!.onInit != null)\r\n                        {\r\n                            let event = new EditorOnInitEvent();\r\n                            event.sender = this;\r\n                            event.event = e;\r\n                            options!.onInit(event);\r\n\r\n                            if (event.isDefaultPrevented())\r\n                                return;\r\n                        }\r\n\r\n                        //#region Text\r\n                        if (options!.text != null)\r\n                            this.value(options!.text);\r\n                        else if (this._value != \"\")\r\n                            this.value(this._value);\r\n                        //#endregion\r\n                    });\r\n\r\n                    this._divDragFile = div(this.container(), { class: \"vrEditorDragDrop\", content: \"Trascina qui i file...\" });\r\n\r\n                    editor.on(\"dragenter\", (e: any) =>\r\n                    {\r\n                        if (options!.onDragEnter != null)\r\n                        {\r\n                            let dragEnterEvent = new EditorDragEnterEvent();\r\n                            dragEnterEvent.sender = this;\r\n                            dragEnterEvent.element = e.currentTarget;\r\n                            dragEnterEvent.event = e;\r\n                            dragEnterEvent.realEvent = e;\r\n                            options!.onDragEnter(dragEnterEvent);\r\n                        }\r\n\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    });\r\n\r\n                    editor.on(\"dragover\", (e: any) =>\r\n                    {\r\n                        if (options!.onDragOver != null)\r\n                        {\r\n                            let dragOverEvent = new EditorDragOverEvent();\r\n                            dragOverEvent.sender = this;\r\n                            dragOverEvent.element = e.currentTarget;\r\n                            dragOverEvent.event = e;\r\n                            dragOverEvent.realEvent = e;\r\n                            options!.onDragOver(dragOverEvent);\r\n\r\n                            if (dragOverEvent.isDefaultPrevented())\r\n                            {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                return;\r\n                            }\r\n                        }\r\n\r\n                        puma(this._divDragFile).css({ \"display\": \"flex\" });\r\n\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    });\r\n\r\n                    [\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach(eventName =>\r\n                    {\r\n                        this._divDragFile.addEventListener(eventName, (e) =>\r\n                        {\r\n                            e.preventDefault()\r\n                            e.stopPropagation()\r\n                        }, false);\r\n                    });\r\n\r\n                    puma(this._divDragFile).on(\"dragleave\", (e: any) => this.manageDragLeave(e));\r\n                    editor.on(\"dragleave\", (e: any) => this.manageDragLeave(e));\r\n\r\n                    editor.on(\"drop\", (e: any) => this.manageDrop(e));\r\n                    puma(this._divDragFile).on(\"drop\", (e: any) => this.manageDrop(e));\r\n                    //#endregion\r\n                }\r\n            });\r\n        this._tinyMceControl = tinyMCE.get(this.element().id);\r\n        this._settings = this._tinyMceControl.settings;\r\n        //#endregion\r\n\r\n        //#region Events\r\n        tinyMCE.activeEditor.on(\"focus\", (e: any) =>\r\n        {\r\n            if (options!.onFocus != null)\r\n            {\r\n                let event = new EditorOnFocusEvent();\r\n                event.sender = this;\r\n                event.realEvent = e;\r\n                options!.onFocus(event);\r\n            }\r\n        });\r\n\r\n        tinyMCE.activeEditor.on(\"blur\", (e: any) =>\r\n        {\r\n            if (options!.onBlur != null)\r\n            {\r\n                let event = new EditorOnBlurEvent();\r\n                event.sender = this;\r\n                event.realEvent = e;\r\n                options!.onBlur(event);\r\n            }\r\n        });\r\n\r\n        tinyMCE.activeEditor.on(\"ExecCommand\", (e: any) =>\r\n        {\r\n            if (options!.onCommand != null)\r\n            {\r\n                let event = new EditorOnCommandEvent();\r\n                event.sender = this;\r\n                event.command = e.command;\r\n                event.value = e.value;\r\n                event.type = e.type;\r\n                event.realEvent = e;\r\n                options!.onCommand(event);\r\n            }\r\n        });\r\n\r\n        tinyMCE.activeEditor.on(\"GetContent\", (e: any) =>\r\n        {\r\n            if (options!.onSetContent != null)\r\n            {\r\n                let event = new EditorSetContentEvent();\r\n                event.sender = this;\r\n                event.content = e.content;\r\n                event.element = e.element;\r\n                event.format = e.format;\r\n                event.type = e.type;\r\n                event.realEvent = e;\r\n                options!.onSetContent(event);\r\n            }\r\n        });\r\n\r\n        tinyMCE.activeEditor.on(\"ObjectResizeStart\", (e: any) =>\r\n        {\r\n            if (options!.onBeforeResize != null)\r\n            {\r\n                let event = new EditorOnResizingEvent();\r\n                event.sender = this;\r\n                event.height = e.height;\r\n                event.width = e.width;\r\n                event.target = e.target;\r\n                event.type = e.type;\r\n                event.realEvent = e;\r\n                options!.onBeforeResize(event);\r\n            }\r\n        });\r\n\r\n        tinyMCE.activeEditor.on(\"ObjectResized\", (e: any) =>\r\n        {\r\n            if (options!.onAfterResize != null)\r\n            {\r\n                let event = new EditorOnResizedEvent();\r\n                event.sender = this;\r\n                event.height = e.height;\r\n                event.width = e.width;\r\n                event.target = e.target;\r\n                event.type = e.type;\r\n                event.realEvent = e;\r\n                options!.onAfterResize(event);\r\n            }\r\n        });\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    settings(): TinyMceSettings\r\n    {\r\n        return this._settings;\r\n    }\r\n\r\n    private openWindowTempMessage()\r\n    {\r\n        this.createWindowTempMessage();\r\n        this._wndTempMessage.open();\r\n    }\r\n\r\n    private createWindowTempMessage()\r\n    {\r\n        if (this._wndTempMessage != null)\r\n            return;\r\n\r\n        let options = this.getOptions();\r\n        this._wndTempMessage = createWindow({\r\n            title: \"Testo temporaneo\",\r\n            height: 210,\r\n            width: 300,\r\n            modal: false,\r\n            position: { bottom: 37, right: 10 },\r\n            footer: false,\r\n            onClose: (e) =>\r\n            {\r\n                puma(this._wndTempMessage.container()).remove();\r\n                (this._wndTempMessage as any) = null;\r\n                (this._txtTempMessage as any) = null;\r\n            },\r\n        });\r\n\r\n        this._txtTempMessage = createMultilineTextBox({\r\n            placeholder: \"Comincia a parlare per visualizzare il testo... fermati per inserirlo nell'editor\",\r\n            height: 160,\r\n            enable: false,\r\n            width: \"100%\"\r\n        }, this._wndTempMessage.element())\r\n\r\n        createButton({\r\n            icon: IconClassicLight.Info,\r\n            cssContainer: \"margin-right: 16px; margin-top: 4px;\",\r\n            css: \"font-size: 17px; border: none; background: none;\",\r\n            colorSettings: { textColor: \"#FFF\" },\r\n            visible: (options.speechRecognizer! as vrEditorSpeechRecognizerSettings).showInfoCommands!,\r\n            onClick: (e) =>\r\n            {\r\n                if (this._wndCommands == null || !this._wndCommands.visible())\r\n                    this.openWindowCommands();\r\n                else\r\n                    this._wndCommands.close();\r\n            }\r\n        }, this._wndTempMessage.header())\r\n    }\r\n\r\n    private openWindowCommands()\r\n    {\r\n        this.createWindowCommands();\r\n        this._wndCommands.open();\r\n    }\r\n\r\n    private createWindowCommands()\r\n    {\r\n        if (this._wndCommands != null)\r\n            return;\r\n\r\n        this._wndCommands = createWindow({\r\n            title: \"Comandi consentiti\",\r\n            height: 300,\r\n            width: 185,\r\n            modal: false,\r\n            position: { bottom: 255, right: 10 },\r\n            footer: false,\r\n            onClose: (e) =>\r\n            {\r\n                puma(this._wndCommands.container()).remove();\r\n                (this._wndCommands as any) = null;\r\n            },\r\n            content: `<div style='font-size: 14px;'>Comandi consentiti: <ul>\r\n                    <li>A capo</li>\r\n                    <li>Virgola</li>\r\n                    <li>Punto</li>\r\n                    <li>Due punti</li>\r\n                    <li>Punto e virgola</li>\r\n                    <li>Punto virgola</li>\r\n                    <li>Punto esclamativo</li>\r\n                    <li>Punto interrogativo</li>\r\n                    <li>Puntini</li>\r\n                    <li>Trattino</li>\r\n                    <li>Fine registrazione</li>\r\n                </ul></font>`\r\n        });\r\n    }\r\n\r\n    private parseInput(text: string, interim = false)\r\n    {\r\n        //#region Replace special characters\r\n        text = this.replaceAll(text, \" a capo \", \"<br />\");\r\n        text = this.replaceAll(text, \" A capo \", \"<br />\");\r\n        text = this.replaceAll(text, \" a capo\", \"<br />\");\r\n        text = this.replaceAll(text, \" A capo\", \"<br />\");\r\n        text = this.replaceAll(text, \"a capo \", \"<br />\");\r\n        text = this.replaceAll(text, \"A capo \", \"<br />\");\r\n        text = this.replaceAll(text, \"a capo\", \"<br />\");\r\n        text = this.replaceAll(text, \"A capo\", \"<br />\");\r\n        text = this.replaceAll(text, \"trattino\", \" - \");\r\n        text = this.replaceAll(text, \"Trattino\", \" - \");\r\n        text = this.replaceAll(text, \" punto e virgola\", \"; \");\r\n        text = this.replaceAll(text, \" Punto e virgola\", \"; \");\r\n        text = this.replaceAll(text, \" punto virgola\", \"; \");\r\n        text = this.replaceAll(text, \" Punto virgola\", \"; \");\r\n        text = this.replaceAll(text, \" virgola\", \", \");\r\n        text = this.replaceAll(text, \" Virgola\", \", \");\r\n        text = this.replaceAll(text, \" due punti\", \": \");\r\n        text = this.replaceAll(text, \" Due punti\", \": \");\r\n        text = this.replaceAll(text, \" slash \", \"/\");\r\n        text = this.replaceAll(text, \" Slash \", \"/\");\r\n        text = this.replaceAll(text, \" 2 punti\", \": \");\r\n        text = this.replaceAll(text, \" punto esclamativo\", \"! \");\r\n        text = this.replaceAll(text, \" Punto esclamativo\", \"! \");\r\n        text = this.replaceAll(text, \" esclamativo\", \"! \");\r\n        text = this.replaceAll(text, \" Esclamativo\", \"! \");\r\n        text = this.replaceAll(text, \" punto interrogativo\", \"? \");\r\n        text = this.replaceAll(text, \" Punto interrogativo\", \"? \");\r\n        text = this.replaceAll(text, \" interrogativo\", \"? \");\r\n        text = this.replaceAll(text, \" Interrogativo\", \"? \");\r\n        text = this.replaceAll(text, \"pumo\", \"Pumo\");\r\n        text = this.replaceAll(text, \" punto\", \". \");\r\n        text = this.replaceAll(text, \" Punto\", \". \");\r\n        text = this.replaceAll(text, \" puntini\", \"... \");\r\n        text = this.replaceAll(text, \" Puntini\", \"... \");\r\n\r\n        if (!interim)\r\n        {\r\n            text = this.replaceAll(text, \"stop registrazione\", \" \");\r\n            text = this.replaceAll(text, \"Stop registrazione\", \" \");\r\n            text = this.replaceAll(text, \"fine registrazione\", \" \");\r\n            text = this.replaceAll(text, \"Fine registrazione\", \" \");\r\n        }\r\n        //#endregion\r\n\r\n        return text;\r\n    }\r\n\r\n    private replaceAll(text: string, find: string, replace: string)\r\n    {\r\n        let findLower = find.toLowerCase();\r\n        let findUpper = find.toUpperCase();\r\n        let findCapitalize = find.vrCapitalize();\r\n\r\n        text = text.replace(new RegExp(findLower, \"g\"), replace);\r\n        text = text.replace(new RegExp(findUpper, \"g\"), replace);\r\n        text = text.replace(new RegExp(findCapitalize, \"g\"), replace);\r\n        return text;\r\n    }\r\n\r\n    private manageDragLeave(e: any)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options!.onDragLeave != null)\r\n        {\r\n            let dragLeaveEvent = new EditorDragLeaveEvent();\r\n            dragLeaveEvent.sender = this;\r\n            dragLeaveEvent.element = e.currentTarget;\r\n            dragLeaveEvent.event = e;\r\n            options!.onDragLeave(dragLeaveEvent);\r\n\r\n            if (dragLeaveEvent.isDefaultPrevented())\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return;\r\n            }\r\n        }\r\n\r\n        puma(this._divDragFile).hide();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    private manageDrop(e: any)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options!.onDrop != null)\r\n        {\r\n            let files: File[] = [...e.dataTransfer.files as any];\r\n\r\n            let dropEvent = new EditorDropEvent();\r\n            dropEvent.sender = this;\r\n            dropEvent.element = e.currentTarget;\r\n            dropEvent.files = files;\r\n            dropEvent.event = e;\r\n            options!.onDrop(dropEvent);\r\n\r\n            if (dropEvent.isDefaultPrevented())\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return;\r\n            }\r\n        }\r\n\r\n        puma(this._divDragFile).hide();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    tinyMceControl(): any\r\n    {\r\n        return this._tinyMceControl;\r\n    }\r\n\r\n    value(text?: string | null, html = true): string\r\n    {\r\n        if (text != null)\r\n        {\r\n            this._value = text;\r\n            if (this.tinyMceControl().initialized)\r\n                this.tinyMceControl().setContent(text);\r\n        }\r\n\r\n        let result = (this.tinyMceControl().initialized) ? ((html) ? this.tinyMceControl().getContent() : this.body().innerText) : \"\";\r\n        let options = this.getOptions();\r\n        if (options.replacePtagWithDiv)\r\n            return result.replace(/<p/g, \"<div\").replace(/\\/p>/g, \"/div>\");\r\n        else\r\n            return result;\r\n    }\r\n\r\n    insertTextAtCursor(text: string): void\r\n    {\r\n        this.tinyMceControl().insertContent(text);\r\n    }\r\n\r\n    appendText(text: string, html = true): string\r\n    {\r\n        return this.value(this.value(null, html) + text);\r\n    }\r\n\r\n    body(): HTMLBodyElement\r\n    {\r\n        return this.tinyMceControl().getBody();\r\n    }\r\n\r\n    speechRecognizer()\r\n    {\r\n        return this._speechRecognizer;\r\n    }\r\n\r\n    clear(): void\r\n    {\r\n        this.value(\"\");\r\n        this._finalTextSpeeched = \"\";\r\n    }\r\n\r\n    focus(): void\r\n    {\r\n        if (!this._initialized)\r\n        {\r\n            let focusInterval = window.setInterval(() =>\r\n            {\r\n                if (this._initialized)\r\n                {\r\n                    $(tinyMCE.get(this.element().id).getBody()).trigger(\"focus\")\r\n                    window.clearInterval(focusInterval);\r\n                }\r\n            }, 100)\r\n        }\r\n        else\r\n            $(tinyMCE.get(this.element().id).getBody()).trigger(\"focus\")\r\n    }\r\n\r\n    addMenuItem(item: vrEditorCustomMenuItem)\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.menu !== false)\r\n        {\r\n            if (item.buttonGroupOptions == null) item.buttonGroupOptions = new ButtonGroupOptions();\r\n            if (item.buttonGroupOptions.width == null) item.buttonGroupOptions.width = \"auto\";\r\n\r\n            switch (item.type)\r\n            {\r\n                case EditorCustomMenuItemType.SplitButton: createSplitButton(item.splitButtonOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.Switch: createSwitch(item.switchOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.ButtonGroup: createButtonGroup(item.buttonGroupOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.ComboBox: createComboBox(item.comboBoxOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.DatePicker: createDatePicker(item.datePickerOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.TextBox: createTextBox(item.textBoxOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.Button: createButton(item.buttonOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.Separator: createSeparator(item.separatorOptions, this._divMenuItem); break;\r\n                case EditorCustomMenuItemType.Label: createLabel(item.labelOptions, this._divMenuItem); break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getOptions()\r\n    {\r\n        return this.options<EditorOptions>();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        if (this.settings() != null)\r\n            this.settings().readonly = false;\r\n\r\n        if (tinyMCE != null && tinyMCE.activeEditor != null)\r\n            tinyMCE.activeEditor.mode.set(\"design\");\r\n\r\n        if (this._speechRecognizer != null)\r\n            this._speechRecognizer.enable();\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        if (this.settings() != null)\r\n            this.settings().readonly = true;\r\n\r\n        if (tinyMCE != null && tinyMCE.activeEditor != null)\r\n            tinyMCE.activeEditor.mode.set(\"readonly\");\r\n\r\n        if (this._speechRecognizer != null)\r\n            this._speechRecognizer.disable();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass TinyMceSettings\r\n{\r\n    readonly?: boolean;\r\n    placeholder?: string;\r\n    resize?: boolean;\r\n    elements?: string;\r\n    toolbar_mode?: vrEditorToolbarModeEnum;\r\n    paste_data_images?: boolean;\r\n    language?: string;\r\n    toolbar?: string;\r\n    plugins?: string;\r\n    paste_enable_default_filters?: boolean;\r\n    paste_word_valid_elements?: string;\r\n    paste_retain_style_properties?: string;\r\n    menubar?: boolean;\r\n    menu?: any;\r\n}\r\n\r\nclass vrEditorMenu\r\n{\r\n    file?: boolean | vrEditorMenuItem;\r\n    edit?: boolean | vrEditorMenuItem;\r\n    view?: boolean | vrEditorMenuItem;\r\n    insert?: boolean | vrEditorMenuItem;\r\n    format?: boolean | vrEditorMenuItem;\r\n    tools?: boolean | vrEditorMenuItem;\r\n    table?: boolean | vrEditorMenuItem;\r\n}\r\n\r\nclass vrEditorMenuItem\r\n{\r\n    items?: vrEditorItemEnum[] | string;\r\n    title?: string;\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass EditorEvent extends VrControlsEvent\r\n{\r\n    sender: Editor;\r\n    realEvent: any;\r\n}\r\n\r\nexport class EditorItemClickEvent extends EditorEvent\r\n{\r\n}\r\n\r\nclass EditorOnFocusEvent extends EditorEvent\r\n{ }\r\n\r\nclass EditorOnBlurEvent extends EditorEvent\r\n{ }\r\n\r\nclass EditorOnCommandEvent extends EditorEvent\r\n{\r\n    command: string;\r\n    type: string;\r\n    value: any;\r\n}\r\n\r\nclass EditorSetContentEvent extends EditorEvent\r\n{\r\n    content: string;\r\n    element: HTMLElement;\r\n    format: string;\r\n    type: string;\r\n}\r\n\r\nclass EditorOnResizingEvent extends EditorEvent\r\n{\r\n    height: number;\r\n    width: number;\r\n    target: HTMLElement;\r\n    type: string;\r\n}\r\n\r\nclass EditorOnResizedEvent extends EditorEvent\r\n{\r\n    height: number;\r\n    width: number;\r\n    target: HTMLElement;\r\n    type: string;\r\n}\r\n\r\nclass EditorOnKeyUpEvent extends EditorEvent\r\n{\r\n    key: string;\r\n    keyCode: string;\r\n}\r\n\r\nclass EditorOnKeyDownEvent extends EditorEvent\r\n{\r\n    key: string;\r\n    keyCode: string;\r\n}\r\n\r\nclass EditorOnInitEvent extends EditorEvent\r\n{\r\n    event: any;\r\n}\r\n\r\nclass EditorDragDropEvent extends EditorEvent\r\n{\r\n    event: any;\r\n    element: HTMLElement;\r\n}\r\n\r\nclass EditorDropEvent extends EditorDragDropEvent\r\n{\r\n    files: File[];\r\n}\r\n\r\nclass EditorDragEnterEvent extends EditorDragDropEvent { }\r\nclass EditorDragOverEvent extends EditorDragDropEvent { }\r\nclass EditorDragLeaveEvent extends EditorDragDropEvent { }\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, IconClassicLight, IconClass, WindowFooterItemTypeEnum as WindowFooterItemTypeEnum, ButtonModeEnum, ColorSettings, WindowFooterItemAlignEnum, createButton, createSplitButton, puma, shadowRoot, WindowAutoSizeDirectionEnum, TextAlignEnum, createLabel, ButtonGroupItem, createSwitch, createButtonGroup, SelectionModeEnum, createCheckBox, createComboBox, createDatePicker, createTextBox, IconClassicRegular, IconSettings, createSeparator } from \"../vr\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { SplitButtonItem } from \"./splitButton\";\r\nimport { ControlManager } from \"../../../src/managers/controlManager\";\r\nimport { DeviceManager } from \"../../../src/managers/deviceManager\";\r\nimport { LoaderManager } from \"../../../src/managers/loaderManager\";\r\nimport { ComboBoxOptions } from \"./comboBox\";\r\nimport { DatePickerOptions } from \"./datePicker\";\r\nimport { TextBoxOptions } from \"./textbox\";\r\n\r\n//#region Options\r\nexport class WindowOptions extends VrControlOptions\r\n{\r\n    maximized?: boolean | WindowMaximizeSettings;\r\n    padding?: number;\r\n    modal?: boolean;\r\n    closeable?: boolean;\r\n    hideCloseIcon?: boolean;\r\n    removeOnClose?: boolean;\r\n    title?: string | boolean | WindowTitleSettings;\r\n    footer?: boolean | WindowFooterItem[];\r\n    draggable?: boolean;\r\n    position?: WindowPosition;\r\n    content?: string;\r\n    iframe?: boolean;\r\n    loader?: boolean;\r\n    id?: string;\r\n    autoSize?: boolean | WindowAutoSizeDirectionEnum;\r\n    cssHeader?: string;\r\n\r\n    onOpen?(e: WindowOpenEvent): void;\r\n    onBeforeClose?(e: WindowBeforeCloseEvent): void;\r\n    onClose?(e: WindowCloseEvent): void;\r\n    onDragStart?(e: WindowDragStartEvent): void;\r\n    onDragEnd?(e: WindowDragEndEvent): void;\r\n    onContentLoaded?(e: WindowContentLoadEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Window extends VrControl\r\n{\r\n    private _divHeader: HTMLElement;\r\n    private _divFooter: HTMLElement;\r\n    private _callbackFooterItems?: CallBackFooterItem[] | null;\r\n    private _openCloseCallback?: Function;\r\n    private _additionalCloseCallbacks?: Function[];\r\n    private _additionalOpenCallbacks?: Function[];\r\n    private _additionalContentLoadedCallbacks: Function[];\r\n    private _background: HTMLElement;\r\n    private _iframe: HTMLIFrameElement | null;\r\n    private _animateAutosize: boolean;\r\n\r\n    constructor(element: HTMLElement, options?: WindowOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new WindowOptions();\r\n\r\n        if (options.width == null) options.width = 500;\r\n        if (options.height == null) options.height = 500;\r\n        if (options.padding == null) options.padding = 10;\r\n        if (options.modal == null) options.modal = true;\r\n        if (options.closeable == null) options.closeable = true;\r\n        if (options.hideCloseIcon == null) options.hideCloseIcon = false;\r\n        if (options.draggable == null) options.draggable = true;\r\n        if (options.iframe == null) options.iframe = false;\r\n        if (options.loader == null) options.loader = false;\r\n        if (options.title == null) options.title = false;\r\n        if (options.removeOnClose == null) options.removeOnClose = false;\r\n\r\n        if (options.footer == null || options.footer === true) options.footer =\r\n            [\r\n                { type: WindowFooterItemTypeEnum.Close, value: \"close\" },\r\n                { type: WindowFooterItemTypeEnum.Ok, value: \"ok\" }\r\n            ];\r\n\r\n        if (options.autoSize == null) options.autoSize = false;\r\n        if (options.autoSize === true) options.autoSize = WindowAutoSizeDirectionEnum.Height;\r\n\r\n        //#region Maximize\r\n        if (options.maximized == null) (DeviceManager.isMobile()) ? options.maximized = true : options.maximized = false;\r\n        if (options.maximized !== false)\r\n        {\r\n            if (typeof (options.maximized) === \"boolean\")\r\n            {\r\n                options.width = \"Calc(100% - 30px)\";\r\n                options.height = \"Calc(100% - 30px)\";\r\n            }\r\n            else\r\n            {\r\n                if (options.maximized.padding === true)\r\n                {\r\n                    options.width = \"Calc(100% - 30px)\";\r\n                    options.height = \"Calc(100% - 30px)\";\r\n                }\r\n                else\r\n                {\r\n                    options.width = \"100%\";\r\n                    options.height = \"100%\";\r\n                }\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Window);\r\n        puma(this.container()).hide();\r\n        this._additionalCloseCallbacks = [];\r\n        this._additionalOpenCallbacks = [];\r\n        this._additionalContentLoadedCallbacks = [];\r\n\r\n        if (options.id != null)\r\n            puma(this.element()).attr(\"id\", options.id);\r\n\r\n        //#region Header\r\n        if (options.title !== false)\r\n        {\r\n            if (options.title === true) options.title = \"\";\r\n            let title = \"\";\r\n\r\n            if (typeof (options.title) == \"string\")\r\n            {\r\n                title = options.title;\r\n                options.title = new WindowTitleSettings();\r\n            }\r\n\r\n            if (options.title.text == null) options.title.text = title;\r\n            if (options.title.fontSize == null) options.title.fontSize = 16;\r\n            if (options.title.colorSettings == null) options.title.colorSettings = new ColorSettings();\r\n            if (options.title.colorSettings.textColor == null) options.title.colorSettings.textColor = \"#FFF\";\r\n            if (options.title.align == null) options.title.align = TextAlignEnum.Left;\r\n\r\n            this._divHeader = puma(\"<div class='vrWindowHeader'></div>\").vrPrependToPuma(this.container())[0];\r\n            if (options.cssHeader != null)\r\n                this._divHeader.style.cssText += options.cssHeader;\r\n\r\n            let spanWindowTitle = puma(\"<span class='vrWindowTitle'></span>\").vrAppendToPuma(this._divHeader);\r\n            createLabel({\r\n                width: \"100%\",\r\n                text: options.title.text,\r\n                fontSize: options.title.fontSize,\r\n                colorSettings: options.title.colorSettings,\r\n                align: options.title.align,\r\n                noBr: true\r\n            }, spanWindowTitle)\r\n\r\n            if (options.closeable || !options.hideCloseIcon)\r\n            {\r\n                let spanCloseIcon = puma(\"<span class='vrWindowCloseIcon'></span>\").vrAppendToPuma(this._divHeader);\r\n                puma(UtilityManager.createIcon(IconClassicRegular.Xmark)).vrAppendToPuma(spanCloseIcon);\r\n                spanCloseIcon.click(() => this.close());\r\n\r\n                if (options.hideCloseIcon)\r\n                    puma(spanCloseIcon).hide();\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Draggable\r\n        if (options.draggable)\r\n        {\r\n            puma(this._divHeader).css(\"cursor\", \"move\");\r\n            puma(this._divHeader).find(\".vrWindowTitle .vrLabel\").css(\"cursor\", \"move\");\r\n\r\n            puma(this._divHeader).vrDrag(this.container(),\r\n                (e: any) => \r\n                {\r\n                    if (e.event.target.classList.contains(\"fa-xmark\"))\r\n                    {\r\n                        e.preventDefault();\r\n                        e.event.preventDefault();\r\n                        return;\r\n                    }\r\n\r\n                    puma(this.container()).addClass(\"vrWindowDragging\");\r\n                    if (options!.onDragStart != null)\r\n                    {\r\n                        let dragStartEvent = new WindowDragStartEvent();\r\n                        dragStartEvent.sender = this;\r\n                        dragStartEvent.left = e.left;\r\n                        dragStartEvent.top = e.top;\r\n                        options!.onDragStart(dragStartEvent);\r\n                    }\r\n                },\r\n                (e: any) => \r\n                {\r\n                    puma(this.container()).removeClass(\"vrWindowDragging\");\r\n                    if (options!.onDragEnd != null)\r\n                    {\r\n                        let dragEndEvent = new WindowDragEndEvent();\r\n                        dragEndEvent.sender = this;\r\n                        dragEndEvent.left = e.left;\r\n                        dragEndEvent.top = e.top;\r\n                        options!.onDragEnd(dragEndEvent);\r\n                    }\r\n                });\r\n        }\r\n        //#endregion\r\n\r\n        //#region Footer\r\n        if (options.footer)\r\n        {\r\n            this._divFooter = puma(\"<div class='vrWindowFooter'></div>\").vrAppendToPuma(this.container())[0];\r\n            this._divFooter.style.cssText += \"margin-top: \" + (options.padding * 2) + \"px;\";\r\n\r\n            for (let footerItem of options.footer)\r\n                this.addFooterItem(footerItem);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Content\r\n        if (options.iframe)\r\n            this._iframe = puma(\"<iframe id='\" + this.element().id + \"_iframeContent' class='vrWindowIframe'></iframe>\").vrAppendToPuma(this.element())[0] as HTMLIFrameElement;\r\n\r\n        if (options.content != null)\r\n            this.content(options.content);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    open(callBackFooterItems?: CallBackFooterItem[] | null, center = true, position?: WindowPosition): Promise<any>\r\n    {\r\n        let options = this.getOptions();\r\n        this.container().style.cssText += \"position: absolute;\";\r\n\r\n        //#region Position\r\n        if (position != null)\r\n            this.position(position.left, position.top, position.right, position.bottom);\r\n        else if (options.position != null)\r\n            this.position(options.position.left, options.position.top, options.position.right, options.position.bottom);\r\n        else if (center)\r\n            this.center();\r\n\r\n        if (options.maximized)\r\n        {\r\n            if (typeof (options.maximized) !== \"boolean\")\r\n                this.maximize(options.maximized!.padding);\r\n            else\r\n                this.maximize();\r\n        }\r\n        //#endregion\r\n\r\n        if (callBackFooterItems != null)\r\n            this._callbackFooterItems = callBackFooterItems;\r\n\r\n        let promise = new Promise((closeCallBack?: Function) =>\r\n        {\r\n            puma(this.container()).show();\r\n\r\n            let height = puma(this.container()).height() - (options!.padding! * 2);\r\n            if (options.title !== false)\r\n                height -= puma(this._divHeader).outerHeight();\r\n            if (options.footer)\r\n                height -= puma(this._divFooter).outerHeight();\r\n\r\n            this.element().style.cssText += \"height: \" + height + \"px; width: Calc(100% - \" + (options!.padding! * 2) + \"px); left: \" + options!.padding! + \"px; top: \" + options!.padding! + \"px\";\r\n\r\n            let maxZindexWindow = Array.from<HTMLElement>(puma(\".vrWindowContainer\")).map(k => Number(puma(k).css(\"z-index\"))).vrMax();\r\n            puma(this.container()).css(\"z-index\", (maxZindexWindow + 2));\r\n\r\n            //#region Background\r\n            if (options.modal)\r\n            {\r\n                if (this._background == null)\r\n                    this._background = puma(\"<div class='vrWindowBackground' id='vrWindowBackground_\" + this.element().id + \"'></div>\").vrAppendToPuma(this.container().parentElement)[0];\r\n\r\n                if (options.closeable)\r\n                    puma(this._background).click(() => this.close());\r\n\r\n                puma(this._background).css(\"z-index\", (maxZindexWindow + 1));\r\n            }\r\n            //#endregion\r\n\r\n            if (closeCallBack != null)\r\n                this._openCloseCallback = closeCallBack;\r\n\r\n            if (options.onOpen != null)\r\n            {\r\n                let openEvent = new WindowOpenEvent();\r\n                openEvent.sender = this;\r\n                options.onOpen(openEvent);\r\n            }\r\n\r\n            for (let openCallback of this._additionalOpenCallbacks!)\r\n                openCallback();\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    close(triggerEvents = true): void\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        if (triggerEvents)\r\n        {\r\n            if (options.onBeforeClose != null)\r\n            {\r\n                let closeBeforeEvent = new WindowBeforeCloseEvent();\r\n                closeBeforeEvent.sender = this;\r\n                options.onBeforeClose(closeBeforeEvent);\r\n\r\n                if (closeBeforeEvent.isDefaultPrevented())\r\n                    return;\r\n            }\r\n        }\r\n\r\n        if (!options.removeOnClose)\r\n            puma(this.container()).hide();\r\n        else\r\n            puma(this.container()).remove();\r\n\r\n        puma(this._background).remove();\r\n        (this._background as any) = null;\r\n\r\n        if (this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(\"close\"))\r\n        {\r\n            let callback = this._callbackFooterItems.filter(k => k.value == \"close\")[0].callback;\r\n            if (callback != null)\r\n                callback();\r\n        }\r\n\r\n        if (this._openCloseCallback != null)\r\n            this._openCloseCallback();\r\n\r\n        for (let closeCallback of this._additionalCloseCallbacks!)\r\n            closeCallback();\r\n\r\n        if (triggerEvents)\r\n        {\r\n            if (options.onClose != null)\r\n            {\r\n                let closeEvent = new WindowCloseEvent();\r\n                closeEvent.sender = this;\r\n                options.onClose(closeEvent);\r\n            }\r\n        }\r\n    }\r\n\r\n    remove()\r\n    {\r\n        puma(this.container()).remove();\r\n        puma(this._background).remove();\r\n    }\r\n\r\n    addCloseCallbacks(...callback: Function[])\r\n    {\r\n        this._additionalCloseCallbacks!.push(...callback);\r\n    }\r\n\r\n    addOpenCallbacks(...callback: Function[])\r\n    {\r\n        this._additionalOpenCallbacks!.push(...callback);\r\n    }\r\n\r\n    addContentLoadedCallbacks(...callback: Function[])\r\n    {\r\n        this._additionalContentLoadedCallbacks!.push(...callback);\r\n    }\r\n\r\n    closeIconVisible(state?: boolean)\r\n    {\r\n        let closeIcon = puma(this.container()).find(\".vrWindowCloseIcon\");\r\n        if (state != null)\r\n        {\r\n            if (state) closeIcon.show();\r\n            else closeIcon.hide();\r\n        }\r\n        return closeIcon.is(\":visible\");\r\n    }\r\n\r\n    title(text?: string): string\r\n    {\r\n        if (puma(this.container()).find(\".vrWindowTitle label\")[0] == null)\r\n            return \"\";\r\n\r\n        if (text != null)\r\n            puma(this.container()).find(\".vrWindowTitle label\")[0].innerHTML = text;\r\n\r\n        return puma(this.container()).find(\".vrWindowTitle label\")[0].innerHTML;\r\n    }\r\n\r\n    maximize(padding = true): void\r\n    {\r\n        let width = (padding) ? \"Calc(100% - 30px)\" : \"100%\";\r\n        let height = (padding) ? \"Calc(100% - 30px)\" : \"100%\";\r\n        this.resize(width, height);\r\n\r\n        let options = this.getOptions();\r\n        if (options.position != null)\r\n            this.position(options.position.left, options.position.top, options.position.right, options.position.bottom);\r\n        else\r\n            this.center();\r\n    }\r\n\r\n    resize(width?: number | string, height?: number | string): void\r\n    {\r\n        let options = this.getOptions();\r\n        let newWidth = (width != null) ? width : options.width;\r\n        let newHeight = (height != null) ? height : options.height;\r\n        this.width(newWidth);\r\n        this.height(newHeight);\r\n    }\r\n\r\n    autoSize(direction: WindowAutoSizeDirectionEnum = WindowAutoSizeDirectionEnum.Height, animate = false, center = true)\r\n    {\r\n        this._animateAutosize = animate;\r\n\r\n        if (direction == WindowAutoSizeDirectionEnum.Height)\r\n            this.height(\"auto\", center);\r\n        else\r\n            this.width(\"auto\", center);\r\n\r\n        this._animateAutosize = false;\r\n    }\r\n\r\n    content(content: string, loader: boolean | HTMLElement | JQuery | string = false, open = false, triggerChange = true)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        //#region Iframe\r\n        let iframeBody: HTMLElement | null = null;\r\n        if (options.iframe)\r\n        {\r\n            let iframeContentDocument = this._iframe!.contentDocument;\r\n            puma(iframeContentDocument).find(\"body\").css(\"margin\", \"0px\");\r\n            if (iframeContentDocument != null)\r\n                iframeBody = iframeContentDocument.body;\r\n        }\r\n        //#endregion\r\n\r\n        if (content != null && (content.endsWith(\".html\") || content.endsWith(\".php\") ||\r\n            content.includes(\".aspx\") || content.startsWith(\"http\") || content.startsWith(\"/\")))\r\n        {\r\n            if (options.loader || loader !== false)\r\n            {\r\n                if (loader === true)\r\n                    loader = this.element();\r\n\r\n                LoaderManager.show((loader === false) ? this.element() : loader);\r\n            }\r\n\r\n            if (!options.iframe)\r\n            {\r\n                puma(this.element()).load(content, () => \r\n                {\r\n                    if (triggerChange)\r\n                        this.onContentLoaded();\r\n\r\n                    this.autoSizeIfRequired();\r\n\r\n                    if (open)\r\n                        this.open();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                puma(this._iframe).attr(\"src\", content);\r\n                puma(this._iframe).on(\"load\", () => \r\n                {\r\n                    let iframeContentDocument = this._iframe!.contentDocument;\r\n                    puma(iframeContentDocument).find(\"body\").css(\"margin\", \"0px\");\r\n\r\n                    if (triggerChange)\r\n                        this.onContentLoaded();\r\n\r\n                    this.autoSizeIfRequired();\r\n\r\n                    if (open)\r\n                        this.open();\r\n                });\r\n            }\r\n        }\r\n        else\r\n        {\r\n            puma(this.element()).empty();\r\n            if (content != null && !content.startsWith(\"<\"))\r\n                content = \"<div>\" + content + \"</div>\";\r\n\r\n            if (!options.iframe)\r\n                puma(content).vrAppendToPuma(this.element());\r\n            else\r\n                puma(content).vrAppendToPuma(iframeBody);\r\n\r\n            if (triggerChange)\r\n                this.onContentLoaded();\r\n\r\n            this.autoSizeIfRequired();\r\n\r\n            if (open)\r\n                this.open();\r\n        }\r\n    }\r\n\r\n    private autoSizeIfRequired()\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.autoSize !== false)\r\n            this.autoSize(options.autoSize as WindowAutoSizeDirectionEnum, false);\r\n    }\r\n\r\n    clear()\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.iframe)\r\n            puma(this._iframe).removeAttr(\"src\");\r\n        else\r\n            puma(this.element()).empty();\r\n    }\r\n\r\n    background()\r\n    {\r\n        return this._background;\r\n    }\r\n\r\n    center(): void\r\n    {\r\n        let scrollTop = puma(window).scrollTop();\r\n        let windowHeight = window.innerHeight;\r\n        let top = (windowHeight / 2) - (puma(this.container()).height() / 2) + scrollTop;\r\n\r\n        let scrollLeft = puma(window).scrollLeft();\r\n        let windowWidth = window.innerWidth;\r\n        let left = (windowWidth / 2) - (puma(this.container()).width() / 2) + scrollLeft;\r\n\r\n        this.position(left, top);\r\n    }\r\n\r\n    position(left?: number | string | null, top?: number | string | null, right?: number | string | null, bottom?: number | string | null)\r\n    {\r\n        let leftPosition = \"\";\r\n        if (left != null)\r\n        {\r\n            leftPosition = \"left: \" + left + \";\";\r\n            if (typeof (left) == \"number\")\r\n                leftPosition = \"left: \" + left + \"px;\";\r\n        }\r\n\r\n        let topPosition = \"\";\r\n        if (top != null)\r\n        {\r\n            topPosition = \"top: \" + top + \";\";\r\n            if (typeof (top) == \"number\")\r\n                topPosition = \"top: \" + top + \"px;\";\r\n        }\r\n\r\n        let rightPosition = \"\";\r\n        if (right != null)\r\n        {\r\n            leftPosition = \"left: unset;\";\r\n            rightPosition = \"right: \" + right + \";\";\r\n            if (typeof (right) == \"number\")\r\n                rightPosition = \"right: \" + right + \"px;\";\r\n        }\r\n\r\n        let bottomPosition = \"\";\r\n        if (bottom != null)\r\n        {\r\n            topPosition = \"top: unset;\";\r\n            bottomPosition = \"bottom: \" + bottom + \";\";\r\n            if (typeof (bottom) == \"number\")\r\n                bottomPosition = \"bottom: \" + bottom + \"px;\";\r\n        }\r\n\r\n        this.container().style.cssText += leftPosition + topPosition + rightPosition + bottomPosition;\r\n        let position = $(this.container()).position();\r\n        return { left: position.left, top: position.top };\r\n    }\r\n\r\n    footerItem<T extends VrControl>(value: string | number)\r\n    {\r\n        let element = puma(this._divFooter).find(\"[value='\" + value + \"']\")[0];\r\n        return ControlManager.get<T>((element != null) ? element.id : \"\");\r\n    }\r\n\r\n    hideFooterItem(value: string | number)\r\n    {\r\n        this.footerItem(value).hide();\r\n    }\r\n\r\n    showFooterItem(value: string | number)\r\n    {\r\n        this.footerItem(value).show();\r\n    }\r\n\r\n    enableFooterItem(value: string | number)\r\n    {\r\n        this.footerItem(value).enable();\r\n    }\r\n\r\n    disableFooterItem(value: string | number)\r\n    {\r\n        this.footerItem(value).disable();\r\n    }\r\n\r\n    addFooterItem(footerItem: WindowFooterItem)\r\n    {\r\n        if (footerItem.align == null) footerItem.align = WindowFooterItemAlignEnum.Right;\r\n        let cssContainer = \"float: right; margin-left: 5px;\";\r\n        if (footerItem.align == WindowFooterItemAlignEnum.Left)\r\n            cssContainer = \"float: left; margin-right: 5px;\";\r\n\r\n        if (footerItem.type == WindowFooterItemTypeEnum.Close || footerItem.type == WindowFooterItemTypeEnum.Ok\r\n            || footerItem.type == WindowFooterItemTypeEnum.Custom || footerItem.type == null)\r\n        {\r\n            //#region Button\r\n            let text = footerItem.text;\r\n            if (footerItem.type == WindowFooterItemTypeEnum.Close || footerItem.type == WindowFooterItemTypeEnum.Ok)\r\n                text = (footerItem.text != null) ? footerItem.text : ((footerItem.type == WindowFooterItemTypeEnum.Close) ? \"Chiudi\" : \"Salva\");\r\n\r\n            let value = footerItem.value;\r\n            if ((footerItem.type == WindowFooterItemTypeEnum.Close || footerItem.type == WindowFooterItemTypeEnum.Ok) && (value == null || value == \"\"))\r\n                value = (footerItem.type == WindowFooterItemTypeEnum.Close) ? \"close\" : \"ok\";\r\n\r\n            if ((value == null || value == \"\") && text != null)\r\n                value = text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\");\r\n\r\n            let mode = footerItem.mode;\r\n            if (footerItem.type == WindowFooterItemTypeEnum.Ok)\r\n                mode = ButtonModeEnum.Primary;\r\n\r\n            let button = createButton(\r\n                {\r\n                    text: text,\r\n                    icon: footerItem.icon,\r\n                    iconSettings: footerItem.iconSettings,\r\n                    imageUrl: footerItem.imageUrl,\r\n                    mode: mode,\r\n                    colorSettings: footerItem.colorSettings,\r\n                    tooltip: footerItem.tooltip,\r\n                    confirmationMessage: footerItem.confirmationMessage,\r\n                    visible: footerItem.visible,\r\n                    enable: footerItem.enable,\r\n                    css: footerItem.css,\r\n                    cssContainer: cssContainer + footerItem.cssContainer,\r\n                    class: footerItem.class,\r\n                    width: footerItem.width,\r\n                    onClick: (e) => \r\n                    {\r\n                        if (footerItem.type == WindowFooterItemTypeEnum.Close)\r\n                            this.close();\r\n\r\n                        if (footerItem.onClick != null)\r\n                        {\r\n                            let clickEvent = new WindowFooterItemClickEvent();\r\n                            clickEvent.sender = this;\r\n                            footerItem.onClick(clickEvent);\r\n                        }\r\n\r\n                        if (value != null && this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(value))\r\n                        {\r\n                            let callback = this._callbackFooterItems.filter(k => k.value == value)[0].callback;\r\n                            if (callback != null)\r\n                                callback();\r\n                        }\r\n                    }\r\n                }, this._divFooter);\r\n\r\n            if (value != null)\r\n                puma(button.element()).attr(\"value\", value);\r\n            //#endregion\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.Separator)\r\n        {\r\n            let separator = createSeparator({\r\n                cssContainer: cssContainer\r\n            }, this._divFooter)\r\n\r\n            if (footerItem.value != null)\r\n                puma(separator.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.SplitButton || footerItem.splitButtonItems != null)\r\n        {\r\n            //#region SplitButton\r\n            let splitButton = createSplitButton(\r\n                {\r\n                    text: footerItem.text,\r\n                    icon: footerItem.icon,\r\n                    imageUrl: footerItem.imageUrl,\r\n                    colorSettings: footerItem.colorSettings,\r\n                    tooltip: footerItem.tooltip,\r\n                    items: footerItem.splitButtonItems,\r\n                    visible: footerItem.visible,\r\n                    enable: footerItem.enable,\r\n                    css: footerItem.css,\r\n                    cssContainer: footerItem.cssContainer + \"; \" + cssContainer,\r\n                    class: footerItem.class,\r\n                    onClick: (footerItem.onClick == null) ? undefined : (e) =>\r\n                    {\r\n                        if (footerItem.onClick != null)\r\n                        {\r\n                            let clickEvent = new WindowFooterItemClickEvent();\r\n                            clickEvent.sender = this;\r\n                            footerItem.onClick(clickEvent);\r\n                        }\r\n\r\n                        if (footerItem.value != null && this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(footerItem.value))\r\n                        {\r\n                            let callback = this._callbackFooterItems.filter(k => k.value == footerItem.value)[0].callback;\r\n                            if (callback != null)\r\n                                callback();\r\n                        }\r\n                    },\r\n                    onSelect: (e) =>\r\n                    {\r\n                        if (e.value != null && this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(e.value))\r\n                        {\r\n                            let callback = this._callbackFooterItems.filter(k => k.value == e.value)[0].callback;\r\n                            if (callback != null)\r\n                                callback();\r\n                        }\r\n                    }\r\n                }, this._divFooter);\r\n\r\n            if (footerItem.value != null)\r\n                puma(splitButton.element()).attr(\"value\", footerItem.value);\r\n            //#endregion\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.Switch)\r\n        {\r\n            if (footerItem.switchSettings == null)\r\n            {\r\n                footerItem.switchSettings = new SplitButtonSwitchSettings();\r\n                footerItem.switchSettings.labelOff = \"\";\r\n                footerItem.switchSettings.labelOn = \"\";\r\n            }\r\n\r\n            if (footerItem.switchSettings.checked == null) footerItem.switchSettings.checked = false;\r\n            let switchControl = createSwitch(\r\n                {\r\n                    labelOff: footerItem.switchSettings!.labelOff,\r\n                    labelOn: footerItem.switchSettings!.labelOn,\r\n                    checked: footerItem.switchSettings.checked,\r\n                    cssContainer: footerItem.cssContainer + \"; \" + cssContainer,\r\n                    css: footerItem.css,\r\n                    class: footerItem.class,\r\n                    visible: footerItem.visible,\r\n                    enable: footerItem.enable,\r\n                    onChange: (e) =>\r\n                    {\r\n                        if (footerItem.switchSettings!.onCheck != null)\r\n                        {\r\n                            let tableSwitchEvent = new SplitButtonSwitchEvent();\r\n                            tableSwitchEvent.checked = e.checked;\r\n                            footerItem.switchSettings!.onCheck(tableSwitchEvent);\r\n                        }\r\n                    }\r\n                }, this._divFooter);\r\n\r\n            if (footerItem.value != null)\r\n                puma(switchControl.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.ButtonGroup)\r\n        {\r\n            let buttonGroup = createButtonGroup(\r\n                {\r\n                    selectionMode: SelectionModeEnum.Single,\r\n                    items: footerItem.buttonGroupItems!,\r\n                    cssContainer: footerItem.cssContainer,\r\n                    css: footerItem.css,\r\n                    class: footerItem.class,\r\n                    visible: footerItem.visible,\r\n                    enable: footerItem.enable,\r\n                    width: \"auto\",\r\n                    onSelect: (e) => \r\n                    {\r\n                        if (footerItem.onClick != null)\r\n                        {\r\n                            let clickEvent = new WindowFooterItemClickEvent();\r\n                            clickEvent.sender = this;\r\n                            footerItem.onClick(clickEvent);\r\n                        }\r\n                    }\r\n                }, this._divFooter);\r\n\r\n            if (footerItem.value != null)\r\n                puma(buttonGroup.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.CheckBox)\r\n        {\r\n            let checkBox = createCheckBox(\r\n                {\r\n                    text: footerItem.text,\r\n                    cssContainer: \"top: -1px; \" + footerItem.cssContainer,\r\n                    css: footerItem.css,\r\n                    class: footerItem.class,\r\n                    visible: footerItem.visible,\r\n                    enable: footerItem.enable,\r\n                    onCheck: (e) => \r\n                    {\r\n                        if (footerItem.onClick != null)\r\n                        {\r\n                            let clickEvent = new WindowFooterItemClickEvent();\r\n                            clickEvent.sender = this;\r\n                            footerItem.onClick(clickEvent);\r\n                        }\r\n                    }\r\n                }, this._divFooter);\r\n\r\n            if (footerItem.value != null)\r\n                puma(checkBox.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.Label)\r\n        {\r\n            let label = createLabel(\r\n                {\r\n                    text: footerItem.text,\r\n                    cssContainer: footerItem.cssContainer,\r\n                    css: footerItem.css,\r\n                    class: footerItem.class,\r\n                    visible: footerItem.visible,\r\n                    enable: footerItem.enable,\r\n                    onClick: (e) => \r\n                    {\r\n                        if (footerItem.onClick != null)\r\n                        {\r\n                            let clickEvent = new WindowFooterItemClickEvent();\r\n                            clickEvent.sender = this;\r\n                            footerItem.onClick(clickEvent);\r\n                        }\r\n                    }\r\n                }, this._divFooter);\r\n\r\n            if (footerItem.value != null)\r\n                puma(label.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.ComboBox)\r\n        {\r\n            if (footerItem.comboBoxOptions == null) footerItem.comboBoxOptions = new ComboBoxOptions();\r\n            footerItem.comboBoxOptions.classContainer = footerItem.comboBoxOptions.classContainer;\r\n            footerItem.comboBoxOptions.class = footerItem.comboBoxOptions.class;\r\n            if (footerItem.comboBoxOptions.visible == null) footerItem.comboBoxOptions.visible = footerItem.visible;\r\n            if (footerItem.comboBoxOptions.enable == null) footerItem.comboBoxOptions.enable = footerItem.enable;\r\n            if (footerItem.comboBoxOptions.css == null) footerItem.comboBoxOptions.css = footerItem.css;\r\n            if (footerItem.comboBoxOptions.cssContainer == null) footerItem.comboBoxOptions.cssContainer = footerItem.cssContainer;\r\n\r\n            let combo = createComboBox(footerItem.comboBoxOptions, this._divFooter);\r\n            if (footerItem.value != null)\r\n                puma(combo.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.DatePicker)\r\n        {\r\n            if (footerItem.datePickerOptions == null) footerItem.datePickerOptions = new DatePickerOptions();\r\n            footerItem.datePickerOptions.classContainer = footerItem.datePickerOptions.classContainer;\r\n            footerItem.datePickerOptions.class = footerItem.datePickerOptions.class;\r\n            if (footerItem.datePickerOptions.visible == null) footerItem.datePickerOptions.visible = footerItem.visible;\r\n            if (footerItem.datePickerOptions.enable == null) footerItem.datePickerOptions.enable = footerItem.enable;\r\n            if (footerItem.datePickerOptions.css == null) footerItem.datePickerOptions.css = footerItem.css;\r\n            if (footerItem.datePickerOptions.cssContainer == null) footerItem.datePickerOptions.cssContainer = footerItem.cssContainer;\r\n\r\n            let datePicker = createDatePicker(footerItem.datePickerOptions, this._divFooter);\r\n            if (footerItem.value != null)\r\n                puma(datePicker.element()).attr(\"value\", footerItem.value);\r\n        }\r\n        else if (footerItem.type == WindowFooterItemTypeEnum.TextBox)\r\n        {\r\n            if (footerItem.textBoxOptions == null) footerItem.textBoxOptions = new TextBoxOptions();\r\n            footerItem.textBoxOptions.classContainer = footerItem.textBoxOptions.classContainer;\r\n            footerItem.textBoxOptions.class = footerItem.textBoxOptions.class;\r\n            if (footerItem.textBoxOptions.visible == null) footerItem.textBoxOptions.visible = footerItem.visible;\r\n            if (footerItem.textBoxOptions.enable == null) footerItem.textBoxOptions.enable = footerItem.enable;\r\n            if (footerItem.textBoxOptions.css == null) footerItem.textBoxOptions.css = footerItem.css;\r\n            if (footerItem.textBoxOptions.cssContainer == null) footerItem.textBoxOptions.cssContainer = footerItem.cssContainer;\r\n\r\n            let textbox = createTextBox(footerItem.textBoxOptions, this._divFooter);\r\n            if (footerItem.value != null)\r\n                puma(textbox.element()).attr(\"value\", footerItem.value);\r\n        }\r\n    }\r\n\r\n    footer()\r\n    {\r\n        return puma(this._divFooter)[0] as HTMLElement;\r\n    }\r\n\r\n    header()\r\n    {\r\n        return puma(this._divHeader)[0] as HTMLElement;\r\n    }\r\n\r\n    titleElement()\r\n    {\r\n        return puma(this._divHeader).find(\".vrWindowTitle\")[0] as HTMLElement;\r\n    }\r\n\r\n    private getOptions(): WindowOptions\r\n    {\r\n        return this.options<WindowOptions>();\r\n    }\r\n\r\n    private onContentLoaded(): void\r\n    {\r\n        let options = this.getOptions();\r\n        LoaderManager.hide();\r\n\r\n        if (options.onContentLoaded != null)\r\n        {\r\n            let onLoadEvent = new WindowContentLoadEvent();\r\n            onLoadEvent.sender = this;\r\n            options.onContentLoaded(onLoadEvent);\r\n        }\r\n\r\n        for (let contentLoaded of this._additionalContentLoadedCallbacks!)\r\n            contentLoaded();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    height(height?: number | string, center = true)\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        if (height != \"auto\" || (height == \"auto\" && !this._animateAutosize))\r\n            super.height(height);\r\n        else\r\n        {\r\n            this.container().style.cssText += \"height: auto;\";\r\n            let curHeight = puma(this.element()).height();\r\n            let autoHeight = puma(this.element()).css('height', 'auto').height();\r\n            puma(this.element()).height(curHeight).animate({ height: autoHeight }, 300);\r\n        }\r\n\r\n        if (typeof (height) == \"number\")\r\n        {\r\n            height -= (options!.padding! * 2);\r\n\r\n            if (options.title != null)\r\n                height -= puma(this._divHeader).outerHeight();\r\n            if (options.footer)\r\n                height -= puma(this._divFooter).outerHeight();\r\n\r\n            this.element().style.cssText += \"height: \" + height + \"px;\";\r\n        }\r\n\r\n        if (center)\r\n        {\r\n            if (this._animateAutosize)\r\n                window.setTimeout(() => this.center(), 300);\r\n            else\r\n                this.center();\r\n        }\r\n\r\n        return super.height();\r\n    }\r\n\r\n    width(width?: number | string, center = true)\r\n    {\r\n        let options = this.getOptions();\r\n        super.width(width);\r\n\r\n        if (center)\r\n            this.center();\r\n\r\n        //if (width == \"auto\")\r\n        this.element().style.cssText += \"width: Calc(100% - \" + (options.padding! * 2) + \"px);\";\r\n\r\n        return super.width();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nexport class WindowFooterItem\r\n{\r\n    value?: string;\r\n    type?: WindowFooterItemTypeEnum;\r\n    text?: string;\r\n    icon?: IconClass;\r\n    iconSettings?: IconSettings;\r\n    imageUrl?: string;\r\n    mode?: ButtonModeEnum;\r\n    colorSettings?: ColorSettings;\r\n    tooltip?: string;\r\n    confirmationMessage?: string;\r\n    align?: WindowFooterItemAlignEnum;\r\n    visible?: boolean;\r\n    enable?: boolean;\r\n    css?: string;\r\n    cssContainer?: string;\r\n    class?: string;\r\n    width?: string | number;\r\n\r\n    splitButtonItems?: SplitButtonItem[];\r\n    switchSettings?: SplitButtonSwitchSettings;\r\n    buttonGroupItems?: ButtonGroupItem[];\r\n    comboBoxOptions?: ComboBoxOptions;\r\n    datePickerOptions?: DatePickerOptions;\r\n    textBoxOptions?: TextBoxOptions;\r\n\r\n    onClick?(e: WindowFooterItemClickEvent): void;\r\n}\r\n\r\nclass CallBackFooterItem\r\n{\r\n    value: string;\r\n    callback: Function;\r\n}\r\n\r\nexport class SplitButtonSwitchSettings\r\n{\r\n    labelOff?: string;\r\n    labelOn?: string;\r\n    checked?: boolean;\r\n    onCheck?: (e: SplitButtonSwitchEvent) => void;\r\n}\r\n\r\nclass SplitButtonSwitchEvent\r\n{\r\n    checked: boolean;\r\n}\r\n\r\nclass WindowPosition\r\n{\r\n    left?: number | string;\r\n    top?: number | string;\r\n    right?: number | string;\r\n    bottom?: number | string;\r\n}\r\n\r\nclass WindowMaximizeSettings\r\n{\r\n    padding: boolean;\r\n}\r\n\r\nclass WindowTitleSettings\r\n{\r\n    text?: string;\r\n    colorSettings?: ColorSettings;\r\n    fontSize?: number;\r\n    cssContainer?: string;\r\n    css?: string;\r\n    align?: TextAlignEnum;\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nexport class WindowEvent extends VrControlsEvent\r\n{\r\n    sender: Window;\r\n}\r\n\r\nclass WindowFooterItemClickEvent extends WindowEvent\r\n{\r\n}\r\n\r\nexport class WindowOpenEvent extends WindowEvent\r\n{\r\n}\r\n\r\nclass WindowBeforeCloseEvent extends WindowEvent\r\n{\r\n\r\n}\r\n\r\nclass WindowCloseEvent extends WindowEvent\r\n{\r\n}\r\n\r\nclass WindowDragStartEvent extends WindowEvent\r\n{\r\n    left: number;\r\n    top: number;\r\n}\r\n\r\nclass WindowDragEndEvent extends WindowEvent\r\n{\r\n    left: number;\r\n    top: number;\r\n}\r\n\r\nclass WindowContentLoadEvent extends WindowEvent\r\n{\r\n}\r\n//#endregion","import { createWindow, ButtonModeEnum, WindowFooterItemTypeEnum, TextAlignEnum, puma } from \"../vr\";\r\nimport { Window } from \"./window\";\r\nimport { VrControlsEvent } from \"../common\";\r\nimport { Button } from \"./button\";\r\n\r\n//#region Options\r\nexport class ConfirmOptions\r\n{\r\n    textOkButton?: string;\r\n    textCancelButton?: string;\r\n    content?: string;\r\n    title?: string;\r\n    width?: number | string;\r\n    height?: number | string;\r\n    textAlign?: TextAlignEnum;\r\n    css?: string;\r\n    cssContainer?: string;\r\n\r\n    onContentLoaded?(e: ContentConfirmLoadedEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Confirm\r\n{\r\n    private _window: Window;\r\n    private _options: ConfirmOptions;\r\n\r\n    constructor(text?: string | null, options?: ConfirmOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new ConfirmOptions();\r\n\r\n        if (options.textOkButton == null) options.textOkButton = \"Conferma\";\r\n        if (options.textCancelButton == null) options.textCancelButton = \"Annulla\";\r\n        if (options.width == null) options.width = 300;\r\n        if (options.height == null) options.height = 120;\r\n        if (options.textAlign == null) options.textAlign = TextAlignEnum.Center;\r\n        //#endregion\r\n\r\n        this._options = options;\r\n\r\n        //#region Content\r\n        let content = \"\";\r\n        if (options.content == null && text == null) options.content = \"<div></div>\";\r\n        if (options.content != null)\r\n            content = options.content;\r\n        else if (text != null)\r\n            content = text;\r\n        //#endregion\r\n\r\n        //#region Text align\r\n        let textAlign = \"\";\r\n        switch (options.textAlign)\r\n        {\r\n            case TextAlignEnum.Left: textAlign = \"text-align: left;\"; break;\r\n            case TextAlignEnum.Center: textAlign = \"text-align: center;\"; break;\r\n            case TextAlignEnum.Right: textAlign = \"text-align: right;\"; break;\r\n        }\r\n        //#endregion\r\n\r\n        this._window = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                closeable: false,\r\n                title: options.title,\r\n                width: options.width,\r\n                height: options.height,\r\n                content: \"<div class='contentContainer'>\" + content + \"</div>\",\r\n                cssContainer: \"height: auto !important;\",\r\n                css: \"height: auto !important;\" + textAlign,\r\n                footer:\r\n                    [\r\n                        { type: WindowFooterItemTypeEnum.Custom, text: options.textCancelButton, value: \"close\", cssContainer: \"width: Calc(50% - 5px);\", css: \"width: 100%;\", onClick: () => this.close() },\r\n                        { type: WindowFooterItemTypeEnum.Custom, text: options.textOkButton, value: \"ok\", cssContainer: \"width: Calc(50% - 5px);\", css: \"width: 100%;\", mode: ButtonModeEnum.Primary }\r\n                    ],\r\n                onContentLoaded: (e) => this.onContentLoaded(puma(e.sender.element()).find(\".contentContainer\")[0])\r\n            });\r\n\r\n        if (options.cssContainer != null)\r\n            this._window.container().style.cssText += options.cssContainer + \";\";\r\n\r\n        if (options.css != null)\r\n            this._window.element().style.cssText += options.css + \";\";\r\n\r\n        puma(this._window.element()).addClass(\"vrConfirm\");\r\n        puma(this._window.container()).addClass(\"vrConfirmContainer\");\r\n        window.setTimeout(() => puma(this._window.footerItem<Button>(\"ok\")!.element()).focus());\r\n    }\r\n\r\n    open(): Promise<any>\r\n    {\r\n        let promise = new Promise((okCallback?: Function, cancelCallback?: Function) =>\r\n        {\r\n            this._window.open(\r\n                [\r\n                    {\r\n                        value: \"ok\", callback: () => \r\n                        {\r\n                            if (okCallback != null)\r\n                                okCallback();\r\n\r\n                            this.close();\r\n                        }\r\n                    },\r\n                    {\r\n                        value: \"close\", callback: () => \r\n                        {\r\n                            if (cancelCallback != null)\r\n                                cancelCallback();\r\n\r\n                            console.log();\r\n                        }\r\n                    }\r\n                ]\r\n            )\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    close(): void\r\n    {\r\n        this._window.close();\r\n        puma(this._window.container()).remove();\r\n        puma(this._window.background()).remove();\r\n    }\r\n\r\n    private getOptions(): ConfirmOptions\r\n    {\r\n        return this._options;\r\n    }\r\n\r\n    private onContentLoaded(contentElement: HTMLElement): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.onContentLoaded != null)\r\n        {\r\n            let contentLoadedEvent = new ContentConfirmLoadedEvent();\r\n            contentLoadedEvent.sender = this;\r\n            contentLoadedEvent.contentElement = contentElement;\r\n            options.onContentLoaded(contentLoadedEvent);\r\n        }\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass ContentConfirmLoadedEvent extends VrControlsEvent\r\n{\r\n    sender: Confirm;\r\n    contentElement: HTMLElement;\r\n}\r\n//#endregion","import { createWindow, ButtonModeEnum, WindowFooterItemTypeEnum, TextAlignEnum, puma } from \"../vr\";\r\nimport { Window } from \"./window\";\r\nimport { VrControlsEvent } from \"../common\";\r\nimport { Button } from \"./button\";\r\n\r\n//#region Options\r\nexport class AlertOptions\r\n{\r\n    textOkButton?: string;\r\n    content?: string;\r\n    title?: string;\r\n    width?: number | string;\r\n    height?: number | string;\r\n    textAlign?: TextAlignEnum;\r\n    css?: string;\r\n    cssContainer?: string;\r\n\r\n    onContentLoaded?(e: ContentAlertLoadedEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Alert\r\n{\r\n    private _window: Window;\r\n    private _options: AlertOptions;\r\n\r\n    constructor(text?: string | null, options?: AlertOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new AlertOptions();\r\n\r\n        if (options.textOkButton == null) options.textOkButton = \"Ok\";\r\n        if (options.width == null) options.width = 300;\r\n        if (options.height == null) options.height = 120;\r\n        if (options.textAlign == null) options.textAlign = TextAlignEnum.Center;\r\n        //#endregion\r\n\r\n        this._options = options;\r\n\r\n        //#region Content\r\n        let content = \"\";\r\n        if (options.content == null && text == null) options.content = \"<div></div>\";\r\n        if (options.content != null)\r\n            content = options.content;\r\n        else if (text != null)\r\n            content = text;\r\n        //#endregion\r\n\r\n        //#region Text align\r\n        let textAlign = \"\";\r\n        switch (options.textAlign)\r\n        {\r\n            case TextAlignEnum.Left: textAlign = \"text-align: left;\"; break;\r\n            case TextAlignEnum.Center: textAlign = \"text-align: center;\"; break;\r\n            case TextAlignEnum.Right: textAlign = \"text-align: right;\"; break;\r\n        }\r\n        //#endregion\r\n\r\n        this._window = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                closeable: false,\r\n                title: options.title,\r\n                width: options.width,\r\n                height: options.height,\r\n                content: \"<div class='contentContainer'>\" + content + \"</div>\",\r\n                cssContainer: \"height: auto !important;\",\r\n                css: \"height: auto !important;\" + textAlign,\r\n                footer:\r\n                    [\r\n                        { type: WindowFooterItemTypeEnum.Ok, text: options.textOkButton, value: \"ok\", cssContainer: \"width: 100%;\", css: \"width: 100%;\", mode: ButtonModeEnum.Primary, onClick: () => this.close() }\r\n                    ],\r\n                onContentLoaded: (e) => this.onContentLoaded(puma(e.sender.element()).find(\".contentContainer\")[0])\r\n            });\r\n\r\n        if (options.cssContainer != null)\r\n            this._window.container().style.cssText += options.cssContainer + \";\";\r\n\r\n        if (options.css != null)\r\n            this._window.element().style.cssText += options.css + \";\";\r\n\r\n        puma(this._window.element()).addClass(\"vrAlert\");\r\n        puma(this._window.container()).addClass(\"vrAlertContainer\");\r\n        window.setTimeout(() => puma(this._window.footerItem<Button>(\"ok\")!.element()).focus());\r\n    }\r\n\r\n    open(): Promise<any>\r\n    {\r\n        let promise = new Promise((okCallback?: Function) =>\r\n        {\r\n            this._window.open(\r\n                [\r\n                    {\r\n                        value: \"ok\", callback: () => \r\n                        {\r\n                            if (okCallback != null)\r\n                                okCallback();\r\n                        }\r\n                    }\r\n                ]\r\n            )\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    close(): void\r\n    {\r\n        this._window.close();\r\n        puma(this._window.container()).remove();\r\n        puma(this._window.background()).remove();\r\n    }\r\n\r\n    private getOptions(): AlertOptions\r\n    {\r\n        return this._options;\r\n    }\r\n\r\n    private onContentLoaded(contentElement: HTMLElement): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.onContentLoaded != null)\r\n        {\r\n            let contentLoadedEvent = new ContentAlertLoadedEvent();\r\n            contentLoadedEvent.sender = this;\r\n            contentLoadedEvent.contentElement = contentElement;\r\n            options.onContentLoaded(contentLoadedEvent);\r\n        }\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass ContentAlertLoadedEvent extends VrControlsEvent\r\n{\r\n    sender: Alert;\r\n    contentElement: HTMLElement;\r\n}\r\n//#endregion","import { createWindow, TextAlignEnum, puma } from \"../vr\";\r\nimport { Window, WindowFooterItem } from \"./window\";\r\nimport { VrControlsEvent } from \"../common\";\r\n\r\n//#region Options\r\nexport class DialogOptions\r\n{\r\n    content?: string;\r\n    title?: string;\r\n    width?: number;\r\n    height?: number;\r\n    textAlign?: TextAlignEnum;\r\n    footerItems?: WindowFooterItem[];\r\n    css?: string;\r\n    cssContainer?: string;\r\n    hideCloseIcon?: boolean;\r\n\r\n    onContentLoaded?(e: ContentDialogLoadedEvent): void;\r\n    onClose?: () => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Dialog\r\n{\r\n    private _window: Window;\r\n    private _options: DialogOptions;\r\n\r\n    constructor(text?: string | null, options?: DialogOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new DialogOptions();\r\n\r\n        if (options.width == null) options.width = 300;\r\n        if (options.height == null) options.height = 120;\r\n        if (options.textAlign == null) options.textAlign = TextAlignEnum.Center;\r\n        //#endregion\r\n\r\n        this._options = options;\r\n\r\n        //#region Content\r\n        let content = \"\";\r\n        if (options.content == null && text == null) options.content = \"<div></div>\";\r\n        if (options.content != null)\r\n            content = options.content;\r\n        else if (text != null)\r\n            content = text;\r\n        //#endregion\r\n\r\n        //#region Text align\r\n        let textAlign = \"\";\r\n        switch (options.textAlign)\r\n        {\r\n            case TextAlignEnum.Left: textAlign = \"text-align: left;\"; break;\r\n            case TextAlignEnum.Center: textAlign = \"text-align: center;\"; break;\r\n            case TextAlignEnum.Right: textAlign = \"text-align: right;\"; break;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Footer items\r\n        if (options.footerItems != null)\r\n        {\r\n            let totalWidth = options.footerItems.filter(k => k.width != null).map(k => k.width).vrSum();\r\n            let noWidthItems = options.footerItems.filter(k => k.width == null);\r\n            let widthItems = options.footerItems.filter(k => k.width != null);\r\n\r\n            let footerAvailableWidth = (options.width - 10 - (widthItems.length * 5)) - totalWidth;\r\n            let singleItemWidth = footerAvailableWidth / options.footerItems.length - 5;\r\n            if (noWidthItems.length > 0)\r\n                singleItemWidth = footerAvailableWidth / noWidthItems.length - 5;\r\n\r\n            for (let footerItem of options.footerItems)\r\n            {\r\n                if (footerItem.width == null)\r\n                    footerItem.width = singleItemWidth;\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        this._window = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                closeable: false,\r\n                hideCloseIcon: options.hideCloseIcon,\r\n                title: options.title,\r\n                width: options.width,\r\n                height: options.height,\r\n                content: \"<div class='contentContainer'>\" + content + \"</div>\",\r\n                cssContainer: \"height: auto !important;\",\r\n                css: \"height: auto !important;\" + textAlign,\r\n                footer: options.footerItems,\r\n                onContentLoaded: (e) => this.onContentLoaded(puma(e.sender.element()).find(\".contentContainer\")[0]),\r\n                onClose: () =>\r\n                {\r\n                    if (options!.onClose != null)\r\n                        options!.onClose();\r\n                }\r\n            });\r\n\r\n        if (options.cssContainer != null)\r\n            this._window.container().style.cssText += options.cssContainer + \";\";\r\n\r\n        if (options.css != null)\r\n            this._window.element().style.cssText += options.css + \";\";\r\n\r\n        puma(this._window.element()).addClass(\"vrDialog\");\r\n        puma(this._window.container()).addClass(\"vrDialogContainer\");\r\n    }\r\n\r\n    open(): void\r\n    {\r\n        this._window.open();\r\n    }\r\n\r\n    close(): void\r\n    {\r\n        this._window.close();\r\n        puma(this._window.container()).remove();\r\n        puma(this._window.background()).remove();\r\n    }\r\n\r\n    private getOptions(): DialogOptions\r\n    {\r\n        return this._options;\r\n    }\r\n\r\n    private onContentLoaded(contentElement: HTMLElement): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.onContentLoaded != null)\r\n        {\r\n            let contentLoadedEvent = new ContentDialogLoadedEvent();\r\n            contentLoadedEvent.sender = this;\r\n            contentLoadedEvent.contentElement = contentElement;\r\n            options.onContentLoaded(contentLoadedEvent);\r\n        }\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass ContentDialogLoadedEvent extends VrControlsEvent\r\n{\r\n    sender: Dialog;\r\n    contentElement: HTMLElement;\r\n}\r\n//#endregion","import { createWindow, ButtonModeEnum, WindowFooterItemTypeEnum, createTextBox, puma } from \"../vr\";\r\nimport { Window } from \"./window\";\r\nimport { VrControlsEvent } from \"../common\";\r\nimport { TextBox } from \"./textbox\";\r\nimport { Button } from \"./button\";\r\n\r\n//#region Options\r\nexport class PromptOptions\r\n{\r\n    textOkButton?: string;\r\n    textCancelButton?: string;\r\n    content?: string;\r\n    title?: string;\r\n    defaultValue?: string;\r\n    placeHolder?: string;\r\n    width?: number | string;\r\n    height?: number | string;\r\n    css?: string;\r\n    cssContainer?: string;\r\n\r\n    onContentLoaded?(e: ContentPromptLoadedEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Prompt\r\n{\r\n    private _window: Window;\r\n    private _options: PromptOptions;\r\n    private _textBox: TextBox;\r\n\r\n    constructor(text?: string | null, options?: PromptOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new PromptOptions();\r\n\r\n        if (options.textOkButton == null) options.textOkButton = \"Conferma\";\r\n        if (options.textCancelButton == null) options.textCancelButton = \"Annulla\";\r\n        if (options.width == null) options.width = 300;\r\n        if (options.height == null) options.height = 120;\r\n        //#endregion\r\n\r\n        this._options = options;\r\n\r\n        //#region Content\r\n        let content = \"\";\r\n        if (options.content == null && text == null) options.content = \"<div></div>\";\r\n        if (options.content != null)\r\n            content = options.content;\r\n        else if (text != null)\r\n            content = text;\r\n        //#endregion\r\n\r\n        this._window = createWindow(\r\n            {\r\n                addToControlList: false,\r\n                closeable: false,\r\n                title: options.title,\r\n                width: options.width,\r\n                height: options.height,\r\n                content: \"<div class='contentContainer'>\" + content + \"</div>\",\r\n                cssContainer: \"height: auto !important;\",\r\n                css: \"height: auto !important;\",\r\n                footer:\r\n                    [\r\n                        { type: WindowFooterItemTypeEnum.Custom, text: options.textCancelButton, value: \"close\", cssContainer: \"width: Calc(50% - 5px);\", css: \"width: 100%;\", onClick: () => this.close() },\r\n                        { type: WindowFooterItemTypeEnum.Custom, text: options.textOkButton, value: \"ok\", cssContainer: \"width: Calc(50% - 5px);\", css: \"width: 100%;\", mode: ButtonModeEnum.Primary }\r\n                    ],\r\n                onContentLoaded: (e) => \r\n                {\r\n                    let contentContainer = puma(e.sender.element()).find(\".contentContainer\")[0];\r\n                    this._textBox = createTextBox(\r\n                        {\r\n                            width: \"100%\",\r\n                            cssContainer: \"margin-top: 5px;\",\r\n                            value: options!.defaultValue,\r\n                            placeholder: options!.placeHolder\r\n                        }, contentContainer);\r\n                    this._textBox.focus();\r\n                    this.onContentLoaded(contentContainer);\r\n                }\r\n            });\r\n\r\n        if (options.cssContainer != null)\r\n            this._window.container().style.cssText += options.cssContainer + \";\";\r\n\r\n        if (options.css != null)\r\n            this._window.element().style.cssText += options.css + \";\";\r\n\r\n        puma(this._window.element()).addClass(\"vrPrompt\");\r\n        puma(this._window.container()).addClass(\"vrPromptContainer\");\r\n        window.setTimeout(() => puma(this._window.footerItem<Button>(\"ok\")!.element()).focus());\r\n    }\r\n\r\n    open(): Promise<any>\r\n    {\r\n        let promise = new Promise((okCallback?: (value: string) => void, cancelCallback?: Function) =>\r\n        {\r\n            this._window.open(\r\n                [\r\n                    {\r\n                        value: \"ok\", callback: () => \r\n                        {\r\n                            if (okCallback != null)\r\n                                okCallback(this._textBox.value());\r\n\r\n                            this.close();\r\n                        }\r\n                    },\r\n                    {\r\n                        value: \"close\", callback: () => \r\n                        {\r\n                            if (cancelCallback != null)\r\n                                cancelCallback();\r\n\r\n                            console.log();\r\n                        }\r\n                    }\r\n                ]\r\n            );\r\n            this._textBox.focus();\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    close(): void\r\n    {\r\n        this._window.close();\r\n        puma(this._window.container()).remove();\r\n        puma(this._window.background()).remove();\r\n    }\r\n\r\n    private getOptions(): PromptOptions\r\n    {\r\n        return this._options;\r\n    }\r\n\r\n    private onContentLoaded(contentElement: HTMLElement): void\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.onContentLoaded != null)\r\n        {\r\n            let contentLoadedEvent = new ContentPromptLoadedEvent();\r\n            contentLoadedEvent.sender = this;\r\n            contentLoadedEvent.contentElement = contentElement;\r\n            options.onContentLoaded(contentLoadedEvent);\r\n        }\r\n    }\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass ContentPromptLoadedEvent extends VrControlsEvent\r\n{\r\n    sender: Prompt;\r\n    contentElement: HTMLElement;\r\n}\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, puma, SwitchLabelSettings, SwitchLabelSettingsOnClickEvent } from \"../vr\";\r\n\r\n//#region Options\r\nexport class SwitchOptions extends VrControlOptions\r\n{\r\n    labelOff?: string | SwitchLabelSettings;\r\n    labelOn?: string | SwitchLabelSettings;\r\n    checked?: boolean;\r\n\r\n    onChange?(e: SwitchChangeEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Switch extends VrControl\r\n{\r\n    constructor(element: HTMLElement, options?: SwitchOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new SwitchOptions();\r\n\r\n        if (options.labelOff == null) options.labelOff = \"\";\r\n        if (typeof (options.labelOff) == \"string\")\r\n        {\r\n            let labelOffText = options.labelOff;\r\n            options.labelOff = new SwitchLabelSettings();\r\n            options.labelOff.text = labelOffText;\r\n        }\r\n\r\n        if (options.labelOn == null) options.labelOn = \"\";\r\n        if (typeof (options.labelOn) == \"string\")\r\n        {\r\n            let labelOnText = options.labelOn;\r\n            options.labelOn = new SwitchLabelSettings();\r\n            options.labelOn.text = labelOnText;\r\n        }\r\n\r\n        if (options.checked == null) options.checked = false;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Switch);\r\n\r\n        //#region Label off\r\n        let colorOff = (options.labelOff.color != null) ? \"color: \" + options.labelOff.color + \";\" : \"\";\r\n        let boldOff = (options.labelOff.bold) ? \"font-weight: 600;\" : \"\";\r\n\r\n        let labelOff = puma(\"<label title='\" + options.labelOff.tooltip + \"'\"\r\n            + \" style='\" + colorOff + boldOff + options.labelOff.css + \";'\"\r\n            + \" class='vrSwitchLabelOff'>\"\r\n            + options.labelOff.text\r\n            + \"</label>\").vrAppendToPuma(this.element());\r\n\r\n        labelOff.click((e: any) => \r\n        {\r\n            if ((options!.labelOff as SwitchLabelSettings).onClick != null)\r\n            {\r\n                let event = new SwitchLabelSettingsOnClickEvent();\r\n                event.sender = this;\r\n                event.checked = this.checked();\r\n                (options!.labelOff as SwitchLabelSettings)!.onClick!(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (this.enabled())\r\n                this.checked(false);\r\n        });\r\n        //#endregion\r\n\r\n        //#region Switch slider\r\n        let checkedProperty = (options.checked) ? \"checked='checked'\" : \"\";\r\n        puma(\"<label class='vrSwitchLabel'><input type='checkbox' \" + checkedProperty + \" class='vrSwitchInput'><span class='vrSwitchSlider'></span></label>\").vrAppendToPuma(this.element());\r\n        puma(this.element()).find(\".vrSwitchInput\").change((e: any) => this.checked(e.target.checked));\r\n        //#endregion\r\n\r\n        //#region Label on\r\n        let colorOn = (options.labelOn.color != null) ? \"color: \" + options.labelOn.color + \";\" : \"\";\r\n        let boldOn = (options.labelOn.bold) ? \"font-weight: 600;\" : \"\";\r\n\r\n        let labelOn = puma(\"<label title='\" + options.labelOn.tooltip + \"'\"\r\n            + \" style='\" + colorOn + boldOn + options.labelOn.css + \";'\"\r\n            + \" class='vrSwitchLabelOn'>\"\r\n            + options.labelOn.text\r\n            + \"</label>\").vrAppendToPuma(this.element());\r\n\r\n        labelOn.click((e: any) => \r\n        {\r\n            if ((options!.labelOn as SwitchLabelSettings).onClick != null)\r\n            {\r\n                let event = new SwitchLabelSettingsOnClickEvent();\r\n                event.sender = this;\r\n                event.checked = this.checked();\r\n                (options!.labelOn as SwitchLabelSettings)!.onClick!(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (this.enabled())\r\n                this.checked(true);\r\n        });\r\n        //#endregion\r\n\r\n        //#region Checked\r\n        this.checked(options.checked, false);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    checked(state?: boolean, triggerChange = true): boolean\r\n    {\r\n        let options = this.getOptions();\r\n        if (state != null)\r\n        {\r\n            //#region Label off/on\r\n            let labelOff = puma(this.element()).find(\".vrSwitchLabelOff\")[0];\r\n            let labelOn = puma(this.element()).find(\".vrSwitchLabelOn\")[0];\r\n            let input = puma(this.element()).find(\".vrSwitchInput\");\r\n            input[0].checked = state;\r\n\r\n            if (state)\r\n            {\r\n                labelOff.style.cssText += \"border-bottom: solid 2px transparent;\";\r\n                labelOn.style.cssText += \"border-bottom: solid 2px #51B3E1;\";\r\n                input.prop(\"checked\", \"checked\");\r\n            }\r\n            else\r\n            {\r\n                labelOff.style.cssText += \"border-bottom: solid 2px #51B3E1;\";\r\n                labelOn.style.cssText += \"border-bottom: solid 2px transparent;\";\r\n                input.removeProp(\"checked\");\r\n            }\r\n            //#endregion\r\n\r\n            //#region Change event\r\n            if (triggerChange)\r\n            {\r\n                if (options.onChange != null)\r\n                {\r\n                    let changeEvent = new SwitchChangeEvent();\r\n                    changeEvent.sender = this;\r\n                    changeEvent.checked = state;\r\n                    window.setTimeout(() => options!.onChange!(changeEvent));\r\n                }\r\n            }\r\n            //#endregion\r\n        }\r\n        return puma(this.element()).find(\".vrSwitchInput\")[0].checked;\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        this.checked(false, triggerChange);\r\n    }\r\n\r\n    labelOff(text?: string): string\r\n    {\r\n        if (text != null)\r\n            puma(this.element()).find(\".vrSwitchLabelOff\").html(text);\r\n\r\n        return puma(this.element()).find(\".vrSwitchLabelOff\").html();\r\n    }\r\n\r\n    labelOn(text?: string): string\r\n    {\r\n        if (text != null)\r\n            puma(this.element()).find(\".vrSwitchLabelOn\").html(text);\r\n\r\n        return puma(this.element()).find(\".vrSwitchLabelOn\").html();\r\n    }\r\n\r\n    getOptions(): SwitchOptions\r\n    {\r\n        return this.options<SwitchOptions>();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Overrides\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        puma(this.element()).find(\".vrSwitchInput\").prop(\"disabled\", false);\r\n        puma(this.element()).find(\".vrSwitchLabelOn\").removeClass(\"vrSwitchLabelDisabled\");\r\n        puma(this.element()).find(\".vrSwitchLabelOff\").removeClass(\"vrSwitchLabelDisabled\");\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        puma(this.element()).find(\".vrSwitchInput\").prop(\"disabled\", true);\r\n        puma(this.element()).find(\".vrSwitchLabelOn\").addClass(\"vrSwitchLabelDisabled\");\r\n        puma(this.element()).find(\".vrSwitchLabelOff\").addClass(\"vrSwitchLabelDisabled\");\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass SwitchEvent extends VrControlsEvent\r\n{\r\n    sender: Switch;\r\n}\r\n\r\nclass SwitchChangeEvent extends SwitchEvent\r\n{\r\n    checked: boolean;\r\n}\r\n//#endregion","import { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, OrientationEnum, createCheckBox, puma } from \"../vr\";\r\nimport { CheckBoxCheckEvent, CheckBox } from \"./checkbox\";\r\n\r\n//#region Options\r\nexport class CheckBoxListOptions extends VrControlOptions\r\n{\r\n    items?: CheckBoxItem[];\r\n    orientation?: OrientationEnum;\r\n    allChecked?: boolean;\r\n    listName?: string;\r\n    marginBetween?: number;\r\n    // Gestione required e validation\r\n    // Single check or multi\r\n\r\n    onBeforeSelect?(e: CheckBoxListSelectEvent): void;\r\n    onSelect?(e: CheckBoxListSelectEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class CheckBoxList extends VrControl\r\n{\r\n    private _checkboxControls: CheckBox[];\r\n    private _items: CheckBoxItem[];\r\n\r\n    constructor(element: HTMLElement, options?: CheckBoxListOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new CheckBoxListOptions();\r\n\r\n        if (options.orientation == null) options.orientation = OrientationEnum.Horizontal;\r\n        if (options.items == null) options.items = [];\r\n        if (options.listName == null) options.listName = element.id + \"_CheckboxListName\";\r\n        if (options.marginBetween == null) options.marginBetween = 10;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.CheckBoxList);\r\n        this._checkboxControls = [];\r\n\r\n        this.items(options.items);\r\n    }\r\n\r\n    //#region Methos\r\n    items(items?: CheckBoxItem[]): CheckBoxItem[]\r\n    {\r\n        let options = this.getOptions();\r\n        if (items != null)\r\n        {\r\n            this._items = items;\r\n            let i = 0;\r\n            for (let item of items)\r\n            {\r\n                let checkBox = createCheckBox(\r\n                    {\r\n                        text: item.text,\r\n                        value: (item.value == null) ? item.text : String(item.value),\r\n                        name: options.listName,\r\n                        checked: (options.allChecked) ? true : item.checked,\r\n                        tag: item.tag,\r\n                        cssContainer: (options.orientation == OrientationEnum.Horizontal && i > 0) ? \"margin-left: \" + options.marginBetween + \"px;\" : ((options.orientation == OrientationEnum.Vertical) ? \"width: 100%\" : \"\"),\r\n                        onCheck: (e) => \r\n                        {\r\n                            if (options!.onBeforeSelect != null)\r\n                            {\r\n                                let selectEvent = new CheckBoxListSelectEvent();\r\n                                selectEvent.sender = this;\r\n                                selectEvent.value = String(item.value);\r\n                                selectEvent.checked = e.checked;\r\n                                selectEvent.checkedValues = this.value();\r\n                                options!.onBeforeSelect(selectEvent);\r\n\r\n                                if (selectEvent.isDefaultPrevented())\r\n                                    return;\r\n                            }\r\n\r\n                            if (item.onCheck != null)\r\n                                item.onCheck(e);\r\n\r\n                            if (options!.onSelect != null)\r\n                            {\r\n                                let selectEvent = new CheckBoxListSelectEvent();\r\n                                selectEvent.sender = this;\r\n                                selectEvent.value = String(item.value);\r\n                                selectEvent.checked = e.checked;\r\n                                selectEvent.checkedValues = this.value();\r\n                                options!.onSelect(selectEvent);\r\n                            }\r\n                        }\r\n                    }, this.element());\r\n\r\n                this._checkboxControls.push(checkBox);\r\n                i++;\r\n            }\r\n        }\r\n        return this._items;\r\n    }\r\n\r\n    checkAll(triggerChange = false): void\r\n    {\r\n        for (let checkbox of this._checkboxControls)\r\n            checkbox.checked(true, triggerChange);\r\n    }\r\n\r\n    unCheckAll(triggerChange = false): void\r\n    {\r\n        for (let checkbox of this._checkboxControls)\r\n            checkbox.checked(false, triggerChange);\r\n    }\r\n\r\n    value(values?: string[], state = true, triggerChange = true): string[]\r\n    {\r\n        if (values != null)\r\n        {\r\n            for (let value of values)\r\n            {\r\n                let checkbox = this._checkboxControls.filter(k => puma(k.element()).attr(\"value\") == value)[0];\r\n                if (checkbox != null)\r\n                    checkbox.checked(state, triggerChange);\r\n            }\r\n        }\r\n        return this._checkboxControls.filter(k => k.checked()).map(k => puma(k.element()).attr(\"value\"));\r\n    }\r\n\r\n    valueTag(tagList?: any[], state = true, triggerChange = true)\r\n    {\r\n        if (tagList != null)\r\n        {\r\n            for (let tag of tagList)\r\n            {\r\n                let checkbox = this._checkboxControls.filter(k => UtilityManager.equals(k.tag(), tag))[0];\r\n                if (checkbox != null)\r\n                    checkbox.checked(state, triggerChange);\r\n            }\r\n        }\r\n        return this._checkboxControls.filter(k => k.checked()).map(k => k.tag());\r\n    }\r\n\r\n    isChecked(value: string): boolean\r\n    {\r\n        let checkBox = this._checkboxControls.filter(k => puma(k.element()).attr(\"value\") == value)[0];\r\n        if (checkBox != null)\r\n            return checkBox.checked();\r\n\r\n        return false;\r\n    }\r\n\r\n    text(value: string, text?: string): string\r\n    {\r\n        let checkBox = this._checkboxControls.filter(k => puma(k.element()).attr(\"value\") == value)[0];\r\n        if (checkBox != null)\r\n            return checkBox.text(text);\r\n\r\n        return \"\";\r\n    }\r\n\r\n    clear(checkAll = false, triggerChange = false): void\r\n    {\r\n        if (checkAll)\r\n            this.checkAll(triggerChange);\r\n        else\r\n            this.unCheckAll(triggerChange);\r\n    }\r\n\r\n    clearItems()\r\n    {\r\n        this._checkboxControls = [];\r\n        puma(this.element()).empty();\r\n    }\r\n\r\n    getOptions(): CheckBoxListOptions\r\n    {\r\n        return this.options<CheckBoxListOptions>();\r\n    }\r\n\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        for (let checkbox of this._checkboxControls)\r\n            checkbox.enable();\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        for (let checkbox of this._checkboxControls)\r\n            checkbox.disable();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass CheckBoxItem\r\n{\r\n    text?: string;\r\n    value?: string | number;\r\n    checked?: boolean;\r\n    threeState?: boolean;\r\n    tag?: any;\r\n\r\n    onCheck?: (e: CheckBoxCheckEvent) => void;\r\n}\r\n\r\nclass CheckBoxListSelectEvent extends VrControlsEvent\r\n{\r\n    sender: CheckBoxList;\r\n    checkedValues?: string[];\r\n    value?: string;\r\n    checked?: boolean;\r\n}\r\n//#endregion","import { VrControlOptions, VrControl } from \"../common\";\r\nimport { ControlTypeEnum, puma } from \"../vr\";\r\n\r\n//#region Options\r\nexport class RadioButtonOptions extends VrControlOptions\r\n{\r\n    text?: string;\r\n    value?: string;\r\n    checked?: boolean;\r\n    name?: string;\r\n\r\n    onCheck?(e: RadioButtonCheckEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class RadioButton extends VrControl\r\n{\r\n    constructor(element: HTMLElement, options?: RadioButtonOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new RadioButtonOptions();\r\n\r\n        if (options.text == null) options.text = \"\";\r\n        if (options.checked == null) options.checked = false;\r\n        //#endregion\r\n\r\n        puma(element).attr(\"type\", \"radio\");\r\n        super(element, options, ControlTypeEnum.RadioButton);\r\n\r\n        //#region Value & Name\r\n        if (options.value == null) options.value = options.text;\r\n        if (options.value != null)\r\n            puma(this.element()).attr(\"value\", options.value);\r\n\r\n        if (options.name != null)\r\n            puma(this.element()).attr(\"name\", options.name);\r\n        //#endregion\r\n\r\n        //#region Structure\r\n        let labelContainer = puma(\"<label class='vrRadioButtonLabelContainer'></label>\").vrAppendToPuma(this.container());\r\n        puma(this.element()).vrAppendToPuma(labelContainer);\r\n        puma(\"<span class='vrRadioButtonCheckMark'></span>\").vrAppendToPuma(labelContainer);\r\n        let lblRadioButton = puma(\"<label class='vrRadioButtonLabel'>\" + options.text + \"</label>\").vrAppendToPuma(this.container());\r\n        //#endregion\r\n\r\n        //#region Checked\r\n        if (options.checked === true)\r\n            this.checked(true, false);\r\n        //#endregion\r\n\r\n        //#region Events\r\n        puma(this.element()).on(\"click\", (e: JQuery.ClickEvent) =>\r\n        {\r\n            let radioButton = e.currentTarget as HTMLInputElement;\r\n            let checked = radioButton.checked;\r\n            this.checked(checked);\r\n        });\r\n\r\n        puma(lblRadioButton).on(\"click\", (e: JQuery.ClickEvent) =>\r\n        {\r\n            let lblRadioButtonContainer = puma(lblRadioButton).prev();\r\n            let input = lblRadioButtonContainer.find(\"input\")[0];\r\n            if (!input.checked)\r\n                input.checked = true;\r\n\r\n            let checked = input.checked;\r\n            this.checked(checked);\r\n        });\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    checked(state?: boolean, triggerChange = true): boolean\r\n    {\r\n        if (state != null)\r\n        {\r\n            (this.element() as HTMLInputElement).checked = state;\r\n\r\n            if (triggerChange)\r\n            {\r\n                let options = this.getOptions();\r\n                if (options!.onCheck != null)\r\n                {\r\n                    let event = new RadioButtonCheckEvent();\r\n                    event.sender = this;\r\n                    event.checked = state;\r\n                    options!.onCheck(event);\r\n                }\r\n            }\r\n        }\r\n        return (this.element() as HTMLInputElement).checked;\r\n    }\r\n\r\n    text(text?: string): string\r\n    {\r\n        if (text != null)\r\n            puma(this.container()).find(\".vrRadioButtonLabel\").html(text);\r\n\r\n        return puma(this.container()).find(\".vrRadioButtonLabel\").html();\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        this.checked(false, triggerChange);\r\n    }\r\n\r\n    getOptions(): RadioButtonOptions\r\n    {\r\n        return this.options<RadioButtonOptions>();\r\n    }\r\n\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        puma(this.container()).removeClass(\"vrRadioButtonListDisabled\");\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        puma(this.container()).addClass(\"vrRadioButtonListDisabled\");\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Events\r\nclass RadioButtonEvent\r\n{\r\n    sender: RadioButton;\r\n}\r\n\r\nexport class RadioButtonCheckEvent extends RadioButtonEvent\r\n{\r\n    checked: boolean;\r\n}\r\n//#endregion","import { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, OrientationEnum, createRadioButton, puma } from \"../vr\";\r\nimport { RadioButtonCheckEvent, RadioButton } from \"./radioButton\";\r\n\r\n//#region Options\r\nexport class RadioButtonListOptions extends VrControlOptions\r\n{\r\n    items?: RadioButtonItem[];\r\n    orientation?: OrientationEnum;\r\n    listName?: string;\r\n    // Gestione validation\r\n\r\n    onBeforeSelect?(e: RadioButtonListSelectEvent): void;\r\n    onSelect?(e: RadioButtonListSelectEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class RadioButtonList extends VrControl\r\n{\r\n    private _radioControls: RadioButton[];\r\n    private _items: RadioButtonItem[];\r\n\r\n    constructor(element: HTMLElement, options?: RadioButtonListOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new RadioButtonListOptions();\r\n\r\n        if (options.orientation == null) options.orientation = OrientationEnum.Horizontal;\r\n        if (options.items == null) options.items = [];\r\n        if (options.listName == null) options.listName = element.id + \"_RadioButtonListName\";\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.RadioButtonList);\r\n        this._radioControls = [];\r\n\r\n        this.items(options.items);\r\n        if (this.value() == \"\")\r\n            this.clear();\r\n    }\r\n\r\n    //#region Methods\r\n    items(items?: RadioButtonItem[]): RadioButtonItem[]\r\n    {\r\n        let options = this.getOptions();\r\n        if (items != null)\r\n        {\r\n            this._items = items;\r\n            let i = 0;\r\n            for (let item of items)\r\n            {\r\n                let radioButton = createRadioButton(\r\n                    {\r\n                        text: item.text,\r\n                        value: (item.value == null) ? item.text : String(item.value),\r\n                        name: options.listName,\r\n                        checked: item.checked,\r\n                        tag: item.tag,\r\n                        cssContainer: (options.orientation == OrientationEnum.Horizontal && i > 0) ? \"margin-left: 10px;\" : ((options.orientation == OrientationEnum.Vertical) ? \"width: 100%\" : \"\"),\r\n                        onCheck: (e) => \r\n                        {\r\n                            if (options!.onBeforeSelect != null)\r\n                            {\r\n                                let selectEvent = new RadioButtonListSelectEvent();\r\n                                selectEvent.sender = this;\r\n                                selectEvent.value = String(item.value);\r\n                                options!.onBeforeSelect(selectEvent);\r\n\r\n                                if (selectEvent.isDefaultPrevented())\r\n                                    return;\r\n                            }\r\n\r\n                            if (item.onCheck != null)\r\n                                item.onCheck(e);\r\n\r\n                            if (options!.onSelect != null)\r\n                            {\r\n                                let selectEvent = new RadioButtonListSelectEvent();\r\n                                selectEvent.sender = this;\r\n                                selectEvent.value = String(item.value);\r\n                                options!.onSelect(selectEvent);\r\n                            }\r\n                        }\r\n                    }, this.element());\r\n\r\n                this._radioControls.push(radioButton);\r\n                i++;\r\n            }\r\n        }\r\n        return this._items;\r\n    }\r\n\r\n    value(value?: string | number, triggerChange = true): string\r\n    {\r\n        if (value != null)\r\n        {\r\n            let radioButton = this._radioControls.filter(k => puma(k.element()).attr(\"value\") == String(value))[0];\r\n            if (radioButton != null)\r\n                radioButton.checked(true, triggerChange);\r\n        }\r\n\r\n        let checkedRadio = this._radioControls.filter(k => k.checked())[0];\r\n        if (checkedRadio != null)\r\n            return puma(checkedRadio.element()).attr(\"value\");\r\n        else\r\n            return \"\";\r\n    }\r\n\r\n    valueTag(tag?: any, triggerChange = true)\r\n    {\r\n        if (tag != null)\r\n        {\r\n            let radioButton = this._radioControls.filter(k => UtilityManager.equals(k.tag(), tag))[0];\r\n            if (radioButton != null)\r\n                radioButton.checked(true, triggerChange);\r\n        }\r\n\r\n        let checkedRadio = this._radioControls.filter(k => k.checked())[0];\r\n        if (checkedRadio != null)\r\n            return checkedRadio.tag();\r\n        else\r\n            return \"\";\r\n    }\r\n\r\n    text(value: string, text?: string): string\r\n    {\r\n        let radioButton = this._radioControls.filter(k => puma(k.element()).attr(\"value\") == value)[0];\r\n        if (radioButton != null)\r\n            return radioButton.text(text);\r\n\r\n        return \"\";\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        for (let radioButton of this._radioControls)\r\n            radioButton.checked(false, triggerChange);\r\n    }\r\n\r\n    clearItems()\r\n    {\r\n        this._radioControls = [];\r\n        puma(this.element()).empty();\r\n    }\r\n\r\n    getOptions(): RadioButtonListOptions\r\n    {\r\n        return this.options<RadioButtonListOptions>();\r\n    }\r\n\r\n    enable(): void\r\n    {\r\n        super.enable();\r\n        for (let radio of this._radioControls)\r\n            radio.enable();\r\n    }\r\n\r\n    disable(): void\r\n    {\r\n        super.disable();\r\n        for (let radio of this._radioControls)\r\n            radio.disable();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass RadioButtonItem\r\n{\r\n    text?: string;\r\n    value?: string | number;\r\n    checked?: boolean;\r\n    tag?: any;\r\n\r\n    onCheck?: (e: RadioButtonCheckEvent) => void;\r\n}\r\n\r\nclass RadioButtonListSelectEvent extends VrControlsEvent\r\n{\r\n    sender: RadioButtonList;\r\n    value?: string;\r\n}\r\n//#endregion","import { VrControlOptions, VrControl } from \"../common\";\r\nimport { ControlTypeEnum, GridToolbarItem, GridHeightModeEnum, GridCheckboxModeEnum, GridModeEnum, createGrid, GridColumnTypeEnum, puma, GridAlignEnum, createLabel, TextAlignEnum, GridSortDirectionEnum, GridGroupBySettings, ControlPositionEnum, GridGroupByItem, GridSortSettings } from \"../vr\";\r\nimport { GridRebindRequest, GridFooterSettings, GridOnDataBoundEvent, GridOnRowDataBoundEvent, GridSelectRowEvent, GridSelectAllRowsEvent, GridUnselectRowEvent, GridUnselectAllRowsEvent, GridTemplateEvent, GridCustomSettings, Grid, GridFilterSettings, GridRow } from \"./grid\";\r\nimport { Button } from \"./button\";\r\nimport { SplitButton } from \"./splitButton\";\r\nimport { Switch } from \"./switch\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\n\r\n//#region Options\r\nexport class RepeaterOptions extends VrControlOptions\r\n{\r\n    toolbar?: GridToolbarItem[];\r\n    height?: string | number | GridHeightModeEnum;\r\n    dataSource?: any[];\r\n    rebind?: GridRebindRequest;\r\n    checkboxes?: boolean | GridCheckboxModeEnum;\r\n    dataSourceFieldId?: string;\r\n    rowHeight?: number;\r\n    hideEditButton?: boolean;\r\n    mode?: GridModeEnum;\r\n    filterable?: boolean;\r\n    pageSize?: number | boolean;\r\n    largePageSize?: boolean;\r\n    footer?: boolean | GridFooterSettings;\r\n    padding?: number | PaddingSettings;\r\n    alternateRowColors?: boolean | string;\r\n    hoverRowColor?: boolean;\r\n    customFilterProperties?: string[];\r\n    emptyMessage?: string;\r\n    groupBy?: string[] | GridGroupBySettings | null;\r\n    title?: string | boolean;\r\n    groupable?: boolean;\r\n\r\n    template?: (templateEvent: GridTemplateEvent) => string;\r\n    onDataSourceChanged?: () => void;\r\n    onDataBound?: (e: GridOnDataBoundEvent) => void;\r\n    onRowDataBound?: (e: RepeaterOnRowDataBoundEvent) => void | string;\r\n    onSelectRow?: (e: GridSelectRowEvent) => void;\r\n    onSelectAllRows?: (e: GridSelectAllRowsEvent) => void;\r\n    onUnselectRow?: (e: GridUnselectRowEvent) => void;\r\n    onUnselectAllRows?: (e: GridUnselectAllRowsEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Repeater extends VrControl\r\n{\r\n    private _grid: Grid;\r\n\r\n    constructor(element: HTMLElement, options?: RepeaterOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new RepeaterOptions();\r\n\r\n        options.hideEditButton = true;\r\n        if (options.pageSize == null) options.pageSize = false;\r\n        if (options.alternateRowColors == null) options.alternateRowColors = true;\r\n\r\n        if (options.footer == null || options.footer === true) options.footer = new GridFooterSettings();\r\n        if (options.footer !== false)\r\n        {\r\n            if (options.footer.showPagination == null) options.footer.showPagination = true;\r\n            if (options.footer.showSettings == null) options.footer.showSettings = false;\r\n            if (options.pageSize === false) options.pageSize = 50;\r\n        }\r\n\r\n        if (options.padding == null) options.padding = 10;\r\n        if (typeof (options.padding) != \"number\")\r\n        {\r\n            if (options.padding.left == null) options.padding.left = 10;\r\n            if (options.padding.top == null) options.padding.top = 10;\r\n            if (options.padding.right == null) options.padding.right = 10;\r\n            if (options.padding.bottom == null) options.padding.bottom = 10;\r\n        }\r\n\r\n        if (options.emptyMessage == null) options.emptyMessage = \"Nessun risultato\";\r\n        if (options.title == null) options.title = false;\r\n        if (options.title === true) options.title = \"\";\r\n        //#endregion\r\n\r\n        let internalHeight = UtilityManager.duplicate(options.height);\r\n        options.height = undefined;\r\n\r\n        let datasource = options.dataSource;\r\n        options.dataSource = undefined;\r\n\r\n        super(element, options, ControlTypeEnum.Repeater);\r\n\r\n        this.container().id = this.container().id + \"_Repeater\";\r\n\r\n        //#region Repeater\r\n        this._grid = createGrid(\r\n            {\r\n                addToControlList: options.addToControlList,\r\n                toolbar: options.toolbar,\r\n                classContainer: \"vrRepeaterContainer\",\r\n                columns: [\r\n                    {\r\n                        field: \"custom\" + this.element().id, type: GridColumnTypeEnum.Custom, cellSettings: { textAlign: GridAlignEnum.Left },\r\n                        filterable: true, customFilterProperties: options.customFilterProperties, fitSpace: true, title: (options.title !== false) ? options.title : \"\",\r\n                        customSettings: (e) =>\r\n                        {\r\n                            //#region Padding\r\n                            if (typeof (options!.padding) == \"number\")\r\n                                e.element!.style.cssText += \"padding: \" + options!.padding + \"px;\";\r\n                            else\r\n                                e.element!.style.cssText += \"padding-left: \" + options!.padding!.left + \"px; padding-top: \" + options!.padding!.top + \"px; padding-right: \" + options!.padding!.right + \"px; padding-bottom: \" + options!.padding!.bottom + \"px;\";\r\n                            //#endregion\r\n\r\n                            if (options!.template != null)\r\n                                return { template: options!.template(e) };\r\n                            else\r\n                                return undefined;\r\n                        }\r\n                    }\r\n                ],\r\n                height: internalHeight,\r\n                rebind: options.rebind,\r\n                checkboxes: options.checkboxes,\r\n                dataSourceFieldId: options.dataSourceFieldId,\r\n                rowHeight: options.rowHeight,\r\n                hideEditButton: options.hideEditButton,\r\n                mode: options.mode,\r\n                filterable: options.filterable,\r\n                pageSize: options.pageSize,\r\n                largePageSize: options.largePageSize,\r\n                footer: options.footer,\r\n                header: options.title !== false,\r\n                alternateRowColors: options.alternateRowColors,\r\n                hoverRowColor: options.hoverRowColor,\r\n                multilineRows: true,\r\n                resizable: false,\r\n                reorderable: false,\r\n                groupable: true,\r\n                groupBy: options.groupBy,\r\n                layoutSettings: false,\r\n                tooltip: false,\r\n                onDataSourceChanged: options.onDataSourceChanged,\r\n                onDataBound: options.onDataBound,\r\n                onRowDataBound: (e) =>\r\n                {\r\n                    //#region Empty\r\n                    puma(this.element()).find(\".toRemove\").parent().remove();\r\n                    if (e.empty)\r\n                    {\r\n                        puma(e.rowElement).empty();\r\n                        createLabel(\r\n                            {\r\n                                text: options!.emptyMessage,\r\n                                fontSize: 14,\r\n                                width: \"100%\",\r\n                                align: TextAlignEnum.Center,\r\n                                class: \"toRemove\"\r\n                            }, puma(this.element()).find(\".grid_Body\"), ControlPositionEnum.Before);\r\n                        return;\r\n                    }\r\n                    //#endregion\r\n\r\n                    if (options!.onRowDataBound != null)\r\n                    {\r\n                        let dataSourceIdList = this.dataSource().map(k => k[options!.dataSourceFieldId!]);\r\n                        let index = dataSourceIdList.indexOf(e.dataItem[options!.dataSourceFieldId!]);\r\n                        if (index == -1 || options!.dataSourceFieldId == null)\r\n                            index = puma(e.rowElement).index();\r\n\r\n                        let event = new RepeaterOnRowDataBoundEvent();\r\n                        event.dataItem = e.dataItem;\r\n                        event.realDataItem = e.realDataItem;\r\n                        event.empty = e.empty;\r\n                        event.rowElement = e.rowElement;\r\n                        event.sender = e.sender;\r\n                        event.cell = puma(e.rowElement).find(\"td[field='custom\" + this.element().id + \"']\")[0];\r\n                        event.index = index;\r\n                        options!.onRowDataBound(event);\r\n                    }\r\n                },\r\n                onSelectRow: (e) =>\r\n                {\r\n                    if (options!.onSelectRow != null && !e.empty)\r\n                        options!.onSelectRow(e);\r\n                },\r\n                onSelectAllRows: options.onSelectAllRows,\r\n                onUnselectRow: options.onUnselectRow,\r\n                onUnselectAllRows: options.onUnselectAllRows\r\n            }, this.element());\r\n        //#endregion\r\n\r\n        if (datasource != null)\r\n            this._grid.dataSource(datasource);\r\n    }\r\n\r\n    //#region Methods\r\n    rebind(parameters?: any | null, keepInfo = true): any\r\n    {\r\n        let promise = new Promise<void>((callback: Function) =>\r\n        {\r\n            this._grid.rebind(parameters, false, keepInfo).then(() =>\r\n            {\r\n                if (callback != null)\r\n                    callback();\r\n            });\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    rebindSpecificRows(itemIdList: number[], update = true)\r\n    {\r\n        this._grid.rebindSpecificRows(itemIdList, update);\r\n    }\r\n\r\n    clear()\r\n    {\r\n        this._grid.clear();\r\n    }\r\n\r\n    //#region Items\r\n    originalDataSource()\r\n    {\r\n        return this._grid.originalDataSource();\r\n    }\r\n\r\n    dataSource(dataItems?: any[], clearFilters = false)\r\n    {\r\n        return this._grid.dataSource(dataItems, clearFilters);\r\n    }\r\n\r\n    update(triggerDataBound = true, keepInfo = true)\r\n    {\r\n        this._grid.update(triggerDataBound, keepInfo);\r\n    }\r\n\r\n    updateRow(dataItem: any, rebind = true)\r\n    {\r\n        this._grid.updateRow(dataItem, rebind);\r\n    }\r\n\r\n    updateRows(dataItems: any[], rebind = true)\r\n    {\r\n        this._grid.updateRows(dataItems, rebind);\r\n    }\r\n\r\n    addRow(dataItem: any, rebind = true)\r\n    {\r\n        this._grid.addRow(dataItem, rebind);\r\n    }\r\n\r\n    addRows(dataItems: any[], rebind = true)\r\n    {\r\n        this._grid.addRows(dataItems, rebind);\r\n    }\r\n\r\n    deleteRow(dataItemId: any, rebind = false)\r\n    {\r\n        this._grid.deleteRow(dataItemId, rebind);\r\n    }\r\n\r\n    deleteRows(dataItemIdList: any[], rebind = false)\r\n    {\r\n        this._grid.deleteRows(dataItemIdList, rebind);\r\n    }\r\n\r\n    rows(): GridRow[]\r\n    {\r\n        return this._grid.rows();\r\n    }\r\n\r\n    getAllItems()\r\n    {\r\n        return this._grid.getAllItems();\r\n    }\r\n\r\n    getCheckedItems()\r\n    {\r\n        return this._grid.getCheckedItems();\r\n    }\r\n\r\n    getCheckedValues()\r\n    {\r\n        return this._grid.getCheckedValues();\r\n    }\r\n\r\n    getDeletedItems()\r\n    {\r\n        return this._grid.getDeletedItems();\r\n    }\r\n\r\n    getDeletedItemValues(key?: string)\r\n    {\r\n        return this._grid.getDeletedItemValues(key);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Selection\r\n    clearSelection(triggerChange = true)\r\n    {\r\n        this._grid.clearSelection(triggerChange);\r\n    }\r\n\r\n    checkAllRows(triggerChange = true)\r\n    {\r\n        this._grid.checkAllRows(triggerChange);\r\n    }\r\n\r\n    unCheckAllRows(triggerChange = true)\r\n    {\r\n        this._grid.unCheckAllRows(triggerChange);\r\n    }\r\n\r\n    selectRowsByIndexes(indexes: number[], triggerChange = true)\r\n    {\r\n        this.selectRowsByIndexes(indexes, triggerChange);\r\n    }\r\n\r\n    selectRowByIndex(index: number, triggerChange = true)\r\n    {\r\n        this.selectRowByIndex(index, triggerChange);\r\n    }\r\n\r\n    selectRows(itemIdList: string[], property?: string, triggerChange = true)\r\n    {\r\n        this.selectRows(itemIdList, property, triggerChange);\r\n    }\r\n\r\n    selectRow(itemId: string, triggerChange = true)\r\n    {\r\n        this._grid.selectRow(itemId, triggerChange);\r\n    }\r\n\r\n    unselectRows(itemIdList: string[], property?: string, triggerChange = true)\r\n    {\r\n        this._grid.unselectRows(itemIdList, property, triggerChange);\r\n    }\r\n\r\n    unselectRow(itemId: string)\r\n    {\r\n        this._grid.unselectRow(itemId);\r\n    }\r\n    //#endregion\r\n\r\n    //#region GroupBy\r\n    removeGroup(field: string, updateDataSource = true)\r\n    {\r\n        this.removeGroups([field], updateDataSource);\r\n    }\r\n\r\n    removeGroups(fields: string[], updateDataSource = true)\r\n    {\r\n        this._grid.removeGroups(fields, updateDataSource);\r\n    }\r\n\r\n    removeAllGroups(updateDataSource = true)\r\n    {\r\n        this._grid.removeAllGroups(updateDataSource);\r\n    }\r\n\r\n    addGroup(field: string | GridGroupByItem, updateDataSource = true, sortBySettings?: GridSortSettings, internalSortBy?: GridSortSettings)\r\n    {\r\n        this.addGroups([field], updateDataSource, sortBySettings, internalSortBy);\r\n    }\r\n\r\n    addGroups(fields: (string | GridGroupByItem)[], updateDataSource = true, sortBy?: GridSortSettings, internalSortBy?: GridSortSettings)\r\n    {\r\n        this._grid.addGroups(fields, updateDataSource, sortBy, internalSortBy);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Sort\r\n    removeSort(updateDataSource = true)\r\n    {\r\n        this._grid.removeSort(updateDataSource);\r\n    }\r\n\r\n    sort(field: string, tableSortModeEnum?: GridSortDirectionEnum)\r\n    {\r\n        this._grid.sort(field, tableSortModeEnum);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Filter\r\n    clearFilters(updateDataSource = true)\r\n    {\r\n        this._grid.clearFilters(updateDataSource);\r\n    }\r\n\r\n    addFilter(field: string, filterCondition: GridFilterSettings, applyFilters = true)\r\n    {\r\n        this._grid.addFilter(field, filterCondition, applyFilters);\r\n    }\r\n\r\n    removeFilter(field: string, applyFilters = true)\r\n    {\r\n        this._grid.removeFilter(field, applyFilters);\r\n    }\r\n\r\n    updateFilter(field: string, filterCondition: GridFilterSettings, applyFilters = true)\r\n    {\r\n        this._grid.updateFilter(field, filterCondition, applyFilters);\r\n    }\r\n    //#endregion\r\n\r\n    pageSelected(page?: number, update = true)\r\n    {\r\n        return this._grid.pageSelected(page, update);\r\n    }\r\n\r\n    //#region Height\r\n    height(height?: number | string)\r\n    {\r\n        return this._grid.height(height);\r\n    }\r\n\r\n    recalculateHeight(afterFilter = false)\r\n    {\r\n        this._grid.recalculateHeight(afterFilter);\r\n    }\r\n\r\n    recalculateWidth()\r\n    {\r\n        this._grid.recalculateWidth();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Visible toolbar\r\n    visibleToolbar(state?: boolean)\r\n    {\r\n        return this._grid.visibleToolbar(state);\r\n    }\r\n\r\n    showToolbar()\r\n    {\r\n        this._grid.showToolbar();\r\n    }\r\n\r\n    hideToolbar()\r\n    {\r\n        this._grid.hideToolbar();\r\n    }\r\n\r\n    toolbarItem<T extends Button | SplitButton | Switch>(value: string)\r\n    {\r\n        return this._grid.toolbarItem<T>(value);\r\n    }\r\n\r\n    showToolbarItem(value: string)\r\n    {\r\n        this._grid.showToolbarItem(value);\r\n    }\r\n\r\n    hideToolbarItem(value: string)\r\n    {\r\n        this._grid.hideToolbarItem(value);\r\n    }\r\n\r\n    enableToolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        this._grid.enableToolbarItem<T>(value);\r\n    }\r\n\r\n    disableToolbarItem<T extends VrControl>(value: string)\r\n    {\r\n        this._grid.disableToolbarItem<T>(value);\r\n    }\r\n\r\n    removeToolbarItem(value: string)\r\n    {\r\n        this._grid.removeToolbarItem(value);\r\n    }\r\n\r\n    addToolbarItem(toolbarItem: GridToolbarItem)\r\n    {\r\n        this._grid.addToolbarItem(toolbarItem);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Column\r\n    hideCheckboxColumn(updateDataSource = false)\r\n    {\r\n        this._grid.hideColumn(\"vrGridCheckboxColumn\", updateDataSource);\r\n    }\r\n\r\n    showCheckboxColumn(updateDataSource = false)\r\n    {\r\n        this._grid.showColumn(\"vrGridCheckboxColumn\", updateDataSource);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Utility\r\n    pageSize(pageSize?: number, update = false, triggerDataBound = false)\r\n    {\r\n        return this._grid.pageSize(pageSize, update, triggerDataBound);\r\n    }\r\n    //#endregion\r\n\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass PaddingSettings\r\n{\r\n    left?: number;\r\n    top?: number;\r\n    right?: number;\r\n    bottom?: number;\r\n}\r\n\r\nclass RepeaterOnRowDataBoundEvent extends GridOnRowDataBoundEvent\r\n{\r\n    cell: HTMLElement;\r\n    index: number;\r\n}\r\n//#endregion","import { ControlTypeEnum, MapMarker, MapModeEnum, puma } from \"../vr\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\ndeclare var L: any;\r\n\r\n//#region Options\r\nexport class MapsOptions extends VrControlOptions\r\n{\r\n    latitude?: number;\r\n    longitude?: number;\r\n    zoom?: number;\r\n    maxZoom?: number;\r\n    credits?: boolean | string;\r\n    marker?: boolean | MapMarker[];\r\n    mode?: MapModeEnum;\r\n\r\n    onClick?: (e: MapClickEvent) => void;\r\n    onPinClick?: (e: MapPinClickEvent) => void;\r\n    onHover?: (e: MapPinHoverEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Maps extends VrControl\r\n{\r\n    private _map: any;\r\n    private _internalMarkerList: any[];\r\n\r\n    constructor(element: HTMLElement, options?: MapsOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new MapsOptions();\r\n\r\n        if (options.zoom == null) options.zoom = 15;\r\n        if (options.maxZoom == null) options.maxZoom = 18;\r\n        if (options.marker == null) options.marker = true;\r\n        if (options.latitude == null) options.latitude = 0;\r\n        if (options.longitude == null) options.longitude = 0;\r\n        if (options.height == null) options.height = 200;\r\n        if (options.width == null) options.width = \"100%\";\r\n        if (options.mode == null) options.mode = MapModeEnum.Light;\r\n        if (options.tabIndex == null) options.tabIndex = -1;\r\n\r\n        if (options.credits == null) options.credits = true;\r\n        if (options.credits)\r\n            options.credits = `<span style='font-size: 10px'><a href='https://www.openstreetmap.org/'>OpenStreetMap</a> contributors`;\r\n        else\r\n            options.credits = \"\";\r\n        //#endregion\r\n\r\n        let enable = options.enable;\r\n        if (options.enable == false)\r\n            options.enable = undefined;\r\n\r\n        super(element, options, ControlTypeEnum.Map);\r\n\r\n        this._internalMarkerList = [];\r\n        puma(this.element()).height(\"100%\");\r\n\r\n        let accessToken = \"pk.eyJ1IjoibWF0dGV1enppc3RlZmFubyIsImEiOiJja3I3aHp2bzIwNHNpMnBtYzVndGN5YzFxIn0.tEqLhXaDn9FC9Mrqu8o-lQ\";\r\n        this._map = L.map(this.element(), { preferCanvas: true }).setView([options.latitude, options.longitude], options.zoom);\r\n        L.tileLayer(\"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=\" + accessToken, {\r\n            maxZoom: options.maxZoom,\r\n            attribution: options.credits,\r\n            id: options.mode,\r\n            tileSize: 512,\r\n            zoomOffset: -1\r\n        }).addTo(this._map);\r\n\r\n        //#region Click\r\n        if (options!.onClick != null)\r\n        {\r\n            puma(this._map).on(\"click\", (e: JQuery.ClickEvent) =>\r\n            {\r\n                let clickEvent = new MapPinClickEvent();\r\n                clickEvent.sender = this;\r\n                options!.onClick!(clickEvent);\r\n            });\r\n        }\r\n        //#endregion\r\n\r\n        if (typeof (options.marker) == \"boolean\" && options.marker)\r\n        {\r\n            let defaultMarker = new MapMarker();\r\n            defaultMarker.latitude = options.latitude;\r\n            defaultMarker.longitude = options.longitude;\r\n            options.marker = [defaultMarker];\r\n            this.marker([defaultMarker]);\r\n        }\r\n        else if (Array.isArray(options.marker))\r\n            this.marker(options.marker);\r\n\r\n        if (enable === false)\r\n            this.disable();\r\n        else\r\n            this.enable();\r\n    }\r\n\r\n    //#region Methods\r\n    map()\r\n    {\r\n        return this._map;\r\n    }\r\n\r\n    locate(latitude: number, longitude: number): void\r\n    {\r\n        L.latLng(latitude, longitude).addTo(this._map);\r\n    }\r\n\r\n    marker(markers?: MapMarker[])\r\n    {\r\n        let options = this.getOptions();\r\n        if (markers != null)\r\n        {\r\n            options.marker = markers;\r\n            for (let marker of markers)\r\n            {\r\n                let pin = L.circleMarker([marker.latitude, marker.longitude], {\r\n                    color: '#3388ff'\r\n                });\r\n\r\n                if (marker.title != null)\r\n                    pin.bindPopup(marker.title)\r\n\r\n                pin.addTo(this._map);\r\n                this._internalMarkerList.push(pin);\r\n\r\n                //#region Pin click\r\n                if (options!.onPinClick != null)\r\n                {\r\n                    puma(pin).on(\"click\", (e: JQuery.ClickEvent) =>\r\n                    {\r\n\r\n                        let clickEvent = new MapPinClickEvent();\r\n                        clickEvent.sender = this;\r\n                        clickEvent.coordinate = { latitude: pin._latlng.lat, longitude: pin._latlng.lng };\r\n                        clickEvent.point = { x: pin._point.x, y: pin._point.y };\r\n                        clickEvent.color = pin.options.color;\r\n                        clickEvent.dataItem = marker;\r\n                        clickEvent.element = pin;\r\n                        options!.onPinClick!(clickEvent);\r\n                    });\r\n                }\r\n                //#endregion\r\n\r\n                //#region Tooltip\r\n                puma(pin).on(\"mouseover\", (e: JQuery.MouseOverEvent) =>\r\n                {\r\n                    // Show tooltip/title\r\n                    if (marker.title != null)\r\n                        e.target.openPopup();\r\n\r\n                    if (options!.onHover != null)\r\n                    {\r\n                        let clickEvent = new MapPinHoverEvent();\r\n                        clickEvent.sender = this;\r\n                        clickEvent.coordinate = { latitude: pin._latlng.lat, longitude: pin._latlng.lng };\r\n                        clickEvent.point = { x: pin._point.x, y: pin._point.y };\r\n                        clickEvent.color = pin.options.color;\r\n                        clickEvent.dataItem = marker;\r\n                        clickEvent.element = pin;\r\n                        options!.onHover(clickEvent);\r\n                    }\r\n                })\r\n                //#endregion\r\n            }\r\n        }\r\n        return options.marker as MapMarker[];\r\n    }\r\n\r\n    clear()\r\n    {\r\n        let options = this.getOptions();\r\n        if (options.marker != null && Array.isArray(options.marker))\r\n        {\r\n            for (let marker of this._internalMarkerList)\r\n                this._map.removeLayer(marker);\r\n        }\r\n        this._internalMarkerList = [];\r\n    }\r\n\r\n    disable()\r\n    {\r\n        super.disable();\r\n\r\n        this._map.dragging.disable();\r\n        this._map.touchZoom.disable();\r\n        this._map.doubleClickZoom.disable();\r\n        this._map.scrollWheelZoom.disable();\r\n        this._map.boxZoom.disable();\r\n        this._map.keyboard.disable();\r\n        puma(this.container()).find(\".leaflet-control-zoom\").hide();\r\n\r\n        if (this._map.tap)\r\n            this._map.tap.disable();\r\n\r\n        this.element().style.cursor = \"default\";\r\n    }\r\n\r\n    enable()\r\n    {\r\n        super.enable();\r\n\r\n        this._map.dragging.enable();\r\n        this._map.touchZoom.enable();\r\n        this._map.doubleClickZoom.enable();\r\n        this._map.scrollWheelZoom.enable();\r\n        this._map.boxZoom.enable();\r\n        this._map.keyboard.enable();\r\n        puma(this.container()).find(\".leaflet-control-zoom\").show();\r\n\r\n        if (this._map.tap)\r\n            this._map.tap.enable();\r\n\r\n        this.element().style.cursor = \"grab\";\r\n    }\r\n\r\n    invalidateSize()\r\n    {\r\n        this._map.invalidateSize();\r\n    }\r\n\r\n    getOptions()\r\n    {\r\n        return this.options<MapsOptions>();\r\n    }\r\n    //#endregion    \r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass MapEvent extends VrControlsEvent\r\n{\r\n    sender: Maps;\r\n    coordinate: MapCoordinate;\r\n    point: MapPoint;\r\n    color: string;\r\n    dataItem: any;\r\n    element: any;\r\n}\r\n\r\nclass MapPinClickEvent extends MapEvent\r\n{\r\n}\r\n\r\nclass MapPinHoverEvent extends MapEvent\r\n{\r\n}\r\n\r\nclass MapClickEvent extends VrControlsEvent\r\n{\r\n    sender: Maps;\r\n}\r\n\r\nclass MapCoordinate\r\n{\r\n    latitude: number;\r\n    longitude: number;\r\n}\r\n\r\nclass MapPoint\r\n{\r\n    x: number;\r\n    y: number;\r\n}\r\n//#endregion","import { ControlTypeEnum, puma } from \"../vr\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\n\r\n//#region Options\r\nexport class PainterOptions extends VrControlOptions\r\n{\r\n    imagePath?: string;\r\n    size?: number;\r\n    color?: string;\r\n    saveSettings?: PainterSaveSettings;\r\n\r\n    onMouseDown?: (e: PainterMouseDownEvent) => void;\r\n    onMouseMove?: (e: PainterMouseMoveEvent) => void;\r\n    onMouseUp?: (e: PainterMouseUpEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Painter extends VrControl\r\n{\r\n    private _color: string;\r\n    private _size: number;\r\n    private _points: [Point[]];\r\n    private _ctx: CanvasRenderingContext2D;\r\n    private _image: any;\r\n    private _isMoving: boolean;\r\n    private _pointTag?: any;\r\n\r\n    constructor(element: HTMLElement, options?: PainterOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new PainterOptions();\r\n\r\n        if (options.imagePath == null) options.imagePath = \"\";\r\n        if (options.size == null) options.size = 10;\r\n        if (options.color == null) options.color = \"rgba(255, 0, 0, 0.25)\";\r\n\r\n        if (options.height == null) options.height = 200;\r\n        if (options.width == null) options.width = 200;\r\n        let canvasHeight = Number(options.height);\r\n        let canvasWidth = Number(options.width);\r\n        options.height = undefined;\r\n        options.width = undefined;\r\n\r\n        if (options.saveSettings == null) options.saveSettings = new PainterSaveSettings();\r\n        if (options.saveSettings.legendWidth == null) options.saveSettings.legendWidth = 550;\r\n        if (options.saveSettings.legendHeight == null) options.saveSettings.legendHeight = 400;\r\n        if (options.tabIndex == null) options.tabIndex = -1;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Painter);\r\n\r\n        puma(this.element()).attr(\"width\", canvasWidth);\r\n        puma(this.element()).attr(\"height\", canvasHeight);\r\n        this._image = new Image();\r\n        this.image(options.imagePath);\r\n\r\n        this._ctx = (this.element() as HTMLCanvasElement).getContext(\"2d\")!;\r\n        this._ctx.clearRect(0, 0, (this._ctx as any).width, (this._ctx as any).height);\r\n        this._ctx.drawImage(this.image(), 0, 0);\r\n\r\n        (this._points as any) = [];\r\n        this.color(options.color);\r\n        this.size(options.size);\r\n        window.setTimeout(() => this.draw(), 1000);\r\n        this._isMoving = false;\r\n\r\n        puma(this.element()).mousemove((e: JQuery.MouseMoveEvent) =>\r\n        {\r\n            if (!this._isMoving)\r\n                return;\r\n\r\n            let point = this.getPoint(e);\r\n            if (this._points[this._points.length - 1] != null)\r\n                this._points[this._points.length - 1].push(point);\r\n\r\n            //#region Event\r\n            if (options!.onMouseMove != null)\r\n            {\r\n                let event = new PainterMouseMoveEvent();\r\n                event.sender = this;\r\n                event.event = e;\r\n                event.points = this._points;\r\n                options!.onMouseMove(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            this.draw();\r\n        });\r\n        puma(this.element()).mousedown((e: JQuery.MouseDownEvent) =>\r\n        {\r\n            this._isMoving = true;\r\n            let point = this.getPoint(e);\r\n\r\n            //#region Event\r\n            if (options!.onMouseDown != null)\r\n            {\r\n                let event = new PainterMouseDownEvent();\r\n                event.sender = this;\r\n                event.event = e;\r\n                event.points = this._points;\r\n                options!.onMouseDown(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n            //#endregion\r\n\r\n            this._points.push([point]);\r\n        });\r\n        puma(this.element()).mouseup((e: JQuery.MouseUpEvent) =>\r\n        {\r\n            this._isMoving = false;\r\n\r\n            //#region Event\r\n            if (options!.onMouseUp != null)\r\n            {\r\n                let event = new PainterMouseUpEvent();\r\n                event.sender = this;\r\n                event.event = e;\r\n                event.points = this._points;\r\n                options!.onMouseUp(event);\r\n\r\n                if (event.isDefaultPrevented())\r\n                {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n            //#endregion\r\n        });\r\n    }\r\n\r\n    color(color?: string): string\r\n    {\r\n        if (color != null)\r\n            this._color = color;\r\n\r\n        return this._color;\r\n    }\r\n\r\n    size(size?: number): number\r\n    {\r\n        if (size != null)\r\n            this._size = size;\r\n\r\n        return this._size;\r\n    }\r\n\r\n    image(imagePath?: string): any\r\n    {\r\n        if (imagePath != null)\r\n            this._image.src = imagePath;\r\n\r\n        return this._image;\r\n    }\r\n\r\n    pointTag(tag?: any): any\r\n    {\r\n        if (tag != null)\r\n            this._pointTag = tag;\r\n\r\n        return this._pointTag;\r\n    }\r\n\r\n    points(points?: [Point[]]): [Point[]]\r\n    {\r\n        if (points != null)\r\n        {\r\n            this._points = points;\r\n            this.draw();\r\n        }\r\n\r\n        return this._points;\r\n    }\r\n\r\n    draw(): any\r\n    {\r\n        this._ctx.clearRect(0, 0, (this._ctx as any).width, (this._ctx as any).height);\r\n        this._ctx.drawImage(this.image(), 0, 0);\r\n\r\n        for (let i = 0; i < this._points.length; ++i)\r\n        {\r\n            let points = this._points[i] as any;\r\n            if (points.length < 1)\r\n                continue;\r\n\r\n            this._ctx.strokeStyle = points[0].color;\r\n            this._ctx.lineCap = \"round\";\r\n            this._ctx.lineJoin = \"round\";\r\n            this._ctx.lineWidth = points[0].size;\r\n            this._ctx.beginPath();\r\n            this._ctx.moveTo(points[0].x, points[0].y);\r\n\r\n            for (let j = 1; j < points.length; ++j)\r\n                this._ctx.lineTo(points[j].x, points[j].y);\r\n\r\n            this._ctx.stroke();\r\n        }\r\n    }\r\n\r\n    private getPoint(e: JQuery.MouseEventBase)\r\n    {\r\n        let point = new Point();\r\n        point.x = e.clientX - this.element().getBoundingClientRect().x;\r\n        point.y = e.clientY - this.element().getBoundingClientRect().y;\r\n        point.color = this.color();\r\n        point.size = this.size();\r\n        point.tag = this._pointTag;\r\n        return point;\r\n    }\r\n\r\n    clear(imagePath?: string)\r\n    {\r\n        (this._points as any) = [];\r\n        if (imagePath != null)\r\n            this.image(imagePath);\r\n\r\n        window.setTimeout(() => this.draw(), 200);\r\n    }\r\n\r\n    clearLastRoute()\r\n    {\r\n        this._points.pop();\r\n        this.draw();\r\n    }\r\n\r\n    clearRoute(tag: any)\r\n    {\r\n        let pointsToDelete = [];\r\n        for (let point of this.points())\r\n        {\r\n            for (let singlePoint of point)\r\n            {\r\n                if (singlePoint.tag == tag)\r\n                {\r\n                    pointsToDelete.push(point);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let pointToDelete of pointsToDelete)\r\n            this._points.vrDelete(pointToDelete);\r\n\r\n        this.draw();\r\n    }\r\n\r\n    save(legendItems?: LegendItem[])\r\n    {\r\n        let dataURL: string;\r\n        if (legendItems != null)\r\n        {\r\n            let options = this.getOptions();\r\n\r\n            let legendCanvas: HTMLCanvasElement = puma(\"<canvas>\")[0] as HTMLCanvasElement;\r\n            legendCanvas.width = options.saveSettings!.legendWidth!;\r\n            legendCanvas.height = options.saveSettings!.legendHeight!;\r\n            let context = legendCanvas.getContext(\"2d\")!;\r\n            context.drawImage(this.element() as HTMLCanvasElement, 0, 0);\r\n\r\n            let fontSize = 18;\r\n            let y = 10;\r\n            for (let legendItem of legendItems)\r\n            {\r\n                let textWidth = legendItem.color == null ? 100 : 130;\r\n                let textSize = context.measureText(legendItem.text);\r\n                let lines = Math.ceil(textSize.width / textWidth);\r\n                let realHeight = fontSize * lines;\r\n\r\n                context.font = fontSize.toString() + \"px Arial\";\r\n                if (legendItem.color != null)\r\n                {\r\n                    context.fillStyle = legendItem.color;\r\n                    context.fillRect(410, y, 20, 20);\r\n\r\n                    context.fillStyle = \"#000000\";\r\n                    context.fillText(legendItem.text, 440, y + realHeight, 100);\r\n                }\r\n                else\r\n                    context.fillText(legendItem.text, 410, y + realHeight, 130);\r\n\r\n                y += realHeight + 10;\r\n            }\r\n            dataURL = legendCanvas.toDataURL();\r\n        }\r\n        else\r\n            dataURL = (this.element() as HTMLCanvasElement).toDataURL();\r\n\r\n        return dataURL;\r\n    }\r\n\r\n    //#region Enable/Disable\r\n    enable()\r\n    {\r\n        super.enable();\r\n        puma(this.element()).removeClass(\"vrPainterDisabled\");\r\n    }\r\n\r\n    disable()\r\n    {\r\n        super.disable();\r\n        puma(this.element()).addClass(\"vrPainterDisabled\");\r\n    }\r\n    //#endregion\r\n\r\n    getOptions()\r\n    {\r\n        return (this.options() as PainterOptions);\r\n    }\r\n}\r\n\r\n//#region Classes\r\nclass Point\r\n{\r\n    public x: number;\r\n    public y: number;\r\n    public color: string;\r\n    public size: number;\r\n    public tag?: any;\r\n}\r\n\r\nclass LegendItem\r\n{\r\n    color?: string;\r\n    text: string;\r\n}\r\n\r\nclass PainterSaveSettings\r\n{\r\n    legendWidth?: number;\r\n    legendHeight?: number;\r\n}\r\n\r\nclass PainterEvent extends VrControlsEvent\r\n{\r\n    sender: Painter;\r\n    event: any\r\n    points: [Point[]];\r\n}\r\n\r\nclass PainterMouseDownEvent extends PainterEvent { }\r\nclass PainterMouseMoveEvent extends PainterEvent { }\r\nclass PainterMouseUpEvent extends PainterEvent { }\r\n//#endregion","import { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, puma, createLabel, createButton, IconClassicLight, TextAlignEnum, DateDepthEnum } from \"../vr\";\r\nimport { ActualViewEnum } from \"./datePicker\";\r\nimport { Label } from \"./label\";\r\n\r\n//#region Options\r\nexport class CalendarOptions extends VrControlOptions\r\n{\r\n    value?: Date;\r\n    selectedColor?: string;\r\n    todayLabel?: boolean;\r\n    otherMonthDays?: boolean;\r\n    disabledDates?: Date[];\r\n    highlightedDates?: Date[];\r\n    dateSlotWidth?: number;\r\n    depth?: DateDepthEnum;\r\n    availableFrom?: Date;\r\n    availableTo?: Date;\r\n\r\n    onBeforeChange?(e: CalendarChangingEvent): void;\r\n    onAfterChange?(e: CalendarChangeEvent): void;\r\n    onDisableDate?(e: CalendarDisableDateEvent): boolean;\r\n    onDayDraw?(e: CalendarDayDrawEvent): void;\r\n    onFinishedDraw?(e: CalendarFinishedDrawEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Calendar extends VrControl\r\n{\r\n    private _value: Date | null;\r\n    private _actualView: ActualViewEnum;\r\n    private _tempNavigationDate: Date;\r\n    private _lblNavigation: Label;\r\n\r\n    constructor(element: HTMLElement, options?: CalendarOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new CalendarOptions();\r\n\r\n        if (options.selectedColor == null) options.selectedColor = \"#51B3E1\";\r\n        if (!options.selectedColor.startsWith(\"#\")) options.selectedColor = \"#\" + options.selectedColor;\r\n        if (options.todayLabel == null) options.todayLabel = true;\r\n        if (options.otherMonthDays == null) options.otherMonthDays = true;\r\n        if (options.dateSlotWidth == null) options.dateSlotWidth = 40;\r\n        if (options.depth == null) options.depth = DateDepthEnum.Day;\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Calendar);\r\n        this.draw();\r\n\r\n        //#region Value\r\n        if (options.value != null)\r\n            this.value(options.value, false);\r\n        //#endregion\r\n    }\r\n\r\n    //#region Methods\r\n    private draw()\r\n    {\r\n        let options = this.getOptions();\r\n\r\n        //#region Value\r\n        let value = this.value();\r\n        if (value == null)\r\n            value = new Date();\r\n\r\n        this._tempNavigationDate = value;\r\n\r\n        const months = [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"];\r\n        let month = this._tempNavigationDate.getMonth();\r\n        let monthString = months[month];\r\n        let year = this._tempNavigationDate.getFullYear();\r\n        //#endregion\r\n\r\n        //#region Header\r\n        let divHeader = puma(\"<div class='vrDivPickerPopup_Header'></div>\").vrAppendToPuma(this.element())[0];\r\n        this._lblNavigation = createLabel(\r\n            {\r\n                text: monthString + \" \" + year,\r\n                noBr: true,\r\n                width: \"Calc(100% - 65px)\",\r\n                align: TextAlignEnum.Left,\r\n                class: \"vrDatePickerNavigationLabel\",\r\n                css: \"padding-left: 10px;\",\r\n                onClick: (e) =>\r\n                {\r\n                    switch (this._actualView)\r\n                    {\r\n                        case ActualViewEnum.Day: this.drawMonths(); break;\r\n                        case ActualViewEnum.Month: this.drawYears(); break;\r\n                        case ActualViewEnum.Year: this.drawDecades(); break;\r\n                    }\r\n                }\r\n            }, divHeader);\r\n\r\n        let prevButton = createButton(\r\n            {\r\n                icon: IconClassicLight.CaretLeft,\r\n                css: \"border: none;\",\r\n                cssContainer: \"top: 2px;\",\r\n                width: 30,\r\n                onClick: (e) => \r\n                {\r\n                    switch (this._actualView)\r\n                    {\r\n                        case ActualViewEnum.Day:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddMonths(-1);\r\n                                this.drawDays();\r\n                            }\r\n                            break;\r\n                        case ActualViewEnum.Month:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddYears(-1);\r\n                                this.drawMonths();\r\n                            }\r\n                            break;\r\n                        case ActualViewEnum.Year:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddYears(-10);\r\n                                this.drawYears();\r\n                            }\r\n                            break;\r\n                        case ActualViewEnum.Decade:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddYears(-100);\r\n                                this.drawDecades();\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n            }, divHeader);\r\n\r\n        let nextButton = createButton(\r\n            {\r\n                icon: IconClassicLight.CaretRight,\r\n                css: \"border: none;\",\r\n                cssContainer: \"top: 2px;\",\r\n                width: 30,\r\n                onClick: (e) => \r\n                {\r\n                    switch (this._actualView)\r\n                    {\r\n                        case ActualViewEnum.Day:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddMonths(1);\r\n                                this.drawDays();\r\n                            }\r\n                            break;\r\n                        case ActualViewEnum.Month:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddYears(1);\r\n                                this.drawMonths();\r\n                            }\r\n                            break;\r\n                        case ActualViewEnum.Year:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddYears(10);\r\n                                this.drawYears();\r\n                            }\r\n                            break;\r\n                        case ActualViewEnum.Decade:\r\n                            {\r\n                                this._tempNavigationDate = this._tempNavigationDate.vrAddYears(100);\r\n                                this.drawDecades();\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n            }, divHeader);\r\n        //#endregion\r\n\r\n        //#region Days\r\n        puma(\"<table class='vrDatePickerPopup_table'></table>\").vrAppendToPuma(this.element())[0];\r\n        //#endregion\r\n\r\n        //#region Depth\r\n        switch (options.depth)\r\n        {\r\n            case DateDepthEnum.Day: this.drawDays(); break;\r\n            case DateDepthEnum.Month: this.drawMonths(); break;\r\n            case DateDepthEnum.Year: this.drawYears(); break;\r\n            default:\r\n                this.drawDays(); break;\r\n        }\r\n        //#endregion\r\n\r\n        //#region Today\r\n        let weekDaysLong = [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"];\r\n        let today = new Date();\r\n        let todayDay = today.getDate();\r\n        let todayWeek = weekDaysLong[today.getDay()];\r\n        let todayMonth = today.getMonth();\r\n        let todayYear = today.getFullYear();\r\n\r\n        let divToday = puma(\"<div style='padding: 5px; border-top: solid 1px #CCC; margin-top: 5px; text-align: center;'></div>\").vrAppendToPuma(this.element())[0];\r\n        createLabel(\r\n            {\r\n                text: todayWeek + \" \" + todayDay + \" \" + months[todayMonth] + \" \" + todayYear,\r\n                colorSettings: { textColor: options.selectedColor },\r\n                css: \"text-decoration: underline;\",\r\n                visible: (options.todayLabel) ? true : false,\r\n                onClick: (e) =>\r\n                {\r\n                    this.value(new Date());\r\n                }\r\n            }, divToday);\r\n        //#endregion\r\n    }\r\n\r\n    private drawDays(): void\r\n    {\r\n        let options = this.getOptions();\r\n        this._actualView = ActualViewEnum.Day;\r\n        this._lblNavigation.enable();\r\n\r\n        let table = puma(this.element()).find(\".vrDatePickerPopup_table\")[0];\r\n        puma(table).empty();\r\n\r\n        //#region WeekDays\r\n        let weekDays = [\"LU\", \"MA\", \"ME\", \"GI\", \"VE\", \"SA\", \"DO\"];\r\n        let trWeekDays = puma(\"<tr class='vrPicker_tableWeekDays'></tr>\").vrAppendToPuma(table)[0];\r\n        for (let weekDay of weekDays)\r\n            puma(\"<td style='font-size: 14px; text-align: center; color: #7a7a7a;'>\" + weekDay + \"</td>\").vrAppendToPuma(trWeekDays);\r\n        //#endregion\r\n\r\n        let year = this._tempNavigationDate.getFullYear();\r\n        let month = this._tempNavigationDate.getMonth();\r\n\r\n        const months = [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"];\r\n        let monthString = months[month];\r\n        this._lblNavigation.value(monthString + \" \" + year);\r\n\r\n        let firstDayOfTheMonth = new Date(year, month, 1);\r\n        let lastDayOfTheMonth = new Date(year, month + 1, 0);\r\n        let offset = firstDayOfTheMonth.getDay();\r\n        if (offset == 0)\r\n            offset = 7;\r\n        offset -= 1;\r\n\r\n        //#region Today/Actual value\r\n        let today = new Date();\r\n        let todayMonth = today.getMonth();\r\n        let todayYear = today.getFullYear();\r\n        let todayDay = (todayMonth == month && todayYear == year) ? today.getDate() : null;\r\n\r\n        let actualValueDay = null;\r\n        let actualValue = this.value();\r\n\r\n        if (actualValue != null)\r\n        {\r\n            let actualValueMonth = actualValue.getMonth();\r\n            let actualValueYear = actualValue.getFullYear();\r\n            actualValueDay = (actualValueMonth == month && actualValueYear == year) ? actualValue.getDate() : null;\r\n        }\r\n        //#endregion\r\n\r\n        let prevMonthLastDay = Date.vrGetLastDayOfMonthByDate(new Date(year, month - 1, 1)).getDate() + 1 - offset;\r\n        let dayCount = 1;\r\n        let reachLimit = false;\r\n        for (let i = 0; i < 6; i++)\r\n        {\r\n            puma(table).vrAppendPuma(\"<tr class='vrDatePickerPopup_rowDays' row='\" + i + \"'></tr>\");\r\n            for (let j = 0; j < 7; j++)\r\n            {\r\n                if (offset == 0)\r\n                {\r\n                    //#region Day\r\n                    let css = \"\";\r\n                    if (actualValueDay != null && actualValueDay == dayCount && !reachLimit)\r\n                        css += \"background-color: \" + options.selectedColor + \"; color: #FFF; border: none;\";\r\n                    else if (todayDay != null && todayDay == dayCount && !reachLimit)\r\n                        css += \"border: solid 1px \" + options.selectedColor + \";\";\r\n                    else if (reachLimit)\r\n                    {\r\n                        css = \"color: #CCC; border: none;\";\r\n                        if (!options.otherMonthDays)\r\n                            css += \"display: none;\";\r\n                    }\r\n                    else\r\n                        css = \"box-shadow: 0 0px 2px rgba(0, 0, 0, .3); border: none;\"\r\n\r\n                    let td = puma(\"<td day='\" + dayCount + \"'></td>\").vrAppendToPuma(puma(table).find(\"tr[row='\" + i + \"']\"))[0];\r\n                    this.createTdDay(dayCount, year, month, td, css);\r\n                    //#endregion\r\n\r\n                    if (dayCount >= lastDayOfTheMonth.getDate())\r\n                    {\r\n                        month++;\r\n                        dayCount = 0;\r\n                        reachLimit = true;\r\n                    }\r\n                    dayCount++;\r\n                }\r\n                else\r\n                {\r\n                    let css = \"color: #CCC; border: none;\";\r\n                    if (!options.otherMonthDays)\r\n                        css += \"display: none;\";\r\n\r\n                    let td = puma(\"<td day='\" + prevMonthLastDay + \"'></td>\").vrAppendToPuma(puma(table).find(\"tr[row='\" + i + \"']\"))[0];\r\n                    this.createTdDay(prevMonthLastDay++, year, month - 1, td, css);\r\n                    offset--;\r\n                }\r\n            }\r\n        }\r\n\r\n        //#region On finished draw\r\n        if (options.onFinishedDraw != null)\r\n        {\r\n            let event = new CalendarFinishedDrawEvent();\r\n            event.sender = this;\r\n            options.onFinishedDraw(event);\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    private createTdDay(day: number, year: number, month: number, td: HTMLElement, css: string): void\r\n    {\r\n        let options = this.getOptions();\r\n        let enable = this.checkAvailability(year, month, day);\r\n\r\n        let button = createButton(\r\n            {\r\n                text: String(day),\r\n                width: options.dateSlotWidth,\r\n                css: css,\r\n                enable: enable,\r\n                onClick: (e) =>\r\n                {\r\n                    let dateToSelect = new Date(year, month, Number(button.text()), 0, 0, 0);\r\n                    this.value(dateToSelect);\r\n                }\r\n            }, td);\r\n\r\n        let date = new Date(year, month, day, 0, 0, 0);\r\n\r\n        //#region Disable date\r\n        if (options.onDisableDate != null)\r\n        {\r\n            let event = new CalendarDisableDateEvent();\r\n            event.sender = this;\r\n            event.day = date;\r\n\r\n            let disable = options.onDisableDate(event);\r\n            button.enabled(disable);\r\n        }\r\n        //#endregion\r\n\r\n        //#region On day draw\r\n        if (options.onDayDraw != null)\r\n        {\r\n            let event = new CalendarDayDrawEvent();\r\n            event.sender = this;\r\n            event.day = date;\r\n            options.onDayDraw(event);\r\n        }\r\n        //#endregion\r\n\r\n        //#region Disabled/Highlighted\r\n        if (options.disabledDates != null)\r\n        {\r\n            let millisecondDates = options.disabledDates.map(k => k.getTime());\r\n            if (millisecondDates.includes(date.getTime()))\r\n                button.disable();\r\n        }\r\n\r\n        if (options.highlightedDates != null)\r\n        {\r\n            let millisecondDates = options.highlightedDates.map(k => k.getTime());\r\n            if (millisecondDates.includes(date.getTime()))\r\n                button.element().style.cssText += \"background-color: \" + options.selectedColor + \"; color: #FFF; border: none; border-radius: 15px;\";\r\n        }\r\n        //#endregion\r\n    }\r\n\r\n    private checkAvailability(year: number, month?: number, day?: number)\r\n    {\r\n        let options = this.getOptions();\r\n        let enable = true;\r\n\r\n        if (options.availableFrom != null)\r\n        {\r\n            if (year < options.availableFrom.getFullYear())\r\n                enable = false;\r\n            else if (year == options.availableFrom.getFullYear() && month != null)\r\n            {\r\n                if (month < options.availableFrom.getMonth())\r\n                    enable = false;\r\n                else if (month == options.availableFrom.getMonth() && day != null\r\n                    && day < options.availableFrom.getDate())\r\n                    enable = false;\r\n            }\r\n        }\r\n\r\n        if (options.availableTo != null)\r\n        {\r\n            if (year > options.availableTo.getFullYear())\r\n                enable = false;\r\n            else if (year == options.availableTo.getFullYear() && month != null)\r\n            {\r\n                if (month > options.availableTo.getMonth())\r\n                    enable = false;\r\n                else if (month == options.availableTo.getMonth() && day != null\r\n                    && day > options.availableTo.getDate())\r\n                    enable = false;\r\n            }\r\n        }\r\n        return enable;\r\n    }\r\n\r\n    disabledDates(dates?: Date[])\r\n    {\r\n        let options = this.getOptions();\r\n        if (dates != null)\r\n            options.disabledDates = dates;\r\n\r\n        return options.disabledDates;\r\n    }\r\n\r\n    highlightedDates(dates?: Date[])\r\n    {\r\n        let options = this.getOptions();\r\n        if (dates != null)\r\n            options.highlightedDates = dates;\r\n\r\n        return options.highlightedDates;\r\n    }\r\n\r\n    private drawMonths()\r\n    {\r\n        this._actualView = ActualViewEnum.Month;\r\n        this._lblNavigation.enable();\r\n\r\n        let table = puma(this.element()).find(\".vrDatePickerPopup_table\")[0];\r\n        puma(table).empty();\r\n\r\n        this._lblNavigation.value(this._tempNavigationDate.getFullYear());\r\n        const months = [\"GEN\", \"FEB\", \"MAR\", \"APR\", \"MAG\", \"GIU\", \"LUG\", \"AGO\", \"SET\", \"OTT\", \"NOV\", \"DIC\"];\r\n\r\n        for (let i = 0; i < 3; i++)\r\n        {\r\n            puma(table).vrAppendPuma(\"<tr class='vrDatePickerPopup_rowMonths' row='\" + i + \"'></tr>\");\r\n            for (let j = 0; j < 4; j++)\r\n            {\r\n                let monthIndex = (i * 4 + j);\r\n                let td = puma(\"<td month='\" + monthIndex + \"'></td>\").vrAppendToPuma(puma(table).find(\"tr[row='\" + i + \"']\"))[0];\r\n                let monthAttribute = monthIndex;\r\n                let enable = this.checkAvailability(this._tempNavigationDate.getFullYear(), monthAttribute);\r\n\r\n                createButton(\r\n                    {\r\n                        text: \"<span style='color: #CCC;'>\" + (monthIndex + 1) + \"</span><br />\" + months[monthIndex],\r\n                        width: 55,\r\n                        height: 58,\r\n                        enable: enable,\r\n                        css: \"height: 100%; border: none;\" + ((this.value() != null && monthIndex == this.value()!.getMonth()) ? \"background-color: #e3f1fa;\" : \"\"),\r\n                        onClick: (e) =>\r\n                        {\r\n                            let newMonth = monthIndex;\r\n                            this._tempNavigationDate.setMonth(newMonth);\r\n\r\n                            if (this.depth() == DateDepthEnum.Month)\r\n                            {\r\n                                let dateToSelect = new Date(this._tempNavigationDate.getFullYear(), newMonth, 1);\r\n                                this.value(dateToSelect);\r\n                            }\r\n                            else\r\n                                this.drawDays();\r\n                        }\r\n                    }, td);\r\n            }\r\n        }\r\n    }\r\n\r\n    private drawYears()\r\n    {\r\n        this._actualView = ActualViewEnum.Year;\r\n        this._lblNavigation.enable();\r\n\r\n        let table = puma(this.element()).find(\".vrDatePickerPopup_table\")[0];\r\n        puma(table).empty();\r\n\r\n        let year = this._tempNavigationDate.getFullYear();\r\n        let year2digitsFirst = Number(year.toString().substring(0, 2));\r\n        let year2digitsLast = Number(year.toString().substr(-2));\r\n        let lastYear2Digits = Math.ceil((year2digitsLast + 1) / 10) * 10; // Nearest multiple of 10\r\n\r\n        let firstYear = (year2digitsFirst * 100) + lastYear2Digits - 10 - 1;\r\n        let lastYear = (year2digitsFirst * 100) + lastYear2Digits;\r\n        this._lblNavigation.value((firstYear + 1) + \"-\" + (lastYear - 1));\r\n\r\n        let tdYear = firstYear;\r\n        for (let i = 0; i < 3; i++)\r\n        {\r\n            puma(table).vrAppendPuma(\"<tr class='vrDatePickerPopup_rowMonths' row='\" + i + \"'></tr>\");\r\n            for (let j = 0; j < 4; j++)\r\n            {\r\n                let td = puma(\"<td year='\" + tdYear + \"'></td>\").vrAppendToPuma(puma(table).find(\"tr[row='\" + i + \"']\"))[0];\r\n                let yearAttribute = Number(puma(td).attr(\"year\"));\r\n                let enable = this.checkAvailability(yearAttribute);\r\n\r\n                createButton(\r\n                    {\r\n                        text: String(tdYear),\r\n                        width: 55,\r\n                        height: 58,\r\n                        enable: enable,\r\n                        css: \"height: 100%; border: none;\" + ((this.value() != null && tdYear == this.value()!.getFullYear()) ? \"background-color: #e3f1fa;\" : \"\") + ((yearAttribute == firstYear || yearAttribute == lastYear) ? \"color: #CCC;\" : \"\"),\r\n                        onClick: (e) =>\r\n                        {\r\n                            let newYear = Number(puma(td).attr(\"year\"));\r\n                            this._tempNavigationDate.setFullYear(newYear);\r\n\r\n                            if (this.depth() == DateDepthEnum.Year)\r\n                            {\r\n                                let dateToSelect = new Date(newYear, 0, 1);\r\n                                this.value(dateToSelect);\r\n                            }\r\n                            else\r\n                                this.drawMonths();\r\n                        }\r\n                    }, td);\r\n                tdYear++;\r\n            }\r\n        }\r\n    }\r\n\r\n    private drawDecades()\r\n    {\r\n        this._actualView = ActualViewEnum.Decade;\r\n        this._lblNavigation.disable();\r\n\r\n        let table = puma(this.element()).find(\".vrDatePickerPopup_table\")[0];\r\n        puma(table).empty();\r\n\r\n        let year = this._tempNavigationDate.getFullYear();\r\n        let year2digitsFirst = Number(year.toString().substring(0, 2));\r\n        let year2digitsLast = Number(year.toString().substr(-2));\r\n\r\n        let firstYear = year2digitsFirst * 100;\r\n        let lastYear = year2digitsFirst * 100 + 99;\r\n        let firstYearCycle = year2digitsFirst * 100 - 10;\r\n        let lastYearCycle = year2digitsFirst * 100 + 109;\r\n        this._lblNavigation.value(firstYear + \"-\" + lastYear);\r\n\r\n        let tdDecade = firstYearCycle;\r\n        for (let i = 0; i < 3; i++)\r\n        {\r\n            puma(table).vrAppendPuma(\"<tr class='vrDatePickerPopup_rowMonths' row='\" + i + \"'></tr>\");\r\n            for (let j = 0; j < 4; j++)\r\n            {\r\n                let td = puma(\"<td decade='\" + tdDecade + \"'></td>\").vrAppendToPuma(puma(table).find(\"tr[row='\" + i + \"']\"))[0];\r\n                let yearAttribute = Number(puma(td).attr(\"decade\"));\r\n                createButton(\r\n                    {\r\n                        text: tdDecade + \"<br />\" + (tdDecade + 9),\r\n                        width: 55,\r\n                        height: 58,\r\n                        css: \"height: 100%; border: none;\" + ((this.value() != null && this.value()!.getFullYear() >= tdDecade && this.value()!.getFullYear() <= (tdDecade + 9)) ? \"background-color: #e3f1fa;\" : \"\") + ((yearAttribute == firstYearCycle || yearAttribute == (lastYearCycle - 9)) ? \"color: #CCC;\" : \"\"),\r\n                        onClick: (e) =>\r\n                        {\r\n                            let year = Number(puma(td).attr(\"decade\"));\r\n                            this._tempNavigationDate.setFullYear(year);\r\n                            this.drawYears();\r\n                        }\r\n                    }, td);\r\n                tdDecade += 10;\r\n            }\r\n        }\r\n    }\r\n\r\n    getOptions()\r\n    {\r\n        return this.options<CalendarOptions>();\r\n    }\r\n\r\n    depth()\r\n    {\r\n        return this.getOptions().depth!;\r\n    }\r\n\r\n    value(date?: Date | null, triggerChange: boolean = true): Date | null\r\n    {\r\n        let options = this.getOptions();\r\n        if (date === null)\r\n        {\r\n            this.clear();\r\n            return null;\r\n        }\r\n\r\n        if (date != null)\r\n        {\r\n            if (typeof (date) == \"string\")\r\n                date = Date.vrFixDateString(date);\r\n\r\n            if (date == null)\r\n                throw Error(\"Formato data non valido!\");\r\n\r\n            if (triggerChange)\r\n            {\r\n                let changingEvent = new CalendarChangingEvent();\r\n                if (options.onBeforeChange != null)\r\n                {\r\n                    changingEvent.sender = this;\r\n                    changingEvent.value = date;\r\n                    changingEvent.previousValue = this._value;\r\n                    options.onBeforeChange(changingEvent);\r\n                }\r\n\r\n                if (!changingEvent.isDefaultPrevented())\r\n                {\r\n                    this._value = date;\r\n                    this.change();\r\n                }\r\n            }\r\n            else\r\n                this._value = date;\r\n\r\n            this._tempNavigationDate = date;\r\n\r\n            //#region Set value\r\n            const months = [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"];\r\n            let year = date.getFullYear();\r\n            let month = date.getMonth();\r\n\r\n            switch (options.depth)\r\n            {\r\n                case DateDepthEnum.Day: this.drawDays(); break;\r\n                case DateDepthEnum.Month: this.drawMonths(); break;\r\n                case DateDepthEnum.Year: this.drawYears(); break;\r\n                default:\r\n                    this.drawDays(); break;\r\n            }\r\n\r\n            let monthString = months[month];\r\n            this._lblNavigation.value(monthString + \" \" + year);\r\n            //#endregion\r\n        }\r\n        return this._value;\r\n    }\r\n\r\n    clear(triggerChange = false): void\r\n    {\r\n        this._value = null;\r\n\r\n        if (triggerChange)\r\n            this.change();\r\n    }\r\n    //#endregion\r\n\r\n    //#region Events\r\n    change(): void\r\n    {\r\n        let changeCallBack = this.getOptions().onAfterChange;\r\n        if (changeCallBack != null)\r\n        {\r\n            let changeEvent = new CalendarChangeEvent();\r\n            changeEvent.sender = this;\r\n            changeEvent.value = this.value();\r\n            changeCallBack(changeEvent);\r\n        }\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass CalendarEvent extends VrControlsEvent\r\n{\r\n    sender: Calendar;\r\n    value: Date | null;\r\n}\r\n\r\nclass CalendarChangeEvent extends CalendarEvent\r\n{\r\n\r\n}\r\n\r\nclass CalendarChangingEvent extends CalendarEvent\r\n{\r\n    previousValue?: Date | null;\r\n}\r\n\r\nclass CalendarDayDrawEvent extends VrControlsEvent\r\n{\r\n    sender: Calendar;\r\n    day: Date;\r\n    element: HTMLElement;\r\n}\r\n\r\nclass CalendarFinishedDrawEvent extends VrControlsEvent\r\n{\r\n    sender: Calendar;\r\n}\r\n\r\nclass CalendarDisableDateEvent extends VrControlsEvent\r\n{\r\n    sender: Calendar;\r\n    day: Date;\r\n}\r\n//#endregion","import { ControlTypeEnum, puma, RatingPrecisionEnum, vrEditorItemEnum, createLabel } from \"../vr\";\r\nimport { VrControlOptions, VrControl } from \"../common\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { Label } from \"./label\";\r\n\r\n//#region Options\r\nexport class RatingOptions extends VrControlOptions\r\n{\r\n    value?: number;\r\n    max?: number;\r\n    size?: string | number;\r\n    precision?: RatingPrecisionEnum;\r\n    tooltip?: boolean;\r\n    colorSettings?: RatingColorSettings;\r\n    total?: number;\r\n\r\n    onSelect?: (e: RatingSelectEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Rating extends VrControl\r\n{\r\n    private _value?: number | null;\r\n    private _lblTotal: Label;\r\n\r\n    constructor(element: HTMLElement, options?: RatingOptions | null)\r\n    {\r\n        //#region Options\r\n        if (options == null)\r\n            options = new RatingOptions();\r\n\r\n        if (options.max == null) options.max = 5;\r\n        if (options.size == null) options.size = 20;\r\n        if (options.precision == null) options.precision = RatingPrecisionEnum.Full;\r\n        if (options.tooltip == null) options.tooltip = false;\r\n        if (options.enable == null) options.enable = true;\r\n\r\n        if (options.colorSettings == null)\r\n            options.colorSettings = new RatingColorSettings();\r\n\r\n        if (options.colorSettings.selected == null) options.colorSettings.selected = \"#FFD700\";\r\n        if (options.colorSettings.hover == null) options.colorSettings.hover = \"#FFED85\";\r\n        if (options.colorSettings.notSelected == null) options.colorSettings.notSelected = \"#DDD\";\r\n        //#endregion\r\n\r\n        super(element, options, ControlTypeEnum.Rating);\r\n\r\n        //#region Color \r\n        this.color(options.colorSettings);\r\n        //#endregion\r\n\r\n        //#region Stars\r\n        let radioName = this.element().id + \"vrRating\";\r\n        for (let i = options.max; i > 0; i--)\r\n        {\r\n            let radioFullId = this.element().id + \"_star\" + i;\r\n            let titleFull = (options.tooltip) ? \"title='\" + i + \"'\" : \"\";\r\n\r\n            let radioFull = puma(`<input id='` + radioFullId + `' type='radio' name='` + radioName + `' value='` + i + `' />`\r\n                + `<label class='vrRatingFull' for='` + radioFullId + `' ` + titleFull + `></label>`).vrAppendToPuma(this.element());\r\n\r\n            if (options.precision == RatingPrecisionEnum.Half)\r\n            {\r\n                let radioHalfId = this.element().id + \"_star\" + (i - 0.5);\r\n                let titleHalf = (options.tooltip) ? \"title='\" + i + \"'\" : \"\";\r\n                let radioHalf = puma(`<input id='` + radioHalfId + `' type='radio' name='` + radioName + `' value='` + (i - 0.5) + `' />`\r\n                    + `<label class='vrRatingHalf' for='` + radioHalfId + `' ` + titleHalf + `></label>`).vrAppendToPuma(this.element());\r\n            }\r\n        }\r\n        //#endregion\r\n\r\n        //#region Total\r\n        this._lblTotal = createLabel(\r\n            {\r\n                cssContainer: \"margin-left: 5px; margin-top: -6px;\"\r\n            }, this.container());\r\n\r\n        if (options.total != null)\r\n            this.total(options.total);\r\n        //#endregion\r\n\r\n        //#region Size\r\n        this.size(options.size);\r\n        //#endregion\r\n\r\n        //#region Enable/Disable\r\n        if (options.enable) this.enable();\r\n        else this.disable();\r\n        //#endregion\r\n\r\n        //#region Select\r\n        puma(this.element()).find(\"input\").click((e: any) =>\r\n        {\r\n            let currentValue = e.currentTarget.value;\r\n            if (options!.onSelect != null)\r\n            {\r\n                let selectEvent = new RatingSelectEvent();\r\n                selectEvent.sender = this;\r\n                selectEvent.oldValue = this._value;\r\n                selectEvent.value = currentValue;\r\n                options!.onSelect(selectEvent);\r\n            }\r\n            this._value = currentValue;\r\n        });\r\n        //#endregion\r\n\r\n        if (options.value != null)\r\n            this.value(options.value);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Methods\r\n    value(value?: number, triggerChange = true)\r\n    {\r\n        if (value != null)\r\n        {\r\n            let realValue = 0;\r\n            let decimalPart = value % 1;\r\n            let integerPart = Math.trunc(value);\r\n            if (decimalPart == 0 || (decimalPart > integerPart && decimalPart < 0.2))\r\n                realValue = integerPart;\r\n            else if (decimalPart > 0.2 && decimalPart < 0.7)\r\n                realValue = integerPart + 0.5;\r\n            else if (decimalPart > 0.7)\r\n                realValue = integerPart + 1;\r\n\r\n            puma(this.element()).find(\"input[value='\" + realValue + \"']\").attr(\"checked\", true);\r\n            this._value = realValue;\r\n        }\r\n\r\n        let checkedInput = puma(this.element()).find(\"input:checked\")[0];\r\n        return (checkedInput != null) ? checkedInput.value : null;\r\n    }\r\n\r\n    color(colorSettings?: RatingColorSettings)\r\n    {\r\n        let options = this.getOptions();\r\n        if (colorSettings != null)\r\n        {\r\n            if (colorSettings.hover != null) options.colorSettings!.hover = colorSettings.hover;\r\n            if (colorSettings.selected != null) options.colorSettings!.selected = colorSettings.selected;\r\n            if (colorSettings.notSelected != null) options.colorSettings!.notSelected = colorSettings.notSelected;\r\n\r\n            UtilityManager.addCssStyle(\r\n                `.vrRating>label {\r\n                    color: ` + options.colorSettings!.notSelected + `;\r\n                    float: right;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                .vrRating>input:checked~label, .vrRating.hover:not(:checked)>label:hover, .vrRating.hover:not(:checked)>label:hover~label {\r\n                    color: ` + options.colorSettings!.selected + `;\r\n                }\r\n\r\n                .vrRating.hover>input:checked+label:hover, .vrRating.hover>input:checked~label:hover, .vrRating.hover>label:hover~input:checked~label, .vrRating.hover>input:checked~label:hover~label {\r\n                    color: ` + options.colorSettings!.hover + `;\r\n                }`\r\n            );\r\n        }\r\n        return options.colorSettings;\r\n    }\r\n\r\n    size(size?: string | number)\r\n    {\r\n        if (size != null)\r\n        {\r\n            if (typeof (size) == \"number\")\r\n                size = size + \"px\";\r\n\r\n            UtilityManager.addCssStyle(\r\n                `.vrRating>label:before {\r\n                    font-size: ` + size + `;\r\n                }`\r\n            );\r\n        }\r\n\r\n        let firstInput = puma(this.element()).find(\"input\")[0];\r\n        if (firstInput != null)\r\n        {\r\n            let firstInputId = firstInput.id;\r\n            let fistLabel = puma(this.element()).find(\"label[for='\" + firstInputId + \"']\")[0];\r\n            return window.getComputedStyle(fistLabel, ':before').fontSize.vrGetNumericPart();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    total(total?: number)\r\n    {\r\n        if (total != null)\r\n            this._lblTotal.value(\"(\" + total + \")\");\r\n\r\n        return this._lblTotal.value().vrGetNumericPart();\r\n    }\r\n\r\n    enable()\r\n    {\r\n        super.enable();\r\n        puma(this.element()).addClass(\"hover\");\r\n        puma(this.element()).find(\"input\").removeAttr(\"disabled\");\r\n    }\r\n\r\n    disable()\r\n    {\r\n        super.disable();\r\n        puma(this.element()).removeClass(\"hover\");\r\n        puma(this.element()).find(\"input\").attr(\"disabled\", true);\r\n    }\r\n\r\n    getOptions()\r\n    {\r\n        return this.options<RatingOptions>();\r\n    }\r\n    //#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass RatingSelectEvent\r\n{\r\n    sender: Rating;\r\n    value: number;\r\n    oldValue?: number | null;\r\n}\r\n\r\nclass RatingColorSettings\r\n{\r\n    selected?: string;\r\n    hover?: string;\r\n    notSelected?: string;\r\n}\r\n//#endregion","import { ControlManager } from \"../../../src/managers/controlManager\";\r\nimport { VrControlOptions, VrControl } from \"../common\";\r\nimport { ControlTypeEnum, createButton, createCheckBox, div, IconClassicLight, IconClass, puma } from \"../vr\";\r\nimport { Button, ButtonOptions } from \"./button\";\r\nimport { CheckBox } from \"./checkbox\";\r\n\r\n//#region Options\r\nexport class GroupBoxOptions extends VrControlOptions\r\n{\r\n\ttitle?: string;\r\n\tcontent?: string | HTMLElement | JQuery;\r\n\tcollapsable?: boolean;\r\n\tcheckbox?: boolean | string;\r\n\tstartingCollapsed?: boolean;\r\n\tstartingChecked?: boolean;\r\n\titems?: GroupBoxItem[];\r\n\tscrollable?: boolean;\r\n\r\n\tonCheckboxClick?: (e: GroupBoxOnCheckboxClickEvent) => void;\r\n\tonCollapse?: (e: GroupBoxOnCollapseEvent) => void;\r\n\tonExpand?: (e: GroupBoxOnExpandEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class GroupBox extends VrControl\r\n{\r\n\tprivate _contentContainer: HTMLElement;\r\n\tprivate _btnCollapse: Button;\r\n\tprivate _chkCheckbox: CheckBox;\r\n\r\n\tconstructor(element: HTMLElement, options?: GroupBoxOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new GroupBoxOptions();\r\n\r\n\t\tif (options.width == null) options.width = \"100%\";\r\n\t\tif (options.title == null) options.title = \"\";\r\n\t\tif (options.collapsable == null) options.collapsable = false;\r\n\t\tif (options.startingCollapsed == null) options.startingCollapsed = false;\r\n\t\tif (options.startingCollapsed === true) options.collapsable = true;\r\n\t\tif (options.checkbox == null) options.checkbox = false;\r\n\t\tif (options.startingChecked == null) options.startingChecked = false;\r\n\t\tif (options.startingChecked === true && typeof (options.checkbox) != \"string\") options.checkbox = true;\r\n\t\tif (options.scrollable == null) options.scrollable = false;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.GroupBox);\r\n\t\tlet htmlContent = puma(this.element()).html();\r\n\t\tpuma(this.element()).empty();\r\n\r\n\t\tlet h1 = puma(\"<h1 class='vrGroupBoxH1'></h1>\").vrAppendToPuma(this.element());\r\n\r\n\t\t//#region Collapse/Expand\r\n\t\tif (options.collapsable)\r\n\t\t{\r\n\t\t\tthis._btnCollapse = createButton({\r\n\t\t\t\ticon: IconClassicLight.CaretUp,\r\n\t\t\t\tcssContainer: \"float: left; margin-top: -2px;\",\r\n\t\t\t\tcss: \"border: none; background: none;\",\r\n\t\t\t\tonClick: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.collapsed())\r\n\t\t\t\t\t\tthis.expand();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.collapse();\r\n\t\t\t\t}\r\n\t\t\t}, h1);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Checkbox\r\n\t\tif (options.checkbox !== false)\r\n\t\t{\r\n\t\t\tthis._chkCheckbox = createCheckBox({\r\n\t\t\t\tchecked: options.startingChecked,\r\n\t\t\t\tcssContainer: \"float: left; margin-top: -1px;\",\r\n\t\t\t\tonCheck: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.onCheckboxClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet checkboxClickEvent = new GroupBoxOnCheckboxClickEvent();\r\n\t\t\t\t\t\tcheckboxClickEvent.checked = e.checked;\r\n\t\t\t\t\t\tcheckboxClickEvent.sender = this;\r\n\t\t\t\t\t\toptions!.onCheckboxClick(checkboxClickEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, h1);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Title\r\n\t\tpuma(\"<span class='vrGroupBoxTitle'>\" + options.title + \"</span>\").vrAppendToPuma(h1);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Items\r\n\t\tif (options.items != null)\r\n\t\t{\r\n\t\t\tlet divItems = div(h1, { class: \"vrGroupBoxDivItems\" });\r\n\t\t\tfor (let item of options.items)\r\n\t\t\t{\r\n\t\t\t\tif (item.cssContainer != null) item.cssContainer = \"\";\r\n\t\t\t\titem.cssContainer += \"; margin-left: 5px;\";\r\n\t\t\t\tcreateButton(item, divItems);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Content\r\n\t\tthis._contentContainer = div(this.element(), { class: \"vrGroupBoxContentContainer\" });\r\n\t\tif (options.scrollable)\r\n\t\t\tthis._contentContainer.style.cssText += \"max-height: 100%; overflow-y: auto;\";\r\n\r\n\t\tthis.content((htmlContent != null && htmlContent != \"\") ? htmlContent : options.content);\r\n\t\t//#endregion\r\n\r\n\t\tif (options.startingCollapsed)\r\n\t\t\tthis.collapse();\r\n\t}\r\n\r\n\t//#region Content/Title\r\n\tcontent(content?: string | JQuery | HTMLElement)\r\n\t{\r\n\t\tif (content != null)\r\n\t\t{\r\n\t\t\tpuma(this._contentContainer).empty();\r\n\t\t\tpuma(this._contentContainer).append((typeof (content) == \"string\") ? content : puma(content));\r\n\t\t}\r\n\t\treturn this._contentContainer;\r\n\t}\r\n\r\n\ttitle(title?: string)\r\n\t{\r\n\t\tif (title != null)\r\n\t\t\tpuma(this.element()).find(\".vrGroupBoxTitle\").html(title);\r\n\r\n\t\treturn puma(this.element()).find(\".vrGroupBoxTitle\").html();\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Expand/Collapse\r\n\tcollapse()\r\n\t{\r\n\t\tthis._btnCollapse.tag(\"collapsed\");\r\n\t\tpuma(this._contentContainer).hide();\r\n\t\tthis._btnCollapse.icon(IconClassicLight.CaretDown);\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.onCollapse != null) \r\n\t\t{\r\n\t\t\tlet GroupBoxOnExpandEvent = new GroupBoxOnCollapseEvent();\r\n\t\t\tGroupBoxOnExpandEvent.sender = this;\r\n\t\t\toptions.onCollapse(GroupBoxOnExpandEvent);\r\n\t\t}\r\n\t}\r\n\r\n\texpand()\r\n\t{\r\n\t\tthis._btnCollapse.tag(\"\");\r\n\t\tpuma(this._contentContainer).show();\r\n\t\tthis._btnCollapse.icon(IconClassicLight.CaretUp);\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.onExpand != null) \r\n\t\t{\r\n\t\t\tlet expandEvent = new GroupBoxOnExpandEvent();\r\n\t\t\texpandEvent.sender = this;\r\n\t\t\toptions.onExpand(expandEvent);\r\n\t\t}\r\n\t}\r\n\r\n\tcollapsed(state?: boolean)\r\n\t{\r\n\t\tif (state != null)\r\n\t\t{\r\n\t\t\tif (state) this.collapse();\r\n\t\t\telse this.expand();\r\n\t\t}\r\n\t\treturn this._btnCollapse.tag() == \"collapsed\";\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Items\r\n\titem(value: string): Button | null\r\n\t{\r\n\t\tlet element = puma(this.element()).find(\".vrGroupBoxDivItems button[value='\" + value + \"']\")[0];\r\n\t\tif (element != null)\r\n\t\t{\r\n\t\t\treturn ControlManager.get<Button>(puma(element).attr(\"id\"));\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tenableItem(value: string)\r\n\t{\r\n\t\tlet item = this.item(value);\r\n\t\tif (item != null)\r\n\t\t\titem.enable();\r\n\t}\r\n\r\n\tdisableItem(value: string)\r\n\t{\r\n\t\tlet item = this.item(value);\r\n\t\tif (item != null)\r\n\t\t\titem.disable();\r\n\t}\r\n\r\n\tshowItem(value: string)\r\n\t{\r\n\t\tlet item = this.item(value);\r\n\t\tif (item != null)\r\n\t\t\titem.show();\r\n\t}\r\n\r\n\thideItem(value: string)\r\n\t{\r\n\t\tlet item = this.item(value);\r\n\t\tif (item != null)\r\n\t\t\titem.hide();\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Checkbox\r\n\tcheck(triggerChange = true)\r\n\t{\r\n\t\tthis._chkCheckbox.checked(true, triggerChange);\r\n\t}\r\n\r\n\tunCheck(triggerChange = true)\r\n\t{\r\n\t\tthis._chkCheckbox.checked(false, triggerChange);\r\n\t}\r\n\r\n\tchecked(state?: boolean, triggerChange = true)\r\n\t{\r\n\t\tif (state != null)\r\n\t\t{\r\n\t\t\tif (state) this.check(triggerChange);\r\n\t\t\telse this.unCheck(triggerChange);\r\n\t\t}\r\n\t\treturn this._chkCheckbox.checked();\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<GroupBoxOptions>();\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass GroupBoxOnCheckboxClickEvent\r\n{\r\n\tsender: GroupBox;\r\n\tchecked: boolean;\r\n}\r\n\r\nclass GroupBoxOnCollapseEvent\r\n{\r\n\tsender: GroupBox;\r\n}\r\n\r\nclass GroupBoxOnExpandEvent\r\n{\r\n\tsender: GroupBox;\r\n}\r\n\r\nclass GroupBoxItem extends ButtonOptions\r\n{\r\n\r\n}\r\n//#endregion","import { ControlTypeEnum, createWindow, puma, IconClassicLight, IconClass, div, createButton, span, createTextBox, createLabel, TextModeEnum, PdfViewerToolbarAreaEnum, PdfViewerToolbarSettings, ToolbarItemOnClickEvent, PdfViewerToolbarItem, notify, notifyError, OnContentRenderedEvent } from \"../vr\";\r\nimport { VrControlOptions, VrControl, AttributeSettings } from \"../common\";\r\nimport { PDFDocumentProxy } from \"types/pdfjs\";\r\nimport { Window, WindowOpenEvent } from \"../controls/window\";\r\nimport { LoaderManager } from \"../../../src/managers/loaderManager\";\r\nimport { TextBox } from \"./textbox\";\r\nimport { Label } from \"./label\";\r\nimport { PrintManager } from \"../../../src/managers/printManager\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { DeviceManager } from \"../../../src/managers/deviceManager\";\r\n\r\ndeclare var pdfjsLib: any;\r\n\r\n//#region Options\r\nexport class PdfViewerOptions extends VrControlOptions\r\n{\r\n\tcontent?: string;\r\n\tbase64?: boolean;\r\n\tpopup?: boolean | PdfViewerWindowSettings;\r\n\tscale?: number;\r\n\ttextSelection?: boolean;\r\n\ttoolbar?: boolean | PdfViewerToolbarSettings;\r\n\tfileName?: string;\r\n\r\n\tonContentRendered?: (e: OnContentRenderedEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class PdfViewer extends VrControl\r\n{\r\n\tprivate _state: PdfState;\r\n\tprivate _window: Window;\r\n\tprivate _currentPage: number;\r\n\tprivate _pdfViewerCanvasContainer: HTMLElement;\r\n\tprivate _divToolbar: HTMLElement;\r\n\tprivate _txtCurrentPage: TextBox;\r\n\tprivate _lblPagesNumber: Label;\r\n\r\n\tconstructor(element: HTMLElement, options?: PdfViewerOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new PdfViewerOptions();\r\n\r\n\t\tif (options.base64 == null) options.base64 = false;\r\n\t\tif (options.scale == null) (DeviceManager.isMobile()) ? options.scale = 0.5 : options.scale = 1.3;\r\n\t\tif (options.textSelection == null) options.textSelection = true;\r\n\t\tif (options.fileName == null) options.fileName = \"Documento\";\r\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\r\n\r\n\t\tif (options.popup == null) options.popup = false;\r\n\t\tif (options.popup !== false) \r\n\t\t{\r\n\t\t\tif (options.popup === true)\r\n\t\t\t\toptions.popup = new PdfViewerWindowSettings();\r\n\r\n\t\t\tif (options.popup.maximize == null) options.popup.maximize = false;\r\n\t\t\tif (options.popup.title == null) options.popup.title = \"Documento\";\r\n\t\t}\r\n\r\n\t\tif (options.toolbar == null) options.toolbar = true;\r\n\t\tif (options.toolbar !== false)\r\n\t\t{\r\n\t\t\tif (options.toolbar === true)\r\n\t\t\t\toptions.toolbar = new PdfViewerToolbarSettings();\r\n\r\n\t\t\tif (options.toolbar.navigation == null) options.toolbar.navigation = true;\r\n\t\t\tif (options.toolbar.print == null) options.toolbar.print = true;\r\n\t\t\tif (options.toolbar.zoom == null) options.toolbar.zoom = true;\r\n\t\t\tif (options.toolbar.download == null) options.toolbar.download = true;\r\n\t\t\tif (options.toolbar.items == null) options.toolbar.items = [];\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.PdfViewer);\r\n\t\tthis.container().style.cssText += \"display: flex;\";\r\n\t\tthis._state = new PdfState(1, options.scale);\r\n\r\n\t\t//#region Window\r\n\t\tif (options.popup !== false)\r\n\t\t{\r\n\t\t\tthis._window = createWindow({\r\n\t\t\t\taddToControlList: false,\r\n\t\t\t\ttitle: options.popup.title,\r\n\t\t\t\tfooter: false,\r\n\t\t\t\tcloseable: options.popup.closeable,\r\n\t\t\t\tclass: \"vrWindowPdfViewer\",\r\n\t\t\t\tclassContainer: this.element().id + \"_wndUtility\",\r\n\t\t\t\tonOpen: options.popup.onOpen\r\n\t\t\t});\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tlet elementToAppend = (options.popup === false) ? this.element() : this._window.element();\r\n\t\tthis._divToolbar = div(elementToAppend, { class: \"vrPdfViewerDivToolbar\" });\r\n\t\tif (options.toolbar !== false)\r\n\t\t\tthis.createToolbar();\r\n\r\n\t\tthis._pdfViewerCanvasContainer = puma(\"<div class='vrPdfViewerCanvasContainer'></div>\").vrAppendToPuma(elementToAppend)[0];\r\n\t\tpuma(this._pdfViewerCanvasContainer).on(\"scroll\", (e: JQuery.ScrollEvent) =>\r\n\t\t{\r\n\t\t\t//#region Scroll\r\n\t\t\tlet canvasHeight = Number(puma(this.canvasContainer()).find(\"canvas\").attr(\"height\")) + 25;\r\n\t\t\tlet diff = Math.trunc(puma(this._pdfViewerCanvasContainer).scrollTop() / canvasHeight) + 1;\r\n\r\n\t\t\tif (this._txtCurrentPage != null)\r\n\t\t\t\tthis._txtCurrentPage.value(diff, false);\r\n\r\n\t\t\tthis._currentPage = diff;\r\n\t\t\t//#endregion\r\n\t\t});\r\n\r\n\t\tif (options.toolbar === false)\r\n\t\t{\r\n\t\t\tpuma(this._divToolbar).hide();\r\n\t\t\tpuma(this.canvasContainer()).css(\"height\", \"Calc(100% - 25px)\");\r\n\t\t}\r\n\t\telse\r\n\t\t\tpuma(this.canvasContainer()).css(\"height\", \"Calc(100% - 62px)\");\r\n\r\n\t\tthis.content(options.content);\r\n\t}\r\n\r\n\t//#region Toolbar\r\n\tprivate createToolbar()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\toptions.toolbar = (options.toolbar as PdfViewerToolbarSettings);\r\n\r\n\t\t//#region Navigations info\r\n\t\tlet spanLeftArea = span(this.toolbar(), { class: \"vrPdfViewer_toolbarLeftArea\" });\r\n\t\tif (options.toolbar.navigation)\r\n\t\t{\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.Backward,\r\n\t\t\t\tcss: \"background: none; border: none;\",\r\n\t\t\t\tonClick: (e) => this._txtCurrentPage.value(1)\r\n\t\t\t}, spanLeftArea);\r\n\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.CaretLeft,\r\n\t\t\t\tcss: \"background: none; border: none; margin-right: 5px; font-size: 20px; margin-top: 1px;\",\r\n\t\t\t\tonClick: (e) => this._txtCurrentPage.value(this._currentPage - 1)\r\n\t\t\t}, spanLeftArea);\r\n\r\n\t\t\tthis._txtCurrentPage = createTextBox({\r\n\t\t\t\tmode: TextModeEnum.Numeric,\r\n\t\t\t\tvalue: 1,\r\n\t\t\t\twidth: 38,\r\n\t\t\t\tonChanged: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tlet currentPage = Number(e.value);\r\n\t\t\t\t\tif (Number(e.value) > this._state.pdf.numPages)\r\n\t\t\t\t\t\tcurrentPage = this._state.pdf.numPages\r\n\r\n\t\t\t\t\tif (Number(e.value) < 1)\r\n\t\t\t\t\t\tcurrentPage = 1;\r\n\r\n\t\t\t\t\tthis._currentPage = currentPage;\r\n\t\t\t\t\tthis._txtCurrentPage.value(currentPage, false);\r\n\t\t\t\t\tlet canvasHeight = Number(puma(this.canvasContainer()).find(\"canvas\").attr(\"height\"));\r\n\t\t\t\t\tpuma(this.canvasContainer()).scrollTop((canvasHeight + 54) * (currentPage - 1));\r\n\t\t\t\t}\r\n\t\t\t}, spanLeftArea);\r\n\t\t\tthis._currentPage = 1;\r\n\r\n\t\t\tthis._lblPagesNumber = createLabel({\r\n\t\t\t\ttext: \"/ 3\",\r\n\t\t\t\tcssContainer: \"margin-left: 5px; margin-right: 10px; min-width: 20px;\"\r\n\t\t\t}, spanLeftArea);\r\n\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.CaretRight,\r\n\t\t\t\tcss: \"background: none; border: none; font-size: 20px; margin-top: 1px;\",\r\n\t\t\t\tonClick: (e) => this._txtCurrentPage.value(this._currentPage + 1)\r\n\t\t\t}, spanLeftArea);\r\n\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.Forward,\r\n\t\t\t\tcss: \"background: none; border: none;\",\r\n\t\t\t\tonClick: (e) => this._txtCurrentPage.value(this._state.pdf.numPages)\r\n\t\t\t}, spanLeftArea);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Zoom\r\n\t\tlet spanCenterArea = span(this.toolbar(), { css: \"justify-content: center;\", class: \"vrPdfViewer_toolbarCenterArea\" });\r\n\t\tif (options.toolbar.zoom)\r\n\t\t{\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.MagnifyingGlassMinus,\r\n\t\t\t\tcss: \"border: none; background: none; font-size: 16px;\",\r\n\t\t\t\tcssContainer: \"margin-right: 5px;\",\r\n\t\t\t\ttooltip: \"Togli zoom\",\r\n\t\t\t\tonClick: (e) => \r\n\t\t\t\t{\r\n\t\t\t\t\tthis._state.scale -= 0.2;\r\n\t\t\t\t\tthis.content();\r\n\t\t\t\t}\r\n\t\t\t}, spanCenterArea);\r\n\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.MagnifyingGlassPlus,\r\n\t\t\t\tcss: \"border: none; background: none; font-size: 16px;\",\r\n\t\t\t\tcssContainer: \"margin-right: 5px;\",\r\n\t\t\t\ttooltip: \"Aumenta zoom\",\r\n\t\t\t\tonClick: (e) => \r\n\t\t\t\t{\r\n\t\t\t\t\tthis._state.scale += 0.2;\r\n\t\t\t\t\tthis.content();\r\n\t\t\t\t}\r\n\t\t\t}, spanCenterArea);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Buttons\r\n\t\tlet spanRightArea = span(this.toolbar(), { css: \"justify-content: flex-end;\", class: \"vrPdfViewer_toolbarRightArea\" });\r\n\t\tif (options.toolbar.download)\r\n\t\t{\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.Download,\r\n\t\t\t\tcss: \"border: none; background: none; font-size: 16px;\",\r\n\t\t\t\tcssContainer: \"margin-right: 5px;\",\r\n\t\t\t\ttooltip: \"Scarica\",\r\n\t\t\t\tonClick: (e) => this.download()\r\n\t\t\t}, spanRightArea);\r\n\t\t}\r\n\r\n\t\tif (options.toolbar.print)\r\n\t\t{\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: IconClassicLight.Print,\r\n\t\t\t\tcss: \"border: none; background: none; font-size: 16px;\",\r\n\t\t\t\ttooltip: \"Stampa\",\r\n\t\t\t\tonClick: (e) => this.print()\r\n\t\t\t}, spanRightArea);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tthis.addToolbarItems(options.toolbar.items!);\r\n\t}\r\n\r\n\taddToolbarItems(toolbarItems: PdfViewerToolbarItem[])\r\n\t{\r\n\t\tfor (let toolbarItem of toolbarItems)\r\n\t\t{\r\n\t\t\tlet area = this.toolbarRightArea();\r\n\t\t\tswitch (toolbarItem.area)\r\n\t\t\t{\r\n\t\t\t\tcase PdfViewerToolbarAreaEnum.Left: area = this.toolbarLeftArea(); break;\r\n\t\t\t\tcase PdfViewerToolbarAreaEnum.Center: area = this.toolbarCenterArea(); break;\r\n\t\t\t\tcase PdfViewerToolbarAreaEnum.Right: area = this.toolbarRightArea(); break;\r\n\t\t\t}\r\n\r\n\t\t\tlet css = (toolbarItem.css != null) ? toolbarItem.css : \"\";\r\n\t\t\tlet attributes: AttributeSettings[] | undefined = (toolbarItem.value != null) ? [{ name: \"value\", value: toolbarItem.value }] : undefined;\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: toolbarItem.icon,\r\n\t\t\t\ttext: toolbarItem.text,\r\n\t\t\t\tattributes: attributes,\r\n\t\t\t\tcss: \"background: none; border: none;\" + css,\r\n\t\t\t\tcssContainer: toolbarItem.cssContainer,\r\n\t\t\t\tonClick: (e) => \r\n\t\t\t\t{\r\n\t\t\t\t\tif (toolbarItem.onClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickEvent = new ToolbarItemOnClickEvent();\r\n\t\t\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\t\t\tclickEvent.text = toolbarItem.text;\r\n\t\t\t\t\t\tclickEvent.value = toolbarItem.value;\r\n\t\t\t\t\t\ttoolbarItem.onClick(clickEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, area);\r\n\t\t}\r\n\t}\r\n\r\n\ttoolbar()\r\n\t{\r\n\t\treturn this._divToolbar;\r\n\t}\r\n\r\n\ttoolbarLeftArea()\r\n\t{\r\n\t\treturn this.toolbarArea(PdfViewerToolbarAreaEnum.Left);\r\n\t}\r\n\r\n\ttoolbarCenterArea()\r\n\t{\r\n\t\treturn this.toolbarArea(PdfViewerToolbarAreaEnum.Center);\r\n\t}\r\n\r\n\ttoolbarRightArea()\r\n\t{\r\n\t\treturn this.toolbarArea(PdfViewerToolbarAreaEnum.Right);\r\n\t}\r\n\r\n\ttoolbarArea(area: PdfViewerToolbarAreaEnum)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet elementWhereSearch = (options.popup === false) ? this.container() : this._window.container();\r\n\r\n\t\tlet areaClass = \"\";\r\n\t\tswitch (area)\r\n\t\t{\r\n\t\t\tcase PdfViewerToolbarAreaEnum.Left: areaClass = \"vrPdfViewer_toolbarLeftArea\"; break;\r\n\t\t\tcase PdfViewerToolbarAreaEnum.Center: areaClass = \"vrPdfViewer_toolbarCenterArea\"; break;\r\n\t\t\tcase PdfViewerToolbarAreaEnum.Right: areaClass = \"vrPdfViewer_toolbarRightArea\"; break;\r\n\t\t}\r\n\t\treturn puma(elementWhereSearch).find(\".\" + areaClass)[0];\r\n\t}\r\n\t//#endregion\r\n\r\n\tcontent(content?: string)\r\n\t{\r\n\t\tlet promise = new Promise((callback?: Function) =>\r\n\t\t{\r\n\t\t\tpuma(this.canvasContainer()).empty();\r\n\t\t\tlet options = this.getOptions();\r\n\r\n\t\t\tif (content != null)\r\n\t\t\t{\r\n\t\t\t\tLoaderManager.show(this.element());\r\n\t\t\t\toptions.content = content;\r\n\r\n\t\t\t\t//#region Load document\r\n\t\t\t\tconst loadingTask = pdfjsLib.getDocument((!options.base64) ? content : { data: atob(content) });\r\n\t\t\t\tloadingTask.promise.then((pdf: PDFDocumentProxy) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._state.pdf = pdf;\r\n\t\t\t\t\tthis.internalRender();\r\n\t\t\t\t\tLoaderManager.hide();\r\n\r\n\t\t\t\t\tlet options = this.getOptions();\r\n\t\t\t\t\tif (options.onContentRendered != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet event = new OnContentRenderedEvent();\r\n\t\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\t\tevent.pdf = this._state.pdf;\r\n\t\t\t\t\t\toptions.onContentRendered(event);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (callback != null)\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t},\r\n\t\t\t\t\t(error: any) => \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnotifyError(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\t\t\telse if (options.content != null)\r\n\t\t\t\tthis.internalRender();\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n\r\n\tprivate internalRender()\r\n\t{\r\n\t\tlet pagesNumber = this._state.pdf.numPages;\r\n\r\n\t\tif (this._lblPagesNumber != null)\r\n\t\t\tthis._lblPagesNumber.value(\"/ \" + pagesNumber);\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tfor (let i = 1; i <= pagesNumber; i++)\r\n\t\t{\r\n\t\t\tif (this._state.pdf == null)\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tthis._state.pdf.getPage(i).then((page) => \r\n\t\t\t{\r\n\t\t\t\t//#region Structure\r\n\t\t\t\tlet divCanvasTextContainer = div(this.canvasContainer(), { class: \"vrPdfViewer_divCanvasTextContainer\" });\r\n\t\t\t\tlet canvas = puma(\"<canvas style='border-top: solid 50px #e8e8e8;'></canvas>\").vrAppendToPuma(divCanvasTextContainer)[0] as HTMLCanvasElement;\r\n\t\t\t\tlet ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\tlet divTextLayer: HTMLElement | null = null;\r\n\t\t\t\tif (options.textSelection)\r\n\t\t\t\t\tdivTextLayer = puma(\"<div class='vrPdfViewer_divTextLayer'></div>\").vrAppendToPuma(divCanvasTextContainer)[0];\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tlet viewport = page.getViewport({ scale: this._state.scale });\r\n\t\t\t\tcanvas.width = viewport.width;\r\n\t\t\t\tcanvas.height = viewport.height;\r\n\r\n\t\t\t\tif (DeviceManager.isMobile())\r\n\t\t\t\t{\r\n\t\t\t\t\tcanvas.width = (viewport.width > window.innerWidth) ? window.innerWidth : viewport.width;\r\n\t\t\t\t\tcanvas.height = (viewport.height > window.innerHeight) ? window.innerHeight : viewport.height;\r\n\r\n\t\t\t\t\t// this._state.scale = divCanvasTextContainer.clientWidth / (viewport.width * 1);\r\n\t\t\t\t\t// viewport = page.getViewport({ scale: this._state.scale });\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//#region Popup\r\n\t\t\t\tif (options.popup !== false)\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.popup = (options.popup! as PdfViewerWindowSettings);\r\n\t\t\t\t\tif (options.popup.maximize)\r\n\t\t\t\t\t\tthis._window.maximize();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet width = 957;\r\n\t\t\t\t\t\tif (options.popup.width != null)\r\n\t\t\t\t\t\t\twidth = options.popup.width;\r\n\r\n\t\t\t\t\t\tlet height = document.body.clientHeight - 60;\r\n\t\t\t\t\t\tif (options.popup.height != null)\r\n\t\t\t\t\t\t\theight = options.popup.height;\r\n\r\n\t\t\t\t\t\tthis._window.width(width);\r\n\t\t\t\t\t\tthis._window.element().style.cssText += \"height: \" + height + \"px;\";\r\n\t\t\t\t\t\tthis._window.container().style.cssText += \"height: \" + (height + 30) + \"px;\";\r\n\t\t\t\t\t\tthis._window.center();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tpage.render({\r\n\t\t\t\t\tcanvasContext: ctx!,\r\n\t\t\t\t\tviewport: viewport\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//#region Text selection\r\n\t\t\t\tif (options.textSelection)\r\n\t\t\t\t{\r\n\t\t\t\t\tpage.getTextContent().then((textContent) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpdfjsLib.renderTextLayer({\r\n\t\t\t\t\t\t\ttextContent: textContent,\r\n\t\t\t\t\t\t\tcontainer: divTextLayer,\r\n\t\t\t\t\t\t\tviewport: viewport\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}, (error: any) => notifyError(error));\r\n\t\t}\r\n\t}\r\n\r\n\tpage(page?: number)\r\n\t{\r\n\t\tif (page != null)\r\n\t\t\tthis._txtCurrentPage.value(page);\r\n\r\n\t\treturn this._currentPage;\r\n\t}\r\n\r\n\tfileName(name?: string)\r\n\t{\r\n\t\tif (name != null)\r\n\t\t\tthis.getOptions().fileName = name;\r\n\r\n\t\treturn this.getOptions().fileName;\r\n\t}\r\n\r\n\tdownload()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tthis.getData().then((base64bytes) => UtilityManager.downloadPdfBytes(base64bytes, options.fileName))\r\n\t}\r\n\r\n\tprint()\r\n\t{\r\n\t\tthis.getData().then((base64bytes) => PrintManager.printBytes(base64bytes))\r\n\t}\r\n\r\n\tasync getData(): Promise<string>\r\n\t{\r\n\t\tif (this._state.pdf != null)\r\n\t\t{\r\n\t\t\tlet data = await this._state.pdf.getData();\r\n\t\t\tlet base64string = UtilityManager.bytesToBase64(data);\r\n\t\t\treturn base64string;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\t//#region Window\r\n\topen(content?: string)\r\n\t{\r\n\t\tlet promise = new Promise((callback?: Function) =>\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tif (options.popup === false)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (content != null)\r\n\t\t\t{\r\n\t\t\t\tthis.content(content).then(() =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (callback != null)\r\n\t\t\t\t\t\tcallback()\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis._window.open();\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n\r\n\tclose()\r\n\t{\r\n\t\tthis._window.close();\r\n\t}\r\n\r\n\twindow()\r\n\t{\r\n\t\treturn this._window;\r\n\t}\r\n\r\n\twindowTitle(title: string)\r\n\t{\r\n\t\tthis._window.title(title);\r\n\t}\r\n\r\n\twindowCloseCallback(callback: Function)\r\n\t{\r\n\t\tif (this.window() != null)\r\n\t\t{\r\n\t\t\tthis.window().close\r\n\t\t}\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<PdfViewerOptions>();\r\n\t}\r\n\r\n\tprivate canvasContainer(): HTMLElement\r\n\t{\r\n\t\treturn this._pdfViewerCanvasContainer;\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass PdfState\r\n{\r\n\tpdf: PDFDocumentProxy;\r\n\tcurrentPage: number;\r\n\tscale: number;\r\n\r\n\tconstructor(currentPage: number, scale: number)\r\n\t{\r\n\t\tthis.currentPage = currentPage;\r\n\t\tthis.scale = scale;\r\n\t}\r\n}\r\n\r\nclass PdfViewerWindowSettings\r\n{\r\n\tmaximize?: boolean;\r\n\twidth?: number;\r\n\theight?: number;\r\n\ttitle?: string;\r\n\tcloseable?: boolean;\r\n\tonOpen?(e: WindowOpenEvent): void;\r\n}\r\n\r\nclass OnWindowOpenEvent\r\n{\r\n\tsender: PdfViewer;\r\n}\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, div, puma, confirm, createLabel, icon, IconClassicLight, createButton, span, notify, NotifierTypeEnum, IconClassicRegular, UploadValidationErrorTypeEnum } from \"../vr\";\r\n\r\n//#region Options\r\nexport class UploadOptions extends VrControlOptions\r\n{\r\n\tdropArea?: boolean | HTMLElement | string | JQuery;\r\n\tdropAreaText?: boolean | string;\r\n\twebApiSettings?: UploadWebApiSettings;\r\n\tmultiple?: boolean;\r\n\tprogressBar?: boolean;\r\n\tfileList?: boolean;\r\n\tfileListMaxHeight?: number;\r\n\tuploadButton?: boolean | string;\r\n\tautoUpload?: boolean;\r\n\tconfirmToRemoveFile?: boolean;\r\n\tcanRemoveFile?: boolean;\r\n\tvalidation?: UploadValidation;\r\n\tasync?: boolean;\r\n\r\n\tonProgress?: (e: UploadProgressEvent) => void;\r\n\tonError?: (e: UploadErrorEvent) => void;\r\n\tonValidationError?: (e: UploadValidationErrorEvent) => void;\r\n\tonSuccess?: (e: UploadSuccessEvent) => void;\r\n\tonDragEnter?: (e: UploadDragEnterEvent) => void;\r\n\tonDragOver?: (e: UploadDragOverEvent) => void;\r\n\tonDragLeave?: (e: UploadDragLeaveEvent) => void;\r\n\tonDrop?: (e: UploadDropEvent) => void;\r\n\tonAbort?: (e: UploadAbortEvent) => void;\r\n\tonStart?: (e: UploadStartEvent) => void;\r\n\tonRemove?: (e: UploadRemoveEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Upload extends VrControl\r\n{\r\n\tprivate _uploadProgress: number[];\r\n\tprivate _divProgressBar: HTMLProgressElement;\r\n\tprivate _divFileList: HTMLElement;\r\n\tprivate _divDropArea: HTMLElement | null;\r\n\tprivate _files: File[];\r\n\tprivate _inputFile: HTMLInputElement;\r\n\tprivate _dicFileXhr: Map<File, XMLHttpRequest>;\r\n\r\n\tconstructor(element: HTMLElement, options?: UploadOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new UploadOptions();\r\n\r\n\t\tif (options.width == null) options.width = \"100%\";\r\n\t\tif (options.webApiSettings == null) options.webApiSettings = new UploadWebApiSettings();\r\n\t\tif (options.multiple == null) options.multiple = false;\r\n\t\tif (options.fileList == null) options.fileList = true;\r\n\t\tif (options.fileListMaxHeight == null) options.fileListMaxHeight = 200;\r\n\t\tif (options.async == null) options.async = true;\r\n\r\n\t\tif (options.dropArea == null) options.dropArea = true;\r\n\t\tif (options.dropArea !== true && options.progressBar == null) options.progressBar = false;\r\n\t\tif (options.dropAreaText == null) options.dropAreaText = \"Trascina qui il file\";\r\n\t\tif (typeof (options.dropArea) == \"boolean\")\r\n\t\t{\r\n\t\t\tif (options.dropArea) options.dropAreaText = \"Trascina qui il file\";\r\n\t\t\telse options.dropAreaText = \"\";\r\n\t\t}\r\n\r\n\t\tif (options.progressBar == null) options.progressBar = true;\r\n\t\tif (options.uploadButton == null) options.uploadButton = true;\r\n\t\tif (options.uploadButton === true) options.uploadButton = \"Seleziona...\";\r\n\t\tif (options.autoUpload == null) options.autoUpload = true;\r\n\t\tif (options.confirmToRemoveFile == null) options.confirmToRemoveFile = false;\r\n\t\tif (options.canRemoveFile == null) options.canRemoveFile = true;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Upload);\r\n\t\tlet uploadContainer = null;\r\n\t\tthis._files = [];\r\n\t\tthis._dicFileXhr = new Map<File, XMLHttpRequest>();\r\n\r\n\t\t//#region Drop area\r\n\t\tthis._divDropArea = null;\r\n\t\tif (options.dropArea !== false)\r\n\t\t{\r\n\t\t\t//#region Drop area element\r\n\t\t\tif (typeof (options.dropArea) == \"boolean\" && options.dropArea)\r\n\t\t\t{\r\n\t\t\t\tthis._divDropArea = div(this.element(), { class: \"vrUploadDropArea\" });\r\n\t\t\t\tuploadContainer = this._divDropArea;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tuploadContainer = this.element();\r\n\t\t\t\tif (typeof (options.dropArea) == \"string\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!options.dropArea.startsWith(\"#\"))\r\n\t\t\t\t\t\toptions.dropArea = \"#\" + options.dropArea;\r\n\r\n\t\t\t\t\tthis._divDropArea = puma(options.dropArea)[0];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._divDropArea = puma(options.dropArea)[0];\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Events\r\n\t\t\t[\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach(eventName =>\r\n\t\t\t{\r\n\t\t\t\tthis._divDropArea!.addEventListener(eventName, (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t}, false);\r\n\t\t\t});\r\n\r\n\t\t\tpuma(this._divDropArea).on(\"dragenter\", (e: JQuery.DragEnterEvent) =>\r\n\t\t\t{\r\n\t\t\t\t//#region DragEnter event\r\n\t\t\t\tif (options!.onDragEnter != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet dragEnterEvent = new UploadDragEnterEvent();\r\n\t\t\t\t\tdragEnterEvent.sender = this;\r\n\t\t\t\t\tdragEnterEvent.element = e.currentTarget;\r\n\t\t\t\t\tdragEnterEvent.event = e;\r\n\t\t\t\t\toptions!.onDragEnter(dragEnterEvent);\r\n\r\n\t\t\t\t\tif (e.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tpuma(e.currentTarget).addClass(\"highlight\");\r\n\t\t\t});\r\n\r\n\t\t\tpuma(this._divDropArea).on(\"dragover\", (e: JQuery.DragOverEvent) =>\r\n\t\t\t{\r\n\t\t\t\t//#region DragEnter event\r\n\t\t\t\tif (options!.onDragOver != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet dragOverEvent = new UploadDragOverEvent();\r\n\t\t\t\t\tdragOverEvent.sender = this;\r\n\t\t\t\t\tdragOverEvent.element = e.currentTarget;\r\n\t\t\t\t\tdragOverEvent.event = e;\r\n\t\t\t\t\toptions!.onDragOver(dragOverEvent);\r\n\r\n\t\t\t\t\tif (e.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tpuma(e.currentTarget).addClass(\"highlight\");\r\n\t\t\t});\r\n\r\n\t\t\tpuma(this._divDropArea).on(\"dragleave\", (e: JQuery.DragLeaveEvent) =>\r\n\t\t\t{\r\n\t\t\t\t//#region DragEnter event\r\n\t\t\t\tif (options!.onDragLeave != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet dragLeaveEvent = new UploadDragLeaveEvent();\r\n\t\t\t\t\tdragLeaveEvent.sender = this;\r\n\t\t\t\t\tdragLeaveEvent.element = e.currentTarget;\r\n\t\t\t\t\tdragLeaveEvent.event = e;\r\n\t\t\t\t\toptions!.onDragLeave(dragLeaveEvent);\r\n\r\n\t\t\t\t\tif (e.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tpuma(e.currentTarget).removeClass(\"highlight\");\r\n\t\t\t});\r\n\r\n\t\t\tpuma(this._divDropArea).on(\"drop\", (e: JQuery.DropEvent) =>\r\n\t\t\t{\r\n\t\t\t\tlet dataTransfer = e.originalEvent!.dataTransfer!;\r\n\t\t\t\tlet files: File[] = [...dataTransfer.files as any];\r\n\r\n\t\t\t\t//#region Drop event\r\n\t\t\t\tif (options!.onDrop != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet dropEvent = new UploadDropEvent();\r\n\t\t\t\t\tdropEvent.sender = this;\r\n\t\t\t\t\tdropEvent.files = files;\r\n\t\t\t\t\tdropEvent.event = e;\r\n\t\t\t\t\toptions!.onDrop(dropEvent);\r\n\r\n\t\t\t\t\tif (e.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tpuma(e.currentTarget).removeClass(\"highlight\");\r\n\t\t\t\tthis.manageLoadingFiles(files);\r\n\t\t\t});\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t\telse\r\n\t\t\tuploadContainer = this.element();\r\n\t\t//#endregion\r\n\r\n\t\t//#region Input\r\n\t\tlet multiple = \"\";\r\n\t\tif (options.multiple)\r\n\t\t\tmultiple = \"multiple\";\r\n\r\n\t\tlet labelInput = puma(\"<label for='\" + this.element().id + \"_vrUpload' class='vrUploadInput'><i class='\" + IconClassicLight.CloudArrowUp + \" vrUploadBtnIcon'></i>\" + options.uploadButton + \"</label>\").vrAppendToPuma(uploadContainer);\r\n\t\tthis._inputFile = puma(\"<input \" + multiple + \" id='\" + this.element().id + \"_vrUpload' type='file' style='display: none;'/>\").vrAppendToPuma(uploadContainer)[0];\r\n\t\tif (!options.uploadButton)\r\n\t\t\tpuma(labelInput).hide();\r\n\r\n\t\tif (options.dropArea === true)\r\n\t\t{\r\n\t\t\tcreateLabel({\r\n\t\t\t\ttext: String(options.dropAreaText),\r\n\t\t\t\tcssContainer: \"margin-left: 5px;\",\r\n\t\t\t\tcss: \"text-align: left; font-style: italic; color: #a0a0a0;\"\r\n\t\t\t}, this._divDropArea);\r\n\t\t}\r\n\r\n\t\tpuma(this._inputFile).on(\"change\", (e: JQuery.ChangeEvent) =>\r\n\t\t{\r\n\t\t\tlet files: File[] = [...e.currentTarget.files as any];\r\n\t\t\tthis.manageLoadingFiles(files);\r\n\t\t});\r\n\t\t//#endregion\r\n\r\n\t\t//#region Progress bar\r\n\t\tthis._divProgressBar = puma(\"<progress class='vrUploadProgressBar' max=100 value=0></progress>\").vrAppendToPuma(this.element())[0];\r\n\t\tpuma(this._divProgressBar).hide();\r\n\t\t//#endregion\r\n\r\n\t\t//#region File list\r\n\t\tthis._divFileList = div(this.container(), { class: \"vrUploadDivFileList\", css: \"display: none; max-height: \" + options.fileListMaxHeight + \"px;\" });\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\r\n\t//#region Files management\r\n\tuploadFiles()\r\n\t{\r\n\t\tfor (let i = 0; i < this._files.length; i++)\r\n\t\t{\r\n\t\t\tlet file = this._files[i];\r\n\t\t\tthis.uploadFile(file, i, false);\r\n\t\t}\r\n\t}\r\n\r\n\taddFile(file: File)\r\n\t{\r\n\t\tthis.addFiles([file]);\r\n\t}\r\n\r\n\taddFiles(files: File[])\r\n\t{\r\n\t\tthis.manageLoadingFiles(files);\r\n\t}\r\n\r\n\tgetFiles()\r\n\t{\r\n\t\treturn this._files;\r\n\t}\r\n\r\n\tremoveFileAtIndex(index: number)\r\n\t{\r\n\t\tlet divFile = puma(this.divFileList()).find(\".vrUploadDivFile:nth-child(\" + (index + 1) + \")\")[0];\r\n\t\tpuma(divFile).remove();\r\n\t\tthis._dicFileXhr.delete(this._files[index]);\r\n\r\n\t\tthis._files.splice(index, 1);\r\n\t\tif (this._files.length == 0)\r\n\t\t\tthis.clear();\r\n\t}\r\n\r\n\tprivate manageLoadingFiles(files: File[])\r\n\t{\r\n\t\tif (!this.enabled())\r\n\t\t\treturn;\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tthis.initializeProgress(files.length);\r\n\r\n\t\t//#region On start\r\n\t\tif (options!.onStart != null)\r\n\t\t{\r\n\t\t\tlet startEvent = new UploadStartEvent();\r\n\t\t\tstartEvent.sender = this;\r\n\t\t\tstartEvent.files = files;\r\n\t\t\toptions!.onStart(startEvent);\r\n\r\n\t\t\tif (startEvent.isDefaultPrevented())\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tif (options.fileList)\r\n\t\t{\r\n\t\t\tpuma(this.divFileList()).show();\r\n\r\n\t\t\tif (options.multiple == false)\r\n\t\t\t\tpuma(this.element()).hide();\r\n\t\t}\r\n\r\n\t\tlet filesAdded = [];\r\n\t\tfor (let i = 0; i < files.length; i++)\r\n\t\t{\r\n\t\t\tlet file = files[i];\r\n\r\n\t\t\t//#region Validation\r\n\t\t\tif (options.validation != null)\r\n\t\t\t{\r\n\t\t\t\tif (options.validation.showFileIfError == null) options.validation.showFileIfError = true;\r\n\t\t\t\tif (options.validation.checkMimeType == null) options.validation.checkMimeType = false;\r\n\r\n\t\t\t\tif (options.validation.minSize != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (file.size < options.validation.minSize)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet errorMessage = (options.validation.minSizeErrorMessage == null) ? \"Dimensione minima consentita: \" + this.formatBytes(options.validation.minSize) : options.validation.minSizeErrorMessage;\r\n\t\t\t\t\t\tnotify(errorMessage, { type: NotifierTypeEnum.Error });\r\n\r\n\t\t\t\t\t\tif (options.validation.showFileIfError)\r\n\t\t\t\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.ErrorValidationMinSize);\r\n\r\n\t\t\t\t\t\tif (!options.fileList)\r\n\t\t\t\t\t\t\tthis.manageValidationError(UploadValidationErrorTypeEnum.MinSize, file);\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options.validation.maxSize != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (file.size > options.validation.maxSize)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet errorMessage = (options.validation.maxSizeErrorMessage == null) ? \"Dimensione massima consentita: \" + this.formatBytes(options.validation.maxSize) : options.validation.maxSizeErrorMessage;\r\n\t\t\t\t\t\tnotify(errorMessage, { type: NotifierTypeEnum.Error });\r\n\r\n\t\t\t\t\t\tif (options.validation.showFileIfError)\r\n\t\t\t\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.ErrorValidationMaxSize);\r\n\r\n\t\t\t\t\t\tif (!options.fileList)\r\n\t\t\t\t\t\t\tthis.manageValidationError(UploadValidationErrorTypeEnum.MaxSize, file);\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options.validation.extensions != null && options.validation.extensions[0] != \".\" && options.validation.extensions[0] != \"*\")\r\n\t\t\t\t{\r\n\t\t\t\t\tlet isValid = true;\r\n\r\n\t\t\t\t\tif (options.validation.checkMimeType)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Mime Type\r\n\t\t\t\t\t\tlet mimeTypes: string[] = [];\r\n\t\t\t\t\t\tfor (let extension of options.validation.extensions)\r\n\t\t\t\t\t\t\tmimeTypes.vrPushRange(this.getMimeTypeFromExtension(extension.toLowerCase()));\r\n\r\n\t\t\t\t\t\tisValid = mimeTypes.includes(file.type.toLowerCase());\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Extension\r\n\t\t\t\t\t\tlet extensionsArray = file.name.split(\".\");\r\n\t\t\t\t\t\tlet extension = extensionsArray[extensionsArray.length - 1].toLowerCase();\r\n\t\t\t\t\t\tisValid = options.validation.extensions.map(k => k.replace(\".\", \"\").toLowerCase()).includes(extension);\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!isValid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet errorMessage = (options.validation.extensionsErrorMessage == null) ? \"Estensioni consentite: \" + options.validation.extensions : options.validation.extensionsErrorMessage;\r\n\t\t\t\t\t\tnotify(errorMessage, { type: NotifierTypeEnum.Error });\r\n\r\n\t\t\t\t\t\tif (options.validation.showFileIfError)\r\n\t\t\t\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.ErrorValidationExtensions);\r\n\r\n\t\t\t\t\t\tif (!options.fileList)\r\n\t\t\t\t\t\t\tthis.manageValidationError(UploadValidationErrorTypeEnum.Extensions, file);\r\n\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tfilesAdded.push(file);\r\n\r\n\t\t\tif (options.autoUpload)\r\n\t\t\t\tthis.uploadFile(file, i, true);\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis._files.push(file);\r\n\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.Default);\r\n\t\t\t\tpuma(this.progressBar()).hide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (filesAdded.length == 0)\r\n\t\t\tpuma(this.progressBar()).hide();\r\n\r\n\t\tfilesAdded = [];\r\n\t}\r\n\r\n\tprivate drawFile(file: File, drawTypeEnum: UploadDrawTypeEnum)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.fileList)\r\n\t\t{\r\n\t\t\tlet divFile = div(this._divFileList, { class: \"vrUploadDivFile\" });\r\n\t\t\tlet size = this.formatBytes(file.size);\r\n\t\t\tlet fileInfo = this.getFileInfo(file.type);\r\n\r\n\t\t\ticon(fileInfo.icon, divFile, { css: \"color: \" + fileInfo.color + \";\", class: \"vrUploadFileIcon\" });\r\n\r\n\t\t\tlet underLabel = \"<span class='vrUploadLblUnderFileName' style='color: #a0a0a0;'>\" + size + \"</span>\";\r\n\r\n\t\t\t//#region Error message\r\n\t\t\tif (drawTypeEnum == UploadDrawTypeEnum.ErrorValidationExtensions || drawTypeEnum == UploadDrawTypeEnum.ErrorValidationMaxSize\r\n\t\t\t\t|| drawTypeEnum == UploadDrawTypeEnum.ErrorValidationMinSize)\r\n\t\t\t{\r\n\t\t\t\tlet validationErrorTypeEnum = UploadValidationErrorTypeEnum.MinSize;\r\n\t\t\t\tswitch (drawTypeEnum)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase UploadDrawTypeEnum.ErrorValidationMinSize: validationErrorTypeEnum = UploadValidationErrorTypeEnum.MinSize; break;\r\n\t\t\t\t\tcase UploadDrawTypeEnum.ErrorValidationMaxSize: validationErrorTypeEnum = UploadValidationErrorTypeEnum.MaxSize; break;\r\n\t\t\t\t\tcase UploadDrawTypeEnum.ErrorValidationExtensions: validationErrorTypeEnum = UploadValidationErrorTypeEnum.Extensions; break;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet errorMessage = this.manageValidationError(validationErrorTypeEnum, file);\r\n\t\t\t\tif (errorMessage != \"\")\r\n\t\t\t\t\tunderLabel = \"<span class='vrUploadLblUnderFileName' style='color: red;'>\" + errorMessage + \"</span>\";\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tcreateLabel({\r\n\t\t\t\twidth: \"Calc(100% - 53px)\",\r\n\t\t\t\ttext: \"<span class='vrUploadFileName' style='font-size: 14px; font-weight: 600;'>\" + file.name + \"</span>\" + underLabel,\r\n\t\t\t\tnoBr: 4,\r\n\t\t\t\tclass: \"vrUploadFileDescription\"\r\n\t\t\t}, divFile);\r\n\r\n\t\t\t//#region Percentage/Spinner\r\n\t\t\tlet spanPercentageSpinner = span(divFile, { class: \"vrUploadDivFilePercentage\" });\r\n\t\t\tcreateLabel({\r\n\t\t\t\tvisible: drawTypeEnum == UploadDrawTypeEnum.TempLoading,\r\n\t\t\t\tclass: \"vrUploadFilePercentage\",\r\n\t\t\t\tfontSize: 11\r\n\t\t\t}, spanPercentageSpinner);\r\n\r\n\t\t\tlet iconSpinner = icon(IconClassicLight.Spinner, spanPercentageSpinner, { class: \"vrUploadFileSpinner\" });\r\n\t\t\tif (drawTypeEnum != UploadDrawTypeEnum.TempLoading)\r\n\t\t\t\tpuma(iconSpinner).hide();\r\n\t\t\t//#endregion\r\n\r\n\t\t\tcreateButton({\r\n\t\t\t\ticon: (drawTypeEnum == UploadDrawTypeEnum.TempLoading) ? IconClassicLight.Trash : IconClassicRegular.Xmark,\r\n\t\t\t\tcssContainer: \"width: 14px; margin-left: 5px;\",\r\n\t\t\t\tcss: \"border: none; background: none; font-size: 18px; color: red; width: 14px; padding: 0px;\",\r\n\t\t\t\tclass: \"vrUploadFileButtonAction\",\r\n\t\t\t\tvisible: options.canRemoveFile,\r\n\t\t\t\tonClick: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (e.sender.icon()!.classList.contains(\"fa-trash\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region On abort\r\n\t\t\t\t\t\tif (options!.onAbort != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet abortEvent = new UploadAbortEvent();\r\n\t\t\t\t\t\t\tabortEvent.sender = this;\r\n\t\t\t\t\t\t\tabortEvent.xhr = this._dicFileXhr.get(file)!;\r\n\t\t\t\t\t\t\tabortEvent.file = file;\r\n\t\t\t\t\t\t\toptions!.onAbort(abortEvent);\r\n\r\n\t\t\t\t\t\t\tif (abortEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\tthis._dicFileXhr.get(file)!.abort();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (options.confirmToRemoveFile)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconfirm(\"Confermi di voler rimuovere il file?\").then(() =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpuma(divFile).remove();\r\n\t\t\t\t\t\t\t\tthis.removeFile(divFile, file);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpuma(divFile).remove();\r\n\t\t\t\t\t\t\tthis.removeFile(divFile, file);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, divFile);\r\n\t\t\treturn divFile;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate manageValidationError(typeEnum: UploadValidationErrorTypeEnum, file: File)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tlet errorMessage = \"\";\r\n\t\tif (typeEnum == UploadValidationErrorTypeEnum.MinSize)\r\n\t\t\terrorMessage = (options.validation!.minSizeErrorMessage == null) ? \"Dimensione minima consentita: \" + this.formatBytes(options.validation!.minSize!) : options.validation!.minSizeErrorMessage;\r\n\t\tif (typeEnum == UploadValidationErrorTypeEnum.MaxSize)\r\n\t\t\terrorMessage = (options.validation!.maxSizeErrorMessage == null) ? \"Dimensione massima consentita: \" + this.formatBytes(options.validation!.maxSize!) : options.validation!.maxSizeErrorMessage;\r\n\t\tif (typeEnum == UploadValidationErrorTypeEnum.Extensions)\r\n\t\t\terrorMessage = (options.validation!.extensionsErrorMessage == null) ? \"Estensioni consentite: \" + options.validation!.extensions : options.validation!.extensionsErrorMessage;\r\n\r\n\t\tif (errorMessage != \"\")\r\n\t\t{\r\n\t\t\tif (options.onValidationError != null)\r\n\t\t\t{\r\n\t\t\t\tlet errorEvent = new UploadValidationErrorEvent();\r\n\t\t\t\terrorEvent.sender = this;\r\n\t\t\t\terrorEvent.file = file;\r\n\t\t\t\terrorEvent.message = errorMessage;\r\n\t\t\t\terrorEvent.type = typeEnum;\r\n\t\t\t\toptions.onValidationError(errorEvent);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errorMessage;\r\n\t}\r\n\r\n\tprivate removeFile(divFile: HTMLElement, file: File)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\t//#region Remove event\r\n\t\tif (options!.onRemove != null)\r\n\t\t{\r\n\t\t\tlet removeEvent = new UploadRemoveEvent();\r\n\t\t\tremoveEvent.sender = this;\r\n\t\t\tremoveEvent.element = divFile;\r\n\t\t\tremoveEvent.file = file;\r\n\t\t\tremoveEvent.index = this.getFiles().indexOf(file);\r\n\t\t\toptions!.onRemove(removeEvent);\r\n\r\n\t\t\tif (removeEvent.isDefaultPrevented())\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tthis._files.vrDelete(file);\r\n\t\tthis._dicFileXhr.delete(file);\r\n\r\n\t\tif (this._files.length == 0)\r\n\t\t\tthis.clear();\r\n\t}\r\n\r\n\tprivate uploadFile(file: File, i: number, drawFile = true)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tvar url = options.webApiSettings!.url!;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open(\"POST\", url, options.async!);\r\n\r\n\t\t//#region Header parameters\r\n\t\tif (options.webApiSettings!.parameters != null)\r\n\t\t{\r\n\t\t\tlet parameters = [];\r\n\t\t\tif (Array.isArray(options.webApiSettings!.parameters))\r\n\t\t\t\tparameters = options.webApiSettings!.parameters;\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet parametersEvent = new UploadParametersEvent();\r\n\t\t\t\tparametersEvent.sender = this;\r\n\t\t\t\tparametersEvent.file = file;\r\n\t\t\t\tparameters = options.webApiSettings!.parameters(parametersEvent);\r\n\t\t\t}\r\n\r\n\t\t\tfor (let headerParameter of parameters)\r\n\t\t\t\txhr.setRequestHeader(headerParameter.key, headerParameter.value);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Draw file\r\n\t\tlet divFile: HTMLElement | null = null;\r\n\t\tif (drawFile)\r\n\t\t{\r\n\t\t\tthis._files.push(file);\r\n\t\t\tthis._dicFileXhr.set(file, xhr);\r\n\t\t\tdivFile = this.drawFile(file, UploadDrawTypeEnum.TempLoading);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Progress bar\r\n\t\txhr.upload.addEventListener(\"progress\", (e) =>\r\n\t\t{\r\n\t\t\t//#region On progress\r\n\t\t\tif (options!.onProgress != null)\r\n\t\t\t{\r\n\t\t\t\tlet progressEvent = new UploadProgressEvent();\r\n\t\t\t\tprogressEvent.sender = this;\r\n\t\t\t\tprogressEvent.loaded = e.loaded;\r\n\t\t\t\tprogressEvent.total = e.total;\r\n\t\t\t\tprogressEvent.event = e;\r\n\t\t\t\toptions!.onProgress(progressEvent);\r\n\r\n\t\t\t\tif (progressEvent.isDefaultPrevented())\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tif (options!.progressBar)\r\n\t\t\t\tthis.updateProgress(i, (e.loaded * 100.0 / e.total) || 100);\r\n\r\n\t\t\tlet percentage = Math.round(((e.loaded * 100.0 / e.total) || 99));\r\n\t\t\tif (percentage == 100)\r\n\t\t\t\tpercentage = 99;\r\n\r\n\t\t\tpuma(divFile).find(\".vrUploadFilePercentage\").html(percentage + \"%\");\r\n\t\t});\r\n\t\t//#endregion\r\n\r\n\t\txhr.addEventListener(\"readystatechange\", (e) =>\r\n\t\t{\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200)\r\n\t\t\t{\r\n\t\t\t\t//#region Success\r\n\t\t\t\tif (options.onSuccess != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet successEvent = new UploadSuccessEvent();\r\n\t\t\t\t\tsuccessEvent.sender = this;\r\n\t\t\t\t\tsuccessEvent.status = xhr.status;\r\n\t\t\t\t\tsuccessEvent.statusText = xhr.statusText;\r\n\t\t\t\t\tsuccessEvent.response = JSON.parse(xhr.response);\r\n\t\t\t\t\tsuccessEvent.xhr = xhr;\r\n\t\t\t\t\tsuccessEvent.event = e;\r\n\t\t\t\t\tsuccessEvent.file = file;\r\n\t\t\t\t\toptions.onSuccess(successEvent);\r\n\r\n\t\t\t\t\tif (successEvent.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\t\r\n\r\n\t\t\t\tpuma(this.progressBar()).hide();\r\n\r\n\t\t\t\t//#region Update div file\r\n\t\t\t\tif (divFile != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet fileButtonActionIcon = puma(divFile).find(\".vrUploadFileButtonAction\").find(\".vrIcon\")[0];\r\n\t\t\t\t\tlet classList: string[] = fileButtonActionIcon.className.split(/\\s+/);\r\n\t\t\t\t\tlet iconClassList = classList.filter(k => k.startsWith(\"fa-\"));\r\n\t\t\t\t\tfor (let iconClass of iconClassList)\r\n\t\t\t\t\t\tfileButtonActionIcon.classList.remove(iconClass);\r\n\r\n\t\t\t\t\tpuma(fileButtonActionIcon).addClass(IconClassicRegular.Xmark);\r\n\r\n\t\t\t\t\tpuma(divFile).find(\".vrUploadDivFilePercentage\").remove();\r\n\t\t\t\t\tpuma(divFile).find(\".vrUploadFileName\").vrAppendPuma(\"<i class='\" + IconClassicLight.Check + \"' style='color: green; margin-left: 5px;' title='File caricato correttamente'></i>\");\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\t\t\telse if (xhr.readyState == 4 && xhr.status != 200)\r\n\t\t\t{\r\n\t\t\t\t//#region Error\r\n\t\t\t\tif (options.onError != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet errorEvent = new UploadErrorEvent();\r\n\t\t\t\t\terrorEvent.sender = this;\r\n\t\t\t\t\terrorEvent.status = xhr.status;\r\n\t\t\t\t\terrorEvent.statusText = xhr.statusText;\r\n\t\t\t\t\terrorEvent.response = (xhr.status != 0) ? JSON.parse(xhr.response) : {};\r\n\t\t\t\t\terrorEvent.xhr = xhr;\r\n\t\t\t\t\terrorEvent.event = e;\r\n\t\t\t\t\terrorEvent.file = file;\r\n\t\t\t\t\toptions.onError(errorEvent);\r\n\r\n\t\t\t\t\tif (errorEvent.isDefaultPrevented())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tpuma(this.progressBar()).hide();\r\n\r\n\t\t\t\t//#region Update div file\r\n\t\t\t\tif (divFile != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet fileButtonActionIcon = puma(divFile).find(\".vrUploadFileButtonAction\").find(\".vrIcon\")[0];\r\n\t\t\t\t\tlet classList: string[] = fileButtonActionIcon.className.split(/\\s+/);\r\n\t\t\t\t\tlet iconClassList = classList.filter(k => k.startsWith(\"fa-\"));\r\n\t\t\t\t\tfor (let iconClass of iconClassList)\r\n\t\t\t\t\t\tfileButtonActionIcon.classList.remove(iconClass);\r\n\r\n\t\t\t\t\tpuma(fileButtonActionIcon).addClass(IconClassicRegular.Xmark);\r\n\r\n\t\t\t\t\tlet uploadFileIcon = puma(divFile).find(\"i.vrUploadFileIcon\");\r\n\t\t\t\t\tuploadFileIcon.removeClass();\r\n\t\t\t\t\tuploadFileIcon.addClass(IconClassicLight.TriangleExclamation + \" vrUploadFileIcon\");\r\n\t\t\t\t\tuploadFileIcon[0].style.cssText += \"color: red; margin-left: -3px;\";\r\n\r\n\t\t\t\t\tpuma(divFile).find(\".vrUploadDivFilePercentage\").remove();\r\n\t\t\t\t\tpuma(divFile).find(\".vrUploadFileDescription\").html(\"<span class='vrUploadFileName' style='font-weight: 600; font-size: 14px;'>\" + file.name + \"</span><span class='vrUploadLblUnderFileName' style='color: red;'>File non caricato correttamente, o procedura interrotta</span>\");\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tvar formData = new FormData();\r\n\t\tformData.append(\"file\", file);\r\n\t\txhr.send(formData);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Progress bar\r\n\tprivate initializeProgress(numFiles: number)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.progressBar)\r\n\t\t\tpuma(this.progressBar()).show();\r\n\r\n\t\tpuma(this.progressBar())[0].value = 0;\r\n\t\tthis._uploadProgress = [];\r\n\r\n\t\tfor (let i = numFiles; i > 0; i--)\r\n\t\t\tthis._uploadProgress.push(0);\r\n\t}\r\n\r\n\tprivate updateProgress(fileNumber: number, percentage: number)\r\n\t{\r\n\t\tthis._uploadProgress[fileNumber] = percentage;\r\n\t\tlet total = this._uploadProgress.reduce((tot, curr) => tot + curr, 0) / this._uploadProgress.length;\r\n\t\tpuma(this.progressBar())[0].value = total;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Utility\r\n\tdropArea()\r\n\t{\r\n\t\treturn this._divDropArea;\r\n\t}\r\n\r\n\tdivFileList()\r\n\t{\r\n\t\treturn this._divFileList;\r\n\t}\r\n\r\n\tprogressBar()\r\n\t{\r\n\t\treturn this._divProgressBar;\r\n\t}\r\n\r\n\tuploadButton()\r\n\t{\r\n\t\treturn this._inputFile;\r\n\t}\r\n\r\n\tprivate formatBytes(bytes: number)\r\n\t{\r\n\t\tconst thresh = 1024;\r\n\t\tif (Math.abs(bytes) < thresh)\r\n\t\t\treturn bytes + \" B\";\r\n\r\n\t\tconst units = [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n\t\tlet u = -1;\r\n\t\tconst r = 10 ** 2;\r\n\r\n\t\tdo\r\n\t\t{\r\n\t\t\tbytes /= thresh;\r\n\t\t\t++u;\r\n\t\t}\r\n\t\twhile (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\r\n\r\n\t\treturn bytes.toFixed(2) + ' ' + units[u];\r\n\t}\r\n\r\n\tprivate getFileInfo(mimeType: string)\r\n\t{\r\n\t\t//#region Icon\r\n\t\tlet icon = IconClassicLight.File;\r\n\t\tlet color = \"#51B3E1\";\r\n\r\n\t\tswitch (mimeType)\r\n\t\t{\r\n\t\t\tcase \"application/pdf\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FilePdf;\r\n\t\t\t\t\tcolor = \"coral\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"image/png\":\r\n\t\t\tcase \"image/jpeg\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FileImage;\r\n\t\t\t\t\tcolor = \"#adbd29\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"application/msword\":\r\n\t\t\tcase \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FileWord;\r\n\t\t\t\t\tcolor = \"#01A6F0\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"application/vnd.ms-excel\":\r\n\t\t\tcase \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FileExcel;\r\n\t\t\t\t\tcolor = \"#1D6F42\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"text/plain\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FileLines;\r\n\t\t\t\t\tcolor = \"#bdbdbd\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"application/zip\":\r\n\t\t\tcase \"application/x-zip-compressed\":\r\n\t\t\tcase \"application/x-compressed\":\r\n\t\t\tcase \"multipart/x-zip\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FileZipper;\r\n\t\t\t\t\tcolor = \"#b1b4d3\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"video/mp4\":\r\n\t\t\tcase \"video/3gpp\":\r\n\t\t\tcase \"video/x-flv\":\r\n\t\t\tcase \"video/quicktime\":\r\n\t\t\tcase \"video/x-msvideo\":\r\n\t\t\tcase \"video/x-ms-wmv\":\r\n\t\t\t\t{\r\n\t\t\t\t\ticon = IconClassicLight.FileVideo;\r\n\t\t\t\t\tcolor = \"purple\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn { icon: <IconClassicLight>icon, color: color };\r\n\t}\r\n\r\n\tprivate getMimeTypeFromExtension(extension: string)\r\n\t{\r\n\t\tlet mimeType: string[] = [];\r\n\t\tlet extensionsArray = extension.split(\".\")\r\n\t\textension = extensionsArray[extensionsArray.length - 1]\r\n\r\n\t\tswitch (extension)\r\n\t\t{\r\n\t\t\tcase \"html\":\r\n\t\t\tcase \"htm\":\r\n\t\t\tcase \"shtml\":\r\n\t\t\t\tmimeType = [\"\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"css\": mimeType = [\"text/css\"]; break;\r\n\t\t\tcase \"xml\": mimeType = [\"text/xml\"]; break;\r\n\t\t\tcase \"gif\": mimeType = [\"image/gif\"]; break;\r\n\r\n\t\t\tcase \"jpeg\":\r\n\t\t\tcase \"jpg\":\r\n\t\t\t\tmimeType = [\"image/jpeg\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"js\": mimeType = [\"application/x-javascript\"]; break;\r\n\t\t\tcase \"txt\": mimeType = [\"text/plain\"]; break;\r\n\t\t\tcase \"png\": mimeType = [\"image/png\"]; break;\r\n\r\n\t\t\tcase \"tif\":\r\n\t\t\tcase \"tiff\":\r\n\t\t\t\tmimeType = [\"image/tiff\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"ico\": mimeType = [\"image/x-icon\"]; break;\r\n\t\t\tcase \"bmp\": mimeType = [\"image/x-ms-bmp\"]; break;\r\n\t\t\tcase \"svg\": mimeType = [\"image/svg+xml\"]; break;\r\n\r\n\t\t\tcase \"doc\":\r\n\t\t\tcase \"dot\":\r\n\t\t\t\tmimeType = [\"application/msword\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"docx\": mimeType = [\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"]; break;\r\n\t\t\tcase \"dotx\": mimeType = [\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\"]; break;\r\n\t\t\tcase \"docm\": mimeType = [\"application/vnd.ms-word.document.macroEnabled.12\"]; break;\r\n\t\t\tcase \"dotm\": mimeType = [\"application/vnd.ms-word.template.macroEnabled.12\"]; break;\r\n\r\n\t\t\tcase \"pdf\": mimeType = [\"application/pdf\"]; break;\r\n\t\t\tcase \"rtf\": mimeType = [\"application/rtf\"]; break;\r\n\r\n\t\t\tcase \"csv\": mimeType = [\"application/vnd.ms-excel\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", \"text/csv\"]; break;\r\n\r\n\t\t\tcase \"mdb\": mimeType = [\"application/vnd.ms-access\"]; break;\r\n\r\n\t\t\tcase \"xls\":\r\n\t\t\tcase \"xlt\":\r\n\t\t\tcase \"xla\":\r\n\t\t\t\tmimeType = [\"application/vnd.ms-excel\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"xlsx\": mimeType = [\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"]; break;\r\n\t\t\tcase \"xltx\": mimeType = [\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\"]; break;\r\n\t\t\tcase \"xlsm\": mimeType = [\"application/vnd.ms-excel.sheet.macroEnabled.12\"]; break;\r\n\t\t\tcase \"xltm\": mimeType = [\"application/vnd.ms-excel.template.macroEnabled.12\"]; break;\r\n\t\t\tcase \"xlam\": mimeType = [\"application/vnd.ms-excel.addin.macroEnabled.12\"]; break;\r\n\t\t\tcase \"xlsb\": mimeType = [\"application/vnd.ms-excel.sheet.binary.macroEnabled.12\"]; break;\r\n\r\n\t\t\tcase \"ppt\":\r\n\t\t\tcase \"pot\":\r\n\t\t\tcase \"pps\":\r\n\t\t\tcase \"ppa\":\r\n\t\t\t\tmimeType = [\"application/vnd.ms-powerpoint\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"pptx\": mimeType = [\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"]; break;\r\n\t\t\tcase \"potx\": mimeType = [\"application/vnd.openxmlformats-officedocument.presentationml.template\"]; break;\r\n\t\t\tcase \"ppsx\": mimeType = [\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\"]; break;\r\n\t\t\tcase \"ppam\": mimeType = [\"application/vnd.ms-powerpoint.addin.macroEnabled.12\"]; break;\r\n\t\t\tcase \"pptm\": mimeType = [\"application/vnd.ms-powerpoint.presentation.macroEnabled.12\"]; break;\r\n\t\t\tcase \"potm\": mimeType = [\"application/vnd.ms-powerpoint.template.macroEnabled.12\"]; break;\r\n\t\t\tcase \"ppsm\": mimeType = [\"application/vnd.ms-powerpoint.slideshow.macroEnabled.12\"]; break;\r\n\r\n\t\t\tcase \"p7m\": mimeType = [\"application/pkcs7-mime\", \"application/x-pkcs7-mime\"]; break;\r\n\t\t\tcase \"p12\": mimeType = [\"application/pkcs-12\", \"application/x-pkcs12\"]; break;\r\n\r\n\t\t\tcase \"7z\": mimeType = [\"application/x-7z-compressed\"]; break;\r\n\t\t\tcase \"rar\": mimeType = [\"application/x-rar-compressed\"]; break;\r\n\t\t\tcase \"zip\": mimeType = [\"application/x-zip-compressed\"]; break;\r\n\r\n\t\t\tcase \"bin\":\r\n\t\t\tcase \"exe\":\r\n\t\t\tcase \"dll\":\r\n\t\t\tcase \"deb\":\r\n\t\t\tcase \"dmg\":\r\n\t\t\tcase \"eot\":\r\n\t\t\tcase \"iso\":\r\n\t\t\tcase \"img\":\r\n\t\t\tcase \"msi\":\r\n\t\t\tcase \"msp\":\r\n\t\t\tcase \"msm\":\r\n\t\t\t\tmimeType = [\"application/octet-stream\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"mp3\": mimeType = [\"audio/mpeg\"]; break;\r\n\r\n\t\t\tcase \"3ggp\":\r\n\t\t\tcase \"3gp\":\r\n\t\t\t\tmimeType = [\"video/3gpp\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"mpeg\":\r\n\t\t\tcase \"mpg\":\r\n\t\t\t\tmimeType = [\"video/mpeg\"];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"mov\": mimeType = [\"video/quicktime\"]; break;\r\n\t\t\tcase \"flv\": mimeType = [\"video/x-flv\"]; break;\r\n\t\t\tcase \"wmv\": mimeType = [\"video/x-ms-wmv\"]; break;\r\n\t\t\tcase \"avi\": mimeType = [\"video/x-msvideo\"]; break;\r\n\r\n\t\t\tcase \"m4v\":\r\n\t\t\tcase \"m4p\":\r\n\t\t\t\tmimeType = [\"video/mp4\"];\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn mimeType;\r\n\t}\r\n\r\n\tclear()\r\n\t{\r\n\t\tthis._files = [];\r\n\t\tpuma(this.divFileList()).hide();\r\n\t\tpuma(this.divFileList()).empty();\r\n\t\tthis.uploadButton().value = \"\";\r\n\t\tpuma(this.progressBar()).hide();\r\n\t\tthis.progressBar().value = 0;\r\n\r\n\t\tpuma(this.element()).show();\r\n\t}\r\n\r\n\topen()\r\n\t{\r\n\t\tpuma(this.uploadButton()).click();\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Overrides\r\n\tenable()\r\n\t{\r\n\t\tsuper.enable();\r\n\t\twindow.setTimeout(() => this.uploadButton().removeAttribute(\"disabled\"));\r\n\t}\r\n\r\n\tdisable()\r\n\t{\r\n\t\tsuper.disable();\r\n\t\twindow.setTimeout(() => this.uploadButton().setAttribute(\"disabled\", \"disabled\"));\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<UploadOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass UploadWebApiSettings\r\n{\r\n\turl?: string;\r\n\tparameters?: UploadWebApiParameter[] | ((e: UploadParametersEvent) => UploadWebApiParameter[]);\r\n}\r\n\r\nclass UploadWebApiParameter\r\n{\r\n\tkey: string;\r\n\tvalue: any;\r\n}\r\n\r\nclass UploadEvent extends VrControlsEvent\r\n{\r\n\tsender: Upload;\r\n}\r\n\r\nclass UploadParametersEvent extends UploadEvent\r\n{\r\n\tfile: File;\r\n}\r\n\r\nclass UploadDragEvent extends UploadEvent\r\n{\r\n\telement: HTMLElement;\r\n\tevent: any;\r\n}\r\n\r\nclass UploadDragEnterEvent extends UploadDragEvent\r\n{ }\r\n\r\nclass UploadDragOverEvent extends UploadDragEvent\r\n{ }\r\n\r\nclass UploadDragLeaveEvent extends UploadDragEvent\r\n{ }\r\n\r\nclass UploadDropEvent extends UploadEvent\r\n{\r\n\tfiles: File[];\r\n\tevent: any;\r\n}\r\n\r\nclass UploadProgressEvent extends UploadEvent\r\n{\r\n\tloaded: number;\r\n\ttotal: number;\r\n\tevent: any;\r\n}\r\n\r\nclass UploadLoadEvent extends UploadEvent\r\n{\r\n\tevent: Event;\r\n\tstatus: number;\r\n\tstatusText: string;\r\n\txhr: XMLHttpRequest;\r\n\tresponse: any;\r\n\tfile: File;\r\n}\r\n\r\nclass UploadErrorEvent extends UploadLoadEvent\r\n{ }\r\n\r\nclass UploadSuccessEvent extends UploadLoadEvent\r\n{\r\n}\r\n\r\nclass UploadValidationErrorEvent extends UploadEvent\r\n{\r\n\tfile: File;\r\n\tmessage: string;\r\n\ttype: UploadValidationErrorTypeEnum;\r\n}\r\n\r\nclass UploadAbortEvent extends UploadEvent\r\n{\r\n\tfile: File;\r\n\txhr: XMLHttpRequest;\r\n}\r\n\r\nclass UploadStartEvent extends UploadEvent\r\n{\r\n\tfiles: File[];\r\n}\r\n\r\nclass UploadValidation\r\n{\r\n\tminSize?: number;\r\n\tminSizeErrorMessage?: string;\r\n\tmaxSize?: number;\r\n\tmaxSizeErrorMessage?: string;\r\n\textensions?: string[];\r\n\textensionsErrorMessage?: string;\r\n\tcheckMimeType?: boolean;\r\n\tshowFileIfError?: boolean;\r\n}\r\n\r\nenum UploadDrawTypeEnum\r\n{\r\n\tDefault,\r\n\tTempLoading,\r\n\tErrorValidationMinSize,\r\n\tErrorValidationMaxSize,\r\n\tErrorValidationExtensions\r\n}\r\n\r\nclass UploadRemoveEvent extends UploadEvent\r\n{\r\n\tfile: File;\r\n\telement: HTMLElement;\r\n\tindex: number;\r\n}\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, hideLoader, NotifierTypeEnum, notify, PaypalStyleColorEnum, PaypalStyleLabelEnum, PaypalStyleLayoutEnum, PaypalStyleShapeEnum, PaypalStyleSizeEnum, puma, showLoader } from \"../vr\";\r\ndeclare var paypal: any;\r\n\r\n//#region Options\r\nexport class PaypalButtonOptions extends VrControlOptions\r\n{\r\n\tsetupUrl?: PaypalSetupUrl;\r\n\tstyle?: PaypalStyle;\r\n\tintent?: string;\r\n\tcreateOrderRequest?: SetupPaymentRequest;\r\n\tapproveRequest?: ExecutePaymentRequest;\r\n\tenableStandardCardFields?: boolean;\r\n\r\n\tonRendered?: (e: OnPaypalRenderedEvent) => void;\r\n\tonCancel?: (e: OnPaypalCancelEvent) => void;\r\n\tonBeforePayment?: (e: OnPaypalBeforePaymentEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class PaypalButton extends VrControl\r\n{\r\n\tconstructor(element: HTMLElement, options?: PaypalButtonOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new PaypalButtonOptions();\r\n\r\n\t\tif (options.style == null) options.style = new PaypalStyle();\r\n\t\tif (options.style.color == null) options.style.color = PaypalStyleColorEnum.Gold;\r\n\t\tif (options.style.size == null) options.style.size = PaypalStyleSizeEnum.Responsive;\r\n\t\tif (options.style.shape == null) options.style.shape = PaypalStyleShapeEnum.Rect;\r\n\t\tif (options.style.height == null) options.style.height = 30;\r\n\t\tif (options.style.tagline == null) options.style.tagline = false;\r\n\t\tif (options.style.fundingicons == null) options.style.fundingicons = true;\r\n\t\tif (options.style.layout == null) options.style.layout = PaypalStyleLayoutEnum.Horizontal;\r\n\t\tif (options.enableStandardCardFields == null) options.enableStandardCardFields = true;\r\n\t\tif (options.intent == null) options.intent = \"CAPTURE\";\r\n\r\n\t\tif (options.createOrderRequest == null) options.createOrderRequest = new SetupPaymentRequest();\r\n\t\tif (options.createOrderRequest.authKey == null) options.createOrderRequest.authKey = \"1D7822D72F5397BEF65D677C89E85\";\r\n\t\tif (options.createOrderRequest.method == null) options.createOrderRequest.method = \"/api/PaypalWebApi/CreatePayment/\";\r\n\r\n\t\tif (options.approveRequest == null) options.approveRequest = new ExecutePaymentRequest();\r\n\t\tif (options.approveRequest.authKey == null) options.approveRequest.authKey = \"1D7822D72F5397BEF65D677C89E85\";\r\n\t\tif (options.approveRequest.method == null) options.approveRequest.method = \"/api/PaypalWebApi/ExecutePayment/\";\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.PaypalButton);\r\n\r\n\t\tif (options.setupUrl != null)\r\n\t\t{\r\n\t\t\tif (options.setupUrl.clientId == null)\r\n\t\t\t\tthrow Error(\"PayPal clientId obbligatorio\");\r\n\r\n\t\t\tif (options.setupUrl.currency == null) options.setupUrl.currency = \"EUR\";\r\n\t\t\tif (options.setupUrl.intent == null) options.setupUrl.intent = \"capture\";\r\n\t\t\tif (options.setupUrl.commit == null) options.setupUrl.commit = false;\r\n\t\t\tif (options.setupUrl.locale == null) options.setupUrl.locale = \"it_IT\";\r\n\r\n\t\t\t(puma as any).getScript(`<script src='https://www.paypal.com/sdk/js?client-id=` + options.setupUrl.clientId\r\n\t\t\t\t+ `&currency=` + options.setupUrl.currency + `&intent=` + options.setupUrl.intent\r\n\t\t\t\t+ `&commit=` + options.setupUrl.commit + `&locale=` + options.setupUrl.locale + `'></script>`)\r\n\t\t\t\t.then(() => this.renderButton());\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.renderButton();\r\n\t}\r\n\r\n\t//#region Methods\r\n\tprivate renderButton()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tpaypal.Buttons({\r\n\t\t\tenableStandardCardFields: options!.enableStandardCardFields,\r\n\t\t\tstyle: options!.style,\r\n\t\t\tcreateOrder: (data: any, actions: any) =>\r\n\t\t\t{\r\n\t\t\t\tshowLoader(options!.createOrderRequest!.loader);\r\n\r\n\t\t\t\tif (options!.onBeforePayment != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet beforePaymentEvent = new OnPaypalBeforePaymentEvent();\r\n\t\t\t\t\tbeforePaymentEvent.sender = this;\r\n\t\t\t\t\toptions!.onBeforePayment(beforePaymentEvent);\r\n\r\n\t\t\t\t\tif (beforePaymentEvent.isDefaultPrevented())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thideLoader();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet json = this.prepareWebApiCall(options!.createOrderRequest!, PaypalWebApiTypeEnum.CreateOrder);\r\n\t\t\t\treturn fetch(options!.createOrderRequest!.method!,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\t\theaders: { \"content-type\": \"application/json\" },\r\n\t\t\t\t\t\tbody: JSON.stringify(json)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet json = res.json() as any;\r\n\t\t\t\t\t\treturn json;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (data.token != null && data.token != \"\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (options!.createOrderRequest!.successNotificationMessage != null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (options!.createOrderRequest!.successNotificationMessage === true)\r\n\t\t\t\t\t\t\t\t\toptions!.createOrderRequest!.successNotificationMessage = \"Pagamento creato correttamente\";\r\n\r\n\t\t\t\t\t\t\t\tif (options!.createOrderRequest!.successNotificationMessage !== false)\r\n\t\t\t\t\t\t\t\t\tnotify(options!.createOrderRequest!.successNotificationMessage);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (options!.createOrderRequest!.callback != null)\r\n\t\t\t\t\t\t\t\toptions!.createOrderRequest!.callback(data);\r\n\r\n\t\t\t\t\t\t\treturn data.token;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis.manageError(options!.createOrderRequest!, PaypalWebApiTypeEnum.SetupError, data);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\t(exception: any) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thideLoader();\r\n\t\t\t\t\t\t\tthis.manageError(options!.createOrderRequest!, PaypalWebApiTypeEnum.CreateOrder);\r\n\t\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonApprove: (data: any, actions: any) =>\r\n\t\t\t{\r\n\t\t\t\tlet json = this.prepareWebApiCall(options!.approveRequest!, PaypalWebApiTypeEnum.OnApprove, data);\r\n\t\t\t\tshowLoader(options!.approveRequest!.loader);\r\n\r\n\t\t\t\treturn fetch(options!.approveRequest!.method!,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\t\theaders: { \"content-type\": \"application/json\" },\r\n\t\t\t\t\t\tbody: JSON.stringify(json)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((response: any) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thideLoader();\r\n\t\t\t\t\t\tif (response.ok == true)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (options!.approveRequest!.successNotificationMessage != null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (options!.approveRequest!.successNotificationMessage === true)\r\n\t\t\t\t\t\t\t\t\toptions!.approveRequest!.successNotificationMessage = \"Pagamento creato correttamente\";\r\n\r\n\t\t\t\t\t\t\t\tif (options!.approveRequest!.successNotificationMessage !== false)\r\n\t\t\t\t\t\t\t\t\tnotify(options!.approveRequest!.successNotificationMessage);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (options!.approveRequest!.callback != null)\r\n\t\t\t\t\t\t\t\toptions!.approveRequest!.callback(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis.manageError(options!.createOrderRequest!, PaypalWebApiTypeEnum.OnApprove, response);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\t(exception: any) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thideLoader();\r\n\t\t\t\t\t\t\tthis.manageError(options!.createOrderRequest!, PaypalWebApiTypeEnum.OnApprove, exception);\r\n\t\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonCancel: (data: any, actions: any) =>\r\n\t\t\t{\r\n\t\t\t\thideLoader();\r\n\t\t\t\tif (options!.onCancel != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet cancelEvent = new OnPaypalCancelEvent();\r\n\t\t\t\t\tcancelEvent.sender = this;\r\n\t\t\t\t\tcancelEvent.data = data;\r\n\t\t\t\t\tcancelEvent.actions = actions;\r\n\t\t\t\t\toptions!.onCancel(cancelEvent);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonError: (data: any) =>\r\n\t\t\t{\r\n\t\t\t\thideLoader();\r\n\t\t\t\tnotify(\"Si è verificato un errore\", { type: NotifierTypeEnum.Error });\r\n\t\t\t}\r\n\t\t}).render(this.element()).then(() =>\r\n\t\t{\r\n\t\t\tif (options!.onRendered != null)\r\n\t\t\t{\r\n\t\t\t\tlet renderedEvent = new OnPaypalRenderedEvent();\r\n\t\t\t\trenderedEvent.sender = this;\r\n\t\t\t\toptions!.onRendered(renderedEvent);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate prepareWebApiCall(request: PaypalWebApiRequest, requestType: PaypalWebApiTypeEnum, data: any = null)\r\n\t{\r\n\t\tlet json: any = {};\r\n\t\tjson.AuthKey = request.authKey;\r\n\r\n\t\t//#region Method\r\n\t\tif (request.method!.startsWith(\"api/\"))\r\n\t\t\trequest.method = \"/\" + request.method;\r\n\r\n\t\tif (!request.method!.endsWith(\"/\"))\r\n\t\t\trequest.method! = request.method + \"/\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Type\r\n\t\tif (requestType == PaypalWebApiTypeEnum.CreateOrder)\r\n\t\t{\r\n\t\t\tif ((request as SetupPaymentRequest).cancelUrl != null)\r\n\t\t\t\tjson[(request as SetupPaymentRequest).cancelUrl!] = (request as SetupPaymentRequest).cancelUrl;\r\n\r\n\t\t\tif ((request as SetupPaymentRequest).returnUrl != null)\r\n\t\t\t\tjson[(request as SetupPaymentRequest).returnUrl!] = (request as SetupPaymentRequest).returnUrl;\r\n\t\t}\r\n\t\telse if (requestType == PaypalWebApiTypeEnum.OnApprove && data != null)\r\n\t\t{\r\n\t\t\tif ((request as ExecutePaymentRequest).paymentIdPropertyName == null)\r\n\t\t\t\t(request as ExecutePaymentRequest).paymentIdPropertyName = \"paymentId\";\r\n\t\t\tjson[(request as ExecutePaymentRequest).paymentIdPropertyName!] = data.paymentID;\r\n\r\n\t\t\tif ((request as ExecutePaymentRequest).payerIdPropertyName == null)\r\n\t\t\t\t(request as ExecutePaymentRequest).payerIdPropertyName = \"payerId\";\r\n\t\t\tjson[(request as ExecutePaymentRequest).payerIdPropertyName!] = data.payerID;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Paramaters\r\n\t\tif (request.otherParameters != null)\r\n\t\t{\r\n\t\t\tlet jsonParameters = Object.getOwnPropertyNames(request.otherParameters);\r\n\t\t\tfor (let param of jsonParameters)\r\n\t\t\t\tjson[param] = request.otherParameters[param];\r\n\t\t}\r\n\r\n\t\tif (request.parameters != null)\r\n\t\t{\r\n\t\t\tlet parameters = request.parameters();\r\n\t\t\tlet jsonParameters = Object.getOwnPropertyNames(parameters);\r\n\t\t\tfor (let param of jsonParameters)\r\n\t\t\t\tjson[param] = parameters[param];\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\treturn json;\r\n\t}\r\n\r\n\tprivate manageError(request: PaypalWebApiRequest, requestType: PaypalWebApiTypeEnum, data: any = undefined)\r\n\t{\r\n\t\tif (request.errorNotificationMessage != null)\r\n\t\t{\r\n\t\t\tif (request.errorNotificationMessage === true)\r\n\t\t\t{\r\n\t\t\t\tlet error = \"\";\r\n\t\t\t\tswitch (requestType)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase PaypalWebApiTypeEnum.SetupError: error = String(data.Result.Response); break;\r\n\t\t\t\t\tcase PaypalWebApiTypeEnum.CreateOrder: error = \"Si è verificato un errore nella creazione del pagamento\"; break;\r\n\t\t\t\t\tcase PaypalWebApiTypeEnum.OnApprove: error = \"Il pagamento della transazione non è andato a buon fine\"; break;\r\n\t\t\t\t}\r\n\t\t\t\trequest.errorNotificationMessage = error;\r\n\t\t\t}\r\n\r\n\t\t\tif (request.errorNotificationMessage !== false)\r\n\t\t\t\tnotify(request.errorNotificationMessage, { type: NotifierTypeEnum.Error });\r\n\t\t}\r\n\t\telse if (data != null)\r\n\t\t{\r\n\t\t\tif (data.Result.Response != null)\r\n\t\t\t\tnotify(data.Result.Response, { type: NotifierTypeEnum.Error });\r\n\t\t\telse\r\n\t\t\t\tnotify(data.Result.Message, { type: NotifierTypeEnum.Error });\r\n\t\t}\r\n\t\telse\r\n\t\t\tnotify(\"Si è verificato un errore\", { type: NotifierTypeEnum.Error });\r\n\r\n\t\tif (request.errorCallback != null)\r\n\t\t\trequest.errorCallback(data);\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<PaypalButtonOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass PaypalSetupUrl\r\n{\r\n\tclientId?: string;\r\n\tlocale?: string;\r\n\tcurrency?: string;\r\n\tintent?: string;\r\n\tcommit?: boolean;\r\n}\r\n\r\nclass PaypalStyle\r\n{\r\n\tsize?: PaypalStyleSizeEnum;\r\n\tcolor?: PaypalStyleColorEnum;\r\n\tshape?: PaypalStyleShapeEnum;\r\n\theight?: number;\r\n\ttagline?: boolean;\r\n\tlayout?: PaypalStyleLayoutEnum;\r\n\tfundingicons?: boolean;\r\n}\r\n\r\nclass PaypalWebApiRequest\r\n{\r\n\tauthKey?: string;\r\n\tmethod?: string;\r\n\tsuccessNotificationMessage?: boolean | string;\r\n\terrorNotificationMessage?: boolean | string;\r\n\totherParameters?: any;\r\n\tloader?: HTMLElement | JQuery | string;\r\n\r\n\tcallback?: (response?: any) => void;\r\n\terrorCallback?: (message?: string) => void;\r\n\tparameters?: () => any;\r\n}\r\n\r\nclass SetupPaymentRequest extends PaypalWebApiRequest\r\n{\r\n\tcancelUrl?: string;\r\n\treturnUrl?: string;\r\n}\r\n\r\nclass ExecutePaymentRequest extends PaypalWebApiRequest\r\n{\r\n\tpaymentIdPropertyName?: string;\r\n\tpayerIdPropertyName?: string;\r\n}\r\n\r\nenum PaypalWebApiTypeEnum\r\n{\r\n\tCreateOrder,\r\n\tSetupError,\r\n\tOnApprove\r\n}\r\n\r\nclass OnPaypalCancelEvent extends VrControlsEvent\r\n{\r\n\tsender: PaypalButton;\r\n\tdata: any;\r\n\tactions: any;\r\n}\r\n\r\nclass OnPaypalBeforePaymentEvent extends VrControlsEvent\r\n{\r\n\tsender: PaypalButton;\r\n}\r\n\r\nclass OnPaypalRenderedEvent extends VrControlsEvent\r\n{\r\n\tsender: PaypalButton;\r\n}\r\n//#endregion","import { ControlManager } from \"../../../src/managers/controlManager\";\r\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { alert, ButtonModeEnum, ControlPositionEnum, confirm, ControlTypeEnum, createButton, createLabel, createSeparator, createTextBox, DateModeEnum, div, hideLoader, icon, IconClassicLight, IconClass, notify, OrientationEnum, puma, shadowRoot, showLoader, span, TextAlignEnum, TreeModeEnum, TreeViewAlignEnum, TreeViewColumn, TreeViewColumnTypeEnum, TreeViewContextMenuItem, TreeViewFilterSettings, TreeViewItem, TreeViewItemExtraCell, TreeViewNumericTypeEnum, TreeViewToolbarClickEvent, TreeViewToolbarItem, TreeViewToolbarItemType, createSplitButton, TreeViewToolbarSwitchEvent, createSwitch, TreeViewToolbarSwitchSettings, createDatePicker, createComboBox, createCheckBox, createButtonGroup, SelectionModeEnum, IconClassicSolid, NumberFormatSettings, addCssStyle, UpdateRowRebindSettings } from \"../vr\";\r\nimport { Button } from \"./button\";\r\nimport { ComboBoxOptions } from \"./comboBox\";\r\nimport { DatePickerOptions } from \"./datePicker\";\r\nimport { Label } from \"./label\";\r\nimport { TextBox, TextBoxOptions } from \"./textbox\";\r\n\r\n//#region Options\r\nexport class TreeViewOptions extends VrControlOptions\r\n{\r\n\tcheckboxes?: boolean;\r\n\ttreeMode?: TreeModeEnum;\r\n\tdatasource?: any[];\r\n\trebind?: TreeViewRebindRequest;\r\n\tdataSourceFieldId?: string;\r\n\tfilter?: boolean | TreeViewFilterSettings;\r\n\tshowLink?: boolean;\r\n\ttitle?: string;\r\n\trightClickForContextMenu?: boolean;\r\n\tleftClickForContextMenu?: boolean;\r\n\tparentClickable?: boolean;\r\n\tcontextMenuItems?: TreeViewContextMenuItem[];\r\n\tshowEditButton?: boolean;\r\n\tdraggable?: boolean;\r\n\tselectable?: boolean;\r\n\talternateColor?: boolean;\r\n\tspaceBetweenGroups?: boolean;\r\n\trowHeight?: number;\r\n\trowLine?: number;\r\n\texport?: boolean | TreeViewExportSettings;\r\n\tcolumns?: TreeViewColumn[];\r\n\ttoolbar?: TreeViewToolbarItem[];\r\n\r\n\ttemplate?: (e: TreeViewTemplateEvent) => void | string;\r\n\tonBeforeSelect?(e: TreeViewChangingEvent): void;\r\n\tonAfterSelect?(e: TreeViewChangeEvent): void;\r\n\tonDoubleClick?(e: TreeViewDoubleClickEvent): void;\r\n\tonEdit?(e: TreeViewEditEvent): void;\r\n\tonDragStart?(e: TreeViewDragStartEvent): void;\r\n\tonDragMove?(e: TreeViewDragMoveEvent): void;\r\n\tonDragEnd?(e: TreeViewDragEndEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class TreeView extends VrControl\r\n{\r\n\tprivate _items: any[];\r\n\tprivate _dictionaryValueLi: Map<string, HTMLElement[]>;\r\n\tprivate _dictionaryLiValue: Map<HTMLElement, string>;\r\n\tprivate _checkedValues: string[];\r\n\tprivate _isChecked: boolean;\r\n\tprivate _tempCheckedValue: string | null;\r\n\tprivate _value?: string[] | null;\r\n\tprivate _divContextMenu: HTMLElement;\r\n\tprivate _dataItemContextMenu: any;\r\n\tprivate _actualDraggedItem: TreeViewItem | null;\r\n\tprivate _lblTitle: Label;\r\n\tprivate _tempRebindInfo: TempRebindInfo | null;\r\n\tprivate _divContent: HTMLElement;\r\n\tprivate _divHeaderSpace: HTMLElement;\r\n\tprivate _divTitle: HTMLElement;\r\n\tprivate _divToolbar: HTMLElement;\r\n\tprivate _timeoutClick: number;\r\n\tprivate _txtSearchFilter: TextBox;\r\n\r\n\tconstructor(element: HTMLElement, options?: TreeViewOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new TreeViewOptions();\r\n\r\n\t\tif (options.checkboxes == null) options.checkboxes = false;\r\n\t\tif (options.treeMode == null) options.treeMode = TreeModeEnum.AllExpanded;\r\n\t\tif (options.showLink == null) options.showLink = true;\r\n\t\tif (options.rightClickForContextMenu == null) options.rightClickForContextMenu = false;\r\n\t\tif (options.leftClickForContextMenu == null) options.leftClickForContextMenu = false;\r\n\t\tif (options.parentClickable == null) options.parentClickable = false;\r\n\t\tif (options.contextMenuItems == null) options.contextMenuItems = [];\r\n\t\tif (options.showEditButton == null) options.showEditButton = false;\r\n\t\tif (options.onEdit != null) options.showEditButton = true;\r\n\t\tif (options.draggable == null) options.draggable = false;\r\n\t\tif (options.onDragStart != null || options.onDragMove != null || options.onDragEnd != null) options.draggable = true;\r\n\t\tif (options.alternateColor == null) options.alternateColor = false;\r\n\t\tif (options.spaceBetweenGroups == null) options.spaceBetweenGroups = false;\r\n\t\tif (options.rowLine != null && options.rowLine > 1 && options.rowHeight == null) options.rowHeight = 20 * options.rowLine;\r\n\t\tif (options.rowLine == 1) options.rowLine = undefined;\r\n\t\tif (options.rowHeight == null) options.rowHeight = 27;\r\n\t\tif (options.selectable == null) options.selectable = true;\r\n\t\tif (options.dataSourceFieldId == null) options.dataSourceFieldId = \"id\";\r\n\r\n\t\tif (options.export == null) options.export = false;\r\n\t\tif (options.export !== false && options.title == null) options.title = \"\";\r\n\t\tif (options.export === true) options.export = new TreeViewExportSettings();\r\n\r\n\t\tif (options.filter == null) options.filter = false;\r\n\t\tif (options.filter === true) options.filter = new TreeViewFilterSettings();\r\n\t\tif (options.filter !== false)\r\n\t\t\tif (options.filter.onlyParents == null) options.filter.onlyParents = false;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.TreeView);\r\n\t\tthis.element().style.cssText += \"height: 100%;\";\r\n\t\tthis._checkedValues = [];\r\n\r\n\t\t//#region Title\r\n\t\tif (options.columns != null && options.title == null) options.title = \"\";\r\n\t\tif (options.title != null || options.columns != null || options.export !== false)\r\n\t\t{\r\n\t\t\tthis._divTitle = puma(\"<div style='position: relative; display: flex;' class='vrTreeView_divTitle'></div>\")[0];\r\n\t\t\tpuma(this.element()).vrPrependPuma(this._divTitle);\r\n\r\n\t\t\tcreateButton({\r\n\t\t\t\ttext: \"Excel\",\r\n\t\t\t\ticon: IconClassicLight.FileExcel,\r\n\t\t\t\tcss: \"height: 24px;\",\r\n\t\t\t\tcolorSettings: { background: \"#008a00\", textColor: \"#FFF\" },\r\n\t\t\t\tcssContainer: \"position: absolute; z-index: 9; top: 3px; left: 5px;\",\r\n\t\t\t\tvisible: options.export !== false,\r\n\t\t\t\tonClick: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.excelExport();\r\n\t\t\t\t}\r\n\t\t\t}, this._divTitle)\r\n\r\n\t\t\tif (options.title != null)\r\n\t\t\t{\r\n\t\t\t\tthis._lblTitle = createLabel({\r\n\t\t\t\t\ttext: options.title,\r\n\t\t\t\t\tcss: \"padding: 5px; height: 19px; border-radius: unset; width: Calc(100% - 10px);\",\r\n\t\t\t\t\tcolorSettings: { background: \"#e3f1fa\", textColor: \"#000\" },\r\n\t\t\t\t\talign: TextAlignEnum.Center,\r\n\t\t\t\t\twidth: \"Calc(100% - \" + this.widthColumns() + \"px)\",\r\n\t\t\t\t\tcssContainer: \"display: block !important; height: 29px;\"\r\n\t\t\t\t}, this._divTitle);\r\n\t\t\t}\r\n\r\n\t\t\tif (options.columns != null)\r\n\t\t\t{\r\n\t\t\t\tfor (let column of options.columns)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet width = (column.width != null) ? column.width : 100;\r\n\t\t\t\t\tlet divColumn = div(this._divTitle, { css: \"width: \" + width + \"px;\", class: \"vrTreeViewColumn\", attributes: [{ name: \"field\", value: column.field }] });\r\n\r\n\t\t\t\t\tcreateLabel({\r\n\t\t\t\t\t\ttext: (column.title != null) ? column.title : \"\",\r\n\t\t\t\t\t\tcssContainer: \"padding-left: 5px; padding-right: 5px;\"\r\n\t\t\t\t\t}, divColumn)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._divHeaderSpace = div(this._divTitle, { css: \"background-color: #e3f1fa; width: 17px; display: none;\" })\r\n\t\t\t}\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Toolbar\r\n\t\tif (options.toolbar != null)\r\n\t\t{\r\n\t\t\tthis._divToolbar = puma(\"<div id='\" + element.id + \"Toolbar' class='treeView_divToolbar'></div>\").vrPrependToPuma(this.element())[0] as HTMLDivElement;\r\n\r\n\t\t\tfor (let toolbarItem of options.toolbar)\r\n\t\t\t\tthis.addToolbarItem(toolbarItem);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Filter\r\n\t\tlet timeout = 0;\r\n\t\tthis._txtSearchFilter = createTextBox(\r\n\t\t\t{\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\ticon: IconClassicLight.Search,\r\n\t\t\t\tplaceholder: \"Cerca...\",\r\n\t\t\t\tclass: \"vrTreeViewFilter\",\r\n\t\t\t\tvisible: options.filter !== false,\r\n\t\t\t\tcssContainer: \"margin-top: 1px;\",\r\n\t\t\t\tonKeyDown: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.limitInputByDataSource(e.sender.element() as HTMLInputElement, e);\r\n\t\t\t\t},\r\n\t\t\t\tonKeyUp: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.limitInputByDataSource(e.sender.element() as HTMLInputElement, e);\r\n\t\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\t\ttimeout = window.setTimeout(() => \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet text: string = e.sender.value();\r\n\t\t\t\t\t\tthis.filter(text);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t}\r\n\t\t\t}, this.element());\r\n\t\t//#endregion\r\n\r\n\t\tlet titleHeight = (options.title != null) ? 29 : 0;\r\n\t\tlet filterHeight = (options.filter !== false) ? 27 : 0;\r\n\t\tlet toolbarHeight = (options.toolbar != null) ? 34 : 0;\r\n\t\tthis._divContent = div(this.element(), { css: \"display: flex; height: Calc(100% - \" + (titleHeight + filterHeight + toolbarHeight) + \"px);\", class: \"vrTreeViewDivContent\" })\r\n\r\n\t\tif (options.rowHeight != 27)\r\n\t\t{\r\n\t\t\taddCssStyle(`\r\n\t\t\t\t#` + this.element().id + ` .vrTreeViewLiLink::after {\r\n\t\t\t\t\ttop: ` + (options.rowHeight / 2) + `px !important;\r\n\t\t\t\t}\r\n\t\t\t\t#` + this.element().id + ` .vrTreeViewLiLink:last-child::before {\r\n\t\t\t\t\theight: ` + ((options.rowHeight / 2) + 1) + `px !important;\r\n\t\t\t\t}\r\n\t\t\t\t#` + this.element().id + ` .vrTreeViewLiLink.vrTreeViewLiFirstChild:last-child::before {\r\n\t\t\t\t\theight: 0px !important;\r\n\t\t\t\t}\r\n\t\t\t`);\r\n\t\t}\r\n\r\n\t\t//#region Datasource\r\n\t\tif (options.datasource != null)\r\n\t\t\tthis.datasource(options.datasource);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Rebind\r\n\t\tif (options.rebind != null && options.rebind.rebindAtStartup === true)\r\n\t\t\tthis.doWebApiCall(options.rebind, TreeViewRequestTypeEnum.Rebind);\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\tdatasource(items?: any[]): any[]\r\n\t{\r\n\t\tif (items != null)\r\n\t\t{\r\n\t\t\tthis._items = items;\r\n\t\t\tif (this.getRootItems().length == 0)\r\n\t\t\t\tpuma(this.element()).addClass(\"vrTreeViewFlat\");\r\n\t\t\telse\r\n\t\t\t\tpuma(this.element()).removeClass(\"vrTreeViewFlat\");\r\n\r\n\t\t\t//#region Get info before rebind\r\n\t\t\tthis._tempRebindInfo = new TempRebindInfo();\r\n\t\t\tthis._tempRebindInfo.selectedValue = this.value();\r\n\r\n\t\t\tlet parentExpandedValueList: string[] = [];\r\n\t\t\tlet expandedList = puma(this.container()).find(\".vrTreeViewLi .caret-down\");\r\n\t\t\tfor (let expanded of Array.from(expandedList))\r\n\t\t\t\tparentExpandedValueList.push((expanded as any).parentElement!.getAttribute(\"value\")!);\r\n\r\n\t\t\tthis._tempRebindInfo.parentExpandedValueList = parentExpandedValueList;\r\n\r\n\t\t\tlet firstUl = puma(this.container()).find(\".vrTreeViewUl\").first();\r\n\t\t\tif (firstUl[0] != null)\r\n\t\t\t\tthis._tempRebindInfo.yPosition = firstUl[0].scrollTop;\r\n\t\t\t//#endregion\r\n\r\n\t\t\tthis.drawDataSource();\r\n\r\n\t\t\t//#region Keep info after rebind\r\n\t\t\tfor (let parentExpandedValue of this._tempRebindInfo!.parentExpandedValueList)\r\n\t\t\t{\r\n\t\t\t\tlet li = this._dictionaryValueLi.get(parentExpandedValue);\r\n\t\t\t\tif (li != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet divIconExpandCollpase = puma(li).find(\".vrTreeViewDivIconExpand\")[0];\r\n\t\t\t\t\tif (divIconExpandCollpase != null && puma(divIconExpandCollpase).hasClass(\"caret-right\"))\r\n\t\t\t\t\t\tpuma(divIconExpandCollpase).click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this._tempRebindInfo.selectedValue != null && this._tempRebindInfo.selectedValue != \"\" && this._tempRebindInfo.selectedValue.length > 0)\r\n\t\t\t\tthis.value(this._tempRebindInfo.selectedValue, false);\r\n\r\n\t\t\tpuma(this.container()).find(\".vrTreeViewUl\").first().scrollTop(this._tempRebindInfo!.yPosition);\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t\treturn this._items;\r\n\t}\r\n\r\n\trebind(parameters?: any | null, loadingElement?: boolean | HTMLElement | JQuery | string): any\r\n\t{\r\n\t\tlet promise = new Promise((callback: Function) =>\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tif (options.rebind != null)\r\n\t\t\t{\r\n\t\t\t\toptions.rebind.otherParameters = undefined;\r\n\t\t\t\tif (parameters != null)\r\n\t\t\t\t\toptions.rebind.otherParameters = parameters;\r\n\r\n\t\t\t\t(options.rebind as any).tempLoadingElement = loadingElement;\r\n\r\n\t\t\t\tthis.doWebApiCall(options.rebind, TreeViewRequestTypeEnum.Rebind, callback);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn promise;\r\n\t}\r\n\r\n\tupdate()\r\n\t{\r\n\t\tthis.datasource(this.datasource());\r\n\t}\r\n\r\n\tprivate drawDataSource(): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tpuma(this._divContent).empty();\r\n\r\n\t\tlet items = this.datasource();\r\n\t\tif (items.length == 1 && items[0] == null)\r\n\t\t\treturn;\r\n\r\n\t\tlet divTreeView = div(this._divContent, { css: \"width: 100%;\" });\r\n\r\n\t\tthis._dictionaryValueLi = new Map<string, HTMLElement[]>();\r\n\t\tthis._dictionaryLiValue = new Map<HTMLElement, string>();\r\n\t\titems = items.filter(k => k.parentValue == null || k.parentValue == \"0\" || k.parentValue == \"\");\r\n\t\tthis.drawItems(items, divTreeView);\r\n\r\n\t\t//#region Alternate color\r\n\t\tif (options.alternateColor)\r\n\t\t{\r\n\t\t\twindow.setTimeout(() =>\r\n\t\t\t{\r\n\t\t\t\tlet odd = true;\r\n\t\t\t\tfor (let item of Array.from<HTMLElement>(puma(this.container()).find(\".vrTreeViewDivItemContainer\")))\r\n\t\t\t\t{\r\n\t\t\t\t\todd = !odd;\r\n\t\t\t\t\tif (odd)\r\n\t\t\t\t\t\t$(item).css(\"background-color\", \"#fff\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t$(item).css(\"background-color\", \"#f3f3f3\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tif (this._lblTitle != null)\r\n\t\t{\r\n\t\t\tthis._lblTitle.width(\"Calc(100% - \" + (this.widthColumns()) + \"px)\");\r\n\t\t\tthis._lblTitle.element().style.cssText += \"width: Calc(100% - 10px) !important;\";\r\n\t\t}\r\n\r\n\t\t//Scrollbar\r\n\t\tthis.manageScrollbar();\r\n\r\n\t\t//Filter\r\n\t\tif (this._txtSearchFilter.value() != null && this._txtSearchFilter.value() != \"\")\r\n\t\t\tthis.filter(this._txtSearchFilter.value());\r\n\t}\r\n\r\n\tprivate manageScrollbar()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (puma(this.container()).find(\".vrTreeViewUl\").first().vrHasScrollBar())\r\n\t\t{\r\n\t\t\tif (options.columns != null)\r\n\t\t\t{\r\n\t\t\t\tpuma(this._divHeaderSpace).show();\r\n\r\n\t\t\t\tif (this._lblTitle != null)\r\n\t\t\t\t\tthis._lblTitle.width(\"Calc(100% - \" + (this.widthColumns() + 17) + \"px)\");\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tpuma(this._divHeaderSpace).hide();\r\n\t}\r\n\r\n\tprivate drawItems(items: any[], elementToAppend: HTMLElement): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (items.length == 0)\r\n\t\t\treturn;\r\n\r\n\t\tlet ul = puma(\"<ul class='vrTreeViewUl' style='height: 100%; overflow-y: auto;'></ul>\").vrAppendToPuma(elementToAppend);\r\n\t\tlet i = 0;\r\n\t\tfor (let item of items)\r\n\t\t{\r\n\t\t\tif (item.value == null)\r\n\t\t\t\titem.value = item.text;\r\n\r\n\t\t\tlet liClassShowLink = (options.showLink) ? \"vrTreeViewLiLink\" : \"\";\r\n\t\t\tlet li = puma(\"<li class='vrTreeViewLi \" + liClassShowLink + \"' tabindex='-1' parentValue='\" + item.parentValue + \"' value='\" + item.value + \"'></li>\").vrAppendToPuma(ul);\r\n\r\n\t\t\tthis._dictionaryLiValue.set(li[0], item.value);\r\n\t\t\tif (this._dictionaryValueLi.has(item.value))\r\n\t\t\t{\r\n\t\t\t\tlet actualLiList = this._dictionaryValueLi.get(item.value)!;\r\n\t\t\t\tactualLiList.push(li[0]);\r\n\t\t\t\tthis._dictionaryValueLi.set(item.value, actualLiList);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis._dictionaryValueLi.set(item.value, [li[0]]);\r\n\r\n\t\t\t//#region Tree mode\r\n\t\t\tif (options.treeMode == TreeModeEnum.AllCollapsed)\r\n\t\t\t{\r\n\t\t\t\tif (item.parentValue != null && item.parentValue != \"0\")\r\n\t\t\t\t\tpuma(li).closest(\".vrTreeViewUl\").hide();\r\n\t\t\t}\r\n\t\t\telse if (options.treeMode == TreeModeEnum.OnlyFirstLevelExpanded)\r\n\t\t\t{\r\n\t\t\t\tif (puma(li).parents(\".vrTreeViewUl\").length > 2)\r\n\t\t\t\t\tpuma(li).closest(\".vrTreeViewUl\").hide();\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tlet children = this.getOnlyChildrenItems(item);\r\n\t\t\tif (children.length > 0)\r\n\t\t\t{\r\n\t\t\t\tif (options.spaceBetweenGroups && i > 0)\r\n\t\t\t\t\tli[0].style.cssText += \"margin-top: 20px;\";\r\n\r\n\t\t\t\t//#region Icon expand/collapse\r\n\t\t\t\tlet iconClassForDiv = \"\";\r\n\t\t\t\tlet iconClass = IconClassicLight.CaretRight;\r\n\t\t\t\tif (options.treeMode == TreeModeEnum.AllCollapsed)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (item.parentValue != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonClass = IconClassicLight.CaretRight;\r\n\t\t\t\t\t\ticonClassForDiv = \"caret-right\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (options.treeMode == TreeModeEnum.OnlyFirstLevelExpanded)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (puma(li).parents(\".vrTreeViewUl\").length == 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonClass = IconClassicLight.CaretDown;\r\n\t\t\t\t\t\ticonClassForDiv = \"caret-down\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonClass = IconClassicLight.CaretRight;\r\n\t\t\t\t\t\ticonClassForDiv = \"caret-right\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\ticonClass = IconClassicLight.CaretDown;\r\n\t\t\t\t\ticonClassForDiv = \"caret-down\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet divIcon = puma(\"<div class='vrTreeViewDivIconExpand \" + iconClassForDiv + \"' style='height: \" + options.rowHeight + \"px;'></div>\").vrAppendToPuma(li);\r\n\t\t\t\tpuma(UtilityManager.createIcon(iconClass)).vrAppendToPuma(divIcon);\r\n\t\t\t\tpuma(divIcon).click((e: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tpuma(e.currentTarget).children(\"i\").removeClass(IconClassicLight.CaretRight + \" \" + IconClassicLight.CaretDown);\r\n\t\t\t\t\tpuma(e.currentTarget).removeClass(\"caret-right caret-down\");\r\n\r\n\t\t\t\t\tlet ulChildren = puma(e.currentTarget).siblings(\".vrTreeViewUl\");\r\n\t\t\t\t\tif (ulChildren.first().is(\":visible\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tulChildren.hide();\r\n\t\t\t\t\t\tpuma(e.currentTarget).children(\"i\").addClass(IconClassicLight.CaretRight);\r\n\t\t\t\t\t\tpuma(e.currentTarget).addClass(\"caret-right\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tulChildren.show();\r\n\t\t\t\t\t\tpuma(e.currentTarget).children(\"i\").addClass(IconClassicLight.CaretDown);\r\n\t\t\t\t\t\tpuma(e.currentTarget).addClass(\"caret-down\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.manageScrollbar();\r\n\t\t\t\t});\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\r\n\t\t\tlet treeViewDivItemContainer = puma(\"<div class='vrTreeViewDivItemContainer' style='height: \" + options.rowHeight + \"px;'></div>\").vrAppendToPuma(li);\r\n\t\t\tif (options.checkboxes)\r\n\t\t\t{\r\n\t\t\t\tlet checkBox = puma(\"<input type='checkbox' class='vrCheckBox'></input>\").vrAppendToPuma(treeViewDivItemContainer);\r\n\t\t\t\tpuma(checkBox).click((e: JQuery.ClickEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tlet isChecked = e.currentTarget.checked;\r\n\t\t\t\t\tlet value = this._dictionaryLiValue.get(puma(e.currentTarget).closest(\"li\")[0])!;\r\n\r\n\t\t\t\t\tif (isChecked)\r\n\t\t\t\t\t\tthis._checkedValues.push(value);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis._checkedValues.vrDelete(value);\r\n\r\n\t\t\t\t\tlet targetItem = this.datasource().filter(k => k.value == value)[0];\r\n\t\t\t\t\tif (targetItem != null && this.getOnlyChildrenItems(targetItem).length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet childrenItems = this.getAllChildrenItems(targetItem);\r\n\t\t\t\t\t\tif (e.currentTarget.checked)\r\n\t\t\t\t\t\t\tthis._checkedValues.vrPushRange(childrenItems.map(k => k.value));\r\n\r\n\t\t\t\t\t\tlet childrenCheckboxes = this.getChildrenCheckboxElements<JQuery>(targetItem, false);\r\n\t\t\t\t\t\tpuma(childrenCheckboxes).prop(\"checked\", e.currentTarget.checked);\r\n\r\n\t\t\t\t\t\tfor (let childItem of childrenItems)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!e.currentTarget.checked)\r\n\t\t\t\t\t\t\t\tthis._checkedValues.vrDelete(childItem.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tthis._isChecked = e.currentTarget.checked;\r\n\r\n\t\t\t\t\tif (!this._isChecked)\r\n\t\t\t\t\t\tthis._checkedValues.vrDelete(item.value);\r\n\r\n\t\t\t\t\t//#region Other checkboxes same value\r\n\t\t\t\t\tlet comboItemTexts: HTMLSpanElement[] = [];\r\n\t\t\t\t\tlet liList = this._dictionaryValueLi.get(item.value)!;\r\n\t\t\t\t\tfor (let li of liList)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet comboItemText = puma(li).find(\".vrTreeViewItemText\")[0];\r\n\t\t\t\t\t\tcomboItemTexts.push(comboItemText);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let comboItemText of comboItemTexts)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet checkBox = puma(comboItemText).siblings(\"input\");\r\n\t\t\t\t\t\tpuma(checkBox).prop(\"checked\", this._isChecked);\r\n\t\t\t\t\t\tcheckBox[0].checked = this._isChecked;\r\n\t\t\t\t\t\tpuma(checkBox).removeClass(\"indeterminateVrCheckbox\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (let otherItem of this.datasource().filter(k => k.value == item.value))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet parentChecked = this.manageCheckParent(otherItem);\r\n\t\t\t\t\t\tif (!parentChecked && otherItem.parentValue != null)\r\n\t\t\t\t\t\t\tthis._checkedValues.vrDelete(otherItem.parentValue);\r\n\t\t\t\t\t\telse if (parentChecked && otherItem.parentValue != null && !this._checkedValues.includes(otherItem.parentValue))\r\n\t\t\t\t\t\t\tthis._checkedValues.push(otherItem.parentValue);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tlet parentChecked = this.manageCheckParent(item);\r\n\t\t\t\t\tif (!parentChecked && item.parentValue != null)\r\n\t\t\t\t\t\tthis._checkedValues.vrDelete(item.parentValue);\r\n\t\t\t\t\telse if (parentChecked && item.parentValue != null && !this._checkedValues.includes(item.parentValue))\r\n\t\t\t\t\t\tthis._checkedValues.push(item.parentValue);\r\n\r\n\t\t\t\t\tthis._tempCheckedValue = item.value;\r\n\t\t\t\t\tthis._checkedValues = this._checkedValues.vrDistinct();\r\n\t\t\t\t\tthis.value(this._checkedValues);\r\n\t\t\t\t\tthis._tempCheckedValue = null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tlet classIfCheckbox = (options.checkboxes) ? \"vrTreeViewItemTextCheckbox\" : \"\";\r\n\r\n\t\t\tlet spanTreeItemTextContainer = puma(\"<span class='vrTreeViewItemTextContainer'></span>\").vrAppendToPuma(treeViewDivItemContainer);\r\n\t\t\tspanTreeItemTextContainer[0].style.cssText += \"width: Calc(100% - \" + (this.widthColumns() + 1) + \"px);\";\r\n\r\n\t\t\tlet treeViewItemText = puma(\"<span title='\" + item.text + \"' text='\" + item.text.replace(/'/g, \"&#39;\") + \"' class='vrTreeViewItemText \" + classIfCheckbox + \"'></span>\").vrAppendToPuma(spanTreeItemTextContainer);\r\n\r\n\t\t\t//#region Text\r\n\t\t\tif (options.template == null)\r\n\t\t\t{\r\n\t\t\t\tlet iconText = \"\";\r\n\t\t\t\tif (item.icon != null)\r\n\t\t\t\t\ticonText = \"<i class='\" + item.icon + \"' style='margin-right: 5px;'></i>\";\r\n\r\n\t\t\t\tlet rowText = item.text.replace(/'/g, \"&#39;\");\r\n\t\t\t\tlet styleRow = \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;\";\r\n\t\t\t\tif (options.rowLine != null && options.rowLine > 1)\r\n\t\t\t\t\tstyleRow = \"display: -webkit-inline-box; overflow: hidden; -webkit-line-clamp: \" + options.rowLine + \"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;\";\r\n\r\n\t\t\t\trowText = iconText + \"<span class='vrTreeViewSpanValue' style='\" + styleRow + \"'>\" + rowText + \"</span>\";\r\n\t\t\t\tpuma(rowText).vrAppendToPuma(treeViewItemText);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet templateEvent = new TreeViewTemplateEvent();\r\n\t\t\t\ttemplateEvent.sender = this;\r\n\t\t\t\ttemplateEvent.dataItem = item;\r\n\t\t\t\ttemplateEvent.container = treeViewItemText[0];\r\n\r\n\t\t\t\tlet templateResult = options.template(templateEvent);\r\n\t\t\t\tif (typeof (templateResult) == \"string\")\r\n\t\t\t\t{\r\n\t\t\t\t\tlet rowText = templateResult;\r\n\t\t\t\t\tif (item.icon != null)\r\n\t\t\t\t\t\trowText = \"<i class='\" + item.icon + \"' style='margin-right: 5px;'></i>\" + rowText;\r\n\r\n\t\t\t\t\tlet styleRow = \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;\";\r\n\t\t\t\t\tif (options.rowLine != null && options.rowLine > 1)\r\n\t\t\t\t\t\tstyleRow = \"display: -webkit-inline-box; overflow: hidden; -webkit-line-clamp: \" + options.rowLine + \"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;\";\r\n\r\n\t\t\t\t\trowText = \"<span style='\" + styleRow + \"'>\" + rowText + \"</span>\";\r\n\t\t\t\t\tpuma(rowText).vrAppendToPuma(treeViewItemText);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tif (item.bold === true)\r\n\t\t\t\ttreeViewItemText[0].style.cssText += \"font-weight: 600;\";\r\n\r\n\t\t\tif (options.showEditButton)\r\n\t\t\t{\r\n\t\t\t\tcreateButton({\r\n\t\t\t\t\ticon: IconClassicLight.Edit,\r\n\t\t\t\t\tcssContainer: \"margin-right: 5px;\",\r\n\t\t\t\t\tcss: \"background: none; border: none;\",\r\n\t\t\t\t\tonClick: (e) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (options.onEdit != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet event = new TreeViewEditEvent();\r\n\t\t\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\t\t\tevent.text = item.text;\r\n\t\t\t\t\t\t\tevent.value = item.value;\r\n\t\t\t\t\t\t\tevent.dataItem = item;\r\n\t\t\t\t\t\t\toptions.onEdit(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, treeViewItemText, ControlPositionEnum.Before);\r\n\t\t\t}\r\n\r\n\t\t\t//#region Click\r\n\t\t\tif (options.selectable)\r\n\t\t\t{\r\n\t\t\t\tpuma(treeViewItemText).on(\"mousedown\", (e: JQuery.MouseDownEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch (e.button)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 0: // Left\r\n\t\t\t\t\t\tcase 1: // Middle\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet value = this._dictionaryLiValue.get(puma(e.currentTarget).closest(\"li\")[0]);\r\n\t\t\t\t\t\t\t\tlet item = this.datasource().filter(k => k.value == value)[0];\r\n\t\t\t\t\t\t\t\tif (item != null && (options.parentClickable || !this.getRootValues().includes(item.value))) \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (!options.checkboxes)\r\n\t\t\t\t\t\t\t\t\t\tthis.value(item.value);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\tpuma(e.currentTarget).siblings(\".vrCheckBox\").click();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (options.leftClickForContextMenu)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.showContextMenu(item, e.clientX, puma(e.currentTarget).parent().offset().top + puma(e.currentTarget).parent().height());\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2: // Right\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (options.rightClickForContextMenu)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.showContextMenu(item, e.clientX, puma(e.currentTarget).parent().offset().top + puma(e.currentTarget).parent().height());\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (options.onDoubleClick != null)\r\n\t\t\t{\r\n\t\t\t\tpuma(treeViewItemText).on(\"dblclick\", (e: JQuery.DoubleClickEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new TreeViewDoubleClickEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\tevent.text = item.text;\r\n\t\t\t\t\tevent.value = item.value;\r\n\t\t\t\t\tevent.dataItem = item;\r\n\t\t\t\t\toptions.onDoubleClick!(event);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Ellipsis for context menu\r\n\t\t\tif (options.contextMenuItems!.length > 0 && !options.rightClickForContextMenu && !options.leftClickForContextMenu)\r\n\t\t\t{\r\n\t\t\t\tlet btnContextMenu: Button | null = null;\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"mouseenter\", (e: JQuery.MouseEnterEvent) => \r\n\t\t\t\t{\r\n\t\t\t\t\tbtnContextMenu = createButton({\r\n\t\t\t\t\t\ticon: IconClassicSolid.EllipsisVertical,\r\n\t\t\t\t\t\tcss: \"background: none; border: none;\",\r\n\t\t\t\t\t\tcssContainer: \"margin-left: 10px; margin-top: 2px; height: 17px;\",\r\n\t\t\t\t\t\twidth: 25,\r\n\t\t\t\t\t\tclass: \"vrTreeViewBtnContextMenu\",\r\n\t\t\t\t\t\tonClick: (e) => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpuma(treeViewDivItemContainer).addClass(\"hover\");\r\n\t\t\t\t\t\t\tthis.showContextMenu(item, puma(e.sender.container()).offset().left, puma(e.sender.container()).offset().top + puma(e.sender.container()).height())\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, treeViewItemText);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"mouseleave\", (e: JQuery.MouseEnterEvent) => \r\n\t\t\t\t{\r\n\t\t\t\t\tif (!puma(treeViewDivItemContainer).hasClass(\"hover\") && btnContextMenu != null)\r\n\t\t\t\t\t\t$(btnContextMenu.container()).remove();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tif (options.columns != null)\r\n\t\t\t{\r\n\t\t\t\tlet dataItemId = item[options.dataSourceFieldId!];\r\n\t\t\t\tlet rowId = \"row\" + i + \"_\" + dataItemId;\r\n\r\n\t\t\t\t//#region Columns\r\n\t\t\t\tfor (let column of options.columns)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (column.hidden)\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tlet width = (column.width != null) ? column.width : 100;\r\n\t\t\t\t\twidth -= 10; // Padding\r\n\t\t\t\t\tlet divItem = div(treeViewDivItemContainer, { class: \"vrTreeViewColumnItem\", css: \"height: \" + options.rowHeight + \"px; width: \" + width + \"px;\" })\r\n\r\n\t\t\t\t\tlet field = column.field;\r\n\t\t\t\t\tpuma(divItem).attr(\"field\", field);\r\n\r\n\t\t\t\t\tlet textHTML = (item as any)[field];\r\n\t\t\t\t\tif (textHTML == null)\r\n\t\t\t\t\t\ttextHTML = \"\";\r\n\r\n\t\t\t\t\tif (column.type == null) column.type = TreeViewColumnTypeEnum.String;\r\n\r\n\t\t\t\t\tlet textAlign = TreeViewAlignEnum.Left;\r\n\t\t\t\t\tswitch (column.type)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Number, Currency, Percentage & Duration\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Number:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 0;\r\n\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Right;\r\n\r\n\t\t\t\t\t\t\t\tif (column.cellSettings == null) column.cellSettings = new TreeViewCellSettings();\r\n\t\t\t\t\t\t\t\tif (column.cellSettings.zeroIfNull == null) column.cellSettings.zeroIfNull = false;\r\n\r\n\t\t\t\t\t\t\t\tif (textHTML === \"\" && column.cellSettings.zeroIfNull === false)\r\n\t\t\t\t\t\t\t\t\ttextHTML = \"\";\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet formatSettings = new NumberFormatSettings();\r\n\t\t\t\t\t\t\t\t\tformatSettings.useGrouping = column.milesSeparator;\r\n\t\t\t\t\t\t\t\t\tformatSettings.minimumFractionDigits = decimalDigits;\r\n\t\t\t\t\t\t\t\t\tformatSettings.maximumFractionDigits = decimalDigits;\r\n\t\t\t\t\t\t\t\t\ttextHTML = Number(textHTML).vrToNumberString(formatSettings);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Currency:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 2;\r\n\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Right;\r\n\r\n\t\t\t\t\t\t\t\tif (column.cellSettings == null) column.cellSettings = new TreeViewCellSettings();\r\n\t\t\t\t\t\t\t\tif (column.cellSettings.zeroIfNull == null) column.cellSettings.zeroIfNull = false;\r\n\r\n\t\t\t\t\t\t\t\tif (textHTML === \"\" && column.cellSettings.zeroIfNull === false)\r\n\t\t\t\t\t\t\t\t\ttextHTML = \"\";\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet formatSettings = new NumberFormatSettings();\r\n\t\t\t\t\t\t\t\t\tformatSettings.minimumFractionDigits = decimalDigits;\r\n\t\t\t\t\t\t\t\t\tformatSettings.maximumFractionDigits = decimalDigits;\r\n\t\t\t\t\t\t\t\t\ttextHTML = Number(textHTML).vrToCurrencyString(formatSettings);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Percentage:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet decimalDigits = (column.decimalDigits != null) ? column.decimalDigits : 2;\r\n\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Right;\r\n\r\n\t\t\t\t\t\t\t\tif (column.cellSettings == null) column.cellSettings = new TreeViewCellSettings();\r\n\t\t\t\t\t\t\t\tif (column.cellSettings.zeroIfNull == null) column.cellSettings.zeroIfNull = false;\r\n\r\n\t\t\t\t\t\t\t\tif (textHTML === \"\" && column.cellSettings.zeroIfNull === false)\r\n\t\t\t\t\t\t\t\t\ttextHTML = \"\";\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet formatSettings = new NumberFormatSettings();\r\n\t\t\t\t\t\t\t\t\tformatSettings.minimumFractionDigits = decimalDigits;\r\n\t\t\t\t\t\t\t\t\tformatSettings.maximumFractionDigits = decimalDigits;\r\n\t\t\t\t\t\t\t\t\ttextHTML = (Number(textHTML) / 100).vrToPercentageString(formatSettings);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Duration:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (column.cellSettings == null) column.cellSettings = new TreeViewCellSettings();\r\n\t\t\t\t\t\t\t\tif (column.cellSettings.zeroIfNull == null) column.cellSettings.zeroIfNull = false;\r\n\r\n\t\t\t\t\t\t\t\tif (textHTML === \"\" && column.cellSettings.zeroIfNull === false)\r\n\t\t\t\t\t\t\t\t\ttextHTML = \"\";\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet hours: number = Math.trunc(Number(textHTML) / 60);\r\n\t\t\t\t\t\t\t\t\tlet hoursString = String(hours);\r\n\t\t\t\t\t\t\t\t\tif (hours < 10)\r\n\t\t\t\t\t\t\t\t\t\thoursString = \"0\" + hoursString;\r\n\r\n\t\t\t\t\t\t\t\t\tlet minutes: number = Math.trunc(Number(textHTML) % 60);\r\n\t\t\t\t\t\t\t\t\tlet minutesString = String(minutes);\r\n\t\t\t\t\t\t\t\t\tif (minutes < 10)\r\n\t\t\t\t\t\t\t\t\t\tminutesString = \"0\" + minutesString;\r\n\r\n\t\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Center;\r\n\t\t\t\t\t\t\t\t\ttextHTML = hoursString + \":\" + minutesString;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Date, Time, DateTime\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Date:\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.DateTime:\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Time:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Center;\r\n\t\t\t\t\t\t\t\tif (column.type == TreeViewColumnTypeEnum.Date)\r\n\t\t\t\t\t\t\t\t\ttextHTML = (textHTML == \"\") ? \"\" : new Date(textHTML).vrToItalyString(DateModeEnum.Date);\r\n\t\t\t\t\t\t\t\telse if (column.type == TreeViewColumnTypeEnum.DateTime)\r\n\t\t\t\t\t\t\t\t\ttextHTML = (textHTML == \"\") ? \"\" : new Date(textHTML).vrToItalyString(DateModeEnum.DateTime, column.showSeconds);\r\n\t\t\t\t\t\t\t\telse if (column.type == TreeViewColumnTypeEnum.Time)\r\n\t\t\t\t\t\t\t\t\ttextHTML = (textHTML == \"\") ? \"\" : new Date(textHTML).vrToItalyString(DateModeEnum.Time, column.showSeconds);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Checkbox\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Checkbox:\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Boolean:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet checked = (item[field] != null && Boolean(item[field]) == true) ? \"checked='checked'\" : \"\";\r\n\r\n\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Center;\r\n\t\t\t\t\t\t\t\ttextHTML = \"<input \" + checked + \" disabled='disabled' dataItemId='\" + dataItemId + \"' id='\" + rowId + \"_\" + column.field + \"' class='vrCheckBox' type='checkbox'></input>\"\r\n\t\t\t\t\t\t\t\t\t+ \"<label class='vrLabel vrCheckBoxLabel' for='\" + rowId + \"_\" + column.field + \"'></label>\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Color\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Color:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttextAlign = TreeViewAlignEnum.Center;\r\n\t\t\t\t\t\t\t\tif (textHTML.isNotNullOrEmpty())\r\n\t\t\t\t\t\t\t\t\ttextHTML = \"<i class='\" + IconClassicLight.Circle + \"' style='width: 20px; height: 20px; color: \" + textHTML + \"; display: inline-flex; align-items: center;'></i>\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdivItem.innerHTML = textHTML;\r\n\r\n\t\t\t\t\t//#region Color\r\n\t\t\t\t\tif (column.cellSettings != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (column.cellSettings.backgroundColor != null)\r\n\t\t\t\t\t\t\tpuma(divItem).css(\"background-color\", column.cellSettings.backgroundColor);\r\n\r\n\t\t\t\t\t\tif (column.cellSettings.color != null)\r\n\t\t\t\t\t\t\tpuma(divItem).css(\"color\", column.cellSettings.color);\r\n\r\n\t\t\t\t\t\tif (column.cellSettings.css != null)\r\n\t\t\t\t\t\t\tdivItem.style.cssText += column.cellSettings.css;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t//#region Text align\r\n\t\t\t\t\tif (column.cellSettings != null)\r\n\t\t\t\t\t\ttextAlign = (column.cellSettings.textAlign != null) ? column.cellSettings.textAlign : textAlign;\r\n\r\n\t\t\t\t\tpuma(divItem).css(\"text-align\", textAlign);\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t//#region Bold\r\n\t\t\t\t\tif ((children.length > 0 && column.boldRoot === true) || column.bold === true)\r\n\t\t\t\t\t\tpuma(divItem).css(\"font-weight\", \"500\");\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\r\n\t\t\t//#region Right click Context menu\r\n\t\t\tif (options.rightClickForContextMenu || options.leftClickForContextMenu)\r\n\t\t\t{\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"contextmenu\", (e: JQuery.ContextMenuEvent) => \r\n\t\t\t\t{\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Draggable\r\n\t\t\tif (options.draggable)\r\n\t\t\t{\r\n\t\t\t\tpuma(treeViewDivItemContainer).attr(\"draggable\", \"true\");\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"dragstart\", (e: JQuery.DragStartEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.clearTimeout(this._timeoutClick);\r\n\t\t\t\t\tthis._actualDraggedItem = item;\r\n\r\n\t\t\t\t\t//#region Drag Start Event\r\n\t\t\t\t\tif (options.onDragStart != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet dragStartEvent = new TreeViewDragStartEvent();\r\n\t\t\t\t\t\tdragStartEvent.sender = this;\r\n\t\t\t\t\t\tdragStartEvent.target = puma(e.target).closest(\"li\")[0];\r\n\t\t\t\t\t\tdragStartEvent.source = item;\r\n\t\t\t\t\t\toptions.onDragStart(dragStartEvent);\r\n\r\n\t\t\t\t\t\tif (dragStartEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tpuma(e.target).closest(\"li\").addClass(\"vrTreeViewDragStart\");\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"dragover\", (e: JQuery.DragOverEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Drag Move Event\r\n\t\t\t\t\tif (options.onDragMove != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet destination = this.datasource().filter(k => k.value == puma(e.target).closest(\"li\").attr(\"value\"))[0];\r\n\t\t\t\t\t\tlet li = puma(e.target).closest(\"li\")[0];\r\n\r\n\t\t\t\t\t\tlet dragMoveEvent = new TreeViewDragMoveEvent();\r\n\t\t\t\t\t\tdragMoveEvent.sender = this;\r\n\t\t\t\t\t\tdragMoveEvent.target = li;\r\n\t\t\t\t\t\tdragMoveEvent.source = item;\r\n\t\t\t\t\t\tdragMoveEvent.destination = destination;\r\n\t\t\t\t\t\toptions.onDragMove(dragMoveEvent);\r\n\r\n\t\t\t\t\t\tif (dragMoveEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tpuma(e.target).closest(\".vrTreeViewDivItemContainer\").addClass(\"vrTreeViewDragOver\");\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"dragleave\", (e: JQuery.DragLeaveEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tpuma(e.target).closest(\".vrTreeViewDivItemContainer\").removeClass(\"vrTreeViewDragOver\");\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpuma(treeViewDivItemContainer).on(\"drop\", (e: JQuery.DropEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Drag End Event\r\n\t\t\t\t\tif (options.onDragEnd != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet destination = this.datasource().filter(k => k.value == puma(e.target).closest(\"li\").attr(\"value\"))[0];\r\n\t\t\t\t\t\tlet liDestination = puma(e.target).closest(\"li\")[0];\r\n\t\t\t\t\t\tlet ul = puma(liDestination).find(\"ul\");\r\n\t\t\t\t\t\tul.remove();\r\n\r\n\t\t\t\t\t\tlet dragMoveEvent = new TreeViewDragEndEvent();\r\n\t\t\t\t\t\tdragMoveEvent.sender = this;\r\n\t\t\t\t\t\tdragMoveEvent.target = li;\r\n\t\t\t\t\t\tdragMoveEvent.source = this._actualDraggedItem!;\r\n\t\t\t\t\t\tdragMoveEvent.destination = destination;\r\n\t\t\t\t\t\toptions.onDragEnd(dragMoveEvent);\r\n\r\n\t\t\t\t\t\tif (dragMoveEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet liSource = this._dictionaryValueLi.get(this._actualDraggedItem!.value);\r\n\t\t\t\t\t\tpuma(liSource).remove();\r\n\r\n\t\t\t\t\t\tlet childrenItems = this.getOnlyChildrenItems(destination);\r\n\t\t\t\t\t\tthis._actualDraggedItem!.parentValue = destination.value;\r\n\t\t\t\t\t\tchildrenItems.push(this._actualDraggedItem!);\r\n\r\n\t\t\t\t\t\tthis.drawItems(childrenItems, liDestination);\r\n\t\t\t\t\t\tpuma(liDestination).find(\"ul\").show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tthis._actualDraggedItem = null;\r\n\t\t\t\t\tpuma(this.container()).find(\".vrTreeViewDragOver\").removeClass(\"vrTreeViewDragOver\");\r\n\t\t\t\t\tpuma(this.container()).find(\".vrTreeViewDragStart\").removeClass(\"vrTreeViewDragStart\");\r\n\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tif (children.length > 0)\r\n\t\t\t\tthis.drawItems(this.getOnlyChildrenItems(item), li);\r\n\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tlet firstLiChild = puma(this.container()).find(\".vrTreeViewUl\").first().find(\".vrTreeViewLiLink\").first();\r\n\t\tfirstLiChild.addClass(\"vrTreeViewLiFirstChild\");\r\n\t}\r\n\r\n\tprivate getOnlyChildrenItems(parentItem: TreeViewItem): TreeViewItem[]\r\n\t{\r\n\t\treturn this.datasource().filter(k => k.parentValue != null && k.parentValue == parentItem.value);\r\n\t}\r\n\r\n\tgetRootItems(): TreeViewItem[]\r\n\t{\r\n\t\tlet parentItems: TreeViewItem[] = [];\r\n\t\tfor (let item of this.datasource())\r\n\t\t{\r\n\t\t\tif (item == null)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tlet parentValue = item.parentValue;\r\n\t\t\twhile (parentValue != null)\r\n\t\t\t{\r\n\t\t\t\tlet parentItem = this.datasource().filter(k => k.value == parentValue)[0];\r\n\t\t\t\tif (!parentItems.includes(parentItem))\r\n\t\t\t\t\tparentItems.push(parentItem);\r\n\r\n\t\t\t\tparentValue = (parentItem != null) ? parentItem.parentValue : undefined;\r\n\t\t\t\tif (parentItem != null && parentValue == parentItem.value)\r\n\t\t\t\t\tparentValue = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn parentItems;\r\n\t}\r\n\tgetRootValues(): string[]\r\n\t{\r\n\t\treturn this.getRootItems().filter(k => k != null).map(k => k.value);\r\n\t}\r\n\r\n\tprivate getAllChildrenItems(parentItem: TreeViewItem): TreeViewItem[]\r\n\t{\r\n\t\treturn this.getDataChildrenItems(parentItem);\r\n\t}\r\n\r\n\tprivate getAllChildrenValues(parentItem: TreeViewItem): string[]\r\n\t{\r\n\t\treturn this.getAllChildrenItems(parentItem).map(k => k.value);\r\n\t}\r\n\r\n\tprivate getDataChildrenItems(parentItem?: TreeViewItem | null): TreeViewItem[]\r\n\t{\r\n\t\tlet dataItems = (parentItem == null) ? this.datasource() : this.getOnlyChildrenItems(parentItem);\r\n\t\tlet items: TreeViewItem[] = [];\r\n\t\tfor (let dataElement of dataItems)\r\n\t\t{\r\n\t\t\titems.push(dataElement);\r\n\t\t\tif (this.getOnlyChildrenItems(dataElement).length > 0)\r\n\t\t\t\titems.vrPushRange(this.getDataChildrenItems(dataElement));\r\n\t\t}\r\n\t\treturn items;\r\n\t}\r\n\r\n\tprivate getChildrenCheckboxElements<T extends HTMLInputElement[] | JQuery>(parentItem: TreeViewItem, checked = false, arrayMode = false): T\r\n\t{\r\n\t\tlet liParent = this._dictionaryValueLi.get(parentItem.value);\r\n\t\tlet parentComboItemText = puma(liParent).find(\".vrTreeViewItemText\")[0];\r\n\t\tlet parentCheckbox = puma(parentComboItemText).siblings(\"input\");\r\n\r\n\t\tlet childrenCheckboxElements = puma(parentCheckbox).parent().parent().find(\"input\" + ((checked) ? \":checked\" : \"\"));\r\n\t\tif (puma(childrenCheckboxElements[0]).siblings(\".vrTreeViewItemText\").html() == parentItem.text)\r\n\t\t\tchildrenCheckboxElements.splice(0, 1);\r\n\r\n\t\tif (arrayMode)\r\n\t\t\tchildrenCheckboxElements = Array.from<HTMLInputElement>(childrenCheckboxElements);\r\n\r\n\t\treturn childrenCheckboxElements as T;\r\n\t}\r\n\r\n\tgetCheckedItems(): TreeViewItem[]\r\n\t{\r\n\t\tlet items = this.datasource().filter(k => this._checkedValues.includes(k.value));\r\n\t\treturn items.vrDistinctBy(k => k.value);\r\n\t}\r\n\r\n\tgetCheckedValues(): string[]\r\n\t{\r\n\t\treturn this._checkedValues.vrDistinct();\r\n\t}\r\n\r\n\tgetSelectedItem<T extends TreeViewItem>(): T\r\n\t{\r\n\t\treturn this.datasource().filter(k => k.value == this.value())[0] as T;\r\n\t}\r\n\r\n\tprivate getParentItem(childItem: TreeViewItem): TreeViewItem | null\r\n\t{\r\n\t\tif (childItem.parentValue != null)\r\n\t\t\treturn this.datasource().filter(k => k.value == childItem.parentValue)[0];\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate manageCheckParent(item: TreeViewItem): boolean | void\r\n\t{\r\n\t\tlet parentItem = this.getParentItem(item);\r\n\t\tif (parentItem != null)\r\n\t\t{\r\n\t\t\tlet children = this.getChildrenCheckboxElements<HTMLInputElement[]>(parentItem, true, true);\r\n\t\t\tlet tempCheckedElements = children.filter(k => k != null && k.checked);\r\n\r\n\t\t\tlet liParent = this._dictionaryValueLi.get(parentItem.value)!;\r\n\t\t\tlet parentInputElement = puma(liParent).find(\"input\")[0];\r\n\t\t\tif (parentInputElement != null)\r\n\t\t\t{\r\n\t\t\t\tpuma(parentInputElement).removeClass(\"indeterminateVrCheckbox\");\r\n\t\t\t\tparentInputElement.checked = false;\r\n\r\n\t\t\t\tif (this.getAllChildrenItems(parentItem).length == tempCheckedElements.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tparentInputElement.checked = true;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\telse if (tempCheckedElements.length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tparentInputElement.checked = false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tpuma(parentInputElement).addClass(\"indeterminateVrCheckbox\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tprivate limitInputByDataSource(element: HTMLInputElement, e: any): void\r\n\t{\r\n\t\tlet filtered = this.getFilteredArrayByInputText(element.value);\r\n\t\tif (filtered.length == 0)\r\n\t\t{\r\n\t\t\tlet newText = element.value;\r\n\t\t\telement.value = newText.substring(0, newText.length - 1);\r\n\t\t\te.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getFilteredArrayByInputText(value: string): TreeViewItem[]\r\n\t{\r\n\t\tvalue = value.toLowerCase();\r\n\t\tlet filteredArray: TreeViewItem[] = [];\r\n\t\tlet arrayWhereSearch = this.datasource().map(k => String(k.text).toLowerCase());\r\n\t\tarrayWhereSearch!.forEach((k, index) => \r\n\t\t{\r\n\t\t\tif (k.indexOf(value) != -1)\r\n\t\t\t\tfilteredArray.push(this.datasource()[index]);\r\n\t\t});\r\n\t\treturn filteredArray;\r\n\t}\r\n\r\n\tprivate filter(text: string): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tlet element = this._txtSearchFilter.element();\r\n\t\tlet selectionStart = (element as HTMLInputElement).selectionStart;\r\n\t\tlet selectionEnd = (element as HTMLInputElement).selectionEnd;\r\n\r\n\t\tif (text == \"\")\r\n\t\t\tpuma(this.element()).find(\"li\").show();\r\n\t\telse if (!(selectionStart == 0 && selectionEnd == (element as HTMLInputElement).value.length))\r\n\t\t{\r\n\t\t\tpuma(this.element()).find(\"li\").hide();\r\n\r\n\t\t\tlet items = this.getFilteredArrayByInputText(text);\r\n\t\t\tlet values = items.map(k => k.value);\r\n\t\t\tlet texts = items.map(k => k.text);\r\n\r\n\t\t\tfor (let item of items)\r\n\t\t\t{\r\n\t\t\t\tlet parentValue = item.parentValue;\r\n\t\t\t\twhile (parentValue != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet parentItem = this.datasource().filter(k => k.value == parentValue)[0];\r\n\t\t\t\t\tif (!values.includes(parentValue))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalues.push(parentValue);\r\n\t\t\t\t\t\ttexts.push((parentItem != null) ? parentItem.text : \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparentValue = (parentItem != null) ? parentItem.parentValue : undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!(options.filter as TreeViewFilterSettings).onlyParents)\r\n\t\t\t{\r\n\t\t\t\t//#region Filter all\r\n\t\t\t\tfor (let comboItemText of Array.from<HTMLSpanElement>(puma(this.element()).find(\".vrTreeViewItemText\")))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (texts.includes(puma(comboItemText).attr(\"text\")))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpuma(comboItemText).closest(\".vrTreeViewLi\").show();\r\n\t\t\t\t\t\tpuma(comboItemText).closest(\".vrTreeViewLi\").closest(\".vrTreeViewUl\").show();\r\n\r\n\t\t\t\t\t\tpuma(comboItemText).closest(\".vrTreeViewLi\").find(\".vrTreeViewDivIconExpand\").removeClass(\"caret-right caret-down\");\r\n\t\t\t\t\t\tpuma(comboItemText).closest(\".vrTreeViewLi\").find(\".vrTreeViewDivIconExpand\").children(\"i\").removeClass(IconClassicLight.CaretRight + \" \" + IconClassicLight.CaretDown);\r\n\t\t\t\t\t\tpuma(comboItemText).closest(\".vrTreeViewLi\").find(\".vrTreeViewDivIconExpand\").addClass(\"caret-down\");\r\n\t\t\t\t\t\tpuma(comboItemText).closest(\".vrTreeViewLi\").find(\".vrTreeViewDivIconExpand\").children(\"i\").addClass(IconClassicLight.CaretDown);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t//#region Filter only parents\r\n\t\t\t\tfor (let li of Array.from<HTMLLIElement>(puma(this.element()).find(\".vrTreeViewLi\")))\r\n\t\t\t\t{\r\n\t\t\t\t\tlet value = puma(li).attr(\"value\");\r\n\t\t\t\t\tif (this.isParent(value))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet text = puma(li).find(\".vrTreeViewItemText\").attr(\"text\");\r\n\t\t\t\t\t\tif (texts.includes(text))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpuma(li).show();\r\n\t\t\t\t\t\t\tpuma(li).find(\"ul\").show();\r\n\t\t\t\t\t\t\tpuma(li).find(\"li\").show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisParent(value: string)\r\n\t{\r\n\t\treturn this.getRootValues().includes(value);\r\n\t}\r\n\r\n\tfocus()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.filter !== false && puma(this.element()).find(\".vrTreeViewFilter\")[0] != null)\r\n\t\t\tpuma(this.element()).find(\".vrTreeViewFilter\").focus();\r\n\t}\r\n\r\n\tvalue<T extends string | string[] | number>(value?: TreeViewItem | string | number | string[] | number[] | null, triggerChange: boolean = true): T | null\r\n\t{\r\n\t\tif (value === null)\r\n\t\t{\r\n\t\t\tthis.clear();\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tif (value != null)\r\n\t\t{\r\n\t\t\tif (!options.checkboxes)\r\n\t\t\t\tpuma(this.element()).find(\".vrTreeViewSelectedComboValue\").removeClass(\"vrTreeViewSelectedComboValue\");\r\n\r\n\t\t\tif (typeof (value) == \"string\" || typeof (value) == \"number\")\r\n\t\t\t\tvalue = [String(value)];\r\n\r\n\t\t\tlet comboItem = null;\r\n\t\t\tif (Array.isArray(value))\r\n\t\t\t{\r\n\t\t\t\tvalue = value.vrDistinct();\r\n\t\t\t\tvalue = value.vrToStringArrayList();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomboItem = new TreeViewItem();\r\n\t\t\t\tcomboItem.text = value.text;\r\n\t\t\t\tcomboItem.value = value.value;\r\n\t\t\t\tvalue = [comboItem.value];\r\n\t\t\t}\r\n\r\n\t\t\tlet prevValue = UtilityManager.duplicate(this._value);\r\n\t\t\tthis._value = [];\r\n\t\t\tfor (let singleValue of value)\r\n\t\t\t{\r\n\t\t\t\tlet singleItem = this.datasource().filter(k => k.value == singleValue)[0];\r\n\t\t\t\tif (singleItem != null)\r\n\t\t\t\t\tthis._value.push(singleItem.value);\r\n\t\t\t}\r\n\r\n\t\t\tthis._checkedValues = value;\r\n\t\t\tpuma(puma(this.container()).find(\".vrTreeViewLi[value='\" + value + \"'] .vrTreeViewDivItemContainer\")[0]).addClass(\"vrTreeViewSelectedComboValue\");\r\n\r\n\t\t\tif (triggerChange)\r\n\t\t\t{\r\n\t\t\t\tlet changingEvent = new TreeViewChangingEvent();\r\n\t\t\t\tif (options.onBeforeSelect != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet isParent = this.isParent(this._value[0]);\r\n\t\t\t\t\tlet parentItem = null;\r\n\t\t\t\t\tif (isParent)\r\n\t\t\t\t\t\tparentItem = this.datasource().filter(k => k.value == value)[0];\r\n\r\n\t\t\t\t\tchangingEvent.sender = this;\r\n\t\t\t\t\tchangingEvent.previousValue = prevValue;\r\n\t\t\t\t\tchangingEvent.previousCheckedValues = prevValue;\r\n\t\t\t\t\tchangingEvent.value = this._value[0];\r\n\t\t\t\t\tchangingEvent.childrenValues = (isParent) ? this.getAllChildrenValues(parentItem!) : [];\r\n\t\t\t\t\tchangingEvent.checked = this._isChecked;\r\n\t\t\t\t\tchangingEvent.isParent = isParent;\r\n\t\t\t\t\toptions.onBeforeSelect(changingEvent);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!changingEvent.isDefaultPrevented())\r\n\t\t\t\t\tthis.change();\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._value = prevValue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._value == null)\r\n\t\t\treturn null;\r\n\t\telse if (options.checkboxes === true)\r\n\t\t\treturn this._value as T;\r\n\t\telse\r\n\t\t\treturn this._value[0] as T;\r\n\t}\r\n\r\n\ttitle(title?: string)\r\n\t{\r\n\t\tif (title != null)\r\n\t\t{\r\n\t\t\tif (this._lblTitle != null)\r\n\t\t\t\tthis._lblTitle.value(title);\r\n\t\t}\r\n\t\treturn (this._lblTitle != null) ? this._lblTitle.value() : \"\";\r\n\t}\r\n\r\n\tclear(triggerChange = false): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tpuma(this.element()).find(\".vrTreeViewSelectedComboValue\").removeClass(\"vrTreeViewSelectedComboValue\");\r\n\t\tthis.unCheckAll(false);\r\n\r\n\t\tpuma(this.element()).find(\"li\").show();\r\n\r\n\t\tthis._value = null;\r\n\t\tif (options.filter !== false && puma(this.element()).find(\".vrTreeViewFilter\")[0] != null)\r\n\t\t\tpuma(this.element()).find(\".vrTreeViewFilter\")[0].value = \"\";\r\n\r\n\t\tif (triggerChange)\r\n\t\t\tthis.change();\r\n\t}\r\n\r\n\tclearItems(): void\r\n\t{\r\n\t\tthis._items = [];\r\n\t\tthis.clear();\r\n\t\tpuma(this.element()).find(\".vrTreeViewUl\").remove();\r\n\t}\r\n\r\n\texcelExport()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (typeof (options.export) == \"boolean\")\r\n\t\t\toptions.export = new TreeViewExportSettings();\r\n\r\n\t\tlet exportSettings = options.export as TreeViewExportSettings;\r\n\r\n\t\tif (exportSettings.numericValueTypeEnum == null) exportSettings.numericValueTypeEnum = TreeViewNumericTypeEnum.Default;\r\n\t\tif (exportSettings.decimalDigits == null)\r\n\t\t{\r\n\t\t\tif (exportSettings.numericValueTypeEnum == TreeViewNumericTypeEnum.Currency\r\n\t\t\t\t|| exportSettings.numericValueTypeEnum == TreeViewNumericTypeEnum.Percentage)\r\n\t\t\t\texportSettings.decimalDigits = 2;\r\n\t\t\telse\r\n\t\t\t\texportSettings.decimalDigits = 0;\r\n\t\t}\r\n\r\n\t\t//#region Generate Excel\r\n\t\tlet generateExcelRequest = new GenerateExcelRequest();\r\n\r\n\t\tlet dataSource: TreeViewItem[] = [];\r\n\t\tif (options.columns != null)\r\n\t\t{\r\n\t\t\tfor (let data of this.datasource())\r\n\t\t\t{\r\n\t\t\t\tlet extraCells: TreeViewItemExtraCell[] = [];\r\n\t\t\t\tfor (let column of options.columns)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet extraCell: TreeViewItemExtraCell = UtilityManager.duplicate(column);\r\n\r\n\t\t\t\t\tlet textHTML = data[column.field];\r\n\t\t\t\t\tswitch (column.type)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Date, DateTime, Time\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Date:\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.DateTime:\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Time:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (column.type == TreeViewColumnTypeEnum.Date || column.type == TreeViewColumnTypeEnum.DateTime || column.type == TreeViewColumnTypeEnum.Time)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (column.type == TreeViewColumnTypeEnum.Date)\r\n\t\t\t\t\t\t\t\t\t\ttextHTML = (textHTML == \"\") ? \"\" : new Date(new Date(textHTML)).vrToItalyString(DateModeEnum.Date);\r\n\t\t\t\t\t\t\t\t\telse if (column.type == TreeViewColumnTypeEnum.DateTime)\r\n\t\t\t\t\t\t\t\t\t\ttextHTML = (textHTML == \"\") ? \"\" : new Date(new Date(textHTML)).vrToItalyString(DateModeEnum.DateTime, column.showSeconds);\r\n\t\t\t\t\t\t\t\t\telse if (column.type == TreeViewColumnTypeEnum.Time)\r\n\t\t\t\t\t\t\t\t\t\ttextHTML = (textHTML == \"\") ? \"\" : new Date(new Date(textHTML)).vrToItalyString(DateModeEnum.Time, column.showSeconds);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region CheckBox\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Checkbox:\r\n\t\t\t\t\t\tcase TreeViewColumnTypeEnum.Boolean:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttextHTML = (data[column.field] == true) ? \"true\" : \"false\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\textraCell.value = textHTML;\r\n\t\t\t\t\textraCells.push(extraCell);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.extraCells = extraCells;\r\n\t\t\t\tdataSource.push(data);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tdataSource = this.datasource();\r\n\r\n\t\tgenerateExcelRequest.datasource = dataSource;\r\n\t\tgenerateExcelRequest.title = options.title;\r\n\t\tgenerateExcelRequest.sheetName = exportSettings.sheetName;\r\n\t\tgenerateExcelRequest.fileName = (exportSettings.fileName != null) ? exportSettings.fileName : (\"excel_\" + new Date().vrToItalyString().replace(/\\//g, \"\"));\r\n\t\tgenerateExcelRequest.AuthKey = \"10(P9m+U3a@Mtt-Oeo\";\r\n\t\tgenerateExcelRequest.numericValueTypeEnum = exportSettings.numericValueTypeEnum;\r\n\t\tgenerateExcelRequest.decimalDigits = exportSettings.decimalDigits;\r\n\t\tlet jsonString = JSON.stringify(generateExcelRequest);\r\n\r\n\t\t//#region Multipart\r\n\t\tlet formDataMultipart = null;\r\n\t\tformDataMultipart = new FormData();\r\n\t\tformDataMultipart.append(\"file\", new Blob([jsonString], { type: \"application/json\" }));\r\n\t\t//#endregion\r\n\r\n\t\tshowLoader();\r\n\t\t$.ajax(\r\n\t\t\t{\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\tbeforeSend: (xhr: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Header parameters\r\n\t\t\t\t\txhr.setRequestHeader(\"Accept-Language\", \"it\");\r\n\t\t\t\t\txhr.setRequestHeader(\"AuthKey\", \"10(P9m+U3a@Mtt-Oeo\");\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t},\r\n\t\t\t\tcontentType: false,\r\n\t\t\t\tdata: formDataMultipart,\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tprocessData: false,\r\n\t\t\t\tdataType: \"JSON\",\r\n\t\t\t\turl: \"/api/UtilityWebApi/GenerateExcelTreeView\",\r\n\t\t\t\tsuccess: (response: GenerateExcelResponse, textStatus: string, jqXHR: JQueryXHR) =>\r\n\t\t\t\t{\r\n\t\t\t\t\thideLoader();\r\n\r\n\t\t\t\t\tif (response.downloadUrl != null && response.downloadUrl.length > 0)\r\n\t\t\t\t\t\tlocation.replace(response.downloadUrl);\r\n\r\n\t\t\t\t\tif (!(response as any).Success)\r\n\t\t\t\t\t\talert((response as any).ErrorMessage + \"<br />\" + (response as any).StackTrace, { width: 600, css: \"overflow: auto;\" });\r\n\t\t\t\t},\r\n\t\t\t\terror: (response: JQueryXHR, textStatus: string, errorThrown: string) =>\r\n\t\t\t\t{\r\n\t\t\t\t\thideLoader();\r\n\t\t\t\t\talert(\"Errore nell'esportazione Excel. Contattare l'assistenza.\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Columns\r\n\tcolumn(field: string)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet column = options.columns!.filter(k => k.field == field)[0];\r\n\t\tlet columnIndex = options.columns!.indexOf(column);\r\n\t\treturn options.columns![columnIndex];\r\n\t}\r\n\r\n\tcolumnTitle(field: string, title?: string)\r\n\t{\r\n\t\tlet column = this.column(field);\r\n\t\tif (column != null)\r\n\t\t{\r\n\t\t\tif (title != null)\r\n\t\t\t{\r\n\t\t\t\tcolumn.title = title;\r\n\t\t\t\tpuma(this._divTitle).find(\"div.vrTreeViewColumn[field='\" + field + \"']\").find(\"label\").html(title);\r\n\t\t\t}\r\n\t\t\treturn column.title;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn \"\";\r\n\t}\r\n\r\n\tshowColumns(fields: string[], update = true)\r\n\t{\r\n\t\tfor (let field of fields)\r\n\t\t\tthis.showColumn(field, false);\r\n\r\n\t\tif (update)\r\n\t\t\tthis.update();\r\n\t}\r\n\r\n\tshowColumn(field: string, update = true)\r\n\t{\r\n\t\tpuma(this._divTitle).find(\"div.vrTreeViewColumn[field='\" + field + \"']\").show();\r\n\t\tpuma(this._divContent).find(\"div.vrTreeViewDivItemContainer .vrTreeViewColumnItem[field='\" + field + \"']\").show();\r\n\r\n\t\tthis.column(field).hidden = false;\r\n\r\n\t\tif (update)\r\n\t\t\tthis.update();\r\n\t}\r\n\r\n\thideColumns(fields: string[], update = true)\r\n\t{\r\n\t\tfor (let field of fields)\r\n\t\t\tthis.hideColumn(field, false);\r\n\r\n\t\tif (update)\r\n\t\t\tthis.update();\r\n\t}\r\n\r\n\thideColumn(field: string, update = true)\r\n\t{\r\n\t\tpuma(this._divTitle).find(\"div.vrTreeViewColumn[field='\" + field + \"']\").hide();\r\n\t\tpuma(this._divContent).find(\"div.vrTreeViewColumnItem[field='\" + field + \"']\").hide();\r\n\r\n\t\tthis.column(field).hidden = true;\r\n\r\n\t\tif (update)\r\n\t\t\tthis.update();\r\n\t}\r\n\r\n\tshowOnlyThisColumns(fieldList: string[], update = true)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tfor (let column of options.columns!)\r\n\t\t\tthis.hideColumn(column.field, false);\r\n\r\n\t\tfor (let field of fieldList)\r\n\t\t\tthis.showColumn(field, false);\r\n\r\n\t\tif (update)\r\n\t\t\tthis.update();\r\n\t}\r\n\r\n\tprivate widthColumns()\r\n\t{\r\n\t\tlet widthColumns = 0;\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.columns != null)\r\n\t\t{\r\n\t\t\tfor (let column of options.columns)\r\n\t\t\t{\r\n\t\t\t\tif (column.hidden === true)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\twidthColumns += (column.width != null) ? column.width : 100;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn widthColumns;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Check\r\n\tcheckAll(triggerChange = true): void\r\n\t{\r\n\t\tthis._checkedValues = this.datasource().map(k => k.value);\r\n\t\tthis._checkedValues = this._checkedValues.vrDistinct();\r\n\t\tthis.value(this.datasource().map(k => k.value), triggerChange);\r\n\t}\r\n\r\n\tunCheckAll(triggerChange = true): void\r\n\t{\r\n\t\tthis._checkedValues = [];\r\n\t\tpuma(this.element()).find(\".vrTreeViewSelectedComboValue\").removeClass(\"vrTreeViewSelectedComboValue\");\r\n\t\tpuma(this.element()).find(\"input\").removeClass(\"indeterminateVrCheckbox\");\r\n\t\tfor (let input of Array.from<HTMLInputElement>(puma(this.element()).find(\"input\")))\r\n\t\t{\r\n\t\t\tpuma(input).prop(\"checked\", false);\r\n\t\t\tinput.checked = false;\r\n\t\t}\r\n\t\tthis.value([], triggerChange);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Context menu\r\n\tprivate createContextMenu()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.contextMenuItems!.length == 0)\r\n\t\t\treturn;\r\n\r\n\t\tif (this._divContextMenu == null)\r\n\t\t\tthis._divContextMenu = div(document.body, { class: \"vrTreeViewContextMenu\", id: this.element().id + \"_divPopup\" });\r\n\r\n\t\tfor (let contextMenuItem of options.contextMenuItems!)\r\n\t\t{\r\n\t\t\tlet divContextMenuItem = div(this._divContextMenu, { class: \"vrTreeViewContextMenuItem\" });\r\n\t\t\tif (contextMenuItem.separator === true)\r\n\t\t\t{\r\n\t\t\t\tcreateSeparator({\r\n\t\t\t\t\torientation: OrientationEnum.Horizontal,\r\n\t\t\t\t\tcssContainer: \"display: flex !important; margin-top: 5px !important; margin-bottom: 5px !important;\"\r\n\t\t\t\t}, divContextMenuItem);\r\n\r\n\t\t\t\tdivContextMenuItem.style.cssText += \"padding-bottom: 0px;\";\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (contextMenuItem.icon != null)\r\n\t\t\t\ticon(contextMenuItem.icon, divContextMenuItem, { css: \"margin-right: 5px;\" });\r\n\r\n\t\t\tcreateLabel({\r\n\t\t\t\ttext: contextMenuItem.text,\r\n\t\t\t\tcssContainer: \"cursor: pointer;\",\r\n\t\t\t\tcss: \"cursor: pointer;\"\r\n\t\t\t}, divContextMenuItem);\r\n\r\n\t\t\tif (contextMenuItem.onClick != null)\r\n\t\t\t{\r\n\t\t\t\tpuma(divContextMenuItem).on(\"click\", (e: JQuery.ClickEvent) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (contextMenuItem.confirmationMessage != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconfirm(contextMenuItem.confirmationMessage).then(() =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.clickOnContextMenuItem(contextMenuItem);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.clickOnContextMenuItem(contextMenuItem);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate clickOnContextMenuItem(contextMenuItem: TreeViewContextMenuItem)\r\n\t{\r\n\t\tlet event = new TreeViewContextMenuClickEvent();\r\n\t\tevent.sender = this;\r\n\t\tevent.text = contextMenuItem.text;\r\n\t\tevent.value = contextMenuItem.value;\r\n\t\tevent.dataItem = this._dataItemContextMenu;\r\n\t\tevent.targets = this._dictionaryValueLi.get(this._dataItemContextMenu.value);\r\n\t\tcontextMenuItem.onClick!(event);\r\n\r\n\t\tthis.closeContextMenu();\r\n\t}\r\n\r\n\tprivate showContextMenu(dataItem: any, leftPosition: number, topPosition: number)\r\n\t{\r\n\t\tthis.createContextMenu();\r\n\r\n\t\tif (this._divContextMenu != null)\r\n\t\t{\r\n\t\t\tthis._dataItemContextMenu = dataItem;\r\n\t\t\tpuma(this._divContextMenu).show(200);\r\n\t\t\tpuma(this._divContextMenu).offset({ left: leftPosition, top: topPosition });\r\n\r\n\t\t\tlet zIndex = puma(this._divContextMenu).css(\"z-index\") - 1;\r\n\t\t\tlet background = puma(\"<div class='vrTreeViewBackground' id='vrTreeViewBackground_\" + this.element().id + \"' style='background-color: transparent; display: block; z-index: \" + zIndex + \";'></div>\").vrAppendToPuma(this.container())[0];\r\n\r\n\t\t\tpuma(background).click((e: any) => this.closeContextMenu());\r\n\t\t\tpuma(background).on(\"contextmenu\", (e: JQuery.ContextMenuEvent) =>\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate closeContextMenu()\r\n\t{\r\n\t\tif (this._divContextMenu != null)\r\n\t\t{\r\n\t\t\tpuma(this.container()).find(\".vrTreeViewDivItemContainer\").removeClass(\"hover\");\r\n\t\t\tpuma(this.container()).find(\".vrTreeViewBtnContextMenu\").parent().remove();\r\n\r\n\t\t\tthis._dataItemContextMenu = null;\r\n\t\t\tpuma(this._divContextMenu).remove();\r\n\t\t\t(this._divContextMenu as any) = null;\r\n\t\t\tpuma(\"#vrTreeViewBackground_\" + this.element().id).remove();\r\n\t\t}\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Manage rows\r\n\tupdateRow(dataItem: any, rebind: UpdateRowRebindSettings | boolean = true)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet dataItemId = dataItem[options.dataSourceFieldId!];\r\n\r\n\t\tlet itemDatasource = this.datasource().filter(k => k[options.dataSourceFieldId!] == dataItemId)[0];\r\n\t\tlet itemDatasourceIndex = this.datasource().indexOf(itemDatasource);\r\n\t\tif (itemDatasource != null)\r\n\t\t{\r\n\t\t\tthis.datasource()[itemDatasourceIndex] = dataItem;\r\n\t\t\tif (typeof (rebind) == \"boolean\")\r\n\t\t\t{\r\n\t\t\t\tif (rebind === true)\r\n\t\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t\telse if (rebind.onlyText)\r\n\t\t\t{\r\n\t\t\t\tlet li = this._dictionaryValueLi.get(dataItemId)!;\r\n\t\t\t\tpuma(li).find(\".vrTreeViewSpanValue\")[0].innerHTML = dataItem.text;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateRows(dataItems: any[], rebind = true)\r\n\t{\r\n\t\tfor (let dataItem of dataItems)\r\n\t\t\tthis.updateRow(dataItem, false);\r\n\r\n\t\tif (rebind)\r\n\t\t\tthis.update();\r\n\t}\r\n\r\n\taddItem(item: TreeViewItem, rebind = true)\r\n\t{\r\n\t\tlet parentItem = this.datasource().filter(k => k.value == item.parentValue)[0];\r\n\t\tif (parentItem != null)\r\n\t\t{\r\n\t\t\tlet childrenItems = this.getOnlyChildrenItems(parentItem);\r\n\t\t\tchildrenItems.push(item);\r\n\t\t\tthis.datasource().push(item);\r\n\r\n\t\t\tlet liDestination = this._dictionaryValueLi.get(parentItem.value)![0];\r\n\t\t\tthis.manageAddUpdateItem(childrenItems, liDestination, rebind);\r\n\t\t}\r\n\t}\r\n\r\n\tupdateItem(item: TreeViewItem, rebind = true)\r\n\t{\r\n\t\tlet parentItem = this.datasource().filter(k => k.value == item.parentValue)[0];\r\n\t\tif (parentItem != null)\r\n\t\t{\r\n\t\t\tlet childrenItems = this.getOnlyChildrenItems(parentItem);\r\n\t\t\tchildrenItems.vrDeleteAllBy(k => k.value == item.value);\r\n\t\t\tchildrenItems.push(item);\r\n\t\t\tthis.updateRow(item, false);\r\n\r\n\t\t\tlet liDestination = this._dictionaryValueLi.get(parentItem.value)![0];\r\n\t\t\tthis.manageAddUpdateItem(childrenItems, liDestination, rebind);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate manageAddUpdateItem(childrenItems: TreeViewItem[], liDestination: HTMLElement, rebind = true)\r\n\t{\r\n\t\tlet ul = puma(liDestination).find(\"ul\");\r\n\t\tul.remove();\r\n\r\n\t\tthis.drawItems(childrenItems, liDestination);\r\n\t\tpuma(liDestination).find(\"ul\").show();\r\n\r\n\t\tif (rebind)\r\n\t\t\tthis.rebind();\r\n\t}\r\n\r\n\tdeleteItem(value: number | string)\r\n\t{\r\n\t\tthis.datasource().vrDeleteAllBy(k => k.value == value);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Toolbar\r\n\tvisibleToolbar(state?: boolean)\r\n\t{\r\n\t\tif (state != null)\r\n\t\t{\r\n\t\t\tif (state) puma(this._divToolbar).show();\r\n\t\t\telse puma(this._divToolbar).hide();\r\n\t\t}\r\n\t\treturn puma(this._divToolbar).is(\":visible\");\r\n\t}\r\n\r\n\tshowToolbar()\r\n\t{\r\n\t\tthis.visibleToolbar(true);\r\n\t}\r\n\r\n\thideToolbar()\r\n\t{\r\n\t\tthis.visibleToolbar(false);\r\n\t}\r\n\r\n\ttoolbar()\r\n\t{\r\n\t\treturn this._divToolbar;\r\n\t}\r\n\r\n\ttoolbarItem<T extends VrControl>(value: string)\r\n\t{\r\n\t\treturn ControlManager.get<T>(\"treeView-\" + value + \"_\" + this.element().id);\r\n\t}\r\n\r\n\tshowToolbarItem<T extends VrControl>(value: string)\r\n\t{\r\n\t\tthis.toolbarItem<T>(value).show();\r\n\t}\r\n\r\n\thideToolbarItem<T extends VrControl>(value: string)\r\n\t{\r\n\t\tthis.toolbarItem<T>(value).hide();\r\n\t}\r\n\r\n\tenableToolbarItem<T extends VrControl>(value: string)\r\n\t{\r\n\t\tthis.toolbarItem<T>(value).enable();\r\n\t}\r\n\r\n\tdisableToolbarItem<T extends VrControl>(value: string)\r\n\t{\r\n\t\tthis.toolbarItem<T>(value).disable();\r\n\t}\r\n\r\n\tremoveToolbarItem(value: string)\r\n\t{\r\n\t\tlet item = this.toolbarItem(value);\r\n\t\tpuma(item.container()).remove();\r\n\t}\r\n\r\n\taddToolbarItem(toolbarItem: TreeViewToolbarItem)\r\n\t{\r\n\t\tif (toolbarItem.visible == null) toolbarItem.visible = true;\r\n\t\tif (toolbarItem.type == null) toolbarItem.type = TreeViewToolbarItemType.Custom;\r\n\r\n\t\t//#region Toolbar control settings\r\n\t\tlet text = \"\";\r\n\t\tlet iconClass: IconClass | undefined = undefined;\r\n\t\tlet buttonClass = \"\";\r\n\t\tlet enabled = true;\r\n\t\tlet vrButton = false;\r\n\t\tif (toolbarItem.css == null) toolbarItem.css = \"\";\r\n\t\tif (toolbarItem.cssContainer == null) toolbarItem.cssContainer = \"\";\r\n\t\tlet toolbarItemValue = (toolbarItem.value == null) ? ((toolbarItem.text != null) ? toolbarItem.text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\") : \"noValue\") : toolbarItem.value;\r\n\r\n\t\t//#region Toolbar item type\r\n\t\tswitch (toolbarItem.type)\r\n\t\t{\r\n\t\t\tcase TreeViewToolbarItemType.Custom:\r\n\t\t\t\t{\r\n\t\t\t\t\ttext = (toolbarItem.text != null) ? toolbarItem.text : \"\";\r\n\t\t\t\t\ticonClass = (toolbarItem.icon != null) ? toolbarItem.icon : undefined;\r\n\t\t\t\t\tbuttonClass = \"treeView-\" + toolbarItemValue;\r\n\t\t\t\t\tvrButton = true;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TreeViewToolbarItemType.SplitButton:\r\n\t\t\t\t{\r\n\t\t\t\t\ttext = (toolbarItem.text != null) ? toolbarItem.text : \"\";\r\n\t\t\t\t\ticonClass = (toolbarItem.icon != null) ? toolbarItem.icon : undefined;\r\n\t\t\t\t\tvrButton = false;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TreeViewToolbarItemType.Switch:\r\n\t\t\tcase TreeViewToolbarItemType.ButtonGroup:\r\n\t\t\tcase TreeViewToolbarItemType.CheckBox:\r\n\t\t\tcase TreeViewToolbarItemType.ComboBox:\r\n\t\t\tcase TreeViewToolbarItemType.DatePicker:\r\n\t\t\tcase TreeViewToolbarItemType.Label:\r\n\t\t\tcase TreeViewToolbarItemType.TextBox:\r\n\t\t\t\t{\r\n\t\t\t\t\tvrButton = false;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TreeViewToolbarItemType.Excel:\r\n\t\t\t\t{\r\n\t\t\t\t\ttext = (toolbarItem.text != null) ? toolbarItem.text : \"Excel\";\r\n\t\t\t\t\ticonClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicLight.FileExcel;\r\n\t\t\t\t\tbuttonClass = (toolbarItem.value != null) ? \"treeView-\" + toolbarItem.value : \"treeView-excel\";\r\n\t\t\t\t\tvrButton = true;\r\n\t\t\t\t\ttoolbarItem.backgroundColor = \"#008a00\";\r\n\t\t\t\t\ttoolbarItem.textColor = \"#FFF\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TreeViewToolbarItemType.Separator:\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonClass = (toolbarItem.value != null) ? \"treeView-\" + toolbarItem.value : \"treeView-separator\";\r\n\t\t\t\t\tenabled = false;\r\n\t\t\t\t\tvrButton = true;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TreeViewToolbarItemType.Rebind:\r\n\t\t\t\t{\r\n\t\t\t\t\ttext = (toolbarItem.text != null) ? toolbarItem.text : \"Aggiorna\";\r\n\t\t\t\t\ticonClass = (toolbarItem.icon != null) ? toolbarItem.icon : IconClassicLight.Refresh;\r\n\t\t\t\t\tbuttonClass = (toolbarItem.value != null) ? \"treeView-\" + toolbarItem.value : \"treeView-rebind\";\r\n\t\t\t\t\tvrButton = true;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#endregion\r\n\r\n\t\tif (vrButton)\r\n\t\t{\r\n\t\t\t//#region Create button\r\n\t\t\tcreateButton(\r\n\t\t\t\t{\r\n\t\t\t\t\ticon: iconClass,\r\n\t\t\t\t\timageUrl: toolbarItem.imageUrl,\r\n\t\t\t\t\tenable: enabled,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tcolorSettings: { background: toolbarItem.backgroundColor, textColor: toolbarItem.textColor },\r\n\t\t\t\t\tvisible: toolbarItem.visible,\r\n\t\t\t\t\tcssContainer: toolbarItem.cssContainer,\r\n\t\t\t\t\tcss: toolbarItem.css,\r\n\t\t\t\t\tmode: (toolbarItem.primary === true) ? ButtonModeEnum.Primary : undefined,\r\n\t\t\t\t\tclassContainer: \"treeView-toolbarItemsContainer \" + ((toolbarItem.classContainer != null) ? toolbarItem.classContainer : \"\"),\r\n\t\t\t\t\tclass: ((toolbarItem.type == TreeViewToolbarItemType.Separator) ? \"treeView-separator\" : \"\") + \" treeView-toolbarItems \" + buttonClass,\r\n\t\t\t\t\tbadgeSettings: toolbarItem.badge,\r\n\t\t\t\t\tonClick: (e) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Event\r\n\t\t\t\t\t\tlet toolbarClickEvent = new TreeViewToolbarClickEvent();\r\n\t\t\t\t\t\ttoolbarClickEvent.sender = e.sender;\r\n\t\t\t\t\t\ttoolbarClickEvent.type = toolbarItem.type!;\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Confirmation message\r\n\t\t\t\t\t\tif (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconfirm(toolbarItem.confirmationMessage).then(() =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this._divToolbar, null, buttonClass + \"_\" + this.element().id);\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//#region SplitButton\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.SplitButton)\r\n\t\t\t{\r\n\t\t\t\tlet value = (toolbarItem.value != null) ? toolbarItem.value : \"splitButton\";\r\n\t\t\t\tif (toolbarItem.value == null && toolbarItem.text != null)\r\n\t\t\t\t\tvalue = toolbarItem.text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\") + \"splitButton\";\r\n\r\n\t\t\t\tlet itemClass = \"treeView-\" + value;\r\n\t\t\t\tcreateSplitButton(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: text,\r\n\t\t\t\t\t\ticon: iconClass,\r\n\t\t\t\t\t\timageUrl: toolbarItem.imageUrl,\r\n\t\t\t\t\t\titems: toolbarItem.splitButtonItems!,\r\n\t\t\t\t\t\tvisible: toolbarItem.visible,\r\n\t\t\t\t\t\tcssContainer: toolbarItem.cssContainer + \" vertical-align: top;\",\r\n\t\t\t\t\t\tcss: toolbarItem.css,\r\n\t\t\t\t\t\tclassContainer: \"treeView-toolbarItemsContainer \" + ((toolbarItem.classContainer != null) ? toolbarItem.classContainer : \"\"),\r\n\t\t\t\t\t\tclass: \"treeView-toolbarItems treeView-splitButton \" + itemClass,\r\n\t\t\t\t\t\tonClick: (toolbarItem.onClick == null) ? undefined : (e) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//#region Event\r\n\t\t\t\t\t\t\tlet toolbarClickEvent = new TreeViewToolbarClickEvent();\r\n\t\t\t\t\t\t\ttoolbarClickEvent.sender = e.sender;\r\n\t\t\t\t\t\t\ttoolbarClickEvent.type = toolbarItem.type!;\r\n\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t//#region Confirmation message\r\n\t\t\t\t\t\t\tif (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirm(toolbarItem.confirmationMessage).then(() =>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region ButtonGroup\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.ButtonGroup)\r\n\t\t\t{\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"buttonGroup\");\r\n\t\t\t\tcreateButtonGroup(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselectionMode: SelectionModeEnum.Single,\r\n\t\t\t\t\t\titems: toolbarItem.buttonGroupItems!,\r\n\t\t\t\t\t\tvisible: toolbarItem.visible,\r\n\t\t\t\t\t\tcssContainer: \"top: -1px; \" + toolbarItem.cssContainer,\r\n\t\t\t\t\t\tcss: toolbarItem.css,\r\n\t\t\t\t\t\tclassContainer: \"treeView-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n\t\t\t\t\t\tclass: \"treeView-toolbarItems treeView-buttonGroup \" + itemClass,\r\n\t\t\t\t\t\twidth: \"auto\",\r\n\t\t\t\t\t\tonSelect: (e) => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//#region Event\r\n\t\t\t\t\t\t\tlet toolbarClickEvent = new TreeViewToolbarClickEvent();\r\n\t\t\t\t\t\t\ttoolbarClickEvent.sender = e.sender;\r\n\t\t\t\t\t\t\ttoolbarClickEvent.type = toolbarItem.type!;\r\n\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t//#region Confirmation message\r\n\t\t\t\t\t\t\tif (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirm(toolbarItem.confirmationMessage).then(() =>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region CheckBox\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.CheckBox)\r\n\t\t\t{\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"checkbox\");\r\n\t\t\t\tcreateCheckBox(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: toolbarItem.text,\r\n\t\t\t\t\t\tvisible: toolbarItem.visible,\r\n\t\t\t\t\t\tcssContainer: \"top: 3px; \" + toolbarItem.cssContainer,\r\n\t\t\t\t\t\tcss: toolbarItem.css,\r\n\t\t\t\t\t\tclassContainer: \"treeView-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n\t\t\t\t\t\tclass: \"treeView-toolbarItems treeView-checkBox \" + itemClass,\r\n\t\t\t\t\t\tonCheck: (e) => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//#region Event\r\n\t\t\t\t\t\t\tlet toolbarClickEvent = new TreeViewToolbarClickEvent();\r\n\t\t\t\t\t\t\ttoolbarClickEvent.sender = e.sender;\r\n\t\t\t\t\t\t\ttoolbarClickEvent.type = toolbarItem.type!;\r\n\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t//#region Confirmation message\r\n\t\t\t\t\t\t\tif (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirm(toolbarItem.confirmationMessage).then(() =>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Label\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.Label)\r\n\t\t\t{\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"label\");\r\n\t\t\t\tcreateLabel(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: toolbarItem.text,\r\n\t\t\t\t\t\tvisible: toolbarItem.visible,\r\n\t\t\t\t\t\tcssContainer: toolbarItem.cssContainer,\r\n\t\t\t\t\t\tcss: toolbarItem.css,\r\n\t\t\t\t\t\tclassContainer: \"treeView-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n\t\t\t\t\t\tclass: \"treeView-toolbarItems treeView-label \" + itemClass,\r\n\t\t\t\t\t\tcolorSettings:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbackground: toolbarItem.backgroundColor,\r\n\t\t\t\t\t\t\ttextColor: toolbarItem.textColor\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonClick: (e) => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//#region Event\r\n\t\t\t\t\t\t\tlet toolbarClickEvent = new TreeViewToolbarClickEvent();\r\n\t\t\t\t\t\t\ttoolbarClickEvent.sender = e.sender;\r\n\t\t\t\t\t\t\ttoolbarClickEvent.type = toolbarItem.type!;\r\n\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t//#region Confirmation message\r\n\t\t\t\t\t\t\tif (toolbarItem.confirmationMessage != null && toolbarItem.confirmationMessage.length > 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirm(toolbarItem.confirmationMessage).then(() =>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tthis.toolbarCustomLogic(toolbarItem, toolbarClickEvent);\r\n\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region ComboBox\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.ComboBox)\r\n\t\t\t{\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"comboBox\");\r\n\r\n\t\t\t\tif (toolbarItem.comboBoxOptions == null) toolbarItem.comboBoxOptions = new ComboBoxOptions();\r\n\t\t\t\ttoolbarItem.comboBoxOptions.classContainer = \"treeView-toolbarItemsContainer \" + toolbarItem.comboBoxOptions.classContainer;\r\n\t\t\t\ttoolbarItem.comboBoxOptions.class = \"treeView-toolbarItems treeView-comboBox \" + itemClass + \" \" + toolbarItem.comboBoxOptions.class;\r\n\t\t\t\tif (toolbarItem.comboBoxOptions.visible == null) toolbarItem.comboBoxOptions.visible = toolbarItem.visible;\r\n\t\t\t\tif (toolbarItem.comboBoxOptions.css == null) toolbarItem.comboBoxOptions.css = toolbarItem.css;\r\n\t\t\t\tif (toolbarItem.comboBoxOptions.cssContainer == null) toolbarItem.comboBoxOptions.cssContainer = toolbarItem.cssContainer + \";\";\r\n\t\t\t\ttoolbarItem.comboBoxOptions.cssContainer += \"vertical-align: top;\";\r\n\r\n\t\t\t\tcreateComboBox(toolbarItem.comboBoxOptions, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region DatePicker\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.DatePicker)\r\n\t\t\t{\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"datePicker\");\r\n\r\n\t\t\t\tif (toolbarItem.datePickerOptions == null) toolbarItem.datePickerOptions = new DatePickerOptions();\r\n\t\t\t\ttoolbarItem.datePickerOptions.classContainer = \"treeView-toolbarItemsContainer \" + toolbarItem.datePickerOptions.classContainer;\r\n\t\t\t\ttoolbarItem.datePickerOptions.class = \"treeView-toolbarItems treeView-datePicker \" + itemClass + \" \" + toolbarItem.datePickerOptions.class;\r\n\t\t\t\tif (toolbarItem.datePickerOptions.visible == null) toolbarItem.datePickerOptions.visible = toolbarItem.visible;\r\n\t\t\t\tif (toolbarItem.datePickerOptions.css == null) toolbarItem.datePickerOptions.css = toolbarItem.css;\r\n\t\t\t\tif (toolbarItem.datePickerOptions.cssContainer == null) toolbarItem.datePickerOptions.cssContainer = toolbarItem.cssContainer;\r\n\t\t\t\ttoolbarItem.datePickerOptions.cssContainer += \"top: -1px; \" + toolbarItem.datePickerOptions.cssContainer;\r\n\r\n\t\t\t\tcreateDatePicker(toolbarItem.datePickerOptions, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region TextBox\r\n\t\t\tif (toolbarItem.type == TreeViewToolbarItemType.TextBox)\r\n\t\t\t{\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"textBox\");\r\n\r\n\t\t\t\tif (toolbarItem.textBoxOptions == null) toolbarItem.textBoxOptions = new TextBoxOptions();\r\n\t\t\t\ttoolbarItem.textBoxOptions.classContainer = \"treeView-toolbarItemsContainer \" + toolbarItem.textBoxOptions.classContainer;\r\n\t\t\t\ttoolbarItem.textBoxOptions.class = \"treeView-toolbarItems treeView-textBox \" + itemClass + \" \" + toolbarItem.textBoxOptions.class;\r\n\t\t\t\tif (toolbarItem.textBoxOptions.visible == null) toolbarItem.textBoxOptions.visible = toolbarItem.visible;\r\n\t\t\t\tif (toolbarItem.textBoxOptions.css == null) toolbarItem.textBoxOptions.css = toolbarItem.css;\r\n\t\t\t\tif (toolbarItem.textBoxOptions.cssContainer == null) toolbarItem.textBoxOptions.cssContainer = toolbarItem.cssContainer;\r\n\t\t\t\ttoolbarItem.textBoxOptions.cssContainer += \"top: -1px; \" + toolbarItem.textBoxOptions.cssContainer;\r\n\r\n\t\t\t\tcreateTextBox(toolbarItem.textBoxOptions, this._divToolbar, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Switch\r\n\t\t\telse if (toolbarItem.type == TreeViewToolbarItemType.Switch)\r\n\t\t\t{\r\n\t\t\t\tif (toolbarItem.switchSettings == null)\r\n\t\t\t\t{\r\n\t\t\t\t\ttoolbarItem.switchSettings = new TreeViewToolbarSwitchSettings();\r\n\t\t\t\t\ttoolbarItem.switchSettings.labelOff = \"\";\r\n\t\t\t\t\ttoolbarItem.switchSettings.labelOn = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (toolbarItem.switchSettings.checked == null) toolbarItem.switchSettings.checked = false;\r\n\t\t\t\tlet itemClass = \"treeView-\" + ((toolbarItem.value != null) ? toolbarItem.value : \"switch\");\r\n\t\t\t\tpuma(this._divToolbar).vrAppendPuma(\"<div id='\" + itemClass + \"_\" + this.element().id + \"' class='treeView-toolbarItems-switch'></div>\");\r\n\t\t\t\tcreateSwitch(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabelOff: toolbarItem.switchSettings!.labelOff,\r\n\t\t\t\t\t\tlabelOn: toolbarItem.switchSettings!.labelOn,\r\n\t\t\t\t\t\tchecked: toolbarItem.switchSettings.checked,\r\n\t\t\t\t\t\tcssContainer: \"top: -2px; \" + toolbarItem.cssContainer,\r\n\t\t\t\t\t\tcss: toolbarItem.css,\r\n\t\t\t\t\t\tclassContainer: \"treeView-toolbarItemsContainer \" + toolbarItem.classContainer,\r\n\t\t\t\t\t\tvisible: toolbarItem.visible,\r\n\t\t\t\t\t\tonChange: (e) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (toolbarItem.switchSettings!.onCheck != null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet tableSwitchEvent = new TreeViewToolbarSwitchEvent();\r\n\t\t\t\t\t\t\t\ttableSwitchEvent.checked = e.checked;\r\n\t\t\t\t\t\t\t\ttoolbarItem.switchSettings!.onCheck(tableSwitchEvent);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, null, null, itemClass + \"_\" + this.element().id);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t}\r\n\r\n\tprivate toolbarCustomLogic(toolbarItem: TreeViewToolbarItem, toolbarClickEvent: TreeViewToolbarClickEvent)\r\n\t{\r\n\t\tswitch (toolbarItem.type)\r\n\t\t{\r\n\t\t\tcase TreeViewToolbarItemType.Rebind:\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.rebind();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TreeViewToolbarItemType.Excel:\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.excelExport();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (toolbarItem.onClick != null)\r\n\t\t\ttoolbarItem.onClick(toolbarClickEvent);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region WebApi\r\n\tprivate doWebApiCall(request: TreeViewWebApiRequest, requestType: TreeViewRequestTypeEnum, promiseCallback?: Function)\r\n\t{\r\n\t\tlet json: any = {};\r\n\t\tjson.AuthKey = request.authKey;\r\n\r\n\t\tif (requestType == TreeViewRequestTypeEnum.Rebind || requestType == TreeViewRequestTypeEnum.Excel)\r\n\t\t{\r\n\t\t\tif (requestType == TreeViewRequestTypeEnum.Rebind)\r\n\t\t\t{\r\n\t\t\t\tif ((request as TreeViewRebindRequest).itemsPropertyName == null)\r\n\t\t\t\t\t(request as TreeViewRebindRequest).itemsPropertyName = \"items\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Method\r\n\t\tif (!request.method!.startsWith(\"/api/\"))\r\n\t\t{\r\n\t\t\tif (request.method!.startsWith(\"/\"))\r\n\t\t\t\trequest.method!.substring(1);\r\n\r\n\t\t\trequest.method = \"/api/\" + request.method;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Paramaters\r\n\t\tif (request.otherParameters != null)\r\n\t\t{\r\n\t\t\tlet jsonParameters = Object.getOwnPropertyNames(request.otherParameters);\r\n\t\t\tfor (let param of jsonParameters)\r\n\t\t\t\tjson[param] = request.otherParameters[param];\r\n\t\t}\r\n\r\n\t\tif (request.parameters != null)\r\n\t\t{\r\n\t\t\tlet parameters = request.parameters();\r\n\t\t\tlet jsonParameters = Object.getOwnPropertyNames(parameters);\r\n\t\t\tfor (let param of jsonParameters)\r\n\t\t\t\tjson[param] = parameters[param];\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tlet jsonS = JSON.stringify(json);\r\n\r\n\t\tif (typeof (request.loadingElement) == \"boolean\")\r\n\t\t{\r\n\t\t\tif (request.loadingElement === false) request.loadingElement = undefined;\r\n\t\t\telse request.loadingElement = document.body;\r\n\t\t}\r\n\t\tshowLoader((request as any).tempLoadingElement != null ? (request as any).tempLoadingElement : request.loadingElement);\r\n\t\t(request as any).tempLoadingElement = undefined;\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\tcontentType: \"application/json\",\r\n\t\t\tdata: jsonS,\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tprocessData: false,\r\n\t\t\tdataType: \"json\",\r\n\t\t\turl: request.method,\r\n\t\t\tsuccess: (response: any, textStatus: string, jqXHR: JQueryXHR) =>\r\n\t\t\t{\r\n\t\t\t\thideLoader();\r\n\r\n\t\t\t\tif (response != null && (response.Success || response.success))\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Success notification message\r\n\t\t\t\t\tlet successMessage = request!.successNotificationMessage;\r\n\t\t\t\t\tsuccessMessage = (successMessage == null) ? false : successMessage;\r\n\r\n\t\t\t\t\tif (typeof (successMessage) == \"string\")\r\n\t\t\t\t\t\tsuccessMessage = successMessage;\r\n\r\n\t\t\t\t\tif (typeof (successMessage) == \"string\")\r\n\t\t\t\t\t\tnotify(successMessage);\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t//#region Rebind\r\n\t\t\t\t\tlet rebindAfterSave = request!.rebindGridAfterSave;\r\n\t\t\t\t\trebindAfterSave = (rebindAfterSave == null) ? false : rebindAfterSave;\r\n\r\n\t\t\t\t\tif (rebindAfterSave)\r\n\t\t\t\t\t\tthis.rebind();\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tif (request!.callbackBeforeDatasourceChange != null)\r\n\t\t\t\t\t\trequest!.callbackBeforeDatasourceChange(response);\r\n\r\n\t\t\t\t\t//#region Set data source if rebind\r\n\t\t\t\t\tif (requestType == TreeViewRequestTypeEnum.Rebind && response[(request as TreeViewRebindRequest).itemsPropertyName!] != null)\r\n\t\t\t\t\t\tthis.datasource(response[(request as TreeViewRebindRequest).itemsPropertyName!]);\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tif (request!.callback != null)\r\n\t\t\t\t\t\trequest!.callback(response);\r\n\r\n\t\t\t\t\tif (promiseCallback != null)\r\n\t\t\t\t\t\tpromiseCallback();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tlet exception = (response.Exception || response.exception);\r\n\t\t\t\t\tlet exceptionCode = (exception.Code || exception.code);\r\n\t\t\t\t\tif (response != null && exceptionCode == \"403\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlocation.replace(\"/Default.aspx\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//#region Error notification message\r\n\t\t\t\t\tlet errorMessage = request!.errorNotificationMessage;\r\n\t\t\t\t\terrorMessage = (errorMessage == null) ? true : errorMessage;\r\n\r\n\t\t\t\t\tif (errorMessage == true || typeof (errorMessage) == \"string\")\r\n\t\t\t\t\t\tnotify((typeof (errorMessage) == \"string\") ? errorMessage! : ((response != null) ? (response.ExceptionMessage! || response.exceptionMessage) : \"Errore nel salvataggio\"));\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t//#region Rebind\r\n\t\t\t\t\tlet rebindAfterError = request!.rebindGridAfterError;\r\n\t\t\t\t\trebindAfterError = (rebindAfterError == null) ? false : rebindAfterError;\r\n\r\n\t\t\t\t\tif (rebindAfterError)\r\n\t\t\t\t\t\tthis.rebind();\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tlet closeWindowAfterError = request!.closeWindowAfterError;\r\n\t\t\t\t\tcloseWindowAfterError = (closeWindowAfterError == null) ? false : closeWindowAfterError;\r\n\r\n\t\t\t\t\tif (request!.errorCallback != null)\r\n\t\t\t\t\t\trequest!.errorCallback((response != null) ? (response.ExceptionMessage! || response.exceptionMessage) : \"Errore nel salvataggio\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: (response: JQueryXHR, textStatus: string, errorThrown: string) =>\r\n\t\t\t{\r\n\t\t\t\thideLoader();\r\n\r\n\t\t\t\t//#region Error notification message\r\n\t\t\t\tlet errorMessage = request!.errorNotificationMessage;\r\n\t\t\t\terrorMessage = (errorMessage == null) ? true : errorMessage;\r\n\r\n\t\t\t\tlet message = \"Errore nel salvataggio\";\r\n\t\t\t\tif (response.responseJSON != null)\r\n\t\t\t\t\tmessage = (response.responseJSON.errorMessage != null) ? response.responseJSON.errorMessage : ((response.responseJSON.Message || response.responseJSON.message) + \"<br />\" + (response.responseJSON.ExceptionMessage || response.responseJSON.exceptionMessage));\r\n\t\t\t\telse if (response.responseText != null && response.responseText != \"\")\r\n\t\t\t\t\tmessage = response.responseText;\r\n\t\t\t\telse if (response.statusText != null && response.statusText != \"\")\r\n\t\t\t\t\tmessage = response.statusText;\r\n\t\t\t\telse\r\n\t\t\t\t\tmessage = \"Si è verificato un problema\";\r\n\r\n\t\t\t\tif (response.status == 401)\r\n\t\t\t\t\tmessage = \"Auth key errata\";\r\n\t\t\t\telse if (response.status == 404)\r\n\t\t\t\t\tmessage = \"Web Api non trovata\";\r\n\t\t\t\telse if (response.status == 403)\r\n\t\t\t\t{\r\n\t\t\t\t\tlocation.replace(\"/Default.aspx\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet finalMessage = \"Errore nel salvataggio\";\r\n\t\t\t\tif (errorMessage == true || typeof (errorMessage) == \"string\")\r\n\t\t\t\t{\r\n\t\t\t\t\tfinalMessage = (errorMessage == true) ? message : errorMessage;\r\n\t\t\t\t\tnotify(finalMessage);\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\t//#region Rebind\r\n\t\t\t\tlet rebindAfterError = request!.rebindGridAfterError;\r\n\t\t\t\trebindAfterError = (rebindAfterError == null) ? false : rebindAfterError;\r\n\r\n\t\t\t\tif (rebindAfterError)\r\n\t\t\t\t\tthis.rebind();\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tlet closeWindowAfterError = request!.closeWindowAfterError;\r\n\t\t\t\tcloseWindowAfterError = (closeWindowAfterError == null) ? false : closeWindowAfterError;\r\n\r\n\t\t\t\tif (request!.errorCallback != null)\r\n\t\t\t\t\trequest!.errorCallback(finalMessage);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Events\r\n\tchange(callBack?: Function): void\r\n\t{\r\n\t\tlet changeCallBack = this.getOptions().onAfterSelect;\r\n\t\tif (changeCallBack != null)\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tlet value = (options.checkboxes && this._tempCheckedValue != null) ? this._tempCheckedValue : this.value<string>()!;\r\n\r\n\t\t\tlet isParent = this.isParent(value);\r\n\t\t\tlet parentItem = null;\r\n\t\t\tif (isParent)\r\n\t\t\t\tparentItem = this.datasource().filter(k => k.value == value)[0];\r\n\r\n\t\t\tlet changeEvent = new TreeViewChangeEvent();\r\n\t\t\tchangeEvent.sender = this;\r\n\t\t\tchangeEvent.value = value;\r\n\t\t\tchangeEvent.childrenValues = (isParent) ? this.getAllChildrenValues(parentItem!) : [];\r\n\t\t\tchangeEvent.selectedItem = this.getSelectedItem();\r\n\t\t\tchangeEvent.checked = this._isChecked;\r\n\t\t\tchangeEvent.isParent = isParent;\r\n\t\t\tchangeCallBack!(changeEvent);\r\n\t\t}\r\n\r\n\t\tif (callBack != null)\r\n\t\t\tcallBack();\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<TreeViewOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass TreeViewTemplateEvent\r\n{\r\n\tsender: TreeView;\r\n\tdataItem: any;\r\n\tcontainer: HTMLElement;\r\n}\r\n\r\nclass TreeViewEvent extends VrControlsEvent\r\n{\r\n\tsender: TreeView;\r\n\tvalue: any;\r\n\tchildrenValues: string[];\r\n\tselectedItem?: TreeViewItem;\r\n\tchecked: boolean;\r\n\tisParent?: boolean;\r\n}\r\n\r\nclass TreeViewChangeEvent extends TreeViewEvent\r\n{\r\n\r\n}\r\n\r\nclass TreeViewChangingEvent extends TreeViewEvent\r\n{\r\n\tpreviousValue?: string | null;\r\n\tpreviousCheckedValues?: string[] | null;\r\n}\r\n\r\nexport class TreeViewContextMenuClickEvent extends VrControlsEvent\r\n{\r\n\tsender: TreeView;\r\n\ttext?: string;\r\n\tvalue?: string;\r\n\tdataItem: any;\r\n\ttargets?: HTMLElement[];\r\n}\r\n\r\nclass TreeViewDoubleClickEvent extends VrControlsEvent\r\n{\r\n\tsender: TreeView;\r\n\ttext?: string;\r\n\tvalue?: string;\r\n\tdataItem: any;\r\n}\r\n\r\nclass TreeViewEditEvent extends VrControlsEvent\r\n{\r\n\tsender: TreeView;\r\n\ttext?: string;\r\n\tvalue?: string;\r\n\tdataItem: any;\r\n}\r\n\r\nclass TreeViewDragEvent extends VrControlsEvent\r\n{\r\n\tsender: TreeView;\r\n\ttarget: HTMLElement;\r\n\tsource: TreeViewItem;\r\n\tdestination?: TreeViewItem;\r\n}\r\n\r\nclass TreeViewDragStartEvent extends TreeViewDragEvent { }\r\nclass TreeViewDragMoveEvent extends TreeViewDragEvent { }\r\nclass TreeViewDragEndEvent extends TreeViewDragEvent { }\r\n\r\nclass TreeViewExportSettings\r\n{\r\n\tfileName?: string;\r\n\tsheetName?: string;\r\n\tnumericValueTypeEnum?: TreeViewNumericTypeEnum;\r\n\tdecimalDigits?: number;\r\n}\r\n\r\nclass TreeViewSumSettings\r\n{\r\n\tautoCalc?: boolean;\r\n}\r\n\r\nclass GenerateExcelRequest\r\n{\r\n\tpublic sheetName?: string;\r\n\tpublic fileName: string;\r\n\tpublic AuthKey: string;\r\n\tpublic datasource: TreeViewItem[];\r\n\tpublic numericValueTypeEnum: TreeViewNumericTypeEnum;\r\n\tpublic decimalDigits: number;\r\n\tpublic title?: string;\r\n}\r\n\r\nclass GenerateExcelResponse\r\n{\r\n\tpublic downloadUrl: string;\r\n}\r\n\r\nclass TempRebindInfo\r\n{\r\n\tyPosition: number;\r\n\tselectedValue: any;\r\n\tparentExpandedValueList: string[];\r\n}\r\n\r\nexport class TreeViewHeaderAndCellSettings\r\n{\r\n\ttextAlign?: TreeViewAlignEnum;\r\n\tbackgroundColor?: string;\r\n\tcolor?: string;\r\n\tcss?: string;\r\n}\r\n\r\nexport class TreeViewHeaderSettings extends TreeViewHeaderAndCellSettings\r\n{\r\n\ticon?: IconClass;\r\n}\r\n\r\nexport class TreeViewCellSettings extends TreeViewHeaderAndCellSettings\r\n{\r\n\tzeroIfNull?: boolean;\r\n}\r\n\r\nclass TreeViewWebApiRequest\r\n{\r\n\tauthKey?: string;\r\n\tmethod?: string;\r\n\tsuccessNotificationMessage?: boolean | string;\r\n\terrorNotificationMessage?: boolean | string;\r\n\trebindGridAfterSave?: boolean;\r\n\trebindGridAfterError?: boolean;\r\n\tcloseWindowAfterError?: boolean;\r\n\totherParameters?: any;\r\n\tloadingElement?: boolean | HTMLElement | JQuery | string;\r\n\r\n\tcallback?: (response?: any) => void;\r\n\tcallbackBeforeDatasourceChange?: (response?: any) => void;\r\n\terrorCallback?: (message?: string) => void;\r\n\tparameters?: () => any;\r\n}\r\n\r\nclass TreeViewRebindRequest extends TreeViewWebApiRequest\r\n{\r\n\titemsPropertyName?: string;\r\n\trebindAtStartup?: boolean;\r\n}\r\n\r\nenum TreeViewRequestTypeEnum\r\n{\r\n\tRebind = 1,\r\n\tExcel = 3\r\n}\r\n//#endregion","import { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { confirm, ButtonGroupItem, ComboBoxTypeEnum, ControlTypeEnum, createButton, createButtonGroup, createComboBox, createDatePicker, DateFormatEnum, DayOfWeekEnum, div, IconClassicLight, IconClass, NotifierTypeEnum, notify, puma, SchedulerData, SchedulerNavigateActionEnum, SchedulerResource, SchedulerSlotElement, SchedulerView, SchedulerViewEnum, createSwitch, showLoader, hideLoader, SchedulerSaturationInfo, SchedulerSaturationDay, SchedulerSaturationWeekByResource, SchedulerSaturationFourWeeks, SaturationResource } from \"../vr\";\r\nimport { Button } from \"./button\";\r\nimport { ButtonGroup } from \"./buttonGroup\";\r\nimport { ComboBox } from \"./comboBox\";\r\nimport { DatePicker } from \"./datePicker\";\r\nimport { Switch } from \"./switch\";\r\n\r\ndeclare var html2canvas: any;\r\ndeclare var jsPDF: any;\r\n\r\n//#region Options\r\nexport class SchedulerOptions extends VrControlOptions\r\n{\r\n\tdate?: Date;\r\n\tstartTime?: Date;\r\n\tendTime?: Date;\r\n\ttimeslotIntervalDuration?: number;\r\n\tnumberOfWorkDays?: number;\r\n\tresources?: SchedulerResource[];\r\n\tfirstDayOfWeek?: DayOfWeekEnum;\r\n\tviews?: SchedulerView[];\r\n\tdaysOfWeekNames?: string[];\r\n\texportPdf?: boolean;\r\n\tmaxResourcesNumber?: SchedulerMaxResourceNumber;\r\n\tavailabilities?: SchedulerData[];\r\n\tdatasource?: SchedulerData[];\r\n\tsaturation?: SchedulerSaturationInfo;\r\n\teditable?: SchedulerEditable;\r\n\ttimeColumn?: boolean;\r\n\tshowHeader?: boolean;\r\n\tshowToolbar?: boolean;\r\n\r\n\tonNavigate?: (e: SchedulerNavigateEvent) => void;\r\n\tonViewChange?: (e: SchedulerViewChangeEvent) => void;\r\n\tonIntervalChange?: (e: SchedulerIntervalChangeEvent) => void;\r\n\tonResourcesChange?: (e: SchedulerResourcesChangeEvent) => void;\r\n\tonTimeslotClick?: (e: SchedulerTimeslotClickEvent) => void;\r\n\tonAvailabilityClick?: (e: SchedulerAvailabilityClickEvent) => void;\r\n\tonAppointmentClick?: (e: SchedulerAppointmentClickEvent) => void;\r\n\tonMoveStart?: (e: SchedulerMoveStartEvent) => void;\r\n\tonMoving?: (e: SchedulerMovingEvent) => void;\r\n\tonMoveEnd?: (e: SchedulerMoveEndEvent) => void;\r\n\tonExpand?: (e: SchedulerExpandEvent) => void;\r\n\tonCollapse?: (e: SchedulerCollapseEvent) => void;\r\n\tonResizeStart?: (e: SchedulerResizeStartEvent) => void;\r\n\tonResizing?: (e: SchedulerResizingEvent) => void;\r\n\tonResizeEnd?: (e: SchedulerResizeEndEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Scheduler extends VrControl\r\n{\r\n\tprivate _dtpSchedulerDate: DatePicker;\r\n\tprivate _swtGroupByDateResource: Switch;\r\n\tprivate _btgMenuView: ButtonGroup;\r\n\tprivate _btnExpand: Button;\r\n\tprivate _btnCollapse: Button;\r\n\tprivate _cmbInterval: ComboBox;\r\n\r\n\tprivate _actualView: SchedulerViewEnum;\r\n\tprivate _actualNavigateAction: SchedulerNavigateActionEnum | null;\r\n\tprivate _isMoving: boolean;\r\n\tprivate _isResizing: boolean;\r\n\tprivate _timeColumnWidth: number;\r\n\tprivate _saturationData?: SchedulerSaturationInfo;\r\n\tprivate _saturationVisible: boolean;\r\n\r\n\tprivate _datasource: any[];\r\n\tprivate _slotElementList: SchedulerSlotElement[];\r\n\tprivate _availabilities: SchedulerData[];\r\n\r\n\tconstructor(element: HTMLElement, options?: SchedulerOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new SchedulerOptions();\r\n\r\n\t\tif (options.startTime == null) options.startTime = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), 8, 0);\r\n\t\tif (options.endTime == null) options.endTime = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), 19, 0);\r\n\t\tif (options.maxResourcesNumber == null) options.maxResourcesNumber = new SchedulerMaxResourceNumber();\r\n\t\tif (options.views == null) options.views = [{ type: SchedulerViewEnum.Day, selected: true }];\r\n\t\tif (options.timeslotIntervalDuration == null) options.timeslotIntervalDuration = 30;\r\n\t\tif (options.firstDayOfWeek == null) options.firstDayOfWeek = DayOfWeekEnum.Monday;\r\n\t\tif (options.daysOfWeekNames == null) options.daysOfWeekNames = [\"DOM\", \"LUN\", \"MAR\", \"MER\", \"GIO\", \"VEN\", \"SAB\"];\r\n\t\tif (options.numberOfWorkDays == null) options.numberOfWorkDays = 6;\r\n\t\tif (options.exportPdf == null) options.exportPdf = true;\r\n\t\tif (options.date == null) options.date = new Date();\r\n\t\tif (options.timeColumn == null) options.timeColumn = true;\r\n\t\tif (options.showHeader == null) options.showHeader = true;\r\n\t\tif (options.showToolbar == null) options.showToolbar = true;\r\n\t\tif (options.editable == null) options.editable = new SchedulerEditable();\r\n\t\tif (options.editable.move == null) options.editable.move = true;\r\n\t\tif (options.editable.resize == null) options.editable.resize = true;\r\n\t\t//#endregion\r\n\r\n\t\toptions.width = \"100%\";\r\n\t\tsuper(element, options, ControlTypeEnum.Scheduler);\r\n\r\n\t\tpuma(this.container()).css({ \"flex-direction\": \"column\" });\r\n\t\tthis._timeColumnWidth = (options.timeColumn) ? 63 : 0; // 63 = time column width + border\r\n\t\tthis._saturationData = undefined;\r\n\r\n\t\tif (options.resources == null)\r\n\t\t\toptions.resources = [{ value: \"\", text: \"\" }];\r\n\r\n\t\t//#region View\r\n\t\tlet viewSelected = options.views!.filter(k => k.selected === true)[0];\r\n\t\tif (viewSelected == null)\r\n\t\t\tviewSelected = { type: SchedulerViewEnum.Day, selected: true };\r\n\r\n\t\tthis._actualView = viewSelected.type;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Structure\r\n\t\tthis.drawToolbar();\r\n\t\tthis.drawScheduler();\r\n\t\tthis.manageSchedulerClick();\r\n\t\t//#endregion\r\n\r\n\t\t//#region Datasource/Availabilities\r\n\t\tif (options.datasource != null)\r\n\t\t\tthis.datasource(options.datasource);\r\n\r\n\t\tif (options.availabilities != null)\r\n\t\t\tthis.availabilities(options.availabilities);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Saturation\r\n\t\tif (options.saturation != null)\r\n\t\t\tthis.saturation(options.saturation);\r\n\t\t//#endregion\r\n\r\n\t\tpuma(window).resize(() =>\r\n\t\t{\r\n\t\t\tthis.drawScheduler();\r\n\t\t\tthis.rebind();\r\n\r\n\t\t\tif (this._saturationData != null)\r\n\t\t\t\tthis.saturation(this._saturationData);\r\n\t\t});\r\n\t}\r\n\r\n\t//#region Methods\r\n\r\n\t//#region Draw \r\n\tdrawToolbar()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet divToolbar = div(this.container(), { class: \"vrSchedulerDivToolbar\" }, true);\r\n\r\n\t\tif (!options.showToolbar)\r\n\t\t\tdivToolbar.style.cssText += \"display: none;\";\r\n\r\n\t\tlet timeout = 0;\r\n\t\tcreateButton({\r\n\t\t\ticon: IconClassicLight.CaretLeft,\r\n\t\t\twidth: 30,\r\n\t\t\tonClick: (e) =>\r\n\t\t\t{\r\n\t\t\t\tlet date = this.date()!.vrAddDays((this.view() == SchedulerViewEnum.Day) ? -1 : -7);\r\n\t\t\t\tthis._dtpSchedulerDate.value(date, false);\r\n\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = window.setTimeout(() =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._actualNavigateAction = SchedulerNavigateActionEnum.PrevDate;\r\n\t\t\t\t\tthis.date(date);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\r\n\t\tcreateButton({\r\n\t\t\ticon: IconClassicLight.CaretRight,\r\n\t\t\twidth: 30,\r\n\t\t\tcssContainer: \"margin-left: 5px;\",\r\n\t\t\tonClick: (e) =>\r\n\t\t\t{\r\n\t\t\t\tlet date = this.date()!.vrAddDays((this.view() == SchedulerViewEnum.Day) ? 1 : 7);\r\n\t\t\t\tthis._dtpSchedulerDate.value(date, false);\r\n\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = window.setTimeout(() =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._actualNavigateAction = SchedulerNavigateActionEnum.NextDate;\r\n\t\t\t\t\tthis.date(date);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\r\n\t\tcreateButton({\r\n\t\t\ttext: \"Oggi\",\r\n\t\t\tcssContainer: \"margin-left: 5px;\",\r\n\t\t\tonClick: (e) =>\r\n\t\t\t{\r\n\t\t\t\tthis._actualNavigateAction = SchedulerNavigateActionEnum.Today;\r\n\t\t\t\tlet today = new Date();\r\n\t\t\t\ttoday.setHours(0, 0, 0);\r\n\t\t\t\tthis.date(today);\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\r\n\t\tthis._dtpSchedulerDate = createDatePicker({\r\n\t\t\tformat: DateFormatEnum.LongDate,\r\n\t\t\tvalue: options.date,\r\n\t\t\twidth: 250,\r\n\t\t\tcssContainer: \"margin-left: 5px;\",\r\n\t\t\tonBeforeChange: (e) =>\r\n\t\t\t{\r\n\t\t\t\tif (e.value == null)\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t},\r\n\t\t\tonAfterChange: (e) => \r\n\t\t\t{\r\n\t\t\t\tthis._actualNavigateAction = SchedulerNavigateActionEnum.ChangeDate;\r\n\t\t\t\tthis.date(this._dtpSchedulerDate.value()!);\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\r\n\t\tthis._swtGroupByDateResource = createSwitch({\r\n\t\t\tlabelSettings: { colorSettings: { textColor: \"#000\" } },\r\n\t\t\tlabelOff: \"Risorsa\",\r\n\t\t\tlabelOn: \"Data\",\r\n\t\t\tcssContainer: \"border-left: solid 1px #000; margin-left: 10px; padding-left: 10px; flex-direction: row; height: 24px;\",\r\n\t\t\tclassContainer: \"vrSchedulerSwitchGroupByDateResource\",\r\n\t\t\tvisible: this.view() == SchedulerViewEnum.Week,\r\n\t\t\tonChange: (e) => window.setTimeout(() => this.groupWeekByDate(e.checked), 50)\r\n\t\t}, divToolbar);\r\n\r\n\t\tthis._btnExpand = createButton({\r\n\t\t\ticon: IconClassicLight.Expand,\r\n\t\t\tcssContainer: \"float: right; margin-left: 5px;\",\r\n\t\t\tonClick: (e) => \r\n\t\t\t{\r\n\t\t\t\tif (options.onExpand != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet expandEvent = new SchedulerExpandEvent();\r\n\t\t\t\t\texpandEvent.sender = this;\r\n\t\t\t\t\texpandEvent.buttonExpand = this._btnExpand;\r\n\t\t\t\t\texpandEvent.buttonCollpase = this._btnCollapse;\r\n\t\t\t\t\toptions.onExpand(expandEvent);\r\n\r\n\t\t\t\t\tif (expandEvent.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tUtilityManager.enterFullScreen(this.container(), () => notify(\"Modalità fullScreen non supportata\", { type: NotifierTypeEnum.Error }));\r\n\t\t\t\tthis._btnCollapse.show();\r\n\t\t\t\tthis._btnExpand.hide();\r\n\t\t\t\twindow.setTimeout(() => this.adaptHeight(), 100);\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\r\n\t\tthis._btnCollapse = createButton({\r\n\t\t\ticon: IconClassicLight.Collapse,\r\n\t\t\tcssContainer: \"float: right; margin-left: 5px;\",\r\n\t\t\tvisible: false,\r\n\t\t\tonClick: (e) => \r\n\t\t\t{\r\n\t\t\t\tif (options.onCollapse != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet collapseEvent = new SchedulerCollapseEvent();\r\n\t\t\t\t\tcollapseEvent.sender = this;\r\n\t\t\t\t\tcollapseEvent.buttonExpand = this._btnExpand;\r\n\t\t\t\t\tcollapseEvent.buttonCollpase = this._btnCollapse;\r\n\t\t\t\t\toptions.onCollapse(collapseEvent);\r\n\r\n\t\t\t\t\tif (collapseEvent.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tUtilityManager.exitFullScreen();\r\n\t\t\t\tthis._btnCollapse.hide();\r\n\t\t\t\tthis._btnExpand.show();\r\n\t\t\t\twindow.setTimeout(() => this.adaptHeight(), 100);\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\r\n\t\tlet viewItems: ButtonGroupItem[] = [];\r\n\t\tlet viewTypes = options.views!.map(k => k.type);\r\n\t\tif (viewTypes.includes(SchedulerViewEnum.Day))\r\n\t\t\tviewItems.push({ text: \"Giorno\", value: SchedulerViewEnum.Day, selected: (this.view() == SchedulerViewEnum.Day) });\r\n\t\tif (viewTypes.includes(SchedulerViewEnum.Week))\r\n\t\t\tviewItems.push({ text: \"Settimana\", value: SchedulerViewEnum.Week, selected: (this.view() == SchedulerViewEnum.Week) });\r\n\t\tif (viewTypes.includes(SchedulerViewEnum.FourWeeks))\r\n\t\t\tviewItems.push({ text: \"Mese\", value: SchedulerViewEnum.FourWeeks, selected: (this.view() == SchedulerViewEnum.FourWeeks) });\r\n\r\n\t\tthis._btgMenuView = createButtonGroup({\r\n\t\t\titems: viewItems,\r\n\t\t\tcssContainer: \"float: right;\",\r\n\t\t\twidth: \"auto\",\r\n\t\t\tonSelect: (e) => \r\n\t\t\t{\r\n\t\t\t\tlet maxResourceNumberBasedOnView: number | null | undefined = null;\r\n\t\t\t\tswitch (Number(e.value))\r\n\t\t\t\t{\r\n\t\t\t\t\tcase SchedulerViewEnum.Day: maxResourceNumberBasedOnView = options.maxResourcesNumber!.dayView; break;\r\n\t\t\t\t\tcase SchedulerViewEnum.Week: maxResourceNumberBasedOnView = options.maxResourcesNumber!.weekView; break;\r\n\t\t\t\t\tcase SchedulerViewEnum.FourWeeks: maxResourceNumberBasedOnView = options.maxResourcesNumber!.fourWeeksView; break;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (maxResourceNumberBasedOnView != null && this.resources().length > maxResourceNumberBasedOnView)\r\n\t\t\t\t{\r\n\t\t\t\t\tconfirm(\"Verranno visualizzate un numero di risorse maggiore<br /> del limite massimo impostato (\" + maxResourceNumberBasedOnView + \").<br /> Continuare comunque?\")\r\n\t\t\t\t\t\t.then(() => this.view(Number(e.value!)),\r\n\t\t\t\t\t\t\t() => e.sender.select([this.view()], false)); // If not\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.view(Number(e.value!));\r\n\r\n\t\t\t}\r\n\t\t}, divToolbar);\r\n\t}\r\n\r\n\tprivate drawScheduler()\r\n\t{\r\n\t\tthis.drawHeader();\r\n\t\tthis.drawContent();\r\n\r\n\t\tif (this._saturationData != null)\r\n\t\t\tthis.saturation(this._saturationData);\r\n\r\n\t\tlet divContent = puma(this.getDivContent());\r\n\t\tif (divContent.vrHasScrollBar())\r\n\t\t\tpuma(this.container()).find(\".vrSchedulerDivHeader\").find(\"table\").css({ \"width\": \"Calc(100% - 17px)\" });\r\n\t\telse\r\n\t\t\tpuma(this.container()).find(\".vrSchedulerDivHeader\").find(\"table\").css({ \"width\": \"100%\" });\r\n\r\n\t\tif (this.view() == SchedulerViewEnum.Week)\r\n\t\t\tthis._swtGroupByDateResource.show();\r\n\t}\r\n\r\n\tprivate drawHeader()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet divHeader = puma(this.container()).find(\".vrSchedulerDivHeader\")[0];\r\n\t\tif (divHeader == null)\r\n\t\t\tdivHeader = div(this.element(), { class: \"vrSchedulerDivHeader\" });\r\n\r\n\t\tif (!options.showHeader)\r\n\t\t\tdivHeader.style.cssText += \"display: none;\";\r\n\r\n\t\tpuma(divHeader).empty();\r\n\t\tlet contentFragment = document.createDocumentFragment();\r\n\r\n\t\tlet table = document.createElement(\"table\");\r\n\t\ttable.style.cssText += \"width: 100%; table-layout: fixed; border-spacing: 0;\";\r\n\t\tcontentFragment.appendChild(table);\r\n\r\n\t\tswitch (this.view())\r\n\t\t{\r\n\t\t\tcase SchedulerViewEnum.Day:\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Day\r\n\t\t\t\t\tlet rowHeader = document.createElement(\"tr\");\r\n\t\t\t\t\ttable.appendChild(rowHeader);\r\n\r\n\t\t\t\t\tlet thInterval = document.createElement(\"th\");\r\n\t\t\t\t\tthInterval.className = \"vrSchedulerThInterval\";\r\n\t\t\t\t\trowHeader.appendChild(thInterval);\r\n\t\t\t\t\tthis.createIntervalCombo(thInterval);\r\n\r\n\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet resourceText = (resource.text != null) ? resource.text : \"\";\r\n\r\n\t\t\t\t\t\tlet th = document.createElement(\"th\");\r\n\t\t\t\t\t\tth.title = resourceText.toUpperCase();\r\n\t\t\t\t\t\tth.className = \"vrSchedulerDayResource\";\r\n\t\t\t\t\t\tth.setAttribute(\"resourceId\", resource.value);\r\n\t\t\t\t\t\tth.setAttribute(\"resourceName\", resourceText.replace(\" \", \"~\"));\r\n\t\t\t\t\t\trowHeader.appendChild(th);\r\n\r\n\t\t\t\t\t\t//#region Text\r\n\t\t\t\t\t\tlet spanResouceText = document.createElement(\"span\");\r\n\t\t\t\t\t\tspanResouceText.innerHTML = resourceText.toUpperCase();\r\n\t\t\t\t\t\tth.appendChild(spanResouceText);\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Saturation\r\n\t\t\t\t\t\tlet divSaturation = document.createElement(\"div\");\r\n\t\t\t\t\t\tdivSaturation.classList.add(\"vrSchedulerDivSaturation\");\r\n\t\t\t\t\t\tth.appendChild(divSaturation);\r\n\r\n\t\t\t\t\t\tif (this.saturationVisible())\r\n\t\t\t\t\t\t\tdivSaturation.style.cssText += \"display: flex;\";\r\n\r\n\t\t\t\t\t\tlet spanSaturationBar = document.createElement(\"span\");\r\n\t\t\t\t\t\tspanSaturationBar.classList.add(\"vrSchedulerSpanSaturation\");\r\n\t\t\t\t\t\tdivSaturation.appendChild(spanSaturationBar);\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase SchedulerViewEnum.Week:\r\n\t\t\tcase SchedulerViewEnum.FourWeeks:\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Week/FourWeeks\r\n\t\t\t\t\tlet numberOfDays = (this.view() == SchedulerViewEnum.FourWeeks) ? options.numberOfWorkDays! * 4 : options.numberOfWorkDays!;\r\n\r\n\t\t\t\t\tif (!this.groupWeekByDate())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region GroupedByResources\r\n\t\t\t\t\t\tlet rowResources = document.createElement(\"tr\");\r\n\t\t\t\t\t\ttable.appendChild(rowResources);\r\n\r\n\t\t\t\t\t\tlet thInterval = document.createElement(\"th\");\r\n\t\t\t\t\t\tthInterval.className = \"vrSchedulerThInterval\";\r\n\t\t\t\t\t\trowResources.appendChild(thInterval);\r\n\t\t\t\t\t\tthis.createIntervalCombo(thInterval);\r\n\r\n\t\t\t\t\t\tlet rowDays = rowResources;\r\n\t\t\t\t\t\tif (this.groupedByResource())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet resourceText = (resource.text != null) ? resource.text : \"\";\r\n\r\n\t\t\t\t\t\t\t\tlet th = document.createElement(\"th\");\r\n\t\t\t\t\t\t\t\tth.title = resourceText.toUpperCase();\r\n\t\t\t\t\t\t\t\tth.className = \"vrSchedulerDayResource\";\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"resourceId\", resource.value);\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"resourceName\", resourceText.replace(\" \", \"~\"));\r\n\t\t\t\t\t\t\t\tth.colSpan = numberOfDays;\r\n\t\t\t\t\t\t\t\trowResources.appendChild(th);\r\n\r\n\t\t\t\t\t\t\t\t//#region Text\r\n\t\t\t\t\t\t\t\tlet spanResouceText = document.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tspanResouceText.innerHTML = resourceText.toUpperCase();\r\n\t\t\t\t\t\t\t\tth.appendChild(spanResouceText);\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\t//#region Saturation\r\n\t\t\t\t\t\t\t\tlet spanSaturationPercentage = document.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tspanSaturationPercentage.classList.add(\"vrSchedulerSaturationPercentage\");\r\n\t\t\t\t\t\t\t\tth.appendChild(spanSaturationPercentage);\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trowDays = document.createElement(\"tr\");\r\n\t\t\t\t\t\t\ttable.appendChild(rowDays);\r\n\r\n\t\t\t\t\t\t\tlet thInterval2 = document.createElement(\"th\");\r\n\t\t\t\t\t\t\tthInterval2.className = \"vrSchedulerThInterval\";\r\n\t\t\t\t\t\t\trowDays.appendChild(thInterval2);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet firstDayOfWeek = Date.vrGetFirstDayOfWeekByDate(this.date()!);\r\n\t\t\t\t\t\t\tlet addingDays = 0;\r\n\t\t\t\t\t\t\tfor (let i = 0; i < numberOfDays; i++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\taddingDays = (i % options.numberOfWorkDays! == 0 && i > 0) ? addingDays + (7 - options.numberOfWorkDays!) : addingDays;\r\n\t\t\t\t\t\t\t\tlet dayOfWeek = firstDayOfWeek.vrAddDays(addingDays);\r\n\t\t\t\t\t\t\t\tlet dayName = options.daysOfWeekNames![dayOfWeek.getDay()];\r\n\t\t\t\t\t\t\t\tlet dayNumber = dayOfWeek.getDate();\r\n\r\n\t\t\t\t\t\t\t\tlet th = document.createElement(\"th\");\r\n\t\t\t\t\t\t\t\tth.title = dayNumber + \" \" + dayName;\r\n\t\t\t\t\t\t\t\tth.className = \"vrSchedulerWeekDay\";\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"day\", String(dayNumber));\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"month\", String(dayOfWeek.getMonth()));\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"year\", String(dayOfWeek.getFullYear()));\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"resourceId\", resource.value);\r\n\t\t\t\t\t\t\t\trowDays.appendChild(th);\r\n\r\n\t\t\t\t\t\t\t\t//#region Text\r\n\t\t\t\t\t\t\t\tlet spanResouceText = document.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tspanResouceText.innerHTML = dayNumber + \" \" + dayName;\r\n\t\t\t\t\t\t\t\tth.appendChild(spanResouceText);\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\t//#region Saturation\r\n\t\t\t\t\t\t\t\tlet divSaturation = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tdivSaturation.classList.add(\"vrSchedulerDivSaturation\");\r\n\t\t\t\t\t\t\t\tth.appendChild(divSaturation);\r\n\r\n\t\t\t\t\t\t\t\tif (this.saturationVisible())\r\n\t\t\t\t\t\t\t\t\tdivSaturation.style.cssText += \"display: flex;\";\r\n\r\n\t\t\t\t\t\t\t\tlet spanSaturationBar = document.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tspanSaturationBar.classList.add(\"vrSchedulerSpanSaturation\");\r\n\t\t\t\t\t\t\t\tdivSaturation.appendChild(spanSaturationBar);\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\taddingDays++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region GroupedByDate\r\n\t\t\t\t\t\tlet rowDays = document.createElement(\"tr\");\r\n\t\t\t\t\t\ttable.appendChild(rowDays);\r\n\r\n\t\t\t\t\t\tlet thInterval = document.createElement(\"th\");\r\n\t\t\t\t\t\tthInterval.className = \"vrSchedulerThInterval\";\r\n\t\t\t\t\t\trowDays.appendChild(thInterval);\r\n\t\t\t\t\t\tthis.createIntervalCombo(thInterval);\r\n\r\n\t\t\t\t\t\tlet firstDayOfWeek = Date.vrGetFirstDayOfWeekByDate(this.date()!);\r\n\t\t\t\t\t\tlet addingDays = 0;\r\n\t\t\t\t\t\tfor (let i = 0; i < numberOfDays; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\taddingDays = (i % options.numberOfWorkDays! == 0 && i > 0) ? addingDays + (7 - options.numberOfWorkDays!) : addingDays;\r\n\t\t\t\t\t\t\tlet dayOfWeek = firstDayOfWeek.vrAddDays(addingDays);\r\n\t\t\t\t\t\t\tlet dayName = options.daysOfWeekNames![dayOfWeek.getDay()];\r\n\t\t\t\t\t\t\tlet dayNumber = dayOfWeek.getDate();\r\n\r\n\t\t\t\t\t\t\tlet th = document.createElement(\"th\");\r\n\t\t\t\t\t\t\tth.title = dayNumber + \" \" + dayName;\r\n\t\t\t\t\t\t\tth.colSpan = this.resources().length;\r\n\t\t\t\t\t\t\tth.className = \"vrSchedulerWeekDay\";\r\n\t\t\t\t\t\t\tth.setAttribute(\"day\", String(dayNumber));\r\n\t\t\t\t\t\t\tth.setAttribute(\"month\", String(dayOfWeek.getMonth()));\r\n\t\t\t\t\t\t\tth.setAttribute(\"year\", String(dayOfWeek.getFullYear()));\r\n\t\t\t\t\t\t\tth.innerHTML = dayNumber + \" \" + dayName;\r\n\t\t\t\t\t\t\tth.innerHTML = dayNumber + \" \" + dayName;\r\n\t\t\t\t\t\t\trowDays.appendChild(th);\r\n\r\n\t\t\t\t\t\t\taddingDays++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet rowResources = document.createElement(\"tr\");\r\n\t\t\t\t\t\ttable.appendChild(rowResources);\r\n\r\n\t\t\t\t\t\tlet thInterval2 = document.createElement(\"th\");\r\n\t\t\t\t\t\tthInterval2.className = \"vrSchedulerThInterval\";\r\n\t\t\t\t\t\trowResources.appendChild(thInterval2);\r\n\r\n\t\t\t\t\t\tlet addingDaysForResources = 0;\r\n\t\t\t\t\t\tfor (let i = 0; i < numberOfDays; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\taddingDaysForResources = (i % options.numberOfWorkDays! == 0 && i > 0) ? addingDaysForResources + (7 - options.numberOfWorkDays!) : addingDaysForResources;\r\n\t\t\t\t\t\t\tlet dayOfWeek = firstDayOfWeek.vrAddDays(addingDaysForResources);\r\n\t\t\t\t\t\t\tlet dayNumber = dayOfWeek.getDate();\r\n\r\n\t\t\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet resourceText = (resource.text != null) ? resource.text : \"\";\r\n\r\n\t\t\t\t\t\t\t\tlet th = document.createElement(\"th\");\r\n\t\t\t\t\t\t\t\tth.title = resourceText.toUpperCase();\r\n\t\t\t\t\t\t\t\tth.className = \"vrSchedulerDayResource\";\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"resourceId\", resource.value);\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"resourceName\", resourceText.replace(\" \", \"~\"));\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"day\", String(dayNumber));\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"month\", String(dayOfWeek.getMonth()));\r\n\t\t\t\t\t\t\t\tth.setAttribute(\"year\", String(dayOfWeek.getFullYear()));\r\n\t\t\t\t\t\t\t\trowResources.appendChild(th);\r\n\r\n\t\t\t\t\t\t\t\t//#region Text\r\n\t\t\t\t\t\t\t\tlet spanResouceText = document.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tspanResouceText.innerHTML = resourceText.toUpperCase();;\r\n\t\t\t\t\t\t\t\tth.appendChild(spanResouceText);\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\t//#region Saturation\r\n\t\t\t\t\t\t\t\tlet divSaturation = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tdivSaturation.classList.add(\"vrSchedulerDivSaturation\");\r\n\t\t\t\t\t\t\t\tth.appendChild(divSaturation);\r\n\r\n\t\t\t\t\t\t\t\tif (this.saturationVisible())\r\n\t\t\t\t\t\t\t\t\tdivSaturation.style.cssText += \"display: flex;\";\r\n\r\n\t\t\t\t\t\t\t\tlet spanSaturationBar = document.createElement(\"span\");\r\n\t\t\t\t\t\t\t\tspanSaturationBar.classList.add(\"vrSchedulerSpanSaturation\");\r\n\t\t\t\t\t\t\t\tdivSaturation.appendChild(spanSaturationBar);\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taddingDaysForResources++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tdivHeader.appendChild(contentFragment);\r\n\t}\r\n\r\n\tprivate createIntervalCombo(th: HTMLTableCellElement)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tif (this._cmbInterval != null)\r\n\t\t\tthis._cmbInterval.container().parentNode!.removeChild(this._cmbInterval.container());\r\n\r\n\t\tthis._cmbInterval = createComboBox({\r\n\t\t\tmode: ComboBoxTypeEnum.DropDown,\r\n\t\t\tvalue: options.timeslotIntervalDuration,\r\n\t\t\tcssContainer: \"top: 2px;\",\r\n\t\t\tpopupSettings: { width: 50 },\r\n\t\t\twidth: 60,\r\n\t\t\titems: [\r\n\t\t\t\t{ text: \"5 min\", value: \"5\" },\r\n\t\t\t\t{ text: \"10 min\", value: \"10\" },\r\n\t\t\t\t{ text: \"15 min\", value: \"15\" },\r\n\t\t\t\t{ text: \"25 min\", value: \"25\" },\r\n\t\t\t\t{ text: \"30 min\", value: \"30\" },\r\n\t\t\t\t{ text: \"60 min\", value: \"60\" }\r\n\t\t\t],\r\n\t\t\tonAfterChange: (e) => window.setTimeout(() => this.timeslotInterval(Number(e.sender.value()!)))\r\n\t\t}, th);\r\n\t}\r\n\r\n\tprivate drawContent()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet divContent = this.getDivContent();\r\n\t\tif (divContent == null)\r\n\t\t{\r\n\t\t\tdivContent = div(this.element(), { class: \"vrSchedulerDivContent\" });\r\n\r\n\t\t\tlet height: number | string = 0;\r\n\t\t\tif (options.height == null)\r\n\t\t\t{\r\n\t\t\t\tlet schedulerOffset = puma(this.container()).offset().top;\r\n\t\t\t\tlet contentHeight = window.innerHeight - schedulerOffset;\r\n\r\n\t\t\t\tlet toolbarHeight = puma(this.container()).find(\".vrSchedulerDivToolbar\").outerHeight();\r\n\t\t\t\tif (!options.showToolbar)\r\n\t\t\t\t\ttoolbarHeight = 0;\r\n\r\n\t\t\t\tlet headerHeight = puma(this.container()).find(\".vrSchedulerDivHeader\").outerHeight();\r\n\t\t\t\tif (!options.showHeader)\r\n\t\t\t\t\theaderHeight = 0;\r\n\r\n\t\t\t\theight = contentHeight - toolbarHeight - headerHeight;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\theight = options.height;\r\n\r\n\t\t\tpuma(divContent).height(height);\r\n\t\t}\r\n\r\n\t\tpuma(divContent).empty();\r\n\t\tlet contentFragment = document.createDocumentFragment();\r\n\r\n\t\tlet table = document.createElement(\"table\");\r\n\t\ttable.style.cssText += \"width: 100%; table-layout: fixed; border-spacing: 0;\";\r\n\t\tcontentFragment.appendChild(table);\r\n\r\n\t\tlet schedulerTotalMinutes = Date.vrDifferenceBetweenDatesInMinutes(options.startTime!, options.endTime!);\r\n\t\tlet numberOfRows = schedulerTotalMinutes / options.timeslotIntervalDuration!;\r\n\t\tthis._slotElementList = [];\r\n\r\n\t\tswitch (this.view())\r\n\t\t{\r\n\t\t\tcase SchedulerViewEnum.Day:\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Day\r\n\t\t\t\t\tlet date = new Date(this.date()!.setHours(options.startTime!.getHours(), options.startTime!.getMinutes()));\r\n\t\t\t\t\tfor (let i = 0; i < numberOfRows; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet row = document.createElement(\"tr\");\r\n\t\t\t\t\t\ttable.appendChild(row);\r\n\r\n\t\t\t\t\t\tlet realDate = new Date(date);\r\n\t\t\t\t\t\trealDate.setSeconds(0, 0);\r\n\r\n\t\t\t\t\t\t// Time\r\n\t\t\t\t\t\tlet timeString = realDate.toTimeString();\r\n\t\t\t\t\t\tlet textTime = (i % 2 == 0) ? timeString : \"\";\r\n\r\n\t\t\t\t\t\tlet thTime = document.createElement(\"th\");\r\n\t\t\t\t\t\tthTime.innerHTML = textTime;\r\n\t\t\t\t\t\tthTime.classList.add(\"vrSchedulerThTime\");\r\n\t\t\t\t\t\tif (i % 2 == 0 && i > 0) thTime.classList.add(\"borderTopSolid\");\r\n\t\t\t\t\t\trow.appendChild(thTime);\r\n\r\n\t\t\t\t\t\tif (!options.timeColumn)\r\n\t\t\t\t\t\t\tthTime.style.cssText += \"display: none;\";\r\n\r\n\t\t\t\t\t\tlet endSlot = new Date(date);\r\n\t\t\t\t\t\tendSlot.vrAddMinutes(options.timeslotIntervalDuration!);\r\n\t\t\t\t\t\tendSlot.setSeconds(0, 0);\r\n\r\n\t\t\t\t\t\t// Slots\r\n\t\t\t\t\t\tlet columnIndex = 0;\r\n\t\t\t\t\t\tlet borderTopClass = (i == 0) ? \"\" : ((i % 2 == 0) ? \"borderTopSolid\" : \"borderTopDotted\");\r\n\t\t\t\t\t\tlet borderBottomClass = ((i == (numberOfRows - 1)) ? \"borderBottomSolid\" : \"\");\r\n\t\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet td = document.createElement(\"td\");\r\n\t\t\t\t\t\t\tif (borderTopClass != \"\") td.classList.add(borderTopClass);\r\n\t\t\t\t\t\t\tif (borderBottomClass != \"\") td.classList.add(borderBottomClass);\r\n\t\t\t\t\t\t\ttd.title = timeString;\r\n\t\t\t\t\t\t\trow.appendChild(td);\r\n\r\n\t\t\t\t\t\t\t// To fast appointment collocation\r\n\t\t\t\t\t\t\tlet slotElement = new SchedulerSlotElement();\r\n\t\t\t\t\t\t\tslotElement.resourceId = (resource != null) ? resource.value : \"0\";\r\n\t\t\t\t\t\t\tslotElement.start = realDate;\r\n\t\t\t\t\t\t\tslotElement.end = endSlot;\r\n\t\t\t\t\t\t\tslotElement.columnIndex = columnIndex;\r\n\t\t\t\t\t\t\tslotElement.rowIndex = i;\r\n\t\t\t\t\t\t\tthis._slotElementList.push(slotElement);\r\n\r\n\t\t\t\t\t\t\tcolumnIndex++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdate.vrAddMinutes(options.timeslotIntervalDuration!);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase SchedulerViewEnum.Week:\r\n\t\t\tcase SchedulerViewEnum.FourWeeks:\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Week/FourWeeks\r\n\t\t\t\t\tlet numberOfDays = (this.view() == SchedulerViewEnum.FourWeeks) ? options.numberOfWorkDays! * 4 : options.numberOfWorkDays!;\r\n\t\t\t\t\tlet firstDayOfWeek = Date.vrGetFirstDayOfWeekByDate(this.date()!);\r\n\r\n\t\t\t\t\tlet minutes = Date.vrDifferenceBetweenDatesInMinutes(options.startTime!, options.endTime!);\r\n\t\t\t\t\tlet numberOfRows = minutes / options.timeslotIntervalDuration!;\r\n\r\n\t\t\t\t\tif (!this.groupWeekByDate())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region GroupedByResources\r\n\t\t\t\t\t\tlet date = new Date(options.startTime!);\r\n\t\t\t\t\t\tfor (let i = 0; i < numberOfRows; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet row = document.createElement(\"tr\");\r\n\t\t\t\t\t\t\ttable.appendChild(row);\r\n\r\n\t\t\t\t\t\t\t// Time\r\n\t\t\t\t\t\t\tlet timeString = date.toTimeString();\r\n\t\t\t\t\t\t\tlet textTime = (i % 2 == 0) ? timeString : \"\";\r\n\r\n\t\t\t\t\t\t\tlet thTime = document.createElement(\"th\");\r\n\t\t\t\t\t\t\tthTime.innerHTML = textTime;\r\n\t\t\t\t\t\t\tthTime.classList.add(\"vrSchedulerThTime\");\r\n\t\t\t\t\t\t\tif (i % 2 == 0 && i > 0) thTime.classList.add(\"borderTopSolid\");\r\n\t\t\t\t\t\t\trow.appendChild(thTime);\r\n\r\n\t\t\t\t\t\t\tif (!options.timeColumn)\r\n\t\t\t\t\t\t\t\tthTime.style.cssText += \"display: none;\";\r\n\r\n\t\t\t\t\t\t\tlet borderTopClass = (i == 0) ? \"\" : ((i % 2 == 0) ? \"borderTopSolid\" : \"borderTopDotted\");\r\n\t\t\t\t\t\t\tlet borderBottomClass = (i == (numberOfRows - 1)) ? \"borderBottomSolid\" : \"\";\r\n\r\n\t\t\t\t\t\t\t// Slots\r\n\t\t\t\t\t\t\tlet columnIndex = 0;\r\n\t\t\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfirstDayOfWeek.setHours(date.getHours(), date.getMinutes(), 0, 0);\r\n\r\n\t\t\t\t\t\t\t\tlet addingDays = 0;\r\n\t\t\t\t\t\t\t\tfor (let j = 0; j < numberOfDays; j++)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\taddingDays = (j % options.numberOfWorkDays! == 0 && j > 0) ? addingDays + (7 - options.numberOfWorkDays!) : addingDays;\r\n\t\t\t\t\t\t\t\t\tlet dayOfWeek = firstDayOfWeek.vrAddDays(addingDays);\r\n\t\t\t\t\t\t\t\t\tlet endSlot = new Date(dayOfWeek);\r\n\t\t\t\t\t\t\t\t\tendSlot.vrAddMinutes(options.timeslotIntervalDuration!);\r\n\r\n\t\t\t\t\t\t\t\t\tlet td = document.createElement(\"td\");\r\n\t\t\t\t\t\t\t\t\tif (borderTopClass != \"\") td.classList.add(borderTopClass);\r\n\t\t\t\t\t\t\t\t\tif (borderBottomClass != \"\") td.classList.add(borderBottomClass);\r\n\t\t\t\t\t\t\t\t\ttd.title = timeString;\r\n\t\t\t\t\t\t\t\t\trow.appendChild(td);\r\n\r\n\t\t\t\t\t\t\t\t\tif (j == numberOfDays - 1)\r\n\t\t\t\t\t\t\t\t\t\ttd.classList.add(\"borderRightSolid\");\r\n\r\n\t\t\t\t\t\t\t\t\taddingDays++;\r\n\r\n\t\t\t\t\t\t\t\t\t// To fast appointment collocation\r\n\t\t\t\t\t\t\t\t\tlet slotElement = new SchedulerSlotElement();\r\n\t\t\t\t\t\t\t\t\tslotElement.resourceId = (resource != null) ? resource.value : \"0\";\r\n\t\t\t\t\t\t\t\t\tslotElement.start = dayOfWeek;\r\n\t\t\t\t\t\t\t\t\tslotElement.end = endSlot;\r\n\t\t\t\t\t\t\t\t\tslotElement.columnIndex = columnIndex;\r\n\t\t\t\t\t\t\t\t\tslotElement.rowIndex = i;\r\n\t\t\t\t\t\t\t\t\tthis._slotElementList.push(slotElement);\r\n\r\n\t\t\t\t\t\t\t\t\tcolumnIndex++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdate.vrAddMinutes(options.timeslotIntervalDuration!);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region GroupedByDate\r\n\t\t\t\t\t\tlet date = new Date(options.startTime!);\r\n\t\t\t\t\t\tfor (let i = 0; i < numberOfRows; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet row = document.createElement(\"tr\");\r\n\t\t\t\t\t\t\ttable.appendChild(row);\r\n\r\n\t\t\t\t\t\t\t// Time\r\n\t\t\t\t\t\t\tlet timeString = date.toTimeString();\r\n\t\t\t\t\t\t\tlet textTime = (i % 2 == 0) ? timeString : \"\";\r\n\r\n\t\t\t\t\t\t\tlet thTime = document.createElement(\"th\");\r\n\t\t\t\t\t\t\tthTime.innerHTML = textTime;\r\n\t\t\t\t\t\t\tthTime.classList.add(\"vrSchedulerThTime\");\r\n\t\t\t\t\t\t\tif (i % 2 == 0 && i > 0) thTime.classList.add(\"borderTopSolid\");\r\n\t\t\t\t\t\t\trow.appendChild(thTime);\r\n\r\n\t\t\t\t\t\t\tif (!options.timeColumn)\r\n\t\t\t\t\t\t\t\tthTime.style.cssText += \"display: none;\";\r\n\r\n\t\t\t\t\t\t\tlet borderTopClass = (i == 0) ? \"\" : ((i % 2 == 0) ? \"borderTopSolid\" : \"borderTopDotted\");\r\n\t\t\t\t\t\t\tlet borderBottomClass = (i == (numberOfRows - 1)) ? \"borderBottomSolid\" : \"\";\r\n\r\n\t\t\t\t\t\t\t// Slots\r\n\t\t\t\t\t\t\tlet columnIndex = 0;\r\n\t\t\t\t\t\t\tfor (let j = 0; j < numberOfDays; j++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet dayOfWeek = new Date(firstDayOfWeek);\r\n\t\t\t\t\t\t\t\tdayOfWeek.setHours(date.getHours(), date.getMinutes(), 0, 0);\r\n\t\t\t\t\t\t\t\tdayOfWeek = dayOfWeek.vrAddDays(j);\r\n\r\n\t\t\t\t\t\t\t\tfor (let resource of this.resources())\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet endSlot = new Date(dayOfWeek);\r\n\t\t\t\t\t\t\t\t\tendSlot.vrAddMinutes(options.timeslotIntervalDuration!);\r\n\r\n\t\t\t\t\t\t\t\t\tlet td = document.createElement(\"td\");\r\n\t\t\t\t\t\t\t\t\tif (borderTopClass != \"\") td.classList.add(borderTopClass);\r\n\t\t\t\t\t\t\t\t\tif (borderBottomClass != \"\") td.classList.add(borderBottomClass);\r\n\t\t\t\t\t\t\t\t\ttd.title = timeString;\r\n\t\t\t\t\t\t\t\t\trow.appendChild(td);\r\n\r\n\t\t\t\t\t\t\t\t\tif (((columnIndex + 1) % this.resources().length) == 0)\r\n\t\t\t\t\t\t\t\t\t\ttd.classList.add(\"borderRightSolid\");\r\n\r\n\t\t\t\t\t\t\t\t\t// To fast appointment collocation\r\n\t\t\t\t\t\t\t\t\tlet slotElement = new SchedulerSlotElement();\r\n\t\t\t\t\t\t\t\t\tslotElement.resourceId = (resource != null) ? resource.value : \"0\";\r\n\t\t\t\t\t\t\t\t\tslotElement.start = dayOfWeek;\r\n\t\t\t\t\t\t\t\t\tslotElement.end = endSlot;\r\n\t\t\t\t\t\t\t\t\tslotElement.columnIndex = columnIndex;\r\n\t\t\t\t\t\t\t\t\tslotElement.rowIndex = i;\r\n\t\t\t\t\t\t\t\t\tthis._slotElementList.push(slotElement);\r\n\r\n\t\t\t\t\t\t\t\t\tcolumnIndex++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdate.vrAddMinutes(options.timeslotIntervalDuration!);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tdivContent.appendChild(contentFragment);\r\n\r\n\t\t//#region Now line\r\n\t\tpuma(this.getDivContent()).remove(\".vrSchedulerNowLine\");\r\n\t\tlet nowDate = this.date()!;\r\n\t\tnowDate.setHours(new Date().getHours(), new Date().getMinutes(), 0, 0);\r\n\r\n\t\tlet nowTimeslot = this._slotElementList.filter(k => Date.vrArePeriodsOverlapped(k.start, k.end, nowDate, nowDate, true))[0];\r\n\t\tif (nowTimeslot != null)\r\n\t\t{\r\n\t\t\tlet divNowLine = puma(\"<div class='vrSchedulerNowLine'><i class='fa fa-caret-left'></i></div>\").vrAppendToPuma(this.getDivContent())[0];\r\n\t\t\tdivNowLine.style.cssText += \"left: \" + this._timeColumnWidth + \"px; top: \" + ((nowTimeslot.rowIndex * 33) - 1) + \"px; width: Calc(100% - \" + this._timeColumnWidth + \"px);\";\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tthis.adaptHeight();\r\n\t}\r\n\r\n\tadaptHeight()\r\n\t{\r\n\t\tlet divContent = this.getDivContent();\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tlet height: number | string = 0;\r\n\t\tif (options.height == null)\r\n\t\t{\r\n\t\t\tlet schedulerOffset = puma(this.container()).offset().top;\r\n\t\t\tlet contentHeight = (window.innerHeight - schedulerOffset);\r\n\r\n\t\t\tlet toolbarHeight = puma(this.container()).find(\".vrSchedulerDivToolbar\").outerHeight();\r\n\t\t\tif (!options.showToolbar)\r\n\t\t\t\ttoolbarHeight = 0;\r\n\r\n\t\t\tlet headerHeight = puma(this.container()).find(\".vrSchedulerDivHeader\").outerHeight();\r\n\t\t\tif (!options.showHeader)\r\n\t\t\t\theaderHeight = 0;\r\n\r\n\t\t\tlet diff = toolbarHeight + headerHeight;\r\n\t\t\theight = contentHeight - diff;\r\n\t\t}\r\n\t\telse\r\n\t\t\theight = options.height;\r\n\r\n\t\tpuma(divContent).height(height);\r\n\t}\r\n\r\n\theight(value?: string | number)\r\n\t{\r\n\t\tlet height = super.height(value);\r\n\t\tpuma(this.getDivContent()).height(\"100%\");\r\n\t\treturn height;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Properties\r\n\tview(view?: SchedulerViewEnum): SchedulerViewEnum\r\n\t{\r\n\t\tif (view != null)\r\n\t\t{\r\n\t\t\t//#region Event\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tif (options.onViewChange != null)\r\n\t\t\t{\r\n\t\t\t\tlet viewChangeEvent = new SchedulerViewChangeEvent();\r\n\t\t\t\tviewChangeEvent.sender = this;\r\n\t\t\t\tviewChangeEvent.previousView = this._actualView;\r\n\t\t\t\tviewChangeEvent.view = view;\r\n\t\t\t\toptions.onViewChange(viewChangeEvent);\r\n\r\n\t\t\t\tif (viewChangeEvent.isDefaultPrevented())\r\n\t\t\t\t\treturn this._actualView;\r\n\t\t\t}\r\n\r\n\t\t\tthis._actualView = view;\r\n\t\t\tthis._btgMenuView.select([view], false);\r\n\t\t\tthis.drawScheduler();\r\n\t\t\t//#endregion\t\t\t\r\n\r\n\t\t\tswitch (view)\r\n\t\t\t{\r\n\t\t\t\tcase SchedulerViewEnum.Day:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._swtGroupByDateResource.hide();\r\n\t\t\t\t\t\tthis._dtpSchedulerDate.format(DateFormatEnum.LongDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SchedulerViewEnum.Week:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._swtGroupByDateResource.show();\r\n\t\t\t\t\t\tthis._dtpSchedulerDate.format(DateFormatEnum.WeekRange);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SchedulerViewEnum.FourWeeks:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._swtGroupByDateResource.hide();\r\n\t\t\t\t\t\tthis._dtpSchedulerDate.format(DateFormatEnum.FourWeeksRange);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.groupedByResource())\r\n\t\t\t\tthis._swtGroupByDateResource.hide();\r\n\t\t}\r\n\t\treturn this._actualView;\r\n\t}\r\n\r\n\tdate(date?: Date, triggerChange = true): Date | null\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (date != null)\r\n\t\t{\r\n\t\t\tif (this._dtpSchedulerDate.value() != date)\r\n\t\t\t\tthis._dtpSchedulerDate.value(date, false);\r\n\r\n\t\t\tif (this._dtpSchedulerDate.value() != null)\r\n\t\t\t\tthis.drawScheduler();\r\n\r\n\t\t\tif (options.onNavigate != null)\r\n\t\t\t{\r\n\t\t\t\tif (this._actualNavigateAction == null)\r\n\t\t\t\t\tthis._actualNavigateAction = SchedulerNavigateActionEnum.ChangeDate;\r\n\r\n\t\t\t\tif (triggerChange)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet navigateEvent = new SchedulerNavigateEvent();\r\n\t\t\t\t\tnavigateEvent.sender = this;\r\n\t\t\t\t\tnavigateEvent.action = this._actualNavigateAction;\r\n\t\t\t\t\tnavigateEvent.previousDate = this._dtpSchedulerDate.value();\r\n\t\t\t\t\tnavigateEvent.date = date;\r\n\t\t\t\t\tnavigateEvent.view = this.view();\r\n\t\t\t\t\toptions.onNavigate!(navigateEvent);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._actualNavigateAction = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._dtpSchedulerDate.value();\r\n\t}\r\n\r\n\tresources(resources?: SchedulerResource[])\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (resources != null)\r\n\t\t{\r\n\t\t\tlet maxResourceNumberBasedOnView: number | null | undefined = null;\r\n\t\t\tswitch (this.view())\r\n\t\t\t{\r\n\t\t\t\tcase SchedulerViewEnum.Day: maxResourceNumberBasedOnView = options.maxResourcesNumber!.dayView; break;\r\n\t\t\t\tcase SchedulerViewEnum.Week: maxResourceNumberBasedOnView = options.maxResourcesNumber!.weekView; break;\r\n\t\t\t\tcase SchedulerViewEnum.FourWeeks: maxResourceNumberBasedOnView = options.maxResourcesNumber!.fourWeeksView; break;\r\n\t\t\t}\r\n\r\n\t\t\tif (maxResourceNumberBasedOnView != null && resources.length > maxResourceNumberBasedOnView)\r\n\t\t\t{\r\n\t\t\t\tconfirm(\"Stai impostando un numero di risorse maggiore<br /> del limite massimo impostato (\" + maxResourceNumberBasedOnView + \").<br /> Continuare comunque?\")\r\n\t\t\t\t\t.then(() =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toptions.resources = resources;\r\n\t\t\t\t\t\tthis.drawScheduler();\r\n\t\t\t\t\t\tthis.triggerResourceChangeEvent();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\t() => this.triggerResourceChangeEvent()); // If not\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\toptions.resources = resources;\r\n\t\t\t\tthis.drawScheduler();\r\n\t\t\t\tthis.triggerResourceChangeEvent();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn options.resources!;\r\n\t}\r\n\r\n\tgroupedByResource()\r\n\t{\r\n\t\treturn (this.resources().length > 1 || (this.resources()[0] != null && this.resources()[0].value != \"\"));\r\n\t}\r\n\r\n\tprivate triggerResourceChangeEvent()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.onResourcesChange != null)\r\n\t\t{\r\n\t\t\tlet resourcesChangeEvent = new SchedulerResourcesChangeEvent();\r\n\t\t\tresourcesChangeEvent.resources = options.resources!;\r\n\t\t\tresourcesChangeEvent.view = this.view();\r\n\t\t\tresourcesChangeEvent.sender = this;\r\n\t\t\toptions.onResourcesChange(resourcesChangeEvent);\r\n\t\t}\r\n\t}\r\n\r\n\ttimeslotInterval(timeslotIntervalDuration?: number): number\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (timeslotIntervalDuration != null)\r\n\t\t{\r\n\t\t\tif (options.onIntervalChange != null)\r\n\t\t\t{\r\n\t\t\t\tlet intervalChangeEvent = new SchedulerIntervalChangeEvent();\r\n\t\t\t\tintervalChangeEvent.sender = this;\r\n\t\t\t\tintervalChangeEvent.previousValue = options.timeslotIntervalDuration;\r\n\t\t\t\tintervalChangeEvent.value = timeslotIntervalDuration;\r\n\t\t\t\tintervalChangeEvent.view = this.view();\r\n\t\t\t\toptions.onIntervalChange(intervalChangeEvent);\r\n\r\n\t\t\t\tif (intervalChangeEvent.isDefaultPrevented())\r\n\t\t\t\t\treturn options.timeslotIntervalDuration!;\r\n\t\t\t}\r\n\r\n\t\t\toptions.timeslotIntervalDuration = timeslotIntervalDuration;\r\n\t\t\tthis.drawScheduler();\r\n\t\t}\r\n\t\treturn options.timeslotIntervalDuration!;\r\n\t}\r\n\r\n\tfirstDayOfWeek(): DayOfWeekEnum\r\n\t{\r\n\t\treturn this.getOptions().firstDayOfWeek!;\r\n\t}\r\n\r\n\tstartTime(): Date\r\n\t{\r\n\t\treturn this.getOptions().startTime!;\r\n\t}\r\n\r\n\tendTime(): Date\r\n\t{\r\n\t\treturn this.getOptions().endTime!;\r\n\t}\r\n\r\n\tgroupWeekByDate(group?: boolean): boolean\r\n\t{\r\n\t\tif (group != null)\r\n\t\t{\r\n\t\t\tthis._swtGroupByDateResource.checked(group, false);\r\n\t\t\tthis.drawScheduler();\r\n\t\t\tthis.rebind();\r\n\t\t}\r\n\r\n\t\tif (this.view() != SchedulerViewEnum.Week)\r\n\t\t\treturn false;\r\n\r\n\t\treturn this._swtGroupByDateResource.checked();\r\n\t}\r\n\r\n\tfullscreen(state?: boolean)\r\n\t{\r\n\t\tif (state != null)\r\n\t\t{\r\n\t\t\tif (state) this._btnExpand.click();\r\n\t\t\telse this._btnCollapse.click();\r\n\t\t}\r\n\r\n\t\tlet doc = window.document as any;\r\n\t\treturn !(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Datasource\r\n\tdatasource<T extends SchedulerData>(datasource?: T[]): T[]\r\n\t{\r\n\t\tif (datasource != null && this._slotElementList.length > 0)\r\n\t\t{\r\n\t\t\tif (datasource.length == 0)\r\n\t\t\t{\r\n\t\t\t\tthis._datasource = datasource;\r\n\t\t\t\tpuma(this.container()).find(\".vrSchedulerAppointment\").remove();\r\n\t\t\t\treturn datasource;\r\n\t\t\t}\r\n\r\n\t\t\t//#region Appointments on several days\r\n\t\t\tlet realDatasource = [];\r\n\t\t\tfor (let appointment of datasource)\r\n\t\t\t{\r\n\t\t\t\t(appointment as InternalSchedulerAppointment).positioned = false;\r\n\t\t\t\trealDatasource.push(appointment);\r\n\r\n\t\t\t\tlet end = new Date(appointment.end);\r\n\t\t\t\tlet start = new Date(appointment.start);\r\n\t\t\t\tlet daysDifference = Date.vrDifferenceBetweenDatesInDays(end, start);\r\n\t\t\t\tif (daysDifference > 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (appointment.attributes == null) appointment.attributes = [];\r\n\t\t\t\t\tappointment.attributes.push({ key: \"multiday\", value: \"true\" });\r\n\r\n\t\t\t\t\tfor (let i = 1; i <= daysDifference; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet newApp = UtilityManager.duplicate(appointment) as T;\r\n\r\n\t\t\t\t\t\tlet newStart = start.vrAddDays(i);\r\n\t\t\t\t\t\tnewStart.setHours(this.startTime().getHours());\r\n\t\t\t\t\t\tnewApp.start = newStart;\r\n\t\t\t\t\t\tnewApp.end = new Date(newApp.start).vrAddHours(1);\r\n\r\n\t\t\t\t\t\tif (newApp.attributes == null) newApp.attributes = [];\r\n\t\t\t\t\t\tnewApp.attributes.push({ key: \"multiday\", value: \"true\" });\r\n\r\n\t\t\t\t\t\trealDatasource.push(newApp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tdatasource = realDatasource;\r\n\r\n\t\t\tthis.checkMandatorySchedulerDataFields(datasource[0]);\r\n\t\t\tthis._datasource = datasource;\r\n\t\t\tpuma(this.container()).find(\".vrSchedulerAppointment\").remove();\r\n\r\n\t\t\tlet appointmentFragment = document.createDocumentFragment();\r\n\t\t\tlet slotWidthList: number[] = Array.from(puma(this.container()).find(\".vrSchedulerDivContent table tr:first-child td\")).map(k => { return puma(k).outerWidth() });\r\n\t\t\tlet slotWidth = slotWidthList[0];\r\n\r\n\t\t\t//#region Draw appointments\r\n\t\t\tlet dictionaryResourceAppointments: any = datasource.vrGroupBy(k => k.resourceId);\r\n\t\t\tfor (let appointment of datasource)\r\n\t\t\t{\r\n\t\t\t\tif ((appointment as InternalSchedulerAppointment).positioned == true)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (appointment.resourceId != \"0\" && (this.resources()[0] == null || !this.resources().map(k => k.value).includes(String(appointment.resourceId))))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t//#region Overlapped appointments\r\n\t\t\t\tlet resourceAppointments = dictionaryResourceAppointments[appointment.resourceId];\r\n\t\t\t\tlet appointmentsOverlapped = this.findOverlappedAppointments(appointment, resourceAppointments);\r\n\r\n\t\t\t\tlet maxOverlapped = 1;\r\n\t\t\t\tfor (let apt of appointmentsOverlapped)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Find how many appointments in same slots per row\r\n\t\t\t\t\tfor (let slot of (apt as InternalSchedulerAppointment).slotsOccupied!)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tslot.columnPosition = [];\r\n\t\t\t\t\t\tlet maxOverlappedSlot = 1;\r\n\t\t\t\t\t\tlet overlappedList: any[] = [];\r\n\t\t\t\t\t\tfor (let apt2 of appointmentsOverlapped)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (apt2.id == apt.id)\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\t\tfor (let slot2 of (apt2 as InternalSchedulerAppointment).slotsOccupied!)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (Date.vrArePeriodsOverlapped(slot.start, slot.end, slot2.start, slot2.end))\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\toverlappedList.push(appointment);\r\n\t\t\t\t\t\t\t\t\tmaxOverlappedSlot++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get max overlapped number\r\n\t\t\t\t\t\tif (maxOverlappedSlot > maxOverlapped)\r\n\t\t\t\t\t\t\tmaxOverlapped = maxOverlappedSlot;\r\n\r\n\t\t\t\t\t\t(apt as InternalSchedulerAppointment).overlappedList = overlappedList.vrDistinctBy(k => k.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tappointmentsOverlapped.vrSortDesc(\"duration\");\r\n\t\t\t\tfor (let apt of appointmentsOverlapped)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Set correct dates based on timeslotInterval\r\n\t\t\t\t\tlet start = new Date(apt.start);\r\n\t\t\t\t\tthis.adaptDateToTimeslotDuration(start, SchedulerDateTypeEnum.Start);\r\n\r\n\t\t\t\t\tlet end = new Date(apt.end);\r\n\t\t\t\t\tthis.adaptDateToTimeslotDuration(end, SchedulerDateTypeEnum.End);\r\n\r\n\t\t\t\t\t// Find slot to position appointment\r\n\t\t\t\t\tlet slotFiltered: SchedulerSlotElement = (apt as InternalSchedulerAppointment).slotsOccupied![0];\r\n\t\t\t\t\tif (slotFiltered != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Position appointment\r\n\t\t\t\t\t\tlet duration = Date.vrDifferenceBetweenDatesInMinutes(start, end);\r\n\t\t\t\t\t\tlet timeslotInterval = this.timeslotInterval();\r\n\t\t\t\t\t\tlet height = Math.round(duration / timeslotInterval) * 33 + duration / timeslotInterval - 6;\r\n\t\t\t\t\t\theight -= Math.round(duration / timeslotInterval);\r\n\r\n\t\t\t\t\t\t//#region Fix max height\r\n\t\t\t\t\t\tlet maxPositionY = this._slotElementList[this._slotElementList.length - 1].rowIndex * 33 + 33;\r\n\t\t\t\t\t\tlet finalAppointmentPositionY = (slotFiltered.rowIndex * 33) + height;\r\n\t\t\t\t\t\tif (finalAppointmentPositionY > maxPositionY)\r\n\t\t\t\t\t\t\theight = height - (finalAppointmentPositionY - maxPositionY) - 1;\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Know if a piece of slot is already occupied\r\n\t\t\t\t\t\tlet occupiedSlotList = (apt as InternalSchedulerAppointment).slotsOccupied!.map(k => k.columnPosition);\r\n\t\t\t\t\t\tlet index = 0;\r\n\t\t\t\t\t\tfor (let i = 0; i < maxOverlapped; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet goTo = true;\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t\tfor (let occupiedSlot of occupiedSlotList)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (occupiedSlot[i] == true)\r\n\t\t\t\t\t\t\t\t\tgoTo = false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (goTo)\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t// Fix width\r\n\t\t\t\t\t\tlet width = (slotWidth * 85 / 100) / maxOverlapped;\r\n\t\t\t\t\t\twidth = width;\r\n\t\t\t\t\t\tif (width <= 0)\r\n\t\t\t\t\t\t\twidth = 1;\r\n\r\n\t\t\t\t\t\t// Get xPosition\r\n\t\t\t\t\t\tlet slotFilteredWidth = slotWidthList.slice(0, slotFiltered.columnIndex).vrSum();\r\n\t\t\t\t\t\tlet newSlotFilteredWidth = slotWidthList[0] * slotFiltered.columnIndex; // 21/06/2021 - old: slotFilteredWidth + this._timeColumnWidth\r\n\t\t\t\t\t\tlet positionX = newSlotFilteredWidth + (index * width) + index + this._timeColumnWidth;\r\n\r\n\t\t\t\t\t\t// Set slot as occupied at specified index\r\n\t\t\t\t\t\tfor (let slot of (apt as InternalSchedulerAppointment).slotsOccupied!)\r\n\t\t\t\t\t\t\tslot.columnPosition[index] = true;\r\n\r\n\t\t\t\t\t\t// Draw appointment\r\n\t\t\t\t\t\tlet divAppointment = document.createElement(\"div\");\r\n\t\t\t\t\t\tdivAppointment.style.cssText += \"top: \" + (slotFiltered.rowIndex * 33) + \"px; left: \" + positionX + \"px;\";\r\n\t\t\t\t\t\tdivAppointment.className = \"vrSchedulerAppointment\";\r\n\r\n\t\t\t\t\t\t//#region Width/Height\r\n\t\t\t\t\t\tdivAppointment.style.cssText += \"width: \" + width + \"px; height: \" + height + \"px;\";\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\tthis.managePropertiesSchedulerData(divAppointment, apt);\r\n\t\t\t\t\t\tappointmentFragment.appendChild(divAppointment);\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Move appointment\r\n\t\t\t\t\t\tlet options = this.getOptions();\r\n\t\t\t\t\t\tpuma(divAppointment).on(\"mousedown\", (emd: JQuery.MouseDownEvent) =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!this.enabled() || !options.editable!.move || this._isResizing)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\temd.preventDefault();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Main mouse button (usually left)\r\n\t\t\t\t\t\t\tif (emd.button != 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\temd.preventDefault();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet schedulerOffsetTop = puma(this.getDivContent()).offset().top;\r\n\t\t\t\t\t\t\tlet schedulerScrollOffset = this.getDivContent().scrollTop;\r\n\t\t\t\t\t\t\tlet schedulerOffsetLeft = puma(this.getDivContent()).offset().left;\r\n\r\n\t\t\t\t\t\t\tlet slotToMove: SchedulerSlotElement | null = null;\r\n\r\n\t\t\t\t\t\t\t//#region Starting position\r\n\t\t\t\t\t\t\tlet startingXPosition = emd.clientX;\r\n\t\t\t\t\t\t\tlet startingYPosition = emd.clientY;\r\n\t\t\t\t\t\t\tlet slotStartingPosition: SchedulerSlotElement | null = null;\r\n\t\t\t\t\t\t\tlet sum = 0;\r\n\t\t\t\t\t\t\tlet slotColumnIndex = 0;\r\n\t\t\t\t\t\t\tfor (let slotsss of slotWidthList)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsum += slotsss;\r\n\t\t\t\t\t\t\t\tif ((sum + this._timeColumnWidth) > startingXPosition)\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tslotColumnIndex++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tslotStartingPosition = this._slotElementList[slotColumnIndex];\r\n\t\t\t\t\t\t\tlet diffYMouseAppointment = Math.abs(divAppointment.offsetTop - (emd.clientY + schedulerScrollOffset - schedulerOffsetTop));\r\n\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\tpuma(document).on(\"mousemove\", (emm: MouseEvent) =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (!this.enabled() || !options.editable!.move || this._isResizing)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\temm.preventDefault();\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Position of the mouse\r\n\t\t\t\t\t\t\t\tlet xPositionMouse = emm.clientX - schedulerOffsetLeft;\r\n\t\t\t\t\t\t\t\tlet yPositionMouse = emm.clientY + schedulerScrollOffset - schedulerOffsetTop;\r\n\r\n\t\t\t\t\t\t\t\t// Position of appointment\r\n\t\t\t\t\t\t\t\tlet appointmentYPosition = divAppointment.offsetTop;\r\n\t\t\t\t\t\t\t\tlet appointmentHeight = divAppointment.clientHeight;\r\n\t\t\t\t\t\t\t\tlet appointmentXPosition = divAppointment.offsetLeft;\r\n\t\t\t\t\t\t\t\tlet appointmentWidth = divAppointment.clientWidth;\r\n\r\n\t\t\t\t\t\t\t\t// Sensibility\r\n\t\t\t\t\t\t\t\tif (yPositionMouse >= appointmentYPosition && yPositionMouse <= (appointmentYPosition + appointmentHeight)\r\n\t\t\t\t\t\t\t\t\t&& xPositionMouse >= appointmentXPosition && xPositionMouse <= (appointmentXPosition + appointmentWidth)\r\n\t\t\t\t\t\t\t\t\t&& slotToMove == null)\r\n\t\t\t\t\t\t\t\t\tslotToMove = null;\r\n\t\t\t\t\t\t\t\t// If it is only a click\r\n\t\t\t\t\t\t\t\telse if (emm.clientX == startingXPosition && emm.clientY == startingYPosition)\r\n\t\t\t\t\t\t\t\t\tslotToMove = null;\r\n\t\t\t\t\t\t\t\t// If you are moving\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet appointmentDataSource = null;\r\n\t\t\t\t\t\t\t\t\tif (apt.resourceId != null)\r\n\t\t\t\t\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id && k.resourceId == apt.resourceId)[0];\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id)[0];\r\n\r\n\t\t\t\t\t\t\t\t\tlet appointmentIndex = this.datasource().indexOf(appointmentDataSource);\r\n\t\t\t\t\t\t\t\t\tappointmentDataSource = this.datasource()[appointmentIndex];\r\n\r\n\t\t\t\t\t\t\t\t\t//#region Find slot\r\n\t\t\t\t\t\t\t\t\tlet sum = 0;\r\n\t\t\t\t\t\t\t\t\tlet slotColumnIndex = 0;\r\n\t\t\t\t\t\t\t\t\tfor (let slotsss of slotWidthList)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tsum += slotsss;\r\n\t\t\t\t\t\t\t\t\t\tif ((sum + this._timeColumnWidth) > xPositionMouse)\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tslotColumnIndex++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tslotToMove = this._slotElementList.filter(k => k.columnIndex == slotColumnIndex && k.rowIndex == Math.trunc((yPositionMouse - diffYMouseAppointment) / 33))[0];\r\n\t\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\t\tlet duration = Date.vrDifferenceBetweenDatesInMinutes(apt.end, apt.start);\r\n\t\t\t\t\t\t\t\t\tlet start = new Date(apt.start);\r\n\t\t\t\t\t\t\t\t\tlet end = new Date(start).vrAddMinutes(duration);\r\n\r\n\t\t\t\t\t\t\t\t\tlet options = this.getOptions();\r\n\t\t\t\t\t\t\t\t\tif (options.onMoveStart != null && !this._isMoving)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t//#region Move start event\r\n\t\t\t\t\t\t\t\t\t\tthis._isMoving = true;\r\n\r\n\t\t\t\t\t\t\t\t\t\tlet moveAppointmentEvent = new SchedulerMoveStartEvent();\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.sender = this;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.divElement = divAppointment;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.start = start;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.end = end;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.dataItem = appointmentDataSource;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.resourceId = slotStartingPosition!.resourceId;\r\n\t\t\t\t\t\t\t\t\t\toptions.onMoveStart(moveAppointmentEvent);\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (moveAppointmentEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\temm.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\t\t\t\t\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\t\t\t\t\t\t\t\t\t\t\tslotToMove = null;\r\n\t\t\t\t\t\t\t\t\t\t\tthis._isMoving = false;\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (options.onMoving != null)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t//#region Moving event\r\n\t\t\t\t\t\t\t\t\t\tstart = new Date(slotToMove.start);\r\n\t\t\t\t\t\t\t\t\t\tend = new Date(slotToMove.start).vrAddMinutes(duration);\r\n\r\n\t\t\t\t\t\t\t\t\t\tlet moveAppointmentEvent = new SchedulerMovingEvent();\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.sender = this;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.divElement = divAppointment;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.start = start;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.end = end;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.dataItem = appointmentDataSource;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.resourceId = slotToMove.resourceId;\r\n\t\t\t\t\t\t\t\t\t\toptions.onMoving(moveAppointmentEvent);\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (moveAppointmentEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\temm.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\t\t\t\t\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\t\t\t\t\t\t\t\t\t\t\tslotToMove = null;\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tlet yMovePosition = Math.trunc((yPositionMouse - diffYMouseAppointment) / 33) * 33;\r\n\t\t\t\t\t\t\t\t\tlet xMovePosition = slotWidthList.slice(0, slotToMove.columnIndex).vrSum() + this._timeColumnWidth;\r\n\r\n\t\t\t\t\t\t\t\t\tdivAppointment.style.top = yMovePosition + \"px\";\r\n\t\t\t\t\t\t\t\t\tdivAppointment.style.left = xMovePosition + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\tdivAppointment.classList.add(\"vrSchedulerAppointmentMoving\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// Stop moving\r\n\t\t\t\t\t\t\tpuma(document).on(\"mouseup\", () =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (!this.enabled() || !options.editable!.move || this._isResizing)\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\t\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\r\n\t\t\t\t\t\t\t\tpuma(divAppointment).removeClass(\"vrSchedulerAppointmentMoving\");\r\n\t\t\t\t\t\t\t\tpuma(this.getDivContent()).remove(\".vrSchedulerAppointmentMoving\");\r\n\r\n\t\t\t\t\t\t\t\twindow.setTimeout(() => this._isMoving = false, 100);\r\n\t\t\t\t\t\t\t\tif (slotToMove != null)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet duration = Date.vrDifferenceBetweenDatesInMinutes(apt.end, apt.start);\r\n\t\t\t\t\t\t\t\t\tlet start = new Date(slotToMove.start);\r\n\t\t\t\t\t\t\t\t\tlet end = new Date(start).vrAddMinutes(duration);\r\n\r\n\t\t\t\t\t\t\t\t\tlet appointmentDataSource = null;\r\n\t\t\t\t\t\t\t\t\tif (apt.resourceId != null)\r\n\t\t\t\t\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id && k.resourceId == apt.resourceId)[0];\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id)[0];\r\n\r\n\t\t\t\t\t\t\t\t\t//#region Move end event\r\n\t\t\t\t\t\t\t\t\tlet options = this.getOptions();\r\n\t\t\t\t\t\t\t\t\tif (options.onMoveEnd != null)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlet moveAppointmentEvent = new SchedulerMoveEndEvent();\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.sender = this;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.divElement = divAppointment;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.start = start;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.end = end;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.dataItem = appointmentDataSource;\r\n\t\t\t\t\t\t\t\t\t\tmoveAppointmentEvent.resourceId = slotToMove.resourceId;\r\n\t\t\t\t\t\t\t\t\t\toptions.onMoveEnd(moveAppointmentEvent);\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (moveAppointmentEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tslotToMove = null;\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\t\t//#region Update appointment into datasource\r\n\t\t\t\t\t\t\t\t\tlet appointmentIndex = this.datasource().indexOf(appointmentDataSource);\r\n\t\t\t\t\t\t\t\t\tappointmentDataSource = this.datasource()[appointmentIndex];\r\n\t\t\t\t\t\t\t\t\tappointmentDataSource.start = start;\r\n\t\t\t\t\t\t\t\t\tappointmentDataSource.end = end;\r\n\t\t\t\t\t\t\t\t\tappointmentDataSource.resourceId = slotToMove.resourceId;\r\n\t\t\t\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t\t\t\tslotToMove = null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t\t//#region Resize appointment\r\n\t\t\t\t\t\tthis.setResizing(divAppointment, apt);\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getDivContent().appendChild(appointmentFragment);\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t\treturn (this._datasource == null) ? [] : this._datasource as T[];\r\n\t}\r\n\r\n\tprivate setResizing(divAppointment: HTMLDivElement, apt: SchedulerData)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (!this.enabled() || !options.editable!.resize)\r\n\t\t\treturn;\r\n\r\n\t\tlet divResizable = document.createElement(\"div\");\r\n\t\tdivResizable.classList.add(\"vrSchedulerDivResize\");\r\n\r\n\t\tlet divInside = document.createElement(\"div\");\r\n\t\tdivInside.classList.add(\"vrSchedulerDivResizeInside\");\r\n\t\tdivResizable.appendChild(divInside);\r\n\t\tdivAppointment.appendChild(divResizable);\r\n\r\n\t\tpuma(divAppointment).on(\"mouseover\", (e: JQuery.MouseOverEvent) => divResizable.style.display = \"block\");\r\n\t\tpuma(divAppointment).on(\"mouseout\", (e: JQuery.MouseOutEvent) => divResizable.style.display = \"none\");\r\n\r\n\t\tlet pageY: number | null = null;\r\n\t\tlet slotToResize: SchedulerSlotElement | null;\r\n\r\n\t\tlet schedulerOffsetTop = puma(this.getDivContent()).offset().top;\r\n\t\tlet schedulerScrollOffset = this.getDivContent().scrollTop;\r\n\t\tlet schedulerOffsetLeft = puma(this.getDivContent()).offset().left;\r\n\r\n\t\tlet resizing = false;\r\n\r\n\t\t//#region Div events\r\n\t\tpuma(divResizable).on(\"mousedown\", (e: JQuery.MouseDownEvent) =>\r\n\t\t{\r\n\t\t\t// Main mouse button (usually left)\r\n\t\t\tif (e.button != 0)\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis._isResizing = true;\r\n\t\t\tpageY = e.pageY;\r\n\t\t\tlet divAppointmentHeight = divAppointment!.offsetHeight;\r\n\r\n\t\t\t//#region Document events\r\n\t\t\tpuma(document).on(\"mousemove\", (e: JQuery.MouseMoveEvent) =>\r\n\t\t\t{\r\n\t\t\t\tif (divAppointment != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet appointmentDataSource = null;\r\n\t\t\t\t\tif (apt.resourceId != null)\r\n\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id && k.resourceId == apt.resourceId)[0];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id)[0];\r\n\r\n\t\t\t\t\tlet appointmentIndex = this.datasource().indexOf(appointmentDataSource);\r\n\t\t\t\t\tappointmentDataSource = this.datasource()[appointmentIndex];\r\n\r\n\t\t\t\t\t// Position of the mouse\r\n\t\t\t\t\tlet xPositionMouse = e.clientX - schedulerOffsetLeft;\r\n\t\t\t\t\tlet yPositionMouse = e.clientY + schedulerScrollOffset - schedulerOffsetTop;\r\n\r\n\t\t\t\t\tslotToResize = this._slotElementList.filter(k => k.resourceId == apt.resourceId && k.rowIndex == Math.trunc(yPositionMouse / 33))[0];\r\n\r\n\t\t\t\t\tif (options.onResizeStart != null && !resizing)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Move start event\r\n\t\t\t\t\t\tthis._isResizing = true;\r\n\t\t\t\t\t\tresizing = true;\r\n\r\n\t\t\t\t\t\tlet resizeStartEvent = new SchedulerResizeStartEvent();\r\n\t\t\t\t\t\tresizeStartEvent.sender = this;\r\n\t\t\t\t\t\tresizeStartEvent.divElement = divAppointment;\r\n\t\t\t\t\t\tresizeStartEvent.start = apt.start;\r\n\t\t\t\t\t\tresizeStartEvent.end = apt.end;\r\n\t\t\t\t\t\tresizeStartEvent.dataItem = appointmentDataSource;\r\n\t\t\t\t\t\tresizeStartEvent.resourceId = apt.resourceId;\r\n\t\t\t\t\t\toptions.onResizeStart(resizeStartEvent);\r\n\r\n\t\t\t\t\t\tif (resizeStartEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\t\t\t\t\t\t\tslotToResize = null;\r\n\t\t\t\t\t\t\tthis._isResizing = false;\r\n\t\t\t\t\t\t\tresizing = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (options.onResizing != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Moving event\r\n\t\t\t\t\t\tlet resizingEvent = new SchedulerResizingEvent();\r\n\t\t\t\t\t\tresizingEvent.sender = this;\r\n\t\t\t\t\t\tresizingEvent.divElement = divAppointment;\r\n\t\t\t\t\t\tresizingEvent.start = apt.start;\r\n\t\t\t\t\t\tresizingEvent.end = slotToResize.end;\r\n\t\t\t\t\t\tresizingEvent.dataItem = appointmentDataSource;\r\n\t\t\t\t\t\tresizingEvent.resourceId = apt.resourceId;\r\n\t\t\t\t\t\toptions.onResizing(resizingEvent);\r\n\r\n\t\t\t\t\t\tif (resizingEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\t\t\t\t\t\t\tslotToResize = null;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet diffY = e.pageY - pageY!;\r\n\t\t\t\t\tlet diffToAdd = Math.trunc(diffY / 33) * 33;\r\n\t\t\t\t\tlet height = (divAppointmentHeight! + diffToAdd);\r\n\t\t\t\t\theight -= height % 33;\r\n\t\t\t\t\tdivAppointment.style.height = height + \"px\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tpuma(document).on(\"mouseup\", () =>\r\n\t\t\t{\r\n\t\t\t\tpuma(document).unbind(\"mouseup\");\r\n\t\t\t\tpuma(document).unbind(\"mousemove\");\r\n\t\t\t\twindow.setTimeout(() => this._isResizing = false, 100);\r\n\r\n\t\t\t\tif (slotToResize != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet appointmentDataSource = null;\r\n\t\t\t\t\tif (apt.resourceId != null)\r\n\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id && k.resourceId == apt.resourceId)[0];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tappointmentDataSource = this.datasource().filter(k => k.id == divAppointment.id)[0];\r\n\r\n\t\t\t\t\t//#region Move end event\r\n\t\t\t\t\tlet options = this.getOptions();\r\n\t\t\t\t\tif (options.onResizeEnd != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet moveAppointmentEvent = new SchedulerMoveEndEvent();\r\n\t\t\t\t\t\tmoveAppointmentEvent.sender = this;\r\n\t\t\t\t\t\tmoveAppointmentEvent.divElement = divAppointment;\r\n\t\t\t\t\t\tmoveAppointmentEvent.start = apt.start;\r\n\t\t\t\t\t\tmoveAppointmentEvent.end = slotToResize.end;\r\n\t\t\t\t\t\tmoveAppointmentEvent.dataItem = apt;\r\n\t\t\t\t\t\tmoveAppointmentEvent.resourceId = apt.resourceId;\r\n\t\t\t\t\t\toptions.onResizeEnd(moveAppointmentEvent);\r\n\r\n\t\t\t\t\t\tif (moveAppointmentEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tslotToResize = null;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t//#region Update appointment into datasource\r\n\t\t\t\t\tlet appointmentIndex = this.datasource().indexOf(appointmentDataSource);\r\n\t\t\t\t\tappointmentDataSource = this.datasource()[appointmentIndex];\r\n\t\t\t\t\tappointmentDataSource.start = apt.start;\r\n\t\t\t\t\tappointmentDataSource.end = slotToResize.end;\r\n\t\t\t\t\tappointmentDataSource.resourceId = apt.resourceId;\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tslotToResize = null;\r\n\t\t\t\t\tpageY = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//#endregion\r\n\t\t});\r\n\t}\r\n\r\n\tavailabilities<T extends SchedulerData>(availabilities?: T[]): T[]\r\n\t{\r\n\t\tif (availabilities != null && availabilities.length > 0)\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tthis.checkMandatorySchedulerDataFields(availabilities[0]);\r\n\t\t\tthis._availabilities = availabilities;\r\n\r\n\t\t\tpuma(this.container()).find(\".vrSchedulerAvailability\").remove();\r\n\r\n\t\t\tlet availabilityFragment = document.createDocumentFragment();\r\n\t\t\tlet slotWidthList = Array.from(puma(this.container()).find(\".vrSchedulerDivContent table tr:first-child td\")).map(k => { return puma(k).outerWidth() });\r\n\t\t\tlet totalMinutes = Date.vrDifferenceBetweenDatesInMinutes(options.startTime!, options.endTime!);\r\n\r\n\t\t\tlet contentHeight = puma(this.getDivContent()).find(\"table\").height();\r\n\t\t\tfor (let availability of availabilities)\r\n\t\t\t{\r\n\t\t\t\t// Fixed date\r\n\t\t\t\tlet dateFrom = Date.vrConvertDateFromServer(new Date(availability.start));\r\n\t\t\t\tlet dateTo = Date.vrConvertDateFromServer(new Date(availability.end));\r\n\r\n\t\t\t\tlet slotForAvailability: SchedulerSlotElement = this._slotElementList.filter(k => (availability.resourceId == k.resourceId || availability.resourceId == null) && Date.vrArePeriodsOverlapped(k.start, k.end, dateFrom, dateTo))[0];\r\n\t\t\t\tif (slotForAvailability != null)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Get xPosition\r\n\t\t\t\t\tlet newSlotFilteredWidth = slotWidthList[0] * slotForAvailability.columnIndex;\r\n\t\t\t\t\tlet positionX = newSlotFilteredWidth + this._timeColumnWidth;\r\n\t\t\t\t\tlet positionY = slotForAvailability.rowIndex * 33;\r\n\r\n\t\t\t\t\t//#region Height\r\n\t\t\t\t\tlet duration = Date.vrDifferenceBetweenDatesInMinutes(slotForAvailability.start, availability.end);\r\n\t\t\t\t\tif (duration > totalMinutes)\r\n\t\t\t\t\t\tduration = totalMinutes;\r\n\r\n\t\t\t\t\tlet height = Math.round(duration / this.timeslotInterval()) * 33;\r\n\t\t\t\t\theight = height - (height % 33);\r\n\t\t\t\t\tif (height <= 0)\r\n\t\t\t\t\t\theight = 33;\r\n\r\n\t\t\t\t\tif ((positionY + height) > contentHeight)\r\n\t\t\t\t\t\theight -= ((positionY + height) - contentHeight);\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t// Draw availability\r\n\t\t\t\t\tlet divAvailability = document.createElement(\"div\");\r\n\t\t\t\t\tdivAvailability.style.cssText = \"top: \" + positionY + \"px; left: \" + positionX + \"px;\";\r\n\t\t\t\t\tdivAvailability.className = \"vrSchedulerAvailability\";\r\n\r\n\t\t\t\t\t//#region Width/Height\r\n\t\t\t\t\tdivAvailability.style.cssText += \"width: \" + slotWidthList[slotForAvailability.columnIndex] + \"px; height: \" + height + \"px;\";\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tthis.managePropertiesSchedulerData(divAvailability, availability);\r\n\t\t\t\t\tavailabilityFragment.appendChild(divAvailability);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getDivContent().appendChild(availabilityFragment);\r\n\t\t}\r\n\t\treturn this._availabilities as T[];\r\n\t}\r\n\r\n\tprivate checkMandatorySchedulerDataFields(schedulerData: SchedulerData)\r\n\t{\r\n\t\tlet error = [];\r\n\t\tif (schedulerData.id == null)\r\n\t\t\terror.push(\"id\");\r\n\t\tif (schedulerData.start == null)\r\n\t\t\terror.push(\"start\");\r\n\t\tif (schedulerData.end == null)\r\n\t\t\terror.push(\"end\");\r\n\r\n\t\tif (error.length > 0)\r\n\t\t\tthrow Error(\"Prevedere i seguenti campi: \" + error.toString());\r\n\t}\r\n\r\n\tprivate managePropertiesSchedulerData(divElement: HTMLElement, schedulerData: SchedulerData)\r\n\t{\r\n\t\tdivElement.id = schedulerData.id;\r\n\r\n\t\t//#region Color\r\n\t\tif (schedulerData.tooltip != null)\r\n\t\t\tdivElement.setAttribute(\"title\", schedulerData.tooltip);\r\n\r\n\t\tif (schedulerData.backgroundColor != null)\r\n\t\t\tdivElement.style.backgroundColor = schedulerData.backgroundColor;\r\n\r\n\t\tif (schedulerData.textColor != null)\r\n\t\t\tdivElement.style.color = schedulerData.textColor;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Text\r\n\t\tif (schedulerData.text != null)\r\n\t\t\tdivElement.insertAdjacentHTML(\"afterbegin\", schedulerData.text);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Custom CSS/Class\r\n\t\tif (schedulerData.css != null && schedulerData.css != \"\")\r\n\t\t\tdivElement.style.cssText += schedulerData.css;\r\n\r\n\t\tif (schedulerData.class != null && schedulerData.class != \"\")\r\n\t\t\tdivElement.classList.add(schedulerData.class);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Attributes\r\n\t\tdivElement.setAttribute(\"resourceId\", schedulerData.resourceId);\r\n\t\tdivElement.setAttribute(\"start\", schedulerData.start.toString());\r\n\t\tdivElement.setAttribute(\"end\", schedulerData.end.toString());\r\n\r\n\t\tif (schedulerData.attributes != null)\r\n\t\t{\r\n\t\t\tfor (let attribute of schedulerData.attributes)\r\n\t\t\t\tdivElement.setAttribute(attribute.key, attribute.value);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\trebind(appointments = true, availabilities = true)\r\n\t{\r\n\t\tif (appointments) this.rebindAppointments();\r\n\t\tif (availabilities) this.rebindAvailabilities();\r\n\t}\r\n\r\n\trebindAppointments()\r\n\t{\r\n\t\tthis.datasource(this._datasource);\r\n\t}\r\n\r\n\trebindAvailabilities()\r\n\t{\r\n\t\tthis.availabilities(this._availabilities);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Saturation\r\n\tsaturation(saturationData?: SchedulerSaturationInfo)\r\n\t{\r\n\t\tif (saturationData != null)\r\n\t\t{\r\n\t\t\tif (saturationData.manual == null) saturationData.manual = false;\r\n\t\t\tthis._saturationData = saturationData;\r\n\r\n\t\t\tthis._saturationVisible = true;\r\n\t\t\tif (!saturationData.manual)\r\n\t\t\t\tthis.internalHideSaturation();\r\n\r\n\t\t\tswitch (this.view())\r\n\t\t\t{\r\n\t\t\t\tcase SchedulerViewEnum.Day:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Day\r\n\t\t\t\t\t\tlet saturationDay = saturationData.dayMode;\r\n\t\t\t\t\t\tif (saturationDay != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor (let saturation of saturationDay)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (saturation.date != null && typeof (saturation.date) == \"string\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsaturation.date = new Date(saturation.date);\r\n\t\t\t\t\t\t\t\t\tsaturation.date.setHours(0, 0, 0);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tlet schedulerDate = this.date();\r\n\t\t\t\t\t\t\t\tschedulerDate!.setHours(0, 0, 0);\r\n\t\t\t\t\t\t\t\tif (saturation.date != null && !Date.vrEquals(saturation.date, schedulerDate!))\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tlet divSaturation = puma(\".vrSchedulerDayResource[resourceId='\" + saturation.resourceId + \"'] .vrSchedulerDivSaturation\")[0];\r\n\t\t\t\t\t\t\t\tlet spanPercentage = puma(\".vrSchedulerDayResource[resourceId='\" + saturation.resourceId + \"'] .vrSchedulerSpanSaturation\")[0];\r\n\t\t\t\t\t\t\t\tthis.manageSaturationPercentage(saturation, divSaturation, spanPercentage);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.adaptHeight();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SchedulerViewEnum.Week:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region Week\r\n\t\t\t\t\t\tlet saturationWeek = saturationData.weekMode;\r\n\t\t\t\t\t\tif (saturationWeek != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!this.groupWeekByDate())\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//#region GroupedByResources\r\n\t\t\t\t\t\t\t\tlet saturationWeekGroupedByResource = saturationWeek.groupedByResource;\r\n\t\t\t\t\t\t\t\tif (saturationWeekGroupedByResource != null)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfor (let saturation of saturationWeekGroupedByResource)\r\n\t\t\t\t\t\t\t\t\t\tthis.manageWeekDateList(saturation);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//#region GroupedByDate\r\n\t\t\t\t\t\t\t\tlet saturationWeekGroupedByDate = saturationWeek.groupedByDate;\r\n\t\t\t\t\t\t\t\tif (saturationWeekGroupedByDate != null)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfor (let saturation of saturationWeekGroupedByDate)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tif (typeof (saturation.date) == \"string\")\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tsaturation.date = new Date(saturation.date);\r\n\t\t\t\t\t\t\t\t\t\t\tsaturation.date.setHours(0, 0, 0);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tlet day = saturation.date.getDate();\r\n\t\t\t\t\t\t\t\t\t\tlet month = saturation.date.getMonth();\r\n\t\t\t\t\t\t\t\t\t\tlet year = saturation.date.getFullYear();\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (saturation.resourceList != null)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tfor (let saturationResource of saturation.resourceList)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet thResource = puma(\".vrSchedulerDayResource[resourceId='\" + saturationResource.id + \"'][day='\" + day + \"'][month='\" + month + \"'][year='\" + year + \"']\")[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (thResource != null)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet divSaturation = puma(thResource).find(\".vrSchedulerDivSaturation\")[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet spanPercentage = puma(thResource).find(\".vrSchedulerSpanSaturation\")[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.manageSaturationPercentage(saturationResource, divSaturation, spanPercentage);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.adaptHeight();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SchedulerViewEnum.FourWeeks:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//#region FourWeeks\r\n\t\t\t\t\t\tlet saturationFourWeeks = saturationData.fourWeeksMode;\r\n\t\t\t\t\t\tif (saturationFourWeeks != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor (let saturation of saturationFourWeeks)\r\n\t\t\t\t\t\t\t\tthis.manageWeekDateList(saturation);\r\n\r\n\t\t\t\t\t\t\tthis.adaptHeight();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._saturationData;\r\n\t}\r\n\r\n\tprivate manageSaturationPercentage(saturation: SchedulerSaturationDay | SaturationResource, divSaturation: HTMLElement, spanPercentage: HTMLElement)\r\n\t{\r\n\t\tlet borderColor = (saturation.borderColor != null) ? saturation.borderColor : \"#CCC\";\r\n\t\tif (divSaturation != null)\r\n\t\t\tdivSaturation.style.cssText += \"border-color: \" + borderColor + \";\";\r\n\r\n\t\tlet color = (saturation.color != null) ? saturation.color : \"#bbb8b8\";\r\n\t\tif (spanPercentage != null)\r\n\t\t{\r\n\t\t\tpuma(spanPercentage).width(saturation.percentageValue + \"%\");\r\n\t\t\tspanPercentage.style.cssText += \"background-color: \" + color + \";\";\r\n\t\t\tspanPercentage.parentElement!.title = saturation.percentageValue + \"%\";\r\n\r\n\t\t\tif (saturation.percentageValue != null)\r\n\t\t\t\tpuma(spanPercentage).parent().css(\"display\", \"flex\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate manageWeekDateList(saturation: SchedulerSaturationWeekByResource | SchedulerSaturationFourWeeks)\r\n\t{\r\n\t\tlet spanPercentageResource = puma(\".vrSchedulerDayResource[resourceId='\" + saturation.resourceId + \"'] .vrSchedulerSaturationPercentage\")[0];\r\n\t\tif (spanPercentageResource != null)\r\n\t\t{\r\n\t\t\tpuma(spanPercentageResource).show();\r\n\t\t\tspanPercentageResource.innerHTML = \" \" + ((saturation.percentageValue != null) ? saturation.percentageValue : \"\") + \"%\";\r\n\r\n\t\t\tif (saturation.titleColor == null) saturation.titleColor = \"#000\";\r\n\t\t\tspanPercentageResource.style.cssText += \"color: \" + saturation.titleColor;\r\n\t\t}\r\n\r\n\t\tif (saturation.dateList != null)\r\n\t\t{\r\n\t\t\tfor (let saturationDate of saturation.dateList)\r\n\t\t\t{\r\n\t\t\t\tif (typeof (saturationDate.date) == \"string\")\r\n\t\t\t\t{\r\n\t\t\t\t\tsaturationDate.date = new Date(saturationDate.date);\r\n\t\t\t\t\tsaturationDate.date.setHours(0, 0, 0);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet color = (saturationDate.color != null) ? saturationDate.color : \"#bbb8b8\";\r\n\t\t\t\tlet day = saturationDate.date.getDate();\r\n\t\t\t\tlet month = saturationDate.date.getMonth();\r\n\t\t\t\tlet year = saturationDate.date.getFullYear();\r\n\r\n\t\t\t\tlet thWeekDay = puma(\".vrSchedulerWeekDay[resourceId='\" + saturation.resourceId + \"'][day='\" + day + \"'][month='\" + month + \"'][year='\" + year + \"']\")[0];\r\n\t\t\t\tif (thWeekDay != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet divSaturation = puma(thWeekDay).find(\".vrSchedulerDivSaturation\")[0];\r\n\t\t\t\t\tlet borderColor = (saturationDate.borderColor != null) ? saturationDate.borderColor : \"#CCC\";\r\n\t\t\t\t\tif (divSaturation != null)\r\n\t\t\t\t\t\tdivSaturation.style.cssText += \"border-color: \" + borderColor + \";\";\r\n\r\n\t\t\t\t\tlet spanPercentage = puma(thWeekDay).find(\".vrSchedulerSpanSaturation\")[0];\r\n\t\t\t\t\tif (spanPercentage != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpuma(spanPercentage).width(saturationDate.percentageValue + \"%\");\r\n\t\t\t\t\t\tspanPercentage.style.cssText += \"background-color: \" + color + \";\";\r\n\t\t\t\t\t\tspanPercentage.parentElement!.title = saturationDate.percentageValue + \"%\";\r\n\r\n\t\t\t\t\t\tif (saturationDate.percentageValue != null)\r\n\t\t\t\t\t\t\tpuma(spanPercentage).parent().css(\"display\", \"flex\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclearSaturation()\r\n\t{\r\n\t\tthis._saturationData = undefined;\r\n\t\tthis.hideSaturation();\r\n\t}\r\n\r\n\tshowSaturation()\r\n\t{\r\n\t\tthis.internalShowSaturation();\r\n\t\tthis._saturationVisible = true;\r\n\t}\r\n\r\n\tprivate internalShowSaturation()\r\n\t{\r\n\t\tfor (let divSaturation of Array.from<HTMLElement>(puma(\".vrSchedulerDivSaturation\")))\r\n\t\t\tdivSaturation.style.cssText += \"display: flex;\";\r\n\r\n\t\tpuma(\".vrSchedulerSaturationPercentage\").show();\r\n\t\tthis.adaptHeight();\r\n\t}\r\n\r\n\thideSaturation()\r\n\t{\r\n\t\tthis.internalHideSaturation();\r\n\t\tthis._saturationVisible = false;\r\n\t}\r\n\r\n\tprivate internalHideSaturation()\r\n\t{\r\n\t\tpuma(\".vrSchedulerDivSaturation\").hide();\r\n\t\tpuma(\".vrSchedulerSaturationPercentage\").hide();\r\n\t\tthis.adaptHeight();\r\n\t}\r\n\r\n\tsaturationVisible()\r\n\t{\r\n\t\treturn this._saturationVisible;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Methods\r\n\tbounceAppointment(divElementId: string)\r\n\t{\r\n\t\tif (!divElementId.startsWith(\"#\"))\r\n\t\t\tdivElementId = \"#\" + divElementId;\r\n\r\n\t\tlet divAppointment = puma(divElementId)[0];\r\n\t\tif (divAppointment != null)\r\n\t\t{\r\n\t\t\tdivAppointment.classList.add(\"vrSchedulerAppointmentAnimated\");\r\n\t\t\tdivAppointment.classList.add(\"vrSchedulerAppointmentBounce\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate manageSchedulerClick()\r\n\t{\r\n\t\tpuma(this.element()).on(\"click\", \".vrSchedulerDivContent td, .vrSchedulerAppointment, .vrSchedulerAvailability\", (e: any) =>\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tif (!this.enabled())\r\n\t\t\t\treturn;\r\n\r\n\t\t\tlet target = puma(e.currentTarget);\r\n\t\t\tlet schedulerOffsetTop = puma(this.getDivContent()).offset().top;\r\n\t\t\tlet schedulerScrollOffset = this.getDivContent().scrollTop;\r\n\t\t\tlet schedulerOffsetLeft = puma(this.getDivContent()).offset().left;\r\n\r\n\t\t\tlet slotWidth = puma(this.container()).find(\".vrSchedulerDivContent table td\").outerWidth();\r\n\t\t\tlet xPositionMouse = e.clientX - schedulerOffsetLeft;\r\n\t\t\tlet yPositionMouse = e.clientY + schedulerScrollOffset - schedulerOffsetTop;\r\n\t\t\tlet slotElement = this._slotElementList.filter(k => k.columnIndex == (Math.trunc((xPositionMouse - 63) / slotWidth)) && k.rowIndex == Math.trunc(yPositionMouse / 33))[0];\r\n\t\t\tif (slotElement == null)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tlet duplicatedSlotElement = UtilityManager.duplicate(slotElement);\r\n\t\t\tduplicatedSlotElement.start = new Date(duplicatedSlotElement.start);\r\n\t\t\tduplicatedSlotElement.end = new Date(duplicatedSlotElement.end);\r\n\r\n\t\t\t// 0 = Main mouse button (usually left)\r\n\t\t\tif (e.button == 0 && !this._isMoving && !this._isResizing)\r\n\t\t\t{\r\n\t\t\t\tif (target.hasClass(\"vrSchedulerAppointment\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tlet appointmentDataSource = this.datasource().filter(k => k.id == target[0].id)[0];\r\n\t\t\t\t\tlet duration = Date.vrDifferenceBetweenDatesInMinutes(appointmentDataSource.end, appointmentDataSource.start);\r\n\t\t\t\t\tlet start = new Date(appointmentDataSource.start);\r\n\t\t\t\t\tlet end = new Date(start).vrAddMinutes(duration);\r\n\r\n\t\t\t\t\t//#region Click on appointment\r\n\t\t\t\t\tif (options.onAppointmentClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickOnAppointmentEvent = new SchedulerAppointmentClickEvent();\r\n\t\t\t\t\t\tclickOnAppointmentEvent.sender = this;\r\n\t\t\t\t\t\tclickOnAppointmentEvent.slotElement = duplicatedSlotElement;\r\n\t\t\t\t\t\tclickOnAppointmentEvent.start = start;\r\n\t\t\t\t\t\tclickOnAppointmentEvent.end = end;\r\n\t\t\t\t\t\tclickOnAppointmentEvent.resourceId = appointmentDataSource.resourceId;\r\n\t\t\t\t\t\tclickOnAppointmentEvent.dataItem = appointmentDataSource;\r\n\t\t\t\t\t\tclickOnAppointmentEvent.element = target[0];\r\n\t\t\t\t\t\toptions.onAppointmentClick(clickOnAppointmentEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\telse if (target.hasClass(\"vrSchedulerAvailability\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tlet availabilityDataSource = this.availabilities().filter(k => k.id == target[0].id)[0];\r\n\t\t\t\t\tlet duration = Date.vrDifferenceBetweenDatesInMinutes(availabilityDataSource.end, availabilityDataSource.start);\r\n\t\t\t\t\tlet start = new Date(availabilityDataSource.start);\r\n\t\t\t\t\tlet end = new Date(start).vrAddMinutes(duration);\r\n\r\n\t\t\t\t\t//#region Click on availability\r\n\t\t\t\t\tif (options.onAvailabilityClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickOnAvailabilityEvent = new SchedulerAvailabilityClickEvent();\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.sender = this;\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.slotElement = duplicatedSlotElement;\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.start = start;\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.end = end;\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.resourceId = availabilityDataSource.resourceId;\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.dataItem = availabilityDataSource;\r\n\t\t\t\t\t\tclickOnAvailabilityEvent.element = target[0];\r\n\t\t\t\t\t\toptions.onAvailabilityClick(clickOnAvailabilityEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t//#region Click on timeslot\r\n\t\t\t\t\tif (options.onTimeslotClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickOnTimeslotEvent = new SchedulerTimeslotClickEvent();\r\n\t\t\t\t\t\tclickOnTimeslotEvent.sender = this;\r\n\t\t\t\t\t\tclickOnTimeslotEvent.slotElement = duplicatedSlotElement;\r\n\t\t\t\t\t\tclickOnTimeslotEvent.start = duplicatedSlotElement.start;\r\n\t\t\t\t\t\tclickOnTimeslotEvent.end = duplicatedSlotElement.end;\r\n\t\t\t\t\t\tclickOnTimeslotEvent.resourceId = slotElement.resourceId;\r\n\t\t\t\t\t\tclickOnTimeslotEvent.element = target[0];\r\n\t\t\t\t\t\toptions.onTimeslotClick(clickOnTimeslotEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis._isMoving = false;\r\n\t\t\t\tthis._isResizing = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tpuma(this.element()).on(\"click\", \".vrSchedulerDayResource\", (e: any) =>\r\n\t\t{\r\n\t\t\t// Only if left key\r\n\t\t\tif (e.button == 0)\r\n\t\t\t{\r\n\t\t\t\tlet target = puma(e.currentTarget);\r\n\t\t\t\tlet resourceId = target[0].getAttribute(\"resourceId\")!;\r\n\t\t\t\tlet resourceName = target[0].getAttribute(\"resourceName\")!.replace(\"~\", \" \");\r\n\r\n\t\t\t\tlet resource = new SchedulerResource();\r\n\t\t\t\tresource.value = resourceId;\r\n\t\t\t\tresource.text = resourceName;\r\n\t\t\t\tthis.resources([resource]);\r\n\r\n\t\t\t\tthis.view(SchedulerViewEnum.FourWeeks);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tpuma(this.element()).on(\"click\", \".vrSchedulerWeekDay\", (e: any) =>\r\n\t\t{\r\n\t\t\t// Only if left key\r\n\t\t\tif (e.button == 0)\r\n\t\t\t{\r\n\t\t\t\tlet target = puma(e.currentTarget);\r\n\t\t\t\tlet day = target[0].getAttribute(\"day\")!;\r\n\t\t\t\tlet month = target[0].getAttribute(\"month\")!;\r\n\t\t\t\tlet year = target[0].getAttribute(\"year\")!;\r\n\r\n\t\t\t\tthis.view(SchedulerViewEnum.Day);\r\n\t\t\t\tlet date = new Date(year, month, day);\r\n\t\t\t\tthis.date(date);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate getDivContent(): HTMLElement\r\n\t{\r\n\t\treturn puma(this.container()).find(\".vrSchedulerDivContent\")[0];\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Utilities\r\n\tprivate findOverlappedAppointments(appointment: SchedulerData, resourceAppointments: SchedulerData[]): SchedulerData[]\r\n\t{\r\n\t\t// Set correct dates based on timeslotInterval\r\n\t\tlet start = new Date(appointment.start);\r\n\t\tthis.adaptDateToTimeslotDuration(start, SchedulerDateTypeEnum.Start);\r\n\r\n\t\tlet end = new Date(appointment.end);\r\n\t\tthis.adaptDateToTimeslotDuration(end, SchedulerDateTypeEnum.End);\r\n\r\n\t\t// Get appointment slots\r\n\t\tlet appointmentSlots = this.getAppointmentSlots(appointment);\r\n\r\n\t\tlet appointmentsOverlapped: any[] = [];\r\n\t\t(appointment as InternalSchedulerAppointment).positioned = true;\r\n\t\t(appointment as InternalSchedulerAppointment).slotsOccupied = appointmentSlots;\r\n\t\tappointmentsOverlapped.push(appointment);\r\n\r\n\t\t// Get overlapped appointments\r\n\t\tfor (let resAppointment of resourceAppointments)\r\n\t\t{\r\n\t\t\tif ((resAppointment as InternalSchedulerAppointment).positioned)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t// Set dates based on timeslotInterval\r\n\t\t\tlet resAppointmentStart = new Date(resAppointment.start);\r\n\t\t\tthis.adaptDateToTimeslotDuration(resAppointmentStart, SchedulerDateTypeEnum.Start);\r\n\r\n\t\t\tlet resAppointmentEnd = new Date(resAppointment.end);\r\n\t\t\tthis.adaptDateToTimeslotDuration(resAppointmentEnd, SchedulerDateTypeEnum.End);\r\n\r\n\t\t\t// If overlap\r\n\t\t\tif (/*start.getDate() == resAppointmentStart.getDate() && end.getDate() == resAppointmentEnd.getDate()\r\n\t\t\t\t&&*/ start < resAppointmentEnd && end > resAppointmentStart)\r\n\t\t\t{\r\n\t\t\t\tlet overlappedList = this.findOverlappedAppointments(resAppointment, resourceAppointments);\r\n\t\t\t\tfor (let overlappedApt of overlappedList)\r\n\t\t\t\t\tappointmentsOverlapped.push(overlappedApt);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn appointmentsOverlapped;\r\n\t}\r\n\r\n\tprivate adaptDateToTimeslotDuration(date: Date, dateType: SchedulerDateTypeEnum)\r\n\t{\r\n\t\tlet minutes = date.getMinutes();\r\n\t\tlet timeslotInterval = this.timeslotInterval();\r\n\r\n\t\tif (dateType == SchedulerDateTypeEnum.Start)\r\n\t\t{\r\n\t\t\tif (minutes % timeslotInterval > 0)\r\n\t\t\t\tdate.setMinutes(minutes - (minutes % timeslotInterval));\r\n\t\t}\r\n\t\telse if (dateType == SchedulerDateTypeEnum.End)\r\n\t\t{\r\n\t\t\tif (minutes % timeslotInterval > 0)\r\n\t\t\t\tdate.setMinutes(minutes + (timeslotInterval - (minutes % timeslotInterval)));\r\n\t\t}\r\n\t\treturn date;\r\n\t}\r\n\r\n\tprivate getAppointmentSlots(appointment: SchedulerData): SchedulerSlotElement[]\r\n\t{\r\n\t\tlet start = new Date(appointment.start);\r\n\t\tlet end = new Date(appointment.end);\r\n\t\treturn this._slotElementList.filter(k => (appointment.resourceId == k.resourceId || appointment.resourceId == null) && k.start.getDate() == start.getDate() && Date.vrArePeriodsOverlapped(k.start, k.end, start, end));\r\n\t}\r\n\r\n\texportPdf(fileName = \"Calendario.pdf\", onlyVisible = false, autoPrint = false, loader = true)\r\n\t{\r\n\t\tif (loader)\r\n\t\t\tshowLoader();\r\n\r\n\t\tif (!onlyVisible)\r\n\t\t\tpuma(this.container()).find(\".vrSchedulerDivContent\")[0].style.cssText += \"height: unset;\";\r\n\r\n\t\twindow.setTimeout(() =>\r\n\t\t{\r\n\t\t\thtml2canvas(this.container()).then((canvas: any) =>\r\n\t\t\t{\r\n\t\t\t\t//#region Height and Width\r\n\t\t\t\tlet elementWidth = $(this.container()).width();\r\n\t\t\t\tlet elementHeight = $(this.container()).height();\r\n\t\t\t\tlet topLeftMargin = 0;\r\n\t\t\t\tlet pdfWidth = elementWidth! + (topLeftMargin * 2);\r\n\t\t\t\tlet pdfHeight = (pdfWidth * 1) + (topLeftMargin * 2);\r\n\t\t\t\tlet totalPDFPages = Math.ceil(elementHeight! / pdfHeight) - 1;\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tlet pdf = new jsPDF({\r\n\t\t\t\t\torientation: \"landscape\",\r\n\t\t\t\t\tunit: \"pt\",\r\n\t\t\t\t\tformat: [pdfWidth, pdfHeight]\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar imgData = canvas.toDataURL(\"image/png\", 1.0);\r\n\t\t\t\tpdf.addImage(imgData, \"png\", topLeftMargin, topLeftMargin, elementWidth, elementHeight);\r\n\r\n\t\t\t\tfor (let i = 1; i <= totalPDFPages; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tpdf.addPage([pdfWidth, pdfHeight], \"landscape\");\r\n\t\t\t\t\tpdf.addImage(imgData, \"png\", topLeftMargin, -(pdfHeight * i) + (topLeftMargin * 4), elementWidth, elementHeight);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (autoPrint)\r\n\t\t\t\t\tpdf.autoPrint();\r\n\r\n\t\t\t\tpdf.save(fileName);\r\n\r\n\t\t\t\tif (loader)\r\n\t\t\t\t\thideLoader();\r\n\t\t\t});\r\n\t\t}, 100);\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<SchedulerOptions>();\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass SchedulerEvent extends VrControlsEvent\r\n{\r\n\tsender: Scheduler;\r\n}\r\n\r\nclass SchedulerNavigateEvent extends SchedulerEvent\r\n{\r\n\taction?: SchedulerNavigateActionEnum;\r\n\tdate?: Date;\r\n\tview?: SchedulerViewEnum;\r\n\tpreviousDate: Date | null;\r\n}\r\n\r\nclass SchedulerViewChangeEvent extends SchedulerEvent\r\n{\r\n\tpreviousView: SchedulerViewEnum;\r\n\tview: SchedulerViewEnum;\r\n}\r\n\r\nclass SchedulerIntervalChangeEvent extends SchedulerEvent\r\n{\r\n\tvalue?: number;\r\n\tview?: SchedulerViewEnum;\r\n\tpreviousValue: number | undefined;\r\n}\r\n\r\nclass SchedulerResourcesChangeEvent extends SchedulerEvent\r\n{\r\n\tresources: SchedulerResource[];\r\n\tview?: SchedulerViewEnum;\r\n}\r\n\r\nenum SchedulerDateTypeEnum\r\n{\r\n\tStart = 0,\r\n\tEnd = 1\r\n}\r\n\r\n//#region Click events\r\nclass SchedulerClickEvent extends SchedulerEvent\r\n{\r\n\tstart: Date;\r\n\tend: Date;\r\n\tresourceId: string;\r\n\telement: HTMLElement;\r\n\tslotElement: SchedulerSlotElement;\r\n}\r\n\r\nexport class SchedulerTimeslotClickEvent extends SchedulerClickEvent\r\n{\r\n}\r\n\r\nexport class SchedulerAppointmentClickEvent extends SchedulerClickEvent\r\n{\r\n\tdataItem: SchedulerData;\r\n}\r\n\r\nexport class SchedulerAvailabilityClickEvent extends SchedulerClickEvent\r\n{\r\n\tdataItem: SchedulerData;\r\n}\r\n//#endregion\r\n\r\n//#region Move events\r\nclass SchedulerMoveEvent extends SchedulerEvent\r\n{\r\n\tstart: Date;\r\n\tend: Date;\r\n\tresourceId: string;\r\n\tdivElement: HTMLDivElement;\r\n\tdataItem: SchedulerData;\r\n}\r\n\r\nclass SchedulerMoveStartEvent extends SchedulerMoveEvent\r\n{\r\n}\r\n\r\nclass SchedulerMovingEvent extends SchedulerMoveEvent\r\n{\r\n\r\n}\r\n\r\nclass SchedulerMoveEndEvent extends SchedulerMoveEvent\r\n{\r\n}\r\n//#endregion\r\n\r\n//#region Resize events\r\nclass SchedulerResizeEvent extends SchedulerEvent\r\n{\r\n\tstart: Date;\r\n\tend: Date;\r\n\tresourceId: string;\r\n\tdivElement: HTMLDivElement;\r\n\tdataItem: SchedulerData;\r\n}\r\n\r\nclass SchedulerResizeStartEvent extends SchedulerResizeEvent\r\n{\r\n}\r\n\r\nclass SchedulerResizingEvent extends SchedulerResizeEvent\r\n{\r\n\r\n}\r\n\r\nclass SchedulerResizeEndEvent extends SchedulerResizeEvent\r\n{\r\n}\r\n//#endregion\r\n\r\nclass SchedulerMaxResourceNumber\r\n{\r\n\tdayView?: number;\r\n\tweekView?: number;\r\n\tfourWeeksView?: number;\r\n}\r\n\r\nclass InternalSchedulerAppointment\r\n{\r\n\tslotsOccupied?: SchedulerSlotElement[];\r\n\tpositioned?: boolean;\r\n\toverlappedList?: SchedulerData[];\r\n}\r\n\r\nclass SchedulerExpandCollapseEvent extends SchedulerEvent\r\n{\r\n\tbuttonExpand: Button;\r\n\tbuttonCollpase: Button;\r\n}\r\n\r\nclass SchedulerExpandEvent extends SchedulerExpandCollapseEvent\r\n{\r\n}\r\n\r\nclass SchedulerCollapseEvent extends SchedulerExpandCollapseEvent\r\n{\r\n}\r\n\r\nclass SchedulerEditable\r\n{\r\n\tmove?: boolean;\r\n\tresize?: boolean;\r\n\t//delete?: boolean;\r\n}\r\n//#endregion","import { Ecc, QrCodeManager } from \"../../../src/managers/qrCodeManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { BorderStyleEnum, ControlTypeEnum, puma } from \"../vr\";\r\n\r\n//#region Options\r\nexport class QrCodeOptions extends VrControlOptions\r\n{\r\n\tvalue?: string | number;\r\n\tcolor?: string;\r\n\tborder?: boolean | QrCodeBorderSettings;\r\n\twrap?: boolean;\r\n\r\n\tonClick?: (e: QrCodeClickEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class QrCode extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _value: string | number;\r\n\tprivate _svg: SVGElement;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: QrCodeOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new QrCodeOptions();\r\n\r\n\t\tif (options.width == null) options.width = 200;\r\n\t\tif (options.color == null) options.color = \"#000000\";\r\n\t\tif (options.wrap == null) options.wrap = true;\r\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\r\n\r\n\t\tif (options.border == null) options.border = false;\r\n\t\tif (options.border === true) options.border = new QrCodeBorderSettings();\r\n\t\tif (options.border !== false)\r\n\t\t{\r\n\t\t\tif (options.border.color == null) options.border.color = options.color;\r\n\t\t\tif (options.border.size == null) options.border.size = 1;\r\n\t\t\tif (options.border.style == null) options.border.style = BorderStyleEnum.Solid;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.QrCode);\r\n\r\n\t\tif (options.value != null)\r\n\t\t\tthis.value(options.value);\r\n\r\n\t\t//#region Events\r\n\t\tif (options.onClick != null)\r\n\t\t{\r\n\t\t\tthis.element().style.cssText += \"cursor: pointer;\";\r\n\t\t\tpuma(this.element()).on(\"click\", (e: JQuery.ClickEvent) => \r\n\t\t\t{\r\n\t\t\t\tlet clickEvent = new QrCodeClickEvent();\r\n\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\tclickEvent.value = this.value();\r\n\t\t\t\toptions!.onClick!(clickEvent);\r\n\t\t\t})\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\tvalue(value?: string | number)\r\n\t{\r\n\t\tif (value != null) \r\n\t\t{\r\n\t\t\tif (value === \"\")\r\n\t\t\t{\r\n\t\t\t\tthis.clear();\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tpuma(this.element()).empty();\r\n\r\n\t\t\tlet qr0: QrCodeManager = QrCodeManager.encodeText(String(value), Ecc.MEDIUM);\r\n\t\t\tlet svg = qr0.toSvgString(4, options.color!);\r\n\t\t\tpuma(this.element()).vrAppendPuma(svg);\r\n\r\n\t\t\tthis._svg = puma(this.element()).find(\"svg\")[0];\r\n\r\n\t\t\tif (!options.wrap)\r\n\t\t\t\tpuma(this._svg).find(\"rect\")[0].style.cssText += \"fill: transparent;\";\r\n\r\n\t\t\tif (options.border !== false)\r\n\t\t\t{\r\n\t\t\t\tlet border = options.border as QrCodeBorderSettings;\r\n\t\t\t\tthis._svg.style.cssText += \"border-style: \" + border.style + \"; border-width: \" + border.size + \"px; border-color: \" + border.color + \";\";\r\n\t\t\t}\r\n\r\n\t\t\tthis._value = value;\r\n\t\t\tthis.tooltip(String(value));\r\n\t\t}\r\n\t\treturn String(this._value);\r\n\t}\r\n\r\n\tsvg()\r\n\t{\r\n\t\treturn this._svg;\r\n\t}\r\n\r\n\tclear()\r\n\t{\r\n\t\tpuma(this.element()).empty();\r\n\t\tthis._value = \"\";\r\n\t\tthis.tooltip(\"\");\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<QrCodeOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass QrCodeBorderSettings\r\n{\r\n\tsize?: number;\r\n\tcolor?: string;\r\n\tstyle?: string | BorderStyleEnum;\r\n}\r\n\r\nclass QrCodeClickEvent extends VrControlsEvent\r\n{\r\n\tsender: QrCode;\r\n\tvalue: string;\r\n}\r\n//#endregion","type bit = number;\r\ntype byte = number;\r\ntype int = number;\r\n\r\nexport class QrCodeManager\r\n{\r\n\t// Returns a QR Code representing the given Unicode text string at the given error correction level.\r\n\tpublic static encodeText(text: string, ecl: Ecc): QrCodeManager\r\n\t{\r\n\t\tconst segs: Array<QrSegment> = QrSegment.makeSegments(text);\r\n\t\treturn QrCodeManager.encodeSegments(segs, ecl);\r\n\t}\r\n\r\n\t// Returns a QR Code representing the given binary data at the given error correction level.\r\n\tpublic static encodeBinary(data: Array<byte>, ecl: Ecc): QrCodeManager\r\n\t{\r\n\t\tconst seg: QrSegment = QrSegment.makeBytes(data);\r\n\t\treturn QrCodeManager.encodeSegments([seg], ecl);\r\n\t}\r\n\r\n\t// Returns a QR Code representing the given segments with the given encoding parameters.\r\n\tpublic static encodeSegments(segs: Array<QrSegment>, ecl: Ecc,\r\n\t\tminVersion: int = 1, maxVersion: int = 40,\r\n\t\tmask: int = -1, boostEcl: boolean = true): QrCodeManager\r\n\t{\r\n\t\tif (!(QrCodeManager.MIN_VERSION <= minVersion && minVersion <= maxVersion && maxVersion <= QrCodeManager.MAX_VERSION)\r\n\t\t\t|| mask < -1 || mask > 7)\r\n\t\t\tthrow \"Invalid value\";\r\n\r\n\t\t// Find the minimal version number to use\r\n\t\tlet version: int;\r\n\t\tlet dataUsedBits: int;\r\n\t\tfor (version = minVersion; ; version++)\r\n\t\t{\r\n\t\t\tconst dataCapacityBits: int = QrCodeManager.getNumDataCodewords(version, ecl) * 8;  // Number of data bits available\r\n\t\t\tconst usedBits: number = QrSegment.getTotalBits(segs, version);\r\n\t\t\tif (usedBits <= dataCapacityBits)\r\n\t\t\t{\r\n\t\t\t\tdataUsedBits = usedBits;\r\n\t\t\t\tbreak;  // This version number is found to be suitable\r\n\t\t\t}\r\n\t\t\tif (version >= maxVersion)  // All versions in the range could not fit the given data\r\n\t\t\t\tthrow \"Data too long\";\r\n\t\t}\r\n\r\n\t\t// Increase the error correction level while the data still fits in the current version number\r\n\t\tfor (const newEcl of [Ecc.MEDIUM, Ecc.QUARTILE, Ecc.HIGH])\r\n\t\t{  // From low to high\r\n\t\t\tif (boostEcl && dataUsedBits <= QrCodeManager.getNumDataCodewords(version, newEcl) * 8)\r\n\t\t\t\tecl = newEcl;\r\n\t\t}\r\n\r\n\t\t// Concatenate all segments to create the data bit string\r\n\t\tlet bb: Array<bit> = []\r\n\t\tfor (const seg of segs)\r\n\t\t{\r\n\t\t\tappendBits(seg.mode.modeBits, 4, bb);\r\n\t\t\tappendBits(seg.numChars, seg.mode.numCharCountBits(version), bb);\r\n\t\t\tfor (const b of seg.getData())\r\n\t\t\t\tbb.push(b);\r\n\t\t}\r\n\t\tif (bb.length != dataUsedBits)\r\n\t\t\tthrow \"Assertion error\";\r\n\r\n\t\t// Add terminator and pad up to a byte if applicable\r\n\t\tconst dataCapacityBits: int = QrCodeManager.getNumDataCodewords(version, ecl) * 8;\r\n\t\tif (bb.length > dataCapacityBits)\r\n\t\t\tthrow \"Assertion error\";\r\n\t\tappendBits(0, Math.min(4, dataCapacityBits - bb.length), bb);\r\n\t\tappendBits(0, (8 - bb.length % 8) % 8, bb);\r\n\t\tif (bb.length % 8 != 0)\r\n\t\t\tthrow \"Assertion error\";\r\n\r\n\t\t// Pad with alternating bytes until data capacity is reached\r\n\t\tfor (let padByte = 0xEC; bb.length < dataCapacityBits; padByte ^= 0xEC ^ 0x11)\r\n\t\t\tappendBits(padByte, 8, bb);\r\n\r\n\t\t// Pack bits into bytes in big endian\r\n\t\tlet dataCodewords: Array<byte> = [];\r\n\t\twhile (dataCodewords.length * 8 < bb.length)\r\n\t\t\tdataCodewords.push(0);\r\n\t\tbb.forEach((b: bit, i: int) =>\r\n\t\t\tdataCodewords[i >>> 3] |= b << (7 - (i & 7)));\r\n\r\n\t\t// Create the QR Code object\r\n\t\treturn new QrCodeManager(version, ecl, dataCodewords, mask);\r\n\t}\r\n\r\n\t// The width and height of this QR Code, measured in modules, between\r\n\t// 21 and 177 (inclusive). This is equal to version * 4 + 17.\r\n\tpublic readonly size: int;\r\n\r\n\t// The modules of this QR Code (false = white, true = black).\r\n\t// Immutable after constructor finishes. Accessed through getModule().\r\n\tprivate readonly modules: Array<Array<boolean>> = [];\r\n\r\n\t// Indicates function modules that are not subjected to masking. Discarded when constructor finishes.\r\n\tprivate readonly isFunction: Array<Array<boolean>> = [];\r\n\r\n\r\n\t/*-- Constructor (low level) and fields --*/\r\n\r\n\t// Creates a new QR Code with the given version number,\r\n\t// error correction level, data codeword bytes, and mask number.\r\n\t// This is a low-level API that most users should not use directly.\r\n\t// A mid-level API is the encodeSegments() function.\r\n\tpublic constructor(\r\n\t\t// The version number of this QR Code, which is between 1 and 40 (inclusive).\r\n\t\t// This determines the size of this barcode.\r\n\t\tpublic readonly version: int,\r\n\r\n\t\t// The error correction level used in this QR Code.\r\n\t\tpublic readonly errorCorrectionLevel: Ecc,\r\n\r\n\t\tdataCodewords: Array<byte>,\r\n\r\n\t\t// The index of the mask pattern used in this QR Code, which is between 0 and 7 (inclusive).\r\n\t\t// Even if a QR Code is created with automatic masking requested (mask = -1),\r\n\t\t// the resulting object still has a mask value between 0 and 7.\r\n\t\tpublic readonly mask: int)\r\n\t{\r\n\r\n\t\t// Check scalar arguments\r\n\t\tif (version < QrCodeManager.MIN_VERSION || version > QrCodeManager.MAX_VERSION)\r\n\t\t\tthrow \"Version value out of range\";\r\n\t\tif (mask < -1 || mask > 7)\r\n\t\t\tthrow \"Mask value out of range\";\r\n\t\tthis.size = version * 4 + 17;\r\n\r\n\t\t// Initialize both grids to be size*size arrays of Boolean false\r\n\t\tlet row: Array<boolean> = [];\r\n\t\tfor (let i = 0; i < this.size; i++)\r\n\t\t\trow.push(false);\r\n\t\tfor (let i = 0; i < this.size; i++)\r\n\t\t{\r\n\t\t\tthis.modules.push(row.slice());  // Initially all white\r\n\t\t\tthis.isFunction.push(row.slice());\r\n\t\t}\r\n\r\n\t\t// Compute ECC, draw modules\r\n\t\tthis.drawFunctionPatterns();\r\n\t\tconst allCodewords: Array<byte> = this.addEccAndInterleave(dataCodewords);\r\n\t\tthis.drawCodewords(allCodewords);\r\n\r\n\t\t// Do masking\r\n\t\tif (mask == -1)\r\n\t\t{  // Automatically choose best mask\r\n\t\t\tlet minPenalty: int = 1000000000;\r\n\t\t\tfor (let i = 0; i < 8; i++)\r\n\t\t\t{\r\n\t\t\t\tthis.applyMask(i);\r\n\t\t\t\tthis.drawFormatBits(i);\r\n\t\t\t\tconst penalty: int = this.getPenaltyScore();\r\n\t\t\t\tif (penalty < minPenalty)\r\n\t\t\t\t{\r\n\t\t\t\t\tmask = i;\r\n\t\t\t\t\tminPenalty = penalty;\r\n\t\t\t\t}\r\n\t\t\t\tthis.applyMask(i);  // Undoes the mask due to XOR\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (mask < 0 || mask > 7)\r\n\t\t\tthrow \"Assertion error\";\r\n\t\tthis.mask = mask;\r\n\t\tthis.applyMask(mask);  // Apply the final choice of mask\r\n\t\tthis.drawFormatBits(mask);  // Overwrite old format bits\r\n\r\n\t\tthis.isFunction = [];\r\n\t}\r\n\r\n\r\n\t/*-- Accessor methods --*/\r\n\r\n\t// Returns the color of the module (pixel) at the given coordinates, which is false\r\n\t// for white or true for black. The top left corner has the coordinates (x=0, y=0).\r\n\t// If the given coordinates are out of bounds, then false (white) is returned.\r\n\tpublic getModule(x: int, y: int): boolean\r\n\t{\r\n\t\treturn 0 <= x && x < this.size && 0 <= y && y < this.size && this.modules[y][x];\r\n\t}\r\n\r\n\r\n\t/*-- Public instance methods --*/\r\n\r\n\t// Draws this QR Code, with the given module scale and border modules, onto the given HTML\r\n\t// canvas element. The canvas's width and height is resized to (this.size + border * 2) * scale.\r\n\t// The drawn image is be purely black and white, and fully opaque.\r\n\t// The scale must be a positive integer and the border must be a non-negative integer.\r\n\tpublic drawCanvas(scale: int, border: int, canvas: HTMLCanvasElement): void\r\n\t{\r\n\t\tif (scale <= 0 || border < 0)\r\n\t\t\tthrow \"Value out of range\";\r\n\t\tconst width: int = (this.size + border * 2) * scale;\r\n\t\tcanvas.width = width;\r\n\t\tcanvas.height = width;\r\n\t\tlet ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n\t\tfor (let y = -border; y < this.size + border; y++)\r\n\t\t{\r\n\t\t\tfor (let x = -border; x < this.size + border; x++)\r\n\t\t\t{\r\n\t\t\t\tctx.fillStyle = this.getModule(x, y) ? \"#000000\" : \"#FFFFFF\";\r\n\t\t\t\tctx.fillRect((x + border) * scale, (y + border) * scale, scale, scale);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Returns a string of SVG code for an image depicting this QR Code, with the given number\r\n\t// of border modules. The string always uses Unix newlines (\\n), regardless of the platform.\r\n\tpublic toSvgString(border: int, color: string): string\r\n\t{\r\n\t\tif (border < 0)\r\n\t\t\tthrow \"Border must be non-negative\";\r\n\t\tlet parts: Array<string> = [];\r\n\t\tfor (let y = 0; y < this.size; y++)\r\n\t\t{\r\n\t\t\tfor (let x = 0; x < this.size; x++)\r\n\t\t\t{\r\n\t\t\t\tif (this.getModule(x, y))\r\n\t\t\t\t\tparts.push(`M${x + border},${y + border}h1v1h-1z`);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ${this.size + border * 2} ${this.size + border * 2}\" stroke=\"none\">\r\n\t<rect width=\"100%\" height=\"100%\" fill=\"#FFFFFF\"/>\r\n\t<path d=\"${parts.join(\" \")}\" fill=\"` + color + `\"/>\r\n</svg>\r\n`\r\n\t}\r\n\r\n\t// Reads this object's version field, and draws and marks all function modules.\r\n\tprivate drawFunctionPatterns(): void\r\n\t{\r\n\t\t// Draw horizontal and vertical timing patterns\r\n\t\tfor (let i = 0; i < this.size; i++)\r\n\t\t{\r\n\t\t\tthis.setFunctionModule(6, i, i % 2 == 0);\r\n\t\t\tthis.setFunctionModule(i, 6, i % 2 == 0);\r\n\t\t}\r\n\r\n\t\t// Draw 3 finder patterns (all corners except bottom right; overwrites some timing modules)\r\n\t\tthis.drawFinderPattern(3, 3);\r\n\t\tthis.drawFinderPattern(this.size - 4, 3);\r\n\t\tthis.drawFinderPattern(3, this.size - 4);\r\n\r\n\t\t// Draw numerous alignment patterns\r\n\t\tconst alignPatPos: Array<int> = this.getAlignmentPatternPositions();\r\n\t\tconst numAlign: int = alignPatPos.length;\r\n\t\tfor (let i = 0; i < numAlign; i++)\r\n\t\t{\r\n\t\t\tfor (let j = 0; j < numAlign; j++)\r\n\t\t\t{\r\n\t\t\t\t// Don't draw on the three finder corners\r\n\t\t\t\tif (!(i == 0 && j == 0 || i == 0 && j == numAlign - 1 || i == numAlign - 1 && j == 0))\r\n\t\t\t\t\tthis.drawAlignmentPattern(alignPatPos[i], alignPatPos[j]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Draw configuration data\r\n\t\tthis.drawFormatBits(0);  // Dummy mask value; overwritten later in the constructor\r\n\t\tthis.drawVersion();\r\n\t}\r\n\r\n\t// Draws two copies of the format bits (with its own error correction code)\r\n\t// based on the given mask and this object's error correction level field.\r\n\tprivate drawFormatBits(mask: int): void\r\n\t{\r\n\t\t// Calculate error correction code and pack bits\r\n\t\tconst data: int = this.errorCorrectionLevel.formatBits << 3 | mask;  // errCorrLvl is uint2, mask is uint3\r\n\t\tlet rem: int = data;\r\n\t\tfor (let i = 0; i < 10; i++)\r\n\t\t\trem = (rem << 1) ^ ((rem >>> 9) * 0x537);\r\n\t\tconst bits = (data << 10 | rem) ^ 0x5412;  // uint15\r\n\t\tif (bits >>> 15 != 0)\r\n\t\t\tthrow \"Assertion error\";\r\n\r\n\t\t// Draw first copy\r\n\t\tfor (let i = 0; i <= 5; i++)\r\n\t\t\tthis.setFunctionModule(8, i, getBit(bits, i));\r\n\t\tthis.setFunctionModule(8, 7, getBit(bits, 6));\r\n\t\tthis.setFunctionModule(8, 8, getBit(bits, 7));\r\n\t\tthis.setFunctionModule(7, 8, getBit(bits, 8));\r\n\t\tfor (let i = 9; i < 15; i++)\r\n\t\t\tthis.setFunctionModule(14 - i, 8, getBit(bits, i));\r\n\r\n\t\t// Draw second copy\r\n\t\tfor (let i = 0; i < 8; i++)\r\n\t\t\tthis.setFunctionModule(this.size - 1 - i, 8, getBit(bits, i));\r\n\t\tfor (let i = 8; i < 15; i++)\r\n\t\t\tthis.setFunctionModule(8, this.size - 15 + i, getBit(bits, i));\r\n\t\tthis.setFunctionModule(8, this.size - 8, true);  // Always black\r\n\t}\r\n\r\n\t// Draws two copies of the version bits (with its own error correction code),\r\n\t// based on this object's version field, iff 7 <= version <= 40.\r\n\tprivate drawVersion(): void\r\n\t{\r\n\t\tif (this.version < 7)\r\n\t\t\treturn;\r\n\r\n\t\t// Calculate error correction code and pack bits\r\n\t\tlet rem: int = this.version;  // version is uint6, in the range [7, 40]\r\n\t\tfor (let i = 0; i < 12; i++)\r\n\t\t\trem = (rem << 1) ^ ((rem >>> 11) * 0x1F25);\r\n\t\tconst bits: int = this.version << 12 | rem;  // uint18\r\n\t\tif (bits >>> 18 != 0)\r\n\t\t\tthrow \"Assertion error\";\r\n\r\n\t\t// Draw two copies\r\n\t\tfor (let i = 0; i < 18; i++)\r\n\t\t{\r\n\t\t\tconst color: boolean = getBit(bits, i);\r\n\t\t\tconst a: int = this.size - 11 + i % 3;\r\n\t\t\tconst b: int = Math.floor(i / 3);\r\n\t\t\tthis.setFunctionModule(a, b, color);\r\n\t\t\tthis.setFunctionModule(b, a, color);\r\n\t\t}\r\n\t}\r\n\r\n\t// Draws a 9*9 finder pattern including the border separator,\r\n\t// with the center module at (x, y). Modules can be out of bounds.\r\n\tprivate drawFinderPattern(x: int, y: int): void\r\n\t{\r\n\t\tfor (let dy = -4; dy <= 4; dy++)\r\n\t\t{\r\n\t\t\tfor (let dx = -4; dx <= 4; dx++)\r\n\t\t\t{\r\n\t\t\t\tconst dist: int = Math.max(Math.abs(dx), Math.abs(dy));  // Chebyshev/infinity norm\r\n\t\t\t\tconst xx: int = x + dx;\r\n\t\t\t\tconst yy: int = y + dy;\r\n\t\t\t\tif (0 <= xx && xx < this.size && 0 <= yy && yy < this.size)\r\n\t\t\t\t\tthis.setFunctionModule(xx, yy, dist != 2 && dist != 4);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Draws a 5*5 alignment pattern, with the center module\r\n\t// at (x, y). All modules must be in bounds.\r\n\tprivate drawAlignmentPattern(x: int, y: int): void\r\n\t{\r\n\t\tfor (let dy = -2; dy <= 2; dy++)\r\n\t\t{\r\n\t\t\tfor (let dx = -2; dx <= 2; dx++)\r\n\t\t\t\tthis.setFunctionModule(x + dx, y + dy, Math.max(Math.abs(dx), Math.abs(dy)) != 1);\r\n\t\t}\r\n\t}\r\n\r\n\t// Sets the color of a module and marks it as a function module.\r\n\t// Only used by the constructor. Coordinates must be in bounds.\r\n\tprivate setFunctionModule(x: int, y: int, isBlack: boolean): void\r\n\t{\r\n\t\tthis.modules[y][x] = isBlack;\r\n\t\tthis.isFunction[y][x] = true;\r\n\t}\r\n\r\n\t// Returns a new byte string representing the given data with the appropriate error correction\r\n\t// codewords appended to it, based on this object's version and error correction level.\r\n\tprivate addEccAndInterleave(data: Array<byte>): Array<byte>\r\n\t{\r\n\t\tconst ver: int = this.version;\r\n\t\tconst ecl: Ecc = this.errorCorrectionLevel;\r\n\t\tif (data.length != QrCodeManager.getNumDataCodewords(ver, ecl))\r\n\t\t\tthrow \"Invalid argument\";\r\n\r\n\t\t// Calculate parameter numbers\r\n\t\tconst numBlocks: int = QrCodeManager.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\r\n\t\tconst blockEccLen: int = QrCodeManager.ECC_CODEWORDS_PER_BLOCK[ecl.ordinal][ver];\r\n\t\tconst rawCodewords: int = Math.floor(QrCodeManager.getNumRawDataModules(ver) / 8);\r\n\t\tconst numShortBlocks: int = numBlocks - rawCodewords % numBlocks;\r\n\t\tconst shortBlockLen: int = Math.floor(rawCodewords / numBlocks);\r\n\r\n\t\t// Split data into blocks and append ECC to each block\r\n\t\tlet blocks: Array<Array<byte>> = [];\r\n\t\tconst rsDiv: Array<byte> = QrCodeManager.reedSolomonComputeDivisor(blockEccLen);\r\n\t\tfor (let i = 0, k = 0; i < numBlocks; i++)\r\n\t\t{\r\n\t\t\tlet dat: Array<byte> = data.slice(k, k + shortBlockLen - blockEccLen + (i < numShortBlocks ? 0 : 1));\r\n\t\t\tk += dat.length;\r\n\t\t\tconst ecc: Array<byte> = QrCodeManager.reedSolomonComputeRemainder(dat, rsDiv);\r\n\t\t\tif (i < numShortBlocks)\r\n\t\t\t\tdat.push(0);\r\n\t\t\tblocks.push(dat.concat(ecc));\r\n\t\t}\r\n\r\n\t\t// Interleave (not concatenate) the bytes from every block into a single sequence\r\n\t\tlet result: Array<byte> = [];\r\n\t\tfor (let i = 0; i < blocks[0].length; i++)\r\n\t\t{\r\n\t\t\tblocks.forEach((block, j) =>\r\n\t\t\t{\r\n\t\t\t\t// Skip the padding byte in short blocks\r\n\t\t\t\tif (i != shortBlockLen - blockEccLen || j >= numShortBlocks)\r\n\t\t\t\t\tresult.push(block[i]);\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (result.length != rawCodewords)\r\n\t\t\tthrow \"Assertion error\";\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Draws the given sequence of 8-bit codewords (data and error correction) onto the entire\r\n\t// data area of this QR Code. Function modules need to be marked off before this is called.\r\n\tprivate drawCodewords(data: Array<byte>): void\r\n\t{\r\n\t\tif (data.length != Math.floor(QrCodeManager.getNumRawDataModules(this.version) / 8))\r\n\t\t\tthrow \"Invalid argument\";\r\n\t\tlet i: int = 0;  // Bit index into the data\r\n\t\t// Do the funny zigzag scan\r\n\t\tfor (let right = this.size - 1; right >= 1; right -= 2)\r\n\t\t{  // Index of right column in each column pair\r\n\t\t\tif (right == 6)\r\n\t\t\t\tright = 5;\r\n\t\t\tfor (let vert = 0; vert < this.size; vert++)\r\n\t\t\t{  // Vertical counter\r\n\t\t\t\tfor (let j = 0; j < 2; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst x: int = right - j;  // Actual x coordinate\r\n\t\t\t\t\tconst upward: boolean = ((right + 1) & 2) == 0;\r\n\t\t\t\t\tconst y: int = upward ? this.size - 1 - vert : vert;  // Actual y coordinate\r\n\t\t\t\t\tif (!this.isFunction[y][x] && i < data.length * 8)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.modules[y][x] = getBit(data[i >>> 3], 7 - (i & 7));\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// If this QR Code has any remainder bits (0 to 7), they were assigned as\r\n\t\t\t\t\t// 0/false/white by the constructor and are left unchanged by this method\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (i != data.length * 8)\r\n\t\t\tthrow \"Assertion error\";\r\n\t}\r\n\r\n\t// XORs the codeword modules in this QR Code with the given mask pattern.\r\n\t// The function modules must be marked and the codeword bits must be drawn\r\n\t// before masking. Due to the arithmetic of XOR, calling applyMask() with\r\n\t// the same mask value a second time will undo the mask. A final well-formed\r\n\t// QR Code needs exactly one (not zero, two, etc.) mask applied.\r\n\tprivate applyMask(mask: int): void\r\n\t{\r\n\t\tif (mask < 0 || mask > 7)\r\n\t\t\tthrow \"Mask value out of range\";\r\n\t\tfor (let y = 0; y < this.size; y++)\r\n\t\t{\r\n\t\t\tfor (let x = 0; x < this.size; x++)\r\n\t\t\t{\r\n\t\t\t\tlet invert: boolean;\r\n\t\t\t\tswitch (mask)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 0: invert = (x + y) % 2 == 0; break;\r\n\t\t\t\t\tcase 1: invert = y % 2 == 0; break;\r\n\t\t\t\t\tcase 2: invert = x % 3 == 0; break;\r\n\t\t\t\t\tcase 3: invert = (x + y) % 3 == 0; break;\r\n\t\t\t\t\tcase 4: invert = (Math.floor(x / 3) + Math.floor(y / 2)) % 2 == 0; break;\r\n\t\t\t\t\tcase 5: invert = x * y % 2 + x * y % 3 == 0; break;\r\n\t\t\t\t\tcase 6: invert = (x * y % 2 + x * y % 3) % 2 == 0; break;\r\n\t\t\t\t\tcase 7: invert = ((x + y) % 2 + x * y % 3) % 2 == 0; break;\r\n\t\t\t\t\tdefault: throw \"Assertion error\";\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.isFunction[y][x] && invert)\r\n\t\t\t\t\tthis.modules[y][x] = !this.modules[y][x];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Calculates and returns the penalty score based on state of this QR Code's current modules.\r\n\t// This is used by the automatic mask choice algorithm to find the mask pattern that yields the lowest score.\r\n\tprivate getPenaltyScore(): int\r\n\t{\r\n\t\tlet result: int = 0;\r\n\r\n\t\t// Adjacent modules in row having same color, and finder-like patterns\r\n\t\tfor (let y = 0; y < this.size; y++)\r\n\t\t{\r\n\t\t\tlet runColor = false;\r\n\t\t\tlet runX = 0;\r\n\t\t\tlet runHistory = [0, 0, 0, 0, 0, 0, 0];\r\n\t\t\tfor (let x = 0; x < this.size; x++)\r\n\t\t\t{\r\n\t\t\t\tif (this.modules[y][x] == runColor)\r\n\t\t\t\t{\r\n\t\t\t\t\trunX++;\r\n\t\t\t\t\tif (runX == 5)\r\n\t\t\t\t\t\tresult += QrCodeManager.PENALTY_N1;\r\n\t\t\t\t\telse if (runX > 5)\r\n\t\t\t\t\t\tresult++;\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.finderPenaltyAddHistory(runX, runHistory);\r\n\t\t\t\t\tif (!runColor)\r\n\t\t\t\t\t\tresult += this.finderPenaltyCountPatterns(runHistory) * QrCodeManager.PENALTY_N3;\r\n\t\t\t\t\trunColor = this.modules[y][x];\r\n\t\t\t\t\trunX = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresult += this.finderPenaltyTerminateAndCount(runColor, runX, runHistory) * QrCodeManager.PENALTY_N3;\r\n\t\t}\r\n\t\t// Adjacent modules in column having same color, and finder-like patterns\r\n\t\tfor (let x = 0; x < this.size; x++)\r\n\t\t{\r\n\t\t\tlet runColor = false;\r\n\t\t\tlet runY = 0;\r\n\t\t\tlet runHistory = [0, 0, 0, 0, 0, 0, 0];\r\n\t\t\tfor (let y = 0; y < this.size; y++)\r\n\t\t\t{\r\n\t\t\t\tif (this.modules[y][x] == runColor)\r\n\t\t\t\t{\r\n\t\t\t\t\trunY++;\r\n\t\t\t\t\tif (runY == 5)\r\n\t\t\t\t\t\tresult += QrCodeManager.PENALTY_N1;\r\n\t\t\t\t\telse if (runY > 5)\r\n\t\t\t\t\t\tresult++;\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.finderPenaltyAddHistory(runY, runHistory);\r\n\t\t\t\t\tif (!runColor)\r\n\t\t\t\t\t\tresult += this.finderPenaltyCountPatterns(runHistory) * QrCodeManager.PENALTY_N3;\r\n\t\t\t\t\trunColor = this.modules[y][x];\r\n\t\t\t\t\trunY = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresult += this.finderPenaltyTerminateAndCount(runColor, runY, runHistory) * QrCodeManager.PENALTY_N3;\r\n\t\t}\r\n\r\n\t\t// 2*2 blocks of modules having same color\r\n\t\tfor (let y = 0; y < this.size - 1; y++)\r\n\t\t{\r\n\t\t\tfor (let x = 0; x < this.size - 1; x++)\r\n\t\t\t{\r\n\t\t\t\tconst color: boolean = this.modules[y][x];\r\n\t\t\t\tif (color == this.modules[y][x + 1] &&\r\n\t\t\t\t\tcolor == this.modules[y + 1][x] &&\r\n\t\t\t\t\tcolor == this.modules[y + 1][x + 1])\r\n\t\t\t\t\tresult += QrCodeManager.PENALTY_N2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Balance of black and white modules\r\n\t\tlet black: int = 0;\r\n\t\tfor (const row of this.modules)\r\n\t\t\tblack = row.reduce((sum, color) => sum + (color ? 1 : 0), black);\r\n\t\tconst total: int = this.size * this.size;  // Note that size is odd, so black/total != 1/2\r\n\t\t// Compute the smallest integer k >= 0 such that (45-5k)% <= black/total <= (55+5k)%\r\n\t\tconst k: int = Math.ceil(Math.abs(black * 20 - total * 10) / total) - 1;\r\n\t\tresult += k * QrCodeManager.PENALTY_N4;\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Returns an ascending list of positions of alignment patterns for this version number.\r\n\t// Each position is in the range [0,177), and are used on both the x and y axes.\r\n\t// This could be implemented as lookup table of 40 variable-length lists of integers.\r\n\tprivate getAlignmentPatternPositions(): Array<int>\r\n\t{\r\n\t\tif (this.version == 1)\r\n\t\t\treturn [];\r\n\t\telse\r\n\t\t{\r\n\t\t\tconst numAlign: int = Math.floor(this.version / 7) + 2;\r\n\t\t\tconst step: int = (this.version == 32) ? 26 :\r\n\t\t\t\tMath.ceil((this.size - 13) / (numAlign * 2 - 2)) * 2;\r\n\t\t\tlet result: Array<int> = [6];\r\n\t\t\tfor (let pos = this.size - 7; result.length < numAlign; pos -= step)\r\n\t\t\t\tresult.splice(1, 0, pos);\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\t// Returns the number of data bits that can be stored in a QR Code of the given version number, after\r\n\t// all function modules are excluded. This includes remainder bits, so it might not be a multiple of 8.\r\n\t// The result is in the range [208, 29648]. This could be implemented as a 40-entry lookup table.\r\n\tprivate static getNumRawDataModules(ver: int): int\r\n\t{\r\n\t\tif (ver < QrCodeManager.MIN_VERSION || ver > QrCodeManager.MAX_VERSION)\r\n\t\t\tthrow \"Version number out of range\";\r\n\t\tlet result: int = (16 * ver + 128) * ver + 64;\r\n\t\tif (ver >= 2)\r\n\t\t{\r\n\t\t\tconst numAlign: int = Math.floor(ver / 7) + 2;\r\n\t\t\tresult -= (25 * numAlign - 10) * numAlign - 55;\r\n\t\t\tif (ver >= 7)\r\n\t\t\t\tresult -= 36;\r\n\t\t}\r\n\t\tif (!(208 <= result && result <= 29648))\r\n\t\t\tthrow \"Assertion error\";\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Returns the number of 8-bit data (i.e. not error correction) codewords contained in any\r\n\t// QR Code of the given version number and error correction level, with remainder bits discarded.\r\n\t// This stateless pure function could be implemented as a (40*4)-cell lookup table.\r\n\tprivate static getNumDataCodewords(ver: int, ecl: Ecc): int\r\n\t{\r\n\t\treturn Math.floor(QrCodeManager.getNumRawDataModules(ver) / 8) -\r\n\t\t\tQrCodeManager.ECC_CODEWORDS_PER_BLOCK[ecl.ordinal][ver] *\r\n\t\t\tQrCodeManager.NUM_ERROR_CORRECTION_BLOCKS[ecl.ordinal][ver];\r\n\t}\r\n\r\n\t// Returns a Reed-Solomon ECC generator polynomial for the given degree. This could be\r\n\t// implemented as a lookup table over all possible parameter values, instead of as an algorithm.\r\n\tprivate static reedSolomonComputeDivisor(degree: int): Array<byte>\r\n\t{\r\n\t\tif (degree < 1 || degree > 255)\r\n\t\t\tthrow \"Degree out of range\";\r\n\t\t// Polynomial coefficients are stored from highest to lowest power, excluding the leading term which is always 1.\r\n\t\t// For example the polynomial x^3 + 255x^2 + 8x + 93 is stored as the uint8 array [255, 8, 93].\r\n\t\tlet result: Array<byte> = [];\r\n\t\tfor (let i = 0; i < degree - 1; i++)\r\n\t\t\tresult.push(0);\r\n\t\tresult.push(1);  // Start off with the monomial x^0\r\n\r\n\t\t// Compute the product polynomial (x - r^0) * (x - r^1) * (x - r^2) * ... * (x - r^{degree-1}),\r\n\t\t// and drop the highest monomial term which is always 1x^degree.\r\n\t\t// Note that r = 0x02, which is a generator element of this field GF(2^8/0x11D).\r\n\t\tlet root = 1;\r\n\t\tfor (let i = 0; i < degree; i++)\r\n\t\t{\r\n\t\t\t// Multiply the current product by (x - r^i)\r\n\t\t\tfor (let j = 0; j < result.length; j++)\r\n\t\t\t{\r\n\t\t\t\tresult[j] = QrCodeManager.reedSolomonMultiply(result[j], root);\r\n\t\t\t\tif (j + 1 < result.length)\r\n\t\t\t\t\tresult[j] ^= result[j + 1];\r\n\t\t\t}\r\n\t\t\troot = QrCodeManager.reedSolomonMultiply(root, 0x02);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Returns the Reed-Solomon error correction codeword for the given data and divisor polynomials.\r\n\tprivate static reedSolomonComputeRemainder(data: Array<byte>, divisor: Array<byte>): Array<byte>\r\n\t{\r\n\t\tlet result: Array<byte> = divisor.map(_ => 0);\r\n\t\tfor (const b of data)\r\n\t\t{  // Polynomial division\r\n\t\t\tconst factor: byte = b ^ (result.shift() as byte);\r\n\t\t\tresult.push(0);\r\n\t\t\tdivisor.forEach((coef, i) =>\r\n\t\t\t\tresult[i] ^= QrCodeManager.reedSolomonMultiply(coef, factor));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Returns the product of the two given field elements modulo GF(2^8/0x11D). The arguments and result\r\n\t// are unsigned 8-bit integers. This could be implemented as a lookup table of 256*256 entries of uint8.\r\n\tprivate static reedSolomonMultiply(x: byte, y: byte): byte\r\n\t{\r\n\t\tif (x >>> 8 != 0 || y >>> 8 != 0)\r\n\t\t\tthrow \"Byte out of range\";\r\n\t\t// Russian peasant multiplication\r\n\t\tlet z: int = 0;\r\n\t\tfor (let i = 7; i >= 0; i--)\r\n\t\t{\r\n\t\t\tz = (z << 1) ^ ((z >>> 7) * 0x11D);\r\n\t\t\tz ^= ((y >>> i) & 1) * x;\r\n\t\t}\r\n\t\tif (z >>> 8 != 0)\r\n\t\t\tthrow \"Assertion error\";\r\n\t\treturn z as byte;\r\n\t}\r\n\r\n\t// Can only be called immediately after a white run is added, and\r\n\t// returns either 0, 1, or 2. A helper function for getPenaltyScore().\r\n\tprivate finderPenaltyCountPatterns(runHistory: Array<int>): int\r\n\t{\r\n\t\tconst n: int = runHistory[1];\r\n\t\tif (n > this.size * 3)\r\n\t\t\tthrow \"Assertion error\";\r\n\t\tconst core: boolean = n > 0 && runHistory[2] == n && runHistory[3] == n * 3 && runHistory[4] == n && runHistory[5] == n;\r\n\t\treturn (core && runHistory[0] >= n * 4 && runHistory[6] >= n ? 1 : 0)\r\n\t\t\t+ (core && runHistory[6] >= n * 4 && runHistory[0] >= n ? 1 : 0);\r\n\t}\r\n\r\n\t// Must be called at the end of a line (row or column) of modules. A helper function for getPenaltyScore().\r\n\tprivate finderPenaltyTerminateAndCount(currentRunColor: boolean, currentRunLength: int, runHistory: Array<int>): int\r\n\t{\r\n\t\tif (currentRunColor)\r\n\t\t{  // Terminate black run\r\n\t\t\tthis.finderPenaltyAddHistory(currentRunLength, runHistory);\r\n\t\t\tcurrentRunLength = 0;\r\n\t\t}\r\n\t\tcurrentRunLength += this.size;  // Add white border to final run\r\n\t\tthis.finderPenaltyAddHistory(currentRunLength, runHistory);\r\n\t\treturn this.finderPenaltyCountPatterns(runHistory);\r\n\t}\r\n\r\n\t// Pushes the given value to the front and drops the last value. A helper function for getPenaltyScore().\r\n\tprivate finderPenaltyAddHistory(currentRunLength: int, runHistory: Array<int>): void\r\n\t{\r\n\t\tif (runHistory[0] == 0)\r\n\t\t\tcurrentRunLength += this.size;  // Add white border to initial run\r\n\t\trunHistory.pop();\r\n\t\trunHistory.unshift(currentRunLength);\r\n\t}\r\n\r\n\t// The minimum version number supported in the QR Code Model 2 standard.\r\n\tpublic static readonly MIN_VERSION: int = 1;\r\n\t// The maximum version number supported in the QR Code Model 2 standard.\r\n\tpublic static readonly MAX_VERSION: int = 40;\r\n\r\n\t// For use in getPenaltyScore(), when evaluating which mask is best.\r\n\tprivate static readonly PENALTY_N1: int = 3;\r\n\tprivate static readonly PENALTY_N2: int = 3;\r\n\tprivate static readonly PENALTY_N3: int = 40;\r\n\tprivate static readonly PENALTY_N4: int = 10;\r\n\r\n\tprivate static readonly ECC_CODEWORDS_PER_BLOCK: Array<Array<int>> = [\r\n\t\t// Version: (note that index 0 is for padding, and is set to an illegal value)\r\n\t\t//0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\r\n\t\t[-1, 7, 10, 15, 20, 26, 18, 20, 24, 30, 18, 20, 24, 26, 30, 22, 24, 28, 30, 28, 28, 28, 28, 30, 30, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],  // Low\r\n\t\t[-1, 10, 16, 26, 18, 24, 16, 18, 22, 22, 26, 30, 22, 22, 24, 24, 28, 28, 26, 26, 26, 26, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28],  // Medium\r\n\t\t[-1, 13, 22, 18, 26, 18, 24, 18, 22, 20, 24, 28, 26, 24, 20, 30, 24, 28, 28, 26, 30, 28, 30, 30, 30, 30, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],  // Quartile\r\n\t\t[-1, 17, 28, 22, 16, 22, 28, 26, 26, 24, 28, 24, 28, 22, 24, 24, 30, 28, 28, 26, 28, 30, 24, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],  // High\r\n\t];\r\n\r\n\tprivate static readonly NUM_ERROR_CORRECTION_BLOCKS: Array<Array<int>> = [\r\n\t\t// Version: (note that index 0 is for padding, and is set to an illegal value)\r\n\t\t//0, 1, 2, 3, 4, 5, 6, 7, 8, 9,10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40    Error correction level\r\n\t\t[-1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 4, 4, 4, 4, 4, 6, 6, 6, 6, 7, 8, 8, 9, 9, 10, 12, 12, 12, 13, 14, 15, 16, 17, 18, 19, 19, 20, 21, 22, 24, 25],  // Low\r\n\t\t[-1, 1, 1, 1, 2, 2, 4, 4, 4, 5, 5, 5, 8, 9, 9, 10, 10, 11, 13, 14, 16, 17, 17, 18, 20, 21, 23, 25, 26, 28, 29, 31, 33, 35, 37, 38, 40, 43, 45, 47, 49],  // Medium\r\n\t\t[-1, 1, 1, 2, 2, 4, 4, 6, 6, 8, 8, 8, 10, 12, 16, 12, 17, 16, 18, 21, 20, 23, 23, 25, 27, 29, 34, 34, 35, 38, 40, 43, 45, 48, 51, 53, 56, 59, 62, 65, 68],  // Quartile\r\n\t\t[-1, 1, 1, 2, 4, 4, 4, 5, 6, 8, 8, 11, 11, 16, 16, 18, 16, 19, 21, 25, 25, 25, 34, 30, 32, 35, 37, 40, 42, 45, 48, 51, 54, 57, 60, 63, 66, 70, 74, 77, 81],  // High\r\n\t];\r\n\r\n}\r\n\r\n// Appends the given number of low-order bits of the given value\r\n// to the given buffer. Requires 0 <= len <= 31 and 0 <= val < 2^len.\r\nfunction appendBits(val: int, len: int, bb: Array<bit>): void\r\n{\r\n\tif (len < 0 || len > 31 || val >>> len != 0)\r\n\t\tthrow \"Value out of range\";\r\n\tfor (let i = len - 1; i >= 0; i--)  // Append bit by bit\r\n\t\tbb.push((val >>> i) & 1);\r\n}\r\n\r\n\r\n// Returns true iff the i'th bit of x is set to 1.\r\nfunction getBit(x: int, i: int): boolean\r\n{\r\n\treturn ((x >>> i) & 1) != 0;\r\n}\r\n\r\n/*---- Data segment class ----*/\r\nexport class QrSegment\r\n{\r\n\t// Returns a segment representing the given binary data encoded in\r\n\t// byte mode. All input byte arrays are acceptable. Any text string\r\n\t// can be converted to UTF-8 bytes and encoded as a byte mode segment.\r\n\tpublic static makeBytes(data: Array<byte>): QrSegment\r\n\t{\r\n\t\tlet bb: Array<bit> = []\r\n\t\tfor (const b of data)\r\n\t\t\tappendBits(b, 8, bb);\r\n\t\treturn new QrSegment(Mode.BYTE, data.length, bb);\r\n\t}\r\n\r\n\t// Returns a segment representing the given string of decimal digits encoded in numeric mode.\r\n\tpublic static makeNumeric(digits: string): QrSegment\r\n\t{\r\n\t\tif (!this.NUMERIC_REGEX.test(digits))\r\n\t\t\tthrow \"String contains non-numeric characters\";\r\n\t\tlet bb: Array<bit> = []\r\n\t\tfor (let i = 0; i < digits.length;)\r\n\t\t{  // Consume up to 3 digits per iteration\r\n\t\t\tconst n: int = Math.min(digits.length - i, 3);\r\n\t\t\tappendBits(parseInt(digits.substr(i, n), 10), n * 3 + 1, bb);\r\n\t\t\ti += n;\r\n\t\t}\r\n\t\treturn new QrSegment(Mode.NUMERIC, digits.length, bb);\r\n\t}\r\n\r\n\t// Returns a segment representing the given text string encoded in alphanumeric mode.\r\n\t// The characters allowed are: 0 to 9, A to Z (uppercase only), space,\r\n\t// dollar, percent, asterisk, plus, hyphen, period, slash, colon.\r\n\tpublic static makeAlphanumeric(text: string): QrSegment\r\n\t{\r\n\t\tif (!this.ALPHANUMERIC_REGEX.test(text))\r\n\t\t\tthrow \"String contains unencodable characters in alphanumeric mode\";\r\n\t\tlet bb: Array<bit> = []\r\n\t\tlet i: int;\r\n\t\tfor (i = 0; i + 2 <= text.length; i += 2)\r\n\t\t{  // Process groups of 2\r\n\t\t\tlet temp: int = QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)) * 45;\r\n\t\t\ttemp += QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i + 1));\r\n\t\t\tappendBits(temp, 11, bb);\r\n\t\t}\r\n\t\tif (i < text.length)  // 1 character remaining\r\n\t\t\tappendBits(QrSegment.ALPHANUMERIC_CHARSET.indexOf(text.charAt(i)), 6, bb);\r\n\t\treturn new QrSegment(Mode.ALPHANUMERIC, text.length, bb);\r\n\t}\r\n\r\n\t// Returns a new mutable list of zero or more segments to represent the given Unicode text string.\r\n\t// The result may use various segment modes and switch modes to optimize the length of the bit stream.\r\n\tpublic static makeSegments(text: string): Array<QrSegment>\r\n\t{\r\n\t\t// Select the most efficient segment encoding automatically\r\n\t\tif (text == \"\")\r\n\t\t\treturn [];\r\n\t\telse if (this.NUMERIC_REGEX.test(text))\r\n\t\t\treturn [QrSegment.makeNumeric(text)];\r\n\t\telse if (this.ALPHANUMERIC_REGEX.test(text))\r\n\t\t\treturn [QrSegment.makeAlphanumeric(text)];\r\n\t\telse\r\n\t\t\treturn [QrSegment.makeBytes(QrSegment.toUtf8ByteArray(text))];\r\n\t}\r\n\r\n\t// Returns a segment representing an Extended Channel Interpretation\r\n\t// (ECI) designator with the given assignment value.\r\n\tpublic static makeEci(assignVal: int): QrSegment\r\n\t{\r\n\t\tlet bb: Array<bit> = []\r\n\t\tif (assignVal < 0)\r\n\t\t\tthrow \"ECI assignment value out of range\";\r\n\t\telse if (assignVal < (1 << 7))\r\n\t\t\tappendBits(assignVal, 8, bb);\r\n\t\telse if (assignVal < (1 << 14))\r\n\t\t{\r\n\t\t\tappendBits(2, 2, bb);\r\n\t\t\tappendBits(assignVal, 14, bb);\r\n\t\t} else if (assignVal < 1000000)\r\n\t\t{\r\n\t\t\tappendBits(6, 3, bb);\r\n\t\t\tappendBits(assignVal, 21, bb);\r\n\t\t} else\r\n\t\t\tthrow \"ECI assignment value out of range\";\r\n\t\treturn new QrSegment(Mode.ECI, 0, bb);\r\n\t}\r\n\r\n\t// Creates a new QR Code segment with the given attributes and data.\r\n\t// The character count (numChars) must agree with the mode and the bit buffer length,\r\n\t// but the constraint isn't checked. The given bit buffer is cloned and stored.\r\n\tpublic constructor(\r\n\t\t// The mode indicator of this segment.\r\n\t\tpublic readonly mode: Mode,\r\n\r\n\t\t// The length of this segment's unencoded data. Measured in characters for\r\n\t\t// numeric/alphanumeric/kanji mode, bytes for byte mode, and 0 for ECI mode.\r\n\t\t// Always zero or positive. Not the same as the data's bit length.\r\n\t\tpublic readonly numChars: int,\r\n\r\n\t\t// The data bits of this segment. Accessed through getData().\r\n\t\tprivate readonly bitData: Array<bit>)\r\n\t{\r\n\r\n\t\tif (numChars < 0)\r\n\t\t\tthrow \"Invalid argument\";\r\n\t\tthis.bitData = bitData.slice();  // Make defensive copy\r\n\t}\r\n\r\n\t/*-- Methods --*/\r\n\r\n\t// Returns a new copy of the data bits of this segment.\r\n\tpublic getData(): Array<bit>\r\n\t{\r\n\t\treturn this.bitData.slice();  // Make defensive copy\r\n\t}\r\n\r\n\t// (Package-private) Calculates and returns the number of bits needed to encode the given segments at\r\n\t// the given version. The result is infinity if a segment has too many characters to fit its length field.\r\n\tpublic static getTotalBits(segs: Array<QrSegment>, version: int): number\r\n\t{\r\n\t\tlet result: number = 0;\r\n\t\tfor (const seg of segs)\r\n\t\t{\r\n\t\t\tconst ccbits: int = seg.mode.numCharCountBits(version);\r\n\t\t\tif (seg.numChars >= (1 << ccbits))\r\n\t\t\t\treturn Infinity;  // The segment's length doesn't fit the field's bit width\r\n\t\t\tresult += 4 + ccbits + seg.bitData.length;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Returns a new array of bytes representing the given string encoded in UTF-8.\r\n\tprivate static toUtf8ByteArray(str: string): Array<byte>\r\n\t{\r\n\t\tstr = encodeURI(str);\r\n\t\tlet result: Array<byte> = [];\r\n\t\tfor (let i = 0; i < str.length; i++)\r\n\t\t{\r\n\t\t\tif (str.charAt(i) != \"%\")\r\n\t\t\t\tresult.push(str.charCodeAt(i));\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tresult.push(parseInt(str.substr(i + 1, 2), 16));\r\n\t\t\t\ti += 2;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/*-- Constants --*/\r\n\r\n\t// Describes precisely all strings that are encodable in numeric mode. To test\r\n\t// whether a string s is encodable: let ok: boolean = NUMERIC_REGEX.test(s);\r\n\t// A string is encodable iff each character is in the range 0 to 9.\r\n\tpublic static readonly NUMERIC_REGEX: RegExp = /^[0-9]*$/;\r\n\r\n\t// Describes precisely all strings that are encodable in alphanumeric mode. To test\r\n\t// whether a string s is encodable: let ok: boolean = ALPHANUMERIC_REGEX.test(s);\r\n\t// A string is encodable iff each character is in the following set: 0 to 9, A to Z\r\n\t// (uppercase only), space, dollar, percent, asterisk, plus, hyphen, period, slash, colon.\r\n\tpublic static readonly ALPHANUMERIC_REGEX: RegExp = /^[A-Z0-9 $%*+.\\/:-]*$/;\r\n\r\n\t// The set of all legal characters in alphanumeric mode,\r\n\t// where each character value maps to the index in the string.\r\n\tprivate static readonly ALPHANUMERIC_CHARSET: string = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\";\r\n}\r\n\r\nexport class Ecc\r\n{\r\n\tpublic static readonly LOW = new Ecc(0, 1);  // The QR Code can tolerate about  7% erroneous codewords\r\n\tpublic static readonly MEDIUM = new Ecc(1, 0);  // The QR Code can tolerate about 15% erroneous codewords\r\n\tpublic static readonly QUARTILE = new Ecc(2, 3);  // The QR Code can tolerate about 25% erroneous codewords\r\n\tpublic static readonly HIGH = new Ecc(3, 2);  // The QR Code can tolerate about 30% erroneous codewords\r\n\r\n\tprivate constructor(\r\n\t\t// In the range 0 to 3 (unsigned 2-bit integer).\r\n\t\tpublic readonly ordinal: int,\r\n\t\t// (Package-private) In the range 0 to 3 (unsigned 2-bit integer).\r\n\t\tpublic readonly formatBits: int) { }\r\n\r\n}\r\n\r\nexport class Mode\r\n{\r\n\tpublic static readonly NUMERIC = new Mode(0x1, [10, 12, 14]);\r\n\tpublic static readonly ALPHANUMERIC = new Mode(0x2, [9, 11, 13]);\r\n\tpublic static readonly BYTE = new Mode(0x4, [8, 16, 16]);\r\n\tpublic static readonly KANJI = new Mode(0x8, [8, 10, 12]);\r\n\tpublic static readonly ECI = new Mode(0x7, [0, 0, 0]);\r\n\r\n\tprivate constructor(\r\n\t\t// The mode indicator bits, which is a uint4 value (range 0 to 15).\r\n\t\tpublic readonly modeBits: int,\r\n\t\t// Number of character count bits for three different version ranges.\r\n\t\tprivate readonly numBitsCharCount: [int, int, int]) { }\r\n\r\n\t// (Package-private) Returns the bit width of the character count field for a segment in\r\n\t// this mode in a QR Code at the given version number. The result is in the range [0, 16].\r\n\tpublic numCharCountBits(ver: int): int\r\n\t{\r\n\t\treturn this.numBitsCharCount[Math.floor((ver + 7) / 17)];\r\n\t}\r\n}","import { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ComboBoxTypeEnum, ControlTypeEnum, createButton, createComboBox, createLabel, createScheduler, DateModeEnum, DayOfWeekEnum, div, GridLabelUnderlineMode, IconClassicLight, IconClass, puma, SchedulerData, SchedulerResource, SchedulerView, SchedulerViewEnum, TextAlignEnum, vrEditorCustomItem } from \"../vr\";\r\nimport { ComboBox } from \"./comboBox\";\r\nimport { Scheduler, SchedulerAppointmentClickEvent, SchedulerAvailabilityClickEvent, SchedulerTimeslotClickEvent } from \"./scheduler\";\r\n\r\n//#region Options\r\nexport class MultiSchedulerOptions extends VrControlOptions\r\n{\r\n\tresources?: SchedulerResource[];\r\n\tdatasource?: SchedulerData[];\r\n\tdates?: Date[];\r\n\tstartTime?: Date;\r\n\tendTime?: Date;\r\n\ttimeslotIntervalDuration?: number;\r\n\texportPdf?: boolean;\r\n\tshowNavigateButtons?: boolean;\r\n\tmaxDatesNumber?: number;\r\n\r\n\tonTimeslotClick?: (e: SchedulerTimeslotClickEvent) => void;\r\n\tonAvailabilityClick?: (e: SchedulerAvailabilityClickEvent) => void;\r\n\tonAppointmentClick?: (e: SchedulerAppointmentClickEvent) => void;\r\n\tonNavigate?: (e: MultiSchedulerNavigateEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class MultiScheduler extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _resources?: SchedulerResource[];\r\n\tprivate _datasource: any[];\r\n\tprivate _availabilities: SchedulerData[];\r\n\tprivate _dates: Date[];\r\n\tprivate _dictionaryDateScheduler: Map<Date, Scheduler>;\r\n\tprivate _cmbTimeslotIntervalDuration: ComboBox;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: MultiSchedulerOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new MultiSchedulerOptions();\r\n\r\n\t\tif (options.dates == null) options.dates = [];\r\n\t\tif (options.datasource == null) options.datasource = [];\r\n\t\tif (options.resources == null) options.resources = [];\r\n\t\tif (options.showNavigateButtons == null) options.showNavigateButtons = true;\r\n\t\tif (options.maxDatesNumber == null) options.maxDatesNumber = 6;\r\n\t\tif (options.timeslotIntervalDuration == null) options.timeslotIntervalDuration = 30;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.MultiScheduler);\r\n\t\tthis._resources = options.resources;\r\n\t\tthis._dates = options.dates;\r\n\t\tthis._dictionaryDateScheduler = new Map();\r\n\r\n\t\tthis.element().style.cssText += \"display: flex; flex-direction: column;\";\r\n\r\n\t\tif (options.dates != null)\r\n\t\t\tthis.dates(options.dates);\r\n\r\n\t\tif (options.datasource != null)\r\n\t\t\tthis.datasource(options.datasource);\r\n\t}\r\n\r\n\t//#region Methods\r\n\tdates(dates?: Date[])\r\n\t{\r\n\t\tif (dates != null && dates.length > 0)\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tthis._dictionaryDateScheduler.clear();\r\n\t\t\tpuma(this.element()).empty();\r\n\r\n\t\t\tdates = dates.slice(0, options.maxDatesNumber!);\r\n\r\n\t\t\t//#region Date\r\n\t\t\tlet divDates = div(this.element(), { class: \"vrMultiSchedulerDivDates\", css: \"display: flex; height: 22px;\" });\r\n\r\n\t\t\t//#region Navigation buttons\r\n\t\t\tif (options.showNavigateButtons)\r\n\t\t\t{\r\n\t\t\t\tcreateButton({\r\n\t\t\t\t\ticon: IconClassicLight.ChevronLeft,\r\n\t\t\t\t\tcssContainer: \"position: absolute; left: 10px; z-index: 9999999999999;\",\r\n\t\t\t\t\tcss: \"border: none; background: none;\",\r\n\t\t\t\t\tonClick: (e) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (options.onNavigate != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet navigateEvent = new MultiSchedulerNavigateEvent();\r\n\t\t\t\t\t\t\tnavigateEvent.sender = this;\r\n\t\t\t\t\t\t\tnavigateEvent.action = MultiSchedulerNavigateActionEnum.PrevDate;\r\n\t\t\t\t\t\t\tnavigateEvent.dates = this.dates();\r\n\t\t\t\t\t\t\toptions.onNavigate!(navigateEvent);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, divDates);\r\n\r\n\t\t\t\tcreateButton({\r\n\t\t\t\t\ticon: IconClassicLight.ChevronRight,\r\n\t\t\t\t\tcssContainer: \"position: absolute; right: 10px; z-index: 9999999999999;\",\r\n\t\t\t\t\tcss: \"border: none; background: none;\",\r\n\t\t\t\t\tonClick: (e) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (options.onNavigate != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet navigateEvent = new MultiSchedulerNavigateEvent();\r\n\t\t\t\t\t\t\tnavigateEvent.sender = this;\r\n\t\t\t\t\t\t\tnavigateEvent.action = MultiSchedulerNavigateActionEnum.NextDate;\r\n\t\t\t\t\t\t\tnavigateEvent.dates = this.dates();\r\n\t\t\t\t\t\t\toptions.onNavigate!(navigateEvent);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, divDates);\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tlet widthPercentage = 100 / dates.length;\r\n\t\t\tfor (let i = -1; i < dates.length; i++)\r\n\t\t\t{\r\n\t\t\t\tlet lblDate = createLabel({\r\n\t\t\t\t\talign: TextAlignEnum.Center,\r\n\t\t\t\t\tclass: \"vrMultiSchedulerLblDate\",\r\n\t\t\t\t\tcss: \"width: 100%;\",\r\n\t\t\t\t\tcssContainer: ((i == -1) ? \"width: 63px; border-right: solid 1px #CCC; padding-left: 0px; padding-right: 0px;\" : \"border-right: solid 1px #CCC; width: \" + widthPercentage + \"%; padding-left: 5px; padding-right: 5px;\") + \"text-align: left; background-color: #f0f0f0; border-bottom: solid 1px #CCC; border-top: solid 1px #CCC;\"\r\n\t\t\t\t}, divDates);\r\n\r\n\t\t\t\tif (i == -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet divTimeslotIntervalDuration = puma(\"<div>\").vrPrependToPuma(lblDate.container())[0];\r\n\t\t\t\t\tdivTimeslotIntervalDuration.classList.add(\"vrMultiSchedulerTimeslotIntervalDuration\");\r\n\r\n\t\t\t\t\tthis._cmbTimeslotIntervalDuration = createComboBox({\r\n\t\t\t\t\t\tmode: ComboBoxTypeEnum.DropDown,\r\n\t\t\t\t\t\tvalue: options.timeslotIntervalDuration,\r\n\t\t\t\t\t\tcssContainer: \"width: 100%; top: 0px; left: 0px; height: 21px; border-right: solid 1px #CCC;\",\r\n\t\t\t\t\t\tcss: \"width: Calc(100% - 6px); border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding-left: 6px; padding-right: 0px; text-align: left; height: 20px; border-top-right-radius: 0px; border-top-left-radius: 0px; background-color: #f0f0f0;border-top: 0px; border-bottom: 0px; top: 0px; position: absolute; border-right: solid 1px #CCC;\",\r\n\t\t\t\t\t\tpopupSettings: { width: 50 },\r\n\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t{ text: \"5 min\", value: \"5\" },\r\n\t\t\t\t\t\t\t{ text: \"10 min\", value: \"10\" },\r\n\t\t\t\t\t\t\t{ text: \"15 min\", value: \"15\" },\r\n\t\t\t\t\t\t\t{ text: \"25 min\", value: \"25\" },\r\n\t\t\t\t\t\t\t{ text: \"30 min\", value: \"30\" },\r\n\t\t\t\t\t\t\t{ text: \"60 min\", value: \"60\" }\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tonAfterChange: (e) => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.timeslotInterval(e.value);\r\n\t\t\t\t\t\t\tthis.rebind();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, divTimeslotIntervalDuration);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tlet day = dates[i];\r\n\t\t\t\t\tlet dateOptions: any = {\r\n\t\t\t\t\t\tweekday: 'long',\r\n\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\tday: '2-digit',\r\n\t\t\t\t\t\thour12: false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet dateFormatter = new Intl.DateTimeFormat(/*navigator.language*/\"it\", dateOptions);\r\n\t\t\t\t\tlet dateString = dateFormatter.format(day);\r\n\t\t\t\t\tlblDate.value(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdiv(divDates, { class: \"vrMultiSchedulerDivBorderOverflow\", css: \"min-width: 17px; background-color: #f0f0f0; border-bottom: solid 1px #CCC;\" });\r\n\t\t\t//#endregion\r\n\r\n\t\t\tlet divSchedulers = div(this.element(), { class: \"vrMultiSchedulerDivSchedulers\", css: \"display: flex; overflow-y: auto;\" });\r\n\t\t\tfor (let i = -1; i < dates.length; i++)\r\n\t\t\t{\r\n\t\t\t\tlet date = (i == -1) ? new Date() : dates[i];\r\n\r\n\t\t\t\t//#region Scheduler\r\n\t\t\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t\t\tlet scheduler = createScheduler({\r\n\t\t\t\t\taddToControlList: false,\r\n\t\t\t\t\tresources: this._resources,\r\n\t\t\t\t\tviews: [{ type: SchedulerViewEnum.Day, selected: true }],\r\n\t\t\t\t\tdate: date,\r\n\t\t\t\t\tcssContainer: \"width: \" + ((i == -1) ? \"63px;\" : widthPercentage + \"%;\"),\r\n\t\t\t\t\tstartTime: options.startTime,\r\n\t\t\t\t\tendTime: options.endTime,\r\n\t\t\t\t\ttimeColumn: (i == -1),\r\n\t\t\t\t\ttimeslotIntervalDuration: options.timeslotIntervalDuration,\r\n\t\t\t\t\theight: \"auto\",\r\n\t\t\t\t\texportPdf: options.exportPdf,\r\n\t\t\t\t\tshowHeader: (this._resources!.length > 1),\r\n\t\t\t\t\tshowToolbar: false,\r\n\t\t\t\t\teditable: {\r\n\t\t\t\t\t\tmove: false,\r\n\t\t\t\t\t\tresize: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonTimeslotClick: options.onTimeslotClick,\r\n\t\t\t\t\tonAvailabilityClick: options.onAvailabilityClick,\r\n\t\t\t\t\tonAppointmentClick: options.onAppointmentClick\r\n\t\t\t\t}, divSchedulers);\r\n\t\t\t\tpuma(scheduler.container()).find(\".vrSchedulerDivContent\")[0].style.cssText += \"overflow-y: hidden !important;\";\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tif (!this._dictionaryDateScheduler.has(date))\r\n\t\t\t\t\tthis._dictionaryDateScheduler.set(date, scheduler);\r\n\t\t\t}\r\n\r\n\t\t\tthis.adaptHeight();\r\n\t\t\tthis.fixWidth();\r\n\r\n\t\t\tthis._dates = dates;\r\n\t\t}\r\n\t\treturn this._dates;\r\n\t}\r\n\r\n\tdatasource<T extends SchedulerData>(datasource?: T[]): T[]\r\n\t{\r\n\t\tif (datasource != null)\r\n\t\t{\r\n\t\t\tthis._datasource = datasource;\r\n\t\t\tthis.drawData(datasource, (scheduler, items) =>\r\n\t\t\t{\r\n\t\t\t\tscheduler.datasource(items);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this._datasource;\r\n\t}\r\n\r\n\tavailabilities<T extends SchedulerData>(availabilities?: T[]): T[]\r\n\t{\r\n\t\tif (availabilities != null)\r\n\t\t{\r\n\t\t\tthis._availabilities = availabilities;\r\n\t\t\tthis.drawData(availabilities, (scheduler, items) =>\r\n\t\t\t{\r\n\t\t\t\tscheduler.availabilities(items);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this._availabilities as T[];\r\n\t}\r\n\r\n\tprivate drawData(datasource: any[], callback: (scheduler: Scheduler, items: any[]) => void)\r\n\t{\r\n\t\t//#region Get date without hours\r\n\t\tlet newDatasource = [];\r\n\t\tfor (let data of datasource)\r\n\t\t{\r\n\t\t\tlet overlappedList: any = null;\r\n\t\t\tif (data.overlappedList != null)\r\n\t\t\t{\r\n\t\t\t\toverlappedList = data.overlappedList;\r\n\t\t\t\tdata.overlappedList = undefined;\r\n\t\t\t}\r\n\r\n\t\t\tlet newData = UtilityManager.duplicate(data);\r\n\t\t\tlet newDataDate = new Date(newData.start);\r\n\t\t\tnewDataDate.setHours(0, 0, 0, 0);\r\n\t\t\tnewData.groupingField = newDataDate;\r\n\t\t\tnewData.overlappedList = overlappedList;\r\n\t\t\tnewDatasource.push(newData);\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t// Group by date\r\n\t\tlet datasourceGrouped = newDatasource.vrGroupBy(k => k.groupingField);\r\n\t\tfor (let keyDate in datasourceGrouped)\r\n\t\t{\r\n\t\t\tlet schedulerDataList = datasourceGrouped[keyDate];\r\n\t\t\tlet date = new Date(keyDate);\r\n\t\t\tdate.setHours(0, 0, 0, 0);\r\n\r\n\t\t\tthis._dictionaryDateScheduler.forEach((value, key) =>\r\n\t\t\t{\r\n\t\t\t\tif (Date.vrEquals(date, key))\r\n\t\t\t\t{\r\n\t\t\t\t\t// Draw data\r\n\t\t\t\t\tlet scheduler = this._dictionaryDateScheduler.get(key);\r\n\t\t\t\t\tif (scheduler != null)\r\n\t\t\t\t\t\tcallback(scheduler, schedulerDataList);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tresources(resources?: SchedulerResource[])\r\n\t{\r\n\t\tif (resources != null)\r\n\t\t{\r\n\t\t\tthis._resources = resources;\r\n\t\t\tthis.rebind();\r\n\t\t}\r\n\t\treturn this._resources;\r\n\t}\r\n\r\n\tstartTime(): Date\r\n\t{\r\n\t\treturn this.getOptions().startTime!;\r\n\t}\r\n\r\n\tendTime(): Date\r\n\t{\r\n\t\treturn this.getOptions().endTime!;\r\n\t}\r\n\r\n\ttimeslotInterval(timeslotIntervalDuration?: number): number\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (timeslotIntervalDuration != null)\r\n\t\t{\r\n\t\t\toptions.timeslotIntervalDuration = timeslotIntervalDuration;\r\n\t\t\tthis._cmbTimeslotIntervalDuration.value(timeslotIntervalDuration, false);\r\n\r\n\t\t\tthis._dictionaryDateScheduler.forEach((value, key) =>\r\n\t\t\t{\r\n\t\t\t\t// Draw data\r\n\t\t\t\tlet scheduler = this._dictionaryDateScheduler.get(key);\r\n\t\t\t\tif (scheduler != null)\r\n\t\t\t\t\tscheduler.timeslotInterval(timeslotIntervalDuration);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn options.timeslotIntervalDuration!;\r\n\t}\r\n\r\n\trebind()\r\n\t{\r\n\t\tthis.dates(this._dates);\r\n\t\tthis.datasource(this._datasource);\r\n\t\tthis.availabilities(this._availabilities);\r\n\r\n\t\tthis.adaptHeight();\r\n\t\tthis.fixWidth();\r\n\t}\r\n\r\n\tprivate adaptHeight()\r\n\t{\r\n\t\tlet divContent = puma(this.container()).find(\".vrMultiSchedulerDivSchedulers\")[0];\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tlet height: number | string = 0;\r\n\t\tif (options.height == null)\r\n\t\t{\r\n\t\t\tlet multiSchedulerOffset = puma(this.container()).offset().top;\r\n\t\t\tlet contentHeight = (window.innerHeight - multiSchedulerOffset);\r\n\r\n\t\t\tlet divDatesHeight = puma(this.container()).find(\".vrMultiSchedulerDivDates\").outerHeight();\r\n\t\t\theight = contentHeight - divDatesHeight;\r\n\t\t}\r\n\t\telse\r\n\t\t\theight = options.height;\r\n\r\n\t\tpuma(divContent).height(height);\r\n\t}\r\n\r\n\tprivate fixWidth()\r\n\t{\r\n\t\tlet divScrollable = puma(this.container()).find(\".vrMultiSchedulerDivSchedulers\")[0];\r\n\t\tif (divScrollable != null)\r\n\t\t{\r\n\t\t\tif (divScrollable.scrollHeight > divScrollable.clientHeight && divScrollable.clientHeight > 0)\r\n\t\t\t\tpuma(this.container()).find(\".vrMultiSchedulerDivBorderOverflow\").show();\r\n\t\t\telse\r\n\t\t\t\tpuma(this.container()).find(\".vrMultiSchedulerDivBorderOverflow\").hide();\r\n\t\t}\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<MultiSchedulerOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n\r\n//#region Classes\r\nclass MultiSchedulerNavigateEvent extends VrControlsEvent\r\n{\r\n\tsender: MultiScheduler;\r\n\taction?: MultiSchedulerNavigateActionEnum;\r\n\tdates?: Date[];\r\n}\r\n\r\nenum MultiSchedulerNavigateActionEnum\r\n{\r\n\tNextDate = 0,\r\n\tPrevDate = 1,\r\n}\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, IconClassicLight, IconClass, puma, confirm } from \"../vr\";\r\n\r\n//#region Options\r\nexport class IconOptions extends VrControlOptions\r\n{\r\n\tvalue?: string | IconClassicLight;\r\n\tcolor?: string;\r\n\tfontSize?: number | string;\r\n\tcursorPointer?: boolean;\r\n\tconfirmationMessage?: string;\r\n\ttooltip?: string;\r\n\r\n\tonClick?: (e: VrIconClickEvent) => void;\r\n\tonRejectedConfirm?: () => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Icon extends VrControl\r\n{\r\n\tconstructor(element: HTMLElement, options?: IconOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new IconOptions();\r\n\r\n\t\tif (options.color == null) options.color = \"#000\";\r\n\t\tif (options.cursorPointer == null) options.cursorPointer = false;\r\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Icon);\r\n\r\n\t\tpuma(this.element()).attr(\"aria-hidden\", \"true\");\r\n\r\n\t\t//#region Color & Font\r\n\t\tthis.color(options.color);\r\n\r\n\t\tif (options.fontSize != null)\r\n\t\t\tthis.fontSize(options.fontSize);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Value\r\n\t\tif (options.value != null)\r\n\t\t\tthis.value(options.value);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Tooltip\r\n\t\tif (options.tooltip != null)\r\n\t\t\tpuma(this.element()).attr(\"title\", options.tooltip);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Cursor\r\n\t\tif (options.cursorPointer || options.onClick != null)\r\n\t\t{\r\n\t\t\tthis.container().style.cssText += \"cursor: pointer;\";\r\n\t\t\tthis.element().style.cssText += \"cursor: pointer;\";\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Click\r\n\t\tpuma(this.container()).on(\"click\", (e: JQuery.ClickEvent) =>\r\n\t\t{\r\n\t\t\tthis.click();\r\n\t\t});\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\tvalue(value?: string | IconClassicLight)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (value != null) \r\n\t\t{\r\n\t\t\tpuma(this.element()).removeClass(options.value);\r\n\t\t\tpuma(this.element()).addClass(value);\r\n\t\t\toptions.value = value;\r\n\t\t}\r\n\t\treturn options.value;\r\n\t}\r\n\r\n\tfontSize(fontSize?: number | string)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (fontSize != null)\r\n\t\t{\r\n\t\t\tif (typeof (fontSize) == \"number\")\r\n\t\t\t\tfontSize = fontSize + \"px\";\r\n\r\n\t\t\tthis.element().style.cssText += \"font-size: \" + fontSize + \";\";\r\n\t\t\toptions.fontSize = fontSize;\r\n\t\t}\r\n\t\treturn options.fontSize;\r\n\t}\r\n\r\n\tcolor(color?: string)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (color != null)\r\n\t\t{\r\n\t\t\tthis.element().style.cssText += \"color: \" + color + \";\";\r\n\t\t\toptions.color = color;\r\n\t\t}\r\n\t\treturn options.color;\r\n\t}\r\n\r\n\tclick(): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.confirmationMessage != null)\r\n\t\t\tconfirm(options.confirmationMessage).then(() => this.internalClick(), () => this.rejectedConfirm());\r\n\t\telse\r\n\t\t\tthis.internalClick();\r\n\t}\r\n\r\n\tprivate internalClick()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options!.onClick != null)\r\n\t\t{\r\n\t\t\tlet clickEvent = new VrIconClickEvent();\r\n\t\t\tclickEvent.sender = this;\r\n\t\t\tclickEvent.value = this.value();\r\n\t\t\toptions!.onClick(clickEvent);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate rejectedConfirm()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.onRejectedConfirm != null)\r\n\t\t\toptions.onRejectedConfirm();\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<IconOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass VrIconClickEvent extends VrControlsEvent\r\n{\r\n\tsender: Icon;\r\n\tvalue?: string | IconClassicLight;\r\n}\r\n//#endregion","import { ColorPickerManager } from \"../../../src/managers/colorPickerManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ColorPickerModeEnum, ColorPickerRgbaValue, ControlTypeEnum, createIcon, div, IconClassicLight, IconClass, puma } from \"../vr\";\r\n\r\ndeclare var JSColor: any;\r\n\r\n//#region Options\r\nexport class ColorPickerOptions extends VrControlOptions\r\n{\r\n\tshowInput?: boolean;\r\n\tmode?: ColorPickerModeEnum;\r\n\tpalette?: boolean | string[];\r\n\tcloseButton?: boolean | string;\r\n\talphaChannel?: boolean;\r\n\tvalue?: string | ColorPickerRgbaValue;\r\n\thexUppercase?: boolean;\r\n\tclearButton?: boolean;\r\n\thideOnPaletteClick?: boolean;\r\n\temptyMessage?: string;\r\n\r\n\tonChange?: (e: ColorPickerChangeEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class ColorPicker extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _picker: any;\r\n\tprivate _value: string | null;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: ColorPickerOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new ColorPickerOptions();\r\n\r\n\t\tif (options.addToControlList == null) options.addToControlList = false;\r\n\t\tif (options.showInput == null) options.showInput = true;\r\n\t\tif (options.mode == null) options.mode = ColorPickerModeEnum.Hex;\r\n\t\tif (options.alphaChannel == null) options.alphaChannel = true;\r\n\t\tif (options.hexUppercase == null) options.hexUppercase = true;\r\n\t\tif (options.clearButton == null) options.clearButton = true;\r\n\t\tif (options.hideOnPaletteClick == null) options.hideOnPaletteClick = false;\r\n\t\tif (options.emptyMessage == null) options.emptyMessage = \"Scegli...\";\r\n\r\n\t\tif (options.closeButton == null) options.closeButton = false;\r\n\t\tif (options.closeButton === true) options.closeButton = \"Chiudi\";\r\n\r\n\t\tif (options.palette == null) options.palette = true;\r\n\t\tif (options.palette === true)\r\n\t\t\toptions.palette = [\"#fff\", \"#ffffff\", \"#808080\", \"#000\", \"#996e36\", \"#ff0000\", \"#ffe438\", \"#88dd20\", \"#51B3E1\", \"#e3f1fa\", \"#bb1cd4\"];\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.ColorPicker);\r\n\t\ttry { new ColorPickerManager(); } catch (e) { } // To include js\r\n\r\n\t\tthis._picker = new JSColor(element, { format: options.mode });\r\n\t\tthis._value = null;\r\n\r\n\t\t//#region JsColor options\r\n\t\tthis._picker.option({\r\n\t\t\tshadow: false,\r\n\t\t\tpalette: (options.palette !== false) ? options.palette : undefined,\r\n\t\t\tpaletteCols: (options.palette !== false) ? options.palette.length : undefined,\r\n\t\t\tpaletteSetsAlpha: true,\r\n\t\t\thideOnPaletteClick: options.hideOnPaletteClick,\r\n\t\t\tcloseButton: (options.closeButton !== false),\r\n\t\t\tcloseText: (options.closeButton !== false) ? options.closeButton : undefined,\r\n\t\t\talphaChannel: options.alphaChannel,\r\n\t\t\trequired: true,\r\n\t\t\tuppercase: options.hexUppercase,\r\n\t\t\tonChange: () => \r\n\t\t\t{\r\n\t\t\t\tthis._value = (this.mode() == ColorPickerModeEnum.Hex) ? this.valueHex() : this.valueRgba();\r\n\t\t\t\tthis.triggerChange();\r\n\t\t\t}\r\n\t\t});\r\n\t\t//#endregion\r\n\r\n\t\t//#region Width & Height\r\n\t\tthis.element().style.cssText += \"height: \" + ((options.showInput) ? 23 : 27) + \"px;\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Input\r\n\t\tif (options.showInput)\r\n\t\t{\r\n\t\t\tlet minWidth = (options.mode == ColorPickerModeEnum.Hex) ? 60 : 120;\r\n\t\t\tthis.element().style.cssText += \"width: \" + minWidth + \"px; min-width: \" + minWidth + \"px !important;\";\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.element().style.cssText += \"width: 27px; min-width: unset !important; background-image: unset !important; position: relative;\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Value\r\n\t\tthis.clear();\r\n\r\n\t\tif (options.value != null)\r\n\t\t\tthis.value(options.value);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Open elements\r\n\t\tif (!options.showInput)\r\n\t\t{\r\n\t\t\tlet divOpen = div(this.element(), { class: \"vrColorPickerDivOpen\", css: \"position: absolute; cursor: pointer; text-align: center; bottom: 0px; left: 0px; height: 5px; background-color: rgba(0, 0, 0, 0.2); width: 24px; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border: solid 1px #CCC; border-top: none;\" })\r\n\t\t\tcreateIcon({\r\n\t\t\t\tvalue: IconClassicLight.CaretUp,\r\n\t\t\t\tcolor: \"rgba(255, 255, 255, 0.8)\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\tfontSize: 12,\r\n\t\t\t\tcursorPointer: true,\r\n\t\t\t\tcssContainer: \"top: -4px;\"\r\n\t\t\t}, divOpen);\r\n\r\n\t\t\tpuma(divOpen).on(\"click\", (e: JQuery.ClickEvent) => this.open());\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Clear icon\r\n\t\tif (options.clearButton)\r\n\t\t{\r\n\t\t\tlet clearIcon = createIcon({\r\n\t\t\t\tid: element.id + \"_someStuff\",\r\n\t\t\t\tcssContainer: \"background-color: #FFF; width: 20px; height: 20px; cursor: pointer; position: absolute; left: 13px; z-index: 9999999; top: \" + ((options.showInput) ? \"155\" : \"152\") + \"px;\",\r\n\t\t\t\tvalue: IconClassicLight.Eraser,\r\n\t\t\t\tclassContainer: \"vrColorPickerClearIcon\",\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tonClick: (e) => this.clear(true)\r\n\t\t\t}, document.body, null, this.element().id + \"_vrColorPickerClearIcon\");\r\n\r\n\t\t\tpuma(\"body\").on(\"DOMNodeRemoved\", \".jscolor-picker-wrap\", (e: any) =>\r\n\t\t\t{\r\n\t\t\t\te.target.style.cssText += \"z-index: 999999 !important;\";\r\n\t\t\t\tif (clearIcon.element() != null) clearIcon.element().style.cssText += \"color: transparent;\";\r\n\t\t\t\tif (clearIcon.container() != null) clearIcon.container().style.cssText += \"background-color: transparent;\";\r\n\r\n\t\t\t\twindow.setTimeout(() => \r\n\t\t\t\t{\r\n\t\t\t\t\tclearIcon.hide();\r\n\t\t\t\t\te.target.style.cssText += \"z-index: 999999 !important;\";\r\n\t\t\t\t}, 300);\r\n\t\t\t});\r\n\r\n\t\t\tpuma(\"body\").on(\"DOMNodeInserted\", \".jscolor-picker-wrap\", (e: any) =>\r\n\t\t\t{\r\n\t\t\t\tlet top = puma(puma(\".jscolor-picker-wrap\")[0]).position().top + 125;\r\n\t\t\t\tlet left = puma(puma(\".jscolor-picker-wrap\")[0]).position().left + 13;\r\n\t\t\t\tif (clearIcon.container() != null) clearIcon.container().style.cssText += \"top: \" + top + \"px; left: \" + left + \"px;\";\r\n\r\n\t\t\t\te.target.style.cssText += \"z-index: 999999 !important;\";\r\n\t\t\t\tif (clearIcon.element() != null) clearIcon.element().style.cssText += \"color: #000;\";\r\n\t\t\t\tif (clearIcon.container() != null) clearIcon.container().style.cssText += \"background-color: #FFF;\";\r\n\t\t\t\tclearIcon.show();\r\n\r\n\t\t\t\twindow.setTimeout(() => \r\n\t\t\t\t{\r\n\t\t\t\t\tclearIcon.show();\r\n\t\t\t\t\te.target.style.cssText += \"z-index: 999999 !important;\";\r\n\r\n\t\t\t\t\tlet top = puma(puma(\".jscolor-picker-wrap\")[0]).position().top + 125;\r\n\t\t\t\t\tlet left = puma(puma(\".jscolor-picker-wrap\")[0]).position().left + 13;\r\n\t\t\t\t\tif (clearIcon.container() != null) clearIcon.container().style.cssText += \"top: \" + top + \"px; left: \" + left + \"px;\";\r\n\t\t\t\t}, 300);\r\n\t\t\t});\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\tvalue(value?: string | ColorPickerRgbaValue, triggerChange = true)\r\n\t{\r\n\t\tif (value != null)\r\n\t\t{\r\n\t\t\tif (typeof (value) == \"string\")\r\n\t\t\t\tthis.valueHex(value, triggerChange);\r\n\t\t\telse\r\n\t\t\t\tthis.valueRgba(value, triggerChange);\r\n\t\t}\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\tvalueHex(value?: string, triggerChange = true)\r\n\t{\r\n\t\tif (value != null)\r\n\t\t{\r\n\t\t\tthis._picker.fromString(value);\r\n\t\t\tthis._value = this._picker.toHEXString();\r\n\r\n\t\t\tif (triggerChange)\r\n\t\t\t\tthis.triggerChange();\r\n\t\t}\r\n\t\treturn this._picker.toHEXString();\r\n\t}\r\n\r\n\tvalueRgba(value?: ColorPickerRgbaValue, triggerChange = true)\r\n\t{\r\n\t\tif (value != null)\r\n\t\t{\r\n\t\t\tthis._picker.fromRGBA(value.r, value.g, value.b, (value.a != null) ? value.a : 1);\r\n\t\t\tthis._value = this._picker.toRGBAString();\r\n\r\n\t\t\tif (triggerChange)\r\n\t\t\t\tthis.triggerChange();\r\n\t\t}\r\n\t\treturn this._picker.toRGBAString();\r\n\t}\r\n\r\n\trandomize(triggerChange = true)\r\n\t{\r\n\t\tthis._picker.randomize();\r\n\t\tthis._value = this.valueHex();\r\n\r\n\t\tif (triggerChange)\r\n\t\t\tthis.triggerChange();\r\n\r\n\t\treturn this.value();\r\n\t}\r\n\r\n\topen()\r\n\t{\r\n\t\tthis._picker.show();\r\n\t}\r\n\r\n\tclose()\r\n\t{\r\n\t\tthis._picker.hide();\r\n\t}\r\n\r\n\tmode()\r\n\t{\r\n\t\treturn this.getOptions().mode!;\r\n\t}\r\n\r\n\ttriggerChange()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\t//#region Change event\r\n\t\tif (options!.onChange != null)\r\n\t\t{\r\n\t\t\tlet event = new ColorPickerChangeEvent();\r\n\t\t\tevent.sender = this;\r\n\t\t\tevent.value = this.value();\r\n\t\t\tevent.valueHex = this.valueHex();\r\n\t\t\tevent.valueRgba = this.valueRgba();\r\n\t\t\toptions!.onChange(event);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\tclear(triggerChange = false)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tthis._value = null;\r\n\r\n\t\tthis.element().style.cssText += \"background-image: unset;\";\r\n\t\tthis.element().style.cssText += \"background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/wAALCAAoACgBAREA/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEG/8QAKRAAAgECBQMDBQEAAAAAAAAAAREAIWESMUFRUjJCcYGhwQJigqLC0f/aAAgBAQAAPwDbVZJIJOZGX1DYXgaKhHST2+Yokim1q9/Ebur6l3eJasFgEBA6AbG8LRIiuHjeT3eQ53i+KmWL4jfRZ/ZCqkya4eV4CQTTo83e0bvLuXxLV6Nei/2QaL8X8xRFtOqzdrRdt0xcrR6pa8LRbDfD/Ue7/eL4kqYuNpassAECoGQG4vINFUnpfd5iizKeer28Ru6LqXb4lqwAA1QaEbm8/9k=') no-repeat !important;\";\r\n\r\n\t\tif (options.showInput)\r\n\t\t{\r\n\t\t\t(this.element() as HTMLInputElement).value = \"\";\r\n\t\t\t(this.element() as HTMLInputElement).placeholder = options.emptyMessage!;\r\n\t\t\tthis.element().style.cssText += \"background-size: 30px 30px !important;\";\r\n\t\t}\r\n\t\t// else\r\n\t\t// \tthis.element().style.cssText += \"background-size: 40px 40px !important;\";\r\n\r\n\t\tif (triggerChange)\r\n\t\t\tthis.triggerChange();\r\n\t}\r\n\r\n\t//#region Overrides\r\n\tenable(): void\r\n\t{\r\n\t\tsuper.enable();\r\n\t\twindow.setTimeout(() =>\r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tif (!options.showInput)\r\n\t\t\t{\r\n\t\t\t\tthis._picker.option(\"showOnClick\", true);\r\n\t\t\t\tpuma(this.container()).find(\".vrColorPickerDivOpen\").show();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tpuma(this.element()).removeAttr(\"disabled\");\r\n\t\t});\r\n\t}\r\n\r\n\tdisable(): void\r\n\t{\r\n\t\tsuper.disable();\r\n\t\twindow.setTimeout(() => \r\n\t\t{\r\n\t\t\tlet options = this.getOptions();\r\n\t\t\tif (!options.showInput)\r\n\t\t\t{\r\n\t\t\t\tthis._picker.option(\"showOnClick\", false);\r\n\t\t\t\tpuma(this.container()).find(\".vrColorPickerDivOpen\").hide();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tpuma(this.element()).attr(\"disabled\", \"disabled\");\r\n\t\t});\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<ColorPickerOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n\r\n//#region Classes\r\nclass ColorPickerEvent extends VrControlsEvent\r\n{\r\n\tsender: ColorPicker;\r\n}\r\n\r\nclass ColorPickerChangeEvent extends ColorPickerEvent\r\n{\r\n\tvalue: string | null;\r\n\tvalueHex: string;\r\n\tvalueRgba: string;\r\n}\r\n//#endregion","/**\r\n * jscolor - JavaScript Color Picker\r\n *\r\n * @link    http://jscolor.com\r\n * @license For open source use: GPLv3\r\n *          For commercial use: JSColor Commercial License\r\n * @author  Jan Odvarko - East Desire\r\n *\r\n * See usage examples at http://jscolor.com/examples/\r\n */\r\n\r\nexport class ColorPickerManager\r\n{\r\n\tconstructor(){}\r\n}\r\n\r\n(function (global, factory)\r\n{\r\n\r\n\t'use strict';\r\n\r\n\tif (typeof module === 'object' && typeof module.exports === 'object')\r\n\t{\r\n\t\t// Export jscolor as a module\r\n\t\tmodule.exports = global!.document ?\r\n\t\t\tfactory(global) :\r\n\t\t\tfunction (win: any)\r\n\t\t\t{\r\n\t\t\t\tif (!win.document)\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new Error('jscolor needs a window with document');\r\n\t\t\t\t}\r\n\t\t\t\treturn factory(win);\r\n\t\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Default use (no module export)\r\n\tfactory(global);\r\n\r\n})(typeof window !== 'undefined' ? window : this, function (window: any)\r\n{ // BEGIN factory\r\n\r\n\t// BEGIN jscolor code\r\n\r\n\r\n\t'use strict';\r\n\r\n\r\n\tvar jscolor = (function ()\r\n\t{ // BEGIN jscolor\r\n\r\n\t\tvar jsc: any = {\r\n\r\n\r\n\t\t\tinitialized: false,\r\n\r\n\t\t\tinstances: [], // created instances of jscolor\r\n\r\n\t\t\treadyQueue: [], // functions waiting to be called after init\r\n\r\n\r\n\t\t\tregister: function ()\r\n\t\t\t{\r\n\t\t\t\tif (typeof window !== 'undefined' && window.document)\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.document.addEventListener('DOMContentLoaded', jsc.pub.init, false);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tinstallBySelector: function (selector: any, rootNode: any)\r\n\t\t\t{\r\n\t\t\t\trootNode = rootNode ? jsc.node(rootNode) : window.document;\r\n\t\t\t\tif (!rootNode)\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new Error('Missing root node');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elms = rootNode.querySelectorAll(selector);\r\n\r\n\t\t\t\t// for backward compatibility with DEPRECATED installation/configuration using className\r\n\t\t\t\tvar matchClass = new RegExp('(^|\\\\s)(' + jsc.pub.lookupClass + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\r\n\r\n\t\t\t\tfor (var i = 0; i < elms.length; i += 1)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tif (elms[i].jscolor && elms[i].jscolor instanceof jsc.pub)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontinue; // jscolor already installed on this element\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color' && jsc.isColorAttrSupported)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontinue; // skips inputs of type 'color' if supported by the browser\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar dataOpts, m;\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(dataOpts = jsc.getDataAttr(elms[i], 'jscolor')) !== null ||\r\n\t\t\t\t\t\t(elms[i].className && (m = elms[i].className.match(matchClass))) // installation using className (DEPRECATED)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar targetElm = elms[i];\r\n\r\n\t\t\t\t\t\tvar optsStr = '';\r\n\t\t\t\t\t\tif (dataOpts !== null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toptsStr = dataOpts;\r\n\r\n\t\t\t\t\t\t} else if (m)\r\n\t\t\t\t\t\t{ // installation using className (DEPRECATED)\r\n\t\t\t\t\t\t\tconsole.warn('Installation using class name is DEPRECATED. Use data-jscolor=\"\" attribute instead.' + jsc.docsRef);\r\n\t\t\t\t\t\t\tif (m[4])\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toptsStr = m[4];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar opts = null;\r\n\t\t\t\t\t\tif (optsStr.trim())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\topts = jsc.parseOptionsStr(optsStr);\r\n\t\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.warn(e + '\\n' + optsStr);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tnew jsc.pub(targetElm, opts);\r\n\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tparseOptionsStr: function (str: any)\r\n\t\t\t{\r\n\t\t\t\tvar opts = null;\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\topts = JSON.parse(str);\r\n\r\n\t\t\t\t} catch (eParse)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!jsc.pub.looseJSON)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('Could not parse jscolor options as JSON: ' + eParse);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// loose JSON syntax is enabled -> try to evaluate the options string as JavaScript object\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\topts = (new Function('var opts = (' + str + '); return typeof opts === \"object\" ? opts : {};'))();\r\n\t\t\t\t\t\t} catch (eEval)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthrow new Error('Could not evaluate jscolor options: ' + eEval);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn opts;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetInstances: function ()\r\n\t\t\t{\r\n\t\t\t\tvar inst: any = [];\r\n\t\t\t\tfor (var i = 0; i < jsc.instances.length; i += 1)\r\n\t\t\t\t{\r\n\t\t\t\t\t// if the targetElement still exists, the instance is considered \"alive\"\r\n\t\t\t\t\tif (jsc.instances[i] && jsc.instances[i].targetElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinst.push(jsc.instances[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn inst;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcreateEl: function (tagName: any)\r\n\t\t\t{\r\n\t\t\t\tvar el = window.document.createElement(tagName);\r\n\t\t\t\tjsc.setData(el, 'gui', true);\r\n\t\t\t\treturn el;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tnode: function (nodeOrSelector: any)\r\n\t\t\t{\r\n\t\t\t\tif (!nodeOrSelector)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof nodeOrSelector === 'string')\r\n\t\t\t\t{\r\n\t\t\t\t\t// query selector\r\n\t\t\t\t\tvar sel = nodeOrSelector;\r\n\t\t\t\t\tvar el = null;\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tel = window.document.querySelector(sel);\r\n\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!el)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.warn('No element matches the selector: %s', sel);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn el;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (jsc.isNode(nodeOrSelector))\r\n\t\t\t\t{\r\n\t\t\t\t\t// DOM node\r\n\t\t\t\t\treturn nodeOrSelector;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.warn('Invalid node of type %s: %s', typeof nodeOrSelector, nodeOrSelector);\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// See https://stackoverflow.com/questions/384286/\r\n\t\t\tisNode: function (val: any)\r\n\t\t\t{\r\n\t\t\t\tif (typeof Node === 'object')\r\n\t\t\t\t{\r\n\t\t\t\t\treturn val instanceof Node;\r\n\t\t\t\t}\r\n\t\t\t\treturn val && typeof val === 'object' && typeof val.nodeType === 'number' && typeof val.nodeName === 'string';\r\n\t\t\t},\r\n\r\n\r\n\t\t\tnodeName: function (node: any)\r\n\t\t\t{\r\n\t\t\t\tif (node && node.nodeName)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn node.nodeName.toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tremoveChildren: function (node: any)\r\n\t\t\t{\r\n\t\t\t\twhile (node.firstChild)\r\n\t\t\t\t{\r\n\t\t\t\t\tnode.removeChild(node.firstChild);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tisTextInput: function (el: any)\r\n\t\t\t{\r\n\t\t\t\treturn el && jsc.nodeName(el) === 'input' && el.type.toLowerCase() === 'text';\r\n\t\t\t},\r\n\r\n\r\n\t\t\tisButton: function (el: any)\r\n\t\t\t{\r\n\t\t\t\tif (!el)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar n = jsc.nodeName(el);\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(n === 'button') ||\r\n\t\t\t\t\t(n === 'input' && ['button', 'submit', 'reset'].indexOf(el.type.toLowerCase()) > -1)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tisButtonEmpty: function (el: any)\r\n\t\t\t{\r\n\t\t\t\tswitch (jsc.nodeName(el))\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'input': return (!el.value || el.value.trim() === '');\r\n\t\t\t\t\tcase 'button': return (el.textContent.trim() === '');\r\n\t\t\t\t}\r\n\t\t\t\treturn null; // could not determine element's text\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\r\n\t\t\tisPassiveEventSupported: (function ()\r\n\t\t\t{\r\n\t\t\t\tvar supported = false;\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tvar opts = Object.defineProperty({}, 'passive', {\r\n\t\t\t\t\t\tget: function () { supported = true; }\r\n\t\t\t\t\t});\r\n\t\t\t\t\twindow.addEventListener('testPassive', null, opts);\r\n\t\t\t\t\twindow.removeEventListener('testPassive', null, opts);\r\n\t\t\t\t} catch (e) { }\r\n\r\n\t\t\t\treturn supported;\r\n\t\t\t})(),\r\n\r\n\r\n\t\t\tisColorAttrSupported: (function ()\r\n\t\t\t{\r\n\t\t\t\tvar elm = window.document.createElement('input');\r\n\t\t\t\tif (elm.setAttribute)\r\n\t\t\t\t{\r\n\t\t\t\t\telm.setAttribute('type', 'color');\r\n\t\t\t\t\tif (elm.type.toLowerCase() == 'color')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t})(),\r\n\r\n\r\n\t\t\tdataProp: '_data_jscolor',\r\n\r\n\r\n\t\t\t// usage:\r\n\t\t\t//   setData(obj, prop, value)\r\n\t\t\t//   setData(obj, {prop:value, ...})\r\n\t\t\t//\r\n\t\t\tsetData: function ()\r\n\t\t\t{\r\n\t\t\t\tvar obj = arguments[0];\r\n\r\n\t\t\t\tif (arguments.length === 3)\r\n\t\t\t\t{\r\n\t\t\t\t\t// setting a single property\r\n\t\t\t\t\tvar data = obj.hasOwnProperty(jsc.dataProp) ? obj[jsc.dataProp] : (obj[jsc.dataProp] = {});\r\n\t\t\t\t\tvar prop = arguments[1];\r\n\t\t\t\t\tvar value = arguments[2];\r\n\r\n\t\t\t\t\tdata[prop] = value;\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t} else if (arguments.length === 2 && typeof arguments[1] === 'object')\r\n\t\t\t\t{\r\n\t\t\t\t\t// setting multiple properties\r\n\t\t\t\t\tvar data = obj.hasOwnProperty(jsc.dataProp) ? obj[jsc.dataProp] : (obj[jsc.dataProp] = {});\r\n\t\t\t\t\tvar map: any = arguments[1];\r\n\r\n\t\t\t\t\tfor (var prop1 in map)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (map.hasOwnProperty(prop1))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata[prop1] = map[prop1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthrow new Error('Invalid arguments');\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// usage:\r\n\t\t\t//   removeData(obj, prop, [prop...])\r\n\t\t\t//\r\n\t\t\tremoveData: function ()\r\n\t\t\t{\r\n\t\t\t\tvar obj = arguments[0];\r\n\t\t\t\tif (!obj.hasOwnProperty(jsc.dataProp))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true; // data object does not exist\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 1; i < arguments.length; i += 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar prop = arguments[i];\r\n\t\t\t\t\tdelete obj[jsc.dataProp][prop];\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetData: function (obj: any, prop: any, setDefault: any)\r\n\t\t\t{\r\n\t\t\t\tif (!obj.hasOwnProperty(jsc.dataProp))\r\n\t\t\t\t{\r\n\t\t\t\t\t// data object does not exist\r\n\t\t\t\t\tif (setDefault !== undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tobj[jsc.dataProp] = {}; // create data object\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn undefined; // no value to return\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar data = obj[jsc.dataProp];\r\n\r\n\t\t\t\tif (!data.hasOwnProperty(prop) && setDefault !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tdata[prop] = setDefault;\r\n\t\t\t\t}\r\n\t\t\t\treturn data[prop];\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetDataAttr: function (el: any, name: any)\r\n\t\t\t{\r\n\t\t\t\tvar attrName = 'data-' + name;\r\n\t\t\t\tvar attrValue = el.getAttribute(attrName);\r\n\t\t\t\treturn attrValue;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsetDataAttr: function (el: any, name: any, value: any)\r\n\t\t\t{\r\n\t\t\t\tvar attrName = 'data-' + name;\r\n\t\t\t\tel.setAttribute(attrName, value);\r\n\t\t\t},\r\n\r\n\r\n\t\t\t_attachedGroupEvents: {},\r\n\r\n\r\n\t\t\tattachGroupEvent: function (groupName: any, el: any, evnt: any, func: any)\r\n\t\t\t{\r\n\t\t\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName))\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc._attachedGroupEvents[groupName] = [];\r\n\t\t\t\t}\r\n\t\t\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\r\n\t\t\t\tel.addEventListener(evnt, func, false);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tdetachGroupEvents: function (groupName: any)\r\n\t\t\t{\r\n\t\t\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName))\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\r\n\t\t\t\t\t\tevt[0].removeEventListener(evt[1], evt[2], false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete jsc._attachedGroupEvents[groupName];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tpreventDefault: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tif (e.preventDefault) { e.preventDefault(); }\r\n\t\t\t\te.returnValue = false;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcaptureTarget: function (target: any)\r\n\t\t\t{\r\n\t\t\t\t// IE\r\n\t\t\t\tif (target.setCapture)\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc._capturedTarget = target;\r\n\t\t\t\t\tjsc._capturedTarget.setCapture();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\treleaseTarget: function ()\r\n\t\t\t{\r\n\t\t\t\t// IE\r\n\t\t\t\tif (jsc._capturedTarget)\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc._capturedTarget.releaseCapture();\r\n\t\t\t\t\tjsc._capturedTarget = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\ttriggerEvent: function (el: any, eventName: any, bubbles: any, cancelable: any)\r\n\t\t\t{\r\n\t\t\t\tif (!el)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar ev = null;\r\n\r\n\t\t\t\tif (typeof Event === 'function')\r\n\t\t\t\t{\r\n\t\t\t\t\tev = new Event(eventName, {\r\n\t\t\t\t\t\tbubbles: bubbles,\r\n\t\t\t\t\t\tcancelable: cancelable\r\n\t\t\t\t\t});\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t// IE\r\n\t\t\t\t\tev = window.document.createEvent('Event');\r\n\t\t\t\t\tev.initEvent(eventName, bubbles, cancelable);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!ev)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// so that we know that the event was triggered internally\r\n\t\t\t\tjsc.setData(ev, 'internal', true);\r\n\r\n\t\t\t\tel.dispatchEvent(ev);\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\r\n\r\n\t\t\ttriggerInputEvent: function (el: any, eventName: any, bubbles: any, cancelable: any)\r\n\t\t\t{\r\n\t\t\t\tif (!el)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (jsc.isTextInput(el))\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.triggerEvent(el, eventName, bubbles, cancelable);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\teventKey: function (ev: any)\r\n\t\t\t{\r\n\t\t\t\tvar keys: any = {\r\n\t\t\t\t\t9: 'Tab',\r\n\t\t\t\t\t13: 'Enter',\r\n\t\t\t\t\t27: 'Escape',\r\n\t\t\t\t};\r\n\t\t\t\tif (typeof ev.code === 'string')\r\n\t\t\t\t{\r\n\t\t\t\t\treturn ev.code;\r\n\t\t\t\t} else if (ev.keyCode !== undefined && keys.hasOwnProperty(ev.keyCode))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn keys[ev.keyCode];\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tstrList: function (str: any)\r\n\t\t\t{\r\n\t\t\t\tif (!str)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t\treturn str.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// The className parameter (str) can only contain a single class name\r\n\t\t\thasClass: function (elm: any, className: any)\r\n\t\t\t{\r\n\t\t\t\tif (!className)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (elm.classList !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn elm.classList.contains(className);\r\n\t\t\t\t}\r\n\t\t\t\t// polyfill\r\n\t\t\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\t\t\taddClass: function (elm: any, className: any)\r\n\t\t\t{\r\n\t\t\t\tvar classNames = jsc.strList(className);\r\n\r\n\t\t\t\tif (elm.classList !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (var i = 0; i < classNames.length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\telm.classList.add(classNames[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// polyfill\r\n\t\t\t\tfor (var i = 0; i < classNames.length; i += 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!jsc.hasClass(elm, classNames[i]))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\telm.className += (elm.className ? ' ' : '') + classNames[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\t\t\tremoveClass: function (elm: any, className: any)\r\n\t\t\t{\r\n\t\t\t\tvar classNames = jsc.strList(className);\r\n\r\n\t\t\t\tif (elm.classList !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (var i = 0; i < classNames.length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\telm.classList.remove(classNames[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// polyfill\r\n\t\t\t\tfor (var i = 0; i < classNames.length; i += 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar repl = new RegExp(\r\n\t\t\t\t\t\t'^\\\\s*' + classNames[i] + '\\\\s*|' +\r\n\t\t\t\t\t\t'\\\\s*' + classNames[i] + '\\\\s*$|' +\r\n\t\t\t\t\t\t'\\\\s+' + classNames[i] + '(\\\\s+)',\r\n\t\t\t\t\t\t'g'\r\n\t\t\t\t\t);\r\n\t\t\t\t\telm.className = elm.className.replace(repl, '$1');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetCompStyle: function (elm: any)\r\n\t\t\t{\r\n\t\t\t\tvar compStyle = window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\r\n\r\n\t\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t\t\t// that's why we need to check if the returned value is non-empty\r\n\t\t\t\tif (!compStyle)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t}\r\n\t\t\t\treturn compStyle;\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// Note:\r\n\t\t\t//   Setting a property to NULL reverts it to the state before it was first set\r\n\t\t\t//   with the 'reversible' flag enabled\r\n\t\t\t//\r\n\t\t\tsetStyle: function (elm: any, styles: any, important: any, reversible: any)\r\n\t\t\t{\r\n\t\t\t\t// using '' for standard priority (IE10 apparently doesn't like value undefined)\r\n\t\t\t\tvar priority = important ? 'important' : '';\r\n\t\t\t\tvar origStyle = null;\r\n\r\n\t\t\t\tfor (var prop in styles)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (styles.hasOwnProperty(prop))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar setVal = null;\r\n\r\n\t\t\t\t\t\tif (styles[prop] === null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// reverting a property value\r\n\r\n\t\t\t\t\t\t\tif (!origStyle)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// get the original style object, but dont't try to create it if it doesn't exist\r\n\t\t\t\t\t\t\t\torigStyle = jsc.getData(elm, 'origStyle');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (origStyle && origStyle.hasOwnProperty(prop))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// we have property's original value -> use it\r\n\t\t\t\t\t\t\t\tsetVal = origStyle[prop];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// setting a property value\r\n\r\n\t\t\t\t\t\t\tif (reversible)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (!origStyle)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// get the original style object and if it doesn't exist, create it\r\n\t\t\t\t\t\t\t\t\torigStyle = jsc.getData(elm, 'origStyle', {});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!origStyle.hasOwnProperty(prop))\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// original property value not yet stored -> store it\r\n\t\t\t\t\t\t\t\t\torigStyle[prop] = elm.style[prop];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetVal = styles[prop];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (setVal !== null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\telm.style.setProperty(prop, setVal, priority);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\thexColor: function (r: any, g: any, b: any)\r\n\t\t\t{\r\n\t\t\t\treturn '#' + (\r\n\t\t\t\t\t('0' + Math.round(r).toString(16)).substr(-2) +\r\n\t\t\t\t\t('0' + Math.round(g).toString(16)).substr(-2) +\r\n\t\t\t\t\t('0' + Math.round(b).toString(16)).substr(-2)\r\n\t\t\t\t).toUpperCase();\r\n\t\t\t},\r\n\r\n\r\n\t\t\thexaColor: function (r: any, g: any, b: any, a: any)\r\n\t\t\t{\r\n\t\t\t\treturn '#' + (\r\n\t\t\t\t\t('0' + Math.round(r).toString(16)).substr(-2) +\r\n\t\t\t\t\t('0' + Math.round(g).toString(16)).substr(-2) +\r\n\t\t\t\t\t('0' + Math.round(b).toString(16)).substr(-2) +\r\n\t\t\t\t\t('0' + Math.round(a * 255).toString(16)).substr(-2)\r\n\t\t\t\t).toUpperCase();\r\n\t\t\t},\r\n\r\n\r\n\t\t\trgbColor: function (r: any, g: any, b: any)\r\n\t\t\t{\r\n\t\t\t\treturn 'rgb(' +\r\n\t\t\t\t\tMath.round(r) + ',' +\r\n\t\t\t\t\tMath.round(g) + ',' +\r\n\t\t\t\t\tMath.round(b) +\r\n\t\t\t\t\t')';\r\n\t\t\t},\r\n\r\n\r\n\t\t\trgbaColor: function (r: any, g: any, b: any, a: any)\r\n\t\t\t{\r\n\t\t\t\treturn 'rgba(' +\r\n\t\t\t\t\tMath.round(r) + ',' +\r\n\t\t\t\t\tMath.round(g) + ',' +\r\n\t\t\t\t\tMath.round(b) + ',' +\r\n\t\t\t\t\t(Math.round((a === undefined || a === null ? 1 : a) * 100) / 100) +\r\n\t\t\t\t\t')';\r\n\t\t\t},\r\n\r\n\r\n\t\t\tlinearGradient: (function ()\r\n\t\t\t{\r\n\r\n\t\t\t\tfunction getFuncName()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar stdName = 'linear-gradient';\r\n\t\t\t\t\tvar prefixes = ['', '-webkit-', '-moz-', '-o-', '-ms-'];\r\n\t\t\t\t\tvar helper = window.document.createElement('div');\r\n\r\n\t\t\t\t\tfor (var i = 0; i < prefixes.length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar tryFunc = prefixes[i] + stdName;\r\n\t\t\t\t\t\tvar tryVal = tryFunc + '(to right, rgba(0,0,0,0), rgba(0,0,0,0))';\r\n\r\n\t\t\t\t\t\thelper.style.background = tryVal;\r\n\t\t\t\t\t\tif (helper.style.background)\r\n\t\t\t\t\t\t{ // CSS background successfully set -> function name is supported\r\n\t\t\t\t\t\t\treturn tryFunc;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn stdName; // fallback to standard 'linear-gradient' without vendor prefix\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar funcName = getFuncName();\r\n\r\n\t\t\t\treturn function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn funcName + '(' + Array.prototype.join.call(arguments, ', ') + ')';\r\n\t\t\t\t};\r\n\r\n\t\t\t})(),\r\n\r\n\r\n\t\t\tsetBorderRadius: function (elm: any, value: any)\r\n\t\t\t{\r\n\t\t\t\tjsc.setStyle(elm, { 'border-radius': value || '0' });\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsetBoxShadow: function (elm: any, value: any)\r\n\t\t\t{\r\n\t\t\t\tjsc.setStyle(elm, { 'box-shadow': value || 'none' });\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetElementPos: function (e: any, relativeToViewport: any)\r\n\t\t\t{\r\n\t\t\t\tvar x = 0, y = 0;\r\n\t\t\t\tvar rect = e.getBoundingClientRect();\r\n\t\t\t\tx = rect.left;\r\n\t\t\t\ty = rect.top;\r\n\t\t\t\tif (!relativeToViewport)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar viewPos = jsc.getViewPos();\r\n\t\t\t\t\tx += viewPos[0];\r\n\t\t\t\t\ty += viewPos[1];\r\n\t\t\t\t}\r\n\t\t\t\treturn [x, y];\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetElementSize: function (e: any)\r\n\t\t\t{\r\n\t\t\t\treturn [e.offsetWidth, e.offsetHeight];\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// get pointer's X/Y coordinates relative to viewport\r\n\t\t\tgetAbsPointerPos: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tvar x = 0, y = 0;\r\n\t\t\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length)\r\n\t\t\t\t{\r\n\t\t\t\t\t// touch devices\r\n\t\t\t\t\tx = e.changedTouches[0].clientX;\r\n\t\t\t\t\ty = e.changedTouches[0].clientY;\r\n\t\t\t\t} else if (typeof e.clientX === 'number')\r\n\t\t\t\t{\r\n\t\t\t\t\tx = e.clientX;\r\n\t\t\t\t\ty = e.clientY;\r\n\t\t\t\t}\r\n\t\t\t\treturn { x: x, y: y };\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// get pointer's X/Y coordinates relative to target element\r\n\t\t\tgetRelPointerPos: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tvar target = e.target || e.srcElement;\r\n\t\t\t\tvar targetRect = target.getBoundingClientRect();\r\n\r\n\t\t\t\tvar x = 0, y = 0;\r\n\r\n\t\t\t\tvar clientX = 0, clientY = 0;\r\n\t\t\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length)\r\n\t\t\t\t{\r\n\t\t\t\t\t// touch devices\r\n\t\t\t\t\tclientX = e.changedTouches[0].clientX;\r\n\t\t\t\t\tclientY = e.changedTouches[0].clientY;\r\n\t\t\t\t} else if (typeof e.clientX === 'number')\r\n\t\t\t\t{\r\n\t\t\t\t\tclientX = e.clientX;\r\n\t\t\t\t\tclientY = e.clientY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tx = clientX - targetRect.left;\r\n\t\t\t\ty = clientY - targetRect.top;\r\n\t\t\t\treturn { x: x, y: y };\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetViewPos: function ()\r\n\t\t\t{\r\n\t\t\t\tvar doc = window.document.documentElement;\r\n\t\t\t\treturn [\r\n\t\t\t\t\t(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\r\n\t\t\t\t\t(window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\r\n\t\t\t\t];\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetViewSize: function ()\r\n\t\t\t{\r\n\t\t\t\tvar doc = window.document.documentElement;\r\n\t\t\t\treturn [\r\n\t\t\t\t\t(window.innerWidth || doc.clientWidth),\r\n\t\t\t\t\t(window.innerHeight || doc.clientHeight),\r\n\t\t\t\t];\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// r: 0-255\r\n\t\t\t// g: 0-255\r\n\t\t\t// b: 0-255\r\n\t\t\t//\r\n\t\t\t// returns: [ 0-360, 0-100, 0-100 ]\r\n\t\t\t//\r\n\t\t\tRGB_HSV: function (r: any, g: any, b: any)\r\n\t\t\t{\r\n\t\t\t\tr /= 255;\r\n\t\t\t\tg /= 255;\r\n\t\t\t\tb /= 255;\r\n\t\t\t\tvar n = Math.min(Math.min(r, g), b);\r\n\t\t\t\tvar v = Math.max(Math.max(r, g), b);\r\n\t\t\t\tvar m = v - n;\r\n\t\t\t\tif (m === 0) { return [null, 0, 100 * v]; }\r\n\t\t\t\tvar h = r === n ? 3 + (b - g) / m : (g === n ? 5 + (r - b) / m : 1 + (g - r) / m);\r\n\t\t\t\treturn [\r\n\t\t\t\t\t60 * (h === 6 ? 0 : h),\r\n\t\t\t\t\t100 * (m / v),\r\n\t\t\t\t\t100 * v\r\n\t\t\t\t];\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// h: 0-360\r\n\t\t\t// s: 0-100\r\n\t\t\t// v: 0-100\r\n\t\t\t//\r\n\t\t\t// returns: [ 0-255, 0-255, 0-255 ]\r\n\t\t\t//\r\n\t\t\tHSV_RGB: function (h: any, s: any, v: any)\r\n\t\t\t{\r\n\t\t\t\tvar u = 255 * (v / 100);\r\n\r\n\t\t\t\tif (h === null)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn [u, u, u];\r\n\t\t\t\t}\r\n\r\n\t\t\t\th /= 60;\r\n\t\t\t\ts /= 100;\r\n\r\n\t\t\t\tvar i = Math.floor(h);\r\n\t\t\t\tvar f = i % 2 ? h - i : 1 - (h - i);\r\n\t\t\t\tvar m = u * (1 - s);\r\n\t\t\t\tvar n = u * (1 - s * f);\r\n\t\t\t\tswitch (i)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\tcase 0: return [u, n, m];\r\n\t\t\t\t\tcase 1: return [n, u, m];\r\n\t\t\t\t\tcase 2: return [m, u, n];\r\n\t\t\t\t\tcase 3: return [m, n, u];\r\n\t\t\t\t\tcase 4: return [n, m, u];\r\n\t\t\t\t\tcase 5: return [u, m, n];\r\n\t\t\t\t}\r\n\t\t\t\treturn u;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tparseColorString: function (str: any)\r\n\t\t\t{\r\n\t\t\t\tvar ret: any = {\r\n\t\t\t\t\trgba: null,\r\n\t\t\t\t\tformat: null // 'hex' | 'hexa' | 'rgb' | 'rgba'\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar m;\r\n\r\n\t\t\t\tif (m = str.match(/^\\W*([0-9A-F]{3,8})\\W*$/i))\r\n\t\t\t\t{\r\n\t\t\t\t\t// HEX notation\r\n\r\n\t\t\t\t\tif (m[1].length === 8)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// 8-char notation (= with alpha)\r\n\t\t\t\t\t\tret.format = 'hexa';\r\n\t\t\t\t\t\tret.rgba = [\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(0, 2), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(2, 2), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(4, 2), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(6, 2), 16) / 255\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t} else if (m[1].length === 6)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// 6-char notation\r\n\t\t\t\t\t\tret.format = 'hex';\r\n\t\t\t\t\t\tret.rgba = [\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(0, 2), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(2, 2), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].substr(4, 2), 16),\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t} else if (m[1].length === 3)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// 3-char notation\r\n\t\t\t\t\t\tret.format = 'hex';\r\n\t\t\t\t\t\tret.rgba = [\r\n\t\t\t\t\t\t\tparseInt(m[1].charAt(0) + m[1].charAt(0), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].charAt(1) + m[1].charAt(1), 16),\r\n\t\t\t\t\t\t\tparseInt(m[1].charAt(2) + m[1].charAt(2), 16),\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i))\r\n\t\t\t\t{\r\n\t\t\t\t\t// rgb(...) or rgba(...) notation\r\n\r\n\t\t\t\t\tvar par = m[1].split(',');\r\n\t\t\t\t\tvar re = /^\\s*(\\d+|\\d*\\.\\d+|\\d+\\.\\d*)\\s*$/;\r\n\t\t\t\t\tvar mR, mG, mB, mA;\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tpar.length >= 3 &&\r\n\t\t\t\t\t\t(mR = par[0].match(re)) &&\r\n\t\t\t\t\t\t(mG = par[1].match(re)) &&\r\n\t\t\t\t\t\t(mB = par[2].match(re))\r\n\t\t\t\t\t)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tret.format = 'rgb';\r\n\t\t\t\t\t\tret.rgba = [\r\n\t\t\t\t\t\t\tparseFloat(mR[1]) || 0,\r\n\t\t\t\t\t\t\tparseFloat(mG[1]) || 0,\r\n\t\t\t\t\t\t\tparseFloat(mB[1]) || 0,\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tpar.length >= 4 &&\r\n\t\t\t\t\t\t\t(mA = par[3].match(re))\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tret.format = 'rgba';\r\n\t\t\t\t\t\t\tret.rgba[3] = parseFloat(mA[1]) || 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tparsePaletteValue: function (mixed: any)\r\n\t\t\t{\r\n\t\t\t\tvar vals = [];\r\n\r\n\t\t\t\tif (typeof mixed === 'string')\r\n\t\t\t\t{ // input is a string of space separated color values\r\n\t\t\t\t\t// rgb() and rgba() may contain spaces too, so let's find all color values by regex\r\n\t\t\t\t\t(mixed as any).replace(/#[0-9A-F]{3}([0-9A-F]{3})?|rgba?\\(([^)]*)\\)/ig, function (val: any)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvals.push(val);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (Array.isArray(mixed))\r\n\t\t\t\t{ // input is an array of color values\r\n\t\t\t\t\tvals = mixed;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// convert all values into uniform color format\r\n\r\n\t\t\t\tvar colors = [];\r\n\r\n\t\t\t\tfor (var i = 0; i < vals.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar color = jsc.parseColorString(vals[i]);\r\n\t\t\t\t\tif (color)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolors.push(color);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn colors;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcontainsTranparentColor: function (colors: any)\r\n\t\t\t{\r\n\t\t\t\tfor (var i = 0; i < colors.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar a = colors[i].rgba[3];\r\n\t\t\t\t\tif (a !== null && a < 1.0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tisAlphaFormat: function (format: any)\r\n\t\t\t{\r\n\t\t\t\tswitch (format.toLowerCase())\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'hexa':\r\n\t\t\t\t\tcase 'rgba':\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// Canvas scaling for retina displays\r\n\t\t\t//\r\n\t\t\t// adapted from https://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n\t\t\t//\r\n\t\t\tscaleCanvasForHighDPR: function (canvas: any)\r\n\t\t\t{\r\n\t\t\t\tvar dpr = window.devicePixelRatio || 1;\r\n\t\t\t\tcanvas.width *= dpr;\r\n\t\t\t\tcanvas.height *= dpr;\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\t\t\t\tctx.scale(dpr, dpr);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgenColorPreviewCanvas: function (color: any, separatorPos: any, specWidth: any, scaleForHighDPR: any)\r\n\t\t\t{\r\n\r\n\t\t\t\tvar sepW = Math.round(jsc.pub.previewSeparator.length);\r\n\t\t\t\tvar sqSize = jsc.pub.chessboardSize;\r\n\t\t\t\tvar sqColor1 = jsc.pub.chessboardColor1;\r\n\t\t\t\tvar sqColor2 = jsc.pub.chessboardColor2;\r\n\r\n\t\t\t\tvar cWidth = specWidth ? specWidth : sqSize * 2;\r\n\t\t\t\tvar cHeight = sqSize * 2;\r\n\r\n\t\t\t\tvar canvas = jsc.createEl('canvas');\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\tcanvas.width = cWidth;\r\n\t\t\t\tcanvas.height = cHeight;\r\n\t\t\t\tif (scaleForHighDPR)\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.scaleCanvasForHighDPR(canvas);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// transparency chessboard - background\r\n\t\t\t\tctx.fillStyle = sqColor1;\r\n\t\t\t\tctx.fillRect(0, 0, cWidth, cHeight);\r\n\r\n\t\t\t\t// transparency chessboard - squares\r\n\t\t\t\tctx.fillStyle = sqColor2;\r\n\t\t\t\tfor (var x = 0; x < cWidth; x += sqSize * 2)\r\n\t\t\t\t{\r\n\t\t\t\t\tctx.fillRect(x, 0, sqSize, sqSize);\r\n\t\t\t\t\tctx.fillRect(x + sqSize, sqSize, sqSize, sqSize);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (color)\r\n\t\t\t\t{\r\n\t\t\t\t\t// actual color in foreground\r\n\t\t\t\t\tctx.fillStyle = color;\r\n\t\t\t\t\tctx.fillRect(0, 0, cWidth, cHeight);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar start = null;\r\n\t\t\t\tswitch (separatorPos)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\tstart = 0;\r\n\t\t\t\t\t\tctx.clearRect(0, 0, sepW / 2, cHeight);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\tstart = cWidth - sepW;\r\n\t\t\t\t\t\tctx.clearRect(cWidth - (sepW / 2), 0, sepW / 2, cHeight);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (start !== null)\r\n\t\t\t\t{\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tfor (var i = 0; i < jsc.pub.previewSeparator.length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\tctx.strokeStyle = jsc.pub.previewSeparator[i];\r\n\t\t\t\t\t\tctx.moveTo(0.5 + start + i, 0);\r\n\t\t\t\t\t\tctx.lineTo(0.5 + start + i, cHeight);\r\n\t\t\t\t\t\tctx.stroke();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcanvas: canvas,\r\n\t\t\t\t\twidth: cWidth,\r\n\t\t\t\t\theight: cHeight,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// if position or width is not set => fill the entire element (0%-100%)\r\n\t\t\tgenColorPreviewGradient: function (color: any, position: any, width: any)\r\n\t\t\t{\r\n\t\t\t\tvar params = [];\r\n\r\n\t\t\t\tif (position && width)\r\n\t\t\t\t{\r\n\t\t\t\t\tparams = [\r\n\t\t\t\t\t\t'to ' + ({ 'left': 'right', 'right': 'left' } as any)[position],\r\n\t\t\t\t\t\tcolor + ' 0%',\r\n\t\t\t\t\t\tcolor + ' ' + width + 'px',\r\n\t\t\t\t\t\t'rgba(0,0,0,0) ' + (width + 1) + 'px',\r\n\t\t\t\t\t\t'rgba(0,0,0,0) 100%',\r\n\t\t\t\t\t];\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tparams = [\r\n\t\t\t\t\t\t'to right',\r\n\t\t\t\t\t\tcolor + ' 0%',\r\n\t\t\t\t\t\tcolor + ' 100%',\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn jsc.linearGradient.apply(this, params);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tredrawPosition: function ()\r\n\t\t\t{\r\n\r\n\t\t\t\tif (!jsc.picker || !jsc.picker.owner)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn; // picker is not shown\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar thisObj = jsc.picker.owner;\r\n\r\n\t\t\t\tvar tp, vp;\r\n\r\n\t\t\t\tif (thisObj.fixed)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Fixed elements are positioned relative to viewport,\r\n\t\t\t\t\t// therefore we can ignore the scroll offset\r\n\t\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\r\n\t\t\t\t\tvp = [0, 0]; // view pos\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\r\n\t\t\t\t\tvp = jsc.getViewPos(); // view pos\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\r\n\t\t\t\tvar vs = jsc.getViewSize(); // view size\r\n\t\t\t\tvar pd = jsc.getPickerDims(thisObj);\r\n\t\t\t\tvar ps = [pd.borderW, pd.borderH]; // picker outer size\r\n\t\t\t\tvar a, b, c;\r\n\t\t\t\tswitch (thisObj.position.toLowerCase())\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'left': a = 1; b = 0; c = -1; break;\r\n\t\t\t\t\tcase 'right': a = 1; b = 0; c = 1; break;\r\n\t\t\t\t\tcase 'top': a = 0; b = 1; c = -1; break;\r\n\t\t\t\t\tdefault: a = 0; b = 1; c = 1; break;\r\n\t\t\t\t}\r\n\t\t\t\tvar l = (ts[b] + ps[b]) / 2;\r\n\r\n\t\t\t\t// compute picker position\r\n\t\t\t\tif (!thisObj.smartPosition)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar pp = [\r\n\t\t\t\t\t\ttp[a],\r\n\t\t\t\t\t\ttp[b] + ts[b] - l + l * c\r\n\t\t\t\t\t];\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tvar pp = [\r\n\t\t\t\t\t\t-vp[a] + tp[a] + ps[a] > vs[a] ?\r\n\t\t\t\t\t\t\t(-vp[a] + tp[a] + ts[a] / 2 > vs[a] / 2 && tp[a] + ts[a] - ps[a] >= 0 ? tp[a] + ts[a] - ps[a] : tp[a]) :\r\n\t\t\t\t\t\t\ttp[a],\r\n\t\t\t\t\t\t-vp[b] + tp[b] + ts[b] + ps[b] - l + l * c > vs[b] ?\r\n\t\t\t\t\t\t\t(-vp[b] + tp[b] + ts[b] / 2 > vs[b] / 2 && tp[b] + ts[b] - l - l * c >= 0 ? tp[b] + ts[b] - l - l * c : tp[b] + ts[b] - l + l * c) :\r\n\t\t\t\t\t\t\t(tp[b] + ts[b] - l + l * c >= 0 ? tp[b] + ts[b] - l + l * c : tp[b] + ts[b] - l - l * c)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar x = pp[a];\r\n\t\t\t\tvar y = pp[b];\r\n\t\t\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\r\n\t\t\t\tvar contractShadow =\r\n\t\t\t\t\t(pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\r\n\t\t\t\t\t(pp[1] + ps[1] < tp[1] + ts[1]);\r\n\r\n\t\t\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\r\n\t\t\t},\r\n\r\n\r\n\t\t\t_drawPosition: function (thisObj: any, x: any, y: any, positionValue: any, contractShadow: any)\r\n\t\t\t{\r\n\t\t\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\r\n\r\n\t\t\t\tjsc.picker.wrap.style.position = positionValue;\r\n\t\t\t\tjsc.picker.wrap.style.left = x + 'px';\r\n\t\t\t\tjsc.picker.wrap.style.top = y + 'px';\r\n\r\n\t\t\t\tjsc.setBoxShadow(\r\n\t\t\t\t\tjsc.picker.boxS,\r\n\t\t\t\t\tthisObj.shadow ?\r\n\t\t\t\t\t\tnew jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) :\r\n\t\t\t\t\t\tnull);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetPickerDims: function (thisObj: any)\r\n\t\t\t{\r\n\t\t\t\tvar w = 2 * thisObj.controlBorderWidth + thisObj.width;\r\n\t\t\t\tvar h = 2 * thisObj.controlBorderWidth + thisObj.height;\r\n\r\n\t\t\t\tvar sliderSpace = 2 * thisObj.controlBorderWidth + 2 * jsc.getControlPadding(thisObj) + thisObj.sliderSize;\r\n\r\n\t\t\t\tif (jsc.getSliderChannel(thisObj))\r\n\t\t\t\t{\r\n\t\t\t\t\tw += sliderSpace;\r\n\t\t\t\t}\r\n\t\t\t\tif (thisObj.hasAlphaChannel())\r\n\t\t\t\t{\r\n\t\t\t\t\tw += sliderSpace;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar pal = jsc.getPaletteDims(thisObj, w);\r\n\r\n\t\t\t\tif (pal.height)\r\n\t\t\t\t{\r\n\t\t\t\t\th += pal.height + thisObj.padding;\r\n\t\t\t\t}\r\n\t\t\t\tif (thisObj.closeButton)\r\n\t\t\t\t{\r\n\t\t\t\t\th += 2 * thisObj.controlBorderWidth + thisObj.padding + thisObj.buttonHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar pW = w + (2 * thisObj.padding);\r\n\t\t\t\tvar pH = h + (2 * thisObj.padding);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcontentW: w,\r\n\t\t\t\t\tcontentH: h,\r\n\t\t\t\t\tpaddedW: pW,\r\n\t\t\t\t\tpaddedH: pH,\r\n\t\t\t\t\tborderW: pW + (2 * thisObj.borderWidth),\r\n\t\t\t\t\tborderH: pH + (2 * thisObj.borderWidth),\r\n\t\t\t\t\tpalette: pal,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetPaletteDims: function (thisObj: any, width: any)\r\n\t\t\t{\r\n\t\t\t\tvar cols = 0, rows = 0, cellW = 0, cellH = 0, height = 0;\r\n\t\t\t\tvar sampleCount = thisObj._palette ? thisObj._palette.length : 0;\r\n\r\n\t\t\t\tif (sampleCount)\r\n\t\t\t\t{\r\n\t\t\t\t\tcols = thisObj.paletteCols;\r\n\t\t\t\t\trows = cols > 0 ? Math.ceil(sampleCount / cols) : 0;\r\n\r\n\t\t\t\t\t// color sample's dimensions (includes border)\r\n\t\t\t\t\tcellW = Math.max(1, Math.floor((width - ((cols - 1) * thisObj.paletteSpacing)) / cols));\r\n\t\t\t\t\tcellH = thisObj.paletteHeight ? Math.min(thisObj.paletteHeight, cellW) : cellW;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (rows)\r\n\t\t\t\t{\r\n\t\t\t\t\theight =\r\n\t\t\t\t\t\trows * cellH +\r\n\t\t\t\t\t\t(rows - 1) * thisObj.paletteSpacing;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcols: cols,\r\n\t\t\t\t\trows: rows,\r\n\t\t\t\t\tcellW: cellW,\r\n\t\t\t\t\tcellH: cellH,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetControlPadding: function (thisObj: any)\r\n\t\t\t{\r\n\t\t\t\treturn Math.max(\r\n\t\t\t\t\tthisObj.padding / 2,\r\n\t\t\t\t\t(2 * thisObj.pointerBorderWidth + thisObj.pointerThickness) - thisObj.controlBorderWidth\r\n\t\t\t\t);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetPadYChannel: function (thisObj: any)\r\n\t\t\t{\r\n\t\t\t\tswitch (thisObj.mode.charAt(1).toLowerCase())\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'v': return 'v'; break;\r\n\t\t\t\t}\r\n\t\t\t\treturn 's';\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetSliderChannel: function (thisObj: any)\r\n\t\t\t{\r\n\t\t\t\tif (thisObj.mode.length > 2)\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 's': return 's'; break;\r\n\t\t\t\t\t\tcase 'v': return 'v'; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// calls function specified in picker's property\r\n\t\t\ttriggerCallback: function (thisObj: any, prop: any)\r\n\t\t\t{\r\n\t\t\t\tif (!thisObj[prop])\r\n\t\t\t\t{\r\n\t\t\t\t\treturn; // callback func not specified\r\n\t\t\t\t}\r\n\t\t\t\tvar callback = null;\r\n\r\n\t\t\t\tif (typeof thisObj[prop] === 'string')\r\n\t\t\t\t{\r\n\t\t\t\t\t// string with code\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcallback = new Function(thisObj[prop]);\r\n\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t// function\r\n\t\t\t\t\tcallback = thisObj[prop];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (callback)\r\n\t\t\t\t{\r\n\t\t\t\t\tcallback.call(thisObj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// Triggers a color change related event(s) on all picker instances.\r\n\t\t\t// It is possible to specify multiple events separated with a space.\r\n\t\t\ttriggerGlobal: function (eventNames: any)\r\n\t\t\t{\r\n\t\t\t\tvar inst = jsc.getInstances();\r\n\t\t\t\tfor (var i = 0; i < inst.length; i += 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tinst[i].trigger(eventNames);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t_pointerMoveEvent: {\r\n\t\t\t\tmouse: 'mousemove',\r\n\t\t\t\ttouch: 'touchmove'\r\n\t\t\t},\r\n\t\t\t_pointerEndEvent: {\r\n\t\t\t\tmouse: 'mouseup',\r\n\t\t\t\ttouch: 'touchend'\r\n\t\t\t},\r\n\r\n\r\n\t\t\t_pointerOrigin: null,\r\n\t\t\t_capturedTarget: null,\r\n\r\n\r\n\t\t\tonDocumentKeyUp: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tif (['Tab', 'Escape'].indexOf(jsc.eventKey(e)) !== -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.picker && jsc.picker.owner)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonWindowResize: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tjsc.redrawPosition();\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonWindowScroll: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tjsc.redrawPosition();\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonParentScroll: function (e: any)\r\n\t\t\t{\r\n\t\t\t\t// hide the picker when one of the parent elements is scrolled\r\n\t\t\t\tif (jsc.picker && jsc.picker.owner)\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonDocumentMouseDown: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\t\t\tif (target.jscolor && target.jscolor instanceof jsc.pub)\r\n\t\t\t\t{ // clicked targetElement -> show picker\r\n\t\t\t\t\tif (target.jscolor.showOnClick && !target.disabled)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttarget.jscolor.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (jsc.getData(target, 'gui'))\r\n\t\t\t\t{ // clicked jscolor's GUI element\r\n\t\t\t\t\tvar control = jsc.getData(target, 'control');\r\n\t\t\t\t\tif (control)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// jscolor's control\r\n\t\t\t\t\t\tjsc.onControlPointerStart(e, target, jsc.getData(target, 'control'), 'mouse');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t// mouse is outside the picker's controls -> hide the color picker!\r\n\t\t\t\t\tif (jsc.picker && jsc.picker.owner)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjsc.picker.owner.tryHide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonPickerTouchStart: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\t\t\tif (jsc.getData(target, 'control'))\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.onControlPointerStart(e, target, jsc.getData(target, 'control'), 'touch');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonControlPointerStart: function (e: any, target: any, controlName: any, pointerType: any)\r\n\t\t\t{\r\n\t\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\r\n\t\t\t\tjsc.preventDefault(e);\r\n\t\t\t\tjsc.captureTarget(target);\r\n\r\n\t\t\t\tvar registerDragEvents = function (doc: any, offset: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType],\r\n\t\t\t\t\t\tjsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\r\n\t\t\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType],\r\n\t\t\t\t\t\tjsc.onDocumentPointerEnd(e, target, controlName, pointerType));\r\n\t\t\t\t};\r\n\r\n\t\t\t\tregisterDragEvents(window.document, [0, 0]);\r\n\r\n\t\t\t\tif (window.parent && window.frameElement)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar rect = window.frameElement.getBoundingClientRect();\r\n\t\t\t\t\tvar ofs = [-rect.left, -rect.top];\r\n\t\t\t\t\tregisterDragEvents(window.parent.window.document, ofs);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar abs = jsc.getAbsPointerPos(e);\r\n\t\t\t\tvar rel = jsc.getRelPointerPos(e);\r\n\t\t\t\tjsc._pointerOrigin = {\r\n\t\t\t\t\tx: abs.x - rel.x,\r\n\t\t\t\t\ty: abs.y - rel.y\r\n\t\t\t\t};\r\n\r\n\t\t\t\tswitch (controlName)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'pad':\r\n\t\t\t\t\t\t// if the value slider is at the bottom, move it up\r\n\t\t\t\t\t\tif (jsc.getSliderChannel(thisObj) === 'v' && thisObj.channels.v === 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthisObj.fromHSVA(null, null, 100, null);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tjsc.setPad(thisObj, e, 0, 0);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'sld':\r\n\t\t\t\t\t\tjsc.setSld(thisObj, e, 0);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'asld':\r\n\t\t\t\t\t\tjsc.setASld(thisObj, e, 0);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthisObj.trigger('input');\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonDocumentPointerMove: function (e: any, target: any, controlName: any, pointerType: any, offset: any)\r\n\t\t\t{\r\n\t\t\t\treturn function (e: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\t\t\tswitch (controlName)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 'pad':\r\n\t\t\t\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'sld':\r\n\t\t\t\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'asld':\r\n\t\t\t\t\t\t\tjsc.setASld(thisObj, e, offset[1]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthisObj.trigger('input');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonDocumentPointerEnd: function (e: any, target: any, controlName: any, pointerType: any)\r\n\t\t\t{\r\n\t\t\t\treturn function (e: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\t\t\tjsc.detachGroupEvents('drag');\r\n\t\t\t\t\tjsc.releaseTarget();\r\n\r\n\t\t\t\t\t// Always trigger changes AFTER detaching outstanding mouse handlers,\r\n\t\t\t\t\t// in case some color change that occured in user-defined onChange/onInput handler\r\n\t\t\t\t\t// intruded into current mouse events\r\n\t\t\t\t\tthisObj.trigger('input');\r\n\t\t\t\t\tthisObj.trigger('change');\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\r\n\t\t\tonPaletteSampleClick: function (e: any)\r\n\t\t\t{\r\n\t\t\t\tvar target = e.currentTarget;\r\n\t\t\t\tvar thisObj = jsc.getData(target, 'instance');\r\n\t\t\t\tvar color = jsc.getData(target, 'color');\r\n\r\n\t\t\t\t// when format is flexible, use the original format of this color sample\r\n\t\t\t\tif (thisObj.format.toLowerCase() === 'any')\r\n\t\t\t\t{\r\n\t\t\t\t\tthisObj._setFormat(color.format); // adapt format\r\n\t\t\t\t\tif (!jsc.isAlphaFormat(thisObj.getFormat()))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolor.rgba[3] = 1.0; // when switching to a format that doesn't support alpha, set full opacity\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if this color doesn't specify alpha, use alpha of 1.0 (if applicable)\r\n\t\t\t\tif (color.rgba[3] === null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (thisObj.paletteSetsAlpha === true || (thisObj.paletteSetsAlpha === 'auto' && thisObj._paletteHasTransparency))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolor.rgba[3] = 1.0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthisObj.fromRGBA.apply(thisObj, color.rgba);\r\n\r\n\t\t\t\tthisObj.trigger('input');\r\n\t\t\t\tthisObj.trigger('change');\r\n\r\n\t\t\t\tif (thisObj.hideOnPaletteClick)\r\n\t\t\t\t{\r\n\t\t\t\t\tthisObj.hide();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsetPad: function (thisObj: any, e: any, ofsX: any, ofsY: any)\r\n\t\t\t{\r\n\t\t\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\t\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\t\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\r\n\t\t\t\tvar xVal = x * (360 / (thisObj.width - 1));\r\n\t\t\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\t\t\tswitch (jsc.getPadYChannel(thisObj))\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 's': thisObj.fromHSVA(xVal, yVal, null, null); break;\r\n\t\t\t\t\tcase 'v': thisObj.fromHSVA(xVal, null, yVal, null); break;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsetSld: function (thisObj: any, e: any, ofsY: any)\r\n\t\t\t{\r\n\t\t\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\t\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\t\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\t\t\tswitch (jsc.getSliderChannel(thisObj))\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 's': thisObj.fromHSVA(null, yVal, null, null); break;\r\n\t\t\t\t\tcase 'v': thisObj.fromHSVA(null, null, yVal, null); break;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsetASld: function (thisObj: any, e: any, ofsY: any)\r\n\t\t\t{\r\n\t\t\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\t\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.controlBorderWidth;\r\n\t\t\t\tvar yVal = 1.0 - (y * (1.0 / (thisObj.height - 1)));\r\n\r\n\t\t\t\tif (yVal < 1.0)\r\n\t\t\t\t{\r\n\t\t\t\t\t// if format is flexible and the current format doesn't support alpha, switch to a suitable one\r\n\t\t\t\t\tvar fmt = thisObj.getFormat();\r\n\t\t\t\t\tif (thisObj.format.toLowerCase() === 'any' && !jsc.isAlphaFormat(fmt))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthisObj._setFormat(fmt === 'hex' ? 'hexa' : 'rgba');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthisObj.fromHSVA(null, null, null, yVal);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcreatePadCanvas: function ()\r\n\t\t\t{\r\n\r\n\t\t\t\tvar ret: any = {\r\n\t\t\t\t\telm: null,\r\n\t\t\t\t\tdraw: null\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar canvas = jsc.createEl('canvas');\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\tvar drawFunc = function (width: any, height: any, type: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tcanvas.width = width;\r\n\t\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n\t\t\t\t\thGrad.addColorStop(0 / 6, '#F00');\r\n\t\t\t\t\thGrad.addColorStop(1 / 6, '#FF0');\r\n\t\t\t\t\thGrad.addColorStop(2 / 6, '#0F0');\r\n\t\t\t\t\thGrad.addColorStop(3 / 6, '#0FF');\r\n\t\t\t\t\thGrad.addColorStop(4 / 6, '#00F');\r\n\t\t\t\t\thGrad.addColorStop(5 / 6, '#F0F');\r\n\t\t\t\t\thGrad.addColorStop(6 / 6, '#F00');\r\n\r\n\t\t\t\t\tctx.fillStyle = hGrad;\r\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\t\tswitch (type.toLowerCase())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 's':\r\n\t\t\t\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\r\n\t\t\t\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\r\n\t\t\t\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tctx.fillStyle = vGrad;\r\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tret.elm = canvas;\r\n\t\t\t\tret.draw = drawFunc;\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcreateSliderGradient: function ()\r\n\t\t\t{\r\n\r\n\t\t\t\tvar ret: any = {\r\n\t\t\t\t\telm: null,\r\n\t\t\t\t\tdraw: null\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar canvas = jsc.createEl('canvas');\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\tvar drawFunc = function (width: any, height: any, color1: any, color2: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tcanvas.width = width;\r\n\t\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\t\tgrad.addColorStop(0, color1);\r\n\t\t\t\t\tgrad.addColorStop(1, color2);\r\n\r\n\t\t\t\t\tctx.fillStyle = grad;\r\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tret.elm = canvas;\r\n\t\t\t\tret.draw = drawFunc;\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcreateASliderGradient: function ()\r\n\t\t\t{\r\n\r\n\t\t\t\tvar ret: any = {\r\n\t\t\t\t\telm: null,\r\n\t\t\t\t\tdraw: null\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar canvas = jsc.createEl('canvas');\r\n\t\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\tvar drawFunc = function (width: any, height: any, color: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tcanvas.width = width;\r\n\t\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\tvar sqSize = canvas.width / 2;\r\n\t\t\t\t\tvar sqColor1 = jsc.pub.chessboardColor1;\r\n\t\t\t\t\tvar sqColor2 = jsc.pub.chessboardColor2;\r\n\r\n\t\t\t\t\t// dark gray background\r\n\t\t\t\t\tctx.fillStyle = sqColor1;\r\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\t\tif (sqSize > 0)\r\n\t\t\t\t\t{ // to avoid infinite loop\r\n\t\t\t\t\t\tfor (var y = 0; y < canvas.height; y += sqSize * 2)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// light gray squares\r\n\t\t\t\t\t\t\tctx.fillStyle = sqColor2;\r\n\t\t\t\t\t\t\tctx.fillRect(0, y, sqSize, sqSize);\r\n\t\t\t\t\t\t\tctx.fillRect(sqSize, y + sqSize, sqSize, sqSize);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\t\tgrad.addColorStop(0, color);\r\n\t\t\t\t\tgrad.addColorStop(1, 'rgba(0,0,0,0)');\r\n\r\n\t\t\t\t\tctx.fillStyle = grad;\r\n\t\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tret.elm = canvas;\r\n\t\t\t\tret.draw = drawFunc;\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\r\n\r\n\t\t\tBoxShadow: (function ()\r\n\t\t\t{\r\n\t\t\t\tvar BoxShadow: any = function (hShadow: any, vShadow: any, blur: any, spread: any, color: any, inset: any)\r\n\t\t\t\t{\r\n\t\t\t\t\thShadow = hShadow;\r\n\t\t\t\t\tvShadow = vShadow;\r\n\t\t\t\t\tblur = blur;\r\n\t\t\t\t\tspread = spread;\r\n\t\t\t\t\tcolor = color;\r\n\t\t\t\t\tinset = !!inset;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tBoxShadow.prototype.toString = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar vals = [\r\n\t\t\t\t\t\tMath.round(this.hShadow) + 'px',\r\n\t\t\t\t\t\tMath.round(this.vShadow) + 'px',\r\n\t\t\t\t\t\tMath.round(this.blur) + 'px',\r\n\t\t\t\t\t\tMath.round(this.spread) + 'px',\r\n\t\t\t\t\t\tthis.color\r\n\t\t\t\t\t];\r\n\t\t\t\t\tif (this.inset)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvals.push('inset');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn vals.join(' ');\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn BoxShadow;\r\n\t\t\t})(),\r\n\r\n\r\n\t\t\tflags: {\r\n\t\t\t\tleaveValue: 1 << 0,\r\n\t\t\t\tleaveAlpha: 1 << 1,\r\n\t\t\t\tleavePreview: 1 << 2,\r\n\t\t\t},\r\n\r\n\r\n\t\t\tenumOpts: {\r\n\t\t\t\tformat: ['auto', 'any', 'hex', 'hexa', 'rgb', 'rgba'],\r\n\t\t\t\tpreviewPosition: ['left', 'right'],\r\n\t\t\t\tmode: ['hsv', 'hvs', 'hs', 'hv'],\r\n\t\t\t\tposition: ['left', 'right', 'top', 'bottom'],\r\n\t\t\t\talphaChannel: ['auto', true, false],\r\n\t\t\t\tpaletteSetsAlpha: ['auto', true, false],\r\n\t\t\t},\r\n\r\n\r\n\t\t\tdeprecatedOpts: {\r\n\t\t\t\t// <old_option>: <new_option>  (<new_option> can be null)\r\n\t\t\t\t'styleElement': 'previewElement',\r\n\t\t\t\t'onFineChange': 'onInput',\r\n\t\t\t\t'overwriteImportant': 'forceStyle',\r\n\t\t\t\t'closable': 'closeButton',\r\n\t\t\t\t'insetWidth': 'controlBorderWidth',\r\n\t\t\t\t'insetColor': 'controlBorderColor',\r\n\t\t\t\t'refine': null,\r\n\t\t\t},\r\n\r\n\r\n\t\t\tdocsRef: ' ' + 'See https://jscolor.com/docs/',\r\n\r\n\r\n\t\t\t//\r\n\t\t\t// Usage:\r\n\t\t\t// var myPicker = new JSColor(<targetElement> [, <options>])\r\n\t\t\t//\r\n\t\t\t// (constructor is accessible via both 'jscolor' and 'JSColor' name)\r\n\t\t\t//\r\n\r\n\t\t\tpub: function (targetElement: any, opts: any)\r\n\t\t\t{\r\n\r\n\t\t\t\tvar THIS = this;\r\n\r\n\t\t\t\tif (!opts)\r\n\t\t\t\t{\r\n\t\t\t\t\topts = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.channels = {\r\n\t\t\t\t\tr: 255, // red [0-255]\r\n\t\t\t\t\tg: 255, // green [0-255]\r\n\t\t\t\t\tb: 255, // blue [0-255]\r\n\t\t\t\t\th: 0, // hue [0-360]\r\n\t\t\t\t\ts: 0, // saturation [0-100]\r\n\t\t\t\t\tv: 100, // value (brightness) [0-100]\r\n\t\t\t\t\ta: 1.0, // alpha (opacity) [0.0 - 1.0]\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// General options\r\n\t\t\t\t//\r\n\t\t\t\tthis.format = 'auto'; // 'auto' | 'any' | 'hex' | 'hexa' | 'rgb' | 'rgba' - Format of the input/output value\r\n\t\t\t\tthis.value = undefined; // INITIAL color value in any supported format. To change it later, use method fromString(), fromHSVA(), fromRGBA() or channel()\r\n\t\t\t\tthis.alpha = undefined; // INITIAL alpha value. To change it later, call method channel('A', <value>)\r\n\t\t\t\tthis.random = false; // whether to randomize the initial color. Either true | false, or an array of ranges: [minV, maxV, minS, maxS, minH, maxH, minA, maxA]\r\n\t\t\t\tthis.onChange = undefined; // called when color changes. Value can be either a function or a string with JS code.\r\n\t\t\t\tthis.onInput = undefined; // called repeatedly as the color is being changed, e.g. while dragging a slider. Value can be either a function or a string with JS code.\r\n\t\t\t\tthis.valueElement = undefined; // element that will be used to display and input the color value\r\n\t\t\t\tthis.alphaElement = undefined; // element that will be used to display and input the alpha (opacity) value\r\n\t\t\t\tthis.previewElement = undefined; // element that will preview the picked color using CSS background\r\n\t\t\t\tthis.previewPosition = 'left'; // 'left' | 'right' - position of the color preview in previewElement\r\n\t\t\t\tthis.previewSize = 32; // (px) width of the color preview displayed in previewElement\r\n\t\t\t\tthis.previewPadding = 8; // (px) space between color preview and content of the previewElement\r\n\t\t\t\tthis.required = true; // whether the associated text input must always contain a color value. If false, the input can be left empty.\r\n\t\t\t\tthis.hash = true; // whether to prefix the HEX color code with # symbol (only applicable for HEX format)\r\n\t\t\t\tthis.uppercase = true; // whether to show the HEX color code in upper case (only applicable for HEX format)\r\n\t\t\t\tthis.forceStyle = true; // whether to overwrite CSS style of the previewElement using !important flag\r\n\r\n\t\t\t\t// Color Picker options\r\n\t\t\t\t//\r\n\t\t\t\tthis.width = 181; // width of the color spectrum (in px)\r\n\t\t\t\tthis.height = 101; // height of the color spectrum (in px)\r\n\t\t\t\tthis.mode = 'HSV'; // 'HSV' | 'HVS' | 'HS' | 'HV' - layout of the color picker controls\r\n\t\t\t\tthis.alphaChannel = 'auto'; // 'auto' | true | false - if alpha channel is enabled, the alpha slider will be visible. If 'auto', it will be determined according to color format\r\n\t\t\t\tthis.position = 'bottom'; // 'left' | 'right' | 'top' | 'bottom' - position relative to the target element\r\n\t\t\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\r\n\t\t\t\tthis.showOnClick = true; // whether to show the picker when user clicks its target element\r\n\t\t\t\tthis.hideOnLeave = true; // whether to automatically hide the picker when user leaves its target element (e.g. upon clicking the document)\r\n\t\t\t\tthis.palette = []; // colors to be displayed in the palette, specified as an array or a string of space separated color values (in any supported format)\r\n\t\t\t\tthis.paletteCols = 10; // number of columns in the palette\r\n\t\t\t\tthis.paletteSetsAlpha = 'auto'; // 'auto' | true | false - if true, palette colors that don't specify alpha will set alpha to 1.0\r\n\t\t\t\tthis.paletteHeight = 16; // maximum height (px) of a row in the palette\r\n\t\t\t\tthis.paletteSpacing = 4; // distance (px) between color samples in the palette\r\n\t\t\t\tthis.hideOnPaletteClick = false; // when set to true, clicking the palette will also hide the color picker\r\n\t\t\t\tthis.sliderSize = 16; // px\r\n\t\t\t\tthis.crossSize = 8; // px\r\n\t\t\t\tthis.closeButton = false; // whether to display the Close button\r\n\t\t\t\tthis.closeText = 'Close';\r\n\t\t\t\tthis.buttonColor = 'rgba(0,0,0,1)'; // CSS color\r\n\t\t\t\tthis.buttonHeight = 18; // px\r\n\t\t\t\tthis.padding = 12; // px\r\n\t\t\t\tthis.backgroundColor = 'rgba(255,255,255,1)'; // CSS color\r\n\t\t\t\tthis.borderWidth = 1; // px\r\n\t\t\t\tthis.borderColor = 'rgba(187,187,187,1)'; // CSS color\r\n\t\t\t\tthis.borderRadius = 8; // px\r\n\t\t\t\tthis.controlBorderWidth = 1; // px\r\n\t\t\t\tthis.controlBorderColor = 'rgba(187,187,187,1)'; // CSS color\r\n\t\t\t\tthis.shadow = true; // whether to display a shadow\r\n\t\t\t\tthis.shadowBlur = 15; // px\r\n\t\t\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\r\n\t\t\t\tthis.pointerColor = 'rgba(76,76,76,1)'; // CSS color\r\n\t\t\t\tthis.pointerBorderWidth = 1; // px\r\n\t\t\t\tthis.pointerBorderColor = 'rgba(255,255,255,1)'; // CSS color\r\n\t\t\t\tthis.pointerThickness = 2; // px\r\n\t\t\t\tthis.zIndex = 5000;\r\n\t\t\t\tthis.container = undefined; // where to append the color picker (BODY element by default)\r\n\r\n\t\t\t\t// Experimental\r\n\t\t\t\t//\r\n\t\t\t\tthis.minS = 0; // min allowed saturation (0 - 100)\r\n\t\t\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\r\n\t\t\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\r\n\t\t\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\r\n\t\t\t\tthis.minA = 0.0; // min allowed alpha (opacity) (0.0 - 1.0)\r\n\t\t\t\tthis.maxA = 1.0; // max allowed alpha (opacity) (0.0 - 1.0)\r\n\r\n\r\n\t\t\t\t// Getter: option(name)\r\n\t\t\t\t// Setter: option(name, value)\r\n\t\t\t\t//         option({name:value, ...})\r\n\t\t\t\t//\r\n\t\t\t\tthis.option = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!arguments.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('No option specified');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (arguments.length === 1 && typeof arguments[0] === 'string')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// getting a single option\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn getOption(arguments[0]);\r\n\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t} else if (arguments.length >= 2 && typeof arguments[0] === 'string')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// setting a single option\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!setOption(arguments[0], arguments[1]))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\t\t\tthis.exposeColor(); // in case some preview-related or format-related option was changed\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t} else if (arguments.length === 1 && typeof arguments[0] === 'object')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// setting multiple options\r\n\t\t\t\t\t\tvar opts = arguments[0];\r\n\t\t\t\t\t\tvar success = true;\r\n\t\t\t\t\t\tfor (var opt in opts)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (opts.hasOwnProperty(opt))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (!setOption(opt, opts[opt]))\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\t\t\tthis.exposeColor(); // in case some preview-related or format-related option was changed\r\n\t\t\t\t\t\treturn success;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthrow new Error('Invalid arguments');\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// Getter: channel(name)\r\n\t\t\t\t// Setter: channel(name, value)\r\n\t\t\t\t//\r\n\t\t\t\tthis.channel = function (name: any, value: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof name !== 'string')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('Invalid value for channel name: ' + name);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (value === undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// getting channel value\r\n\t\t\t\t\t\tif (!this.channels.hasOwnProperty(name.toLowerCase()))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.warn('Getting unknown channel: ' + name);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this.channels[name.toLowerCase()];\r\n\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// setting channel value\r\n\t\t\t\t\t\tvar res = false;\r\n\t\t\t\t\t\tswitch (name.toLowerCase())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcase 'r': res = this.fromRGBA(value, null, null, null); break;\r\n\t\t\t\t\t\t\tcase 'g': res = this.fromRGBA(null, value, null, null); break;\r\n\t\t\t\t\t\t\tcase 'b': res = this.fromRGBA(null, null, value, null); break;\r\n\t\t\t\t\t\t\tcase 'h': res = this.fromHSVA(value, null, null, null); break;\r\n\t\t\t\t\t\t\tcase 's': res = this.fromHSVA(null, value, null, null); break;\r\n\t\t\t\t\t\t\tcase 'v': res = this.fromHSVA(null, null, value, null); break;\r\n\t\t\t\t\t\t\tcase 'a': res = this.fromHSVA(null, null, null, value); break;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tconsole.warn('Setting unknown channel: ' + name);\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.redraw(); // immediately redraws the picker, if it's displayed\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// Triggers given input event(s) by:\r\n\t\t\t\t// - executing on<Event> callback specified as picker's option\r\n\t\t\t\t// - triggering standard DOM event listeners attached to the value element\r\n\t\t\t\t//\r\n\t\t\t\t// It is possible to specify multiple events separated with a space.\r\n\t\t\t\t//\r\n\t\t\t\tthis.trigger = function (eventNames: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar evs = jsc.strList(eventNames);\r\n\t\t\t\t\tfor (var i = 0; i < evs.length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar ev = evs[i].toLowerCase();\r\n\r\n\t\t\t\t\t\t// trigger a callback\r\n\t\t\t\t\t\tvar callbackProp = null;\r\n\t\t\t\t\t\tswitch (ev)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcase 'input': callbackProp = 'onInput'; break;\r\n\t\t\t\t\t\t\tcase 'change': callbackProp = 'onChange'; break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (callbackProp)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tjsc.triggerCallback(this, callbackProp);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// trigger standard DOM event listeners on the value element\r\n\t\t\t\t\t\tjsc.triggerInputEvent(this.valueElement, ev, true, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\t// h: 0-360\r\n\t\t\t\t// s: 0-100\r\n\t\t\t\t// v: 0-100\r\n\t\t\t\t// a: 0.0-1.0\r\n\t\t\t\t//\r\n\t\t\t\tthis.fromHSVA = function (h: any, s: any, v: any, a: any, flags: any)\r\n\t\t\t\t{ // null = don't change\r\n\t\t\t\t\tif (h === undefined) { h = null; }\r\n\t\t\t\t\tif (s === undefined) { s = null; }\r\n\t\t\t\t\tif (v === undefined) { v = null; }\r\n\t\t\t\t\tif (a === undefined) { a = null; }\r\n\r\n\t\t\t\t\tif (h !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(h)) { return false; }\r\n\t\t\t\t\t\tthis.channels.h = Math.max(0, Math.min(360, h));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (s !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(s)) { return false; }\r\n\t\t\t\t\t\tthis.channels.s = Math.max(0, Math.min(100, this.maxS, s), this.minS);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (v !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(v)) { return false; }\r\n\t\t\t\t\t\tthis.channels.v = Math.max(0, Math.min(100, this.maxV, v), this.minV);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(a)) { return false; }\r\n\t\t\t\t\t\tthis.channels.a = this.hasAlphaChannel() ?\r\n\t\t\t\t\t\t\tMath.max(0, Math.min(1, this.maxA, a), this.minA) :\r\n\t\t\t\t\t\t\t1.0; // if alpha channel is disabled, the color should stay 100% opaque\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar rgb = jsc.HSV_RGB(\r\n\t\t\t\t\t\tthis.channels.h,\r\n\t\t\t\t\t\tthis.channels.s,\r\n\t\t\t\t\t\tthis.channels.v\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.channels.r = rgb[0];\r\n\t\t\t\t\tthis.channels.g = rgb[1];\r\n\t\t\t\t\tthis.channels.b = rgb[2];\r\n\r\n\t\t\t\t\tthis.exposeColor(flags);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\t// r: 0-255\r\n\t\t\t\t// g: 0-255\r\n\t\t\t\t// b: 0-255\r\n\t\t\t\t// a: 0.0-1.0\r\n\t\t\t\t//\r\n\t\t\t\tthis.fromRGBA = function (r: any, g: any, b: any, a: any, flags: any)\r\n\t\t\t\t{ // null = don't change\r\n\t\t\t\t\tif (r === undefined) { r = null; }\r\n\t\t\t\t\tif (g === undefined) { g = null; }\r\n\t\t\t\t\tif (b === undefined) { b = null; }\r\n\t\t\t\t\tif (a === undefined) { a = null; }\r\n\r\n\t\t\t\t\tif (r !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(r)) { return false; }\r\n\t\t\t\t\t\tr = Math.max(0, Math.min(255, r));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (g !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(g)) { return false; }\r\n\t\t\t\t\t\tg = Math.max(0, Math.min(255, g));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (b !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(b)) { return false; }\r\n\t\t\t\t\t\tb = Math.max(0, Math.min(255, b));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (isNaN(a)) { return false; }\r\n\t\t\t\t\t\tthis.channels.a = this.hasAlphaChannel() ?\r\n\t\t\t\t\t\t\tMath.max(0, Math.min(1, this.maxA, a), this.minA) :\r\n\t\t\t\t\t\t\t1.0; // if alpha channel is disabled, the color should stay 100% opaque\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar hsv = jsc.RGB_HSV(\r\n\t\t\t\t\t\tr === null ? this.channels.r : r,\r\n\t\t\t\t\t\tg === null ? this.channels.g : g,\r\n\t\t\t\t\t\tb === null ? this.channels.b : b\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (hsv[0] !== null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.channels.h = Math.max(0, Math.min(360, hsv[0]));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (hsv[2] !== 0)\r\n\t\t\t\t\t{ // fully black color stays black through entire saturation range, so let's not change saturation\r\n\t\t\t\t\t\tthis.channels.s = Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.channels.v = Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\r\n\r\n\t\t\t\t\t// update RGB according to final HSV, as some values might be trimmed\r\n\t\t\t\t\tvar rgb = jsc.HSV_RGB(this.channels.h, this.channels.s, this.channels.v);\r\n\t\t\t\t\tthis.channels.r = rgb[0];\r\n\t\t\t\t\tthis.channels.g = rgb[1];\r\n\t\t\t\t\tthis.channels.b = rgb[2];\r\n\r\n\t\t\t\t\tthis.exposeColor(flags);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\t// DEPRECATED. Use .fromHSVA() instead\r\n\t\t\t\t//\r\n\t\t\t\tthis.fromHSV = function (h: any, s: any, v: any, flags: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.warn('fromHSV() method is DEPRECATED. Using fromHSVA() instead.' + jsc.docsRef);\r\n\t\t\t\t\treturn this.fromHSVA(h, s, v, null, flags);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\t// DEPRECATED. Use .fromRGBA() instead\r\n\t\t\t\t//\r\n\t\t\t\tthis.fromRGB = function (r: any, g: any, b: any, flags: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.warn('fromRGB() method is DEPRECATED. Using fromRGBA() instead.' + jsc.docsRef);\r\n\t\t\t\t\treturn this.fromRGBA(r, g, b, null, flags);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.fromString = function (str: any, flags: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!this.required && str.trim() === '')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// setting empty string to an optional color input\r\n\t\t\t\t\t\tthis.setPreviewElementBg(null);\r\n\t\t\t\t\t\tthis.setValueElementValue('');\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar color = jsc.parseColorString(str);\r\n\t\t\t\t\tif (!color)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn false; // could not parse\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.format.toLowerCase() === 'any')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._setFormat(color.format); // adapt format\r\n\t\t\t\t\t\tif (!jsc.isAlphaFormat(this.getFormat()))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcolor.rgba[3] = 1.0; // when switching to a format that doesn't support alpha, set full opacity\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.fromRGBA(\r\n\t\t\t\t\t\tcolor.rgba[0],\r\n\t\t\t\t\t\tcolor.rgba[1],\r\n\t\t\t\t\t\tcolor.rgba[2],\r\n\t\t\t\t\t\tcolor.rgba[3],\r\n\t\t\t\t\t\tflags\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.randomize = function (minV: any, maxV: any, minS: any, maxS: any, minH: any, maxH: any, minA: any, maxA: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (minV === undefined) { minV = 0; }\r\n\t\t\t\t\tif (maxV === undefined) { maxV = 100; }\r\n\t\t\t\t\tif (minS === undefined) { minS = 0; }\r\n\t\t\t\t\tif (maxS === undefined) { maxS = 100; }\r\n\t\t\t\t\tif (minH === undefined) { minH = 0; }\r\n\t\t\t\t\tif (maxH === undefined) { maxH = 359; }\r\n\t\t\t\t\tif (minA === undefined) { minA = 1; }\r\n\t\t\t\t\tif (maxA === undefined) { maxA = 1; }\r\n\r\n\t\t\t\t\tthis.fromHSVA(\r\n\t\t\t\t\t\tminH + Math.floor(Math.random() * (maxH - minH + 1)),\r\n\t\t\t\t\t\tminS + Math.floor(Math.random() * (maxS - minS + 1)),\r\n\t\t\t\t\t\tminV + Math.floor(Math.random() * (maxV - minV + 1)),\r\n\t\t\t\t\t\t((100 * minA) + Math.floor(Math.random() * (100 * (maxA - minA) + 1))) / 100\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toString = function (format: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (format === undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tformat = this.getFormat(); // format not specified -> use the current format\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch (format.toLowerCase())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 'hex': return this.toHEXString(); break;\r\n\t\t\t\t\t\tcase 'hexa': return this.toHEXAString(); break;\r\n\t\t\t\t\t\tcase 'rgb': return this.toRGBString(); break;\r\n\t\t\t\t\t\tcase 'rgba': return this.toRGBAString(); break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toHEXString = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.hexColor(\r\n\t\t\t\t\t\tthis.channels.r,\r\n\t\t\t\t\t\tthis.channels.g,\r\n\t\t\t\t\t\tthis.channels.b\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toHEXAString = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.hexaColor(\r\n\t\t\t\t\t\tthis.channels.r,\r\n\t\t\t\t\t\tthis.channels.g,\r\n\t\t\t\t\t\tthis.channels.b,\r\n\t\t\t\t\t\tthis.channels.a\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toRGBString = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.rgbColor(\r\n\t\t\t\t\t\tthis.channels.r,\r\n\t\t\t\t\t\tthis.channels.g,\r\n\t\t\t\t\t\tthis.channels.b\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toRGBAString = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.rgbaColor(\r\n\t\t\t\t\t\tthis.channels.r,\r\n\t\t\t\t\t\tthis.channels.g,\r\n\t\t\t\t\t\tthis.channels.b,\r\n\t\t\t\t\t\tthis.channels.a\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toGrayscale = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t0.213 * this.channels.r +\r\n\t\t\t\t\t\t0.715 * this.channels.g +\r\n\t\t\t\t\t\t0.072 * this.channels.b\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toCanvas = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.genColorPreviewCanvas(this.toRGBAString()).canvas;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toDataURL = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn this.toCanvas().toDataURL();\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.toBackground = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.pub.background(this.toRGBAString());\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.isLight = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn this.toGrayscale() > 255 / 2;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.hide = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (isPickerOwner())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdetachPicker();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.show = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tdrawPicker();\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.redraw = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (isPickerOwner())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdrawPicker();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.getFormat = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn this._currentFormat;\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis._setFormat = function (format: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._currentFormat = format.toLowerCase();\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.hasAlphaChannel = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.alphaChannel === 'auto')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tthis.format.toLowerCase() === 'any' || // format can change on the fly (e.g. from hex to rgba), so let's consider the alpha channel enabled\r\n\t\t\t\t\t\t\tjsc.isAlphaFormat(this.getFormat()) || // the current format supports alpha channel\r\n\t\t\t\t\t\t\tthis.alpha !== undefined || // initial alpha value is set, so we're working with alpha channel\r\n\t\t\t\t\t\t\tthis.alphaElement !== undefined // the alpha value is redirected, so we're working with alpha channel\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this.alphaChannel; // the alpha channel is explicitly set\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.processValueInput = function (str: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!this.fromString(str))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// could not parse the color value - let's just expose the current color\r\n\t\t\t\t\t\tthis.exposeColor();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.processAlphaInput = function (str: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!this.fromHSVA(null, null, null, parseFloat(str)))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// could not parse the alpha value - let's just expose the current color\r\n\t\t\t\t\t\tthis.exposeColor();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.exposeColor = function (flags: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar colorStr = this.toString();\r\n\t\t\t\t\tvar fmt = this.getFormat();\r\n\r\n\t\t\t\t\t// reflect current color in data- attribute\r\n\t\t\t\t\tjsc.setDataAttr(this.targetElement, 'current-color', colorStr);\r\n\r\n\t\t\t\t\tif (!(flags & jsc.flags.leaveValue) && this.valueElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (fmt === 'hex' || fmt === 'hexa')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!this.uppercase) { colorStr = colorStr.toLowerCase(); }\r\n\t\t\t\t\t\t\tif (!this.hash) { colorStr = colorStr.replace(/^#/, ''); }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setValueElementValue(colorStr);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!(flags & jsc.flags.leaveAlpha) && this.alphaElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar alphaVal = Math.round(this.channels.a * 100) / 100;\r\n\t\t\t\t\t\tthis.setAlphaElementValue(alphaVal);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!(flags & jsc.flags.leavePreview) && this.previewElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar previewPos = null; // 'left' | 'right' (null -> fill the entire element)\r\n\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tjsc.isTextInput(this.previewElement) || // text input\r\n\t\t\t\t\t\t\t(jsc.isButton(this.previewElement) && !jsc.isButtonEmpty(this.previewElement)) // button with text\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpreviewPos = this.previewPosition;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.setPreviewElementBg(this.toRGBAString());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (isPickerOwner())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tredrawPad();\r\n\t\t\t\t\t\tredrawSld();\r\n\t\t\t\t\t\tredrawASld();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.setPreviewElementBg = function (color: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!this.previewElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar position = null; // color preview position:  null | 'left' | 'right'\r\n\t\t\t\t\tvar width = null; // color preview width:  px | null = fill the entire element\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tjsc.isTextInput(this.previewElement) || // text input\r\n\t\t\t\t\t\t(jsc.isButton(this.previewElement) && !jsc.isButtonEmpty(this.previewElement)) // button with text\r\n\t\t\t\t\t)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tposition = this.previewPosition;\r\n\t\t\t\t\t\twidth = this.previewSize;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar backgrounds: any[] = [];\r\n\r\n\t\t\t\t\tif (!color)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// there is no color preview to display -> let's remove any previous background image\r\n\t\t\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\t\t\timage: 'none',\r\n\t\t\t\t\t\t\tposition: 'left top',\r\n\t\t\t\t\t\t\tsize: 'auto',\r\n\t\t\t\t\t\t\trepeat: 'no-repeat',\r\n\t\t\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// CSS gradient for background color preview\r\n\t\t\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\t\t\timage: jsc.genColorPreviewGradient(\r\n\t\t\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\t\t\tposition,\r\n\t\t\t\t\t\t\t\twidth ? width - jsc.pub.previewSeparator.length : null\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tposition: 'left top',\r\n\t\t\t\t\t\t\tsize: 'auto',\r\n\t\t\t\t\t\t\trepeat: position ? 'repeat-y' : 'repeat',\r\n\t\t\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// data URL of generated PNG image with a gray transparency chessboard\r\n\t\t\t\t\t\tvar preview = jsc.genColorPreviewCanvas(\r\n\t\t\t\t\t\t\t'rgba(0,0,0,0)',\r\n\t\t\t\t\t\t\tposition ? ({ 'left': 'right', 'right': 'left' } as any)[position] : null,\r\n\t\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbackgrounds.push({\r\n\t\t\t\t\t\t\timage: 'url(\\'' + preview.canvas.toDataURL() + '\\')',\r\n\t\t\t\t\t\t\tposition: (position || 'left') + ' top',\r\n\t\t\t\t\t\t\tsize: preview.width + 'px ' + preview.height + 'px',\r\n\t\t\t\t\t\t\trepeat: position ? 'repeat-y' : 'repeat',\r\n\t\t\t\t\t\t\torigin: 'padding-box',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar bg = {\r\n\t\t\t\t\t\timage: [],\r\n\t\t\t\t\t\tposition: [],\r\n\t\t\t\t\t\tsize: [],\r\n\t\t\t\t\t\trepeat: [],\r\n\t\t\t\t\t\torigin: [],\r\n\t\t\t\t\t};\r\n\t\t\t\t\tfor (var i = 0; i < backgrounds.length; i += 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet background: any = backgrounds[i];\r\n\t\t\t\t\t\t(bg.image as any).push(background.image);\r\n\t\t\t\t\t\t(bg.position as any).push(background.position);\r\n\t\t\t\t\t\t(bg.size as any).push(background.size);\r\n\t\t\t\t\t\t(bg.repeat as any).push(background.repeat);\r\n\t\t\t\t\t\t(bg.origin as any).push(background.origin);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set previewElement's background-images\r\n\t\t\t\t\tvar sty = {\r\n\t\t\t\t\t\t'background-image': bg.image.join(', '),\r\n\t\t\t\t\t\t'background-position': bg.position.join(', '),\r\n\t\t\t\t\t\t'background-size': bg.size.join(', '),\r\n\t\t\t\t\t\t'background-repeat': bg.repeat.join(', '),\r\n\t\t\t\t\t\t'background-origin': bg.origin.join(', '),\r\n\t\t\t\t\t};\r\n\t\t\t\t\tjsc.setStyle(this.previewElement, sty, this.forceStyle);\r\n\r\n\r\n\t\t\t\t\t// set/restore previewElement's padding\r\n\t\t\t\t\tvar padding: any = {\r\n\t\t\t\t\t\tleft: null,\r\n\t\t\t\t\t\tright: null,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (position)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpadding[position] = (this.previewSize + this.previewPadding) + 'px';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar sty2: any = {\r\n\t\t\t\t\t\t'padding-left': padding.left,\r\n\t\t\t\t\t\t'padding-right': padding.right,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tjsc.setStyle(this.previewElement, sty2, this.forceStyle, true);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.setValueElementValue = function (str: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.valueElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (jsc.nodeName(this.valueElement) === 'input')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.valueElement.value = str;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.valueElement.innerHTML = str;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.setAlphaElementValue = function (str: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.alphaElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (jsc.nodeName(this.alphaElement) === 'input')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.alphaElement.value = str;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.alphaElement.innerHTML = str;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis._processParentElementsInDOM = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this._parentElementsProcessed) { return; }\r\n\t\t\t\t\tthis._parentElementsProcessed = true;\r\n\r\n\t\t\t\t\tvar elm = this.targetElement;\r\n\t\t\t\t\tdo\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// If the target element or one of its parent nodes has fixed position,\r\n\t\t\t\t\t\t// then use fixed positioning instead\r\n\t\t\t\t\t\tvar compStyle = jsc.getCompStyle(elm);\r\n\t\t\t\t\t\tif (compStyle.position && compStyle.position.toLowerCase() === 'fixed')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.fixed = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (elm !== this.targetElement)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\r\n\t\t\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\r\n\t\t\t\t\t\t\t// that's why we loop through all parent nodes\r\n\t\t\t\t\t\t\tif (!jsc.getData(elm, 'hasScrollListener'))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\telm.addEventListener('scroll', jsc.onParentScroll, false);\r\n\t\t\t\t\t\t\t\tjsc.setData(elm, 'hasScrollListener', true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} while ((elm = elm.parentNode) && jsc.nodeName(elm) !== 'body');\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.tryHide = function ()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.hideOnLeave)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tthis.set__palette = function (val: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.palette = val;\r\n\t\t\t\t\tthis._palette = jsc.parsePaletteValue(val);\r\n\t\t\t\t\tthis._paletteHasTransparency = jsc.containsTranparentColor(this._palette);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t\tfunction setOption(option?: any, value?: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof option !== 'string')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('Invalid value for option name: ' + option);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// enum option\r\n\t\t\t\t\tif (jsc.enumOpts.hasOwnProperty(option))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (typeof value === 'string')\r\n\t\t\t\t\t\t{ // enum string values are case insensitive\r\n\t\t\t\t\t\t\tvalue = value.toLowerCase();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (jsc.enumOpts[option].indexOf(value) === -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' has invalid value: ' + value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// deprecated option\r\n\t\t\t\t\tif (jsc.deprecatedOpts.hasOwnProperty(option))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar oldOpt = option;\r\n\t\t\t\t\t\tvar newOpt = jsc.deprecatedOpts[option];\r\n\t\t\t\t\t\tif (newOpt)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// if we have a new name for this option, let's log a warning and use the new name\r\n\t\t\t\t\t\t\tconsole.warn('Option \\'%s\\' is DEPRECATED, using \\'%s\\' instead.' + jsc.docsRef, oldOpt, newOpt);\r\n\t\t\t\t\t\t\toption = newOpt;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// new name not available for the option\r\n\t\t\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' is DEPRECATED');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar setter = 'set__' + option;\r\n\r\n\t\t\t\t\tif (typeof THIS[setter] === 'function')\r\n\t\t\t\t\t{ // a setter exists for this option\r\n\t\t\t\t\t\tTHIS[setter](value);\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t} else if (option in THIS)\r\n\t\t\t\t\t{ // option exists as a property\r\n\t\t\t\t\t\tTHIS[option] = value;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthrow new Error('Unrecognized configuration option: ' + option);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction getOption(option?: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof option !== 'string')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('Invalid value for option name: ' + option);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// deprecated option\r\n\t\t\t\t\tif (jsc.deprecatedOpts.hasOwnProperty(option))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar oldOpt = option;\r\n\t\t\t\t\t\tvar newOpt = jsc.deprecatedOpts[option];\r\n\t\t\t\t\t\tif (newOpt)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// if we have a new name for this option, let's log a warning and use the new name\r\n\t\t\t\t\t\t\tconsole.warn('Option \\'%s\\' is DEPRECATED, using \\'%s\\' instead.' + jsc.docsRef, oldOpt, newOpt);\r\n\t\t\t\t\t\t\toption = newOpt;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// new name not available for the option\r\n\t\t\t\t\t\t\tthrow new Error('Option \\'' + option + '\\' is DEPRECATED');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar getter = 'get__' + option;\r\n\r\n\t\t\t\t\t// if (typeof THIS[getter] === 'function')\r\n\t\t\t\t\t// { // a getter exists for this option\r\n\t\t\t\t\t// \treturn THIS[getter](value);\r\n\r\n\t\t\t\t\t// } else if (option in THIS)\r\n\t\t\t\t\t// { // option exists as a property\r\n\t\t\t\t\t// \treturn THIS[option];\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\tthrow new Error('Unrecognized configuration option: ' + option);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction detachPicker()\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.removeClass(THIS.targetElement, jsc.pub.activeClassName);\r\n\t\t\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\r\n\t\t\t\t\tdelete jsc.picker.owner;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction drawPicker()\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\t// At this point, when drawing the picker, we know what the parent elements are\r\n\t\t\t\t\t// and we can do all related DOM operations, such as registering events on them\r\n\t\t\t\t\t// or checking their positioning\r\n\t\t\t\t\tTHIS._processParentElementsInDOM();\r\n\r\n\t\t\t\t\tif (!jsc.picker)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjsc.picker = {\r\n\t\t\t\t\t\t\towner: null, // owner picker instance\r\n\t\t\t\t\t\t\twrap: jsc.createEl('div'),\r\n\t\t\t\t\t\t\tbox: jsc.createEl('div'),\r\n\t\t\t\t\t\t\tboxS: jsc.createEl('div'), // shadow area\r\n\t\t\t\t\t\t\tboxB: jsc.createEl('div'), // border\r\n\t\t\t\t\t\t\tpad: jsc.createEl('div'),\r\n\t\t\t\t\t\t\tpadB: jsc.createEl('div'), // border\r\n\t\t\t\t\t\t\tpadM: jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\t\t\tpadCanvas: jsc.createPadCanvas(),\r\n\t\t\t\t\t\t\tcross: jsc.createEl('div'),\r\n\t\t\t\t\t\t\tcrossBY: jsc.createEl('div'), // border Y\r\n\t\t\t\t\t\t\tcrossBX: jsc.createEl('div'), // border X\r\n\t\t\t\t\t\t\tcrossLY: jsc.createEl('div'), // line Y\r\n\t\t\t\t\t\t\tcrossLX: jsc.createEl('div'), // line X\r\n\t\t\t\t\t\t\tsld: jsc.createEl('div'), // slider\r\n\t\t\t\t\t\t\tsldB: jsc.createEl('div'), // border\r\n\t\t\t\t\t\t\tsldM: jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\t\t\tsldGrad: jsc.createSliderGradient(),\r\n\t\t\t\t\t\t\tsldPtrS: jsc.createEl('div'), // slider pointer spacer\r\n\t\t\t\t\t\t\tsldPtrIB: jsc.createEl('div'), // slider pointer inner border\r\n\t\t\t\t\t\t\tsldPtrMB: jsc.createEl('div'), // slider pointer middle border\r\n\t\t\t\t\t\t\tsldPtrOB: jsc.createEl('div'), // slider pointer outer border\r\n\t\t\t\t\t\t\tasld: jsc.createEl('div'), // alpha slider\r\n\t\t\t\t\t\t\tasldB: jsc.createEl('div'), // border\r\n\t\t\t\t\t\t\tasldM: jsc.createEl('div'), // mouse/touch area\r\n\t\t\t\t\t\t\tasldGrad: jsc.createASliderGradient(),\r\n\t\t\t\t\t\t\tasldPtrS: jsc.createEl('div'), // slider pointer spacer\r\n\t\t\t\t\t\t\tasldPtrIB: jsc.createEl('div'), // slider pointer inner border\r\n\t\t\t\t\t\t\tasldPtrMB: jsc.createEl('div'), // slider pointer middle border\r\n\t\t\t\t\t\t\tasldPtrOB: jsc.createEl('div'), // slider pointer outer border\r\n\t\t\t\t\t\t\tpal: jsc.createEl('div'), // palette\r\n\t\t\t\t\t\t\tbtn: jsc.createEl('div'),\r\n\t\t\t\t\t\t\tbtnT: jsc.createEl('span'), // text\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padCanvas.elm);\r\n\t\t\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\r\n\t\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\r\n\t\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\r\n\t\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\r\n\t\t\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\r\n\t\t\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\r\n\r\n\t\t\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\r\n\t\t\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\r\n\t\t\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\r\n\t\t\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\r\n\t\t\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\r\n\t\t\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\r\n\r\n\t\t\t\t\t\tjsc.picker.asld.appendChild(jsc.picker.asldGrad.elm);\r\n\t\t\t\t\t\tjsc.picker.asldB.appendChild(jsc.picker.asld);\r\n\t\t\t\t\t\tjsc.picker.asldB.appendChild(jsc.picker.asldPtrOB);\r\n\t\t\t\t\t\tjsc.picker.asldPtrOB.appendChild(jsc.picker.asldPtrMB);\r\n\t\t\t\t\t\tjsc.picker.asldPtrMB.appendChild(jsc.picker.asldPtrIB);\r\n\t\t\t\t\t\tjsc.picker.asldPtrIB.appendChild(jsc.picker.asldPtrS);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.asldB);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.asldM);\r\n\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.pal);\r\n\r\n\t\t\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\r\n\t\t\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\r\n\r\n\t\t\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\r\n\t\t\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\r\n\t\t\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\r\n\r\n\t\t\t\t\t\tjsc.picker.wrap.addEventListener('touchstart', jsc.onPickerTouchStart,\r\n\t\t\t\t\t\t\tjsc.isPassiveEventSupported ? { passive: false } : false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar p = jsc.picker;\r\n\r\n\t\t\t\t\tvar displaySlider = !!jsc.getSliderChannel(THIS);\r\n\t\t\t\t\tvar displayAlphaSlider = THIS.hasAlphaChannel();\r\n\t\t\t\t\tvar pickerDims = jsc.getPickerDims(THIS);\r\n\t\t\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\t\t\tvar controlPadding = jsc.getControlPadding(THIS);\r\n\t\t\t\t\tvar borderRadius = Math.min(\r\n\t\t\t\t\t\tTHIS.borderRadius,\r\n\t\t\t\t\t\tMath.round(THIS.padding * Math.PI)); // px\r\n\t\t\t\t\tvar padCursor = 'crosshair';\r\n\r\n\t\t\t\t\t// wrap\r\n\t\t\t\t\tp.wrap.className = 'jscolor-picker-wrap';\r\n\t\t\t\t\tp.wrap.style.clear = 'both';\r\n\t\t\t\t\tp.wrap.style.width = pickerDims.borderW + 'px';\r\n\t\t\t\t\tp.wrap.style.height = pickerDims.borderH + 'px';\r\n\t\t\t\t\tp.wrap.style.zIndex = THIS.zIndex;\r\n\r\n\t\t\t\t\t// picker\r\n\t\t\t\t\tp.box.className = 'jscolor-picker';\r\n\t\t\t\t\tp.box.style.width = pickerDims.paddedW + 'px';\r\n\t\t\t\t\tp.box.style.height = pickerDims.paddedH + 'px';\r\n\t\t\t\t\tp.box.style.position = 'relative';\r\n\r\n\t\t\t\t\t// picker shadow\r\n\t\t\t\t\tp.boxS.className = 'jscolor-picker-shadow';\r\n\t\t\t\t\tp.boxS.style.position = 'absolute';\r\n\t\t\t\t\tp.boxS.style.left = '0';\r\n\t\t\t\t\tp.boxS.style.top = '0';\r\n\t\t\t\t\tp.boxS.style.width = '100%';\r\n\t\t\t\t\tp.boxS.style.height = '100%';\r\n\t\t\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\r\n\r\n\t\t\t\t\t// picker border\r\n\t\t\t\t\tp.boxB.className = 'jscolor-picker-border';\r\n\t\t\t\t\tp.boxB.style.position = 'relative';\r\n\t\t\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\r\n\t\t\t\t\tp.boxB.style.borderColor = THIS.borderColor;\r\n\t\t\t\t\tp.boxB.style.background = THIS.backgroundColor;\r\n\t\t\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\r\n\r\n\t\t\t\t\t// IE hack:\r\n\t\t\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\r\n\t\t\t\t\t// e.g. on Canvas or on elements with border\r\n\t\t\t\t\tp.padM.style.background = 'rgba(255,0,0,.2)';\r\n\t\t\t\t\tp.sldM.style.background = 'rgba(0,255,0,.2)';\r\n\t\t\t\t\tp.asldM.style.background = 'rgba(0,0,255,.2)';\r\n\r\n\t\t\t\t\tp.padM.style.opacity =\r\n\t\t\t\t\t\tp.sldM.style.opacity =\r\n\t\t\t\t\t\tp.asldM.style.opacity =\r\n\t\t\t\t\t\t'0';\r\n\r\n\t\t\t\t\t// pad\r\n\t\t\t\t\tp.pad.style.position = 'relative';\r\n\t\t\t\t\tp.pad.style.width = THIS.width + 'px';\r\n\t\t\t\t\tp.pad.style.height = THIS.height + 'px';\r\n\r\n\t\t\t\t\t// pad - color spectrum (HSV and HVS)\r\n\t\t\t\t\tp.padCanvas.draw(THIS.width, THIS.height, jsc.getPadYChannel(THIS));\r\n\r\n\t\t\t\t\t// pad border\r\n\t\t\t\t\tp.padB.style.position = 'absolute';\r\n\t\t\t\t\tp.padB.style.left = THIS.padding + 'px';\r\n\t\t\t\t\tp.padB.style.top = THIS.padding + 'px';\r\n\t\t\t\t\tp.padB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\tp.padB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t\t\t// pad mouse area\r\n\t\t\t\t\tp.padM.style.position = 'absolute';\r\n\t\t\t\t\tp.padM.style.left = 0 + 'px';\r\n\t\t\t\t\tp.padM.style.top = 0 + 'px';\r\n\t\t\t\t\tp.padM.style.width = (THIS.padding + 2 * THIS.controlBorderWidth + THIS.width + controlPadding) + 'px';\r\n\t\t\t\t\tp.padM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\t\t\tp.padM.style.cursor = padCursor;\r\n\t\t\t\t\tjsc.setData(p.padM, {\r\n\t\t\t\t\t\tinstance: THIS,\r\n\t\t\t\t\t\tcontrol: 'pad',\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// pad cross\r\n\t\t\t\t\tp.cross.style.position = 'absolute';\r\n\t\t\t\t\tp.cross.style.left =\r\n\t\t\t\t\t\tp.cross.style.top =\r\n\t\t\t\t\t\t'0';\r\n\t\t\t\t\tp.cross.style.width =\r\n\t\t\t\t\t\tp.cross.style.height =\r\n\t\t\t\t\t\tcrossOuterSize + 'px';\r\n\r\n\t\t\t\t\t// pad cross border Y and X\r\n\t\t\t\t\tp.crossBY.style.position =\r\n\t\t\t\t\t\tp.crossBX.style.position =\r\n\t\t\t\t\t\t'absolute';\r\n\t\t\t\t\tp.crossBY.style.background =\r\n\t\t\t\t\t\tp.crossBX.style.background =\r\n\t\t\t\t\t\tTHIS.pointerBorderColor;\r\n\t\t\t\t\tp.crossBY.style.width =\r\n\t\t\t\t\t\tp.crossBX.style.height =\r\n\t\t\t\t\t\t(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\t\t\tp.crossBY.style.height =\r\n\t\t\t\t\t\tp.crossBX.style.width =\r\n\t\t\t\t\t\tcrossOuterSize + 'px';\r\n\t\t\t\t\tp.crossBY.style.left =\r\n\t\t\t\t\t\tp.crossBX.style.top =\r\n\t\t\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth) + 'px';\r\n\t\t\t\t\tp.crossBY.style.top =\r\n\t\t\t\t\t\tp.crossBX.style.left =\r\n\t\t\t\t\t\t'0';\r\n\r\n\t\t\t\t\t// pad cross line Y and X\r\n\t\t\t\t\tp.crossLY.style.position =\r\n\t\t\t\t\t\tp.crossLX.style.position =\r\n\t\t\t\t\t\t'absolute';\r\n\t\t\t\t\tp.crossLY.style.background =\r\n\t\t\t\t\t\tp.crossLX.style.background =\r\n\t\t\t\t\t\tTHIS.pointerColor;\r\n\t\t\t\t\tp.crossLY.style.height =\r\n\t\t\t\t\t\tp.crossLX.style.width =\r\n\t\t\t\t\t\t(crossOuterSize - 2 * THIS.pointerBorderWidth) + 'px';\r\n\t\t\t\t\tp.crossLY.style.width =\r\n\t\t\t\t\t\tp.crossLX.style.height =\r\n\t\t\t\t\t\tTHIS.pointerThickness + 'px';\r\n\t\t\t\t\tp.crossLY.style.left =\r\n\t\t\t\t\t\tp.crossLX.style.top =\r\n\t\t\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2)) + 'px';\r\n\t\t\t\t\tp.crossLY.style.top =\r\n\t\t\t\t\t\tp.crossLX.style.left =\r\n\t\t\t\t\t\tTHIS.pointerBorderWidth + 'px';\r\n\r\n\r\n\t\t\t\t\t// slider\r\n\t\t\t\t\tp.sld.style.overflow = 'hidden';\r\n\t\t\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\r\n\t\t\t\t\tp.sld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t\t\t// slider gradient\r\n\t\t\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\r\n\r\n\t\t\t\t\t// slider border\r\n\t\t\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\t\t\tp.sldB.style.position = 'absolute';\r\n\t\t\t\t\tp.sldB.style.left = (THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + 2 * controlPadding) + 'px';\r\n\t\t\t\t\tp.sldB.style.top = THIS.padding + 'px';\r\n\t\t\t\t\tp.sldB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\tp.sldB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t\t\t// slider mouse area\r\n\t\t\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\t\t\tp.sldM.style.position = 'absolute';\r\n\t\t\t\t\tp.sldM.style.left = (THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) + 'px';\r\n\t\t\t\t\tp.sldM.style.top = 0 + 'px';\r\n\t\t\t\t\tp.sldM.style.width = (\r\n\t\t\t\t\t\t(THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) +\r\n\t\t\t\t\t\t(displayAlphaSlider ? 0 : Math.max(0, THIS.padding - controlPadding)) // remaining padding to the right edge\r\n\t\t\t\t\t) + 'px';\r\n\t\t\t\t\tp.sldM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\t\t\tp.sldM.style.cursor = 'default';\r\n\t\t\t\t\tjsc.setData(p.sldM, {\r\n\t\t\t\t\t\tinstance: THIS,\r\n\t\t\t\t\t\tcontrol: 'sld',\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// slider pointer inner and outer border\r\n\t\t\t\t\tp.sldPtrIB.style.border =\r\n\t\t\t\t\t\tp.sldPtrOB.style.border =\r\n\t\t\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t\t\t// slider pointer outer border\r\n\t\t\t\t\tp.sldPtrOB.style.position = 'absolute';\r\n\t\t\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\t\t\tp.sldPtrOB.style.top = '0';\r\n\r\n\t\t\t\t\t// slider pointer middle border\r\n\t\t\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t\t\t// slider pointer spacer\r\n\t\t\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\t\t\tp.sldPtrS.style.height = jsc.pub.sliderInnerSpace + 'px';\r\n\r\n\r\n\t\t\t\t\t// alpha slider\r\n\t\t\t\t\tp.asld.style.overflow = 'hidden';\r\n\t\t\t\t\tp.asld.style.width = THIS.sliderSize + 'px';\r\n\t\t\t\t\tp.asld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t\t\t// alpha slider gradient\r\n\t\t\t\t\tp.asldGrad.draw(THIS.sliderSize, THIS.height, '#000');\r\n\r\n\t\t\t\t\t// alpha slider border\r\n\t\t\t\t\tp.asldB.style.display = displayAlphaSlider ? 'block' : 'none';\r\n\t\t\t\t\tp.asldB.style.position = 'absolute';\r\n\t\t\t\t\tp.asldB.style.left = (\r\n\t\t\t\t\t\t(THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) +\r\n\t\t\t\t\t\t(displaySlider ? (THIS.sliderSize + 3 * controlPadding + 2 * THIS.controlBorderWidth) : 0)\r\n\t\t\t\t\t) + 'px';\r\n\t\t\t\t\tp.asldB.style.top = THIS.padding + 'px';\r\n\t\t\t\t\tp.asldB.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\tp.asldB.style.borderColor = THIS.controlBorderColor;\r\n\r\n\t\t\t\t\t// alpha slider mouse area\r\n\t\t\t\t\tp.asldM.style.display = displayAlphaSlider ? 'block' : 'none';\r\n\t\t\t\t\tp.asldM.style.position = 'absolute';\r\n\t\t\t\t\tp.asldM.style.left = (\r\n\t\t\t\t\t\t(THIS.padding + THIS.width + 2 * THIS.controlBorderWidth + controlPadding) +\r\n\t\t\t\t\t\t(displaySlider ? (THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) : 0)\r\n\t\t\t\t\t) + 'px';\r\n\t\t\t\t\tp.asldM.style.top = 0 + 'px';\r\n\t\t\t\t\tp.asldM.style.width = (\r\n\t\t\t\t\t\t(THIS.sliderSize + 2 * controlPadding + 2 * THIS.controlBorderWidth) +\r\n\t\t\t\t\t\tMath.max(0, THIS.padding - controlPadding) // remaining padding to the right edge\r\n\t\t\t\t\t) + 'px';\r\n\t\t\t\t\tp.asldM.style.height = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\t\t\t\t\tp.asldM.style.cursor = 'default';\r\n\t\t\t\t\tjsc.setData(p.asldM, {\r\n\t\t\t\t\t\tinstance: THIS,\r\n\t\t\t\t\t\tcontrol: 'asld',\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// alpha slider pointer inner and outer border\r\n\t\t\t\t\tp.asldPtrIB.style.border =\r\n\t\t\t\t\t\tp.asldPtrOB.style.border =\r\n\t\t\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t\t\t// alpha slider pointer outer border\r\n\t\t\t\t\tp.asldPtrOB.style.position = 'absolute';\r\n\t\t\t\t\tp.asldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\t\t\tp.asldPtrOB.style.top = '0';\r\n\r\n\t\t\t\t\t// alpha slider pointer middle border\r\n\t\t\t\t\tp.asldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t\t\t// alpha slider pointer spacer\r\n\t\t\t\t\tp.asldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\t\t\tp.asldPtrS.style.height = jsc.pub.sliderInnerSpace + 'px';\r\n\r\n\r\n\t\t\t\t\t// palette\r\n\t\t\t\t\tp.pal.className = 'jscolor-palette';\r\n\t\t\t\t\tp.pal.style.display = pickerDims.palette.rows ? 'block' : 'none';\r\n\t\t\t\t\tp.pal.style.position = 'absolute';\r\n\t\t\t\t\tp.pal.style.left = THIS.padding + 'px';\r\n\t\t\t\t\tp.pal.style.top = (2 * THIS.controlBorderWidth + 2 * THIS.padding + THIS.height) + 'px';\r\n\r\n\t\t\t\t\t// palette's color samples\r\n\r\n\t\t\t\t\tp.pal.innerHTML = '';\r\n\r\n\t\t\t\t\tvar chessboard = jsc.genColorPreviewCanvas('rgba(0,0,0,0)');\r\n\r\n\t\t\t\t\tvar si = 0; // color sample's index\r\n\t\t\t\t\tfor (var r = 0; r < pickerDims.palette.rows; r++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (var c = 0; c < pickerDims.palette.cols && si < THIS._palette.length; c++, si++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar sampleColor = THIS._palette[si];\r\n\t\t\t\t\t\t\tvar sampleCssColor = jsc.rgbaColor.apply(null, sampleColor.rgba);\r\n\r\n\t\t\t\t\t\t\tvar sc = jsc.createEl('div'); // color sample's color\r\n\t\t\t\t\t\t\tsc.style.width = (pickerDims.palette.cellW - 2 * THIS.controlBorderWidth) + 'px';\r\n\t\t\t\t\t\t\tsc.style.height = (pickerDims.palette.cellH - 2 * THIS.controlBorderWidth) + 'px';\r\n\t\t\t\t\t\t\tsc.style.backgroundColor = sampleCssColor;\r\n\r\n\t\t\t\t\t\t\tvar sw = jsc.createEl('div'); // color sample's wrap\r\n\t\t\t\t\t\t\tsw.className = 'jscolor-palette-sample';\r\n\t\t\t\t\t\t\tsw.style.display = 'block';\r\n\t\t\t\t\t\t\tsw.style.position = 'absolute';\r\n\t\t\t\t\t\t\tsw.style.left = (\r\n\t\t\t\t\t\t\t\tpickerDims.palette.cols <= 1 ? 0 :\r\n\t\t\t\t\t\t\t\t\tMath.round(10 * (c * ((pickerDims.contentW - pickerDims.palette.cellW) / (pickerDims.palette.cols - 1)))) / 10\r\n\t\t\t\t\t\t\t) + 'px';\r\n\t\t\t\t\t\t\tsw.style.top = (r * (pickerDims.palette.cellH + THIS.paletteSpacing)) + 'px';\r\n\t\t\t\t\t\t\tsw.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\t\t\tsw.style.borderColor = THIS.controlBorderColor;\r\n\t\t\t\t\t\t\tsw.style.cursor = 'pointer';\r\n\t\t\t\t\t\t\tif (sampleColor.rgba[3] !== null && sampleColor.rgba[3] < 1.0)\r\n\t\t\t\t\t\t\t{ // only create chessboard background if the sample has transparency\r\n\t\t\t\t\t\t\t\tsw.style.backgroundImage = 'url(\\'' + chessboard.canvas.toDataURL() + '\\')';\r\n\t\t\t\t\t\t\t\tsw.style.backgroundRepeat = 'repeat';\r\n\t\t\t\t\t\t\t\tsw.style.backgroundPosition = 'center center';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tjsc.setData(sw, {\r\n\t\t\t\t\t\t\t\tinstance: THIS,\r\n\t\t\t\t\t\t\t\tcontrol: 'palette-sample',\r\n\t\t\t\t\t\t\t\tcolor: sampleColor,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsw.addEventListener('click', jsc.onPaletteSampleClick, false);\r\n\t\t\t\t\t\t\tsw.appendChild(sc);\r\n\t\t\t\t\t\t\tp.pal.appendChild(sw);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// the Close button\r\n\t\t\t\t\tfunction setBtnBorder()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar insetColors = THIS.controlBorderColor.split(/\\s+/);\r\n\t\t\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\r\n\t\t\t\t\t\tp.btn.style.borderColor = outsetColor;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar btnPadding = 15; // px\r\n\t\t\t\t\tp.btn.className = 'jscolor-btn-close';\r\n\t\t\t\t\tp.btn.style.display = THIS.closeButton ? 'block' : 'none';\r\n\t\t\t\t\tp.btn.style.position = 'absolute';\r\n\t\t\t\t\tp.btn.style.left = THIS.padding + 'px';\r\n\t\t\t\t\tp.btn.style.bottom = THIS.padding + 'px';\r\n\t\t\t\t\tp.btn.style.padding = '0 ' + btnPadding + 'px';\r\n\t\t\t\t\tp.btn.style.maxWidth = (pickerDims.contentW - 2 * THIS.controlBorderWidth - 2 * btnPadding) + 'px';\r\n\t\t\t\t\tp.btn.style.overflow = 'hidden';\r\n\t\t\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\r\n\t\t\t\t\tp.btn.style.whiteSpace = 'nowrap';\r\n\t\t\t\t\tp.btn.style.border = THIS.controlBorderWidth + 'px solid';\r\n\t\t\t\t\tsetBtnBorder();\r\n\t\t\t\t\tp.btn.style.color = THIS.buttonColor;\r\n\t\t\t\t\tp.btn.style.font = '12px sans-serif';\r\n\t\t\t\t\tp.btn.style.textAlign = 'center';\r\n\t\t\t\t\tp.btn.style.cursor = 'pointer';\r\n\t\t\t\t\tp.btn.onmousedown = function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tTHIS.hide();\r\n\t\t\t\t\t};\r\n\t\t\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\r\n\t\t\t\t\tp.btnT.innerHTML = '';\r\n\t\t\t\t\tp.btnT.appendChild(window.document.createTextNode(THIS.closeText));\r\n\r\n\t\t\t\t\t// reposition the pointers\r\n\t\t\t\t\tredrawPad();\r\n\t\t\t\t\tredrawSld();\r\n\t\t\t\t\tredrawASld();\r\n\r\n\t\t\t\t\t// If we are changing the owner without first closing the picker,\r\n\t\t\t\t\t// make sure to first deal with the old owner\r\n\t\t\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjsc.removeClass(jsc.picker.owner.targetElement, jsc.pub.activeClassName);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Set a new picker owner\r\n\t\t\t\t\tjsc.picker.owner = THIS;\r\n\r\n\t\t\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\r\n\t\t\t\t\t// after setting the owner\r\n\t\t\t\t\tif (THIS.container === window.document.body)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjsc.redrawPosition();\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjsc._drawPosition(THIS, 0, 0, 'relative', false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (p.wrap.parentNode !== THIS.container)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tTHIS.container.appendChild(p.wrap);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tjsc.addClass(THIS.targetElement, jsc.pub.activeClassName);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction redrawPad()\r\n\t\t\t\t{\r\n\t\t\t\t\t// redraw the pad pointer\r\n\t\t\t\t\tvar yChannel = jsc.getPadYChannel(THIS);\r\n\t\t\t\t\tvar x = Math.round((THIS.channels.h / 360) * (THIS.width - 1));\r\n\t\t\t\t\tvar y = Math.round((1 - THIS.channels[yChannel] / 100) * (THIS.height - 1));\r\n\t\t\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\r\n\t\t\t\t\tjsc.picker.cross.style.left = (x + ofs) + 'px';\r\n\t\t\t\t\tjsc.picker.cross.style.top = (y + ofs) + 'px';\r\n\r\n\t\t\t\t\t// redraw the slider\r\n\t\t\t\t\tswitch (jsc.getSliderChannel(THIS))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 's':\r\n\t\t\t\t\t\t\tvar rgb1 = jsc.HSV_RGB(THIS.channels.h, 100, THIS.channels.v);\r\n\t\t\t\t\t\t\tvar rgb2 = jsc.HSV_RGB(THIS.channels.h, 0, THIS.channels.v);\r\n\t\t\t\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb1[0]) + ',' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb1[1]) + ',' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb1[2]) + ')';\r\n\t\t\t\t\t\t\tvar color2 = 'rgb(' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb2[0]) + ',' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb2[1]) + ',' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb2[2]) + ')';\r\n\t\t\t\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\t\tvar rgb = jsc.HSV_RGB(THIS.channels.h, THIS.channels.s, 100);\r\n\t\t\t\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb[0]) + ',' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb[1]) + ',' +\r\n\t\t\t\t\t\t\t\tMath.round(rgb[2]) + ')';\r\n\t\t\t\t\t\t\tvar color2 = '#000';\r\n\t\t\t\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// redraw the alpha slider\r\n\t\t\t\t\tjsc.picker.asldGrad.draw(THIS.sliderSize, THIS.height, THIS.toHEXString());\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction redrawSld()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar sldChannel = jsc.getSliderChannel(THIS);\r\n\t\t\t\t\tif (sldChannel)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// redraw the slider pointer\r\n\t\t\t\t\t\tvar y = Math.round((1 - THIS.channels[sldChannel] / 100) * (THIS.height - 1));\r\n\t\t\t\t\t\tjsc.picker.sldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(jsc.pub.sliderInnerSpace / 2)) + 'px';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// redraw the alpha slider\r\n\t\t\t\t\tjsc.picker.asldGrad.draw(THIS.sliderSize, THIS.height, THIS.toHEXString());\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction redrawASld()\r\n\t\t\t\t{\r\n\t\t\t\t\tvar y = Math.round((1 - THIS.channels.a) * (THIS.height - 1));\r\n\t\t\t\t\tjsc.picker.asldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(jsc.pub.sliderInnerSpace / 2)) + 'px';\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction isPickerOwner()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction onValueKeyDown(ev: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.eventKey(ev) === 'Enter')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (THIS.valueElement)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tTHIS.processValueInput(THIS.valueElement.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tTHIS.tryHide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction onAlphaKeyDown(ev: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.eventKey(ev) === 'Enter')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (THIS.alphaElement)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tTHIS.processAlphaInput(THIS.alphaElement.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tTHIS.tryHide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction onValueChange(ev: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.getData(ev, 'internal'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar oldVal = THIS.valueElement.value;\r\n\r\n\t\t\t\t\tTHIS.processValueInput(THIS.valueElement.value); // this might change the value\r\n\r\n\t\t\t\t\tjsc.triggerCallback(THIS, 'onChange');\r\n\r\n\t\t\t\t\tif (THIS.valueElement.value !== oldVal)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// value was additionally changed -> let's trigger the change event again, even though it was natively dispatched\r\n\t\t\t\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'change', true, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction onAlphaChange(ev: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.getData(ev, 'internal'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar oldVal = THIS.alphaElement.value;\r\n\r\n\t\t\t\t\tTHIS.processAlphaInput(THIS.alphaElement.value); // this might change the value\r\n\r\n\t\t\t\t\tjsc.triggerCallback(THIS, 'onChange');\r\n\r\n\t\t\t\t\t// triggering valueElement's onChange (because changing alpha changes the entire color, e.g. with rgba format)\r\n\t\t\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'change', true, true);\r\n\r\n\t\t\t\t\tif (THIS.alphaElement.value !== oldVal)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// value was additionally changed -> let's trigger the change event again, even though it was natively dispatched\r\n\t\t\t\t\t\tjsc.triggerInputEvent(THIS.alphaElement, 'change', true, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction onValueInput(ev: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.getData(ev, 'internal'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (THIS.valueElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.flags.leaveValue);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tjsc.triggerCallback(THIS, 'onInput');\r\n\r\n\t\t\t\t\t// triggering valueElement's onInput\r\n\t\t\t\t\t// (not needed, it was dispatched normally by the browser)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tfunction onAlphaInput(ev: any)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.getData(ev, 'internal'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn; // skip if the event was internally triggered by jscolor\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (THIS.alphaElement)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tTHIS.fromHSVA(null, null, null, parseFloat(THIS.alphaElement.value), jsc.flags.leaveAlpha);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tjsc.triggerCallback(THIS, 'onInput');\r\n\r\n\t\t\t\t\t// triggering valueElement's onInput (because changing alpha changes the entire color, e.g. with rgba format)\r\n\t\t\t\t\tjsc.triggerInputEvent(THIS.valueElement, 'input', true, true);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// let's process the DEPRECATED 'options' property (this will be later removed)\r\n\t\t\t\tif (jsc.pub.options)\r\n\t\t\t\t{\r\n\t\t\t\t\t// let's set custom default options, if specified\r\n\t\t\t\t\tfor (var opt in jsc.pub.options)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (jsc.pub.options.hasOwnProperty(opt))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsetOption(opt, jsc.pub.options[opt]);\r\n\t\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// let's apply configuration presets\r\n\t\t\t\t//\r\n\t\t\t\tvar presetsArr = [];\r\n\r\n\t\t\t\tif (opts.preset)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (typeof opts.preset === 'string')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpresetsArr = opts.preset.split(/\\s+/);\r\n\t\t\t\t\t} else if (Array.isArray(opts.preset))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpresetsArr = opts.preset.slice(); // slice() to clone\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.warn('Unrecognized preset value');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// always use the 'default' preset. If it's not listed, append it to the end.\r\n\t\t\t\tif (presetsArr.indexOf('default') === -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tpresetsArr.push('default');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// let's apply the presets in reverse order, so that should there be any overlapping options,\r\n\t\t\t\t// the formerly listed preset will override the latter\r\n\t\t\t\tfor (var i = presetsArr.length - 1; i >= 0; i -= 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar pres = presetsArr[i];\r\n\t\t\t\t\tif (!pres)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontinue; // preset is empty string\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!jsc.pub.presets.hasOwnProperty(pres))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.warn('Unknown preset: %s', pres);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var opt in jsc.pub.presets[pres])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (jsc.pub.presets[pres].hasOwnProperty(opt))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsetOption(opt, jsc.pub.presets[pres][opt]);\r\n\t\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// let's set specific options for this color picker\r\n\t\t\t\tvar nonProperties = [\r\n\t\t\t\t\t// these options won't be set as instance properties\r\n\t\t\t\t\t'preset',\r\n\t\t\t\t];\r\n\t\t\t\tfor (var opt in opts)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (opts.hasOwnProperty(opt))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (nonProperties.indexOf(opt) === -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsetOption(opt, opts[opt]);\r\n\t\t\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.warn(e);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//\r\n\t\t\t\t// Install the color picker on chosen element(s)\r\n\t\t\t\t//\r\n\r\n\r\n\t\t\t\t// Determine picker's container element\r\n\t\t\t\tif (this.container === undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.container = window.document.body; // default container is BODY element\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t{ // explicitly set to custom element\r\n\t\t\t\t\tthis.container = jsc.node(this.container);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.container)\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new Error('Cannot instantiate color picker without a container element');\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// Fetch the target element\r\n\t\t\t\tthis.targetElement = jsc.node(targetElement);\r\n\r\n\t\t\t\tif (!this.targetElement)\r\n\t\t\t\t{\r\n\t\t\t\t\t// temporarily customized error message to help with migrating from versions prior to 2.2\r\n\t\t\t\t\tif (typeof targetElement === 'string' && /^[a-zA-Z][\\w:.-]*$/.test(targetElement))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// targetElement looks like valid ID\r\n\t\t\t\t\t\tvar possiblyId = targetElement;\r\n\t\t\t\t\t\tthrow new Error('If \\'' + possiblyId + '\\' is supposed to be an ID, please use \\'#' + possiblyId + '\\' or any valid CSS selector.');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthrow new Error('Cannot instantiate color picker without a target element');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.targetElement.jscolor && this.targetElement.jscolor instanceof jsc.pub)\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow new Error('Color picker already installed on this element');\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// link this instance with the target element\r\n\t\t\t\tthis.targetElement.jscolor = this;\r\n\t\t\t\tjsc.addClass(this.targetElement, jsc.pub.className);\r\n\r\n\t\t\t\t// register this instance\r\n\t\t\t\tjsc.instances.push(this);\r\n\r\n\r\n\t\t\t\t// if target is BUTTON\r\n\t\t\t\tif (jsc.isButton(this.targetElement))\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tif (this.targetElement.type.toLowerCase() !== 'button')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// on buttons, always force type to be 'button', e.g. in situations the target <button> has no type\r\n\t\t\t\t\t\t// and thus defaults to 'submit' and would submit the form when clicked\r\n\t\t\t\t\t\tthis.targetElement.type = 'button';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (jsc.isButtonEmpty(this.targetElement))\r\n\t\t\t\t\t{ // empty button\r\n\t\t\t\t\t\t// it is important to clear element's contents first.\r\n\t\t\t\t\t\t// if we're re-instantiating color pickers on DOM that has been modified by changing page's innerHTML,\r\n\t\t\t\t\t\t// we would keep adding more non-breaking spaces to element's content (because element's contents survive\r\n\t\t\t\t\t\t// innerHTML changes, but picker instances don't)\r\n\t\t\t\t\t\tjsc.removeChildren(this.targetElement);\r\n\r\n\t\t\t\t\t\t// let's insert a non-breaking space\r\n\t\t\t\t\t\tthis.targetElement.appendChild(window.document.createTextNode('\\xa0'));\r\n\r\n\t\t\t\t\t\t// set min-width = previewSize, if not already greater\r\n\t\t\t\t\t\tvar compStyle = jsc.getCompStyle(this.targetElement);\r\n\t\t\t\t\t\tvar currMinWidth = parseFloat(compStyle['min-width']) || 0;\r\n\t\t\t\t\t\tif (currMinWidth < this.previewSize)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tjsc.setStyle(this.targetElement, {\r\n\t\t\t\t\t\t\t\t'min-width': this.previewSize + 'px',\r\n\t\t\t\t\t\t\t}, this.forceStyle);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Determine the value element\r\n\t\t\t\tif (this.valueElement === undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (jsc.isTextInput(this.targetElement))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// for text inputs, default valueElement is targetElement\r\n\t\t\t\t\t\tthis.valueElement = this.targetElement;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// leave it undefined\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (this.valueElement === null)\r\n\t\t\t\t{ // explicitly set to null\r\n\t\t\t\t\t// leave it null\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t{ // explicitly set to custom element\r\n\t\t\t\t\tthis.valueElement = jsc.node(this.valueElement);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Determine the alpha element\r\n\t\t\t\tif (this.alphaElement)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.alphaElement = jsc.node(this.alphaElement);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Determine the preview element\r\n\t\t\t\tif (this.previewElement === undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.previewElement = this.targetElement; // default previewElement is targetElement\r\n\r\n\t\t\t\t} else if (this.previewElement === null)\r\n\t\t\t\t{ // explicitly set to null\r\n\t\t\t\t\t// leave it null\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t{ // explicitly set to custom element\r\n\t\t\t\t\tthis.previewElement = jsc.node(this.previewElement);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// valueElement\r\n\t\t\t\tif (this.valueElement && jsc.isTextInput(this.valueElement))\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\t// If the value element has onInput event already set, we need to detach it and attach AFTER our listener.\r\n\t\t\t\t\t// otherwise the picker instance would still contain the old color when accessed from the onInput handler.\r\n\t\t\t\t\tvar valueElementOrigEvents = {\r\n\t\t\t\t\t\tonInput: this.valueElement.oninput\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.valueElement.oninput = null;\r\n\r\n\t\t\t\t\tthis.valueElement.addEventListener('keydown', onValueKeyDown, false);\r\n\t\t\t\t\tthis.valueElement.addEventListener('change', onValueChange, false);\r\n\t\t\t\t\tthis.valueElement.addEventListener('input', onValueInput, false);\r\n\t\t\t\t\t// the original event listener must be attached AFTER our handler (to let it first set picker's color)\r\n\t\t\t\t\tif (valueElementOrigEvents.onInput)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.valueElement.addEventListener('input', valueElementOrigEvents.onInput, false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\r\n\t\t\t\t\tthis.valueElement.setAttribute('autocorrect', 'off');\r\n\t\t\t\t\tthis.valueElement.setAttribute('autocapitalize', 'off');\r\n\t\t\t\t\tthis.valueElement.setAttribute('spellcheck', false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// alphaElement\r\n\t\t\t\tif (this.alphaElement && jsc.isTextInput(this.alphaElement))\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.alphaElement.addEventListener('keydown', onAlphaKeyDown, false);\r\n\t\t\t\t\tthis.alphaElement.addEventListener('change', onAlphaChange, false);\r\n\t\t\t\t\tthis.alphaElement.addEventListener('input', onAlphaInput, false);\r\n\r\n\t\t\t\t\tthis.alphaElement.setAttribute('autocomplete', 'off');\r\n\t\t\t\t\tthis.alphaElement.setAttribute('autocorrect', 'off');\r\n\t\t\t\t\tthis.alphaElement.setAttribute('autocapitalize', 'off');\r\n\t\t\t\t\tthis.alphaElement.setAttribute('spellcheck', false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// determine initial color value\r\n\t\t\t\t//\r\n\t\t\t\tvar initValue = 'FFFFFF';\r\n\r\n\t\t\t\tif (this.value !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tinitValue = this.value; // get initial color from the 'value' property\r\n\t\t\t\t} else if (this.valueElement && this.valueElement.value !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tinitValue = this.valueElement.value; // get initial color from valueElement's value\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// determine initial alpha value\r\n\t\t\t\t//\r\n\t\t\t\tvar initAlpha = undefined;\r\n\r\n\t\t\t\tif (this.alpha !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tinitAlpha = ('' + this.alpha); // get initial alpha value from the 'alpha' property\r\n\t\t\t\t} else if (this.alphaElement && this.alphaElement.value !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tinitAlpha = this.alphaElement.value; // get initial color from alphaElement's value\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// determine current format based on the initial color value\r\n\t\t\t\t//\r\n\t\t\t\tthis._currentFormat = null;\r\n\r\n\t\t\t\tif (['auto', 'any'].indexOf(this.format.toLowerCase()) > -1)\r\n\t\t\t\t{\r\n\t\t\t\t\t// format is 'auto' or 'any' -> let's auto-detect current format\r\n\t\t\t\t\tvar color = jsc.parseColorString(initValue);\r\n\t\t\t\t\tthis._currentFormat = color ? color.format : 'hex';\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t// format is specified\r\n\t\t\t\t\tthis._currentFormat = this.format.toLowerCase();\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// let's parse the initial color value and expose color's preview\r\n\t\t\t\tthis.processValueInput(initValue);\r\n\r\n\t\t\t\t// let's also parse and expose the initial alpha value, if any\r\n\t\t\t\t//\r\n\t\t\t\t// Note: If the initial color value contains alpha value in it (e.g. in rgba format),\r\n\t\t\t\t// this will overwrite it. So we should only process alpha input if there was initial\r\n\t\t\t\t// alpha explicitly set, otherwise we could needlessly lose initial value's alpha\r\n\t\t\t\tif (initAlpha !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.processAlphaInput(initAlpha);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.random)\r\n\t\t\t\t{\r\n\t\t\t\t\t// randomize the initial color value\r\n\t\t\t\t\tthis.randomize.apply(this, Array.isArray(this.random) ? this.random : []);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\t\t//================================\r\n\t\t// Public properties and methods\r\n\t\t//================================\r\n\r\n\t\t//\r\n\t\t// These will be publicly available via jscolor.<name> and JSColor.<name>\r\n\t\t//\r\n\r\n\r\n\t\t// class that will be set to elements having jscolor installed on them\r\n\t\tjsc.pub.className = 'jscolor';\r\n\r\n\r\n\t\t// class that will be set to elements having jscolor active on them\r\n\t\tjsc.pub.activeClassName = 'jscolor-active';\r\n\r\n\r\n\t\t// whether to try to parse the options string by evaluating it using 'new Function()'\r\n\t\t// in case it could not be parsed with JSON.parse()\r\n\t\tjsc.pub.looseJSON = true;\r\n\r\n\r\n\t\t// presets\r\n\t\tjsc.pub.presets = {};\r\n\r\n\t\t// built-in presets\r\n\t\tjsc.pub.presets['default'] = {}; // baseline for customization\r\n\r\n\t\tjsc.pub.presets['light'] = { // default color scheme\r\n\t\t\tbackgroundColor: 'rgba(255,255,255,1)',\r\n\t\t\tcontrolBorderColor: 'rgba(187,187,187,1)',\r\n\t\t\tbuttonColor: 'rgba(0,0,0,1)',\r\n\t\t};\r\n\t\tjsc.pub.presets['dark'] = {\r\n\t\t\tbackgroundColor: 'rgba(51,51,51,1)',\r\n\t\t\tcontrolBorderColor: 'rgba(153,153,153,1)',\r\n\t\t\tbuttonColor: 'rgba(240,240,240,1)',\r\n\t\t};\r\n\r\n\t\tjsc.pub.presets['small'] = { width: 101, height: 101, padding: 10, sliderSize: 14, paletteCols: 8 };\r\n\t\tjsc.pub.presets['medium'] = { width: 181, height: 101, padding: 12, sliderSize: 16, paletteCols: 10 }; // default size\r\n\t\tjsc.pub.presets['large'] = { width: 271, height: 151, padding: 12, sliderSize: 24, paletteCols: 15 };\r\n\r\n\t\tjsc.pub.presets['thin'] = { borderWidth: 1, controlBorderWidth: 1, pointerBorderWidth: 1 }; // default thickness\r\n\t\tjsc.pub.presets['thick'] = { borderWidth: 2, controlBorderWidth: 2, pointerBorderWidth: 2 };\r\n\r\n\r\n\t\t// size of space in the sliders\r\n\t\tjsc.pub.sliderInnerSpace = 3; // px\r\n\r\n\t\t// transparency chessboard\r\n\t\tjsc.pub.chessboardSize = 8; // px\r\n\t\tjsc.pub.chessboardColor1 = '#666666';\r\n\t\tjsc.pub.chessboardColor2 = '#999999';\r\n\r\n\t\t// preview separator\r\n\t\tjsc.pub.previewSeparator = ['rgba(255,255,255,.65)', 'rgba(128,128,128,.65)'];\r\n\r\n\r\n\t\t// Initializes jscolor\r\n\t\tjsc.pub.init = function ()\r\n\t\t{\r\n\t\t\tif (jsc.initialized)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// attach some necessary handlers\r\n\t\t\twindow.document.addEventListener('mousedown', jsc.onDocumentMouseDown, false);\r\n\t\t\twindow.document.addEventListener('keyup', jsc.onDocumentKeyUp, false);\r\n\t\t\twindow.addEventListener('resize', jsc.onWindowResize, false);\r\n\t\t\twindow.addEventListener('scroll', jsc.onWindowScroll, false);\r\n\r\n\t\t\t// install jscolor on current DOM\r\n\t\t\tjsc.pub.install();\r\n\r\n\t\t\tjsc.initialized = true;\r\n\r\n\t\t\t// call functions waiting in the queue\r\n\t\t\twhile (jsc.readyQueue.length)\r\n\t\t\t{\r\n\t\t\t\tvar func = jsc.readyQueue.shift();\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// Installs jscolor on current DOM tree\r\n\t\tjsc.pub.install = function (rootNode: any)\r\n\t\t{\r\n\t\t\tvar success = true;\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tjsc.installBySelector('[data-jscolor]', rootNode);\r\n\t\t\t} catch (e)\r\n\t\t\t{\r\n\t\t\t\tsuccess = false;\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t}\r\n\r\n\t\t\t// for backward compatibility with DEPRECATED installation using class name\r\n\t\t\tif (jsc.pub.lookupClass)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tjsc.installBySelector(\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t'input.' + jsc.pub.lookupClass + ', ' +\r\n\t\t\t\t\t\t\t'button.' + jsc.pub.lookupClass\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\trootNode\r\n\t\t\t\t\t);\r\n\t\t\t\t} catch (e) { }\r\n\t\t\t}\r\n\r\n\t\t\treturn success;\r\n\t\t};\r\n\r\n\r\n\t\t// Registers function to be called as soon as jscolor is initialized (or immediately, if it already is).\r\n\t\t//\r\n\t\tjsc.pub.ready = function (func: any)\r\n\t\t{\r\n\t\t\tif (typeof func !== 'function')\r\n\t\t\t{\r\n\t\t\t\tconsole.warn('Passed value is not a function');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (jsc.initialized)\r\n\t\t\t{\r\n\t\t\t\tfunc();\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\tjsc.readyQueue.push(func);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\r\n\t\t// Triggers given input event(s) (e.g. 'input' or 'change') on all color pickers.\r\n\t\t//\r\n\t\t// It is possible to specify multiple events separated with a space.\r\n\t\t// If called before jscolor is initialized, then the events will be triggered after initialization.\r\n\t\t//\r\n\t\tjsc.pub.trigger = function (eventNames: any)\r\n\t\t{\r\n\t\t\tvar triggerNow = function ()\r\n\t\t\t{\r\n\t\t\t\tjsc.triggerGlobal(eventNames);\r\n\t\t\t};\r\n\r\n\t\t\tif (jsc.initialized)\r\n\t\t\t{\r\n\t\t\t\ttriggerNow();\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\tjsc.pub.ready(triggerNow);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// Hides current color picker box\r\n\t\tjsc.pub.hide = function ()\r\n\t\t{\r\n\t\t\tif (jsc.picker && jsc.picker.owner)\r\n\t\t\t{\r\n\t\t\t\tjsc.picker.owner.hide();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// Returns a data URL of a gray chessboard image that indicates transparency\r\n\t\tjsc.pub.chessboard = function (color: any)\r\n\t\t{\r\n\t\t\tif (!color)\r\n\t\t\t{\r\n\t\t\t\tcolor = 'rgba(0,0,0,0)';\r\n\t\t\t}\r\n\t\t\tvar preview = jsc.genColorPreviewCanvas(color);\r\n\t\t\treturn preview.canvas.toDataURL();\r\n\t\t};\r\n\r\n\r\n\t\t// Returns a data URL of a gray chessboard image that indicates transparency\r\n\t\tjsc.pub.background = function (color: any)\r\n\t\t{\r\n\t\t\tvar backgrounds = [];\r\n\r\n\t\t\t// CSS gradient for background color preview\r\n\t\t\tbackgrounds.push(jsc.genColorPreviewGradient(color));\r\n\r\n\t\t\t// data URL of generated PNG image with a gray transparency chessboard\r\n\t\t\tvar preview = jsc.genColorPreviewCanvas();\r\n\t\t\tbackgrounds.push([\r\n\t\t\t\t'url(\\'' + preview.canvas.toDataURL() + '\\')',\r\n\t\t\t\t'left top',\r\n\t\t\t\t'repeat',\r\n\t\t\t].join(' '));\r\n\r\n\t\t\treturn backgrounds.join(', ');\r\n\t\t};\r\n\r\n\r\n\t\t//\r\n\t\t// DEPRECATED properties and methods\r\n\t\t//\r\n\r\n\r\n\t\t// DEPRECATED. Use jscolor.presets.default instead.\r\n\t\t//\r\n\t\t// Custom default options for all color pickers, e.g. { hash: true, width: 300 }\r\n\t\tjsc.pub.options = {};\r\n\r\n\r\n\t\t// DEPRECATED. Use data-jscolor attribute instead, which installs jscolor on given element.\r\n\t\t//\r\n\t\t// By default, we'll search for all elements with class=\"jscolor\" and install a color picker on them.\r\n\t\t//\r\n\t\t// You can change what class name will be looked for by setting the property jscolor.lookupClass\r\n\t\t// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\r\n\t\t//\r\n\t\tjsc.pub.lookupClass = 'jscolor';\r\n\r\n\r\n\t\t// DEPRECATED. Use data-jscolor attribute instead, which installs jscolor on given element.\r\n\t\t//\r\n\t\t// Install jscolor on all elements that have the specified class name\r\n\t\tjsc.pub.installByClassName = function ()\r\n\t\t{\r\n\t\t\tconsole.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor=\"\" attribute instead of a class name.' + jsc.docsRef);\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tjsc.register();\r\n\r\n\r\n\t\treturn jsc.pub;\r\n\r\n\r\n\t})(); // END jscolor\r\n\r\n\r\n\tif (typeof window.jscolor === 'undefined')\r\n\t{\r\n\t\twindow.jscolor = window.JSColor = jscolor;\r\n\t}\r\n\r\n\r\n\t// END jscolor code\r\n\r\n\treturn jscolor;\r\n\r\n}); // END factory","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, createIcon, createTextBox, IconClassicLight, IconClass, puma } from \"../vr\";\r\nimport { TextBox } from \"./textbox\";\r\n\r\n//#region Options\r\nexport class SearchBarOptions extends VrControlOptions\r\n{\r\n\tcollapsed?: boolean;\r\n\ticon?: IconClass | boolean;\r\n\tplaceholder?: string;\r\n\texpandOnClick?: boolean;\r\n\tcollapseOnBlur?: boolean;\r\n\r\n\tonClick?(e: SearchBarClickEvent): void;\r\n\tonKeyUp?(e: SearchBarKeyUpEvent): void;\r\n\tonEnterKey?(e: SearchBarEnterKeyEvent): void;\r\n\tonBlur?(e: SearchBarBlurEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class SearchBar extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _textBox: TextBox;\r\n\tprivate _previousValue: string;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: SearchBarOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new SearchBarOptions();\r\n\r\n\t\tif (options.expandOnClick == null) options.expandOnClick = true;\r\n\t\tif (options.collapseOnBlur == null) options.collapseOnBlur = false;\r\n\t\tif (options.collapsed == null) options.collapsed = false;\r\n\t\tif (options.placeholder == null) options.placeholder = \"Cerca...\";\r\n\r\n\t\tif (options.icon == null) options.icon = true;\r\n\t\tif (options.icon == true) options.icon = IconClassicLight.Search;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.SearchBar);\r\n\r\n\t\t//#region Icon\r\n\t\tif (options.icon !== false)\r\n\t\t{\r\n\t\t\tcreateIcon({\r\n\t\t\t\tvalue: options.icon,\r\n\t\t\t\tcolor: (options.onClick != null) ? \"#878787\" : \"#CCC\",\r\n\t\t\t\tonClick: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.expandOnClick != null)\r\n\t\t\t\t\t\tthis.expand();\r\n\r\n\t\t\t\t\tif (options!.onClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickEvent = new SearchBarClickEvent();\r\n\t\t\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\t\t\tclickEvent.value = this.value();\r\n\t\t\t\t\t\toptions!.onClick(clickEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this.element())\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region TextBox\r\n\t\tthis._textBox = createTextBox({\r\n\t\t\tplaceholder: options.placeholder,\r\n\t\t\twidth: (options.icon !== false) ? \"Calc(100% - 15px)\" : \"100%\",\r\n\t\t\tonKeyDown: (e) => this._previousValue = this.value(),\r\n\t\t\tonKeyUp: (e) =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onKeyUp != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet keyUpEvent = new SearchBarKeyUpEvent();\r\n\t\t\t\t\tkeyUpEvent.sender = this;\r\n\t\t\t\t\tkeyUpEvent.value = this.value();\r\n\t\t\t\t\tkeyUpEvent.previousValue = this._previousValue;\r\n\t\t\t\t\toptions!.onKeyUp!(keyUpEvent);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnterKey: () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onEnterKey != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet enterKeyPressEvent = new SearchBarEnterKeyEvent();\r\n\t\t\t\t\tenterKeyPressEvent.sender = this;\r\n\t\t\t\t\tenterKeyPressEvent.value = this.value();\r\n\t\t\t\t\toptions!.onEnterKey(enterKeyPressEvent);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBlur: (e) =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.collapseOnBlur)\r\n\t\t\t\t\tthis.collapse();\r\n\r\n\t\t\t\tif (options!.onBlur != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet blurEvent = new SearchBarBlurEvent();\r\n\t\t\t\t\tblurEvent.sender = this;\r\n\t\t\t\t\tblurEvent.value = this.value();\r\n\t\t\t\t\toptions!.onBlur(blurEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this.element())\r\n\t\t//#endregion\r\n\r\n\t\t//#region Collapsed\r\n\t\tif (options.collapsed)\r\n\t\t\tthis.collapse();\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\tvalue(text?: string)\r\n\t{\r\n\t\treturn this._textBox.value<string>(text);\r\n\t}\r\n\r\n\tclear()\r\n\t{\r\n\t\tthis._textBox.clear();\r\n\t}\r\n\r\n\t//#region Collapse/Expand\r\n\tcollapse()\r\n\t{\r\n\t\tthis._textBox.hide();\r\n\t\tthis.container().style.cssText += \"border-bottom: none;\";\r\n\t}\r\n\r\n\texpand()\r\n\t{\r\n\t\tthis._textBox.show();\r\n\t\tthis._textBox.focus();\r\n\t\tthis.container().style.cssText += \"border-bottom: solid 1px #d9d9d9;\";\r\n\t}\r\n\r\n\tisCollapsed()\r\n\t{\r\n\t\treturn !this._textBox.visible();\r\n\t}\r\n\t//#endregion\r\n\r\n\tfocus()\r\n\t{\r\n\t\tthis._textBox.focus();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass SearchBarEvent extends VrControlsEvent\r\n{\r\n\tsender: SearchBar;\r\n\tvalue: string;\r\n}\r\n\r\nclass SearchBarKeyUpEvent extends SearchBarEvent\r\n{\r\n\tpreviousValue: string;\r\n}\r\n\r\nclass SearchBarEnterKeyEvent extends SearchBarEvent\r\n{\r\n}\r\n\r\nclass SearchBarClickEvent extends SearchBarEvent\r\n{\r\n}\r\n\r\nclass SearchBarBlurEvent extends SearchBarEvent\r\n{\r\n}\r\n//#endregion","import { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, createIcon, IconClassicSolid, IconClass, puma, SplitterCollapsableSettings, SplitterCollapseDirectionEnum, SplitterDirectionEnum } from \"../vr\";\r\n\r\n//#region Options\r\nexport class SplitterOptions extends VrControlOptions\r\n{\r\n\tdirection?: SplitterDirectionEnum;\r\n\tcollapsable?: boolean | SplitterCollapsableSettings;\r\n\tresizable?: boolean;\r\n\r\n\tonBeforeExpandCollapse?: (e: SplitterBeforeExpandCollapseEvent) => void;\r\n\tonAfterExpandExpandCollapse?: (e: SplitterAfterExpandCollapseEvent) => void;\r\n\tonBeforeResize?: (e: SplitterBeforeResizeEvent) => void;\r\n\tonAfterResize?: (e: SplitterAfterResizeEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Splitter extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _previousDiv: HTMLElement;\r\n\tprivate _nextDiv: HTMLElement;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: SplitterOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new SplitterOptions();\r\n\r\n\t\tif (options.direction == null) options.direction = SplitterDirectionEnum.Horizontal;\r\n\t\tif (options.resizable == null) options.resizable = true;\r\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\r\n\r\n\t\tif (options.collapsable == null) options.collapsable = false;\r\n\t\tif (options.collapsable === true)\r\n\t\t{\r\n\t\t\toptions.collapsable = new SplitterCollapsableSettings();\r\n\t\t\tif (options.collapsable.direction == null) options.collapsable.direction = SplitterCollapseDirectionEnum.Left;\r\n\t\t\tif (options.collapsable.color == null) options.collapsable.color = \"#000\";\r\n\r\n\t\t\tif (options.direction == SplitterDirectionEnum.Horizontal) options.collapsable.direction = SplitterCollapseDirectionEnum.Left;\r\n\t\t\telse if (options.direction == SplitterDirectionEnum.Vertical) options.collapsable.direction = SplitterCollapseDirectionEnum.Up;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Splitter);\r\n\r\n\t\tif (options.resizable)\r\n\t\t\tvrSplitterResizable(this, options);\r\n\r\n\t\t//#region Direction\r\n\t\tswitch (options.direction)\r\n\t\t{\r\n\t\t\tcase SplitterDirectionEnum.Horizontal: puma(this.element()).attr(\"data-direction\", \"horizontal\"); break;\r\n\t\t\tcase SplitterDirectionEnum.Vertical: puma(this.element()).attr(\"data-direction\", \"vertical\"); break;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Collapse\r\n\t\tif (options.collapsable !== false)\r\n\t\t{\r\n\t\t\tlet icon = \"\";\r\n\t\t\tlet cssContainer = \"\";\r\n\t\t\tswitch (options.collapsable.direction as SplitterCollapseDirectionEnum)\r\n\t\t\t{\r\n\t\t\t\tcase SplitterCollapseDirectionEnum.Left:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon = IconClassicSolid.CaretLeft;\r\n\t\t\t\t\t\tcssContainer = \"left: -5px; top: Calc(50% - 8px);\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SplitterCollapseDirectionEnum.Right:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon = IconClassicSolid.CaretRight;\r\n\t\t\t\t\t\tcssContainer = \"left: 0px; top: Calc(50% - 8px);\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SplitterCollapseDirectionEnum.Up:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon = IconClassicSolid.CaretUp;\r\n\t\t\t\t\t\tcssContainer = \"top: -10px; left: Calc(50% - 5px);\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SplitterCollapseDirectionEnum.Down:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon = IconClassicSolid.CaretDown;\r\n\t\t\t\t\t\tcssContainer = \"top: -5px; left: Calc(50% - 5px)\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tcreateIcon({\r\n\t\t\t\tvalue: icon,\r\n\t\t\t\tcssContainer: \"position: absolute; \" + cssContainer,\r\n\t\t\t\tcolor: options.collapsable.color,\r\n\t\t\t\ttag: \"expanded\",\r\n\t\t\t\tonClick: (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tlet tag = e.sender.tag(); // If 'expanded', you are collapsing it\r\n\r\n\t\t\t\t\t//#region Previous/Next div\r\n\t\t\t\t\tif (this._previousDiv == null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._previousDiv = this.container().previousElementSibling as HTMLElement;\r\n\t\t\t\t\t\tthis._nextDiv = this.container().nextElementSibling as HTMLElement;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\t//#region Before collapse/expand event\r\n\t\t\t\t\tif (options!.onBeforeExpandCollapse != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet beforeExpandCollapseEvent = new SplitterBeforeExpandCollapseEvent();\r\n\t\t\t\t\t\tbeforeExpandCollapseEvent.sender = this;\r\n\t\t\t\t\t\tbeforeExpandCollapseEvent.collapse = (tag == \"expanded\");\r\n\t\t\t\t\t\tbeforeExpandCollapseEvent.previousDiv = this._previousDiv;\r\n\t\t\t\t\t\tbeforeExpandCollapseEvent.nextDiv = this._nextDiv;\r\n\t\t\t\t\t\toptions!.onBeforeExpandCollapse(beforeExpandCollapseEvent);\r\n\r\n\t\t\t\t\t\tif (beforeExpandCollapseEvent.isDefaultPrevented())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tswitch ((options!.collapsable as SplitterCollapsableSettings).direction)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Left:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//#region Left\r\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).hide();\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).width(\"100%\");\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretRight);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: 0px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).show();\r\n\r\n\t\t\t\t\t\t\t\t\tlet width = (100 - this._previousDiv.style.width.vrGetNumericPart()) + \"%\";\r\n\t\t\t\t\t\t\t\t\tif (this._previousDiv.style.width.endsWith(\"px\"))\r\n\t\t\t\t\t\t\t\t\t\twidth = \"Calc(100% - \" + this._previousDiv.style.width.vrGetNumericPart() + \"px)\";\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).width(width);\r\n\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretLeft);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: -5px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Right:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//#region Right\r\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).width(\"100%\");\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).hide();\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretLeft);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: -5px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet width = (100 - this._nextDiv.style.width.vrGetNumericPart()) + \"%\";\r\n\t\t\t\t\t\t\t\t\tif (this._nextDiv.style.width.endsWith(\"px\"))\r\n\t\t\t\t\t\t\t\t\t\twidth = \"Calc(100% - \" + this._nextDiv.style.width.vrGetNumericPart() + \"px)\";\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).width(width);\r\n\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).show();\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretRight);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: 0px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Down:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//#region Down\r\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).height(\"100%\");\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).hide();\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretUp);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -10px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet height = (100 - this._nextDiv.style.height.vrGetNumericPart()) + \"%\";\r\n\t\t\t\t\t\t\t\t\tif (this._nextDiv.style.height.endsWith(\"px\"))\r\n\t\t\t\t\t\t\t\t\t\theight = \"Calc(100% - \" + this._nextDiv.style.height.vrGetNumericPart() + \"px)\";\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).height(height);\r\n\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).show();\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretDown);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -5px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Up:\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t//#region Up\r\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).hide();\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).height(\"100%\");\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretDown);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -5px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).show();\r\n\r\n\t\t\t\t\t\t\t\t\tlet height = (100 - this._previousDiv.style.height.vrGetNumericPart()) + \"%\";\r\n\t\t\t\t\t\t\t\t\tif (this._previousDiv.style.height.endsWith(\"px\"))\r\n\t\t\t\t\t\t\t\t\t\theight = \"Calc(100% - \" + this._previousDiv.style.height.vrGetNumericPart() + \"px)\";\r\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).height(height);\r\n\r\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretUp);\r\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -10px;\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//#region After collapse/expand event\r\n\t\t\t\t\tif (options!.onAfterExpandExpandCollapse != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet afterExpandCollapseEvent = new SplitterAfterExpandCollapseEvent();\r\n\t\t\t\t\t\tafterExpandCollapseEvent.sender = this;\r\n\t\t\t\t\t\tafterExpandCollapseEvent.collapse = (tag == \"expanded\");\r\n\t\t\t\t\t\tafterExpandCollapseEvent.previousDiv = this._previousDiv;\r\n\t\t\t\t\t\tafterExpandCollapseEvent.nextDiv = this._nextDiv;\r\n\t\t\t\t\t\toptions!.onAfterExpandExpandCollapse(afterExpandCollapseEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//#endregion\r\n\r\n\t\t\t\t\tif (tag == \"expanded\")\r\n\t\t\t\t\t\te.sender.tag(\"collapsed\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\te.sender.tag(\"expanded\");\r\n\t\t\t\t}\r\n\t\t\t}, this.container())\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Resize\r\nlet vrSplitterResizable = (sender: Splitter, options: SplitterOptions) =>\r\n{\r\n\tlet resizer = sender.element() as any;\r\n\tlet direction: any = null;\r\n\tlet prevSibling: any = null;\r\n\tlet nextSibling: any = null;\r\n\r\n\tlet x = 0;\r\n\tlet y = 0;\r\n\tlet prevSiblingHeight = 0;\r\n\tlet prevSiblingWidth = 0;\r\n\r\n\tconst mouseDownHandler = (e: any) =>\r\n\t{\r\n\t\tdirection = resizer.getAttribute(\"data-direction\") || \"horizontal\";\r\n\t\tprevSibling = resizer.parentElement.previousElementSibling;\r\n\t\tnextSibling = resizer.parentElement.nextElementSibling;\r\n\r\n\t\t//#region Before resize event\r\n\t\tif (options.onBeforeResize != null)\r\n\t\t{\r\n\t\t\tlet beforeResizeEvent = new SplitterBeforeResizeEvent();\r\n\t\t\tbeforeResizeEvent.sender = sender;\r\n\t\t\tbeforeResizeEvent.previousDiv = prevSibling;\r\n\t\t\tbeforeResizeEvent.nextDiv = nextSibling;\r\n\t\t\tbeforeResizeEvent.direction = direction;\r\n\t\t\toptions!.onBeforeResize(beforeResizeEvent);\r\n\r\n\t\t\tif (beforeResizeEvent.isDefaultPrevented())\r\n\t\t\t{\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t// Current mouse position\r\n\t\tx = e.clientX;\r\n\t\ty = e.clientY;\r\n\r\n\t\t// Previous sibling size\r\n\t\tconst rect = prevSibling.getBoundingClientRect();\r\n\t\tprevSiblingHeight = rect.height;\r\n\t\tprevSiblingWidth = rect.width;\r\n\r\n\t\tdocument.addEventListener(\"mousemove\", mouseMoveHandler);\r\n\t\tdocument.addEventListener(\"mouseup\", mouseUpHandler);\r\n\t};\r\n\r\n\tconst mouseMoveHandler = (e: any) =>\r\n\t{\r\n\t\tconst dx = e.clientX - x;\r\n\t\tconst dy = e.clientY - y;\r\n\r\n\t\tswitch (direction)\r\n\t\t{\r\n\t\t\tcase \"vertical\":\r\n\t\t\t\t{\r\n\t\t\t\t\tconst h = (prevSiblingHeight + dy) * 100 / resizer.parentElement.parentNode.getBoundingClientRect().height;\r\n\t\t\t\t\tprevSibling.style.height = `${h}%`;\r\n\t\t\t\t\tnextSibling.style.height = `${100 - h}%`;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"horizontal\":\r\n\t\t\tdefault:\r\n\t\t\t\t{\r\n\t\t\t\t\tconst w = (prevSiblingWidth + dx) * 100 / resizer.parentElement.parentNode.getBoundingClientRect().width;\r\n\t\t\t\t\tprevSibling.style.width = `${w}%`;\r\n\t\t\t\t\tnextSibling.style.width = `${100 - w}%`;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t//#region Cursor & PointerEvents\r\n\t\tconst cursor = direction === \"horizontal\" ? \"col-resize\" : \"row-resize\";\r\n\t\tresizer.style.cursor = cursor;\r\n\t\tdocument.body.style.cursor = cursor;\r\n\r\n\t\tprevSibling.style.userSelect = \"none\";\r\n\t\tprevSibling.style.pointerEvents = \"none\";\r\n\r\n\t\tnextSibling.style.userSelect = \"none\";\r\n\t\tnextSibling.style.pointerEvents = \"none\";\r\n\t\t//#endregion\r\n\t};\r\n\r\n\tconst mouseUpHandler = () =>\r\n\t{\r\n\t\tresizer.style.removeProperty(\"cursor\");\r\n\t\tdocument.body.style.removeProperty(\"cursor\");\r\n\r\n\t\tprevSibling.style.removeProperty(\"user-select\");\r\n\t\tprevSibling.style.removeProperty(\"pointer-events\");\r\n\r\n\t\tnextSibling.style.removeProperty(\"user-select\");\r\n\t\tnextSibling.style.removeProperty(\"pointer-events\");\r\n\r\n\t\tdocument.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n\t\tdocument.removeEventListener(\"mouseup\", mouseUpHandler);\r\n\r\n\t\t//#region After resize event\r\n\t\tif (options.onAfterResize != null)\r\n\t\t{\r\n\t\t\tlet beforeResizeEvent = new SplitterAfterResizeEvent();\r\n\t\t\tbeforeResizeEvent.sender = sender;\r\n\t\t\tbeforeResizeEvent.previousDiv = prevSibling;\r\n\t\t\tbeforeResizeEvent.nextDiv = nextSibling;\r\n\t\t\tbeforeResizeEvent.direction = direction;\r\n\t\t\toptions!.onAfterResize(beforeResizeEvent);\r\n\t\t}\r\n\t\t//#endregion\r\n\t};\r\n\r\n\t// Attach the handler\r\n\tresizer.addEventListener(\"mousedown\", mouseDownHandler);\r\n};\r\n//#endregion\r\n\r\n//#region Classes\r\nclass SplitterEvent extends VrControlsEvent\r\n{\r\n\tsender: Splitter;\r\n}\r\n\r\nclass SplitterExpandCollapseEvent extends SplitterEvent\r\n{\r\n\tcollapse: boolean;\r\n\tpreviousDiv: HTMLElement;\r\n\tnextDiv: HTMLElement;\r\n}\r\nclass SplitterBeforeExpandCollapseEvent extends SplitterExpandCollapseEvent { }\r\nclass SplitterAfterExpandCollapseEvent extends SplitterExpandCollapseEvent { }\r\n\r\nclass SplitterResizeEvent extends SplitterEvent\r\n{\r\n\tsender: Splitter;\r\n\tpreviousDiv: HTMLElement;\r\n\tnextDiv: HTMLElement;\r\n\tdirection: SplitterDirectionEnum;\r\n}\r\nclass SplitterBeforeResizeEvent extends SplitterResizeEvent { }\r\nclass SplitterAfterResizeEvent extends SplitterResizeEvent { }\r\n//#endregion","import { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\r\nimport { AutoCompleteBoxItem, ControlTypeEnum, createTextBox, div, span, puma, createIcon, IconClassicLight, IconClass, AutoCompleteBoxComboSettings, AutoCompleteBoxItemSettings, WebApiModeEnum, ComboBoxItem, ComboBoxTreeModeEnum, KeyEnum, shadowRoot, IconClassicRegular } from \"../vr\";\r\nimport { TextBox } from \"./textbox\";\r\n\r\n//#region Options\r\nexport class AutoCompleteBoxOptions extends VrControlOptions\r\n{\r\n\tvalue?: string[] | AutoCompleteBoxItem[];\r\n\trows?: number;\r\n\tplaceholder?: string;\r\n\tborder?: boolean;\r\n\titemSettings?: AutoCompleteBoxItemSettings;\r\n\tcomboSettings?: AutoCompleteBoxComboSettings;\r\n\ttooltip?: boolean;\r\n\r\n\tonItemClick?: (e: AutoCompleteBoxItemClickEvent) => void;\r\n\tonItemAdded?: (e: AutoCompleteBoxItemAddedEvent) => void;\r\n\tonItemRemoved?: (e: AutoCompleteBoxItemRemovedEvent) => void;\r\n\tonFocus?: (e: AutoCompleteBoxFocusEvent) => void;\r\n\tonBlur?: (e: AutoCompleteBoxBlurEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class AutoCompleteBox extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _txtInput: TextBox;\r\n\tprivate _spanForWidth: HTMLElement;\r\n\tprivate _items: AutoCompleteBoxItem[];\r\n\r\n\tprivate _comboItems: ComboBoxItem[];\r\n\tprivate _popup: HTMLElement;\r\n\tprivate _lastAjaxCallGuid: string;\r\n\tprivate _typedTextWebService: string | null;\r\n\tprivate _dictionaryValueLi: Map<string, HTMLElement[]>;\r\n\tprivate _dictionaryLiValue: Map<HTMLElement, string>;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: AutoCompleteBoxOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new AutoCompleteBoxOptions();\r\n\r\n\t\tif (options.width == null) options.width = 300;\r\n\t\tif (options.border == null) options.border = true;\r\n\t\tif (options.tooltip == null) options.tooltip = true;\r\n\r\n\t\tif (options.itemSettings == null) options.itemSettings = new AutoCompleteBoxItemSettings();\r\n\t\tif (options.itemSettings.backgroundColor == null) options.itemSettings.backgroundColor = \"#FFF\";\r\n\t\tif (options.itemSettings.textColor == null) options.itemSettings.textColor = \"#5f6368\";\r\n\t\tif (options.itemSettings.border == null) options.itemSettings.border = \"solid 1px #dadce0\";\r\n\t\tif (options.itemSettings.bold == null) options.itemSettings.bold = false;\r\n\t\tif (options.itemSettings.deleteIconColor == null) options.itemSettings.deleteIconColor = \"rgb(140 140 140)\";\r\n\r\n\t\tif (options.comboSettings != null)\r\n\t\t{\r\n\t\t\tif (options.comboSettings.freeText == null) options.comboSettings.freeText = true;\r\n\t\t\tif (options.comboSettings.treeMode == null) options.comboSettings.treeMode = ComboBoxTreeModeEnum.AllExpanded;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.AutoCompleteBox);\r\n\t\tpuma(this.element()).attr(\"tabindex\", \"1\");\r\n\t\tthis._spanForWidth = span(this.element(), { css: \"visibility: hidden;\" });\r\n\r\n\t\tthis._popup = puma(\"<div class='comboBox_divPopup vrPopup' id='\" + element.id + \"_divPopup' style='border: solid 1px #ccc; display: none; position: absolute;  border-radius: 4px; box-shadow: 0 5px 10px rgb(0 0 0 / 20%); padding: 5px; overflow-y: auto; z-index: 9999999;  background-color: #fff; height: fit-content;'></div>\").vrAppendToPuma((shadowRoot() != null) ? shadowRoot() : document.body)[0];\r\n\r\n\t\tthis._items = [];\r\n\r\n\t\tif (options.border)\r\n\t\t\tthis.element().style.cssText += \"border: solid 1px #ccc;\";\r\n\r\n\t\tlet timeout = 0;\r\n\t\tthis._txtInput = createTextBox({\r\n\t\t\tcssContainer: \"width: auto !important;\",\r\n\t\t\tcss: \"width: 20px; min-width: 20px !important; max-width: \" + this.width() + \"px; padding-left: 0px; padding-right: 0px;\",\r\n\t\t\tonKeyUp: (e) =>\r\n\t\t\t{\r\n\t\t\t\t//#region Ctrl+V (paste support)\r\n\t\t\t\tif (e.key == KeyEnum.ArrowRight || e.key == KeyEnum.ArrowLeft || e.key == KeyEnum.ArrowUp\r\n\t\t\t\t\t|| e.key == KeyEnum.Control || e.ctrlKey)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!(e.key == \"v\" && e.ctrlKey))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.manageInputWidth();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\r\n\t\t\t\tif (options!.comboSettings != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\t\ttimeout = window.setTimeout(() =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet text = String(e.value);\r\n\t\t\t\t\t\tif (options!.comboSettings == null || options!.comboSettings.webService == null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//#region Items\r\n\t\t\t\t\t\t\tlet filteredItems = this.filter(text, this.element());\r\n\t\t\t\t\t\t\tif (filteredItems.length > 0)\r\n\t\t\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tthis.close();\r\n\r\n\t\t\t\t\t\t\tif (e.key == \"v\" && e.ctrlKey && filteredItems.length == 1)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.valueCombo(String(filteredItems[0].value));\r\n\t\t\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (options!.comboSettings.webService != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//#region WebService\r\n\t\t\t\t\t\t\tif (e.key != KeyEnum.Enter)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (text == \"\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis._items = [];\r\n\t\t\t\t\t\t\t\t\tpuma(this._popup).find(\"ul\").remove();\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlet selectionStart = (this.element() as HTMLInputElement).selectionStart;\r\n\t\t\t\t\t\t\t\t\tlet selectionEnd = (this.element() as HTMLInputElement).selectionEnd;\r\n\t\t\t\t\t\t\t\t\tif (!(selectionStart == 0 && selectionEnd == (this.element() as HTMLInputElement).value.length))\r\n\t\t\t\t\t\t\t\t\t\tthis.doAjaxCall(text);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//#endregion\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonEnterKey: (e) => \r\n\t\t\t{\r\n\t\t\t\tif (options!.comboSettings != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.comboSettings.freeText)\r\n\t\t\t\t\t\tthis.manageInput(e.sender, e.sender.value<string>());\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._txtInput.clear();\r\n\t\t\t\t\t\tthis.placeholder(options!.placeholder);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.manageInput(e.sender, e.sender.value<string>());\r\n\t\t\t},\r\n\t\t\tonKeyDown: (e) => \r\n\t\t\t{\r\n\t\t\t\tthis.manageInputWidth()\r\n\r\n\t\t\t\tif (options!.comboSettings != null && e.key == KeyEnum.ArrowDown)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet li = puma(this._popup).find(\"li:visible\").first();\r\n\t\t\t\t\tli.focus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, this.element())\r\n\r\n\t\tif (options.comboSettings != null && options.comboSettings.items != null)\r\n\t\t\tthis.comboItems(options.comboSettings.items);\r\n\r\n\t\tpuma(document.body).on(\"click\", (e: JQuery.ClickEvent) =>\r\n\t\t{\r\n\t\t\tif (this._txtInput.value() != \"\" && e.target.id != this._txtInput.element().id && !e.target.classList.contains(\"vrAutoCompleteBoxItemText\") && !e.target.classList.contains(\"comboBox_divPopup\"))\r\n\t\t\t{\r\n\t\t\t\tthis.manageInput(this._txtInput, this._txtInput.value())\r\n\t\t\t\tthis.blurEvent();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//#region Focus\r\n\t\tpuma(this.element()).on(\"focus\", (e: JQuery.FocusEvent) => this.focus());\r\n\t\t//#endregion\r\n\r\n\t\t//#region Value & Placeholder\r\n\t\tif (options.placeholder != null)\r\n\t\t\tthis.placeholder(options.placeholder);\r\n\r\n\t\tif (options.value != null)\r\n\t\t\tthis.items(options.value);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Rows\r\n\t\tif (options.rows != null)\r\n\t\t{\r\n\t\t\tlet maxHeight = 0;\r\n\t\t\tfor (let i = 0; i < options.rows; i++)\r\n\t\t\t{\r\n\t\t\t\tif (i == 0) maxHeight += 27;\r\n\t\t\t\telse maxHeight += 22;\r\n\t\t\t}\r\n\t\t\tthis.element().style.cssText += \"max-height: \" + maxHeight + \"px;\";\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\tlet baseListener = (shadowRoot() != null) ? shadowRoot() : document;\r\n\t\tbaseListener!.addEventListener(\"scroll\", (e) =>\r\n\t\t{\r\n\t\t\tif (!puma(e.target).hasClass(\"comboBox_divPopup\") && puma(this._popup).is(\":visible\"))\r\n\t\t\t\tthis.close();\r\n\t\t}, true);\r\n\t}\r\n\r\n\t//#region ManageInput\r\n\tprivate manageInput(sender: any, text: string, value?: string | null)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tsender.clear();\r\n\t\tthis.placeholder(options.placeholder);\r\n\r\n\t\tif (text != \"\")\r\n\t\t{\r\n\t\t\tfor (let txt of text.split(\",\"))\r\n\t\t\t{\r\n\t\t\t\tlet item = new AutoCompleteBoxItem();\r\n\t\t\t\titem.text = txt.trim();\r\n\t\t\t\tif (value != null) item.value = value;\r\n\t\t\t\tthis.addItem(item);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Reposition input at the end\r\n\t\tpuma(this._txtInput.container()).vrAppendToPuma(this.element());\r\n\r\n\t\twindow.setTimeout(() => this.focus());\r\n\t\tthis.close();\r\n\t}\r\n\r\n\tprivate manageInputWidth()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet value = this._txtInput.value<string>();\r\n\t\tif (value != \"\")\r\n\t\t\tthis._txtInput.element().style.width = (this.textWidth(value) + 20) + \"px\";\r\n\t\telse\r\n\t\t\tthis.placeholder(options.placeholder);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Items\r\n\titems(items?: string[] | AutoCompleteBoxItem[])\r\n\t{\r\n\t\tif (items != null)\r\n\t\t{\r\n\t\t\tfor (let item of items)\r\n\t\t\t\tthis.addItem(item);\r\n\t\t}\r\n\t\treturn this._items;\r\n\t}\r\n\r\n\taddItem(item: string | AutoCompleteBoxItem)\r\n\t{\r\n\t\tif (item == null || item == \"\")\r\n\t\t\treturn;\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tthis.placeholder(\"\");\r\n\r\n\t\tlet realItem: AutoCompleteBoxItem = item as any;\r\n\t\tif (typeof (item) == \"string\")\r\n\t\t{\r\n\t\t\trealItem = new AutoCompleteBoxItem();\r\n\t\t\trealItem.text = item;\r\n\t\t\trealItem.value = item;\r\n\t\t}\r\n\r\n\t\tif (realItem.value == null)\r\n\t\t\trealItem.value = realItem.text;\r\n\r\n\t\tlet divItem = div(this.element(), { class: \"vrAutoCompleteBoxItem\", attributes: [{ name: \"value\", value: realItem.value }] });\r\n\t\tlet spanItemText = span(divItem, { content: realItem.text, class: \"vrAutoCompleteBoxItemText\" });\r\n\r\n\t\t//#region Tooltip\r\n\t\tif (options.tooltip)\r\n\t\t\tpuma(divItem).attr(\"title\", realItem.text);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Color\r\n\t\tlet backgroundColor = options.itemSettings!.backgroundColor!;\r\n\t\tlet textColor = options.itemSettings!.textColor!;\r\n\t\tlet border = options.itemSettings!.border!;\r\n\t\tlet bold = options.itemSettings!.bold!;\r\n\t\tlet deleteIconColor = options.itemSettings!.deleteIconColor!;\r\n\t\tlet maxWidth = options.itemSettings!.maxWidth;\r\n\r\n\t\tif (realItem.settings != null)\r\n\t\t{\r\n\t\t\tif (realItem.settings.backgroundColor != null) backgroundColor = realItem.settings.backgroundColor;\r\n\t\t\tif (realItem.settings.textColor != null) textColor = realItem.settings.textColor;\r\n\t\t\tif (realItem.settings.border != null) border = realItem.settings.border;\r\n\t\t\tif (realItem.settings.bold != null) bold = realItem.settings.bold;\r\n\t\t\tif (realItem.settings.deleteIconColor != null) deleteIconColor = realItem.settings.deleteIconColor;\r\n\t\t\tif (realItem.settings.maxWidth != null) maxWidth = realItem.settings.maxWidth;\r\n\t\t}\r\n\r\n\t\tdivItem.style.cssText += \"background-color: \" + backgroundColor + \"; color: \" + textColor + \"; border: \" + border + \";\";\r\n\t\tif (bold)\r\n\t\t\tdivItem.style.cssText += \"font-weight: 600;\";\r\n\r\n\t\tif (maxWidth != null)\r\n\t\t\tspanItemText.style.cssText += \"max-width: \" + maxWidth + \"px;\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Click to edit\r\n\t\tpuma(divItem).on(\"click\", (e: JQuery.ClickEvent) =>\r\n\t\t{\r\n\t\t\t//#region ItemClick event\r\n\t\t\tif (options!.onItemClick != null)\r\n\t\t\t{\r\n\t\t\t\tlet itemClickEvent = new AutoCompleteBoxItemClickEvent();\r\n\t\t\t\titemClickEvent.sender = this;\r\n\t\t\t\titemClickEvent.item = { item: realItem, element: divItem };\r\n\t\t\t\titemClickEvent.text = realItem.text;\r\n\t\t\t\toptions!.onItemClick(itemClickEvent);\r\n\r\n\t\t\t\tif (itemClickEvent.isDefaultPrevented())\r\n\t\t\t\t{\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t// Position input at the current item position\r\n\t\t\tpuma(this._txtInput.container()).vrInsertBeforePuma(divItem);\r\n\r\n\t\t\tthis.removeItem(realItem.value!);\r\n\r\n\t\t\t//#region Input value & width\r\n\t\t\tlet width = this.textWidth(realItem.text);\r\n\r\n\t\t\tthis._txtInput.value(realItem.text, false);\r\n\t\t\tthis._txtInput.element().style.width = (width + 20) + \"px\";\r\n\t\t\t(this._txtInput.element() as HTMLInputElement).select();\r\n\t\t\t//#endregion\r\n\r\n\t\t\tthis.focus();\r\n\t\t});\r\n\t\t//#endregion\r\n\r\n\t\t//#region Delete\r\n\t\tcreateIcon({\r\n\t\t\tvalue: IconClassicRegular.Xmark,\r\n\t\t\tcssContainer: \"margin-left: 5px; top: -1px;\",\r\n\t\t\tcolor: deleteIconColor,\r\n\t\t\tonClick: (e) => this.removeItem(realItem.value!)\r\n\t\t}, divItem);\r\n\t\t//#endregion\r\n\r\n\t\tpuma(divItem).vrInsertBeforePuma(this._txtInput.container())\r\n\r\n\t\tif (realItem.value != null)\r\n\t\t\tpuma(divItem).attr(\"value\", realItem.value);\r\n\r\n\t\tthis._items.push(realItem);\r\n\r\n\t\t//#region Item added event\r\n\t\tif (options!.onItemAdded != null)\r\n\t\t{\r\n\t\t\tlet itemAddedEvent = new AutoCompleteBoxItemAddedEvent();\r\n\t\t\titemAddedEvent.sender = this;\r\n\t\t\titemAddedEvent.item = { item: realItem, element: divItem };\r\n\t\t\toptions!.onItemAdded(itemAddedEvent);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\tremoveItem(value: string)\r\n\t{\r\n\t\tthis._items.vrDeleteAllBy(k => k.value == value);\r\n\t\tpuma(this.container()).find(\".vrAutoCompleteBoxItem[value='\" + value + \"']\").remove();\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tif (this.items().length == 0)\r\n\t\t\tthis.placeholder(options.placeholder);\r\n\r\n\t\t//#region Item removed event\r\n\t\tif (options!.onItemRemoved != null)\r\n\t\t{\r\n\t\t\tlet itemAddedEvent = new AutoCompleteBoxItemAddedEvent();\r\n\t\t\titemAddedEvent.sender = this;\r\n\t\t\titemAddedEvent.item = this.item(value);\r\n\t\t\toptions!.onItemRemoved(itemAddedEvent);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\titem(value: string)\r\n\t{\r\n\t\tlet item = new AutoCompleteBoxItemInfo();\r\n\r\n\t\tlet realItem = this._items.filter(k => k.value == value)[0];\r\n\t\tlet index = this.items().indexOf(realItem);\r\n\t\titem.item = this.items()[index];\r\n\r\n\t\titem.element = puma(this.container()).find(\".vrAutoCompleteBoxItem[value='\" + value + \"']\")[0];\r\n\t\treturn item;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Color\r\n\tcolor(value: string, settings: AutoCompleteBoxItemSettings)\r\n\t{\r\n\t\tlet item = this.item(value);\r\n\t\tif (item.element != null && settings != null)\r\n\t\t{\r\n\t\t\tif (settings.backgroundColor != null) item.element.style.cssText += \"background-color: \" + settings.backgroundColor + \";\";\r\n\t\t\tif (settings.textColor != null) item.element.style.cssText += \"color: \" + settings.textColor + \";\";\r\n\t\t\tif (settings.border != null) item.element.style.cssText += \"border: \" + settings.border + \";\";\r\n\t\t\tif (settings.bold) item.element.style.cssText += \"font-weight: 600;\";\r\n\t\t}\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Value\r\n\ttext()\r\n\t{\r\n\t\treturn this.items().map(k => k.text);\r\n\t}\r\n\r\n\tvalue(items?: string[] | AutoCompleteBoxItem[])\r\n\t{\r\n\t\tif (items != null)\r\n\t\t\tthis.items(items);\r\n\r\n\t\treturn this.items().map(k => k.value);\r\n\t}\r\n\r\n\tplaceholder(value?: string): string\r\n\t{\r\n\t\tif (value != null)\r\n\t\t{\r\n\t\t\tlet width = this.textWidth(value);\r\n\t\t\t(this._txtInput.element() as HTMLInputElement).placeholder = value;\r\n\t\t\tthis._txtInput.element().style.width = (width + 20) + \"px\";\r\n\t\t}\r\n\t\treturn (this._txtInput.element() as HTMLInputElement).placeholder;\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Other\r\n\tprivate textWidth(value: string)\r\n\t{\r\n\t\tlet width = 0;\r\n\t\tthis._spanForWidth.innerHTML = value.replace(/\\s/g, \"&nbsp;\");\r\n\t\twidth = this._spanForWidth.offsetWidth;\r\n\t\tthis._spanForWidth.innerHTML = \"\";\r\n\r\n\t\treturn width;\r\n\t}\r\n\r\n\tfocus()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (!puma(this.element()).vrHasScrollBar())\r\n\t\t{\r\n\t\t\tthis._txtInput.focus();\r\n\t\t\tthis.focusEvent();\r\n\r\n\t\t\tif (this._txtInput.value() == \"\")\r\n\t\t\t\tthis.placeholder(options.placeholder);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate focusEvent()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.onFocus != null)\r\n\t\t{\r\n\t\t\tlet focusEvent = new AutoCompleteBoxFocusEvent();\r\n\t\t\tfocusEvent.sender = this;\r\n\t\t\tfocusEvent.element = this._txtInput.element();\r\n\t\t\toptions.onFocus(focusEvent);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate blurEvent()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.onBlur != null)\r\n\t\t{\r\n\t\t\tlet focusEvent = new AutoCompleteBoxBlurEvent();\r\n\t\t\tfocusEvent.sender = this;\r\n\t\t\tfocusEvent.element = this._txtInput.element();\r\n\t\t\toptions.onBlur(focusEvent);\r\n\t\t}\r\n\t}\r\n\r\n\tclear()\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tthis._items = [];\r\n\r\n\t\tpuma(this.container()).find(\".vrAutoCompleteBoxItem\").remove();\r\n\t\tthis._txtInput.clear();\r\n\r\n\t\tthis.placeholder(options.placeholder);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Popup webservice\r\n\tprivate close(): void\r\n\t{\r\n\t\tpuma(this._popup).hide();\r\n\t}\r\n\r\n\tprivate open(): void\r\n\t{\r\n\t\tpuma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n\t\tif (!this.enabled())\r\n\t\t\treturn;\r\n\r\n\t\tif (puma(this._popup).is(\":visible\"))\r\n\t\t\treturn;\r\n\r\n\t\tpuma(this._popup).show();\r\n\t\tsuper.settingPopup(this._popup);\r\n\r\n\t\tlet minWidth = puma(this.element()).width();\r\n\t\tthis._popup.style.cssText += \"min-width: \" + minWidth + \"px;\";\r\n\t}\r\n\r\n\tprivate doAjaxCall(text = \"\"): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (options.comboSettings == null || options.comboSettings.webService == null)\r\n\t\t\treturn;\r\n\r\n\t\tif (options.comboSettings.webService.typedTextPropertyName == null) options.comboSettings.webService.typedTextPropertyName = \"text\";\r\n\t\tif (options.comboSettings.webService.typedValuePropertyName == null) options.comboSettings.webService.typedValuePropertyName = \"value\";\r\n\t\tif (options.comboSettings.webService.itemsPropertyName == null) options.comboSettings.webService.itemsPropertyName = \"items\";\r\n\r\n\t\tlet request: any = {};\r\n\t\trequest[options.comboSettings.webService.typedTextPropertyName] = text;\r\n\r\n\t\tif (options.comboSettings.webService.authKey == null)\r\n\t\t\toptions.comboSettings.webService.authKey = \"\";\r\n\r\n\t\tif (options.comboSettings.webService.parameters != null)\r\n\t\t{\r\n\t\t\tlet parameters = options.comboSettings.webService.parameters();\r\n\t\t\tlet jsonParameters = Object.getOwnPropertyNames(parameters);\r\n\t\t\tfor (let param of jsonParameters)\r\n\t\t\t\trequest[param] = parameters[param];\r\n\t\t}\r\n\r\n\t\tthis._lastAjaxCallGuid = UtilityManager.createGuid();\r\n\t\trequest.guid = this._lastAjaxCallGuid;\r\n\t\tUtilityManager.doAjaxCall(\r\n\t\t\t{\r\n\t\t\t\tmode: WebApiModeEnum.Async,\r\n\t\t\t\tauthKey: options.comboSettings.webService.authKey,\r\n\t\t\t\tmethod: options.comboSettings.webService.method,\r\n\t\t\t\trequest: request\r\n\t\t\t},\r\n\t\t\t(response: any) =>\r\n\t\t\t{\r\n\t\t\t\tif (this._lastAjaxCallGuid != null && response.guid != null && this._lastAjaxCallGuid != response.guid)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis._typedTextWebService = text;\r\n\t\t\t\tlet items = response[options!.comboSettings!.webService!.itemsPropertyName!];\r\n\t\t\t\tthis.comboItems(items);\r\n\r\n\t\t\t\tif (items.length > 0)\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tprivate comboItems(items?: ComboBoxItem[])\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (items != null)\r\n\t\t{\r\n\t\t\tthis._comboItems = items;\r\n\r\n\t\t\tif (this.getRootItems().length == 0)\r\n\t\t\t\tpuma(this._popup).addClass(\"vrComboBoxFlat\");\r\n\t\t\telse\r\n\t\t\t\tpuma(this._popup).removeClass(\"vrComboBoxFlat\");\r\n\r\n\t\t\tif (options.comboSettings!.webService == null)\r\n\t\t\t{\r\n\t\t\t\tthis.drawDataSource();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (this._typedTextWebService == null) this._items = [];\r\n\t\t\t\tthis.drawDataSource();\r\n\t\t\t\tthis._typedTextWebService = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._comboItems;\r\n\t}\r\n\r\n\tprivate getOnlyChildrenItems(parentItem: ComboBoxItem): ComboBoxItem[]\r\n\t{\r\n\t\treturn this.comboItems().filter(k => k.parentValue != null && k.parentValue == parentItem.value);\r\n\t}\r\n\r\n\tprivate getRootItems(): ComboBoxItem[]\r\n\t{\r\n\t\tlet parentItems: ComboBoxItem[] = [];\r\n\t\tfor (let item of this.comboItems())\r\n\t\t{\r\n\t\t\tif (item == null)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tlet parentValue = item.parentValue;\r\n\t\t\twhile (parentValue != null)\r\n\t\t\t{\r\n\t\t\t\tlet parentItem = this.comboItems().filter(k => k.value == parentValue)[0];\r\n\t\t\t\tif (!parentItems.includes(parentItem))\r\n\t\t\t\t\tparentItems.push(parentItem);\r\n\r\n\t\t\t\tparentValue = (parentItem != null) ? parentItem.parentValue : undefined;\r\n\t\t\t\tif (parentItem != null && parentValue == parentItem.value)\r\n\t\t\t\t\tparentValue = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn parentItems;\r\n\t}\r\n\r\n\tprivate getRootValues(): string[]\r\n\t{\r\n\t\treturn this.getRootItems().filter(k => k != null).map(k => String(k.value));\r\n\t}\r\n\r\n\tprivate drawDataSource(searchedText?: string | null): void\r\n\t{\r\n\t\tpuma(this._popup).find(\".vrComboBoxUl\").remove();\r\n\r\n\t\tlet items = this.comboItems();\r\n\t\tif (searchedText != null)\r\n\t\t\titems = this.getFilteredArrayByInputText(searchedText);\r\n\r\n\t\tif (items.length == 1 && items[0] == null)\r\n\t\t\treturn;\r\n\r\n\t\tthis._dictionaryValueLi = new Map<string, HTMLElement[]>();\r\n\t\tthis._dictionaryLiValue = new Map<HTMLElement, string>();\r\n\t\titems = items.filter(k => k.parentValue == null);\r\n\t\tthis.drawItems(items, this._popup);\r\n\t}\r\n\r\n\tprivate drawItems(items: ComboBoxItem[], elementToAppend: HTMLElement): void\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (items.length == 0)\r\n\t\t\treturn;\r\n\r\n\t\tlet ul = puma(\"<ul class='vrComboBoxUl'></ul>\").vrAppendToPuma(elementToAppend);\r\n\t\tfor (let item of items)\r\n\t\t{\r\n\t\t\tif (item.value == null)\r\n\t\t\t\titem.value = item.text;\r\n\r\n\t\t\tlet li = puma(\"<li class='vrComboBoxLi' tabindex='-1'></li>\").vrAppendToPuma(ul);\r\n\t\t\tthis._dictionaryLiValue.set(li[0], String(item.value));\r\n\t\t\tif (this._dictionaryValueLi.has(String(item.value)))\r\n\t\t\t{\r\n\t\t\t\tlet actualLiList = this._dictionaryValueLi.get(String(item.value))!;\r\n\t\t\t\tactualLiList.push(li[0]);\r\n\t\t\t\tthis._dictionaryValueLi.set(String(item.value), actualLiList);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis._dictionaryValueLi.set(String(item.value), [li[0]]);\r\n\r\n\t\t\t//#region Key support\r\n\t\t\tpuma(li).on(\"focusin\", (e: JQuery.FocusEvent) => \r\n\t\t\t{\r\n\t\t\t\tpuma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n\t\t\t\tpuma(e.target).addClass(\"vrComboBoxSelectedComboValue keydownFocus\");\r\n\t\t\t});\r\n\t\t\tpuma(li).on(\"keydown\", (e: JQuery.KeyDownEvent) =>\r\n\t\t\t{\r\n\t\t\t\tif (e.key == KeyEnum.ArrowDown)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet next = puma(e.currentTarget).next();\r\n\t\t\t\t\tif (next.length == 0)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tpuma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n\t\t\t\t\twhile (!next.is(\":visible\"))\r\n\t\t\t\t\t\tnext = puma(next).next();\r\n\r\n\t\t\t\t\tnext.focus();\r\n\t\t\t\t}\r\n\t\t\t\telse if (e.key == KeyEnum.ArrowUp)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet prev = puma(e.currentTarget).prev();\r\n\t\t\t\t\tif (prev.length == 0)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tpuma(this._popup).find(\".vrComboBoxSelectedComboValue\").removeClass(\"vrComboBoxSelectedComboValue\");\r\n\t\t\t\t\twhile (!prev.is(\":visible\"))\r\n\t\t\t\t\t\tprev = puma(prev).prev();\r\n\r\n\t\t\t\t\tprev.focus();\r\n\t\t\t\t}\r\n\t\t\t\telse if (e.key == KeyEnum.Enter)\r\n\t\t\t\t\tpuma(e.currentTarget).find(\".vrComboBoxItemText\").click();\r\n\t\t\t});\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Tree mode\r\n\t\t\tif (options.comboSettings!.treeMode == ComboBoxTreeModeEnum.AllCollapsed)\r\n\t\t\t{\r\n\t\t\t\tif (item.parentValue != null)\r\n\t\t\t\t\tpuma(li).closest(\".vrComboBoxUl\").hide();\r\n\t\t\t}\r\n\t\t\telse if (options.comboSettings!.treeMode == ComboBoxTreeModeEnum.OnlyFirstLevelExpanded)\r\n\t\t\t{\r\n\t\t\t\tif (puma(li).parents(\".vrComboBoxUl\").length > 2)\r\n\t\t\t\t\tpuma(li).closest(\".vrComboBoxUl\").hide();\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\tlet children = this.getOnlyChildrenItems(item);\r\n\t\t\tif (children.length > 0)\r\n\t\t\t{\r\n\t\t\t\t//#region Icon expand/collapse\r\n\t\t\t\tlet iconClassForDiv = \"\";\r\n\t\t\t\tlet iconClass = IconClassicLight.CaretRight;\r\n\t\t\t\tif (options.comboSettings!.treeMode == ComboBoxTreeModeEnum.AllCollapsed)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (item.parentValue != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonClass = IconClassicLight.CaretRight;\r\n\t\t\t\t\t\ticonClassForDiv = \"caret-right\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (options.comboSettings!.treeMode == ComboBoxTreeModeEnum.OnlyFirstLevelExpanded)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (puma(li).parents(\".vrComboBoxUl\").length == 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonClass = IconClassicLight.CaretDown;\r\n\t\t\t\t\t\ticonClassForDiv = \"caret-down\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticonClass = IconClassicLight.CaretRight;\r\n\t\t\t\t\t\ticonClassForDiv = \"caret-right\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\ticonClass = IconClassicLight.CaretDown;\r\n\t\t\t\t\ticonClassForDiv = \"caret-down\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet divIcon = puma(\"<div class='vrComboBoxDivIconExpand \" + iconClassForDiv + \"'></div>\").vrAppendToPuma(li);\r\n\t\t\t\tpuma(UtilityManager.createIcon(iconClass)).vrAppendToPuma(divIcon);\r\n\t\t\t\tpuma(divIcon).click((e: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tpuma(e.currentTarget).children(\"i\").removeClass(IconClassicLight.CaretRight + \" \" + IconClassicLight.CaretDown);\r\n\t\t\t\t\tpuma(e.currentTarget).removeClass(\"caret-right caret-down\");\r\n\r\n\t\t\t\t\tlet ulChildren = puma(e.currentTarget).siblings(\".vrComboBoxUl\");\r\n\t\t\t\t\tif (ulChildren.first().is(\":visible\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tulChildren.hide();\r\n\t\t\t\t\t\tpuma(e.currentTarget).children(\"i\").addClass(IconClassicLight.CaretRight);\r\n\t\t\t\t\t\tpuma(e.currentTarget).addClass(\"caret-right\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tulChildren.show();\r\n\t\t\t\t\t\tpuma(e.currentTarget).children(\"i\").addClass(IconClassicLight.CaretDown);\r\n\t\t\t\t\t\tpuma(e.currentTarget).addClass(\"caret-down\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\r\n\t\t\tlet comboItem = puma(\"<div class='vrComboBoxDivItemContainer'></div>\").vrAppendToPuma(li);\r\n\r\n\t\t\tlet rowText = item.text.replace(/'/g, \"&#39;\");\r\n\t\t\tif (options.comboSettings != null && options.comboSettings.template != null)\r\n\t\t\t{\r\n\t\t\t\tlet templateEvent: any = {};\r\n\t\t\t\ttemplateEvent.dataItem = item;\r\n\t\t\t\ttemplateEvent.element = comboItem[0];\r\n\t\t\t\ttemplateEvent.sender = this;\r\n\t\t\t\trowText = options.comboSettings.template(templateEvent);\r\n\t\t\t}\r\n\r\n\t\t\tlet comboItemText = puma(\"<span title='\" + item.text + \"' text='\" + item.text.replace(/'/g, \"&#39;\") + \"' class='vrComboBoxItemText'>\" + rowText + \"</span>\").vrAppendToPuma(comboItem);\r\n\t\t\tpuma(comboItemText).click((e: any) =>\r\n\t\t\t{\r\n\t\t\t\tlet value = this._dictionaryLiValue.get(puma(e.currentTarget).closest(\"li\")[0]);\r\n\t\t\t\tlet item = this.comboItems().filter(k => k.value == value)[0];\r\n\t\t\t\tif (item != null && !this.getRootValues().includes(String(item.value)))\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.valueCombo(String(item.value));\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tUtilityManager.interval(() => puma(this.element()).toggleClass(\"errorInput\"), 200, 800);\r\n\t\t\t});\r\n\r\n\t\t\tif (children.length > 0)\r\n\t\t\t\tthis.drawItems(this.getOnlyChildrenItems(item), li);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate valueCombo(value: string | null)\r\n\t{\r\n\t\tif (value === null)\r\n\t\t{\r\n\t\t\tthis.clear();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet comboItemToSelect: ComboBoxItem = this.comboItems().filter(k => k.value == value)[0];\r\n\t\tthis._txtInput.value(comboItemToSelect.text, false)\r\n\t\tthis.manageInput(this._txtInput, this._txtInput.value(), String(comboItemToSelect.value))\r\n\t}\r\n\r\n\tprivate filter(text: string, element: HTMLElement)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet selectionStart = (element as HTMLInputElement).selectionStart;\r\n\t\tlet selectionEnd = (element as HTMLInputElement).selectionEnd;\r\n\t\tlet itemsToReturn: ComboBoxItem[] = [];\r\n\r\n\t\tif (text == \"\")\r\n\t\t{\r\n\t\t\tpuma(this._popup).find(\"li\").show();\r\n\t\t\tif (options.comboSettings!.webService != null)\r\n\t\t\t{\r\n\t\t\t\tthis._items = [];\r\n\t\t\t\tpuma(this._popup).find(\".vrComboBoxUl\").remove();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (!(selectionStart == 0 && selectionEnd == (element as HTMLInputElement).value.length))\r\n\t\t{\r\n\t\t\tpuma(this._popup).find(\"li\").hide();\r\n\r\n\t\t\tlet items = this.getFilteredArrayByInputText(text);\r\n\t\t\titemsToReturn = items;\r\n\r\n\t\t\tlet values = items.map(k => k.value);\r\n\t\t\tlet texts = items.map(k => k.text);\r\n\r\n\t\t\tfor (let item of items)\r\n\t\t\t{\r\n\t\t\t\tlet parentValue = item.parentValue;\r\n\t\t\t\twhile (parentValue != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet parentItem = this.comboItems().filter(k => k.value == parentValue)[0];\r\n\t\t\t\t\tif (!values.includes(parentValue))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalues.push(parentValue);\r\n\t\t\t\t\t\ttexts.push(parentItem.text);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparentValue = (parentItem != null) ? parentItem.parentValue : undefined;\r\n\t\t\t\t\tif (parentValue == parentItem.value)\r\n\t\t\t\t\t\tparentValue = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (let comboItemText of Array.from<HTMLSpanElement>(puma(this._popup).find(\".vrComboBoxItemText\")))\r\n\t\t\t{\r\n\t\t\t\tif (texts.includes(String(puma(comboItemText).attr(\"text\")).trim()))\r\n\t\t\t\t{\r\n\t\t\t\t\tpuma(comboItemText).closest(\".vrComboBoxLi\").show();\r\n\t\t\t\t\tpuma(comboItemText).closest(\".vrComboBoxLi\").closest(\".vrComboBoxUl\").show();\r\n\r\n\t\t\t\t\tpuma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").removeClass(\"caret-right caret-down\");\r\n\t\t\t\t\tpuma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").children(\"i\").removeClass(IconClassicLight.CaretRight + \" \" + IconClassicLight.CaretDown);\r\n\t\t\t\t\tpuma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").addClass(\"caret-down\");\r\n\t\t\t\t\tpuma(comboItemText).closest(\".vrComboBoxLi\").find(\".vrComboBoxDivIconExpand\").children(\"i\").addClass(IconClassicLight.CaretDown);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn itemsToReturn;\r\n\t}\r\n\r\n\tprivate getFilteredArrayByInputText(value: string): ComboBoxItem[]\r\n\t{\r\n\t\tvalue = value.toLowerCase();\r\n\t\tlet filteredArray: ComboBoxItem[] = [];\r\n\t\tlet arrayWhereSearch = this.comboItems().map(k => String(k.text).toLowerCase());\r\n\t\tarrayWhereSearch!.forEach((k, index) => \r\n\t\t{\r\n\t\t\tif (k.indexOf(value) != -1)\r\n\t\t\t\tfilteredArray.push(this.comboItems()[index]);\r\n\t\t});\r\n\t\treturn filteredArray;\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<AutoCompleteBoxOptions>();\r\n\t}\r\n}\r\n\r\n//#region Classes\r\nclass AutoCompleteBoxEvent extends VrControlsEvent\r\n{\r\n\tsender: AutoCompleteBox;\r\n}\r\n\r\nclass AutoCompleteBoxItemClickEvent extends AutoCompleteBoxEvent\r\n{\r\n\titem: AutoCompleteBoxItemInfo;\r\n\ttext: string;\r\n}\r\n\r\nclass AutoCompleteBoxItemAddedEvent extends AutoCompleteBoxEvent\r\n{\r\n\titem: AutoCompleteBoxItemInfo;\r\n}\r\n\r\nclass AutoCompleteBoxItemRemovedEvent extends AutoCompleteBoxEvent\r\n{\r\n\titem: AutoCompleteBoxItemInfo;\r\n}\r\n\r\nclass AutoCompleteBoxItemInfo\r\n{\r\n\titem: AutoCompleteBoxItem;\r\n\telement: HTMLElement;\r\n}\r\n\r\nclass AutoCompleteBoxFocusEvent extends AutoCompleteBoxEvent\r\n{\r\n\tsender: AutoCompleteBox;\r\n\telement: HTMLElement;\r\n}\r\n\r\nclass AutoCompleteBoxBlurEvent extends AutoCompleteBoxEvent\r\n{\r\n\tsender: AutoCompleteBox;\r\n\telement: HTMLElement;\r\n}\r\n//#endregion","import { VrControl } from \"../common\";\r\nimport { ChartAreaSettings, ChartDataLabelAlignEnum, ChartDataLabelsAnchorEnum, ChartDataLabelsSettings, ChartLegendSettings, ChartTitleSettings, ChartTooltipSettings, ChartTypeEnum, ControlTypeEnum, ChartFont, ChartAspectRatioSettings, ChartOptions, ChartAxisFormatterEvent, ChartLegendClickEvent, ChartLegendLeaveEvent, ChartLegendHoverEvent, ChartLabelClickEvent, ChartLabelLeaveEvent, ChartLabelHoverEvent, ChartDataSource, puma } from \"../vr\";\r\n\r\ndeclare var Chart: any;\r\ndeclare var ChartDataLabels: any;\r\n\r\n//#region Control\r\nexport class ChartVr extends VrControl\r\n{\r\n\tprivate _chart: any;\r\n\tprivate _plugins: ChartPlugin;\r\n\tprivate _datasource: ChartDataSource[];\r\n\r\n\tconstructor(element: HTMLElement, options?: ChartOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new ChartOptions();\r\n\r\n\t\tif (options.width == null) options.width = 400;\r\n\t\tif (options.height == null) options.height = 400;\r\n\t\tif (options.type == null) options.type = ChartTypeEnum.Bar;\r\n\t\tif (options.padding == null) options.padding = 0;\r\n\t\tif (options.showHideDatasetOnLegendClick == null) options.showHideDatasetOnLegendClick = true;\r\n\t\tif (options.responsive == null) options.responsive = true;\r\n\r\n\t\tif (options.stacked == null) options.stacked = false;\r\n\t\tif (options.type == ChartTypeEnum.StackedBar && options.stacked === false) options.stacked = true;\r\n\t\tif (options.stacked === true) options.stacked = { x: true, y: true };\r\n\r\n\t\tif (options.title == null) options.title = false;\r\n\t\tif (options.title === true) options.title = new ChartTitleSettings();\r\n\t\tif (options.subTitle == null) options.subTitle = false;\r\n\t\tif (options.subTitle === true) options.subTitle = new ChartTitleSettings();\r\n\r\n\t\tif (options.dataLabels == null) options.dataLabels = true;\r\n\t\tif (options.dataLabels === true) options.dataLabels = new ChartDataLabelsSettings();\r\n\r\n\t\tif (options.legend == null) options.legend = false;\r\n\t\tif (options.legend === true) options.legend = new ChartLegendSettings();\r\n\r\n\t\tif (options.tooltip == null) options.tooltip = true;\r\n\t\tif (options.tooltip === true) options.tooltip = new ChartTooltipSettings();\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Chart);\r\n\t\tthis._plugins = new ChartPlugin();\r\n\r\n\t\t//#region Title\r\n\t\tlet title: any = undefined;\r\n\t\tif (options.title !== false)\r\n\t\t{\r\n\t\t\tif (typeof (options.title) == \"string\")\r\n\t\t\t{\r\n\t\t\t\tlet text = options.title;\r\n\t\t\t\toptions.title = new ChartTitleSettings();\r\n\t\t\t\toptions.title.text = text;\r\n\t\t\t}\r\n\r\n\t\t\t(options.title as any).display = true;\r\n\t\t\tif (options.title.color == null) options.title.color = \"#51B3E1\";\r\n\t\t\tif (options.title.font == null) options.title.font = new ChartFont();\r\n\t\t\tif (options.title.font.size == null) options.title.font.size = 16;\r\n\t\t\ttitle = options.title;\r\n\t\t}\r\n\t\tthis._plugins.title = title;\r\n\t\t//#endregion\r\n\r\n\t\t//#region SubTitle\r\n\t\tlet subTitle: any = undefined;\r\n\t\tif (options.subTitle !== false)\r\n\t\t{\r\n\t\t\tif (typeof (options.subTitle) == \"string\")\r\n\t\t\t{\r\n\t\t\t\tlet text = options.subTitle;\r\n\t\t\t\toptions.subTitle = new ChartTitleSettings();\r\n\t\t\t\toptions.subTitle.text = text;\r\n\t\t\t}\r\n\r\n\t\t\t(options.subTitle as any).display = true;\r\n\t\t\tif (options.subTitle.color == null) options.subTitle.color = \"#666666\";\r\n\t\t\tsubTitle = options.subTitle;\r\n\t\t}\r\n\t\tthis._plugins.subtitle = subTitle;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Data labels\r\n\t\tlet dataLabels: any = undefined;\r\n\t\tif (options.dataLabels !== false)\r\n\t\t{\r\n\t\t\tif (options.dataLabels.color == null) options.dataLabels.color = \"#666666\";\r\n\t\t\tif (options.dataLabels.anchor == null) options.dataLabels.anchor = ChartDataLabelsAnchorEnum.End;\r\n\t\t\tif (options.dataLabels.align == null) options.dataLabels.align = ChartDataLabelAlignEnum.End;\r\n\t\t\tif (options.dataLabels.padding == null) options.dataLabels.padding = { left: 5, right: 5 };\r\n\t\t\tdataLabels = options.dataLabels;\r\n\r\n\t\t\tif (options.onDataFormatter != null)\r\n\t\t\t{\r\n\t\t\t\tdataLabels.formatter = (value: any, context: any) => \r\n\t\t\t\t{\r\n\t\t\t\t\tlet axisFormatterEvent = new ChartAxisFormatterEvent();\r\n\t\t\t\t\taxisFormatterEvent.sender = this;\r\n\t\t\t\t\taxisFormatterEvent.value = value;\r\n\t\t\t\t\taxisFormatterEvent.context = context;\r\n\t\t\t\t\treturn options!.onDataFormatter!(axisFormatterEvent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdataLabels.listeners = {\r\n\t\t\t\tenter: (context: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tcontext.hovered = true;\r\n\t\t\t\t\tif (options!.onLabelHover != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet hoverEvent = new ChartLabelHoverEvent();\r\n\t\t\t\t\t\thoverEvent.sender = this;\r\n\t\t\t\t\t\thoverEvent.context = context;\r\n\t\t\t\t\t\toptions!.onLabelHover(hoverEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t},\r\n\t\t\t\tleave: (context: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tcontext.hovered = false;\r\n\t\t\t\t\tif (options!.onLabelLeave != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet leaveEvent = new ChartLabelLeaveEvent();\r\n\t\t\t\t\t\tleaveEvent.sender = this;\r\n\t\t\t\t\t\tleaveEvent.context = context;\r\n\t\t\t\t\t\toptions!.onLabelLeave(leaveEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t},\r\n\t\t\t\tclick: (context: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.onLabelClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickEvent = new ChartLabelClickEvent();\r\n\t\t\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\t\t\tclickEvent.context = context;\r\n\t\t\t\t\t\toptions!.onLabelClick(clickEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tdataLabels = { display: false };\r\n\r\n\t\tthis._plugins.datalabels = dataLabels;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Tooltip\r\n\t\tlet tooltip: any = { enabled: false };\r\n\t\tif (options.tooltip !== false)\r\n\t\t{\r\n\t\t\t(options.tooltip as any).enabled = true;\r\n\t\t\ttooltip = options.tooltip;\r\n\t\t}\r\n\t\tthis._plugins.tooltip = tooltip;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Legend\r\n\t\tlet legend: any = { display: false };\r\n\t\tif (options.legend !== false)\r\n\t\t{\r\n\t\t\tlegend = {\r\n\t\t\t\tdisplay: true,\r\n\t\t\t\tposition: options.legend.position,\r\n\t\t\t\talign: options.legend.align,\r\n\t\t\t\tlabels: options.legend.labels,\r\n\t\t\t\ttitle: options.legend.title,\r\n\t\t\t\tonHover: (e: any, legendItem: any, legend: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.onLegendHover != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet hoverEvent = new ChartLegendHoverEvent();\r\n\t\t\t\t\t\thoverEvent.sender = this;\r\n\t\t\t\t\t\thoverEvent.event = e;\r\n\t\t\t\t\t\thoverEvent.legendItem = legendItem;\r\n\t\t\t\t\t\thoverEvent.legend = legend;\r\n\t\t\t\t\t\toptions!.onLegendHover(hoverEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonLeave: (e: any, legendItem: any, legend: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.onLegendLeave != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet leaveEvent = new ChartLegendLeaveEvent();\r\n\t\t\t\t\t\tleaveEvent.sender = this;\r\n\t\t\t\t\t\tleaveEvent.event = e;\r\n\t\t\t\t\t\tleaveEvent.legendItem = legendItem;\r\n\t\t\t\t\t\tleaveEvent.legend = legend;\r\n\t\t\t\t\t\toptions!.onLegendLeave(leaveEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonClick: (e: any, legendItem: any, legend: any) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (options!.showHideDatasetOnLegendClick)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (legend.chart.config.type === ChartTypeEnum.Pie || legend.chart.config.type === ChartTypeEnum.Donut)\r\n\t\t\t\t\t\t\tChart.controllers.doughnut.overrides.plugins.legend.onClick(e, legendItem, legend)\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tChart.defaults.plugins.legend.onClick(e, legendItem, legend);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (options!.onLegendClick != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet clickEvent = new ChartLegendClickEvent();\r\n\t\t\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\t\t\tclickEvent.event = e;\r\n\t\t\t\t\t\tclickEvent.legendItem = legendItem;\r\n\t\t\t\t\t\tclickEvent.legend = legend;\r\n\t\t\t\t\t\toptions!.onLegendClick(clickEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._plugins.legend = legend;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Scales\r\n\t\tif (options.scales == null) options.scales = {};\r\n\t\tif (options.scales.x == null) options.scales.x = {};\r\n\t\toptions.scales.x.grace = \"5%\";\r\n\t\tif (options.scales.y == null) options.scales.y = {};\r\n\t\toptions.scales.y.grace = \"5%\";\r\n\r\n\t\tif (options.type == ChartTypeEnum.Pie || options.type == ChartTypeEnum.Donut)\r\n\t\t{\r\n\t\t\toptions.scales.x.display = false;\r\n\t\t\toptions.scales.y.display = false;\r\n\t\t}\r\n\r\n\t\tif (options.stacked !== false)\r\n\t\t{\r\n\t\t\toptions.scales.x.stacked = options.stacked.x;\r\n\t\t\toptions.scales.y.stacked = options.stacked.y;\r\n\t\t}\r\n\r\n\t\tif (options.onAxisLabelFormatter != null)\r\n\t\t{\r\n\t\t\tlet callback = (value: any, context: any) => \r\n\t\t\t{\r\n\t\t\t\tlet axisFormatterEvent = new ChartAxisFormatterEvent();\r\n\t\t\t\taxisFormatterEvent.sender = this;\r\n\t\t\t\taxisFormatterEvent.value = value;\r\n\t\t\t\taxisFormatterEvent.context = context;\r\n\t\t\t\treturn options!.onAxisLabelFormatter!(axisFormatterEvent);\r\n\t\t\t};\r\n\r\n\t\t\tif (options.type == ChartTypeEnum.HorizontalBar)\r\n\t\t\t{\r\n\t\t\t\toptions.scales.x.ticks = {\r\n\t\t\t\t\tcallback: callback\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\toptions.scales.y.ticks = {\r\n\t\t\t\t\tcallback: callback\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (options.limit != null)\r\n\t\t{\r\n\t\t\toptions.scales.x.min = options.limit.minX;\r\n\t\t\toptions.scales.x.max = options.limit.maxX;\r\n\t\t\toptions.scales.y.min = options.limit.minY;\r\n\t\t\toptions.scales.y.max = options.limit.maxY;\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Aspect ratio\r\n\t\tif (options.aspectRatio == null) options.aspectRatio = new ChartAspectRatioSettings();\r\n\t\tif (options.aspectRatio.maintain == null) options.aspectRatio.maintain = false;\r\n\t\t//#endregion\r\n\r\n\t\t//#region Data\r\n\t\tif (options.datasource == null) options.datasource = [];\r\n\t\tthis.datasource(options.datasource);\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\tbase64Data()\r\n\t{\r\n\t\treturn (this.element() as HTMLCanvasElement).toDataURL().replace(\"data:image/png;base64,\", \"\");\r\n\t}\r\n\r\n\tdatasource(datasource?: ChartDataSource[])\r\n\t{\r\n\t\tif (this._chart != null)\r\n\t\t\tthis._chart.destroy();\r\n\r\n\t\tlet options = this.getOptions();\r\n\t\tlet labels: string[] = [];\r\n\r\n\t\tif (datasource != null)\r\n\t\t{\r\n\t\t\tfor (let dataset of datasource)\r\n\t\t\t{\r\n\t\t\t\t//#region Area settings\r\n\t\t\t\tif (options.type == ChartTypeEnum.Area || dataset.type == ChartTypeEnum.Area)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (dataset.areaSettings == null) dataset.areaSettings = new ChartAreaSettings();\r\n\t\t\t\t\tif (dataset.areaSettings.target == null) dataset.areaSettings.target = \"origin\";\r\n\t\t\t\t\tif (dataset.areaSettings.above == null) dataset.areaSettings.above = \"rgba(255, 99, 132, 0.2)\";\r\n\t\t\t\t\tif (dataset.areaSettings.below == null) dataset.areaSettings.below = \"rgba(255, 159, 64, 0.2)\";\r\n\t\t\t\t\t(dataset as any).fill = dataset.areaSettings;\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t\telse if (options.type == ChartTypeEnum.Line)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (dataset.smoothLine == null) dataset.smoothLine = true;\r\n\t\t\t\t\tif (dataset.smoothLine) (dataset as any).tension = 0.4;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (dataset.borderWidth == null) dataset.borderWidth = 1;\r\n\t\t\t\tif (dataset.title != null)\r\n\t\t\t\t\t(dataset as any).label = dataset.title;\r\n\r\n\t\t\t\tif (dataset.labels != null)\r\n\t\t\t\t\tlabels.vrPushRange(dataset.labels);\r\n\t\t\t}\r\n\r\n\t\t\tthis._datasource = datasource;\r\n\t\t\tlet chartData = { labels: labels, datasets: datasource };\r\n\t\t\tthis.createChart(chartData);\r\n\t\t}\r\n\t\treturn this._datasource;\r\n\t}\r\n\r\n\tprivate createChart(chartData: any)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tlet type = (options.type == ChartTypeEnum.HorizontalBar || options.type == ChartTypeEnum.StackedBar) ? ChartTypeEnum.Bar : options.type;\r\n\t\tif (options.type == ChartTypeEnum.Area) type = ChartTypeEnum.Line;\r\n\r\n\t\tlet config = {\r\n\t\t\ttype: type,\r\n\t\t\tdata: chartData,\r\n\t\t\toptions: {\r\n\t\t\t\tresponsive: options.responsive,\r\n\t\t\t\tmaintainAspectRatio: options.aspectRatio!.maintain,\r\n\t\t\t\taspectRatio: options.aspectRatio!.value,\r\n\t\t\t\tscales: options.scales,\r\n\t\t\t\tparsing: options.parsing,\r\n\t\t\t\tplugins: {\r\n\t\t\t\t\tdatalabels: this._plugins.datalabels,\r\n\t\t\t\t\ttitle: this._plugins.title,\r\n\t\t\t\t\tsubtitle: this._plugins.subtitle,\r\n\t\t\t\t\tlegend: this._plugins.legend,\r\n\t\t\t\t\ttooltip: this._plugins.tooltip\r\n\t\t\t\t},\r\n\t\t\t\tindexAxis: (options.type == ChartTypeEnum.HorizontalBar) ? \"y\" : \"x\",\r\n\t\t\t},\r\n\t\t\tlayout: { padding: options.padding },\r\n\t\t\tplugins: [ChartDataLabels]\r\n\t\t};\r\n\t\tthis._chart = new Chart(this.element(), config);\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<ChartOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n\r\nexport class BarChart extends ChartVr { }\r\nexport class HorizontalBarChart extends ChartVr { }\r\nexport class LineChart extends ChartVr { }\r\nexport class DonutChart extends ChartVr { }\r\nexport class PieChart extends ChartVr { }\r\nexport class AreaChart extends ChartVr { }\r\nexport class StackedBarChart extends ChartVr { }\r\n//#endregion\r\n\r\n//#region Classes\r\nclass ChartPlugin\r\n{\r\n\tdatalabels: any;\r\n\ttitle: any;\r\n\tsubtitle: any;\r\n\tlegend: any;\r\n\ttooltip: any;\r\n}\r\n//#endregion","import { UtilityManager } from \"../../../src/managers/utilityManager\";\r\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, puma, TabStripItem, createButtonGroup, ColorSettings } from \"../vr\";\r\nimport { ButtonGroup } from \"./buttonGroup\";\r\n\r\n//#region Options\r\nexport class TabStripOptions extends VrControlOptions\r\n{\r\n\titems?: TabStripItem[];\r\n\tbackgroundColor?: string;\r\n\ttooltip?: boolean;\r\n\r\n\tonSelect?(e: TabStripSelectEvent): void;\r\n\tonItemAdded?(e: TabStripItemAddedEvent): void;\r\n\tonItemRemoved?(e: TabStripItemRemovedEvent): void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class TabStrip extends VrControl\r\n{\r\n\tprivate _buttonGroup: ButtonGroup;\r\n\r\n\tconstructor(element: HTMLElement, options?: TabStripOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new TabStripOptions();\r\n\r\n\t\tif (options.width == null) options.width = \"100%\";\r\n\t\tif (options.backgroundColor == null) options.backgroundColor = \"#e3f1fa\";\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.TabStrip);\r\n\r\n\t\t//#region Items\r\n\t\tif (options.items != null)\r\n\t\t{\r\n\t\t\tfor (let item of options.items)\r\n\t\t\t{\r\n\t\t\t\tif (item.colorSettings == null) item.colorSettings = new ColorSettings();\r\n\t\t\t\tif (item.colorSettings.background == null) item.colorSettings.background = options.backgroundColor;\r\n\r\n\t\t\t\t//#region Element to Show/Hide\r\n\t\t\t\tif (item.elementId != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!item.elementId!.startsWith(\"#\"))\r\n\t\t\t\t\t\titem.elementId = \"#\" + item.elementId;\r\n\r\n\t\t\t\t\tlet userOnClick = item.onClick;\r\n\t\t\t\t\titem.onClick = (e) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet elementIdList = this.items().filter(k => k.elementId != null).map(k => k.elementId);\r\n\t\t\t\t\t\tfor (let elementId of elementIdList)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (!elementId!.startsWith(\"#\"))\r\n\t\t\t\t\t\t\t\telementId = \"#\" + elementId;\r\n\r\n\t\t\t\t\t\t\tpuma(elementId).hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpuma(item.elementId).show();\r\n\r\n\t\t\t\t\t\tif (userOnClick != null)\r\n\t\t\t\t\t\t\tuserOnClick(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//#endregion\r\n\t\t\t}\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\toptions.width = \"100%\";\r\n\t\toptions.cssContainer = undefined;\r\n\t\toptions.css = \"background-color: \" + options.backgroundColor + \";\";\r\n\t\toptions.margin = undefined;\r\n\t\tthis._buttonGroup = createButtonGroup(options as any, this.element())\r\n\t}\r\n\r\n\t//#region Methods\r\n\titems(items?: TabStripItem[]): TabStripItem[]\r\n\t{\r\n\t\treturn this._buttonGroup.items(items);\r\n\t}\r\n\r\n\taddItem(item: TabStripItem, show = true)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (item.colorSettings == null) item.colorSettings = new ColorSettings();\r\n\t\tif (item.colorSettings.background == null) item.colorSettings.background = options.backgroundColor;\r\n\r\n\t\tthis._buttonGroup.addItem(item);\r\n\r\n\t\tif (show)\r\n\t\t{\r\n\t\t\tif (item.elementId != null)\r\n\t\t\t{\r\n\t\t\t\tif (!item.elementId!.startsWith(\"#\"))\r\n\t\t\t\t\titem.elementId = \"#\" + item.elementId;\r\n\r\n\t\t\t\tlet userOnClick = item.onClick;\r\n\t\t\t\titem.onClick = (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tlet elementIdList = this.items().filter(k => k.elementId != null).map(k => k.elementId);\r\n\t\t\t\t\tfor (let elementId of elementIdList)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (!elementId!.startsWith(\"#\"))\r\n\t\t\t\t\t\t\telementId = \"#\" + elementId;\r\n\r\n\t\t\t\t\t\tpuma(elementId).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpuma(item.elementId).show();\r\n\r\n\t\t\t\t\tif (userOnClick != null)\r\n\t\t\t\t\t\tuserOnClick(e);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpuma(item.elementId).show();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\titem(value: string)\r\n\t{\r\n\t\treturn this.items().filter(k => k.value == value)[0];\r\n\t}\r\n\r\n\tremoveItem(value: string)\r\n\t{\r\n\t\tthis._buttonGroup.removeItem(value);\r\n\r\n\t\tlet index = this.items().map(k => k.value).indexOf(value);\r\n\t\tif (index != -1)\r\n\t\t\tthis.items().splice(index, 1);\r\n\r\n\t\tlet item = this.items().filter(k => k.value == value)[0];\r\n\t\tif (item != null && item.elementId != null)\r\n\t\t{\r\n\t\t\tif (!item.elementId!.startsWith(\"#\"))\r\n\t\t\t\titem.elementId = \"#\" + item.elementId;\r\n\r\n\t\t\tpuma(item.elementId).remove();\r\n\t\t}\r\n\t}\r\n\r\n\tremoveAllItems()\r\n\t{\r\n\t\tlet items = UtilityManager.duplicate(this.items());\r\n\t\tfor (let item of items)\r\n\t\t\tthis.removeItem(String(item.value));\r\n\t}\r\n\r\n\tshowItems(values: any[])\r\n\t{\r\n\t\tthis._buttonGroup.showItems(values);\r\n\t}\r\n\r\n\tshowItem(value: any)\r\n\t{\r\n\t\tthis._buttonGroup.showItem(value);\r\n\t}\r\n\r\n\tshowAllItems()\r\n\t{\r\n\t\tthis._buttonGroup.showAllItems();\r\n\t}\r\n\r\n\thideItems(values: any[])\r\n\t{\r\n\t\tthis._buttonGroup.hideItems(values);\r\n\r\n\t\tfor (let value of values)\r\n\t\t\tthis.hideItem(value);\r\n\t}\r\n\r\n\thideItem(value: any, hide = true)\r\n\t{\r\n\t\tthis._buttonGroup.hideItem(value);\r\n\r\n\t\tif (hide)\r\n\t\t{\r\n\t\t\tlet item = this.items().filter(k => k.value == value)[0];\r\n\t\t\tif (item != null && item.elementId != null)\r\n\t\t\t\tpuma(item.elementId).hide();\r\n\t\t}\r\n\t}\r\n\r\n\thideAllItems(hideElement = true)\r\n\t{\r\n\t\tthis._buttonGroup.hideAllItems();\r\n\r\n\t\tif (hideElement)\r\n\t\t{\r\n\t\t\tfor (let item of this.items())\r\n\t\t\t{\r\n\t\t\t\tif (item != null && item.elementId != null)\r\n\t\t\t\t\tpuma(item.elementId).hide();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvisibleItem(value: any, state?: boolean): boolean\r\n\t{\r\n\t\tif (state != null)\r\n\t\t{\r\n\t\t\tif (state) this.showItem(value);\r\n\t\t\telse this.hideItem(value);\r\n\t\t}\r\n\t\treturn this._buttonGroup.visibleItem(value, state);\r\n\t}\r\n\r\n\tenableItem(value: any)\r\n\t{\r\n\t\tthis._buttonGroup.enableItem(value);\r\n\t}\r\n\r\n\tenableItems(values: any[])\r\n\t{\r\n\t\tfor (let value of values)\r\n\t\t\tthis._buttonGroup.enableItem(value);\r\n\t}\r\n\r\n\tdisableItem(value: any)\r\n\t{\r\n\t\tthis._buttonGroup.disableItem(value);\r\n\t}\r\n\r\n\tdisableItems(values: any[])\r\n\t{\r\n\t\tfor (let value of values)\r\n\t\t\tthis._buttonGroup.disableItem(value);\r\n\t}\r\n\r\n\tselect(values: string[] | number[], triggerChange = true): void\r\n\t{\r\n\t\tthis._buttonGroup.select(values, triggerChange);\r\n\t}\r\n\r\n\tselectIndex(index: number, triggerChange = true)\r\n\t{\r\n\t\tthis._buttonGroup.selectIndex(index, triggerChange);\r\n\t}\r\n\r\n\tvalue()\r\n\t{\r\n\t\treturn this._buttonGroup.value();\r\n\t}\r\n\r\n\tgetItemByValue(value: string): HTMLElement\r\n\t{\r\n\t\treturn this._buttonGroup.getItemByValue(value);\r\n\t}\r\n\r\n\tgetItemByIndex(index: number): HTMLElement\r\n\t{\r\n\t\treturn this._buttonGroup.getItemByIndex(index);\r\n\t}\r\n\r\n\titemTooltip(value: string, tooltip?: string): string\r\n\t{\r\n\t\treturn this._buttonGroup.itemTooltip(value, tooltip);\r\n\t}\r\n\r\n\titemText(value: string, text?: string, updateTooltip = true): string\r\n\t{\r\n\t\treturn this._buttonGroup.itemText(value, text, updateTooltip);\r\n\t}\r\n\r\n\titemTextByIndex(index: number, text?: string): string\r\n\t{\r\n\t\treturn this._buttonGroup.itemTextByIndex(index, text);\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Overrides\r\n\tenable()\r\n\t{\r\n\t\tsuper.enable();\r\n\t\tthis._buttonGroup.enable();\r\n\t}\r\n\r\n\tdisable()\r\n\t{\r\n\t\tsuper.disable();\r\n\t\tthis._buttonGroup.disable();\r\n\t}\r\n\t//#endregion\r\n\r\n\tgetOptions(): TabStripOptions\r\n\t{\r\n\t\treturn this.options<TabStripOptions>();\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass TabStripEvent extends VrControlsEvent\r\n{\r\n\tsender: TabStrip;\r\n}\r\n\r\nclass TabStripSelectEvent extends TabStripEvent\r\n{\r\n\tvalue?: string | null;\r\n\tselectedValues: string[];\r\n\tselected?: boolean;\r\n}\r\n\r\nclass TabStripItemAddedEvent extends TabStripEvent { }\r\nclass TabStripItemRemovedEvent extends TabStripEvent { }\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { AnimationHideEnum, AnimationShowEnum, ColorSettings, ControlTypeEnum, div, icon, IconClassicLight, IconClass, NotifierOptions, puma, TooltipHideOnEnum, TooltipPositionEnum, TooltipShowOnEnum, TooltipTypeEnum } from \"../vr\";\r\nimport { Notifier } from \"./notifier\";\r\n\r\n//#region Options\r\nexport class TooltipOptions extends VrControlOptions\r\n{\r\n\ttarget?: HTMLElement | JQuery | string;\r\n\telementToAppend?: HTMLElement | JQuery | string;\r\n\tcontent?: string;\r\n\ttype?: TooltipTypeEnum;\r\n\tposition?: TooltipPositionEnum;\r\n\thideSettings?: TooltipHideSettings;\r\n\tshowSettings?: TooltipShowSettings;\r\n\tcolorSettings?: ColorSettings;\r\n\tshowOn?: TooltipShowOnEnum;\r\n\thideOn?: TooltipHideOnEnum;\r\n\ticon?: IconClass;\r\n\r\n\tonShow?: (e: TooltipShowEvent) => void;\r\n\tonHide?: (e: TooltipHideEvent) => void;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Tooltip extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _notifier: Notifier;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: TooltipOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new TooltipOptions();\r\n\r\n\t\tif (options.position == null) options.position = TooltipPositionEnum.BottomCenter;\r\n\t\tif (options.showOn == null) options.showOn = TooltipShowOnEnum.Hover;\r\n\t\tif (options.hideOn == null) options.hideOn = TooltipHideOnEnum.Default;\r\n\t\tif (options.type == null) options.type = TooltipTypeEnum.Default;\r\n\r\n\t\tif (options.colorSettings == null) options.colorSettings = new ColorSettings();\r\n\t\tif (options.colorSettings.background == null) options.colorSettings.background = \"#d9d9d9\";\r\n\t\tif (options.colorSettings.textColor == null) options.colorSettings.textColor = \"#000\";\r\n\t\tif (options.colorSettings.border == null) options.colorSettings.border = \"#CCC\";\r\n\r\n\t\tif (options.showSettings == null) options.showSettings = new TooltipShowSettings();\r\n\t\tif (options.showSettings.showAfter == null) options.showSettings.showAfter = 500;\r\n\t\tif (options.showSettings.animation == null) options.showSettings.animation = AnimationShowEnum.None;\r\n\r\n\t\tif (options.hideSettings == null) options.hideSettings = new TooltipHideSettings();\r\n\t\tif (options.hideSettings.hideAfter == null) options.hideSettings.hideAfter = 600;\r\n\t\tif (options.hideSettings.animation == null) options.hideSettings.animation = AnimationHideEnum.None;\r\n\r\n\t\tif (options.elementToAppend == null) options.elementToAppend = options.target;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Tooltip);\r\n\r\n\t\t//#region Show/Hide\r\n\t\tlet showOn: TooltipShowHideEnum = TooltipShowHideEnum.MouseEnter;\r\n\t\tlet hideOn: TooltipShowHideEnum = TooltipShowHideEnum.MouseLeave;\r\n\t\tswitch (options.showOn)\r\n\t\t{\r\n\t\t\tcase TooltipShowOnEnum.Hover:\r\n\t\t\t\t{\r\n\t\t\t\t\tshowOn = TooltipShowHideEnum.MouseEnter;\r\n\t\t\t\t\tif (options.hideOn == TooltipHideOnEnum.Default)\r\n\t\t\t\t\t\thideOn = TooltipShowHideEnum.MouseLeave;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TooltipShowOnEnum.Click:\r\n\t\t\t\t{\r\n\t\t\t\t\tshowOn = TooltipShowHideEnum.Click;\r\n\t\t\t\t\tif (options.hideOn == TooltipHideOnEnum.Default)\r\n\t\t\t\t\t\thideOn = TooltipShowHideEnum.Click;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase TooltipShowOnEnum.Focus:\r\n\t\t\t\t{\r\n\t\t\t\t\tshowOn = TooltipShowHideEnum.Focus;\r\n\t\t\t\t\tif (options.hideOn == TooltipHideOnEnum.Default)\r\n\t\t\t\t\t\thideOn = TooltipShowHideEnum.Blur;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (options.hideOn != TooltipHideOnEnum.Default)\r\n\t\t{\r\n\t\t\tswitch (options.hideOn)\r\n\t\t\t{\r\n\t\t\t\tcase TooltipHideOnEnum.Leave: hideOn = TooltipShowHideEnum.MouseLeave; break;\r\n\t\t\t\tcase TooltipHideOnEnum.Click: hideOn = TooltipShowHideEnum.Click; break;\r\n\t\t\t\tcase TooltipHideOnEnum.Blur: hideOn = TooltipShowHideEnum.Blur; break;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (options.showOn != TooltipShowOnEnum.Never)\r\n\t\t{\r\n\t\t\tpuma(this.target()).on(showOn, (e: JQuery.MouseEnterEvent) =>\r\n\t\t\t{\r\n\t\t\t\twindow.setTimeout(() => this.show(), options!.showSettings!.showAfter);\r\n\t\t\t});\r\n\r\n\t\t\tpuma(this.target()).on(hideOn, (e: JQuery.MouseLeaveEvent) =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.hideOn != TooltipHideOnEnum.Never)\r\n\t\t\t\t\twindow.setTimeout(() => this.hide(), Number(options!.hideSettings!.hideAfter));\r\n\t\t\t});\r\n\r\n\t\t\tpuma(this.container()).on(hideOn, (e: JQuery.MouseLeaveEvent) =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.hideOn != TooltipHideOnEnum.Never)\r\n\t\t\t\t\twindow.setTimeout(() => this.hide(), Number(options!.hideSettings!.hideAfter));\r\n\t\t\t});\r\n\r\n\t\t\tif (hideOn == TooltipShowHideEnum.Click && options.hideOn != TooltipHideOnEnum.Never)\r\n\t\t\t\tpuma(document.body).on(\"click\", () => window.setTimeout(() => this.hide(), Number(options!.hideSettings!.hideAfter)));\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\tshow(content?: string)\r\n\t{\r\n\t\tif (this._notifier != null && this._notifier.visible())\r\n\t\t\treturn;\r\n\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\t//#region Content\r\n\t\tif (content != null)\r\n\t\t\tthis.content(content);\r\n\r\n\t\tif (options.content == null)\r\n\t\t\toptions.content = this.target().innerText;\r\n\t\t//#endregion\r\n\r\n\t\tsuper.show();\r\n\r\n\t\t(options.hideSettings as any).autoHide = false;\r\n\t\tthis._notifier = new Notifier(options.content, options as NotifierOptions);\r\n\r\n\t\tpuma(this._notifier.container()).vrAppendToPuma(options.elementToAppend);\r\n\r\n\t\t//#region Event\r\n\t\tif (options.onShow != null)\r\n\t\t{\r\n\t\t\tlet showEvent = new TooltipShowEvent();\r\n\t\t\tshowEvent.sender = this;\r\n\t\t\tshowEvent.content = this.content()!;\r\n\t\t\toptions.onShow(showEvent);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\thide()\r\n\t{\r\n\t\tif (this._notifier == null || !this._notifier.visible())\r\n\t\t\treturn;\r\n\r\n\t\tlet options = this.getOptions();\r\n\r\n\t\tsuper.hide();\r\n\t\tthis._notifier.hide();\r\n\r\n\t\t//#region Event\r\n\t\tif (options.onHide != null)\r\n\t\t{\r\n\t\t\tlet hideEvent = new TooltipHideEvent();\r\n\t\t\thideEvent.sender = this;\r\n\t\t\thideEvent.content = this.content()!;\r\n\t\t\toptions.onHide(hideEvent);\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\tvisible(state?: boolean)\r\n\t{\r\n\t\tsuper.visible(state);\r\n\t\treturn (this._notifier == null) ? false : this._notifier.visible(state);\r\n\t}\r\n\r\n\tcontent(content?: string)\r\n\t{\r\n\t\tlet options = this.getOptions();\r\n\t\tif (content != null)\r\n\t\t\toptions.content = content;\r\n\r\n\t\treturn options.content;\r\n\t}\r\n\r\n\ttarget()\r\n\t{\r\n\t\treturn puma(this.getOptions().target)[0] as HTMLElement;\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<TooltipOptions>();\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nclass TooltipHideSettings\r\n{\r\n\tclickToHide?: boolean;\r\n\thideAfter?: number;\r\n\tanimation?: AnimationHideEnum;\r\n}\r\n\r\nclass TooltipShowSettings\r\n{\r\n\tshowAfter?: number;\r\n\tanimation?: AnimationShowEnum;\r\n}\r\n\r\nenum TooltipShowHideEnum\r\n{\r\n\tClick = \"click\",\r\n\tFocus = \"focus\",\r\n\tMouseEnter = \"mouseenter\",\r\n\tBlur = \"blur\",\r\n\tMouseLeave = \"mouseleave\"\r\n}\r\n\r\nclass TooltipShowEvent extends VrControlsEvent\r\n{\r\n\tsender: Tooltip;\r\n\tcontent: string;\r\n}\r\n\r\nclass TooltipHideEvent extends VrControlsEvent\r\n{\r\n\tsender: Tooltip;\r\n\tcontent: string;\r\n}\r\n//#endregion","import { ControlTypeEnum, createButton, div, IconClassicLight, puma, SpeechRecognizerOptions } from \"../vr\";\r\nimport { VrControl, VrControlsEvent } from \"../common\";\r\nimport { Button } from \"./button\";\r\n\r\ndeclare var SpeechRecognition: any;\r\ndeclare var webkitSpeechRecognition: any;\r\ndeclare var SpeechGrammarList: any;\r\ndeclare var webkitSpeechGrammarList: any;\r\n\r\n//#region Control\r\nexport class SpeechRecognizer extends VrControl\r\n{\r\n\t//#region Variables\r\n\tprivate _btnMicrophone: Button;\r\n\tprivate _recognition: any;\r\n\tprivate _allTextFromStart: string;\r\n\t//#endregion\r\n\r\n\tconstructor(element: HTMLElement, options?: SpeechRecognizerOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new SpeechRecognizerOptions();\r\n\r\n\t\tif (options.continuous == null) options.continuous = true;\r\n\t\tif (options.interimResults == null) options.interimResults = true;\r\n\t\tif (options.language == null) options.language = \"it-IT\";\r\n\t\tif (options.maxAlternatives == null) options.maxAlternatives = 1;\r\n\t\tif (options.size == null) options.size = 14;\r\n\t\tif (options.stopAtClick == null) options.stopAtClick = false;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.SpeechRecognizer);\r\n\r\n\t\t//#region Microphone\r\n\t\tthis._btnMicrophone = createButton({\r\n\t\t\ticon: IconClassicLight.Microphone,\r\n\t\t\tcss: \"border: none; background: none; border-radius: 20px; font-size: \" + options.size + \"px;\",\r\n\t\t\ttag: \"deactivated\",\r\n\t\t\ticonSettings: { fontSize: options.size },\r\n\t\t\tonClick: (e) =>\r\n\t\t\t{\r\n\t\t\t\tif (!this.enabled())\r\n\t\t\t\t{\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options!.onClick != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet clickEvent = new SpeechRecognizerClickEvent();\r\n\t\t\t\t\tclickEvent.sender = this;\r\n\t\t\t\t\toptions!.onClick(clickEvent);\r\n\r\n\t\t\t\t\tif (clickEvent.isDefaultPrevented())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.sender.tag() == \"deactivated\")\r\n\t\t\t\t\tthis.start();\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.stop();\r\n\t\t\t}\r\n\t\t}, this.element());\r\n\r\n\t\tdiv(this._btnMicrophone.element(), { class: \"speechRecognizerDivPulse\" }, true)\r\n\t\t//#endregion\r\n\r\n\t\tif (!('webkitSpeechRecognition' in window) && !('speechRecognition' in window))\r\n\t\t{\r\n\t\t\t//#region Browser not supported\r\n\t\t\tthis._btnMicrophone.disable();\r\n\t\t\tthis._btnMicrophone.icon(IconClassicLight.MicrophoneSlash);\r\n\t\t\tthis._btnMicrophone.tooltip(\"Il browser non supporta questa funzionalità\");\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet speechRecognition = webkitSpeechRecognition || SpeechRecognition;\r\n\t\t\tlet speechGrammarList = webkitSpeechGrammarList || SpeechGrammarList;\r\n\r\n\t\t\tthis._recognition = new speechRecognition();\r\n\t\t\tthis._recognition.continuous = options.continuous;\r\n\t\t\tthis._recognition.interimResults = options.interimResults;\r\n\t\t\tthis._recognition.lang = options.language;\r\n\t\t\tthis._recognition.maxAlternatives = options.maxAlternatives;\r\n\r\n\t\t\t//#region Grammar\r\n\t\t\tif (options.grammars != null && options.grammars.length > 0)\r\n\t\t\t{\r\n\t\t\t\tlet speechRecognitionList = new speechGrammarList();\r\n\t\t\t\tfor (let grammar of options.grammars)\r\n\t\t\t\t\tspeechRecognitionList.addFromString(grammar, 1);\r\n\t\t\t\tthis._recognition.grammars = speechRecognitionList;\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\r\n\t\t\t//#region Events\r\n\t\t\tthis._recognition.onresult = (e: any) =>\r\n\t\t\t{\r\n\t\t\t\tlet interimResults = \"\";\r\n\t\t\t\tlet finalResults = \"\";\r\n\r\n\t\t\t\tfor (var i = e.resultIndex; i < e.results.length; ++i)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (e.results[i].isFinal)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfinalResults += e.results[i][0].transcript;\r\n\t\t\t\t\t\tthis._allTextFromStart += e.results[i][0].transcript;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinterimResults += e.results[i][0].transcript;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options!.onResult != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerResultEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\tevent.results = e.results;\r\n\t\t\t\t\tevent.resultIndex = e.resultIndex;\r\n\t\t\t\t\tevent.interimResults = interimResults;\r\n\t\t\t\t\tevent.finalResults = finalResults;\r\n\t\t\t\t\tevent.allTextFromStart = this._allTextFromStart;\r\n\t\t\t\t\toptions!.onResult(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onnomatch = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onNoMatch != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerNoMatchEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onNoMatch(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onerror = (e: any) =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onError != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerErrorEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\tevent.error = e.error;\r\n\t\t\t\t\tevent.message = e.message;\r\n\t\t\t\t\toptions!.onError(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onstart = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onStart != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerStartEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onStart(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onend = () =>\r\n\t\t\t{\r\n\t\t\t\tlet options = this.getOptions();\r\n\t\t\t\tif (this._btnMicrophone.tag() == \"activated\" && options.stopAtClick)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._recognition.start();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._allTextFromStart = \"\";\r\n\t\t\t\tthis._btnMicrophone.tag(\"deactivated\");\r\n\t\t\t\tpuma(this._btnMicrophone.element()).removeClass(\"microphoneActive\");\r\n\r\n\t\t\t\tif (options!.onEnd != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerEndEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onEnd(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onspeechstart = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onSpeechStart != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerSpeechStartEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onSpeechStart(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onspeechend = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onSpeechEnd != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerSpeechEndEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onSpeechEnd(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onaudiostart = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onAudioStart != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerAudioStartEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onAudioStart(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onaudioend = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onAudioEnd != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerAudioEndEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onAudioEnd(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onsoundstart = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onSoundStart != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerSoundStartEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onSoundStart(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._recognition.onsoundend = () =>\r\n\t\t\t{\r\n\t\t\t\tif (options!.onSoundEnd != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet event = new SpeechRecognizerSoundEndEvent();\r\n\t\t\t\t\tevent.sender = this;\r\n\t\t\t\t\toptions!.onSoundEnd(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//#endregion\r\n\t\t}\r\n\t}\r\n\r\n\t//#region Methods\r\n\tstart()\r\n\t{\r\n\t\tthis._allTextFromStart = \"\";\r\n\t\tthis._btnMicrophone.tag(\"activated\");\r\n\t\tpuma(this._btnMicrophone.element()).addClass(\"microphoneActive\");\r\n\t\tthis._recognition.start();\r\n\t}\r\n\r\n\tstop()\r\n\t{\r\n\t\tthis._allTextFromStart = \"\";\r\n\t\tthis._btnMicrophone.tag(\"deactivated\");\r\n\t\tpuma(this._btnMicrophone.element()).removeClass(\"microphoneActive\");\r\n\t\tthis._recognition.stop();\r\n\t}\r\n\r\n\tisRecording()\r\n\t{\r\n\t\treturn this._btnMicrophone.tag() == \"activated\";\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<SpeechRecognizerOptions>();\r\n\t}\r\n\t//#endregion\r\n\r\n\t//#region Overrides\r\n\tenable(): void\r\n\t{\r\n\t\tsuper.enable();\r\n\t}\r\n\r\n\tdisable(): void\r\n\t{\r\n\t\tsuper.disable();\r\n\t\tthis.stop();\r\n\t}\r\n}\r\n//#endregion\r\n\r\n//#region Classes\r\nexport class SpeechRecognizerEvent extends VrControlsEvent\r\n{\r\n\tsender: SpeechRecognizer;\r\n}\r\n\r\nexport class SpeechRecognizerNoMatchEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerClickEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerErrorEvent extends SpeechRecognizerEvent\r\n{\r\n\terror: string;\r\n\tmessage: string;\r\n}\r\n\r\nexport class SpeechRecognizerResultEvent extends SpeechRecognizerEvent\r\n{\r\n\tresults: any;\r\n\tresultIndex: number;\r\n\tinterimResults: string;\r\n\tfinalResults: string;\r\n\tallTextFromStart: string;\r\n}\r\n\r\nexport class SpeechRecognizerStartEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerEndEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerSpeechStartEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerSpeechEndEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerAudioStartEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerAudioEndEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerSoundStartEvent extends SpeechRecognizerEvent\r\n{ }\r\n\r\nexport class SpeechRecognizerSoundEndEvent extends SpeechRecognizerEvent\r\n{ }\r\n//#endregion","import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\r\nimport { ControlTypeEnum, DivBorderSettings, DivBorderSpecificSettings, DivColorSettings } from \"../vr\";\r\n\r\n//#region Options\r\nexport class DivOptions extends VrControlOptions\r\n{\r\n\ttext?: string;\r\n\tfontSize?: number;\r\n\ttooltip?: string;\r\n\tinline?: boolean;\r\n\tcolorSettings?: DivColorSettings;\r\n\tborder?: DivBorderSettings | boolean;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Div extends VrControl\r\n{\r\n\tconstructor(element: HTMLElement, options?: DivOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new DivOptions();\r\n\r\n\t\tif (options.addToControlList == null) options.addToControlList = false;\r\n\t\tif (options.fontSize == null) options.fontSize = 14;\r\n\t\tif (options.border == null) options.border = false;\r\n\t\tif (options.inline == null) options.inline = false;\r\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Div);\r\n\r\n\t\t//#region Font size\r\n\t\tthis.element().style.cssText += \"font-size: \" + options.fontSize + \"px;\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Mode\r\n\t\tthis.container().style.cssText += \"display: flex;\";\r\n\t\tthis.element().style.cssText += \"width: 100%;\";\r\n\r\n\t\tif (options.inline)\r\n\t\t\tthis.container().style.cssText += \"display: inline-block;\";\r\n\t\t//#endregion\r\n\r\n\t\t//#region Content\r\n\t\tif (options.text != null)\r\n\t\t\tthis.text(options.text);\r\n\t\t//#endregion\r\n\r\n\t\t//#region Color\r\n\t\tif (options.colorSettings != null)\r\n\t\t{\r\n\t\t\tif (options.colorSettings.textColor == null) this.element().style.cssText += \"color: \" + options.colorSettings.textColor + \";\";\r\n\t\t\tif (options.colorSettings.background == null) this.element().style.cssText += \"background-color: \" + options.colorSettings.background + \";\";\r\n\t\t}\r\n\t\t//#endregion\r\n\r\n\t\t//#region Border\r\n\t\tif (options.border !== false)\r\n\t\t{\r\n\t\t\tif (options.border === true) options.border = new DivBorderSettings();\r\n\t\t\tif (options.border.type == null) options.border.type = \"solid\";\r\n\t\t\tif (options.border.color == null) options.border.color = \"#d9d9d9\";\r\n\t\t\tif (options.border.size == null) options.border.size = 1;\r\n\t\t\tthis.element().style.cssText += \"border: \" + options.border.type + \" \" + options.border.size + \"px \" + options.border.color + \";\";\r\n\r\n\t\t\tthis.setBorderTop(options.border.top, \"top\");\r\n\t\t\tthis.setBorderTop(options.border.right, \"right\");\r\n\t\t\tthis.setBorderTop(options.border.bottom, \"bottom\");\r\n\t\t\tthis.setBorderTop(options.border.left, \"left\");\r\n\t\t}\r\n\t\t//#endregion\r\n\t}\r\n\r\n\t//#region Methods\r\n\ttext(text?: string)\r\n\t{\r\n\t\tif (text != null)\r\n\t\t\tthis.element().innerHTML = text;\r\n\r\n\t\treturn this.element().innerHTML;\r\n\t}\r\n\r\n\tappendText(text: string)\r\n\t{\r\n\t\tthis.element().innerHTML = this.text() + text;\r\n\t}\r\n\r\n\tprivate setBorderTop(borderSettings?: DivBorderSpecificSettings | boolean, position?: string)\r\n\t{\r\n\t\tif (borderSettings == null) borderSettings = true;\r\n\t\tif (borderSettings === true) borderSettings = new DivBorderSpecificSettings();\r\n\t\tif (borderSettings !== false)\r\n\t\t{\r\n\t\t\tif (borderSettings.type == null) borderSettings.type = \"solid\";\r\n\t\t\tif (borderSettings.size == null) borderSettings.size = 1;\r\n\t\t\tif (borderSettings.color == null) borderSettings.color = \"d9d9d9\";\r\n\t\t\tthis.element().style.cssText += \"border-\" + position! + \": \" + borderSettings.type + \" \" + borderSettings.size + \"px \" + borderSettings.color + \";\";\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.element().style.cssText += \"border-\" + position! + \": none\";\r\n\t}\r\n\r\n\tgetOptions()\r\n\t{\r\n\t\treturn this.options<DivOptions>();\r\n\t}\r\n\t//#endregion\r\n}\r\n//#endregion","import { ControlTypeEnum, puma } from \"../vr\";\r\nimport { VrControlOptions, VrControl } from \"../common\";\r\n\r\n//#region Options\r\nexport class LegendOptions extends VrControlOptions\r\n{\r\n\ttitle?: string;\r\n\tfontSize?: number | string;\r\n\tfontFamily?: string;\r\n\tbold?: boolean;\r\n}\r\n//#endregion\r\n\r\n//#region Control\r\nexport class Legend extends VrControl\r\n{\r\n\tconstructor(element: HTMLElement, options?: LegendOptions | null)\r\n\t{\r\n\t\t//#region Options\r\n\t\tif (options == null)\r\n\t\t\toptions = new LegendOptions();\r\n\r\n\t\tif (options.fontSize == null) options.fontSize = 15;\r\n\t\tif (options.bold == null) options.bold = true;\r\n\t\tif (options.width == null) options.width = \"Calc(100% - 10px)\";\r\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\r\n\t\t//#endregion\r\n\r\n\t\tsuper(element, options, ControlTypeEnum.Legend);\r\n\r\n\t\t//#region Title\r\n\t\tpuma(\"<h1><span class='vrLegendTitle'>\" + options.title + \"</span></h1>\").vrAppendToPuma(this.element());\r\n\t\t//#endregion\r\n\r\n\t\t//#region Font\r\n\t\tlet font = \"\";\r\n\t\tif (options.fontSize != null)\r\n\t\t{\r\n\t\t\tif (typeof (options.fontSize) == \"number\")\r\n\t\t\t\toptions.fontSize = options.fontSize + \"px\";\r\n\r\n\t\t\tfont += \"font-size: \" + options.fontSize + \";\";\r\n\t\t}\r\n\t\tif (options.fontFamily != null)\r\n\t\t\tfont += \"font-family: \" + options.fontFamily + \";\";\r\n\t\tif (options.bold === true)\r\n\t\t\tfont += \"font-weight: 600;\";\r\n\r\n\t\tpuma(this.element()).find(\".vrLegendTitle\")[0].style.cssText += font;\r\n\t\t//#endregion\r\n\t}\r\n}\r\n//#endregion"],"sourceRoot":""}