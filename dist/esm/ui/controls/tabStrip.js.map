{"version":3,"file":"tabStrip.js","sources":["../../../../src/ui/controls/tabStrip.ts"],"sourcesContent":["import { UtilityManager } from \"../../../src/managers/utilityManager\";\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\nimport { ControlTypeEnum, puma, TabStripItem, createButtonGroup, ColorSettings } from \"../vr\";\nimport { ButtonGroup } from \"./buttonGroup\";\n\n//#region Options\nexport class TabStripOptions extends VrControlOptions\n{\n\titems?: TabStripItem[];\n\tbackgroundColor?: string;\n\ttooltip?: boolean;\n\n\tonSelect?(e: TabStripSelectEvent): void;\n\tonItemAdded?(e: TabStripItemAddedEvent): void;\n\tonItemRemoved?(e: TabStripItemRemovedEvent): void;\n}\n//#endregion\n\n//#region Control\nexport class TabStrip extends VrControl\n{\n\tprivate _buttonGroup: ButtonGroup;\n\n\tconstructor(element: HTMLElement, options?: TabStripOptions | null)\n\t{\n\t\t//#region Options\n\t\tif (options == null)\n\t\t\toptions = new TabStripOptions();\n\n\t\tif (options.width == null) options.width = \"100%\";\n\t\tif (options.backgroundColor == null) options.backgroundColor = \"#e3f1fa\";\n\t\t//#endregion\n\n\t\tsuper(element, options, ControlTypeEnum.TabStrip);\n\n\t\t//#region Items\n\t\tif (options.items != null)\n\t\t{\n\t\t\tfor (let item of options.items)\n\t\t\t{\n\t\t\t\tif (item.colorSettings == null) item.colorSettings = new ColorSettings();\n\t\t\t\tif (item.colorSettings.background == null) item.colorSettings.background = options.backgroundColor;\n\n\t\t\t\t//#region Element to Show/Hide\n\t\t\t\tif (item.elementId != null)\n\t\t\t\t{\n\t\t\t\t\tif (!item.elementId!.startsWith(\"#\"))\n\t\t\t\t\t\titem.elementId = \"#\" + item.elementId;\n\n\t\t\t\t\tlet userOnClick = item.onClick;\n\t\t\t\t\titem.onClick = (e) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tlet elementIdList = this.items().filter(k => k.elementId != null).map(k => k.elementId);\n\t\t\t\t\t\tfor (let elementId of elementIdList)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!elementId!.startsWith(\"#\"))\n\t\t\t\t\t\t\t\telementId = \"#\" + elementId;\n\n\t\t\t\t\t\t\tpuma(elementId).hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpuma(item.elementId).show();\n\n\t\t\t\t\t\tif (userOnClick != null)\n\t\t\t\t\t\t\tuserOnClick(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//#endregion\n\t\t\t}\n\t\t}\n\t\t//#endregion\n\n\t\toptions.width = \"100%\";\n\t\toptions.cssContainer = undefined;\n\t\toptions.css = \"background-color: \" + options.backgroundColor + \";\";\n\t\toptions.margin = undefined;\n\t\tthis._buttonGroup = createButtonGroup(options as any, this.element())\n\t}\n\n\t//#region Methods\n\titems(items?: TabStripItem[]): TabStripItem[]\n\t{\n\t\treturn this._buttonGroup.items(items);\n\t}\n\n\taddItem(item: TabStripItem, show = true)\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (item.colorSettings == null) item.colorSettings = new ColorSettings();\n\t\tif (item.colorSettings.background == null) item.colorSettings.background = options.backgroundColor;\n\n\t\tthis._buttonGroup.addItem(item);\n\n\t\tif (show)\n\t\t{\n\t\t\tif (item.elementId != null)\n\t\t\t{\n\t\t\t\tif (!item.elementId!.startsWith(\"#\"))\n\t\t\t\t\titem.elementId = \"#\" + item.elementId;\n\n\t\t\t\tlet userOnClick = item.onClick;\n\t\t\t\titem.onClick = (e) =>\n\t\t\t\t{\n\t\t\t\t\tlet elementIdList = this.items().filter(k => k.elementId != null).map(k => k.elementId);\n\t\t\t\t\tfor (let elementId of elementIdList)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!elementId!.startsWith(\"#\"))\n\t\t\t\t\t\t\telementId = \"#\" + elementId;\n\n\t\t\t\t\t\tpuma(elementId).hide();\n\t\t\t\t\t}\n\t\t\t\t\tpuma(item.elementId).show();\n\n\t\t\t\t\tif (userOnClick != null)\n\t\t\t\t\t\tuserOnClick(e);\n\t\t\t\t}\n\n\t\t\t\tpuma(item.elementId).show();\n\t\t\t}\n\t\t}\n\t}\n\n\titem(value: string)\n\t{\n\t\treturn this.items().filter(k => k.value == value)[0];\n\t}\n\n\tremoveItem(value: string)\n\t{\n\t\tthis._buttonGroup.removeItem(value);\n\n\t\tlet index = this.items().map(k => k.value).indexOf(value);\n\t\tif (index != -1)\n\t\t\tthis.items().splice(index, 1);\n\n\t\tlet item = this.items().filter(k => k.value == value)[0];\n\t\tif (item != null && item.elementId != null)\n\t\t{\n\t\t\tif (!item.elementId!.startsWith(\"#\"))\n\t\t\t\titem.elementId = \"#\" + item.elementId;\n\n\t\t\tpuma(item.elementId).remove();\n\t\t}\n\t}\n\n\tremoveAllItems()\n\t{\n\t\tlet items = UtilityManager.duplicate(this.items());\n\t\tfor (let item of items)\n\t\t\tthis.removeItem(String(item.value));\n\t}\n\n\tshowItems(values: any[])\n\t{\n\t\tthis._buttonGroup.showItems(values);\n\t}\n\n\tshowItem(value: any)\n\t{\n\t\tthis._buttonGroup.showItem(value);\n\t}\n\n\tshowAllItems()\n\t{\n\t\tthis._buttonGroup.showAllItems();\n\t}\n\n\thideItems(values: any[])\n\t{\n\t\tthis._buttonGroup.hideItems(values);\n\n\t\tfor (let value of values)\n\t\t\tthis.hideItem(value);\n\t}\n\n\thideItem(value: any, hide = true)\n\t{\n\t\tthis._buttonGroup.hideItem(value);\n\n\t\tif (hide)\n\t\t{\n\t\t\tlet item = this.items().filter(k => k.value == value)[0];\n\t\t\tif (item != null && item.elementId != null)\n\t\t\t\tpuma(item.elementId).hide();\n\t\t}\n\t}\n\n\thideAllItems(hideElement = true)\n\t{\n\t\tthis._buttonGroup.hideAllItems();\n\n\t\tif (hideElement)\n\t\t{\n\t\t\tfor (let item of this.items())\n\t\t\t{\n\t\t\t\tif (item != null && item.elementId != null)\n\t\t\t\t\tpuma(item.elementId).hide();\n\t\t\t}\n\t\t}\n\t}\n\n\tvisibleItem(value: any, state?: boolean): boolean\n\t{\n\t\tif (state != null)\n\t\t{\n\t\t\tif (state) this.showItem(value);\n\t\t\telse this.hideItem(value);\n\t\t}\n\t\treturn this._buttonGroup.visibleItem(value, state);\n\t}\n\n\tenableItem(value: any)\n\t{\n\t\tthis._buttonGroup.enableItem(value);\n\t}\n\n\tenableItems(values: any[])\n\t{\n\t\tfor (let value of values)\n\t\t\tthis._buttonGroup.enableItem(value);\n\t}\n\n\tdisableItem(value: any)\n\t{\n\t\tthis._buttonGroup.disableItem(value);\n\t}\n\n\tdisableItems(values: any[])\n\t{\n\t\tfor (let value of values)\n\t\t\tthis._buttonGroup.disableItem(value);\n\t}\n\n\tselect(values: string[] | number[], triggerChange = true): void\n\t{\n\t\tthis._buttonGroup.select(values, triggerChange);\n\t}\n\n\tselectIndex(index: number, triggerChange = true)\n\t{\n\t\tthis._buttonGroup.selectIndex(index, triggerChange);\n\t}\n\n\tvalue()\n\t{\n\t\treturn this._buttonGroup.value();\n\t}\n\n\tgetItemByValue(value: string): HTMLElement\n\t{\n\t\treturn this._buttonGroup.getItemByValue(value);\n\t}\n\n\tgetItemByIndex(index: number): HTMLElement\n\t{\n\t\treturn this._buttonGroup.getItemByIndex(index);\n\t}\n\n\titemTooltip(value: string, tooltip?: string): string\n\t{\n\t\treturn this._buttonGroup.itemTooltip(value, tooltip);\n\t}\n\n\titemText(value: string, text?: string, updateTooltip = true): string\n\t{\n\t\treturn this._buttonGroup.itemText(value, text, updateTooltip);\n\t}\n\n\titemTextByIndex(index: number, text?: string): string\n\t{\n\t\treturn this._buttonGroup.itemTextByIndex(index, text);\n\t}\n\t//#endregion\n\n\t//#region Overrides\n\tenable()\n\t{\n\t\tsuper.enable();\n\t\tthis._buttonGroup.enable();\n\t}\n\n\tdisable()\n\t{\n\t\tsuper.disable();\n\t\tthis._buttonGroup.disable();\n\t}\n\t//#endregion\n\n\tgetOptions(): TabStripOptions\n\t{\n\t\treturn this.options<TabStripOptions>();\n\t}\n}\n//#endregion\n\n//#region Classes\nclass TabStripEvent extends VrControlsEvent\n{\n\tsender: TabStrip;\n}\n\nclass TabStripSelectEvent extends TabStripEvent\n{\n\tvalue?: string | null;\n\tselectedValues: string[];\n\tselected?: boolean;\n}\n\nclass TabStripItemAddedEvent extends TabStripEvent { }\nclass TabStripItemRemovedEvent extends TabStripEvent { }\n//#endregion"],"names":[],"mappings":"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"}