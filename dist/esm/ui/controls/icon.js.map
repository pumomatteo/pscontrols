{"version":3,"file":"icon.js","sources":["../../../../src/ui/controls/icon.ts"],"sourcesContent":["import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\nimport { ControlTypeEnum, IconClassicLight, IconClass, puma, confirm } from \"../vr\";\n\n//#region Options\nexport class IconOptions extends VrControlOptions\n{\n\tvalue?: string | IconClassicLight;\n\tcolor?: string;\n\tfontSize?: number | string;\n\tcursorPointer?: boolean;\n\tconfirmationMessage?: string;\n\ttooltip?: string;\n\n\tonClick?: (e: VrIconClickEvent) => void;\n\tonMouseDown?: (e: VrIconClickEvent) => void;\n\tonRejectedConfirm?: () => void;\n}\n//#endregion\n\n//#region Control\nexport class Icon extends VrControl\n{\n\tconstructor(element: HTMLElement, options?: IconOptions | null)\n\t{\n\t\t//#region Options\n\t\tif (options == null)\n\t\t\toptions = new IconOptions();\n\n\t\tif (options.color == null) options.color = \"#000\";\n\t\tif (options.cursorPointer == null) options.cursorPointer = false;\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\n\t\t//#endregion\n\n\t\tsuper(element, options, ControlTypeEnum.Icon);\n\n\t\tpuma(this.element()).attr(\"aria-hidden\", \"true\");\n\n\t\t//#region Color & Font\n\t\tthis.color(options.color);\n\n\t\tif (options.fontSize != null)\n\t\t\tthis.fontSize(options.fontSize);\n\t\t//#endregion\n\n\t\t//#region Value\n\t\tif (options.value != null)\n\t\t\tthis.value(options.value);\n\t\t//#endregion\n\n\t\t//#region Tooltip\n\t\tif (options.tooltip != null)\n\t\t\tpuma(this.element()).attr(\"title\", options.tooltip);\n\t\t//#endregion\n\n\t\t//#region Cursor\n\t\tif (options.cursorPointer || options.onClick != null || options.onMouseDown)\n\t\t{\n\t\t\tthis.container().style.cssText += \"cursor: pointer;\";\n\t\t\tthis.element().style.cssText += \"cursor: pointer;\";\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Events\n\t\tpuma(this.container()).on(\"click\", (e: JQuery.ClickEvent) =>\n\t\t{\n\t\t\tthis.click();\n\t\t});\n\n\t\tpuma(this.container()).on(\"mousedown\", (e: JQuery.ClickEvent) =>\n\t\t{\n\t\t\tthis.mouseDown();\n\t\t});\n\t\t//#endregion\n\t}\n\n\t//#region Methods\n\tvalue(value?: string | IconClassicLight)\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (value != null) \n\t\t{\n\t\t\tpuma(this.element()).removeClass(options.value);\n\t\t\tpuma(this.element()).addClass(value);\n\t\t\toptions.value = value;\n\t\t}\n\t\treturn options.value;\n\t}\n\n\tfontSize(fontSize?: number | string)\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (fontSize != null)\n\t\t{\n\t\t\tif (typeof (fontSize) == \"number\")\n\t\t\t\tfontSize = fontSize + \"px\";\n\n\t\t\tthis.element().style.cssText += \"font-size: \" + fontSize + \";\";\n\t\t\toptions.fontSize = fontSize;\n\t\t}\n\t\treturn options.fontSize;\n\t}\n\n\tcolor(color?: string)\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (color != null)\n\t\t{\n\t\t\tthis.element().style.cssText += \"color: \" + color + \";\";\n\t\t\toptions.color = color;\n\t\t}\n\t\treturn options.color;\n\t}\n\n\tclick(): void\n\t{\n\t\tif (!this.enabled())\n\t\t\treturn;\n\n\t\tlet options = this.getOptions();\n\t\tif (options.confirmationMessage != null)\n\t\t\tconfirm(options.confirmationMessage).then(() => this.internalClick(), () => this.rejectedConfirm());\n\t\telse\n\t\t\tthis.internalClick();\n\t}\n\n\tprivate internalClick()\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (options!.onClick != null)\n\t\t{\n\t\t\tlet clickEvent = new VrIconClickEvent();\n\t\t\tclickEvent.sender = this;\n\t\t\tclickEvent.value = this.value();\n\t\t\toptions!.onClick(clickEvent);\n\t\t}\n\t}\n\n\tmouseDown(): void\n\t{\n\t\tif (!this.enabled())\n\t\t\treturn;\n\n\t\tlet options = this.getOptions();\n\t\tif (options.confirmationMessage != null)\n\t\t\tconfirm(options.confirmationMessage).then(() => this.internalMouseDown(), () => this.rejectedConfirm());\n\t\telse\n\t\t\tthis.internalMouseDown();\n\t}\n\n\tprivate internalMouseDown()\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (options!.onMouseDown != null)\n\t\t{\n\t\t\tlet clickEvent = new VrIconClickEvent();\n\t\t\tclickEvent.sender = this;\n\t\t\tclickEvent.value = this.value();\n\t\t\toptions!.onMouseDown(clickEvent);\n\t\t}\n\t}\n\n\tprivate rejectedConfirm()\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (options.onRejectedConfirm != null)\n\t\t\toptions.onRejectedConfirm();\n\t}\n\n\tgetOptions()\n\t{\n\t\treturn this.options<IconOptions>();\n\t}\n\t//#endregion\n}\n//#endregion\n\n//#region Classes\nclass VrIconClickEvent extends VrControlsEvent\n{\n\tsender: Icon;\n\tvalue?: string | IconClassicLight;\n}\n//#endregion"],"names":[],"mappings":"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"}