{"version":3,"file":"window.js","sources":["../../../../src/ui/controls/window.ts"],"sourcesContent":["import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\nimport { ControlTypeEnum, IconClassicLight, IconClass, WindowFooterItemTypeEnum as WindowFooterItemTypeEnum, ButtonModeEnum, ColorSettings, WindowFooterItemAlignEnum, createButton, createSplitButton, puma, shadowRoot, WindowAutoSizeDirectionEnum, TextAlignEnum, createLabel, ButtonGroupItem, createSwitch, createButtonGroup, SelectionModeEnum, createCheckBox, createComboBox, createDatePicker, createTextBox, IconClassicRegular, IconSettings, createSeparator } from \"../vr\";\nimport { UtilityManager } from \"../../../src/managers/utilityManager\";\nimport { SplitButtonItem } from \"./splitButton\";\nimport { ControlManager } from \"../../../src/managers/controlManager\";\nimport { DeviceManager } from \"../../../src/managers/deviceManager\";\nimport { LoaderManager } from \"../../../src/managers/loaderManager\";\nimport { ComboBoxOptions } from \"./comboBox\";\nimport { DatePickerOptions } from \"./datePicker\";\nimport { TextBoxOptions } from \"./textbox\";\n\n//#region Options\nexport class WindowOptions extends VrControlOptions\n{\n    maximized?: boolean | WindowMaximizeSettings;\n    padding?: number;\n    modal?: boolean;\n    closeable?: boolean;\n    hideCloseIcon?: boolean;\n    removeOnClose?: boolean;\n    title?: string | boolean | WindowTitleSettings;\n    footer?: boolean | WindowFooterItem[];\n    draggable?: boolean;\n    position?: WindowPosition;\n    content?: string;\n    iframe?: boolean;\n    loader?: boolean;\n    autoSize?: boolean | WindowAutoSizeDirectionEnum;\n    cssHeader?: string;\n    scrollable?: boolean;\n\n    onOpen?(e: WindowOpenEvent): void;\n    onBeforeClose?(e: WindowBeforeCloseEvent): void;\n    onClose?(e: WindowCloseEvent): void;\n    onDragStart?(e: WindowDragStartEvent): void;\n    onDragEnd?(e: WindowDragEndEvent): void;\n    onContentLoaded?(e: WindowContentLoadEvent): void;\n}\n//#endregion\n\n//#region Control\nexport class Window extends VrControl\n{\n    private _divHeader: HTMLElement;\n    private _divFooter: HTMLElement;\n    private _callbackFooterItems?: CallBackFooterItem[] | null;\n    private _openCloseCallback?: Function;\n    private _additionalCloseCallbacks?: Function[];\n    private _additionalOpenCallbacks?: Function[];\n    private _additionalContentLoadedCallbacks: Function[];\n    private _background: HTMLElement;\n    private _iframe: HTMLIFrameElement | null;\n    private _animateAutosize: boolean;\n\n    constructor(element: HTMLElement, options?: WindowOptions | null)\n    {\n        //#region Options\n        if (options == null)\n            options = new WindowOptions();\n\n        if (options.width == null) options.width = 500;\n        if (options.height == null) options.height = 500;\n        if (options.padding == null) options.padding = 10;\n        if (options.modal == null) options.modal = true;\n        if (options.closeable == null) options.closeable = true;\n        if (options.hideCloseIcon == null) options.hideCloseIcon = false;\n        if (options.draggable == null) options.draggable = true;\n        if (options.iframe == null) options.iframe = false;\n        if (options.loader == null) options.loader = false;\n        if (options.title == null) options.title = false;\n        if (options.removeOnClose == null) options.removeOnClose = false;\n        if (options.scrollable == null) options.scrollable = false;\n\n        if (options.footer == null || options.footer === true) options.footer =\n            [\n                { type: WindowFooterItemTypeEnum.Close, value: \"close\" },\n                { type: WindowFooterItemTypeEnum.Ok, value: \"ok\" }\n            ];\n\n        if (options.autoSize == null) options.autoSize = false;\n        if (options.autoSize === true) options.autoSize = WindowAutoSizeDirectionEnum.Height;\n\n        //#region Maximize\n        if (options.maximized == null) (DeviceManager.isMobile()) ? options.maximized = true : options.maximized = false;\n        if (options.maximized !== false)\n        {\n            if (typeof (options.maximized) === \"boolean\")\n            {\n                options.width = \"Calc(100% - 30px)\";\n                options.height = \"Calc(100% - 30px)\";\n            }\n            else\n            {\n                if (options.maximized.padding === true)\n                {\n                    options.width = \"Calc(100% - 30px)\";\n                    options.height = \"Calc(100% - 30px)\";\n                }\n                else\n                {\n                    options.width = \"100%\";\n                    options.height = \"100%\";\n                }\n            }\n        }\n        //#endregion\n\n        //#endregion\n\n        super(element, options, ControlTypeEnum.Window);\n        puma(this.container()).hide();\n        this._additionalCloseCallbacks = [];\n        this._additionalOpenCallbacks = [];\n        this._additionalContentLoadedCallbacks = [];\n\n        //#region Header\n        if (options.title !== false)\n        {\n            if (options.title === true) options.title = \"\";\n            let title = \"\";\n\n            if (typeof (options.title) == \"string\")\n            {\n                title = options.title;\n                options.title = new WindowTitleSettings();\n            }\n\n            if (options.title.text == null) options.title.text = title;\n            if (options.title.fontSize == null) options.title.fontSize = 16;\n            if (options.title.colorSettings == null) options.title.colorSettings = new ColorSettings();\n            if (options.title.colorSettings.textColor == null) options.title.colorSettings.textColor = \"#FFF\";\n            if (options.title.align == null) options.title.align = TextAlignEnum.Left;\n\n            this._divHeader = puma(\"<div class='vrWindowHeader'></div>\").vrPrependToPuma(this.container())[0];\n            if (options.cssHeader != null)\n                this._divHeader.style.cssText += options.cssHeader;\n\n            let spanWindowTitle = puma(\"<span class='vrWindowTitle'></span>\").vrAppendToPuma(this._divHeader);\n            createLabel({\n                width: \"100%\",\n                text: options.title.text,\n                fontSize: options.title.fontSize,\n                colorSettings: options.title.colorSettings,\n                align: options.title.align,\n                noBr: true\n            }, spanWindowTitle)\n\n            if (options.closeable || !options.hideCloseIcon)\n            {\n                let spanCloseIcon = puma(\"<span class='vrWindowCloseIcon'></span>\").vrAppendToPuma(this._divHeader);\n                puma(UtilityManager.createIcon(IconClassicRegular.Xmark)).vrAppendToPuma(spanCloseIcon);\n                spanCloseIcon.click(() => this.close());\n\n                if (options.hideCloseIcon)\n                    puma(spanCloseIcon).hide();\n            }\n        }\n        //#endregion\n\n        //#region Scrollable\n        if (options.scrollable)\n            this.css(\"overflow-y: auto;\");\n        //#endregion\n\n        //#region Draggable\n        if (options.draggable)\n        {\n            puma(this._divHeader).css(\"cursor\", \"move\");\n            puma(this._divHeader).find(\".vrWindowTitle .vrLabel\").css(\"cursor\", \"move\");\n\n            puma(this._divHeader).vrDrag(this.container(),\n                (e: any) => \n                {\n                    if (e.event.target.classList.contains(\"fa-xmark\"))\n                    {\n                        e.preventDefault();\n                        e.event.preventDefault();\n                        return;\n                    }\n\n                    puma(this.container()).addClass(\"vrWindowDragging\");\n                    if (options!.onDragStart != null)\n                    {\n                        let dragStartEvent = new WindowDragStartEvent();\n                        dragStartEvent.sender = this;\n                        dragStartEvent.left = e.left;\n                        dragStartEvent.top = e.top;\n                        options!.onDragStart(dragStartEvent);\n                    }\n                },\n                (e: any) => \n                {\n                    puma(this.container()).removeClass(\"vrWindowDragging\");\n                    if (options!.onDragEnd != null)\n                    {\n                        let dragEndEvent = new WindowDragEndEvent();\n                        dragEndEvent.sender = this;\n                        dragEndEvent.left = e.left;\n                        dragEndEvent.top = e.top;\n                        options!.onDragEnd(dragEndEvent);\n                    }\n                });\n        }\n        //#endregion\n\n        //#region Footer\n        if (options.footer)\n        {\n            this._divFooter = puma(\"<div class='vrWindowFooter'></div>\").vrAppendToPuma(this.container())[0];\n            this._divFooter.style.cssText += \"margin-top: \" + (options.padding * 2) + \"px;\";\n\n            for (let footerItem of options.footer)\n                this.addFooterItem(footerItem);\n        }\n        //#endregion\n\n        //#region Content\n        if (options.iframe)\n            this._iframe = puma(\"<iframe id='\" + this.element().id + \"_iframeContent' class='vrWindowIframe'></iframe>\").vrAppendToPuma(this.element())[0] as HTMLIFrameElement;\n\n        if (options.content != null)\n            this.content(options.content);\n        //#endregion\n    }\n\n    //#region Methods\n    open(callBackFooterItems?: CallBackFooterItem[] | null, center = true, position?: WindowPosition): Promise<any>\n    {\n        let options = this.getOptions();\n        this.container().style.cssText += \"position: absolute;\";\n\n        //#region Position\n        if (position != null)\n            this.position(position.left, position.top, position.right, position.bottom);\n        else if (options.position != null)\n            this.position(options.position.left, options.position.top, options.position.right, options.position.bottom);\n        else if (center)\n            this.center();\n\n        if (options.maximized)\n        {\n            if (typeof (options.maximized) !== \"boolean\")\n                this.maximize(options.maximized!.padding);\n            else\n                this.maximize();\n        }\n        //#endregion\n\n        if (callBackFooterItems != null)\n            this._callbackFooterItems = callBackFooterItems;\n\n        let promise = new Promise((closeCallBack?: Function) =>\n        {\n            puma(this.container()).show();\n\n            let height = puma(this.container()).height() - (options!.padding! * 2);\n            if (options.title !== false)\n                height -= puma(this._divHeader).outerHeight();\n            if (options.footer)\n                height -= puma(this._divFooter).outerHeight();\n\n            this.element().style.cssText += \"height: \" + height + \"px; width: Calc(100% - \" + (options!.padding! * 2) + \"px); left: \" + options!.padding! + \"px; top: \" + options!.padding! + \"px\";\n\n            let maxZindexWindow = Array.from<HTMLElement>(puma(\".vrWindowContainer\")).map(k => Number(puma(k).css(\"z-index\"))).vrMax();\n            puma(this.container()).css(\"z-index\", (maxZindexWindow + 2));\n\n            //#region Background\n            if (options.modal)\n            {\n                if (this._background == null)\n                    this._background = puma(\"<div class='vrWindowBackground' id='vrWindowBackground_\" + this.element().id + \"'></div>\").vrAppendToPuma(this.container().parentElement)[0];\n\n                if (options.closeable)\n                    puma(this._background).click(() => this.close());\n\n                puma(this._background).css(\"z-index\", (maxZindexWindow + 1));\n            }\n            //#endregion\n\n            if (closeCallBack != null)\n                this._openCloseCallback = closeCallBack;\n\n            if (options.onOpen != null)\n            {\n                let openEvent = new WindowOpenEvent();\n                openEvent.sender = this;\n                options.onOpen(openEvent);\n            }\n\n            for (let openCallback of this._additionalOpenCallbacks!)\n                openCallback();\n        });\n        return promise;\n    }\n\n    close(triggerEvents = true): void\n    {\n        let options = this.getOptions();\n\n        if (triggerEvents)\n        {\n            if (options.onBeforeClose != null)\n            {\n                let closeBeforeEvent = new WindowBeforeCloseEvent();\n                closeBeforeEvent.sender = this;\n                options.onBeforeClose(closeBeforeEvent);\n\n                if (closeBeforeEvent.isDefaultPrevented())\n                    return;\n            }\n        }\n\n        if (!options.removeOnClose)\n            puma(this.container()).hide();\n        else\n            puma(this.container()).remove();\n\n        puma(this._background).remove();\n        (this._background as any) = null;\n\n        if (this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(\"close\"))\n        {\n            let callback = this._callbackFooterItems.filter(k => k.value == \"close\")[0].callback;\n            if (callback != null)\n                callback();\n        }\n\n        if (this._openCloseCallback != null)\n            this._openCloseCallback();\n\n        for (let closeCallback of this._additionalCloseCallbacks!)\n            closeCallback();\n\n        if (triggerEvents)\n        {\n            if (options.onClose != null)\n            {\n                let closeEvent = new WindowCloseEvent();\n                closeEvent.sender = this;\n                options.onClose(closeEvent);\n            }\n        }\n    }\n\n    remove()\n    {\n        puma(this.container()).remove();\n        puma(this._background).remove();\n    }\n\n    addCloseCallbacks(...callback: Function[])\n    {\n        this._additionalCloseCallbacks!.push(...callback);\n    }\n\n    addOpenCallbacks(...callback: Function[])\n    {\n        this._additionalOpenCallbacks!.push(...callback);\n    }\n\n    addContentLoadedCallbacks(...callback: Function[])\n    {\n        this._additionalContentLoadedCallbacks!.push(...callback);\n    }\n\n    closeIconVisible(state?: boolean)\n    {\n        let closeIcon = puma(this.container()).find(\".vrWindowCloseIcon\");\n        if (state != null)\n        {\n            if (state) closeIcon.show();\n            else closeIcon.hide();\n        }\n        return closeIcon.is(\":visible\");\n    }\n\n    title(text?: string): string\n    {\n        if (puma(this.container()).find(\".vrWindowTitle label\")[0] == null)\n            return \"\";\n\n        if (text != null)\n            puma(this.container()).find(\".vrWindowTitle label\")[0].innerHTML = text;\n\n        return puma(this.container()).find(\".vrWindowTitle label\")[0].innerHTML;\n    }\n\n    maximize(padding = true): void\n    {\n        let width = (padding) ? \"Calc(100% - 30px)\" : \"100%\";\n        let height = (padding) ? \"Calc(100% - 30px)\" : \"100%\";\n        this.resize(width, height);\n\n        let options = this.getOptions();\n        if (options.position != null)\n            this.position(options.position.left, options.position.top, options.position.right, options.position.bottom);\n        else\n            this.center();\n    }\n\n    resize(width?: number | string, height?: number | string): void\n    {\n        let options = this.getOptions();\n        let newWidth = (width != null) ? width : options.width;\n        let newHeight = (height != null) ? height : options.height;\n        this.width(newWidth);\n        this.height(newHeight);\n    }\n\n    autoSize(direction: WindowAutoSizeDirectionEnum = WindowAutoSizeDirectionEnum.Height, animate = false, center = true)\n    {\n        this._animateAutosize = animate;\n\n        if (direction == WindowAutoSizeDirectionEnum.Height)\n            this.height(\"auto\", center);\n        else\n            this.width(\"auto\", center);\n\n        this._animateAutosize = false;\n    }\n\n    content(content: string, loader: boolean | HTMLElement | JQuery | string = false, open = false, triggerChange = true)\n    {\n        let options = this.getOptions();\n\n        //#region Iframe\n        let iframeBody: HTMLElement | null = null;\n        if (options.iframe)\n        {\n            let iframeContentDocument = this._iframe!.contentDocument;\n            puma(iframeContentDocument).find(\"body\").css(\"margin\", \"0px\");\n            if (iframeContentDocument != null)\n                iframeBody = iframeContentDocument.body;\n        }\n        //#endregion\n\n        if (content != null && (content.endsWith(\".html\") || content.endsWith(\".php\") ||\n            content.includes(\".aspx\") || content.startsWith(\"http\") || content.startsWith(\"/\")))\n        {\n            if (options.loader || loader !== false)\n            {\n                if (loader === true)\n                    loader = this.element();\n\n                LoaderManager.show((loader === false) ? this.element() : loader);\n            }\n\n            if (!options.iframe)\n            {\n                puma(this.element()).load(content, () => \n                {\n                    if (triggerChange)\n                        this.onContentLoaded();\n\n                    this.autoSizeIfRequired();\n\n                    if (open)\n                        this.open();\n                });\n            }\n            else\n            {\n                puma(this._iframe).attr(\"src\", content);\n                puma(this._iframe).on(\"load\", () => \n                {\n                    let iframeContentDocument = this._iframe!.contentDocument;\n                    puma(iframeContentDocument).find(\"body\").css(\"margin\", \"0px\");\n\n                    if (triggerChange)\n                        this.onContentLoaded();\n\n                    this.autoSizeIfRequired();\n\n                    if (open)\n                        this.open();\n                });\n            }\n        }\n        else\n        {\n            puma(this.element()).empty();\n            if (content != null && !content.startsWith(\"<\"))\n                content = \"<div>\" + content + \"</div>\";\n\n            if (!options.iframe)\n                puma(content).vrAppendToPuma(this.element());\n            else\n                puma(content).vrAppendToPuma(iframeBody);\n\n            if (triggerChange)\n                this.onContentLoaded();\n\n            this.autoSizeIfRequired();\n\n            if (open)\n                this.open();\n        }\n    }\n\n    private autoSizeIfRequired()\n    {\n        let options = this.getOptions();\n        if (options.autoSize !== false)\n            this.autoSize(options.autoSize as WindowAutoSizeDirectionEnum, false);\n    }\n\n    clear()\n    {\n        let options = this.getOptions();\n        if (options.iframe)\n            puma(this._iframe).removeAttr(\"src\");\n        else\n            puma(this.element()).empty();\n    }\n\n    background()\n    {\n        return this._background;\n    }\n\n    center(): void\n    {\n        let scrollTop = puma(window).scrollTop();\n        let windowHeight = window.innerHeight;\n        let top = (windowHeight / 2) - (puma(this.container()).height() / 2) + scrollTop;\n\n        let scrollLeft = puma(window).scrollLeft();\n        let windowWidth = window.innerWidth;\n        let left = (windowWidth / 2) - (puma(this.container()).width() / 2) + scrollLeft;\n\n        this.position(left, top);\n    }\n\n    position(left?: number | string | null, top?: number | string | null, right?: number | string | null, bottom?: number | string | null)\n    {\n        let leftPosition = \"\";\n        if (left != null)\n        {\n            leftPosition = \"left: \" + left + \";\";\n            if (typeof (left) == \"number\")\n                leftPosition = \"left: \" + left + \"px;\";\n        }\n\n        let topPosition = \"\";\n        if (top != null)\n        {\n            topPosition = \"top: \" + top + \";\";\n            if (typeof (top) == \"number\")\n                topPosition = \"top: \" + top + \"px;\";\n        }\n\n        let rightPosition = \"\";\n        if (right != null)\n        {\n            leftPosition = \"left: unset;\";\n            rightPosition = \"right: \" + right + \";\";\n            if (typeof (right) == \"number\")\n                rightPosition = \"right: \" + right + \"px;\";\n        }\n\n        let bottomPosition = \"\";\n        if (bottom != null)\n        {\n            topPosition = \"top: unset;\";\n            bottomPosition = \"bottom: \" + bottom + \";\";\n            if (typeof (bottom) == \"number\")\n                bottomPosition = \"bottom: \" + bottom + \"px;\";\n        }\n\n        this.container().style.cssText += leftPosition + topPosition + rightPosition + bottomPosition;\n        let position = $(this.container()).position();\n        return { left: position.left, top: position.top };\n    }\n\n    footerItem<T extends VrControl>(value: string | number)\n    {\n        let element = puma(this._divFooter).find(\"[value='\" + value + \"']\")[0];\n        return ControlManager.get<T>((element != null) ? element.id : \"\");\n    }\n\n    hideFooterItem(value: string | number)\n    {\n        this.footerItem(value).hide();\n    }\n\n    showFooterItem(value: string | number)\n    {\n        this.footerItem(value).show();\n    }\n\n    visibleFooterItem(value: string | number, state?: boolean)\n    {\n        if (state != null)\n            this.footerItem(value).visible(state);\n\n        return this.footerItem(value).visible();\n    }\n\n    enableFooterItem(value: string | number)\n    {\n        this.footerItem(value).enable();\n    }\n\n    disableFooterItem(value: string | number)\n    {\n        this.footerItem(value).disable();\n    }\n\n    addFooterItem(footerItem: WindowFooterItem)\n    {\n        if (footerItem.align == null) footerItem.align = WindowFooterItemAlignEnum.Right;\n        let cssContainer = \"float: right; margin-left: 5px;\";\n        if (footerItem.align == WindowFooterItemAlignEnum.Left)\n            cssContainer = \"float: left; margin-right: 5px;\";\n\n        if (footerItem.type == WindowFooterItemTypeEnum.Close || footerItem.type == WindowFooterItemTypeEnum.Ok\n            || footerItem.type == WindowFooterItemTypeEnum.Custom || footerItem.type == null)\n        {\n            //#region Button\n            let text = footerItem.text;\n            if (footerItem.type == WindowFooterItemTypeEnum.Close || footerItem.type == WindowFooterItemTypeEnum.Ok)\n                text = (footerItem.text != null) ? footerItem.text : ((footerItem.type == WindowFooterItemTypeEnum.Close) ? \"Chiudi\" : \"Salva\");\n\n            let value = footerItem.value;\n            if ((footerItem.type == WindowFooterItemTypeEnum.Close || footerItem.type == WindowFooterItemTypeEnum.Ok) && (value == null || value == \"\"))\n                value = (footerItem.type == WindowFooterItemTypeEnum.Close) ? \"close\" : \"ok\";\n\n            if ((value == null || value == \"\") && text != null)\n                value = text.replace(/[^a-z0-9\\s]/gi, \"\").replace(/[_\\s]/g, \"\");\n\n            let mode = footerItem.mode;\n            if (footerItem.type == WindowFooterItemTypeEnum.Ok)\n                mode = ButtonModeEnum.Primary;\n\n            let button = createButton(\n                {\n                    text: text,\n                    icon: footerItem.icon,\n                    iconSettings: footerItem.iconSettings,\n                    imageUrl: footerItem.imageUrl,\n                    mode: mode,\n                    colorSettings: footerItem.colorSettings,\n                    tooltip: footerItem.tooltip,\n                    confirmationMessage: footerItem.confirmationMessage,\n                    visible: footerItem.visible,\n                    enable: footerItem.enable,\n                    css: footerItem.css,\n                    cssContainer: cssContainer + footerItem.cssContainer,\n                    class: footerItem.class,\n                    width: footerItem.width,\n                    onClick: (e) => \n                    {\n                        if (footerItem.type == WindowFooterItemTypeEnum.Close)\n                            this.close();\n\n                        if (footerItem.onClick != null)\n                        {\n                            let clickEvent = new WindowFooterItemClickEvent();\n                            clickEvent.sender = this;\n                            footerItem.onClick(clickEvent);\n                        }\n\n                        if (value != null && this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(value))\n                        {\n                            let callback = this._callbackFooterItems.filter(k => k.value == value)[0].callback;\n                            if (callback != null)\n                                callback();\n                        }\n                    }\n                }, this._divFooter);\n\n            if (value != null)\n                puma(button.element()).attr(\"value\", value);\n            //#endregion\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.Separator)\n        {\n            let separator = createSeparator({\n                cssContainer: cssContainer\n            }, this._divFooter)\n\n            if (footerItem.value != null)\n                puma(separator.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.SplitButton || footerItem.splitButtonItems != null)\n        {\n            //#region SplitButton\n            let splitButton = createSplitButton(\n                {\n                    text: footerItem.text,\n                    icon: footerItem.icon,\n                    imageUrl: footerItem.imageUrl,\n                    colorSettings: footerItem.colorSettings,\n                    tooltip: footerItem.tooltip,\n                    items: footerItem.splitButtonItems,\n                    visible: footerItem.visible,\n                    enable: footerItem.enable,\n                    css: footerItem.css,\n                    cssContainer: footerItem.cssContainer + \"; \" + cssContainer,\n                    class: footerItem.class,\n                    onClick: (footerItem.onClick == null) ? undefined : (e) =>\n                    {\n                        if (footerItem.onClick != null)\n                        {\n                            let clickEvent = new WindowFooterItemClickEvent();\n                            clickEvent.sender = this;\n                            footerItem.onClick(clickEvent);\n                        }\n\n                        if (footerItem.value != null && this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(footerItem.value))\n                        {\n                            let callback = this._callbackFooterItems.filter(k => k.value == footerItem.value)[0].callback;\n                            if (callback != null)\n                                callback();\n                        }\n                    },\n                    onSelect: (e) =>\n                    {\n                        if (e.value != null && this._callbackFooterItems != null && this._callbackFooterItems.map(k => k.value).includes(e.value))\n                        {\n                            let callback = this._callbackFooterItems.filter(k => k.value == e.value)[0].callback;\n                            if (callback != null)\n                                callback();\n                        }\n                    }\n                }, this._divFooter);\n\n            if (footerItem.value != null)\n                puma(splitButton.element()).attr(\"value\", footerItem.value);\n            //#endregion\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.Switch)\n        {\n            if (footerItem.switchSettings == null)\n            {\n                footerItem.switchSettings = new SplitButtonSwitchSettings();\n                footerItem.switchSettings.labelOff = \"\";\n                footerItem.switchSettings.labelOn = \"\";\n            }\n\n            if (footerItem.switchSettings.checked == null) footerItem.switchSettings.checked = false;\n            let switchControl = createSwitch(\n                {\n                    labelOff: footerItem.switchSettings!.labelOff,\n                    labelOn: footerItem.switchSettings!.labelOn,\n                    checked: footerItem.switchSettings.checked,\n                    cssContainer: footerItem.cssContainer + \"; \" + cssContainer,\n                    css: footerItem.css,\n                    class: footerItem.class,\n                    visible: footerItem.visible,\n                    enable: footerItem.enable,\n                    onChange: (e) =>\n                    {\n                        if (footerItem.switchSettings!.onCheck != null)\n                        {\n                            let tableSwitchEvent = new SplitButtonSwitchEvent();\n                            tableSwitchEvent.checked = e.checked;\n                            footerItem.switchSettings!.onCheck(tableSwitchEvent);\n                        }\n                    }\n                }, this._divFooter);\n\n            if (footerItem.value != null)\n                puma(switchControl.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.ButtonGroup)\n        {\n            let buttonGroup = createButtonGroup(\n                {\n                    selectionMode: SelectionModeEnum.Single,\n                    items: footerItem.buttonGroupItems!,\n                    cssContainer: footerItem.cssContainer,\n                    css: footerItem.css,\n                    class: footerItem.class,\n                    visible: footerItem.visible,\n                    enable: footerItem.enable,\n                    width: \"auto\",\n                    onSelect: (e) => \n                    {\n                        if (footerItem.onClick != null)\n                        {\n                            let clickEvent = new WindowFooterItemClickEvent();\n                            clickEvent.sender = this;\n                            footerItem.onClick(clickEvent);\n                        }\n                    }\n                }, this._divFooter);\n\n            if (footerItem.value != null)\n                puma(buttonGroup.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.CheckBox)\n        {\n            let checkBox = createCheckBox(\n                {\n                    text: footerItem.text,\n                    cssContainer: \"top: -1px; \" + footerItem.cssContainer,\n                    css: footerItem.css,\n                    class: footerItem.class,\n                    visible: footerItem.visible,\n                    enable: footerItem.enable,\n                    onCheck: (e) => \n                    {\n                        if (footerItem.onClick != null)\n                        {\n                            let clickEvent = new WindowFooterItemClickEvent();\n                            clickEvent.sender = this;\n                            footerItem.onClick(clickEvent);\n                        }\n                    }\n                }, this._divFooter);\n\n            if (footerItem.value != null)\n                puma(checkBox.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.Label)\n        {\n            let label = createLabel(\n                {\n                    text: footerItem.text,\n                    cssContainer: footerItem.cssContainer,\n                    css: footerItem.css,\n                    class: footerItem.class,\n                    visible: footerItem.visible,\n                    enable: footerItem.enable,\n                    onClick: (e) => \n                    {\n                        if (footerItem.onClick != null)\n                        {\n                            let clickEvent = new WindowFooterItemClickEvent();\n                            clickEvent.sender = this;\n                            footerItem.onClick(clickEvent);\n                        }\n                    }\n                }, this._divFooter);\n\n            if (footerItem.value != null)\n                puma(label.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.ComboBox)\n        {\n            if (footerItem.comboBoxOptions == null) footerItem.comboBoxOptions = new ComboBoxOptions();\n            footerItem.comboBoxOptions.classContainer = footerItem.comboBoxOptions.classContainer;\n            footerItem.comboBoxOptions.class = footerItem.comboBoxOptions.class;\n            if (footerItem.comboBoxOptions.visible == null) footerItem.comboBoxOptions.visible = footerItem.visible;\n            if (footerItem.comboBoxOptions.enable == null) footerItem.comboBoxOptions.enable = footerItem.enable;\n            if (footerItem.comboBoxOptions.css == null) footerItem.comboBoxOptions.css = footerItem.css;\n            if (footerItem.comboBoxOptions.cssContainer == null) footerItem.comboBoxOptions.cssContainer = footerItem.cssContainer;\n\n            let combo = createComboBox(footerItem.comboBoxOptions, this._divFooter);\n            if (footerItem.value != null)\n                puma(combo.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.DatePicker)\n        {\n            if (footerItem.datePickerOptions == null) footerItem.datePickerOptions = new DatePickerOptions();\n            footerItem.datePickerOptions.classContainer = footerItem.datePickerOptions.classContainer;\n            footerItem.datePickerOptions.class = footerItem.datePickerOptions.class;\n            if (footerItem.datePickerOptions.visible == null) footerItem.datePickerOptions.visible = footerItem.visible;\n            if (footerItem.datePickerOptions.enable == null) footerItem.datePickerOptions.enable = footerItem.enable;\n            if (footerItem.datePickerOptions.css == null) footerItem.datePickerOptions.css = footerItem.css;\n            if (footerItem.datePickerOptions.cssContainer == null) footerItem.datePickerOptions.cssContainer = footerItem.cssContainer;\n\n            let datePicker = createDatePicker(footerItem.datePickerOptions, this._divFooter);\n            if (footerItem.value != null)\n                puma(datePicker.element()).attr(\"value\", footerItem.value);\n        }\n        else if (footerItem.type == WindowFooterItemTypeEnum.TextBox)\n        {\n            if (footerItem.textBoxOptions == null) footerItem.textBoxOptions = new TextBoxOptions();\n            footerItem.textBoxOptions.classContainer = footerItem.textBoxOptions.classContainer;\n            footerItem.textBoxOptions.class = footerItem.textBoxOptions.class;\n            if (footerItem.textBoxOptions.visible == null) footerItem.textBoxOptions.visible = footerItem.visible;\n            if (footerItem.textBoxOptions.enable == null) footerItem.textBoxOptions.enable = footerItem.enable;\n            if (footerItem.textBoxOptions.css == null) footerItem.textBoxOptions.css = footerItem.css;\n            if (footerItem.textBoxOptions.cssContainer == null) footerItem.textBoxOptions.cssContainer = footerItem.cssContainer;\n\n            let textbox = createTextBox(footerItem.textBoxOptions, this._divFooter);\n            if (footerItem.value != null)\n                puma(textbox.element()).attr(\"value\", footerItem.value);\n        }\n    }\n\n    footer()\n    {\n        return puma(this._divFooter)[0] as HTMLElement;\n    }\n\n    header()\n    {\n        return puma(this._divHeader)[0] as HTMLElement;\n    }\n\n    titleElement()\n    {\n        return puma(this._divHeader).find(\".vrWindowTitle\")[0] as HTMLElement;\n    }\n\n    private getOptions(): WindowOptions\n    {\n        return this.options<WindowOptions>();\n    }\n\n    private onContentLoaded(): void\n    {\n        let options = this.getOptions();\n        LoaderManager.hide();\n\n        if (options.onContentLoaded != null)\n        {\n            let onLoadEvent = new WindowContentLoadEvent();\n            onLoadEvent.sender = this;\n            options.onContentLoaded(onLoadEvent);\n        }\n\n        for (let contentLoaded of this._additionalContentLoadedCallbacks!)\n            contentLoaded();\n    }\n    //#endregion\n\n    //#region Overrides\n    height(height?: number | string, center = true)\n    {\n        let options = this.getOptions();\n\n        if (height != \"auto\" || (height == \"auto\" && !this._animateAutosize))\n            super.height(height);\n        else\n        {\n            this.container().style.cssText += \"height: auto;\";\n            let curHeight = puma(this.element()).height();\n            let autoHeight = puma(this.element()).css('height', 'auto').height();\n            puma(this.element()).height(curHeight).animate({ height: autoHeight }, 300);\n        }\n\n        if (typeof (height) == \"number\")\n        {\n            height -= (options!.padding! * 2);\n\n            if (options.title != null)\n                height -= puma(this._divHeader).outerHeight();\n            if (options.footer)\n                height -= puma(this._divFooter).outerHeight();\n\n            this.element().style.cssText += \"height: \" + height + \"px;\";\n        }\n\n        if (center)\n        {\n            if (this._animateAutosize)\n                window.setTimeout(() => this.center(), 300);\n            else\n                this.center();\n        }\n\n        return super.height();\n    }\n\n    width(width?: number | string, center = true)\n    {\n        let options = this.getOptions();\n        super.width(width);\n\n        if (center)\n            this.center();\n\n        //if (width == \"auto\")\n        this.element().style.cssText += \"width: Calc(100% - \" + (options.padding! * 2) + \"px);\";\n\n        return super.width();\n    }\n    //#endregion\n}\n//#endregion\n\n//#region Classes\nexport class WindowFooterItem\n{\n    value?: string;\n    type?: WindowFooterItemTypeEnum;\n    text?: string;\n    icon?: IconClass;\n    iconSettings?: IconSettings;\n    imageUrl?: string;\n    mode?: ButtonModeEnum;\n    colorSettings?: ColorSettings;\n    tooltip?: string;\n    confirmationMessage?: string;\n    align?: WindowFooterItemAlignEnum;\n    visible?: boolean;\n    enable?: boolean;\n    css?: string;\n    cssContainer?: string;\n    class?: string;\n    width?: string | number;\n\n    splitButtonItems?: SplitButtonItem[];\n    switchSettings?: SplitButtonSwitchSettings;\n    buttonGroupItems?: ButtonGroupItem[];\n    comboBoxOptions?: ComboBoxOptions;\n    datePickerOptions?: DatePickerOptions;\n    textBoxOptions?: TextBoxOptions;\n\n    onClick?(e: WindowFooterItemClickEvent): void;\n}\n\nclass CallBackFooterItem\n{\n    value: string;\n    callback: Function;\n}\n\nexport class SplitButtonSwitchSettings\n{\n    labelOff?: string;\n    labelOn?: string;\n    checked?: boolean;\n    onCheck?: (e: SplitButtonSwitchEvent) => void;\n}\n\nclass SplitButtonSwitchEvent\n{\n    checked: boolean;\n}\n\nclass WindowPosition\n{\n    left?: number | string;\n    top?: number | string;\n    right?: number | string;\n    bottom?: number | string;\n}\n\nclass WindowMaximizeSettings\n{\n    padding: boolean;\n}\n\nclass WindowTitleSettings\n{\n    text?: string;\n    colorSettings?: ColorSettings;\n    fontSize?: number;\n    cssContainer?: string;\n    css?: string;\n    align?: TextAlignEnum;\n}\n//#endregion\n\n//#region Events\nexport class WindowEvent extends VrControlsEvent\n{\n    sender: Window;\n}\n\nclass WindowFooterItemClickEvent extends WindowEvent\n{\n}\n\nexport class WindowOpenEvent extends WindowEvent\n{\n}\n\nclass WindowBeforeCloseEvent extends WindowEvent\n{\n\n}\n\nclass WindowCloseEvent extends WindowEvent\n{\n}\n\nclass WindowDragStartEvent extends WindowEvent\n{\n    left: number;\n    top: number;\n}\n\nclass WindowDragEndEvent extends WindowEvent\n{\n    left: number;\n    top: number;\n}\n\nclass WindowContentLoadEvent extends WindowEvent\n{\n}\n//#endregion"],"names":[],"mappings":";;;;;;;;;AAYO,MAAM,sBAAsB,iBACnC;AAAA,EACI;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAQJ;AAIO,MAAM,eAAe,UAC5B;AAAA,EACY;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAER,YAAY,SAAsB,SAClC;AAEI,QAAI,WAAW;AACX,gBAAU,IAAI,cAAA;AAElB,QAAI,QAAQ,SAAS,KAAM,SAAQ,QAAQ;AAC3C,QAAI,QAAQ,UAAU,KAAM,SAAQ,SAAS;AAC7C,QAAI,QAAQ,WAAW,KAAM,SAAQ,UAAU;AAC/C,QAAI,QAAQ,SAAS,KAAM,SAAQ,QAAQ;AAC3C,QAAI,QAAQ,aAAa,KAAM,SAAQ,YAAY;AACnD,QAAI,QAAQ,iBAAiB,KAAM,SAAQ,gBAAgB;AAC3D,QAAI,QAAQ,aAAa,KAAM,SAAQ,YAAY;AACnD,QAAI,QAAQ,UAAU,KAAM,SAAQ,SAAS;AAC7C,QAAI,QAAQ,UAAU,KAAM,SAAQ,SAAS;AAC7C,QAAI,QAAQ,SAAS,KAAM,SAAQ,QAAQ;AAC3C,QAAI,QAAQ,iBAAiB,KAAM,SAAQ,gBAAgB;AAC3D,QAAI,QAAQ,cAAc,KAAM,SAAQ,aAAa;AAErD,QAAI,QAAQ,UAAU,QAAQ,QAAQ,WAAW,cAAc,SAC3D;AAAA,MACI,EAAE,MAAM,yBAAyB,OAAO,OAAO,QAAA;AAAA,MAC/C,EAAE,MAAM,yBAAyB,IAAI,OAAO,KAAA;AAAA,IAAK;AAGzD,QAAI,QAAQ,YAAY,KAAM,SAAQ,WAAW;AACjD,QAAI,QAAQ,aAAa,KAAM,SAAQ,WAAW,4BAA4B;AAG9E,QAAI,QAAQ,aAAa,KAAO,eAAc,SAAA,IAAc,QAAQ,YAAY,OAAO,QAAQ,YAAY;AAC3G,QAAI,QAAQ,cAAc,OAC1B;AACI,UAAI,OAAQ,QAAQ,cAAe,WACnC;AACI,gBAAQ,QAAQ;AAChB,gBAAQ,SAAS;AAAA,MACrB,OAEA;AACI,YAAI,QAAQ,UAAU,YAAY,MAClC;AACI,kBAAQ,QAAQ;AAChB,kBAAQ,SAAS;AAAA,QACrB,OAEA;AACI,kBAAQ,QAAQ;AAChB,kBAAQ,SAAS;AAAA,QACrB;AAAA,MACJ;AAAA,IACJ;AAKA,UAAM,SAAS,SAAS,gBAAgB,MAAM;AAC9C,SAAK,KAAK,UAAA,CAAW,EAAE,KAAA;AACvB,SAAK,4BAA4B,CAAA;AACjC,SAAK,2BAA2B,CAAA;AAChC,SAAK,oCAAoC,CAAA;AAGzC,QAAI,QAAQ,UAAU,OACtB;AACI,UAAI,QAAQ,UAAU,KAAM,SAAQ,QAAQ;AAC5C,UAAI,QAAQ;AAEZ,UAAI,OAAQ,QAAQ,SAAU,UAC9B;AACI,gBAAQ,QAAQ;AAChB,gBAAQ,QAAQ,IAAI,oBAAA;AAAA,MACxB;AAEA,UAAI,QAAQ,MAAM,QAAQ,KAAM,SAAQ,MAAM,OAAO;AACrD,UAAI,QAAQ,MAAM,YAAY,KAAM,SAAQ,MAAM,WAAW;AAC7D,UAAI,QAAQ,MAAM,iBAAiB,cAAc,MAAM,gBAAgB,IAAI,cAAA;AAC3E,UAAI,QAAQ,MAAM,cAAc,aAAa,KAAM,SAAQ,MAAM,cAAc,YAAY;AAC3F,UAAI,QAAQ,MAAM,SAAS,KAAM,SAAQ,MAAM,QAAQ,cAAc;AAErE,WAAK,aAAa,KAAK,oCAAoC,EAAE,gBAAgB,KAAK,WAAW,EAAE,CAAC;AAChG,UAAI,QAAQ,aAAa;AACrB,aAAK,WAAW,MAAM,WAAW,QAAQ;AAE7C,UAAI,kBAAkB,KAAK,qCAAqC,EAAE,eAAe,KAAK,UAAU;AAChG,kBAAY;AAAA,QACR,OAAO;AAAA,QACP,MAAM,QAAQ,MAAM;AAAA,QACpB,UAAU,QAAQ,MAAM;AAAA,QACxB,eAAe,QAAQ,MAAM;AAAA,QAC7B,OAAO,QAAQ,MAAM;AAAA,QACrB,MAAM;AAAA,MAAA,GACP,eAAe;AAElB,UAAI,QAAQ,aAAa,CAAC,QAAQ,eAClC;AACI,YAAI,gBAAgB,KAAK,yCAAyC,EAAE,eAAe,KAAK,UAAU;AAClG,aAAK,eAAe,WAAW,mBAAmB,KAAK,CAAC,EAAE,eAAe,aAAa;AACtF,sBAAc,MAAM,MAAM,KAAK,MAAA,CAAO;AAEtC,YAAI,QAAQ;AACR,eAAK,aAAa,EAAE,KAAA;AAAA,MAC5B;AAAA,IACJ;AAIA,QAAI,QAAQ;AACR,WAAK,IAAI,mBAAmB;AAIhC,QAAI,QAAQ,WACZ;AACI,WAAK,KAAK,UAAU,EAAE,IAAI,UAAU,MAAM;AAC1C,WAAK,KAAK,UAAU,EAAE,KAAK,yBAAyB,EAAE,IAAI,UAAU,MAAM;AAE1E,WAAK,KAAK,UAAU,EAAE;AAAA,QAAO,KAAK,UAAA;AAAA,QAC9B,CAAC,MACD;AACI,cAAI,EAAE,MAAM,OAAO,UAAU,SAAS,UAAU,GAChD;AACI,cAAE,eAAA;AACF,cAAE,MAAM,eAAA;AACR;AAAA,UACJ;AAEA,eAAK,KAAK,UAAA,CAAW,EAAE,SAAS,kBAAkB;AAClD,cAAI,QAAS,eAAe,MAC5B;AACI,gBAAI,iBAAiB,IAAI,qBAAA;AACzB,2BAAe,SAAS;AACxB,2BAAe,OAAO,EAAE;AACxB,2BAAe,MAAM,EAAE;AACvB,oBAAS,YAAY,cAAc;AAAA,UACvC;AAAA,QACJ;AAAA,QACA,CAAC,MACD;AACI,eAAK,KAAK,UAAA,CAAW,EAAE,YAAY,kBAAkB;AACrD,cAAI,QAAS,aAAa,MAC1B;AACI,gBAAI,eAAe,IAAI,mBAAA;AACvB,yBAAa,SAAS;AACtB,yBAAa,OAAO,EAAE;AACtB,yBAAa,MAAM,EAAE;AACrB,oBAAS,UAAU,YAAY;AAAA,UACnC;AAAA,QACJ;AAAA,MAAA;AAAA,IACR;AAIA,QAAI,QAAQ,QACZ;AACI,WAAK,aAAa,KAAK,oCAAoC,EAAE,eAAe,KAAK,WAAW,EAAE,CAAC;AAC/F,WAAK,WAAW,MAAM,WAAW,iBAAkB,QAAQ,UAAU,IAAK;AAE1E,eAAS,cAAc,QAAQ;AAC3B,aAAK,cAAc,UAAU;AAAA,IACrC;AAIA,QAAI,QAAQ;AACR,WAAK,UAAU,KAAK,iBAAiB,KAAK,UAAU,KAAK,kDAAkD,EAAE,eAAe,KAAK,QAAA,CAAS,EAAE,CAAC;AAEjJ,QAAI,QAAQ,WAAW;AACnB,WAAK,QAAQ,QAAQ,OAAO;AAAA,EAEpC;AAAA;AAAA,EAGA,KAAK,qBAAmD,SAAS,MAAM,UACvE;AACI,QAAI,UAAU,KAAK,WAAA;AACnB,SAAK,UAAA,EAAY,MAAM,WAAW;AAGlC,QAAI,YAAY;AACZ,WAAK,SAAS,SAAS,MAAM,SAAS,KAAK,SAAS,OAAO,SAAS,MAAM;AAAA,aACrE,QAAQ,YAAY;AACzB,WAAK,SAAS,QAAQ,SAAS,MAAM,QAAQ,SAAS,KAAK,QAAQ,SAAS,OAAO,QAAQ,SAAS,MAAM;AAAA,aACrG;AACL,WAAK,OAAA;AAET,QAAI,QAAQ,WACZ;AACI,UAAI,OAAQ,QAAQ,cAAe;AAC/B,aAAK,SAAS,QAAQ,UAAW,OAAO;AAAA;AAExC,aAAK,SAAA;AAAA,IACb;AAGA,QAAI,uBAAuB;AACvB,WAAK,uBAAuB;AAEhC,QAAI,UAAU,IAAI,QAAQ,CAAC,kBAC3B;AACI,WAAK,KAAK,UAAA,CAAW,EAAE,KAAA;AAEvB,UAAI,SAAS,KAAK,KAAK,UAAA,CAAW,EAAE,OAAA,IAAY,QAAS,UAAW;AACpE,UAAI,QAAQ,UAAU;AAClB,kBAAU,KAAK,KAAK,UAAU,EAAE,YAAA;AACpC,UAAI,QAAQ;AACR,kBAAU,KAAK,KAAK,UAAU,EAAE,YAAA;AAEpC,WAAK,QAAA,EAAU,MAAM,WAAW,aAAa,SAAS,4BAA6B,QAAS,UAAW,IAAK,gBAAgB,QAAS,UAAW,cAAc,QAAS,UAAW;AAElL,UAAI,kBAAkB,MAAM,KAAkB,KAAK,oBAAoB,CAAC,EAAE,IAAI,CAAA,MAAK,OAAO,KAAK,CAAC,EAAE,IAAI,SAAS,CAAC,CAAC,EAAE,MAAA;AACnH,WAAK,KAAK,UAAA,CAAW,EAAE,IAAI,WAAY,kBAAkB,CAAE;AAG3D,UAAI,QAAQ,OACZ;AACI,YAAI,KAAK,eAAe;AACpB,eAAK,cAAc,KAAK,4DAA4D,KAAK,UAAU,KAAK,UAAU,EAAE,eAAe,KAAK,UAAA,EAAY,aAAa,EAAE,CAAC;AAExK,YAAI,QAAQ;AACR,eAAK,KAAK,WAAW,EAAE,MAAM,MAAM,KAAK,OAAO;AAEnD,aAAK,KAAK,WAAW,EAAE,IAAI,WAAY,kBAAkB,CAAE;AAAA,MAC/D;AAGA,UAAI,iBAAiB;AACjB,aAAK,qBAAqB;AAE9B,UAAI,QAAQ,UAAU,MACtB;AACI,YAAI,YAAY,IAAI,gBAAA;AACpB,kBAAU,SAAS;AACnB,gBAAQ,OAAO,SAAS;AAAA,MAC5B;AAEA,eAAS,gBAAgB,KAAK;AAC1B,qBAAA;AAAA,IACR,CAAC;AACD,WAAO;AAAA,EACX;AAAA,EAEA,MAAM,gBAAgB,MACtB;AACI,QAAI,UAAU,KAAK,WAAA;AAEnB,QAAI,eACJ;AACI,UAAI,QAAQ,iBAAiB,MAC7B;AACI,YAAI,mBAAmB,IAAI,uBAAA;AAC3B,yBAAiB,SAAS;AAC1B,gBAAQ,cAAc,gBAAgB;AAEtC,YAAI,iBAAiB,mBAAA;AACjB;AAAA,MACR;AAAA,IACJ;AAEA,QAAI,CAAC,QAAQ;AACT,WAAK,KAAK,UAAA,CAAW,EAAE,KAAA;AAAA;AAEvB,WAAK,KAAK,UAAA,CAAW,EAAE,OAAA;AAE3B,SAAK,KAAK,WAAW,EAAE,OAAA;AACtB,SAAK,cAAsB;AAE5B,QAAI,KAAK,wBAAwB,QAAQ,KAAK,qBAAqB,IAAI,CAAA,MAAK,EAAE,KAAK,EAAE,SAAS,OAAO,GACrG;AACI,UAAI,WAAW,KAAK,qBAAqB,OAAO,CAAA,MAAK,EAAE,SAAS,OAAO,EAAE,CAAC,EAAE;AAC5E,UAAI,YAAY;AACZ,iBAAA;AAAA,IACR;AAEA,QAAI,KAAK,sBAAsB;AAC3B,WAAK,mBAAA;AAET,aAAS,iBAAiB,KAAK;AAC3B,oBAAA;AAEJ,QAAI,eACJ;AACI,UAAI,QAAQ,WAAW,MACvB;AACI,YAAI,aAAa,IAAI,iBAAA;AACrB,mBAAW,SAAS;AACpB,gBAAQ,QAAQ,UAAU;AAAA,MAC9B;AAAA,IACJ;AAAA,EACJ;AAAA,EAEA,SACA;AACI,SAAK,KAAK,UAAA,CAAW,EAAE,OAAA;AACvB,SAAK,KAAK,WAAW,EAAE,OAAA;AAAA,EAC3B;AAAA,EAEA,qBAAqB,UACrB;AACI,SAAK,0BAA2B,KAAK,GAAG,QAAQ;AAAA,EACpD;AAAA,EAEA,oBAAoB,UACpB;AACI,SAAK,yBAA0B,KAAK,GAAG,QAAQ;AAAA,EACnD;AAAA,EAEA,6BAA6B,UAC7B;AACI,SAAK,kCAAmC,KAAK,GAAG,QAAQ;AAAA,EAC5D;AAAA,EAEA,iBAAiB,OACjB;AACI,QAAI,YAAY,KAAK,KAAK,WAAW,EAAE,KAAK,oBAAoB;AAChE,QAAI,SAAS,MACb;AACI,UAAI,iBAAiB,KAAA;AAAA,qBACN,KAAA;AAAA,IACnB;AACA,WAAO,UAAU,GAAG,UAAU;AAAA,EAClC;AAAA,EAEA,MAAM,MACN;AACI,QAAI,KAAK,KAAK,UAAA,CAAW,EAAE,KAAK,sBAAsB,EAAE,CAAC,KAAK;AAC1D,aAAO;AAEX,QAAI,QAAQ;AACR,WAAK,KAAK,WAAW,EAAE,KAAK,sBAAsB,EAAE,CAAC,EAAE,YAAY;AAEvE,WAAO,KAAK,KAAK,UAAA,CAAW,EAAE,KAAK,sBAAsB,EAAE,CAAC,EAAE;AAAA,EAClE;AAAA,EAEA,SAAS,UAAU,MACnB;AACI,QAAI,QAAS,UAAW,sBAAsB;AAC9C,QAAI,SAAU,UAAW,sBAAsB;AAC/C,SAAK,OAAO,OAAO,MAAM;AAEzB,QAAI,UAAU,KAAK,WAAA;AACnB,QAAI,QAAQ,YAAY;AACpB,WAAK,SAAS,QAAQ,SAAS,MAAM,QAAQ,SAAS,KAAK,QAAQ,SAAS,OAAO,QAAQ,SAAS,MAAM;AAAA;AAE1G,WAAK,OAAA;AAAA,EACb;AAAA,EAEA,OAAO,OAAyB,QAChC;AACI,QAAI,UAAU,KAAK,WAAA;AACnB,QAAI,WAAY,SAAS,OAAQ,QAAQ,QAAQ;AACjD,QAAI,YAAa,UAAU,OAAQ,SAAS,QAAQ;AACpD,SAAK,MAAM,QAAQ;AACnB,SAAK,OAAO,SAAS;AAAA,EACzB;AAAA,EAEA,SAAS,YAAyC,4BAA4B,QAAQ,UAAU,OAAO,SAAS,MAChH;AACI,SAAK,mBAAmB;AAExB,QAAI,aAAa,4BAA4B;AACzC,WAAK,OAAO,QAAQ,MAAM;AAAA;AAE1B,WAAK,MAAM,QAAQ,MAAM;AAE7B,SAAK,mBAAmB;AAAA,EAC5B;AAAA,EAEA,QAAQ,SAAiB,SAAkD,OAAO,OAAO,OAAO,gBAAgB,MAChH;AACI,QAAI,UAAU,KAAK,WAAA;AAGnB,QAAI,aAAiC;AACrC,QAAI,QAAQ,QACZ;AACI,UAAI,wBAAwB,KAAK,QAAS;AAC1C,WAAK,qBAAqB,EAAE,KAAK,MAAM,EAAE,IAAI,UAAU,KAAK;AAC5D,UAAI,yBAAyB;AACzB,qBAAa,sBAAsB;AAAA,IAC3C;AAGA,QAAI,WAAW,SAAS,QAAQ,SAAS,OAAO,KAAK,QAAQ,SAAS,MAAM,KACxE,QAAQ,SAAS,OAAO,KAAK,QAAQ,WAAW,MAAM,KAAK,QAAQ,WAAW,GAAG,IACrF;AACI,UAAI,QAAQ,UAAU,WAAW,OACjC;AACI,YAAI,WAAW;AACX,mBAAS,KAAK,QAAA;AAElB,sBAAc,KAAM,WAAW,QAAS,KAAK,QAAA,IAAY,MAAM;AAAA,MACnE;AAEA,UAAI,CAAC,QAAQ,QACb;AACI,aAAK,KAAK,QAAA,CAAS,EAAE,KAAK,SAAS,MACnC;AACI,cAAI;AACA,iBAAK,gBAAA;AAET,eAAK,mBAAA;AAEL,cAAI;AACA,iBAAK,KAAA;AAAA,QACb,CAAC;AAAA,MACL,OAEA;AACI,aAAK,KAAK,OAAO,EAAE,KAAK,OAAO,OAAO;AACtC,aAAK,KAAK,OAAO,EAAE,GAAG,QAAQ,MAC9B;AACI,cAAI,wBAAwB,KAAK,QAAS;AAC1C,eAAK,qBAAqB,EAAE,KAAK,MAAM,EAAE,IAAI,UAAU,KAAK;AAE5D,cAAI;AACA,iBAAK,gBAAA;AAET,eAAK,mBAAA;AAEL,cAAI;AACA,iBAAK,KAAA;AAAA,QACb,CAAC;AAAA,MACL;AAAA,IACJ,OAEA;AACI,WAAK,KAAK,QAAA,CAAS,EAAE,MAAA;AACrB,UAAI,WAAW,QAAQ,CAAC,QAAQ,WAAW,GAAG;AAC1C,kBAAU,UAAU,UAAU;AAElC,UAAI,CAAC,QAAQ;AACT,aAAK,OAAO,EAAE,eAAe,KAAK,SAAS;AAAA;AAE3C,aAAK,OAAO,EAAE,eAAe,UAAU;AAE3C,UAAI;AACA,aAAK,gBAAA;AAET,WAAK,mBAAA;AAEL,UAAI;AACA,aAAK,KAAA;AAAA,IACb;AAAA,EACJ;AAAA,EAEQ,qBACR;AACI,QAAI,UAAU,KAAK,WAAA;AACnB,QAAI,QAAQ,aAAa;AACrB,WAAK,SAAS,QAAQ,UAAyC,KAAK;AAAA,EAC5E;AAAA,EAEA,QACA;AACI,QAAI,UAAU,KAAK,WAAA;AACnB,QAAI,QAAQ;AACR,WAAK,KAAK,OAAO,EAAE,WAAW,KAAK;AAAA;AAEnC,WAAK,KAAK,QAAA,CAAS,EAAE,MAAA;AAAA,EAC7B;AAAA,EAEA,aACA;AACI,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,SACA;AACI,QAAI,YAAY,KAAK,MAAM,EAAE,UAAA;AAC7B,QAAI,eAAe,OAAO;AAC1B,QAAI,MAAO,eAAe,IAAM,KAAK,KAAK,WAAW,EAAE,WAAW,IAAK;AAEvE,QAAI,aAAa,KAAK,MAAM,EAAE,WAAA;AAC9B,QAAI,cAAc,OAAO;AACzB,QAAI,OAAQ,cAAc,IAAM,KAAK,KAAK,WAAW,EAAE,UAAU,IAAK;AAEtE,SAAK,SAAS,MAAM,GAAG;AAAA,EAC3B;AAAA,EAEA,SAAS,MAA+B,KAA8B,OAAgC,QACtG;AACI,QAAI,eAAe;AACnB,QAAI,QAAQ,MACZ;AACI,qBAAe,WAAW,OAAO;AACjC,UAAI,OAAQ,QAAS;AACjB,uBAAe,WAAW,OAAO;AAAA,IACzC;AAEA,QAAI,cAAc;AAClB,QAAI,OAAO,MACX;AACI,oBAAc,UAAU,MAAM;AAC9B,UAAI,OAAQ,OAAQ;AAChB,sBAAc,UAAU,MAAM;AAAA,IACtC;AAEA,QAAI,gBAAgB;AACpB,QAAI,SAAS,MACb;AACI,qBAAe;AACf,sBAAgB,YAAY,QAAQ;AACpC,UAAI,OAAQ,SAAU;AAClB,wBAAgB,YAAY,QAAQ;AAAA,IAC5C;AAEA,QAAI,iBAAiB;AACrB,QAAI,UAAU,MACd;AACI,oBAAc;AACd,uBAAiB,aAAa,SAAS;AACvC,UAAI,OAAQ,UAAW;AACnB,yBAAiB,aAAa,SAAS;AAAA,IAC/C;AAEA,SAAK,YAAY,MAAM,WAAW,eAAe,cAAc,gBAAgB;AAC/E,QAAI,WAAW,EAAE,KAAK,UAAA,CAAW,EAAE,SAAA;AACnC,WAAO,EAAE,MAAM,SAAS,MAAM,KAAK,SAAS,IAAA;AAAA,EAChD;AAAA,EAEA,WAAgC,OAChC;AACI,QAAI,UAAU,KAAK,KAAK,UAAU,EAAE,KAAK,aAAa,QAAQ,IAAI,EAAE,CAAC;AACrE,WAAO,eAAe,IAAQ,WAAW,OAAQ,QAAQ,KAAK,EAAE;AAAA,EACpE;AAAA,EAEA,eAAe,OACf;AACI,SAAK,WAAW,KAAK,EAAE,KAAA;AAAA,EAC3B;AAAA,EAEA,eAAe,OACf;AACI,SAAK,WAAW,KAAK,EAAE,KAAA;AAAA,EAC3B;AAAA,EAEA,kBAAkB,OAAwB,OAC1C;AACI,QAAI,SAAS;AACT,WAAK,WAAW,KAAK,EAAE,QAAQ,KAAK;AAExC,WAAO,KAAK,WAAW,KAAK,EAAE,QAAA;AAAA,EAClC;AAAA,EAEA,iBAAiB,OACjB;AACI,SAAK,WAAW,KAAK,EAAE,OAAA;AAAA,EAC3B;AAAA,EAEA,kBAAkB,OAClB;AACI,SAAK,WAAW,KAAK,EAAE,QAAA;AAAA,EAC3B;AAAA,EAEA,cAAc,YACd;AACI,QAAI,WAAW,SAAS,KAAM,YAAW,QAAQ,0BAA0B;AAC3E,QAAI,eAAe;AACnB,QAAI,WAAW,SAAS,0BAA0B;AAC9C,qBAAe;AAEnB,QAAI,WAAW,QAAQ,yBAAyB,SAAS,WAAW,QAAQ,yBAAyB,MAC9F,WAAW,QAAQ,yBAAyB,UAAU,WAAW,QAAQ,MAChF;AAEI,UAAI,OAAO,WAAW;AACtB,UAAI,WAAW,QAAQ,yBAAyB,SAAS,WAAW,QAAQ,yBAAyB;AACjG,eAAQ,WAAW,QAAQ,OAAQ,WAAW,OAAS,WAAW,QAAQ,yBAAyB,QAAS,WAAW;AAE3H,UAAI,QAAQ,WAAW;AACvB,WAAK,WAAW,QAAQ,yBAAyB,SAAS,WAAW,QAAQ,yBAAyB,QAAQ,SAAS,QAAQ,SAAS;AACpI,gBAAS,WAAW,QAAQ,yBAAyB,QAAS,UAAU;AAE5E,WAAK,SAAS,QAAQ,SAAS,OAAO,QAAQ;AAC1C,gBAAQ,KAAK,QAAQ,iBAAiB,EAAE,EAAE,QAAQ,UAAU,EAAE;AAElE,UAAI,OAAO,WAAW;AACtB,UAAI,WAAW,QAAQ,yBAAyB;AAC5C,eAAO,eAAe;AAE1B,UAAI,SAAS;AAAA,QACT;AAAA,UACI;AAAA,UACA,MAAM,WAAW;AAAA,UACjB,cAAc,WAAW;AAAA,UACzB,UAAU,WAAW;AAAA,UACrB;AAAA,UACA,eAAe,WAAW;AAAA,UAC1B,SAAS,WAAW;AAAA,UACpB,qBAAqB,WAAW;AAAA,UAChC,SAAS,WAAW;AAAA,UACpB,QAAQ,WAAW;AAAA,UACnB,KAAK,WAAW;AAAA,UAChB,cAAc,eAAe,WAAW;AAAA,UACxC,OAAO,WAAW;AAAA,UAClB,OAAO,WAAW;AAAA,UAClB,SAAS,CAAC,MACV;AACI,gBAAI,WAAW,QAAQ,yBAAyB;AAC5C,mBAAK,MAAA;AAET,gBAAI,WAAW,WAAW,MAC1B;AACI,kBAAI,aAAa,IAAI,2BAAA;AACrB,yBAAW,SAAS;AACpB,yBAAW,QAAQ,UAAU;AAAA,YACjC;AAEA,gBAAI,SAAS,QAAQ,KAAK,wBAAwB,QAAQ,KAAK,qBAAqB,IAAI,CAAA,MAAK,EAAE,KAAK,EAAE,SAAS,KAAK,GACpH;AACI,kBAAI,WAAW,KAAK,qBAAqB,OAAO,CAAA,MAAK,EAAE,SAAS,KAAK,EAAE,CAAC,EAAE;AAC1E,kBAAI,YAAY;AACZ,yBAAA;AAAA,YACR;AAAA,UACJ;AAAA,QAAA;AAAA,QACD,KAAK;AAAA,MAAA;AAEZ,UAAI,SAAS;AACT,aAAK,OAAO,QAAA,CAAS,EAAE,KAAK,SAAS,KAAK;AAAA,IAElD,WACS,WAAW,QAAQ,yBAAyB,WACrD;AACI,UAAI,YAAY,gBAAgB;AAAA,QAC5B;AAAA,MAAA,GACD,KAAK,UAAU;AAElB,UAAI,WAAW,SAAS;AACpB,aAAK,UAAU,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAChE,WACS,WAAW,QAAQ,yBAAyB,eAAe,WAAW,oBAAoB,MACnG;AAEI,UAAI,cAAc;AAAA,QACd;AAAA,UACI,MAAM,WAAW;AAAA,UACjB,MAAM,WAAW;AAAA,UACjB,UAAU,WAAW;AAAA,UACrB,eAAe,WAAW;AAAA,UAC1B,SAAS,WAAW;AAAA,UACpB,OAAO,WAAW;AAAA,UAClB,SAAS,WAAW;AAAA,UACpB,QAAQ,WAAW;AAAA,UACnB,KAAK,WAAW;AAAA,UAChB,cAAc,WAAW,eAAe,OAAO;AAAA,UAC/C,OAAO,WAAW;AAAA,UAClB,SAAU,WAAW,WAAW,OAAQ,SAAY,CAAC,MACrD;AACI,gBAAI,WAAW,WAAW,MAC1B;AACI,kBAAI,aAAa,IAAI,2BAAA;AACrB,yBAAW,SAAS;AACpB,yBAAW,QAAQ,UAAU;AAAA,YACjC;AAEA,gBAAI,WAAW,SAAS,QAAQ,KAAK,wBAAwB,QAAQ,KAAK,qBAAqB,IAAI,CAAA,MAAK,EAAE,KAAK,EAAE,SAAS,WAAW,KAAK,GAC1I;AACI,kBAAI,WAAW,KAAK,qBAAqB,OAAO,CAAA,MAAK,EAAE,SAAS,WAAW,KAAK,EAAE,CAAC,EAAE;AACrF,kBAAI,YAAY;AACZ,yBAAA;AAAA,YACR;AAAA,UACJ;AAAA,UACA,UAAU,CAAC,MACX;AACI,gBAAI,EAAE,SAAS,QAAQ,KAAK,wBAAwB,QAAQ,KAAK,qBAAqB,IAAI,CAAA,MAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,GACxH;AACI,kBAAI,WAAW,KAAK,qBAAqB,OAAO,CAAA,MAAK,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,EAAE;AAC5E,kBAAI,YAAY;AACZ,yBAAA;AAAA,YACR;AAAA,UACJ;AAAA,QAAA;AAAA,QACD,KAAK;AAAA,MAAA;AAEZ,UAAI,WAAW,SAAS;AACpB,aAAK,YAAY,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAElE,WACS,WAAW,QAAQ,yBAAyB,QACrD;AACI,UAAI,WAAW,kBAAkB,MACjC;AACI,mBAAW,iBAAiB,IAAI,0BAAA;AAChC,mBAAW,eAAe,WAAW;AACrC,mBAAW,eAAe,UAAU;AAAA,MACxC;AAEA,UAAI,WAAW,eAAe,WAAW,KAAM,YAAW,eAAe,UAAU;AACnF,UAAI,gBAAgB;AAAA,QAChB;AAAA,UACI,UAAU,WAAW,eAAgB;AAAA,UACrC,SAAS,WAAW,eAAgB;AAAA,UACpC,SAAS,WAAW,eAAe;AAAA,UACnC,cAAc,WAAW,eAAe,OAAO;AAAA,UAC/C,KAAK,WAAW;AAAA,UAChB,OAAO,WAAW;AAAA,UAClB,SAAS,WAAW;AAAA,UACpB,QAAQ,WAAW;AAAA,UACnB,UAAU,CAAC,MACX;AACI,gBAAI,WAAW,eAAgB,WAAW,MAC1C;AACI,kBAAI,mBAAmB,IAAI,uBAAA;AAC3B,+BAAiB,UAAU,EAAE;AAC7B,yBAAW,eAAgB,QAAQ,gBAAgB;AAAA,YACvD;AAAA,UACJ;AAAA,QAAA;AAAA,QACD,KAAK;AAAA,MAAA;AAEZ,UAAI,WAAW,SAAS;AACpB,aAAK,cAAc,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IACpE,WACS,WAAW,QAAQ,yBAAyB,aACrD;AACI,UAAI,cAAc;AAAA,QACd;AAAA,UACI,eAAe,kBAAkB;AAAA,UACjC,OAAO,WAAW;AAAA,UAClB,cAAc,WAAW;AAAA,UACzB,KAAK,WAAW;AAAA,UAChB,OAAO,WAAW;AAAA,UAClB,SAAS,WAAW;AAAA,UACpB,QAAQ,WAAW;AAAA,UACnB,OAAO;AAAA,UACP,UAAU,CAAC,MACX;AACI,gBAAI,WAAW,WAAW,MAC1B;AACI,kBAAI,aAAa,IAAI,2BAAA;AACrB,yBAAW,SAAS;AACpB,yBAAW,QAAQ,UAAU;AAAA,YACjC;AAAA,UACJ;AAAA,QAAA;AAAA,QACD,KAAK;AAAA,MAAA;AAEZ,UAAI,WAAW,SAAS;AACpB,aAAK,YAAY,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAClE,WACS,WAAW,QAAQ,yBAAyB,UACrD;AACI,UAAI,WAAW;AAAA,QACX;AAAA,UACI,MAAM,WAAW;AAAA,UACjB,cAAc,gBAAgB,WAAW;AAAA,UACzC,KAAK,WAAW;AAAA,UAChB,OAAO,WAAW;AAAA,UAClB,SAAS,WAAW;AAAA,UACpB,QAAQ,WAAW;AAAA,UACnB,SAAS,CAAC,MACV;AACI,gBAAI,WAAW,WAAW,MAC1B;AACI,kBAAI,aAAa,IAAI,2BAAA;AACrB,yBAAW,SAAS;AACpB,yBAAW,QAAQ,UAAU;AAAA,YACjC;AAAA,UACJ;AAAA,QAAA;AAAA,QACD,KAAK;AAAA,MAAA;AAEZ,UAAI,WAAW,SAAS;AACpB,aAAK,SAAS,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAC/D,WACS,WAAW,QAAQ,yBAAyB,OACrD;AACI,UAAI,QAAQ;AAAA,QACR;AAAA,UACI,MAAM,WAAW;AAAA,UACjB,cAAc,WAAW;AAAA,UACzB,KAAK,WAAW;AAAA,UAChB,OAAO,WAAW;AAAA,UAClB,SAAS,WAAW;AAAA,UACpB,QAAQ,WAAW;AAAA,UACnB,SAAS,CAAC,MACV;AACI,gBAAI,WAAW,WAAW,MAC1B;AACI,kBAAI,aAAa,IAAI,2BAAA;AACrB,yBAAW,SAAS;AACpB,yBAAW,QAAQ,UAAU;AAAA,YACjC;AAAA,UACJ;AAAA,QAAA;AAAA,QACD,KAAK;AAAA,MAAA;AAEZ,UAAI,WAAW,SAAS;AACpB,aAAK,MAAM,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAC5D,WACS,WAAW,QAAQ,yBAAyB,UACrD;AACI,UAAI,WAAW,mBAAmB,KAAM,YAAW,kBAAkB,IAAI,gBAAA;AACzE,iBAAW,gBAAgB,iBAAiB,WAAW,gBAAgB;AACvE,iBAAW,gBAAgB,QAAQ,WAAW,gBAAgB;AAC9D,UAAI,WAAW,gBAAgB,WAAW,KAAM,YAAW,gBAAgB,UAAU,WAAW;AAChG,UAAI,WAAW,gBAAgB,UAAU,KAAM,YAAW,gBAAgB,SAAS,WAAW;AAC9F,UAAI,WAAW,gBAAgB,OAAO,KAAM,YAAW,gBAAgB,MAAM,WAAW;AACxF,UAAI,WAAW,gBAAgB,gBAAgB,KAAM,YAAW,gBAAgB,eAAe,WAAW;AAE1G,UAAI,QAAQ,eAAe,WAAW,iBAAiB,KAAK,UAAU;AACtE,UAAI,WAAW,SAAS;AACpB,aAAK,MAAM,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAC5D,WACS,WAAW,QAAQ,yBAAyB,YACrD;AACI,UAAI,WAAW,qBAAqB,KAAM,YAAW,oBAAoB,IAAI,kBAAA;AAC7E,iBAAW,kBAAkB,iBAAiB,WAAW,kBAAkB;AAC3E,iBAAW,kBAAkB,QAAQ,WAAW,kBAAkB;AAClE,UAAI,WAAW,kBAAkB,WAAW,KAAM,YAAW,kBAAkB,UAAU,WAAW;AACpG,UAAI,WAAW,kBAAkB,UAAU,KAAM,YAAW,kBAAkB,SAAS,WAAW;AAClG,UAAI,WAAW,kBAAkB,OAAO,KAAM,YAAW,kBAAkB,MAAM,WAAW;AAC5F,UAAI,WAAW,kBAAkB,gBAAgB,KAAM,YAAW,kBAAkB,eAAe,WAAW;AAE9G,UAAI,aAAa,iBAAiB,WAAW,mBAAmB,KAAK,UAAU;AAC/E,UAAI,WAAW,SAAS;AACpB,aAAK,WAAW,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IACjE,WACS,WAAW,QAAQ,yBAAyB,SACrD;AACI,UAAI,WAAW,kBAAkB,KAAM,YAAW,iBAAiB,IAAI,eAAA;AACvE,iBAAW,eAAe,iBAAiB,WAAW,eAAe;AACrE,iBAAW,eAAe,QAAQ,WAAW,eAAe;AAC5D,UAAI,WAAW,eAAe,WAAW,KAAM,YAAW,eAAe,UAAU,WAAW;AAC9F,UAAI,WAAW,eAAe,UAAU,KAAM,YAAW,eAAe,SAAS,WAAW;AAC5F,UAAI,WAAW,eAAe,OAAO,KAAM,YAAW,eAAe,MAAM,WAAW;AACtF,UAAI,WAAW,eAAe,gBAAgB,KAAM,YAAW,eAAe,eAAe,WAAW;AAExG,UAAI,UAAU,cAAc,WAAW,gBAAgB,KAAK,UAAU;AACtE,UAAI,WAAW,SAAS;AACpB,aAAK,QAAQ,QAAA,CAAS,EAAE,KAAK,SAAS,WAAW,KAAK;AAAA,IAC9D;AAAA,EACJ;AAAA,EAEA,SACA;AACI,WAAO,KAAK,KAAK,UAAU,EAAE,CAAC;AAAA,EAClC;AAAA,EAEA,SACA;AACI,WAAO,KAAK,KAAK,UAAU,EAAE,CAAC;AAAA,EAClC;AAAA,EAEA,eACA;AACI,WAAO,KAAK,KAAK,UAAU,EAAE,KAAK,gBAAgB,EAAE,CAAC;AAAA,EACzD;AAAA,EAEQ,aACR;AACI,WAAO,KAAK,QAAA;AAAA,EAChB;AAAA,EAEQ,kBACR;AACI,QAAI,UAAU,KAAK,WAAA;AACnB,kBAAc,KAAA;AAEd,QAAI,QAAQ,mBAAmB,MAC/B;AACI,UAAI,cAAc,IAAI,uBAAA;AACtB,kBAAY,SAAS;AACrB,cAAQ,gBAAgB,WAAW;AAAA,IACvC;AAEA,aAAS,iBAAiB,KAAK;AAC3B,oBAAA;AAAA,EACR;AAAA;AAAA;AAAA,EAIA,OAAO,QAA0B,SAAS,MAC1C;AACI,QAAI,UAAU,KAAK,WAAA;AAEnB,QAAI,UAAU,UAAW,UAAU,UAAU,CAAC,KAAK;AAC/C,YAAM,OAAO,MAAM;AAAA,SAEvB;AACI,WAAK,UAAA,EAAY,MAAM,WAAW;AAClC,UAAI,YAAY,KAAK,KAAK,QAAA,CAAS,EAAE,OAAA;AACrC,UAAI,aAAa,KAAK,KAAK,QAAA,CAAS,EAAE,IAAI,UAAU,MAAM,EAAE,OAAA;AAC5D,WAAK,KAAK,QAAA,CAAS,EAAE,OAAO,SAAS,EAAE,QAAQ,EAAE,QAAQ,WAAA,GAAc,GAAG;AAAA,IAC9E;AAEA,QAAI,OAAQ,UAAW,UACvB;AACI,gBAAW,QAAS,UAAW;AAE/B,UAAI,QAAQ,SAAS;AACjB,kBAAU,KAAK,KAAK,UAAU,EAAE,YAAA;AACpC,UAAI,QAAQ;AACR,kBAAU,KAAK,KAAK,UAAU,EAAE,YAAA;AAEpC,WAAK,QAAA,EAAU,MAAM,WAAW,aAAa,SAAS;AAAA,IAC1D;AAEA,QAAI,QACJ;AACI,UAAI,KAAK;AACL,eAAO,WAAW,MAAM,KAAK,OAAA,GAAU,GAAG;AAAA;AAE1C,aAAK,OAAA;AAAA,IACb;AAEA,WAAO,MAAM,OAAA;AAAA,EACjB;AAAA,EAEA,MAAM,OAAyB,SAAS,MACxC;AACI,QAAI,UAAU,KAAK,WAAA;AACnB,UAAM,MAAM,KAAK;AAEjB,QAAI;AACA,WAAK,OAAA;AAGT,SAAK,UAAU,MAAM,WAAW,wBAAyB,QAAQ,UAAW,IAAK;AAEjF,WAAO,MAAM,MAAA;AAAA,EACjB;AAAA;AAEJ;AAwCO,MAAM,0BACb;AAAA,EACI;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ;AAEA,MAAM,uBACN;AAAA,EACI;AACJ;AAeA,MAAM,oBACN;AAAA,EACI;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ;AAIO,MAAM,oBAAoB,gBACjC;AAAA,EACI;AACJ;AAEA,MAAM,mCAAmC,YACzC;AACA;AAEO,MAAM,wBAAwB,YACrC;AACA;AAEA,MAAM,+BAA+B,YACrC;AAEA;AAEA,MAAM,yBAAyB,YAC/B;AACA;AAEA,MAAM,6BAA6B,YACnC;AAAA,EACI;AAAA,EACA;AACJ;AAEA,MAAM,2BAA2B,YACjC;AAAA,EACI;AAAA,EACA;AACJ;AAEA,MAAM,+BAA+B,YACrC;AACA;"}