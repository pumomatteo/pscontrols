{"version":3,"file":"upload.js","sources":["../../../../src/ui/controls/upload.ts"],"sourcesContent":["import { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\nimport { ControlTypeEnum, div, puma, confirm, createLabel, icon, IconClassicLight, createButton, span, notify, NotifierTypeEnum, IconClassicRegular, UploadValidationErrorTypeEnum, filesToBase64 } from \"../vr\";\n\n//#region Options\nexport class UploadOptions extends VrControlOptions\n{\n\tdropArea?: boolean | UploadDropAreaSettings;\n\twebApiSettings?: UploadWebApiSettings;\n\tmultiple?: boolean;\n\tprogressBar?: boolean;\n\tfileList?: boolean;\n\tfileListMaxHeight?: number;\n\tuploadButton?: boolean | string;\n\tautoUpload?: boolean;\n\tconfirmToRemoveFile?: boolean;\n\tcanRemoveFile?: boolean;\n\tvalidation?: UploadValidation;\n\tasync?: boolean;\n\n\tonProgress?: (e: UploadProgressEvent) => void;\n\tonError?: (e: UploadErrorEvent) => void;\n\tonValidationError?: (e: UploadValidationErrorEvent) => void;\n\tonSuccess?: (e: UploadSuccessEvent) => void;\n\tonDragEnter?: (e: UploadDragEnterEvent) => void;\n\tonDragOver?: (e: UploadDragOverEvent) => void;\n\tonDragLeave?: (e: UploadDragLeaveEvent) => void;\n\tonDrop?: (e: UploadDropEvent) => void;\n\tonAbort?: (e: UploadAbortEvent) => void;\n\tonStart?: (e: UploadStartEvent) => void;\n\tonRemove?: (e: UploadRemoveEvent) => void;\n\tonClick?: (e: UploadClickEvent) => void;\n\tonFilesAdded?: (e: UploadFilesAdded) => void;\n}\n//#endregion\n\n//#region Control\nexport class Upload extends VrControl\n{\n\tprivate _uploadProgress: number[];\n\tprivate _divProgressBar: HTMLProgressElement;\n\tprivate _divFileList: HTMLElement;\n\tprivate _divDropAreaList: HTMLElement[];\n\tprivate _files: File[];\n\tprivate _inputFile: HTMLInputElement;\n\tprivate _dicFileXhr: Map<File, XMLHttpRequest>;\n\n\tconstructor(element: HTMLElement, options?: UploadOptions | null)\n\t{\n\t\t//#region Options\n\t\tif (options == null)\n\t\t\toptions = new UploadOptions();\n\n\t\tif (options.width == null) options.width = \"100%\";\n\t\tif (options.webApiSettings == null) options.webApiSettings = new UploadWebApiSettings();\n\t\tif (options.multiple == null) options.multiple = false;\n\t\tif (options.fileList == null) options.fileList = true;\n\t\tif (options.fileListMaxHeight == null) options.fileListMaxHeight = 200;\n\t\tif (options.async == null) options.async = true;\n\n\t\tif (options.dropArea == null) options.dropArea = true;\n\t\tif (options.dropArea !== true && options.progressBar == null) options.progressBar = false;\n\n\t\tif (options.progressBar == null) options.progressBar = true;\n\t\tif (options.uploadButton == null) options.uploadButton = true;\n\t\tif (options.uploadButton === true) options.uploadButton = \"Seleziona...\";\n\t\tif (options.autoUpload == null) options.autoUpload = true;\n\t\tif (options.confirmToRemoveFile == null) options.confirmToRemoveFile = false;\n\t\tif (options.canRemoveFile == null) options.canRemoveFile = true;\n\t\t//#endregion\n\n\t\tsuper(element, options, ControlTypeEnum.Upload);\n\t\tlet uploadContainer: HTMLElement | null = null;\n\t\tthis._files = [];\n\t\tthis._dicFileXhr = new Map<File, XMLHttpRequest>();\n\n\t\t//#region Drop area\n\t\tthis._divDropAreaList = [];\n\t\tif (options.dropArea !== false)\n\t\t{\n\t\t\t//#region Drop area element\n\t\t\tif (typeof (options.dropArea) == \"boolean\" && options.dropArea)\n\t\t\t{\n\t\t\t\tthis._divDropAreaList = [div(this.element(), { class: \"vrUploadDropArea\" })];\n\t\t\t\tuploadContainer = this._divDropAreaList[0];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (options.dropArea.addDefault == null) options.dropArea.addDefault = true;\n\t\t\t\tif (options.dropArea.list == null) options.dropArea.list = [];\n\t\t\t\tif (options.dropArea.text == null) options.dropArea.text = true;\n\n\t\t\t\tif (options.dropArea.addDefault === true)\n\t\t\t\t{\n\t\t\t\t\tthis._divDropAreaList = [div(this.element(), { class: \"vrUploadDropArea\" })];\n\t\t\t\t\tuploadContainer = this._divDropAreaList[0];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tuploadContainer = this.element();\n\n\t\t\t\tif (options.dropArea.list != null)\n\t\t\t\t{\n\t\t\t\t\tfor (let dropArea of options.dropArea.list)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (typeof (dropArea) == \"string\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!dropArea.startsWith(\"#\"))\n\t\t\t\t\t\t\t\tdropArea = \"#\" + dropArea;\n\n\t\t\t\t\t\t\tthis._divDropAreaList.push(puma(dropArea)[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis._divDropAreaList.push(dropArea);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//#endregion\n\n\t\t\t//#region Events\n\t\t\t[\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach(eventName =>\n\t\t\t{\n\t\t\t\tfor (let divDropArea of this._divDropAreaList)\n\t\t\t\t{\n\t\t\t\t\tdivDropArea.addEventListener(eventName, (e) =>\n\t\t\t\t\t{\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (let divDropArea of this._divDropAreaList)\n\t\t\t{\n\t\t\t\tpuma(divDropArea).on(\"dragenter\", (e: JQuery.DragEnterEvent) =>\n\t\t\t\t{\n\t\t\t\t\t//#region DragEnter event\n\t\t\t\t\tif (options!.onDragEnter != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet dragEnterEvent = new UploadDragEnterEvent();\n\t\t\t\t\t\tdragEnterEvent.sender = this;\n\t\t\t\t\t\tdragEnterEvent.element = e.currentTarget;\n\t\t\t\t\t\tdragEnterEvent.event = e;\n\t\t\t\t\t\toptions!.onDragEnter(dragEnterEvent);\n\n\t\t\t\t\t\tif (dragEnterEvent.isDefaultPrevented())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\tpuma(e.currentTarget).addClass(\"highlight\");\n\t\t\t\t});\n\n\t\t\t\tpuma(divDropArea).on(\"dragover\", (e: JQuery.DragOverEvent) =>\n\t\t\t\t{\n\t\t\t\t\t//#region DragEnter event\n\t\t\t\t\tif (options!.onDragOver != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet dragOverEvent = new UploadDragOverEvent();\n\t\t\t\t\t\tdragOverEvent.sender = this;\n\t\t\t\t\t\tdragOverEvent.element = e.currentTarget;\n\t\t\t\t\t\tdragOverEvent.event = e;\n\t\t\t\t\t\toptions!.onDragOver(dragOverEvent);\n\n\t\t\t\t\t\tif (dragOverEvent.isDefaultPrevented())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\tpuma(e.currentTarget).addClass(\"highlight\");\n\t\t\t\t});\n\n\t\t\t\tpuma(divDropArea).on(\"dragleave\", (e: JQuery.DragLeaveEvent) =>\n\t\t\t\t{\n\t\t\t\t\t//#region DragEnter event\n\t\t\t\t\tif (options!.onDragLeave != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet dragLeaveEvent = new UploadDragLeaveEvent();\n\t\t\t\t\t\tdragLeaveEvent.sender = this;\n\t\t\t\t\t\tdragLeaveEvent.element = e.currentTarget;\n\t\t\t\t\t\tdragLeaveEvent.event = e;\n\t\t\t\t\t\toptions!.onDragLeave(dragLeaveEvent);\n\n\t\t\t\t\t\tif (dragLeaveEvent.isDefaultPrevented())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\tpuma(e.currentTarget).removeClass(\"highlight\");\n\t\t\t\t});\n\n\t\t\t\tpuma(divDropArea).on(\"drop\", (e: JQuery.DropEvent) =>\n\t\t\t\t{\n\t\t\t\t\tlet dataTransfer = e.originalEvent!.dataTransfer!;\n\t\t\t\t\tlet files: File[] = [...dataTransfer.files as any];\n\n\t\t\t\t\t//#region Drop event\n\t\t\t\t\tif (options!.onDrop != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet dropEvent = new UploadDropEvent();\n\t\t\t\t\t\tdropEvent.sender = this;\n\t\t\t\t\t\tdropEvent.files = files;\n\t\t\t\t\t\tdropEvent.event = e;\n\t\t\t\t\t\toptions!.onDrop(dropEvent);\n\n\t\t\t\t\t\tif (dropEvent.isDefaultPrevented())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\tpuma(e.currentTarget).removeClass(\"highlight\");\n\t\t\t\t\tthis.manageLoadingFiles(files);\n\t\t\t\t});\n\n\t\t\t\tpuma(divDropArea).on(\"paste\", (e: any) =>\n\t\t\t\t{\n\t\t\t\t\tthis.addFiles(e.originalEvent.clipboardData.files);\n\t\t\t\t});\n\t\t\t}\n\t\t\t//#endregion\n\t\t}\n\t\telse\n\t\t\tuploadContainer = this.element();\n\t\t//#endregion\n\n\t\t//#region Input\n\t\tlet multiple = \"\";\n\t\tif (options.multiple)\n\t\t\tmultiple = \"multiple\";\n\n\t\tlet labelInput = puma(\"<label for='\" + this.element().id + \"_vrUpload' class='vrUploadInput'><i class='\" + IconClassicLight.CloudArrowUp + \" vrUploadBtnIcon'></i>\" + options.uploadButton + \"</label>\").vrAppendToPuma(uploadContainer);\n\t\tthis._inputFile = puma(\"<input \" + multiple + \" id='\" + this.element().id + \"_vrUpload' type='file' style='display: none;'/>\").vrAppendToPuma(uploadContainer)[0];\n\t\tif (!options.uploadButton)\n\t\t\tpuma(labelInput).hide();\n\n\t\tif (options.dropArea === true || (options.dropArea !== false && options.dropArea.addDefault))\n\t\t{\n\t\t\tlet dropAreaText = \"\";\n\t\t\tif (options.dropArea === true) dropAreaText = \"Trascina qui il file\";\n\t\t\telse \n\t\t\t{\n\t\t\t\tif (options.dropArea.text !== false)\n\t\t\t\t\tdropAreaText = \"Trascina qui il file\";\n\t\t\t}\n\n\t\t\tcreateLabel({\n\t\t\t\ttext: String(dropAreaText),\n\t\t\t\tcssContainer: \"margin-left: 5px;\",\n\t\t\t\tcss: \"text-align: left; font-style: italic; color: #a0a0a0;\"\n\t\t\t}, this._divDropAreaList[0]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpuma(this.container()).on(\"paste\", (e: any) =>\n\t\t\t{\n\t\t\t\tthis.addFiles(e.originalEvent.clipboardData.files);\n\t\t\t});\n\t\t}\n\n\t\tpuma(this._inputFile).on(\"click\", (e: JQuery.ClickEvent) =>\n\t\t{\n\t\t\t//#region Drop event\n\t\t\tif (options!.onClick != null)\n\t\t\t{\n\t\t\t\tlet clickEvent = new UploadClickEvent();\n\t\t\t\tclickEvent.sender = this;\n\t\t\t\toptions!.onClick(clickEvent);\n\n\t\t\t\tif (clickEvent.isDefaultPrevented())\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//#endregion\n\t\t})\n\n\t\tpuma(this._inputFile).on(\"change\", (e: JQuery.ChangeEvent) =>\n\t\t{\n\t\t\tlet files: File[] = [...e.currentTarget.files as any];\n\t\t\tthis.manageLoadingFiles(files);\n\t\t});\n\t\t//#endregion\n\n\t\t//#region Progress bar\n\t\tthis._divProgressBar = puma(\"<progress class='vrUploadProgressBar' max=100 value=0></progress>\").vrAppendToPuma(this.element())[0];\n\t\tpuma(this._divProgressBar).hide();\n\t\t//#endregion\n\n\t\t//#region File list\n\t\tthis._divFileList = div(this.container(), { class: \"vrUploadDivFileList\", css: \"display: none; max-height: \" + options.fileListMaxHeight + \"px;\" });\n\t\t//#endregion\n\t}\n\n\t//#region Methods\n\n\t//#region Files management\n\tuploadFiles()\n\t{\n\t\tfor (let i = 0; i < this._files.length; i++)\n\t\t{\n\t\t\tlet file = this._files[i];\n\t\t\tthis.uploadFile(file, i, false);\n\t\t}\n\t}\n\n\taddFile(file: File)\n\t{\n\t\tthis.addFiles([file]);\n\t}\n\n\taddFiles(files: File[])\n\t{\n\t\tthis.manageLoadingFiles(files);\n\t}\n\n\tgetFiles()\n\t{\n\t\treturn this._files;\n\t}\n\n\tgetBase64Files(files: File[])\n\t{\n\t\treturn filesToBase64(files);\n\t}\n\n\tremoveFileAtIndex(index: number)\n\t{\n\t\tlet divFile = puma(this.divFileList()).find(\".vrUploadDivFile:nth-child(\" + (index + 1) + \")\")[0];\n\t\tpuma(divFile).remove();\n\t\tthis._dicFileXhr.delete(this._files[index]);\n\n\t\tthis._files.splice(index, 1);\n\t\tif (this._files.length == 0)\n\t\t\tthis.clear();\n\t}\n\n\tprivate manageLoadingFiles(files: File[])\n\t{\n\t\tif (!this.enabled())\n\t\t\treturn;\n\n\t\tlet options = this.getOptions();\n\t\tthis.initializeProgress(files.length);\n\n\t\t//#region On start\n\t\tif (options!.onStart != null)\n\t\t{\n\t\t\tlet startEvent = new UploadStartEvent();\n\t\t\tstartEvent.sender = this;\n\t\t\tstartEvent.files = files;\n\t\t\toptions!.onStart(startEvent);\n\n\t\t\tif (startEvent.isDefaultPrevented())\n\t\t\t\treturn;\n\t\t}\n\t\t//#endregion\n\n\t\tif (options.fileList)\n\t\t{\n\t\t\tpuma(this.divFileList()).show();\n\n\t\t\tif (options.multiple == false)\n\t\t\t\tpuma(this.element()).hide();\n\t\t}\n\n\t\tlet filesAdded = [];\n\t\tfor (let i = 0; i < files.length; i++)\n\t\t{\n\t\t\tlet file = files[i];\n\n\t\t\t//#region Validation\n\t\t\tif (options.validation != null)\n\t\t\t{\n\t\t\t\tif (options.validation.showFileIfError == null) options.validation.showFileIfError = true;\n\t\t\t\tif (options.validation.checkMimeType == null) options.validation.checkMimeType = false;\n\n\t\t\t\tif (options.validation.minSize != null)\n\t\t\t\t{\n\t\t\t\t\tif (file.size < options.validation.minSize)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet errorMessage = (options.validation.minSizeErrorMessage == null) ? \"Dimensione minima consentita: \" + this.formatBytes(options.validation.minSize) : options.validation.minSizeErrorMessage;\n\t\t\t\t\t\tnotify(errorMessage, { type: NotifierTypeEnum.Error });\n\n\t\t\t\t\t\tif (options.validation.showFileIfError)\n\t\t\t\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.ErrorValidationMinSize);\n\n\t\t\t\t\t\tif (!options.fileList)\n\t\t\t\t\t\t\tthis.manageValidationError(UploadValidationErrorTypeEnum.MinSize, file);\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (options.validation.maxSize != null)\n\t\t\t\t{\n\t\t\t\t\tif (file.size > options.validation.maxSize)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet errorMessage = (options.validation.maxSizeErrorMessage == null) ? \"Dimensione massima consentita: \" + this.formatBytes(options.validation.maxSize) : options.validation.maxSizeErrorMessage;\n\t\t\t\t\t\tnotify(errorMessage, { type: NotifierTypeEnum.Error });\n\n\t\t\t\t\t\tif (options.validation.showFileIfError)\n\t\t\t\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.ErrorValidationMaxSize);\n\n\t\t\t\t\t\tif (!options.fileList)\n\t\t\t\t\t\t\tthis.manageValidationError(UploadValidationErrorTypeEnum.MaxSize, file);\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (options.validation.extensions != null && options.validation.extensions[0] != \".\" && options.validation.extensions[0] != \"*\")\n\t\t\t\t{\n\t\t\t\t\tlet isValid = true;\n\n\t\t\t\t\tif (options.validation.checkMimeType)\n\t\t\t\t\t{\n\t\t\t\t\t\t//#region Mime Type\n\t\t\t\t\t\tlet mimeTypes: string[] = [];\n\t\t\t\t\t\tfor (let extension of options.validation.extensions)\n\t\t\t\t\t\t\tmimeTypes.vrPushRange(this.getMimeTypeFromExtension(extension.toLowerCase()));\n\n\t\t\t\t\t\tisValid = mimeTypes.includes(file.type.toLowerCase());\n\t\t\t\t\t\t//#endregion\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t//#region Extension\n\t\t\t\t\t\tlet extensionsArray = file.name.split(\".\");\n\t\t\t\t\t\tlet extension = extensionsArray[extensionsArray.length - 1].toLowerCase();\n\t\t\t\t\t\tisValid = options.validation.extensions.map(k => k.replace(\".\", \"\").toLowerCase()).includes(extension);\n\t\t\t\t\t\t//#endregion\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isValid)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet errorMessage = (options.validation.extensionsErrorMessage == null) ? \"Estensioni consentite: \" + options.validation.extensions.vrToCommaSeparatedList() : options.validation.extensionsErrorMessage;\n\t\t\t\t\t\tnotify(errorMessage, { type: NotifierTypeEnum.Error });\n\n\t\t\t\t\t\tif (options.validation.showFileIfError)\n\t\t\t\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.ErrorValidationExtensions);\n\n\t\t\t\t\t\tif (!options.fileList)\n\t\t\t\t\t\t\tthis.manageValidationError(UploadValidationErrorTypeEnum.Extensions, file);\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//#endregion\n\n\t\t\tfilesAdded.push(file);\n\n\t\t\tif (options.autoUpload)\n\t\t\t\tthis.uploadFile(file, i, true);\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis._files.push(file);\n\t\t\t\tthis.drawFile(file, UploadDrawTypeEnum.Default);\n\t\t\t\tpuma(this.progressBar()).hide();\n\t\t\t}\n\t\t}\n\n\t\tif (filesAdded.length == 0)\n\t\t\tpuma(this.progressBar()).hide();\n\t\telse\n\t\t{\n\t\t\t//#region On files added\n\t\t\tif (options!.onFilesAdded != null)\n\t\t\t{\n\t\t\t\tlet filesAddedEvent = new UploadFilesAdded();\n\t\t\t\tfilesAddedEvent.sender = this;\n\t\t\t\tfilesAddedEvent.files = files;\n\t\t\t\toptions!.onFilesAdded(filesAddedEvent);\n\n\t\t\t\tif (filesAddedEvent.isDefaultPrevented())\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\t//#endregion\n\t\t}\n\n\t\tfilesAdded = [];\n\t}\n\n\tprivate drawFile(file: File, drawTypeEnum: UploadDrawTypeEnum)\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (options.fileList)\n\t\t{\n\t\t\tlet divFile = div(this._divFileList, { class: \"vrUploadDivFile\" });\n\t\t\tlet size = this.formatBytes(file.size);\n\t\t\tlet fileInfo = this.getFileInfo(file.type);\n\n\t\t\ticon(fileInfo.icon, divFile, { css: \"color: \" + fileInfo.color + \";\", class: \"vrUploadFileIcon\" });\n\n\t\t\tlet underLabel = \"<span class='vrUploadLblUnderFileName' style='color: #a0a0a0;'>\" + size + \"</span>\";\n\n\t\t\t//#region Error message\n\t\t\tif (drawTypeEnum == UploadDrawTypeEnum.ErrorValidationExtensions || drawTypeEnum == UploadDrawTypeEnum.ErrorValidationMaxSize\n\t\t\t\t|| drawTypeEnum == UploadDrawTypeEnum.ErrorValidationMinSize)\n\t\t\t{\n\t\t\t\tlet validationErrorTypeEnum = UploadValidationErrorTypeEnum.MinSize;\n\t\t\t\tswitch (drawTypeEnum)\n\t\t\t\t{\n\t\t\t\t\tcase UploadDrawTypeEnum.ErrorValidationMinSize: validationErrorTypeEnum = UploadValidationErrorTypeEnum.MinSize; break;\n\t\t\t\t\tcase UploadDrawTypeEnum.ErrorValidationMaxSize: validationErrorTypeEnum = UploadValidationErrorTypeEnum.MaxSize; break;\n\t\t\t\t\tcase UploadDrawTypeEnum.ErrorValidationExtensions: validationErrorTypeEnum = UploadValidationErrorTypeEnum.Extensions; break;\n\t\t\t\t}\n\n\t\t\t\tlet errorMessage = this.manageValidationError(validationErrorTypeEnum, file);\n\t\t\t\tif (errorMessage != \"\")\n\t\t\t\t\tunderLabel = \"<span class='vrUploadLblUnderFileName' style='color: red;'>\" + errorMessage + \"</span>\";\n\t\t\t}\n\t\t\t//#endregion\n\n\t\t\tcreateLabel({\n\t\t\t\twidth: \"Calc(100% - 53px)\",\n\t\t\t\ttext: \"<span class='vrUploadFileName' style='font-size: 14px; font-weight: 600;'>\" + file.name + \"</span>\" + underLabel,\n\t\t\t\tnoBr: 4,\n\t\t\t\tclass: \"vrUploadFileDescription\"\n\t\t\t}, divFile);\n\n\t\t\t//#region Percentage/Spinner\n\t\t\tlet spanPercentageSpinner = span(divFile, { class: \"vrUploadDivFilePercentage\" });\n\t\t\tcreateLabel({\n\t\t\t\tvisible: drawTypeEnum == UploadDrawTypeEnum.TempLoading,\n\t\t\t\tclass: \"vrUploadFilePercentage\",\n\t\t\t\tfontSize: 11\n\t\t\t}, spanPercentageSpinner);\n\n\t\t\tlet iconSpinner = icon(IconClassicLight.Spinner, spanPercentageSpinner, { class: \"vrUploadFileSpinner\" });\n\t\t\tif (drawTypeEnum != UploadDrawTypeEnum.TempLoading)\n\t\t\t\tpuma(iconSpinner).hide();\n\t\t\t//#endregion\n\n\t\t\tcreateButton({\n\t\t\t\ticon: (drawTypeEnum == UploadDrawTypeEnum.TempLoading) ? IconClassicLight.Trash : IconClassicRegular.Xmark,\n\t\t\t\tcssContainer: \"width: 14px; margin-left: 5px;\",\n\t\t\t\tcss: \"border: none; background: none; font-size: 18px; color: red; width: 14px; padding: 0px;\",\n\t\t\t\tclass: \"vrUploadFileButtonAction\",\n\t\t\t\tvisible: options.canRemoveFile,\n\t\t\t\tonClick: (e) =>\n\t\t\t\t{\n\t\t\t\t\tif (e.sender.icon()!.classList.contains(\"fa-trash\"))\n\t\t\t\t\t{\n\t\t\t\t\t\t//#region On abort\n\t\t\t\t\t\tif (options!.onAbort != null)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet abortEvent = new UploadAbortEvent();\n\t\t\t\t\t\t\tabortEvent.sender = this;\n\t\t\t\t\t\t\tabortEvent.xhr = this._dicFileXhr.get(file)!;\n\t\t\t\t\t\t\tabortEvent.file = file;\n\t\t\t\t\t\t\toptions!.onAbort(abortEvent);\n\n\t\t\t\t\t\t\tif (abortEvent.isDefaultPrevented())\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//#endregion\n\n\t\t\t\t\t\tthis._dicFileXhr.get(file)!.abort();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (options.confirmToRemoveFile)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconfirm(\"Confermi di voler rimuovere il file?\").then(() =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpuma(divFile).remove();\n\t\t\t\t\t\t\t\tthis.removeFile(divFile, file);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpuma(divFile).remove();\n\t\t\t\t\t\t\tthis.removeFile(divFile, file);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, divFile);\n\t\t\treturn divFile;\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate manageValidationError(typeEnum: UploadValidationErrorTypeEnum, file: File)\n\t{\n\t\tlet options = this.getOptions();\n\n\t\tlet errorMessage = \"\";\n\t\tif (typeEnum == UploadValidationErrorTypeEnum.MinSize)\n\t\t\terrorMessage = (options.validation!.minSizeErrorMessage == null) ? \"Dimensione minima consentita: \" + this.formatBytes(options.validation!.minSize!) : options.validation!.minSizeErrorMessage;\n\t\tif (typeEnum == UploadValidationErrorTypeEnum.MaxSize)\n\t\t\terrorMessage = (options.validation!.maxSizeErrorMessage == null) ? \"Dimensione massima consentita: \" + this.formatBytes(options.validation!.maxSize!) : options.validation!.maxSizeErrorMessage;\n\t\tif (typeEnum == UploadValidationErrorTypeEnum.Extensions)\n\t\t\terrorMessage = (options.validation!.extensionsErrorMessage == null) ? \"Estensioni consentite: \" + options.validation!.extensions : options.validation!.extensionsErrorMessage;\n\n\t\tif (errorMessage != \"\")\n\t\t{\n\t\t\tif (options.onValidationError != null)\n\t\t\t{\n\t\t\t\tlet errorEvent = new UploadValidationErrorEvent();\n\t\t\t\terrorEvent.sender = this;\n\t\t\t\terrorEvent.file = file;\n\t\t\t\terrorEvent.message = errorMessage;\n\t\t\t\terrorEvent.type = typeEnum;\n\t\t\t\toptions.onValidationError(errorEvent);\n\t\t\t}\n\t\t}\n\t\treturn errorMessage;\n\t}\n\n\tprivate removeFile(divFile: HTMLElement, file: File)\n\t{\n\t\tlet options = this.getOptions();\n\n\t\t//#region Remove event\n\t\tif (options!.onRemove != null)\n\t\t{\n\t\t\tlet removeEvent = new UploadRemoveEvent();\n\t\t\tremoveEvent.sender = this;\n\t\t\tremoveEvent.element = divFile;\n\t\t\tremoveEvent.file = file;\n\t\t\tremoveEvent.index = this.getFiles().indexOf(file);\n\t\t\toptions!.onRemove(removeEvent);\n\n\t\t\tif (removeEvent.isDefaultPrevented())\n\t\t\t\treturn;\n\t\t}\n\t\t//#endregion\n\n\t\tthis._files.vrDelete(file);\n\t\tthis._dicFileXhr.delete(file);\n\n\t\tif (this._files.length == 0)\n\t\t\tthis.clear();\n\t}\n\n\tprivate uploadFile(file: File, i: number, drawFile = true)\n\t{\n\t\tlet options = this.getOptions();\n\n\t\tvar url = options.webApiSettings!.url!;\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open(\"POST\", url, options.async!);\n\n\t\t//#region Header parameters\n\t\tif (options.webApiSettings!.parameters != null)\n\t\t{\n\t\t\tlet parameters = [];\n\t\t\tif (Array.isArray(options.webApiSettings!.parameters))\n\t\t\t\tparameters = options.webApiSettings!.parameters;\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet parametersEvent = new UploadParametersEvent();\n\t\t\t\tparametersEvent.sender = this;\n\t\t\t\tparametersEvent.file = file;\n\t\t\t\tparameters = options.webApiSettings!.parameters(parametersEvent);\n\t\t\t}\n\n\t\t\tfor (let headerParameter of parameters)\n\t\t\t\txhr.setRequestHeader(headerParameter.key, headerParameter.value);\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Draw file\n\t\tlet divFile: HTMLElement | null = null;\n\t\tif (drawFile)\n\t\t{\n\t\t\tthis._files.push(file);\n\t\t\tthis._dicFileXhr.set(file, xhr);\n\t\t\tdivFile = this.drawFile(file, UploadDrawTypeEnum.TempLoading);\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Progress bar\n\t\txhr.upload.addEventListener(\"progress\", (e) =>\n\t\t{\n\t\t\t//#region On progress\n\t\t\tif (options!.onProgress != null)\n\t\t\t{\n\t\t\t\tlet progressEvent = new UploadProgressEvent();\n\t\t\t\tprogressEvent.sender = this;\n\t\t\t\tprogressEvent.loaded = e.loaded;\n\t\t\t\tprogressEvent.total = e.total;\n\t\t\t\tprogressEvent.event = e;\n\t\t\t\toptions!.onProgress(progressEvent);\n\n\t\t\t\tif (progressEvent.isDefaultPrevented())\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\t//#endregion\n\n\t\t\tif (options!.progressBar)\n\t\t\t\tthis.updateProgress(i, (e.loaded * 100.0 / e.total) || 100);\n\n\t\t\tlet percentage = Math.round(((e.loaded * 100.0 / e.total) || 99));\n\t\t\tif (percentage == 100)\n\t\t\t\tpercentage = 99;\n\n\t\t\tpuma(divFile).find(\".vrUploadFilePercentage\").html(percentage + \"%\");\n\t\t});\n\t\t//#endregion\n\n\t\txhr.addEventListener(\"readystatechange\", (e) =>\n\t\t{\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200)\n\t\t\t{\n\t\t\t\t//#region Success\n\t\t\t\tif (options.onSuccess != null)\n\t\t\t\t{\n\t\t\t\t\tlet successEvent = new UploadSuccessEvent();\n\t\t\t\t\tsuccessEvent.sender = this;\n\t\t\t\t\tsuccessEvent.status = xhr.status;\n\t\t\t\t\tsuccessEvent.statusText = xhr.statusText;\n\t\t\t\t\tsuccessEvent.response = JSON.parse(xhr.response);\n\t\t\t\t\tsuccessEvent.xhr = xhr;\n\t\t\t\t\tsuccessEvent.event = e;\n\t\t\t\t\tsuccessEvent.file = file;\n\t\t\t\t\toptions.onSuccess(successEvent);\n\n\t\t\t\t\tif (successEvent.isDefaultPrevented())\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//#endregion\t\n\n\t\t\t\tpuma(this.progressBar()).hide();\n\n\t\t\t\t//#region Update div file\n\t\t\t\tif (divFile != null)\n\t\t\t\t{\n\t\t\t\t\tlet fileButtonActionIcon = puma(divFile).find(\".vrUploadFileButtonAction\").find(\".vrIcon\")[0];\n\t\t\t\t\tlet classList: string[] = fileButtonActionIcon.className.split(/\\s+/);\n\t\t\t\t\tlet iconClassList = classList.filter(k => k.startsWith(\"fa-\"));\n\t\t\t\t\tfor (let iconClass of iconClassList)\n\t\t\t\t\t\tfileButtonActionIcon.classList.remove(iconClass);\n\n\t\t\t\t\tpuma(fileButtonActionIcon).addClass(IconClassicRegular.Xmark);\n\n\t\t\t\t\tpuma(divFile).find(\".vrUploadDivFilePercentage\").remove();\n\t\t\t\t\tpuma(divFile).find(\".vrUploadFileName\").vrAppendPuma(\"<i class='\" + IconClassicLight.Check + \"' style='color: green; margin-left: 5px;' title='File caricato correttamente'></i>\");\n\t\t\t\t}\n\t\t\t\t//#endregion\n\t\t\t}\n\t\t\telse if (xhr.readyState == 4 && xhr.status != 200)\n\t\t\t{\n\t\t\t\t//#region Error\n\t\t\t\tif (options.onError != null)\n\t\t\t\t{\n\t\t\t\t\tlet errorEvent = new UploadErrorEvent();\n\t\t\t\t\terrorEvent.sender = this;\n\t\t\t\t\terrorEvent.status = xhr.status;\n\t\t\t\t\terrorEvent.statusText = xhr.statusText;\n\t\t\t\t\terrorEvent.response = (xhr.status != 0) ? JSON.parse(xhr.response) : {};\n\t\t\t\t\terrorEvent.xhr = xhr;\n\t\t\t\t\terrorEvent.event = e;\n\t\t\t\t\terrorEvent.file = file;\n\t\t\t\t\toptions.onError(errorEvent);\n\n\t\t\t\t\tif (errorEvent.isDefaultPrevented())\n\t\t\t\t\t{\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//#endregion\n\n\t\t\t\tpuma(this.progressBar()).hide();\n\n\t\t\t\t//#region Update div file\n\t\t\t\tif (divFile != null)\n\t\t\t\t{\n\t\t\t\t\tlet fileButtonActionIcon = puma(divFile).find(\".vrUploadFileButtonAction\").find(\".vrIcon\")[0];\n\t\t\t\t\tlet classList: string[] = fileButtonActionIcon.className.split(/\\s+/);\n\t\t\t\t\tlet iconClassList = classList.filter(k => k.startsWith(\"fa-\"));\n\t\t\t\t\tfor (let iconClass of iconClassList)\n\t\t\t\t\t\tfileButtonActionIcon.classList.remove(iconClass);\n\n\t\t\t\t\tpuma(fileButtonActionIcon).addClass(IconClassicRegular.Xmark);\n\n\t\t\t\t\tlet uploadFileIcon = puma(divFile).find(\"i.vrUploadFileIcon\");\n\t\t\t\t\tuploadFileIcon.removeClass();\n\t\t\t\t\tuploadFileIcon.addClass(IconClassicLight.TriangleExclamation + \" vrUploadFileIcon\");\n\t\t\t\t\tuploadFileIcon[0].style.cssText += \"color: red; margin-left: -3px;\";\n\n\t\t\t\t\tpuma(divFile).find(\".vrUploadDivFilePercentage\").remove();\n\t\t\t\t\tpuma(divFile).find(\".vrUploadFileDescription\").html(\"<span class='vrUploadFileName' style='font-weight: 600; font-size: 14px;'>\" + file.name + \"</span><span class='vrUploadLblUnderFileName' style='color: red;'>File non caricato correttamente, o procedura interrotta</span>\");\n\t\t\t\t}\n\t\t\t\t//#endregion\n\t\t\t}\n\t\t})\n\n\t\tvar formData = new FormData();\n\t\tformData.append(\"file\", file);\n\t\txhr.send(formData);\n\t}\n\t//#endregion\n\n\t//#region Progress bar\n\tprivate initializeProgress(numFiles: number)\n\t{\n\t\tlet options = this.getOptions();\n\t\tif (options.progressBar)\n\t\t\tpuma(this.progressBar()).show();\n\n\t\tpuma(this.progressBar())[0].value = 0;\n\t\tthis._uploadProgress = [];\n\n\t\tfor (let i = numFiles; i > 0; i--)\n\t\t\tthis._uploadProgress.push(0);\n\t}\n\n\tprivate updateProgress(fileNumber: number, percentage: number)\n\t{\n\t\tthis._uploadProgress[fileNumber] = percentage;\n\t\tlet total = this._uploadProgress.reduce((tot, curr) => tot + curr, 0) / this._uploadProgress.length;\n\t\tpuma(this.progressBar())[0].value = total;\n\t}\n\t//#endregion\n\n\t//#region Utility\n\tdropArea()\n\t{\n\t\treturn this._divDropAreaList;\n\t}\n\n\tdivFileList()\n\t{\n\t\treturn this._divFileList;\n\t}\n\n\tprogressBar()\n\t{\n\t\treturn this._divProgressBar;\n\t}\n\n\tuploadButton()\n\t{\n\t\treturn this._inputFile;\n\t}\n\n\tprivate formatBytes(bytes: number)\n\t{\n\t\tconst thresh = 1024;\n\t\tif (Math.abs(bytes) < thresh)\n\t\t\treturn bytes + \" B\";\n\n\t\tconst units = [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\t\tlet u = -1;\n\t\tconst r = 10 ** 2;\n\n\t\tdo\n\t\t{\n\t\t\tbytes /= thresh;\n\t\t\t++u;\n\t\t}\n\t\twhile (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n\t\treturn bytes.toFixed(2) + ' ' + units[u];\n\t}\n\n\tprivate getFileInfo(mimeType: string)\n\t{\n\t\t//#region Icon\n\t\tlet icon = IconClassicLight.File;\n\t\tlet color = \"#51B3E1\";\n\n\t\tswitch (mimeType)\n\t\t{\n\t\t\tcase \"application/pdf\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FilePdf;\n\t\t\t\t\tcolor = \"coral\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"image/png\":\n\t\t\tcase \"image/jpeg\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FileImage;\n\t\t\t\t\tcolor = \"#adbd29\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"application/msword\":\n\t\t\tcase \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FileWord;\n\t\t\t\t\tcolor = \"#01A6F0\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"application/vnd.ms-excel\":\n\t\t\tcase \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FileExcel;\n\t\t\t\t\tcolor = \"#1D6F42\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"text/plain\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FileLines;\n\t\t\t\t\tcolor = \"#bdbdbd\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"application/zip\":\n\t\t\tcase \"application/x-zip-compressed\":\n\t\t\tcase \"application/x-compressed\":\n\t\t\tcase \"multipart/x-zip\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FileZipper;\n\t\t\t\t\tcolor = \"#b1b4d3\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"video/mp4\":\n\t\t\tcase \"video/3gpp\":\n\t\t\tcase \"video/x-flv\":\n\t\t\tcase \"video/quicktime\":\n\t\t\tcase \"video/x-msvideo\":\n\t\t\tcase \"video/x-ms-wmv\":\n\t\t\t\t{\n\t\t\t\t\ticon = IconClassicLight.FileVideo;\n\t\t\t\t\tcolor = \"purple\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\treturn { icon: <IconClassicLight>icon, color: color };\n\t}\n\n\tprivate getMimeTypeFromExtension(extension: string)\n\t{\n\t\tlet mimeType: string[] = [];\n\t\tlet extensionsArray = extension.split(\".\")\n\t\textension = extensionsArray[extensionsArray.length - 1]\n\n\t\tswitch (extension)\n\t\t{\n\t\t\tcase \"html\":\n\t\t\tcase \"htm\":\n\t\t\tcase \"shtml\":\n\t\t\t\tmimeType = [\"\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"css\": mimeType = [\"text/css\"]; break;\n\t\t\tcase \"xml\": mimeType = [\"text/xml\"]; break;\n\t\t\tcase \"gif\": mimeType = [\"image/gif\"]; break;\n\n\t\t\tcase \"jpeg\":\n\t\t\tcase \"jpg\":\n\t\t\t\tmimeType = [\"image/jpeg\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"js\": mimeType = [\"application/x-javascript\"]; break;\n\t\t\tcase \"txt\": mimeType = [\"text/plain\"]; break;\n\t\t\tcase \"png\": mimeType = [\"image/png\"]; break;\n\n\t\t\tcase \"tif\":\n\t\t\tcase \"tiff\":\n\t\t\t\tmimeType = [\"image/tiff\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"ico\": mimeType = [\"image/x-icon\"]; break;\n\t\t\tcase \"bmp\": mimeType = [\"image/x-ms-bmp\"]; break;\n\t\t\tcase \"svg\": mimeType = [\"image/svg+xml\"]; break;\n\n\t\t\tcase \"doc\":\n\t\t\tcase \"dot\":\n\t\t\t\tmimeType = [\"application/msword\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"docx\": mimeType = [\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"]; break;\n\t\t\tcase \"dotx\": mimeType = [\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\"]; break;\n\t\t\tcase \"docm\": mimeType = [\"application/vnd.ms-word.document.macroEnabled.12\"]; break;\n\t\t\tcase \"dotm\": mimeType = [\"application/vnd.ms-word.template.macroEnabled.12\"]; break;\n\n\t\t\tcase \"pdf\": mimeType = [\"application/pdf\"]; break;\n\t\t\tcase \"rtf\": mimeType = [\"application/rtf\"]; break;\n\n\t\t\tcase \"csv\": mimeType = [\"application/vnd.ms-excel\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", \"text/csv\"]; break;\n\n\t\t\tcase \"mdb\": mimeType = [\"application/vnd.ms-access\"]; break;\n\n\t\t\tcase \"xls\":\n\t\t\tcase \"xlt\":\n\t\t\tcase \"xla\":\n\t\t\t\tmimeType = [\"application/vnd.ms-excel\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"xlsx\": mimeType = [\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"]; break;\n\t\t\tcase \"xltx\": mimeType = [\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\"]; break;\n\t\t\tcase \"xlsm\": mimeType = [\"application/vnd.ms-excel.sheet.macroEnabled.12\"]; break;\n\t\t\tcase \"xltm\": mimeType = [\"application/vnd.ms-excel.template.macroEnabled.12\"]; break;\n\t\t\tcase \"xlam\": mimeType = [\"application/vnd.ms-excel.addin.macroEnabled.12\"]; break;\n\t\t\tcase \"xlsb\": mimeType = [\"application/vnd.ms-excel.sheet.binary.macroEnabled.12\"]; break;\n\n\t\t\tcase \"ppt\":\n\t\t\tcase \"pot\":\n\t\t\tcase \"pps\":\n\t\t\tcase \"ppa\":\n\t\t\t\tmimeType = [\"application/vnd.ms-powerpoint\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"pptx\": mimeType = [\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"]; break;\n\t\t\tcase \"potx\": mimeType = [\"application/vnd.openxmlformats-officedocument.presentationml.template\"]; break;\n\t\t\tcase \"ppsx\": mimeType = [\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\"]; break;\n\t\t\tcase \"ppam\": mimeType = [\"application/vnd.ms-powerpoint.addin.macroEnabled.12\"]; break;\n\t\t\tcase \"pptm\": mimeType = [\"application/vnd.ms-powerpoint.presentation.macroEnabled.12\"]; break;\n\t\t\tcase \"potm\": mimeType = [\"application/vnd.ms-powerpoint.template.macroEnabled.12\"]; break;\n\t\t\tcase \"ppsm\": mimeType = [\"application/vnd.ms-powerpoint.slideshow.macroEnabled.12\"]; break;\n\n\t\t\tcase \"p7m\": mimeType = [\"application/pkcs7-mime\", \"application/x-pkcs7-mime\"]; break;\n\t\t\tcase \"p12\": mimeType = [\"application/pkcs-12\", \"application/x-pkcs12\"]; break;\n\n\t\t\tcase \"7z\": mimeType = [\"application/x-7z-compressed\"]; break;\n\t\t\tcase \"rar\": mimeType = [\"application/x-rar-compressed\"]; break;\n\t\t\tcase \"zip\": mimeType = [\"application/x-zip-compressed\"]; break;\n\n\t\t\tcase \"bin\":\n\t\t\tcase \"exe\":\n\t\t\tcase \"dll\":\n\t\t\tcase \"deb\":\n\t\t\tcase \"dmg\":\n\t\t\tcase \"eot\":\n\t\t\tcase \"iso\":\n\t\t\tcase \"img\":\n\t\t\tcase \"msi\":\n\t\t\tcase \"msp\":\n\t\t\tcase \"msm\":\n\t\t\t\tmimeType = [\"application/octet-stream\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"mp3\": mimeType = [\"audio/mpeg\"]; break;\n\n\t\t\tcase \"3ggp\":\n\t\t\tcase \"3gp\":\n\t\t\t\tmimeType = [\"video/3gpp\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"mpeg\":\n\t\t\tcase \"mpg\":\n\t\t\t\tmimeType = [\"video/mpeg\"];\n\t\t\t\tbreak;\n\n\t\t\tcase \"mov\": mimeType = [\"video/quicktime\"]; break;\n\t\t\tcase \"flv\": mimeType = [\"video/x-flv\"]; break;\n\t\t\tcase \"wmv\": mimeType = [\"video/x-ms-wmv\"]; break;\n\t\t\tcase \"avi\": mimeType = [\"video/x-msvideo\"]; break;\n\n\t\t\tcase \"m4v\":\n\t\t\tcase \"m4p\":\n\t\t\t\tmimeType = [\"video/mp4\"];\n\t\t\t\tbreak;\n\t\t}\n\t\treturn mimeType;\n\t}\n\n\tclear()\n\t{\n\t\tthis._files = [];\n\t\tpuma(this.divFileList()).hide();\n\t\tpuma(this.divFileList()).empty();\n\t\tthis.uploadButton().value = \"\";\n\t\tpuma(this.progressBar()).hide();\n\t\tthis.progressBar().value = 0;\n\n\t\tpuma(this.element()).show();\n\t}\n\n\topen()\n\t{\n\t\tpuma(this.uploadButton()).click();\n\t}\n\t//#endregion\n\n\t//#region Overrides\n\tenable()\n\t{\n\t\tsuper.enable();\n\t\twindow.setTimeout(() => this.uploadButton().removeAttribute(\"disabled\"));\n\t}\n\n\tdisable()\n\t{\n\t\tsuper.disable();\n\t\twindow.setTimeout(() => this.uploadButton().setAttribute(\"disabled\", \"disabled\"));\n\t}\n\t//#endregion\n\n\tgetOptions()\n\t{\n\t\treturn this.options<UploadOptions>();\n\t}\n\t//#endregion\n}\n//#endregion\n\n//#region Classes\nclass UploadWebApiSettings\n{\n\turl?: string;\n\tparameters?: UploadWebApiParameter[] | ((e: UploadParametersEvent) => UploadWebApiParameter[]);\n}\n\nclass UploadDropAreaSettings\n{\n\taddDefault?: boolean;\n\tlist?: HTMLElement[] | string[];\n\ttext?: string | boolean;\n}\n\nclass UploadWebApiParameter\n{\n\tkey: string;\n\tvalue: any;\n}\n\nclass UploadEvent extends VrControlsEvent\n{\n\tsender: Upload;\n}\n\nclass UploadParametersEvent extends UploadEvent\n{\n\tfile: File;\n}\n\nclass UploadDragEvent extends UploadEvent\n{\n\telement: HTMLElement;\n\tevent: any;\n}\n\nclass UploadDragEnterEvent extends UploadDragEvent\n{ }\n\nclass UploadDragOverEvent extends UploadDragEvent\n{ }\n\nclass UploadDragLeaveEvent extends UploadDragEvent\n{ }\n\nclass UploadDropEvent extends UploadEvent\n{\n\tfiles: File[];\n\tevent: any;\n}\n\nclass UploadProgressEvent extends UploadEvent\n{\n\tloaded: number;\n\ttotal: number;\n\tevent: any;\n}\n\nclass UploadLoadEvent extends UploadEvent\n{\n\tevent: Event;\n\tstatus: number;\n\tstatusText: string;\n\txhr: XMLHttpRequest;\n\tresponse: any;\n\tfile: File;\n}\n\nclass UploadErrorEvent extends UploadLoadEvent\n{ }\n\nclass UploadSuccessEvent extends UploadLoadEvent\n{\n}\n\nclass UploadValidationErrorEvent extends UploadEvent\n{\n\tfile: File;\n\tmessage: string;\n\ttype: UploadValidationErrorTypeEnum;\n}\n\nclass UploadAbortEvent extends UploadEvent\n{\n\tfile: File;\n\txhr: XMLHttpRequest;\n}\n\nclass UploadStartEvent extends UploadEvent\n{\n\tfiles: File[];\n}\n\nclass UploadValidation\n{\n\tminSize?: number;\n\tminSizeErrorMessage?: string;\n\tmaxSize?: number;\n\tmaxSizeErrorMessage?: string;\n\textensions?: string[];\n\textensionsErrorMessage?: string;\n\tcheckMimeType?: boolean;\n\tshowFileIfError?: boolean;\n}\n\nenum UploadDrawTypeEnum\n{\n\tDefault,\n\tTempLoading,\n\tErrorValidationMinSize,\n\tErrorValidationMaxSize,\n\tErrorValidationExtensions\n}\n\nclass UploadRemoveEvent extends UploadEvent\n{\n\tfile: File;\n\telement: HTMLElement;\n\tindex: number;\n}\n\nclass UploadClickEvent extends UploadEvent\n{\n\n}\nclass UploadFilesAdded extends UploadEvent\n{\n\tfiles: File[];\n}\n//#endregion"],"names":["icon"],"mappings":";;AAIO,MAAM,sBAAsB,iBACnC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD;AAIO,MAAM,eAAe,UAC5B;AAAA,EACS;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAER,YAAY,SAAsB,SAClC;AAEC,QAAI,WAAW;AACd,gBAAU,IAAI,cAAA;AAEf,QAAI,QAAQ,SAAS,KAAM,SAAQ,QAAQ;AAC3C,QAAI,QAAQ,kBAAkB,KAAM,SAAQ,iBAAiB,IAAI,qBAAA;AACjE,QAAI,QAAQ,YAAY,KAAM,SAAQ,WAAW;AACjD,QAAI,QAAQ,YAAY,KAAM,SAAQ,WAAW;AACjD,QAAI,QAAQ,qBAAqB,KAAM,SAAQ,oBAAoB;AACnE,QAAI,QAAQ,SAAS,KAAM,SAAQ,QAAQ;AAE3C,QAAI,QAAQ,YAAY,KAAM,SAAQ,WAAW;AACjD,QAAI,QAAQ,aAAa,QAAQ,QAAQ,eAAe,cAAc,cAAc;AAEpF,QAAI,QAAQ,eAAe,KAAM,SAAQ,cAAc;AACvD,QAAI,QAAQ,gBAAgB,KAAM,SAAQ,eAAe;AACzD,QAAI,QAAQ,iBAAiB,KAAM,SAAQ,eAAe;AAC1D,QAAI,QAAQ,cAAc,KAAM,SAAQ,aAAa;AACrD,QAAI,QAAQ,uBAAuB,KAAM,SAAQ,sBAAsB;AACvE,QAAI,QAAQ,iBAAiB,KAAM,SAAQ,gBAAgB;AAG3D,UAAM,SAAS,SAAS,gBAAgB,MAAM;AAC9C,QAAI,kBAAsC;AAC1C,SAAK,SAAS,CAAA;AACd,SAAK,kCAAkB,IAAA;AAGvB,SAAK,mBAAmB,CAAA;AACxB,QAAI,QAAQ,aAAa,OACzB;AAEC,UAAI,OAAQ,QAAQ,YAAa,aAAa,QAAQ,UACtD;AACC,aAAK,mBAAmB,CAAC,IAAI,KAAK,QAAA,GAAW,EAAE,OAAO,mBAAA,CAAoB,CAAC;AAC3E,0BAAkB,KAAK,iBAAiB,CAAC;AAAA,MAC1C,OAEA;AACC,YAAI,QAAQ,SAAS,cAAc,KAAM,SAAQ,SAAS,aAAa;AACvE,YAAI,QAAQ,SAAS,QAAQ,KAAM,SAAQ,SAAS,OAAO,CAAA;AAC3D,YAAI,QAAQ,SAAS,QAAQ,KAAM,SAAQ,SAAS,OAAO;AAE3D,YAAI,QAAQ,SAAS,eAAe,MACpC;AACC,eAAK,mBAAmB,CAAC,IAAI,KAAK,QAAA,GAAW,EAAE,OAAO,mBAAA,CAAoB,CAAC;AAC3E,4BAAkB,KAAK,iBAAiB,CAAC;AAAA,QAC1C;AAEC,4BAAkB,KAAK,QAAA;AAExB,YAAI,QAAQ,SAAS,QAAQ,MAC7B;AACC,mBAAS,YAAY,QAAQ,SAAS,MACtC;AACC,gBAAI,OAAQ,YAAa,UACzB;AACC,kBAAI,CAAC,SAAS,WAAW,GAAG;AAC3B,2BAAW,MAAM;AAElB,mBAAK,iBAAiB,KAAK,KAAK,QAAQ,EAAE,CAAC,CAAC;AAAA,YAC7C;AAEC,mBAAK,iBAAiB,KAAK,QAAQ;AAAA,UACrC;AAAA,QACD;AAAA,MACD;AAIA,OAAC,aAAa,YAAY,aAAa,MAAM,EAAE,QAAQ,CAAA,cACvD;AACC,iBAAS,eAAe,KAAK,kBAC7B;AACC,sBAAY,iBAAiB,WAAW,CAAC,MACzC;AACC,cAAE,eAAA;AACF,cAAE,gBAAA;AAAA,UACH,GAAG,KAAK;AAAA,QACT;AAAA,MACD,CAAC;AAED,eAAS,eAAe,KAAK,kBAC7B;AACC,aAAK,WAAW,EAAE,GAAG,aAAa,CAAC,MACnC;AAEC,cAAI,QAAS,eAAe,MAC5B;AACC,gBAAI,iBAAiB,IAAI,qBAAA;AACzB,2BAAe,SAAS;AACxB,2BAAe,UAAU,EAAE;AAC3B,2BAAe,QAAQ;AACvB,oBAAS,YAAY,cAAc;AAEnC,gBAAI,eAAe,sBACnB;AACC,gBAAE,eAAA;AACF;AAAA,YACD;AAAA,UACD;AAGA,eAAK,EAAE,aAAa,EAAE,SAAS,WAAW;AAAA,QAC3C,CAAC;AAED,aAAK,WAAW,EAAE,GAAG,YAAY,CAAC,MAClC;AAEC,cAAI,QAAS,cAAc,MAC3B;AACC,gBAAI,gBAAgB,IAAI,oBAAA;AACxB,0BAAc,SAAS;AACvB,0BAAc,UAAU,EAAE;AAC1B,0BAAc,QAAQ;AACtB,oBAAS,WAAW,aAAa;AAEjC,gBAAI,cAAc,sBAClB;AACC,gBAAE,eAAA;AACF;AAAA,YACD;AAAA,UACD;AAGA,eAAK,EAAE,aAAa,EAAE,SAAS,WAAW;AAAA,QAC3C,CAAC;AAED,aAAK,WAAW,EAAE,GAAG,aAAa,CAAC,MACnC;AAEC,cAAI,QAAS,eAAe,MAC5B;AACC,gBAAI,iBAAiB,IAAI,qBAAA;AACzB,2BAAe,SAAS;AACxB,2BAAe,UAAU,EAAE;AAC3B,2BAAe,QAAQ;AACvB,oBAAS,YAAY,cAAc;AAEnC,gBAAI,eAAe,sBACnB;AACC,gBAAE,eAAA;AACF;AAAA,YACD;AAAA,UACD;AAGA,eAAK,EAAE,aAAa,EAAE,YAAY,WAAW;AAAA,QAC9C,CAAC;AAED,aAAK,WAAW,EAAE,GAAG,QAAQ,CAAC,MAC9B;AACC,cAAI,eAAe,EAAE,cAAe;AACpC,cAAI,QAAgB,CAAC,GAAG,aAAa,KAAY;AAGjD,cAAI,QAAS,UAAU,MACvB;AACC,gBAAI,YAAY,IAAI,gBAAA;AACpB,sBAAU,SAAS;AACnB,sBAAU,QAAQ;AAClB,sBAAU,QAAQ;AAClB,oBAAS,OAAO,SAAS;AAEzB,gBAAI,UAAU,sBACd;AACC,gBAAE,eAAA;AACF;AAAA,YACD;AAAA,UACD;AAGA,eAAK,EAAE,aAAa,EAAE,YAAY,WAAW;AAC7C,eAAK,mBAAmB,KAAK;AAAA,QAC9B,CAAC;AAED,aAAK,WAAW,EAAE,GAAG,SAAS,CAAC,MAC/B;AACC,eAAK,SAAS,EAAE,cAAc,cAAc,KAAK;AAAA,QAClD,CAAC;AAAA,MACF;AAAA,IAED;AAEC,wBAAkB,KAAK,QAAA;AAIxB,QAAI,WAAW;AACf,QAAI,QAAQ;AACX,iBAAW;AAEZ,QAAI,aAAa,KAAK,iBAAiB,KAAK,QAAA,EAAU,KAAK,gDAAgD,iBAAiB,eAAe,2BAA2B,QAAQ,eAAe,UAAU,EAAE,eAAe,eAAe;AACvO,SAAK,aAAa,KAAK,YAAY,WAAW,UAAU,KAAK,QAAA,EAAU,KAAK,iDAAiD,EAAE,eAAe,eAAe,EAAE,CAAC;AAChK,QAAI,CAAC,QAAQ;AACZ,WAAK,UAAU,EAAE,KAAA;AAElB,QAAI,QAAQ,aAAa,QAAS,QAAQ,aAAa,SAAS,QAAQ,SAAS,YACjF;AACC,UAAI,eAAe;AACnB,UAAI,QAAQ,aAAa,KAAM,gBAAe;AAAA,WAE9C;AACC,YAAI,QAAQ,SAAS,SAAS;AAC7B,yBAAe;AAAA,MACjB;AAEA,kBAAY;AAAA,QACX,MAAM,OAAO,YAAY;AAAA,QACzB,cAAc;AAAA,QACd,KAAK;AAAA,MAAA,GACH,KAAK,iBAAiB,CAAC,CAAC;AAAA,IAC5B,OAEA;AACC,WAAK,KAAK,UAAA,CAAW,EAAE,GAAG,SAAS,CAAC,MACpC;AACC,aAAK,SAAS,EAAE,cAAc,cAAc,KAAK;AAAA,MAClD,CAAC;AAAA,IACF;AAEA,SAAK,KAAK,UAAU,EAAE,GAAG,SAAS,CAAC,MACnC;AAEC,UAAI,QAAS,WAAW,MACxB;AACC,YAAI,aAAa,IAAI,iBAAA;AACrB,mBAAW,SAAS;AACpB,gBAAS,QAAQ,UAAU;AAE3B,YAAI,WAAW,sBACf;AACC,YAAE,eAAA;AACF;AAAA,QACD;AAAA,MACD;AAAA,IAED,CAAC;AAED,SAAK,KAAK,UAAU,EAAE,GAAG,UAAU,CAAC,MACpC;AACC,UAAI,QAAgB,CAAC,GAAG,EAAE,cAAc,KAAY;AACpD,WAAK,mBAAmB,KAAK;AAAA,IAC9B,CAAC;AAID,SAAK,kBAAkB,KAAK,mEAAmE,EAAE,eAAe,KAAK,SAAS,EAAE,CAAC;AACjI,SAAK,KAAK,eAAe,EAAE,KAAA;AAI3B,SAAK,eAAe,IAAI,KAAK,UAAA,GAAa,EAAE,OAAO,uBAAuB,KAAK,gCAAgC,QAAQ,oBAAoB,OAAO;AAAA,EAEnJ;AAAA;AAAA;AAAA,EAKA,cACA;AACC,aAAS,IAAI,GAAG,IAAI,KAAK,OAAO,QAAQ,KACxC;AACC,UAAI,OAAO,KAAK,OAAO,CAAC;AACxB,WAAK,WAAW,MAAM,GAAG,KAAK;AAAA,IAC/B;AAAA,EACD;AAAA,EAEA,QAAQ,MACR;AACC,SAAK,SAAS,CAAC,IAAI,CAAC;AAAA,EACrB;AAAA,EAEA,SAAS,OACT;AACC,SAAK,mBAAmB,KAAK;AAAA,EAC9B;AAAA,EAEA,WACA;AACC,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,eAAe,OACf;AACC,WAAO,cAAc,KAAK;AAAA,EAC3B;AAAA,EAEA,kBAAkB,OAClB;AACC,QAAI,UAAU,KAAK,KAAK,YAAA,CAAa,EAAE,KAAK,iCAAiC,QAAQ,KAAK,GAAG,EAAE,CAAC;AAChG,SAAK,OAAO,EAAE,OAAA;AACd,SAAK,YAAY,OAAO,KAAK,OAAO,KAAK,CAAC;AAE1C,SAAK,OAAO,OAAO,OAAO,CAAC;AAC3B,QAAI,KAAK,OAAO,UAAU;AACzB,WAAK,MAAA;AAAA,EACP;AAAA,EAEQ,mBAAmB,OAC3B;AACC,QAAI,CAAC,KAAK,QAAA;AACT;AAED,QAAI,UAAU,KAAK,WAAA;AACnB,SAAK,mBAAmB,MAAM,MAAM;AAGpC,QAAI,QAAS,WAAW,MACxB;AACC,UAAI,aAAa,IAAI,iBAAA;AACrB,iBAAW,SAAS;AACpB,iBAAW,QAAQ;AACnB,cAAS,QAAQ,UAAU;AAE3B,UAAI,WAAW,mBAAA;AACd;AAAA,IACF;AAGA,QAAI,QAAQ,UACZ;AACC,WAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AAEzB,UAAI,QAAQ,YAAY;AACvB,aAAK,KAAK,QAAA,CAAS,EAAE,KAAA;AAAA,IACvB;AAEA,QAAI,aAAa,CAAA;AACjB,aAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAClC;AACC,UAAI,OAAO,MAAM,CAAC;AAGlB,UAAI,QAAQ,cAAc,MAC1B;AACC,YAAI,QAAQ,WAAW,mBAAmB,KAAM,SAAQ,WAAW,kBAAkB;AACrF,YAAI,QAAQ,WAAW,iBAAiB,KAAM,SAAQ,WAAW,gBAAgB;AAEjF,YAAI,QAAQ,WAAW,WAAW,MAClC;AACC,cAAI,KAAK,OAAO,QAAQ,WAAW,SACnC;AACC,gBAAI,eAAgB,QAAQ,WAAW,uBAAuB,OAAQ,mCAAmC,KAAK,YAAY,QAAQ,WAAW,OAAO,IAAI,QAAQ,WAAW;AAC3K,mBAAO,cAAc,EAAE,MAAM,iBAAiB,OAAO;AAErD,gBAAI,QAAQ,WAAW;AACtB,mBAAK;AAAA,gBAAS;AAAA,gBAAM;AAAA;AAAA,cAAA;AAErB,gBAAI,CAAC,QAAQ;AACZ,mBAAK,sBAAsB,8BAA8B,SAAS,IAAI;AAEvE;AAAA,UACD;AAAA,QACD;AAEA,YAAI,QAAQ,WAAW,WAAW,MAClC;AACC,cAAI,KAAK,OAAO,QAAQ,WAAW,SACnC;AACC,gBAAI,eAAgB,QAAQ,WAAW,uBAAuB,OAAQ,oCAAoC,KAAK,YAAY,QAAQ,WAAW,OAAO,IAAI,QAAQ,WAAW;AAC5K,mBAAO,cAAc,EAAE,MAAM,iBAAiB,OAAO;AAErD,gBAAI,QAAQ,WAAW;AACtB,mBAAK;AAAA,gBAAS;AAAA,gBAAM;AAAA;AAAA,cAAA;AAErB,gBAAI,CAAC,QAAQ;AACZ,mBAAK,sBAAsB,8BAA8B,SAAS,IAAI;AAEvE;AAAA,UACD;AAAA,QACD;AAEA,YAAI,QAAQ,WAAW,cAAc,QAAQ,QAAQ,WAAW,WAAW,CAAC,KAAK,OAAO,QAAQ,WAAW,WAAW,CAAC,KAAK,KAC5H;AACC,cAAI,UAAU;AAEd,cAAI,QAAQ,WAAW,eACvB;AAEC,gBAAI,YAAsB,CAAA;AAC1B,qBAAS,aAAa,QAAQ,WAAW;AACxC,wBAAU,YAAY,KAAK,yBAAyB,UAAU,YAAA,CAAa,CAAC;AAE7E,sBAAU,UAAU,SAAS,KAAK,KAAK,aAAa;AAAA,UAErD,OAEA;AAEC,gBAAI,kBAAkB,KAAK,KAAK,MAAM,GAAG;AACzC,gBAAI,YAAY,gBAAgB,gBAAgB,SAAS,CAAC,EAAE,YAAA;AAC5D,sBAAU,QAAQ,WAAW,WAAW,IAAI,OAAK,EAAE,QAAQ,KAAK,EAAE,EAAE,YAAA,CAAa,EAAE,SAAS,SAAS;AAAA,UAEtG;AAEA,cAAI,CAAC,SACL;AACC,gBAAI,eAAgB,QAAQ,WAAW,0BAA0B,OAAQ,4BAA4B,QAAQ,WAAW,WAAW,uBAAA,IAA2B,QAAQ,WAAW;AACjL,mBAAO,cAAc,EAAE,MAAM,iBAAiB,OAAO;AAErD,gBAAI,QAAQ,WAAW;AACtB,mBAAK;AAAA,gBAAS;AAAA,gBAAM;AAAA;AAAA,cAAA;AAErB,gBAAI,CAAC,QAAQ;AACZ,mBAAK,sBAAsB,8BAA8B,YAAY,IAAI;AAE1E;AAAA,UACD;AAAA,QACD;AAAA,MACD;AAGA,iBAAW,KAAK,IAAI;AAEpB,UAAI,QAAQ;AACX,aAAK,WAAW,MAAM,GAAG,IAAI;AAAA,WAE9B;AACC,aAAK,OAAO,KAAK,IAAI;AACrB,aAAK;AAAA,UAAS;AAAA,UAAM;AAAA;AAAA,QAAA;AACpB,aAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AAAA,MAC1B;AAAA,IACD;AAEA,QAAI,WAAW,UAAU;AACxB,WAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AAAA,SAE1B;AAEC,UAAI,QAAS,gBAAgB,MAC7B;AACC,YAAI,kBAAkB,IAAI,iBAAA;AAC1B,wBAAgB,SAAS;AACzB,wBAAgB,QAAQ;AACxB,gBAAS,aAAa,eAAe;AAErC,YAAI,gBAAgB,mBAAA;AACnB;AAAA,MACF;AAAA,IAED;AAEA,iBAAa,CAAA;AAAA,EACd;AAAA,EAEQ,SAAS,MAAY,cAC7B;AACC,QAAI,UAAU,KAAK,WAAA;AACnB,QAAI,QAAQ,UACZ;AACC,UAAI,UAAU,IAAI,KAAK,cAAc,EAAE,OAAO,mBAAmB;AACjE,UAAI,OAAO,KAAK,YAAY,KAAK,IAAI;AACrC,UAAI,WAAW,KAAK,YAAY,KAAK,IAAI;AAEzC,WAAK,SAAS,MAAM,SAAS,EAAE,KAAK,YAAY,SAAS,QAAQ,KAAK,OAAO,mBAAA,CAAoB;AAEjG,UAAI,aAAa,oEAAoE,OAAO;AAG5F,UAAI,gBAAgB,KAAgD,gBAAgB,KAChF,gBAAgB,GACpB;AACC,YAAI,0BAA0B,8BAA8B;AAC5D,gBAAQ,cAAA;AAAA,UAEP,KAAK;AAA2C,sCAA0B,8BAA8B;AAAS;AAAA,UACjH,KAAK;AAA2C,sCAA0B,8BAA8B;AAAS;AAAA,UACjH,KAAK;AAA8C,sCAA0B,8BAA8B;AAAY;AAAA,QAAA;AAGxH,YAAI,eAAe,KAAK,sBAAsB,yBAAyB,IAAI;AAC3E,YAAI,gBAAgB;AACnB,uBAAa,gEAAgE,eAAe;AAAA,MAC9F;AAGA,kBAAY;AAAA,QACX,OAAO;AAAA,QACP,MAAM,+EAA+E,KAAK,OAAO,YAAY;AAAA,QAC7G,MAAM;AAAA,QACN,OAAO;AAAA,MAAA,GACL,OAAO;AAGV,UAAI,wBAAwB,KAAK,SAAS,EAAE,OAAO,6BAA6B;AAChF,kBAAY;AAAA,QACX,SAAS,gBAAgB;AAAA,QACzB,OAAO;AAAA,QACP,UAAU;AAAA,MAAA,GACR,qBAAqB;AAExB,UAAI,cAAc,KAAK,iBAAiB,SAAS,uBAAuB,EAAE,OAAO,uBAAuB;AACxG,UAAI,gBAAgB;AACnB,aAAK,WAAW,EAAE,KAAA;AAGnB,mBAAa;AAAA,QACZ,MAAO,gBAAgB,IAAkC,iBAAiB,QAAQ,mBAAmB;AAAA,QACrG,cAAc;AAAA,QACd,KAAK;AAAA,QACL,OAAO;AAAA,QACP,SAAS,QAAQ;AAAA,QACjB,SAAS,CAAC,MACV;AACC,cAAI,EAAE,OAAO,KAAA,EAAQ,UAAU,SAAS,UAAU,GAClD;AAEC,gBAAI,QAAS,WAAW,MACxB;AACC,kBAAI,aAAa,IAAI,iBAAA;AACrB,yBAAW,SAAS;AACpB,yBAAW,MAAM,KAAK,YAAY,IAAI,IAAI;AAC1C,yBAAW,OAAO;AAClB,sBAAS,QAAQ,UAAU;AAE3B,kBAAI,WAAW,mBAAA;AACd;AAAA,YACF;AAGA,iBAAK,YAAY,IAAI,IAAI,EAAG,MAAA;AAAA,UAC7B,OAEA;AACC,gBAAI,QAAQ,qBACZ;AACC,sBAAQ,sCAAsC,EAAE,KAAK,MACrD;AACC,qBAAK,OAAO,EAAE,OAAA;AACd,qBAAK,WAAW,SAAS,IAAI;AAAA,cAC9B,CAAC;AAAA,YACF,OAEA;AACC,mBAAK,OAAO,EAAE,OAAA;AACd,mBAAK,WAAW,SAAS,IAAI;AAAA,YAC9B;AAAA,UACD;AAAA,QACD;AAAA,MAAA,GACE,OAAO;AACV,aAAO;AAAA,IACR;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,sBAAsB,UAAyC,MACvE;AACC,QAAI,UAAU,KAAK,WAAA;AAEnB,QAAI,eAAe;AACnB,QAAI,YAAY,8BAA8B;AAC7C,qBAAgB,QAAQ,WAAY,uBAAuB,OAAQ,mCAAmC,KAAK,YAAY,QAAQ,WAAY,OAAQ,IAAI,QAAQ,WAAY;AAC5K,QAAI,YAAY,8BAA8B;AAC7C,qBAAgB,QAAQ,WAAY,uBAAuB,OAAQ,oCAAoC,KAAK,YAAY,QAAQ,WAAY,OAAQ,IAAI,QAAQ,WAAY;AAC7K,QAAI,YAAY,8BAA8B;AAC7C,qBAAgB,QAAQ,WAAY,0BAA0B,OAAQ,4BAA4B,QAAQ,WAAY,aAAa,QAAQ,WAAY;AAExJ,QAAI,gBAAgB,IACpB;AACC,UAAI,QAAQ,qBAAqB,MACjC;AACC,YAAI,aAAa,IAAI,2BAAA;AACrB,mBAAW,SAAS;AACpB,mBAAW,OAAO;AAClB,mBAAW,UAAU;AACrB,mBAAW,OAAO;AAClB,gBAAQ,kBAAkB,UAAU;AAAA,MACrC;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA,EAEQ,WAAW,SAAsB,MACzC;AACC,QAAI,UAAU,KAAK,WAAA;AAGnB,QAAI,QAAS,YAAY,MACzB;AACC,UAAI,cAAc,IAAI,kBAAA;AACtB,kBAAY,SAAS;AACrB,kBAAY,UAAU;AACtB,kBAAY,OAAO;AACnB,kBAAY,QAAQ,KAAK,SAAA,EAAW,QAAQ,IAAI;AAChD,cAAS,SAAS,WAAW;AAE7B,UAAI,YAAY,mBAAA;AACf;AAAA,IACF;AAGA,SAAK,OAAO,SAAS,IAAI;AACzB,SAAK,YAAY,OAAO,IAAI;AAE5B,QAAI,KAAK,OAAO,UAAU;AACzB,WAAK,MAAA;AAAA,EACP;AAAA,EAEQ,WAAW,MAAY,GAAW,WAAW,MACrD;AACC,QAAI,UAAU,KAAK,WAAA;AAEnB,QAAI,MAAM,QAAQ,eAAgB;AAClC,QAAI,MAAM,IAAI,eAAA;AACd,QAAI,KAAK,QAAQ,KAAK,QAAQ,KAAM;AAGpC,QAAI,QAAQ,eAAgB,cAAc,MAC1C;AACC,UAAI,aAAa,CAAA;AACjB,UAAI,MAAM,QAAQ,QAAQ,eAAgB,UAAU;AACnD,qBAAa,QAAQ,eAAgB;AAAA,WAEtC;AACC,YAAI,kBAAkB,IAAI,sBAAA;AAC1B,wBAAgB,SAAS;AACzB,wBAAgB,OAAO;AACvB,qBAAa,QAAQ,eAAgB,WAAW,eAAe;AAAA,MAChE;AAEA,eAAS,mBAAmB;AAC3B,YAAI,iBAAiB,gBAAgB,KAAK,gBAAgB,KAAK;AAAA,IACjE;AAIA,QAAI,UAA8B;AAClC,QAAI,UACJ;AACC,WAAK,OAAO,KAAK,IAAI;AACrB,WAAK,YAAY,IAAI,MAAM,GAAG;AAC9B,gBAAU,KAAK;AAAA,QAAS;AAAA,QAAM;AAAA;AAAA,MAAA;AAAA,IAC/B;AAIA,QAAI,OAAO,iBAAiB,YAAY,CAAC,MACzC;AAEC,UAAI,QAAS,cAAc,MAC3B;AACC,YAAI,gBAAgB,IAAI,oBAAA;AACxB,sBAAc,SAAS;AACvB,sBAAc,SAAS,EAAE;AACzB,sBAAc,QAAQ,EAAE;AACxB,sBAAc,QAAQ;AACtB,gBAAS,WAAW,aAAa;AAEjC,YAAI,cAAc,mBAAA;AACjB;AAAA,MACF;AAGA,UAAI,QAAS;AACZ,aAAK,eAAe,GAAI,EAAE,SAAS,MAAQ,EAAE,SAAU,GAAG;AAE3D,UAAI,aAAa,KAAK,MAAQ,EAAE,SAAS,MAAQ,EAAE,SAAU,EAAG;AAChE,UAAI,cAAc;AACjB,qBAAa;AAEd,WAAK,OAAO,EAAE,KAAK,yBAAyB,EAAE,KAAK,aAAa,GAAG;AAAA,IACpE,CAAC;AAGD,QAAI,iBAAiB,oBAAoB,CAAC,MAC1C;AACC,UAAI,IAAI,cAAc,KAAK,IAAI,UAAU,KACzC;AAEC,YAAI,QAAQ,aAAa,MACzB;AACC,cAAI,eAAe,IAAI,mBAAA;AACvB,uBAAa,SAAS;AACtB,uBAAa,SAAS,IAAI;AAC1B,uBAAa,aAAa,IAAI;AAC9B,uBAAa,WAAW,KAAK,MAAM,IAAI,QAAQ;AAC/C,uBAAa,MAAM;AACnB,uBAAa,QAAQ;AACrB,uBAAa,OAAO;AACpB,kBAAQ,UAAU,YAAY;AAE9B,cAAI,aAAa,mBAAA;AAChB;AAAA,QACF;AAGA,aAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AAGzB,YAAI,WAAW,MACf;AACC,cAAI,uBAAuB,KAAK,OAAO,EAAE,KAAK,2BAA2B,EAAE,KAAK,SAAS,EAAE,CAAC;AAC5F,cAAI,YAAsB,qBAAqB,UAAU,MAAM,KAAK;AACpE,cAAI,gBAAgB,UAAU,OAAO,OAAK,EAAE,WAAW,KAAK,CAAC;AAC7D,mBAAS,aAAa;AACrB,iCAAqB,UAAU,OAAO,SAAS;AAEhD,eAAK,oBAAoB,EAAE,SAAS,mBAAmB,KAAK;AAE5D,eAAK,OAAO,EAAE,KAAK,4BAA4B,EAAE,OAAA;AACjD,eAAK,OAAO,EAAE,KAAK,mBAAmB,EAAE,aAAa,eAAe,iBAAiB,QAAQ,oFAAoF;AAAA,QAClL;AAAA,MAED,WACS,IAAI,cAAc,KAAK,IAAI,UAAU,KAC9C;AAEC,YAAI,QAAQ,WAAW,MACvB;AACC,cAAI,aAAa,IAAI,iBAAA;AACrB,qBAAW,SAAS;AACpB,qBAAW,SAAS,IAAI;AACxB,qBAAW,aAAa,IAAI;AAC5B,qBAAW,WAAY,IAAI,UAAU,IAAK,KAAK,MAAM,IAAI,QAAQ,IAAI,CAAA;AACrE,qBAAW,MAAM;AACjB,qBAAW,QAAQ;AACnB,qBAAW,OAAO;AAClB,kBAAQ,QAAQ,UAAU;AAE1B,cAAI,WAAW,sBACf;AACC,cAAE,eAAA;AACF;AAAA,UACD;AAAA,QACD;AAGA,aAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AAGzB,YAAI,WAAW,MACf;AACC,cAAI,uBAAuB,KAAK,OAAO,EAAE,KAAK,2BAA2B,EAAE,KAAK,SAAS,EAAE,CAAC;AAC5F,cAAI,YAAsB,qBAAqB,UAAU,MAAM,KAAK;AACpE,cAAI,gBAAgB,UAAU,OAAO,OAAK,EAAE,WAAW,KAAK,CAAC;AAC7D,mBAAS,aAAa;AACrB,iCAAqB,UAAU,OAAO,SAAS;AAEhD,eAAK,oBAAoB,EAAE,SAAS,mBAAmB,KAAK;AAE5D,cAAI,iBAAiB,KAAK,OAAO,EAAE,KAAK,oBAAoB;AAC5D,yBAAe,YAAA;AACf,yBAAe,SAAS,iBAAiB,sBAAsB,mBAAmB;AAClF,yBAAe,CAAC,EAAE,MAAM,WAAW;AAEnC,eAAK,OAAO,EAAE,KAAK,4BAA4B,EAAE,OAAA;AACjD,eAAK,OAAO,EAAE,KAAK,0BAA0B,EAAE,KAAK,+EAA+E,KAAK,OAAO,kIAAkI;AAAA,QAClR;AAAA,MAED;AAAA,IACD,CAAC;AAED,QAAI,WAAW,IAAI,SAAA;AACnB,aAAS,OAAO,QAAQ,IAAI;AAC5B,QAAI,KAAK,QAAQ;AAAA,EAClB;AAAA;AAAA;AAAA,EAIQ,mBAAmB,UAC3B;AACC,QAAI,UAAU,KAAK,WAAA;AACnB,QAAI,QAAQ;AACX,WAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AAE1B,SAAK,KAAK,YAAA,CAAa,EAAE,CAAC,EAAE,QAAQ;AACpC,SAAK,kBAAkB,CAAA;AAEvB,aAAS,IAAI,UAAU,IAAI,GAAG;AAC7B,WAAK,gBAAgB,KAAK,CAAC;AAAA,EAC7B;AAAA,EAEQ,eAAe,YAAoB,YAC3C;AACC,SAAK,gBAAgB,UAAU,IAAI;AACnC,QAAI,QAAQ,KAAK,gBAAgB,OAAO,CAAC,KAAK,SAAS,MAAM,MAAM,CAAC,IAAI,KAAK,gBAAgB;AAC7F,SAAK,KAAK,YAAA,CAAa,EAAE,CAAC,EAAE,QAAQ;AAAA,EACrC;AAAA;AAAA;AAAA,EAIA,WACA;AACC,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,cACA;AACC,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,cACA;AACC,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,eACA;AACC,WAAO,KAAK;AAAA,EACb;AAAA,EAEQ,YAAY,OACpB;AACC,UAAM,SAAS;AACf,QAAI,KAAK,IAAI,KAAK,IAAI;AACrB,aAAO,QAAQ;AAEhB,UAAM,QAAQ,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAC7D,QAAI,IAAI;AACR,UAAM,IAAI,MAAM;AAEhB,OACA;AACC,eAAS;AACT,QAAE;AAAA,IACH,SACO,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,UAAU,IAAI,MAAM,SAAS;AAE3E,WAAO,MAAM,QAAQ,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,EACxC;AAAA,EAEQ,YAAY,UACpB;AAEC,QAAIA,QAAO,iBAAiB;AAC5B,QAAI,QAAQ;AAEZ,YAAQ,UAAA;AAAA,MAEP,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,MACD,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,MACD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ;AACCA,kBAAO,iBAAiB;AACxB,kBAAQ;AAAA,QACT;AACA;AAAA,IAAA;AAEF,WAAO,EAAE,MAAwBA,OAAM,MAAA;AAAA,EACxC;AAAA,EAEQ,yBAAyB,WACjC;AACC,QAAI,WAAqB,CAAA;AACzB,QAAI,kBAAkB,UAAU,MAAM,GAAG;AACzC,gBAAY,gBAAgB,gBAAgB,SAAS,CAAC;AAEtD,YAAQ,WAAA;AAAA,MAEP,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,EAAE;AACd;AAAA,MAED,KAAK;AAAO,mBAAW,CAAC,UAAU;AAAG;AAAA,MACrC,KAAK;AAAO,mBAAW,CAAC,UAAU;AAAG;AAAA,MACrC,KAAK;AAAO,mBAAW,CAAC,WAAW;AAAG;AAAA,MAEtC,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,YAAY;AACxB;AAAA,MAED,KAAK;AAAM,mBAAW,CAAC,0BAA0B;AAAG;AAAA,MACpD,KAAK;AAAO,mBAAW,CAAC,YAAY;AAAG;AAAA,MACvC,KAAK;AAAO,mBAAW,CAAC,WAAW;AAAG;AAAA,MAEtC,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,YAAY;AACxB;AAAA,MAED,KAAK;AAAO,mBAAW,CAAC,cAAc;AAAG;AAAA,MACzC,KAAK;AAAO,mBAAW,CAAC,gBAAgB;AAAG;AAAA,MAC3C,KAAK;AAAO,mBAAW,CAAC,eAAe;AAAG;AAAA,MAE1C,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,oBAAoB;AAChC;AAAA,MAED,KAAK;AAAQ,mBAAW,CAAC,yEAAyE;AAAG;AAAA,MACrG,KAAK;AAAQ,mBAAW,CAAC,yEAAyE;AAAG;AAAA,MACrG,KAAK;AAAQ,mBAAW,CAAC,kDAAkD;AAAG;AAAA,MAC9E,KAAK;AAAQ,mBAAW,CAAC,kDAAkD;AAAG;AAAA,MAE9E,KAAK;AAAO,mBAAW,CAAC,iBAAiB;AAAG;AAAA,MAC5C,KAAK;AAAO,mBAAW,CAAC,iBAAiB;AAAG;AAAA,MAE5C,KAAK;AAAO,mBAAW,CAAC,4BAA4B,qEAAqE,UAAU;AAAG;AAAA,MAEtI,KAAK;AAAO,mBAAW,CAAC,2BAA2B;AAAG;AAAA,MAEtD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,0BAA0B;AACtC;AAAA,MAED,KAAK;AAAQ,mBAAW,CAAC,mEAAmE;AAAG;AAAA,MAC/F,KAAK;AAAQ,mBAAW,CAAC,sEAAsE;AAAG;AAAA,MAClG,KAAK;AAAQ,mBAAW,CAAC,gDAAgD;AAAG;AAAA,MAC5E,KAAK;AAAQ,mBAAW,CAAC,mDAAmD;AAAG;AAAA,MAC/E,KAAK;AAAQ,mBAAW,CAAC,gDAAgD;AAAG;AAAA,MAC5E,KAAK;AAAQ,mBAAW,CAAC,uDAAuD;AAAG;AAAA,MAEnF,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,+BAA+B;AAC3C;AAAA,MAED,KAAK;AAAQ,mBAAW,CAAC,2EAA2E;AAAG;AAAA,MACvG,KAAK;AAAQ,mBAAW,CAAC,uEAAuE;AAAG;AAAA,MACnG,KAAK;AAAQ,mBAAW,CAAC,wEAAwE;AAAG;AAAA,MACpG,KAAK;AAAQ,mBAAW,CAAC,qDAAqD;AAAG;AAAA,MACjF,KAAK;AAAQ,mBAAW,CAAC,4DAA4D;AAAG;AAAA,MACxF,KAAK;AAAQ,mBAAW,CAAC,wDAAwD;AAAG;AAAA,MACpF,KAAK;AAAQ,mBAAW,CAAC,yDAAyD;AAAG;AAAA,MAErF,KAAK;AAAO,mBAAW,CAAC,0BAA0B,0BAA0B;AAAG;AAAA,MAC/E,KAAK;AAAO,mBAAW,CAAC,uBAAuB,sBAAsB;AAAG;AAAA,MAExE,KAAK;AAAM,mBAAW,CAAC,6BAA6B;AAAG;AAAA,MACvD,KAAK;AAAO,mBAAW,CAAC,8BAA8B;AAAG;AAAA,MACzD,KAAK;AAAO,mBAAW,CAAC,8BAA8B;AAAG;AAAA,MAEzD,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,0BAA0B;AACtC;AAAA,MAED,KAAK;AAAO,mBAAW,CAAC,YAAY;AAAG;AAAA,MAEvC,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,YAAY;AACxB;AAAA,MAED,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,YAAY;AACxB;AAAA,MAED,KAAK;AAAO,mBAAW,CAAC,iBAAiB;AAAG;AAAA,MAC5C,KAAK;AAAO,mBAAW,CAAC,aAAa;AAAG;AAAA,MACxC,KAAK;AAAO,mBAAW,CAAC,gBAAgB;AAAG;AAAA,MAC3C,KAAK;AAAO,mBAAW,CAAC,iBAAiB;AAAG;AAAA,MAE5C,KAAK;AAAA,MACL,KAAK;AACJ,mBAAW,CAAC,WAAW;AACvB;AAAA,IAAA;AAEF,WAAO;AAAA,EACR;AAAA,EAEA,QACA;AACC,SAAK,SAAS,CAAA;AACd,SAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AACzB,SAAK,KAAK,YAAA,CAAa,EAAE,MAAA;AACzB,SAAK,eAAe,QAAQ;AAC5B,SAAK,KAAK,YAAA,CAAa,EAAE,KAAA;AACzB,SAAK,cAAc,QAAQ;AAE3B,SAAK,KAAK,QAAA,CAAS,EAAE,KAAA;AAAA,EACtB;AAAA,EAEA,OACA;AACC,SAAK,KAAK,aAAA,CAAc,EAAE,MAAA;AAAA,EAC3B;AAAA;AAAA;AAAA,EAIA,SACA;AACC,UAAM,OAAA;AACN,WAAO,WAAW,MAAM,KAAK,eAAe,gBAAgB,UAAU,CAAC;AAAA,EACxE;AAAA,EAEA,UACA;AACC,UAAM,QAAA;AACN,WAAO,WAAW,MAAM,KAAK,aAAA,EAAe,aAAa,YAAY,UAAU,CAAC;AAAA,EACjF;AAAA;AAAA,EAGA,aACA;AACC,WAAO,KAAK,QAAA;AAAA,EACb;AAAA;AAED;AAIA,MAAM,qBACN;AAAA,EACC;AAAA,EACA;AACD;AAeA,MAAM,oBAAoB,gBAC1B;AAAA,EACC;AACD;AAEA,MAAM,8BAA8B,YACpC;AAAA,EACC;AACD;AAEA,MAAM,wBAAwB,YAC9B;AAAA,EACC;AAAA,EACA;AACD;AAEA,MAAM,6BAA6B,gBACnC;AAAE;AAEF,MAAM,4BAA4B,gBAClC;AAAE;AAEF,MAAM,6BAA6B,gBACnC;AAAE;AAEF,MAAM,wBAAwB,YAC9B;AAAA,EACC;AAAA,EACA;AACD;AAEA,MAAM,4BAA4B,YAClC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AACD;AAEA,MAAM,wBAAwB,YAC9B;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD;AAEA,MAAM,yBAAyB,gBAC/B;AAAE;AAEF,MAAM,2BAA2B,gBACjC;AACA;AAEA,MAAM,mCAAmC,YACzC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AACD;AAEA,MAAM,yBAAyB,YAC/B;AAAA,EACC;AAAA,EACA;AACD;AAEA,MAAM,yBAAyB,YAC/B;AAAA,EACC;AACD;AAuBA,MAAM,0BAA0B,YAChC;AAAA,EACC;AAAA,EACA;AAAA,EACA;AACD;AAEA,MAAM,yBAAyB,YAC/B;AAEA;AACA,MAAM,yBAAyB,YAC/B;AAAA,EACC;AACD;"}