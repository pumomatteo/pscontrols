{"version":3,"file":"splitter.js","sources":["../../../../src/ui/controls/splitter.ts"],"sourcesContent":["import { VrControlOptions, VrControl, VrControlsEvent } from \"../common\";\nimport { ControlTypeEnum, createIcon, IconClassicSolid, IconClass, puma, SplitterCollapsableSettings, SplitterCollapseDirectionEnum, SplitterDirectionEnum } from \"../vr\";\n\n//#region Options\nexport class SplitterOptions extends VrControlOptions\n{\n\tdirection?: SplitterDirectionEnum;\n\tcollapsable?: boolean | SplitterCollapsableSettings;\n\tresizable?: boolean;\n\n\tonBeforeExpandCollapse?: (e: SplitterBeforeExpandCollapseEvent) => void;\n\tonAfterExpandExpandCollapse?: (e: SplitterAfterExpandCollapseEvent) => void;\n\tonBeforeResize?: (e: SplitterBeforeResizeEvent) => void;\n\tonAfterResize?: (e: SplitterAfterResizeEvent) => void;\n}\n//#endregion\n\n//#region Control\nexport class Splitter extends VrControl\n{\n\t//#region Variables\n\tprivate _previousDiv: HTMLElement;\n\tprivate _nextDiv: HTMLElement;\n\t//#endregion\n\n\tconstructor(element: HTMLElement, options?: SplitterOptions | null)\n\t{\n\t\t//#region Options\n\t\tif (options == null)\n\t\t\toptions = new SplitterOptions();\n\n\t\tif (options.direction == null) options.direction = SplitterDirectionEnum.Horizontal;\n\t\tif (options.resizable == null) options.resizable = true;\n\t\tif (options.tabIndex == null) options.tabIndex = -1;\n\n\t\tif (options.collapsable == null) options.collapsable = false;\n\t\tif (options.collapsable === true)\n\t\t{\n\t\t\toptions.collapsable = new SplitterCollapsableSettings();\n\t\t\tif (options.collapsable.direction == null) options.collapsable.direction = SplitterCollapseDirectionEnum.Left;\n\t\t\tif (options.collapsable.color == null) options.collapsable.color = \"#000\";\n\n\t\t\tif (options.direction == SplitterDirectionEnum.Horizontal) options.collapsable.direction = SplitterCollapseDirectionEnum.Left;\n\t\t\telse if (options.direction == SplitterDirectionEnum.Vertical) options.collapsable.direction = SplitterCollapseDirectionEnum.Up;\n\t\t}\n\t\t//#endregion\n\n\t\tsuper(element, options, ControlTypeEnum.Splitter);\n\n\t\tif (options.resizable)\n\t\t\tvrSplitterResizable(this, options);\n\n\t\t//#region Direction\n\t\tswitch (options.direction)\n\t\t{\n\t\t\tcase SplitterDirectionEnum.Horizontal: puma(this.element()).attr(\"data-direction\", \"horizontal\"); break;\n\t\t\tcase SplitterDirectionEnum.Vertical: puma(this.element()).attr(\"data-direction\", \"vertical\"); break;\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Collapse\n\t\tif (options.collapsable !== false)\n\t\t{\n\t\t\tlet icon = \"\";\n\t\t\tlet cssContainer = \"\";\n\t\t\tswitch (options.collapsable.direction as SplitterCollapseDirectionEnum)\n\t\t\t{\n\t\t\t\tcase SplitterCollapseDirectionEnum.Left:\n\t\t\t\t\t{\n\t\t\t\t\t\ticon = IconClassicSolid.CaretLeft;\n\t\t\t\t\t\tcssContainer = \"left: -5px; top: Calc(50% - 8px);\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase SplitterCollapseDirectionEnum.Right:\n\t\t\t\t\t{\n\t\t\t\t\t\ticon = IconClassicSolid.CaretRight;\n\t\t\t\t\t\tcssContainer = \"left: 0px; top: Calc(50% - 8px);\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase SplitterCollapseDirectionEnum.Up:\n\t\t\t\t\t{\n\t\t\t\t\t\ticon = IconClassicSolid.CaretUp;\n\t\t\t\t\t\tcssContainer = \"top: -10px; left: Calc(50% - 5px);\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase SplitterCollapseDirectionEnum.Down:\n\t\t\t\t\t{\n\t\t\t\t\t\ticon = IconClassicSolid.CaretDown;\n\t\t\t\t\t\tcssContainer = \"top: -5px; left: Calc(50% - 5px)\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcreateIcon({\n\t\t\t\tvalue: icon,\n\t\t\t\tcssContainer: \"position: absolute; \" + cssContainer,\n\t\t\t\tcolor: options.collapsable.color,\n\t\t\t\ttag: \"expanded\",\n\t\t\t\tonClick: (e) =>\n\t\t\t\t{\n\t\t\t\t\tlet tag = e.sender.tag(); // If 'expanded', you are collapsing it\n\n\t\t\t\t\t//#region Previous/Next div\n\t\t\t\t\tif (this._previousDiv == null)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._previousDiv = this.container().previousElementSibling as HTMLElement;\n\t\t\t\t\t\tthis._nextDiv = this.container().nextElementSibling as HTMLElement;\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\t//#region Before collapse/expand event\n\t\t\t\t\tif (options!.onBeforeExpandCollapse != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet beforeExpandCollapseEvent = new SplitterBeforeExpandCollapseEvent();\n\t\t\t\t\t\tbeforeExpandCollapseEvent.sender = this;\n\t\t\t\t\t\tbeforeExpandCollapseEvent.collapse = (tag == \"expanded\");\n\t\t\t\t\t\tbeforeExpandCollapseEvent.previousDiv = this._previousDiv;\n\t\t\t\t\t\tbeforeExpandCollapseEvent.nextDiv = this._nextDiv;\n\t\t\t\t\t\toptions!.onBeforeExpandCollapse(beforeExpandCollapseEvent);\n\n\t\t\t\t\t\tif (beforeExpandCollapseEvent.isDefaultPrevented())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\tswitch ((options!.collapsable as SplitterCollapsableSettings).direction)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Left:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//#region Left\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).hide();\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).width(\"100%\");\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretRight);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: 0px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).show();\n\n\t\t\t\t\t\t\t\t\tlet width = (100 - this._previousDiv.style.width.vrGetNumericPart()) + \"%\";\n\t\t\t\t\t\t\t\t\tif (this._previousDiv.style.width.endsWith(\"px\"))\n\t\t\t\t\t\t\t\t\t\twidth = \"Calc(100% - \" + this._previousDiv.style.width.vrGetNumericPart() + \"px)\";\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).width(width);\n\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretLeft);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: -5px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//#endregion\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Right:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//#region Right\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).width(\"100%\");\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).hide();\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretLeft);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: -5px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlet width = (100 - this._nextDiv.style.width.vrGetNumericPart()) + \"%\";\n\t\t\t\t\t\t\t\t\tif (this._nextDiv.style.width.endsWith(\"px\"))\n\t\t\t\t\t\t\t\t\t\twidth = \"Calc(100% - \" + this._nextDiv.style.width.vrGetNumericPart() + \"px)\";\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).width(width);\n\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).show();\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretRight);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"left: 0px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//#endregion\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Down:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//#region Down\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).height(\"100%\");\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).hide();\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretUp);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -10px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlet height = (100 - this._nextDiv.style.height.vrGetNumericPart()) + \"%\";\n\t\t\t\t\t\t\t\t\tif (this._nextDiv.style.height.endsWith(\"px\"))\n\t\t\t\t\t\t\t\t\t\theight = \"Calc(100% - \" + this._nextDiv.style.height.vrGetNumericPart() + \"px)\";\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).height(height);\n\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).show();\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretDown);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -5px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//#endregion\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase SplitterCollapseDirectionEnum.Up:\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//#region Up\n\t\t\t\t\t\t\t\tif (tag == \"expanded\")\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).hide();\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).height(\"100%\");\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretDown);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -5px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpuma(this._previousDiv).show();\n\n\t\t\t\t\t\t\t\t\tlet height = (100 - this._previousDiv.style.height.vrGetNumericPart()) + \"%\";\n\t\t\t\t\t\t\t\t\tif (this._previousDiv.style.height.endsWith(\"px\"))\n\t\t\t\t\t\t\t\t\t\theight = \"Calc(100% - \" + this._previousDiv.style.height.vrGetNumericPart() + \"px)\";\n\t\t\t\t\t\t\t\t\tpuma(this._nextDiv).height(height);\n\n\t\t\t\t\t\t\t\t\te.sender.value(IconClassicSolid.CaretUp);\n\t\t\t\t\t\t\t\t\te.sender.cssContainer(\"top: -10px;\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//#endregion\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t//#region After collapse/expand event\n\t\t\t\t\tif (options!.onAfterExpandExpandCollapse != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet afterExpandCollapseEvent = new SplitterAfterExpandCollapseEvent();\n\t\t\t\t\t\tafterExpandCollapseEvent.sender = this;\n\t\t\t\t\t\tafterExpandCollapseEvent.collapse = (tag == \"expanded\");\n\t\t\t\t\t\tafterExpandCollapseEvent.previousDiv = this._previousDiv;\n\t\t\t\t\t\tafterExpandCollapseEvent.nextDiv = this._nextDiv;\n\t\t\t\t\t\toptions!.onAfterExpandExpandCollapse(afterExpandCollapseEvent);\n\t\t\t\t\t}\n\t\t\t\t\t//#endregion\n\n\t\t\t\t\tif (tag == \"expanded\")\n\t\t\t\t\t\te.sender.tag(\"collapsed\");\n\t\t\t\t\telse\n\t\t\t\t\t\te.sender.tag(\"expanded\");\n\t\t\t\t}\n\t\t\t}, this.container())\n\t\t}\n\t\t//#endregion\n\t}\n}\n//#endregion\n\n//#region Resize\nlet vrSplitterResizable = (sender: Splitter, options: SplitterOptions) =>\n{\n\tlet resizer = sender.element() as any;\n\tlet direction: any = null;\n\tlet prevSibling: any = null;\n\tlet nextSibling: any = null;\n\n\tlet x = 0;\n\tlet y = 0;\n\tlet prevSiblingHeight = 0;\n\tlet prevSiblingWidth = 0;\n\n\tconst mouseDownHandler = (e: any) =>\n\t{\n\t\tdirection = resizer.getAttribute(\"data-direction\") || \"horizontal\";\n\t\tprevSibling = resizer.parentElement.previousElementSibling;\n\t\tnextSibling = resizer.parentElement.nextElementSibling;\n\n\t\t//#region Before resize event\n\t\tif (options.onBeforeResize != null)\n\t\t{\n\t\t\tlet beforeResizeEvent = new SplitterBeforeResizeEvent();\n\t\t\tbeforeResizeEvent.sender = sender;\n\t\t\tbeforeResizeEvent.previousDiv = prevSibling;\n\t\t\tbeforeResizeEvent.nextDiv = nextSibling;\n\t\t\tbeforeResizeEvent.direction = direction;\n\t\t\toptions!.onBeforeResize(beforeResizeEvent);\n\n\t\t\tif (beforeResizeEvent.isDefaultPrevented())\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t//#endregion\n\n\t\t// Current mouse position\n\t\tx = e.clientX;\n\t\ty = e.clientY;\n\n\t\t// Previous sibling size\n\t\tconst rect = prevSibling.getBoundingClientRect();\n\t\tprevSiblingHeight = rect.height;\n\t\tprevSiblingWidth = rect.width;\n\n\t\tdocument.addEventListener(\"mousemove\", mouseMoveHandler);\n\t\tdocument.addEventListener(\"mouseup\", mouseUpHandler);\n\t};\n\n\tconst mouseMoveHandler = (e: any) =>\n\t{\n\t\tconst dx = e.clientX - x;\n\t\tconst dy = e.clientY - y;\n\n\t\tswitch (direction)\n\t\t{\n\t\t\tcase \"vertical\":\n\t\t\t\t{\n\t\t\t\t\tconst h = (prevSiblingHeight + dy) * 100 / resizer.parentElement.parentNode.getBoundingClientRect().height;\n\t\t\t\t\tprevSibling.style.height = `${h}%`;\n\t\t\t\t\tnextSibling.style.height = `${100 - h}%`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"horizontal\":\n\t\t\tdefault:\n\t\t\t\t{\n\t\t\t\t\tconst w = (prevSiblingWidth + dx) * 100 / resizer.parentElement.parentNode.getBoundingClientRect().width;\n\t\t\t\t\tprevSibling.style.width = `${w}%`;\n\t\t\t\t\tnextSibling.style.width = `${100 - w}%`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\t//#region Cursor & PointerEvents\n\t\tconst cursor = direction === \"horizontal\" ? \"col-resize\" : \"row-resize\";\n\t\tresizer.style.cursor = cursor;\n\t\tdocument.body.style.cursor = cursor;\n\n\t\tprevSibling.style.userSelect = \"none\";\n\t\tprevSibling.style.pointerEvents = \"none\";\n\n\t\tnextSibling.style.userSelect = \"none\";\n\t\tnextSibling.style.pointerEvents = \"none\";\n\t\t//#endregion\n\t};\n\n\tconst mouseUpHandler = () =>\n\t{\n\t\tresizer.style.removeProperty(\"cursor\");\n\t\tdocument.body.style.removeProperty(\"cursor\");\n\n\t\tprevSibling.style.removeProperty(\"user-select\");\n\t\tprevSibling.style.removeProperty(\"pointer-events\");\n\n\t\tnextSibling.style.removeProperty(\"user-select\");\n\t\tnextSibling.style.removeProperty(\"pointer-events\");\n\n\t\tdocument.removeEventListener(\"mousemove\", mouseMoveHandler);\n\t\tdocument.removeEventListener(\"mouseup\", mouseUpHandler);\n\n\t\t//#region After resize event\n\t\tif (options.onAfterResize != null)\n\t\t{\n\t\t\tlet beforeResizeEvent = new SplitterAfterResizeEvent();\n\t\t\tbeforeResizeEvent.sender = sender;\n\t\t\tbeforeResizeEvent.previousDiv = prevSibling;\n\t\t\tbeforeResizeEvent.nextDiv = nextSibling;\n\t\t\tbeforeResizeEvent.direction = direction;\n\t\t\toptions!.onAfterResize(beforeResizeEvent);\n\t\t}\n\t\t//#endregion\n\t};\n\n\t// Attach the handler\n\tresizer.addEventListener(\"mousedown\", mouseDownHandler);\n};\n//#endregion\n\n//#region Classes\nclass SplitterEvent extends VrControlsEvent\n{\n\tsender: Splitter;\n}\n\nclass SplitterExpandCollapseEvent extends SplitterEvent\n{\n\tcollapse: boolean;\n\tpreviousDiv: HTMLElement;\n\tnextDiv: HTMLElement;\n}\nclass SplitterBeforeExpandCollapseEvent extends SplitterExpandCollapseEvent { }\nclass SplitterAfterExpandCollapseEvent extends SplitterExpandCollapseEvent { }\n\nclass SplitterResizeEvent extends SplitterEvent\n{\n\tpreviousDiv: HTMLElement;\n\tnextDiv: HTMLElement;\n\tdirection: SplitterDirectionEnum;\n}\nclass SplitterBeforeResizeEvent extends SplitterResizeEvent { }\nclass SplitterAfterResizeEvent extends SplitterResizeEvent { }\n//#endregion"],"names":[],"mappings":"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"}