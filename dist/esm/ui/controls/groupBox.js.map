{"version":3,"file":"groupBox.js","sources":["../../../../src/ui/controls/groupBox.ts"],"sourcesContent":["import { ControlManager } from \"../../../src/managers/controlManager\";\nimport { VrControlOptions, VrControl } from \"../common\";\nimport { ControlTypeEnum, createButton, createCheckBox, div, IconClassicLight, IconClass, puma } from \"../vr\";\nimport { Button, ButtonOptions } from \"./button\";\nimport { CheckBox } from \"./checkbox\";\n\n//#region Options\nexport class GroupBoxOptions extends VrControlOptions\n{\n\ttitle?: string;\n\tcontent?: string | HTMLElement | JQuery;\n\tcollapsable?: boolean;\n\tcheckbox?: boolean | string;\n\tstartingCollapsed?: boolean;\n\tstartingChecked?: boolean;\n\titems?: GroupBoxItem[];\n\tscrollable?: boolean;\n\n\tonCheckboxClick?: (e: GroupBoxOnCheckboxClickEvent) => void;\n\tonCollapse?: (e: GroupBoxOnCollapseEvent) => void;\n\tonExpand?: (e: GroupBoxOnExpandEvent) => void;\n}\n//#endregion\n\n//#region Control\nexport class GroupBox extends VrControl\n{\n\tprivate _contentContainer: HTMLElement;\n\tprivate _btnCollapse: Button;\n\tprivate _chkCheckbox: CheckBox;\n\n\tconstructor(element: HTMLElement, options?: GroupBoxOptions | null)\n\t{\n\t\t//#region Options\n\t\tif (options == null)\n\t\t\toptions = new GroupBoxOptions();\n\n\t\tif (options.width == null) options.width = \"100%\";\n\t\tif (options.title == null) options.title = \"\";\n\t\tif (options.collapsable == null) options.collapsable = false;\n\t\tif (options.startingCollapsed == null) options.startingCollapsed = false;\n\t\tif (options.startingCollapsed === true) options.collapsable = true;\n\t\tif (options.checkbox == null) options.checkbox = false;\n\t\tif (options.startingChecked == null) options.startingChecked = false;\n\t\tif (options.startingChecked === true && typeof (options.checkbox) != \"string\") options.checkbox = true;\n\t\tif (options.scrollable == null) options.scrollable = false;\n\t\t//#endregion\n\n\t\tsuper(element, options, ControlTypeEnum.GroupBox);\n\t\tlet htmlContent = puma(this.element()).html();\n\t\tpuma(this.element()).empty();\n\n\t\tlet h1 = puma(\"<h1 class='vrGroupBoxH1'></h1>\").vrAppendToPuma(this.element());\n\n\t\t//#region Collapse/Expand\n\t\tif (options.collapsable)\n\t\t{\n\t\t\tthis._btnCollapse = createButton({\n\t\t\t\ticon: IconClassicLight.CaretUp,\n\t\t\t\tcssContainer: \"float: left; margin-top: -2px;\",\n\t\t\t\tcss: \"border: none; background: none;\",\n\t\t\t\tonClick: (e) =>\n\t\t\t\t{\n\t\t\t\t\tif (this.collapsed())\n\t\t\t\t\t\tthis.expand();\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.collapse();\n\t\t\t\t}\n\t\t\t}, h1);\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Checkbox\n\t\tif (options.checkbox !== false)\n\t\t{\n\t\t\tthis._chkCheckbox = createCheckBox({\n\t\t\t\tchecked: options.startingChecked,\n\t\t\t\tcssContainer: \"float: left; margin-top: -1px;\",\n\t\t\t\tonCheck: (e) =>\n\t\t\t\t{\n\t\t\t\t\tif (options!.onCheckboxClick != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet checkboxClickEvent = new GroupBoxOnCheckboxClickEvent();\n\t\t\t\t\t\tcheckboxClickEvent.checked = e.checked;\n\t\t\t\t\t\tcheckboxClickEvent.sender = this;\n\t\t\t\t\t\toptions!.onCheckboxClick(checkboxClickEvent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, h1);\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Title\n\t\tpuma(\"<span class='vrGroupBoxTitle'>\" + options.title + \"</span>\").vrAppendToPuma(h1);\n\t\t//#endregion\n\n\t\t//#region Items\n\t\tif (options.items != null)\n\t\t{\n\t\t\tlet divItems = div(h1, { class: \"vrGroupBoxDivItems\" });\n\t\t\tfor (let item of options.items)\n\t\t\t{\n\t\t\t\tif (item.cssContainer != null) item.cssContainer = \"\";\n\t\t\t\titem.cssContainer += \"; margin-left: 5px;\";\n\t\t\t\tcreateButton(item, divItems);\n\t\t\t}\n\t\t}\n\t\t//#endregion\n\n\t\t//#region Content\n\t\tthis._contentContainer = div(this.element(), { class: \"vrGroupBoxContentContainer\" });\n\t\tif (options.scrollable)\n\t\t\tthis._contentContainer.style.cssText += \"max-height: 100%; overflow-y: auto;\";\n\n\t\tthis.content((htmlContent != null && htmlContent != \"\") ? htmlContent : options.content);\n\t\t//#endregion\n\n\t\tif (options.startingCollapsed)\n\t\t\tthis.collapse();\n\t}\n\n\t//#region Content/Title\n\tcontent(content?: string | JQuery | HTMLElement)\n\t{\n\t\tif (content != null)\n\t\t{\n\t\t\tpuma(this._contentContainer).empty();\n\t\t\tpuma(this._contentContainer).append((typeof (content) == \"string\") ? content : puma(content));\n\t\t}\n\t\treturn this._contentContainer;\n\t}\n\n\ttitle(title?: string)\n\t{\n\t\tif (title != null)\n\t\t\tpuma(this.element()).find(\".vrGroupBoxTitle\").html(title);\n\n\t\treturn puma(this.element()).find(\".vrGroupBoxTitle\").html();\n\t}\n\t//#endregion\n\n\t//#region Expand/Collapse\n\tcollapse()\n\t{\n\t\tthis._btnCollapse.tag(\"collapsed\");\n\t\tpuma(this._contentContainer).hide();\n\t\tthis._btnCollapse.icon(IconClassicLight.CaretDown);\n\n\t\tlet options = this.getOptions();\n\t\tif (options.onCollapse != null) \n\t\t{\n\t\t\tlet GroupBoxOnExpandEvent = new GroupBoxOnCollapseEvent();\n\t\t\tGroupBoxOnExpandEvent.sender = this;\n\t\t\toptions.onCollapse(GroupBoxOnExpandEvent);\n\t\t}\n\t}\n\n\texpand()\n\t{\n\t\tthis._btnCollapse.tag(\"\");\n\t\tpuma(this._contentContainer).show();\n\t\tthis._btnCollapse.icon(IconClassicLight.CaretUp);\n\n\t\tlet options = this.getOptions();\n\t\tif (options.onExpand != null) \n\t\t{\n\t\t\tlet expandEvent = new GroupBoxOnExpandEvent();\n\t\t\texpandEvent.sender = this;\n\t\t\toptions.onExpand(expandEvent);\n\t\t}\n\t}\n\n\tcollapsed(state?: boolean)\n\t{\n\t\tif (state != null)\n\t\t{\n\t\t\tif (state) this.collapse();\n\t\t\telse this.expand();\n\t\t}\n\t\treturn this._btnCollapse.tag() == \"collapsed\";\n\t}\n\t//#endregion\n\n\t//#region Items\n\titem(value: string): Button | null\n\t{\n\t\tlet element = puma(this.element()).find(\".vrGroupBoxDivItems button[value='\" + value + \"']\")[0];\n\t\tif (element != null)\n\t\t{\n\t\t\treturn ControlManager.get<Button>(puma(element).attr(\"id\"));\n\t\t}\n\t\treturn null;\n\t}\n\n\tenableItem(value: string)\n\t{\n\t\tlet item = this.item(value);\n\t\tif (item != null)\n\t\t\titem.enable();\n\t}\n\n\tdisableItem(value: string)\n\t{\n\t\tlet item = this.item(value);\n\t\tif (item != null)\n\t\t\titem.disable();\n\t}\n\n\tshowItem(value: string)\n\t{\n\t\tlet item = this.item(value);\n\t\tif (item != null)\n\t\t\titem.show();\n\t}\n\n\thideItem(value: string)\n\t{\n\t\tlet item = this.item(value);\n\t\tif (item != null)\n\t\t\titem.hide();\n\t}\n\t//#endregion\n\n\t//#region Checkbox\n\tcheck(triggerChange = true)\n\t{\n\t\tthis._chkCheckbox.checked(true, triggerChange);\n\t}\n\n\tunCheck(triggerChange = true)\n\t{\n\t\tthis._chkCheckbox.checked(false, triggerChange);\n\t}\n\n\tchecked(state?: boolean, triggerChange = true)\n\t{\n\t\tif (state != null)\n\t\t{\n\t\t\tif (state) this.check(triggerChange);\n\t\t\telse this.unCheck(triggerChange);\n\t\t}\n\t\treturn this._chkCheckbox.checked();\n\t}\n\t//#endregion\n\n\tgetOptions()\n\t{\n\t\treturn this.options<GroupBoxOptions>();\n\t}\n}\n//#endregion\n\n//#region Classes\nclass GroupBoxOnCheckboxClickEvent\n{\n\tsender: GroupBox;\n\tchecked: boolean;\n}\n\nclass GroupBoxOnCollapseEvent\n{\n\tsender: GroupBox;\n}\n\nclass GroupBoxOnExpandEvent\n{\n\tsender: GroupBox;\n}\n\nclass GroupBoxItem extends ButtonOptions\n{\n\n}\n//#endregion"],"names":["GroupBoxOnExpandEvent"],"mappings":"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"}