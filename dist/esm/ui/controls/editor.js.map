{"version":3,"file":"editor.js","sources":["../../../../src/ui/controls/editor.ts"],"sourcesContent":["import { ControlManager } from \"../../../src/managers/controlManager\";\nimport { VrControl, VrControlOptions, VrControlsEvent } from \"../common\";\nimport { ControlTypeEnum, vrEditorItemEnum, vrEditorToolbarModeEnum, div, vrEditorCustomItem, vrEditorCustomMenuItem, EditorCustomMenuItemType, createSplitButton, createSwitch, createButtonGroup, createComboBox, createDatePicker, createTextBox, createButton, createSeparator, createLabel, puma, createSpeechRecognizer, vrEditorSpeechRecognizerSettings, createWindow, PositionEnum, vrEditorFontSizeSettings, EditorSpeechRecognizerPositionEnum, EditorSpeechRecognizerModeEnum, createMultilineTextBox, IconClassicLight, KeyEnum } from \"../vr\";\nimport { ButtonGroupOptions } from \"./buttonGroup\";\nimport { SpeechRecognizer } from \"./speechRecognizer\";\nimport { TextBox } from \"./textbox\";\nimport { Window } from \"./window\";\ndeclare var tinyMCE: any;\n\n//#region Options\nexport class EditorOptions extends VrControlOptions\n{\n    text?: string;\n    placeholder?: string;\n    resizable?: boolean;\n    language?: string;\n    pasteImages?: boolean;\n    toolbarMode?: vrEditorToolbarModeEnum;\n    menu?: boolean | vrEditorMenu;\n    toolbar?: boolean | vrEditorItemEnum[] | string;\n    plugins?: string;\n    customToolItems?: vrEditorCustomItem[];\n    customMenuItems?: vrEditorCustomMenuItem[];\n    baseUrl?: string;\n    speechRecognizer?: vrEditorSpeechRecognizerSettings | boolean;\n    fontSize?: vrEditorFontSizeSettings;\n    browserSpellCheck?: boolean;\n    pasteAsText?: boolean;\n    replacePtagWithDiv?: boolean;\n    statusbar?: boolean;\n\n    onFocus?: (e: EditorOnFocusEvent) => void;\n    onBlur?: (e: EditorOnBlurEvent) => void;\n    onCommand?: (e: EditorOnCommandEvent) => void;\n    onSetContent?: (e: EditorSetContentEvent) => void;\n    onBeforeResize?: (e: EditorOnResizingEvent) => void;\n    onAfterResize?: (e: EditorOnResizedEvent) => void;\n    onKeyUp?: (e: EditorOnKeyUpEvent) => void;\n    onKeyDown?: (e: EditorOnKeyDownEvent) => void;\n    onInit?: (e: EditorOnInitEvent) => void;\n    onDrop?: (e: EditorDropEvent) => void;\n    onDragEnter?: (e: EditorDragEnterEvent) => void;\n    onDragOver?: (e: EditorDragOverEvent) => void;\n    onDragLeave?: (e: EditorDragLeaveEvent) => void;\n}\n//#endregion\n\n//#region Control\nexport class Editor extends VrControl\n{\n    private _settings: any;\n    private _tinyMceControl: any;\n    private _divMenuItem: HTMLElement;\n    private _finalTextSpeeched: string;\n    private _value: string;\n    private _speechRecognizer: SpeechRecognizer;\n    private _divDragFile: HTMLElement;\n    private _initialized: boolean;\n    private _wndCommands: Window;\n    private _wndTempMessage: Window;\n    private _txtTempMessage: TextBox;\n\n    constructor(element: HTMLElement, options?: EditorOptions | null)\n    {\n        //#region Options\n        if (options == null)\n            options = new EditorOptions();\n\n        if (options.height == null) options.height = 350;\n        if (options.resizable == null) options.resizable = false;\n        if (options.pasteImages == null) options.pasteImages = false;\n        if (options.toolbar == null) options.toolbar = true;\n        if (options.menu == null) options.menu = true;\n        if (options.customMenuItems != null && options.menu !== false) options.menu = true;\n        if (options.baseUrl == null) options.baseUrl = \"/scripts/tinymce/\";\n        if (options.toolbarMode == null) options.toolbarMode = vrEditorToolbarModeEnum.Floating;\n        if (options.plugins == null) options.plugins = \"image,link,searchreplace,fullscreen,preview,emoticons,media,lists,pagebreak,table,charmap,code,wordcount\";\n        if (options.browserSpellCheck == null) options.browserSpellCheck = true;\n        if (options.enable == null) options.enable = true;\n        if (options.pasteAsText == null) options.pasteAsText = true;\n        if (options.replacePtagWithDiv == null) options.replacePtagWithDiv = true;\n        if (options.statusbar == null) options.statusbar = false;\n\n        if (options.speechRecognizer == null) options.speechRecognizer = true;\n        if (options.speechRecognizer !== false) \n        {\n            options.speechRecognizer = new vrEditorSpeechRecognizerSettings();\n            if (options.speechRecognizer.stopAtClick == null) options.speechRecognizer.stopAtClick = true;\n            if (options.speechRecognizer.position == null) options.speechRecognizer.position = EditorSpeechRecognizerPositionEnum.MenuItems;\n            if (options.speechRecognizer.mode == null) options.speechRecognizer.mode = EditorSpeechRecognizerModeEnum.Popup;\n            if (options.speechRecognizer.showInfoCommands == null) options.speechRecognizer.showInfoCommands = true;\n        }\n\n        if (options.fontSize == null) options.fontSize = new vrEditorFontSizeSettings();\n        if (options.fontSize.defaultSize == null) options.fontSize.defaultSize = 12;\n        if (options.fontSize.formatSizeList == null) options.fontSize.formatSizeList = [8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 24, 36];\n        //#endregion\n\n        super(element, options, ControlTypeEnum.Editor);\n\n        //#region Toolbar\n        let toolbar: any = false;\n        if (options.toolbar === true)\n            toolbar = \"bold italic underline | fontfamily fontsize | alignleft aligncenter alignright alignjustify | numlist bullist | forecolor link | fullscreen\";\n        else if (options.toolbar === false)\n            toolbar = false;\n        else\n            toolbar = options.toolbar.toString().replace(/,/g, \" \");\n        //#endregion\n\n        //#region Menu\n        let menuBar = false;\n        let menu: any = {};\n        if (options.menu === true)\n        {\n            menuBar = true;\n            menu = {\n                file: { title: \"\", items: \"\" },\n                edit: { title: \"Edit\", items: \"undo redo | cut copy | selectall searchreplace\" },\n                view: { title: \"View\", items: \"preview code wordcount | fullscreen\" },\n                insert: { title: \"\", items: \"\" },\n                format: { title: \"Format\", items: \"bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat\" },\n                table: { title: \"\", items: \"\" },\n                tools: { title: \"\", items: \"\" },\n            };\n        }\n        else if (options.menu === false)\n        {\n            menuBar = false;\n            menu = undefined;\n        }\n        else\n        {\n            menuBar = true;\n\n            //#region Menu file\n            if (!options.menu.file)\n                menu.file = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"preview\";\n                if (options.menu.file === true)\n                    menu.file = { title: \"File\", items: defaultItems };\n                else\n                    menu.file = { title: (options.menu.file.title == null) ? \"File\" : options.menu.file.title, items: (options.menu.file.items == null) ? defaultItems : options.menu.file.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n\n            //#region Menu edit\n            if (!options.menu.edit)\n                menu.edit = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"undo redo | cut copy | selectall searchreplace\";\n                if (options.menu.edit === true)\n                    menu.edit = { title: \"Edit\", items: defaultItems };\n                else\n                    menu.edit = { title: (options.menu.edit.title == null) ? \"Edit\" : options.menu.edit.title, items: (options.menu.edit.items == null) ? defaultItems : options.menu.edit.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n\n            //#region Menu view\n            if (!options.menu.view)\n                menu.view = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"preview code wordcount fullscreen\";\n                if (options.menu.view === true)\n                    menu.view = { title: \"View\", items: defaultItems };\n                else\n                    menu.view = { title: (options.menu.view.title == null) ? \"View\" : options.menu.view.title, items: (options.menu.view.items == null) ? defaultItems : options.menu.view.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n\n            //#region Menu insert\n            if (!options.menu.insert)\n                menu.insert = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"link | charmap pagebreak\";\n                if (options.menu.insert === true)\n                    menu.insert = { title: \"Insert\", items: defaultItems };\n                else\n                    menu.insert = { title: (options.menu.insert.title == null) ? \"Insert\" : options.menu.insert.title, items: (options.menu.insert.items == null) ? defaultItems : options.menu.insert.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n\n            //#region Menu format\n            if (!options.menu.format)\n                menu.format = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat\";\n                if (options.menu.format === true)\n                    menu.format = { title: \"Format\", items: defaultItems };\n                else\n                    menu.format = { title: (options.menu.format.title == null) ? \"Format\" : options.menu.format.title, items: (options.menu.format.items == null) ? defaultItems : options.menu.format.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n\n            //#region Menu table\n            if (!options.menu.table)\n                menu.table = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"inserttable cell row\";\n                if (options.menu.table === true)\n                    menu.table = { title: \"Table\", items: defaultItems };\n                else\n                    menu.table = { title: (options.menu.table.title == null) ? \"Table\" : options.menu.table.title, items: (options.menu.table.items == null) ? defaultItems : options.menu.table.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n\n            //#region Menu tools\n            if (!options.menu.tools)\n                menu.tools = { title: \"\", items: \"\" };\n            else\n            {\n                let defaultItems = \"code wordcount\";\n                if (options.menu.tools === true)\n                    menu.tools = { title: \"Tools\", items: defaultItems };\n                else\n                    menu.tools = { title: (options.menu.tools.title == null) ? \"Tools\" : options.menu.tools.title, items: (options.menu.tools.items == null) ? defaultItems : options.menu.tools.items.toString().replace(/,/g, \" \") };\n            }\n            //#endregion\n        }\n        //#endregion\n\n        //#region Custom items\n        let customItemValues = \"\";\n        if (options.customToolItems != null)\n        {\n            for (let i = 0; i < options.customToolItems.length; i++)\n                customItemValues += \" customItem\" + i;\n        }\n        //#endregion\n\n        //#region CustomMenu items\n        let divMenuItemTop = (options.label != null && options.labelSettings!.position == PositionEnum.Top) ? 24 : 6;\n        this._divMenuItem = div(this.container(), { css: \"position: absolute; top: \" + divMenuItemTop + \"px; right: 5px; z-index: 1; display: none;\" });\n        if (menubar)\n        {\n            if (options.customMenuItems != null)\n            {\n                for (let menuItem of options.customMenuItems)\n                    this.addMenuItem(menuItem);\n            }\n        }\n        //#endregion\n\n        //#region Speech recognizer\n        if (options.speechRecognizer !== false)\n        {\n            this._finalTextSpeeched = \"\";\n            this._speechRecognizer = createSpeechRecognizer({\n                size: 20,\n                cssContainer: \"margin-left: 10px;\" + ((options.speechRecognizer.position == EditorSpeechRecognizerPositionEnum.MenuItems) ? ((options.menu !== false) ? \"top: 48px; right: -6px;\" : \"top: 10px;\") : \"\"),\n                stopAtClick: options.speechRecognizer.stopAtClick,\n                onEnd: (e) =>\n                {\n                    if (this._wndCommands != null)\n                        this._wndCommands.close();\n\n                    if (this._wndTempMessage != null)\n                        this._wndTempMessage.close();\n                },\n                onStart: (e) => this._finalTextSpeeched = this.value() + \" \",\n                onClick: (e) => \n                {\n                    if ((options!.speechRecognizer! as vrEditorSpeechRecognizerSettings).mode == EditorSpeechRecognizerModeEnum.Popup)\n                    {\n                        if ((this._wndTempMessage == null || !this._wndTempMessage.visible()) && !e.sender.isRecording())\n                            this.openWindowTempMessage();\n                        else if (this._wndTempMessage != null)\n                            this._wndTempMessage.close();\n                    }\n                },\n                onResult: (e) =>\n                {\n                    if (e.interimResults.length > 0)\n                    {\n                        let interimResults = this.parseInput(e.interimResults, true);\n                        if (this._txtTempMessage != null && (options!.speechRecognizer! as vrEditorSpeechRecognizerSettings).mode == EditorSpeechRecognizerModeEnum.Popup)\n                            this._txtTempMessage.value(interimResults);\n                        else\n                            this.value(this._finalTextSpeeched + interimResults);\n                    }\n\n                    if (e.finalResults.length > 0)\n                    {\n                        if (e.finalResults.toLowerCase().includes(\"stop registrazione\") || e.finalResults.toLowerCase().includes(\"fine registrazione\"))\n                            e.sender.stop();\n\n                        let finalResults = this.parseInput(e.finalResults);\n                        if (this._txtTempMessage != null && (options!.speechRecognizer! as vrEditorSpeechRecognizerSettings).mode == EditorSpeechRecognizerModeEnum.Popup)\n                        {\n                            this._txtTempMessage.clear();\n                            this.insertTextAtCursor(finalResults);\n                        }\n                        else\n                        {\n                            this._finalTextSpeeched += finalResults;\n                            this.value(this._finalTextSpeeched);\n                        }\n                    }\n                }\n            }, this._divMenuItem);\n        }\n        //#endregion\n\n        //#region TinyMce control settings\n        tinyMCE.baseURL = options.baseUrl;\n        tinyMCE.suffix = \".min\";\n        tinyMCE.init(<TinyMceSettings>\n            {\n                selector: \"#\" + this.element().id,\n                height: \"100%\",\n                readonly: !options.enable,\n                placeholder: options.placeholder,\n                resize: options.resizable,\n                toolbar_mode: options.toolbarMode,\n                paste_data_images: options.pasteImages,\n                language: options.language,\n                menu: menu,\n                menubar: menuBar,\n                statusbar: options.statusbar,\n                toolbar: toolbar + customItemValues,\n                plugins: options.plugins,\n                browser_spellcheck: options.browserSpellCheck,\n                contextmenu: false,\n                font_size_formats: options.fontSize.formatSizeList.join(\"pt \") + \"pt\",\n                content_style: \"body { font-size: \" + options.fontSize.defaultSize + \"pt; } p { margin-top: 0px; margin-bottom: 0px; }\",\n                forced_root_block: \"div\",\n                paste_as_text: options.pasteAsText,\n                setup: (editor: any) =>\n                {\n                    //#region Custom items\n                    if (options!.customToolItems != null)\n                    {\n                        let i = 0;\n                        for (let customToolItem of options!.customToolItems)\n                        {\n                            editor.ui.registry.addButton(\"customItem\" + i,\n                                {\n                                    icon: customToolItem.icon,\n                                    image: customToolItem.imageUrl,\n                                    tooltip: customToolItem.tooltip,\n                                    text: customToolItem.text,\n                                    onAction: function (e: any)\n                                    {\n                                        if (customToolItem.onClick != null)\n                                        {\n                                            let clickEvent = new EditorItemClickEvent();\n                                            clickEvent.sender = this;\n                                            customToolItem.onClick(clickEvent);\n                                        }\n                                    }\n                                });\n                            i++;\n                        }\n                    }\n                    //#endregion\n\n                    //#region Events\n                    editor.on(\"keyup\", (e: any) =>\n                    {\n                        if (options!.onKeyUp != null)\n                        {\n                            let event = new EditorOnKeyUpEvent();\n                            event.sender = this;\n                            event.key = e.key;\n                            event.keyCode = e.keyCode;\n                            event.realEvent = e;\n                            options!.onKeyUp(event);\n                        }\n                    });\n\n                    editor.on(\"keydown\", (e: any) =>\n                    {\n                        //#region Go to next control when press tab\n                        if (e.key == KeyEnum.Tab)\n                        {\n                            let nextControlId = puma(this.container()).nextAll(\".vrControlsContainer\").first().attr(\"id\");\n                            if (nextControlId != null && nextControlId != \"\")\n                            {\n                                nextControlId = nextControlId.replace(\"Container\", \"\");\n                                let control = ControlManager.get(nextControlId);\n                                if (control != null)\n                                    control.focus();\n                                else\n                                    puma(nextControlId).focus();\n\n                                e.preventDefault();\n                            }\n                        }\n                        //#endregion\n\n                        if (options!.onKeyDown != null)\n                        {\n                            let event = new EditorOnKeyDownEvent();\n                            event.sender = this;\n                            event.key = e.key;\n                            event.keyCode = e.keyCode;\n                            event.realEvent = e;\n                            options!.onKeyDown(event);\n\n                            if (event.isDefaultPrevented())\n                            {\n                                e.preventDefault();\n                                return;\n                            }\n                        }\n                    });\n\n                    editor.on(\"init\", (e: any) =>\n                    {\n                        this._initialized = true;\n                        puma(this._divMenuItem).show();\n                        puma(e.target.iframeElement.contentDocument).find(\"html\").height(\"100%\");\n                        puma(e.target.iframeElement.contentDocument).find(\"body\").height(\"-webkit-fill-available\");\n\n                        if (options!.onInit != null)\n                        {\n                            let event = new EditorOnInitEvent();\n                            event.sender = this;\n                            event.event = e;\n                            options!.onInit(event);\n\n                            if (event.isDefaultPrevented())\n                                return;\n                        }\n\n                        //#region Text\n                        if (options!.text != null)\n                            this.value(options!.text);\n                        else if (this._value != \"\")\n                            this.value(this._value);\n                        //#endregion\n                    });\n\n                    this._divDragFile = div(this.container(), { class: \"vrEditorDragDrop\", content: \"Trascina qui i file...\" });\n\n                    editor.on(\"dragenter\", (e: any) =>\n                    {\n                        if (options!.onDragEnter != null)\n                        {\n                            let dragEnterEvent = new EditorDragEnterEvent();\n                            dragEnterEvent.sender = this;\n                            dragEnterEvent.element = e.currentTarget;\n                            dragEnterEvent.event = e;\n                            dragEnterEvent.realEvent = e;\n                            options!.onDragEnter(dragEnterEvent);\n                        }\n\n                        e.preventDefault();\n                        e.stopPropagation();\n                    });\n\n                    editor.on(\"dragover\", (e: any) =>\n                    {\n                        if (options!.onDragOver != null)\n                        {\n                            let dragOverEvent = new EditorDragOverEvent();\n                            dragOverEvent.sender = this;\n                            dragOverEvent.element = e.currentTarget;\n                            dragOverEvent.event = e;\n                            dragOverEvent.realEvent = e;\n                            options!.onDragOver(dragOverEvent);\n\n                            if (dragOverEvent.isDefaultPrevented())\n                            {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                return;\n                            }\n                        }\n\n                        puma(this._divDragFile).css({ \"display\": \"flex\" });\n\n                        e.preventDefault();\n                        e.stopPropagation();\n                    });\n\n                    [\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach(eventName =>\n                    {\n                        this._divDragFile.addEventListener(eventName, (e) =>\n                        {\n                            e.preventDefault()\n                            e.stopPropagation()\n                        }, false);\n                    });\n\n                    puma(this._divDragFile).on(\"dragleave\", (e: any) => this.manageDragLeave(e));\n                    editor.on(\"dragleave\", (e: any) => this.manageDragLeave(e));\n\n                    editor.on(\"drop\", (e: any) => this.manageDrop(e));\n                    puma(this._divDragFile).on(\"drop\", (e: any) => this.manageDrop(e));\n                    //#endregion\n                }\n            });\n        this._tinyMceControl = tinyMCE.get(this.element().id);\n        this._settings = this._tinyMceControl.settings;\n        //#endregion\n\n        //#region Events\n        tinyMCE.activeEditor.on(\"focus\", (e: any) =>\n        {\n            if (options!.onFocus != null)\n            {\n                let event = new EditorOnFocusEvent();\n                event.sender = this;\n                event.realEvent = e;\n                options!.onFocus(event);\n            }\n        });\n\n        tinyMCE.activeEditor.on(\"blur\", (e: any) =>\n        {\n            if (options!.onBlur != null)\n            {\n                let event = new EditorOnBlurEvent();\n                event.sender = this;\n                event.realEvent = e;\n                options!.onBlur(event);\n            }\n        });\n\n        tinyMCE.activeEditor.on(\"ExecCommand\", (e: any) =>\n        {\n            if (options!.onCommand != null)\n            {\n                let event = new EditorOnCommandEvent();\n                event.sender = this;\n                event.command = e.command;\n                event.value = e.value;\n                event.type = e.type;\n                event.realEvent = e;\n                options!.onCommand(event);\n            }\n        });\n\n        tinyMCE.activeEditor.on(\"GetContent\", (e: any) =>\n        {\n            if (options!.onSetContent != null)\n            {\n                let event = new EditorSetContentEvent();\n                event.sender = this;\n                event.content = e.content;\n                event.element = e.element;\n                event.format = e.format;\n                event.type = e.type;\n                event.realEvent = e;\n                options!.onSetContent(event);\n            }\n        });\n\n        tinyMCE.activeEditor.on(\"ObjectResizeStart\", (e: any) =>\n        {\n            if (options!.onBeforeResize != null)\n            {\n                let event = new EditorOnResizingEvent();\n                event.sender = this;\n                event.height = e.height;\n                event.width = e.width;\n                event.target = e.target;\n                event.type = e.type;\n                event.realEvent = e;\n                options!.onBeforeResize(event);\n            }\n        });\n\n        tinyMCE.activeEditor.on(\"ObjectResized\", (e: any) =>\n        {\n            if (options!.onAfterResize != null)\n            {\n                let event = new EditorOnResizedEvent();\n                event.sender = this;\n                event.height = e.height;\n                event.width = e.width;\n                event.target = e.target;\n                event.type = e.type;\n                event.realEvent = e;\n                options!.onAfterResize(event);\n            }\n        });\n        //#endregion\n    }\n\n    //#region Methods\n    settings(): TinyMceSettings\n    {\n        return this._settings;\n    }\n\n    private openWindowTempMessage()\n    {\n        this.createWindowTempMessage();\n        this._wndTempMessage.open();\n    }\n\n    private createWindowTempMessage()\n    {\n        if (this._wndTempMessage != null)\n            return;\n\n        let options = this.getOptions();\n        this._wndTempMessage = createWindow({\n            title: \"Testo temporaneo\",\n            height: 210,\n            width: 300,\n            modal: false,\n            position: { bottom: 37, right: 10 },\n            footer: false,\n            onClose: (e) =>\n            {\n                puma(this._wndTempMessage.container()).remove();\n                (this._wndTempMessage as any) = null;\n                (this._txtTempMessage as any) = null;\n            },\n        });\n\n        this._txtTempMessage = createMultilineTextBox({\n            placeholder: \"Comincia a parlare per visualizzare il testo... fermati per inserirlo nell'editor\",\n            height: 160,\n            enable: false,\n            width: \"100%\"\n        }, this._wndTempMessage.element())\n\n        createButton({\n            icon: IconClassicLight.Info,\n            cssContainer: \"margin-right: 16px; margin-top: 4px;\",\n            css: \"font-size: 17px; border: none; background: none;\",\n            colorSettings: { textColor: \"#FFF\" },\n            visible: (options.speechRecognizer! as vrEditorSpeechRecognizerSettings).showInfoCommands!,\n            onClick: (e) =>\n            {\n                if (this._wndCommands == null || !this._wndCommands.visible())\n                    this.openWindowCommands();\n                else\n                    this._wndCommands.close();\n            }\n        }, this._wndTempMessage.header())\n    }\n\n    private openWindowCommands()\n    {\n        this.createWindowCommands();\n        this._wndCommands.open();\n    }\n\n    private createWindowCommands()\n    {\n        if (this._wndCommands != null)\n            return;\n\n        this._wndCommands = createWindow({\n            title: \"Comandi consentiti\",\n            height: 300,\n            width: 185,\n            modal: false,\n            position: { bottom: 255, right: 10 },\n            footer: false,\n            onClose: (e) =>\n            {\n                puma(this._wndCommands.container()).remove();\n                (this._wndCommands as any) = null;\n            },\n            content: `<div style='font-size: 14px;'>Comandi consentiti: <ul>\n                    <li>(Punto) A capo</li>\n                    <li>Virgola</li>\n                    <li>Punto</li>\n                    <li>Due punti</li>\n                    <li>Punto e virgola</li>\n                    <li>Punto virgola</li>\n                    <li>Punto esclamativo</li>\n                    <li>Punto interrogativo</li>\n                    <li>Puntini</li>\n                    <li>Trattino</li>\n                    <li>Fine registrazione</li>\n                </ul></font>`\n        });\n    }\n\n    private parseInput(text: string, interim = false)\n    {\n        //#region Replace special characters\n        text = this.replaceAll(text, \"punto a capo\", \".<br />\", true);\n        text = this.replaceAll(text, \"a capo\", \"<br />\");\n        text = this.replaceAll(text, \"punto e virgola\", \"; \");\n        text = this.replaceAll(text, \"punto virgola\", \"; \");\n        text = this.replaceAll(text, \"virgola\", \", \");\n        text = this.replaceAll(text, \"due punti\", \": \");\n        text = this.replaceAll(text, \"2 punti\", \": \");\n        text = this.replaceAll(text, \"slash\", \"/\");\n        text = this.replaceAll(text, \"trattino\", \" - \");\n        text = this.replaceAll(text, \"punto esclamativo\", \"! \", true);\n        text = this.replaceAll(text, \"esclamativo\", \"! \", true);\n        text = this.replaceAll(text, \"punto interrogativo\", \"? \", true);\n        text = this.replaceAll(text, \"interrogativo\", \"? \", true);\n        text = this.replaceAll(text, \"pumo\", \" Pumo \");\n        text = this.replaceAll(text, \"punto\", \". \", true);\n        text = this.replaceAll(text, \"puntini\", \"... \");\n        text = this.replaceAll(text, \"parentesi aperta\", \" (\");\n        text = this.replaceAll(text, \"parentesi chiusa\", \") \");\n        text = this.replaceAll(text, \"maiuscolo\", \" \", true);\n        text = this.replaceAll(text, \"primo in numero\", \" 1° \");\n        text = this.replaceAll(text, \"secondo in numero\", \" 2° \");\n\n        if (!interim)\n        {\n            text = this.replaceAll(text, \"stop registrazione\", \" \");\n            text = this.replaceAll(text, \"fine registrazione\", \" \");\n        }\n        //#endregion\n\n        return text;\n    }\n\n    private replaceAll(text: string, find: string, replace: string, toUpperNext = false)\n    {\n        if (toUpperNext)\n            text = text.replace(new RegExp(`(?<=${find}\\\\s*)(.)`, \"gi\"), (k) => { return k.toUpperCase() })\n\n        text = text.replace(new RegExp(`\\\\s*${find}\\\\s*`, \"gi\"), replace);\n        return text;\n    }\n\n    private manageDragLeave(e: any)\n    {\n        let options = this.getOptions();\n        if (options!.onDragLeave != null)\n        {\n            let dragLeaveEvent = new EditorDragLeaveEvent();\n            dragLeaveEvent.sender = this;\n            dragLeaveEvent.element = e.currentTarget;\n            dragLeaveEvent.event = e;\n            options!.onDragLeave(dragLeaveEvent);\n\n            if (dragLeaveEvent.isDefaultPrevented())\n            {\n                e.preventDefault();\n                e.stopPropagation();\n                return;\n            }\n        }\n\n        puma(this._divDragFile).hide();\n\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    private manageDrop(e: any)\n    {\n        let options = this.getOptions();\n        if (options!.onDrop != null)\n        {\n            let files: File[] = [...e.dataTransfer.files as any];\n\n            let dropEvent = new EditorDropEvent();\n            dropEvent.sender = this;\n            dropEvent.element = e.currentTarget;\n            dropEvent.files = files;\n            dropEvent.event = e;\n            options!.onDrop(dropEvent);\n\n            if (dropEvent.isDefaultPrevented())\n            {\n                e.preventDefault();\n                e.stopPropagation();\n                return;\n            }\n        }\n\n        puma(this._divDragFile).hide();\n\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    tinyMceControl(): any\n    {\n        return this._tinyMceControl;\n    }\n\n    value(text?: string | null, html = true): string\n    {\n        let options = this.getOptions();\n        if (text != null)\n        {\n            this._value = text;\n            if (this.tinyMceControl().initialized)\n                this.tinyMceControl().setContent(text);\n        }\n\n        let result = (this.tinyMceControl().initialized) ? ((html) ? this.tinyMceControl().getContent() : this.body().innerText) : \"\";\n        if (options.replacePtagWithDiv)\n            return result.replace(/<p/g, \"<div\").replace(/\\/p>/g, \"/div>\");\n        else\n            return result;\n    }\n\n    insertTextAtCursor(text: string): void\n    {\n        this.tinyMceControl().insertContent(text);\n    }\n\n    appendText(text: string, html = true): string\n    {\n        return this.value(this.value(null, html) + text);\n    }\n\n    body(): HTMLBodyElement\n    {\n        return this.tinyMceControl().getBody();\n    }\n\n    speechRecognizer()\n    {\n        return this._speechRecognizer;\n    }\n\n    clear(): void\n    {\n        this.value(\"\");\n        this._finalTextSpeeched = \"\";\n    }\n\n    focus(): void\n    {\n        if (!this._initialized)\n        {\n            let focusInterval = window.setInterval(() =>\n            {\n                if (this._initialized)\n                {\n                    $(tinyMCE.get(this.element().id).getBody()).trigger(\"focus\")\n                    window.clearInterval(focusInterval);\n                }\n            }, 100)\n        }\n        else\n            $(tinyMCE.get(this.element().id).getBody()).trigger(\"focus\")\n    }\n\n    addMenuItem(item: vrEditorCustomMenuItem)\n    {\n        let options = this.getOptions();\n        if (options.menu !== false)\n        {\n            if (item.buttonGroupOptions == null) item.buttonGroupOptions = new ButtonGroupOptions();\n            if (item.buttonGroupOptions.width == null) item.buttonGroupOptions.width = \"auto\";\n\n            switch (item.type)\n            {\n                case EditorCustomMenuItemType.SplitButton: createSplitButton(item.splitButtonOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.Switch: createSwitch(item.switchOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.ButtonGroup: createButtonGroup(item.buttonGroupOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.ComboBox: createComboBox(item.comboBoxOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.DatePicker: createDatePicker(item.datePickerOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.TextBox: createTextBox(item.textBoxOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.Button: createButton(item.buttonOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.Separator: createSeparator(item.separatorOptions, this._divMenuItem); break;\n                case EditorCustomMenuItemType.Label: createLabel(item.labelOptions, this._divMenuItem); break;\n            }\n        }\n    }\n\n    getOptions()\n    {\n        return this.options<EditorOptions>();\n    }\n    //#endregion\n\n    //#region Overrides\n    enable(): void\n    {\n        super.enable();\n        if (this.settings() != null)\n            this.settings().readonly = false;\n\n        if (tinyMCE != null && tinyMCE.activeEditor != null)\n            tinyMCE.activeEditor.mode.set(\"design\");\n\n        if (this._speechRecognizer != null)\n            this._speechRecognizer.enable();\n    }\n\n    disable(): void\n    {\n        super.disable();\n        if (this.settings() != null)\n            this.settings().readonly = true;\n\n        if (tinyMCE != null && tinyMCE.activeEditor != null)\n            tinyMCE.activeEditor.mode.set(\"readonly\");\n\n        if (this._speechRecognizer != null)\n            this._speechRecognizer.disable();\n    }\n    //#endregion\n}\n//#endregion\n\n//#region Classes\nclass TinyMceSettings\n{\n    readonly?: boolean;\n    placeholder?: string;\n    resize?: boolean;\n    elements?: string;\n    toolbar_mode?: vrEditorToolbarModeEnum;\n    paste_data_images?: boolean;\n    language?: string;\n    toolbar?: string;\n    plugins?: string;\n    paste_enable_default_filters?: boolean;\n    paste_word_valid_elements?: string;\n    paste_retain_style_properties?: string;\n    menubar?: boolean;\n    menu?: any;\n}\n\nclass vrEditorMenu\n{\n    file?: boolean | vrEditorMenuItem;\n    edit?: boolean | vrEditorMenuItem;\n    view?: boolean | vrEditorMenuItem;\n    insert?: boolean | vrEditorMenuItem;\n    format?: boolean | vrEditorMenuItem;\n    tools?: boolean | vrEditorMenuItem;\n    table?: boolean | vrEditorMenuItem;\n}\n\nclass vrEditorMenuItem\n{\n    items?: vrEditorItemEnum[] | string;\n    title?: string;\n}\n//#endregion\n\n//#region Events\nclass EditorEvent extends VrControlsEvent\n{\n    sender: Editor;\n    realEvent: any;\n}\n\nexport class EditorItemClickEvent extends EditorEvent\n{\n}\n\nclass EditorOnFocusEvent extends EditorEvent\n{ }\n\nclass EditorOnBlurEvent extends EditorEvent\n{ }\n\nclass EditorOnCommandEvent extends EditorEvent\n{\n    command: string;\n    type: string;\n    value: any;\n}\n\nclass EditorSetContentEvent extends EditorEvent\n{\n    content: string;\n    element: HTMLElement;\n    format: string;\n    type: string;\n}\n\nclass EditorOnResizingEvent extends EditorEvent\n{\n    height: number;\n    width: number;\n    target: HTMLElement;\n    type: string;\n}\n\nclass EditorOnResizedEvent extends EditorEvent\n{\n    height: number;\n    width: number;\n    target: HTMLElement;\n    type: string;\n}\n\nclass EditorOnKeyUpEvent extends EditorEvent\n{\n    key: string;\n    keyCode: string;\n}\n\nclass EditorOnKeyDownEvent extends EditorEvent\n{\n    key: string;\n    keyCode: string;\n}\n\nclass EditorOnInitEvent extends EditorEvent\n{\n    event: any;\n}\n\nclass EditorDragDropEvent extends EditorEvent\n{\n    event: any;\n    element: HTMLElement;\n}\n\nclass EditorDropEvent extends EditorDragDropEvent\n{\n    files: File[];\n}\n\nclass EditorDragEnterEvent extends EditorDragDropEvent { }\nclass EditorDragOverEvent extends EditorDragDropEvent { }\nclass EditorDragLeaveEvent extends EditorDragDropEvent { }\n//#endregion"],"names":[],"mappings":"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"}