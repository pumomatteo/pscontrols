{"version":3,"file":"utilityManager.js","sources":["../../../src/managers/utilityManager.ts"],"sourcesContent":["import { jqueryVariable, puma, WebApiModeEnum, span, notifyError, IconClass } from \"../ui/vr\";\n\nexport class UtilityManager\n{\n    static createGuid()\n    {\n        const hex = [...Array(256).keys()].map(index => (index).toString(16).padStart(2, '0'));\n        const r = crypto.getRandomValues(new Uint8Array(16));\n        r[6] = (r[6] & 0x0f) | 0x40;\n        r[8] = (r[8] & 0x3f) | 0x80;\n\n        return [...r.entries()]\n            .map(([index, int]) => [4, 6, 8, 10].includes(index) ? `-${hex[int]}` : hex[int])\n            .join('');\n    }\n\n    static currentSequence: number = 0;\n    static getCurrentSequence()\n    {\n        return ++this.currentSequence;\n    }\n\n    static interval(callback: Function, each: number, timeout?: number, timeoutCallback?: Function)\n    {\n        let interval = window.setInterval(() => callback(), each);\n        if (timeout != null)\n            window.setTimeout(() => \n            {\n                window.clearInterval(interval);\n                if (timeoutCallback != null)\n                    timeoutCallback();\n            }, timeout);\n    }\n\n    static createIcon(icon: IconClass): HTMLElement\n    {\n        return puma(\"<i class='\" + icon + \" vrIcon' aria-hidden='true'></i>\")[0];\n    }\n\n    static duplicate(element: any): any\n    {\n        if (element != null)\n        {\n            if (Array.isArray(element))\n                return element.filter(k => k).map(k => k);\n            else\n                return JSON.parse(JSON.stringify(element));\n        }\n        return null;\n    }\n\n    static equals(item1: any, item2: any) // Only primitive types\n    {\n        if (item1 == null && item2 == null)\n            return true;\n        else if (item1 == null || item2 == null)\n            return false;\n\n        if ((Object.prototype.toString.call(item1) === '[object Date]') && (Object.prototype.toString.call(item2) === '[object Date]'))\n            return Date.vrEquals(item1, item2);\n        else if (typeof (item1) == \"number\" && typeof (item2) == \"number\")\n            return Number(item1) == Number(item2);\n        else if ((typeof (item1) == \"string\" && typeof (item2) == \"string\") || (typeof (item1) == \"boolean\" && typeof (item2) == \"boolean\"))\n            return item1 == item2;\n        else\n            return item1 == item2;\n    }\n\n    static getMonthNumberByName(monthName: string)\n    {\n        switch (monthName.toLowerCase())\n        {\n            case \"gennaio\": return MonthEnum.January;\n            case \"febbraio\": return MonthEnum.February;\n            case \"marzo\": return MonthEnum.March;\n            case \"aprile\": return MonthEnum.April;\n            case \"maggio\": return MonthEnum.May;\n            case \"giugno\": return MonthEnum.June;\n            case \"luglio\": return MonthEnum.July;\n            case \"agosto\": return MonthEnum.August;\n            case \"settembre\": return MonthEnum.September;\n            case \"ottobre\": return MonthEnum.October;\n            case \"novembre\": return MonthEnum.November;\n            case \"dicembre\": return MonthEnum.December;\n            default:\n                return -1;\n        }\n    }\n\n    static doAjaxCall<T>(settings: AjaxCallSettings, callBack?: (response: T) => void, errorCallback?: () => void)\n    {\n        let data = undefined;\n        if (settings.request != null)\n        {\n            settings.request[\"authKey\"] = settings.authKey;\n            data = JSON.stringify(settings.request);\n        }\n\n        //#region Multipart\n        let formDataMultipart = null;\n        if (settings.file != null)\n        {\n            formDataMultipart = new FormData();\n            formDataMultipart.append(\"file\", settings.file);\n        }\n        //#endregion\n\n        let result: T | null = null;\n        jqueryVariable().ajax({\n            async: (settings.mode == WebApiModeEnum.Async) ? true : false,\n            beforeSend: (xhr: any) =>\n            {\n                //#region Header parameters\n                xhr.setRequestHeader(\"Accept-Language\", \"it\");\n                xhr.setRequestHeader(\"AuthKey\", settings.authKey);\n                if (settings!.headerParameters != null)\n                {\n                    let headerParameters = Object.getOwnPropertyNames(settings!.headerParameters);\n                    for (let param of headerParameters)\n                        xhr.setRequestHeader(param, settings!.headerParameters[param]);\n                }\n                //#endregion\n            },\n            contentType: (settings.file != null) ? false : \"application/json\",\n            data: (settings.file != null) ? formDataMultipart : data,\n            method: \"POST\",\n            processData: false,\n            url: settings.method,\n            success: (response: any) =>\n            {\n                if (settings!.mode == WebApiModeEnum.Sync)\n                    result = response as T;\n\n                if (callBack != null)\n                {\n                    response.guid = (settings.request != null) ? settings.request.guid : null;\n                    callBack(response);\n                }\n            },\n            error: (response: JQueryXHR) => \n            {\n                notifyError(\"Errore nella chiamata alla webApi\")\n                console.error(response);\n\n                if (errorCallback != null)\n                    errorCallback();\n            }\n        });\n        return result;\n    }\n\n    static htmlDecode(text: string)\n    {\n        let doc = new DOMParser().parseFromString(text, \"text/html\");\n        return doc.documentElement.textContent;\n    }\n\n    static textWidth(object: HTMLElement | string, outerWidth = false): number\n    {\n        let width = 0;\n        if (typeof (object) == \"string\")\n        {\n            let spanTemp = span(document.body);\n            spanTemp.id = \"utility_tempSpanTextWidth\";\n\n            spanTemp.innerHTML = object.replace(/\\s/g, \"&nbsp;\");\n            width = spanTemp.offsetWidth;\n\n            puma(\"#utility_tempSpanTextWidth\").remove();\n        }\n        else\n        {\n            // Wrap text into span\n            let originalHtmlText = (typeof (object) == \"string\") ? object : puma(object).html();\n            let htmlCalculated = \"<span style='display: inline-block; overflow-y: scroll; white-space: nowrap;'>\" + originalHtmlText + \"</span>\";\n            puma(object).html(htmlCalculated);\n\n            // Calculate width\n            if (!outerWidth)\n                width = puma(object).find(\"span:first\").width();\n            else\n                width = puma(object).find(\"span:first\").outerWidth(true);\n\n            // Restore original\n            puma(object).html(originalHtmlText);\n        }\n        return width;\n    }\n\n    static objectWidth(object: HTMLElement | string, outerWidth = false)\n    {\n        let dup = puma(object).clone();\n        puma(\"html\").append(dup);\n\n        let width = 0;\n        if (!outerWidth)\n            width = puma(dup).width();\n        else\n            width = puma(dup).outerWidth(true);\n\n        return width;\n    }\n\n    static downloadPdfBytes(base64Bytes: string, name = \"download.pdf\")\n    {\n        if (!name.endsWith(\".pdf\"))\n            name += \".pdf\";\n\n        let arraybuffer = this.base64ToArrayBuffer(base64Bytes);\n        let blob = new Blob([arraybuffer], { type: \"application/pdf\" });\n        let url = URL.createObjectURL(blob);\n\n        let a = document.createElement(\"a\");\n        a.href = url;\n        a.download = name;\n        a.click();\n\n        // let url = \"data:application/pdf;base64,\" + base64Bytes;\n        // this.openUrl(url, name);\n    }\n\n    private static base64ToArrayBuffer(base64: string): ArrayBuffer\n    {\n        var binary_string = window.atob(base64.replace(/\\s/g, ''));\n        var len = binary_string.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++)\n            bytes[i] = binary_string.charCodeAt(i);\n\n        return bytes.buffer;\n    }\n\n    static openUrl(url: string, name = \"download\", newTab = false)\n    {\n        let aTag = document.createElement(\"a\");\n        aTag.id = \"utility_tempOpeningUrl\";\n        aTag.href = url;\n        aTag.download = name;\n\n        if (newTab)\n            aTag.target = \"_blank\";\n\n        aTag.click();\n        puma(\"#utility_tempOpeningUrl\").remove();\n    }\n\n    static isValidEmail(email: string)\n    {\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(String(email).toLowerCase());\n    }\n\n    //#region Files/Css/Js\n    static addCssStyle(cssRules: string, id?: string)\n    {\n        if (cssRules != null && cssRules != \"\")\n        {\n            let idAttribute = (id == null) ? \"\" : \" id='\" + id + \"'\";\n            puma(\"<style\" + idAttribute + \">\" + cssRules + \"</style>\").vrAppendToPuma(\"head\");\n        }\n    }\n\n    static addCssFiles(...pathList: string[])\n    {\n        let promise = new Promise((callback: Function) =>\n        {\n            if (pathList != null && pathList.length > 0)\n            {\n                let head = document.getElementsByTagName(\"head\")[0];\n                for (let path of pathList)\n                {\n                    let existing = $(\"link[rel='stylesheet']\").filter((k, e) => (e as HTMLLinkElement).href.toLowerCase().startsWith(path.toLowerCase() + \"?\"));\n                    if (existing.length == 0)\n                    {\n                        let css = document.createElement(\"link\");\n                        css.href = path;\n                        css.type = \"text/css\";\n                        css.rel = \"stylesheet\";\n                        head.appendChild(css);\n                    }\n                }\n                callback();\n            }\n        });\n        return promise;\n    }\n\n    static addJsScript(jsRules: string, id?: string)\n    {\n        if (jsRules != null && jsRules != \"\")\n        {\n            let idAttribute = (id == null) ? \"\" : \" id='\" + id + \"'\";\n            puma(\"<script\" + idAttribute + \">\" + jsRules + \"</script>\").vrAppendToPuma(\"head\");\n        }\n    }\n\n    static addJsFiles(...pathList: string[])\n    {\n        let promise = new Promise((callback: Function) =>\n        {\n            if (pathList != null && pathList.length > 0)\n            {\n                $.when(...pathList.map(k => $.getScript(k).promise())).done(() =>\n                {\n                    callback();\n                })\n            }\n        });\n        return promise;\n    }\n    //#endregion\n\n    static bytesToBase64(bytes: Uint8Array)\n    {\n        const base64abc = [\n            \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\",\n            \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\n            \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\",\n            \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\n            \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"+\", \"/\"\n        ];\n\n        let result = '', i, l = bytes.length;\n        for (i = 2; i < l; i += 3)\n        {\n            result += base64abc[bytes[i - 2] >> 2];\n            result += base64abc[((bytes[i - 2] & 0x03) << 4) | (bytes[i - 1] >> 4)];\n            result += base64abc[((bytes[i - 1] & 0x0F) << 2) | (bytes[i] >> 6)];\n            result += base64abc[bytes[i] & 0x3F];\n        }\n        if (i === l + 1)\n        { // 1 octet yet to write\n            result += base64abc[bytes[i - 2] >> 2];\n            result += base64abc[(bytes[i - 2] & 0x03) << 4];\n            result += \"==\";\n        }\n        if (i === l)\n        { // 2 octets yet to write\n            result += base64abc[bytes[i - 2] >> 2];\n            result += base64abc[((bytes[i - 2] & 0x03) << 4) | (bytes[i - 1] >> 4)];\n            result += base64abc[(bytes[i - 1] & 0x0F) << 2];\n            result += \"=\";\n        }\n        return result;\n    }\n\n    static base64ToBytes(base64: any)\n    {\n        if (base64.length % 4 !== 0)\n        {\n            throw new Error(\"Unable to parse base64 string.\");\n        }\n        const index = base64.indexOf(\"=\");\n        if (index !== -1 && index < base64.length - 2)\n        {\n            throw new Error(\"Unable to parse base64 string.\");\n        }\n        let missingOctets = base64.endsWith(\"==\") ? 2 : base64.endsWith(\"=\") ? 1 : 0,\n            n = base64.length,\n            result = new Uint8Array(3 * (n / 4)),\n            buffer;\n        for (let i = 0, j = 0; i < n; i += 4, j += 3)\n        {\n            buffer =\n                this.getBase64Code(base64.charCodeAt(i)) << 18 |\n                this.getBase64Code(base64.charCodeAt(i + 1)) << 12 |\n                this.getBase64Code(base64.charCodeAt(i + 2)) << 6 |\n                this.getBase64Code(base64.charCodeAt(i + 3));\n            result[j] = buffer >> 16;\n            result[j + 1] = (buffer >> 8) & 0xFF;\n            result[j + 2] = buffer & 0xFF;\n        }\n        return result.subarray(0, result.length - missingOctets);\n    }\n\n    private static getBase64Code(charCode: any)\n    {\n        const base64codes = [\n            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,\n            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,\n            255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 62, 255, 255, 255, 63,\n            52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 255, 255, 255, 0, 255, 255,\n            255, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,\n            15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 255, 255, 255, 255, 255,\n            255, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,\n            41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\n        ];\n\n        if (charCode >= base64codes.length)\n        {\n            throw new Error(\"Unable to parse base64 string.\");\n        }\n        const code = base64codes[charCode];\n        if (code === 255)\n        {\n            throw new Error(\"Unable to parse base64 string.\");\n        }\n        return code;\n    }\n\n    static base64ToFile(base64: string, fileName: string, options?: FilePropertyBag)\n    {\n        return (fetch(base64)\n            .then(function (res) { return res.arrayBuffer(); })\n            .then(function (buf) { return new File([buf], fileName, options); })\n        );\n    }\n\n    static base64ToBlob(base64: string, contentType = '', sliceSize = 512)\n    {\n        const byteCharacters = atob(base64);\n        const byteArrays = [];\n\n        for (let offset = 0; offset < byteCharacters.length; offset += sliceSize)\n        {\n            const slice = byteCharacters.slice(offset, offset + sliceSize);\n            const byteNumbers = new Array(slice.length);\n            for (let i = 0; i < slice.length; i++)\n                byteNumbers[i] = slice.charCodeAt(i);\n\n            const byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n\n        const blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n\n    static enterFullScreen(target: HTMLElement, errorCallback?: Function)\n    {\n        try\n        {\n            let element = target as any;\n            let doc = window.document as any;\n            if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement)\n            {\n                //#region RequestFullScreen\n                if (element.requestFullscreen)\n                    element.requestFullscreen();\n                else if (element.mozRequestFullScreen) // Firefox\n                    element.mozRequestFullScreen();\n                else if (element.webkitRequestFullscreen) // Chrome, Safari, Opera\n                    element.webkitRequestFullscreen();\n                else if (element.msRequestFullscreen) // Edge\n                    element.msRequestFullscreen();\n                else\n                {\n                    if (errorCallback != null)\n                        errorCallback();\n                }\n                //#endregion\n            }\n        }\n        catch (e)\n        {\n            if (errorCallback != null)\n                errorCallback();\n        }\n    }\n\n    static exitFullScreen()\n    {\n        try\n        {\n            let doc = window.document as any;\n            if (!(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement))\n            {\n                //#region ExitFullScreen\n                if (doc.exitFullscreen)\n                    doc.exitFullscreen();\n                else if (doc.mozCancelFullScreen) // Firefox\n                    doc.mozCancelFullScreen();\n                else if (doc.webkitExitFullscreen) // Chrome, Safari, Opera\n                    doc.webkitExitFullscreen();\n                else if (doc.msExitFullscreen) // Edge\n                    doc.msExitFullscreen();\n                //#endregion\n            }\n        }\n        catch (e) { }\n    }\n\n    //#region Drag\n    static drag(element: HTMLElement | JQuery | string, dragEvent?: VrDragSupportEvent)\n    {\n        if (dragEvent == null) dragEvent = new VrDragSupportEvent();\n        if (dragEvent.sensibility == null) dragEvent.sensibility = 50;\n        if (dragEvent.typeEnum == null) dragEvent.typeEnum = VrDragSupportTypeEnum.Both;\n\n        puma(element).on(\"mousedown\", (emd: JQuery.MouseDownEvent) =>\n        {\n            let startingXPosition = emd.clientX;\n            let startingYPosition = emd.clientY;\n\n            let target = puma(emd.currentTarget);\n            let targetStartingXPosition = target.offset().left;\n            let targetStartingYPosition = target.offset().top;\n\n            //#region Moved variables\n            let leftMoved = false;\n            let rightMoved = false;\n            let upMoved = false;\n            let downMoved = false;\n            let moved = false;\n            //#endregion\n\n            //#region Moving\n            puma(document).on(\"mousemove\", (emm: JQuery.MouseMoveEvent) => \n            {\n                let actualXPosition = emm.clientX;\n                let actualYPosition = emm.clientY;\n                let xDiff = startingXPosition - actualXPosition;\n                let yDiff = startingYPosition - actualYPosition;\n\n                if (!(emm.clientX == startingXPosition && emm.clientY == startingYPosition))\n                {\n                    //#region Change position\n                    let leftPosition = 0;\n                    let topPosition = 0;\n                    switch (dragEvent!.typeEnum)\n                    {\n                        case VrDragSupportTypeEnum.Both:\n                            {\n                                leftPosition = (emm.clientX - ($(target[0]).width()! / 2));\n                                topPosition = emm.clientY;\n                            }\n                            break;\n                        case VrDragSupportTypeEnum.Horizontal:\n                            {\n                                leftPosition = (emm.clientX - ($(target[0]).width()! / 2));\n                                topPosition = targetStartingYPosition;\n                            }\n                            break;\n                        case VrDragSupportTypeEnum.Vertical:\n                            {\n                                leftPosition = targetStartingXPosition;\n                                topPosition = emm.clientY;\n                            }\n                            break;\n                    }\n                    target.offset({ top: topPosition, left: leftPosition });\n                    //#endregion\n\n                    //#region Dragging event\n                    if (dragEvent!.dragging != null)\n                    {\n                        let dragEveryEvent = new VrDragEveryEvent();\n                        dragEveryEvent.left = target.position().left;\n                        dragEveryEvent.top = target.position().top;\n                        dragEveryEvent.element = $(element as any)[0];\n                        dragEvent!.dragging(dragEveryEvent);\n                    }\n                    //#endregion\n                }\n\n                //#region Drag direction\n                if (Math.abs(xDiff) > Math.abs(yDiff))\n                {\n                    if (dragEvent == null && xDiff != 0)\n                        return;\n\n                    moved = true;\n                    if (xDiff > dragEvent!.sensibility!)\n                        leftMoved = true;\n                    else if (xDiff < -dragEvent!.sensibility!)\n                        rightMoved = true;\n                }\n                else if (Math.abs(xDiff) < Math.abs(yDiff))\n                {\n                    if (dragEvent == null && xDiff != 0)\n                        return;\n\n                    moved = true;\n                    if (yDiff > dragEvent!.sensibility!)\n                        upMoved = true;\n                    else if (yDiff < -dragEvent!.sensibility!)\n                        downMoved = true;\n                }\n                //#endregion\n            });\n            //#endregion\n\n            //#region Stop moving\n            puma(document).mouseup((e: JQuery.MouseUpEvent) =>\n            {\n                puma(document).unbind(\"mouseup\");\n                puma(document).unbind(\"mousemove\");\n\n                //#region Events\n                if (leftMoved && dragEvent!.dragLeft != null)\n                    dragEvent!.dragLeft();\n\n                if (rightMoved && dragEvent!.dragRight != null)\n                    dragEvent!.dragRight();\n\n                if (upMoved && dragEvent!.dragUp != null)\n                    dragEvent!.dragUp();\n\n                if (downMoved && dragEvent!.dragDown != null)\n                    dragEvent!.dragDown();\n\n                if (moved && dragEvent!.dragged != null)\n                {\n                    let dragEveryEvent = new VrDragEveryEvent();\n                    dragEveryEvent.left = target.position().left;\n                    dragEveryEvent.top = target.position().top;\n                    dragEveryEvent.element = $(element as any)[0];\n                    dragEvent!.dragged(dragEveryEvent);\n                }\n                //#endregion\n            });\n            //#endregion\n        });\n    }\n    //#endregion\n}\n\nclass AjaxCallSettings\n{\n    mode: WebApiModeEnum;\n    authKey: string;\n    method: string;\n    request?: any;\n    headerParameters?: any;\n    file?: string | Blob | File;\n}\n\nenum MonthEnum\n{\n    January,\n    February,\n    March,\n    April,\n    May,\n    June,\n    July,\n    August,\n    September,\n    October,\n    November,\n    December\n}\n\nclass VrDragSupportEvent\n{\n    public sensibility?: number = 50;\n    typeEnum?: VrDragSupportTypeEnum;\n\n    dragLeft?: null | (() => void);\n    dragRight?: null | (() => void);\n    dragUp?: null | (() => void);\n    dragDown?: null | (() => void);\n\n    dragged?: null | ((e: VrDragEveryEvent) => void);\n    dragging?: null | ((e: VrDragEveryEvent) => void);\n}\n\nclass VrDragEveryEvent\n{\n    left: number;\n    top: number;\n    element: HTMLElement;\n}\n\nexport enum VrDragSupportTypeEnum\n{\n    Vertical,\n    Horizontal,\n    Both\n}"],"names":[],"mappings":"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"}