!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vr",[],t):"object"==typeof exports?exports.vr=t():e.vr=t()}(this,(function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=16)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.puma=exports.RoundingModeEnum=exports.GroupingModeEnum=exports.NumberFormatSettings=exports.NumberFormatRoundingSettings=exports.KeyEnum=exports.DateFormatEnum=exports.DateDepthEnum=exports.DateModeEnum=exports.WebApiModeEnum=exports.jqueryVariable=exports.shadowRoot=exports.base64ToBlob=exports.bytesToBase64=exports.base64ToBytes=exports.base64ToFile=exports.copyTextToClipboard=exports.isValidEmail=exports.BrowserWindowPosition=exports.BrowserWindowSize=exports.openBrowserWindow=exports.openUrl=exports.addJsFiles=exports.addCssFiles=exports.addJsScript=exports.addCss=exports.addCssStyle=exports.interval=exports.isLocalhost=exports.pageError=exports.Color=exports.UploadValidationErrorTypeEnum=exports.ColorPickerModeEnum=exports.ColorPickerRgbaValue=exports.MapModeEnum=exports.MapMarker=exports.TreeViewFilterSettings=exports.TreeViewAlignEnum=exports.TreeViewColumnTypeEnum=exports.TreeViewNumericTypeEnum=exports.TreeModeEnum=exports.TreeViewContextMenuItem=exports.TreeViewItemExtraCell=exports.TreeViewItem=exports.TreeViewToolbarItemType=exports.TreeViewToolbarClickEvent=exports.TreeViewToolbarSwitchEvent=exports.TreeViewToolbarSwitchSettings=exports.TreeViewToolbarItem=exports.TreeViewColumn=exports.TooltipPositionEnum=exports.TooltipTypeEnum=exports.TooltipHideOnEnum=exports.TooltipShowOnEnum=exports.AnimationHideEnum=exports.AnimationShowEnum=exports.NotifierPositionEnum=exports.NotifierTypeEnum=exports.NotifierOptions=exports.SchedulerNavigateActionEnum=exports.SchedulerAttribute=exports.SchedulerData=exports.SchedulerSlotElement=exports.SchedulerViewEnum=exports.SchedulerView=exports.DayOfWeekEnum=exports.SchedulerResource=exports.SchedulerSaturationFourWeeks=exports.SaturationResource=exports.SchedulerSaturationWeekByDate=exports.SaturationDate=exports.SchedulerSaturationWeekByResource=exports.SchedulerSaturationWeek=exports.SchedulerSaturationDay=exports.SchedulerSaturationInfo=exports.SplitterCollapsableSettings=exports.SplitterCollapseDirectionEnum=exports.SplitterDirectionEnum=exports.ToolbarItemOnClickEvent=exports.PdfViewerToolbarItem=exports.PdfViewerToolbarSettings=exports.PdfViewerToolbarAreaEnum=exports.GridToolbarItem=exports.GridButtonSettings=exports.GridColumn=exports.GridScrollEvent=exports.GridPageSelectedEvent=exports.GridGroupEditClickEvent=exports.GridGroupExpandCollapseEvent=exports.GridGroupDisplayValueEvent=exports.GridGroupByItem=exports.GridSortSettings=exports.GridGroupBySettings=exports.GridNumberFilterTypeEnum=exports.GridDateFilterTypeEnum=exports.GridToolbarItemType=exports.GridLabelUnderlineMode=exports.GridColumnTypeEnum=exports.GridAlignEnum=exports.GridAggregateMode=exports.GridModeEnum=exports.GridHeightModeEnum=exports.SortDirectionEnum=exports.GridSortDirectionEnum=exports.GridCheckboxModeEnum=exports.SpeechRecognizerOptions=exports.vrEditorFontSizeSettings=exports.EditorSpeechRecognizerPositionEnum=exports.EditorSpeechRecognizerModeEnum=exports.vrEditorSpeechRecognizerSettings=exports.EditorCustomMenuItemType=exports.vrEditorCustomMenuItem=exports.vrEditorCustomItem=exports.TinyMceIconEnum=exports.vrEditorToolbarModeEnum=exports.vrEditorItemEnum=exports.WindowAutoSizeDirectionEnum=exports.WindowFooterItemAlignEnum=exports.WindowFooterItemTypeEnum=exports.ChartOptions=exports.ChartAxisFormatterEvent=exports.ChartLabelClickEvent=exports.ChartLabelLeaveEvent=exports.ChartLabelHoverEvent=exports.ChartLabelEvent=exports.ChartLegendClickEvent=exports.ChartLegendLeaveEvent=exports.ChartLegendHoverEvent=exports.ChartLegendEvent=exports.ChartParsingSettings=exports.ChartDataSource=exports.ChartLimitSettings=exports.ChartAspectRatioSettings=exports.ChartStackedSettings=exports.ChartTooltipYAlignEnum=exports.ChartTooltipAlignEnum=exports.ChartTooltipPositionEnum=exports.ChartTooltipSettings=exports.ChartLegendTitleSettings=exports.ChartLegendLabelsAlignEnum=exports.ChartLegendLabelsSettings=exports.ChartLegendAlignEnum=exports.ChartLegendPositionEnum=exports.ChartLegendSettings=exports.ChartDataLabelAlignEnum=exports.ChartDataLabelsTextAlignEnum=exports.ChartDataLabelsAnchorEnum=exports.ChartDataLabelsSettings=exports.ChartFont=exports.ChartTitlePositionEnum=exports.ChartTitleAlignEnum=exports.ChartTitleSettings=exports.ChartAreaSettings=exports.ChartTypeEnum=exports.AutoCompleteBoxComboSettings=exports.AutoCompleteBoxItemSettings=exports.AutoCompleteBoxItem=exports.SortByComboSettings=exports.ComboBoxClearEvent=exports.ComboBoxChangingEvent=exports.ComboBoxChangeEvent=exports.ComboBoxEvent=exports.ComboBoxTemplateEvent=exports.ComboBoxWebServiceSettings=exports.ComboBoxItem=exports.ComboBoxTreeModeEnum=exports.ComboBoxTypeEnum=exports.DefaultDayEnum=exports.ImageToolbarTypeEnum=exports.ImagePositionTypeEnum=exports.CheckboxStateEnum=exports.PaypalStyleLayoutEnum=exports.PaypalStyleLabelEnum=exports.PaypalStyleShapeEnum=exports.PaypalStyleColorEnum=exports.PaypalStyleSizeEnum=exports.PaypalEnvironmentEnum=exports.ErrorHideModeEnum=exports.ErrorPositionEnum=exports.ErrorModeEnum=exports.TextBoxValidationErrorEnum=exports.TextBoxRegexSettings=exports.TextBoxValidationSettings=exports.TextTransformModeEnum=exports.TextModeEnum=exports.TextBoxLengthSettings=exports.TextAlignEnum=exports.LabelUnderlineMode=exports.LabelModeEnum=exports.RatingPrecisionEnum=exports.TabStripItem=exports.ButtonGroupItem=exports.SelectionModeEnum=exports.DivBorderSettings=exports.DivBorderSpecificSettings=exports.DivColorSettings=exports.ColorSettings=exports.ButtonModeEnum=exports.BorderStyleEnum=exports.PopupDirectionEnum=exports.PopupSettings=exports.OrientationEnum=exports.PositionEnum=exports.IconClassThin=exports.IconClassDuotone=exports.IconClassRegular=exports.IconClassLight=exports.IconClassSolid=exports.IconClassBrands=exports.CreatorEnum=exports.pumo=exports.hideLoader=exports.showLoader=exports.VrMarginSettings=exports.guid=exports.hr=exports.br=exports.iframe=exports.IconSettings=exports.icon=exports.span=exports.div=exports.createDiv=exports.BrowserTypeEnum=exports.isSeamonkey=exports.isVivaldi=exports.isOpera=exports.isEdge=exports.isFirefox=exports.isChrome=exports.isSafari=exports.isInternetExplorer=exports.browser=exports.isIphone=exports.isIphoneX=exports.isMobile=exports.isDesktop=exports.isTablet=exports.isSmartphone=exports.printImage=exports.printPdf=exports.printBytes=exports.printHtml=exports.printElement=exports.prompt=exports.dialog=exports.alert=exports.confirm=exports.notifyInfo=exports.notifySuccess=exports.notifyWarning=exports.notifyError=exports.notify=exports.hideNotify=exports.ControlPositionEnum=exports.ControlTypeEnum=exports.addControl=exports.getControl=exports.createLegend=exports.createSpeechRecognizer=exports.createTooltip=exports.createTabStrip=exports.createStackedBarChart=exports.createAreaChart=exports.createPieChart=exports.createDonutChart=exports.createLineChart=exports.createHorizontalBarChart=exports.createBarChart=exports.createChart=exports.createAutoCompleteBox=exports.createSplitter=exports.createSearchBar=exports.createColorPicker=exports.createIcon=exports.createQrCode=exports.createMultiScheduler=exports.createScheduler=exports.createTreeView=exports.createUpload=exports.createPaypalButton=exports.createPdfViewer=exports.createGroupBox=exports.createRating=exports.createCalendar=exports.createPainter=exports.createMap=exports.createRepeater=exports.createRadioButtonList=exports.createRadioButton=exports.createCheckBoxList=exports.createSwitch=exports.createGrid=exports.createWindow=exports.createEditor=exports.createSplitButton=exports.createDropDown=exports.createComboBox=exports.createYearPicker=exports.createMonthPicker=exports.createDateTimePicker=exports.createTimePicker=exports.createDatePicker=exports.createImage=exports.createSeparator=exports.createCheckBox=exports.createMultilineTextBox=exports.createPasswordTextBox=exports.createCurrencyTextBox=exports.createPercentageTextBox=exports.createNumericTextBox=exports.createTextBox=exports.createButtonGroup=exports.createButton=exports.createLabel=void 0;const label_1=__webpack_require__(17),utilityManager_1=__webpack_require__(2),deviceManager_1=__webpack_require__(3),textbox_1=__webpack_require__(6),checkbox_1=__webpack_require__(18),separator_1=__webpack_require__(19),buttonGroup_1=__webpack_require__(10),image_1=__webpack_require__(20),datePicker_1=__webpack_require__(5),comboBox_1=__webpack_require__(7),splitButton_1=__webpack_require__(11),editor_1=__webpack_require__(21),window_1=__webpack_require__(22),confirm_1=__webpack_require__(23),alert_1=__webpack_require__(24),dialog_1=__webpack_require__(25),grid_1=__webpack_require__(13),prompt_1=__webpack_require__(26),controlManager_1=__webpack_require__(4),switch_1=__webpack_require__(27),checkboxList_1=__webpack_require__(28),radioButton_1=__webpack_require__(29),radioButtonList_1=__webpack_require__(30),repeater_1=__webpack_require__(31),maps_1=__webpack_require__(32),common_1=__webpack_require__(1),painter_1=__webpack_require__(33),calendar_1=__webpack_require__(34),rating_1=__webpack_require__(35),loaderManager_1=__webpack_require__(9),groupBox_1=__webpack_require__(36),pdfViewer_1=__webpack_require__(37),notifier_1=__webpack_require__(15),upload_1=__webpack_require__(38),paypalButton_1=__webpack_require__(39),treeView_1=__webpack_require__(40),scheduler_1=__webpack_require__(41),qrCode_1=__webpack_require__(42),multiScheduler_1=__webpack_require__(44),icon_1=__webpack_require__(45),colorPicker_1=__webpack_require__(46),searchBar_1=__webpack_require__(48),splitter_1=__webpack_require__(49),autoCompleteBox_1=__webpack_require__(50),chart_1=__webpack_require__(51),printManager_1=__webpack_require__(14),tabStrip_1=__webpack_require__(52),tooltip_1=__webpack_require__(53),speechRecognizer_1=__webpack_require__(54),div_1=__webpack_require__(55),button_1=__webpack_require__(8),legend_1=__webpack_require__(56);function createLabel(e,t,i,a){return createControls(ControlTypeEnum.Label,t,i,a,e)}function createButton(e,t,i,a){return createControls(ControlTypeEnum.Button,t,i,a,e)}function createButtonGroup(e,t,i,a){return createControls(ControlTypeEnum.ButtonGroup,t,i,a,e)}function createTextBox(e,t,i,a){return createControls(ControlTypeEnum.TextBox,t,i,a,e)}function createNumericTextBox(e,t,i,a){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Numeric,createTextBox(e,t,i,a)}function createPercentageTextBox(e,t,i,a){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Percentage,createTextBox(e,t,i,a)}function createCurrencyTextBox(e,t,i,a){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Currency,createTextBox(e,t,i,a)}function createPasswordTextBox(e,t,i,a){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Password,createTextBox(e,t,i,a)}function createMultilineTextBox(e,t,i,a){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.MultiLine,createTextBox(e,t,i,a)}function createCheckBox(e,t,i,a){return createControls(ControlTypeEnum.CheckBox,t,i,a,e)}function createSeparator(e,t,i,a){return createControls(ControlTypeEnum.Separator,t,i,a,e)}function createImage(e,t,i,a){return createControls(ControlTypeEnum.Image,t,i,a,e)}function createDatePicker(e,t,i,a){return createControls(ControlTypeEnum.DatePicker,t,i,a,e)}function createTimePicker(e,t,i,a){return null==e&&(e=new datePicker_1.DatePickerOptions),e.mode=DateModeEnum.Time,createDatePicker(e,t,i,a)}function createDateTimePicker(e,t,i,a){return null==e&&(e=new datePicker_1.DatePickerOptions),e.mode=DateModeEnum.DateTime,createDatePicker(e,t,i,a)}function createMonthPicker(e,t,i,a){return null==e&&(e=new datePicker_1.DatePickerOptions),e.depth=DateDepthEnum.Month,createDatePicker(e,t,i,a)}function createYearPicker(e,t,i,a){return null==e&&(e=new datePicker_1.DatePickerOptions),e.depth=DateDepthEnum.Year,createDatePicker(e,t,i,a)}function createComboBox(e,t,i,a){return createControls(ControlTypeEnum.ComboBox,t,i,a,e)}function createDropDown(e,t,i,a){return null==e&&(e=new comboBox_1.ComboBoxOptions),e.mode=ComboBoxTypeEnum.DropDown,createComboBox(e,t,i,a)}function createSplitButton(e,t,i,a){return createControls(ControlTypeEnum.SplitButton,t,i,a,e)}function createEditor(e,t,i,a){return createControls(ControlTypeEnum.Editor,t,i,a,e)}function createWindow(e,t){return createControls(ControlTypeEnum.Window,t,null,null,e)}function createGrid(e,t,i,a){return createControls(ControlTypeEnum.Grid,t,i,a,e)}function createSwitch(e,t,i,a){return createControls(ControlTypeEnum.Switch,t,i,a,e)}function createCheckBoxList(e,t,i,a){return createControls(ControlTypeEnum.CheckBoxList,t,i,a,e)}function createRadioButton(e,t,i,a){return createControls(ControlTypeEnum.RadioButton,t,i,a,e)}function createRadioButtonList(e,t,i,a){return createControls(ControlTypeEnum.RadioButtonList,t,i,a,e)}function createRepeater(e,t,i,a){return createControls(ControlTypeEnum.Repeater,t,i,a,e)}function createMap(e,t,i,a){return createControls(ControlTypeEnum.Map,t,i,a,e)}function createPainter(e,t,i,a){return createControls(ControlTypeEnum.Painter,t,i,a,e)}function createCalendar(e,t,i,a){return createControls(ControlTypeEnum.Calendar,t,i,a,e)}function createRating(e,t,i,a){return createControls(ControlTypeEnum.Rating,t,i,a,e)}function createGroupBox(e,t,i,a){return createControls(ControlTypeEnum.GroupBox,t,i,a,e)}function createPdfViewer(e,t,i,a){return createControls(ControlTypeEnum.PdfViewer,t,i,a,e)}function createPaypalButton(e,t,i,a){return createControls(ControlTypeEnum.PaypalButton,t,i,a,e)}function createUpload(e,t,i,a){return createControls(ControlTypeEnum.Upload,t,i,a,e)}function createTreeView(e,t,i,a){return createControls(ControlTypeEnum.TreeView,t,i,a,e)}function createScheduler(e,t,i,a){return createControls(ControlTypeEnum.Scheduler,t,i,a,e)}function createMultiScheduler(e,t,i,a){return createControls(ControlTypeEnum.MultiScheduler,t,i,a,e)}function createQrCode(e,t,i,a){return createControls(ControlTypeEnum.QrCode,t,i,a,e)}function createIcon(e,t,i,a){return createControls(ControlTypeEnum.Icon,t,i,a,e)}function createColorPicker(e,t,i,a){return createControls(ControlTypeEnum.ColorPicker,t,i,a,e)}function createSearchBar(e,t,i,a){return createControls(ControlTypeEnum.SearchBar,t,i,a,e)}function createSplitter(e,t,i,a){return createControls(ControlTypeEnum.Splitter,t,i,a,e)}function createAutoCompleteBox(e,t,i,a){return createControls(ControlTypeEnum.AutoCompleteBox,t,i,a,e)}function createChart(e,t,i,a){return createControls(ControlTypeEnum.Chart,t,i,a,e)}function createBarChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Bar,createChart(e,t,i,a)}function createHorizontalBarChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.HorizontalBar,createChart(e,t,i,a)}function createLineChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Line,createChart(e,t,i,a)}function createDonutChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Donut,createChart(e,t,i,a)}function createPieChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Pie,createChart(e,t,i,a)}function createAreaChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Area,createChart(e,t,i,a)}function createStackedBarChart(e,t,i,a){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.StackedBar,createChart(e,t,i,a)}function createTabStrip(e,t,i,a){return createControls(ControlTypeEnum.TabStrip,t,i,a,e)}function createTooltip(e){return createControls(ControlTypeEnum.Tooltip,null,null,null,e)}function createSpeechRecognizer(e,t,i,a){return createControls(ControlTypeEnum.SpeechRecognizer,t,i,a,e)}function createLegend(e,t,i,a){return createControls(ControlTypeEnum.Legend,t,i,a,e)}function getControl(e){return controlManager_1.ControlManager.get(e)}function addControl(e){controlManager_1.ControlManager.add(e)}function createControls(e,t,i,a,r){null==r&&(r=new common_1.VrControlOptions);let n="vrpm_"+utilityManager_1.UtilityManager.createGuid();if(null!=a&&(n=a,a.startsWith("#")||(a="#"+a)),null!=t&&puma(a).length>0)return puma(a)[0];let o=null,l="";switch(e){case ControlTypeEnum.Label:l="label";break;case ControlTypeEnum.Button:l="button";break;case ControlTypeEnum.ButtonGroup:l="div";break;case ControlTypeEnum.TextBox:l="input";break;case ControlTypeEnum.Window:l="div";break;case ControlTypeEnum.CheckBox:l="input";break;case ControlTypeEnum.CheckBoxList:l="div";break;case ControlTypeEnum.Separator:l="span";break;case ControlTypeEnum.Image:l="img";break;case ControlTypeEnum.DatePicker:l="input";break;case ControlTypeEnum.SplitButton:l="div";break;case ControlTypeEnum.Editor:l="textarea";break;case ControlTypeEnum.Grid:l="table";break;case ControlTypeEnum.Switch:l="div";break;case ControlTypeEnum.RadioButton:l="input";break;case ControlTypeEnum.RadioButtonList:l="div";break;case ControlTypeEnum.Repeater:l="table";break;case ControlTypeEnum.Map:l="div";break;case ControlTypeEnum.Painter:l="canvas";break;case ControlTypeEnum.Calendar:case ControlTypeEnum.Rating:case ControlTypeEnum.GroupBox:case ControlTypeEnum.PdfViewer:case ControlTypeEnum.PaypalButton:case ControlTypeEnum.Upload:case ControlTypeEnum.TreeView:case ControlTypeEnum.Scheduler:case ControlTypeEnum.MultiScheduler:case ControlTypeEnum.QrCode:l="div";break;case ControlTypeEnum.Icon:l="i";break;case ControlTypeEnum.SearchBar:case ControlTypeEnum.Splitter:case ControlTypeEnum.AutoCompleteBox:l="div";break;case ControlTypeEnum.Chart:l="canvas";break;case ControlTypeEnum.TabStrip:case ControlTypeEnum.Tooltip:case ControlTypeEnum.SpeechRecognizer:case ControlTypeEnum.Div:case ControlTypeEnum.Legend:l="div";break;case ControlTypeEnum.ColorPicker:l=null==r.showInput||!0===r.showInput?"input":"button";break;case ControlTypeEnum.ComboBox:switch(null!=r.mode&&!0!==r.checkboxes&&null==r.webService||(r.mode=ComboBoxTypeEnum.Combo),r.mode){case ComboBoxTypeEnum.Combo:l=!0===r.checkboxes?"div":"input";break;case ComboBoxTypeEnum.DropDown:l="div"}}if(null!=t||e==ControlTypeEnum.Window||e==ControlTypeEnum.PdfViewer||e==ControlTypeEnum.Tooltip)o=puma("<"+l+" id='"+n+"'></"+l+">")[0];else{if(null==a)throw Error(e+": il container è nullo, ma l'id non è valorizzato!");n.startsWith("#")||(n="#"+n),o=puma(n)[0]}if(!puma(o).is(l))throw Error("L'elemento nell'HTML con id: "+n+" non corrisponde al corretto elemento: "+l);"input"==l&&puma(o).attr("autocomplete","off"),e!=ControlTypeEnum.Window&&e!=ControlTypeEnum.Tooltip||null!=t||(t=null!=shadowRoot()?shadowRoot():document.body),null!=t&&("string"!=typeof t||t.startsWith("#")||(t="#"+t),null==i&&(i=ControlPositionEnum.After),i==ControlPositionEnum.After?puma(t).vrAppendPuma(o):puma(t).prepend(o));let s=puma(o)["vr"+e](r);return addControl(s),s}var ControlTypeEnum,ControlPositionEnum,BrowserTypeEnum,CreatorEnum,IconClassBrands,IconClassSolid,IconClassLight,IconClassRegular,IconClassDuotone,IconClassThin,PositionEnum,OrientationEnum,PopupDirectionEnum,BorderStyleEnum,ButtonModeEnum,SelectionModeEnum,RatingPrecisionEnum,LabelModeEnum,LabelUnderlineMode,TextAlignEnum,TextModeEnum,TextTransformModeEnum,TextBoxValidationErrorEnum,ErrorModeEnum,ErrorPositionEnum,ErrorHideModeEnum,PaypalEnvironmentEnum,PaypalStyleSizeEnum,PaypalStyleColorEnum,PaypalStyleShapeEnum,PaypalStyleLabelEnum,PaypalStyleLayoutEnum,CheckboxStateEnum,ImagePositionTypeEnum,ImageToolbarTypeEnum,DefaultDayEnum,ComboBoxTypeEnum,ComboBoxTreeModeEnum,ChartTypeEnum,ChartTitleAlignEnum,ChartTitlePositionEnum,ChartDataLabelsAnchorEnum,ChartDataLabelsTextAlignEnum,ChartDataLabelAlignEnum,ChartLegendPositionEnum,ChartLegendAlignEnum,ChartLegendLabelsAlignEnum,ChartTooltipPositionEnum,ChartTooltipAlignEnum,ChartTooltipYAlignEnum,WindowFooterItemTypeEnum,WindowFooterItemAlignEnum,WindowAutoSizeDirectionEnum,vrEditorItemEnum,vrEditorToolbarModeEnum,TinyMceIconEnum,EditorCustomMenuItemType,EditorSpeechRecognizerModeEnum,EditorSpeechRecognizerPositionEnum,GridCheckboxModeEnum,GridSortDirectionEnum,SortDirectionEnum,GridHeightModeEnum,GridModeEnum,GridAggregateMode,GridAlignEnum,GridColumnTypeEnum,GridLabelUnderlineMode,GridToolbarItemType,GridDateFilterTypeEnum,GridNumberFilterTypeEnum,PdfViewerToolbarAreaEnum,SplitterDirectionEnum,SplitterCollapseDirectionEnum,DayOfWeekEnum,SchedulerViewEnum,SchedulerNavigateActionEnum,NotifierTypeEnum,NotifierPositionEnum,AnimationShowEnum,AnimationHideEnum,TooltipShowOnEnum,TooltipHideOnEnum,TooltipTypeEnum,TooltipPositionEnum,TreeViewToolbarItemType,TreeModeEnum,TreeViewNumericTypeEnum,TreeViewColumnTypeEnum,TreeViewAlignEnum,MapModeEnum,ColorPickerModeEnum,UploadValidationErrorTypeEnum,Color,WebApiModeEnum,DateModeEnum,DateDepthEnum,DateFormatEnum,KeyEnum,NumberStyleEnum,GroupingModeEnum,RoundingModeEnum;function hideNotify(){puma(".vrNotifierContainer").hide()}function notify(e,t){return new notifier_1.Notifier(e,t)}function notifyError(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Error),new notifier_1.Notifier(e,t)}function notifyWarning(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Warning),new notifier_1.Notifier(e,t)}function notifySuccess(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Success),new notifier_1.Notifier(e,t)}function notifyInfo(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Info),new notifier_1.Notifier(e,t)}function confirm(e,t){return new confirm_1.Confirm(e,t).open()}function alert(e,t){return new alert_1.Alert(e,t).open()}function dialog(e,t){let i=new dialog_1.Dialog(e,t);return i.open(),i}function prompt(e,t){return new prompt_1.Prompt(e,t).open()}function printElement(e,t){printManager_1.PrintManager.printElement(e,t)}function printHtml(e,t){printManager_1.PrintManager.printHtml(e,t)}function printBytes(e,t){printManager_1.PrintManager.printBytes(e,t)}function printPdf(e,t){printManager_1.PrintManager.printPdf(e,t)}function printImage(e,t){printManager_1.PrintManager.printImage(e,t)}function isSmartphone(){return deviceManager_1.DeviceManager.isSmartphone()}function isTablet(){return deviceManager_1.DeviceManager.isTablet()}function isDesktop(){return deviceManager_1.DeviceManager.isDesktop()}function isMobile(){return deviceManager_1.DeviceManager.isMobile()}function isIphoneX(){return deviceManager_1.DeviceManager.isIphoneX()}function isIphone(){return deviceManager_1.DeviceManager.isIphone()}function browser(){return deviceManager_1.DeviceManager.browser()}function isInternetExplorer(){return deviceManager_1.DeviceManager.isInternetExplorer()}function isSafari(){return deviceManager_1.DeviceManager.isSafari()}function isChrome(){return deviceManager_1.DeviceManager.isChrome()}function isFirefox(){return deviceManager_1.DeviceManager.isFirefox()}function isEdge(){return deviceManager_1.DeviceManager.isEdge()}function isOpera(){return deviceManager_1.DeviceManager.isOpera()}function isVivaldi(){return deviceManager_1.DeviceManager.isVivaldi()}function isSeamonkey(){return deviceManager_1.DeviceManager.isSeamonkey()}function createDiv(e,t,i){return createControls(ControlTypeEnum.Div,t,i,null,e)}function div(e,t,i=!1){let a="",r="",n="",o="",l="";null!=t&&(null!=t.class&&(a="class = '"+t.class+"'"),null!=t.id&&(r="id = '"+t.id+"'"),null!=t.css&&(n="style='"+t.css+"'"),null!=t.content&&(o=t.content),null!=t.tooltip&&(l="title='"+t.tooltip+"'"));let s=puma("<div "+l+" "+a+" "+r+" "+n+">"+o+"</div>")[0];if(null!=e&&("string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),i?puma(s).vrPrependToPuma(e):puma(s).vrAppendToPuma(e)),null!=t&&null!=t.attributes)for(let e of t.attributes)puma(s).attr(e.name,e.value);return s}exports.createLabel=createLabel,exports.createButton=createButton,exports.createButtonGroup=createButtonGroup,exports.createTextBox=createTextBox,exports.createNumericTextBox=createNumericTextBox,exports.createPercentageTextBox=createPercentageTextBox,exports.createCurrencyTextBox=createCurrencyTextBox,exports.createPasswordTextBox=createPasswordTextBox,exports.createMultilineTextBox=createMultilineTextBox,exports.createCheckBox=createCheckBox,exports.createSeparator=createSeparator,exports.createImage=createImage,exports.createDatePicker=createDatePicker,exports.createTimePicker=createTimePicker,exports.createDateTimePicker=createDateTimePicker,exports.createMonthPicker=createMonthPicker,exports.createYearPicker=createYearPicker,exports.createComboBox=createComboBox,exports.createDropDown=createDropDown,exports.createSplitButton=createSplitButton,exports.createEditor=createEditor,exports.createWindow=createWindow,exports.createGrid=createGrid,exports.createSwitch=createSwitch,exports.createCheckBoxList=createCheckBoxList,exports.createRadioButton=createRadioButton,exports.createRadioButtonList=createRadioButtonList,exports.createRepeater=createRepeater,exports.createMap=createMap,exports.createPainter=createPainter,exports.createCalendar=createCalendar,exports.createRating=createRating,exports.createGroupBox=createGroupBox,exports.createPdfViewer=createPdfViewer,exports.createPaypalButton=createPaypalButton,exports.createUpload=createUpload,exports.createTreeView=createTreeView,exports.createScheduler=createScheduler,exports.createMultiScheduler=createMultiScheduler,exports.createQrCode=createQrCode,exports.createIcon=createIcon,exports.createColorPicker=createColorPicker,exports.createSearchBar=createSearchBar,exports.createSplitter=createSplitter,exports.createAutoCompleteBox=createAutoCompleteBox,exports.createChart=createChart,exports.createBarChart=createBarChart,exports.createHorizontalBarChart=createHorizontalBarChart,exports.createLineChart=createLineChart,exports.createDonutChart=createDonutChart,exports.createPieChart=createPieChart,exports.createAreaChart=createAreaChart,exports.createStackedBarChart=createStackedBarChart,exports.createTabStrip=createTabStrip,exports.createTooltip=createTooltip,exports.createSpeechRecognizer=createSpeechRecognizer,exports.createLegend=createLegend,exports.getControl=getControl,exports.addControl=addControl,jQuery.fn.extend({vrLabel:function(e){let t=this[0];return new label_1.Label(t,e)},vrButton:function(e){let t=this[0];return new button_1.Button(t,e)},vrButtonGroup:function(e){let t=this[0];return new buttonGroup_1.ButtonGroup(t,e)},vrTextBox:function(e){let t=this[0];return new textbox_1.TextBox(t,e)},vrCheckBox:function(e){let t=this[0];return new checkbox_1.CheckBox(t,e)},vrCheckBoxList:function(e){let t=this[0];return new checkboxList_1.CheckBoxList(t,e)},vrSeparator:function(e){let t=this[0];return new separator_1.Separator(t,e)},vrImage:function(e){let t=this[0];return new image_1.Image(t,e)},vrDatePicker:function(e){let t=this[0];return new datePicker_1.DatePicker(t,e)},vrComboBox:function(e){let t=this[0];return new comboBox_1.ComboBox(t,e)},vrSplitButton:function(e){let t=this[0];return new splitButton_1.SplitButton(t,e)},vrEditor:function(e){let t=this[0];return new editor_1.Editor(t,e)},vrWindow:function(e){let t=this[0];return new window_1.Window(t,e)},vrGrid:function(e){let t=this[0];return new grid_1.Grid(t,e)},vrSwitch:function(e){let t=this[0];return new switch_1.Switch(t,e)},vrRadioButton:function(e){let t=this[0];return new radioButton_1.RadioButton(t,e)},vrRadioButtonList:function(e){let t=this[0];return new radioButtonList_1.RadioButtonList(t,e)},vrRepeater:function(e){let t=this[0];return new repeater_1.Repeater(t,e)},vrMap:function(e){let t=this[0];return new maps_1.Maps(t,e)},vrPainter:function(e){let t=this[0];return new painter_1.Painter(t,e)},vrCalendar:function(e){let t=this[0];return new calendar_1.Calendar(t,e)},vrRating:function(e){let t=this[0];return new rating_1.Rating(t,e)},vrGroupBox:function(e){let t=this[0];return new groupBox_1.GroupBox(t,e)},vrPdfViewer:function(e){let t=this[0];return new pdfViewer_1.PdfViewer(t,e)},vrPaypalButton:function(e){let t=this[0];return new paypalButton_1.PaypalButton(t,e)},vrUpload:function(e){let t=this[0];return new upload_1.Upload(t,e)},vrTreeView:function(e){let t=this[0];return new treeView_1.TreeView(t,e)},vrScheduler:function(e){let t=this[0];return new scheduler_1.Scheduler(t,e)},vrMultiScheduler:function(e){let t=this[0];return new multiScheduler_1.MultiScheduler(t,e)},vrQrCode:function(e){let t=this[0];return new qrCode_1.QrCode(t,e)},vrIcon:function(e){let t=this[0];return new icon_1.Icon(t,e)},vrColorPicker:function(e){let t=this[0];return new colorPicker_1.ColorPicker(t,e)},vrSearchBar:function(e){let t=this[0];return new searchBar_1.SearchBar(t,e)},vrSplitter:function(e){let t=this[0];return new splitter_1.Splitter(t,e)},vrAutoCompleteBox:function(e){let t=this[0];return new autoCompleteBox_1.AutoCompleteBox(t,e)},vrChart:function(e){let t=this[0];return new chart_1.ChartVr(t,e)},vrTabStrip:function(e){let t=this[0];return new tabStrip_1.TabStrip(t,e)},vrTooltip:function(e){let t=this[0];return new tooltip_1.Tooltip(t,e)},vrSpeechRecognizer:function(e){let t=this[0];return new speechRecognizer_1.SpeechRecognizer(t,e)},vrDiv:function(e){let t=this[0];return new div_1.Div(t,e)},vrLegend:function(e){let t=this[0];return new legend_1.Legend(t,e)}}),$(()=>{new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.forEach((e,t,i)=>{null!=e.classList&&(e.isConnected||function e(t){if(null!=t){try{if(null!=t.id){let e=t.id.replace("Container","").replace("#","").replace(".","");controlManager_1.ControlManager.remove(e),puma("#"+e+"_divPopup").remove(),puma("."+e+"_wndUtility").remove(),puma("#"+e+"_someStuff").remove(),puma("#"+e+"_someStuffContainer").remove(),puma("#vrWindowBackground_"+e).remove()}}catch(e){}if(null==t.children||0==t.children.length)return;for(let i of t.children)e(i)}}(e))})})}).observe(document.body,{subtree:!0,childList:!0})}),function(e){e.Label="Label",e.Button="Button",e.Window="Window",e.TextBox="TextBox",e.CheckBox="CheckBox",e.Separator="Separator",e.ButtonGroup="ButtonGroup",e.Image="Image",e.DatePicker="DatePicker",e.ComboBox="ComboBox",e.SplitButton="SplitButton",e.Editor="Editor",e.Grid="Grid",e.Switch="Switch",e.CheckBoxList="CheckBoxList",e.RadioButton="RadioButton",e.RadioButtonList="RadioButtonList",e.Repeater="Repeater",e.Map="Map",e.Painter="Painter",e.Calendar="Calendar",e.Rating="Rating",e.GroupBox="GroupBox",e.PdfViewer="PdfViewer",e.Upload="Upload",e.PaypalButton="PaypalButton",e.TreeView="TreeView",e.Scheduler="Scheduler",e.MultiScheduler="MultiScheduler",e.QrCode="QrCode",e.Icon="Icon",e.ColorPicker="ColorPicker",e.SearchBar="SearchBar",e.Splitter="Splitter",e.AutoCompleteBox="AutoCompleteBox",e.Chart="Chart",e.TabStrip="TabStrip",e.Tooltip="Tooltip",e.SpeechRecognizer="SpeechRecognizer",e.Div="Div",e.Legend="Legend"}(ControlTypeEnum=exports.ControlTypeEnum||(exports.ControlTypeEnum={})),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.None=2]="None"}(ControlPositionEnum=exports.ControlPositionEnum||(exports.ControlPositionEnum={})),exports.hideNotify=hideNotify,exports.notify=notify,exports.notifyError=notifyError,exports.notifyWarning=notifyWarning,exports.notifySuccess=notifySuccess,exports.notifyInfo=notifyInfo,exports.confirm=confirm,exports.alert=alert,exports.dialog=dialog,exports.prompt=prompt,exports.printElement=printElement,exports.printHtml=printHtml,exports.printBytes=printBytes,exports.printPdf=printPdf,exports.printImage=printImage,exports.isSmartphone=isSmartphone,exports.isTablet=isTablet,exports.isDesktop=isDesktop,exports.isMobile=isMobile,exports.isIphoneX=isIphoneX,exports.isIphone=isIphone,exports.browser=browser,exports.isInternetExplorer=isInternetExplorer,exports.isSafari=isSafari,exports.isChrome=isChrome,exports.isFirefox=isFirefox,exports.isEdge=isEdge,exports.isOpera=isOpera,exports.isVivaldi=isVivaldi,exports.isSeamonkey=isSeamonkey,function(e){e.InternetExplorer="InternetExplorer",e.Safari="Safari",e.Chrome="Chrome",e.Firefox="Firefox",e.Edge="Edge",e.Opera="Opera",e.Vivaldi="Vivaldi",e.Seamonkey="Seamonkey"}(BrowserTypeEnum=exports.BrowserTypeEnum||(exports.BrowserTypeEnum={})),exports.createDiv=createDiv,exports.div=div;class DivSettings{}function span(e,t,i=!1){let a="",r="",n="",o="",l="";null!=t&&(null!=t.class&&(a="class = '"+t.class+"'"),null!=t.id&&(r="id = '"+t.id+"'"),null!=t.css&&(n="style='"+t.css+"'"),null!=t.content&&(o=t.content),null!=t.tooltip&&(l="title='"+t.tooltip+"'"));let s=puma("<span "+l+" "+a+" "+r+" "+n+">"+o+"</span>")[0];if(null!=e&&("string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),i?puma(s).vrPrependToPuma(e):puma(s).vrAppendToPuma(e)),null!=t&&null!=t.attributes)for(let e of t.attributes)puma(s).attr(e.name,e.value);return s}exports.span=span;class SpanSettings{}function icon(e,t,i,a=!1){null==t||"string"!=typeof t||t.startsWith("#")||t.startsWith(".")||(t="#"+t);let r="",n="",o="";null!=i&&(null!=i.id&&(n="id = '"+i.id+"'"),null!=i.css&&(o+=i.css+";"),null!=i.fontSize&&("number"==typeof i.fontSize&&(i.fontSize=i.fontSize+"px"),o+="font-size: "+i.fontSize+";"),null!=i.color&&(o+="color: "+i.color+";"),null!=i.class&&(r+=i.class),null!=i.cursor&&(o+="cursor: "+i.cursor+";"));let l=puma("<i class='"+e+" vrIcon "+r+"' aria-hidden='true' id='"+n+"' style='"+o+"'></i>")[0];return null!=t&&(a?puma(l).vrPrependToPuma(t):puma(l).vrAppendToPuma(t)),l}exports.icon=icon;class IconSettings{}function iframe(e,t){"string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),null==t&&(t=new VrIframeSettings),null==t.content&&(t.content=""),null==t.width&&(t.width="100%"),null==t.height&&(t.height="100%"),"number"==typeof t.width&&(t.width=t.width+"px"),"number"==typeof t.height&&(t.height=t.height+"px");let i=puma("<iframe>").vrAppendToPuma(e)[0];i.style.cssText+="width: "+t.width+"; height: "+t.height+"; border: none;"+t.css;let a=null,r=i.contentDocument;if(puma(r).find("body").css("margin","0px"),null!=r&&(a=r.body),t.content.includes(".html")||t.content.includes(".php")||t.content.includes(".aspx")||t.content.includes("http")?((t.loader||!1!==t.loader)&&(!0===t.loader&&(t.loader=i),loaderManager_1.LoaderManager.show(!1===t.loader?i:t.loader)),puma(i).attr("src",t.content),puma(i).on("load",()=>{puma(i.contentDocument).find("body").css("margin","0px"),null!=t.callback&&t.callback(),loaderManager_1.LoaderManager.hide()})):(puma(t.content).vrAppendToPuma(a),null!=t.callback&&t.callback(),loaderManager_1.LoaderManager.hide()),null!=t&&null!=t.attributes)for(let e of t.attributes)puma(i).attr(e.name,e.value);return i}exports.IconSettings=IconSettings,exports.iframe=iframe;class VrIframeSettings{}function br(e,t=1){"string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e);for(let i=0;i<t;i++)puma("<br />").vrAppendToPuma(e)}function hr(e,t="",i){return"string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),puma("<hr "+(null==i?"":" id='"+i+"'")+" style='"+t+"' />").vrAppendToPuma(e)[0]}function guid(){const e=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,"0")),t=crypto.getRandomValues(new Uint8Array(16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,[...t.entries()].map(([t,i])=>[4,6,8,10].includes(t)?"-"+e[i]:e[i]).join("")}exports.br=br,exports.hr=hr,exports.guid=guid;class VrMarginSettings{}function showLoader(e,t=!0,i){"boolean"==typeof e&&(e=void 0),loaderManager_1.LoaderManager.show(e,t,i)}function hideLoader(e){loaderManager_1.LoaderManager.hide(e)}function pumo(){confirm("Giuri solennemente di non avere buone intenzioni?").then(()=>alert("Il signor Matteo Pumo è fiero di presentarti 'I controlli del malandrino'! So che saprai usarli nel modo giusto")).catch(()=>alert("Peggio per te, non saprai mai quant'è profonda la tana del bianconiglio"))}exports.VrMarginSettings=VrMarginSettings,exports.showLoader=showLoader,exports.hideLoader=hideLoader,exports.pumo=pumo,function(e){e.MatteoPumo="MatteoPumo",e.MatteoPumoSite="https://www.matteopumo.com",e.MatteoPumoMail="info@matteopumo.com",e.VettoreRinascimento="VettoreRinascimento",e.VettoreMedical="VettoreMedical",e.Year2020="Year2020",e.PureJqueryTypescript="PureJqueryTypescript",e.FastestControlsEver="FastestControlsEver"}(CreatorEnum=exports.CreatorEnum||(exports.CreatorEnum={})),function(e){e.Amazon="fa-brands fa-amazon",e.Android="fa-brands fa-android",e.Apple="fa-brands fa-apple",e.AppStore="fa-brands fa-app-store",e.Facebook="fa-brands fa-facebook",e.Google="fa-brands fa-google",e.GooglePlay="fa-brands fa-google-play",e.Paypal="fa-brands fa-paypal",e.Twitter="fa-brands fa-twitter",e.Vimeo="fa-brands fa-vimeo",e.Whatsapp="fa-brands fa-whatsapp",e.Windows="fa-brands fa-windows",e.Youtube="fa-brands fa-youtube"}(IconClassBrands=exports.IconClassBrands||(exports.IconClassBrands={})),function(e){e.Add="fa-solid fa-plus",e.AddressCard="fa-solid fa-address-card",e.Alert="fa-solid fa-triangle-exclamation",e.AngleDown="fa-solid fa-angle-down",e.AngleLeft="fa-solid fa-angle-left",e.AngleRight="fa-solid fa-angle-right",e.AngleUp="fa-solid fa-angle-up",e.Aperture="fa-solid fa-aperture",e.ArrowDown="fa-solid fa-arrow-down",e.ArrowDownShortWide="fa-solid fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-solid fa-arrow-down-wide-short",e.ArrowLeft="fa-solid fa-arrow-left",e.ArrowPointer="fa-solid fa-arrow-pointer",e.ArrowRight="fa-solid fa-arrow-right",e.ArrowRightToBracket="fa-solid fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-solid fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-solid fa-arrow-rotate-right",e.ArrowsRotate="fa-solid fa-arrows-rotate",e.ArrowUp="fa-solid fa-arrow-up",e.Asterisk="fa-solid fa-asterisk",e.At="fa-solid fa-at",e.Attachment="fa-solid fa-paperclip",e.Back="fa-solid fa-angle-left",e.Backward="fa-solid fa-backward",e.BackwardFast="fa-solid fa-backward-fast",e.BackwardStep="fa-solid fa-backward-step",e.BalanceScale="fa-solid fa-balance-scale",e.BallotCheck="fa-solid fa-ballot-check",e.Ban="fa-solid fa-ban",e.Barcode="fa-solid fa-barcode",e.BarcodeScan="fa-solid fa-barcode-scan",e.Bars="fa-solid fa-bars",e.BarsSort="fa-solid fa-bars-sort",e.Bell="fa-solid fa-bell",e.BellSlash="fa-solid fa-bell-slash",e.Bolt="fa-solid fa-bolt",e.Book="fa-solid fa-book",e.BookOpen="fa-solid fa-book-open",e.Box="fa-solid fa-box",e.BoxArchive="fa-solid fa-box-archive",e.BriefCase="fa-solid fa-brief-case",e.Bug="fa-solid fa-bug",e.Burger="fa-solid fa-bars",e.CakeCandles="fa-solid fa-cake-candles",e.Calendar="fa-solid fa-calendar",e.CalendarAlt="fa-solid fa-calendar-alt",e.CalendarCheck="fa-solid fa-calendar-check",e.CalendarDay="fa-solid fa-calendar-day",e.CalendarPlus="fa-solid fa-calendar-plus",e.Camera="fa-solid fa-camera",e.CameraAlt="fa-solid fa-camera-alt",e.CameraWeb="fa-solid fa-camera-web",e.CameraWebSlash="fa-solid fa-camera-web-slash",e.Capsules="fa-solid fa-capsules",e.CaretDown="fa-solid fa-caret-down",e.CaretLeft="fa-solid fa-caret-left",e.CaretRight="fa-solid fa-caret-right",e.CaretUp="fa-solid fa-caret-up",e.CartCirclePlus="fa-solid fa-cart-circle-plus",e.CartShopping="fa-solid fa-cart-shopping",e.ChartArea="fa-solid fa-chart-area",e.ChartBar="fa-solid fa-chart-bar",e.ChartColumn="fa-solid fa-chart-column",e.ChartLine="fa-solid fa-chart-line",e.ChartPie="fa-solid fa-chart-pie",e.ChartSimple="fa-solid fa-chart-simple",e.Chat="fa-solid fa-comment",e.Check="fa-solid fa-check",e.ChevronDown="fa-solid fa-chevron-down",e.ChevronLeft="fa-solid fa-chevron-left",e.ChevronRight="fa-solid fa-chevron-right",e.ChevronUp="fa-solid fa-chevron-up",e.Circle="fa-solid fa-circle",e.CircleCheck="fa-solid fa-circle-check",e.CircleExclamation="fa-solid fa-circle-exclamation",e.CircleInfo="fa-solid fa-circle-info",e.CircleStop="fa-solid fa-circle-stop",e.Clipboard="fa-solid fa-clipboard",e.ClipboardMedical="fa-solid fa-clipboard-medical",e.Clock="fa-solid fa-clock",e.ClockRotateLeft="fa-solid fa-clock-rotate-left",e.Close="fa-solid fa-xmark",e.Cloud="fa-solid fa-cloud",e.CloudArrowUp="fa-solid fa-cloud-arrow-up",e.CloudDownload="fa-solid fa-cloud-download",e.Code="fa-solid fa-code",e.CodeMerge="fa-solid fa-code-merge",e.Coins="fa-solid fa-coins",e.Collapse="fa-solid fa-compress",e.Comment="fa-solid fa-comment",e.CommentDots="fa-solid fa-comment-dots",e.CommentLines="fa-solid fa-comment-lines",e.Comments="fa-solid fa-comments",e.CommentSms="fa-solid fa-comment-sms",e.Compress="fa-solid fa-compress",e.Copy="fa-solid fa-copy",e.Copyright="fa-solid fa-copyright",e.CreditCard="fa-solid fa-credit-card",e.Crown="fa-solid fa-crown",e.Database="fa-solid fa-database",e.Delete="fa-solid fa-xmark",e.DeleteLeft="fa-solid fa-delete-left",e.DeleteRight="fa-solid fa-delete-right",e.Desktop="fa-solid fa-desktop",e.Download="fa-solid fa-download",e.Edit="fa-solid fa-pen",e.Eject="fa-solid fa-eject",e.Ellipsis="fa-solid fa-ellipsis",e.EllipsisVertical="fa-solid fa-ellipsis-vertical",e.Envelope="fa-solid fa-envelope",e.Eraser="fa-solid fa-eraser",e.EuroSign="fa-solid fa-euro-sign",e.Exclamation="fa-solid fa-exclamation",e.Expand="fa-solid fa-expand",e.Eye="fa-solid fa-eye",e.EyeSlash="fa-solid fa-eye-slash",e.Family="fa-solid fa-family",e.FastBackward="fa-solid fa-fast-backward",e.FastForward="fa-solid fa-fast-forward",e.File="fa-solid fa-file",e.FileAudio="fa-solid fa-file-audio",e.FileContract="fa-solid fa-file-contract",e.FileDownload="fa-solid fa-file-download",e.FileExcel="fa-solid fa-file-excel",e.FileExport="fa-solid fa-file-export",e.FileImage="fa-solid fa-file-image",e.FileInvoice="fa-solid fa-file-invoice",e.FileImport="fa-solid fa-file-import",e.FileLines="fa-solid fa-file-lines",e.FileMusic="fa-solid fa-file-music",e.FilePdf="fa-solid fa-file-pdf",e.Files="fa-solid fa-file-files",e.FileSignature="fa-solid fa-file-signature",e.FileVideo="fa-solid fa-file-video",e.FileWord="fa-solid fa-file-word",e.FileZipper="fa-solid fa-file-zipper",e.Filter="fa-solid fa-filter",e.Flag="fa-solid fa-flag",e.FlagSwallowTail="fa-solid fa-flag-swallowtail",e.FloppyDisk="fa-solid fa-floppy-disk",e.Folder="fa-solid fa-folder",e.FolderOpen="fa-solid fa-folder-open",e.FontAwesome="fa-solid  fa-font-awesome",e.Forward="fa-solid fa-forward",e.ForwardStep="fa-solid fa-forward-step",e.ForwardFast="fa-solid fa-forward-fast",e.Futbol="fa-solid fa-futbol",e.Gear="fa-solid fa-gear",e.Gears="fa-solid fa-gears",e.Globe="fa-solid fa-globe",e.Hashtag="fa-solid fa-hashtag",e.HatWizard="fa-solid fa-hat-wizard",e.Headset="fa-solid fa-headset",e.Hospital="fa-solid fa-hospital",e.Hourglass="fa-solid fa-hourglass",e.HourglassClock="fa-solid fa-hourglass-clock",e.House="fa-solid fa-house",e.HouseMedical="fa-solid fa-house-medical",e.HouseUser="fa-solid fa-house-user",e.Image="fa-solid fa-image",e.Inbox="fa-solid fa-inbox",e.InboxFull="fa-solid fa-inbox-full",e.Info="fa-solid fa-info",e.Key="fa-solid fa-key",e.Keyboard="fa-solid fa-keyboard",e.KeySkeleton="fa-solid fa-key-skeleton",e.Laptop="fa-solid fa-laptop",e.LaptopMedical="fa-solid fa-laptop-medical",e.LevelDown="fa-solid fa-level-down",e.LevelDownAlt="fa-solid fa-level-down-alt",e.LevelLeft="fa-solid fa-level-left",e.LevelLeftAlt="fa-solid fa-level-left-alt",e.LevelRight="fa-solid fa-level-right",e.LevelRightAlt="fa-solid fa-level-right-alt",e.LevelUp="fa-solid fa-level-up",e.LevelUpAlt="fa-solid fa-level-up-alt",e.Link="fa-solid fa-link",e.LinkExternal="fa-solid fa-arrow-up-right-from-square",e.LinkHorizontal="fa-solid fa-link-horizontal",e.LinkHorizontalSlash="fa-solid fa-link-horizontal-slash",e.LinkSimple="fa-solid fa-link-simple",e.LinkSimpleSlash="fa-solid fa-link-simple-slash",e.LinkSlash="fa-solid fa-link-slash",e.List="fa-solid fa-list",e.ListCheck="fa-solid fa-list-check",e.ListOl="fa-solid fa-list-ol",e.ListTree="fa-solid fa-list-tree",e.ListUl="fa-solid fa-list-ul",e.LocationArrow="fa-solid fa-location-arrow",e.LocationCrossHairs="fa-solid fa-location-crosshairs",e.LocationCheck="fa-solid fa-location-check",e.LocationDot="fa-solid fa-location-dot",e.Lock="fa-solid fa-lock",e.LockOpen="fa-solid fa-lock-open",e.Login="fa-solid fa-arrow-right-to-bracket",e.Logout="fa-solid fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-solid fa-magnifying-glass",e.MagnifyingGlassMinus="fa-solid fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-solid fa-magnifying-glass-plus",e.Mail="fa-solid fa-envelope",e.Mailbox="fa-solid fa-mailbox",e.MailOpen="fa-solid fa-envelope-open",e.Map="fa-solid fa-map",e.MapLocation="fa-solid fa-map-location",e.MapLocationDot="fa-solid fa-map-location-dot",e.MapPin="fa-solid fa-map-pin",e.Maximize="fa-solid fa-maximize",e.Merge="fa-solid fa-merge",e.Message="fa-solid fa-message",e.MessageCode="fa-solid fa-message-code",e.MessageDots="fa-solid fa-message-dots",e.MessageLines="fa-solid fa-message-lines",e.Messages="fa-solid fa-messages",e.Microphone="fa-solid fa-microphone",e.MicrophoneLines="fa-solid fa-microphone-lines",e.MicrophoneLinesSlash="fa-solid fa-microphone-lines-slash",e.MicrophoneSlash="fa-solid fa-microphone-slash",e.Microscope="fa-solid fa-microscope",e.Minimize="fa-solid fa-minimize",e.Minus="fa-solid fa-minus",e.Mobile="fa-solid fa-mobile",e.MobileNotch="fa-solid fa-mobile-notch",e.MoneyCheckDollarPen="fa-solid fa-money-check-dollar-pen",e.Music="fa-solid fa-music",e.MusicSlash="fa-solid fa-music-slash",e.NewsPaper="fa-solid fa-newspaper",e.Palette="fa-solid fa-palette",e.PaperClip="fa-solid fa-paperclip",e.PaperClipVertical="fa-solid fa-paperclip-vertical",e.PaperPlane="fa-solid fa-paper-plane",e.PaperPlaneTop="fa-solid fa-paper-plane-top",e.Paste="fa-solid fa-paste",e.Pause="fa-solid fa-pause",e.Pencil="fa-solid fa-pencil",e.Pen="fa-solid fa-pen",e.PenToSquare="fa-solid fa-pen-to-square",e.PeopleArrowsLeftRight="fa-solid fa-people-arrows-left-right",e.Percentage="fa-solid fa-percentage",e.PersonChalkboard="fa-solid fa-person-chalkboard",e.Phone="fa-solid fa-phone",e.Play="fa-solid fa-play",e.PlayPause="fa-solid fa-play-pause",e.Plus="fa-solid fa-plus",e.Print="fa-solid fa-print",e.Pumo="fa-solid fa-font-awesome",e.Question="fa-solid fa-question",e.Redo="fa-solid fa-redo",e.RedoAlt="fa-solid fa-redo-alt",e.Refresh="fa-solid fa-arrows-rotate",e.Remove="fa-solid fa-xmark",e.Repeat="fa-solid fa-repeat",e.Reply="fa-solid fa-reply",e.ReplyAll="fa-solid fa-reply-all",e.RightFromBracket="fa-solid fa-right-from-bracket",e.RightToBracket="fa-solid fa-right-to-bracket",e.Rotate="fa-solid fa-rotate",e.RotateLeft="fa-solid fa-rotate-left",e.SackDollar="fa-solid fa-sack-dollar",e.Save="fa-solid fa-floppy-disk",e.Scissors="fa-solid fa-scissors",e.ScrewdriverWrench="fa-solid fa-screwdriver-wrench",e.Search="fa-solid fa-magnifying-glass",e.SensorTriangleExclamation="fa-solid fa-sensor-triangle-exclamation",e.Settings="fa-solid fa-gear",e.Share="fa-solid fa-share",e.ShareAll="fa-solid fa-share-all",e.ShareNodes="fa-solid fa-share-nodes",e.ShareFromSquare="fa-solid fa-share-from-square",e.ShieldCheck="fa-solid fa-shield-check",e.Ship="fa-solid fa-ship",e.Sitemap="fa-solid fa-sitemap",e.Soccer="fa-solid fa-futbol",e.Sort="fa-solid fa-sort",e.SortDown="fa-solid fa-sort-down",e.SortUp="fa-solid fa-sort-up",e.Spinner="fa-solid fa-spinner",e.Split="fa-solid fa-split",e.SquareCheck="fa-solid fa-square-check",e.SquareMinus="fa-solid fa-square-minus",e.SquarePen="fa-solid fa-square-pen",e.Star="fa-solid fa-star",e.StepBackward="fa-solid fa-step-backward",e.StepForward="fa-solid fa-step-forward",e.Stethoscope="fa-solid fa-stethoscope",e.Stop="fa-solid fa-stop",e.Table="fa-solid fa-table",e.TableRows="fa-solid fa-table-rows",e.Tablet="fa-solid fa-tablet",e.Tag="fa-solid fa-tag",e.Tags="fa-solid fa-tags",e.Tasks="fa-solid fa-tasks",e.ThumbsDown="fa-solid fa-thumbs-down",e.ThumbsUp="fa-solid fa-thumbs-up",e.Thumbtack="fa-solid fa-thumbtack",e.Trash="fa-solid fa-trash",e.TrashCanList="fa-solid fa-trash-can-list",e.TrashUndo="fa-solid fa-trash-undo",e.TrashXmark="fa-solid fa-trash-xmark",e.TriangleExclamation="fa-solid fa-triangle-exclamation",e.Truck="fa-solid fa-truck",e.Undo="fa-solid fa-arrow-rotate-left",e.Unlock="fa-solid fa-unlock",e.Upload="fa-solid fa-upload",e.UsbDrive="fa-solid fa-usb-drive",e.User="fa-solid fa-user",e.UserCheck="fa-solid fa-user-check",e.UserClock="fa-solid fa-user-clock",e.UserDoctor="fa-solid fa-user-doctor",e.UserDoctorHair="fa-solid fa-user-doctor-hair",e.UserDoctorHairLong="fa-solid fa-user-doctor-hair-long",e.UserGear="fa-solid fa-user-gear",e.UserGroup="fa-solid fa-user-group",e.UserHair="fa-solid fa-user-hair",e.UserHairLong="fa-solid fa-user-hair-long",e.UserHeadset="fa-solid fa-user-headset",e.Users="fa-solid fa-users",e.UserSecret="fa-solid fa-user-secret",e.UsersMedical="fa-solid fa-users-medical",e.UserTag="fa-solid fa-user-tag",e.UserXmark="fa-solid fa-user-xmark",e.Video="fa-solid fa-video",e.VideoSlash="fa-solid fa-video-slash",e.Volume="fa-solid fa-volume",e.VolumeHigh="fa-solid fa-volume-high",e.VolumeLow="fa-solid fa-volume-low",e.VolumeOff="fa-solid fa-volume-off",e.VolumeSlash="fa-solid fa-volume-slash",e.VolumeXmark="fa-solid fa-volume-xmark",e.Wifi="fa-solid fa-wifi",e.WifiExclamation="fa-solid fa-wifi-exclamation",e.WifiFair="fa-solid fa-wifi-fair",e.WifiSlash="fa-solid fa-wifi-slash",e.Window="fa-solid fa-window",e.Xmark="fa-solid fa-xmark"}(IconClassSolid=exports.IconClassSolid||(exports.IconClassSolid={})),function(e){e.Add="fa-light fa-plus",e.AddressCard="fa-light fa-address-card",e.Alert="fa-light fa-triangle-exclamation",e.AngleDown="fa-light fa-angle-down",e.AngleLeft="fa-light fa-angle-left",e.AngleRight="fa-light fa-angle-right",e.AngleUp="fa-light fa-angle-up",e.Aperture="fa-light fa-aperture",e.ArrowDown="fa-light fa-arrow-down",e.ArrowDownShortWide="fa-light fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-light fa-arrow-down-wide-short",e.ArrowLeft="fa-light fa-arrow-left",e.ArrowPointer="fa-light fa-arrow-pointer",e.ArrowRight="fa-light fa-arrow-right",e.ArrowRightToBracket="fa-light fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-light fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-light fa-arrow-rotate-right",e.ArrowsRotate="fa-light fa-arrows-rotate",e.ArrowUp="fa-light fa-arrow-up",e.Asterisk="fa-light fa-asterisk",e.At="fa-light fa-at",e.Attachment="fa-light fa-paperclip",e.Back="fa-light fa-angle-left",e.Backward="fa-light fa-backward",e.BackwardFast="fa-light fa-backward-fast",e.BackwardStep="fa-light fa-backward-step",e.BalanceScale="fa-light fa-balance-scale",e.BallotCheck="fa-light fa-ballot-check",e.Ban="fa-light fa-ban",e.Barcode="fa-light fa-barcode",e.BarcodeScan="fa-light fa-barcode-scan",e.Bars="fa-light fa-bars",e.BarsSort="fa-light fa-bars-sort",e.Bell="fa-light fa-bell",e.BellSlash="fa-light fa-bell-slash",e.Bolt="fa-light fa-bolt",e.Book="fa-light fa-book",e.BookOpen="fa-light fa-book-open",e.Box="fa-light fa-box",e.BoxArchive="fa-light fa-box-archive",e.BriefCase="fa-light fa-brief-case",e.Bug="fa-light fa-bug",e.Burger="fa-light fa-bars",e.CakeCandles="fa-light fa-cake-candles",e.Calendar="fa-light fa-calendar",e.CalendarAlt="fa-light fa-calendar-alt",e.CalendarCheck="fa-light fa-calendar-check",e.CalendarDay="fa-light fa-calendar-day",e.CalendarPlus="fa-light fa-calendar-plus",e.Camera="fa-light fa-camera",e.CameraAlt="fa-light fa-camera-alt",e.CameraWeb="fa-light fa-camera-web",e.CameraWebSlash="fa-light fa-camera-web-slash",e.Capsules="fa-light fa-capsules",e.CaretDown="fa-light fa-caret-down",e.CaretLeft="fa-light fa-caret-left",e.CaretRight="fa-light fa-caret-right",e.CaretUp="fa-light fa-caret-up",e.CartCirclePlus="fa-light fa-cart-circle-plus",e.CartShopping="fa-light fa-cart-shopping",e.ChartArea="fa-light fa-chart-area",e.ChartBar="fa-light fa-chart-bar",e.ChartColumn="fa-light fa-chart-column",e.ChartLine="fa-light fa-chart-line",e.ChartPie="fa-light fa-chart-pie",e.ChartSimple="fa-light fa-chart-simple",e.Chat="fa-light fa-comment",e.Check="fa-light fa-check",e.ChevronDown="fa-light fa-chevron-down",e.ChevronLeft="fa-light fa-chevron-left",e.ChevronRight="fa-light fa-chevron-right",e.ChevronUp="fa-light fa-chevron-up",e.Circle="fa-light fa-circle",e.CircleCheck="fa-light fa-circle-check",e.CircleExclamation="fa-light fa-circle-exclamation",e.CircleInfo="fa-light fa-circle-info",e.CircleStop="fa-light fa-circle-stop",e.Clipboard="fa-light fa-clipboard",e.ClipboardMedical="fa-light fa-clipboard-medical",e.Clock="fa-light fa-clock",e.ClockRotateLeft="fa-light fa-clock-rotate-left",e.Close="fa-light fa-xmark",e.Cloud="fa-light fa-cloud",e.CloudArrowUp="fa-light fa-cloud-arrow-up",e.CloudDownload="fa-light fa-cloud-download",e.Code="fa-light fa-code",e.CodeMerge="fa-light fa-code-merge",e.Coins="fa-light fa-coins",e.Collapse="fa-light fa-compress",e.Comment="fa-light fa-comment",e.CommentDots="fa-light fa-comment-dots",e.CommentLines="fa-light fa-comment-lines",e.Comments="fa-light fa-comments",e.CommentSms="fa-light fa-comment-sms",e.Compress="fa-light fa-compress",e.Copy="fa-light fa-copy",e.Copyright="fa-light fa-copyright",e.CreditCard="fa-light fa-credit-card",e.Crown="fa-light fa-crown",e.Database="fa-light fa-database",e.Delete="fa-light fa-xmark",e.DeleteLeft="fa-light fa-delete-left",e.DeleteRight="fa-light fa-delete-right",e.Desktop="fa-light fa-desktop",e.Download="fa-light fa-download",e.Edit="fa-light fa-pen",e.Eject="fa-light fa-eject",e.Ellipsis="fa-light fa-ellipsis",e.EllipsisVertical="fa-light fa-ellipsis-vertical",e.Envelope="fa-light fa-envelope",e.Eraser="fa-light fa-eraser",e.EuroSign="fa-light fa-euro-sign",e.Exclamation="fa-light fa-exclamation",e.Expand="fa-light fa-expand",e.Eye="fa-light fa-eye",e.EyeSlash="fa-light fa-eye-slash",e.Family="fa-light fa-family",e.FastBackward="fa-light fa-fast-backward",e.FastForward="fa-light fa-fast-forward",e.File="fa-light fa-file",e.FileAudio="fa-light fa-file-audio",e.FileContract="fa-light fa-file-contract",e.FileDownload="fa-light fa-file-download",e.FileExcel="fa-light fa-file-excel",e.FileExport="fa-light fa-file-export",e.FileImage="fa-light fa-file-image",e.FileInvoice="fa-light fa-file-invoice",e.FileImport="fa-light fa-file-import",e.FileLines="fa-light fa-file-lines",e.FileMusic="fa-light fa-file-music",e.FilePdf="fa-light fa-file-pdf",e.Files="fa-light fa-file-files",e.FileSignature="fa-light fa-file-signature",e.FileVideo="fa-light fa-file-video",e.FileWord="fa-light fa-file-word",e.FileZipper="fa-light fa-file-zipper",e.Filter="fa-light fa-filter",e.Flag="fa-light fa-flag",e.FlagSwallowTail="fa-light fa-flag-swallowtail",e.FloppyDisk="fa-light fa-floppy-disk",e.Folder="fa-light fa-folder",e.FolderOpen="fa-light fa-folder-open",e.FontAwesome="fa-light  fa-font-awesome",e.Forward="fa-light fa-forward",e.ForwardStep="fa-light fa-forward-step",e.ForwardFast="fa-light fa-forward-fast",e.Futbol="fa-light fa-futbol",e.Gear="fa-light fa-gear",e.Gears="fa-light fa-gears",e.Globe="fa-light fa-globe",e.Hashtag="fa-light fa-hashtag",e.HatWizard="fa-light fa-hat-wizard",e.Headset="fa-light fa-headset",e.Hospital="fa-light fa-hospital",e.Hourglass="fa-light fa-hourglass",e.HourglassClock="fa-light fa-hourglass-clock",e.House="fa-light fa-house",e.HouseMedical="fa-light fa-house-medical",e.HouseUser="fa-light fa-house-user",e.Image="fa-light fa-image",e.Inbox="fa-light fa-inbox",e.InboxFull="fa-light fa-inbox-full",e.Info="fa-light fa-info",e.Key="fa-light fa-key",e.Keyboard="fa-light fa-keyboard",e.KeySkeleton="fa-light fa-key-skeleton",e.Laptop="fa-light fa-laptop",e.LaptopMedical="fa-light fa-laptop-medical",e.LevelDown="fa-light fa-level-down",e.LevelDownAlt="fa-light fa-level-down-alt",e.LevelLeft="fa-light fa-level-left",e.LevelLeftAlt="fa-light fa-level-left-alt",e.LevelRight="fa-light fa-level-right",e.LevelRightAlt="fa-light fa-level-right-alt",e.LevelUp="fa-light fa-level-up",e.LevelUpAlt="fa-light fa-level-up-alt",e.Link="fa-light fa-link",e.LinkExternal="fa-light fa-arrow-up-right-from-square",e.LinkHorizontal="fa-light fa-link-horizontal",e.LinkHorizontalSlash="fa-light fa-link-horizontal-slash",e.LinkSimple="fa-light fa-link-simple",e.LinkSimpleSlash="fa-light fa-link-simple-slash",e.LinkSlash="fa-light fa-link-slash",e.List="fa-light fa-list",e.ListCheck="fa-light fa-list-check",e.ListOl="fa-light fa-list-ol",e.ListTree="fa-light fa-list-tree",e.ListUl="fa-light fa-list-ul",e.LocationArrow="fa-light fa-location-arrow",e.LocationCrossHairs="fa-light fa-location-crosshairs",e.LocationCheck="fa-light fa-location-check",e.LocationDot="fa-light fa-location-dot",e.Lock="fa-light fa-lock",e.LockOpen="fa-light fa-lock-open",e.Login="fa-light fa-arrow-right-to-bracket",e.Logout="fa-light fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-light fa-magnifying-glass",e.MagnifyingGlassMinus="fa-light fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-light fa-magnifying-glass-plus",e.Mail="fa-light fa-envelope",e.Mailbox="fa-light fa-mailbox",e.MailOpen="fa-light fa-envelope-open",e.Map="fa-light fa-map",e.MapLocation="fa-light fa-map-location",e.MapLocationDot="fa-light fa-map-location-dot",e.MapPin="fa-light fa-map-pin",e.Maximize="fa-light fa-maximize",e.Merge="fa-light fa-merge",e.Message="fa-light fa-message",e.MessageCode="fa-light fa-message-code",e.MessageDots="fa-light fa-message-dots",e.MessageLines="fa-light fa-message-lines",e.Messages="fa-light fa-messages",e.Microphone="fa-light fa-microphone",e.MicrophoneLines="fa-light fa-microphone-lines",e.MicrophoneLinesSlash="fa-light fa-microphone-lines-slash",e.MicrophoneSlash="fa-light fa-microphone-slash",e.Microscope="fa-light fa-microscope",e.Minimize="fa-light fa-minimize",e.Minus="fa-light fa-minus",e.Mobile="fa-light fa-mobile",e.MobileNotch="fa-light fa-mobile-notch",e.MoneyCheckDollarPen="fa-light fa-money-check-dollar-pen",e.Music="fa-light fa-music",e.MusicSlash="fa-light fa-music-slash",e.NewsPaper="fa-light fa-newspaper",e.Palette="fa-light fa-palette",e.PaperClip="fa-light fa-paperclip",e.PaperClipVertical="fa-light fa-paperclip-vertical",e.PaperPlane="fa-light fa-paper-plane",e.PaperPlaneTop="fa-light fa-paper-plane-top",e.Paste="fa-light fa-paste",e.Pause="fa-light fa-pause",e.Pen="fa-light fa-pen",e.Pencil="fa-light fa-pencil",e.PenToSquare="fa-light fa-pen-to-square",e.PeopleArrowsLeftRight="fa-light fa-people-arrows-left-right",e.Percentage="fa-light fa-percentage",e.PersonChalkboard="fa-light fa-person-chalkboard",e.Phone="fa-light fa-phone",e.Play="fa-light fa-play",e.PlayPause="fa-light fa-play-pause",e.Plus="fa-light fa-plus",e.Print="fa-light fa-print",e.Pumo="fa-light fa-font-awesome",e.Question="fa-light fa-question",e.Redo="fa-light fa-redo",e.RedoAlt="fa-light fa-redo-alt",e.Refresh="fa-light fa-arrows-rotate",e.Remove="fa-light fa-xmark",e.Repeat="fa-light fa-repeat",e.Reply="fa-light fa-reply",e.ReplyAll="fa-light fa-reply-all",e.RightFromBracket="fa-light fa-right-from-bracket",e.RightToBracket="fa-light fa-right-to-bracket",e.Rotate="fa-light fa-rotate",e.RotateLeft="fa-light fa-rotate-left",e.SackDollar="fa-light fa-sack-dollar",e.Save="fa-light fa-floppy-disk",e.Scissors="fa-light fa-scissors",e.ScrewdriverWrench="fa-light fa-screwdriver-wrench",e.Search="fa-light fa-magnifying-glass",e.SensorTriangleExclamation="fa-light fa-sensor-triangle-exclamation",e.Settings="fa-light fa-gear",e.Share="fa-light fa-share",e.ShareAll="fa-light fa-share-all",e.ShareNodes="fa-light fa-share-nodes",e.ShareFromSquare="fa-light fa-share-from-square",e.ShieldCheck="fa-light fa-shield-check",e.Ship="fa-light fa-ship",e.Sitemap="fa-light fa-sitemap",e.Soccer="fa-light fa-futbol",e.Sort="fa-light fa-sort",e.SortDown="fa-light fa-sort-down",e.SortUp="fa-light fa-sort-up",e.Spinner="fa-light fa-spinner",e.Split="fa-light fa-split",e.SquareCheck="fa-light fa-square-check",e.SquareMinus="fa-light fa-square-minus",e.SquarePen="fa-light fa-square-pen",e.Stamp="fa-light fa-stamp",e.Star="fa-light fa-star",e.StepBackward="fa-light fa-step-backward",e.StepForward="fa-light fa-step-forward",e.Stethoscope="fa-light fa-stethoscope",e.Stop="fa-light fa-stop",e.Table="fa-light fa-table",e.TableRows="fa-light fa-table-rows",e.Tablet="fa-light fa-tablet",e.Tag="fa-light fa-tag",e.Tags="fa-light fa-tags",e.Tasks="fa-light fa-tasks",e.ThumbsDown="fa-light fa-thumbs-down",e.ThumbsUp="fa-light fa-thumbs-up",e.Thumbtack="fa-light fa-thumbtack",e.Trash="fa-light fa-trash",e.TrashCanList="fa-light fa-trash-can-list",e.TrashUndo="fa-light fa-trash-undo",e.TrashXmark="fa-light fa-trash-xmark",e.TriangleExclamation="fa-light fa-triangle-exclamation",e.Truck="fa-light fa-truck",e.Undo="fa-light fa-arrow-rotate-left",e.Unlock="fa-light fa-unlock",e.Upload="fa-light fa-upload",e.UsbDrive="fa-light fa-usb-drive",e.User="fa-light fa-user",e.UserCheck="fa-light fa-user-check",e.UserClock="fa-light fa-user-clock",e.UserDoctor="fa-light fa-user-doctor",e.UserDoctorHair="fa-light fa-user-doctor-hair",e.UserDoctorHairLong="fa-light fa-user-doctor-hair-long",e.UserGear="fa-light fa-user-gear",e.UserGroup="fa-light fa-user-group",e.UserHair="fa-light fa-user-hair",e.UserHairLong="fa-light fa-user-hair-long",e.UserHeadset="fa-light fa-user-headset",e.Users="fa-light fa-users",e.UserSecret="fa-light fa-user-secret",e.UsersMedical="fa-light fa-users-medical",e.UserTag="fa-light fa-user-tag",e.UserXmark="fa-light fa-user-xmark",e.Video="fa-light fa-video",e.VideoSlash="fa-light fa-video-slash",e.Volume="fa-light fa-volume",e.VolumeHigh="fa-light fa-volume-high",e.VolumeLow="fa-light fa-volume-low",e.VolumeOff="fa-light fa-volume-off",e.VolumeSlash="fa-light fa-volume-slash",e.VolumeXmark="fa-light fa-volume-xmark",e.Wifi="fa-light fa-wifi",e.WifiExclamation="fa-light fa-wifi-exclamation",e.WifiFair="fa-light fa-wifi-fair",e.WifiSlash="fa-light fa-wifi-slash",e.Window="fa-light fa-window",e.Xmark="fa-light fa-xmark"}(IconClassLight=exports.IconClassLight||(exports.IconClassLight={})),function(e){e.Add="fa-regular fa-plus",e.AddressCard="fa-regular fa-address-card",e.Alert="fa-regular fa-triangle-exclamation",e.AngleDown="fa-regular fa-angle-down",e.AngleLeft="fa-regular fa-angle-left",e.AngleRight="fa-regular fa-angle-right",e.AngleUp="fa-regular fa-angle-up",e.Aperture="fa-regular fa-aperture",e.ArrowDown="fa-regular fa-arrow-down",e.ArrowDownShortWide="fa-regular fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-regular fa-arrow-down-wide-short",e.ArrowLeft="fa-regular fa-arrow-left",e.ArrowPointer="fa-regular fa-arrow-pointer",e.ArrowRight="fa-regular fa-arrow-right",e.ArrowRightToBracket="fa-regular fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-regular fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-regular fa-arrow-rotate-right",e.ArrowsRotate="fa-regular fa-arrows-rotate",e.ArrowUp="fa-regular fa-arrow-up",e.Asterisk="fa-regular fa-asterisk",e.At="fa-regular fa-at",e.Attachment="fa-regular fa-paperclip",e.Back="fa-regular fa-angle-left",e.Backward="fa-regular fa-backward",e.BackwardFast="fa-regular fa-backward-fast",e.BackwardStep="fa-regular fa-backward-step",e.BalanceScale="fa-regular fa-balance-scale",e.BallotCheck="fa-regular fa-ballot-check",e.Ban="fa-regular fa-ban",e.Barcode="fa-regular fa-barcode",e.BarcodeScan="fa-regular fa-barcode-scan",e.Bars="fa-regular fa-bars",e.BarsSort="fa-regular fa-bars-sort",e.Bell="fa-regular fa-bell",e.BellSlash="fa-regular fa-bell-slash",e.Bolt="fa-regular fa-bolt",e.Book="fa-regular fa-book",e.BookOpen="fa-regular fa-book-open",e.Box="fa-regular fa-box",e.BoxArchive="fa-regular fa-box-archive",e.BriefCase="fa-regular fa-brief-case",e.Bug="fa-regular fa-bug",e.Burger="fa-regular fa-bars",e.CakeCandles="fa-regular fa-cake-candles",e.Calendar="fa-regular fa-calendar",e.CalendarAlt="fa-regular fa-calendar-alt",e.CalendarCheck="fa-regular fa-calendar-check",e.CalendarDay="fa-regular fa-calendar-day",e.CalendarPlus="fa-regular fa-calendar-plus",e.Camera="fa-regular fa-camera",e.CameraAlt="fa-regular fa-camera-alt",e.CameraWeb="fa-regular fa-camera-web",e.CameraWebSlash="fa-regular fa-camera-web-slash",e.Capsules="fa-regular fa-capsules",e.CaretDown="fa-regular fa-caret-down",e.CaretLeft="fa-regular fa-caret-left",e.CaretRight="fa-regular fa-caret-right",e.CaretUp="fa-regular fa-caret-up",e.CartCirclePlus="fa-regular fa-cart-circle-plus",e.CartShopping="fa-regular fa-cart-shopping",e.ChartArea="fa-regular fa-chart-area",e.ChartBar="fa-regular fa-chart-bar",e.ChartColumn="fa-regular fa-chart-column",e.ChartLine="fa-regular fa-chart-line",e.ChartPie="fa-regular fa-chart-pie",e.ChartSimple="fa-regular fa-chart-simple",e.Chat="fa-regular fa-comment",e.Check="fa-regular fa-check",e.ChevronDown="fa-regular fa-chevron-down",e.ChevronLeft="fa-regular fa-chevron-left",e.ChevronRight="fa-regular fa-chevron-right",e.ChevronUp="fa-regular fa-chevron-up",e.Circle="fa-regular fa-circle",e.CircleCheck="fa-regular fa-circle-check",e.CircleExclamation="fa-regular fa-circle-exclamation",e.CircleInfo="fa-regular fa-circle-info",e.CircleStop="fa-regular fa-circle-stop",e.Clipboard="fa-regular fa-clipboard",e.ClipboardMedical="fa-regular fa-clipboard-medical",e.Clock="fa-regular fa-clock",e.ClockRotateLeft="fa-regular fa-clock-rotate-left",e.Close="fa-regular fa-xmark",e.Cloud="fa-regular fa-cloud",e.CloudArrowUp="fa-regular fa-cloud-arrow-up",e.CloudDownload="fa-regular fa-cloud-download",e.Code="fa-regular fa-code",e.CodeMerge="fa-regular fa-code-merge",e.Coins="fa-regular fa-coins",e.Collapse="fa-regular fa-compress",e.Comment="fa-regular fa-comment",e.CommentDots="fa-regular fa-comment-dots",e.CommentLines="fa-regular fa-comment-lines",e.Comments="fa-regular fa-comments",e.CommentSms="fa-regular fa-comment-sms",e.Compress="fa-regular fa-compress",e.Copy="fa-regular fa-copy",e.Copyright="fa-regular fa-copyright",e.CreditCard="fa-regular fa-credit-card",e.Crown="fa-regular fa-crown",e.Database="fa-regular fa-database",e.Delete="fa-regular fa-xmark",e.DeleteLeft="fa-regular fa-delete-left",e.DeleteRight="fa-regular fa-delete-right",e.Desktop="fa-regular fa-desktop",e.Download="fa-regular fa-download",e.Edit="fa-regular fa-pen",e.Eject="fa-regular fa-eject",e.Ellipsis="fa-regular fa-ellipsis",e.EllipsisVertical="fa-regular fa-ellipsis-vertical",e.Envelope="fa-regular fa-envelope",e.Eraser="fa-regular fa-eraser",e.EuroSign="fa-regular fa-euro-sign",e.Exclamation="fa-regular fa-exclamation",e.Expand="fa-regular fa-expand",e.Eye="fa-regular fa-eye",e.EyeSlash="fa-regular fa-eye-slash",e.Family="fa-regular fa-family",e.FastBackward="fa-regular fa-fast-backward",e.FastForward="fa-regular fa-fast-forward",e.File="fa-regular fa-file",e.FileAudio="fa-regular fa-file-audio",e.FileContract="fa-regular fa-file-contract",e.FileDownload="fa-regular fa-file-download",e.FileExcel="fa-regular fa-file-excel",e.FileExport="fa-regular fa-file-export",e.FileImage="fa-regular fa-file-image",e.FileInvoice="fa-regular fa-file-invoice",e.FileImport="fa-regular fa-file-import",e.FileLines="fa-regular fa-file-lines",e.FileMusic="fa-regular fa-file-music",e.FilePdf="fa-regular fa-file-pdf",e.Files="fa-regular fa-file-files",e.FileSignature="fa-regular fa-file-signature",e.FileVideo="fa-regular fa-file-video",e.FileWord="fa-regular fa-file-word",e.FileZipper="fa-regular fa-file-zipper",e.Filter="fa-regular fa-filter",e.Flag="fa-regular fa-flag",e.FlagSwallowTail="fa-regular fa-flag-swallowtail",e.FloppyDisk="fa-regular fa-floppy-disk",e.Folder="fa-regular fa-folder",e.FolderOpen="fa-regular fa-folder-open",e.FontAwesome="fa-regular  fa-font-awesome",e.Forward="fa-regular fa-forward",e.ForwardStep="fa-regular fa-forward-step",e.ForwardFast="fa-regular fa-forward-fast",e.Futbol="fa-regular fa-futbol",e.Gear="fa-regular fa-gear",e.Gears="fa-regular fa-gears",e.Globe="fa-regular fa-globe",e.Hashtag="fa-regular fa-hashtag",e.HatWizard="fa-regular fa-hat-wizard",e.Headset="fa-regular fa-headset",e.Hospital="fa-regular fa-hospital",e.Hourglass="fa-regular fa-hourglass",e.HourglassClock="fa-regular fa-hourglass-clock",e.House="fa-regular fa-house",e.HouseMedical="fa-regular fa-house-medical",e.HouseUser="fa-regular fa-house-user",e.Image="fa-regular fa-image",e.Inbox="fa-regular fa-inbox",e.InboxFull="fa-regular fa-inbox-full",e.Info="fa-regular fa-info",e.Key="fa-regular fa-key",e.Keyboard="fa-regular fa-keyboard",e.KeySkeleton="fa-regular fa-key-skeleton",e.Laptop="fa-regular fa-laptop",e.LaptopMedical="fa-regular fa-laptop-medical",e.LevelDown="fa-regular fa-level-down",e.LevelDownAlt="fa-regular fa-level-down-alt",e.LevelLeft="fa-regular fa-level-left",e.LevelLeftAlt="fa-regular fa-level-left-alt",e.LevelRight="fa-regular fa-level-right",e.LevelRightAlt="fa-regular fa-level-right-alt",e.LevelUp="fa-regular fa-level-up",e.LevelUpAlt="fa-regular fa-level-up-alt",e.Link="fa-regular fa-link",e.LinkExternal="fa-regular fa-arrow-up-right-from-square",e.LinkHorizontal="fa-regular fa-link-horizontal",e.LinkHorizontalSlash="fa-regular fa-link-horizontal-slash",e.LinkSimple="fa-regular fa-link-simple",e.LinkSimpleSlash="fa-regular fa-link-simple-slash",e.LinkSlash="fa-regular fa-link-slash",e.List="fa-regular fa-list",e.ListCheck="fa-regular fa-list-check",e.ListOl="fa-regular fa-list-ol",e.ListTree="fa-regular fa-list-tree",e.ListUl="fa-regular fa-list-ul",e.LocationArrow="fa-regular fa-location-arrow",e.LocationCrossHairs="fa-regular fa-location-crosshairs",e.LocationCheck="fa-regular fa-location-check",e.LocationDot="fa-regular fa-location-dot",e.Lock="fa-regular fa-lock",e.LockOpen="fa-regular fa-lock-open",e.Login="fa-regular fa-arrow-right-to-bracket",e.Logout="fa-regular fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-regular fa-magnifying-glass",e.MagnifyingGlassMinus="fa-regular fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-regular fa-magnifying-glass-plus",e.Mail="fa-regular fa-envelope",e.Mailbox="fa-regular fa-mailbox",e.MailOpen="fa-regular fa-envelope-open",e.Map="fa-regular fa-map",e.MapLocation="fa-regular fa-map-location",e.MapLocationDot="fa-regular fa-map-location-dot",e.MapPin="fa-regular fa-map-pin",e.Maximize="fa-regular fa-maximize",e.Merge="fa-regular fa-merge",e.Message="fa-regular fa-message",e.MessageCode="fa-regular fa-message-code",e.MessageDots="fa-regular fa-message-dots",e.MessageLines="fa-regular fa-message-lines",e.Messages="fa-regular fa-messages",e.Microphone="fa-regular fa-microphone",e.MicrophoneLines="fa-regular fa-microphone-lines",e.MicrophoneLinesSlash="fa-regular fa-microphone-lines-slash",e.MicrophoneSlash="fa-regular fa-microphone-slash",e.Microscope="fa-regular fa-microscope",e.Minimize="fa-regular fa-minimize",e.Minus="fa-regular fa-minus",e.Mobile="fa-regular fa-mobile",e.MobileNotch="fa-regular fa-mobile-notch",e.MoneyCheckDollarPen="fa-regular fa-money-check-dollar-pen",e.Music="fa-regular fa-music",e.MusicSlash="fa-regular fa-music-slash",e.NewsPaper="fa-regular fa-newspaper",e.Palette="fa-regular fa-palette",e.PaperClip="fa-regular fa-paperclip",e.PaperClipVertical="fa-regular fa-paperclip-vertical",e.PaperPlane="fa-regular fa-paper-plane",e.PaperPlaneTop="fa-regular fa-paper-plane-top",e.Paste="fa-regular fa-paste",e.Pause="fa-regular fa-pause",e.Pen="fa-regular fa-pen",e.Pencil="fa-regular fa-pencil",e.PenToSquare="fa-regular fa-pen-to-square",e.PeopleArrowsLeftRight="fa-regular fa-people-arrows-left-right",e.Percentage="fa-regular fa-percentage",e.PersonChalkboard="fa-regular fa-person-chalkboard",e.Phone="fa-regular fa-phone",e.Play="fa-regular fa-play",e.PlayPause="fa-regular fa-play-pause",e.Plus="fa-regular fa-plus",e.Print="fa-regular fa-print",e.Pumo="fa-regular fa-font-awesome",e.Question="fa-regular fa-question",e.Redo="fa-regular fa-redo",e.RedoAlt="fa-regular fa-redo-alt",e.Refresh="fa-regular fa-arrows-rotate",e.Remove="fa-regular fa-xmark",e.Repeat="fa-regular fa-repeat",e.Reply="fa-regular fa-reply",e.ReplyAll="fa-regular fa-reply-all",e.RightFromBracket="fa-regular fa-right-from-bracket",e.RightToBracket="fa-regular fa-right-to-bracket",e.Rotate="fa-regular fa-rotate",e.RotateLeft="fa-regular fa-rotate-left",e.SackDollar="fa-regular fa-sack-dollar",e.Save="fa-regular fa-floppy-disk",e.Scissors="fa-regular fa-scissors",e.ScrewdriverWrench="fa-regular fa-screwdriver-wrench",e.Search="fa-regular fa-magnifying-glass",e.SensorTriangleExclamation="fa-regular fa-sensor-triangle-exclamation",e.Settings="fa-regular fa-gear",e.Share="fa-regular fa-share",e.ShareAll="fa-regular fa-share-all",e.ShareNodes="fa-regular fa-share-nodes",e.ShareFromSquare="fa-regular fa-share-from-square",e.ShieldCheck="fa-regular fa-shield-check",e.Ship="fa-regular fa-ship",e.Sitemap="fa-regular fa-sitemap",e.Soccer="fa-regular fa-futbol",e.Sort="fa-regular fa-sort",e.SortDown="fa-regular fa-sort-down",e.SortUp="fa-regular fa-sort-up",e.Spinner="fa-regular fa-spinner",e.Split="fa-regular fa-split",e.SquareCheck="fa-regular fa-square-check",e.SquareMinus="fa-regular fa-square-minus",e.SquarePen="fa-regular fa-square-pen",e.Stamp="fa-regular fa-stamp",e.Star="fa-regular fa-star",e.StepBackward="fa-regular fa-step-backward",e.StepForward="fa-regular fa-step-forward",e.Stethoscope="fa-regular fa-stethoscope",e.Stop="fa-regular fa-stop",e.Table="fa-regular fa-table",e.TableRows="fa-regular fa-table-rows",e.Tablet="fa-regular fa-tablet",e.Tag="fa-regular fa-tag",e.Tags="fa-regular fa-tags",e.Tasks="fa-regular fa-tasks",e.ThumbsDown="fa-regular fa-thumbs-down",e.ThumbsUp="fa-regular fa-thumbs-up",e.Thumbtack="fa-regular fa-thumbtack",e.Trash="fa-regular fa-trash",e.TrashCanList="fa-regular fa-trash-can-list",e.TrashUndo="fa-regular fa-trash-undo",e.TrashXmark="fa-regular fa-trash-xmark",e.TriangleExclamation="fa-regular fa-triangle-exclamation",e.Truck="fa-regular fa-truck",e.Undo="fa-regular fa-arrow-rotate-left",e.Unlock="fa-regular fa-unlock",e.Upload="fa-regular fa-upload",e.UsbDrive="fa-regular fa-usb-drive",e.User="fa-regular fa-user",e.UserCheck="fa-regular fa-user-check",e.UserClock="fa-regular fa-user-clock",e.UserDoctor="fa-regular fa-user-doctor",e.UserDoctorHair="fa-regular fa-user-doctor-hair",e.UserDoctorHairLong="fa-regular fa-user-doctor-hair-long",e.UserGear="fa-regular fa-user-gear",e.UserGroup="fa-regular fa-user-group",e.UserHair="fa-regular fa-user-hair",e.UserHairLong="fa-regular fa-user-hair-long",e.UserHeadset="fa-regular fa-user-headset",e.Users="fa-regular fa-users",e.UserSecret="fa-regular fa-user-secret",e.UsersMedical="fa-regular fa-users-medical",e.UserTag="fa-regular fa-user-tag",e.UserXmark="fa-regular fa-user-xmark",e.Video="fa-regular fa-video",e.VideoSlash="fa-regular fa-video-slash",e.Volume="fa-regular fa-volume",e.VolumeHigh="fa-regular fa-volume-high",e.VolumeLow="fa-regular fa-volume-low",e.VolumeOff="fa-regular fa-volume-off",e.VolumeSlash="fa-regular fa-volume-slash",e.VolumeXmark="fa-regular fa-volume-xmark",e.Wifi="fa-regular fa-wifi",e.WifiExclamation="fa-regular fa-wifi-exclamation",e.WifiFair="fa-regular fa-wifi-fair",e.WifiSlash="fa-regular fa-wifi-slash",e.Window="fa-regular fa-window",e.Xmark="fa-regular fa-xmark"}(IconClassRegular=exports.IconClassRegular||(exports.IconClassRegular={})),function(e){e.Add="fa-duotone fa-plus",e.AddressCard="fa-duotone fa-address-card",e.Alert="fa-duotone fa-triangle-exclamation",e.AngleDown="fa-duotone fa-angle-down",e.AngleLeft="fa-duotone fa-angle-left",e.AngleRight="fa-duotone fa-angle-right",e.AngleUp="fa-duotone fa-angle-up",e.Aperture="fa-duotone fa-aperture",e.ArrowDown="fa-duotone fa-arrow-down",e.ArrowDownShortWide="fa-duotone fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-duotone fa-arrow-down-wide-short",e.ArrowLeft="fa-duotone fa-arrow-left",e.ArrowPointer="fa-duotone fa-arrow-pointer",e.ArrowRight="fa-duotone fa-arrow-right",e.ArrowRightToBracket="fa-duotone fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-duotone fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-duotone fa-arrow-rotate-right",e.ArrowsRotate="fa-duotone fa-arrows-rotate",e.ArrowUp="fa-duotone fa-arrow-up",e.Asterisk="fa-duotone fa-asterisk",e.At="fa-duotone fa-at",e.Attachment="fa-duotone fa-paperclip",e.Back="fa-duotone fa-angle-left",e.Backward="fa-duotone fa-backward",e.BackwardFast="fa-duotone fa-backward-fast",e.BackwardStep="fa-duotone fa-backward-step",e.BalanceScale="fa-duotone fa-balance-scale",e.BallotCheck="fa-duotone fa-ballot-check",e.Ban="fa-duotone fa-ban",e.Barcode="fa-duotone fa-barcode",e.BarcodeScan="fa-duotone fa-barcode-scan",e.Bars="fa-duotone fa-bars",e.BarsSort="fa-duotone fa-bars-sort",e.Bell="fa-duotone fa-bell",e.BellSlash="fa-duotone fa-bell-slash",e.Bolt="fa-duotone fa-bolt",e.Book="fa-duotone fa-book",e.BookOpen="fa-duotone fa-book-open",e.Box="fa-duotone fa-box",e.BoxArchive="fa-duotone fa-box-archive",e.BriefCase="fa-duotone fa-brief-case",e.Bug="fa-duotone fa-bug",e.Burger="fa-duotone fa-bars",e.CakeCandles="fa-duotone fa-cake-candles",e.Calendar="fa-duotone fa-calendar",e.CalendarAlt="fa-duotone fa-calendar-alt",e.CalendarCheck="fa-duotone fa-calendar-check",e.CalendarDay="fa-duotone fa-calendar-day",e.CalendarPlus="fa-duotone fa-calendar-plus",e.Camera="fa-duotone fa-camera",e.CameraAlt="fa-duotone fa-camera-alt",e.CameraWeb="fa-duotone fa-camera-web",e.CameraWebSlash="fa-duotone fa-camera-web-slash",e.Capsules="fa-duotone fa-capsules",e.CaretDown="fa-duotone fa-caret-down",e.CaretLeft="fa-duotone fa-caret-left",e.CaretRight="fa-duotone fa-caret-right",e.CaretUp="fa-duotone fa-caret-up",e.CartCirclePlus="fa-duotone fa-cart-circle-plus",e.CartShopping="fa-duotone fa-cart-shopping",e.ChartArea="fa-duotone fa-chart-area",e.ChartBar="fa-duotone fa-chart-bar",e.ChartColumn="fa-duotone fa-chart-column",e.ChartLine="fa-duotone fa-chart-line",e.ChartPie="fa-duotone fa-chart-pie",e.ChartSimple="fa-duotone fa-chart-simple",e.Chat="fa-duotone fa-comment",e.Check="fa-duotone fa-check",e.ChevronDown="fa-duotone fa-chevron-down",e.ChevronLeft="fa-duotone fa-chevron-left",e.ChevronRight="fa-duotone fa-chevron-right",e.ChevronUp="fa-duotone fa-chevron-up",e.Circle="fa-duotone fa-circle",e.CircleCheck="fa-duotone fa-circle-check",e.CircleExclamation="fa-duotone fa-circle-exclamation",e.CircleInfo="fa-duotone fa-circle-info",e.CircleStop="fa-duotone fa-circle-stop",e.Clipboard="fa-duotone fa-clipboard",e.ClipboardMedical="fa-duotone fa-clipboard-medical",e.Clock="fa-duotone fa-clock",e.ClockRotateLeft="fa-duotone fa-clock-rotate-left",e.Close="fa-duotone fa-xmark",e.Cloud="fa-duotone fa-cloud",e.CloudArrowUp="fa-duotone fa-cloud-arrow-up",e.CloudDownload="fa-duotone fa-cloud-download",e.Code="fa-duotone fa-code",e.CodeMerge="fa-duotone fa-code-merge",e.Coins="fa-duotone fa-coins",e.Collapse="fa-duotone fa-compress",e.Comment="fa-duotone fa-comment",e.CommentDots="fa-duotone fa-comment-dots",e.CommentLines="fa-duotone fa-comment-lines",e.Comments="fa-duotone fa-comments",e.CommentSms="fa-duotone fa-comment-sms",e.Compress="fa-duotone fa-compress",e.Copy="fa-duotone fa-copy",e.Copyright="fa-duotone fa-copyright",e.CreditCard="fa-duotone fa-credit-card",e.Crown="fa-duotone fa-crown",e.Database="fa-duotone fa-database",e.Delete="fa-duotone fa-xmark",e.DeleteLeft="fa-duotone fa-delete-left",e.DeleteRight="fa-duotone fa-delete-right",e.Desktop="fa-duotone fa-desktop",e.Download="fa-duotone fa-download",e.Edit="fa-duotone fa-pen",e.Eject="fa-duotone fa-eject",e.Ellipsis="fa-duotone fa-ellipsis",e.EllipsisVertical="fa-duotone fa-ellipsis-vertical",e.Envelope="fa-duotone fa-envelope",e.Eraser="fa-duotone fa-eraser",e.EuroSign="fa-duotone fa-euro-sign",e.Exclamation="fa-duotone fa-exclamation",e.Expand="fa-duotone fa-expand",e.Eye="fa-duotone fa-eye",e.EyeSlash="fa-duotone fa-eye-slash",e.Family="fa-duotone fa-family",e.FastBackward="fa-duotone fa-fast-backward",e.FastForward="fa-duotone fa-fast-forward",e.File="fa-duotone fa-file",e.FileAudio="fa-duotone fa-file-audio",e.FileContract="fa-duotone fa-file-contract",e.FileDownload="fa-duotone fa-file-download",e.FileExcel="fa-duotone fa-file-excel",e.FileExport="fa-duotone fa-file-export",e.FileImage="fa-duotone fa-file-image",e.FileInvoice="fa-duotone fa-file-invoice",e.FileImport="fa-duotone fa-file-import",e.FileLines="fa-duotone fa-file-lines",e.FileMusic="fa-duotone fa-file-music",e.FilePdf="fa-duotone fa-file-pdf",e.Files="fa-duotone fa-file-files",e.FileSignature="fa-duotone fa-file-signature",e.FileVideo="fa-duotone fa-file-video",e.FileWord="fa-duotone fa-file-word",e.FileZipper="fa-duotone fa-file-zipper",e.Filter="fa-duotone fa-filter",e.Flag="fa-duotone fa-flag",e.FlagSwallowTail="fa-duotone fa-flag-swallowtail",e.FloppyDisk="fa-duotone fa-floppy-disk",e.Folder="fa-duotone fa-folder",e.FolderOpen="fa-duotone fa-folder-open",e.FontAwesome="fa-duotone  fa-font-awesome",e.Forward="fa-duotone fa-forward",e.ForwardStep="fa-duotone fa-forward-step",e.ForwardFast="fa-duotone fa-forward-fast",e.Futbol="fa-duotone fa-futbol",e.Gear="fa-duotone fa-gear",e.Gears="fa-duotone fa-gears",e.Globe="fa-duotone fa-globe",e.Hashtag="fa-duotone fa-hashtag",e.HatWizard="fa-duotone fa-hat-wizard",e.Headset="fa-duotone fa-headset",e.Hospital="fa-duotone fa-hospital",e.Hourglass="fa-duotone fa-hourglass",e.HourglassClock="fa-duotone fa-hourglass-clock",e.House="fa-duotone fa-house",e.HouseMedical="fa-duotone fa-house-medical",e.HouseUser="fa-duotone fa-house-user",e.Image="fa-duotone fa-image",e.Inbox="fa-duotone fa-inbox",e.InboxFull="fa-duotone fa-inbox-full",e.Info="fa-duotone fa-info",e.Key="fa-duotone fa-key",e.Keyboard="fa-duotone fa-keyboard",e.KeySkeleton="fa-duotone fa-key-skeleton",e.Laptop="fa-duotone fa-laptop",e.LaptopMedical="fa-duotone fa-laptop-medical",e.LevelDown="fa-duotone fa-level-down",e.LevelDownAlt="fa-duotone fa-level-down-alt",e.LevelLeft="fa-duotone fa-level-left",e.LevelLeftAlt="fa-duotone fa-level-left-alt",e.LevelRight="fa-duotone fa-level-right",e.LevelRightAlt="fa-duotone fa-level-right-alt",e.LevelUp="fa-duotone fa-level-up",e.LevelUpAlt="fa-duotone fa-level-up-alt",e.Link="fa-duotone fa-link",e.LinkExternal="fa-duotone fa-arrow-up-right-from-square",e.LinkHorizontal="fa-duotone fa-link-horizontal",e.LinkHorizontalSlash="fa-duotone fa-link-horizontal-slash",e.LinkSimple="fa-duotone fa-link-simple",e.LinkSimpleSlash="fa-duotone fa-link-simple-slash",e.LinkSlash="fa-duotone fa-link-slash",e.List="fa-duotone fa-list",e.ListCheck="fa-duotone fa-list-check",e.ListOl="fa-duotone fa-list-ol",e.ListTree="fa-duotone fa-list-tree",e.ListUl="fa-duotone fa-list-ul",e.LocationArrow="fa-duotone fa-location-arrow",e.LocationCrossHairs="fa-duotone fa-location-crosshairs",e.LocationCheck="fa-duotone fa-location-check",e.LocationDot="fa-duotone fa-location-dot",e.Lock="fa-duotone fa-lock",e.LockOpen="fa-duotone fa-lock-open",e.Login="fa-duotone fa-arrow-right-to-bracket",e.Logout="fa-duotone fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-duotone fa-magnifying-glass",e.MagnifyingGlassMinus="fa-duotone fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-duotone fa-magnifying-glass-plus",e.Mail="fa-duotone fa-envelope",e.Mailbox="fa-duotone fa-mailbox",e.MailOpen="fa-duotone fa-envelope-open",e.Map="fa-duotone fa-map",e.MapLocation="fa-duotone fa-map-location",e.MapLocationDot="fa-duotone fa-map-location-dot",e.MapPin="fa-duotone fa-map-pin",e.Maximize="fa-duotone fa-maximize",e.Merge="fa-duotone fa-merge",e.Message="fa-duotone fa-message",e.MessageCode="fa-duotone fa-message-code",e.MessageDots="fa-duotone fa-message-dots",e.MessageLines="fa-duotone fa-message-lines",e.Messages="fa-duotone fa-messages",e.Microphone="fa-duotone fa-microphone",e.MicrophoneLines="fa-duotone fa-microphone-lines",e.MicrophoneLinesSlash="fa-duotone fa-microphone-lines-slash",e.MicrophoneSlash="fa-duotone fa-microphone-slash",e.Microscope="fa-duotone fa-microscope",e.Minimize="fa-duotone fa-minimize",e.Minus="fa-duotone fa-minus",e.Mobile="fa-duotone fa-mobile",e.MobileNotch="fa-duotone fa-mobile-notch",e.MoneyCheckDollarPen="fa-duotone fa-money-check-dollar-pen",e.Music="fa-duotone fa-music",e.MusicSlash="fa-duotone fa-music-slash",e.NewsPaper="fa-duotone fa-newspaper",e.Palette="fa-duotone fa-palette",e.PaperClip="fa-duotone fa-paperclip",e.PaperClipVertical="fa-duotone fa-paperclip-vertical",e.PaperPlane="fa-duotone fa-paper-plane",e.PaperPlaneTop="fa-duotone fa-paper-plane-top",e.Paste="fa-duotone fa-paste",e.Pause="fa-duotone fa-pause",e.Pen="fa-duotone fa-pen",e.Pencil="fa-duotone fa-pencil",e.PenToSquare="fa-duotone fa-pen-to-square",e.PeopleArrowsLeftRight="fa-duotone fa-people-arrows-left-right",e.Percentage="fa-duotone fa-percentage",e.PersonChalkboard="fa-duotone fa-person-chalkboard",e.Phone="fa-duotone fa-phone",e.Play="fa-duotone fa-play",e.PlayPause="fa-duotone fa-play-pause",e.Plus="fa-duotone fa-plus",e.Print="fa-duotone fa-print",e.Pumo="fa-duotone fa-font-awesome",e.Question="fa-duotone fa-question",e.Redo="fa-duotone fa-redo",e.RedoAlt="fa-duotone fa-redo-alt",e.Refresh="fa-duotone fa-arrows-rotate",e.Remove="fa-duotone fa-xmark",e.Repeat="fa-duotone fa-repeat",e.Reply="fa-duotone fa-reply",e.ReplyAll="fa-duotone fa-reply-all",e.RightFromBracket="fa-duotone fa-right-from-bracket",e.RightToBracket="fa-duotone fa-right-to-bracket",e.Rotate="fa-duotone fa-rotate",e.RotateLeft="fa-duotone fa-rotate-left",e.SackDollar="fa-duotone fa-sack-dollar",e.Save="fa-duotone fa-floppy-disk",e.Scissors="fa-duotone fa-scissors",e.ScrewdriverWrench="fa-duotone fa-screwdriver-wrench",e.Search="fa-duotone fa-magnifying-glass",e.SensorTriangleExclamation="fa-duotone fa-sensor-triangle-exclamation",e.Settings="fa-duotone fa-gear",e.Share="fa-duotone fa-share",e.ShareAll="fa-duotone fa-share-all",e.ShareNodes="fa-duotone fa-share-nodes",e.ShareFromSquare="fa-duotone fa-share-from-square",e.ShieldCheck="fa-duotone fa-shield-check",e.Ship="fa-duotone fa-ship",e.Sitemap="fa-duotone fa-sitemap",e.Soccer="fa-duotone fa-futbol",e.Sort="fa-duotone fa-sort",e.SortDown="fa-duotone fa-sort-down",e.SortUp="fa-duotone fa-sort-up",e.Spinner="fa-duotone fa-spinner",e.Split="fa-duotone fa-split",e.SquareCheck="fa-duotone fa-square-check",e.SquareMinus="fa-duotone fa-square-minus",e.SquarePen="fa-duotone fa-square-pen",e.Stamp="fa-duotone fa-stamp",e.Star="fa-duotone fa-star",e.StepBackward="fa-duotone fa-step-backward",e.StepForward="fa-duotone fa-step-forward",e.Stethoscope="fa-duotone fa-stethoscope",e.Stop="fa-duotone fa-stop",e.Table="fa-duotone fa-table",e.TableRows="fa-duotone fa-table-rows",e.Tablet="fa-duotone fa-tablet",e.Tag="fa-duotone fa-tag",e.Tags="fa-duotone fa-tags",e.Tasks="fa-duotone fa-tasks",e.ThumbsDown="fa-duotone fa-thumbs-down",e.ThumbsUp="fa-duotone fa-thumbs-up",e.Thumbtack="fa-duotone fa-thumbtack",e.Trash="fa-duotone fa-trash",e.TrashCanList="fa-duotone fa-trash-can-list",e.TrashUndo="fa-duotone fa-trash-undo",e.TrashXmark="fa-duotone fa-trash-xmark",e.TriangleExclamation="fa-duotone fa-triangle-exclamation",e.Truck="fa-duotone fa-truck",e.Undo="fa-duotone fa-arrow-rotate-left",e.Unlock="fa-duotone fa-unlock",e.Upload="fa-duotone fa-upload",e.UsbDrive="fa-duotone fa-usb-drive",e.User="fa-duotone fa-user",e.UserCheck="fa-duotone fa-user-check",e.UserClock="fa-duotone fa-user-clock",e.UserDoctor="fa-duotone fa-user-doctor",e.UserDoctorHair="fa-duotone fa-user-doctor-hair",e.UserDoctorHairLong="fa-duotone fa-user-doctor-hair-long",e.UserGear="fa-duotone fa-user-gear",e.UserGroup="fa-duotone fa-user-group",e.UserHair="fa-duotone fa-user-hair",e.UserHairLong="fa-duotone fa-user-hair-long",e.UserHeadset="fa-duotone fa-user-headset",e.Users="fa-duotone fa-users",e.UserSecret="fa-duotone fa-user-secret",e.UsersMedical="fa-duotone fa-users-medical",e.UserTag="fa-duotone fa-user-tag",e.UserXmark="fa-duotone fa-user-xmark",e.Video="fa-duotone fa-video",e.VideoSlash="fa-duotone fa-video-slash",e.Volume="fa-duotone fa-volume",e.VolumeHigh="fa-duotone fa-volume-high",e.VolumeLow="fa-duotone fa-volume-low",e.VolumeOff="fa-duotone fa-volume-off",e.VolumeSlash="fa-duotone fa-volume-slash",e.VolumeXmark="fa-duotone fa-volume-xmark",e.Wifi="fa-duotone fa-wifi",e.WifiExclamation="fa-duotone fa-wifi-exclamation",e.WifiFair="fa-duotone fa-wifi-fair",e.WifiSlash="fa-duotone fa-wifi-slash",e.Window="fa-duotone fa-window",e.Xmark="fa-duotone fa-xmark"}(IconClassDuotone=exports.IconClassDuotone||(exports.IconClassDuotone={})),function(e){e.Add="fa-thin fa-plus",e.AddressCard="fa-thin fa-address-card",e.Alert="fa-thin fa-triangle-exclamation",e.AngleDown="fa-thin fa-angle-down",e.AngleLeft="fa-thin fa-angle-left",e.AngleRight="fa-thin fa-angle-right",e.AngleUp="fa-thin fa-angle-up",e.Aperture="fa-thin fa-aperture",e.ArrowDown="fa-thin fa-arrow-down",e.ArrowDownShortWide="fa-thin fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-thin fa-arrow-down-wide-short",e.ArrowLeft="fa-thin fa-arrow-left",e.ArrowPointer="fa-thin fa-arrow-pointer",e.ArrowRight="fa-thin fa-arrow-right",e.ArrowRightToBracket="fa-thin fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-thin fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-thin fa-arrow-rotate-right",e.ArrowsRotate="fa-thin fa-arrows-rotate",e.ArrowUp="fa-thin fa-arrow-up",e.Asterisk="fa-thin fa-asterisk",e.At="fa-thin fa-at",e.Attachment="fa-thin fa-paperclip",e.Back="fa-thin fa-angle-left",e.Backward="fa-thin fa-backward",e.BackwardFast="fa-thin fa-backward-fast",e.BackwardStep="fa-thin fa-backward-step",e.BalanceScale="fa-thin fa-balance-scale",e.BallotCheck="fa-thin fa-ballot-check",e.Ban="fa-thin fa-ban",e.Barcode="fa-thin fa-barcode",e.BarcodeScan="fa-thin fa-barcode-scan",e.Bars="fa-thin fa-bars",e.BarsSort="fa-thin fa-bars-sort",e.Bell="fa-thin fa-bell",e.BellSlash="fa-thin fa-bell-slash",e.Bolt="fa-thin fa-bolt",e.Book="fa-thin fa-book",e.BookOpen="fa-thin fa-book-open",e.Box="fa-thin fa-box",e.BoxArchive="fa-thin fa-box-archive",e.BriefCase="fa-thin fa-brief-case",e.Bug="fa-thin fa-bug",e.Burger="fa-thin fa-bars",e.CakeCandles="fa-thin fa-cake-candles",e.Calendar="fa-thin fa-calendar",e.CalendarAlt="fa-thin fa-calendar-alt",e.CalendarCheck="fa-thin fa-calendar-check",e.CalendarDay="fa-thin fa-calendar-day",e.CalendarPlus="fa-thin fa-calendar-plus",e.Camera="fa-thin fa-camera",e.CameraAlt="fa-thin fa-camera-alt",e.CameraWeb="fa-thin fa-camera-web",e.CameraWebSlash="fa-thin fa-camera-web-slash",e.Capsules="fa-thin fa-capsules",e.CaretDown="fa-thin fa-caret-down",e.CaretLeft="fa-thin fa-caret-left",e.CaretRight="fa-thin fa-caret-right",e.CaretUp="fa-thin fa-caret-up",e.CartCirclePlus="fa-thin fa-cart-circle-plus",e.CartShopping="fa-thin fa-cart-shopping",e.ChartArea="fa-thin fa-chart-area",e.ChartBar="fa-thin fa-chart-bar",e.ChartColumn="fa-thin fa-chart-column",e.ChartLine="fa-thin fa-chart-line",e.ChartPie="fa-thin fa-chart-pie",e.ChartSimple="fa-thin fa-chart-simple",e.Chat="fa-thin fa-comment",e.Check="fa-thin fa-check",e.ChevronDown="fa-thin fa-chevron-down",e.ChevronLeft="fa-thin fa-chevron-left",e.ChevronRight="fa-thin fa-chevron-right",e.ChevronUp="fa-thin fa-chevron-up",e.Circle="fa-thin fa-circle",e.CircleCheck="fa-thin fa-circle-check",e.CircleExclamation="fa-thin fa-circle-exclamation",e.CircleInfo="fa-thin fa-circle-info",e.CircleStop="fa-thin fa-circle-stop",e.Clipboard="fa-thin fa-clipboard",e.ClipboardMedical="fa-thin fa-clipboard-medical",e.Clock="fa-thin fa-clock",e.ClockRotateLeft="fa-thin fa-clock-rotate-left",e.Close="fa-thin fa-xmark",e.Cloud="fa-thin fa-cloud",e.CloudArrowUp="fa-thin fa-cloud-arrow-up",e.CloudDownload="fa-thin fa-cloud-download",e.Code="fa-thin fa-code",e.CodeMerge="fa-thin fa-code-merge",e.Coins="fa-thin fa-coins",e.Collapse="fa-thin fa-compress",e.Comment="fa-thin fa-comment",e.CommentDots="fa-thin fa-comment-dots",e.CommentLines="fa-thin fa-comment-lines",e.Comments="fa-thin fa-comments",e.CommentSms="fa-thin fa-comment-sms",e.Compress="fa-thin fa-compress",e.Copy="fa-thin fa-copy",e.Copyright="fa-thin fa-copyright",e.CreditCard="fa-thin fa-credit-card",e.Crown="fa-thin fa-crown",e.Database="fa-thin fa-database",e.Delete="fa-thin fa-xmark",e.DeleteLeft="fa-thin fa-delete-left",e.DeleteRight="fa-thin fa-delete-right",e.Desktop="fa-thin fa-desktop",e.Download="fa-thin fa-download",e.Edit="fa-thin fa-pen",e.Eject="fa-thin fa-eject",e.Ellipsis="fa-thin fa-ellipsis",e.EllipsisVertical="fa-thin fa-ellipsis-vertical",e.Envelope="fa-thin fa-envelope",e.Eraser="fa-thin fa-eraser",e.EuroSign="fa-thin fa-euro-sign",e.Exclamation="fa-thin fa-exclamation",e.Expand="fa-thin fa-expand",e.Eye="fa-thin fa-eye",e.EyeSlash="fa-thin fa-eye-slash",e.Family="fa-thin fa-family",e.FastBackward="fa-thin fa-fast-backward",e.FastForward="fa-thin fa-fast-forward",e.File="fa-thin fa-file",e.FileAudio="fa-thin fa-file-audio",e.FileContract="fa-thin fa-file-contract",e.FileDownload="fa-thin fa-file-download",e.FileExcel="fa-thin fa-file-excel",e.FileExport="fa-thin fa-file-export",e.FileImage="fa-thin fa-file-image",e.FileInvoice="fa-thin fa-file-invoice",e.FileImport="fa-thin fa-file-import",e.FileLines="fa-thin fa-file-lines",e.FileMusic="fa-thin fa-file-music",e.FilePdf="fa-thin fa-file-pdf",e.Files="fa-thin fa-file-files",e.FileSignature="fa-thin fa-file-signature",e.FileVideo="fa-thin fa-file-video",e.FileWord="fa-thin fa-file-word",e.FileZipper="fa-thin fa-file-zipper",e.Filter="fa-thin fa-filter",e.Flag="fa-thin fa-flag",e.FlagSwallowTail="fa-thin fa-flag-swallowtail",e.FloppyDisk="fa-thin fa-floppy-disk",e.Folder="fa-thin fa-folder",e.FolderOpen="fa-thin fa-folder-open",e.FontAwesome="fa-thin  fa-font-awesome",e.Forward="fa-thin fa-forward",e.ForwardStep="fa-thin fa-forward-step",e.ForwardFast="fa-thin fa-forward-fast",e.Futbol="fa-thin fa-futbol",e.Gear="fa-thin fa-gear",e.Gears="fa-thin fa-gears",e.Globe="fa-thin fa-globe",e.Hashtag="fa-thin fa-hashtag",e.HatWizard="fa-thin fa-hat-wizard",e.Headset="fa-thin fa-headset",e.Hospital="fa-thin fa-hospital",e.Hourglass="fa-thin fa-hourglass",e.HourglassClock="fa-thin fa-hourglass-clock",e.House="fa-thin fa-house",e.HouseMedical="fa-thin fa-house-medical",e.HouseUser="fa-thin fa-house-user",e.Image="fa-thin fa-image",e.Inbox="fa-thin fa-inbox",e.InboxFull="fa-thin fa-inbox-full",e.Info="fa-thin fa-info",e.Key="fa-thin fa-key",e.Keyboard="fa-thin fa-keyboard",e.KeySkeleton="fa-thin fa-key-skeleton",e.Laptop="fa-thin fa-laptop",e.LaptopMedical="fa-thin fa-laptop-medical",e.LevelDown="fa-thin fa-level-down",e.LevelDownAlt="fa-thin fa-level-down-alt",e.LevelLeft="fa-thin fa-level-left",e.LevelLeftAlt="fa-thin fa-level-left-alt",e.LevelRight="fa-thin fa-level-right",e.LevelRightAlt="fa-thin fa-level-right-alt",e.LevelUp="fa-thin fa-level-up",e.LevelUpAlt="fa-thin fa-level-up-alt",e.Link="fa-thin fa-link",e.LinkExternal="fa-thin fa-arrow-up-right-from-square",e.LinkHorizontal="fa-thin fa-link-horizontal",e.LinkHorizontalSlash="fa-thin fa-link-horizontal-slash",e.LinkSimple="fa-thin fa-link-simple",e.LinkSimpleSlash="fa-thin fa-link-simple-slash",e.LinkSlash="fa-thin fa-link-slash",e.List="fa-thin fa-list",e.ListCheck="fa-thin fa-list-check",e.ListOl="fa-thin fa-list-ol",e.ListTree="fa-thin fa-list-tree",e.ListUl="fa-thin fa-list-ul",e.LocationArrow="fa-thin fa-location-arrow",e.LocationCrossHairs="fa-thin fa-location-crosshairs",e.LocationCheck="fa-thin fa-location-check",e.LocationDot="fa-thin fa-location-dot",e.Lock="fa-thin fa-lock",e.LockOpen="fa-thin fa-lock-open",e.Login="fa-thin fa-arrow-right-to-bracket",e.Logout="fa-thin fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-thin fa-magnifying-glass",e.MagnifyingGlassMinus="fa-thin fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-thin fa-magnifying-glass-plus",e.Mail="fa-thin fa-envelope",e.Mailbox="fa-thin fa-mailbox",e.MailOpen="fa-thin fa-envelope-open",e.Map="fa-thin fa-map",e.MapLocation="fa-thin fa-map-location",e.MapLocationDot="fa-thin fa-map-location-dot",e.MapPin="fa-thin fa-map-pin",e.Maximize="fa-thin fa-maximize",e.Merge="fa-thin fa-merge",e.Message="fa-thin fa-message",e.MessageCode="fa-thin fa-message-code",e.MessageDots="fa-thin fa-message-dots",e.MessageLines="fa-thin fa-message-lines",e.Messages="fa-thin fa-messages",e.Microphone="fa-thin fa-microphone",e.MicrophoneLines="fa-thin fa-microphone-lines",e.MicrophoneLinesSlash="fa-thin fa-microphone-lines-slash",e.MicrophoneSlash="fa-thin fa-microphone-slash",e.Microscope="fa-thin fa-microscope",e.Minimize="fa-thin fa-minimize",e.Minus="fa-thin fa-minus",e.Mobile="fa-thin fa-mobile",e.MobileNotch="fa-thin fa-mobile-notch",e.MoneyCheckDollarPen="fa-thin fa-money-check-dollar-pen",e.Music="fa-thin fa-music",e.MusicSlash="fa-thin fa-music-slash",e.NewsPaper="fa-thin fa-newspaper",e.Palette="fa-thin fa-palette",e.PaperClip="fa-thin fa-paperclip",e.PaperClipVertical="fa-thin fa-paperclip-vertical",e.PaperPlane="fa-thin fa-paper-plane",e.PaperPlaneTop="fa-thin fa-paper-plane-top",e.Paste="fa-thin fa-paste",e.Pause="fa-thin fa-pause",e.Pen="fa-thin fa-pen",e.Pencil="fa-thin fa-pencil",e.PenToSquare="fa-thin fa-pen-to-square",e.PeopleArrowsLeftRight="fa-thin fa-people-arrows-left-right",e.Percentage="fa-thin fa-percentage",e.PersonChalkboard="fa-thin fa-person-chalkboard",e.Phone="fa-thin fa-phone",e.Play="fa-thin fa-play",e.PlayPause="fa-thin fa-play-pause",e.Plus="fa-thin fa-plus",e.Print="fa-thin fa-print",e.Pumo="fa-thin fa-font-awesome",e.Question="fa-thin fa-question",e.Redo="fa-thin fa-redo",e.RedoAlt="fa-thin fa-redo-alt",e.Refresh="fa-thin fa-arrows-rotate",e.Remove="fa-thin fa-xmark",e.Repeat="fa-thin fa-repeat",e.Reply="fa-thin fa-reply",e.ReplyAll="fa-thin fa-reply-all",e.RightFromBracket="fa-thin fa-right-from-bracket",e.RightToBracket="fa-thin fa-right-to-bracket",e.Rotate="fa-thin fa-rotate",e.RotateLeft="fa-thin fa-rotate-left",e.SackDollar="fa-thin fa-sack-dollar",e.Save="fa-thin fa-floppy-disk",e.Scissors="fa-thin fa-scissors",e.ScrewdriverWrench="fa-thin fa-screwdriver-wrench",e.Search="fa-thin fa-magnifying-glass",e.SensorTriangleExclamation="fa-thin fa-sensor-triangle-exclamation",e.Settings="fa-thin fa-gear",e.Share="fa-thin fa-share",e.ShareAll="fa-thin fa-share-all",e.ShareNodes="fa-thin fa-share-nodes",e.ShareFromSquare="fa-thin fa-share-from-square",e.ShieldCheck="fa-thin fa-shield-check",e.Ship="fa-thin fa-ship",e.Sitemap="fa-thin fa-sitemap",e.Soccer="fa-thin fa-futbol",e.Sort="fa-thin fa-sort",e.SortDown="fa-thin fa-sort-down",e.SortUp="fa-thin fa-sort-up",e.Spinner="fa-thin fa-spinner",e.Split="fa-thin fa-split",e.SquareCheck="fa-thin fa-square-check",e.SquareMinus="fa-thin fa-square-minus",e.SquarePen="fa-thin fa-square-pen",e.Stamp="fa-thin fa-stamp",e.Star="fa-thin fa-star",e.StepBackward="fa-thin fa-step-backward",e.StepForward="fa-thin fa-step-forward",e.Stethoscope="fa-thin fa-stethoscope",e.Stop="fa-thin fa-stop",e.Table="fa-thin fa-table",e.TableRows="fa-thin fa-table-rows",e.Tablet="fa-thin fa-tablet",e.Tag="fa-thin fa-tag",e.Tags="fa-thin fa-tags",e.Tasks="fa-thin fa-tasks",e.ThumbsDown="fa-thin fa-thumbs-down",e.ThumbsUp="fa-thin fa-thumbs-up",e.Thumbtack="fa-thin fa-thumbtack",e.Trash="fa-thin fa-trash",e.TrashCanList="fa-thin fa-trash-can-list",e.TrashUndo="fa-thin fa-trash-undo",e.TrashXmark="fa-thin fa-trash-xmark",e.TriangleExclamation="fa-thin fa-triangle-exclamation",e.Truck="fa-thin fa-truck",e.Undo="fa-thin fa-arrow-rotate-left",e.Unlock="fa-thin fa-unlock",e.Upload="fa-thin fa-upload",e.UsbDrive="fa-thin fa-usb-drive",e.User="fa-thin fa-user",e.UserCheck="fa-thin fa-user-check",e.UserClock="fa-thin fa-user-clock",e.UserDoctor="fa-thin fa-user-doctor",e.UserDoctorHair="fa-thin fa-user-doctor-hair",e.UserDoctorHairLong="fa-thin fa-user-doctor-hair-long",e.UserGear="fa-thin fa-user-gear",e.UserGroup="fa-thin fa-user-group",e.UserHair="fa-thin fa-user-hair",e.UserHairLong="fa-thin fa-user-hair-long",e.UserHeadset="fa-thin fa-user-headset",e.Users="fa-thin fa-users",e.UserSecret="fa-thin fa-user-secret",e.UsersMedical="fa-thin fa-users-medical",e.UserTag="fa-thin fa-user-tag",e.UserXmark="fa-thin fa-user-xmark",e.Video="fa-thin fa-video",e.VideoSlash="fa-thin fa-video-slash",e.Volume="fa-thin fa-volume",e.VolumeHigh="fa-thin fa-volume-high",e.VolumeLow="fa-thin fa-volume-low",e.VolumeOff="fa-thin fa-volume-off",e.VolumeSlash="fa-thin fa-volume-slash",e.VolumeXmark="fa-thin fa-volume-xmark",e.Wifi="fa-thin fa-wifi",e.WifiExclamation="fa-thin fa-wifi-exclamation",e.WifiFair="fa-thin fa-wifi-fair",e.WifiSlash="fa-thin fa-wifi-slash",e.Window="fa-thin fa-window",e.Xmark="fa-thin fa-xmark"}(IconClassThin=exports.IconClassThin||(exports.IconClassThin={})),function(e){e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom"}(PositionEnum=exports.PositionEnum||(exports.PositionEnum={})),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(OrientationEnum=exports.OrientationEnum||(exports.OrientationEnum={}));class PopupSettings{}exports.PopupSettings=PopupSettings,function(e){e[e.Auto=0]="Auto",e[e.Up=1]="Up",e[e.Down=2]="Down"}(PopupDirectionEnum=exports.PopupDirectionEnum||(exports.PopupDirectionEnum={})),function(e){e.Dashed="dashed",e.Dotted="dotted",e.Double="double",e.Hidden="hidden",e.Solid="solid",e.Groove="groove",e.Ridge="ridge"}(BorderStyleEnum=exports.BorderStyleEnum||(exports.BorderStyleEnum={})),function(e){e.Default="vrButtonDefaultMode",e.Primary="vrButtonPrimaryMode",e.Delete="vrButtonDeleteMode",e.Excel="vrButtonExcelMode",e.Print="vrButtonPrintMode",e.Warning="vrButtonWarningMode"}(ButtonModeEnum=exports.ButtonModeEnum||(exports.ButtonModeEnum={}));class ColorSettings{}exports.ColorSettings=ColorSettings;class DivColorSettings{}exports.DivColorSettings=DivColorSettings;class DivBorderSpecificSettings{}exports.DivBorderSpecificSettings=DivBorderSpecificSettings;class DivBorderSettings extends DivBorderSpecificSettings{}exports.DivBorderSettings=DivBorderSettings,function(e){e[e.Single=0]="Single",e[e.Multiple=1]="Multiple"}(SelectionModeEnum=exports.SelectionModeEnum||(exports.SelectionModeEnum={}));class ButtonGroupItem{}exports.ButtonGroupItem=ButtonGroupItem;class TabStripItem extends ButtonGroupItem{}exports.TabStripItem=TabStripItem,function(e){e[e.Half=0]="Half",e[e.Full=1]="Full"}(RatingPrecisionEnum=exports.RatingPrecisionEnum||(exports.RatingPrecisionEnum={})),function(e){e[e.Default=0]="Default",e[e.Primary=1]="Primary",e[e.Error=2]="Error",e[e.Phone=3]="Phone",e[e.Mail=4]="Mail",e[e.Link=5]="Link",e[e.Currency=6]="Currency",e[e.Date=7]="Date",e[e.Time=8]="Time",e[e.DateTime=9]="DateTime"}(LabelModeEnum=exports.LabelModeEnum||(exports.LabelModeEnum={})),function(e){e[e.Always=0]="Always",e[e.None=1]="None",e[e.OnHover=2]="OnHover"}(LabelUnderlineMode=exports.LabelUnderlineMode||(exports.LabelUnderlineMode={})),function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(TextAlignEnum=exports.TextAlignEnum||(exports.TextAlignEnum={}));class TextBoxLengthSettings{}exports.TextBoxLengthSettings=TextBoxLengthSettings,function(e){e[e.Text=0]="Text",e[e.Link=1]="Link",e[e.Phone=2]="Phone",e[e.Search=3]="Search",e[e.Mail=4]="Mail",e[e.MultiLine=5]="MultiLine",e[e.Password=6]="Password",e[e.PasswordViewable=7]="PasswordViewable",e[e.Numeric=8]="Numeric",e[e.Percentage=9]="Percentage",e[e.Currency=10]="Currency"}(TextModeEnum=exports.TextModeEnum||(exports.TextModeEnum={})),function(e){e.Capitalize="capitalize",e.Uppercase="uppercase",e.Lowercase="lowercase",e.Default="none"}(TextTransformModeEnum=exports.TextTransformModeEnum||(exports.TextTransformModeEnum={}));class TextBoxValidationSettings{}exports.TextBoxValidationSettings=TextBoxValidationSettings;class TextBoxRegexSettings{}exports.TextBoxRegexSettings=TextBoxRegexSettings,function(e){e[e.Flashing=0]="Flashing",e[e.Stable=1]="Stable",e[e.None=2]="None"}(TextBoxValidationErrorEnum=exports.TextBoxValidationErrorEnum||(exports.TextBoxValidationErrorEnum={})),function(e){e[e.Tooltip=0]="Tooltip",e[e.Overlay=1]="Overlay",e[e.Solid=2]="Solid"}(ErrorModeEnum=exports.ErrorModeEnum||(exports.ErrorModeEnum={})),function(e){e[e.Right=0]="Right",e[e.Bottom=1]="Bottom"}(ErrorPositionEnum=exports.ErrorPositionEnum||(exports.ErrorPositionEnum={})),function(e){e[e.OnFocus=0]="OnFocus",e[e.OnAction=1]="OnAction",e[e.Never=2]="Never"}(ErrorHideModeEnum=exports.ErrorHideModeEnum||(exports.ErrorHideModeEnum={})),function(e){e.Sandbox="sandbox",e.Production="production"}(PaypalEnvironmentEnum=exports.PaypalEnvironmentEnum||(exports.PaypalEnvironmentEnum={})),function(e){e.Medium="medium",e.Large="large",e.Small="small",e.Responsive="responsive"}(PaypalStyleSizeEnum=exports.PaypalStyleSizeEnum||(exports.PaypalStyleSizeEnum={})),function(e){e.Gold="gold",e.Blue="blue",e.Silver="silver",e.Black="black"}(PaypalStyleColorEnum=exports.PaypalStyleColorEnum||(exports.PaypalStyleColorEnum={})),function(e){e.Rect="rect",e.Pill="pill"}(PaypalStyleShapeEnum=exports.PaypalStyleShapeEnum||(exports.PaypalStyleShapeEnum={})),function(e){e.Checkout="checkout",e.Credit="credit",e.Pay="pay",e.BuyNow="buynow",e.Paypal="paypal",e.Installment="installment"}(PaypalStyleLabelEnum=exports.PaypalStyleLabelEnum||(exports.PaypalStyleLabelEnum={})),function(e){e.Vertical="vertical",e.Horizontal="horizontal"}(PaypalStyleLayoutEnum=exports.PaypalStyleLayoutEnum||(exports.PaypalStyleLayoutEnum={})),function(e){e[e.Checked=0]="Checked",e[e.Unchecked=1]="Unchecked",e[e.Undefined=2]="Undefined"}(CheckboxStateEnum=exports.CheckboxStateEnum||(exports.CheckboxStateEnum={})),function(e){e[e.Center=0]="Center",e[e.Fit=1]="Fit",e[e.Fill=2]="Fill",e[e.Stretch=3]="Stretch",e[e.Original=4]="Original"}(ImagePositionTypeEnum=exports.ImagePositionTypeEnum||(exports.ImagePositionTypeEnum={})),function(e){e[e.Download=0]="Download",e[e.Delete=1]="Delete",e[e.Custom=2]="Custom"}(ImageToolbarTypeEnum=exports.ImageToolbarTypeEnum||(exports.ImageToolbarTypeEnum={})),function(e){e[e.First=0]="First",e[e.Last=1]="Last"}(DefaultDayEnum=exports.DefaultDayEnum||(exports.DefaultDayEnum={})),function(e){e[e.Combo=0]="Combo",e[e.DropDown=1]="DropDown"}(ComboBoxTypeEnum=exports.ComboBoxTypeEnum||(exports.ComboBoxTypeEnum={})),function(e){e[e.AllExpanded=0]="AllExpanded",e[e.OnlyFirstLevelExpanded=1]="OnlyFirstLevelExpanded",e[e.AllCollapsed=2]="AllCollapsed"}(ComboBoxTreeModeEnum=exports.ComboBoxTreeModeEnum||(exports.ComboBoxTreeModeEnum={}));class ComboBoxItem{}exports.ComboBoxItem=ComboBoxItem;class ComboBoxWebServiceSettings{}exports.ComboBoxWebServiceSettings=ComboBoxWebServiceSettings;class ComboBoxTemplateEvent{}exports.ComboBoxTemplateEvent=ComboBoxTemplateEvent;class ComboBoxEvent extends common_1.VrControlsEvent{}exports.ComboBoxEvent=ComboBoxEvent;class ComboBoxChangeEvent extends ComboBoxEvent{}exports.ComboBoxChangeEvent=ComboBoxChangeEvent;class ComboBoxChangingEvent extends ComboBoxEvent{}exports.ComboBoxChangingEvent=ComboBoxChangingEvent;class ComboBoxClearEvent extends common_1.VrControlsEvent{}exports.ComboBoxClearEvent=ComboBoxClearEvent;class SortByComboSettings{}exports.SortByComboSettings=SortByComboSettings;class AutoCompleteBoxItem{}exports.AutoCompleteBoxItem=AutoCompleteBoxItem;class AutoCompleteBoxItemSettings{}exports.AutoCompleteBoxItemSettings=AutoCompleteBoxItemSettings;class AutoCompleteBoxComboSettings{}exports.AutoCompleteBoxComboSettings=AutoCompleteBoxComboSettings,function(e){e.Bar="bar",e.HorizontalBar="horizontalBar",e.Line="line",e.Donut="doughnut",e.Pie="pie",e.Area="area",e.StackedBar="stackedBar"}(ChartTypeEnum=exports.ChartTypeEnum||(exports.ChartTypeEnum={}));class ChartAreaSettings{}exports.ChartAreaSettings=ChartAreaSettings;class ChartTitleSettings{}exports.ChartTitleSettings=ChartTitleSettings,function(e){e.Start="start",e.Center="center",e.End="end"}(ChartTitleAlignEnum=exports.ChartTitleAlignEnum||(exports.ChartTitleAlignEnum={})),function(e){e.Top="top",e.Left="left",e.Bottom="bottom",e.Right="right"}(ChartTitlePositionEnum=exports.ChartTitlePositionEnum||(exports.ChartTitlePositionEnum={}));class ChartFont{}exports.ChartFont=ChartFont;class ChartDataLabelsSettings{}exports.ChartDataLabelsSettings=ChartDataLabelsSettings,function(e){e.Center="center",e.Start="start",e.End="end"}(ChartDataLabelsAnchorEnum=exports.ChartDataLabelsAnchorEnum||(exports.ChartDataLabelsAnchorEnum={})),function(e){e.Center="center",e.Start="start",e.End="end",e.Right="right",e.Left="left"}(ChartDataLabelsTextAlignEnum=exports.ChartDataLabelsTextAlignEnum||(exports.ChartDataLabelsTextAlignEnum={})),function(e){e.Center="center",e.Start="start",e.End="end",e.Right="right",e.Bottom="bottom",e.Left="left",e.Top="top"}(ChartDataLabelAlignEnum=exports.ChartDataLabelAlignEnum||(exports.ChartDataLabelAlignEnum={}));class ChartLegendSettings{}exports.ChartLegendSettings=ChartLegendSettings,function(e){e.Top="top",e.Left="left",e.Bottom="bottom",e.Right="right",e.ChartArea="chartArea"}(ChartLegendPositionEnum=exports.ChartLegendPositionEnum||(exports.ChartLegendPositionEnum={})),function(e){e.Center="center",e.Start="start",e.End="end"}(ChartLegendAlignEnum=exports.ChartLegendAlignEnum||(exports.ChartLegendAlignEnum={}));class ChartLegendLabelsSettings{}exports.ChartLegendLabelsSettings=ChartLegendLabelsSettings,function(e){e.Left="left",e.Right="right",e.Center="center"}(ChartLegendLabelsAlignEnum=exports.ChartLegendLabelsAlignEnum||(exports.ChartLegendLabelsAlignEnum={}));class ChartLegendTitleSettings{}exports.ChartLegendTitleSettings=ChartLegendTitleSettings;class ChartTooltipSettings{}exports.ChartTooltipSettings=ChartTooltipSettings,function(e){e.Average="average",e.Nearest="nearest"}(ChartTooltipPositionEnum=exports.ChartTooltipPositionEnum||(exports.ChartTooltipPositionEnum={})),function(e){e.Left="left",e.Right="right",e.Center="center"}(ChartTooltipAlignEnum=exports.ChartTooltipAlignEnum||(exports.ChartTooltipAlignEnum={})),function(e){e.Top="top",e.Center="center",e.Bottom="bottom"}(ChartTooltipYAlignEnum=exports.ChartTooltipYAlignEnum||(exports.ChartTooltipYAlignEnum={}));class ChartStackedSettings{}exports.ChartStackedSettings=ChartStackedSettings;class ChartAspectRatioSettings{}exports.ChartAspectRatioSettings=ChartAspectRatioSettings;class ChartLimitSettings{}exports.ChartLimitSettings=ChartLimitSettings;class ChartDataSource{}exports.ChartDataSource=ChartDataSource;class ChartParsingSettings{}exports.ChartParsingSettings=ChartParsingSettings;class ChartLegendEvent extends common_1.VrControlsEvent{}exports.ChartLegendEvent=ChartLegendEvent;class ChartLegendHoverEvent extends ChartLegendEvent{}exports.ChartLegendHoverEvent=ChartLegendHoverEvent;class ChartLegendLeaveEvent extends ChartLegendEvent{}exports.ChartLegendLeaveEvent=ChartLegendLeaveEvent;class ChartLegendClickEvent extends ChartLegendEvent{}exports.ChartLegendClickEvent=ChartLegendClickEvent;class ChartLabelEvent extends common_1.VrControlsEvent{}exports.ChartLabelEvent=ChartLabelEvent;class ChartLabelHoverEvent extends ChartLabelEvent{}exports.ChartLabelHoverEvent=ChartLabelHoverEvent;class ChartLabelLeaveEvent extends ChartLabelEvent{}exports.ChartLabelLeaveEvent=ChartLabelLeaveEvent;class ChartLabelClickEvent extends ChartLabelEvent{}exports.ChartLabelClickEvent=ChartLabelClickEvent;class ChartAxisFormatterEvent extends common_1.VrControlsEvent{}exports.ChartAxisFormatterEvent=ChartAxisFormatterEvent;class ChartOptions extends common_1.VrControlOptions{}exports.ChartOptions=ChartOptions,function(e){e[e.Close=0]="Close",e[e.Ok=1]="Ok",e[e.Custom=2]="Custom",e[e.SplitButton=3]="SplitButton",e[e.Switch=4]="Switch",e[e.ButtonGroup=5]="ButtonGroup",e[e.CheckBox=6]="CheckBox",e[e.ComboBox=7]="ComboBox",e[e.DatePicker=8]="DatePicker",e[e.Label=9]="Label",e[e.TextBox=10]="TextBox"}(WindowFooterItemTypeEnum=exports.WindowFooterItemTypeEnum||(exports.WindowFooterItemTypeEnum={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(WindowFooterItemAlignEnum=exports.WindowFooterItemAlignEnum||(exports.WindowFooterItemAlignEnum={})),function(e){e[e.Width=0]="Width",e[e.Height=1]="Height"}(WindowAutoSizeDirectionEnum=exports.WindowAutoSizeDirectionEnum||(exports.WindowAutoSizeDirectionEnum={})),function(e){e.Separator="|",e.Undo="undo",e.Redo="redo",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.FontFamily="fontfamily",e.FontSelect="fontfamily",e.FontSize="fontsize",e.FullScreen="fullscreen",e.AlignLeft="alignleft",e.AlignRight="alignright",e.AlignCenter="aligncenter",e.AlignJustify="alignjustify",e.OrderedList="numlist",e.NumList="numlist",e.UnorderedList="bullist",e.Bullist="bullist",e.ColorPicker="color",e.Link="link",e.Cut="cut",e.Copy="copy",e.Paste="paste",e.PasteText="pastetext",e.SelectAll="selectall",e.SearchAndReplace="searchreplace",e.Print="print",e.Preview="preview",e.CodeSource="code",e.WordCount="wordcount",e.Image="image",e.Media="media",e.Table="inserttable",e.InsertTable="inserttable",e.Cell="cell",e.Row="row",e.Symbols="charmap",e.CharMap="charmap",e.Emoticons="emoticons",e.Hr="hr",e.PageBreak="pagebreak",e.StrikeThrough="strikethrough",e.Superscript="superscript",e.Subscript="subscript",e.FontFormats="fontformats",e.AlignFormats="align",e.BlockFormats="blockformats",e.BackgroundColor="backcolor",e.ClearFormatting="removeformat",e.RemoveFormat="removeformat"}(vrEditorItemEnum=exports.vrEditorItemEnum||(exports.vrEditorItemEnum={})),function(e){e.Floating="floating",e.Sliding="sliding",e.Scrolling="scrolling",e.Wrap="wrap"}(vrEditorToolbarModeEnum=exports.vrEditorToolbarModeEnum||(exports.vrEditorToolbarModeEnum={})),function(e){e.CaretDown="action-next",e.CaretUp="action-prev",e.AlignCenter="align-center",e.AlignJustify="align-justify",e.AlignLeft="align-left",e.AlignRight="align-right",e.AlignNone="align-none",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.Cancel="cancel",e.CheckMark="checkmark",e.ChevronDown="chevron-down",e.ChevronRight="chevron-right",e.ChevronUp="chevron-up",e.ChevronLeft="chevron-left",e.Close="close",e.Edit="edit-block",e.FullScreen="fullscreen",e.Home="home",e.LineHorizontal="horizontal-rule",e.BurgerHorizontal="image-options",e.Image="image",e.Info="info",e.Time="insert-time",e.Symbols="insert-character",e.Link="link",e.Url="link",e.Lock="lock",e.Document="new-document",e.NewTab="new-tab",e.Alert="notice",e.Paragraph="paragraph",e.Paste="paste",e.PasteText="paste-text",e.Add="plus",e.Plus="plus",e.Settings="preferences",e.Preview="preview",e.Print="print",e.Quote="quote",e.Redo="redo",e.Reload="reload",e.Refresh="reload",e.Remove="remove",e.Delete="remove",e.Resize="resize",e.RotateLeft="rotate-left",e.RotateRight="rotate-right",e.Search="search",e.SourceCode="sourcecode",e.Table="table",e.Undo="undo",e.Unlink="unlink",e.Unlock="unlock",e.Upload="upload",e.Warning="warning",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out"}(TinyMceIconEnum=exports.TinyMceIconEnum||(exports.TinyMceIconEnum={}));class vrEditorCustomItem{}exports.vrEditorCustomItem=vrEditorCustomItem;class vrEditorCustomMenuItem{}exports.vrEditorCustomMenuItem=vrEditorCustomMenuItem,function(e){e[e.Button=0]="Button",e[e.Separator=1]="Separator",e[e.SplitButton=2]="SplitButton",e[e.Switch=3]="Switch",e[e.ButtonGroup=4]="ButtonGroup",e[e.CheckBox=5]="CheckBox",e[e.ComboBox=6]="ComboBox",e[e.DatePicker=7]="DatePicker",e[e.Label=8]="Label",e[e.TextBox=9]="TextBox"}(EditorCustomMenuItemType=exports.EditorCustomMenuItemType||(exports.EditorCustomMenuItemType={}));class vrEditorSpeechRecognizerSettings{}exports.vrEditorSpeechRecognizerSettings=vrEditorSpeechRecognizerSettings,function(e){e[e.Popup=0]="Popup",e[e.Direct=1]="Direct"}(EditorSpeechRecognizerModeEnum=exports.EditorSpeechRecognizerModeEnum||(exports.EditorSpeechRecognizerModeEnum={})),function(e){e[e.MenuBar=0]="MenuBar",e[e.MenuItems=1]="MenuItems"}(EditorSpeechRecognizerPositionEnum=exports.EditorSpeechRecognizerPositionEnum||(exports.EditorSpeechRecognizerPositionEnum={}));class vrEditorFontSizeSettings{}exports.vrEditorFontSizeSettings=vrEditorFontSizeSettings;class SpeechRecognizerOptions extends common_1.VrControlOptions{}exports.SpeechRecognizerOptions=SpeechRecognizerOptions,function(e){e[e.None=0]="None",e[e.SingleCheck=1]="SingleCheck",e[e.MultiCheck=2]="MultiCheck"}(GridCheckboxModeEnum=exports.GridCheckboxModeEnum||(exports.GridCheckboxModeEnum={})),function(e){e[e.Asc=0]="Asc",e[e.Desc=1]="Desc"}(GridSortDirectionEnum=exports.GridSortDirectionEnum||(exports.GridSortDirectionEnum={})),function(e){e[e.Asc=0]="Asc",e[e.Desc=1]="Desc"}(SortDirectionEnum=exports.SortDirectionEnum||(exports.SortDirectionEnum={})),function(e){e[e.FitScreen=0]="FitScreen",e[e.FitContent=1]="FitContent"}(GridHeightModeEnum=exports.GridHeightModeEnum||(exports.GridHeightModeEnum={})),function(e){e[e.Sync=0]="Sync",e[e.NotSync=1]="NotSync"}(GridModeEnum=exports.GridModeEnum||(exports.GridModeEnum={})),function(e){e[e.Average=0]="Average",e[e.Count=1]="Count",e[e.Max=2]="Max",e[e.Min=3]="Min",e[e.Sum=4]="Sum",e[e.None=5]="None"}(GridAggregateMode=exports.GridAggregateMode||(exports.GridAggregateMode={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(GridAlignEnum=exports.GridAlignEnum||(exports.GridAlignEnum={})),function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Currency=2]="Currency",e[e.Percentage=3]="Percentage",e[e.Duration=4]="Duration",e[e.Date=5]="Date",e[e.Time=6]="Time",e[e.DateTime=7]="DateTime",e[e.Checkbox=8]="Checkbox",e[e.Boolean=9]="Boolean",e[e.Button=10]="Button",e[e.EditButton=11]="EditButton",e[e.Label=12]="Label",e[e.Image=13]="Image",e[e.Custom=14]="Custom",e[e.Icon=15]="Icon",e[e.DropDownList=16]="DropDownList",e[e.ComboBox=17]="ComboBox",e[e.DropDownTree=18]="DropDownTree",e[e.DropDownTreeCheckboxes=19]="DropDownTreeCheckboxes",e[e.PasswordViewable=20]="PasswordViewable",e[e.Color=21]="Color"}(GridColumnTypeEnum=exports.GridColumnTypeEnum||(exports.GridColumnTypeEnum={})),function(e){e[e.Always=0]="Always",e[e.None=1]="None",e[e.OnFocus=2]="OnFocus"}(GridLabelUnderlineMode=exports.GridLabelUnderlineMode||(exports.GridLabelUnderlineMode={})),function(e){e[e.Add=0]="Add",e[e.Delete=1]="Delete",e[e.Separator=2]="Separator",e[e.Excel=3]="Excel",e[e.ExcelWithHiddenColumns=4]="ExcelWithHiddenColumns",e[e.Custom=5]="Custom",e[e.Rebind=6]="Rebind",e[e.SplitButton=7]="SplitButton",e[e.Switch=8]="Switch",e[e.ButtonGroup=9]="ButtonGroup",e[e.CheckBox=10]="CheckBox",e[e.ComboBox=11]="ComboBox",e[e.DatePicker=12]="DatePicker",e[e.Label=13]="Label",e[e.TextBox=14]="TextBox"}(GridToolbarItemType=exports.GridToolbarItemType||(exports.GridToolbarItemType={})),function(e){e[e.GreaterThan=0]="GreaterThan",e[e.LessThan=1]="LessThan",e[e.EqualsTo=2]="EqualsTo",e[e.Between=3]="Between"}(GridDateFilterTypeEnum=exports.GridDateFilterTypeEnum||(exports.GridDateFilterTypeEnum={})),function(e){e[e.GreaterThan=0]="GreaterThan",e[e.LessThan=1]="LessThan",e[e.EqualsTo=2]="EqualsTo",e[e.Between=3]="Between"}(GridNumberFilterTypeEnum=exports.GridNumberFilterTypeEnum||(exports.GridNumberFilterTypeEnum={}));class GridGroupBySettings{}exports.GridGroupBySettings=GridGroupBySettings;class GridSortSettings{}exports.GridSortSettings=GridSortSettings;class GridGroupByItem{}exports.GridGroupByItem=GridGroupByItem;class GridGroupDisplayValueEvent{}exports.GridGroupDisplayValueEvent=GridGroupDisplayValueEvent;class GridGroupExpandCollapseEvent{}exports.GridGroupExpandCollapseEvent=GridGroupExpandCollapseEvent;class GridGroupEditClickEvent{}exports.GridGroupEditClickEvent=GridGroupEditClickEvent;class GridPageSelectedEvent extends common_1.VrControlsEvent{}exports.GridPageSelectedEvent=GridPageSelectedEvent;class GridScrollEvent extends common_1.VrControlsEvent{}exports.GridScrollEvent=GridScrollEvent;class GridColumn{}exports.GridColumn=GridColumn;class GridButtonSettings extends grid_1.GridControlsSettings{}exports.GridButtonSettings=GridButtonSettings;class GridToolbarItem{}exports.GridToolbarItem=GridToolbarItem,function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(PdfViewerToolbarAreaEnum=exports.PdfViewerToolbarAreaEnum||(exports.PdfViewerToolbarAreaEnum={}));class PdfViewerToolbarSettings{}exports.PdfViewerToolbarSettings=PdfViewerToolbarSettings;class PdfViewerToolbarItem{}exports.PdfViewerToolbarItem=PdfViewerToolbarItem;class ToolbarItemOnClickEvent{}exports.ToolbarItemOnClickEvent=ToolbarItemOnClickEvent,function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(SplitterDirectionEnum=exports.SplitterDirectionEnum||(exports.SplitterDirectionEnum={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down"}(SplitterCollapseDirectionEnum=exports.SplitterCollapseDirectionEnum||(exports.SplitterCollapseDirectionEnum={}));class SplitterCollapsableSettings{}exports.SplitterCollapsableSettings=SplitterCollapsableSettings;class SchedulerSaturationInfo{}exports.SchedulerSaturationInfo=SchedulerSaturationInfo;class SchedulerSaturationDay{}exports.SchedulerSaturationDay=SchedulerSaturationDay;class SchedulerSaturationWeek{}exports.SchedulerSaturationWeek=SchedulerSaturationWeek;class SchedulerSaturationWeekByResource{}exports.SchedulerSaturationWeekByResource=SchedulerSaturationWeekByResource;class SaturationDate{}exports.SaturationDate=SaturationDate;class SchedulerSaturationWeekByDate{}exports.SchedulerSaturationWeekByDate=SchedulerSaturationWeekByDate;class SaturationResource{}exports.SaturationResource=SaturationResource;class SchedulerSaturationFourWeeks{}exports.SchedulerSaturationFourWeeks=SchedulerSaturationFourWeeks;class SchedulerResource{}exports.SchedulerResource=SchedulerResource,function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(DayOfWeekEnum=exports.DayOfWeekEnum||(exports.DayOfWeekEnum={}));class SchedulerView{}exports.SchedulerView=SchedulerView,function(e){e[e.Day=0]="Day",e[e.Week=1]="Week",e[e.FourWeeks=2]="FourWeeks"}(SchedulerViewEnum=exports.SchedulerViewEnum||(exports.SchedulerViewEnum={}));class SchedulerSlotElement{}exports.SchedulerSlotElement=SchedulerSlotElement;class SchedulerData{get duration(){return Date.vrDifferenceBetweenDatesInMinutes(new Date(this.start),new Date(this.end))}}exports.SchedulerData=SchedulerData;class SchedulerAttribute{}exports.SchedulerAttribute=SchedulerAttribute,function(e){e[e.NextDate=0]="NextDate",e[e.PrevDate=1]="PrevDate",e[e.Today=2]="Today",e[e.ChangeDate=4]="ChangeDate"}(SchedulerNavigateActionEnum=exports.SchedulerNavigateActionEnum||(exports.SchedulerNavigateActionEnum={}));class NotifierOptions{}exports.NotifierOptions=NotifierOptions,function(e){e[e.Default=0]="Default",e[e.Success=1]="Success",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error"}(NotifierTypeEnum=exports.NotifierTypeEnum||(exports.NotifierTypeEnum={})),function(e){e.TopLeft="TopLeft",e.TopCenter="TopCenter",e.TopRight="TopRight",e.BottomLeft="BottomLeft",e.BottomCenter="BottomCenter",e.BottomRight="BottomRight",e.RightMiddle="RightMiddle",e.RightTop="RightTop",e.RightBottom="RightBottom",e.LeftBottom="LeftBottom",e.LeftTop="LeftTop",e.LeftMiddle="LeftMiddle",e.MiddleScreen="MiddleScreen"}(NotifierPositionEnum=exports.NotifierPositionEnum||(exports.NotifierPositionEnum={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.FadeIn=2]="FadeIn",e[e.SlideDown=3]="SlideDown"}(AnimationShowEnum=exports.AnimationShowEnum||(exports.AnimationShowEnum={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.FadeOut=2]="FadeOut",e[e.SlideUp=3]="SlideUp"}(AnimationHideEnum=exports.AnimationHideEnum||(exports.AnimationHideEnum={})),function(e){e[e.Click=0]="Click",e[e.Focus=1]="Focus",e[e.Hover=2]="Hover",e[e.Never=3]="Never"}(TooltipShowOnEnum=exports.TooltipShowOnEnum||(exports.TooltipShowOnEnum={})),function(e){e[e.Default=0]="Default",e[e.Never=1]="Never",e[e.Click=2]="Click",e[e.Blur=3]="Blur",e[e.Leave=4]="Leave"}(TooltipHideOnEnum=exports.TooltipHideOnEnum||(exports.TooltipHideOnEnum={})),function(e){e[e.Default=0]="Default",e[e.Success=1]="Success",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error"}(TooltipTypeEnum=exports.TooltipTypeEnum||(exports.TooltipTypeEnum={})),function(e){e.TopLeft="TopLeft",e.TopCenter="TopCenter",e.TopRight="TopRight",e.BottomLeft="BottomLeft",e.BottomCenter="BottomCenter",e.BottomRight="BottomRight",e.RightMiddle="RightMiddle",e.RightTop="RightTop",e.RightBottom="RightBottom",e.LeftBottom="LeftBottom",e.LeftTop="LeftTop",e.LeftMiddle="LeftMiddle",e.MiddleScreen="MiddleScreen"}(TooltipPositionEnum=exports.TooltipPositionEnum||(exports.TooltipPositionEnum={}));class TreeViewColumn{}exports.TreeViewColumn=TreeViewColumn;class TreeViewToolbarItem{}exports.TreeViewToolbarItem=TreeViewToolbarItem;class TreeViewToolbarSwitchSettings{}exports.TreeViewToolbarSwitchSettings=TreeViewToolbarSwitchSettings;class TreeViewToolbarSwitchEvent{}exports.TreeViewToolbarSwitchEvent=TreeViewToolbarSwitchEvent;class TreeViewToolbarClickEvent{preventDefault(){this.isDefaultPrevented=!0}}exports.TreeViewToolbarClickEvent=TreeViewToolbarClickEvent,function(e){e[e.Separator=0]="Separator",e[e.Excel=1]="Excel",e[e.Custom=2]="Custom",e[e.Rebind=3]="Rebind",e[e.SplitButton=4]="SplitButton",e[e.Switch=5]="Switch",e[e.ButtonGroup=6]="ButtonGroup",e[e.CheckBox=7]="CheckBox",e[e.ComboBox=8]="ComboBox",e[e.DatePicker=9]="DatePicker",e[e.Label=10]="Label",e[e.TextBox=11]="TextBox"}(TreeViewToolbarItemType=exports.TreeViewToolbarItemType||(exports.TreeViewToolbarItemType={}));class TreeViewItem{}exports.TreeViewItem=TreeViewItem;class TreeViewItemExtraCell extends TreeViewColumn{}exports.TreeViewItemExtraCell=TreeViewItemExtraCell;class TreeViewContextMenuItem{}exports.TreeViewContextMenuItem=TreeViewContextMenuItem,function(e){e[e.AllExpanded=0]="AllExpanded",e[e.OnlyFirstLevelExpanded=1]="OnlyFirstLevelExpanded",e[e.AllCollapsed=2]="AllCollapsed"}(TreeModeEnum=exports.TreeModeEnum||(exports.TreeModeEnum={})),function(e){e[e.Default=0]="Default",e[e.Currency=1]="Currency",e[e.Percentage=2]="Percentage"}(TreeViewNumericTypeEnum=exports.TreeViewNumericTypeEnum||(exports.TreeViewNumericTypeEnum={})),function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Currency=2]="Currency",e[e.Percentage=3]="Percentage",e[e.Duration=4]="Duration",e[e.Date=5]="Date",e[e.Time=6]="Time",e[e.DateTime=7]="DateTime",e[e.Checkbox=8]="Checkbox",e[e.Boolean=9]="Boolean",e[e.Color=21]="Color"}(TreeViewColumnTypeEnum=exports.TreeViewColumnTypeEnum||(exports.TreeViewColumnTypeEnum={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(TreeViewAlignEnum=exports.TreeViewAlignEnum||(exports.TreeViewAlignEnum={}));class TreeViewFilterSettings{}exports.TreeViewFilterSettings=TreeViewFilterSettings;class MapMarker{}exports.MapMarker=MapMarker,function(e){e.Streets="mapbox/streets-v11",e.Outdoors="mapbox/outdoors-v11",e.Light="mapbox/light-v10",e.Dark="mapbox/dark-v10",e.Satellite="mapbox/satellite-v9",e.SatelliteStreets="mapbox/satellite-streets-v11",e.NavigationDay="mapbox/navigation-day-v1",e.NavigationNight="mapbox/navigation-night-v1"}(MapModeEnum=exports.MapModeEnum||(exports.MapModeEnum={}));class ColorPickerRgbaValue{}function pageError(e){window.onerror=(t,i,a,r,n)=>{if(null!=e){let o=new PageErrorEvent;return o.message=t,o.url=i,o.lineNumber=a,o.columnNumber=r,o.error=n,e(o),!1}return!0}}exports.ColorPickerRgbaValue=ColorPickerRgbaValue,function(e){e.Hex="hex",e.Rgba="rgba"}(ColorPickerModeEnum=exports.ColorPickerModeEnum||(exports.ColorPickerModeEnum={})),function(e){e[e.MinSize=0]="MinSize",e[e.MaxSize=1]="MaxSize",e[e.Extensions=2]="Extensions"}(UploadValidationErrorTypeEnum=exports.UploadValidationErrorTypeEnum||(exports.UploadValidationErrorTypeEnum={})),function(e){e.red="#FF0000",e.red50="#ffebee",e.red100="#ffcdd2",e.red200="#ef9a9a",e.red300="#e57373",e.red400="#ef5350",e.red500="#f44336",e.red600="#e53935",e.red700="#d32f2f",e.red800="#c62828",e.red900="#b71c1c",e.redA100="#ff8a80",e.redA200="#ff5252",e.redA400="#ff1744",e.redA700="#d50000",e.pink50="#fce4ec",e.pink100="#f8bbd0",e.pink200="#f48fb1",e.pink300="#f06292",e.pink400="#ec407a",e.pink500="#e91e63",e.pink600="#d81b60",e.pink700="#c2185b",e.pink800="#ad1457",e.pink900="#880e4f",e.pinkA100="#ff80ab",e.pinkA200="#ff4081",e.pinkA400="#f50057",e.pinkA700="#c51162",e.purple50="#f3e5f5",e.purple100="#e1bee7",e.purple200="#ce93d8",e.purple300="#ba68c8",e.purple400="#ab47bc",e.purple500="#9c27b0",e.purple600="#8e24aa",e.purple700="#7b1fa2",e.purple800="#6a1b9a",e.purple900="#4a148c",e.purpleA100="#ea80fc",e.purpleA200="#e040fb",e.purpleA400="#d500f9",e.purpleA700="#aa00ff",e.deepPurple50="#ede7f6",e.deepPurple100="#d1c4e9",e.deepPurple200="#b39ddb",e.deepPurple300="#9575cd",e.deepPurple400="#7e57c2",e.deepPurple500="#673ab7",e.deepPurple600="#5e35b1",e.deepPurple700="#512da8",e.deepPurple800="#4527a0",e.deepPurple900="#311b92",e.deepPurpleA100="#b388ff",e.deepPurpleA200="#7c4dff",e.deepPurpleA400="#651fff",e.deepPurpleA700="#6200ea",e.indigo50="#e8eaf6",e.indigo100="#c5cae9",e.indigo200="#9fa8da",e.indigo300="#7986cb",e.indigo400="#5c6bc0",e.indigo500="#3f51b5",e.indigo600="#3949ab",e.indigo700="#303f9f",e.indigo800="#283593",e.indigo900="#1a237e",e.indigoA100="#8c9eff",e.indigoA200="#536dfe",e.indigoA400="#3d5afe",e.indigoA700="#304ffe",e.blue="#0000FF",e.blue50="#e3f2fd",e.blue100="#bbdefb",e.blue200="#90caf9",e.blue300="#64b5f6",e.blue400="#42a5f5",e.blue500="#2196f3",e.blue600="#1e88e5",e.blue700="#1976d2",e.blue800="#1565c0",e.blue900="#0d47a1",e.blueA100="#82b1ff",e.blueA200="#448aff",e.blueA400="#2979ff",e.blueA700="#2962ff",e.lightBlue50="#e1f5fe",e.lightBlue100="#b3e5fc",e.lightBlue200="#81d4fa",e.lightBlue300="#4fc3f7",e.lightBlue400="#29b6f6",e.lightBlue500="#03a9f4",e.lightBlue600="#039be5",e.lightBlue700="#0288d1",e.lightBlue800="#0277bd",e.lightBlue900="#01579b",e.lightBlueA100="#80d8ff",e.lightBlueA200="#40c4ff",e.lightBlueA400="#00b0ff",e.lightBlueA700="#0091ea",e.cyan="#00FFFF",e.cyan50="#e0f7fa",e.cyan100="#b2ebf2",e.cyan200="#80deea",e.cyan300="#4dd0e1",e.cyan400="#26c6da",e.cyan500="#00bcd4",e.cyan600="#00acc1",e.cyan700="#0097a7",e.cyan800="#00838f",e.cyan900="#006064",e.cyanA100="#84ffff",e.cyanA200="#18ffff",e.cyanA400="#00e5ff",e.cyanA700="#00b8d4",e.teal50="#e0f2f1",e.teal100="#b2dfdb",e.teal200="#80cbc4",e.teal300="#4db6ac",e.teal400="#26a69a",e.teal500="#009688",e.teal600="#00897b",e.teal700="#00796b",e.teal800="#00695c",e.teal900="#004d40",e.tealA100="#a7ffeb",e.tealA200="#64ffda",e.tealA400="#1de9b6",e.tealA700="#00bfa5",e.green="#00FF00",e.green50="#e8f5e9",e.green100="#c8e6c9",e.green200="#a5d6a7",e.green300="#81c784",e.green400="#66bb6a",e.green500="#4caf50",e.green600="#43a047",e.green700="#388e3c",e.green800="#2e7d32",e.green900="#1b5e20",e.greenA100="#b9f6ca",e.greenA200="#69f0ae",e.greenA400="#00e676",e.greenA700="#00c853",e.lightGreen50="#f1f8e9",e.lightGreen100="#dcedc8",e.lightGreen200="#c5e1a5",e.lightGreen300="#aed581",e.lightGreen400="#9ccc65",e.lightGreen500="#8bc34a",e.lightGreen600="#7cb342",e.lightGreen700="#689f38",e.lightGreen800="#558b2f",e.lightGreen900="#33691e",e.lightGreenA100="#ccff90",e.lightGreenA200="#b2ff59",e.lightGreenA400="#76ff03",e.lightGreenA700="#64dd17",e.vettore="#51B3E1",e.vettoreLight="#e3f1fa",e.pumo="#32CD32",e.lime50="#f9fbe7",e.lime100="#f0f4c3",e.lime200="#e6ee9c",e.lime300="#dce775",e.lime400="#d4e157",e.lime500="#cddc39",e.lime600="#c0ca33",e.lime700="#afb42b",e.lime800="#9e9d24",e.lime900="#827717",e.limeA100="#f4ff81",e.limeA200="#eeff41",e.limeA400="#c6ff00",e.limeA700="#aeea00",e.yellow="#FFFF00",e.yellow50="#fffde7",e.yellow100="#fff9c4",e.yellow200="#fff59d",e.yellow300="#fff176",e.yellow400="#ffee58",e.yellow500="#ffeb3b",e.yellow600="#fdd835",e.yellow700="#fbc02d",e.yellow800="#f9a825",e.yellow900="#f57f17",e.yellowA100="#ffff8d",e.yellowA200="#ffff00",e.yellowA400="#ffea00",e.yellowA700="#ffd600",e.amber50="#fff8e1",e.amber100="#ffecb3",e.amber200="#ffe082",e.amber300="#ffd54f",e.amber400="#ffca28",e.amber500="#ffc107",e.amber600="#ffb300",e.amber700="#ffa000",e.amber800="#ff8f00",e.amber900="#ff6f00",e.amberA100="#ffe57f",e.amberA200="#ffd740",e.amberA400="#ffc400",e.amberA700="#ffab00",e.orange50="#fff3e0",e.orange100="#ffe0b2",e.orange200="#ffcc80",e.orange300="#ffb74d",e.orange400="#ffa726",e.orange500="#ff9800",e.orange600="#fb8c00",e.orange700="#f57c00",e.orange800="#ef6c00",e.orange900="#e65100",e.orangeA100="#ffd180",e.orangeA200="#ffab40",e.orangeA400="#ff9100",e.orangeA700="#ff6d00",e.deepOrange50="#fbe9e7",e.deepOrange100="#ffccbc",e.deepOrange200="#ffab91",e.deepOrange300="#ff8a65",e.deepOrange400="#ff7043",e.deepOrange500="#ff5722",e.deepOrange600="#f4511e",e.deepOrange700="#e64a19",e.deepOrange800="#d84315",e.deepOrange900="#bf360c",e.deepOrangeA100="#ff9e80",e.deepOrangeA200="#ff6e40",e.deepOrangeA400="#ff3d00",e.deepOrangeA700="#dd2c00",e.brown50="#efebe9",e.brown100="#d7ccc8",e.brown200="#bcaaa4",e.brown300="#a1887f",e.brown400="#8d6e63",e.brown500="#795548",e.brown600="#6d4c41",e.brown700="#5d4037",e.brown800="#4e342e",e.brown900="#3e2723",e.grey50="#fafafa",e.grey100="#f5f5f5",e.grey200="#eeeeee",e.grey300="#e0e0e0",e.grey400="#bdbdbd",e.grey500="#9e9e9e",e.grey600="#757575",e.grey700="#616161",e.grey800="#424242",e.grey900="#212121",e.blueGrey50="#eceff1",e.blueGrey100="#cfd8dc",e.blueGrey200="#b0bec5",e.blueGrey300="#90a4ae",e.blueGrey400="#78909c",e.blueGrey500="#607d8b",e.blueGrey600="#546e7a",e.blueGrey700="#455a64",e.blueGrey800="#37474f",e.blueGrey900="#263238"}(Color=exports.Color||(exports.Color={})),exports.pageError=pageError;class PageErrorEvent{}function isLocalhost(){return location.hostname.includes("localhost")}function interval(e,t,i,a){utilityManager_1.UtilityManager.interval(e,t,i,a)}function addCssStyle(e,t){utilityManager_1.UtilityManager.addCssStyle(e,t)}function addCss(e,t){addCssStyle(e,t)}function addJsScript(e,t){utilityManager_1.UtilityManager.addJsScript(e,t)}function addCssFiles(...e){return new Promise(t=>{utilityManager_1.UtilityManager.addCssFiles(...e).then(()=>t())})}function addJsFiles(...e){return new Promise(t=>{utilityManager_1.UtilityManager.addJsFiles(...e).then(()=>t())})}function openUrl(e,t="download",i=!1){utilityManager_1.UtilityManager.openUrl(e,t,i)}function openBrowserWindow(e,t=!1,i,a){let r=1e3,n=700;null!=i&&(null!=i.width&&(r=i.width),null!=i.height&&(n=i.height));let o=window.top.outerHeight/2+window.top.screenY-n/2,l=window.top.outerWidth/2+window.top.screenX-r/2;null!=a&&(null!=a.top&&(o=a.top),null!=a.left&&(l=a.left)),window.open(e,t?"_blank":"",t?`width=${r}, height=${n}, top=${o}, left=${l}`:"")}exports.isLocalhost=isLocalhost,exports.interval=interval,exports.addCssStyle=addCssStyle,exports.addCss=addCss,exports.addJsScript=addJsScript,exports.addCssFiles=addCssFiles,exports.addJsFiles=addJsFiles,exports.openUrl=openUrl,exports.openBrowserWindow=openBrowserWindow;class BrowserWindowSize{}exports.BrowserWindowSize=BrowserWindowSize;class BrowserWindowPosition{}function isValidEmail(e){return utilityManager_1.UtilityManager.isValidEmail(e)}function copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then(()=>notify("Copiato!")):oldSupportCopyTextToClipboard(e)}function oldSupportCopyTextToClipboard(e){let t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")&&notify("Copiato!")}catch(e){}document.body.removeChild(t)}function base64ToFile(e,t,i){return utilityManager_1.UtilityManager.base64ToFile(e,t,i)}function base64ToBytes(e){return utilityManager_1.UtilityManager.base64ToBytes(e)}function bytesToBase64(e){return utilityManager_1.UtilityManager.bytesToBase64(e)}function base64ToBlob(e,t="",i=512){return utilityManager_1.UtilityManager.base64ToBlob(e,t,i)}function shadowRoot(e){return null!=e&&(_shadowRoot2=e),_shadowRoot2}function jqueryVariable(e){return null!=e&&(_jqueryVariable=e),_jqueryVariable}exports.BrowserWindowPosition=BrowserWindowPosition,exports.isValidEmail=isValidEmail,exports.copyTextToClipboard=copyTextToClipboard,exports.base64ToFile=base64ToFile,exports.base64ToBytes=base64ToBytes,exports.bytesToBase64=bytesToBase64,exports.base64ToBlob=base64ToBlob,exports.shadowRoot=shadowRoot,exports.jqueryVariable=jqueryVariable,function(e){e[e.Async=0]="Async",e[e.Sync=1]="Sync"}(WebApiModeEnum=exports.WebApiModeEnum||(exports.WebApiModeEnum={})),function(e){e[e.Date=0]="Date",e[e.DateTime=1]="DateTime",e[e.Time=2]="Time",e[e.LongDate=3]="LongDate",e[e.LongDateTime=4]="LongDateTime",e[e.LongWeekDate=5]="LongWeekDate"}(DateModeEnum=exports.DateModeEnum||(exports.DateModeEnum={})),function(e){e[e.Day=0]="Day",e[e.Month=1]="Month",e[e.Year=2]="Year"}(DateDepthEnum=exports.DateDepthEnum||(exports.DateDepthEnum={})),function(e){e[e.LongDate=0]="LongDate",e[e.ShortDate=1]="ShortDate",e[e.WeekDay=2]="WeekDay",e[e.WeekRange=3]="WeekRange",e[e.FourWeeksRange=4]="FourWeeksRange",e[e.Month=5]="Month",e[e.Year=6]="Year"}(DateFormatEnum=exports.DateFormatEnum||(exports.DateFormatEnum={})),function(e){e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Enter="Enter",e.Tab="Tab",e.Backspace="Backspace",e.Control="Control"}(KeyEnum=exports.KeyEnum||(exports.KeyEnum={}));class NumberFormatRoundingSettings{}exports.NumberFormatRoundingSettings=NumberFormatRoundingSettings;class NumberFormatSettings extends NumberFormatRoundingSettings{constructor(e){super(),null!=e&&(this.roundingMode=e.roundingMode,this.minimumFractionDigits=e.minimumFractionDigits,this.maximumFractionDigits=e.maximumFractionDigits)}}function dynamicSort(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(i,a){let r=i[e],n=a[e];"string"==typeof r&&(r=r.toLowerCase()),"string"==typeof n&&(n=n.toLowerCase());var o=r<n?-1:r>n?1:0;return("string"==typeof r&&""==r||"string"==typeof n&&""==n)&&(o=""==r?1:-1),null!=r&&null!=n||(o=1==t?null==r?1:-1:null==r?-1:1),o*t}}function dynamicSortMultiple(){var e=arguments;return function(t,i){for(var a=0,r=0,n=e.length;0===r&&a<n;)r=dynamicSort(e[a])(t,i),a++;return r}}function internalSortWithoutProperties(e,t){e.sort((e,i)=>{if(t){if("number"==typeof e){const t=e-i;if(t)return t}else{if("string"==typeof e){let t=new Date(e);return isNaN(t.getTime())?e.localeCompare(i):new Date(e).getTime()-new Date(i).getTime()}if("[object Date]"===Object.prototype.toString.call(e))return new Date(e).getTime()-new Date(i).getTime()}return 0}if("number"==typeof i){const t=i-e;if(t)return t}else{if("string"==typeof i){let t=new Date(i);return isNaN(t.getTime())?i.localeCompare(e):new Date(i).getTime()-new Date(e).getTime()}if("[object Date]"===Object.prototype.toString.call(i))return new Date(i).getTime()-new Date(e).getTime()}return 0})}exports.NumberFormatSettings=NumberFormatSettings,function(e){e.Default="decimal",e.Decimal="decimal",e.Currency="currency",e.Percentage="percent",e.Unit="unit"}(NumberStyleEnum||(NumberStyleEnum={})),function(e){e.Always="always",e.Auto="auto",e.Min2="min2"}(GroupingModeEnum=exports.GroupingModeEnum||(exports.GroupingModeEnum={})),function(e){e.Default="halfExpand",e.None="none",e.Ceil="ceil",e.Floor="floor",e.AwayFromZero="expand",e.Expand="expand",e.Trunc="trunc",e.HalfCeil="halfCeil",e.HalfFloor="halfFloor",e.HalfAwayFromZero="halfExpand",e.HalfExpand="halfExpand",e.HalfTrunc="halfTrunc",e.HalfEven="halfEven"}(RoundingModeEnum=exports.RoundingModeEnum||(exports.RoundingModeEnum={})),Date.MIN_VALUE=new Date(-864e13),Date.MAX_VALUE=new Date(864e13),Date.vrFixDateString=function(e){if(null!=e&&"[object Date]"!==Object.prototype.toString.call(e)){let t=e.toString().split(/[^0-9]/).vrToNumberArrayList(),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);e=new Date(i.toString())}return e},Date.vrEquals=function(e,t){return e.getTime()===t.getTime()},Date.vrGetFirstDayOfMonthByDate=function(e){let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),1)},Date.vrGetLastDayOfMonthByDate=function(e){let t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0)},Date.vrGetFirstDayOfWeekByDate=function(e){let t=new Date(e),i=t.getDay(),a=t.getDate()-i+(0==i?-6:1);return new Date(t.setDate(a))},Date.vrDifferenceBetweenDatesInMinutes=function(e,t){e=Date.vrFixDateString(e),t=Date.vrFixDateString(t);let i=(e.getTime()-t.getTime())/1e3;return Math.abs(i/60)},Date.vrIsValidDate=function(e){return null!=e&&e instanceof Date&&!isNaN(e.getTime())&&e.getTime()!=new Date(0,0,0).getTime()},Date.vrGetDaysInMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},Date.vrToWebApiDateTime=function(e){return null!=e&&(e=Date.vrFixDateString(e),Date.vrIsValidDate(e))?{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliSeconds:e.getMilliseconds()}:null},Date.prototype.vrToItalyString=function(e,t=!1){let i={};switch(e){case DateModeEnum.Date:i={year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case DateModeEnum.LongWeekDate:i={weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case DateModeEnum.LongDate:i={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1};break;case DateModeEnum.DateTime:i={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1},t&&(i.second="2-digit");break;case DateModeEnum.LongDateTime:i={weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1},t&&(i.second="2-digit");break;case DateModeEnum.Time:i={hour:"2-digit",minute:"2-digit",hour12:!1},t&&(i.second="2-digit")}return this.vrFormatString(i,"it")},Date.prototype.vrFormatString=function(e,t){return new Intl.DateTimeFormat(null==t?navigator.language:t,e).format(this).vrCapitalize()},Date.prototype.vrToLongDateString=function(){return new Intl.DateTimeFormat("it",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1}).format(this).vrCapitalize()},Date.vrArePeriodsOverlapped=function(e,t,i,a,r=!1){return r?e.getTime()<=a.getTime()&&t.getTime()>=i.getTime():e.getTime()<a.getTime()&&t.getTime()>i.getTime()},Date.prototype.vrAddYears=function(e){let t=new Date(this.valueOf());return t.setFullYear(t.getFullYear()+e),t},Date.prototype.vrAddMonths=function(e){let t=new Date(this.getFullYear(),1,1),i=Date.vrGetDaysInMonth(t),a=new Date(this.valueOf()),r=a.getMonth()+e;return 1==r&&a.getDate()>i&&a.setDate(i),a.setMonth(r),a},Date.prototype.vrAddDays=function(e){let t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Date.prototype.vrAddHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this},Date.prototype.vrAddMinutes=function(e){return this.setTime(this.getTime()+60*e*1e3),this},Date.prototype.vrAddSeconds=function(e){return this.setTime(this.getTime()+1e3*e),this},Date.prototype.vrIsLessThan=function(e,t=!1,i=!0){return i||(this.setHours(0,0,0,0),e.setHours(0,0,0,0)),t?this.getTime()<=e.getTime():this.getTime()<e.getTime()},Date.prototype.vrIsGreaterThan=function(e,t=!1,i=!0){return i||(this.setHours(0,0,0,0),e.setHours(0,0,0,0)),t?this.getTime()>=e.getTime():this.getTime()>e.getTime()},Date.prototype.vrIsEqualsTo=function(e,t=!0){return t||(this.setHours(0,0,0,0),e.setHours(0,0,0,0)),this.getTime()==e.getTime()},Date.prototype.vrIsBetween=function(e,t){let i=e.getTime(),a=t.getTime(),r=this.getTime();return r>=i&&r<=a},Date.vrDifferenceBetweenDatesInDays=function(e,t){let i=this.vrFixDateString(e),a=this.vrFixDateString(t),r=(i.getTime()-a.getTime())/1e3;return Math.abs(r/60/60/24)},Date.vrConvertDateFromClient=function(e){if(null!=e){return e=Date.vrFixDateString(e),new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}return e},Date.vrConvertDateFromServer=function(e){if(null!=e){return e=Date.vrFixDateString(e),new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}return e},Number.prototype.vrToNumberString=function(e){return null==e&&(e=new NumberFormatSettings),e.style=NumberStyleEnum.Default,this.vrFormatNumber(e)},Number.prototype.vrToCurrencyString=function(e){return null==e&&(e=new NumberFormatSettings),e.style=NumberStyleEnum.Currency,null==e.minimumFractionDigits&&(e.minimumFractionDigits=2),null==e.maximumFractionDigits&&(e.maximumFractionDigits=2),this.vrFormatNumber(e)},Number.prototype.vrToPercentageString=function(e){return null==e&&(e=new NumberFormatSettings),e.style=NumberStyleEnum.Percentage,null==e.minimumFractionDigits&&(e.minimumFractionDigits=2),null==e.maximumFractionDigits&&(e.maximumFractionDigits=2),this.vrFormatNumber(e)},Number.prototype.vrFormatNumber=function(e){null==e&&(e=new NumberFormatSettings),null==e.style&&(e.style=NumberStyleEnum.Default),null==e.currency&&(e.currency="EUR"),null==e.useGrouping&&(e.useGrouping=GroupingModeEnum.Auto),null==e.roundingMode&&(e.roundingMode=RoundingModeEnum.HalfAwayFromZero),e.roundingMode==RoundingModeEnum.None&&null==e.maximumFractionDigits&&(e.maximumFractionDigits=8);return new Intl.NumberFormat("it-IT",e).format(Number(this))},Number.prototype.vrRound=function(e){let t=Math.pow(10,e);return Math.round(this*t)/t},String.prototype.vrCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()},String.prototype.vrCamelCase=function(e){null==e&&(e=!1);let t=this.split(" ");for(let e of t)e.vrCapitalize();let i=t.toString().replace(",","");return e&&(i=i[0].toLowerCase()+i.substr(1)),i},String.prototype.vrKebabCase=function(){return 0==this.length?"":this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("-")},String.prototype.vrSnakeCase=function(){return 0==this.length?"":this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("_")},String.prototype.vrSwapCase=function(){var e=[];for(let t=0;t<this.length;t++)" "!=this&&(this[t]==this[t].toUpperCase()?e.push(this[t].toLowerCase()):e.push(this[t].toUpperCase()));return e.join("")},String.prototype.vrTitleCase=function(){return this.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())},String.prototype.vrTrunc=function(e,t){if(null==t&&(t=!0),this.length<=e)return this.valueOf();var i=this.substr(0,e-1);return(t?i.substr(0,i.lastIndexOf(" ")):i)+"&hellip;"},String.prototype.vrGetNumericPart=function(){let e=0;return this.length>0&&(e=Number(this.match(/[\d\.\-]+/))),e},String.prototype.vrToBoolean=function(){return"true"===this.toLowerCase()},String.prototype.vrIsNotNullOrEmpty=function(){return null!=this&&""!=this},String.prototype.vrIsNullOrEmpty=function(){return null==this||""==this},String.prototype.vrRemoveHtml=function(){return this.replace(/<\/?[^>]+(>|$)/g,"")},Array.prototype.vrFirst=function(){return Array.isArray(this)?this[0]:null},Array.prototype.vrLast=function(){return Array.isArray(this)?this[this.length-1]:null},Array.prototype.vrToNumberArrayList=function(){return Array.isArray(this)?this.map(e=>Number(e)):[]},Array.prototype.vrToStringArrayList=function(){return Array.isArray(this)?this.map(e=>String(e)):[]},Array.prototype.vrToCommaSeparatedList=function(){if(Array.isArray(this)){let e="";for(let t of this)e+=t.toString()+", ";return e.substring(0,e.length-2)}return""},Array.prototype.vrPushRange=function(e){if(Array.isArray(this))for(let t of e)this.push(t)},Array.prototype.vrDelete=function(e){if(Array.isArray(this)){let t=this.indexOf(e);-1!=t&&this.splice(t,1)}},Array.prototype.vrDeleteItem=function(e,t){if(Array.isArray(this)){let i=this.map(e=>e[t]).indexOf(e[t]);-1!=i&&this.splice(i,1)}},Array.prototype.vrDeleteAllBy=function(e){if(Array.isArray(this)){let t=this.filter(e);for(let e of t)null!=e&&this.vrDelete(e)}},Array.prototype.vrSortBy=function(e,t){return Array.isArray(this)&&(null!=e&&e.length>0?(null==t||t||(e=e.map(e=>e.startsWith("-")?e:"-"+e)),this.sort(dynamicSortMultiple.apply(null,e))):internalSortWithoutProperties(this,null==t||t)),this},Array.prototype.vrSortAsc=function(...e){return this.vrSortBy(e,!0)},Array.prototype.vrSortDesc=function(...e){return this.vrSortBy(e,!1)},Array.prototype.vrAny=function(e){return!!Array.isArray(this)&&this.some(e)},Array.prototype.vrMax=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.max(e,i[t]),0)}return Math.max.apply(null,this)}return 0},Array.prototype.vrMin=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.min(e,i[t]),Number.MAX_VALUE)}return Math.min.apply(null,this)}return 0},Array.prototype.vrSum=function(callbackfn){if(Array.isArray(this)){if(null==callbackfn)return this.reduce((e,t)=>e+t,0);{let property=callbackfn.toString().split("=>")[1],sum=0;return this.forEach(k=>sum+=eval(property)),sum}}return 0},Array.prototype.vrAvg=function(e){if(Array.isArray(this)){if(null==e)return this.vrSum()/this.length;return this.vrSum(e)/this.length}return 0},Array.prototype.vrDistinct=function(){return Array.isArray(this)?[...new Set(this)]:[]},Array.prototype.vrDistinctBy=function(e){if(Array.isArray(this)){let t=[],i=new Map,a=e.toString().split(".")[1];for(let e of this){let r;for(let t in e)t==a&&(r=e[t]);i.has(r)||(i.set(r,!0),t.push(e))}return t}return[]},Array.prototype.vrGroupBy=function(e){if(Array.isArray(this)){let t=e.toString().split(".")[1];return e.toString().includes(".")||(t=e.toString().split("[")[1].replace("]","")),this.reduce((function(e,i){const a=i[t];return e[a]=e[a]||[],e[a].push(i),e}),{})}return[]},Array.prototype.vrGroupByProperty=function(e){return Array.isArray(this)?this.reduce((function(t,i){const a=i[e];return t[a]=t[a]||[],t[a].push(i),t}),{}):[]},Array.vrEquals=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){let i=e.length;if(null==e||null==t)return!1;if(i!=t.length)return!1;let a=e.concat().sort(),r=t.concat().sort();for(let e=0;e<a.length;++e)if(a[e]!==r[e])return!1;return!0}return!1},jQuery.prototype.vrDrag=function(e,t,i){this.mousedown(a=>{let r=a.clientX,n=a.clientY,o=a.clientX-puma(this[0]).offset().left,l=a.clientY-puma(this[0]).offset().top;o<=5&&l<=5||(puma(document).mousemove(i=>{if(i.clientX!=r||i.clientY!=n){let a=this;if(null!=e&&(a=puma(e)),null!=t){let e=new window_1.WindowEvent;if(e.event=i,e.left=i.clientX-o,e.top=i.clientY,t(e),e.isDefaultPrevented())return puma(document).unbind("mouseup"),puma(document).unbind("mousemove"),void i.preventDefault()}a.offset({top:i.clientY,left:i.clientX-o})}}),puma(document).mouseup(e=>{if(puma(document).unbind("mouseup"),puma(document).unbind("mousemove"),null!=i){let t={};t.event=e,t.left=e.clientX-puma(this[0]).width()/2,t.top=e.clientY,i(t)}}))})},jQuery.prototype.vrVisible=function(e){return null!=e&&(e?this.show():this.hide()),this.is(":visible")};var _shadowRoot2=null,_jqueryVariable=jQuery;function puma(e){return null!=shadowRoot()&&0==jqueryVariable()(e).length?jqueryVariable()(shadowRoot()).find(e):jqueryVariable()(e)}jQuery.prototype.vrAppendToPuma=function(e){let t=puma(e);return this.appendTo(t)},jQuery.prototype.vrPrependToPuma=function(e){let t=puma(e);return this.prependTo(t)},jQuery.prototype.vrAppendPuma=function(e){let t=puma(e);return this.append(t)},jQuery.prototype.vrPrependPuma=function(e){let t=puma(e);return this.prepend(t)},jQuery.prototype.vrBeforePuma=function(e){let t=puma(e);return this.before(t)},jQuery.prototype.vrAfterPuma=function(e){let t=puma(e);return this.after(t)},jQuery.prototype.vrInsertBeforePuma=function(e){let t=puma(e);return this.insertBefore(t)},jQuery.prototype.vrInsertAfterPuma=function(e){let t=puma(e);return this.insertAfter(t)},jQuery.prototype.vrHasScrollBar=function(e=!1){return null!=this.get(0)&&(e?this.get(0).scrollWidth>this.get(0).clientWidth:this.get(0).scrollHeight>this.get(0).clientHeight)},exports.puma=puma},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VrControlsEvent=t.AttributeSettings=t.LabelControlsSettings=t.VrControlOptions=t.VrControl=void 0;const a=i(0);t.VrControl=class{constructor(e,t,i){if(this._element=e,this._options=t,this._typeEnum=i,a.puma(e).wrap("<div class='vrControlsContainer'></div>"),a.puma(e).addClass("vr"+i),a.puma(e).addClass("vrControls"),a.puma(this.container()).addClass("vr"+i+"Container"),a.puma(this.container()).attr("id",e.id+"Container"),null!=t.label){null==t.labelSettings&&(t.labelSettings=new r),null==t.labelSettings.mode&&(t.labelSettings.mode=a.LabelModeEnum.Primary),null==t.labelSettings.position&&(t.labelSettings.position=a.PositionEnum.Top);let e=t.labelSettings.position,i=e==a.PositionEnum.Top||e==a.PositionEnum.Left?a.ControlPositionEnum.Before:a.ControlPositionEnum.After,n="",o="";e==a.PositionEnum.Left?(n="margin-right: 5px;",o="top: -1px;"):e==a.PositionEnum.Right?(n="margin-left: 5px;",o="top: -1px;"):this.container().style.cssText+="display: inline-flex; flex-direction: column;",this._labelOutside=a.createLabel({id:t.labelSettings.id,text:t.label,mode:t.labelSettings.mode,align:t.labelSettings.textAlign,width:e==a.PositionEnum.Top||e==a.PositionEnum.Bottom?"100%":t.labelSettings.width,class:t.labelSettings.class,fontSize:t.labelSettings.fontSize,cssContainer:n+o+t.labelSettings.cssContainer,css:t.labelSettings.css,bold:t.labelSettings.bold,tooltip:t.labelSettings.tooltip,colorSettings:t.labelSettings.colorSettings,tabIndex:-1,onClick:t.labelSettings.onClick},this.container(),i)}null!=t.width&&this.width(t.width),null!=t.height&&this.height(t.height),!1===t.visible&&this.hide(),!1===t.enable&&this.disable(),null!=t.id&&this.id(t.id),null!=t.css&&this.css(t.css),null!=t.cssContainer&&this.cssContainer(t.cssContainer),null!=t.class&&this.class(t.class),null!=t.classContainer&&this.classContainer(t.classContainer),null!=t.margin&&("number"==typeof t.margin?this.container().style.cssText+="margin: "+t.margin+"px;":(null!=t.margin.top&&(this.container().style.cssText+="margin-top: "+t.margin.top+"px;"),null!=t.margin.right&&(this.container().style.cssText+="margin-right: "+t.margin.right+"px;"),null!=t.margin.bottom&&(this.container().style.cssText+="margin-bottom: "+t.margin.bottom+"px;"),null!=t.margin.left&&(this.container().style.cssText+="margin-left: "+t.margin.left+"px;"))),null==t.addToControlList&&(t.addToControlList=!0),this._tag=t.tag,null==t.attributes&&(t.attributes=[]),null!=t.uniqueName&&t.attributes.push({name:"uniqueName",value:t.uniqueName});for(let e of t.attributes)this.attribute(e.name,e.value,e.container);null==t.tabIndex&&(t.tabIndex=0),this.attribute("tabindex",t.tabIndex),!1!==t.shadowRoot&&null!=a.shadowRoot()&&a.puma(this.container()).addClass("shadowRoot")}controlType(){return this._typeEnum}id(e){return null!=e&&(this.element().id=e,this.container().id=e+"Container"),this.element().id}tag(e){return null!=e&&(this._tag=e),null===e&&(this._tag=null),this._tag}uniqueName(e){return null!=e&&this.attribute("uniqueName",e),a.puma(this.element()).attr("uniqueName")}attribute(e,t,i=!1){i?a.puma(this.container()).attr(e,t):a.puma(this.element()).attr(e,t)}tooltip(e,t=!1){return null!=e&&(t?a.puma(this.container()).attr("title",e):a.puma(this.element()).attr("title",e)),t?a.puma(this.container()).attr("title"):a.puma(this.element()).attr("title")}element(){return this._element}container(){return a.puma(this.element()).closest(".vrControlsContainer")[0]}label(){return this._labelOutside}options(){return this._options}settingPopup(e,t){null!=t&&(null!=t.width&&(e.style.cssText+="width: "+this.fixWidthHeightValue(t.width)+";"),null!=t.minWidth&&(e.style.cssText+="min-width: "+this.fixWidthHeightValue(t.minWidth)+";"),null!=t.maxWidth&&(e.style.cssText+="max-width: "+this.fixWidthHeightValue(t.maxWidth)+";"),null!=t.height&&(e.style.cssText+="height: "+this.fixWidthHeightValue(t.height)+";"),null!=t.minHeight&&(e.style.cssText+="min-height: "+this.fixWidthHeightValue(t.minHeight)+";"),null!=t.maxHeight&&(e.style.cssText+="max-height: "+this.fixWidthHeightValue(t.maxHeight)+";"),null==t.direction&&(t.direction=a.PopupDirectionEnum.Auto));let i=this.element().getBoundingClientRect().top,r=this.element().getBoundingClientRect().left,n=a.puma(this.element()).outerWidth(),o=a.puma(this.element()).outerHeight(),l=a.puma(e).outerWidth(),s=a.puma(e).outerHeight(),u=0;if(null!=t&&!0===t.right)u=r+n-l;else{u=a.puma(document.body).offset().left+a.puma(document.body).width()<=r+l+n?r+n-l:r}if(null!=t&&t.direction!=a.PopupDirectionEnum.Auto)t.direction==a.PopupDirectionEnum.Up?e.style.cssText+="left: "+u+"px; bottom: "+(window.innerHeight-i)+"px;":t.direction==a.PopupDirectionEnum.Down&&(e.style.cssText+="left: "+u+"px; top: "+(i+o)+"px;");else{let t=a.puma(document.body).offset().top,r=a.puma(document.body).height();e.style.cssText+=t+r<=i+s+o?"left: "+u+"px; bottom: "+(window.innerHeight-i)+"px;":"left: "+u+"px; top: "+(i+o)+"px;"}null!=a.shadowRoot()&&(e.style.cssText+="position: fixed;")}fixWidthHeightValue(e){return"number"==typeof e&&(e+="px"),e}width(e){if(null!=e){let t=this.options(),i=a.puma(this.container()),r=a.puma(this.element()),n=0;if(null!=t.label){let e=i.find(".vrLabel")[0];n=a.puma(e).outerWidth(!0)+5}i.width(e);let o=r.outerWidth()-r.width();if(o===r.outerWidth()&&null==t.label&&(o=0),r.width("Calc(100% - "+o+"px)"),r.hasClass("vrEditor")&&r.width("100%"),null!=t.label){let l=t.labelSettings.position;l==a.PositionEnum.Left||l==a.PositionEnum.Right?(null!=t.labelSettings.width&&(n=t.labelSettings.width),"string"==typeof e?r.width("Calc(100% - "+(o+n)+"px)"):"number"==typeof e&&(r.width(e-o),i.width(e+n))):(r.is("button")||r.is("textarea"))&&r.width("Calc(100% - 0px)")}else(r.is("button")||r.is("textarea"))&&r.width("100%")}return a.puma(this.element()).width()}height(e){return null!=e&&("string"==typeof e?(a.puma(this.container())[0].style.cssText+="height: "+e+";",a.puma(this.element())[0].style.cssText+="height: "+e+";"):(a.puma(this.container()).height(e),a.puma(this.element()).height(e))),a.puma(this.element()).height()}enabled(e){null!=e&&(e?this.enable():this.disable());let t=this.element().getAttribute("disabled");return null==t||""==t}enable(){this.element().removeAttribute("disabled")}disable(){this.element().setAttribute("disabled","disabled")}visible(e){return null!=e&&(e?this.show():this.hide()),a.puma(this.container()).is(":visible")}show(){a.puma(this.container()).show(),a.puma(this.element()).is("button")&&a.puma(this.element()).css({"max-width":"100%"})}hide(){a.puma(this.container()).hide()}focus(){a.puma(this.element()).focus()}blur(){a.puma(this.element()).blur()}cssContainer(e){this.container().style.cssText+=e}css(e){this.element().style.cssText+=e}class(e){return null!=e&&a.puma(this.element()).addClass(e),this.element().className.split(/\s+/)}classContainer(e){return null!=e&&a.puma(this.container()).addClass(e),this.container().className.split(/\s+/)}removeClass(e){a.puma(this.element()).removeClass(e)}};t.VrControlOptions=class{};class r{}t.LabelControlsSettings=r;t.AttributeSettings=class{};t.VrControlsEvent=class{constructor(){this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}isDefaultPrevented(){return this._defaultPrevented}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VrDragSupportTypeEnum=t.UtilityManager=void 0;const a=i(0);t.UtilityManager=class{static createGuid(){const e=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,"0")),t=crypto.getRandomValues(new Uint8Array(16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,[...t.entries()].map(([t,i])=>[4,6,8,10].includes(t)?"-"+e[i]:e[i]).join("")}static interval(e,t,i,a){let r=window.setInterval(()=>e(),t);null!=i&&window.setTimeout(()=>{window.clearInterval(r),null!=a&&a()},i)}static createIcon(e){return a.puma("<i class='"+e+" vrIcon' aria-hidden='true'></i>")[0]}static duplicate(e){if(null!=e){return JSON.parse(JSON.stringify(e))}}static getMonthNumberByName(e){switch(e.toLowerCase()){case"gennaio":return r.January;case"febbraio":return r.February;case"marzo":return r.March;case"aprile":return r.April;case"maggio":return r.May;case"giugno":return r.June;case"luglio":return r.July;case"agosto":return r.August;case"settembre":return r.September;case"ottobre":return r.October;case"novembre":return r.November;case"dicembre":return r.December;default:return-1}}static doAjaxCall(e,t,i){let r=void 0;null!=e.request&&(e.request.authKey=e.authKey,r=JSON.stringify(e.request));let n=null;null!=e.file&&(n=new FormData,n.append("file",e.file));let o=null;return a.jqueryVariable().ajax({async:e.mode==a.WebApiModeEnum.Async,beforeSend:t=>{if(t.setRequestHeader("Accept-Language","it"),t.setRequestHeader("AuthKey",e.authKey),null!=e.headerParameters){let i=Object.getOwnPropertyNames(e.headerParameters);for(let a of i)t.setRequestHeader(a,e.headerParameters[a])}},contentType:null==e.file&&"application/json",data:null!=e.file?n:r,method:"POST",processData:!1,url:e.method,success:i=>{e.mode==a.WebApiModeEnum.Sync&&(o=i),null!=t&&(i.guid=null!=e.request?e.request.guid:null,t(i))},error:e=>{a.notifyError("Errore nella chiamata alla webApi"),null!=i&&i()}}),o}static htmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}static textWidth(e){let t=0;if("string"==typeof e){let i=a.span(document.body);i.id="utility_tempSpanTextWidth",i.innerHTML=e.replace(/\s/g,"&nbsp;"),t=i.offsetWidth,a.puma("#utility_tempSpanTextWidth").remove()}else{let i="string"==typeof e?e:a.puma(e).html(),r="<span style='display: inline-block; overflow-y: scroll; white-space: nowrap;'>"+i+"</span>";a.puma(e).html(r),t=a.puma(e).find("span:first").width(),a.puma(e).html(i)}return t}static downloadPdfBytes(e,t="download.pdf"){t.endsWith(".pdf")||(t+=".pdf");let i=this.base64ToArrayBuffer(e),a=new Blob([i],{type:"application/pdf"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=t,n.click()}static base64ToArrayBuffer(e){for(var t=window.atob(e.replace(/\s/g,"")),i=t.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=t.charCodeAt(r);return a.buffer}static openUrl(e,t="download",i=!1){let r=document.createElement("a");r.id="utility_tempOpeningUrl",r.href=e,r.download=t,i&&(r.target="_blank"),r.click(),a.puma("#utility_tempOpeningUrl").remove()}static isValidEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}static addCssStyle(e,t){if(null!=e&&""!=e){let i=null==t?"":" id='"+t+"'";a.puma("<style"+i+">"+e+"</style>").vrAppendToPuma("head")}}static addCssFiles(...e){return new Promise(t=>{if(null!=e&&e.length>0){let i=document.getElementsByTagName("head")[0];for(let t of e){if(0==$("link[rel='stylesheet']").filter((e,i)=>i.href.toLowerCase().startsWith(t.toLowerCase()+"?")).length){let e=document.createElement("link");e.href=t,e.type="text/css",e.rel="stylesheet",i.appendChild(e)}}t()}})}static addJsScript(e,t){if(null!=e&&""!=e){let i=null==t?"":" id='"+t+"'";a.puma("<script"+i+">"+e+"<\/script>").vrAppendToPuma("head")}}static addJsFiles(...e){return new Promise(t=>{null!=e&&e.length>0&&$.when(...e.map(e=>$.getScript(e).promise())).done(()=>{t()})})}static bytesToBase64(e){const t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];let i,a="",r=e.length;for(i=2;i<r;i+=3)a+=t[e[i-2]>>2],a+=t[(3&e[i-2])<<4|e[i-1]>>4],a+=t[(15&e[i-1])<<2|e[i]>>6],a+=t[63&e[i]];return i===r+1&&(a+=t[e[i-2]>>2],a+=t[(3&e[i-2])<<4],a+="=="),i===r&&(a+=t[e[i-2]>>2],a+=t[(3&e[i-2])<<4|e[i-1]>>4],a+=t[(15&e[i-1])<<2],a+="="),a}static base64ToBytes(e){if(e.length%4!=0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(-1!==t&&t<e.length-2)throw new Error("Unable to parse base64 string.");let i,a=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,n=new Uint8Array(r/4*3);for(let t=0,a=0;t<r;t+=4,a+=3)i=this.getBase64Code(e.charCodeAt(t))<<18|this.getBase64Code(e.charCodeAt(t+1))<<12|this.getBase64Code(e.charCodeAt(t+2))<<6|this.getBase64Code(e.charCodeAt(t+3)),n[a]=i>>16,n[a+1]=i>>8&255,n[a+2]=255&i;return n.subarray(0,n.length-a)}static getBase64Code(e){const t=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];if(e>=t.length)throw new Error("Unable to parse base64 string.");const i=t[e];if(255===i)throw new Error("Unable to parse base64 string.");return i}static base64ToFile(e,t,i){return fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],t,i)}))}static base64ToBlob(e,t="",i=512){const a=atob(e),r=[];for(let e=0;e<a.length;e+=i){const t=a.slice(e,e+i),n=new Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);const o=new Uint8Array(n);r.push(o)}return new Blob(r,{type:t})}static enterFullScreen(e,t){try{let i=e,a=window.document;a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement||(i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():null!=t&&t())}catch(e){null!=t&&t()}}static exitFullScreen(){try{let e=window.document;(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen())}catch(e){}}static drag(e,t){null==t&&(t=new o),null==t.sensibility&&(t.sensibility=50),null==t.typeEnum&&(t.typeEnum=n.Both),a.puma(e).on("mousedown",i=>{let r=i.clientX,o=i.clientY,s=a.puma(i.currentTarget),u=s.offset().left,d=s.offset().top,c=!1,p=!1,h=!1,m=!1,f=!1;a.puma(document).on("mousemove",i=>{let a=i.clientX,g=i.clientY,v=r-a,b=o-g;if(i.clientX!=r||i.clientY!=o){let a=0,r=0;switch(t.typeEnum){case n.Both:a=i.clientX-$(s[0]).width()/2,r=i.clientY;break;case n.Horizontal:a=i.clientX-$(s[0]).width()/2,r=d;break;case n.Vertical:a=u,r=i.clientY}if(s.offset({top:r,left:a}),null!=t.dragging){let i=new l;i.left=s.position().left,i.top=s.position().top,i.element=$(e)[0],t.dragging(i)}}if(Math.abs(v)>Math.abs(b)){if(null==t&&0!=v)return;f=!0,v>t.sensibility?c=!0:v<-t.sensibility&&(p=!0)}else if(Math.abs(v)<Math.abs(b)){if(null==t&&0!=v)return;f=!0,b>t.sensibility?h=!0:b<-t.sensibility&&(m=!0)}}),a.puma(document).mouseup(i=>{if(a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),c&&null!=t.dragLeft&&t.dragLeft(),p&&null!=t.dragRight&&t.dragRight(),h&&null!=t.dragUp&&t.dragUp(),m&&null!=t.dragDown&&t.dragDown(),f&&null!=t.dragged){let i=new l;i.left=s.position().left,i.top=s.position().top,i.element=$(e)[0],t.dragged(i)}})})}};var r,n;!function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(r||(r={}));class o{constructor(){this.sensibility=50}}class l{}!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Both=2]="Both"}(n=t.VrDragSupportTypeEnum||(t.VrDragSupportTypeEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceManager=void 0;const a=i(0);t.DeviceManager=class{static getScreenResolution(){let e=new r;return e.width=window.screen.width*window.devicePixelRatio,e.height=window.screen.height*window.devicePixelRatio,e}static isSmartphone(){return this.getScreenResolution().width<768}static isTablet(){let e=this.getScreenResolution();return e.width<1200&&e.width>=768}static isDesktop(){return this.getScreenResolution().width>=1200}static isMobile(){return null!=navigator.userAgentData?navigator.userAgentData.mobile:this.isSmartphone()||this.isTablet()}static isIphoneX(){if(this.isIphone()){let e=window.screen.height,t=window.screen.width;if(e>800&&t>370)return!0}return!1}static isIphone(){return navigator.userAgent.match(/iPhone/i)}static browser(){return this.isFirefox()?a.BrowserTypeEnum.Firefox:this.isEdge()?a.BrowserTypeEnum.Edge:this.isInternetExplorer()?a.BrowserTypeEnum.InternetExplorer:this.isOpera()?a.BrowserTypeEnum.Opera:this.isVivaldi()?a.BrowserTypeEnum.Vivaldi:this.isChrome()?a.BrowserTypeEnum.Chrome:this.isSafari()?a.BrowserTypeEnum.Safari:this.isSeamonkey()?a.BrowserTypeEnum.Seamonkey:"Unknown"}static agentHas(e){return navigator.userAgent.toLowerCase().search(e.toLowerCase())>-1}static isInternetExplorer(){return!!document.documentMode||this.agentHas("MSIE")||this.agentHas("Trident")}static isSafari(){return(!!window.ApplePaySetupFeature||!!window.safari)&&this.agentHas("Safari")&&!this.agentHas("Chrome")&&!this.agentHas("CriOS")&&!this.agentHas("Chromium")}static isChrome(){return(this.agentHas("CriOS")||this.agentHas("Chrome")||!!window.chrome)&&!this.agentHas("Chromium")&&!this.agentHas("Edg")}static isFirefox(){return(this.agentHas("Firefox")||this.agentHas("FxiOS")||this.agentHas("Focus"))&&!this.agentHas("Seamonkey")}static isEdge(){return this.agentHas("Edg")}static isOpera(){return this.agentHas("OPR")||this.agentHas("Opera")}static isVivaldi(){return this.agentHas("Vivaldi")}static isSeamonkey(){return this.agentHas("Seamonkey")}};class r{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlManager=void 0;const a=i(12);class r{static add(e){!0===e.options().addToControlList&&null!=e.id()&&""!=e.id()&&this._dictionaryControls.set(e.id(),e)}static get(e){return this._dictionaryControls.get(e)}static remove(e){""!=e&&null!=e&&this._dictionaryControls.delete(e)}}t.ControlManager=r,r._dictionaryControls=new a.Dictionary},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActualViewEnum=t.YearPicker=t.MonthPicker=t.DateTimePicker=t.TimePicker=t.DatePicker=t.DatePickerOptions=void 0;const a=i(1),r=i(0),n=i(2);class o extends a.VrControlOptions{}t.DatePickerOptions=o;class l extends a.VrControl{constructor(e,t){if(null==t&&(t=new o),null==t.defaultDay&&(t.defaultDay=r.DefaultDayEnum.First),null==t.mode&&(t.mode=r.DateModeEnum.Date),null==t.todayLabel&&(t.todayLabel=!0),null==t.otherMonthDays&&(t.otherMonthDays=!0),null==t.depth&&(t.depth=r.DateDepthEnum.Day),null==t.nullable&&(t.nullable=!0),null==t.format)switch(t.depth){case r.DateDepthEnum.Day:t.format=r.DateFormatEnum.ShortDate;break;case r.DateDepthEnum.Month:t.format=r.DateFormatEnum.Month;break;case r.DateDepthEnum.Year:t.format=r.DateFormatEnum.Year;break;default:t.format=r.DateFormatEnum.ShortDate}if(null==t.timeInterval&&(t.timeInterval=15),t.mode==r.DateModeEnum.Time){if(null==t.width&&(t.width=92),null==t.min){let e=new Date;e.setHours(6,0),t.min=e}if(null==t.max){let e=new Date;e.setHours(23,15),t.max=e}}else{if(null==t.min){let e=Date.MIN_VALUE;e.setHours(6,0),t.min=e}if(null==t.max){let e=Date.MAX_VALUE;e=e.vrAddDays(-1),e.setHours(23,15),t.max=e}t.mode==r.DateModeEnum.DateTime&&null==t.width&&(t.width=180)}super(e,t,r.ControlTypeEnum.DatePicker),this._currentCursorPosition=0,r.puma(e).attr("type","text"),null!=t.label&&t.labelSettings.position==r.PositionEnum.Top&&(this.element().style.cssText+="padding-left: 0px !important; width: calc(100% - 12px) !important;");let i=null;switch(t.mode){case r.DateModeEnum.Date:i=n.UtilityManager.createIcon(r.IconClassLight.Calendar);break;case r.DateModeEnum.Time:i=n.UtilityManager.createIcon(r.IconClassLight.Clock);break;case r.DateModeEnum.DateTime:{let e=r.puma("<div class='vrDivPickerDateTimeIcon'></div>").vrAppendToPuma(this.container())[0],i=n.UtilityManager.createIcon(r.IconClassLight.Calendar);r.puma(e).vrAppendPuma(i),r.puma(e).click(()=>{this.enabled()&&(this.close(),this.openPopupDatePicker())}),null!=t.label&&t.labelSettings.position==r.PositionEnum.Top&&(e.style.cssText+="bottom: 1px; top: inherit;");let a=r.puma("<div class='vrDivPickerIcon'></div>").vrAppendToPuma(this.container())[0],o=n.UtilityManager.createIcon(r.IconClassLight.Clock);r.puma(a).vrAppendPuma(o),r.puma(a).click(e=>{this.enabled()&&(this.close(),this.openPopupTimePicker())}),null!=t.label&&t.labelSettings.position==r.PositionEnum.Top&&(a.style.cssText+="bottom: 1px; top: inherit;")}}if(null!=i){let e=r.puma("<div class='vrDivPickerIcon'></div>").vrAppendToPuma(this.container())[0];null!=t.label&&t.labelSettings.position==r.PositionEnum.Top&&(e.style.cssText+="bottom: 1px; top: inherit;"),r.puma(e).vrAppendPuma(i),r.puma(e).click(()=>{this.enabled()&&(r.puma(this._popup).is(":visible")?this.close():this.open())})}null!=t.tooltip&&r.puma(this.element()).attr("title",t.tooltip),r.puma(this.element()).keyup(e=>{let i=e.target.value;if(""==i)return this.formatDateInput(i),void e.preventDefault();if(e.key==r.KeyEnum.Enter)this.formatDateInput(e.target.value),null!=t.onEnterKey&&t.onEnterKey();else if(null!=t.onKeyUp){let i=new m;i.sender=this,i.text=e.target.value,i.key=e.key,i.shiftKey=e.shiftKey,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.enterKey=e.key==r.KeyEnum.Enter,i.backSpaceKey=e.key==r.KeyEnum.Backspace,i.tabKey=e.key==r.KeyEnum.Tab,t.onKeyUp(i)}}),r.puma(this.element()).blur(e=>{if(this.formatDateInput(e.target.value),null!=t.onBlur){let e=new p;e.sender=this,t.onBlur(e)}}),r.puma(this.element()).click(e=>this._currentCursorPosition=e.target.selectionStart),r.puma(this.element()).focus(e=>{if(this.element().select(),null!=t.onFocus){let e=new c;e.sender=this,t.onFocus(e)}}),r.puma(e).keydown(e=>{let i=e.target.selectionStart;if(i!=this._currentCursorPosition&&(this._currentCursorPosition=i),e.key==r.KeyEnum.ArrowRight?this._currentCursorPosition=i+1:e.key==r.KeyEnum.ArrowLeft?this._currentCursorPosition=i-1:e.key==r.KeyEnum.ArrowUp?null!=this.value()&&(this._currentCursorPosition>=0&&this._currentCursorPosition<=2?this.value(this.value().vrAddDays(1)):this._currentCursorPosition>=3&&this._currentCursorPosition<=5?this.value(this.value().vrAddMonths(1)):this._currentCursorPosition>=6&&this.value(this.value().vrAddYears(1))):e.key==r.KeyEnum.ArrowDown&&null!=this.value()&&(this._currentCursorPosition>=0&&this._currentCursorPosition<=2?this.value(this.value().vrAddDays(-1)):this._currentCursorPosition>=3&&this._currentCursorPosition<=5?this.value(this.value().vrAddMonths(-1)):this._currentCursorPosition>=6&&this.value(this.value().vrAddYears(-1))),e.key!=r.KeyEnum.ArrowRight&&e.key!=r.KeyEnum.ArrowLeft&&e.key!=r.KeyEnum.ArrowUp&&e.key!=r.KeyEnum.ArrowDown||(this.updateCursorPosition(),e.preventDefault()),null!=t.onKeyDown){let i=new f;i.sender=this,i.key=e.key,i.shiftKey=e.shiftKey,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.enterKey=e.key==r.KeyEnum.Enter,i.backSpaceKey=e.key==r.KeyEnum.Backspace,i.tabKey=e.key==r.KeyEnum.Tab,t.onKeyDown(i)}}),null!=t.value&&this.value(t.value,!1),window.addEventListener("click",e=>{!r.puma(this._popup).is(":visible")||r.puma(this._popup)[0].contains(e.target)||r.puma(this.container())[0].contains(e.target)||this._justOpened||this.close()}),(null!=r.shadowRoot()?r.shadowRoot():document).addEventListener("scroll",e=>{!r.puma(e.target).hasClass("vrDivPickerPopup")&&r.puma(this._popup).is(":visible")&&this.close()},!0)}close(){r.puma(this._popup).remove(),this._popup=null}open(){if(!this.enabled())return;switch(null==this._popup&&(this._popup=r.puma("<div class='vrDivPickerPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=r.shadowRoot()?r.shadowRoot():document.body)[0]),this.getOptions().mode){case r.DateModeEnum.Date:case r.DateModeEnum.DateTime:this.openPopupDatePicker();break;case r.DateModeEnum.Time:this.openPopupTimePicker()}this._justOpened=!0,window.setTimeout(()=>this._justOpened=!1,500)}formatDateInput(e){switch(this.getOptions().mode){case r.DateModeEnum.Date:this.formatInputDatePicker(e);break;case r.DateModeEnum.DateTime:this.formatInputDateTimePicker(e);break;case r.DateModeEnum.Time:this.formatInputTimePicker(e)}}openPopupDatePicker(){let e=this.getOptions();null==this._popup&&(this._popup=r.puma("<div class='vrDivPickerPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=r.shadowRoot()?r.shadowRoot():document.body)[0]),r.puma(this._popup).removeClass("timePickerPopup"),r.puma(this._popup).addClass("datePickerPopup"),r.createCalendar({value:null!=this.value()?new Date(this.value().toString()):void 0,dateSlotWidth:30,depth:e.depth,onAfterChange:t=>{if(this.close(),null!=t.value){let i=null!=this.value()?this.value().getHours():e.mode==r.DateModeEnum.DateTime?(new Date).getHours():0,a=null!=this.value()?this.value().getMinutes():e.mode==r.DateModeEnum.DateTime?(new Date).getMinutes():0,n=new Date(t.value.getFullYear(),t.value.getMonth(),t.value.getDate(),i,a);this.value(n)}}},this._popup),super.settingPopup(this._popup,e.popupSettings)}formatInputDatePicker(e,t=!1){let i=this.getOptions();if(null==e||""==e)return i.nullable?(this._value=null,void this.change()):(n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),void this.value(this.value(),!1));if(this.format()!=r.DateFormatEnum.ShortDate&&null!=this.value()&&(e=this.value().vrToItalyString()),e.includes("/")||e.includes("-")||e.includes(",")||e.includes(".")){let t=[];e.includes("/")?t=e.split("/"):e.includes("-")?t=e.split("-"):e.includes(",")?t=e.split(","):e.includes(".")&&(t=e.split("."));let i=t[0];null==i&&(i=String(-1));let a=t[1];null==a&&(a=String((new Date).getMonth()));let o=t[2];null==o&&(o=String((new Date).getFullYear())),o=String(this.getFinalYear(o));let l=new Date(Number(o),Number(a)-1,Number(i));return null!=l&&Date.vrIsValidDate(l)&&Number(a)>=1&&Number(a)<=12&&l.getMonth()+1==Number(a)?null!=this.value()&&Date.vrEquals(this.value(),l)?this.formatValue():this.value(l):(n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),this.clear()),l}let a=e.toLowerCase().split(" ");if(a.length>1){let e=n.UtilityManager.getMonthNumberByName(a[0]);if(-1!=e&&(2==a[1].length||4==a[1].length)){let t=parseInt(a[1]);2==a[1].length&&(t=this.getFinalYear(a[1]));let i=this.getOptions().defaultDay==r.DefaultDayEnum.First?1:Date.vrGetLastDayOfMonthByDate(new Date((new Date).getFullYear(),e,1)).getDate();return void this.value(new Date(t,e,i))}}let o=e;e=(e=e.replace(/[^\w\s]/gi,"")).replace(/\s/g,"");let l=Number(e),s=0,u=0,d=0,c=null,p=(new Date).getFullYear(),h=(new Date).getMonth();switch(e.toLowerCase()){case"oggi":{let e=new Date;e.setHours(0,0),this.value(e)}return;case"adesso":return void this.value(new Date);case"ieri":return void this.value((new Date).vrAddDays(-1));case"domani":return void this.value((new Date).vrAddDays(1));case"dopodomani":return void this.value((new Date).vrAddDays(2));case"natale":return void this.value(new Date((new Date).getFullYear(),11,25));case"vettore":return void this.value(new Date(2013,0,1));case"pumo":return void this.value(new Date(1993,9,10));case"sanvalentino":return void this.value(new Date(p,1,14));case"fineanno":return void this.value(new Date(p,12,31));case"inizioanno":return void this.value(new Date(p,1,1))}let m=n.UtilityManager.getMonthNumberByName(e.toLowerCase());if(-1!=m)return void this.value(new Date(p,m,this.getOptions().defaultDay==r.DefaultDayEnum.First?1:Date.vrGetLastDayOfMonthByDate(new Date(p,m,1)).getDate()));let f=(new Date).getFullYear().toString(),g=parseInt(f.substr(0,2)+"00");if(1==e.length||2==e.length)if(3==o.length){/^[A-Za-z0-9 ]+$/.test(o)||(s=Number(o[0]),u=Number(o[2])-1,d=p)}else s=Number(e),u=h,d=p;else if(3==e.length)s=Number(e[0]),u=Number(e[1]+e[2])-1,u>11&&(s=Number(e[0]+e[1]),u=Number(e[2])-1),d=p;else if(4==e.length){let t=e[2]+e[3];if(Number(t)<=12&&Number(e[0]+e[1])<=31)s=Number(e[0]+e[1]),u=Number(e[2]+e[3])-1,d=p;else{let i=this.getFinalYear(t);l>=g&&l<=(new Date).getFullYear()?(s=1,u=0,d=i,this.getOptions().defaultDay==r.DefaultDayEnum.Last&&(s=31,u=11)):(s=Number(e[0]),u=Number(e[1])-1,d=i)}}else if(5==e.length){let t=e[3]+e[4],i=this.getFinalYear(t);s=Number(e[0]),u=Number(e[1]+e[2])-1,u>11&&(s=Number(e[0]+e[1]),u=Number(e[2])-1),d=i}else if(6==e.length){let t=e[4]+e[5],i=this.getFinalYear(t);s=Number(e[0]+e[1]),u=Number(e[2]+e[3])-1,u>11&&(s=Number(e[0]),u=Number(e[1])-1,i=Number(e[2]+e[3]+e[4]+e[5])),d=i}else if(7==e.length){let t=Number(e[3]+e[4]+e[5]+e[6]);s=Number(e[0]),u=Number(e[1]+e[2])-1,u>11&&(s=Number(e[0]+e[1]),u=Number(e[2])-1),d=t}else 8==e.length&&(s=Number(e[0]+e[1]),u=Number(e[2]+e[3])-1,d=Number(e[4]+e[5]+e[6]+e[7]));if(c=new Date(d,u,s),t)return c;null!=c&&Date.vrIsValidDate(c)&&Number(u)>=0&&Number(u)<=11&&c.getMonth()==Number(u)?null!=this.value()&&Date.vrEquals(this.value(),c)?this.formatValue():this.value(c):(n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),this.clear())}openPopupTimePicker(){let e=this.value(),t=null!=e?e.getHours():0,i=null!=e?e.getMinutes():0;null==this._popup&&(this._popup=r.puma("<div class='vrDivPickerPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=r.shadowRoot()?r.shadowRoot():document.body)[0]),r.puma(this._popup).removeClass("datePickerPopup"),r.puma(this._popup).addClass("timePickerPopup"),super.settingPopup(this._popup,{right:!0});let a=this.getOptions(),n=new Date(a.min),o=new Date(a.max);n.setFullYear(1900,1,1),o.setFullYear(1900,1,1);let l=Date.vrDifferenceBetweenDatesInMinutes(n,o),s=Math.round(l/a.timeInterval),u=0,d=new Date(a.min);for(let e=0;e<s;e++){let e=d.toTimeString(),n=Number(e.split(":")[0]),o=Number(e.split(":")[1]),l=t==n&&i==o,s=this.createTimeLabel(e,l);d.vrAddMinutes(a.timeInterval),t==n&&i%a.timeInterval!=0&&i>o&&i<o+a.timeInterval&&(l=!0,e=String(t).padStart(2,"0")+":"+String(i).padStart(2,"0"),s=this.createTimeLabel(e,l)),l&&(u=r.puma(s.element()).offset().top-r.puma(this._popup).offset().top-r.puma(this._popup).height()/2)}u<0&&(u=0),this._popup.scrollTo(0,u)}createTimeLabel(e,t=!1){let i=r.createLabel({text:e,width:"Calc(100% - 10px)",onClick:e=>{let t=i.value(),a=t.split(":")[0],r=t.split(":")[1],n=null!=this.value()?this.value().getFullYear():(new Date).getFullYear(),o=null!=this.value()?this.value().getMonth():(new Date).getMonth(),l=null!=this.value()?this.value().getDate():(new Date).getDate();this.close();let s=new Date(n,o,l,Number(a),Number(r));this.value(s)},css:"cursor: pointer;",cssContainer:"padding: 5px; padding-top: 2px; cursor: pointer; border-bottom: solid 1px #DCDCDC;"+(t?"background-color: #51B3E1; color: #FFF;":"")},this._popup);return i}formatInputTimePicker(e,t=!1){let i=this.getOptions();if(null==e||""==e)return i.nullable?(this._value=null,void this.change()):(n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),void this.value(this.value(),!1));e=(e=e.replace(/[^\w\s]/gi,"")).replace(/\s/g,"");let a=Number(e),o=new Date;switch(o.setHours(0,0),e.toLowerCase()){case"adesso":return void this.value(new Date);case"pumo":return void this.value(new Date(1993,9,10,10,10))}if(1!=e.length&&3!=e.length||(e="0"+e),isNaN(a))return n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),void this.clear();let l=o;if(2==e.length)l=l.vrAddHours(a);else if(4==e.length){let t=Number(e[0]+e[1]),i=Number(e[2]+e[3]);l=l.vrAddHours(t).vrAddMinutes(i)}if(t)return l;this.value(l)}formatInputDateTimePicker(e){let t=e.split(" ")[1],i=this.formatInputTimePicker(t,!0),a=e.split(" ")[0],r=this.formatInputDatePicker(a,!0);null!=r&&(r.setHours(i.getHours(),i.getMinutes()),this.value(r))}getFinalYear(e){if(4==e.length)return Number(e);let t=(new Date).getFullYear().toString(),i=Number(t.substr(0,2)+"00"),a=Number(t.substr(0,2)),r=1==e.length?"0"+e:e.substr(0,2),n="";return n=Number(r)<=(new Date).getFullYear()+10-i?a+r:a-1+r,Number(n)}updateCursorPosition(){if(this.element().createTextRange){var e=this.element().createTextRange();e.move("character",this._currentCursorPosition),e.select()}else this.element().selectionStart>=0?(this.element().focus(),this.element().setSelectionRange(this._currentCursorPosition,this._currentCursorPosition)):this.element().focus()}value(e,t=!0){let i=this.getOptions();if(null===e)return i.nullable?(this.clear(),null):(n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),this._value);if(null!=e){if("string"==typeof e&&(e=Date.vrFixDateString(e)),null==e)throw Error("Formato data non valido!");if(i.mode==r.DateModeEnum.Time&&(e.setFullYear((new Date).getFullYear()),e.setMonth((new Date).getMonth())),i.mode!=r.DateModeEnum.Time){if(e.vrIsLessThan(i.min))return r.notify("Data minima consentita: "+i.min.vrToItalyString()),n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),this.clear(),null;if(e.vrIsGreaterThan(i.max))return r.notify("Data massima consentita: "+i.max.vrToItalyString()),n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800),this.clear(),null}if(t){let t=new d;null!=i.onBeforeChange&&(t.sender=this,t.value=e,t.previousValue=this._value,i.onBeforeChange(t)),t.isDefaultPrevented()||(this._value=new Date(e),this.formatValue(),this.change())}else this._value=new Date(e),this.formatValue()}if(null!=this._value&&this._value.setSeconds(0),this.mode()==r.DateModeEnum.Time&&null!=this._value){let e=this._value.getHours(),t=this._value.getMinutes();this._value=new Date(1900,0,1,e,t)}return this._value}formatValue(){let e=this.getOptions(),t=this.element(),i={};switch(e.format){case r.DateFormatEnum.ShortDate:i={year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case r.DateFormatEnum.LongDate:i={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1};break;case r.DateFormatEnum.WeekDay:i={weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case r.DateFormatEnum.Month:i={year:"numeric",month:"long"};break;case r.DateFormatEnum.Year:i={year:"numeric"}}let a=new Intl.DateTimeFormat("it",i).format(this._value).vrCapitalize();if(e.format==r.DateFormatEnum.WeekRange){let e=Date.vrGetFirstDayOfWeekByDate(this._value),t=e.vrAddDays(5);a=e.vrToItalyString()+" - "+t.vrToItalyString()}else if(e.format==r.DateFormatEnum.FourWeeksRange){let e=Date.vrGetFirstDayOfWeekByDate(this._value),t=e.vrAddDays(26);a=e.vrToItalyString()+" - "+t.vrToItalyString()}switch(e.mode){case r.DateModeEnum.Date:t.value=a;break;case r.DateModeEnum.Time:t.value=this._value.toTimeString();break;case r.DateModeEnum.DateTime:t.value=a+" "+this._value.toTimeString()}}mode(e){let t=this.getOptions();return null!=e&&(t.mode=e),t.mode}min(e){let t=this.getOptions();return null!=e&&(t.min=e),t.min}max(e){let t=this.getOptions();return null!=e&&(t.max=e),t.max}format(e,t=!0){let i=this.getOptions();return null!=e&&(i.format=e,t&&this.value(this.value(),!1)),i.format}clear(e=!1){this._value=null,this.element().value="",e&&this.change()}isEmpty(){return null==this.value()}error(){r.puma(this.element()).addClass("vrDatePickerError")}hideError(){r.puma(this.element()).removeClass("vrDatePickerError")}getOptions(){return this.options()}enable(){super.enable(),r.puma(this.container()).find(".vrDivPickerIcon").removeClass("vrDivPickerIconDisable"),r.puma(this.container()).find(".vrDivPickerDateTimeIcon").removeClass("vrDivPickerIconDisable")}disable(){super.disable(),r.puma(this.container()).find(".vrDivPickerIcon").addClass("vrDivPickerIconDisable"),r.puma(this.container()).find(".vrDivPickerDateTimeIcon").addClass("vrDivPickerIconDisable")}change(){let e=this.getOptions().onAfterChange;if(null!=e){let t=new u;t.sender=this,t.value=this.value(),e(t)}}}t.DatePicker=l;t.TimePicker=class extends l{};t.DateTimePicker=class extends l{};t.MonthPicker=class extends l{};t.YearPicker=class extends l{};class s extends a.VrControlsEvent{}class u extends s{}class d extends s{}!function(e){e[e.Day=0]="Day",e[e.Month=1]="Month",e[e.Year=2]="Year",e[e.Decade=3]="Decade"}(t.ActualViewEnum||(t.ActualViewEnum={}));class c extends s{}class p extends s{}class h extends a.VrControlsEvent{}class m extends h{}class f extends h{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextBoxEvent=t.TextBoxPercentage=t.TextBoxCurrency=t.TextBoxPassword=t.TextBoxNumeric=t.TextBoxMultiline=t.TextBox=t.TextBoxOptions=void 0;const a=i(1),r=i(0),n=i(2),o=i(3);class l extends a.VrControlOptions{}t.TextBoxOptions=l;class s extends a.VrControl{constructor(e,t){if(null==t&&(t=new l),null==t.mode&&(t.mode=r.TextModeEnum.Text),null==t.inputMode&&(t.inputMode=r.TextTransformModeEnum.Default),null==t.rows&&(t.rows=2),null==t.width&&(t.width=200),null==t.bold&&(t.bold=!1),null==t.nullable&&(t.nullable=!0),null==t.growWithContent&&(t.growWithContent=!1),null==t.decimals&&(t.mode==r.TextModeEnum.Numeric?t.decimals=0:t.mode!=r.TextModeEnum.Currency&&t.mode!=r.TextModeEnum.Percentage||(t.decimals=2)),null==t.align&&(t.mode==r.TextModeEnum.Numeric||t.mode==r.TextModeEnum.Percentage||t.mode==r.TextModeEnum.Currency?t.align=r.TextAlignEnum.Right:t.align=r.TextAlignEnum.Left),null==t.validation&&(t.validation=new r.TextBoxValidationSettings),null==t.validation.error&&(t.validation.error=r.TextBoxValidationErrorEnum.Flashing),null==t.validation.minValue&&(t.validation.minValue=Number.MIN_SAFE_INTEGER),null==t.validation.maxValue&&(t.validation.maxValue=Number.MAX_SAFE_INTEGER),null==t.validation.minLength&&(t.validation.minLength=new r.TextBoxLengthSettings),"number"==typeof t.validation.minLength){let e=t.validation.minLength;t.validation.minLength=new r.TextBoxLengthSettings,t.validation.minLength.value=e}if(null==t.validation.minLength.substituteChar&&(t.validation.minLength.substituteChar="X"),null==t.validation.maxLength&&(t.validation.maxLength=new r.TextBoxLengthSettings),"number"==typeof t.validation.maxLength){let e=t.validation.maxLength;t.validation.maxLength=new r.TextBoxLengthSettings,t.validation.maxLength.value=e}if(null!=t.validation.regex){if("string"==typeof t.validation.regex){let e=t.validation.regex;t.validation.regex=new r.TextBoxRegexSettings,t.validation.regex.value=e}null==t.validation.regex.checkOnKeyUp&&null==t.validation.regex.checkOnValue&&null==t.validation.regex.checkOnKeyDown&&null==t.validation.regex.checkOnBlur&&(t.validation.regex.checkOnKeyDown=!0),null==t.validation.regex.value&&(!0===t.validation.regex.onlyNumbers?t.validation.regex.value="^\\d*$":!0===t.validation.regex.onlyCharacters?t.validation.regex.value="^[a-zA-Z]+$":!0===t.validation.regex.onlyUpperCase?t.validation.regex.value="^[A-Z]+$":!0===t.validation.regex.onlyLowerCase&&(t.validation.regex.value="^[a-z]+$"))}switch(t.mode){case r.TextModeEnum.Text:r.puma(e).attr("type","text");break;case r.TextModeEnum.Link:r.puma(e).attr("type","url");break;case r.TextModeEnum.Phone:r.puma(e).attr("type","tel");break;case r.TextModeEnum.Search:r.puma(e).attr("type","search");break;case r.TextModeEnum.Mail:r.puma(e).attr("type","email");break;case r.TextModeEnum.Password:r.puma(e).attr("type","password");break;case r.TextModeEnum.PasswordViewable:r.puma(e).attr("type","text");break;case r.TextModeEnum.Numeric:case r.TextModeEnum.Percentage:case r.TextModeEnum.Currency:r.puma(e).attr("type","number");break;case r.TextModeEnum.MultiLine:{let i=document.createElement("textarea");i.id=e.id,r.puma(i).addClass("vrTextArea"),r.puma(i).attr("autocomplete","off"),null==t.height&&r.puma(i).height(38+20*(t.rows-1)),i.style.cssText+="-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;",i.style.cssText+="border-radius: 4px; border-color: #d9d9d9; font-size: 16px; color: #000; padding: 5px; padding-left: 10px; padding-right: 10px; resize: none;",r.puma(e).vrAfterPuma(i),r.puma(e).hide(),e=i}}o.DeviceManager.isMobile()||t.mode==r.TextModeEnum.Password||r.puma(e).attr("type","text"),r.puma(e).attr("autocomplete","off"),e.style.cssText+="padding-left: 10px; padding-right: 10px;",super(e,t,r.ControlTypeEnum.TextBox),this._numberValue=null,t.mode==r.TextModeEnum.PasswordViewable&&(this.viewPassword(!1),this._passwordViewableIcon=r.icon(r.IconClassLight.EyeSlash,this.container(),{css:"position: absolute; right: 5px; bottom: 7px; font-size: 14px; opacity: 0.8; cursor: pointer;"}),r.puma(this._passwordViewableIcon).on("click",e=>{this.viewPassword(this.viewPassword())})),null!=t.height&&t.mode==r.TextModeEnum.MultiLine&&r.puma(this.element()).height(Number(t.height)-12),this._originalHeight=r.puma(this.element()).outerHeight(),this._originalMarginBottom=r.puma(this.container()).css("margin-bottom").getNumericPart(),null!=t.value&&this.value(t.value,!1),null!=t.placeholder&&this.placeholder(t.placeholder),null!=t.validation.minLength&&r.puma(this.element()).attr("minlength",t.validation.minLength.value),null!=t.validation.maxLength&&r.puma(this.element()).attr("maxlength",t.validation.maxLength.value),null!=t.tooltip&&r.puma(this.element()).attr("title",t.tooltip),!0===t.readOnly&&r.puma(this.element()).attr("readonly","readonly"),!0!==t.readOnly&&!1!==t.enable||r.puma(this.element()).attr("tabIndex","-1"),!0===t.bold&&(this.element().style.cssText+="font-weight: 500;"),r.puma(this.element()).css("text-align",t.align),r.puma(this.element()).css("text-transform",t.inputMode),null!=t.icon?(r.puma(this.element()).vrBeforePuma("<i class='"+t.icon+"' style='position: absolute; margin-left: 6px; color: #A9A9A9;'></i>"),this.element().style.cssText+="text-indent: 15px;"):null!=t.imageUrl&&(this.element().style.cssText+="background-image: url("+t.imageUrl+"); background-position: 4px 5px; background-repeat: no-repeat; text-indent: 13px;"),t.mode==r.TextModeEnum.MultiLine||null==t.label||t.labelSettings.position!=r.PositionEnum.Top||null!=t.icon&&null!=t.imageUrl||(this.element().style.cssText+="padding-left: 0px !important; width: calc(100% - 12px) !important;"),r.puma(this.element()).keyup(e=>{if(this._keyDownCanceled)return void e.preventDefault();let i=r.puma(e.currentTarget).val();if(this.autoSize(),e.key!=r.KeyEnum.Tab){let e=null!=t.validation.regex&&t.validation.regex.checkOnKeyUp;this.validate(i,!1,e)}if(null!=t.onKeyUp){let a=new f;a.sender=this,a.value=this.isNumericTextBox()?this._numberValue:i,a.key=e.key,a.shiftKey=e.shiftKey,a.altKey=e.altKey,a.ctrlKey=e.ctrlKey,a.enterKey=e.key==r.KeyEnum.Enter,a.backSpaceKey=e.key==r.KeyEnum.Backspace,a.tabKey=e.key==r.KeyEnum.Tab;let n=[",",".","-","+"];a.validForNumeric=!isNaN(Number(e.key))||n.includes(e.key),t.onKeyUp(a),a.isDefaultPrevented()&&e.preventDefault()}}),r.puma(this.element()).keydown(e=>{if(r.puma(this.element()).removeClass("errorInput"),this._keyDownCanceled=!1,this._hideErrorMode==r.ErrorHideModeEnum.OnAction&&this.hideError(),e.key!=r.KeyEnum.Backspace&&e.key!=r.KeyEnum.ArrowRight&&e.key!=r.KeyEnum.ArrowLeft&&e.key!=r.KeyEnum.ArrowUp&&e.key!=r.KeyEnum.ArrowDown&&e.key!=r.KeyEnum.Tab){if(this.isNumericTextBox()&&isNaN(Number(e.key))&&"-"!=e.key&&"."!=e.key&&","!=e.key&&!e.ctrlKey)return n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800,()=>r.puma(this.element()).removeClass("errorInput")),void e.preventDefault();if(null!=t.validation.regex&&null!=t.validation.regex.value&&""!=t.validation.regex.value&&t.validation.regex.checkOnKeyDown){if(!new RegExp(t.validation.regex.value,t.validation.regex.flags).test(e.key))return n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800,()=>r.puma(this.element()).removeClass("errorInput")),void e.preventDefault()}}if(null!=t.onEnterKey&&e.key==r.KeyEnum.Enter){let e=new v;e.sender=this,e.value=this.value(),t.onEnterKey(e)}if(null!=t.onKeyDown){let i=new g;i.sender=this,i.key=e.key,i.shiftKey=e.shiftKey,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.enterKey=e.key==r.KeyEnum.Enter,i.backSpaceKey=e.key==r.KeyEnum.Backspace,i.tabKey=e.key==r.KeyEnum.Tab;let a=r.puma(e.currentTarget).val();i.value=this.isNumericTextBox()?this._numberValue:a;let n=[",",".","-","+"];i.validForNumeric=!isNaN(Number(e.key))||n.includes(e.key),t.onKeyDown(i),i.isDefaultPrevented()&&(this._keyDownCanceled=!0,e.preventDefault())}}),r.puma(this.element()).focusin(e=>{if(r.puma(this.element()).removeClass("errorInput"),this._hideErrorMode==r.ErrorHideModeEnum.OnFocus&&this.hideError(),this.isNumericTextBox()){let e="";null!=this._numberValue&&(e=this.formatValue(String(this._numberValue))),this.element().value=e,r.puma(this.element()).select()}if(null!=t.onFocus){let e=new c;e.sender=this,t.onFocus(e)}}),r.puma(this.element()).blur(e=>{let t=this.getOptions();if(this.isNumericTextBox())this.value(this._numberValue);else{let e=null!=t.validation.regex&&t.validation.regex.checkOnBlur,i=this.validate(void 0,!0,e);this.element().value=i}if(null!=t.onBlur){let i=new p;i.sender=this,i.target=e.target,i.value=this.value(),t.onBlur(i)}}),r.puma(this.element()).on("paste",e=>{let i=e.originalEvent.clipboardData.getData("text");if(null!=t.onPaste){let e=new h;e.sender=this,e.pastedValue=i,e.value=this.value()+i,t.onPaste(e)}})}value(e,t=!0){let i=this.options();if(this._oldValue=this.isNumericTextBox()?this._numberValue:this.element().value,null===e){if(i.nullable)return this._numberValue=null,this.element().value="",null;this.isNumericTextBox()&&(e=0)}if(null!=e){let a=null!=i.validation.regex&&i.validation.regex.checkOnValue,r=this.validate(String(e),!0,a);this.element().value=r,this.autoSize(),t&&this.change()}return this.isNumericTextBox()?this._numberValue:this.element().value}validate(e,t=!0,i=!1){let a=this.getOptions();r.puma(this.element()).removeClass("errorInput"),null==e&&(e=String(this.value()));let o=e,l=!1,s=0;if(this.isNumericTextBox())if(""==e)this._numberValue=null;else{let i=e.startsWith("-");s=e.replace(",",".").vrGetNumericPart(),t&&s<a.validation.minValue&&(s=a.validation.minValue,l=!0),s>a.validation.maxValue&&(s=a.validation.maxValue,l=!0),isNaN(Number(s))&&(i?s=null:(s=0,l=!0)),this._numberValue=s}if(null!=a.zeros&&(o=String(o).padStart(a.zeros,"0")),null!=a.validation.minLength){let e=a.validation.minLength;t&&o.length<e.value&&(o=o.padEnd(e.value,e.substituteChar),l=!0)}if(null!=a.validation.maxLength){let e=a.validation.maxLength;o.length>e.value&&(o=o.substring(0,e.value),l=!0)}if(i&&null!=a.validation.regex.value&&""!=a.validation.regex.value&&""!=e&&null!=e){new RegExp(a.validation.regex.value,a.validation.regex.flags).test(e)||(o="",l=!0)}if(this.isNumericTextBox()&&(o=t?this.formatValue(String(s)):String(s)),l)switch(a.validation.error){case r.TextBoxValidationErrorEnum.None:break;case r.TextBoxValidationErrorEnum.Flashing:n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800,()=>r.puma(this.element()).removeClass("errorInput"));break;case r.TextBoxValidationErrorEnum.Stable:r.puma(this.element()).addClass("errorInput")}return o}placeholder(e){return null!=e&&(this.element().placeholder=e),this.element().placeholder}type(e){let t=this.getOptions();t.mode=e,null==t.decimals&&(t.mode==r.TextModeEnum.Numeric?t.decimals=0:t.mode!=r.TextModeEnum.Currency&&t.mode!=r.TextModeEnum.Percentage||(t.decimals=2)),null==t.align&&(t.mode==r.TextModeEnum.Numeric||t.mode==r.TextModeEnum.Percentage||t.mode==r.TextModeEnum.Currency?t.align=r.TextAlignEnum.Right:t.align=r.TextAlignEnum.Left)}getOptions(){return this.options()}clear(e=!1){this.getOptions().nullable&&this.isNumericTextBox()?this.value(null,!1):(this._numberValue=null,this.element().value=""),e&&this.change()}isEmpty(){return this.isNumericTextBox()?null==this._numberValue:""===this.element().value}autoSize(){let e=this.getOptions();if(!0===e.growWithContent&&e.mode==r.TextModeEnum.MultiLine){let t=this.element().clientHeight;null==e.labelSettings||e.labelSettings.position!=r.PositionEnum.Top&&e.labelSettings.position!=r.PositionEnum.Bottom||(t+=r.puma(this.container()).find(".vrLabelContainer").height()),this.element().style.height="1px",this.container().style.height=t+"px",25+this.element().scrollHeight>this._originalHeight?this.element().style.height=25+this.element().scrollHeight+"px":this.element().style.height=this._originalHeight+"px",this.container().style.height="auto"}}isNumericTextBox(){let e=this.options().mode;return e==r.TextModeEnum.Numeric||e==r.TextModeEnum.Percentage||e==r.TextModeEnum.Currency}viewPassword(e){return null!=e&&(r.puma(this._passwordViewableIcon).removeClass(r.IconClassLight.EyeSlash),r.puma(this._passwordViewableIcon).removeClass(r.IconClassLight.Eye),e?(r.puma(this.element()).removeClass("noViewablePassword"),r.puma(this._passwordViewableIcon).addClass(r.IconClassLight.Eye)):(r.puma(this.element()).addClass("noViewablePassword"),r.puma(this._passwordViewableIcon).addClass(r.IconClassLight.EyeSlash))),this.element().classList.contains("noViewablePassword")}caretPosition(){return this.element().selectionStart}insertTextAtCursor(e){this.appendText(e,this.caretPosition())}insertTextAtPosition(e,t){this.appendText(e,t)}appendText(e,t){let i=this.element();null==t&&(t=i.value.length),this.value(i.value.substring(0,t)+e+i.value.substring(i.selectionEnd,i.value.length)),i.selectionStart=this.caretPosition()+e.length,i.selectionEnd=this.caretPosition()+e.length,this.focus()}error(e,t,i,a){let n=this.options();null==t&&(t=r.ErrorModeEnum.Tooltip),null==i&&(i=r.ErrorPositionEnum.Right),null==a&&(a=r.ErrorHideModeEnum.OnAction),null==e&&(e=""),r.puma(this.element()).hasClass("vrTextBoxError")||r.puma(this.element()).width(r.puma(this.element()).width()-4),r.puma(this.element()).addClass("vrTextBoxError"),this._hideErrorMode=a;let o=r.puma(this.container()).find(".vrTextBoxErrorIcon")[0];if(null==o&&(o=r.puma("<i class='"+r.IconClassLight.TriangleExclamation+" vrTextBoxErrorIcon'></i>").vrInsertAfterPuma(this.element())[0]),r.puma(o).show(),t==r.ErrorModeEnum.Tooltip){let t=r.puma("<span class='vrTextBoxErrorTooltip vrErrorTooltip'>"+e+"</span>").vrAppendToPuma(o);i==r.ErrorPositionEnum.Right?r.puma(t).addClass("vrTextBoxErrorTooltipRight"):i==r.ErrorPositionEnum.Bottom&&(r.puma(t).addClass("vrTextBoxErrorTooltipBottom"),r.puma(o).hover(()=>r.puma(t)[0].style.cssText+="left: -"+(r.puma(t).outerWidth()/2-7)+"px;"))}else if(t==r.ErrorModeEnum.Overlay){let t=r.puma(this.container()).find(".vrTextBoxErrorOverlay")[0];if(null==t&&(t=r.puma("<span class='vrTextBoxErrorOverlay'>"+e+"</span>").vrInsertAfterPuma(this.element())[0]),r.puma(t).show(),i==r.ErrorPositionEnum.Right)r.puma(t).addClass("vrTextBoxErrorOverlayRight");else if(i==r.ErrorPositionEnum.Bottom){let e=null==n.label||n.labelSettings.position!=r.PositionEnum.Left&&n.labelSettings.position!=r.PositionEnum.Right?0:r.puma(this.label()).width();r.puma(t).addClass("vrTextBoxErrorOverlayBottom"),r.puma(t)[0].style.cssText+="left: Calc(50% - "+(r.puma(t).width()/2-e/2)+"px);"}r.puma(t).html(e)}else if(t==r.ErrorModeEnum.Solid){let t=r.puma(this.container()).find(".vrTextBoxErrorSolid")[0];null==t&&(t=r.puma("<span class='vrTextBoxErrorSolid'>"+e+"</span>").vrInsertAfterPuma(this.element())[0]),r.puma(t).show(),i=r.ErrorPositionEnum.Bottom,r.puma(t).addClass("vrTextBoxErrorSolidBottom"),r.puma(t).html(e);let a=null==n.label||n.labelSettings.position!=r.PositionEnum.Left&&n.labelSettings.position!=r.PositionEnum.Right?0:r.puma(this.label()).width();r.puma(t)[0].style.cssText+="left: Calc(50% - "+(r.puma(t).width()/2-a/2)+"px);",r.puma(this.container())[0].style.cssText+="margin-bottom: "+(r.puma(t).height()+20)+"px;"}}hideError(){r.puma(this.element()).hasClass("vrTextBoxError")&&(r.puma(this.element()).removeClass("vrTextBoxError"),r.puma(this.element()).width(r.puma(this.element()).width()+4),r.puma(this.container()).find(".vrTextBoxErrorIcon").hide(),r.puma(this.container()).find(".vrTextBoxErrorTooltip").hide(),r.puma(this.container()).find(".vrTextBoxErrorOverlay").hide(),r.puma(this.container()).find(".vrTextBoxErrorSolid").hide(),r.puma(this.container()).css({"margin-bottom":this._originalMarginBottom+"px"}))}hasError(){return r.puma(this.element()).hasClass("vrTextBoxError")}formatValue(e){let t=this.getOptions(),i=t.decimals,a=new r.NumberFormatSettings(t.roundingSettings);switch(a.minimumFractionDigits=i,a.maximumFractionDigits=i,null!=t.roundingSettings&&(null!=t.roundingSettings.minimumFractionDigits&&(a.minimumFractionDigits=t.roundingSettings.minimumFractionDigits),null!=t.roundingSettings.maximumFractionDigits&&(a.maximumFractionDigits=t.roundingSettings.maximumFractionDigits),t.roundingSettings.roundingMode==r.RoundingModeEnum.None&&null==t.roundingSettings.maximumFractionDigits&&(a.maximumFractionDigits=8)),t.mode){case r.TextModeEnum.Numeric:e=Number(e).toFixed(i);break;case r.TextModeEnum.Currency:e=Number(e).vrToCurrencyString(a);break;case r.TextModeEnum.Percentage:e=(Number(e)/100).vrToPercentageString(a)}return e}change(){let e=this.options().onChanged;if(null!=e){let t=new d;t.sender=this,t.value=this.value(),t.oldValue=this._oldValue,e(t)}}}t.TextBox=s;t.TextBoxMultiline=class extends s{};t.TextBoxNumeric=class extends s{};t.TextBoxPassword=class extends s{};t.TextBoxCurrency=class extends s{};t.TextBoxPercentage=class extends s{};class u extends a.VrControlsEvent{}t.TextBoxEvent=u;class d extends u{}class c extends u{}class p extends u{}class h extends u{}class m extends u{}class f extends m{}class g extends m{}class v extends u{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDown=t.ComboBox=t.ComboBoxOptions=void 0;const a=i(1),r=i(0),n=i(2),o=i(8);class l extends a.VrControlOptions{}t.ComboBoxOptions=l;class s extends a.VrControl{constructor(e,t){switch(null==t&&(t=new l),null==t.mode&&(t.mode=r.ComboBoxTypeEnum.Combo),null==t.treeMode&&(t.treeMode=r.ComboBoxTreeModeEnum.AllExpanded),null==t.freeText&&(t.freeText=!1),null==t.checkboxes&&(t.checkboxes=!1),null==t.filter&&(t.filter=!1),null==t.clearButton&&(t.clearButton=!1),null==t.addButton&&(t.addButton=!1),null==t.textAlign&&(t.textAlign=r.TextAlignEnum.Left),null==t.textEllipsis&&(t.textEllipsis=!1),null==t.checkAll&&(t.checkAll=!1),null==t.showCheckAll&&1==t.checkboxes&&(t.showCheckAll=!0),null!=t.showCheckAll&&"boolean"!=typeof t.showCheckAll&&null==t.showCheckAll.triggerChange&&(t.showCheckAll.triggerChange=!0),null==t.popupSettings?t.popupSettings={maxHeight:200,maxWidth:500}:null==t.popupSettings.maxHeight&&null==t.popupSettings.height?t.popupSettings.maxHeight=200:null==t.popupSettings.maxWidth&&null==t.popupSettings.width&&(t.popupSettings.maxWidth=500),t.mode==r.ComboBoxTypeEnum.DropDown&&(t.checkboxes=!1,t.freeText=!1,t.placeholder=void 0),(null!=t.webService||t.freeText)&&(t.mode=r.ComboBoxTypeEnum.Combo,t.checkboxes=!1,t.filter=!1,null!=t.webService&&(t.items=void 0,null==t.webService.searchAfterCharsNumber&&(t.webService.searchAfterCharsNumber=3))),t.mode!=r.ComboBoxTypeEnum.Combo||t.checkboxes||(t.filter=!1),!0===t.checkboxes&&(t.mode=r.ComboBoxTypeEnum.Combo,t.nullable=!1),null==t.onlyIcon&&(t.onlyIcon=!1),null==t.width&&(t.width=t.onlyIcon?40:200),super(e,t,r.ControlTypeEnum.ComboBox),r.puma(e).attr("type","text"),r.puma(e).attr("autocomplete","off"),this._isDivElement=r.puma(this.element()).is("div"),this._checkedValues=[],this._openPopupAfterFocus=!0,this.items(null!=t.items?t.items:[],!1),t.mode){case r.ComboBoxTypeEnum.Combo:r.puma(this.element()).addClass("vrComboBox");break;case r.ComboBoxTypeEnum.DropDown:r.puma(this.element()).addClass("vrComboBoxDropDown")}if(t.mode==r.ComboBoxTypeEnum.Combo&&(this._isDivElement?r.puma(this.element()).addClass("vrComboBoxCheckbox"):(r.puma(this.element()).addClass("vrComboBox"),null!=t.placeholder&&(this.element().placeholder=t.placeholder))),t.mode==r.ComboBoxTypeEnum.DropDown||t.checkboxes){if(!this._isDivElement)throw Error("L'element html deve essere un div")}else if(this._isDivElement)throw Error("L'element html deve essere un input");null!=t.tooltip&&r.puma(this.element()).attr("title",t.tooltip);let i=n.UtilityManager.createIcon(r.IconClassLight.CaretDown),a="vrDivPickerIconComboBox";this._isDivElement&&(a="vrDivPickerIconComboBoxDropDown"),this._divPickerIcon=r.puma("<div class='"+a+"'></div>").vrAppendToPuma(this.container())[0],r.puma(this._divPickerIcon).vrAppendPuma(i),r.puma(this._divPickerIcon).click(()=>{r.puma(".comboBox_divPopup").is(":visible")?this.close():(this.open(),this.focus())}),r.puma(this._divPickerIcon).on("mouseenter",e=>r.puma(this.element()).addClass("hoverClass")),r.puma(this._divPickerIcon).on("mouseleave",e=>r.puma(this.element()).removeClass("hoverClass")),null!=t.label&&t.labelSettings.position==r.PositionEnum.Top&&(this._divPickerIcon.style.cssText+="bottom: 1px; top: inherit;");let s=n.UtilityManager.createIcon(r.IconClassRegular.Xmark),h=r.puma("<div class='vrDivComboBoxClearIcon' style='display: none;'></div>").vrAppendToPuma(this.container())[0];switch(!1!==t.addButton&&(h.style.cssText+="right: 57px;"),r.puma(h).vrAppendPuma(s),r.puma(h).click(e=>{this.enabled()&&this.clear(!0)}),!1!==t.addButton&&(!0===t.addButton&&(t.addButton=new o.ButtonOptions),null==t.addButton.icon&&(t.addButton.icon=r.IconClassLight.Plus),t.addButton.cssContainer=t.addButton.cssContainer+"; position: absolute; right: 0px; bottom: 0px;",t.addButton.css=t.addButton.css+"; border-top-left-radius: 0px; border-bottom-left-radius: 0px; height: 26px;",null==t.addButton.enable&&(t.addButton.enable=t.enable),this._btnCombo=r.createButton(t.addButton,this.container()),!1!==t.addButton.visible&&this._divPickerIcon.classList.add("vrComboDivPickerWithButton")),null!=t.value&&this.value(t.value,!1),t.textAlign){case r.TextAlignEnum.Left:this.element().style.cssText+="text-align: left;";break;case r.TextAlignEnum.Center:this.element().style.cssText+="text-align: center;";break;case r.TextAlignEnum.Right:this.element().style.cssText+="text-align: right;"}let m=null;if(null!=t.icon){let e="";if(null==this.options().label)e="margin-left: 6px; margin-top: -1px;";else{let i=r.puma(this.container()).find(".vrLabel").width();null!=t.labelSettings&&null!=t.labelSettings.width&&(i=t.labelSettings.width),e=this.options().labelSettings.position==r.PositionEnum.Left||this.options().labelSettings.position==r.PositionEnum.Right?"margin-left: "+(i+10)+"px; margin-top: -1px;":"left: 6px; bottom: 6px;"}m=r.puma("<i class='"+t.icon+"' style='cursor: pointer; position: absolute;"+e+"'></i>"),r.puma(this.element()).vrBeforePuma(m),this.element().style.cssText+="text-indent: 18px;",null!=t.tooltip&&r.puma(m).attr("title",t.tooltip),r.puma(m).click(()=>{r.puma(".comboBox_divPopup").is(":visible")?this.close():(this.open(),this.focus())}),r.puma(m).on("mouseenter",e=>r.puma(this.element()).addClass("hoverClass")),r.puma(m).on("mouseleave",e=>r.puma(this.element()).removeClass("hoverClass"))}else null!=t.imageUrl&&(this.element().style.cssText+="background-image: url("+t.imageUrl+"); background-position: 4px 5px; background-repeat: no-repeat; text-indent: 13px;");if(t.onlyIcon&&null!=t.icon&&(this._allCheckedOnlyIcon=r.icon(r.IconClassSolid.Check,m,{css:"display: none; position: absolute; z-index: 2; font-size: 9px; top: -5px; right: -7px;"})),t.checkAll&&this.checkAll(!1),t.mode==r.ComboBoxTypeEnum.Combo){r.puma(this.element()).keydown(e=>{if(this.open(),null!=t.onKeyDown){let i=new u;if(i.sender=this,i.event=e,t.onKeyDown(i),i.isDefaultPrevented())return}if(null!=t.onEnterKey&&e.key==r.KeyEnum.Enter){let e=new p;if(e.sender=this,e.value=this.value(),t.onEnterKey(e),e.isDefaultPrevented())return}e.key!=r.KeyEnum.Tab&&this.limitInputByDataSource(this.element(),e);let i=this.element().value,a=this.element().selectionStart,n=this.element().selectionEnd;null!=n&&null!=a&&n-a==i.length&&e.key==r.KeyEnum.Backspace?(this.value(null),this.change()):e.key==r.KeyEnum.Backspace&&0==i.length&&this.change()});let e=0;r.puma(this.element()).keyup(i=>{if(this.open(),i.key!=r.KeyEnum.ArrowRight&&i.key!=r.KeyEnum.ArrowLeft&&i.key!=r.KeyEnum.Control&&!i.ctrlKey||"v"==i.key&&i.ctrlKey){if(null!=t.onKeyUp){let e=new d;if(e.sender=this,e.event=i,t.onKeyUp(e),e.isDefaultPrevented())return}if(i.key==r.KeyEnum.ArrowDown&&!t.checkboxes){let e=null;return e=null==this.value()?r.puma(this._popup).find("li:visible").first():r.puma(this._dictionaryValueLi.get(this.value())).next(),e.focus(),void i.preventDefault()}if(i.key==r.KeyEnum.ArrowUp&&!t.checkboxes){let e=null;return e=null==this.value()?r.puma(this._popup).find("li:visible").first():r.puma(this._dictionaryValueLi.get(this.value())).prev(),e.focus(),void i.preventDefault()}i.key!=r.KeyEnum.Enter&&(this._value=null,i.key!=r.KeyEnum.Tab&&this.limitInputByDataSource(this.element(),i),clearTimeout(e),e=window.setTimeout(()=>{let e=this.element().value;if(null==t.webService){let t=this.filter(e,this.element());"v"==i.key&&i.ctrlKey&&1==t.length&&(this.value(t[0].value),this.close())}else{if(""==e)return this._items=[],void r.puma(this._popup).find("ul").remove();{if(e.length<t.webService.searchAfterCharsNumber)return;let i=this.element().selectionStart,a=this.element().selectionEnd;0==i&&a==this.element().value.length||this.doAjaxCall(e)}}},300))}else i.preventDefault()}),r.puma(this.element()).on("paste",i=>{this.open();let a=i.originalEvent.clipboardData.getData("text");e=window.setTimeout(()=>{if(null!=t.onPaste){let e=new c;if(e.sender=this,e.pastedValue=a,e.value=this.value()+a,e.event=i,t.onPaste(e),e.isDefaultPrevented())return void i.preventDefault()}let e=this.element().value;if(null==t.webService){let t=this.filter(e,this.element());"v"==i.key&&i.ctrlKey&&1==t.length&&(this.value(t[0].value),this.close())}else{if(""==e)return this._items=[],void r.puma(this._popup).find("ul").remove();{let t=this.element().selectionStart,i=this.element().selectionEnd;0==t&&i==this.element().value.length||this.doAjaxCall(e)}}},300)})}this._isDivElement?r.puma(this.element()).click(e=>{r.puma(this._popup).is(":visible")?this.close():this.open()}):(r.puma(this.element()).focus(e=>{this.element().select(),this._openPopupAfterFocus&&this.open(),this._openPopupAfterFocus=!0}),r.puma(this.element()).blur(e=>window.setTimeout(()=>{if(null==this.value()&&0==r.puma(this._popup).find(".keydownFocus").length&&this.filter("",this.element()),null==this._popup||this._focusWithArrows||this.close(),null!=t.onBlur){let e=new f;e.sender=this,t.onBlur(e)}},200))),(null!=r.shadowRoot()?r.shadowRoot():document).addEventListener("scroll",e=>{!r.puma(e.target).hasClass("comboBox_divPopup")&&r.puma(this._popup).is(":visible")&&(this.blur(),this.close())},!0)}close(){let e=this.getOptions();if(r.puma(this._popup).remove(),this._popup=null,this._focusWithArrows=!1,this._dictionaryValueLi=new Map,this._isDivElement&&r.puma("#vrComboBoxBackground_"+this.element().id).remove(),null!=e.onClose){let t=new h;t.sender=this,t.beforeValue=this._openedValue,t.afterValue=this.value(),e.onClose(t)}e.mode==r.ComboBoxTypeEnum.Combo&&null==this._value&&(e.freeText?this.valueInternal(this.element().value):this.element().value="")}open(){let e=this.getOptions();this.enabled()&&(r.puma(this._popup).is(":visible")||(null==this._popup&&(this._popup=r.puma("<div class='comboBox_divPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=r.shadowRoot()?r.shadowRoot():document.body)[0]),0==this.getRootItems().length?r.puma(this._popup).addClass("vrComboBoxFlat"):r.puma(this._popup).removeClass("vrComboBoxFlat"),window.setTimeout(()=>{if(this.drawDataSource(),this._isDivElement){let e=r.puma(this._popup).css("z-index")-1,t=r.puma("<div class='vrWindowBackground' id='vrComboBoxBackground_"+this.element().id+"' style='background-color: transparent; display: block; z-index: "+e+";'></div>").vrAppendToPuma(null!=r.shadowRoot()?r.shadowRoot():document.body)[0];r.puma(t).click(e=>this.close())}let t=r.puma(this.element()).outerWidth();if(null!=e.popupSettings.width&&t>e.popupSettings.width&&(t=e.popupSettings.width),null!=e.popupSettings.minWidth&&(t=e.popupSettings.minWidth),t<100&&(t=100),null!=e.popupSettings?e.popupSettings.minWidth=t:this._popup.style.cssText+="min-width: "+t+"px;",super.settingPopup(this._popup,e.popupSettings),e.showCheckAll&&(this._chkCheckAll=r.createCheckBox({addToControlList:!1,text:"Seleziona tutti...",width:"100%",cssContainer:"padding-bottom: 5px; margin-bottom: 5px; border-bottom: solid 1px #d0d0d0;",class:"vrComboBoxSelectAll",enable:e.enable,onCheck:t=>{let i=!0;i="boolean"==typeof e.showCheckAll?e.showCheckAll:e.showCheckAll.triggerChange,t.checked?this.checkAll(i):this.unCheckAll(i)}},this._popup,r.ControlPositionEnum.Before)),!0===e.filter&&0==r.puma(this._popup).find(".vrComboBoxFilter").length){let e=0;this._txtSearchFilter=r.createTextBox({width:"100%",icon:r.IconClassLight.Search,placeholder:"Cerca...",class:"vrComboBoxFilter",cssContainer:"margin-bottom: 5px; margin-top: 5px;",onKeyDown:e=>{this.limitInputByDataSource(e.sender.element(),e)},onKeyUp:t=>{this.limitInputByDataSource(t.sender.element(),t),clearTimeout(e),e=window.setTimeout(()=>{let e=t.sender.value();this.filter(e,this._txtSearchFilter.element())},100)}},this._popup,r.ControlPositionEnum.Before)}if(null!=this._txtSearchFilter&&r.puma(this._txtSearchFilter.element()).focus(),null==e.webService&&this.value(this.value(),!1),this._openedValue=this.value(),!e.checkboxes){let e=this._dictionaryValueLi.get(this.value());if(null!=e){r.puma(e).addClass("vrComboBoxSelectedComboValue");let t=r.puma(e).offset().top-r.puma(this._popup).offset().top-r.puma(this._popup).height()/2;t<0&&(t=0),this._popup.scrollTo(0,t)}}})))}limitInputByDataSource(e,t){let i=this.getOptions();if(null==i.webService&&!0!==i.freeText&&0==this.getFilteredArrayByInputText(e.value).length){let i=e.value;return e.value=i.substring(0,i.length-1),void t.preventDefault()}}filter(e,t){let i=t.selectionStart,a=t.selectionEnd,o=[];if(""==e||null==e)r.puma(this._popup).find("li").show(),null!=this.getOptions().webService&&(this._items=[],r.puma(this._popup).find(".vrComboBoxUl").remove());else if(0!=i||a!=t.value.length){r.puma(this._popup).find("li").hide();let t=this.getFilteredArrayByInputText(e);o=t;let i=t.map(e=>e.value),a=t.map(e=>n.UtilityManager.htmlDecode(e.text));for(let e of t){let t=e.parentValue;for(;null!=t;){let e=this.items().filter(e=>e.value==t)[0];i.includes(t)||(i.push(t),a.push(n.UtilityManager.htmlDecode(e.text))),t=null!=e?e.parentValue:void 0,t==e.value&&(t=void 0)}}for(let e of Array.from(r.puma(this._popup).find(".vrComboBoxItemText")))a.includes(String(r.puma(e).attr("text")).trim())&&(r.puma(e).closest(".vrComboBoxLi").show(),r.puma(e).closest(".vrComboBoxLi").closest(".vrComboBoxUl").show(),r.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").removeClass("caret-right caret-down"),r.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").removeClass(r.IconClassLight.CaretRight+" "+r.IconClassLight.CaretDown),r.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").addClass("caret-down"),r.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").addClass(r.IconClassLight.CaretDown))}return o}drawDataSource(e){r.puma(this._popup).find(".vrComboBoxUl").remove();let t=this.items();null!=e&&(t=this.getFilteredArrayByInputText(e)),1==t.length&&null==t[0]||(this._dictionaryValueLi=new Map,t=t.filter(e=>null==e.parentValue),null!=this._popup&&this.drawItems(t,this._popup))}drawItems(e,t){let i=this.getOptions();if(0==e.length)return;let a=r.puma("<ul class='vrComboBoxUl'></ul>").vrAppendToPuma(t);for(let t of e){null==t.value&&(t.value=t.text);let e=this.getOnlyChildrenItems(t),o=r.puma("<li class='vrComboBoxLi' tabindex='-1'></li>").vrAppendToPuma(a);if(this._dictionaryValueLi.has(String(t.value))){let e=this._dictionaryValueLi.get(String(t.value));e.push(o[0]),this._dictionaryValueLi.set(String(t.value),e)}else this._dictionaryValueLi.set(String(t.value),[o[0]]);if(i.checkboxes||(r.puma(o).on("focusin",t=>{this._focusWithArrows=!0,r.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),0==e.length&&r.puma(t.target).addClass("vrComboBoxSelectedComboValue keydownFocus")}),r.puma(o).on("keydown",e=>{if(e.key==r.KeyEnum.ArrowDown){let t=r.puma(e.currentTarget).next();if(0==t.length)return;for(r.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=r.puma(t).next();t.focus()}else if(e.key==r.KeyEnum.ArrowUp){let t=r.puma(e.currentTarget).prev();if(0==t.length)return;for(r.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=r.puma(t).prev();t.focus()}else e.key==r.KeyEnum.Enter&&r.puma(e.currentTarget).find(".vrComboBoxItemText").mousedown()})),i.treeMode==r.ComboBoxTreeModeEnum.AllCollapsed?null!=t.parentValue&&r.puma(o).closest(".vrComboBoxUl").hide():i.treeMode==r.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded&&r.puma(o).parents(".vrComboBoxUl").length>2&&r.puma(o).closest(".vrComboBoxUl").hide(),e.length>0){let e="",t=r.IconClassLight.CaretRight;i.treeMode==r.ComboBoxTreeModeEnum.AllCollapsed?(t=r.IconClassLight.CaretRight,e="caret-right"):i.treeMode==r.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded?1==r.puma(o).parents(".vrComboBoxUl").length?(t=r.IconClassLight.CaretDown,e="caret-down"):(t=r.IconClassLight.CaretRight,e="caret-right"):(t=r.IconClassLight.CaretDown,e="caret-down");let a=r.puma("<div class='vrComboBoxDivIconExpand "+e+"'></div>").vrAppendToPuma(o);r.puma(n.UtilityManager.createIcon(t)).vrAppendToPuma(a),r.puma(a).click(e=>{r.puma(e.currentTarget).children("i").removeClass(r.IconClassLight.CaretRight+" "+r.IconClassLight.CaretDown),r.puma(e.currentTarget).removeClass("caret-right caret-down");let t=r.puma(e.currentTarget).siblings(".vrComboBoxUl");t.first().is(":visible")?(t.hide(),r.puma(e.currentTarget).children("i").addClass(r.IconClassLight.CaretRight),r.puma(e.currentTarget).addClass("caret-right")):(t.show(),r.puma(e.currentTarget).children("i").addClass(r.IconClassLight.CaretDown),r.puma(e.currentTarget).addClass("caret-down"))})}let l=r.puma("<div class='vrComboBoxDivItemContainer'></div>").vrAppendToPuma(o);if(i.checkboxes){let e=r.puma("<input type='checkbox' class='vrCheckBox'></input>").vrAppendToPuma(l);r.puma(e).click(e=>{let i=e.currentTarget.checked,a=t.value;i?this._checkedValues.push(a):this._checkedValues.vrDelete(a);let n=this.items().filter(e=>e.value==a)[0];if(null!=n&&this.getOnlyChildrenItems(n).length>0){let t=this.getAllChildrenItems(n);e.currentTarget.checked&&this._checkedValues.vrPushRange(t.map(e=>e.value));let i=this.getChildrenCheckboxElements(n,!1);r.puma(i).prop("checked",e.currentTarget.checked);for(let i of t)e.currentTarget.checked||this._checkedValues.vrDelete(i.value)}this._isChecked=e.currentTarget.checked,this._isChecked||this._checkedValues.vrDelete(t.value);let o=[],l=this._dictionaryValueLi.get(String(t.value));for(let e of l){let t=r.puma(e).find(".vrComboBoxItemText")[0];o.push(t)}for(let e of o){if(null==e)continue;let t=r.puma(e).siblings("input");r.puma(t).removeClass("indeterminateVrCheckbox"),r.puma(t).prop("checked",this._isChecked),t[0].checked=this._isChecked}for(let e of this.items().filter(e=>e.value==t.value)){let t=this.manageCheckParent(e);t||null==e.parentValue?t&&null!=e.parentValue&&!this._checkedValues.includes(String(e.parentValue))&&this._checkedValues.push(String(e.parentValue)):this._checkedValues.vrDelete(e.parentValue)}let s=this.manageCheckParent(t);s||null==t.parentValue?s&&null!=t.parentValue&&!this._checkedValues.includes(String(t.parentValue))&&this._checkedValues.push(String(t.parentValue)):this._checkedValues.vrDelete(t.parentValue),this._tempCheckedValue=String(t.value),this._checkedValues=this._checkedValues.vrDistinct(),this.valueInternal(this._checkedValues),this._tempCheckedValue=null})}let s=t.text.replace(/'/g,"&#39;");if(null!=i.template){let e=new r.ComboBoxTemplateEvent;e.dataItem=t,e.element=l[0],e.sender=this,s=i.template(e)}let u=i.checkboxes?"vrComboBoxItemTextCheckbox":"",d=r.puma("<span title='"+t.text+"' text='"+t.text.replace(/'/g,"&#39;")+"' class='vrComboBoxItemText "+u+"'>"+s+"</span>").vrAppendToPuma(l);if(r.puma(d).on("mousedown",e=>{let a=t.value,o=this.items().filter(e=>e.value==a)[0];null==o||this.getRootValues().includes(String(o.value))?n.UtilityManager.interval(()=>r.puma(this.element()).toggleClass("errorInput"),200,800):i.checkboxes?r.puma(e.currentTarget).siblings(".vrCheckBox").click():(this.valueInternal(o.value),this.close())}),null!=i.onItemDataBound){let e=new m;e.sender=this,e.element=d[0],e.dataItem=t,i.onItemDataBound(e)}e.length>0&&this.drawItems(e,o)}}getFilteredArrayByInputText(e){e=e.toLowerCase();let t=[];return this.items().map(e=>String(e.text).toLowerCase()).forEach((i,a)=>{-1!=i.indexOf(e)&&t.push(this.items()[a])}),t}datasource(e,t=!0){return this.items(e,t)}items(e,t=!0){let i=this.getOptions();if(null!=e){let a=n.UtilityManager.duplicate(e);if(null!=i.nullable&&!1!==i.nullable&&a.length>0){let e=new r.ComboBoxItem;e.text="boolean"==typeof i.nullable||null==i.nullable.text?"Non selezionato":i.nullable.text,e.value="boolean"==typeof i.nullable?"":null!=i.nullable.value?i.nullable.value:"0",a.unshift(e)}this._items=a,null==i.webService?(this.drawDataSource(),i.mode==r.ComboBoxTypeEnum.DropDown&&null!=this.items().vrFirst()&&this.valueInternal(this.items().vrFirst().value,t)):(null==this._typedTextWebService&&(this._items=[]),this.drawDataSource(),this._typedTextWebService=null)}return this._items}values(){return this.items().map(e=>e.value)}getCheckedItems(e=!1){let t=this.items().filter(e=>this._checkedValues.includes(String(e.value)));if(e){let e=this.getChildrenValues();t=t.filter(t=>e.includes(String(t.value)))}return t.vrDistinctBy(e=>e.value)}getCheckedValues(e=!1){let t=this._checkedValues.vrDistinct();if(e){let e=this.getChildrenValues();t=t.filter(t=>e.includes(t))}return t}getSelectedItem(){return this.items().filter(e=>e.value==this.value())[0]}addItem(e,t=!0,i=!0,a){this.items().push(e),null!=a&&(null==a.direction&&(a.direction=r.SortDirectionEnum.Asc),this.items().vrSortBy([a.field],a.direction==r.SortDirectionEnum.Asc)),t&&this.items(this.items(),i)}addItems(e,t=!0,i=!0){for(let t of e)this.addItem(t,!1);t&&this.items(this.items(),i)}removeItem(e,t=!0){if("string"==typeof e||"number"==typeof e){let t=this.items().filter(t=>t.value==e)[0];this.items().vrDelete(t)}else this.items().vrDelete(e);t&&this.items(this.items())}removeItems(e,t=!0){for(let t of e)this.removeItem(t,!1);t&&this.items(this.items())}getItemByValue(e){return this.items().filter(t=>String(t.value).toLowerCase()==e.toLowerCase())[0]}getItemByText(e){return this.items().filter(t=>t.text.toLowerCase()==e.toLowerCase())[0]}getElementsByValue(e){return this._dictionaryValueLi.get(e)}getRootItems(){let e=[];for(let t of this.items()){if(null==t)continue;let i=t.parentValue;for(;null!=i;){let t=this.items().filter(e=>e.value==i)[0];e.includes(t)||e.push(t),i=null!=t?t.parentValue:void 0,null!=t&&i==t.value&&(i=void 0)}}return e}getRootValues(){return this.getRootItems().filter(e=>null!=e).map(e=>String(e.value))}getRootTexts(){return this.getRootItems().map(e=>e.text)}getLeafItems(){let e=this.getRootValues();return this.items().filter(t=>!e.includes(String(t.value)))}getLeafValues(){return this.getLeafItems().map(e=>String(e.value))}getLeafTexts(){return this.getLeafItems().map(e=>e.text)}getChildrenItems(){return this.getLeafItems()}getChildrenValues(){return this.getLeafValues()}getChildrenTexts(){return this.getLeafTexts()}getOnlyChildrenItems(e){return this.items().filter(t=>null!=t.parentValue&&t.parentValue==e.value)}getAllChildrenItems(e){return this.getDataChildrenItems(e)}getAllChildrenValues(e){return this.getAllChildrenItems(e).map(e=>String(e.value))}getDataChildrenItems(e){let t=null==e?this.items():this.getOnlyChildrenItems(e),i=[];for(let e of t)i.push(e),this.getOnlyChildrenItems(e).length>0&&i.vrPushRange(this.getDataChildrenItems(e));return i}getChildrenCheckboxElements(e,t=!1,i=!1){let a=this._dictionaryValueLi.get(String(e.value)),n=r.puma(a).find(".vrComboBoxItemText")[0],o=r.puma(n).siblings("input"),l=r.puma(o).parent().parent().find("input"+(t?":checked":"")),s=r.puma(l[0]).siblings(".vrComboBoxItemText")[0];return null!=s&&null!=e.text&&r.puma(s).html().vrRemoveHtml()==e.text.vrRemoveHtml()&&l.splice(0,1),i&&(l=Array.from(l)),l}getParentItem(e){return null!=e.parentValue?this.items().filter(t=>t.value==e.parentValue)[0]:null}manageCheckParent(e){let t=this.getParentItem(e);if(null!=t){let e=this.getChildrenCheckboxElements(t,!0,!0).filter(e=>null!=e&&e.checked),i=this._dictionaryValueLi.get(String(t.value)),a=r.puma(i).find("input")[0];if(null!=a)return r.puma(a).removeClass("indeterminateVrCheckbox"),a.checked=!1,this.getAllChildrenItems(t).length==e.length?(a.checked=!0,!0):0==e.length?(a.checked=!1,!1):(r.puma(a).addClass("indeterminateVrCheckbox"),!1)}}text(e){if(null!=e&&(this._isDivElement?r.puma(this.element()).find(".vrComboBoxSelectedValues")[0].innerHTML=e:this.element().value=e),this._isDivElement){if(null!=r.puma(this.element()).find(".vrComboBoxSelectedValues")[0]){let e=r.puma(this.element()).find(".vrComboBoxSelectedValues")[0].innerHTML,t=this.getSelectedItem();return""==e&&null!=t&&(e=t.text),e}return""}{let e=this.element().value,t=this.getSelectedItem();return""==e&&null!=t&&(e=t.text),null==e&&(e=""),e}}placeholder(e){return null!=e&&(this.element().placeholder=e),this.element().placeholder}valueInternal(e,t=!0){let i=this.getOptions();i.fromInternal="pumo";let a=this.value(e,t,this._callbackAfterValue);return i.fromInternal=null,a}value(e,t=!0,i){if(null===e)return this.clear(),null;let a=this.getOptions();if(null!=e){this._callbackAfterValue=i,"number"==typeof e&&(e=String(e)),null==a.fromInternal&&!0===a.checkboxes&&this.clear(),a.checkboxes||r.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),"string"!=typeof e&&"number"!=typeof e||(e=[String(e)],null!=a.webService&&null==a.fromInternal&&(e={value:String(e),text:""}));let o=null;Array.isArray(e)?e=(e=e.vrDistinct()).vrToStringArrayList():(o=new r.ComboBoxItem,o.text=e.text,o.value=e.value,e=[String(o.value)]),0==e.length?this.hideClearButton():this.showClearButton();let l=n.UtilityManager.duplicate(this._value);this._value=[];for(let t of e){let e=this.items().filter(e=>e.value==t)[0];null!=e&&this._value.push(String(e.value))}if(null!=a.webService&&null!=o)return this._tempValueWebService=[],this._tempValueWebService.push(String(o.value)),this._typedTextWebService=null==o.text?"":o.text,this.doAjaxCall(o.text,!0,t),o.value;if(null==a.webService){let t=this.values();e=e.filter(e=>t.includes(e))}if(this._checkedValues=e,t){let t=new r.ComboBoxChangingEvent;if(null!=a.onBeforeChange){let i=this.getRootValues().includes(this._value[0]),r=null;i&&(r=this.items().filter(t=>t.value==e)[0]),t.sender=this,t.previousValue=l,t.previousCheckedValues=l,t.value=!0===a.checkboxes?this._checkedValues:this._value[0],t.text=this.text(),t.childrenValues=i?this.getAllChildrenValues(r):[],t.checked=this._isChecked,t.isParent=this.getRootValues().includes(this._value[0]),a.onBeforeChange(t)}t.isDefaultPrevented()?(this._value=l,this._callbackAfterValue=null):(this.writeTextByValue(o,e),this.change())}else this.writeTextByValue(o,e),e.length>0&&this.manageCallbackAfterValue()}return null==this._value?null:!0===a.checkboxes?this._value:this._value[0]}manageCallbackAfterValue(){let e=this.getOptions();if(null!=this._callbackAfterValue){let t=e.checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value(),i=this.getRootValues().includes(t),a=null;i&&(a=this.items().filter(e=>e.value==t)[0]);let n=new r.ComboBoxChangeEvent;n.sender=this,n.value=t,n.text=this.text(),n.childrenValues=i?this.getAllChildrenValues(a):[],n.selectedItem=this.getSelectedItem(),n.checked=this._isChecked,n.isParent=i,this._callbackAfterValue(n)}this._callbackAfterValue=null}writeTextByValue(e,t){if(this._isDivElement){r.puma(this.element()).find(".vrComboBoxSelectedValues").remove();let e=this.items().filter(e=>t.includes(String(e.value)));if(e.length>0){let t=this.getOptions();if(1==e.length&&""==e.vrFirst().text)return;if(t.checkboxes){e=e.vrDistinctBy(e=>e.value);let t=e.map(e=>e.value),i=[];for(let e of t){let t=this._dictionaryValueLi.get(String(e));if(null!=t)for(let e of t){let t=r.puma(e).find(".vrComboBoxItemText")[0];i.push(t)}}for(let e of i){if(null==e)continue;let t=r.puma(e).siblings("input");r.puma(t).removeClass("indeterminateVrCheckbox"),r.puma(t).prop("checked",!0),t[0].checked=!0}let a=e.vrDistinctBy(e=>e.parentValue);for(let t of a){this.manageCheckParent(t);let i=this.getParentItem(t);if(null!=i){let t=this.getAllChildrenValues(i);a.map(e=>e.value).every(e=>t.includes(e))&&!e.map(e=>e.value).includes(i.value)&&e.push(i)}}}let i=e.vrDistinctBy(e=>e.value),a=r.puma("<span class='vrComboBoxSelectedValues'>"+(t.onlyIcon?"":i.map(e=>e.text).vrToCommaSeparatedList())+"</span>").vrAppendToPuma(this.element())[0];if(t.onlyIcon)r.puma(this._allCheckedOnlyIcon).hide(),e.length!=this.items().vrDistinctBy(e=>e.value).length||t.textEllipsis||t.mode==r.ComboBoxTypeEnum.DropDown||r.puma(this._allCheckedOnlyIcon).show();else{n.UtilityManager.textWidth(a)>r.puma(a).width()&&i.length>1&&!t.textEllipsis&&r.puma(a).html(i.length+" elementi"),e.length!=this.items().vrDistinctBy(e=>e.value).length||t.textEllipsis||t.mode==r.ComboBoxTypeEnum.DropDown||r.puma(a).html(null!=t.allSelectedMessage?t.allSelectedMessage:"Tutti selezionati")}null!=this._chkCheckAll&&(e.length==this.items().vrDistinctBy(e=>e.value).length?this._chkCheckAll.checked(!0,!1):e.length>0?this._chkCheckAll.checked(r.CheckboxStateEnum.Undefined,!1):this._chkCheckAll.checked(!1,!1))}else null!=this._chkCheckAll&&this._chkCheckAll.checked(!1,!1)}else if(null==e){let e=this.items().filter(e=>e.value==t[0])[0];null!=e&&(this.element().value=e.text.toString())}else this.element().value=e.text}unCheck(e,t=!0){if(null!=this.items().filter(t=>t.value==e)[0]){let i=[],a=this._dictionaryValueLi.get(e);if(null!=a){for(let e of a){let t=r.puma(e).find(".vrComboBoxItemText")[0];i.push(t)}for(let e of i){if(null==e)continue;let t=r.puma(e).siblings("input");r.puma(t).removeClass("indeterminateVrCheckbox"),r.puma(t).prop("checked",!1),t[0].checked=!1}}this._checkedValues.vrDelete(e),this.value(this.getCheckedValues(),t)}}select(e=0,t=!0){this.getOptions().mode==r.ComboBoxTypeEnum.DropDown&&null!=this.items()[e]&&this.valueInternal(this.items()[e].value,t)}index(e=0,t=!0){this.select(e,t)}isEmpty(){return null==this.value()||""==this.value()}error(){this.element().style.cssText+="border-bottom: solid 1px red;"}hideError(){this.element().style.cssText+="border-bottom: solid 1px #CCC;"}checkAll(e=!0){this._checkedValues=this.items().map(e=>String(e.value)),this._checkedValues=this._checkedValues.vrDistinct(),this.valueInternal(this.items().map(e=>String(e.value)),e),null!=this._chkCheckAll&&this._chkCheckAll.checked(!0,!1)}unCheckAll(e=!0){this._checkedValues=[],r.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),r.puma(this._popup).find("input").removeClass("indeterminateVrCheckbox");for(let e of Array.from(r.puma(this._popup).find("input")))r.puma(e).prop("checked",!1),e.checked=!1;this.valueInternal([],e),null!=this._chkCheckAll&&this._chkCheckAll.checked(!1,!1),this.getOptions().onlyIcon&&r.puma(this._allCheckedOnlyIcon).hide()}clear(e=!1){let t=this.getOptions();if(r.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),this.unCheckAll(!1),this.hideClearButton(),r.puma(this._popup).find("li").show(),this._value=null,this._isDivElement)if(t.mode==r.ComboBoxTypeEnum.DropDown){let e=this.items().vrFirst();if(null!=e){let t=this.getOnlyChildrenItems(e);0==t.length?this.valueInternal(e.value,!1):this.valueInternal(t.vrFirst().value,!1)}else r.puma(this.element()).find(".vrComboBoxSelectedValues").remove()}else r.puma(this.element()).find(".vrComboBoxSelectedValues").remove();else this.element().value="";if(!0===t.filter&&null!=r.puma(this._popup).find(".vrComboBoxFilter")[0]&&(r.puma(this._popup).find(".vrComboBoxFilter")[0].value=""),null!=t.webService&&(this._items=[],r.puma(this._popup).find(".vrComboBoxUl").remove()),e&&this.change(),null!=t.onClear){let e=new r.ComboBoxClearEvent;e.sender=this,t.onClear(e)}}clearItems(){this._items=[],this.clear(),r.puma(this._popup).find(".vrComboBoxUl").remove()}popup(){return r.puma(this._popup)[0]}focus(e=!0){this._openPopupAfterFocus=e,r.puma(this.element()).focus()}getOptions(){return this.options()}doAjaxCall(e="",t=!1,i=!0){let a=this.getOptions();if(null==a.webService)return;null==a.webService.typedTextPropertyName&&(a.webService.typedTextPropertyName="text"),null==a.webService.typedValuePropertyName&&(a.webService.typedValuePropertyName="value"),null==a.webService.itemsPropertyName&&(a.webService.itemsPropertyName="items");let o={};if(o[a.webService.typedTextPropertyName]=e,t&&(o[a.webService.typedValuePropertyName]=this._tempValueWebService[0]),null==a.webService.authKey&&(a.webService.authKey=""),null!=a.webService.parameters){let e=a.webService.parameters(),t=Object.getOwnPropertyNames(e);for(let i of t)o[i]=e[i]}this._lastAjaxCallGuid=n.UtilityManager.createGuid(),o.guid=this._lastAjaxCallGuid,n.UtilityManager.doAjaxCall({mode:r.WebApiModeEnum.Async,authKey:a.webService.authKey,method:a.webService.method,request:o},r=>{if(null!=this._lastAjaxCallGuid&&null!=r.guid&&this._lastAjaxCallGuid!=r.guid)return;let n="";if(t){let e=r[a.webService.itemsPropertyName].filter(e=>e.value==this._tempValueWebService[0])[0];null!=e&&(this.items([e],!1),n=e.value)}else this._typedTextWebService=e,this.items(r[a.webService.itemsPropertyName]),null!=this._value&&(n=this._value[0]);if(""!=n&&null!=n)this.valueInternal(n,i);else if(i){let e=a.checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value();""!=e&&null!=e&&this.change()}},()=>this._callbackAfterValue=null)}showClearButton(){!1!==this.getOptions().clearButton&&r.puma(this.container()).find(".vrDivComboBoxClearIcon").show()}hideClearButton(){r.puma(this.container()).find(".vrDivComboBoxClearIcon").hide()}button(){return this._btnCombo}buttonVisible(e){return null!=e&&(this.button().visible(e),e?this._divPickerIcon.classList.add("vrComboDivPickerWithButton"):this._divPickerIcon.classList.remove("vrComboDivPickerWithButton")),this.button().visible()}showButton(){this.buttonVisible(!0)}hideButton(){this.buttonVisible(!1)}buttonEnabled(e){return null!=e&&this.button().enabled(e),this.button().enabled()}enableButton(){this.buttonEnabled(!0)}disableButton(){this.buttonEnabled(!0)}enable(){super.enable(),r.puma(this.container()).find(".vrDivPickerIconComboBox").removeClass("vrDivPickerIconDisable"),r.puma(this.container()).find(".vrDivPickerIconComboBoxDropDown").removeClass("vrDivPickerIconDisable"),null!=this._btnCombo&&this._btnCombo.enable(),null!=this._chkCheckAll&&this._chkCheckAll.enable()}disable(){super.disable(),r.puma(this.container()).find(".vrDivPickerIconComboBox").addClass("vrDivPickerIconDisable"),r.puma(this.container()).find(".vrDivPickerIconComboBoxDropDown").addClass("vrDivPickerIconDisable"),null!=this._btnCombo&&this._btnCombo.disable(),null!=this._chkCheckAll&&this._chkCheckAll.disable()}change(e){let t=this.getOptions().onAfterChange;if(null!=t){let e=this.getOptions().checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value(),i=this.getRootValues().includes(e),a=null;i&&(a=this.items().filter(t=>t.value==e)[0]);let n=new r.ComboBoxChangeEvent;n.sender=this,n.value=e,n.text=this.text(),n.childrenValues=i?this.getAllChildrenValues(a):[],n.selectedItem=this.getSelectedItem(),n.checked=this._isChecked,n.isParent=i,t(n)}this.manageCallbackAfterValue(),null!=e&&e()}}t.ComboBox=s;t.DropDown=class extends s{};class u extends a.VrControlsEvent{}class d extends a.VrControlsEvent{}class c extends a.VrControlsEvent{}class p extends a.VrControlsEvent{}class h extends a.VrControlsEvent{}class m extends a.VrControlsEvent{}class f extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonBadgeSettings=t.Button=t.ButtonOptions=void 0;const a=i(0),r=i(1);class n extends r.VrControlOptions{}t.ButtonOptions=n;class o extends r.VrControl{constructor(e,t){if(null==t&&(t=new n),null==t.text&&(t.text=""),null==t.mode&&(t.mode=a.ButtonModeEnum.Default),null==t.iconSettings&&(t.iconSettings=new a.IconSettings),null==t.iconSettings.position&&(t.iconSettings.position=a.PositionEnum.Left),super(e,t,a.ControlTypeEnum.Button),null==t.width?this.element().style.cssText+="min-width: 27px;":this.element().style.cssText+="width: 100%;",null!=t.colorSettings){let e=t.colorSettings;null!=e.textColor&&this.color(e.textColor),null!=e.background&&this.backgroundColor(e.background),null!=e.border&&this.borderColor(e.border)}this.mode(t.mode),null!=t.icon?this.icon(t.icon):null!=t.imageUrl&&this.imageUrl(t.imageUrl),this.text(t.text),null!=t.tooltip&&this.tooltip(t.tooltip),null!=t.value&&a.puma(this.element()).attr("value",t.value);let i="#FFF",r="red",o="",l=!1;null!=t.badgeSettings&&(null!=t.badgeSettings.text&&(o=String(t.badgeSettings.text)),null!=t.badgeSettings.color&&(i=t.badgeSettings.color),null!=t.badgeSettings.backgroundColor&&(r=String(t.badgeSettings.backgroundColor)),null!=t.badgeSettings.visible&&(l=t.badgeSettings.visible));let s=a.puma("<span class='vrButtonBadgeClass'>"+o+"</span>")[0];s.innerHTML=o,a.puma(e).after(s),null!=t.tooltip&&(s.title=t.tooltip),s.style.cssText+="color: "+i+"; background-color: "+r+";",""!=o&&null!=o||l||a.puma(s).hide(),null!=t.badgeSettings&&null!=t.badgeSettings.click?a.puma(s).on("mousedown",e=>{let i=new c;switch(i.sender=this,i.text=this.badge(),e.button){case 0:i.leftButton=!0;break;case 1:i.middleButton=!0;break;case 2:i.rightButton=!0}t.badgeSettings.click(i)}):null!=t.onClick&&a.puma(s).on("mousedown",e=>(this._mouseDownEvent=e,this.click(),!1));let p=!1;a.puma(e).on("mousedown",e=>(p=!0,this._mouseDownEvent=e,this.click(),e.preventDefault(),!1)),a.puma(e).on("click",e=>(p?p=!1:this.click(),e.preventDefault(),!1)),a.puma(this.container()).hover(()=>{if(null!=t.onHover){let e=new u;e.sender=this,t.onHover(e)}}),a.puma(this.container()).mouseleave(()=>{if(null!=t.onBlur){let e=new d;e.sender=this,t.onBlur(e)}})}text(e){let t=this.getOptions();if(null!=e){a.puma(this.element()).find(".vrButtonSpanText").remove();let i=a.span(this.element(),{class:"vrButtonSpanText"}),r=t.iconSettings.position;r==a.PositionEnum.Left?a.puma(this.element()).vrAppendPuma(i):r==a.PositionEnum.Right&&a.puma(this.element()).vrPrependPuma(i),i.innerHTML=e,t.text=e}return t.text}value(e){return this.text(e)}tooltip(e){return null!=e&&(this.element().title=String(e)),this.element().title}badge(e){return null!=e&&(a.puma(this.container()).find(".vrButtonBadgeClass").html(e),this.showBadge()),a.puma(this.container()).find(".vrButtonBadgeClass").html()}showBadge(){a.puma(this.container()).find(".vrButtonBadgeClass").show()}hideBadge(){a.puma(this.container()).find(".vrButtonBadgeClass").hide()}mode(e){return null!=e&&(a.puma(this.element()).removeClass([a.ButtonModeEnum.Default,a.ButtonModeEnum.Primary,a.ButtonModeEnum.Delete,a.ButtonModeEnum.Excel,a.ButtonModeEnum.Primary].join(" ")),a.puma(this.element()).addClass(e)),this.element().className.split(/\s+/).filter(e=>e.endsWith("Mode"))[0]}colorSettings(e){let t=this.getOptions();return null!=e&&(t.colorSettings=e,null!=e.textColor&&this.color(e.textColor),null!=e.background&&this.backgroundColor(e.background),null!=e.border&&this.borderColor(e.border)),t.colorSettings}color(e){return null!=e&&(this.element().style.cssText+="color: "+e),a.puma(this.element()).css("color")}backgroundColor(e){return null!=e&&(this.element().style.cssText+="background-color: "+e),a.puma(this.element()).css("background-color")}borderColor(e){return null!=e&&(this.element().style.cssText+="border-color: "+e),a.puma(this.element()).css("border-color")}icon(e,t,i=""){let r=this.getOptions();null==t&&(t=r.iconSettings.position);let n=a.puma(this.element()).find(".vrIcon")[0];if(null!=e){if(null!=n){let t=n.className.split(/\s+/).filter(e=>e.startsWith("fa-"));for(let e of t)n.classList.remove(e);a.puma(n).addClass(e)}else{let i=this.options(),r="";null!=i.text&&""!=i.text&&(t==a.PositionEnum.Left?r="margin-right: 5px;":t==a.PositionEnum.Right&&(r="margin-left: 5px;"));let n="",o="",l="",s=i.iconSettings;null!=s.id&&(o="id = '"+s.id+"'"),null!=s.css&&(l+=s.css+";"),null!=s.fontSize&&("number"==typeof s.fontSize&&(s.fontSize=s.fontSize+"px"),l+="font-size: "+s.fontSize+";"),null!=s.color&&(l+="color: "+s.color+";"),null!=s.class&&(n+=s.class),null!=s.cursor&&(l+="cursor: "+s.cursor+";");let u="<i class='"+e+" vrIcon "+n+"' aria-hidden='true' style='position: relative; top: -1px;"+r+" "+l+"' id='"+o+"'></i>";t==a.PositionEnum.Left?a.puma(this.element()).vrPrependPuma(u):t==a.PositionEnum.Right&&a.puma(this.element()).vrAppendPuma(u)}""!=i&&a.puma(n).attr("title",i)}return n}imageUrl(e,t){let i=this.getOptions();null==t&&(t=i.iconSettings.position);let r=a.puma(this.element()).find(".vrImageUrl")[0];if(null!=e){null!=r&&a.puma(r).remove();let i=this.options(),n="";null!=i.text&&""!=i.text&&(t==a.PositionEnum.Left?n="margin-right: 5px;":t==a.PositionEnum.Right&&(n="margin-left: 5px;")),t==a.PositionEnum.Left?a.puma(this.element()).prepend("<img src='"+e+"' vrImageUrl' style='width: 16px; height: 16px; float: left;"+n+"' />"):t==a.PositionEnum.Right&&a.puma(this.element()).vrAppendPuma("<img src='"+e+"' vrImageUrl' style='width: 16px; height: 16px; float: right;"+n+"' />")}return r=a.puma(this.element()).find(".vrImageUrl")[0],r}getOptions(){return this.options()}click(e){let t=this.getOptions();null!=t.confirmationMessage?a.confirm(t.confirmationMessage).then(()=>this.internalClick(e),()=>this.rejectedConfirm()):this.internalClick(e)}internalClick(e){let t=new s;if(null!=this._mouseDownEvent){let e=null;switch(this._mouseDownEvent.button){case 0:e=this.options().onClick;break;case 1:e=this.options().onMiddleClick;break;case 2:e=this.options().onRightClick}null!=e&&(t.sender=this,t.text=this.text(),e(t)),this._mouseDownEvent=null}else{let e=this.options().onClick;null!=e&&(t.sender=this,t.text=this.text(),e(t))}if(null!=e){let t=new s;t.sender=this,t.text=this.text(),e(t)}}rejectedConfirm(){let e=this.getOptions();null!=e.onRejectedConfirm&&e.onRejectedConfirm()}}t.Button=o;class l extends r.VrControlsEvent{}class s extends l{}class u extends l{}class d extends l{}t.ButtonBadgeSettings=class{};class c{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderManager=void 0;const a=i(0);t.LoaderManager=class{static show(e,t=!0,i){null==i&&(i="vrLoadingTemp"),this.addCss();let r=null;null==e?r=document.body:"string"==typeof e?(e.startsWith("#")||(e="#"+e),r=a.puma(e)[0]):r=a.puma(e)[0];let n="0.5";t||(n="1");let o=a.puma(r).outerWidth(),l=a.puma(r).outerHeight(),s="100%",u="100%",d="80px",c="80px";s=o+"px",u=l+"px";let p=80*l/100;p>80&&(p=80);let h=80*l/100;h>80&&(h=80);let m="Calc(50%\t-\t50px)",f="Calc(50%\t-\t50px)";m=0+o/2-p/2-16+"px",f=0+l/2-h/2-16+"px","absolute"!=a.puma(r).css("position")&&a.puma(r).css("position","relative");let g=25e5;g=String(a.puma(r).css("z-index")).vrGetNumericPart()+1,r==document.body&&(g=999999999);let v=document.createElement("div");v.setAttribute("id","loaderManager_background"),v.setAttribute("class","loaderManager_background"),v.setAttribute("style","position:\tabsolute;\tleft:\t0;\ttop:\t0;\tz-index:\t"+g.toString()+";\tbackground-color:\t#FFF;\topacity:\t"+n+";\twidth:\t"+s+";\theight:\t"+u+";"),v.setAttribute("tag",i),a.puma(v).vrAppendToPuma(r),d=p+"px",c=h+"px",a.puma("<div class='loaderManager_loader' tag='"+i+"'style='position: absolute; left: "+m+"; top: "+f+"; width: "+d+"; height:\t"+c+";'><div></div><div></div><div></div><div></div></div>").vrAppendToPuma(r)}static hide(e){null==e?(a.puma("#loaderManager_background[tag='vrLoadingTemp']").remove(),a.puma(".loaderManager_loader[tag='vrLoadingTemp']").remove()):(a.puma(".loaderManager_background[tag='"+e+"']").remove(),a.puma(".loaderManager_loader[tag='"+e+"']").remove())}static addCss(){null==a.puma("head").find("style[id='vr_loader']")[0]&&this.addCssBase("\n\t\t\t\t.loaderManager_loader\t{\n\t\t\t\t\t\tdisplay:\tinline-block;\n\t\t\t\t\t\tz-index:\t9999999999999999999999999999999999999;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv\t{\n\t\t\t\t\t\tposition:\tabsolute;\n\t\t\t\t\t\ttop:\t33px;\n\t\t\t\t\t\twidth:\t13px;\n\t\t\t\t\t\theight:\t13px;\n\t\t\t\t\t\tborder-radius:\t50%;\n\t\t\t\t\t\tbackground:\t#51B3E1;\n\t\t\t\t\t\tanimation-timing-function:\tcubic-bezier(0,1,1,0);\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(1)\t{\n\t\t\t\t\t\tleft:\t8px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader1 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(2)\t{\n\t\t\t\t\t\tleft: 8px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader2 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(3)\t{\n\t\t\t\t\t\tleft: 32px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader2 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(4)\t{\n\t\t\t\t\t\tleft: 56px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader3 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t@keyframes\tloaderManager_loader1\t{\n\t\t\t\t\t\t0%\t{\n\t\t\t\t\t\t\t\ttransform: scale(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100%\t{\n\t\t\t\t\t\t\t\ttransform: scale(1);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@keyframes\tloaderManager_loader3\t{\n\t\t\t\t\t\t0%\t{\n\t\t\t\t\t\t\t\ttransform: scale(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100%\t{\n\t\t\t\t\t\t\t\ttransform: scale(0);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@keyframes\tloaderManager_loader2\t{\n\t\t\t\t\t\t0%\t{\n\t\t\t\t\t\t\t\ttransform: translate(0, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100%\t{\n\t\t\t\t\t\t\t\ttransform: translate(24px, 0);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t")}static addCssBase(e){a.puma("<style id='vr_loader'>"+e+"</style>").vrAppendToPuma("head")}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupIconClickEvent=t.ButtonGroupClickEvent=t.ButtonGroup=t.ButtonGroupOptions=void 0;const a=i(1),r=i(0),n=i(2);class o extends a.VrControlOptions{}t.ButtonGroupOptions=o;class l extends a.VrControl{constructor(e,t){null==t&&(t=new o),null==t.selectionMode&&(t.selectionMode=r.SelectionModeEnum.Single),null==t.checkboxes&&(t.checkboxes=!1),null==t.items&&(t.items=[]),null==t.tooltip&&(t.tooltip=!1),super(e,t,r.ControlTypeEnum.ButtonGroup),this.element().style.cssText+="display: inline-block;",this._btnScrollBack=r.createButton({icon:r.IconClassLight.CaretLeft,visible:!1,enable:!1,colorSettings:{background:"#f1f1f1"},css:"border-top-right-radius: 0px; border-bottom-right-radius: 0px;",onClick:e=>{let t=r.puma(this.element()).scrollLeft();r.puma(this.element()).animate({scrollLeft:t-20},10),this._btnScrollForward.enable(),t-20<=0&&this._btnScrollBack.disable()}},this.container()),r.puma(this._btnScrollBack.container()).vrInsertBeforePuma(this.element()),this._btnScrollForward=r.createButton({icon:r.IconClassLight.CaretRight,visible:!1,colorSettings:{background:"#f1f1f1"},css:"border-top-left-radius: 0px; border-bottom-left-radius: 0px;",onClick:e=>{let t=r.puma(this.element()).scrollLeft();r.puma(this.element()).animate({scrollLeft:t+20},10),this._btnScrollBack.enable(),t+20>=this.element().scrollWidth-this.element().offsetWidth&&this._btnScrollForward.disable()}},this.container()),r.puma(this._btnScrollForward.container()).vrInsertAfterPuma(this.element()),this._items=[],null!=t.items&&this.items(t.items)}items(e){if(null!=e){this._populating=!0;for(let t of e)this.addItem(t);this.manageScrolling(),this._populating=!1}return this._items}addItem(e){this.items().push(e);let t=this.getOptions(),i=r.puma("<span></span>").vrAppendToPuma(this.element())[0];r.puma(i).addClass("buttonGroupItem");let a=null;t.checkboxes&&(a=r.createCheckBox({checked:!0===e.selected,onCheck:e=>r.puma(i).click()},i),r.puma(a.element()).attr("value",e.value));let o=null;null!=e.icon?o=n.UtilityManager.createIcon(e.icon):null!=e.imageUrl&&(o=r.puma("<img src='"+e.imageUrl+"' />")[0]),null!=o&&(r.puma(i).vrAppendPuma(o),null!=e.onIconClick&&r.puma(o).on("click",t=>{let a=new h;a.sender=this,a.value=r.puma(i).attr("value"),a.selected=r.puma(i).hasClass("buttonGroupItemSelected"),e.onIconClick(a)})),null==e.text&&(e.text="");let l="";null==e.icon&&null==e.imageUrl||(l="margin-left: 5px;");let s=r.puma("<span class='buttonGroupItemText' style='height: 23px; "+l+"'>"+e.text+"</span>").vrAppendToPuma(i);if(""!=e.text){let i="";null!=e.tooltip?i=e.tooltip:t.tooltip&&(i=e.text),""!=i&&r.puma(s).attr("title",i)}if(r.puma(i).attr("value",e.value),!0===e.selected&&(t.checkboxes?a.check():r.puma(i).addClass("buttonGroupItemSelected")),null!=e.colorSettings){let t=e.colorSettings;null!=t.textColor&&r.puma(i).css("color",t.textColor),null!=t.background&&r.puma(i).css("background-color",t.background),null!=t.border&&r.puma(i).css("border-color",t.border)}if(!1===e.visible&&r.puma(i).hide(),!1===e.enable&&r.puma(i).attr("disabled","disabled"),r.puma(i).click(a=>{if(this.enabled()&&null==r.puma(i).attr("disabled")){if(t.selectionMode==r.SelectionModeEnum.Single&&this.clear(),t.checkboxes){let e=r.puma(a.currentTarget).find(".vrCheckBox")[0];e.checked=!e.checked}else r.puma(a.currentTarget).toggleClass("buttonGroupItemSelected");this.changeItem(r.puma(a.currentTarget).attr("value"),r.puma(a.currentTarget).hasClass("buttonGroupItemSelected"),e),this.changeGlobal(r.puma(a.currentTarget).attr("value"),r.puma(a.currentTarget).hasClass("buttonGroupItemSelected"),e)}else a.preventDefault()}),this._populating||this.manageScrolling(),null!=e.css&&(i.style.cssText+=e.css),null!=t.onItemAdded){let i=new d;i.sender=this,i.value=String(e.value),t.onItemAdded(i)}}manageScrolling(){r.puma(this.element()).vrHasScrollBar(!0)?(this._btnScrollBack.show(),this._btnScrollForward.show(),r.puma(r.puma(this.element()).find(".buttonGroupItem")[0]).css({"border-top-left-radius":"0px","border-bottom-left-radius":"0px","border-left":"none"}),r.puma(r.puma(this.element()).find(".buttonGroupItem")[this.items().length-1]).css({"border-top-right-radius":"0px","border-bottom-right-radius":"0px","border-right":"none"})):(this._btnScrollBack.hide(),this._btnScrollForward.hide(),r.puma(r.puma(this.element()).find(".buttonGroupItem")[0]).css({"border-top-left-radius":"4px","border-bottom-left-radius":"4px","border-left":"solid 1px #d9d9d9"}),r.puma(r.puma(this.element()).find(".buttonGroupItem")[this.items().length-1]).css({"border-top-right-radius":"4px","border-bottom-right-radius":"4px","border-right":"solid 1px #d9d9d9"}))}item(e){return this.items().filter(t=>t.value==e)[0]}removeItem(e){let t=this.getOptions();r.puma(this.container()).find(".buttonGroupItem[value='"+e+"']").remove();let i=this.items().map(e=>e.value).indexOf(e);if(-1!=i&&this.items().splice(i,1),this.manageScrolling(),null!=t.onItemRemoved){let i=new c;i.sender=this,i.value=e,t.onItemRemoved(i)}}showItems(e){for(let t of e)this.showItem(t)}showItem(e){r.puma(this.container()).find(".buttonGroupItem[value='"+e+"']").show(),this.manageScrolling()}showAllItems(){let e=this.items().map(e=>e.value);this.showItems(e)}hideItems(e){for(let t of e)this.hideItem(t)}hideItem(e){r.puma(this.container()).find(".buttonGroupItem[value='"+e+"']").hide(),this.manageScrolling()}hideAllItems(){let e=this.items().map(e=>e.value);this.hideItems(e)}visibleItem(e,t){let i=r.puma(this.container()).find(".buttonGroupItem[value='"+e+"']");return null!=t&&(t?i.show():i.hide()),this.manageScrolling(),i.is(":visible")}select(e,t=!0){let i=this.getOptions();i.selectionMode==r.SelectionModeEnum.Single&&this.clear();for(let a of e)i.checkboxes?r.puma(this.container()).find(".buttonGroupItem .vrCheckBox[value='"+a+"']")[0].checked=!0:r.puma(this.container()).find(".buttonGroupItem[value='"+a+"']").addClass("buttonGroupItemSelected"),t&&this.changeItem(String(a));if(t){let t=null;this.selectionMode()==r.SelectionModeEnum.Single&&(t=e.vrFirst()),this.changeGlobal(String(t))}}selectIndex(e,t=!0){let i=this.getOptions();i.selectionMode==r.SelectionModeEnum.Single&&this.clear(),i.checkboxes?r.puma(this.container()).find(".buttonGroupItem .vrCheckBox")[e].checked=!0:r.puma(r.puma(this.container()).find(".buttonGroupItem")[e]).addClass("buttonGroupItemSelected");let a=this.getItemByIndex(e),n=r.puma(a).attr("value");t&&this.changeItem(String(n)),t&&this.changeGlobal(String(n))}changeGlobal(e,t,i){null==i&&(i=this.items().filter(t=>t.value==e)[0]);let a=this.getOptions();if(null!=a.onSelect){let i=new u;i.sender=this,i.value=e,i.selected=t,i.selectedValues=this.getSelectedValues(),window.setTimeout(()=>a.onSelect(i))}}changeItem(e,t=!0,i){if(null==i&&(i=this.items().filter(t=>t.value==e)[0]),null!=i&&null!=i.onClick){let a=new p;a.sender=this,a.value=e,a.selected=t,i.onClick(a)}}getSelectedValues(){return this.getOptions().checkboxes?Array.from(r.puma(this.container()).find(".buttonGroupItem .vrCheckBox:checked")).map(e=>r.puma(e).attr("value")):Array.from(r.puma(this.container()).find(".buttonGroupItem.buttonGroupItemSelected")).map(e=>r.puma(e).attr("value"))}value(){return r.puma(r.puma(this.container()).find(".buttonGroupItem.buttonGroupItemSelected")).attr("value")}clear(){if(r.puma(this.container()).find(".buttonGroupItem").removeClass("buttonGroupItemSelected"),this.getOptions().checkboxes)for(let e of Array.from(r.puma(this.container()).find(".buttonGroupItem .vrCheckBox")))e.checked=!1}selectionMode(){return this.getOptions().selectionMode}getItemByValue(e){return r.puma(this.container()).find(".buttonGroupItem[value='"+e+"']")[0]}getItemByIndex(e){return r.puma(this.container()).find(".buttonGroupItem")[e]}itemTooltip(e,t){let i=this.getItemByValue(e);return null!=t&&(r.puma(i).find(".buttonGroupItemText")[0].title=t),r.puma(i).find(".buttonGroupItemText")[0].title}itemText(e,t,i=!0){let a=this.getItemByValue(e),n=r.puma(a).find(".buttonGroupItemText")[0];return null!=t&&null!=n&&(n.innerHTML=t,i&&(n.title=t)),null!=n?n.innerHTML:""}itemTextByIndex(e,t){let i=this.getItemByIndex(e);return null!=t&&(r.puma(i).find(".buttonGroupItemText")[0].innerHTML=t),r.puma(i).find(".buttonGroupItemText")[0].innerHTML}enableItem(e){let t=this.getItemByValue(e);r.puma(t).removeAttr("disabled")}disableItem(e){let t=this.getItemByValue(e);r.puma(t).attr("disabled","disabled")}enable(){super.enable();for(let e of this.items())this.enableItem(e.value)}disable(){super.disable();for(let e of this.items())this.disableItem(e.value)}getOptions(){return this.options()}}t.ButtonGroup=l;class s extends a.VrControlsEvent{}class u extends s{}class d extends s{}class c extends s{}class p extends s{}t.ButtonGroupClickEvent=p;class h extends s{}t.ButtonGroupIconClickEvent=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitButtonItem=t.SplitButton=t.SplitButtonOptions=void 0;const a=i(0),r=i(1),n=i(2);class o extends r.VrControlOptions{}t.SplitButtonOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.text&&(t.text=""),null==t.items&&(t.items=[]),null==t.hoverMode&&(t.hoverMode=!1),null==t.modal&&(t.modal=!1),null==t.showDefault&&(t.showDefault=!0),null==t.separator&&(t.separator=!1),null==t.tabIndex&&(t.tabIndex=-1);let i=t.width;if(t.width=void 0,super(e,t,a.ControlTypeEnum.SplitButton),this._itemButtonList=[],this._btnMain=a.createButton({text:t.text,icon:t.icon,imageUrl:t.imageUrl,colorSettings:t.colorSettings,tooltip:t.tooltip,enable:t.enable,width:i,tabIndex:t.tabIndex,css:"border-top-right-radius: 0px; border-bottom-right-radius: 0px;"+(null!=t.onClick?"background-color: #f8f8f8;":""),onClick:e=>{null!=t.onClick?this.click():a.puma(this._popup).is(":visible")?this.close():this.open()},onHover:e=>{t.hoverMode&&this.open(),a.puma(u).addClass("hoverClass")},onBlur:e=>{a.puma(u).removeClass("hoverClass")}},this.element(),null,e.id+"btnMain"),a.puma(this.container()).mouseleave(e=>{t.hoverMode&&e.relatedTarget!=this._popup&&this.close()}),null!=t.onClick&&t.showDefault){let e=new s;e.text=t.text,e.icon=t.icon,e.imageUrl=t.imageUrl,e.colorSettings=t.colorSettings,e.onClick=t.onClick,t.items.splice(0,0,e)}this.items(t.items);let r=null!=t.onClick?"vrDivPickerIconSplitButton":"vrDivPickerIconSplitButtonFlat",l=n.UtilityManager.createIcon(a.IconClassLight.CaretDown),u=a.puma("<div class='"+r+"'></div>").vrAppendToPuma(this.element())[0];a.puma(u).vrAppendPuma(l),a.puma(u).click(()=>{a.puma(this._popup).is(":visible")?this.close():this.open()}),a.puma(u).on("mouseenter",e=>a.puma(this._btnMain.element()).addClass("hoverClass")),a.puma(u).on("mouseleave",e=>a.puma(this._btnMain.element()).removeClass("hoverClass")),window.addEventListener("click",e=>{a.puma(this._popup).is(":visible")&&!a.puma(this.container())[0].contains(e.target)&&this.close()}),(null!=a.shadowRoot()?a.shadowRoot():document).addEventListener("scroll",e=>{!a.puma(e.target).hasClass("splitButton_divPopup")&&a.puma(this._popup).is(":visible")&&this.close()},!0)}open(){if(!this.enabled())return;let e=this.getOptions();if(null==this._popup&&(this._popup=a.puma("<div class='splitButton_divPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=a.shadowRoot()?a.shadowRoot():document.body)[0]),a.puma(this._popup).attr("tabindex","0"),this._popup.style.cssText+="min-width: 100px;",a.puma(this._popup).mouseleave(t=>{e.hoverMode&&this.close()}),e.modal){a.puma("#vrWindowBackground_"+this.element().id).remove();let e=a.puma("<div class='vrWindowBackground' id='vrWindowBackground_"+this.element().id+"'></div>").vrAppendToPuma(document.body)[0];a.puma(e).show(),a.puma(e).css("z-index",Number(a.puma(this._popup).css("z-index"))-1),a.puma(e).click(()=>this.close())}this._itemButtonList=[],this.items(this.items()),super.settingPopup(this._popup,e.popupSettings)}close(){a.puma(this._popup).remove(),this._popup=null,a.puma("#vrWindowBackground_"+this.element().id).remove()}items(e){if(null!=e){this._items=e;let t=0;for(let i of e)if(!0!==i.separator)this.drawItem(i,t),t++;else{let e=null!=i.value?"value='"+i.value+"'":"value='separator'",t=a.puma("<div "+e+"></div>").vrAppendToPuma(this._popup),r=a.createSeparator({tag:null==i.value?"separator":i.value,orientation:a.OrientationEnum.Horizontal,visible:i.visible,cssContainer:"margin-top: -8px !important; margin-bottom: 5px !important;"},t);this._itemButtonList.push(r)}}return this._items}drawItem(e,t){let i=this.getOptions();null==t&&(t=-1);let r=null!=e.value?"value='"+e.value+"'":"";null==e.text||null!=r&&""!=r||(r="value='"+e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+"'");let n=a.puma("<div class='vrSplitButton_divItemContainer' "+r+"></div>").vrAppendToPuma(this._popup),o=a.createButton({text:e.text,icon:e.icon,imageUrl:e.imageUrl,mode:e.mode,colorSettings:e.colorSettings,confirmationMessage:e.confirmationMessage,tooltip:e.tooltip,visible:e.visible,enable:e.enable,tag:e.value,width:"100%",css:"width: 100%; text-align: left; border: none;"+e.css,cssContainer:e.cssContainer+";"+(i.separator?"border-bottom: solid 1px #dedede;":""),class:e.class,tabIndex:i.tabIndex,onClick:t=>{if(this.close(),null!=e.onClick){let t=new u;t.sender=this,t.item=e,e.onClick(t)}if(null!=i.onSelect){let t=new c;t.text=i.text,t.value=String(e.value),t.mainButton=!1,i.onSelect(t)}}},n);null!=e.value&&a.puma(o.element()).attr("value",e.value),this._itemButtonList.push(o)}addItem(e){this.drawItem(e),this._items.push(e)}removeItem(e){a.puma(this._popup).find(".vrSplitButton_divItemContainer[value='"+e+"']").remove(),this._items.vrDeleteAllBy(t=>t.value==e)}clearItems(){a.puma(this._popup).empty(),this._items=[],this._itemButtonList=[]}enable(){super.enable(),a.puma(this.container()).find(".vrDivPickerIconSplitButton").removeClass("vrDivPickerIconDisable"),a.puma(this.container()).find(".vrDivPickerIconSplitButtonFlat").removeClass("vrDivPickerIconDisable"),null!=this._btnMain&&this._btnMain.enable()}disable(){super.disable(),a.puma(this.container()).find(".vrDivPickerIconSplitButton").addClass("vrDivPickerIconDisable"),a.puma(this.container()).find(".vrDivPickerIconSplitButtonFlat").addClass("vrDivPickerIconDisable"),null!=this._btnMain&&this._btnMain.disable()}itemVisible(e,t){let i=this._itemButtonList.filter(t=>t.tag()==e)[0];if(null!=t){i.visible(t);let a=this._items.findIndex(t=>t.value==e);this._items[a].visible=t}return i.visible()}showItem(e){this.itemVisible(e,!0)}hideItem(e){this.itemVisible(e,!1)}itemEnable(e,t){let i=this._itemButtonList.filter(t=>t.tag()==e)[0];if(null!=t){i.enabled(t);let a=this._items.findIndex(t=>t.value==e);this._items[a].enable=t}return i.enabled()}enableAllItems(){this.enableItems(this.items().map(e=>String(e.value)))}enableItems(e){for(let t of e)this.enableItem(t)}enableItem(e){this.itemEnable(e,!0)}disableAllItems(){this.disableItems(this.items().map(e=>String(e.value)))}disableItems(e){for(let t of e)this.disableItem(t)}disableItem(e){this.itemEnable(e,!1)}item(e){return this._itemButtonList.filter(t=>t.tag()==e)[0]}mainItem(){return this._btnMain}getOptions(){return this.options()}click(){let e=this.getOptions();if(null!=e.onClick){let t=new d;t.sender=this,t.text=e.text,t.items=e.items,e.onClick(t)}if(null!=e.onSelect){let t=new c;t.text=e.text,t.mainButton=!0,e.onSelect(t)}}}t.SplitButton=l;class s{}t.SplitButtonItem=s;class u{}class d{}class c{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=t.KeyValuePair=void 0;const a=i(2);class r{}t.KeyValuePair=r;class n{constructor(){this.items=[]}get map(){return null==this._map&&(this._map=this.asMap()),this._map}asMap(){return new Map(this.items.map(e=>[e.key,e.value]))}static fromMap(e){let t=new n;for(let i of e){let e=new r;e.key=i[0],e.value=i[1],t.items.push(e)}return t._map=e,t}static parse(e){let t=new n;return t.items=e.items,t}get(e){return this.map.get(e)}set(e,t){let i=this.items.find(t=>t.key==e);null==i&&(i=new r,i.key=e),i.value=t,this.map.set(e,t),this.items.push(i)}has(e){return this.map.has(e)}delete(e){let t=this.items.find(t=>t.key==e);null!=t&&this.items.vrDeleteItem(t,"key"),this.map.delete(e)}changeKey(e,t){let i=a.UtilityManager.duplicate(this.get(e));this.delete(e),this.set(t,i)}keys(){return this.items.map(e=>e.key)}}t.Dictionary=n},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GridRow=exports.GridFilterSettings=exports.GridFooterSettings=exports.GridToolbarDeleteRequest=exports.GridToolbarSwitchSettings=exports.GridToolbarClickEvent=exports.GridUnselectAllRowsEvent=exports.GridUnselectRowEvent=exports.GridSelectAllRowsEvent=exports.GridSelectRowEvent=exports.GridOnRowDataBoundEvent=exports.GridOnDataBoundEvent=exports.GridTooltipEvent=exports.GridTemplateEvent=exports.GridExcelRequest=exports.GridRebindRequest=exports.GridLabelSettings=exports.GridImageSettings=exports.GridIconSettings=exports.GridCustomSettings=exports.GridControlsSettings=exports.GridCellSettings=exports.GridHeaderSettings=exports.GridHeaderAndCellSettings=exports.Grid=exports.GridOptions=void 0;const vr_1=__webpack_require__(0),common_1=__webpack_require__(1),splitButton_1=__webpack_require__(11),controlManager_1=__webpack_require__(4),comboBox_1=__webpack_require__(7),textbox_1=__webpack_require__(6),datePicker_1=__webpack_require__(5),dictionary_1=__webpack_require__(12);class GridOptions extends common_1.VrControlOptions{}exports.GridOptions=GridOptions;class Grid extends common_1.VrControl{constructor(e,t){if(null==t&&(t=new GridOptions),null==t.addToControlList&&(t.addToControlList=!1),null==t.width&&(t.width="100%"),null==t.tooltip&&(t.tooltip=!0),null==t.dataSourceFieldId&&(t.dataSourceFieldId="id"),null==t.multilineRows&&(t.multilineRows=!1),null==t.multilineHeader&&(t.multilineHeader=!1),null==t.rowHeight&&(t.rowHeight=27),null==t.columns&&(t.columns=[]),null==t.hideEditButton&&(t.hideEditButton=!1),null==t.mode&&(t.mode=vr_1.GridModeEnum.Sync),null!=t.pageSize&&!0!==t.pageSize||(t.pageSize=50),null==t.filterable&&(t.filterable=!0),null==t.alternateRowColors&&(t.alternateRowColors=!0),null==t.hoverRowColor&&(t.hoverRowColor=!1),null==t.footer&&(t.footer=!0),null==t.header&&(t.header=!0),null==t.resizable&&(t.resizable=!0),null==t.reorderable&&(t.reorderable=!0),null==t.largePageSize&&(t.largePageSize=!1),null==t.enable&&(t.enable=!0),null==t.excel&&(t.excel=t.rebind),null==t.lockable&&(t.columns.vrAny(e=>!0===e.locked)?t.lockable=!0:t.lockable=!1),null!=t.checkboxes&&!1!==t.checkboxes||(t.checkboxes=vr_1.GridCheckboxModeEnum.None),!0===t.checkboxes&&(t.checkboxes=vr_1.GridCheckboxModeEnum.MultiCheck),null==t.serverBinding&&(t.serverBinding=!1),!0===t.serverBinding&&(t.serverBinding=new GridServerBindSettings),!1!==t.serverBinding&&(null==t.serverBinding.itemCountPropertyName&&(t.serverBinding.itemCountPropertyName="itemCount"),null==t.serverBinding.totalsPropertyName&&(t.serverBinding.totalsPropertyName="totals"),null==t.serverBinding.excelDownloadUrlPropertyName&&(t.serverBinding.excelDownloadUrlPropertyName="excelDownloadUrl")),null!=t.layoutSettings&&!0!==t.layoutSettings||(t.layoutSettings=new GridLayoutSettings),!1!==t.layoutSettings&&null==t.layoutSettings.name&&(t.layoutSettings.name=""),null==t.sortable&&(t.sortable=!0),null!=t.sortBy){let e=t.sortBy;"string"==typeof t.sortBy&&(t.sortBy=new vr_1.GridSortSettings,t.sortBy.field=String(e)),null==t.sortBy.direction&&(t.sortBy.direction=vr_1.GridSortDirectionEnum.Asc)}if(null==t.groupable&&(t.groupable=!0),null!=t.groupBy){if(Array.isArray(t.groupBy)){let e=t.groupBy;t.groupBy=new vr_1.GridGroupBySettings,t.groupBy.fields=e,t.groupBy.sortBy={field:e[0],direction:vr_1.GridSortDirectionEnum.Asc}}null==t.groupBy.sortBy&&(t.groupBy.sortBy=new vr_1.GridSortSettings),null==t.groupBy.sortBy.direction&&(t.groupBy.sortBy.direction=vr_1.GridSortDirectionEnum.Asc);let e=t.groupBy.fields;if(t.groupBy.fields=[],null!=e)for(let i of e)"string"==typeof i?t.groupBy.fields.push({field:i}):t.groupBy.fields.push(i)}for(let e of t.columns){if(t.columns.map(e=>e.field).filter(t=>t==e.field).length>1)throw new Error("La proprietà 'field' delle colonne deve essere univoca!!!")}if(null!=t.footer&&!0!==t.footer||(t.footer=new GridFooterSettings),!1!==t.footer&&(null==t.footer.maxVisiblePages&&(t.footer.maxVisiblePages=10),null==t.footer.showPagination&&(t.footer.showPagination=!0),null==t.footer.showPageSize&&(t.footer.showPageSize=!0),null==t.footer.showSettings&&(t.footer.showSettings=!0),null==t.footer.totalElements&&(t.footer.totalElements=!0)),super(e,t,vr_1.ControlTypeEnum.Grid),this._originalHiddenColumnFields=[],this._originalDataSource=[],this._dictionaryFilterConditions=new Map,!1===t.pageSize&&(this._pageSizeUnlimited=!0),this._elementId=e.id,this._actualLayout=null,null!=t.groupBy&&!vr_1.puma(this.container()).hasClass("vrRepeaterContainer")){let e=t.columns.map(e=>e.field);for(let i of t.groupBy.fields)if(!e.includes(i.field)){let e=new vr_1.GridColumn;e.field=i.field,e.title=i.displayField,e.hidden=!0,t.columns.push(e)}}let i=[];if(!1!==t.layoutSettings){let e=new GridLayoutStructure;e.filterConditions=null,e.pageSize=JSON.parse(JSON.stringify(t.pageSize)),e.sortingInfo=null,null!=t.groupBy&&(e.groupBy=JSON.parse(JSON.stringify(t.groupBy)));let a=0,r=[];for(let e of t.columns){let t=new GridLayoutColumn;t.field=e.field,t.fitSpace=e.fitSpace,t.hidden=e.hidden,t.index=a;let i=null!=e.width?e.width:e.type==vr_1.GridColumnTypeEnum.EditButton?32:100;t.width=i,r.push(t),a++,!0===e.hidden&&this._originalHiddenColumnFields.push(e.field)}e.columns=r,this._originalOptionsForLayout=e;let n=new GetLayoutListRequest;n.gridName=t.layoutSettings.name,n.pageName=window.location.href,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Get,n,e=>{if(i=e.tableLayoutList,i.length>0){this._customLayouts=i;let e=i[0],a=JSON.parse(e.layoutJson),r=!0;for(let e of a.columns)if(("editButton"!=e.field||t.hideEditButton)&&!t.columns.map(e=>e.field).includes(e.field)){r=!1;break}r&&(this._actualLayout=e,this.changeLayout())}})}this._lastIndexAdded=-1,this._dictionaryDataValues=new Map,this._groupByActualValue={},this._actualPageSize=!1===t.pageSize?50:t.pageSize,this._actualPageSelected=1,this._serverBindingPagination=new GridServerBindPagination,this._serverBindingPagination.indexFrom=0*this._actualPageSize,this._serverBindingPagination.indexTo=this._serverBindingPagination.indexFrom+this._actualPageSize-1,vr_1.puma(e).vrBeforePuma("<div id='"+e.id+"_divContainer' class='p-grid-container'></div>");let a=vr_1.div("#"+e.id+"_divContainer",{css:"height: 35px;"});t.lockable&&(this._divHeaderLocked=vr_1.puma("<div class='grid_Header grid_Header_locked' style='overflow-x: hidden; display: inline-block;'></div>").vrAppendToPuma(a)[0]),this._divHeader=vr_1.puma("<div id='"+e.id+"Header' class='grid_Header' style='overflow-x: hidden; display: inline-block;'></div>").vrAppendToPuma(a)[0],t.header||(a.style.cssText+="display: none;"),this._spanFitHeaderSpace=vr_1.puma("<span id='"+e.id+"FitHeaderSpace' style='position: absolute;' class='grid_fitHeaderSpace'></span>").vrAppendToPuma("#"+e.id+"_divContainer")[0];let r=vr_1.div("#"+e.id+"_divContainer",{css:"height: 31px; display: none;"});t.lockable&&(this._divFiltersLocked=vr_1.puma("<div id='"+e.id+"Filters' class='grid_Filters grid_Filters_locked' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(r)[0]),this._divFilters=vr_1.puma("<div id='"+e.id+"Filters' class='grid_Filters' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(r)[0],this._spanFitFilterSpace=vr_1.puma("<span id='"+e.id+"FitFilterSpace' style='position: absolute; border-left: 1px solid #d9d9d9;' class='grid_fitFilterSpace'></span>").vrAppendToPuma("#"+e.id+"_divContainer")[0];let n=vr_1.div("#"+e.id+"_divContainer",{id:e.id+"_grid_body_container"});t.lockable&&(this._divBodyLocked=vr_1.div(n,{class:"grid_body_locked",css:"overflow-y: auto; vertical-align: top; display: inline-block; overflow-x: hidden; border-top: none; border: solid 1px #d9d9d9; border-right: solid 1px #a5a5a5; border-bottom: none;"})),this._divBody=vr_1.puma("<div id='"+e.id+"Body' class='grid_Body'></div>").vrAppendToPuma(n)[0],vr_1.puma(this._divBody).scroll(e=>{if(vr_1.puma(this._divFilters).scrollLeft(vr_1.puma(this._divBody).scrollLeft()),vr_1.puma(this._divHeader).scrollLeft(vr_1.puma(this._divBody).scrollLeft()),vr_1.puma(this._divTotals).scrollLeft(vr_1.puma(this._divBody).scrollLeft()),vr_1.puma(this._divBodyLocked).scrollTop(vr_1.puma(this._divBody).scrollTop()),null!=t.onScroll){let i=new vr_1.GridScrollEvent;i.sender=this,i.target=e.target,i.scrollLeft=vr_1.puma(this._divBody).scrollLeft(),i.scrollTop=vr_1.puma(this._divBody).scrollTop(),t.onScroll(i)}}),vr_1.puma(this._divBodyLocked).scroll(e=>{if(vr_1.puma(this._divBody).scrollTop(vr_1.puma(this._divBodyLocked).scrollTop()),null!=t.onScroll){let i=new vr_1.GridScrollEvent;i.sender=this,i.target=e.target,i.scrollLeft=vr_1.puma(this._divBody).scrollLeft(),i.scrollTop=vr_1.puma(this._divBody).scrollTop(),t.onScroll(i)}});let o=vr_1.div("#"+e.id+"_divContainer",{css:"height: 23px; display: none;"});if(t.lockable&&(this._divTotalsLocked=vr_1.puma("<div id='"+e.id+"Totals' class='grid_Totals grid_Totals_locked' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(o)[0]),this._divTotals=vr_1.puma("<div id='"+e.id+"Totals' class='grid_Totals' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(o)[0],this._showTotals=t.columns.vrAny(e=>null!=e.aggregate&&!1!==e.aggregate),this._showTotals&&this.createTotalsFunction(),this._spanFitTotalsSpace=vr_1.puma("<span id='"+e.id+"FitTotalsSpace' style='position: absolute; border-left: 1px solid #d9d9d9;' class='grid_fitTotalsSpace'></span>").vrAppendToPuma("#"+e.id+"_divContainer")[0],!1!==t.footer){if(this._divFooter=vr_1.puma("<div id='"+e.id+"Footer' class='p-grid-footer'></div>").vrAppendToPuma("#"+e.id+"_divContainer")[0],t.footer.showPageSize){let i=[{text:"50",value:"50",numberValue:50},{text:"100",value:"100",numberValue:100}];t.pageSize>=200&&(t.largePageSize=!0),t.largePageSize&&(i.push({text:"200",value:"200",numberValue:200}),i.push({text:"500",value:"500",numberValue:500})),50!=t.pageSize&&100!=t.pageSize&&200!=t.pageSize&&500!=t.pageSize&&i.push({text:String(t.pageSize),value:String(t.pageSize),numberValue:Number(t.pageSize)}),i.vrSortBy(["numberValue"],!0),vr_1.createComboBox({width:65,mode:vr_1.ComboBoxTypeEnum.DropDown,cssContainer:"margin-top: 3px;",css:"border: solid 1px #d9d9d9 !important;",items:i,value:String(t.pageSize),onAfterChange:e=>{t.pageSize=Number(e.sender.value()),t.columns.length>10&&vr_1.showLoader(),window.setTimeout(()=>{this.update(),vr_1.hideLoader()},200)}},this._divFooter,null,e.id+"_ddlPageSize")}if(t.footer.showSettings){let e=vr_1.createSplitButton({icon:vr_1.IconClassLight.Gear,cssContainer:"top: 2px; margin-left: 5px;",items:[{text:"Salva layout",icon:vr_1.IconClassLight.Table,onClick:e=>{null==this._actualLayout?vr_1.prompt("Assegna un nome a questo layout",{title:"Salva layout"}).then(e=>this.saveLayout(e)):vr_1.dialog("Vuoi sovrascrivere questo layout, o crearne uno nuovo?",{title:"Salva layout",footerItems:[{text:"Annulla",type:vr_1.WindowFooterItemTypeEnum.Close},{text:"Sovrascrivi",mode:vr_1.ButtonModeEnum.Primary,onClick:e=>{this.saveLayout(this._actualLayout.layoutName),e.sender.close()}},{text:"Crea nuovo",mode:vr_1.ButtonModeEnum.Primary,onClick:e=>{vr_1.prompt("Assegna un nome a questo layout",{title:"Nome layout"}).then(t=>{this._actualLayout=null,this.saveLayout(t),e.sender.close()})}}]})}},{text:"Gestisci layout",icon:vr_1.IconClassLight.Table,value:"manageLayout",onClick:e=>this.openWindowLayout()},{text:"Mostra/Nascondi",icon:vr_1.IconClassLight.Eye,onClick:e=>this.openWindowTableActions(GridActionEnum.ShowHide)},{text:"Raggruppa per...",icon:vr_1.IconClassLight.Users,visible:t.groupable,onClick:e=>this.openWindowTableActions(GridActionEnum.GroupBy)}]},this._divFooter,null,this._elementId+"_spbSettings");0==i.length&&window.setTimeout(()=>e.hideItem("manageLayout"))}}null!=t.css&&(vr_1.puma("#"+e.id+"_divContainer")[0].style.cssText+=t.css),vr_1.puma(e).addClass("p-grid"),vr_1.puma(e).css("border-collapse","collapse"),"string"==typeof t.alternateRowColors?vr_1.puma("<style>#"+e.id+" .p-grid tr.p-grid-body:nth-child(odd) { background-color: "+t.alternateRowColors+"; }</style>").vrAppendToPuma("head"):!0===t.alternateRowColors&&vr_1.puma(e).addClass("alternateRowsColor"),t.hoverRowColor&&vr_1.puma(e).addClass("p-grid-hover"),null==t.height&&(t.height=vr_1.GridHeightModeEnum.FitContent),t.height==vr_1.GridHeightModeEnum.FitContent&&(t.height="auto"),vr_1.puma(this._divBody).height(t.height),t.lockable&&vr_1.puma(this._divBodyLocked).height(t.height),vr_1.puma(this._divBody).vrAppendPuma(e),t.lockable&&(this._elementLocked=vr_1.puma("<table class='p-grid p-grid-locked' style='border-collapse: collapse;'></table>"),!0===t.alternateRowColors&&vr_1.puma(this._elementLocked).addClass("alternateRowsColor"),t.hoverRowColor&&vr_1.puma(this._elementLocked).addClass("p-grid-hover"),vr_1.puma(this._divBodyLocked).vrAppendPuma(this._elementLocked));let l=t.columns.filter(e=>e.type==vr_1.GridColumnTypeEnum.EditButton).length;if(l>1)throw Error("Non possono coesistere due o più colonne di edit!");0!=l||t.hideEditButton||t.columns.unshift({type:vr_1.GridColumnTypeEnum.EditButton,field:"editButton"}),vr_1.puma(e).width(t.width),vr_1.puma("#"+e.id+"_divContainer").width(t.width);let s=vr_1.puma(this.element()).width(),u=0,d=0;for(let e of t.columns)1!=e.hidden&&(null==e.fitSpace||0==e.fitSpace?u+=null!=e.width?e.width:e.type==vr_1.GridColumnTypeEnum.EditButton?32:100:d++);let c=s-u;t.checkboxes!=vr_1.GridCheckboxModeEnum.None&&(c-=20),null!=t.groupBy&&null!=t.groupBy.fields&&(c-=20*t.groupBy.fields.length);let p=c/d*100/s;if(this._fitSpaceColumnPercentage=p,null!=t.toolbar){this._divToolbar=vr_1.puma("<div id='"+e.id+"Toolbar' class='grid_divToolbar'></div>").vrPrependToPuma("#"+e.id+"_divContainer")[0];let i=0;for(let e of t.toolbar)null==e.type||e.type!=vr_1.GridToolbarItemType.Separator||""!=e.value&&null!=e.value||(e.value="separator"+i,i++),this.addToolbarItem(e)}if(vr_1.puma(this._divHeader).vrAppendPuma("<table class='p-grid'><thead><tr class='p-grid-headerColumn'></tr></thead></table>"),t.lockable&&vr_1.puma(this._divHeaderLocked).vrAppendPuma("<table class='p-grid p-grid-locked'><thead><tr class='p-grid-headerColumn'></tr></thead></table>"),t.groupable||null!=t.groupBy)for(let e of t.columns){if(vr_1.puma(this.container()).hasClass("vrRepeaterContainer")&&e.type==vr_1.GridColumnTypeEnum.Custom)continue;let i="";null!=t.groupBy&&t.groupBy.fields.map(e=>e.field).includes(e.field)||(i="display: none;"),vr_1.puma(this._divHeader).find(".p-grid-headerColumn").vrAppendPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1; "+i+"' value='groupBy"+e.field+"' class='groupBy"+e.field+"'></th>"),t.lockable&&vr_1.puma(this._divHeaderLocked).find(".p-grid-headerColumn").vrAppendPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1; "+i+"' value='groupBy"+e.field+"' class='groupBy"+e.field+"'></th>")}if(t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let i=document.createElement("th");i.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(i).attr("width",20),vr_1.puma(i).attr("value","vrGridCheckboxColumn"),vr_1.puma(i).css("background-color","#51B3E1"),vr_1.puma(i).css("color","#FFF");let a="<input id='"+e.id+"header_CheckboxColumn' class='vrCheckBox' type='checkbox'></input><label class='k-label vrCheckBoxLabel vr-checkboxColumnHeader-label' for='header_CheckboxColumn'></label>";i.innerHTML=a,vr_1.puma(i).css("text-align","center"),vr_1.puma(this._divHeader).find(".p-grid-headerColumn").vrAppendPuma(i),t.checkboxes==vr_1.GridCheckboxModeEnum.SingleCheck?vr_1.puma(i).children().hide():vr_1.puma(i).click(e=>{e.target.checked?this.checkAllRows():this.unCheckAllRows()})}for(let e of t.columns){let i=document.createElement("th");vr_1.puma(i).attr("value",e.field),i.style.cssText+="border: 1px solid #dddddd;";let a=null!=e.title?e.title:"";vr_1.puma(i).attr("title",a),null!=e.headerSettings&&null!=e.headerSettings.icon&&(a="<i class='"+e.headerSettings.icon+"'></i>"+a),!0===e.bold&&vr_1.puma(i).css("font-weight","500"),null!=e.headerSettings&&null!=e.headerSettings.css&&(i.style.cssText+=e.headerSettings.css),i.innerHTML="<div class='grid_headerTh'><span class='grid_headerThContent'>"+a+"</span><i style='position: absolute; top: 10px; right: 5px;'></i></div>",vr_1.puma(i).attr("width",null!=e.width?e.width:1==e.fitSpace?p+"%":e.type==vr_1.GridColumnTypeEnum.EditButton?32:100),1==e.fitSpace&&vr_1.puma(i).attr("fitSpace","true");let r="#51B3E1",n="#000";null!=e.headerSettings&&(r=null!=e.headerSettings.backgroundColor?e.headerSettings.backgroundColor:r,n=null!=e.headerSettings.color?e.headerSettings.color:"#000"),vr_1.puma(i).css("background-color",r),vr_1.puma(i).css("color",n);let o=vr_1.GridAlignEnum.Left;if(null!=e.headerSettings&&null!=e.headerSettings.textAlign&&(o=e.headerSettings.textAlign),vr_1.puma(i).css("text-align",o),t.tooltip){let t="";null!=e.headerSettings&&(1==e.headerSettings.tooltip?t=null==e.title?"":e.title:"string"==typeof e.headerSettings.tooltip&&(t=e.headerSettings.tooltip)),t.length>0&&vr_1.puma(i).attr("title",t)}[vr_1.GridColumnTypeEnum.Currency,vr_1.GridColumnTypeEnum.Date,vr_1.GridColumnTypeEnum.DateTime,vr_1.GridColumnTypeEnum.Duration,vr_1.GridColumnTypeEnum.Label,vr_1.GridColumnTypeEnum.Number,vr_1.GridColumnTypeEnum.Percentage,vr_1.GridColumnTypeEnum.String,vr_1.GridColumnTypeEnum.Time].includes(e.type)?(vr_1.puma(i).css("cursor","pointer"),vr_1.puma(i).click(()=>{if(!0!==this._isResizing&&!0!==this._isDragging)if(null==vr_1.puma(i).attr("sortMode"))this.sort(e.field,vr_1.GridSortDirectionEnum.Asc);else{Number(vr_1.puma(i).attr("sortMode"))==vr_1.GridSortDirectionEnum.Asc?this.sort(e.field,vr_1.GridSortDirectionEnum.Desc):this.removeSort()}})):vr_1.puma(i).css("cursor","grab"),t.lockable&&e.locked?vr_1.puma(this._divHeaderLocked).find(".p-grid-headerColumn").vrAppendPuma(i):vr_1.puma(this._divHeader).find(".p-grid-headerColumn").vrAppendPuma(i),1==e.hidden&&vr_1.puma(i).hide()}if(t.lockable&&vr_1.puma(this._divHeader).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),t.filterable){if(vr_1.puma(r).show(),vr_1.puma(this._divFilters)[0].style.cssText+="display: inline-block",vr_1.puma(this._divFilters).vrAppendPuma("<table class='p-grid'><thead><tr class='p-grid-filters'></tr></thead></table>"),t.lockable&&(vr_1.puma(this._divFiltersLocked)[0].style.cssText+="display: inline-block",vr_1.puma(this._divFiltersLocked).vrAppendPuma("<table class='p-grid p-grid-locked'><thead><tr class='p-grid-filters'></tr></thead></table>")),t.groupable||null!=t.groupBy)for(let e of t.columns){if(vr_1.puma(this.container()).hasClass("vrRepeaterContainer")&&e.type==vr_1.GridColumnTypeEnum.Custom)continue;let i="";null!=t.groupBy&&(vr_1.puma(this.container()).hasClass("vrRepeaterContainer")||t.groupBy.fields.map(e=>e.field).includes(e.field))||(i="display: none;"),vr_1.puma(this._divFilters).find(".p-grid-filters").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>"),t.lockable&&vr_1.puma(this._divFiltersLocked).find(".p-grid-filters").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>")}if(t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=document.createElement("td");vr_1.puma(e).attr("value","vrGridCheckboxColumn"),e.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(e).attr("width",20),vr_1.puma(this._divFilters).find(".p-grid-filters").vrAppendPuma(e)}for(let i of t.columns){i.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(i.field,[]);let a=document.createElement("td");if(vr_1.puma(a).attr("value",i.field),a.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(a).attr("width",null!=i.width?i.width:1==i.fitSpace?p+"%":i.type==vr_1.GridColumnTypeEnum.EditButton?32:100),1==i.fitSpace&&vr_1.puma(a).attr("fitSpace","true"),t.lockable&&i.locked?vr_1.puma(this._divFiltersLocked).find(".p-grid-filters").vrAppendPuma(a):vr_1.puma(this._divFilters).find(".p-grid-filters").vrAppendPuma(a),(i.type==vr_1.GridColumnTypeEnum.Custom&&null==i.filterable||i.type==vr_1.GridColumnTypeEnum.Color)&&(i.filterable=!1),null!=i.type&&!1!==i.filterable)switch(i.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{vr_1.puma(a).css("text-align","center"),a.innerHTML="<input id='"+e.id+"_CheckboxFilter_"+i.field+"' class='vrCheckBox' type='checkbox'></input><label class='vrLabel vr-checkboxFilter-label' for='"+e.id+"_CheckboxFilter_"+i.field+"'></label>";let t=vr_1.puma("#"+e.id+"_CheckboxFilter_"+i.field);t.addClass("indeterminateVrCheckbox"),t.click(e=>{let a=t[0];if(a.checked&&!vr_1.puma(a).hasClass("indeterminateVrCheckbox"))vr_1.puma(a).addClass("indeterminateVrCheckbox"),this.removeFilter(i.field),e.preventDefault();else{vr_1.puma(a).removeClass("indeterminateVrCheckbox");let e=new GridFilterSettings;e.type=i.type,e.checkboxFilterSettings=new GridCheckboxFilterSettings,e.checkboxFilterSettings.value=a.checked,this.updateFilter(i.field,e,!1),this.applyFilters(!0)}})}break;case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:{vr_1.puma(a).css("text-align","center"),a.innerHTML="<button id='"+this._elementId+"_DateFilter_"+i.field+"'></button><button id='"+this._elementId+"_DateFilterRemove_"+i.field+"'></button>";let e=vr_1.createButton({icon:vr_1.IconClassLight.Filter,tooltip:"Applica filtro",cssContainer:"margin-right: 5px;",onClick:e=>{this.openWindowFiltering(i)}},null,null,this._elementId+"_DateFilter_"+i.field),t=vr_1.createButton({icon:vr_1.IconClassRegular.Xmark,tooltip:"Rimuovi filtro",colorSettings:{background:"#CCC"},visible:!1,onClick:a=>{this.removeFilter(i.field),e.tooltip(""),vr_1.puma(e.element()).css("background-color","#FFF"),vr_1.puma(e.element()).css("color","#000"),t.hide(),this.recalculateHeight(!0)}},null,null,this._elementId+"_DateFilterRemove_"+i.field)}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{vr_1.puma(a).css("text-align","center"),a.innerHTML="<button id='"+this._elementId+"_NumberFilter_"+i.field+"'></button><button id='"+this._elementId+"_NumberFilterRemove_"+i.field+"'></button>";let e=vr_1.createButton({icon:vr_1.IconClassLight.Filter,tooltip:"Applica filtro",css:"margin-right: 5px;",onClick:e=>{this.openWindowFiltering(i)}},null,null,this._elementId+"_NumberFilter_"+i.field),t=vr_1.createButton({icon:vr_1.IconClassRegular.Xmark,tooltip:"Rimuovi filtro",colorSettings:{background:"#CCC"},visible:!1,onClick:a=>{this.removeFilter(i.field),e.tooltip(""),vr_1.puma(e.element()).css("background-color","#FFF"),vr_1.puma(e.element()).css("color","#000"),t.hide(),this.recalculateHeight(!0)}},null,null,this._elementId+"_NumberFilterRemove_"+i.field)}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Custom:case vr_1.GridColumnTypeEnum.Label:a.innerHTML="<input id='"+this._elementId+"_StringFilter_"+i.field+"' field='"+i.field+"'></input>",this._timeoutFilterText=0,vr_1.createTextBox({icon:i.type==vr_1.GridColumnTypeEnum.Custom?vr_1.IconClassLight.Search:void 0,placeholder:i.type==vr_1.GridColumnTypeEnum.Custom?"Cerca...":void 0,width:"100%",onPaste:e=>{clearTimeout(this._timeoutFilterText);let t=String(e.value).trim().toLowerCase(),a=vr_1.puma(e.sender.element()).attr("field");this.manageFilterTextByColumn(t,i,a,!1)},onKeyUp:e=>{if(e.tabKey)return;clearTimeout(this._timeoutFilterText);let a=e.sender.value().toLowerCase(),r=vr_1.puma(e.sender.element()).attr("field");if(!1!==t.serverBinding){let t=new GridFilterSettings;return t.type=i.type,t.stringFilterSettings=new GridStringFilterSettings,t.stringFilterSettings.text=a.toLowerCase(),void(e.key==vr_1.KeyEnum.Enter&&this.updateFilter(i.field,t))}if(0==a.length)return this.removeFilter(vr_1.puma(e.sender.element()).attr("field"),!1),void window.setTimeout(()=>{!0===i.filterWebService?this.rebind(null,!0):this.applyFilters(!0),this._checkedItemsForFiltering=this.getCheckedItems()},100);this.manageFilterTextByColumn(a,i,r,e.backSpaceKey)}},null,null,this._elementId+"_StringFilter_"+i.field);break;default:a.innerHTML=""}!0===i.hidden&&vr_1.puma(a).hide()}t.lockable&&vr_1.puma(this._divFilters).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)")}if(this._showTotals){if(vr_1.puma(o).show(),vr_1.puma(this._divTotals)[0].style.cssText+="display: inline-block",vr_1.puma(this._divTotals).vrAppendPuma("<table class='p-grid'><thead><tr class='p-grid-totals'></tr></thead></table>"),t.lockable&&(vr_1.puma(this._divTotalsLocked)[0].style.cssText+="display: inline-block",vr_1.puma(this._divTotalsLocked).vrAppendPuma("<table class='p-grid p-grid-locked'><thead><tr class='p-grid-totals'></tr></thead></table>")),t.groupable||null!=t.groupBy)for(let e of t.columns){if(vr_1.puma(this.container()).hasClass("vrRepeaterContainer")&&e.type==vr_1.GridColumnTypeEnum.Custom)continue;let i="";null!=t.groupBy&&t.groupBy.fields.map(e=>e.field).includes(e.field)||(i="display: none;"),vr_1.puma(this._divTotals).find(".p-grid-totals").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>"),t.lockable&&vr_1.puma(this._divTotalsLocked).find(".p-grid-totals").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>")}if(t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=document.createElement("td");vr_1.puma(e).attr("value","vrGridCheckboxColumn"),e.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(e).attr("width",20),vr_1.puma(this._divTotals).find(".p-grid-totals").vrAppendPuma(e)}for(let e of t.columns){let i=document.createElement("td");vr_1.puma(i).attr("value",e.field),i.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(i).attr("width",null!=e.width?e.width:1==e.fitSpace?this._fitSpaceColumnPercentage+"%":e.type==vr_1.GridColumnTypeEnum.EditButton?32:100),1==e.fitSpace&&vr_1.puma(i).attr("fitSpace","true");let a=vr_1.GridAlignEnum.Right;switch(e.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:a=vr_1.GridAlignEnum.Right;break;case vr_1.GridColumnTypeEnum.Duration:a=vr_1.GridAlignEnum.Center;break;case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:a=vr_1.GridAlignEnum.Center;break;case vr_1.GridColumnTypeEnum.String:a=vr_1.GridAlignEnum.Left}if(null!=e.cellSettings&&(a=null!=e.cellSettings.textAlign?e.cellSettings.textAlign:a),vr_1.puma(i).css("text-align",a),t.lockable&&e.locked?vr_1.puma(this._divTotalsLocked).find(".p-grid-totals").vrAppendPuma(i):vr_1.puma(this._divTotals).find(".p-grid-totals").vrAppendPuma(i),null!=e.aggregate&&!1!==e.aggregate){let t=0;if("boolean"==typeof e.aggregate)switch(e.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:e.aggregate=vr_1.GridAggregateMode.Sum;break;case vr_1.GridColumnTypeEnum.Percentage:e.aggregate=vr_1.GridAggregateMode.Average}switch(e.type){case vr_1.GridColumnTypeEnum.Number:t=null!=e.decimalDigits?e.decimalDigits:0;break;case vr_1.GridColumnTypeEnum.Currency:t=null!=e.decimalDigits?e.decimalDigits:2;break;case vr_1.GridColumnTypeEnum.Duration:t=null!=e.decimalDigits?e.decimalDigits:0;break;case vr_1.GridColumnTypeEnum.Percentage:t=null!=e.decimalDigits?e.decimalDigits:2}vr_1.puma(i).attr("field",e.field),vr_1.puma(i).attr("decimalDigits",t),vr_1.puma(i).attr("aggregate",String(e.aggregate))}e.type==vr_1.GridColumnTypeEnum.Custom&&null==e.exportable&&(e.exportable=!1),1==e.hidden&&vr_1.puma(i).hide()}t.lockable&&vr_1.puma(this._divTotals).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)")}else vr_1.puma(this._divTotals).hide();if(t.lockable&&(vr_1.puma(this._divBody).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),vr_1.puma(this._divBodyLocked).width(vr_1.puma(this._divHeaderLocked).width())),this._internalOptions=t,null!=t.dataSource?this.dataSource(t.dataSource):this.recalculateHeight(),null!=t.rebind&&!0===t.rebind.rebindAtStartup&&this.doWebApiCall(t.rebind,GridRequestTypeEnum.Rebind),!1===t.enable&&this.enable(t.enable),t.resizable&&this.resizable(),t.reorderable&&this.draggableColumns(),null!=t.groupBy)for(let e of t.groupBy.fields)this._groupByActualValue[e.field]=void 0;vr_1.puma(window).on("resize",()=>{this.recalculateHeight(),this.recalculateWidth()})}rebind(e,t=!1,i=!0,a){return new Promise(r=>{if(t){let t=[];this._dictionaryFilterConditions.forEach((e,i,a)=>{if(null!=e.stringFilterSettings){let a=new GridSearchingInfo;a.field=i,a.text=e.stringFilterSettings.text,t.push(a)}}),e={tableSearchingInfoList:t}}let n=this.getOptions();null!=n.rebind&&(n.rebind.otherParameters=void 0,null!=e&&(n.rebind.otherParameters=e),i?(this._tempRebindInfo=new TempRebindInfo,this._tempRebindInfo.checkedValues=this.getCheckedValues(),this._tempRebindInfo.page=this.pageSelected(),this._tempRebindInfo.yPosition=vr_1.puma(this.container()).find(".grid_Body")[0].scrollTop):this._tempRebindInfo=null,n.rebind.tempLoadingElement=a,this.clearSelection(),this.doWebApiCall(n.rebind,GridRequestTypeEnum.Rebind,r))})}rebindSpecificRows(e,t=!0,i=!0,a){let r=this.getOptions();null!=r.rebind&&(null==r.rebind.specificItemIdListPropertyName&&(r.rebind.specificItemIdListPropertyName="specificItemIdList"),r.rebind.otherParameters={},r.rebind.otherParameters[r.rebind.specificItemIdListPropertyName]=e,r.rebind.otherParameters.update=t,r.rebind.loadingElement=a,i&&(this._tempRebindInfo=new TempRebindInfo,this._tempRebindInfo.checkedValues=this.getCheckedValues(),this._tempRebindInfo.page=this.pageSelected(),this._tempRebindInfo.yPosition=vr_1.puma(this.container()).find(".grid_Body")[0].scrollTop),this.clearSelection(),this.doWebApiCall(r.rebind,GridRequestTypeEnum.RebindSpecificRows))}clear(e=!1){this.dataSource().filter(e=>null==e.defaultRow||0==e.defaultRow).length>0&&(this.dataSource([]),this.clearSelection(e))}manageDataSourceControls(e,t){vr_1.puma(this.element()).off("click","."+t),vr_1.puma(this.element()).on("click","."+t,t=>{vr_1.puma(t.target).attr("disabled","disabled");let i=this.getOptions(),a=vr_1.puma(t.currentTarget).attr("dataItemId");null==a&&(a=vr_1.puma(t.target).closest(".vrButton").attr("dataItemId"));let r=this._dataSource.filter(e=>e[i.dataSourceFieldId]==a)[0],n=new vr_1.GridButtonSettings;switch(e.columnType){case vr_1.GridColumnTypeEnum.Button:case vr_1.GridColumnTypeEnum.EditButton:case vr_1.GridColumnTypeEnum.Icon:case vr_1.GridColumnTypeEnum.Custom:case vr_1.GridColumnTypeEnum.Label:n=e.GridControlsSettings}if(null!=n){let i=new GridControlsClickEvent;i.dataItem=r,null!=n.onClick&&!1!==n.enabled?null!=n.confirmationMessage&&n.confirmationMessage.length>0?vr_1.confirm(n.confirmationMessage).then(()=>{n.onClick(i)}):n.onClick(i):e.columnType==vr_1.GridColumnTypeEnum.EditButton&&this.openAutoWindow(r),window.setTimeout(()=>vr_1.puma(t.target).removeAttr("disabled"),500)}return!1})}manageControls(){let e=[this._cellButtons,this._cellIcons,this._cellCustoms,this._cellLabels,this._cellImages];for(let t of e)t.forEach((e,t)=>{this.manageDataSourceControls(e,t)})}originalDataSource(){return this._originalDataSource}dataSource(e,t=!1){if(null!=e){let i=this.getOptions();if(e.length>0&&null==e[0][i.dataSourceFieldId]){console.log("Grid null Id!! ("+i.dataSourceFieldId),this.element().id;let t=-1;for(let a of e)a[i.dataSourceFieldId]=t,t--;this._lastIndexAdded=t}if(null!=i.groupBy&&this.sortingGroupFields(e),null!=i.sortBy){let e=i.sortBy.field;this.sort(e,i.sortBy.direction,!1)}if(this._originalDataSource=JSON.parse(JSON.stringify(e)),i.filterable){this._dictionaryDataValues.clear();for(let t of i.columns)t.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(t.field,e.map(e=>String(e[t.field]).toLowerCase()))}t?(this.clearFilters(!1),this.setDataSource(e)):!1!==i.serverBinding?this.setDataSource(e):this.applyFilters(!0,!i.serverBinding)}return null==this._dataSource&&(this._dataSource=[]),this._dataSource}update(e=!0,t=!0){t&&(this._tempRebindInfo=new TempRebindInfo,this._tempRebindInfo.checkedValues=this.getCheckedValues(),this._tempRebindInfo.page=this.pageSelected(),this._tempRebindInfo.yPosition=vr_1.puma(this.container()).find(".grid_Body")[0].scrollTop),this.setDataSource(this.dataSource(),e)}setDataSource(e,t=!0){let i=this.getOptions();if(this._dataSource=e,null==this._actualSortingInfo||i.serverBinding)if(this._cellButtons=new Map,this._cellIcons=new Map,this._cellCustoms=new Map,this._cellLabels=new Map,this._cellImages=new Map,null==this._tempRebindInfo||i.serverBinding)this.drawTable(e,t),this.manageControls();else{let i=this._tempRebindInfo.page,a=this._tempRebindInfo.checkedValues,r=this._tempRebindInfo.yPosition;this._tempRebindInfo=null,this.pageSelected(i,!1),this.drawTable(e,t),this.manageControls(),this.selectRows(a,void 0,!1),vr_1.puma(this.container()).find(".grid_Body").scrollTop(r)}else this.applySorting()}drawTable(e,t=!0){let i,a,r,n=this.getOptions();if(("boolean"==typeof n.pageSize||this._pageSizeUnlimited)&&(n.pageSize=e.length),vr_1.puma(this.element()).find("tbody").remove(),vr_1.puma(this.element()).vrAppendPuma("<tbody></tbody>"),n.lockable&&(vr_1.puma(this._elementLocked).find("tbody").remove(),vr_1.puma(this._elementLocked).vrAppendPuma("<tbody></tbody>")),n.serverBinding?(i=e,a=0,r=e.length-1):(a=(this.pageSelected()-1)*n.pageSize,r=this.pageSelected()*n.pageSize,i=e.slice(a,r)),0==i.length){let t={};for(let e of n.columns)t[e.field]=null,t.defaultRow=!0;i.push(t),0==e.length&&e.push(t)}else{let t=vr_1.puma(this._divBody).find("table tr[defaultrow='defaultrow']");t.length>0&&(t.find("td").empty(),t.removeAttr("defaultRow")),i.filter(e=>null!=e.defaultRow).length>0&&i.splice(0,1),e.filter(e=>null!=e.defaultRow).length>0&&e.splice(0,1)}let o=[];(n.groupable||null!=n.groupBy)&&(vr_1.puma(this.container()).find(".grid_trGroupBy").remove(),vr_1.puma(this.container()).find(".p-grid-totalsGroup").remove(),this._groupByActualValue={},o=n.columns.filter(e=>!0!==e.hidden));let l=n.serverBinding?0:(this.pageSelected()-1)*n.pageSize;l>e.length&&(l=0,this.pageSelected(1,!1));let s=1;for(let t of i){let i=e[l],a=i[n.dataSourceFieldId],r="row"+l+"_"+a,u=0;if(!1!==n.groupable&&null!=n.groupBy&&null!=n.groupBy.fields){let i=0;for(let a of n.groupBy.fields){let r=t[a.field],l=n.columns.filter(e=>e.field==a.field)[0];if(this._groupByActualValue[a.field]!==r){if(0==u)for(let e=i;e<n.groupBy.fields.length;e++)n.groupBy=n.groupBy,this._groupByActualValue[n.groupBy.fields[e].field]=void 0;let d=vr_1.puma(this.element()).find("tbody tr:nth-child("+(s+u)+")")[0],c=null,p=vr_1.puma("<tr value='"+(null==r||""===r?"nosetted":String(r).replace(/%/,"").replace(/ /g,"").replace(/\./g,"").replace(/-/g,"").replace(/\//g,""))+"' level='"+i+"' class='grid_trGroupBy p-grid-body'></tr>");c=null==d?p.vrAppendToPuma(vr_1.puma(this.element()).find("tbody"))[0]:p.vrInsertBeforePuma(d)[0],vr_1.puma(c).height(n.rowHeight);let h=null;if(n.lockable){let e=vr_1.puma(this._elementLocked).find("tbody tr:nth-child("+(s+u)+")")[0],t=vr_1.puma("<tr value='"+(null==r||""===r?"nosetted":String(r).replace(/%/,"").replace(/ /g,"").replace(/\./g,"").replace(/-/g,"").replace(/\//g,""))+"' level='"+i+"' class='grid_trGroupBy grid_trGroupByLocked p-grid-body'></tr>");h=null==e?t.vrAppendToPuma(vr_1.puma(this._elementLocked).find("tbody"))[0]:t.vrInsertBeforePuma(e)[0],vr_1.puma(h).height(n.rowHeight)}if(u++,i>0)for(let e=0;e<i;e++)vr_1.puma(c).vrAppendPuma("<td width=16 class='groupBy"+a+"'></td>"),n.lockable&&vr_1.puma(h).vrAppendPuma("<td width=16 class='groupBy"+a+"'></td>");let m=String(r);null!=l&&(l.type==vr_1.GridColumnTypeEnum.Date?m=null==t[a.field]?"":Date.vrFixDateString(t[a.field]).vrToItalyString():l.type!=vr_1.GridColumnTypeEnum.Checkbox&&l.type!=vr_1.GridColumnTypeEnum.Boolean||(m=Boolean(t[a.field])?"Sì":"No"));let f=o.length-i+n.groupBy.fields.length;n.checkboxes==vr_1.GridCheckboxModeEnum.None&&(f-=1);let g=m;if(null!=a.displayField&&(g=t[a.displayField]),null!=a.displayValue){let e=new vr_1.GridGroupDisplayValueEvent;e.sender=this,e.dataItem=t,e.field=a.field,e.displayField=a.displayField,g=a.displayValue(e)}null==g&&(g=m);let v=vr_1.IconClassLight.CaretDown,b="<td width=16 class='grid_tdGroupByCollapse groupBy"+a+"' style='border-right-color: transparent !important;'><i class='grid_tdGroupByCollapse "+v+"'></i></td><td class='grid_tdGroupByName' style='font-weight: 500;' colspan="+f+"><div class='grid_divGroupByName'>"+(1==e.length&&null!=e[0].defaultRow?"Nessun gruppo o elemento presente":null==g||""===g||"null"==g?"Non impostato":g)+"</div>"+(null!=n.onGroupEditClick||null!=a.onEditClick?"<div style='position: relative; display: inline-flex; margin-left: 6px;'><i class='grid_groupByEdit "+vr_1.IconClassLight.Pencil+"' style='cursor: pointer;'></div></i>":"")+"</td>";vr_1.puma(c).vrAppendPuma(b),n.lockable&&vr_1.puma(h).vrAppendPuma(b),this._groupByActualValue[a.field]=r,n.checkboxes!=vr_1.GridCheckboxModeEnum.None&&vr_1.createCheckBox({cssContainer:"margin-right: 5px;",onCheck:e=>{let t=e.sender.element().parentElement.parentElement.parentElement.parentElement,i=this.getChildrenGroupRows(t,this._divBody);for(let t of i.children){let i=vr_1.puma(t).attr("id");if(null!=i&&i.length>0){let a=i.split("_")[1];if(e.checked){vr_1.puma(t).find(".vr-checkbox-column")[0].checked&&this.unselectRow(a)}this.selectRowInternal(a,!0,!0,!1,!0,!1,!0)}}}},vr_1.puma(c).find("div.grid_divGroupByName")[0],vr_1.ControlPositionEnum.Before),vr_1.puma(c).find("td.grid_tdGroupByCollapse").add(vr_1.puma(h).find("td.grid_tdGroupByCollapse")).click(e=>{let i=vr_1.puma(e.currentTarget).find("i").hasClass("fa-caret-down"),r=this.getChildrenGroupRows(e.currentTarget.parentElement,this._divBody);r.allRows.vrPushRange(this.getChildrenGroupRows(e.currentTarget.parentElement,this._divBodyLocked).allRows);for(let e of r.allRows)if(i)vr_1.puma(e).hide();else{vr_1.puma(e).show();let t=vr_1.puma(e).find("i.grid_tdGroupByCollapse");t.removeClass(vr_1.IconClassLight.CaretRight),t.addClass(vr_1.IconClassLight.CaretDown)}let o=vr_1.puma(e.currentTarget.parentElement).index()+1,l=vr_1.puma(vr_1.puma(this._divBody).find("tr:nth-child("+o+")").find("i")[0]);if(i){if(l.removeClass(vr_1.IconClassLight.CaretDown),l.addClass(vr_1.IconClassLight.CaretRight),n.lockable){let e=vr_1.puma(vr_1.puma(this._divBodyLocked).find("tr:nth-child("+o+")").find("i")[0]);e.removeClass(vr_1.IconClassLight.CaretDown),e.addClass(vr_1.IconClassLight.CaretRight)}}else if(l.removeClass(vr_1.IconClassLight.CaretRight),l.addClass(vr_1.IconClassLight.CaretDown),n.lockable){let e=vr_1.puma(vr_1.puma(this._divBodyLocked).find("tr:nth-child("+o+")").find("i")[0]);e.removeClass(vr_1.IconClassLight.CaretRight),e.addClass(vr_1.IconClassLight.CaretDown)}if(null!=n.onGroupExpandCollapse||null!=a.onExpandCollapse){let e=new vr_1.GridGroupExpandCollapseEvent;e.sender=this,e.groupByField=a.field,e.groupByDisplayField=a.displayField,e.collapse=i,e.value=t[a.field],null!=a.displayField&&(e.displayValue=t[a.displayField]);let o=[];for(let e of r.allRows){let t=vr_1.puma(e).attr("dataitemid"),i=this.dataSource().filter(e=>e[n.dataSourceFieldId]==t)[0];o.push(i)}e.childrenItems=o,e.childrenRows=r.allRows,null!=n.onGroupExpandCollapse?n.onGroupExpandCollapse(e):null!=a.onExpandCollapse&&a.onExpandCollapse(e)}}),vr_1.puma(c).find(".grid_groupByEdit").add(vr_1.puma(h).find(".grid_groupByEdit")).click(e=>{if(null!=n.onGroupEditClick||null!=a.onEditClick){let i=new vr_1.GridGroupEditClickEvent;i.sender=this,i.groupByField=a.field,i.groupByDisplayField=a.displayField,i.value=t[a.field],null!=a.displayField&&(i.displayValue=t[a.displayField]);let r=this.getChildrenGroupRows(e.currentTarget.parentElement,this._divBody),o=[];for(let e of r.allRows){let t=vr_1.puma(e).attr("dataitemid"),i=this.dataSource().filter(e=>e[n.dataSourceFieldId]==t)[0];o.push(i)}i.childrenItems=o,i.childrenRows=r.allRows,null!=n.onGroupEditClick?n.onGroupEditClick(i):null!=a.onEditClick&&a.onEditClick(i)}})}i++}}s+=u;let d=document.createElement("tr");vr_1.puma(d).addClass("p-grid-body"),vr_1.puma(d).attr("id",r),vr_1.puma(d).attr("dataItemId",a),vr_1.puma(d).attr("row",l);let c=null;if(n.lockable&&(c=document.createElement("tr"),vr_1.puma(c).addClass("p-grid-body"),vr_1.puma(c).attr("id",r),vr_1.puma(c).attr("dataItemId",a),vr_1.puma(c).attr("row",l)),n.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=document.createElement("td");e.style.cssText+="border-left: none !important;",vr_1.puma(e).attr("width",20),vr_1.puma(e).addClass("vrGridTdCheckboxColumn"),vr_1.puma(e).attr("value","vrGridCheckboxColumn");let t="<input dataItemId='"+a+"' id='"+r+"_CheckboxColumn' class='vrCheckBox vr-checkbox-column' type='checkbox'></input><label style='display: none;' class='vrLabel vrCheckBoxLabel vr-checkboxColumn-label' for='"+r+"_CheckboxColumn'></label>";e.innerHTML=t,vr_1.puma(e).css("text-align","center"),vr_1.puma(d).vrAppendPuma(e),vr_1.puma(e).off("click"),vr_1.puma(e).click(e=>{e.shiftKey&&n.checkboxes==vr_1.GridCheckboxModeEnum.MultiCheck?this.selectRangeShiftKey(e.target):this.selectRowInternal(a,!0,!1,!1,!0,!1,!0)})}for(let e of n.columns){let o=document.createElement("td"),l=null;n.lockable&&(l=document.createElement("td"));let s=e.field;vr_1.puma(o).attr("value",e.field),vr_1.puma(o).attr("field",s),o.style.cssText+="border-left: none !important;",n.lockable&&(vr_1.puma(l).attr("value",e.field),vr_1.puma(l).attr("field",s),l.style.cssText+="border-left: none !important;");let u=null!=e.width?e.width:1==e.fitSpace?this._fitSpaceColumnPercentage+"%":e.type==vr_1.GridColumnTypeEnum.EditButton?32:100;if(vr_1.puma(o).attr("width",u),n.lockable&&vr_1.puma(l).attr("width",u),1==e.fitSpace&&(vr_1.puma(o).attr("fitSpace","true"),n.lockable&&vr_1.puma(l).attr("fitSpace","true")),!0===e.hidden){vr_1.puma(o).hide(),vr_1.puma(d).vrAppendPuma(o);continue}vr_1.puma(o).show(),n.multilineRows?(vr_1.puma(o).addClass("grid_multilineTableRow"),n.lockable&&vr_1.puma(l).addClass("grid_multilineTableRow")):(vr_1.puma(o).addClass("grid_singleLineTableRow"),n.lockable&&vr_1.puma(l).addClass("grid_singleLineTableRow"));let p=vr_1.GridAlignEnum.Left,h=null==t[s]?"":String(t[s]);switch(e.type){case vr_1.GridColumnTypeEnum.PasswordViewable:{let e="";for(let t of h)e+="*";h=e}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:{p=vr_1.GridAlignEnum.Right;let t=null!=e.decimalDigits?e.decimalDigits:0;if(e.type!=vr_1.GridColumnTypeEnum.Currency&&e.type!=vr_1.GridColumnTypeEnum.Percentage||(t=null!=e.decimalDigits?e.decimalDigits:2),null==e.cellSettings&&(e.cellSettings=new GridCellSettings),null==e.cellSettings.zeroIfNull&&(e.cellSettings.zeroIfNull=!1),""===h&&!1===e.cellSettings.zeroIfNull)h="";else{h=this.formatValue(Number(h),e.type,t,e.roundingSettings)}}break;case vr_1.GridColumnTypeEnum.Duration:if(p=vr_1.GridAlignEnum.Center,null==e.cellSettings&&(e.cellSettings=new GridCellSettings),null==e.cellSettings.zeroIfNull&&(e.cellSettings.zeroIfNull=!1),""===h&&!1===e.cellSettings.zeroIfNull)h="";else{h=this.formatValue(Number(h),e.type)}break;case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:p=vr_1.GridAlignEnum.Center,h=this.formatValue(new Date(h),e.type,void 0,void 0,e.showSeconds);break;case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let i=null!=t[s]&&1==Boolean(t[s])?"checked='checked'":"";p=vr_1.GridAlignEnum.Center,h="<input "+i+" disabled='disabled' dataItemId='"+a+"' id='"+r+"_"+e.field+"' class='vrCheckBox' type='checkbox'></input><label class='vrLabel vrCheckBoxLabel' for='"+r+"_"+e.field+"'></label>"}break;case vr_1.GridColumnTypeEnum.Button:case vr_1.GridColumnTypeEnum.EditButton:{let t=null;p=vr_1.GridAlignEnum.Center;let l="btn_"+e.field+"_"+r;if(null!=e.buttonSettings&&null!=i[n.dataSourceFieldId]){let a=new GridTemplateEvent;a.dataItem=i,a.className=l,a.element=o,a.empty=null==i[n.dataSourceFieldId],t=e.buttonSettings(a)}null==t&&(t=new vr_1.GridButtonSettings,t.text="",t.value=e.field);let s="max-width: 100%;",u="vrButton grid-button";1==t.isPrimaryButton&&(s+="color: #FFF; background-color: #51B3E1;"),null!=t.color&&(s+="color: "+t.color+";"),null!=t.backgroundColor&&(s+="background-color: "+t.backgroundColor+";"),null!=t.css&&(s+=t.css),null!=t.class&&(u+=" "+t.class);let d=e.type==vr_1.GridColumnTypeEnum.EditButton?vr_1.IconClassLight.Pencil:"",c="";null!=t.icon&&(d=t.icon);let m="",f="";if(null!=t.imageUrl&&(m=t.imageUrl),d.length>0){c="<span style='"+(null!=t.text?"margin-right: 5px;":"")+"'><i class='vrIcon "+d+"'></i></span> "}else if(m.length>0){f="<img style='"+(null!=t.text?"margin-right: 5px;":"")+"' src='"+m+"' />"}let g=e.type==vr_1.GridColumnTypeEnum.EditButton?"Premi per modificare la riga":"";null!=t.tooltip&&(g=t.tooltip),e.type==vr_1.GridColumnTypeEnum.EditButton&&(s+="width: 29px;");let v="";!1===t.enabled&&(v=" disabled='disabled' ",s+="opacity: 0.5; cursor: default;"),this._cellButtons.set(l,{GridControlsSettings:t,columnType:e.type});let b=null!=t.text?t.text:"";h="<button title='"+g+"' style='"+s+"' class='"+u+" "+l+"' dataItemId='"+a+"' id='"+r+"_"+e.field+"'"+v+">"+c+f+b+"</button>",!1===t.visible&&(h="")}break;case vr_1.GridColumnTypeEnum.Custom:{let t=null;p=vr_1.GridAlignEnum.Center;let a="btn_"+e.field+"_"+r;if(null!=e.customSettings&&null!=i[n.dataSourceFieldId]){let r=new GridTemplateEvent;r.dataItem=i,r.className=a,r.element=o,r.empty=null==i[n.dataSourceFieldId],t=e.customSettings(r)}null==t&&(t=new GridCustomSettings,t.value=e.field,t.template="<div></div>");let l="";null!=t.css&&(l+=t.css),this._cellCustoms.set(a,{GridControlsSettings:t,columnType:e.type}),""!==t.template&&(h="<div style='"+l+"'>"+t.template+"</div>"),!1===t.visible&&(h="")}break;case vr_1.GridColumnTypeEnum.Icon:{let t=null;p=vr_1.GridAlignEnum.Center;let l="btn_"+e.field+"_"+r;if(null!=e.iconSettings&&null!=i[n.dataSourceFieldId]){let a=new GridTemplateEvent;a.dataItem=i,a.className=l,a.element=o,a.empty=null==i[n.dataSourceFieldId],t=e.iconSettings(a)}null==t&&(t=new GridIconSettings,t.value=e.field);let s="",u="";null!=t.color&&(s+="color: "+t.color+";"),null!=t.css&&(s+=t.css),null!=t.class&&(u+=" "+t.class);let d="";null!=t.tooltip&&(d=t.tooltip),null!=t.onClick&&!1!==t.enabled&&(s+="cursor: pointer;");let c="",m="";null!=t.icon?c="<i class='vrIcon "+t.icon+"'></i>":null!=t.imageUrl&&(m="<img src='"+t.imageUrl+"' />"),this._cellIcons.set(l,{GridControlsSettings:t,columnType:e.type}),h="<span title='"+d+"' style='"+s+"' class='"+u+" "+l+"' dataItemId='"+a+"' id='"+r+"_"+e.field+"'>"+c+m+"</span>",!1===t.visible&&(h="")}break;case vr_1.GridColumnTypeEnum.Image:{let t=null;p=vr_1.GridAlignEnum.Center;let l="btn_"+e.field+"_"+r;if(null!=e.imageSettings&&null!=i[n.dataSourceFieldId]){let a=new GridTemplateEvent;a.dataItem=i,a.className=l,a.element=o,a.empty=null==i[n.dataSourceFieldId],t=e.imageSettings(a)}null==t&&(t=new GridImageSettings,t.value=e.field);let s="",u="";null!=t.css&&(s+=t.css),null!=t.class&&(u+=" "+t.class);let d="";null!=t.tooltip&&(d=t.tooltip),null!=t.onClick&&!1!==t.enabled&&(s+="cursor: pointer;");let c=h;null!=t.imageUrl&&(c=t.imageUrl),this._cellImages.set(l,{GridControlsSettings:t,columnType:e.type});let m=c;null!=t.base64Bytes&&(m="data:image/png;base64,"+t.base64Bytes),h="<img title='"+d+"' style='"+s+"' class='"+u+" "+l+"' dataItemId='"+a+"' id='"+r+"_"+e.field+"' src='"+m+"' />",!1===t.visible&&(h="")}break;case vr_1.GridColumnTypeEnum.Label:{let t=null;p=vr_1.GridAlignEnum.Left;let l="lbl_"+e.field+"_"+r;if(null!=e.labelSettings&&null!=i[n.dataSourceFieldId]){let a=new GridTemplateEvent;a.dataItem=i,a.className=l,a.element=o,a.empty=null==i[n.dataSourceFieldId],t=e.labelSettings(a)}null==t&&(t=new GridLabelSettings,t.value=e.field);let s="";null!=t.color&&(s+="color: "+t.color+";"),null!=t.css&&(s+=t.css);let u="";null!=t.tooltip&&(u=t.tooltip),null!=t.onClick&&!1!==t.enabled&&(s+="cursor: pointer;"),null!=t.bold&&(s+="font-weight: 500;");let d="";if(null!=t.underlineMode)switch(t.underlineMode){case vr_1.GridLabelUnderlineMode.Always:s+="text-decoration: underline";break;case vr_1.GridLabelUnderlineMode.None:s+="text-decoration: none";break;case vr_1.GridLabelUnderlineMode.OnFocus:d="grid_labelhover"}!0===t.noBr&&(s+="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"),this._cellLabels.set(l,{GridControlsSettings:t,columnType:e.type}),h="<label title='"+u+"' style='"+s+"' class='"+l+" "+d+"' dataItemId='"+a+"' id='"+r+"_"+e.field+"'>"+t.text+"</label>",!1===t.visible&&(h="")}break;case vr_1.GridColumnTypeEnum.ComboBox:case vr_1.GridColumnTypeEnum.DropDownList:case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:p=vr_1.GridAlignEnum.Left,null!=e.displayField&&(h=t[e.displayField]);break;case vr_1.GridColumnTypeEnum.Color:p=vr_1.GridAlignEnum.Center,h.vrIsNotNullOrEmpty()&&(h="<i class='"+vr_1.IconClassSolid.Circle+"' style='height: 20px; color: "+h+"; display: inline-flex; align-items: center;'></i>")}if(!0===t.defaultRow&&(h="",null==vr_1.puma(d).attr("defaultrow")&&vr_1.puma(d).attr("defaultrow","defaultrow")),o.innerHTML=h,n.lockable&&(l.innerHTML=h),null!=e.cellSettings&&(null!=e.cellSettings.backgroundColor&&(vr_1.puma(o).css("background-color",e.cellSettings.backgroundColor),n.lockable&&vr_1.puma(l).css("background-color",e.cellSettings.backgroundColor)),null!=e.cellSettings.color&&(vr_1.puma(o).css("color",e.cellSettings.color),n.lockable&&vr_1.puma(l).css("color",e.cellSettings.color)),null!=e.cellSettings.css&&(o.style.cssText+=e.cellSettings.css,n.lockable&&(l.style.cssText+=e.cellSettings.css))),null!=n.rowColorProperty&&null!=t[n.rowColorProperty]&&""!==t[n.rowColorProperty]&&(vr_1.puma(o).css("background-color",t[n.rowColorProperty]),n.lockable&&vr_1.puma(l).css("background-color",t[n.rowColorProperty])),null!=e.cellSettings&&(p=null!=e.cellSettings.textAlign?e.cellSettings.textAlign:p),vr_1.puma(o).css("text-align",p),n.lockable&&vr_1.puma(l).css("text-align",p),!0===n.tooltip&&e.type!=vr_1.GridColumnTypeEnum.Custom){let t="";if(null!=e.cellSettings)if(!0===e.cellSettings.tooltip)t=null==e.title?"":e.title;else if("string"==typeof e.cellSettings.tooltip)t=e.cellSettings.tooltip;else if("function"==typeof e.cellSettings.tooltip){let a=new GridTooltipEvent;a.dataItem=i,a.element=o,a.empty=null==i[n.dataSourceFieldId],t=e.cellSettings.tooltip(a)}null!=t&&0!=t.length||(t=h),null!=t&&t.length>0&&(vr_1.puma(o).attr("title",vr_1.puma("<span>"+t+"</span>").text()),n.lockable&&vr_1.puma(l).attr("title",vr_1.puma("<span>"+t+"</span>").text()))}!0===e.bold&&(vr_1.puma(o).css("font-weight","500"),n.lockable&&vr_1.puma(l).css("font-weight","500")),n.lockable&&e.locked?vr_1.puma(c).vrAppendPuma(l):vr_1.puma(d).vrAppendPuma(o)}if(vr_1.puma(this.element()).find(">tbody").vrAppendPuma(d),n.lockable&&vr_1.puma(this._elementLocked).find(">tbody").vrAppendPuma(c),n.groupable||null!=n.groupBy)for(let e=n.columns.length-1;e>=0;e--){let t=n.columns[e];if(vr_1.puma(this.container()).hasClass("vrRepeaterContainer")&&t.type==vr_1.GridColumnTypeEnum.Custom)continue;let i="";(null==n.groupBy||null!=n.groupBy.fields&&!n.groupBy.fields.map(e=>e.field).includes(t.field))&&(i="display: none;");let a=vr_1.puma(d).find("td.groupBy"+t.field);if(0==a.length?vr_1.puma(d).prepend("<td width=16 style='border-left: none !important;"+i+"' class='groupBy"+t.field+"'></td>"):null==n.groupBy?a.hide():n.groupBy.fields.map(e=>e.field)&&a.show(),n.lockable){let e=vr_1.puma(c).find("td.groupBy"+t.field);0==e.length?vr_1.puma(c).prepend("<td width=16 style='border-left: none !important;"+i+"' class='groupBy"+t.field+"'></td>"):null==n.groupBy?e.hide():n.groupBy.fields.map(e=>e.field)&&e.show()}}if(vr_1.puma(d).height(n.rowHeight),n.checkboxes!=vr_1.GridCheckboxModeEnum.None?(vr_1.puma(d).off("click"),vr_1.puma(d).click(e=>{e.shiftKey&&n.checkboxes==vr_1.GridCheckboxModeEnum.MultiCheck?this.selectRangeShiftKey(e.target):vr_1.puma(e.target).is("input")||vr_1.puma(e.target).hasClass("vrButton")||vr_1.puma(e.target).hasClass("vrIcon")||this.selectRowInternal(a,!1,!0)})):(vr_1.puma(d).off("click"),vr_1.puma(d).click(e=>{if(null!=n.onSelectRow){let t=new GridSelectRowEvent;t.sender=this,t.rowElement=e.currentTarget,t.dataItem=i,t.checked=!0,t.empty=null==i[n.dataSourceFieldId],n.onSelectRow(t)}})),null!=n.onRowDataBound){let e=new GridOnRowDataBoundEvent;e.sender=this,e.rowElement=d;let i={};for(let e of Object.getOwnPropertyNames(t))i[e]=t[e];e.dataItem=i,e.realDataItem=t,e.empty=null==i[n.dataSourceFieldId];let a=n.onRowDataBound(e);null!=a&&a.length>0&&(vr_1.puma(d).find("td").css("background-color",a),n.lockable&&vr_1.puma(c).find("td").css("background-color",a))}l++,s++}if(this._actualPageSize=n.pageSize,null!=n.onDataBound&&t){let e=new GridOnDataBoundEvent;e.sender=this,n.onDataBound(e)}if(!1!==n.footer){let t=n.footer,i=!1!==n.serverBinding?this._responseForServerBinding[n.serverBinding.itemCountPropertyName]:e.length;if(n.pageSize<i){let o=this.pageSelected(),l=Math.trunc(i/n.pageSize);if(i%n.pageSize>0&&(l+=1),t.showPagination&&0!=n.pageSize){vr_1.puma("#"+this._elementId+"_divPagination").remove();let e=vr_1.puma("<span id='"+this._elementId+"_divPagination' class='p-grid-pagination'></span>").prependTo(this._divFooter);vr_1.createButton({icon:vr_1.IconClassLight.Backward,css:"border-left: none; border-top-left-radius: 5px; border-bottom-left-radius: 5px;",onClick:e=>{this.pageSelected(1)}},e,null,this._elementId+"_btnFirstPage"),vr_1.createButton({icon:vr_1.IconClassLight.BackwardStep,onClick:e=>{let t=this.pageSelected()-1;t<1&&(t=1),this.pageSelected(t)}},e,null,this._elementId+"_btnPreviousPage");let t=n.footer.maxVisiblePages,i=1;i=o%t==0?(o/t-1)*t+1:Math.trunc(o/t)*t+1;let a=0,r=!1;l<=t?(a=i+l,r=!0):a=i+t,a>=l+1&&(a=l+1,r=!0),i>1&&(vr_1.puma("<button id='"+this._elementId+"_btnPage_"+(i-1)+"'></button>").vrAppendToPuma(e),vr_1.createButton({text:"...",onClick:e=>{this.pageSelected(i-1)}},null,null,this._elementId+"_btnPage_"+(i-1)));for(let t=i;t<=a&&(t!=a||!r);t++)vr_1.puma("<button id='"+this._elementId+"_btnPage_"+t+"'></button>").vrAppendToPuma(e),vr_1.createButton({text:t==a?i==a?String(t):"...":String(t),class:t==o?"p-grid-pageSelected":void 0,onClick:e=>{let t=Number(vr_1.puma(e.sender.element()).attr("id").split("_").last());this.pageSelected(t)}},null,null,this._elementId+"_btnPage_"+t);vr_1.puma("<button id='"+this._elementId+"_btnNextPage'></button>").vrAppendToPuma(e),vr_1.createButton({icon:vr_1.IconClassLight.ForwardStep,onClick:e=>{let t=this.pageSelected()+1;t>l&&(t=l),this.pageSelected(t)}},null,null,this._elementId+"_btnNextPage"),vr_1.puma("<button id='"+this._elementId+"_btnLastPage'></button>").vrAppendToPuma(e),vr_1.createButton({icon:vr_1.IconClassLight.Forward,css:"border-top-right-radius: 5px; border-bottom-right-radius: 5px;",onClick:e=>{this.pageSelected(l)}},null,null,this._elementId+"_btnLastPage")}if(t.totalElements)if(vr_1.puma("#"+this._elementId+"TotalsLabel").remove(),vr_1.puma("<span id='"+this._elementId+"TotalsLabel' class='p-grid-totalElements'></span>").vrAppendToPuma(this._divFooter),"boolean"==typeof t.totalElements&&!0===t.totalElements)if(0==n.pageSize)vr_1.puma("#"+this._elementId+"TotalsLabel").html("Nessun elemento");else{r>i&&(r=i);let t=a+" - "+r+" di "+i+(1==i?" elemento":" elementi")+" - "+o+" di "+l+" pagine";if(!1!==n.serverBinding){t=n.pageSize*(this.pageSelected()-1)+1+" - "+(n.pageSize*(this.pageSelected()-1)+e.length)+" di "+i+(1==i?" elemento":" elementi")+" - "+o+" di "+l+" pagine"}vr_1.puma("#"+this._elementId+"TotalsLabel").html(t)}else{let i=new GridTotalElementTemplateEvent;i.dataItems=e,i.firstIndex=a,i.lastIndex=r,i.numberOfPages=l,i.pageSelected=o;let n=t.totalElements(i);vr_1.puma("#"+this._elementId+"TotalsLabel").html(n)}}else{if(t.showPagination&&vr_1.puma("#"+this._elementId+"_divPagination").remove(),t.totalElements){vr_1.puma("#"+this._elementId+"TotalsLabel").remove(),vr_1.puma("<span id='"+this._elementId+"TotalsLabel' class='p-grid-totalElements'></span>").vrAppendToPuma(this._divFooter);let i=e.filter(e=>null==e.defaultRow||0==e.defaultRow);if("boolean"==typeof t.totalElements&&!0===t.totalElements)0==i.length?vr_1.puma("#"+this._elementId+"TotalsLabel").html("Nessun elemento"):vr_1.puma("#"+this._elementId+"TotalsLabel").html(e.length+(1==i.length?" elemento":" elementi"));else{let e=new GridTotalElementTemplateEvent;e.dataItems=i,e.firstIndex=a,e.lastIndex=r;let n=t.totalElements(e);vr_1.puma("#"+this._elementId+"TotalsLabel").html(n)}}if(!t.showPageSize){let e=controlManager_1.ControlManager.get(this._elementId+"_ddlPageSize");null!=e&&e.hide()}}}if(this._showTotals&&n.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate).length>0)if(!1!==n.serverBinding)this.createTotals(this._responseForServerBinding[n.serverBinding.totalsPropertyName],!1);else{vr_1.puma(this._divTotals).find("td").empty(),n.lockable&&vr_1.puma(this._divTotalsLocked).find("td").empty();let t=new WorkerTotalsRequest;t.isGroup=!1,t.dataItems=e,t.columnOptions=n.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate&&!0!==e.hidden).map(e=>{let t=vr_1.puma(this._divTotals).find("td[field='"+e.field+"']")[0];n.lockable&&null==t&&(t=vr_1.puma(this._divTotalsLocked).find("td[field='"+e.field+"']")[0]);let i=vr_1.puma(t).attr("decimalDigits"),a=Number(vr_1.puma(t).attr("aggregate"));return{field:e.field,decimalDigits:i,aggregateMode:a,type:e.type,countZeroInAverage:e.countZeroInAverage,roundingSettings:e.roundingSettings}}),this._workerTotals.postMessage(t),this._workerTotals.onmessage=e=>{this.createTotals(e.data,!1)}}if(n.groupable&&null!=n.groupBy){let t=new WorkerTotalsRequest;t.groupItems=[],t.isGroup=!0;let i=Array.from(vr_1.puma(this.element()).find(".grid_trGroupBy"));i.vrPushRange(Array.from(vr_1.puma(this._elementLocked).find(".grid_trGroupByLocked")));for(let a of i){let i=[];i=vr_1.puma(a).hasClass("grid_trGroupByLocked")?this.getChildrenGroupRows(a,this._divBodyLocked).children:this.getChildrenGroupRows(a,this._divBody).children;let r=Number(vr_1.puma(a).attr("level"));if(!n.serverBinding){let e=vr_1.puma(a).find("td.grid_tdGroupByName"),t=i.length;this.dataSource().length>1&&e.find("div.grid_divGroupByName").vrAppendPuma("<span style='margin-left: 5px;'>("+t+")</span>")}if(this._showTotals&&0==r){let r=vr_1.puma(a).attr("value").replace(/\(/g,"").replace(/\)/g,"").replace(/,/g,"").replace(/\[/g,"").replace(/\]/g,"").replace(/:/g,""),o=vr_1.puma(i.vrLast()).clone();o.addClass("p-grid-totalsGroup"),o.find("td").empty(),o.vrInsertAfterPuma(i.vrLast()),o.addClass(this._elementId+"_totalGroupBy"+r);let l=new WorkerTotalsGroupItem;l.groupValue=r;let s=[];for(let t of i){let i=vr_1.puma(t).attr("dataitemid");s.push(e.filter(e=>e[n.dataSourceFieldId]==i)[0])}l.dataItems=s,t.groupItems.push(l)}}this._showTotals&&n.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate).length>0&&(t.columnOptions=n.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate&&!0!==e.hidden).map(e=>{let t=vr_1.puma(this._divTotals).find("td[field='"+e.field+"']")[0];n.lockable&&null==t&&(t=vr_1.puma(this._divTotalsLocked).find("td[field='"+e.field+"']")[0]);let i=vr_1.puma(t).attr("decimalDigits"),a=Number(vr_1.puma(t).attr("aggregate"));return{field:e.field,decimalDigits:i,aggregateMode:a,type:e.type,countZeroInAverage:e.countZeroInAverage,roundingSettings:e.roundingSettings}}),this._workerTotalsGroup.postMessage(t),this._workerTotalsGroup.onmessage=e=>{this.createTotals(e.data,!0)})}if(this.recalculateHeight(),this.recalculateWidth(),this.recalculateHeight(),n.lockable){let e=Array.from(vr_1.puma(this._elementLocked).find(">tbody tr")),t=Array.from(vr_1.puma(this.element()).find(">tbody tr"));for(let i=0;i<e.length;i++){let a=e[i];vr_1.puma(a).height(vr_1.puma(t[i]).height())}}this._deletedItems=[],null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.length>0&&this.selectRows(this._checkedItemsForFiltering.map(e=>e[n.dataSourceFieldId]),void 0,!1)}createTotals(e,t){if(t)for(let t of e)for(let e of t.totals){let i=Array.from(vr_1.puma("."+this._elementId+"_totalGroupBy"+t.groupValue).find("td[field='"+e.field+"']"));for(let t of i)this.writeTotals(e,t)}else for(let t of e){let e=vr_1.puma(this._divTotals).find("td[field='"+t.field+"']")[0];this.getOptions().lockable&&null==e&&(e=vr_1.puma(this._divTotalsLocked).find("td[field='"+t.field+"']")[0]),this.writeTotals(t,e)}}writeTotals(e,t){if(null!=t){let i=this.formatValue(e.total,e.type,e.decimalDigits,e.roundingSettings);t.innerHTML=i,vr_1.puma(t).attr("title",t.innerHTML)}}formatValue(e,t,i,a,r){let n=this.getOptions();if(t==vr_1.GridColumnTypeEnum.Number||t==vr_1.GridColumnTypeEnum.Currency||t==vr_1.GridColumnTypeEnum.Percentage){null==a&&(a=n.roundingSettings);let r=new vr_1.NumberFormatSettings(a);if(r.minimumFractionDigits=i,r.maximumFractionDigits=i,null!=a&&(null!=a.minimumFractionDigits&&(r.minimumFractionDigits=a.minimumFractionDigits),null!=a.maximumFractionDigits&&(r.maximumFractionDigits=a.maximumFractionDigits),a.roundingMode==vr_1.RoundingModeEnum.None&&null==a.maximumFractionDigits&&(r.maximumFractionDigits=8)),t==vr_1.GridColumnTypeEnum.Percentage&&(e=Number(e)/100),t==vr_1.GridColumnTypeEnum.Number)return Number(e).vrToNumberString(r);if(t==vr_1.GridColumnTypeEnum.Currency)return Number(e).vrToCurrencyString(r);if(t==vr_1.GridColumnTypeEnum.Percentage)return Number(e).vrToPercentageString(r)}else{if(t==vr_1.GridColumnTypeEnum.Duration){let t=Math.trunc(e/60),i=String(t);t<10&&(i="0"+i);let a=Math.trunc(e%60),r=String(a);return a<10&&(r="0"+r),i+":"+r}if(t==vr_1.GridColumnTypeEnum.Date||t==vr_1.GridColumnTypeEnum.DateTime||t==vr_1.GridColumnTypeEnum.Time){if(t==vr_1.GridColumnTypeEnum.Date)return""!=e&&Date.vrIsValidDate(e)?new Date(e).vrToItalyString(vr_1.DateModeEnum.Date):"";if(t==vr_1.GridColumnTypeEnum.DateTime)return""!=e&&Date.vrIsValidDate(e)?new Date(e).vrToItalyString(vr_1.DateModeEnum.DateTime,r):"";if(t==vr_1.GridColumnTypeEnum.Time)return""!=e&&Date.vrIsValidDate(e)?new Date(e).vrToItalyString(vr_1.DateModeEnum.Time,r):""}}return""}updateRow(e,t=!0){let i=this.getOptions(),a=e[i.dataSourceFieldId],r=this.originalDataSource().filter(e=>e[i.dataSourceFieldId]==a)[0],n=this.originalDataSource().indexOf(r),o=this.dataSource().filter(e=>e[i.dataSourceFieldId]==a)[0],l=this.dataSource().indexOf(o);null!=r?(this.originalDataSource()[n]=e,this.dataSource()[l]=e,t&&this.update()):this.addRow(e,t)}updateRows(e,t=!0){for(let t of e)this.updateRow(t,!1);t&&this.update()}addRow(e,t=!0){this.addRows([e],t)}addRows(e,t=!0){let i=this.getOptions();for(let t of e)null==t[i.dataSourceFieldId]&&(t[i.dataSourceFieldId]=this._lastIndexAdded,this._lastIndexAdded--);null==this._originalDataSource&&(this._originalDataSource=[]),this.dataSource().vrPushRange(e),this._originalDataSource.vrPushRange(e),i.groupable&&null!=i.groupBy&&this.sortingGroupFields(e),t&&this.setDataSource(this.dataSource());for(let e of i.columns)e.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(e.field,this._originalDataSource.map(t=>String(t[e.field]).toLowerCase()))}deleteRow(e,t=!1){this.deleteRows([e],t)}deleteRows(e,t=!1){let i=this.getOptions(),a=Array.from(vr_1.puma(this._divBody).find("tr"));for(let t of a)e.vrToStringArrayList().includes(vr_1.puma(t).attr("dataItemId"))&&vr_1.puma(t).remove();for(let t of e){let e=this.dataSource().filter(e=>e[i.dataSourceFieldId]==t)[0];null!=e&&(this.dataSource().vrDeleteItem(e,i.dataSourceFieldId),this._originalDataSource.vrDeleteItem(e,i.dataSourceFieldId))}for(let e of i.columns)e.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(e.field,this._originalDataSource.map(t=>String(t[e.field]).toLowerCase()));t&&this.setDataSource(this.dataSource())}rows(){let e=[],t=Array.from(vr_1.puma(this._divBody).find("tr"));for(let i of t){let t=new GridRow;t.element=i,t.cells=vr_1.puma(i).find("td"),t.id=i.id,t.dataItemId=i.getAttribute("dataItemId"),t.index=Number(i.getAttribute("row")),e.push(t)}return e}getAllItems(e=!1){let t=this.dataSource();if(e)for(let e of t)for(let t in e){let i=e[t];Date.vrIsValidDate(i)&&(e[t]=Date.vrConvertDateFromClient(i))}return t.filter(e=>!0!==e.defaultRow)}getCheckedItems(){let e=this.getOptions(),t=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column")).filter(e=>e.checked),i=[];for(let a of t){let t=a.closest("tr");if(null!=t){let a=vr_1.puma(t).attr("dataItemId"),r=this.dataSource().filter(t=>t[e.dataSourceFieldId]==a)[0];null!=r&&i.push(r)}}return i}getCheckedValues(){let e=this.getOptions();return this.getCheckedItems().map(t=>null!=t&&t[e.dataSourceFieldId])}getDeletedItems(){return this._deletedItems}getDeletedItemValues(e){let t=this.getOptions();return this.getDeletedItems().map(i=>null!=e?i[e]:i[t.dataSourceFieldId])}clearSelection(e=!0){this.unCheckAllRows(e)}checkAllRows(e=!0){let t=this.getOptions(),i=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");i.attr("checked","checked"),null!=i[0]&&(i[0].checked=!0);let a=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column"));for(let e of a)vr_1.puma(e).attr("checked","checked"),e.checked=!0;if(i.removeClass("indeterminateVrCheckbox"),t.groupable&&null!=t.groupBy&&t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=vr_1.puma(this._divBody).find(".grid_trGroupBy");for(let t of Array.from(e)){let e=vr_1.puma(t).find("input");e[0].checked=!0,e.removeClass("indeterminateVrCheckbox")}}if(this._checkedItemsForFiltering=this.getCheckedItems(),e&&null!=t.onSelectAllRows){let e=new GridSelectAllRowsEvent;e.sender=this,t.onSelectAllRows(e)}}unCheckAllRows(e=!0){let t=this.getOptions(),i=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");i.removeAttr("checked"),null!=i[0]&&(i[0].checked=!1);let a=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column"));for(let e of a)vr_1.puma(e).removeAttr("checked"),e.checked=!1;if(i.removeClass("indeterminateVrCheckbox"),t.groupable&&null!=t.groupBy&&t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=vr_1.puma(this._divBody).find(".grid_trGroupBy");for(let t of Array.from(e)){let e=vr_1.puma(t).find("input");e[0].checked=!1,vr_1.puma(e).removeAttr("checked"),e.removeClass("indeterminateVrCheckbox")}}if(this._checkedItemsForFiltering=[],e&&null!=t.onUnselectAllRows){let e=new GridUnselectAllRowsEvent;e.sender=this,t.onUnselectAllRows(e)}}selectRowsByIndexes(e,t=!0){for(let i of e)this.selectRowByIndex(i,t)}selectRowByIndex(e,t=!0){let i=vr_1.puma(this._divBody).find("tr[row='"+e+"']").attr("dataItemId");this.selectRowInternal(i,!1,!1,t)}selectRows(e,t,i=!0){if(null!=t){let i=this.getOptions(),a=[];e=e.vrDistinct();for(let i of e)a.vrPushRange(this.dataSource().filter(e=>e[t]==i));e=a.map(e=>e[i.dataSourceFieldId])}for(let t of e)this.selectRow(t,i)}selectRow(e,t=!0){this.selectRowInternal(e,!1,!1,!0,t)}selectRangeShiftKey(e){let t=Number(vr_1.puma(e).closest("tr").attr("row")),i=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column:checked")),a=[];for(let e of i)a.push(vr_1.puma(e).closest("tr")[0]);let r=null,n=0;for(let e of a){let i=Number(vr_1.puma(e).attr("row")),a=Math.abs(t-i);(null==r||a<r&&a>0)&&(r=a,n=Number(vr_1.puma(e).attr("row")))}let o=n<t?t:n;for(let e=(n<t?n:t)+1;e<=o;e++){let t=vr_1.puma(this._divBody).find("tr[row='"+e+"']").attr("dataItemId");this.selectRowInternal(t,!0,!0,!1,!0,!0)}}selectRowInternal(e,t=!1,i=!1,a=!1,r=!0,n=!1,o=!1){let l=this.getOptions(),s=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column")),u=null,d=s.filter(t=>vr_1.puma(t).attr("dataItemId")==e)[0];if(null!=d){if(d.checked){let n=s.filter(e=>e.checked);if(l.checkboxes==vr_1.GridCheckboxModeEnum.SingleCheck||l.checkboxes==vr_1.GridCheckboxModeEnum.MultiCheck&&!t&&n.length>1){if(!a){for(let e of s)vr_1.puma(e).removeAttr("checked"),e.checked=!1,this.manageGroupCheckParent(e);null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.vrDeleteAllBy(t=>t[l.dataSourceFieldId]==e)}vr_1.puma(d).attr("checked","checked"),d.checked=!0}else i&&this.unselectRow(e,r)}else{if(!(l.checkboxes!=vr_1.GridCheckboxModeEnum.SingleCheck&&t||a))for(let t of s)vr_1.puma(t).removeAttr("checked"),t.checked=!1,this.manageGroupCheckParent(t),null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.vrDeleteAllBy(t=>t[l.dataSourceFieldId]==e);i||a?(vr_1.puma(d).attr("checked","checked"),d.checked=!0):(vr_1.puma(d).removeAttr("checked"),d.checked=!1,null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.vrDeleteAllBy(t=>t[l.dataSourceFieldId]==e))}u=this.dataSource().filter(t=>t[l.dataSourceFieldId]==e)[0]}let c=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");c.addClass("indeterminateVrCheckbox");let p=this.getCheckedItems();if(null!=this._checkedItemsForFiltering)for(let e of p)0!=this._checkedItemsForFiltering.length&&this._checkedItemsForFiltering.map(e=>e[l.dataSourceFieldId]).includes(e[l.dataSourceFieldId])||this._checkedItemsForFiltering.push(e);if(p.length==s.length?(c.removeClass("indeterminateVrCheckbox"),c.attr("checked","checked"),null!=c[0]&&(c[0].checked=!0)):0==p.length&&c.removeClass("indeterminateVrCheckbox"),this.manageGroupCheckParent(d),null!=l.onSelectRow&&null!=u&&r){let e=vr_1.puma(d).closest("tr")[0],t=this.dataSource().map(e=>e[l.dataSourceFieldId]).indexOf(u[l.dataSourceFieldId]);-1!=t&&null!=l.dataSourceFieldId||(t=vr_1.puma(e).index());let i=new GridSelectRowEvent;i.sender=this,i.rowElement=e,i.dataItem=u,i.checked=null!=d&&d.checked,i.empty=null!=u&&null==u[l.dataSourceFieldId],i.index=t,i.shiftKey=n,i.fromCheckbox=o,l.onSelectRow(i)}}manageGroupCheckParent(e){let t=this.getOptions();if(t.groupable&&null!=t.groupBy&&t.checkboxes!=vr_1.GridCheckboxModeEnum.None&&null!=e){let t=e.parentElement.parentElement,i=vr_1.puma(t).index();for(;!vr_1.puma(t).hasClass("grid_trGroupBy");)t=vr_1.puma(this._divBody).find("tr:nth-child("+i+")")[0],i--;for(;0==Number(vr_1.puma(t).attr("level"))&&vr_1.puma(t).hasClass("grid_trGroupBy")||Number(vr_1.puma(t).attr("level"))>0||!vr_1.puma(t).hasClass("grid_trGroupBy");){if(!vr_1.puma(t).hasClass("grid_trGroupBy")){t=vr_1.puma(this._divBody).find("tr:nth-child("+i+")")[0],i--;continue}let e=vr_1.puma(t).find("input"),a=this.getChildrenGroupRows(t,this._divBody),r=this.getCheckedChildrenGroupRows(t,this._divBody).length;if(e[0].checked=!1,e.removeClass("indeterminateVrCheckbox"),r==a.children.length?e[0].checked=!0:0==r?e[0].checked=!1:e.addClass("indeterminateVrCheckbox"),0==Number(vr_1.puma(t).attr("level")))break;t=vr_1.puma(this._divBody).find("tr:nth-child("+i+")")[0],i--}}}unselectRows(e,t,i=!0){if(null!=t){let i=this.getOptions(),a=[];e=e.vrDistinct();for(let i of e)a.vrPushRange(this.dataSource().filter(e=>e[t]==i));e=a.map(e=>e[i.dataSourceFieldId])}for(let t of e)this.unselectRow(t,i)}unselectRow(e,t=!0){let i=this.getOptions(),a=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column")),r=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");r.removeAttr("checked"),null!=r[0]&&(r[0].checked=!1);let n=this.getCheckedItems();if(null!=this._checkedItemsForFiltering)for(let e of n)this._checkedItemsForFiltering.vrDeleteItem(e,i.dataSourceFieldId);0==n.length?r.removeClass("indeterminateVrCheckbox"):r.addClass("indeterminateVrCheckbox");let o=null,l=a.filter(t=>vr_1.puma(t).attr("dataItemId")==e)[0];if(null!=l&&(l.checked&&(vr_1.puma(l).removeAttr("checked"),l.checked=!1),o=this.dataSource().filter(t=>t[i.dataSourceFieldId]==e)[0]),null!=i.onUnselectRow&&t){let e=new GridUnselectRowEvent;e.sender=this,e.rowElement=l.closest("tr"),e.dataItem=o,i.onUnselectRow(e)}}applySorting(e=!0){null!=this._actualSortingInfo&&this.sort(this._actualSortingInfo.field,this._actualSortingInfo.mode,e)}removeSort(e=!0){if(null!=this._actualSortingInfo){let t=this.getOptions(),i=this._actualSortingInfo.field,a=vr_1.puma(this._divHeader).find("th[value='"+i+"']");t.lockable&&null==a[0]&&(a=vr_1.puma(this._divHeaderLocked).find("th[value='"+i+"']")),null!=a[0]&&(a[0].style.cssText+="background-color: #e3f1fa !important; color: #000 !important;",null!=a.find(".grid_headerThContent")[0]&&(a.find(".grid_headerThContent")[0].style.cssText+="color: #000 !important;")),a.find("i").removeClass(vr_1.IconClassLight.CaretUp),a.find("i").removeClass(vr_1.IconClassLight.CaretDown),a.removeAttr("sortMode"),this._actualSortingInfo=null,e&&(!1!==t.serverBinding?this.rebind():this.update())}}sort(e,t,i=!0){let a=this.getOptions();if(!1===a.sortable)return;null!=this._actualSortingInfo&&this._actualSortingInfo.field!==e&&this.removeSort(!1);let r=vr_1.puma(this._divHeader).find("th[value='"+e+"']");a.lockable&&null==r[0]&&(r=vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']")),null!=r[0]&&(r[0].style.cssText+="background-color: coral !important; color: #FFF !important;",null!=r.find(".grid_headerThContent")[0]&&(r.find(".grid_headerThContent")[0].style.cssText+="color: #FFF !important;")),null==t&&(t=vr_1.GridSortDirectionEnum.Asc),this._actualSortingInfo={field:e,mode:t},t==vr_1.GridSortDirectionEnum.Asc?(r.find("i").removeClass(vr_1.IconClassLight.CaretDown),r.find("i").removeClass(vr_1.IconClassLight.CaretUp),r.find("i").addClass(vr_1.IconClassLight.CaretUp),r.attr("sortMode",vr_1.GridSortDirectionEnum.Asc)):(r.find("i").removeClass(vr_1.IconClassLight.CaretDown),r.find("i").removeClass(vr_1.IconClassLight.CaretUp),r.find("i").addClass(vr_1.IconClassLight.CaretDown),r.attr("sortMode",vr_1.GridSortDirectionEnum.Desc)),!1!==a.serverBinding&&i?this.rebind():(this.dataSource().length>2500&&vr_1.showLoader(),window.setTimeout(()=>{this._cellButtons=new Map,this._cellIcons=new Map,this._cellCustoms=new Map,this._cellLabels=new Map,this._cellImages=new Map;let r=this.dataSource().map(e=>e);null!=a.groupBy?(a.groupBy.internalSortBy={field:e,direction:t},this.sortingGroupFields(r)):r.vrSortBy([e],t==vr_1.GridSortDirectionEnum.Asc),i&&(this.drawTable(r),this.manageControls()),vr_1.hideLoader()}))}sortingGroupFields(e){let t=this.getOptions(),i=[],a=null!=t.groupBy.sortBy?t.groupBy.sortBy.field:null;if(null!=a)t.groupBy.sortBy.direction==vr_1.GridSortDirectionEnum.Desc?i.push("-"+a):i.push(a);else if(null!=t.groupBy.fields)for(let e of t.groupBy.fields)null!=e&&(i.includes(e.field)||i.push(e.field));if(null!=t.groupBy.internalSortBy){let e=t.groupBy.internalSortBy.field;null!=e&&(t.groupBy.internalSortBy.direction==vr_1.GridSortDirectionEnum.Desc?i.push("-"+e):i.push(e))}e.vrSortBy(i)}column(e){let t=this.getOptions(),i=t.columns.filter(t=>t.field==e)[0],a=t.columns.indexOf(i);return t.columns[a]}columnTitle(e,t){let i=this.column(e);if(null!=i){if(null!=t){i.title=t,vr_1.puma(this._divHeader).find("th[value='"+e+"']").find("span.grid_headerThContent").html(t),this.getOptions().lockable&&vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").find("span.grid_headerThContent").html(t)}return i.title}return""}hideColumns(e,t=!0){for(let t of e)this.hideColumn(t,!1);t&&this.update()}hideColumn(e,t=!0){vr_1.puma(this._divHeader).find("th[value='"+e+"']").hide(),vr_1.puma(this._divFilters).find("td[value='"+e+"']").hide(),vr_1.puma(this._divBody).find("td[value='"+e+"']").hide(),vr_1.puma(this._divTotals).find("td[value='"+e+"']").hide(),this.getOptions().lockable&&(vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").hide(),vr_1.puma(this._divFiltersLocked).find("td[value='"+e+"']").hide(),vr_1.puma(this._divBodyLocked).find("td[value='"+e+"']").hide(),vr_1.puma(this._divTotalsLocked).find("td[value='"+e+"']").hide());let i=this.column(e);null!=i&&(i.hidden=!0,this.removeFilter(e)),t&&this.update()}hideCheckboxColumn(e=!1){this.hideColumn("vrGridCheckboxColumn",e)}showColumns(e,t=!0){for(let t of e)this.showColumn(t,!1);t&&this.update()}showColumn(e,t=!0){vr_1.puma(this._divHeader).find("th[value='"+e+"']").show(),vr_1.puma(this._divFilters).find("td[value='"+e+"']").show(),vr_1.puma(this._divBody).find("td[value='"+e+"']").show(),vr_1.puma(this._divTotals).find("td[value='"+e+"']").show(),this.getOptions().lockable&&(vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").show(),vr_1.puma(this._divFiltersLocked).find("td[value='"+e+"']").show(),vr_1.puma(this._divBodyLocked).find("td[value='"+e+"']").show(),vr_1.puma(this._divTotalsLocked).find("td[value='"+e+"']").show());let i=this.column(e);null!=i&&(i.hidden=!1),t&&this.update()}showCheckboxColumn(e=!1){this.showColumn("vrGridCheckboxColumn",e)}showOnlyThisColumns(e,t=!0){let i=this.getOptions();for(let e of i.columns)this.hideColumn(e.field,!1);for(let t of e)this.showColumn(t,!1);t&&this.update()}columnVisible(e,t,i=!0){t?this.showColumn(e,i):this.hideColumn(e,i)}columnCheckboxVisible(e,t=!1){e?this.showCheckboxColumn(t):this.hideCheckboxColumn(t)}removeGroup(e,t=!0){this.removeGroups([e],t)}removeGroups(e,t=!0){let i=this.getOptions();if(i.groupable&&null!=i.groupBy){for(let t of e)i.groupBy.fields.map(e=>e.field).includes(t)&&(i.groupBy.fields.vrDeleteAllBy(e=>e.field==t),vr_1.puma("#"+this._elementId+"_divContainer").find(".groupBy"+t).hide());0==i.groupBy.fields.length&&(i.groupBy=null),t&&this.update()}}removeAllGroups(e=!0){let t=this.getOptions();t.groupable&&null!=t.groupBy&&this.removeGroups(t.groupBy.fields.map(e=>e.field),!1),t.groupBy=null,e&&this.update()}addGroup(e,t=!0,i,a){this.addGroups([e],t,i,a)}addGroups(e,t=!0,i,a){let r=this.getOptions();if(null==r.groupBy&&(r.groupBy=[]),!r.groupable)throw new Error("Griglia non raggruppabile! Mettere opzione .groupable: true");null!=i&&(r.groupBy.sortBy=i),null!=a&&(r.groupBy.internalSortBy=a);for(let t of e){let e=t;if("string"==typeof t&&(e=new vr_1.GridGroupByItem,e.field=t),null==r.groupBy.fields&&(r.groupBy.fields=[]),!r.groupBy.fields.map(e=>e.field).includes(e.field)){r.groupBy.fields.push(e);let i=t;"string"!=typeof t&&(i=t.field),vr_1.puma("#"+this._elementId+"_divContainer").find(".groupBy"+i).show()}if(Array.from(vr_1.puma(this._divHeader).find(">table tr:first-child th")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divHeader).find(">table tr:first-child").vrPrependPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1;' class='groupBy"+e.field+"' value='"+e.field+"'></th>"),Array.from(vr_1.puma(this._divFilters).find(">table tr:first-child td")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divFilters).find(">table tr:first-child").vrPrependPuma("<td width=16 style='border: 1px solid rgb(221, 221, 221);' class='groupBy"+e.field+"'></td>"),r.lockable){Array.from(vr_1.puma(this._divHeaderLocked).find(">table tr:first-child th")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divHeaderLocked).find(">table tr:first-child").vrPrependPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1;' class='groupBy"+e.field+"' value='"+e.field+"'></th>"),Array.from(vr_1.puma(this._divFiltersLocked).find(">table tr:first-child td")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divFiltersLocked).find(">table tr:first-child").vrPrependPuma("<td width=16 style='border: 1px solid rgb(221, 221, 221);' class='groupBy"+e.field+"'></td>")}r.columns.map(e=>e.field).includes(e.field)||r.columns.push({field:e.field,hidden:!0})}this.sortingGroupFields(this.dataSource()),t&&this.update()}getChildrenGroupRows(e,t){let i=new GridChildrenGroupRows,a=[],r=Number(vr_1.puma(e).attr("level")),n=vr_1.puma(e).index()+2,o=vr_1.puma(t).find("tr:nth-child("+n+")"),l=Number(vr_1.puma(t).find("tr:nth-child("+n+")").attr("level"));for(a.push(o[0]);(0==r&&l!=r||r!=l&&!o.hasClass("grid_trGroupBy"))&&0!=o.length;)a.map(e=>vr_1.puma(e).attr("id")).includes(o.attr("id"))&&!o.hasClass("grid_trGroupBy")||a.push(o[0]),n++,o=vr_1.puma(t).find("tr:nth-child("+n+")"),l=Number(vr_1.puma(t).find("tr:nth-child("+n+")").attr("level"));return a=a.filter(e=>!vr_1.puma(e).hasClass("p-grid-totalsGroup")),i.children=a.filter(e=>!vr_1.puma(e).hasClass("grid_trGroupBy")),i.groupRows=a.filter(e=>vr_1.puma(e).hasClass("grid_trGroupBy")),i.allRows=a,i}getCheckedChildrenGroupRows(e,t){let i=[],a=this.getChildrenGroupRows(e,t);for(let e of a.children){let t=vr_1.puma(e).find(".vr-checkbox-column")[0];null!=t&&t.checked&&i.push(e)}return i}createWindowTableActions(){null==this._wndTableActions&&(this._wndTableActions=vr_1.createWindow({addToControlList:!1,width:385,height:400,title:"Mostra/Nascondi colonne",classContainer:this.element().id+"_wndUtility",onClose:e=>{vr_1.puma(this._wndTableActions.container()).remove(),this._wndTableActions=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Reimposta",mode:vr_1.ButtonModeEnum.Primary,value:"restoreOriginal",icon:vr_1.IconClassLight.RotateLeft,onClick:e=>{let t=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer");for(let e of Array.from(t.find("input"))){let t=controlManager_1.ControlManager.get(e.id),i=vr_1.puma(e).attr("field");t.checked(!this._originalHiddenColumnFields.includes(i))}}},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Seleziona tutti",mode:vr_1.ButtonModeEnum.Primary,icon:vr_1.IconClassLight.Check,onClick:e=>{let t=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer");for(let e of Array.from(t.find("input"))){controlManager_1.ControlManager.get(e.id).checked(!0,!0)}}},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Deseleziona tutti",icon:vr_1.IconClassLight.Check,onClick:e=>{let t=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer");for(let e of Array.from(t.find("input"))){controlManager_1.ControlManager.get(e.id).checked(!1,!0)}}}]}),vr_1.puma(this._wndTableActions.element()).vrAppendPuma("<div id='"+this._elementId+"_divWindowTableActionsContainer'  class='vrContainer'></div>"))}openWindowTableActions(e){this.createWindowTableActions();let t=[],i=[],a=!1,r=this.getOptions();this._wndTableActions.open().then(()=>{a&&(this.dataSource().length>1e3&&vr_1.showLoader(),window.setTimeout(()=>{for(let e of i)this.removeGroup(e,!1);for(let e of t)this.addGroup(e,!1);this.update(),vr_1.hideLoader()},100))}),this.clearWindowTableActions();let n=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer")[0];n.style.cssText+="overflow-y: auto;",e==GridActionEnum.ShowHide?this._wndTableActions.title("Mostra o nascondi colonne"):e==GridActionEnum.GroupBy&&this._wndTableActions.title("Raggruppa per colonne");for(let o of r.columns){if(o.type==vr_1.GridColumnTypeEnum.EditButton||""===o.title||null==o.title)continue;let l=vr_1.puma("<div id='"+this._elementId+"_divActionColumn"+o.field+"' field='"+o.field+"' class='grid_divActionColumn'></div>").vrAppendToPuma(n),s=!1;e==GridActionEnum.ShowHide?(s=!0!==o.hidden,this._wndTableActions.footerItem("restoreOriginal").show()):e==GridActionEnum.GroupBy&&(s=!(!r.groupable||null==r.groupBy)&&r.groupBy.fields.map(e=>e.field).includes(o.field),this._wndTableActions.footerItem("restoreOriginal").hide());vr_1.puma("<input id='"+this._elementId+"_chkActionColumn"+o.field+"' field='"+o.field+"' />").vrAppendToPuma(l);vr_1.createCheckBox({checked:s,text:o.title,cssContainer:"width: 100%",onCheck:r=>{if(a=!0,e==GridActionEnum.ShowHide){let e=vr_1.puma(r.sender.element()).attr("field");r.checked?this.showColumn(e,!1):(this.hideColumn(e,!1),this.removeFilter(e))}else if(e==GridActionEnum.GroupBy){let e=vr_1.puma(r.sender.element()).attr("field");r.checked&&!t.includes(e)?(t.push(e),i.includes(e)&&i.vrDelete(e)):r.checked||i.includes(e)||(i.push(e),t.includes(e)&&t.vrDelete(e))}}},null,null,this._elementId+"_chkActionColumn"+o.field)}}clearWindowTableActions(){vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer").empty()}manageFilterTextByColumn(e,t,i,a){let r=this.getOptions(),n=[];n=t.type==vr_1.GridColumnTypeEnum.Custom?this._originalDataSource.filter(i=>{let a=null!=t.customFilterProperties&&t.customFilterProperties.length>0?t.customFilterProperties:Object.keys(i);for(let t in i)if(a.includes(t)&&-1!=String(i[t]).toLowerCase().indexOf(e))return!0;return!1}):this.getFilteredArrayByInputText(i,e),Array.vrEquals(n,this.dataSource())&&!0!==t.filterWebService||(this._timeoutFilterText=window.setTimeout(()=>{if(this.removeFilter(t.field,!1),!0===t.filterWebService){let i=new GridFilterSettings;i.type=t.type,i.stringFilterSettings=new GridStringFilterSettings,i.stringFilterSettings.text=e.toLowerCase(),this.updateFilter(t.field,i,!1),this.rebind(null,!0)}else{this.pageSelected(1,!1),this.setDataSource(n),this._dictionaryFilterConditions.size>0&&this.applyFilters();let i=new GridFilterSettings;i.type=t.type,i.stringFilterSettings=new GridStringFilterSettings,i.stringFilterSettings.text=e.toLowerCase(),this.updateFilter(t.field,i,!1)}},a?200:null!=r.groupBy||t.filterWebService?300:100))}clearFilters(e=!0,t=!1){let i=this.getOptions();this._dictionaryFilterConditions.forEach((e,t)=>{let a=i.columns.filter(e=>e.field==t)[0];switch(a.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=vr_1.puma("#"+this._elementId+"_CheckboxFilter_"+a.field);e.addClass("indeterminateVrCheckbox"),e[0].checked=!1}break;case vr_1.GridColumnTypeEnum.Date:{let e=controlManager_1.ControlManager.get(this._elementId+"_DateFilter_"+a.field);e.tooltip(""),vr_1.puma(e.element()).css("background-color","#FFF"),vr_1.puma(e.element()).css("color","#000"),controlManager_1.ControlManager.get(this._elementId+"_DateFilterRemove_"+a.field).hide(),this.recalculateHeight(!0)}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let e=controlManager_1.ControlManager.get(this._elementId+"_NumberFilter_"+a.field);e.tooltip(""),vr_1.puma(e.element()).css("background-color","#FFF"),vr_1.puma(e.element()).css("color","#000"),controlManager_1.ControlManager.get(this._elementId+"_NumberFilterRemove_"+a.field).hide(),this.recalculateHeight(!0)}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Custom:case vr_1.GridColumnTypeEnum.Label:controlManager_1.ControlManager.get(this._elementId+"_StringFilter_"+a.field).clear()}this.removeFilter(t,!1)}),e&&this.update(),t&&this.rebind()}getFilteredArrayByInputText(e,t){t=t.toLowerCase();let i=[];return this._dictionaryDataValues.get(e).forEach((e,a)=>{-1!==e.indexOf(t)&&i.push(this._originalDataSource[a])}),i}createWindowFiltering(){if(null!=this._wndFiltering)return;this._wndFiltering=vr_1.createWindow({addToControlList:!1,classContainer:this.element().id+"_wndUtility",width:430,height:180,title:"Gestisci filtro",onClose:e=>{vr_1.puma(this._wndFiltering.container()).remove(),this._wndFiltering=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Ok,text:"Applica filtro"},{type:vr_1.WindowFooterItemTypeEnum.Close}]}),vr_1.puma(this._wndFiltering.element()).vrAppendPuma("<div id='"+this._elementId+"_divWindowFilteringContainer' class='vrContainer'></div>");let e,t,i,a,r,n=vr_1.puma("#"+this._elementId+"_divWindowFilteringContainer")[0],o=vr_1.puma("<div id='"+this._elementId+"DivFilterDate'></div>").vrAppendToPuma(n);vr_1.puma("<div id='"+this._elementId+"_ddlFilterDateType'></div>").vrAppendToPuma(o);vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:"Tipo di filtro",width:"100%",cssContainer:"margin-bottom: 10px;",items:[{text:"Data maggiore di",value:String(vr_1.GridDateFilterTypeEnum.GreaterThan)},{text:"Data minore di",value:String(vr_1.GridDateFilterTypeEnum.LessThan)},{text:"Data uguale a",value:String(vr_1.GridDateFilterTypeEnum.EqualsTo)},{text:"Data compresa tra",value:String(vr_1.GridDateFilterTypeEnum.Between)}],onAfterChange:i=>{null!=t&&null!=a&&(Number(i.sender.value())==vr_1.GridDateFilterTypeEnum.Between?e.visible()?t.show():a.show():e.visible()?t.hide():a.hide())}},null,null,this._elementId+"_ddlFilterDateType"),vr_1.puma("<input id='"+this._elementId+"_dtpFilterDateFrom' />").vrAppendToPuma(o),e=vr_1.createDatePicker({width:200,cssContainer:"margin-right: 5px;"},null,null,this._elementId+"_dtpFilterDateFrom"),vr_1.puma("<input id='"+this._elementId+"_dtpFilterDateTo' />").vrAppendToPuma(o),t=vr_1.createDatePicker({width:198,label:"e",labelSettings:{position:vr_1.PositionEnum.Left},visible:!1},null,null,this._elementId+"_dtpFilterDateTo"),vr_1.puma("<input id='"+this._elementId+"_dtpDateTimeFilterDateFrom' />").vrAppendToPuma(o),i=vr_1.createDatePicker({width:200,cssContainer:"margin-right: 5px;",visible:!1,mode:vr_1.DateModeEnum.DateTime},null,null,this._elementId+"_dtpDateTimeFilterDateFrom"),vr_1.puma("<input id='"+this._elementId+"_dtpDateTimeFilterDateTo' />").vrAppendToPuma(o),a=vr_1.createDatePicker({width:198,label:"e",labelSettings:{position:vr_1.PositionEnum.Left},visible:!1,mode:vr_1.DateModeEnum.DateTime},null,null,this._elementId+"_dtpDateTimeFilterDateTo");let l=vr_1.puma("<div id='"+this._elementId+"DivFilterNumber'></div>").vrAppendToPuma(n);vr_1.puma("<div id='"+this._elementId+"_ddlFilterNumberType'></div>").vrAppendToPuma(l),vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:"Tipo di filtro",width:"100%",cssContainer:"margin-bottom: 10px;",items:[{text:"Numero maggiore di",value:String(vr_1.GridNumberFilterTypeEnum.GreaterThan)},{text:"Numero minore di",value:String(vr_1.GridNumberFilterTypeEnum.LessThan)},{text:"Numero uguale a",value:String(vr_1.GridNumberFilterTypeEnum.EqualsTo)},{text:"Numero compreso tra",value:String(vr_1.GridNumberFilterTypeEnum.Between)}],onAfterChange:e=>{null!=r&&(Number(e.sender.value())==vr_1.GridNumberFilterTypeEnum.Between?r.show():r.hide())}},null,null,this._elementId+"_ddlFilterNumberType"),vr_1.puma("<input id='"+this._elementId+"_ntbFilterNumberFrom' />").vrAppendToPuma(l),vr_1.createTextBox({mode:vr_1.TextModeEnum.Numeric,cssContainer:"margin-right: 5px;",decimals:2,validation:{minValue:0}},null,null,this._elementId+"_ntbFilterNumberFrom"),vr_1.puma("<input id='"+this._elementId+"_ntbFilterNumberTo' />").vrAppendToPuma(l),r=vr_1.createTextBox({mode:vr_1.TextModeEnum.Numeric,label:"e",labelSettings:{position:vr_1.PositionEnum.Left},visible:!1,decimals:2},null,null,this._elementId+"_ntbFilterNumberTo")}openWindowFiltering(e){switch(this.createWindowFiltering(),this._wndFiltering.open([{value:"ok",callback:()=>this.saveWindowFiltering(e)}]),this.clearWindowFiltering(),null!=e.title?this._wndFiltering.title("Filtro campo: '"+e.title+"'"):this._wndFiltering.title("Imposta filtro"),e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:{vr_1.puma("#"+this._elementId+"DivFilterDate").show(),vr_1.puma("#"+this._elementId+"DivFilterNumber").hide();let t=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateFrom"),i=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo"),a=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom"),r=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo");switch(e.type){case vr_1.GridColumnTypeEnum.DateTime:t.hide(),i.hide(),a.show();break;case vr_1.GridColumnTypeEnum.Time:{t.show(),a.hide(),r.hide(),t.mode(vr_1.DateModeEnum.Time),i.mode(vr_1.DateModeEnum.Time);let e=new Date;e.setHours(0,0,0,1),t.min(e),i.min(e);let n=new Date;n.setHours(23,59,59,59),t.max(n),i.max(n)}break;case vr_1.GridColumnTypeEnum.Date:{t.show(),a.hide(),r.hide(),t.mode(vr_1.DateModeEnum.Date),i.mode(vr_1.DateModeEnum.Date);let e=Date.MIN_VALUE;e.setHours(7,0),t.min(e),i.min(e);let n=Date.MAX_VALUE;n.setHours(22,0),t.max(n),i.max(n)}}if(this._dictionaryFilterConditions.has(e.field)){let a=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType"),r=this._dictionaryFilterConditions.get(e.field);null!=r&&null!=r.dateFilterSettings&&(a.value(r.dateFilterSettings.filterTypeEnum,!0),t.value(r.dateFilterSettings.dateFrom),i.value(r.dateFilterSettings.dateTo))}}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:{vr_1.puma("#"+this._elementId+"DivFilterDate").hide(),vr_1.puma("#"+this._elementId+"DivFilterNumber").show();let t=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberFrom"),i=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo");switch(e.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Duration:t.type(vr_1.TextModeEnum.Numeric),i.type(vr_1.TextModeEnum.Numeric);break;case vr_1.GridColumnTypeEnum.Currency:t.type(vr_1.TextModeEnum.Currency),i.type(vr_1.TextModeEnum.Currency);break;case vr_1.GridColumnTypeEnum.Percentage:t.type(vr_1.TextModeEnum.Percentage),i.type(vr_1.TextModeEnum.Percentage)}if(this._dictionaryFilterConditions.has(e.field)){let a=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType"),r=this._dictionaryFilterConditions.get(e.field);null!=r&&null!=r.numberFilterSettings&&(a.value(r.numberFilterSettings.filterTypeEnum,!0),t.value(r.numberFilterSettings.numberFrom),i.value(r.numberFilterSettings.numberTo))}}}}saveWindowFiltering(e){let t=this.getOptions(),i=new GridFilterSettings;switch(i.type=e.type,e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:{let t=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType"),a=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateFrom"),r=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo"),n=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom"),o=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo");if(e.type==vr_1.GridColumnTypeEnum.DateTime){if(null==n.value())return void vr_1.notify("Inserire almeno una data")}else if(null==a.value())return void vr_1.notify("Inserire almeno una data");let l=controlManager_1.ControlManager.get(this._elementId+"_DateFilter_"+e.field);vr_1.puma(l.element()).css("background-color","coral"),vr_1.puma(l.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_DateFilterRemove_"+e.field).show(),this.recalculateHeight(!0);let s="";switch(Number(t.value())){case vr_1.GridDateFilterTypeEnum.GreaterThan:s="Maggiore di ";break;case vr_1.GridDateFilterTypeEnum.LessThan:s="Minore di ";break;case vr_1.GridDateFilterTypeEnum.EqualsTo:s="Uguale a ";break;case vr_1.GridDateFilterTypeEnum.Between:s="Compreso tra "}let u=e.type==vr_1.GridColumnTypeEnum.DateTime?n.value().vrToItalyString():a.value().vrToItalyString();Number(t.value())==vr_1.GridDateFilterTypeEnum.Between&&(u+=" e "+r.value().vrToItalyString()),l.tooltip(s+u),i.dateFilterSettings=new GridDateFilterSettings,i.dateFilterSettings.filterTypeEnum=Number(t.value()),i.dateFilterSettings.dateFrom=e.type==vr_1.GridColumnTypeEnum.DateTime?n.value():a.value(),i.dateFilterSettings.dateTo=e.type==vr_1.GridColumnTypeEnum.DateTime?o.value():r.value()}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:{let t=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType"),a=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberFrom"),r=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo");if(""==a.value())return void vr_1.notify("Inserire almeno un numero");let n=controlManager_1.ControlManager.get(this._elementId+"_NumberFilter_"+e.field);vr_1.puma(n.element()).css("background-color","coral"),vr_1.puma(n.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_NumberFilterRemove_"+e.field).show(),this.recalculateHeight(!0);let o="";switch(Number(t.value())){case vr_1.GridNumberFilterTypeEnum.GreaterThan:o="Maggiore di ";break;case vr_1.GridNumberFilterTypeEnum.LessThan:o="Minore di ";break;case vr_1.GridNumberFilterTypeEnum.EqualsTo:o="Uguale a ";break;case vr_1.GridNumberFilterTypeEnum.Between:o="Compreso tra "}let l=String(a.value());Number(t.value())==vr_1.GridNumberFilterTypeEnum.Between&&(l+=" e "+r.value()),n.tooltip(o+l),i.numberFilterSettings=new GridNumberFilterSettings,i.numberFilterSettings.filterTypeEnum=Number(t.value()),i.numberFilterSettings.numberFrom=a.value(),i.numberFilterSettings.numberTo=0==r.value()?null:Number(r.value())}}this._wndFiltering.close(),this.removeFilter(e.field,!t.serverBinding),this.updateFilter(e.field,i)}clearWindowFiltering(){controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateFrom").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo").hide(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom").hide(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo").hide(),controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType").clear(),controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberFrom").clear(),controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo").clear(),controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo").hide()}addFilter(e,t,i=!0){this._dictionaryFilterConditions.set(e,t),i&&this.applyFilters()}removeFilter(e,t=!0){this._dictionaryFilterConditions.has(e)&&(this._dictionaryFilterConditions.delete(e),t&&this.applyFilters(!0))}updateFilter(e,t,i=!0){this._dictionaryFilterConditions.set(e,t),i&&this.applyFilters()}applyFilters(e=!1,t=!0){let i=this.getOptions();if(!1!==i.serverBinding)return this.pageSelected(1,!1),void(t?this.rebind():this.setDataSource(e?this._originalDataSource:this.dataSource()));let a=e?this._originalDataSource:this.dataSource();this._dictionaryFilterConditions.forEach((e,t,r)=>{let n=i.columns.filter(e=>e.field==t)[0];if(null==n||!0!==n.hidden)if(null!=e.numberFilterSettings){switch(e.numberFilterSettings.filterTypeEnum){case vr_1.GridNumberFilterTypeEnum.GreaterThan:a=a.filter(i=>i[t]>e.numberFilterSettings.numberFrom);break;case vr_1.GridNumberFilterTypeEnum.LessThan:a=a.filter(i=>i[t]<e.numberFilterSettings.numberFrom);break;case vr_1.GridNumberFilterTypeEnum.EqualsTo:a=a.filter(i=>i[t]==e.numberFilterSettings.numberFrom);break;case vr_1.GridNumberFilterTypeEnum.Between:a=null!=e.numberFilterSettings.numberTo?a.filter(i=>i[t]>=e.numberFilterSettings.numberFrom&&i[t]<=e.numberFilterSettings.numberTo):a.filter(i=>i[t]>e.numberFilterSettings.numberFrom)}let i=controlManager_1.ControlManager.get(this._elementId+"_NumberFilter_"+t);vr_1.puma(i.element()).css("background-color","coral"),vr_1.puma(i.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_NumberFilterRemove_"+t).show(),this.recalculateHeight(!0);let r="";switch(e.numberFilterSettings.filterTypeEnum){case vr_1.GridNumberFilterTypeEnum.GreaterThan:r="Maggiore di ";break;case vr_1.GridNumberFilterTypeEnum.LessThan:r="Minore di ";break;case vr_1.GridNumberFilterTypeEnum.EqualsTo:r="Uguale a ";break;case vr_1.GridNumberFilterTypeEnum.Between:r="Compreso tra "}let n=String(e.numberFilterSettings.numberFrom);e.numberFilterSettings.filterTypeEnum==vr_1.GridNumberFilterTypeEnum.Between&&(n+=" e "+e.numberFilterSettings.numberTo),i.tooltip(r+n)}else if(null!=e.dateFilterSettings){let i=Date.vrFixDateString(e.dateFilterSettings.dateFrom),r=Date.vrFixDateString(e.dateFilterSettings.dateTo);switch(e.dateFilterSettings.filterTypeEnum){case vr_1.GridDateFilterTypeEnum.GreaterThan:switch(n.type){case vr_1.GridColumnTypeEnum.Date:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsGreaterThan(i,!1,!1));break;case vr_1.GridColumnTypeEnum.DateTime:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsGreaterThan(i));break;case vr_1.GridColumnTypeEnum.Time:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()>i.getHours()||Date.vrFixDateString(e[t]).getHours()==i.getHours()&&Date.vrFixDateString(e[t]).getMinutes()>i.getMinutes()))}break;case vr_1.GridDateFilterTypeEnum.LessThan:switch(n.type){case vr_1.GridColumnTypeEnum.Date:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsLessThan(i,!1,!1));break;case vr_1.GridColumnTypeEnum.DateTime:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsLessThan(i));break;case vr_1.GridColumnTypeEnum.Time:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()<i.getHours()||Date.vrFixDateString(e[t]).getHours()==i.getHours()&&Date.vrFixDateString(e[t]).getMinutes()<i.getMinutes()))}break;case vr_1.GridDateFilterTypeEnum.EqualsTo:switch(n.type){case vr_1.GridColumnTypeEnum.Date:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsEqualsTo(i,!1));break;case vr_1.GridColumnTypeEnum.DateTime:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsEqualsTo(i));break;case vr_1.GridColumnTypeEnum.Time:a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).getHours()==i.getHours()&&Date.vrFixDateString(e[t]).getMinutes()==i.getMinutes())}break;case vr_1.GridDateFilterTypeEnum.Between:switch(n.type){case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:a=null!=e.dateFilterSettings.dateTo?a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsBetween(i,r)):a.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsGreaterThan(i));break;case vr_1.GridColumnTypeEnum.Time:null!=e.dateFilterSettings.dateTo?(a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()>i.getHours()||Date.vrFixDateString(e[t]).getHours()==i.getHours()&&Date.vrFixDateString(e[t]).getMinutes()>i.getMinutes())),a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()<r.getHours()||Date.vrFixDateString(e[t]).getHours()==r.getHours()&&Date.vrFixDateString(e[t]).getMinutes()<r.getMinutes()))):a=a.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()>i.getHours()||Date.vrFixDateString(e[t]).getHours()==i.getHours()&&Date.vrFixDateString(e[t]).getMinutes()>i.getMinutes()))}}let o=controlManager_1.ControlManager.get(this._elementId+"_DateFilter_"+t);vr_1.puma(o.element()).css("background-color","coral"),vr_1.puma(o.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_DateFilterRemove_"+t).show(),this.recalculateHeight(!0);let l="";switch(e.dateFilterSettings.filterTypeEnum){case vr_1.GridDateFilterTypeEnum.GreaterThan:l="Maggiore di ";break;case vr_1.GridDateFilterTypeEnum.LessThan:l="Minore di ";break;case vr_1.GridDateFilterTypeEnum.EqualsTo:l="Uguale a ";break;case vr_1.GridDateFilterTypeEnum.Between:l="Compreso tra "}let s=Date.vrFixDateString(e.dateFilterSettings.dateFrom).vrToItalyString();e.dateFilterSettings.filterTypeEnum==vr_1.GridDateFilterTypeEnum.Between&&(s+=" e "+Date.vrFixDateString(e.dateFilterSettings.dateTo).vrToItalyString()),o.tooltip(l+s)}else if(null!=e.stringFilterSettings)a=a.filter(i=>null!=i[t]&&-1!==i[t].toLowerCase().indexOf(e.stringFilterSettings.text)),controlManager_1.ControlManager.get(this._elementId+"_StringFilter_"+t).value(e.stringFilterSettings.text);else if(null!=e.checkboxFilterSettings){a=a.filter(i=>i[t]===e.checkboxFilterSettings.value);let i=vr_1.puma("#"+this._elementId+"_CheckboxFilter_"+t);i.removeClass("indeterminateVrCheckbox"),i[0].checked=e.checkboxFilterSettings.value}}),this.pageSelected(1,!1),t&&(this._dataSource=JSON.parse(JSON.stringify(a)),null!=i.groupBy&&this.sortingGroupFields(this.dataSource()),this.setDataSource(this._dataSource))}resizable(){let e=vr_1.puma(this._divHeader).find("table")[0],t=e.offsetHeight;for(let i of Array.from(vr_1.puma(e).find("th"))){let e=document.createElement("div");e.style.cssText+="position: absolute; top: 0px; right: 0px; width: 5px; cursor: col-resize; user-select: none; height: "+t+"px;",i.appendChild(e),i.style.position="relative",this.setResizingEvents(e)}}setResizingEvents(e){let t=null,i=null,a=null;vr_1.puma(e).on("mousedown",e=>{this._isResizing=!0,i=e.target.parentElement,t=e.pageX;let r=0;if("border-box"==vr_1.puma(i).css("box-sizing"))r=0;else{let e=vr_1.puma(i).css("padding-left"),t=vr_1.puma(i).css("padding-right");r=e.getNumericPart()+t.getNumericPart()}a=i.offsetWidth-r}),vr_1.puma(e).on("mouseover",e=>e.target.style.borderRight="2px solid #0000ff"),vr_1.puma(e).on("mouseout",e=>e.target.style.borderRight=""),vr_1.puma(document).on("mousemove",e=>{if(null!=i&&!this._isDragging){let r=this.getOptions(),n=vr_1.puma(vr_1.puma(this._divHeader).find("th")[vr_1.puma(i).index()]).attr("value"),o=vr_1.puma(i).index(),l=r.columns.filter(e=>e.field==n)[0];if(l.locked)return e.preventDefault(),window.setTimeout(()=>this._isResizing=!1),i=null,t=null,void(a=null);for(let e of Array.from(vr_1.puma(this._divHeader).find("th[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});for(let e of Array.from(vr_1.puma(this._divFilters).find("td[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});for(let e of Array.from(vr_1.puma(this._divTotals).find("td[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});let s=e.pageX-t;i.style.width=a+s+"px",r.filterable&&null!=vr_1.puma(this._divFilters).find("td")[o]&&(vr_1.puma(this._divFilters).find("td")[o].style.width=a+s+"px"),this._showTotals&&null!=vr_1.puma(this._divTotals).find("td")[o]&&(vr_1.puma(this._divTotals).find("td")[o].style.width=a+s+"px"),l.width=a+s;let u=this._columnOptions.findIndex(e=>e.field==n),d=this._columnOptions[u];if(r.groupable){let e=vr_1.puma(this._divBody).find("colgroup").find("col[field='"+n+"'");null!=e[0]&&(e[0].style.width=a+s+12+"px");let t=e[0].style.width.getNumericPart();d.right=d.left+t}else vr_1.puma(this._divBody).find("td[value='"+n+"']")[0].style.width=a+s+"px",d.field=n,d.left=d.left,d.right=d.left+l.width,d.index=o}}),vr_1.puma(document).on("mouseup",()=>{window.setTimeout(()=>this._isResizing=!1),i=null,t=null,a=null})}updateColumnOptions(){let e=vr_1.puma(this._divHeader).find("table")[0];for(let t of Array.from(vr_1.puma(e).find("th"))){let e=vr_1.puma(t).attr("value"),i=this._columnOptions.findIndex(t=>t.field==e),a=this._columnOptions[i];a.field=e,a.left=vr_1.puma(t).offset().left,a.right=vr_1.puma(t).offset().left+vr_1.puma(t).width(),a.index=vr_1.puma(t).index()}}draggableColumns(){let e=this.getOptions();this._columnOptions=[];let t=vr_1.puma(this._divHeader).find("table")[0];for(let i of Array.from(vr_1.puma(t).find("th"))){let t=new GridColumnPosition;t.field=vr_1.puma(i).attr("value"),t.left=vr_1.puma(i).offset().left,t.right=vr_1.puma(i).offset().left+vr_1.puma(i).width(),t.index=vr_1.puma(i).index(),t.th=i,this._columnOptions.push(t),this.drag(i,{onDragging:e=>{vr_1.puma(this._divHeader).find("table th").removeClass("grid_tdDraggedOn");let t=this._columnOptions.filter(t=>e.left>=t.left&&e.left<=t.right)[0];null==t?e.left<this._columnOptions[0].left?t=this._columnOptions[0]:e.left>this._columnOptions[this._columnOptions.length-1].right&&(t=this._columnOptions[this._columnOptions.length-1]):t.index!==vr_1.puma(i).index()&&(vr_1.puma(i).addClass("grid_dragging"),t.index<vr_1.puma(i).index()?vr_1.puma(vr_1.puma(this._divHeader).find("table th")[t.index]).addClass("grid_tdDraggedOn"):vr_1.puma(vr_1.puma(this._divHeader).find("table th")[t.index+1]).addClass("grid_tdDraggedOn"))},onDragged:t=>{vr_1.puma(this._divHeader).find("table th").removeClass("grid_tdDraggedOn"),vr_1.puma(i).removeClass("grid_dragging"),vr_1.puma(i)[0].style.cssText+="top: 0px; left: 0px;";let a=this._columnOptions.filter(e=>t.left>=e.left&&t.left<=e.right)[0];if(null==a)t.left<this._columnOptions[0].left?a=this._columnOptions[0]:t.left>this._columnOptions[this._columnOptions.length-1].right&&(a=this._columnOptions[this._columnOptions.length-1]);else{let t=vr_1.puma(i).index(),r=vr_1.puma(i).attr("value");a.index>t?vr_1.puma(vr_1.puma(this._divHeader).find("table th")[a.index]).vrAfterPuma(vr_1.puma(this._divHeader).find("table th")[t]):vr_1.puma(vr_1.puma(this._divHeader).find("table th")[a.index]).vrBeforePuma(vr_1.puma(this._divHeader).find("table th")[t]),e.filterable&&(a.index>t?vr_1.puma(vr_1.puma(this._divFilters).find("table td")[a.index]).vrAfterPuma(vr_1.puma(this._divFilters).find("table td")[t]):vr_1.puma(vr_1.puma(this._divFilters).find("table td")[a.index]).vrBeforePuma(vr_1.puma(this._divFilters).find("table td")[t])),this._showTotals&&(a.index>t?vr_1.puma(vr_1.puma(this._divTotals).find("table td")[a.index]).vrAfterPuma(vr_1.puma(this._divTotals).find("table td")[t]):vr_1.puma(vr_1.puma(this._divTotals).find("table td")[a.index]).vrBeforePuma(vr_1.puma(this._divTotals).find("table td")[t]));for(let e of Array.from(vr_1.puma(this._divBody).find("table tr"))){let r=vr_1.puma(i).attr("value"),n=vr_1.puma(e).find("td[value='"+r+"']"),o=vr_1.puma(e).find("td[value='"+a.field+"']");a.index>t?o.vrAfterPuma(n):o.vrBeforePuma(n)}e.groupable&&(a.index>t?vr_1.puma(this._divBody).find("colgroup").find("col[field='"+a.field+"']").vrAfterPuma(vr_1.puma(this._divBody).find("colgroup").find("col[field='"+r+"'")):vr_1.puma(this._divBody).find("colgroup").find("col[field='"+a.field+"']").vrBeforePuma(vr_1.puma(this._divBody).find("colgroup").find("col[field='"+r+"'"))),this.updateColumnOptions();let n=e.columns.filter(e=>e.field==r)[0],o=a.field,l=e.columns.filter(e=>e.field==o)[0],s=e.columns.indexOf(l),u=e.columns.indexOf(n),d=e.columns[u];e.columns.splice(u,1),e.columns.splice(s,0,d)}}})}}drag(e,t){let i=null;vr_1.puma(e).mousedown(a=>{if(!0===this._isResizing)return;let r=a.clientX,n=a.clientY,o=vr_1.puma(a.currentTarget);i=o.offset().left;let l=o.offset().top,s=!1,u=window.setTimeout(()=>i=null,100),d=this;function c(a){if(clearTimeout(u),null==i||!0===d._isResizing)return;let c=a.clientX,p=a.clientY,h=r-c,m=n-p;if(!(h>=-50&&h<=50)){if(a.clientX!=r||a.clientY!=n){let i=a.clientX-vr_1.puma(o[0]).width()/2,r=l;if(o.offset({top:r,left:i}),null!=t.onDragging){let i=new DragEveryEvent;i.left=o.position().left,i.top=o.position().top,i.element=vr_1.puma(e)[0],t.onDragging(i)}}if(Math.abs(h)>Math.abs(m)){if(null==t&&0!=h)return;s=!0,d._isDragging=!0}else if(Math.abs(h)<Math.abs(m)){if(null==t&&0!=h)return;s=!0,d._isDragging=!0}}}vr_1.puma(document).on("mousemove",c),vr_1.puma(document).on("mouseup",(function a(r){if(vr_1.puma(document).off("mouseup",a),vr_1.puma(document).off("mousemove",c),d._isDragging=!1,null!=i&&!0!==d._isResizing){if(s&&null!=t.onDragged){let i=new DragEveryEvent;i.left=o.position().left,i.top=o.position().top,i.element=vr_1.puma(e)[0],t.onDragged(i)}i=null}else i=null}))})}createTotalsFunction(){function calculateTotals(e){let response=[];Array.prototype.vrSum=function(callbackfn){if(Array.isArray(this)){if(null==callbackfn)return this.reduce((e,t)=>e+t,0);{let property=callbackfn.toString().split("=>")[1],sum=0;return this.forEach(k=>sum+=eval(property)),sum}}return 0},Array.prototype.vrAvg=function(e,t){if(Array.isArray(this)){let i=this.length;if(!1===t&&(i=this.length-this.filter(e=>0==e).length),0==i)return 0;if(null==e)return this.vrSum()/i;return this.vrSum(e)/i}return 0},Array.prototype.vrMax=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.max(e,i[t]),0)}return Math.max.apply(null,this)}return 0},Array.prototype.vrMin=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.min(e,i[t]),Number.MAX_VALUE)}return Math.min.apply(null,this)}return 0};let request=e.data;if(!request.isGroup||null!=request.groupItems&&0!=request.groupItems.length&&null!=request.groupItems[0].dataItems[0]){if(request.isGroup)for(let e of request.groupItems){let t=getTotals(e.dataItems);response.push({totals:t,groupValue:e.groupValue})}else{let e=getTotals(request.dataItems);response=e}self.postMessage(response)}else self.postMessage(response);function getTotals(e){let t=[];for(let i of request.columnOptions){let a=0;switch(i.aggregateMode){case 1:a=e.map(e=>e[i.field]).length;break;case 4:a=e.map(e=>e[i.field]).vrSum();break;case 0:a=3==i.type?e.map(e=>e[i.field]).vrAvg(void 0,i.countZeroInAverage)/100:e.map(e=>e[i.field]).vrAvg(void 0,i.countZeroInAverage);break;case 3:a=null==i.type||5!=i.type&&6!=i.type&&7!=i.type?e.map(e=>e[i.field]).vrMin():e.map(e=>new Date(e[i.field])).vrMin();break;case 2:a=null==i.type||5!=i.type&&6!=i.type&&7!=i.type?e.map(e=>e[i.field]).vrMax():e.map(e=>new Date(e[i.field])).vrMax()}let r={};r.field=i.field,r.total=a,r.decimalDigits=i.decimalDigits,r.roundingSettings=i.roundingSettings,r.type=i.type,t.push(r)}return t}}let scriptCalculateTotalsWorker=vr_1.puma("head").find("script[id='vr_workerTotals']")[0];null==scriptCalculateTotalsWorker&&vr_1.puma("<script id='vr_workerTotals'> self.onmessage="+calculateTotals.toString()+" <\/script>").vrAppendToPuma("head");let workerTotalsData=new Blob([document.getElementById("vr_workerTotals").textContent],{type:"text/javascript"});this._workerTotals=new Worker(window.URL.createObjectURL(workerTotalsData)),this._workerTotalsGroup=new Worker(window.URL.createObjectURL(workerTotalsData))}pageSize(e,t=!1,i=!1){if(null!=e){let a=this.getOptions();this._actualPageSize=e,a.pageSize=e,t&&this.update(i);let r={text:String(e),value:String(e),numberValue:e},n=controlManager_1.ControlManager.get(this._elementId+"_ddlPageSize");null!=n&&(n.items().vrAny(t=>t.value==String(e))||n.addItem(r,!0,!1,{field:"numberValue"}),n.value(String(e),!1))}return this._actualPageSize}pageSelected(e,t=!0){if(null!=e){let i=this.getOptions();!1!==i.footer&&vr_1.puma("#"+this._divFooter.id+" button").removeClass("p-grid-pageSelected");let a=controlManager_1.ControlManager.get(this._elementId+"_btnPage_"+e);if(null!=a&&vr_1.puma(a.element()).addClass("p-grid-pageSelected"),null!=i.onPageSelected){let t=new vr_1.GridPageSelectedEvent;if(t.sender=this,t.pageSelected=e,i.onPageSelected(t),t.isDefaultPrevented())return this._actualPageSelected}if(this._actualPageSelected=e,t)if(!1!==i.serverBinding){let e=0==this._actualPageSelected?0:this._actualPageSelected-1;this._serverBindingPagination.indexFrom=e*this.pageSize(),this._serverBindingPagination.indexTo=this._serverBindingPagination.indexFrom+this.pageSize()-1,window.setTimeout(()=>this.rebind())}else this.update();return e}return this._actualPageSelected}checkboxesMode(e){let t=this.getOptions();return null!=e&&(t.checkboxes=e),t.checkboxes}focus(e){let t=this.getOptions();null!=e&&t.filterable&&vr_1.puma("#"+this._elementId+"_StringFilter_"+e).focus()}getOptions(){return null!=this._internalOptions?this._internalOptions:this.options()}recalculateWidth(){let e=this.getOptions();if("scroll"==vr_1.puma(this._divBody).css("overflow-y")||"auto"==vr_1.puma(this._divBody).css("overflow-y"))if(vr_1.puma(this._divBody)[0].scrollHeight>vr_1.puma(this._divBody)[0].clientHeight&&vr_1.puma(this._divBody)[0].clientHeight>0){let t=19;e.lockable&&(t+=vr_1.puma(this._divHeaderLocked).width()+5),vr_1.puma(this._divHeader).width("Calc(100% - "+t+"px)"),vr_1.puma(this._divHeader).find("th[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._divFilters).width("Calc(100% - "+t+"px)"),vr_1.puma(this._divFilters).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),e.lockable&&(vr_1.puma(this._divBody).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),vr_1.puma(this._divBodyLocked).width(vr_1.puma(this._divHeaderLocked).width())),vr_1.puma(this._divTotals).width("Calc(100% - "+t+"px)"),vr_1.puma(this._divTotals).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._divHeader).is(":visible")&&(window.setTimeout(()=>this._spanFitHeaderSpace.style.cssText+="top: "+vr_1.puma(this._divHeader).position().top+"px; left: "+(vr_1.puma(this._divHeader).position().left+vr_1.puma(this._divHeader).width()+1)+"px",100),vr_1.puma(this._spanFitHeaderSpace).show()),e.filterable?(window.setTimeout(()=>this._spanFitFilterSpace.style.cssText+="top: "+(vr_1.puma(this._divFilters).position().top-1)+"px; left: "+(vr_1.puma(this._divHeader).position().left+vr_1.puma(this._divHeader).width()+1)+"px",100),vr_1.puma(this._spanFitFilterSpace).show()):vr_1.puma(this._spanFitFilterSpace).hide(),this._showTotals&&this.getAllItems().length>0?(window.setTimeout(()=>this._spanFitTotalsSpace.style.cssText+="top: "+(vr_1.puma(this._divTotals).position().top-1)+"px; left: "+(vr_1.puma(this._divHeader).position().left+vr_1.puma(this._divHeader).width()+1)+"px",100),vr_1.puma(this._spanFitTotalsSpace).show()):vr_1.puma(this._spanFitTotalsSpace).hide()}else{let t=2;e.lockable&&(t+=vr_1.puma(this._divHeaderLocked).width()+5),vr_1.puma(this._divHeader).width("Calc(100% - "+t+"px)"),vr_1.puma(this._divHeader).find("th[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._divFilters).width("Calc(100% - "+t+"px)"),vr_1.puma(this._divFilters).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),e.lockable&&(vr_1.puma(this._divBody).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),vr_1.puma(this._divBodyLocked).width(vr_1.puma(this._divHeaderLocked).width())),vr_1.puma(this._divTotals).width("Calc(100% - "+t+"px)"),vr_1.puma(this._divTotals).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._spanFitHeaderSpace).hide(),vr_1.puma(this._spanFitFilterSpace).hide(),vr_1.puma(this._spanFitTotalsSpace).hide()}else vr_1.puma(this._spanFitHeaderSpace).hide(),vr_1.puma(this._spanFitFilterSpace).hide(),vr_1.puma(this._spanFitTotalsSpace).hide();if(e.groupable||null!=e.groupBy){let t=0;vr_1.puma(this._divBody).find("table colgroup").remove();let i=vr_1.puma("<colgroup></colgroup>").prependTo(vr_1.puma(this._divBody).find(">table"));vr_1.puma(this._divHeader).show();for(let e of Array.from(vr_1.puma(this._divHeader).find(">table tr:first-child th"))){let a=vr_1.puma(e).attr("value"),r="";vr_1.puma(e).is(":visible")?t++:r="display: none;";let n=vr_1.puma(e).outerWidth();1==t&&(n-=1),vr_1.puma("<col field='"+a+"' style='width: "+n+"px; "+r+"' />").vrAppendToPuma(i)}if(!1===e.header&&vr_1.puma(this._divHeader).hide(),e.lockable){let t=0;vr_1.puma(this._divBodyLocked).find("table colgroup").remove();let i=vr_1.puma("<colgroup></colgroup>").prependTo(vr_1.puma(this._divBodyLocked).find(">table"));vr_1.puma(this._divHeaderLocked).show();for(let e of Array.from(vr_1.puma(this._divHeaderLocked).find(">table tr:first-child th"))){let a=vr_1.puma(e).attr("value"),r="";vr_1.puma(e).is(":visible")?t++:r="display: none;";let n=vr_1.puma(e).width();1==t&&(n-=1),vr_1.puma("<col field='"+a+"' style='width: "+n+"px; "+r+"' />").vrAppendToPuma(i)}!1===e.header&&vr_1.puma(this._divHeaderLocked).hide()}}}height(e){if(null!=e&&"number"==typeof e&&e>0){vr_1.puma(this._divBody).height(e),vr_1.puma("#"+this.element().id+"_grid_body_container").height(e),this.getOptions().lockable&&null!=this._divBody&&(this._divBody.scrollWidth>this._divBody.clientWidth&&this._divBody.clientWidth>0?vr_1.puma(this._divBodyLocked).height(Number(e)-17):vr_1.puma(this._divBodyLocked).height(e))}return vr_1.puma(this._divBody).height()}recalculateHeight(e=!1){let t=this.getOptions();if(t.height<0||t.height==vr_1.GridHeightModeEnum.FitScreen){let e=(vr_1.puma(this._divHeader).is(":visible")?34:0)+(t.filterable?28:0)+(null!=t.toolbar?34:0)+(this._showTotals?25:0)+(!1!==t.footer?34:0)+4,i=vr_1.puma("#"+this._elementId+"_divContainer").offset(),a=null!=i?i.top:0,r=document.body.offsetHeight-a-e+"px";vr_1.puma(this._divBody).height(r),vr_1.puma("#"+this.element().id+"_grid_body_container").height(r),t.lockable&&null!=this._divBody&&(this._divBody.scrollWidth>this._divBody.clientWidth&&this._divBody.clientWidth>0?vr_1.puma(this._divBodyLocked).height(r.vrGetNumericPart()-17):vr_1.puma(this._divBodyLocked).height(r)),this._showTotals&&(this._spanFitTotalsSpace.style.cssText+="top: "+(vr_1.puma(this._divTotals).position().top-1)+"px; left: "+(vr_1.puma(this._divHeader).position().left+vr_1.puma(this._divHeader).width())+"px")}else e&&"number"==typeof t.height&&(vr_1.puma(this._divFilters).height()>32?vr_1.puma(this._divBody).height(t.height-58.5):vr_1.puma(this._divBody).height(t.height-31),vr_1.puma("#"+this.element().id+"_grid_body_container").height(vr_1.puma(this._divBody).height()),t.lockable&&null!=this._divBody&&(this._divBody.scrollWidth>this._divBody.clientWidth&&this._divBody.clientWidth>0?vr_1.puma(this._divBodyLocked).height(Number(vr_1.puma(this._divBody).height())-17):vr_1.puma(this._divBodyLocked).height(vr_1.puma(this._divBody).height())))}doWebApiCall(e,t,i){let a=this,r=this.getOptions(),n={};if(n.AuthKey=e.authKey,t==GridRequestTypeEnum.Delete)null==e.deletedValuesPropertyName&&(e.deletedValuesPropertyName="itemValues"),null==e.valuePropertyName&&(e.valuePropertyName=r.dataSourceFieldId),n[e.deletedValuesPropertyName]=this.getDeletedItemValues(e.valuePropertyName);else if(t==GridRequestTypeEnum.Rebind||t==GridRequestTypeEnum.Excel){if(t==GridRequestTypeEnum.Rebind&&null==e.itemsPropertyName&&(e.itemsPropertyName="items"),!1!==r.serverBinding){for(const[e,t]of this._dictionaryFilterConditions.entries())null!=t.dateFilterSettings&&(t.dateFilterSettings.dateFrom=Date.vrConvertDateFromClient(t.dateFilterSettings.dateFrom),null!=t.dateFilterSettings.dateTo&&(t.dateFilterSettings.dateTo=Date.vrConvertDateFromClient(t.dateFilterSettings.dateTo)));let i=new VrGridServerBindingSettings;i.indexFrom=this._serverBindingPagination.indexFrom,i.indexTo=this._serverBindingPagination.indexTo,i.columns=r.columns,i.sortingInfo=this._actualSortingInfo,i.filters=dictionary_1.Dictionary.fromMap(this._dictionaryFilterConditions),i.groupByFields=null==r.groupBy?[]:r.groupBy.fields.map(e=>e.field),i.excel=t==GridRequestTypeEnum.Excel,null!=e.fileName&&(i.excelFileName=e.fileName),n.serverBindingSettings=i}}else if(t==GridRequestTypeEnum.Save){for(let e in this._actualEditedItem){let t=this._actualEditedItem[e];"[object Date]"===Object.prototype.toString.call(t)&&(this._actualEditedItem[e]=Date.vrConvertDateFromClient(t))}null==e.itemPropertyName&&(e.itemPropertyName="item"),n[e.itemPropertyName]=this._actualEditedItem}if(null!=e.method&&(e.method.startsWith("/api/")||(e.method.startsWith("/")&&e.method.substring(1),e.method="/api/"+e.method)),null!=e.otherParameters){let t=Object.getOwnPropertyNames(e.otherParameters);for(let i of t)n[i]=e.otherParameters[i]}if(null!=e.parameters){let t=e.parameters(),i=Object.getOwnPropertyNames(t);for(let e of i)n[e]=t[e]}let o=JSON.stringify(n),l=e.loadingElement;null==l&&(l=!0),"boolean"==typeof l&&(l=!1===l?void 0:this.container()),null!=l&&vr_1.showLoader(null!=e.tempLoadingElement?e.tempLoadingElement:l,!0,"vrGridLoaderRebind"+this._elementId),e.tempLoadingElement=void 0,$.ajax({type:"POST",contentType:"application/json",data:o,method:"POST",processData:!1,dataType:"json",url:e.method,success:(n,o,l)=>{if(vr_1.hideLoader("vrGridLoaderRebind"+this._elementId),a._deletedItems=[],null!=n&&(n.Success||n.success)){let o=e.successNotificationMessage;o=null!=o&&o,"string"==typeof o?o=o:1==o&&(t==GridRequestTypeEnum.Delete?o="Eliminazione avvenuta correttamente":t==GridRequestTypeEnum.Save&&(o="Salvataggio effettuato correttamente")),"string"==typeof o&&vr_1.notify(o);let l=e.rebindGridAfterSave;if(l=null!=l&&l,l)a.rebind();else if(t==GridRequestTypeEnum.Save)a.updateRow(a._actualEditedItem);else if(t==GridRequestTypeEnum.RebindSpecificRows){let t=[];null!=e.otherParameters&&(t=e.otherParameters[e.specificItemIdListPropertyName]);let i=n[e.itemsPropertyName];if(null!=i&&i.length>0){let e=t.filter(e=>!i.map(e=>e[r.dataSourceFieldId]).includes(e)),a=i.filter(e=>!this.originalDataSource().map(e=>e[r.dataSourceFieldId]).includes(e[r.dataSourceFieldId])).map(e=>e[r.dataSourceFieldId]);for(let t of i){let i=t[r.dataSourceFieldId];e.includes(i)||a.includes(i)||this.updateRow(t,!1)}for(let t of e)this.deleteRow(t,!1);for(let e of a)this.addRow(i.filter(t=>t[r.dataSourceFieldId]==e)[0],!1)}else for(let e of t)this.deleteRow(e,!1);e.otherParameters.update&&(null!=this._actualSortingInfo&&this.applySorting(!1),this._dictionaryFilterConditions.size>0&&this.applyFilters(!1,!1),null!=r.groupBy&&this.sortingGroupFields(this.dataSource()),this.update(!0,!1))}if(null!=e.callbackBeforeDatasourceChange&&e.callbackBeforeDatasourceChange(n),t==GridRequestTypeEnum.Rebind&&null!=n[e.itemsPropertyName]){if(!1!==r.serverBinding){this._responseForServerBinding=n;let e=this._responseForServerBinding[r.serverBinding.itemCountPropertyName],t=this.pageSelected(),i=Math.trunc(e/Number(r.pageSize));e%Number(r.pageSize)>0&&(i+=1),t>i&&this.pageSelected(1,!1)}let t=null!=e.clearFilters&&e.clearFilters,i=n[e.itemsPropertyName];0==i.length?this.clear():a.dataSource(i,t)}if(t==GridRequestTypeEnum.Excel&&!1!==r.serverBinding){let e=n[r.serverBinding.excelDownloadUrlPropertyName];null!=e&&e.length>0&&location.replace(e)}null!=a._wndAutoWindow&&a._wndAutoWindow.close(),null!=e.callback&&e.callback(n),null!=r.onDataSourceChanged&&r.onDataSourceChanged(),null!=i&&i()}else{let t=n.Exception||n.exception,i=t.Code||t.code;if(null!=n&&"403"==i)return void location.replace("/Default.aspx");let r=e.errorNotificationMessage;r=null==r||r,1!=r&&"string"!=typeof r||vr_1.notifyError("string"==typeof r?r:null!=n?n.ExceptionMessage||n.exceptionMessage:"Errore nel salvataggio");let o=e.rebindGridAfterError;o=null!=o&&o,o&&a.rebind();let l=e.closeWindowAfterError;l=null!=l&&l,null!=a._wndAutoWindow&&l&&a._wndAutoWindow.close(),null!=e.errorCallback&&e.errorCallback(null!=n?n.ExceptionMessage||n.exceptionMessage:"Errore nel salvataggio")}},error:(t,i,r)=>{vr_1.hideLoader("vrGridLoaderRebind"+this._elementId);let n=e.errorNotificationMessage;n=null==n||n;let o="Errore nel salvataggio";if(o=null!=t.responseJSON?null!=t.responseJSON.errorMessage?t.responseJSON.errorMessage:(t.responseJSON.Message||t.responseJSON.message)+"<br />"+(t.responseJSON.ExceptionMessage||t.responseJSON.exceptionMessage):null!=t.responseText&&""!=t.responseText?t.responseText:null!=t.statusText&&""!=t.statusText?t.statusText:"Si è verificato un problema",401==t.status)o="Auth key errata";else if(404==t.status)o="Web Api non trovata";else if(403==t.status)return void location.replace("/Default.aspx");let l="Errore nel salvataggio";1!=n&&"string"!=typeof n||(l=1==n?o:n,vr_1.notifyError(l));let s=e.rebindGridAfterError;s=null!=s&&s,s&&a.rebind();let u=e.closeWindowAfterError;u=null!=u&&u,null!=a._wndAutoWindow&&u&&a._wndAutoWindow.close(),null!=e.errorCallback&&e.errorCallback(l)}})}enable(e){if(null==e&&(e=!0),vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"_divContainer").find(".grid_divTableDisabled").remove(),!0!==e){let t=this.getOptions(),i="string"==typeof e?"<span>"+e+"</span>":"";""==i&&"string"==typeof t.enable&&(i="<span>"+t.enable+"</span>"),vr_1.puma("<div class='grid_divTableDisabled'>"+i+"</div>").vrAppendToPuma("#"+vr_1.puma(this.element()).attr("id")+"_divContainer")}}toolbarCustomLogic(e,t){if(null==e.onBeforeClick||(e.onBeforeClick(t),!t.isDefaultPrevented)){switch(e.type){case vr_1.GridToolbarItemType.Add:null==e.onClick&&this.openAutoWindow();break;case vr_1.GridToolbarItemType.Delete:{let i=this.getOptions(),a=this.getCheckedItems();this._deletedItems.vrPushRange(a),t.deletedItems=this._deletedItems,this.deleteRows(a.map(e=>e[i.dataSourceFieldId])),this.clearSelection();let r=e.deleteRequest;null!=r&&i.mode==vr_1.GridModeEnum.Sync?this.doWebApiCall(r,GridRequestTypeEnum.Delete):(this.update(),null!=i.onDataSourceChanged&&i.onDataSourceChanged())}break;case vr_1.GridToolbarItemType.Rebind:this._deletedItems=[],this.rebind(),this.clearSelection();break;case vr_1.GridToolbarItemType.Excel:this.excelExport(null!=e.excelFileName?e.excelFileName:void 0);break;case vr_1.GridToolbarItemType.ExcelWithHiddenColumns:this.excelExport(null!=e.excelFileName?e.excelFileName:void 0,!0)}null!=e.onClick&&e.onClick(t)}}excelExport(e="Esportazione_excel",t=!1){let i=this.getOptions();i.serverBinding||vr_1.showLoader(this.container(),!0,"vrGridLoaderExcel"+this._elementId),window.setTimeout(()=>{if(i.serverBinding)null!=i.excel&&(null==i.excel.fileName&&(i.excel.fileName=e),this.doWebApiCall(i.excel,GridRequestTypeEnum.Excel));else{let a=new GridExcelRow;a.cells=[];for(let e of i.columns){if(!t&&1==e.hidden&&(null==i.groupBy||!i.groupBy.fields.map(e=>e.field).includes(e.field))||e.type==vr_1.GridColumnTypeEnum.EditButton||e.type==vr_1.GridColumnTypeEnum.Image||e.type==vr_1.GridColumnTypeEnum.Button||e.type==vr_1.GridColumnTypeEnum.Icon||!1===e.exportable)continue;let r=new GridExcelCell;r.field=e.field,r.title=e.title,r.text=e.title,r.bold=e.bold,r.type=e.type,r.width=e.width,r.cellSettings=e.headerSettings,r.hidden=e.hidden,a.cells.push(r)}let r=[];for(let e of this.dataSource()){let a=new GridExcelRow;a.cells=[];for(let r of i.columns){if(!t&&1==r.hidden&&(null==i.groupBy||!i.groupBy.fields.map(e=>e.field).includes(r.field))||r.type==vr_1.GridColumnTypeEnum.EditButton||r.type==vr_1.GridColumnTypeEnum.Image||r.type==vr_1.GridColumnTypeEnum.Button||r.type==vr_1.GridColumnTypeEnum.Icon||!1===r.exportable)continue;let n=null==e[r.field]?"":String(e[r.field]),o=vr_1.GridAlignEnum.Left;switch(r.type){case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:o=vr_1.GridAlignEnum.Center,r.type!=vr_1.GridColumnTypeEnum.Date&&r.type!=vr_1.GridColumnTypeEnum.DateTime&&r.type!=vr_1.GridColumnTypeEnum.Time||(r.type==vr_1.GridColumnTypeEnum.Date?n=""==n?"":new Date(new Date(n)).vrToItalyString(vr_1.DateModeEnum.Date):r.type==vr_1.GridColumnTypeEnum.DateTime?n=""==n?"":new Date(new Date(n)).vrToItalyString(vr_1.DateModeEnum.DateTime,r.showSeconds):r.type==vr_1.GridColumnTypeEnum.Time&&(n=""==n?"":new Date(new Date(n)).vrToItalyString(vr_1.DateModeEnum.Time,r.showSeconds)));break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:o=vr_1.GridAlignEnum.Right;break;case vr_1.GridColumnTypeEnum.Custom:if(o=vr_1.GridAlignEnum.Center,null!=r.customSettings)try{let t=r.customSettings({dataItem:e});t&&""!==t.template&&""==n&&(n=t.template)}catch(e){}else n=vr_1.puma(n).text();break;case vr_1.GridColumnTypeEnum.Label:if(o=vr_1.GridAlignEnum.Center,null!=r.labelSettings)try{let t=r.labelSettings({dataItem:e});n=null==t.text?"":t.text}catch(e){}else n=vr_1.puma(n).text();break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.PasswordViewable:o=vr_1.GridAlignEnum.Left,n=vr_1.puma("<span>"+n+"</span>").text();break;case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:o=vr_1.GridAlignEnum.Center,n=1==e[r.field]?"true":"false";break;case vr_1.GridColumnTypeEnum.ComboBox:case vr_1.GridColumnTypeEnum.DropDownList:case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:{o=vr_1.GridAlignEnum.Left;let t=e[r.displayField];n=null!=t?t.toString():""}break;case vr_1.GridColumnTypeEnum.Color:o=vr_1.GridAlignEnum.Center}null==r.cellSettings&&(r.cellSettings=new GridHeaderAndCellSettings),null==r.cellSettings.textAlign&&(r.cellSettings.textAlign=o);let l=new GridExcelCell;if(l.field=r.field,l.title=r.title,l.text=n,l.bold=r.bold,l.type=r.type,l.width=r.width,l.cellSettings=r.cellSettings,l.decimalDigits=r.decimalDigits,l.roundingSettings=null!=r.roundingSettings?r.roundingSettings:i.roundingSettings,l.hidden=r.hidden,!0===r.aggregate)switch(r.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:r.aggregate=vr_1.GridAggregateMode.Sum;break;case vr_1.GridColumnTypeEnum.Percentage:r.aggregate=vr_1.GridAggregateMode.Average;break;default:r.aggregate=vr_1.GridAggregateMode.Sum}l.aggregate=null==r.aggregate||!1===r.aggregate?vr_1.GridAggregateMode.None:r.aggregate;let s="",u="";null!=r.cellSettings&&(null!=r.cellSettings.backgroundColor&&(s=r.cellSettings.backgroundColor),null!=r.cellSettings.color&&(u=r.cellSettings.color)),null!=i.rowColorProperty&&null!=e[i.rowColorProperty]&&""!==e[i.rowColorProperty]&&(s=e[i.rowColorProperty]),l.backgroundColor=s,l.color=u,a.cells.push(l)}r.push(a)}let n=new GridExcelRow;n.cells=[];for(let e of Array.from(vr_1.puma(this._divTotals).find("td"))){let a=vr_1.puma(e).attr("value");if(null==a)continue;let r=i.columns.filter(e=>e.field==a)[0];if(null==r||!t&&1==r.hidden&&(null==i.groupBy||!i.groupBy.fields.map(e=>e.field).includes(r.field))||r.type==vr_1.GridColumnTypeEnum.EditButton||r.type==vr_1.GridColumnTypeEnum.Image||r.type==vr_1.GridColumnTypeEnum.Button||r.type==vr_1.GridColumnTypeEnum.Icon||!1===r.exportable)continue;let o=new GridExcelCell;if(o.field=r.field,o.title=r.title,o.text=String(Number(e.innerHTML.replace("€","").replace("%","").replace(".","").replace(",","."))),o.bold=r.bold,o.type=r.type,o.width=r.width,o.decimalDigits=r.decimalDigits,o.roundingSettings=null!=r.roundingSettings?r.roundingSettings:i.roundingSettings,o.hidden=r.hidden,!0===r.aggregate)switch(r.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:r.aggregate=vr_1.GridAggregateMode.Sum;break;case vr_1.GridColumnTypeEnum.Percentage:r.aggregate=vr_1.GridAggregateMode.Average;break;default:r.aggregate=vr_1.GridAggregateMode.Sum}o.aggregate=null==r.aggregate||!1===r.aggregate?vr_1.GridAggregateMode.None:r.aggregate,n.cells.push(o)}null!=i.excel&&null!=i.excel.fileName&&(e=i.excel.fileName);let o=new GenerateExcelRequest;if(o.headerRow=a,o.contentRows=r,o.footerRow=n,o.excelFileName=e,o.AuthKey="10(P9m+U3a@Mtt-Oeo",o.exportHiddenColumns=t,null!=i.groupBy){let e=i.groupBy.fields;o.groupBy=null!=e?e.map(e=>e.field):null}let l=JSON.stringify(o),s=null;s=new FormData,s.append("file",new Blob([l],{type:"application/json"})),$.ajax({type:"POST",beforeSend:e=>{e.setRequestHeader("Accept-Language","it"),e.setRequestHeader("AuthKey","10(P9m+U3a@Mtt-Oeo")},contentType:!1,data:s,method:"POST",processData:!1,dataType:"JSON",url:"/api/UtilityWebApi/GenerateExcel",success:(e,t,i)=>{vr_1.hideLoader("vrGridLoaderExcel"+this._elementId),null!=e.downloadUrl&&e.downloadUrl.length>0&&location.replace(e.downloadUrl),e.Success||vr_1.alert(e.ErrorMessage+"<br />"+e.StackTrace,{width:600,css:"overflow: auto;"})},error:(e,t,i)=>{vr_1.hideLoader(),vr_1.alert("Errore nell'esportazione Excel. Contattare l'assistenza.")}})}},200)}visibleToolbar(e){return null!=e&&(e?vr_1.puma(this._divToolbar).show():vr_1.puma(this._divToolbar).hide()),vr_1.puma(this._divToolbar).is(":visible")}showToolbar(){this.visibleToolbar(!0)}hideToolbar(){this.visibleToolbar(!1)}toolbar(){return this._divToolbar}toolbarItem(e){return controlManager_1.ControlManager.get("grid-"+e+"_"+this._elementId)}showToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.show()}hideToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.hide()}enableToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.enable()}disableToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.disable()}removeToolbarItem(e){let t=this.toolbarItem(e);null!=t&&vr_1.puma(t.container()).remove()}addToolbarItem(e){null==e.visible&&(e.visible=!0),null==e.type&&(e.type=vr_1.GridToolbarItemType.Custom);let t="",i=void 0,a="",r=e.enable,n=!1;null==e.css&&(e.css=""),null==e.cssContainer&&(e.cssContainer="");let o=null==e.value?null!=e.text?e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,""):"noValue":e.value;switch(e.type){case vr_1.GridToolbarItemType.Add:t=null!=e.text?e.text:"Aggiungi",i=null!=e.icon?e.icon:vr_1.IconClassLight.Plus,a=null!=e.value?"grid-"+e.value:"grid-add",n=!0;break;case vr_1.GridToolbarItemType.Custom:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,a="grid-"+o,n=!0;break;case vr_1.GridToolbarItemType.SplitButton:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,n=!1;break;case vr_1.GridToolbarItemType.Switch:case vr_1.GridToolbarItemType.ButtonGroup:case vr_1.GridToolbarItemType.CheckBox:case vr_1.GridToolbarItemType.ComboBox:case vr_1.GridToolbarItemType.DatePicker:case vr_1.GridToolbarItemType.Label:case vr_1.GridToolbarItemType.TextBox:n=!1;break;case vr_1.GridToolbarItemType.Delete:t=null!=e.text?e.text:"Elimina",i=null!=e.icon?e.icon:vr_1.IconClassRegular.Xmark,a=null!=e.value?"grid-"+e.value:"grid-delete",n=!0;break;case vr_1.GridToolbarItemType.Excel:t=null!=e.text?e.text:"Excel",i=null!=e.icon?e.icon:vr_1.IconClassLight.FileExcel,a=null!=e.value?"grid-"+e.value:"grid-excel",n=!0,e.backgroundColor="#008a00",e.textColor="#FFF";break;case vr_1.GridToolbarItemType.ExcelWithHiddenColumns:t=null!=e.text?e.text:"Excel",i=null!=e.icon?e.icon:vr_1.IconClassLight.FileExcel,a=null!=e.value?"grid-"+e.value:"grid-excelHiddenColumns",n=!0,e.backgroundColor="#008a00",e.textColor="#FFF";break;case vr_1.GridToolbarItemType.Separator:a=null!=e.value?"grid-"+e.value:"grid-separator",r=!1,n=!0;break;case vr_1.GridToolbarItemType.Rebind:t=null!=e.text?e.text:"Aggiorna",i=null!=e.icon?e.icon:vr_1.IconClassLight.Refresh,a=null!=e.value?"grid-"+e.value:"grid-rebind",n=!0}if(n)vr_1.createButton({icon:i,imageUrl:e.imageUrl,enable:r,text:t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},visible:e.visible,cssContainer:e.cssContainer,css:e.css,mode:!0===e.primary?vr_1.ButtonModeEnum.Primary:void 0,classContainer:"grid-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:(e.type==vr_1.GridToolbarItemType.Separator?"grid-separator":"")+" grid-toolbarItems "+a,badgeSettings:e.badge,onClick:t=>{if(e.type==vr_1.GridToolbarItemType.Delete){let t=this.getCheckedItems();if(0==t.length)return void vr_1.notifyWarning("Selezionare almeno una riga per proseguire");null==e.confirmationMessage&&(1==t.length?e.confirmationMessage="Proseguendo, verrà eliminato l'elemento selezionato. Continuare?":t.length>1&&(e.confirmationMessage="Proseguendo, verranno eliminati gli elementi selezionati. Continuare?"))}let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,a+"_"+this._elementId);else{if(e.type==vr_1.GridToolbarItemType.SplitButton){let a=null!=e.value?e.value:"splitButton";null==e.value&&null!=e.text&&(a=e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+"splitButton"),null==e.splitButtonOptions&&(e.splitButtonOptions=new splitButton_1.SplitButtonOptions),null!=e.splitButtonItems&&(e.splitButtonOptions.items=e.splitButtonItems),null==e.splitButtonOptions.separator&&(e.splitButtonOptions.separator=!1);let n="grid-"+a;vr_1.createSplitButton({text:t,icon:i,enable:r,imageUrl:e.imageUrl,items:e.splitButtonOptions.items,visible:e.visible,separator:e.splitButtonOptions.separator,colorSettings:e.splitButtonOptions.colorSettings,popupSettings:e.splitButtonOptions.popupSettings,tooltip:e.splitButtonOptions.tooltip,hoverMode:e.splitButtonOptions.hoverMode,modal:e.splitButtonOptions.modal,showDefault:e.splitButtonOptions.showDefault,cssContainer:e.cssContainer+" vertical-align: top;",css:e.css,classContainer:"grid-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:"grid-toolbarItems grid-splitButton "+n,onClick:null==e.onClick?void 0:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,n+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.ButtonGroup){let t="grid-"+(null!=e.value?e.value:"buttonGroup");vr_1.createButtonGroup({enable:r,selectionMode:vr_1.SelectionModeEnum.Single,items:e.buttonGroupItems,visible:e.visible,cssContainer:"top: -1px; "+e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,class:"grid-toolbarItems grid-buttonGroup "+t,width:"auto",onSelect:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.CheckBox){let t="grid-"+(null!=e.value?e.value:"checkbox");vr_1.createCheckBox({enable:r,text:e.text,visible:e.visible,cssContainer:"top: 3px; "+e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,class:"grid-toolbarItems grid-checkBox "+t,onCheck:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.Label){let t="grid-"+(null!=e.value?e.value:"label");vr_1.createLabel({enable:r,text:e.text,visible:e.visible,cssContainer:e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,class:"grid-toolbarItems grid-label "+t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},onClick:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.ComboBox){let t="grid-"+(null!=e.value?e.value:"comboBox");null==e.comboBoxOptions&&(e.comboBoxOptions=new comboBox_1.ComboBoxOptions),e.comboBoxOptions.classContainer="grid-toolbarItemsContainer "+e.comboBoxOptions.classContainer,e.comboBoxOptions.class="grid-toolbarItems grid-comboBox "+t+" "+e.comboBoxOptions.class,null==e.comboBoxOptions.visible&&(e.comboBoxOptions.visible=e.visible),null==e.comboBoxOptions.css&&(e.comboBoxOptions.css=e.css),null==e.comboBoxOptions.cssContainer&&(e.comboBoxOptions.cssContainer=e.cssContainer+";"),e.comboBoxOptions.cssContainer+="vertical-align: top;",null==e.comboBoxOptions.enable&&(e.comboBoxOptions.enable=r),vr_1.createComboBox(e.comboBoxOptions,this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.DatePicker){let t="grid-"+(null!=e.value?e.value:"datePicker");null==e.datePickerOptions&&(e.datePickerOptions=new datePicker_1.DatePickerOptions),e.datePickerOptions.classContainer="grid-toolbarItemsContainer "+e.datePickerOptions.classContainer,e.datePickerOptions.class="grid-toolbarItems grid-datePicker "+t+" "+e.datePickerOptions.class,null==e.datePickerOptions.visible&&(e.datePickerOptions.visible=e.visible),null==e.datePickerOptions.css&&(e.datePickerOptions.css=e.css),null==e.datePickerOptions.cssContainer&&(e.datePickerOptions.cssContainer=e.cssContainer),e.datePickerOptions.cssContainer+="top: -1px; "+e.datePickerOptions.cssContainer,null==e.datePickerOptions.enable&&(e.datePickerOptions.enable=r),vr_1.createDatePicker(e.datePickerOptions,this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.TextBox){let t="grid-"+(null!=e.value?e.value:"textBox");null==e.textBoxOptions&&(e.textBoxOptions=new textbox_1.TextBoxOptions),e.textBoxOptions.classContainer="grid-toolbarItemsContainer "+e.textBoxOptions.classContainer,e.textBoxOptions.class="grid-toolbarItems grid-textBox "+t+" "+e.textBoxOptions.class,null==e.textBoxOptions.visible&&(e.textBoxOptions.visible=e.visible),null==e.textBoxOptions.css&&(e.textBoxOptions.css=e.css),null==e.textBoxOptions.cssContainer&&(e.textBoxOptions.cssContainer=e.cssContainer),e.textBoxOptions.cssContainer+="top: -1px; "+e.textBoxOptions.cssContainer,null==e.textBoxOptions.enable&&(e.textBoxOptions.enable=r),vr_1.createTextBox(e.textBoxOptions,this._divToolbar,null,t+"_"+this._elementId)}else if(e.type==vr_1.GridToolbarItemType.Switch){null==e.switchSettings&&(e.switchSettings=new GridToolbarSwitchSettings,e.switchSettings.labelOff="",e.switchSettings.labelOn=""),null==e.switchSettings.checked&&(e.switchSettings.checked=!1);let t="grid-"+(null!=e.value?e.value:"switch");vr_1.puma(this._divToolbar).vrAppendPuma("<div id='"+t+"_"+this._elementId+"' class='grid-toolbarItems-switch'></div>"),vr_1.createSwitch({labelOff:e.switchSettings.labelOff,labelOn:e.switchSettings.labelOn,checked:e.switchSettings.checked,cssContainer:"top: -2px; "+e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,visible:e.visible,enable:r,onChange:t=>{if(null!=e.switchSettings.onCheck){let i=new GridToolbarSwitchEvent;i.checked=t.checked,e.switchSettings.onCheck(i)}}},null,null,t+"_"+this._elementId)}}}createAutoWindow(){if(null!=this._wndAutoWindow)return;let e=this.getOptions();null==e.autoWindowSettings&&(e.autoWindowSettings=new GridAutoWindowSettings),null==e.autoWindowSettings.options&&(e.autoWindowSettings.options=new GridAutoWindowOption),null==e.autoWindowSettings.options.width&&(e.autoWindowSettings.options.width=400),null==e.autoWindowSettings.options.titleNew&&(e.autoWindowSettings.options.titleNew="Nuovo"),null==e.autoWindowSettings.options.titleEdit&&(e.autoWindowSettings.options.titleEdit="Modifica"),this._wndAutoWindow=vr_1.createWindow({addToControlList:!1,classContainer:this.element().id+"_wndUtility",width:e.autoWindowSettings.options.width,height:e.autoWindowSettings.options.height,title:e.autoWindowSettings.options.titleNew,onClose:e=>{vr_1.puma(this._wndAutoWindow.container()).remove(),this._wndAutoWindow=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Close,onClick:t=>{this._actualEditedItem=null,null!=e.autoWindowSettings.onClose&&e.autoWindowSettings.onClose()}},{type:vr_1.WindowFooterItemTypeEnum.Ok,onClick:t=>{null!=e.autoWindowSettings.options.confirmationMessage&&e.autoWindowSettings.options.confirmationMessage.length>0?vr_1.confirm(e.autoWindowSettings.options.confirmationMessage).then(()=>{this.saveAutoWindow()}):this.saveAutoWindow()}}]}),vr_1.puma(this._wndAutoWindow.element()).addClass("grid_autoWindow"),this.createControlsAutoWindow(e)}createControlsAutoWindow(e){let t=[],i=this._wndAutoWindow.element().id;for(let i of e.columns.slice(1).reverse())i.hidden||(i.type==vr_1.GridColumnTypeEnum.Checkbox||i.type==vr_1.GridColumnTypeEnum.Boolean?t.unshift(i):t.push(i));for(let a of t.reverse()){let t=null==a.title?a.field:a.title,r=null!=a.cellSettings&&null!=a.cellSettings.tooltip?a.cellSettings.tooltip:void 0;switch(!0===r?r=t:(!1===r||"function"==typeof r)&&(r=void 0),a.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=vr_1.createCheckBox({label:t,tooltip:r},i,null,this._elementId+"_checkBox_"+a.field);vr_1.puma(e.element()).parent().css("margin-top","10px"),vr_1.puma(e.element()).parent().css("display","inline-block"),vr_1.puma(e.element()).parent().css("margin-right","5px")}break;case vr_1.GridColumnTypeEnum.String:vr_1.createTextBox({label:t,width:"100%",tooltip:r},i,null,this._elementId+"_textBox_"+a.field);break;case vr_1.GridColumnTypeEnum.PasswordViewable:vr_1.createTextBox({label:t,width:"100%",mode:vr_1.TextModeEnum.PasswordViewable,tooltip:r},i,null,this._elementId+"_textBox_"+a.field);break;case vr_1.GridColumnTypeEnum.Date:vr_1.createDatePicker({label:t,width:"100%",tooltip:r},i,null,this._elementId+"_datePicker_"+a.field);break;case vr_1.GridColumnTypeEnum.DateTime:vr_1.createDatePicker({mode:vr_1.DateModeEnum.DateTime,label:t,width:"100%",tooltip:r},i,null,this._elementId+"_dateTimePicker_"+a.field);break;case vr_1.GridColumnTypeEnum.Time:vr_1.createDatePicker({mode:vr_1.DateModeEnum.Time,label:t,width:"100%",tooltip:r},i,null,this._elementId+"_timePicker_"+a.field);break;case vr_1.GridColumnTypeEnum.DropDownList:if(null==a.dataItems)throw new Error("Property 'dataItems' of column '"+a.field+"' is null; please, consider to fill it with an array of dropDownListItem[]");vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:t,width:"100%",items:a.dataItems,nullable:a.ddlNullable,clearButton:a.ddlNullable,tooltip:r},i,null,this._elementId+"_dropDownList_"+a.field);break;case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:if(null==a.dataItems)throw new Error("Property 'dataItems' of column '"+a.field+"' is null; please, consider to fill it with an array of dropDownTreeItem[]");for(let e of a.dataItems)null==e.expanded&&(e.expanded=!0);vr_1.createComboBox({label:t,width:"100%",items:a.dataItems,checkboxes:a.type==vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes,clearButton:a.ddlNullable,tooltip:r},i,null,this._elementId+"_dropDownTree_"+a.field);break;case vr_1.GridColumnTypeEnum.ComboBox:if(null==a.dataItems)throw new Error("Property 'dataItems' of column '"+a.field+"' is null; please, consider to fill it with an array of comboBoxItem[]");vr_1.createComboBox({label:t,width:"100%",items:a.dataItems,tooltip:r,clearButton:a.ddlNullable},i,null,this._elementId+"_comboBox_"+a.field);break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let n=vr_1.TextModeEnum.Numeric;a.type==vr_1.GridColumnTypeEnum.Currency?n=vr_1.TextModeEnum.Currency:a.type==vr_1.GridColumnTypeEnum.Percentage&&(n=vr_1.TextModeEnum.Percentage);vr_1.createTextBox({label:t,width:"100%",mode:n,tooltip:r,roundingSettings:null!=a.roundingSettings?a.roundingSettings:e.roundingSettings},i,null,this._elementId+"_numericTextBox_"+a.field)}break;case vr_1.GridColumnTypeEnum.Color:vr_1.createColorPicker({label:t,width:"100%",cssContainer:"align-items: flex-start;",addToControlList:!0},i,null,this._elementId+"_colorPicker_"+a.field)}}}openAutoWindow(e){let t=this.getOptions();if(null==t.autoWindowSettings&&t.hideEditButton||this.createAutoWindow(),null==this._wndAutoWindow)return;if(null!=t.onAutoWindowOpen){let i=new AutoWindowOpenEvent;if(i.sender=this,i.window=this._wndAutoWindow,i.dataItem=e,i.columns=t.columns,t.onAutoWindowOpen(i),i.isDefaultPrevented())return}let i=null!=e?t.autoWindowSettings.options.titleEdit:t.autoWindowSettings.options.titleNew;this._wndAutoWindow.title(i),this._wndAutoWindow.open(),null==t.autoWindowSettings.options.height&&(vr_1.puma(this._wndAutoWindow.element()).css("height","auto"),vr_1.puma(this._wndAutoWindow.element()).parent().css("height","auto"),this._wndAutoWindow.center(),vr_1.puma(this._wndAutoWindow.element()).css("overflow-y","auto"));let a=0;this._actualEditedItem=e;for(let i of t.columns.slice(1)){if(i.hidden&&!i.editable)continue;let t=null!=e?e[i.field]:null;switch(i.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=controlManager_1.ControlManager.get(this._elementId+"_checkBox_"+i.field);e.clear(),null!=t?e.checked(t):null!=i.defaultValue?e.checked(i.defaultValue):"Active"!=i.field&&"IsActive"!=i.field||e.checked(!0),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.String:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.PasswordViewable:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Date:{let e=controlManager_1.ControlManager.get(this._elementId+"_datePicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(new Date(i.defaultValue)),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.DateTime:{let e=controlManager_1.ControlManager.get(this._elementId+"_dateTimePicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(new Date(i.defaultValue)),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Time:{let e=controlManager_1.ControlManager.get(this._elementId+"_timePicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(new Date(i.defaultValue)),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.DropDownList:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownList_"+i.field);e.clearItems(),e.items(i.dataItems),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownTree_"+i.field);if(e.clearItems(),e.items(i.dataItems),null!=t){let t=this._actualEditedItem[i.field];"string"==typeof t?t=t.split(","):Array.isArray(t)||(t=[t]),e.value(t)}else if(null!=i.defaultValue){let t=i.defaultValue;"string"==typeof t?t=t.split(","):Array.isArray(t)||(t=[t]),e.value("string"==typeof t?t.split(","):[t])}0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.ComboBox:{let e=controlManager_1.ControlManager.get(this._elementId+"_comboBox_"+i.field);e.clearItems(),e.items(i.dataItems),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let e=controlManager_1.ControlManager.get(this._elementId+"_numericTextBox_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==a&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Color:{let e=controlManager_1.ControlManager.get(this._elementId+"_colorPicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==i.editable?e.enabled(!1):e.enabled(!0)}}a++}}saveAutoWindow(){let e=this.getOptions();null==this._actualEditedItem&&(this._actualEditedItem={});let t=jQuery.extend(!0,{},this._actualEditedItem);for(let t of e.columns.slice(1))if(!t.hidden)switch(t.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=controlManager_1.ControlManager.get(this._elementId+"_checkBox_"+t.field);this._actualEditedItem[t.field]=e.checked()}break;case vr_1.GridColumnTypeEnum.String:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.PasswordViewable:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.Date:{let e=controlManager_1.ControlManager.get(this._elementId+"_datePicker_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.DateTime:{let e=controlManager_1.ControlManager.get(this._elementId+"_dateTimePicker_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.Time:{let e=controlManager_1.ControlManager.get(this._elementId+"_timePicker_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.DropDownList:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownList_"+t.field);this._actualEditedItem[t.field]=e.value(),this._actualEditedItem[t.displayField]=e.text()}break;case vr_1.GridColumnTypeEnum.DropDownTree:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownTree_"+t.field);this._actualEditedItem[t.field]=e.value(),this._actualEditedItem[t.displayField]=e.text()}break;case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownTree_"+t.field);this._actualEditedItem[t.field]=e.getCheckedValues(),this._actualEditedItem[t.displayField]=e.getCheckedItems().map(e=>e.text).vrToCommaSeparatedList()}break;case vr_1.GridColumnTypeEnum.ComboBox:{let e=controlManager_1.ControlManager.get(this._elementId+"_comboBox_"+t.field);this._actualEditedItem[t.field]=e.value(),this._actualEditedItem[t.displayField]=e.text()}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let e=controlManager_1.ControlManager.get(this._elementId+"_numericTextBox_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.Color:{let e=controlManager_1.ControlManager.get(this._elementId+"_colorPicker_"+t.field);this._actualEditedItem[t.field]=e.value()}}let i=e.autoWindowSettings.save;if(null!=i)e.mode==vr_1.GridModeEnum.Sync?this.doWebApiCall(i,GridRequestTypeEnum.Save):(null!=i.callback&&i.callback({actualItem:this._actualEditedItem,oldItem:t}),this._wndAutoWindow.close());else{for(let t of Object.getOwnPropertyNames(this._actualEditedItem)){let i=e.columns.filter(e=>e.field==t)[0];null!=i&&i.type==vr_1.GridColumnTypeEnum.Percentage&&1!=i.ignoreFactor&&(this._actualEditedItem[t]*=100)}this.updateRow(this._actualEditedItem),this._wndAutoWindow.close(),null!=e.onDataSourceChanged&&e.onDataSourceChanged()}}createWindowLayout(){if(null!=this._wndLayout)return;if("boolean"==typeof this.getOptions().layoutSettings)return;this._wndLayout=vr_1.createWindow({addToControlList:!1,width:500,height:300,title:"Gestisci layout",classContainer:this.element().id+"_wndUtility",onClose:e=>{vr_1.puma(this._wndLayout.container()).remove(),this._wndLayout=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Close},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Layout base",mode:vr_1.ButtonModeEnum.Primary,align:vr_1.WindowFooterItemAlignEnum.Left,onClick:e=>{this._actualLayout=null,this.changeLayout(!0,this._originalOptionsForLayout)}},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Carica",mode:vr_1.ButtonModeEnum.Primary,onClick:e=>{let t=this._grdLayout.getCheckedItems();if(0==t.length)return void vr_1.notifyWarning("Selezionare almeno un layout");let i=t[0];(null==this._actualLayout||null!=this._actualLayout&&i.id!=this._actualLayout.id)&&this.loadLayout(i.layoutName)}}]}),vr_1.puma(this._wndLayout.element()).vrAppendPuma("<div id='"+this._elementId+"_divWindowLayoutContainer' class='vrContainer'></div>");let e=vr_1.puma("#"+this._elementId+"_divWindowLayoutContainer")[0];vr_1.puma("<table id='"+this._elementId+"_tblLayout'></table>").vrAppendToPuma(e),this._grdLayout=vr_1.createGrid({addToControlList:!1,footer:!1,pageSize:400,filterable:!1,checkboxes:vr_1.GridCheckboxModeEnum.SingleCheck,height:144,groupBy:null,groupable:!1,rebind:{authKey:"10(P9m+U3a@Mtt-Oeo",method:"/api/GridLayoutPersisterWebApi/GetLayoutList",itemsPropertyName:"tableLayoutList",parameters:()=>{let e=this.getOptions();if("boolean"!=typeof e.layoutSettings)return{pageName:window.location.href,gridName:e.layoutSettings.name}},callback:e=>{null!=this._actualLayout&&this._grdLayout.selectRowInternal(String(this._actualLayout.id),void 0,!0)}},autoWindowSettings:{save:{authKey:"10(P9m+U3a@Mtt-Oeo",method:"/api/GridLayoutPersisterWebApi/EditLayout",rebindGridAfterSave:!0}},toolbar:[{type:vr_1.GridToolbarItemType.Custom,icon:vr_1.IconClassRegular.Xmark,text:"Elimina",confirmationMessage:"Confermi di voler eliminare questo layout?",onClick:e=>{let t=this._grdLayout.getCheckedItems()[0];this._grdLayout.deleteRow(t.id);let i=null!=this._actualLayout&&t.id==this._actualLayout.id;if(this.clearLayout(t.layoutName,i),0==this._grdLayout.getAllItems().length){this.getOptions();controlManager_1.ControlManager.get(this._elementId+"_spbSettings").hideItem("manageLayout")}}},{type:vr_1.GridToolbarItemType.Custom,icon:vr_1.IconClassLight.Plus,text:"Crea nuovo",onClick:e=>{vr_1.prompt("Assegna un nome a questo layout",{title:"Nuovo layout"}).then(e=>{this.saveLayout(e,()=>this._grdLayout.rebind())})}}],columns:[{type:vr_1.GridColumnTypeEnum.String,title:"Nome",field:"layoutName",fitSpace:!0},{type:vr_1.GridColumnTypeEnum.DateTime,title:"Ultima modifica",field:"layoutLastEditDate",width:200,editable:!1,headerSettings:{textAlign:vr_1.GridAlignEnum.Center}}]},null,null,this._elementId+"_tblLayout")}openWindowLayout(){this.createWindowLayout(),this._wndLayout.open(),this._grdLayout.rebind()}doWebApiCallLayout(e,t,i){let a="";switch(e){case GridLayoutOperationTypeEnum.Save:a="/api/GridLayoutPersisterWebApi/SaveLayout";break;case GridLayoutOperationTypeEnum.Load:a="/api/GridLayoutPersisterWebApi/LoadLayout";break;case GridLayoutOperationTypeEnum.Clear:a="/api/GridLayoutPersisterWebApi/ClearLayout";break;case GridLayoutOperationTypeEnum.Get:a="/api/GridLayoutPersisterWebApi/GetLayoutList"}t.AuthKey="10(P9m+U3a@Mtt-Oeo",$.ajax({type:"POST",contentType:"application/json",data:JSON.stringify(t),method:"POST",processData:!1,async:!(e==GridLayoutOperationTypeEnum.Get),dataType:"json",url:a,success:function(e,t,a){null!=i&&i(e)}})}saveLayout(e,t){let i=this.getOptions();if("boolean"==typeof i.layoutSettings)return;if(""==e)return void vr_1.notify("Inserire un nome del layout");let a=new GridLayoutStructure;a.filterConditions=Array.from(this._dictionaryFilterConditions.entries()),null!=i.groupBy&&null!=i.groupBy.fields&&(a.groupBy=new vr_1.GridGroupBySettings,a.groupBy.fields=i.groupBy.fields,a.groupBy.internalSortBy=i.groupBy.internalSortBy,a.groupBy.sortBy=i.groupBy.sortBy),a.pageSize="boolean"==typeof i.pageSize||this._pageSizeUnlimited?50:i.pageSize,a.sortingInfo=this._actualSortingInfo;let r=0,n=[];for(let e of i.columns){let t=new GridLayoutColumn;t.field=e.field,t.fitSpace=e.fitSpace,t.hidden=e.hidden,t.index=r;let i=null!=e.width?e.width:e.type==vr_1.GridColumnTypeEnum.EditButton?32:100;t.width=i,n.push(t),r++}a.columns=n;let o=new SaveLayoutRequest;o.layoutJson=JSON.stringify(a),o.pageName=window.location.href,o.gridName=i.layoutSettings.name,o.layoutName=e,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Save,o,e=>{if(null==this._actualLayout){controlManager_1.ControlManager.get(this._elementId+"_spbSettings").showItem("manageLayout");let e=0;e=i.groupable?-127:-95,vr_1.puma("<style>.vrContainer .grid_spbSettings .k-animation-container\n\t\t\t\t\t{\n\t\t\t\t\t\ttop: "+e+"px !important;\n\t\t\t\t\t}</style>").vrAppendToPuma("head")}null==o.layoutPropertyName&&(o.layoutPropertyName="tableLayout"),this._actualLayout=e[o.layoutPropertyName],vr_1.notify("Layout salvato correttamente"),null!=t&&t()})}clearLayout(e,t=!1){let i=this.getOptions();if("boolean"==typeof i.layoutSettings)return;let a=new ClearLayoutRequest;a.pageName=window.location.href,a.gridName=i.layoutSettings.name,a.layoutName=e,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Clear,a,e=>{t&&(this._actualLayout=null,this.changeLayout(!0,this._originalOptionsForLayout))})}customLayouts(){return this._customLayouts}activeLayout(){return this._actualLayout}loadLayout(e){let t=this.getOptions();if("boolean"==typeof t.layoutSettings)return;let i=new LoadLayoutRequest;i.pageName=window.location.href,i.gridName=t.layoutSettings.name,i.layoutName=e,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Load,i,e=>{null!=e.tableLayout&&null!=e.tableLayout.layoutJson?(this._actualLayout=e.tableLayout,this.changeLayout(!0),vr_1.notify("Layout caricato correttamente"),this._wndLayout.close()):vr_1.notify("Errore nel caricamento del layout")})}changeLayout(e=!1,t){if(null!=this._actualLayout||null!=t){let i=this.getOptions(),a=null!=t?t:JSON.parse(this._actualLayout.layoutJson);if(i.groupable&&null!=i.groupBy){let e=[];if(null!=i.groupBy.fields)for(let t of i.groupBy.fields.map(e=>e.field))e.push(t);for(let t of e)this.removeGroup(t,!1)}if(null!=a.groupBy){let t=[];if(Array.isArray(a.groupBy)){for(let e of a.groupBy)t.push({field:e});i.groupBy=new vr_1.GridGroupBySettings,i.groupBy.fields=t}else t=a.groupBy.fields,i.groupBy=a.groupBy;null!=t&&this.addGroups(t,e)}if(null!=a.pageSize&&(i.pageSize=a.pageSize,e)){let e=controlManager_1.ControlManager.get(this._elementId+"_ddlPageSize");if(!e.items().map(e=>e.value).includes(String(a.pageSize))){let t=e.items();t.push({text:String(a.pageSize),value:String(a.pageSize)}),e.items(t)}e.value(String(a.pageSize),!0)}if(this.clearFilters(!1),null!=a.filterConditions&&a.filterConditions.length>0){let e=new Map;for(let t of a.filterConditions)e.set(t[0],t[1]);this._dictionaryFilterConditions=e}if(this.removeSort(!1),null!=a.sortingInfo&&(this._actualSortingInfo=a.sortingInfo),null!=a.columns){for(let t of a.columns){let a=i.columns.filter(e=>e.field==t.field)[0];if(null!=a){let r=i.columns.indexOf(a);i.columns[r].index=t.index,!0!==t.fitSpace&&(i.columns[r].width=t.width),e&&!0!==t.fitSpace&&(vr_1.puma(this._divHeader).find("th[value='"+t.field+"']")[0].style.width=t.width+"px",i.filterable&&null!=vr_1.puma(this._divFilters).find("td[value='"+t.field+"']")[0]&&(vr_1.puma(this._divFilters).find("td[value='"+t.field+"']")[0].style.width=t.width+"px"),this._showTotals&&null!=vr_1.puma(this._divTotals).find("td[value='"+t.field+"']")[0]&&(vr_1.puma(this._divTotals).find("td[value='"+t.field+"']")[0].style.width=t.width+"px")),t.hidden?this.hideColumn(t.field,!1):this.showColumn(t.field,!1)}}if(i.columns.vrSortAsc("index"),e){let e=vr_1.puma(this._divHeader).find("table th:last-child").index();for(let t of i.columns){let a=vr_1.puma(this._divHeader).find("table th[value='"+t.field+"']")[0];if(vr_1.puma(vr_1.puma(this._divHeader).find("table th")[e]).vrAfterPuma(a),i.filterable){let i=vr_1.puma(this._divFilters).find("table td[value='"+t.field+"']")[0];vr_1.puma(vr_1.puma(this._divFilters).find("table td")[e]).vrAfterPuma(i)}if(this._showTotals){let i=vr_1.puma(this._divTotals).find("table td[value='"+t.field+"']")[0];vr_1.puma(vr_1.puma(this._divTotals).find("table td")[e]).vrAfterPuma(i)}if(i.groupable){let i=vr_1.puma(this._divBody).find("colgroup col[field='"+t.field+"']")[0];vr_1.puma(vr_1.puma(this._divBody).find("colgroup col")[e]).vrAfterPuma(i)}}}}e&&(this._originalDataSource.length>2e3&&vr_1.showLoader(this.container(),!0,"vrGridLoaderLayout"+this._elementId),window.setTimeout(()=>{vr_1.puma(this.element()).find("tbody").remove(),this.dataSource(this._originalDataSource),vr_1.hideLoader("vrGridLoaderLayout"+this._elementId)},50))}}}exports.Grid=Grid;class GridWebApiRequest{}var GridRequestTypeEnum,GridActionEnum,GridLayoutOperationTypeEnum;!function(e){e[e.Delete=0]="Delete",e[e.Rebind=1]="Rebind",e[e.Save=2]="Save",e[e.Excel=3]="Excel",e[e.RebindSpecificRows=4]="RebindSpecificRows"}(GridRequestTypeEnum||(GridRequestTypeEnum={}));class GridHeaderAndCellSettings{}exports.GridHeaderAndCellSettings=GridHeaderAndCellSettings;class GridHeaderSettings extends GridHeaderAndCellSettings{}exports.GridHeaderSettings=GridHeaderSettings;class GridCellSettings extends GridHeaderAndCellSettings{}exports.GridCellSettings=GridCellSettings;class GridControlData{}class GridControlsSettings{}exports.GridControlsSettings=GridControlsSettings;class GridCustomSettings extends GridControlsSettings{}exports.GridCustomSettings=GridCustomSettings;class GridIconSettings extends GridControlsSettings{}exports.GridIconSettings=GridIconSettings;class GridImageSettings extends GridControlsSettings{}exports.GridImageSettings=GridImageSettings;class GridLabelSettings extends GridControlsSettings{}exports.GridLabelSettings=GridLabelSettings;class GridRebindRequest extends GridWebApiRequest{}exports.GridRebindRequest=GridRebindRequest;class GridSearchingInfo{}class VrGridServerBindingSettings{}class GridServerBindSettings{}class GridServerBindPagination{}class GridExcelRequest extends GridWebApiRequest{}exports.GridExcelRequest=GridExcelRequest;class GridControlsClickEvent{}class GridTemplateEvent{}exports.GridTemplateEvent=GridTemplateEvent;class GridTooltipEvent{}exports.GridTooltipEvent=GridTooltipEvent;class GridOnDataBoundEvent{}exports.GridOnDataBoundEvent=GridOnDataBoundEvent;class GridOnRowDataBoundEvent{}exports.GridOnRowDataBoundEvent=GridOnRowDataBoundEvent;class GridSelectRowEvent{}exports.GridSelectRowEvent=GridSelectRowEvent;class GridSelectAllRowsEvent{}exports.GridSelectAllRowsEvent=GridSelectAllRowsEvent;class GridUnselectRowEvent{}exports.GridUnselectRowEvent=GridUnselectRowEvent;class GridUnselectAllRowsEvent{}exports.GridUnselectAllRowsEvent=GridUnselectAllRowsEvent;class GridToolbarClickEvent{preventDefault(){this.isDefaultPrevented=!0}}exports.GridToolbarClickEvent=GridToolbarClickEvent;class GridToolbarSwitchSettings{}exports.GridToolbarSwitchSettings=GridToolbarSwitchSettings;class GridToolbarSwitchEvent{}class GridToolbarDeleteRequest extends GridWebApiRequest{}exports.GridToolbarDeleteRequest=GridToolbarDeleteRequest;class GridFooterSettings{}exports.GridFooterSettings=GridFooterSettings;class GridTotalElementTemplateEvent{}class WorkerTotalsRequest{}class WorkerTotalsMessageColumnOptions{}class WorkerTotalsGroupItem{}class WorkerTotalsResult{}class GridExcelRow{}class GridExcelCell{}class GenerateExcelRequest{}class GenerateExcelResponse{}class GridSortingInfo{}class GridAutoWindowSettings{}class GridAutoWindowOption{}class GridSaveRequest extends GridWebApiRequest{}class AutoWindowOpenEvent extends common_1.VrControlsEvent{}!function(e){e[e.ShowHide=0]="ShowHide",e[e.GroupBy=1]="GroupBy"}(GridActionEnum||(GridActionEnum={}));class GridFilterSettings{}exports.GridFilterSettings=GridFilterSettings;class GridDateFilterSettings{}class GridNumberFilterSettings{}class GridCheckboxFilterSettings{}class GridStringFilterSettings{}class DragSupportEvent{}class DragEveryEvent{}class GridColumnPosition{}class GridChildrenGroupRows{}class GridLayoutSettings{}class GridLayoutStructure{}class GridLayoutColumn{}class SaveLayoutRequest{}class LoadLayoutRequest{}class LoadLayoutResponse{}class ClearLayoutRequest{}class ClearLayoutResponse{}class GetLayoutListRequest{}class GridLayout{}!function(e){e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Clear=2]="Clear",e[e.Get=3]="Get"}(GridLayoutOperationTypeEnum||(GridLayoutOperationTypeEnum={}));class TempRebindInfo{}class GridRow{findControl(e){let t=vr_1.puma(this.element).find("*[uniqueName='"+e+"']")[0];return null!=t?controlManager_1.ControlManager.get(t.id):null}}exports.GridRow=GridRow},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintHtmlOptions=t.PrintFileOptions=t.PrintTypeEnum=t.PrintManager=void 0;const a=i(0);t.PrintManager=class{static printBytes(e,t){this.printBytesFileImageOrHtml(e,o.Pdf,t,!0)}static printPdf(e,t){this.printBytesFileImageOrHtml(e,o.Pdf,t)}static printImage(e,t){this.printBytesFileImageOrHtml(e,o.Image,t)}static printHtml(e,t){e.startsWith("#")&&(e=e.substr(1)),this.printBytesFileImageOrHtml(e,n.Html,t)}static printElement(e,t){let i="";"string"!=typeof e&&(i=a.puma(e)[0].id),""!=i&&null!=i||(a.puma(e)[0].id="vr_printTemp",i="vr_printTemp"),i.startsWith("#")||(i="#"+i),null==t&&(t=new l),a.puma(i).printThis({pageTitle:t.pageTitle,removeInlineStyles:t.removeInlineStyles,printDelay:t.printDelay,header:t.header,footer:t.footer,removeScripts:t.removeScripts,debug:t.debug,beforePrint:t.beforePrint,importCSS:!0,importStyle:!0,afterPrint:()=>{"#vr_printTemp"==i&&(a.puma(e)[0].id=""),null!=t.afterPrint&&t.afterPrint()}})}static printBytesFileImageOrHtml(e,t,i,a=!1){if(""==e)return;let n=void 0,o="File_"+(new Date).toLocaleString(),l=void 0;null!=i&&(null!=i.type&&(t=i.type),null!=i.headerTitle&&(n=i.headerTitle),null!=i.documentTitle&&(o=i.documentTitle),null!=i.customCss&&(l=i.customCss));let s=new r;s.printable=e,s.type=t,s.base64=a,s.header=n,s.documentTitle=o,s.style=l,this.print(s)}static printGrid(e,t){if(null==e)return;let i=void 0,a=void 0,o=null,l=void 0,s=!0,u="File_"+(new Date).toLocaleString();null!=t&&(null!=t.headerCss&&(i=t.headerCss),null!=t.contentCss&&(a=t.contentCss),null!=t.properties&&(o=t.properties),null!=t.headerTitle&&(l=t.headerTitle),null!=t.repeatHeaderOnEveryPages&&(s=t.repeatHeaderOnEveryPages),null!=t.documentTitle&&(u=t.documentTitle));let d=new r;d.printable=e,d.type=n.Json,d.properties=null==o?Object.getOwnPropertyNames(e):o,d.gridHeaderStyle=i,d.gridStyle=a,d.header=l,d.repeatTableHeader=s,d.documentTitle=u,this.print(d)}static print(e){printJS(e)}};class r{}var n,o;!function(e){e.Pdf="pdf",e.Html="html",e.Image="image",e.Json="json"}(n||(n={})),function(e){e.Pdf="pdf",e.Image="image"}(o=t.PrintTypeEnum||(t.PrintTypeEnum={}));t.PrintFileOptions=class{};class l{}t.PrintHtmlOptions=l;!function(e){function t(e,t){t&&e.append(t.jquery?t.clone():t)}function i(t,i,a){var r,n,o,l=i.clone(a.formValues);a.formValues&&(r=l,n="select, textarea",o=i.find(n),r.find(n).each((function(t,i){e(i).val(o.eq(t).val())}))),a.removeScripts&&l.find("script").remove(),a.printContainer?l.appendTo(t):l.each((function(i,a){e(a).children().appendTo(t)}))}var a;e.fn.printThis=function(r){a=e.extend({},e.fn.printThis.defaults,r);var n=this instanceof jQuery?this:e(this),o="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var l='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',s=document.createElement("iframe");s.name="printIframe",s.id=o,s.className="MSIE",document.body.appendChild(s),s.src=l}else{e("<iframe id='"+o+"' name='printIframe' />").appendTo("body")}var u=e("#"+o);a.debug||u.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),"function"==typeof a.beforePrint&&a.beforePrint(),setTimeout((function(){a.doctypeString&&function(e,t){var i,a;(a=(i=(i=e.get(0)).contentWindow||i.contentDocument||i).document||i.contentDocument||i).open(),a.write(t),a.close()}(u,a.doctypeString);var r,o=u.contents(),l=o.find("head"),s=o.find("body"),d=e("base");r=!0===a.base&&d.length>0?d.attr("href"):"string"==typeof a.base?a.base:document.location.protocol+"//"+document.location.host,l.append('<base href="'+r+'">'),a.importCSS&&e("link[rel=stylesheet]").each((function(t,i){var a=e(i).attr("href");if(a){var r=e(i).attr("media")||"all";l.append("<link type='text/css' rel='stylesheet' href='"+a+"' media='"+r+"'>")}})),a.importStyle&&e("style").each((function(e,t){l.append(t.outerHTML)})),a.pageTitle&&l.append("<title>"+a.pageTitle+"</title>"),a.loadCSS&&(e.isArray(a.loadCSS)?jQuery.each(a.loadCSS,(function(e,t){l.append("<link type='text/css' rel='stylesheet' href='"+t+"'>")})):l.append("<link type='text/css' rel='stylesheet' href='"+a.loadCSS+"'>"));var c=e("html")[0];o.find("html").prop("style",c.style.cssText);var p=a.copyTagClasses;if(p&&(-1!==(p=!0===p?"bh":p).indexOf("b")&&s.addClass(e("body")[0].className),-1!==p.indexOf("h")&&o.find("html").addClass(c.className)),t(s,a.header),a.canvas){var h=0;n.find("canvas").addBack("canvas").each((function(t,i){e(i).attr("data-printthis",h++)}))}if(i(s,n,a),a.canvas&&s.find("canvas").each((function(t,i){var a=e(i).data("printthis"),r=e('[data-printthis="'+a+'"]');i.getContext("2d").drawImage(r[0],0,0),e.isFunction(e.fn.removeAttr)?r.removeAttr("data-printthis"):e.each(r,(function(e,t){t.removeAttribute("data-printthis")}))})),a.removeInline){var m=a.removeInlineSelector||"*";e.isFunction(e.removeAttr)?s.find(m).removeAttr("style"):s.find(m).attr("style","")}t(s,a.footer),function(e,t){var i=e.get(0);i=i.contentWindow||i.contentDocument||i,"function"==typeof t&&("matchMedia"in i?i.matchMedia("print").addListener((function(e){e.matches&&t()})):i.onbeforeprint=t)}(u,a.beforePrintEvent),setTimeout((function(){u.hasClass("MSIE")?(window.frames.printIframe.focus(),l.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?u[0].contentWindow.document.execCommand("print",!1,null):(u[0].contentWindow.focus(),u[0].contentWindow.print()),a.debug||setTimeout((function(){u.remove()}),1e3),"function"==typeof a.afterPrint&&a.afterPrint()}),a.printDelay)}),333)},e.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,removeInlineSelector:"*",printDelay:333,header:null,footer:null,base:!1,formValues:!0,canvas:!1,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!1,beforePrintEvent:null,beforePrint:null,afterPrint:null}}(jQuery)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotifierHideSettings=t.NotifierOnClickEvent=t.NotifierCustomHtmlEvent=t.NotifierShowSettings=t.Notifier=void 0;const a=i(3),r=i(0);t.Notifier=class{constructor(e,t){null==t&&(t=new r.NotifierOptions),null==t.type&&(t.type=r.NotifierTypeEnum.Default),null==t.width&&(t.width=a.DeviceManager.isMobile()?"100%":null==t.target?"undefined":"max-content"),null==t.bold&&(t.bold=!1),null==t.position&&(t.position=null==t.target?r.NotifierPositionEnum.TopCenter:r.NotifierPositionEnum.RightMiddle),null==t.hideSettings&&(t.hideSettings=new u),null!=t.hideSettings.autoHide&&!0!==t.hideSettings.autoHide||(t.hideSettings.autoHide=3e3),null==t.hideSettings.clickToHide&&(t.hideSettings.clickToHide=!1),!0===t.hideSettings.clickToHide&&(t.hideSettings.autoHide=!1),null==t.hideSettings.duration&&(t.hideSettings.duration=300),null==t.hideSettings.animation&&(t.hideSettings.animation=r.AnimationHideEnum.SlideUp),null==t.showSettings&&(t.showSettings=new n),null==t.showSettings.duration&&(t.showSettings.duration=300),null==t.showSettings.animation&&(t.showSettings.animation=r.AnimationShowEnum.SlideDown),null==t.colorSettings&&(t.colorSettings=new r.ColorSettings),null==t.colorSettings.background&&(t.colorSettings.background="#e3f1fa"),null==t.colorSettings.textColor&&(t.colorSettings.textColor="#000"),null==t.colorSettings.border&&(t.colorSettings.border="#c6edff"),a.DeviceManager.isMobile()&&(null==t.target?t.position=r.NotifierPositionEnum.TopCenter:t.position=r.NotifierPositionEnum.BottomCenter),this._options=t,this.isOnTarget()||(0==r.puma(".vrNotifierArea"+t.position).length&&r.puma("<div class='vrNotifierArea"+t.position+"'></div>").appendTo(null!=r.shadowRoot()?r.shadowRoot():document.body),a.DeviceManager.isMobile()&&(null!=r.puma(".vrNotifierAreaTopCenter")[0]&&(r.puma(".vrNotifierAreaTopCenter")[0].style.cssText+="left: 0px; width: Calc(100% - 22px);"),null!=r.puma(".vrNotifierAreaBottomCenter")[0]&&(r.puma(".vrNotifierAreaBottomCenter")[0].style.cssText+="left: 0px; width: Calc(100% - 22px);"))),this.prepareNotification(e),this.show()}prepareNotification(e){let t=this.getOptions(),i=this.getContainerToAdd();this._container=r.div(i,{class:"vrNotifierContainer",css:null!=t.cssContainer?t.cssContainer:""},!0),this._arrow=r.div(this._container,{class:"vrNotifierArrow"}),this._element=r.div(this._container,{class:"vrNotifier "+(null!=t.class?t.class:""),css:null!=t.css?t.css:""}),a.DeviceManager.isMobile()&&(this._container.style.cssText+="left: 0px;"),t.bold&&r.puma(this._element).css("font-weight","600"),null!=t.fontSize&&(this._element.style.cssText+="font-size: "+t.fontSize+";"),this.isOnTarget()?("string"!=typeof t.target||t.target.startsWith("#")||(t.target="#"+t.target),t.target=r.puma(t.target)[0],r.puma(this._container).insertBefore(t.target),this._container.style.cssText+="width: 0; height: 0; position: absolute; display: inline-block;",this._arrow.style.cssText+="display: block;",this._element.style.cssText+="position: absolute;"):(this._container.style.cssText+="position: relative; margin: 5px;",this._arrow.style.cssText+="display: none;",this._element.style.cssText+="position: relative;"),null!=t.width&&r.puma(this._element).width(t.width);let n=t.colorSettings.textColor,l=t.colorSettings.background,s=t.colorSettings.border,u=t.icon;switch(t.type){case r.NotifierTypeEnum.Error:n="#B94A48",l="#F2DEDE",s="#EED3D7",u=r.IconClassRegular.CircleExclamation;break;case r.NotifierTypeEnum.Warning:n="#684200",l="#FCF8E3",s="#FBEED5",u=r.IconClassRegular.TriangleExclamation;break;case r.NotifierTypeEnum.Info:n="#3A87AD",l="#D9EDF7",s="#BCE8F1",u=r.IconClassRegular.Info;break;case r.NotifierTypeEnum.Success:n="#468847",l="#DFF0D8",s="#D6E9C6",u=r.IconClassRegular.Check}if(null!=u&&!1!==t.icon&&r.puma(this._element).append(r.icon(u,null,{css:"margin-right: 8px;"})),r.puma(this._element).css("background-color",l),r.puma(this._element).css("color",n),r.puma(this._element).css("border","solid 1px "+s),null!=t.customHtml)if("string"==typeof t.customHtml)r.puma(this._element).append(t.customHtml.replace("#text#",e));else{let e=new o;e.sender=this,e.divContainer=this._element,t.customHtml(e)}else r.puma(this._element).append("<label>"+e+"</label>");if(this.isOnTarget()){let e="border-right: 5px solid transparent; border-left: 5px solid transparent; border-top: 5px solid "+l+";",i="border-right: 5px solid transparent; border-left: 5px solid transparent; border-bottom: 5px solid "+l+";",a="border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 5px solid "+l+";",n="border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-right: 5px solid "+l+";",o=this.targetOptions().marginLeft,s=null,u=null,d=null,c=null;switch(t.position){case r.NotifierPositionEnum.TopCenter:c=-1*(this.element().offsetWidth-this.targetOptions().width)/2+o,d=4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; bottom: 0px;"+e,this._element.style.cssText+="left: "+c+"px; bottom: "+d+"px;";break;case r.NotifierPositionEnum.TopRight:c=o+this.targetOptions().width-this.element().offsetWidth,d=4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; bottom: 0px;"+e,this._element.style.cssText+="left: "+c+"px; bottom: "+d+"px;";break;case r.NotifierPositionEnum.TopLeft:c=o,d=4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; bottom: 0px;"+e,this._element.style.cssText+="left: "+c+"px; bottom: "+d+"px;";break;case r.NotifierPositionEnum.RightMiddle:{let e=-1*(this.element().offsetHeight-this.target().offsetHeight)/2;c=this.target().offsetWidth+4+o,s=e,this._arrow.style.cssText+="left: "+(this.targetOptions().width+o)+"px; top: "+(r.puma(this.target()).offset().top+this.target().offsetHeight/2-5)+"px;"+n,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;",this._container.style.cssText+="left: "+c+"px; top: "+s+"px;"}break;case r.NotifierPositionEnum.RightTop:c=this.target().offsetWidth+4+o,s=0,this._arrow.style.cssText+="left: "+(this.target().offsetWidth+o)+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+n,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;";break;case r.NotifierPositionEnum.RightBottom:{let e=Math.abs(this.element().offsetHeight-this.target().offsetHeight);c=this.target().offsetWidth+4+o,s=-e,this._arrow.style.cssText+="left: "+(this.target().offsetWidth+o)+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+n,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;"}break;case r.NotifierPositionEnum.LeftMiddle:{let e=-1*(this.element().offsetHeight-this.target().offsetHeight)/2;u=-(o-4),s=e,this._arrow.style.cssText+="right: -"+o+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+a,this._element.style.cssText+="right: "+u+"px; top: "+e+"px;"}break;case r.NotifierPositionEnum.LeftTop:u=-(o-4),s=0,this._arrow.style.cssText+="right: -"+o+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+a,this._element.style.cssText+="right: "+u+"px; top: "+s+"px;";break;case r.NotifierPositionEnum.LeftBottom:{let e=Math.abs(this.element().offsetHeight-this.target().offsetHeight);u=-(o-4),s=-e,this._arrow.style.cssText+="right: -"+o+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+a,this._element.style.cssText+="right: "+u+"px; top: "+s+"px;"}break;case r.NotifierPositionEnum.BottomCenter:c=-1*(this.element().offsetWidth-this.targetOptions().width)/2+o,s=this.targetOptions().height+4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; top: "+this.targetOptions().height+"px;"+i,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;";break;case r.NotifierPositionEnum.BottomRight:c=o+this.targetOptions().width-this.element().offsetWidth,s=this.targetOptions().height+4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; top: "+this.targetOptions().height+"px;"+i,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;";break;case r.NotifierPositionEnum.BottomLeft:c=o,s=this.targetOptions().height+4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; top: "+this.targetOptions().height+"px;"+i,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;"}null!=c&&c<0&&(this._element.style.cssText+="left: 0px;",this._container.style.cssText+="left: 0px;"),null!=s&&s<0&&(this._element.style.cssText+="top: 0px;",this._container.style.cssText+="top: 0px;")}r.puma(this._element).hide(),r.puma(this._arrow).hide()}getContainerToAdd(){let e=this.getOptions(),t=null;return t=this.isOnTarget()?document.body:r.puma(".vrNotifierArea"+e.position),t}container(){return this._container}visible(e){return null!=e&&(e?this.show():this.hide()),r.puma(this._element).is(":visible")}show(e){let t=this.getOptions(),i=t.showSettings,a=t.hideSettings,n=i.duration;switch(i.animation){case r.AnimationShowEnum.Default:r.puma(this._element).show(n);break;case r.AnimationShowEnum.FadeIn:r.puma(this._element).fadeIn(n);break;case r.AnimationShowEnum.SlideDown:r.puma(this._element).slideDown(n);break;case r.AnimationShowEnum.None:r.puma(this._element).show();break;default:r.puma(this._element).show(n)}r.puma(this._arrow).show(),!1!==a.autoHide?window.setTimeout(()=>this.hide(),a.autoHide):!0===a.clickToHide&&r.puma(this._container).on("click",e=>this.hide()),null!=e&&r.puma(this._element).append("<label>"+e+"</label>"),r.puma(this._element).on("click",()=>{if(null!=t.onClick){let i=new s;i.sender=this,i.text=e,t.onClick(i)}})}open(e){this.show(e)}hide(){let e=this.getOptions().hideSettings,t=e.duration;switch(e.animation){case r.AnimationHideEnum.Default:r.puma(this._element).hide(t);break;case r.AnimationHideEnum.FadeOut:r.puma(this._element).fadeOut(t);break;case r.AnimationHideEnum.SlideUp:r.puma(this._element).slideUp(t);break;case r.AnimationHideEnum.None:r.puma(this._element).hide();break;default:r.puma(this._element).hide(t)}r.puma(this._arrow).hide(),window.setTimeout(()=>r.puma(this._container).remove(),t)}close(){this.hide()}isOnTarget(){return null!=this.target()}target(){return this.getOptions().target}targetOptions(){let e=new l;return e.width=this.target().offsetWidth,e.height=this.target().offsetHeight,e.offsetLeft=this.target().offsetLeft,e.offsetTop=this.target().offsetTop,e.marginTop=r.puma(this.target()).css("marginTop").getNumericPart(),e.marginRight=r.puma(this.target()).css("marginRight").getNumericPart(),e.marginBottom=r.puma(this.target()).css("marginBottom").getNumericPart(),e.marginLeft=r.puma(this.target()).css("marginLeft").getNumericPart(),e}element(){return this._element}getOptions(){return this._options}};class n{}t.NotifierShowSettings=n;class o{}t.NotifierCustomHtmlEvent=o;class l{}class s{}t.NotifierOnClickEvent=s;class u{}t.NotifierHideSettings=u},function(e,t,i){e.exports=i(0)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelClickEvent=t.Label=t.LabelOptions=void 0;const a=i(0),r=i(1),n=i(2);class o extends r.VrControlOptions{}t.LabelOptions=o;class l extends r.VrControl{constructor(e,t){if(null==t&&(t=new o),null==t.text&&(t.text=""),null==t.noBr&&(t.noBr=!1),null==t.mode&&(t.mode=a.LabelModeEnum.Default),t.mode==a.LabelModeEnum.Currency&&null==t.align&&(t.align=a.TextAlignEnum.Right),null==t.align&&(t.align=a.TextAlignEnum.Left),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,a.ControlTypeEnum.Label),null!=t.label&&t.labelSettings.position==a.PositionEnum.Left&&(this.element().style.cssText+="margin-top: -2px;"),!1!==t.noBr&&(!0===t.noBr?(this.element().style.cssText+="white-space: nowrap; overflow:hidden; margin-bottom: -6px; text-overflow: ellipsis; display: inline-block;",null==t.width&&(this.element().style.cssText+="width: 100%;")):this.element().style.cssText+="overflow: hidden; display: -webkit-inline-box; -webkit-line-clamp: "+t.noBr+"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;"),this.value(t.text),null!=t.tooltip&&!1!==t.tooltip&&this.tooltip(!0===t.tooltip?t.text:t.tooltip),null!=t.key&&a.puma(this.element()).attr("key",t.key),null!=t.colorSettings){let e=t.colorSettings;null!=e.textColor&&this.color(e.textColor),null!=e.background&&this.backgroundColor(e.background),null!=e.border&&this.borderColor(e.border)}let i="";null!=t.fontSize&&("number"==typeof t.fontSize&&(t.fontSize=t.fontSize+"px"),i+="font-size: "+t.fontSize+";"),null!=t.fontFamily&&(i+="font-family: "+t.fontFamily+";"),!0===t.bold&&(i+="font-weight: 600;"),this.element().style.cssText+=i,this.element().style.cssText+="text-align: "+t.align+";",this.container().style.cssText+="text-align: "+t.align+";";let r="",n="";if(null!=t.underlineMode){switch(t.underlineMode){case a.LabelUnderlineMode.Always:n+="text-decoration: underline";break;case a.LabelUnderlineMode.None:n+="text-decoration: none";break;case a.LabelUnderlineMode.OnHover:r="labelhover"}this.element().style.cssText+=n+";",r.vrIsNotNullOrEmpty()&&a.puma(this.element()).addClass(r)}null!=t.onClick&&(this.container().style.cssText+="cursor: pointer;",this.element().style.cssText+="cursor: pointer;"),a.puma(this.container()).click(()=>this.click()),null!=t.onHover&&a.puma(this.container()).on("hover",()=>{let e=new u;e.sender=this,e.text=this.value(),t.onHover(e)})}value(e){let t=this.getOptions();if(null!=e){let i="";switch(null!=t.linkCss&&(i=" style='"+t.linkCss+";' "),this.options().mode){case a.LabelModeEnum.Primary:a.puma(this.element()).addClass("vrLabelPrimaryMode");break;case a.LabelModeEnum.Error:a.puma(this.element()).addClass("vrLabelErrorMode");break;case a.LabelModeEnum.Phone:e="<a "+i+" href='tel:"+e+"'>"+e+"</a>";break;case a.LabelModeEnum.Mail:e="<a "+i+" href='mailto:"+e+"'>"+e+"</a>";break;case a.LabelModeEnum.Link:e="<a "+i+" href='"+e+"'>"+e+"</a>";break;case a.LabelModeEnum.Currency:e=Number(e).vrToCurrencyString();break;case a.LabelModeEnum.Date:e=new Date(e).vrToItalyString(a.DateModeEnum.Date);break;case a.LabelModeEnum.DateTime:e=new Date(e).vrToItalyString(a.DateModeEnum.DateTime);break;case a.LabelModeEnum.Time:e=new Date(e).vrToItalyString(a.DateModeEnum.Time)}this.element().innerHTML=String(e);let r=n.UtilityManager.textWidth(this.element());(!0===t.tooltip||!1!==t.tooltip&&null!=r&&r>0&&r+10>this.width())&&this.tooltip(this.element().textContent)}return this.element().innerHTML}appendText(e){this.value(this.value()+e)}tooltip(e){return null!=e&&(this.element().title="string"==typeof e||"number"==typeof e?String(e):e.vrToItalyString()),this.element().title}toTel(e,t){this.element().innerHTML=this.formatLinkLabel("tel:"+e,t)}toMail(e,t){this.element().innerHTML=this.formatLinkLabel("mailto:"+e,t)}toLink(e,t){this.element().innerHTML=this.formatLinkLabel(e,t)}formatLinkLabel(e,t){let i=this.getOptions(),a="";return null!=i.linkCss&&(a=" style='"+i.linkCss+";' "),"<a "+a+" href='"+e+"'>"+(null!=t?t:this.value())+"</a>"}color(e){return null!=e&&(this.element().style.cssText+="color: "+e),a.puma(this.element()).css("color")}backgroundColor(e){return null!=e&&(this.element().style.cssText+="background-color: "+e),a.puma(this.element()).css("background-color")}borderColor(e){return null!=e&&(this.element().style.cssText+="border: solid 1px "+e+"; padding: 1px 3px 1px 3px;"),a.puma(this.element()).css("border-color")}isEmpty(){return""===this.element().innerHTML}clear(){this.element().innerHTML="",this.element().title=""}getOptions(){return this.options()}click(){let e=this.options().onClick;if(null!=e){let t=new s;t.sender=this,t.text=this.value(),e(t)}}}t.Label=l;class s extends r.VrControlsEvent{}t.LabelClickEvent=s;class u extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxCheckEvent=t.CheckBox=t.CheckBoxOptions=void 0;const a=i(1),r=i(0),n=i(3);class o extends a.VrControlOptions{}t.CheckBoxOptions=o;class l extends a.VrControl{constructor(e,t){null==t&&(t=new o),null==t.text&&(t.text=""),null==t.checked&&(t.checked=!1),null==t.threeState&&(t.threeState=!1),r.puma(e).attr("type","checkbox");let i=t.width;t.width=void 0,super(e,t,r.ControlTypeEnum.CheckBox),null!=i&&("number"==typeof i&&(i+="px"),this.container().style.cssText+="width: "+i+";");let a=r.createLabel({text:t.text,cssContainer:"position: relative; top: -1px;",class:"vrCheckBoxLabel",width:"100%"},this.container());r.puma(a.element()).attr("for",e.id),null!=t.value&&r.puma(this.element()).attr("value",t.value),null!=t.name&&r.puma(this.element()).attr("name",t.name),null!=t.tooltip&&r.puma(this.element()).attr("title",t.tooltip),!0===t.checked?this.checked(r.CheckboxStateEnum.Checked,!1):t.threeState&&this.checked(r.CheckboxStateEnum.Undefined,!1),r.puma(this.element()).click(e=>{this.hideError();let i=e.currentTarget,a=i.checked,n=null;if(t.threeState?i.checked&&!r.puma(this.element()).hasClass("indeterminateVrCheckbox")?(r.puma(this.element()).addClass("indeterminateVrCheckbox"),n=r.CheckboxStateEnum.Undefined,e.preventDefault()):(r.puma(this.element()).removeClass("indeterminateVrCheckbox"),n=a?r.CheckboxStateEnum.Checked:r.CheckboxStateEnum.Unchecked):n=i.checked?r.CheckboxStateEnum.Checked:r.CheckboxStateEnum.Unchecked,null!=t.onCheck){let i=new s;i.sender=this,i.checked=a,i.stateEnum=n,i.shiftKey=e.shiftKey,i.ctrlKey=e.ctrlKey,t.onCheck(i)}})}checked(e,t=!0){if(null!=e){this.hideError();let i=!0,a=r.CheckboxStateEnum.Checked;if(r.puma(this.element()).removeClass("indeterminateVrCheckbox"),"boolean"==typeof e?(this.element().checked=e,i=e,a=e?r.CheckboxStateEnum.Checked:r.CheckboxStateEnum.Unchecked):(a=e,e==r.CheckboxStateEnum.Checked?(this.element().checked=!0,i=!0):(this.element().checked=!1,i=!1,e==r.CheckboxStateEnum.Undefined&&r.puma(this.element()).addClass("indeterminateVrCheckbox"))),t){let e=this.getOptions();if(null!=e.onCheck){let t=new s;t.sender=this,t.checked=i,t.stateEnum=a,e.onCheck(t)}}}return r.puma(this.element()).hasClass("indeterminateVrCheckbox")?null:this.element().checked}check(){r.puma(this.element()).click()}text(e){return null!=e&&r.puma(this.container()).find(".vrCheckBoxLabel").html(e),r.puma(this.container()).find(".vrCheckBoxLabel").html()}clear(e=!1){this.getOptions().threeState?this.checked(r.CheckboxStateEnum.Undefined,e):this.checked(!1,e)}getOptions(){return this.options()}error(e,t,i=!1){this.options();null==t&&(t=r.ErrorPositionEnum.Right),null==e&&(e=""),r.puma(this.element()).addClass("vrCheckBoxError");let a=r.puma(this.container()).find(".vrCheckBoxErrorIcon")[0];null!=a||n.DeviceManager.isMobile()||(a=r.puma("<i class='fa fa-exclamation-triangle vrCheckBoxErrorIcon'></i>").vrInsertAfterPuma(r.puma(this.container()).find(".vrCheckBoxLabel"))[0]),i?r.puma(a).show():r.puma(a).hide();let o=r.puma("<span class='vrCheckBoxErrorTooltip vrErrorTooltip'>"+e+"</span>").vrAppendToPuma(a);t==r.ErrorPositionEnum.Right?r.puma(o).addClass("vrCheckBoxErrorTooltipRight"):t==r.ErrorPositionEnum.Bottom&&(r.puma(o).addClass("vrCheckBoxErrorTooltipBottom"),r.puma(a).hover(()=>r.puma(o)[0].style.cssText+="left: -"+(r.puma(o).outerWidth()/2-7)+"px;"))}hideError(){r.puma(this.element()).removeClass("vrCheckBoxError"),r.puma(this.container()).find(".vrCheckBoxErrorIcon").hide(),r.puma(this.container()).find(".vrCheckBoxErrorTooltip").hide()}}t.CheckBox=l;class s extends class{}{}t.CheckBoxCheckEvent=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=t.SeparatorOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.SeparatorOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.size&&(t.size=1),null==t.marginSettings&&(t.marginSettings=new l),null==t.orientation&&(t.orientation=r.OrientationEnum.Vertical),null==t.color&&(t.color="#CCC"),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Separator),t.orientation==r.OrientationEnum.Vertical?(null==t.marginSettings.top&&(t.marginSettings.top=0),null==t.marginSettings.right&&(t.marginSettings.right=8),null==t.marginSettings.bottom&&(t.marginSettings.bottom=0),null==t.marginSettings.left&&(t.marginSettings.left=5),this.container().style.cssText+="display: inline; position: relative;margin-top: "+t.marginSettings.top+"px; margin-bottom: "+t.marginSettings.bottom+"px;margin-right: "+t.marginSettings.right+"px; margin-left: "+t.marginSettings.left+"px;",this.element().style.cssText+="display: inline-block; height: 30px; width: "+t.size+"px;background-color: "+t.color+"; position: absolute; top: -4px;"):(null==t.marginSettings.top&&(t.marginSettings.top=0),null==t.marginSettings.right&&(t.marginSettings.right=0),null==t.marginSettings.bottom&&(t.marginSettings.bottom=8),null==t.marginSettings.left&&(t.marginSettings.left=0),this.container().style.cssText+="display: block;margin-top: "+t.marginSettings.top+"px; margin-bottom: "+t.marginSettings.bottom+"px;margin-right: "+t.marginSettings.right+"px; margin-left: "+t.marginSettings.left+"px;",this.element().style.cssText+="display: inline-block; width: 100%; height: "+t.size+"px; background-color: "+t.color),null!=t.visible&&super.visible(t.visible)}}t.Separator=o;class l{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=t.ImageOptions=void 0;const a=i(0),r=i(1);class n extends r.VrControlOptions{}t.ImageOptions=n;class o extends r.VrControl{constructor(e,t){switch(null==t&&(t=new n),null==t.position&&(t.position=a.ImagePositionTypeEnum.Original),null==t.base64&&(t.base64=!1),null==t.overlayDescription&&(t.overlayDescription=!1),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,a.ControlTypeEnum.Image),this.element().style.cssText+="width: auto; height: auto;",null!=t.value&&this.value(t.value),null!=t.tooltip&&(this.element().alt=t.tooltip,this.element().title=t.tooltip),t.position){case a.ImagePositionTypeEnum.Center:this.container().style.cssText+="text-align: center; justify-content: center;",this.element().style.cssText+="max-width: 100%; max-height: 100%;";break;case a.ImagePositionTypeEnum.Fill:this.element().style.cssText+="width: 100%; max-height: 100%;";break;case a.ImagePositionTypeEnum.Fit:this.element().style.cssText+="height: 100%; max-width: 100%;";break;case a.ImagePositionTypeEnum.Stretch:this.element().style.cssText+="width: 100%; height: 100%;";break;case a.ImagePositionTypeEnum.Original:this.element().style.cssText+="max-width: 100%; max-height: 100%;"}if(null!=t.toolbarItems){let i=document.createElement("div");a.puma(i).addClass("vrImageToolbar"),a.puma(this.container()).prepend(i);for(let r of t.toolbarItems)switch(null==r.type&&(r.type=a.ImageToolbarTypeEnum.Custom),r.type){case a.ImageToolbarTypeEnum.Download:{let e=document.createElement("a");a.puma(e).addClass("vrImageDownloadToolbar vrImageToolbarItem"),e.download="download",e.href=this.value(),e.innerHTML="<i class='fa fa-download' aria-hidden='true'></i>",i.append(e),a.puma(e).click(e=>{if(null!=r.onClick){let e=new l;e.sender=this,r.onClick(e)}})}break;case a.ImageToolbarTypeEnum.Delete:{let t=document.createElement("a");a.puma(t).addClass("vrImageDeleteToolbar vrImageToolbarItem"),t.id="deleteToolbarImage_"+e.id,t.innerHTML="<i class='fa fa-remove' aria-hidden='true'></i>",i.append(t),a.puma(t).click(e=>{if(null!=r.confirmationMessage&&""!=r.confirmationMessage)a.confirm(r.confirmationMessage).then(()=>{if(this.clear(),null!=r.onClick){let e=new l;e.sender=this,r.onClick(e)}});else if(this.clear(),null!=r.onClick){let e=new l;e.sender=this,r.onClick(e)}})}break;case a.ImageToolbarTypeEnum.Custom:{let e=document.createElement("a");a.puma(e).addClass("vrImageToolbarItem"),e.innerHTML="<i class='fa fa-"+r.icon+"'></i>",e.style.cssText+="float: right; margin-right: 7px; color: #FFF; cursor: pointer;",i.append(e),a.puma(e).click(e=>{if(null!=r.confirmationMessage&&""!=r.confirmationMessage)a.confirm(r.confirmationMessage).then(()=>{if(null!=r.onClick){let e=new l;e.sender=this,r.onClick(e)}});else if(null!=r.onClick){let e=new l;e.sender=this,r.onClick(e)}})}}}if(!1!==t.overlayDescription){1==t.overlayDescription&&(t.overlayDescription="");let e=document.createElement("div");a.puma(e).addClass("vrImageOverlayDescription"),e.innerHTML=t.overlayDescription,a.puma(this.container()).prepend(e)}a.puma(this.container()).on("mouseenter",e=>{this.enabled()&&(null!=this.value()&&""!=this.value()&&(null!=t.toolbarItems&&a.puma(this.container()).find(".vrImageToolbar").show(),!1!==t.overlayDescription&&a.puma(this.container()).find(".vrImageOverlayDescription").show()),null!=t.onHover&&t.onHover())}),a.puma(this.container()).on("mouseleave",e=>{this.enabled()&&(null!=t.toolbarItems&&a.puma(this.container()).find(".vrImageToolbar").hide(),!1!==t.overlayDescription&&a.puma(this.container()).find(".vrImageOverlayDescription").hide(),null!=t.onLeave&&t.onLeave())}),null!=t.onClick&&(this.element().style.cssText+="cursor: pointer;",a.puma(this.container()).on("click",e=>{if(!this.enabled())return;let i=new s;i.sender=this,t.onClick(i)}))}value(e,t,i){let r=this.options();if(null!=e&&""!=e){i=null==i?"image/png":i,t=null==t?"download":t,e=e.replace(/^data:image\/[^;]+;base64,/,"");let n=r.base64?"data:"+i+";base64,":"";a.puma(this.element()).attr("src",n+e),r.base64&&(e=e.replace(/^data:image\/[^;]+/,"data:application/octet-stream")),a.puma(this.container()).find(".vrImageDownloadToolbar").attr("href",n+e),a.puma(this.container()).find(".vrImageDownloadToolbar").attr("download",t)}return a.puma(this.element()).attr("src")}overlayDescription(e){if(null!=e){!1!==this.options().overlayDescription&&a.puma(this.container()).find(".vrImageOverlayDescription").html(e)}return a.puma(this.container()).find(".vrImageOverlayDescription").html()}toolbar(){return a.puma(this.container()).find(".vrImageToolbar")[0]}clear(){a.puma(this.element()).removeAttr("src")}enable(){super.enable(),window.setTimeout(()=>a.puma(this.toolbar()).show())}disable(){super.disable(),window.setTimeout(()=>a.puma(this.toolbar()).hide())}getOptions(){return this.options()}}t.Image=o;class l{}class s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorItemClickEvent=t.Editor=t.EditorOptions=void 0;const a=i(4),r=i(1),n=i(0),o=i(10);class l extends r.VrControlOptions{}t.EditorOptions=l;class s extends r.VrControl{constructor(e,t){null==t&&(t=new l),null==t.height&&(t.height=350),null==t.resizable&&(t.resizable=!1),null==t.pasteImages&&(t.pasteImages=!1),null==t.toolbar&&(t.toolbar=!0),null==t.menu&&(t.menu=!0),null!=t.customMenuItems&&!1!==t.menu&&(t.menu=!0),null==t.baseUrl&&(t.baseUrl="/scripts/tinymce/"),null==t.toolbarMode&&(t.toolbarMode=n.vrEditorToolbarModeEnum.Floating),null==t.plugins&&(t.plugins="image,link,searchreplace,fullscreen,preview,emoticons,media,lists,pagebreak,table,charmap,code,wordcount"),null==t.browserSpellCheck&&(t.browserSpellCheck=!0),null==t.enable&&(t.enable=!0),null==t.pasteAsText&&(t.pasteAsText=!0),null==t.replacePtagWithDiv&&(t.replacePtagWithDiv=!0),null==t.speechRecognizer&&(t.speechRecognizer=!0),!1!==t.speechRecognizer&&(t.speechRecognizer=new n.vrEditorSpeechRecognizerSettings,null==t.speechRecognizer.stopAtClick&&(t.speechRecognizer.stopAtClick=!0),null==t.speechRecognizer.position&&(t.speechRecognizer.position=n.EditorSpeechRecognizerPositionEnum.MenuItems),null==t.speechRecognizer.mode&&(t.speechRecognizer.mode=n.EditorSpeechRecognizerModeEnum.Popup),null==t.speechRecognizer.showInfoCommands&&(t.speechRecognizer.showInfoCommands=!0)),null==t.fontSize&&(t.fontSize=new n.vrEditorFontSizeSettings),null==t.fontSize.defaultSize&&(t.fontSize.defaultSize=12),null==t.fontSize.formatSizeList&&(t.fontSize.formatSizeList=[8,10,11,12,13,14,15,16,18,24,36]),super(e,t,n.ControlTypeEnum.Editor);let i=!1;i=!0===t.toolbar?"bold italic underline | fontfamily fontsize | alignleft aligncenter alignright alignjustify | numlist bullist | forecolor link | fullscreen":!1!==t.toolbar&&t.toolbar.toString().replace(/,/g," ");let r=!1,o={};if(!0===t.menu)r=!0,o={file:{title:"",items:""},edit:{title:"Edit",items:"undo redo | cut copy | selectall searchreplace"},view:{title:"View",items:"preview code wordcount | fullscreen"},insert:{title:"",items:""},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat"},table:{title:"",items:""},tools:{title:"",items:""}};else if(!1===t.menu)r=!1,o=void 0;else{if(r=!0,t.menu.file){let e="preview";!0===t.menu.file?o.file={title:"File",items:e}:o.file={title:null==t.menu.file.title?"File":t.menu.file.title,items:null==t.menu.file.items?e:t.menu.file.items.toString().replace(/,/g," ")}}else o.file={title:"",items:""};if(t.menu.edit){let e="undo redo | cut copy | selectall searchreplace";!0===t.menu.edit?o.edit={title:"Edit",items:e}:o.edit={title:null==t.menu.edit.title?"Edit":t.menu.edit.title,items:null==t.menu.edit.items?e:t.menu.edit.items.toString().replace(/,/g," ")}}else o.edit={title:"",items:""};if(t.menu.view){let e="preview code wordcount fullscreen";!0===t.menu.view?o.view={title:"View",items:e}:o.view={title:null==t.menu.view.title?"View":t.menu.view.title,items:null==t.menu.view.items?e:t.menu.view.items.toString().replace(/,/g," ")}}else o.view={title:"",items:""};if(t.menu.insert){let e="link | charmap pagebreak";!0===t.menu.insert?o.insert={title:"Insert",items:e}:o.insert={title:null==t.menu.insert.title?"Insert":t.menu.insert.title,items:null==t.menu.insert.items?e:t.menu.insert.items.toString().replace(/,/g," ")}}else o.insert={title:"",items:""};if(t.menu.format){let e="bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat";!0===t.menu.format?o.format={title:"Format",items:e}:o.format={title:null==t.menu.format.title?"Format":t.menu.format.title,items:null==t.menu.format.items?e:t.menu.format.items.toString().replace(/,/g," ")}}else o.format={title:"",items:""};if(t.menu.table){let e="inserttable cell row";!0===t.menu.table?o.table={title:"Table",items:e}:o.table={title:null==t.menu.table.title?"Table":t.menu.table.title,items:null==t.menu.table.items?e:t.menu.table.items.toString().replace(/,/g," ")}}else o.table={title:"",items:""};if(t.menu.tools){let e="code wordcount";!0===t.menu.tools?o.tools={title:"Tools",items:e}:o.tools={title:null==t.menu.tools.title?"Tools":t.menu.tools.title,items:null==t.menu.tools.items?e:t.menu.tools.items.toString().replace(/,/g," ")}}else o.tools={title:"",items:""}}let s="";if(null!=t.customToolItems)for(let e=0;e<t.customToolItems.length;e++)s+=" customItem"+e;let u=null!=t.label&&t.labelSettings.position==n.PositionEnum.Top?24:6;if(this._divMenuItem=n.div(this.container(),{css:"position: absolute; top: "+u+"px; right: 5px; z-index: 1; display: none;"}),menubar&&null!=t.customMenuItems)for(let e of t.customMenuItems)this.addMenuItem(e);!1!==t.speechRecognizer&&(this._finalTextSpeeched="",this._speechRecognizer=n.createSpeechRecognizer({size:20,cssContainer:"margin-left: 10px;"+(t.speechRecognizer.position==n.EditorSpeechRecognizerPositionEnum.MenuItems?!1!==t.menu?"top: 48px; right: -6px;":"top: 10px;":""),stopAtClick:t.speechRecognizer.stopAtClick,onEnd:e=>{null!=this._wndCommands&&this._wndCommands.close(),null!=this._wndTempMessage&&this._wndTempMessage.close()},onStart:e=>this._finalTextSpeeched=this.value()+" ",onClick:e=>{t.speechRecognizer.mode==n.EditorSpeechRecognizerModeEnum.Popup&&(null!=this._wndTempMessage&&this._wndTempMessage.visible()||e.sender.isRecording()?this._wndTempMessage.close():this.openWindowTempMessage())},onResult:e=>{if(e.interimResults.length>0){let i=this.parseInput(e.interimResults,!0);t.speechRecognizer.mode==n.EditorSpeechRecognizerModeEnum.Popup?this._txtTempMessage.value(i):this.value(this._finalTextSpeeched+i)}if(e.finalResults.length>0){(e.finalResults.toLowerCase().includes("stop registrazione")||e.finalResults.toLowerCase().includes("fine registrazione"))&&e.sender.stop();let i=this.parseInput(e.finalResults);t.speechRecognizer.mode==n.EditorSpeechRecognizerModeEnum.Popup?(this._txtTempMessage.clear(),this.insertTextAtCursor(i)):(this._finalTextSpeeched+=i,this.value(this._finalTextSpeeched))}}},this._divMenuItem)),tinyMCE.baseURL=t.baseUrl,tinyMCE.suffix=".min",tinyMCE.init({selector:"#"+this.element().id,height:"100%",readonly:!t.enable,placeholder:t.placeholder,resize:t.resizable,toolbar_mode:t.toolbarMode,paste_data_images:t.pasteImages,language:t.language,menu:o,menubar:r,toolbar:i+s,plugins:t.plugins,browser_spellcheck:t.browserSpellCheck,contextmenu:!1,fontsize_formats:t.fontSize.formatSizeList.join("pt ")+"pt",content_style:"body { font-size: "+t.fontSize.defaultSize+"pt; } p { margin-top: 0px; margin-bottom: 0px; }",forced_root_block:"div",paste_as_text:t.pasteAsText,setup:e=>{if(null!=t.customToolItems){let i=0;for(let a of t.customToolItems)e.ui.registry.addButton("customItem"+i,{icon:a.icon,image:a.imageUrl,tooltip:a.tooltip,text:a.text,onAction:function(e){if(null!=a.onClick){let e=new d;e.sender=this,a.onClick(e)}}}),i++}e.on("keyup",e=>{if(null!=t.onKeyUp){let i=new v;i.sender=this,i.key=e.key,i.keyCode=e.keyCode,i.realEvent=e,t.onKeyUp(i)}}),e.on("keydown",e=>{if(e.key==n.KeyEnum.Tab){let t=n.puma(this.container()).nextAll(".vrControlsContainer").first().attr("id");if(null!=t&&""!=t){t=t.replace("Container","");let i=a.ControlManager.get(t);null!=i?i.focus():n.puma(t).focus(),e.preventDefault()}}if(null!=t.onKeyDown){let i=new b;if(i.sender=this,i.key=e.key,i.keyCode=e.keyCode,i.realEvent=e,t.onKeyDown(i),i.isDefaultPrevented())return void e.preventDefault()}}),e.on("init",e=>{if(this._initialized=!0,n.puma(this._divMenuItem).show(),n.puma(e.target.iframeElement.contentDocument).find("html").height("100%"),n.puma(e.target.iframeElement.contentDocument).find("body").height("-webkit-fill-available"),null!=t.onInit){let i=new C;if(i.sender=this,i.event=e,t.onInit(i),i.isDefaultPrevented())return}null!=t.text?this.value(t.text):""!=this._value&&this.value(this._value)}),this._divDragFile=n.div(this.container(),{class:"vrEditorDragDrop",content:"Trascina qui i file..."}),e.on("dragenter",e=>{if(null!=t.onDragEnter){let i=new y;i.sender=this,i.element=e.currentTarget,i.event=e,i.realEvent=e,t.onDragEnter(i)}e.preventDefault(),e.stopPropagation()}),e.on("dragover",e=>{if(null!=t.onDragOver){let i=new _;if(i.sender=this,i.element=e.currentTarget,i.event=e,i.realEvent=e,t.onDragOver(i),i.isDefaultPrevented())return e.preventDefault(),void e.stopPropagation()}n.puma(this._divDragFile).css({display:"flex"}),e.preventDefault(),e.stopPropagation()}),["dragenter","dragover","dragleave","drop"].forEach(e=>{this._divDragFile.addEventListener(e,e=>{e.preventDefault(),e.stopPropagation()},!1)}),n.puma(this._divDragFile).on("dragleave",e=>this.manageDragLeave(e)),e.on("dragleave",e=>this.manageDragLeave(e)),e.on("drop",e=>this.manageDrop(e)),n.puma(this._divDragFile).on("drop",e=>this.manageDrop(e))}}),this._tinyMceControl=tinyMCE.get(this.element().id),this._settings=this._tinyMceControl.settings,tinyMCE.activeEditor.on("focus",e=>{if(null!=t.onFocus){let i=new c;i.sender=this,i.realEvent=e,t.onFocus(i)}}),tinyMCE.activeEditor.on("blur",e=>{if(null!=t.onBlur){let i=new p;i.sender=this,i.realEvent=e,t.onBlur(i)}}),tinyMCE.activeEditor.on("ExecCommand",e=>{if(null!=t.onCommand){let i=new h;i.sender=this,i.command=e.command,i.value=e.value,i.type=e.type,i.realEvent=e,t.onCommand(i)}}),tinyMCE.activeEditor.on("GetContent",e=>{if(null!=t.onSetContent){let i=new m;i.sender=this,i.content=e.content,i.element=e.element,i.format=e.format,i.type=e.type,i.realEvent=e,t.onSetContent(i)}}),tinyMCE.activeEditor.on("ObjectResizeStart",e=>{if(null!=t.onBeforeResize){let i=new f;i.sender=this,i.height=e.height,i.width=e.width,i.target=e.target,i.type=e.type,i.realEvent=e,t.onBeforeResize(i)}}),tinyMCE.activeEditor.on("ObjectResized",e=>{if(null!=t.onAfterResize){let i=new g;i.sender=this,i.height=e.height,i.width=e.width,i.target=e.target,i.type=e.type,i.realEvent=e,t.onAfterResize(i)}})}settings(){return this._settings}openWindowTempMessage(){this.createWindowTempMessage(),this._wndTempMessage.open()}createWindowTempMessage(){if(null!=this._wndTempMessage)return;let e=this.getOptions();this._wndTempMessage=n.createWindow({title:"Testo temporaneo",height:210,width:300,modal:!1,position:{bottom:37,right:10},footer:!1,onClose:e=>{n.puma(this._wndTempMessage.container()).remove(),this._wndTempMessage=null,this._txtTempMessage=null}}),this._txtTempMessage=n.createMultilineTextBox({placeholder:"Comincia a parlare per visualizzare il testo... fermati per inserirlo nell'editor",height:160,enable:!1,width:"100%"},this._wndTempMessage.element()),n.createButton({icon:n.IconClassLight.Info,cssContainer:"margin-right: 16px; margin-top: 4px;",css:"font-size: 17px; border: none; background: none;",colorSettings:{textColor:"#FFF"},visible:e.speechRecognizer.showInfoCommands,onClick:e=>{null!=this._wndCommands&&this._wndCommands.visible()?this._wndCommands.close():this.openWindowCommands()}},this._wndTempMessage.header())}openWindowCommands(){this.createWindowCommands(),this._wndCommands.open()}createWindowCommands(){null==this._wndCommands&&(this._wndCommands=n.createWindow({title:"Comandi consentiti",height:300,width:185,modal:!1,position:{bottom:255,right:10},footer:!1,onClose:e=>{n.puma(this._wndCommands.container()).remove(),this._wndCommands=null},content:"<div style='font-size: 14px;'>Comandi consentiti: <ul>\n                    <li>A capo</li>\n                    <li>Virgola</li>\n                    <li>Punto</li>\n                    <li>Due punti</li>\n                    <li>Punto e virgola</li>\n                    <li>Punto virgola</li>\n                    <li>Punto esclamativo</li>\n                    <li>Punto interrogativo</li>\n                    <li>Puntini</li>\n                    <li>Trattino</li>\n                    <li>Fine registrazione</li>\n                </ul></font>"}))}parseInput(e,t=!1){return e=this.replaceAll(e," a capo ","<br />"),e=this.replaceAll(e," A capo ","<br />"),e=this.replaceAll(e," a capo","<br />"),e=this.replaceAll(e," A capo","<br />"),e=this.replaceAll(e,"a capo ","<br />"),e=this.replaceAll(e,"A capo ","<br />"),e=this.replaceAll(e,"a capo","<br />"),e=this.replaceAll(e,"A capo","<br />"),e=this.replaceAll(e,"trattino"," - "),e=this.replaceAll(e,"Trattino"," - "),e=this.replaceAll(e," punto e virgola","; "),e=this.replaceAll(e," Punto e virgola","; "),e=this.replaceAll(e," punto virgola","; "),e=this.replaceAll(e," Punto virgola","; "),e=this.replaceAll(e," virgola",", "),e=this.replaceAll(e," Virgola",", "),e=this.replaceAll(e," due punti",": "),e=this.replaceAll(e," Due punti",": "),e=this.replaceAll(e," slash ","/"),e=this.replaceAll(e," Slash ","/"),e=this.replaceAll(e," 2 punti",": "),e=this.replaceAll(e," punto esclamativo","! "),e=this.replaceAll(e," Punto esclamativo","! "),e=this.replaceAll(e," esclamativo","! "),e=this.replaceAll(e," Esclamativo","! "),e=this.replaceAll(e," punto interrogativo","? "),e=this.replaceAll(e," Punto interrogativo","? "),e=this.replaceAll(e," interrogativo","? "),e=this.replaceAll(e," Interrogativo","? "),e=this.replaceAll(e,"pumo","Pumo"),e=this.replaceAll(e," punto",". "),e=this.replaceAll(e," Punto",". "),e=this.replaceAll(e," puntini","... "),e=this.replaceAll(e," Puntini","... "),t||(e=this.replaceAll(e,"stop registrazione"," "),e=this.replaceAll(e,"Stop registrazione"," "),e=this.replaceAll(e,"fine registrazione"," "),e=this.replaceAll(e,"Fine registrazione"," ")),e}replaceAll(e,t,i){let a=t.toLowerCase(),r=t.toUpperCase(),n=t.vrCapitalize();return e=(e=(e=e.replace(new RegExp(a,"g"),i)).replace(new RegExp(r,"g"),i)).replace(new RegExp(n,"g"),i)}manageDragLeave(e){let t=this.getOptions();if(null!=t.onDragLeave){let i=new S;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragLeave(i),i.isDefaultPrevented())return e.preventDefault(),void e.stopPropagation()}n.puma(this._divDragFile).hide(),e.preventDefault(),e.stopPropagation()}manageDrop(e){let t=this.getOptions();if(null!=t.onDrop){let i=[...e.dataTransfer.files],a=new w;if(a.sender=this,a.element=e.currentTarget,a.files=i,a.event=e,t.onDrop(a),a.isDefaultPrevented())return e.preventDefault(),void e.stopPropagation()}n.puma(this._divDragFile).hide(),e.preventDefault(),e.stopPropagation()}tinyMceControl(){return this._tinyMceControl}value(e,t=!0){null!=e&&(this._value=e,this.tinyMceControl().initialized&&this.tinyMceControl().setContent(e));let i=this.tinyMceControl().initialized?t?this.tinyMceControl().getContent():this.body().innerText:"";return this.getOptions().replacePtagWithDiv?i.replace(/<p/g,"<div").replace(/\/p>/g,"/div>"):i}insertTextAtCursor(e){this.tinyMceControl().insertContent(e)}appendText(e,t=!0){return this.value(this.value(null,t)+e)}body(){return this.tinyMceControl().getBody()}speechRecognizer(){return this._speechRecognizer}clear(){this.value(""),this._finalTextSpeeched=""}focus(){if(this._initialized)$(tinyMCE.get(this.element().id).getBody()).trigger("focus");else{let e=window.setInterval(()=>{this._initialized&&($(tinyMCE.get(this.element().id).getBody()).trigger("focus"),window.clearInterval(e))},100)}}addMenuItem(e){if(!1!==this.getOptions().menu)switch(null==e.buttonGroupOptions&&(e.buttonGroupOptions=new o.ButtonGroupOptions),null==e.buttonGroupOptions.width&&(e.buttonGroupOptions.width="auto"),e.type){case n.EditorCustomMenuItemType.SplitButton:n.createSplitButton(e.splitButtonOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.Switch:n.createSwitch(e.switchOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.ButtonGroup:n.createButtonGroup(e.buttonGroupOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.ComboBox:n.createComboBox(e.comboBoxOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.DatePicker:n.createDatePicker(e.datePickerOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.TextBox:n.createTextBox(e.textBoxOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.Button:n.createButton(e.buttonOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.Separator:n.createSeparator(e.separatorOptions,this._divMenuItem);break;case n.EditorCustomMenuItemType.Label:n.createLabel(e.labelOptions,this._divMenuItem)}}getOptions(){return this.options()}enable(){super.enable(),null!=this.settings()&&(this.settings().readonly=!1),null!=tinyMCE&&null!=tinyMCE.activeEditor&&tinyMCE.activeEditor.mode.set("design"),null!=this._speechRecognizer&&this._speechRecognizer.enable()}disable(){super.disable(),null!=this.settings()&&(this.settings().readonly=!0),null!=tinyMCE&&null!=tinyMCE.activeEditor&&tinyMCE.activeEditor.mode.set("readonly"),null!=this._speechRecognizer&&this._speechRecognizer.disable()}}t.Editor=s;class u extends r.VrControlsEvent{}class d extends u{}t.EditorItemClickEvent=d;class c extends u{}class p extends u{}class h extends u{}class m extends u{}class f extends u{}class g extends u{}class v extends u{}class b extends u{}class C extends u{}class x extends u{}class w extends x{}class y extends x{}class _ extends x{}class S extends x{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowOpenEvent=t.WindowEvent=t.SplitButtonSwitchSettings=t.WindowFooterItem=t.Window=t.WindowOptions=void 0;const a=i(1),r=i(0),n=i(2),o=i(4),l=i(3),s=i(9),u=i(7),d=i(5),c=i(6);class p extends a.VrControlOptions{}t.WindowOptions=p;class h extends a.VrControl{constructor(e,t){if(null==t&&(t=new p),null==t.width&&(t.width=500),null==t.height&&(t.height=500),null==t.padding&&(t.padding=10),null==t.modal&&(t.modal=!0),null==t.closeable&&(t.closeable=!0),null==t.hideCloseIcon&&(t.hideCloseIcon=!1),null==t.draggable&&(t.draggable=!0),null==t.iframe&&(t.iframe=!1),null==t.loader&&(t.loader=!1),null==t.title&&(t.title=!1),null==t.removeOnClose&&(t.removeOnClose=!1),null!=t.footer&&!0!==t.footer||(t.footer=[{type:r.WindowFooterItemTypeEnum.Close,value:"close"},{type:r.WindowFooterItemTypeEnum.Ok,value:"ok"}]),null==t.autoSize&&(t.autoSize=!1),!0===t.autoSize&&(t.autoSize=r.WindowAutoSizeDirectionEnum.Height),null==t.maximized&&(l.DeviceManager.isMobile()?t.maximized=!0:t.maximized=!1),!1!==t.maximized&&("boolean"==typeof t.maximized||!0===t.maximized.padding?(t.width="Calc(100% - 30px)",t.height="Calc(100% - 30px)"):(t.width="100%",t.height="100%")),super(e,t,r.ControlTypeEnum.Window),r.puma(this.container()).hide(),this._additionalCloseCallbacks=[],this._additionalOpenCallbacks=[],this._additionalContentLoadedCallbacks=[],null!=t.id&&r.puma(this.element()).attr("id",t.id),!1!==t.title){!0===t.title&&(t.title="");let e="";"string"==typeof t.title&&(e=t.title,t.title=new g),null==t.title.text&&(t.title.text=e),null==t.title.fontSize&&(t.title.fontSize=16),null==t.title.colorSettings&&(t.title.colorSettings=new r.ColorSettings),null==t.title.colorSettings.textColor&&(t.title.colorSettings.textColor="#FFF"),null==t.title.align&&(t.title.align=r.TextAlignEnum.Left),this._divHeader=r.puma("<div class='vrWindowHeader'></div>").vrPrependToPuma(this.container())[0],null!=t.cssHeader&&(this._divHeader.style.cssText+=t.cssHeader);let i=r.puma("<span class='vrWindowTitle'></span>").vrAppendToPuma(this._divHeader);if(r.createLabel({width:"100%",text:t.title.text,fontSize:t.title.fontSize,colorSettings:t.title.colorSettings,align:t.title.align,noBr:!0},i),t.closeable||!t.hideCloseIcon){let e=r.puma("<span class='vrWindowCloseIcon'></span>").vrAppendToPuma(this._divHeader);r.puma(n.UtilityManager.createIcon(r.IconClassRegular.Xmark)).vrAppendToPuma(e),e.click(()=>this.close()),t.hideCloseIcon&&r.puma(e).hide()}}if(t.draggable&&(r.puma(this._divHeader).css("cursor","move"),r.puma(this._divHeader).find(".vrWindowTitle .vrLabel").css("cursor","move"),r.puma(this._divHeader).vrDrag(this.container(),e=>{if(e.event.target.classList.contains("fa-xmark"))return e.preventDefault(),void e.event.preventDefault();if(r.puma(this.container()).addClass("vrWindowDragging"),null!=t.onDragStart){let i=new y;i.sender=this,i.left=e.left,i.top=e.top,t.onDragStart(i)}},e=>{if(r.puma(this.container()).removeClass("vrWindowDragging"),null!=t.onDragEnd){let i=new _;i.sender=this,i.left=e.left,i.top=e.top,t.onDragEnd(i)}})),t.footer){this._divFooter=r.puma("<div class='vrWindowFooter'></div>").vrAppendToPuma(this.container())[0],this._divFooter.style.cssText+="margin-top: "+2*t.padding+"px;";for(let e of t.footer)this.addFooterItem(e)}t.iframe&&(this._iframe=r.puma("<iframe id='"+this.element().id+"_iframeContent' class='vrWindowIframe'></iframe>").vrAppendToPuma(this.element())[0]),null!=t.content&&this.content(t.content)}open(e,t=!0,i){let a=this.getOptions();return this.container().style.cssText+="position: absolute;",null!=i?this.position(i.left,i.top,i.right,i.bottom):null!=a.position?this.position(a.position.left,a.position.top,a.position.right,a.position.bottom):t&&this.center(),a.maximized&&("boolean"!=typeof a.maximized?this.maximize(a.maximized.padding):this.maximize()),null!=e&&(this._callbackFooterItems=e),new Promise(e=>{r.puma(this.container()).show();let t=r.puma(this.container()).height()-2*a.padding;!1!==a.title&&(t-=r.puma(this._divHeader).outerHeight()),a.footer&&(t-=r.puma(this._divFooter).outerHeight()),this.element().style.cssText+="height: "+t+"px; width: Calc(100% - "+2*a.padding+"px); left: "+a.padding+"px; top: "+a.padding+"px";let i=Array.from(r.puma(".vrWindowContainer")).map(e=>Number(r.puma(e).css("z-index"))).vrMax();if(r.puma(this.container()).css("z-index",i+2),a.modal&&(null==this._background&&(this._background=r.puma("<div class='vrWindowBackground' id='vrWindowBackground_"+this.element().id+"'></div>").vrAppendToPuma(this.container().parentElement)[0]),a.closeable&&r.puma(this._background).click(()=>this.close()),r.puma(this._background).css("z-index",i+1)),null!=e&&(this._openCloseCallback=e),null!=a.onOpen){let e=new C;e.sender=this,a.onOpen(e)}for(let e of this._additionalOpenCallbacks)e()})}close(e=!0){let t=this.getOptions();if(e&&null!=t.onBeforeClose){let e=new x;if(e.sender=this,t.onBeforeClose(e),e.isDefaultPrevented())return}if(t.removeOnClose?r.puma(this.container()).remove():r.puma(this.container()).hide(),r.puma(this._background).remove(),this._background=null,null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes("close")){let e=this._callbackFooterItems.filter(e=>"close"==e.value)[0].callback;null!=e&&e()}null!=this._openCloseCallback&&this._openCloseCallback();for(let e of this._additionalCloseCallbacks)e();if(e&&null!=t.onClose){let e=new w;e.sender=this,t.onClose(e)}}remove(){r.puma(this.container()).remove(),r.puma(this._background).remove()}addCloseCallbacks(...e){this._additionalCloseCallbacks.push(...e)}addOpenCallbacks(...e){this._additionalOpenCallbacks.push(...e)}addContentLoadedCallbacks(...e){this._additionalContentLoadedCallbacks.push(...e)}closeIconVisible(e){let t=r.puma(this.container()).find(".vrWindowCloseIcon");return null!=e&&(e?t.show():t.hide()),t.is(":visible")}title(e){return null==r.puma(this.container()).find(".vrWindowTitle label")[0]?"":(null!=e&&(r.puma(this.container()).find(".vrWindowTitle label")[0].innerHTML=e),r.puma(this.container()).find(".vrWindowTitle label")[0].innerHTML)}maximize(e=!0){let t=e?"Calc(100% - 30px)":"100%",i=e?"Calc(100% - 30px)":"100%";this.resize(t,i);let a=this.getOptions();null!=a.position?this.position(a.position.left,a.position.top,a.position.right,a.position.bottom):this.center()}resize(e,t){let i=this.getOptions(),a=null!=e?e:i.width,r=null!=t?t:i.height;this.width(a),this.height(r)}autoSize(e=r.WindowAutoSizeDirectionEnum.Height,t=!1,i=!0){this._animateAutosize=t,e==r.WindowAutoSizeDirectionEnum.Height?this.height("auto",i):this.width("auto",i),this._animateAutosize=!1}content(e,t=!1,i=!1,a=!0){let n=this.getOptions(),o=null;if(n.iframe){let e=this._iframe.contentDocument;r.puma(e).find("body").css("margin","0px"),null!=e&&(o=e.body)}null!=e&&(e.endsWith(".html")||e.endsWith(".php")||e.includes(".aspx")||e.startsWith("http")||e.startsWith("/"))?((n.loader||!1!==t)&&(!0===t&&(t=this.element()),s.LoaderManager.show(!1===t?this.element():t)),n.iframe?(r.puma(this._iframe).attr("src",e),r.puma(this._iframe).on("load",()=>{let e=this._iframe.contentDocument;r.puma(e).find("body").css("margin","0px"),a&&this.onContentLoaded(),this.autoSizeIfRequired(),i&&this.open()})):r.puma(this.element()).load(e,()=>{a&&this.onContentLoaded(),this.autoSizeIfRequired(),i&&this.open()})):(r.puma(this.element()).empty(),null==e||e.startsWith("<")||(e="<div>"+e+"</div>"),n.iframe?r.puma(e).vrAppendToPuma(o):r.puma(e).vrAppendToPuma(this.element()),a&&this.onContentLoaded(),this.autoSizeIfRequired(),i&&this.open())}autoSizeIfRequired(){let e=this.getOptions();!1!==e.autoSize&&this.autoSize(e.autoSize,!1)}clear(){this.getOptions().iframe?r.puma(this._iframe).removeAttr("src"):r.puma(this.element()).empty()}background(){return this._background}center(){let e=r.puma(window).scrollTop(),t=window.innerHeight/2-r.puma(this.container()).height()/2+e,i=r.puma(window).scrollLeft(),a=window.innerWidth/2-r.puma(this.container()).width()/2+i;this.position(a,t)}position(e,t,i,a){let r="";null!=e&&(r="left: "+e+";","number"==typeof e&&(r="left: "+e+"px;"));let n="";null!=t&&(n="top: "+t+";","number"==typeof t&&(n="top: "+t+"px;"));let o="";null!=i&&(r="left: unset;",o="right: "+i+";","number"==typeof i&&(o="right: "+i+"px;"));let l="";null!=a&&(n="top: unset;",l="bottom: "+a+";","number"==typeof a&&(l="bottom: "+a+"px;")),this.container().style.cssText+=r+n+o+l;let s=$(this.container()).position();return{left:s.left,top:s.top}}footerItem(e){let t=r.puma(this._divFooter).find("[value='"+e+"']")[0];return o.ControlManager.get(null!=t?t.id:"")}hideFooterItem(e){this.footerItem(e).hide()}showFooterItem(e){this.footerItem(e).show()}enableFooterItem(e){this.footerItem(e).enable()}disableFooterItem(e){this.footerItem(e).disable()}addFooterItem(e){null==e.align&&(e.align=r.WindowFooterItemAlignEnum.Right);let t="float: right; margin-left: 5px;";if(e.align==r.WindowFooterItemAlignEnum.Left&&(t="float: left; margin-right: 5px;"),e.type==r.WindowFooterItemTypeEnum.Close||e.type==r.WindowFooterItemTypeEnum.Ok||e.type==r.WindowFooterItemTypeEnum.Custom||null==e.type){let i=e.text;e.type!=r.WindowFooterItemTypeEnum.Close&&e.type!=r.WindowFooterItemTypeEnum.Ok||(i=null!=e.text?e.text:e.type==r.WindowFooterItemTypeEnum.Close?"Chiudi":"Salva");let a=e.value;e.type!=r.WindowFooterItemTypeEnum.Close&&e.type!=r.WindowFooterItemTypeEnum.Ok||null!=a&&""!=a||(a=e.type==r.WindowFooterItemTypeEnum.Close?"close":"ok"),null!=a&&""!=a||null==i||(a=i.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,""));let n=e.mode;e.type==r.WindowFooterItemTypeEnum.Ok&&(n=r.ButtonModeEnum.Primary);let o=r.createButton({text:i,icon:e.icon,iconSettings:e.iconSettings,imageUrl:e.imageUrl,mode:n,colorSettings:e.colorSettings,tooltip:e.tooltip,confirmationMessage:e.confirmationMessage,visible:e.visible,enable:e.enable,css:e.css,cssContainer:t+e.cssContainer,class:e.class,width:e.width,onClick:t=>{if(e.type==r.WindowFooterItemTypeEnum.Close&&this.close(),null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}if(null!=a&&null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes(a)){let e=this._callbackFooterItems.filter(e=>e.value==a)[0].callback;null!=e&&e()}}},this._divFooter);null!=a&&r.puma(o.element()).attr("value",a)}else if(e.type==r.WindowFooterItemTypeEnum.SplitButton||null!=e.splitButtonItems){let i=r.createSplitButton({text:e.text,icon:e.icon,imageUrl:e.imageUrl,colorSettings:e.colorSettings,tooltip:e.tooltip,items:e.splitButtonItems,visible:e.visible,enable:e.enable,css:e.css,cssContainer:e.cssContainer+"; "+t,class:e.class,onClick:null==e.onClick?void 0:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}if(null!=e.value&&null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes(e.value)){let t=this._callbackFooterItems.filter(t=>t.value==e.value)[0].callback;null!=t&&t()}},onSelect:e=>{if(null!=e.value&&null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes(e.value)){let t=this._callbackFooterItems.filter(t=>t.value==e.value)[0].callback;null!=t&&t()}}},this._divFooter);null!=e.value&&r.puma(i.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.Switch){null==e.switchSettings&&(e.switchSettings=new m,e.switchSettings.labelOff="",e.switchSettings.labelOn=""),null==e.switchSettings.checked&&(e.switchSettings.checked=!1);let i=r.createSwitch({labelOff:e.switchSettings.labelOff,labelOn:e.switchSettings.labelOn,checked:e.switchSettings.checked,cssContainer:e.cssContainer+"; "+t,css:e.css,class:e.class,visible:e.visible,enable:e.enable,onChange:t=>{if(null!=e.switchSettings.onCheck){let i=new f;i.checked=t.checked,e.switchSettings.onCheck(i)}}},this._divFooter);null!=e.value&&r.puma(i.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.ButtonGroup){let t=r.createButtonGroup({selectionMode:r.SelectionModeEnum.Single,items:e.buttonGroupItems,cssContainer:e.cssContainer,css:e.css,class:e.class,visible:e.visible,enable:e.enable,width:"auto",onSelect:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}}},this._divFooter);null!=e.value&&r.puma(t.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.CheckBox){let t=r.createCheckBox({text:e.text,cssContainer:"top: -1px; "+e.cssContainer,css:e.css,class:e.class,visible:e.visible,enable:e.enable,onCheck:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}}},this._divFooter);null!=e.value&&r.puma(t.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.Label){let t=r.createLabel({text:e.text,cssContainer:e.cssContainer,css:e.css,class:e.class,visible:e.visible,enable:e.enable,onClick:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}}},this._divFooter);null!=e.value&&r.puma(t.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.ComboBox){null==e.comboBoxOptions&&(e.comboBoxOptions=new u.ComboBoxOptions),e.comboBoxOptions.classContainer=e.comboBoxOptions.classContainer,e.comboBoxOptions.class=e.comboBoxOptions.class,null==e.comboBoxOptions.visible&&(e.comboBoxOptions.visible=e.visible),null==e.comboBoxOptions.enable&&(e.comboBoxOptions.enable=e.enable),null==e.comboBoxOptions.css&&(e.comboBoxOptions.css=e.css),null==e.comboBoxOptions.cssContainer&&(e.comboBoxOptions.cssContainer=e.cssContainer);let t=r.createComboBox(e.comboBoxOptions,this._divFooter);null!=e.value&&r.puma(t.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.DatePicker){null==e.datePickerOptions&&(e.datePickerOptions=new d.DatePickerOptions),e.datePickerOptions.classContainer=e.datePickerOptions.classContainer,e.datePickerOptions.class=e.datePickerOptions.class,null==e.datePickerOptions.visible&&(e.datePickerOptions.visible=e.visible),null==e.datePickerOptions.enable&&(e.datePickerOptions.enable=e.enable),null==e.datePickerOptions.css&&(e.datePickerOptions.css=e.css),null==e.datePickerOptions.cssContainer&&(e.datePickerOptions.cssContainer=e.cssContainer);let t=r.createDatePicker(e.datePickerOptions,this._divFooter);null!=e.value&&r.puma(t.element()).attr("value",e.value)}else if(e.type==r.WindowFooterItemTypeEnum.TextBox){null==e.textBoxOptions&&(e.textBoxOptions=new c.TextBoxOptions),e.textBoxOptions.classContainer=e.textBoxOptions.classContainer,e.textBoxOptions.class=e.textBoxOptions.class,null==e.textBoxOptions.visible&&(e.textBoxOptions.visible=e.visible),null==e.textBoxOptions.enable&&(e.textBoxOptions.enable=e.enable),null==e.textBoxOptions.css&&(e.textBoxOptions.css=e.css),null==e.textBoxOptions.cssContainer&&(e.textBoxOptions.cssContainer=e.cssContainer);let t=r.createTextBox(e.textBoxOptions,this._divFooter);null!=e.value&&r.puma(t.element()).attr("value",e.value)}}footer(){return r.puma(this._divFooter)[0]}header(){return r.puma(this._divHeader)[0]}titleElement(){return r.puma(this._divHeader).find(".vrWindowTitle")[0]}getOptions(){return this.options()}onContentLoaded(){let e=this.getOptions();if(s.LoaderManager.hide(),null!=e.onContentLoaded){let t=new S;t.sender=this,e.onContentLoaded(t)}for(let e of this._additionalContentLoadedCallbacks)e()}height(e,t=!0){let i=this.getOptions();if("auto"!=e||"auto"==e&&!this._animateAutosize)super.height(e);else{this.container().style.cssText+="height: auto;";let e=r.puma(this.element()).height(),t=r.puma(this.element()).css("height","auto").height();r.puma(this.element()).height(e).animate({height:t},300)}return"number"==typeof e&&(e-=2*i.padding,null!=i.title&&(e-=r.puma(this._divHeader).outerHeight()),i.footer&&(e-=r.puma(this._divFooter).outerHeight()),this.element().style.cssText+="height: "+e+"px;"),t&&(this._animateAutosize?window.setTimeout(()=>this.center(),300):this.center()),super.height()}width(e,t=!0){let i=this.getOptions();return super.width(e),t&&this.center(),this.element().style.cssText+="width: Calc(100% - "+2*i.padding+"px);",super.width()}}t.Window=h;t.WindowFooterItem=class{};class m{}t.SplitButtonSwitchSettings=m;class f{}class g{}class v extends a.VrControlsEvent{}t.WindowEvent=v;class b extends v{}class C extends v{}t.WindowOpenEvent=C;class x extends v{}class w extends v{}class y extends v{}class _ extends v{}class S extends v{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Confirm=t.ConfirmOptions=void 0;const a=i(0),r=i(1);class n{}t.ConfirmOptions=n;t.Confirm=class{constructor(e,t){null==t&&(t=new n),null==t.textOkButton&&(t.textOkButton="Conferma"),null==t.textCancelButton&&(t.textCancelButton="Annulla"),null==t.width&&(t.width=300),null==t.height&&(t.height=120),null==t.textAlign&&(t.textAlign=a.TextAlignEnum.Center),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e);let r="";switch(t.textAlign){case a.TextAlignEnum.Left:r="text-align: left;";break;case a.TextAlignEnum.Center:r="text-align: center;";break;case a.TextAlignEnum.Right:r="text-align: right;"}this._window=a.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;"+r,footer:[{type:a.WindowFooterItemTypeEnum.Custom,text:t.textCancelButton,value:"close",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",onClick:()=>this.close()},{type:a.WindowFooterItemTypeEnum.Custom,text:t.textOkButton,value:"ok",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",mode:a.ButtonModeEnum.Primary}],onContentLoaded:e=>this.onContentLoaded(a.puma(e.sender.element()).find(".contentContainer")[0])}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),a.puma(this._window.element()).addClass("vrConfirm"),a.puma(this._window.container()).addClass("vrConfirmContainer"),window.setTimeout(()=>a.puma(this._window.footerItem("ok").element()).focus())}open(){return new Promise((e,t)=>{this._window.open([{value:"ok",callback:()=>{null!=e&&e(),this.close()}},{value:"close",callback:()=>{null!=t&&t(),console.log()}}])})}close(){this._window.close(),a.puma(this._window.container()).remove(),a.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertOptions=void 0;const a=i(0),r=i(1);class n{}t.AlertOptions=n;t.Alert=class{constructor(e,t){null==t&&(t=new n),null==t.textOkButton&&(t.textOkButton="Ok"),null==t.width&&(t.width=300),null==t.height&&(t.height=120),null==t.textAlign&&(t.textAlign=a.TextAlignEnum.Center),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e);let r="";switch(t.textAlign){case a.TextAlignEnum.Left:r="text-align: left;";break;case a.TextAlignEnum.Center:r="text-align: center;";break;case a.TextAlignEnum.Right:r="text-align: right;"}this._window=a.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;"+r,footer:[{type:a.WindowFooterItemTypeEnum.Ok,text:t.textOkButton,value:"ok",cssContainer:"width: 100%;",css:"width: 100%;",mode:a.ButtonModeEnum.Primary,onClick:()=>this.close()}],onContentLoaded:e=>this.onContentLoaded(a.puma(e.sender.element()).find(".contentContainer")[0])}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),a.puma(this._window.element()).addClass("vrAlert"),a.puma(this._window.container()).addClass("vrAlertContainer"),window.setTimeout(()=>a.puma(this._window.footerItem("ok").element()).focus())}open(){return new Promise(e=>{this._window.open([{value:"ok",callback:()=>{null!=e&&e()}}])})}close(){this._window.close(),a.puma(this._window.container()).remove(),a.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=t.DialogOptions=void 0;const a=i(0),r=i(1);class n{}t.DialogOptions=n;t.Dialog=class{constructor(e,t){null==t&&(t=new n),null==t.width&&(t.width=300),null==t.height&&(t.height=120),null==t.textAlign&&(t.textAlign=a.TextAlignEnum.Center),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e);let r="";switch(t.textAlign){case a.TextAlignEnum.Left:r="text-align: left;";break;case a.TextAlignEnum.Center:r="text-align: center;";break;case a.TextAlignEnum.Right:r="text-align: right;"}if(null!=t.footerItems){let e=t.footerItems.filter(e=>null!=e.width).map(e=>e.width).vrSum(),i=t.footerItems.filter(e=>null==e.width),a=t.footerItems.filter(e=>null!=e.width),r=t.width-10-5*a.length-e,n=r/t.footerItems.length-5;i.length>0&&(n=r/i.length-5);for(let e of t.footerItems)null==e.width&&(e.width=n)}this._window=a.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;"+r,footer:t.footerItems,onContentLoaded:e=>this.onContentLoaded(a.puma(e.sender.element()).find(".contentContainer")[0])}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),a.puma(this._window.element()).addClass("vrDialog"),a.puma(this._window.container()).addClass("vrDialogContainer")}open(){this._window.open()}close(){this._window.close(),a.puma(this._window.container()).remove(),a.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Prompt=t.PromptOptions=void 0;const a=i(0),r=i(1);class n{}t.PromptOptions=n;t.Prompt=class{constructor(e,t){null==t&&(t=new n),null==t.textOkButton&&(t.textOkButton="Conferma"),null==t.textCancelButton&&(t.textCancelButton="Annulla"),null==t.width&&(t.width=300),null==t.height&&(t.height=120),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e),this._window=a.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;",footer:[{type:a.WindowFooterItemTypeEnum.Custom,text:t.textCancelButton,value:"close",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",onClick:()=>this.close()},{type:a.WindowFooterItemTypeEnum.Custom,text:t.textOkButton,value:"ok",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",mode:a.ButtonModeEnum.Primary}],onContentLoaded:e=>{let i=a.puma(e.sender.element()).find(".contentContainer")[0];this._textBox=a.createTextBox({width:"100%",cssContainer:"margin-top: 5px;",value:t.defaultValue,placeholder:t.placeHolder},i),this.onContentLoaded(i)}}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),a.puma(this._window.element()).addClass("vrPrompt"),a.puma(this._window.container()).addClass("vrPromptContainer"),window.setTimeout(()=>a.puma(this._window.footerItem("ok").element()).focus())}open(){return new Promise((e,t)=>{this._window.open([{value:"ok",callback:()=>{null!=e&&e(this._textBox.value()),this.close()}},{value:"close",callback:()=>{null!=t&&t(),console.log()}}]),this._textBox.focus()})}close(){this._window.close(),a.puma(this._window.container()).remove(),a.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=t.SwitchOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.SwitchOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.labelOff&&(t.labelOff=""),null==t.labelOn&&(t.labelOn=""),null==t.checked&&(t.checked=!1),super(e,t,r.ControlTypeEnum.Switch),r.puma("<label class='vrSwitchLabelOff'>"+t.labelOff+"</label>").vrAppendToPuma(this.element()).click(e=>{this.enabled()&&this.checked(!1)});let i=t.checked?"checked='checked'":"";r.puma("<label class='vrSwitchLabel'><input type='checkbox' "+i+" class='vrSwitchInput'><span class='vrSwitchSlider'></span></label>").vrAppendToPuma(this.element()),r.puma(this.element()).find(".vrSwitchInput").change(e=>this.checked(e.target.checked)),r.puma("<label class='vrSwitchLabelOn'>"+t.labelOn+"</label>").vrAppendToPuma(this.element()).click(e=>{this.enabled()&&this.checked(!0)}),this.checked(t.checked,!1)}checked(e,t=!0){let i=this.getOptions();if(null!=e){let a=r.puma(this.element()).find(".vrSwitchLabelOff")[0],n=r.puma(this.element()).find(".vrSwitchLabelOn")[0],o=r.puma(this.element()).find(".vrSwitchInput");if(o[0].checked=e,e?(a.style.cssText+="border-bottom: solid 2px transparent;",n.style.cssText+="border-bottom: solid 2px #51B3E1;",o.prop("checked","checked")):(a.style.cssText+="border-bottom: solid 2px #51B3E1;",n.style.cssText+="border-bottom: solid 2px transparent;",o.removeProp("checked")),t&&null!=i.onChange){let t=new s;t.sender=this,t.checked=e,window.setTimeout(()=>i.onChange(t))}}return r.puma(this.element()).find(".vrSwitchInput")[0].checked}clear(e=!1){this.checked(!1,e)}labelOff(e){return null!=e&&r.puma(this.element()).find(".vrSwitchLabelOff").html(e),r.puma(this.element()).find(".vrSwitchLabelOff").html()}labelOn(e){return null!=e&&r.puma(this.element()).find(".vrSwitchLabelOn").html(e),r.puma(this.element()).find(".vrSwitchLabelOn").html()}getOptions(){return this.options()}enable(){super.enable(),r.puma(this.element()).find(".vrSwitchInput").prop("disabled",!1),r.puma(this.element()).find(".vrSwitchLabelOn").removeClass("vrSwitchLabelDisabled"),r.puma(this.element()).find(".vrSwitchLabelOff").removeClass("vrSwitchLabelDisabled")}disable(){super.disable(),r.puma(this.element()).find(".vrSwitchInput").prop("disabled",!0),r.puma(this.element()).find(".vrSwitchLabelOn").addClass("vrSwitchLabelDisabled"),r.puma(this.element()).find(".vrSwitchLabelOff").addClass("vrSwitchLabelDisabled")}}t.Switch=o;class l extends a.VrControlsEvent{}class s extends l{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxList=t.CheckBoxListOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.CheckBoxListOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.orientation&&(t.orientation=r.OrientationEnum.Horizontal),null==t.items&&(t.items=[]),null==t.listName&&(t.listName=e.id+"_CheckboxListName"),null==t.marginBetween&&(t.marginBetween=10),super(e,t,r.ControlTypeEnum.CheckBoxList),this._checkboxControls=[],this.items(t.items)}items(e){let t=this.getOptions();if(null!=e){this._items=e;let i=0;for(let a of e){let e=r.createCheckBox({text:a.text,value:String(a.value),name:t.listName,checked:!!t.allChecked||a.checked,cssContainer:t.orientation==r.OrientationEnum.Horizontal&&i>0?"margin-left: "+t.marginBetween+"px;":t.orientation==r.OrientationEnum.Vertical?"width: 100%":"",onCheck:e=>{if(null!=t.onBeforeSelect){let i=new l;if(i.sender=this,i.value=String(a.value),i.checked=e.checked,i.checkedValues=this.value(),t.onBeforeSelect(i),i.isDefaultPrevented())return}if(null!=a.onCheck&&a.onCheck(e),null!=t.onSelect){let i=new l;i.sender=this,i.value=String(a.value),i.checked=e.checked,i.checkedValues=this.value(),t.onSelect(i)}}},this.element());this._checkboxControls.push(e),i++}}return this._items}checkAll(e=!1){for(let t of this._checkboxControls)t.checked(!0,e)}unCheckAll(e=!1){for(let t of this._checkboxControls)t.checked(!1,e)}value(e,t=!0,i=!0){if(null!=e)for(let a of e){let e=this._checkboxControls.filter(e=>r.puma(e.element()).attr("value")==a)[0];null!=e&&e.checked(t,i)}return this._checkboxControls.filter(e=>e.checked()).map(e=>r.puma(e.element()).attr("value"))}isChecked(e){let t=this._checkboxControls.filter(t=>r.puma(t.element()).attr("value")==e)[0];return null!=t&&t.checked()}text(e,t){let i=this._checkboxControls.filter(t=>r.puma(t.element()).attr("value")==e)[0];return null!=i?i.text(t):""}clear(e=!1,t=!1){e?this.checkAll(t):this.unCheckAll(t)}getOptions(){return this.options()}enable(){super.enable();for(let e of this._checkboxControls)e.enable()}disable(){super.disable();for(let e of this._checkboxControls)e.disable()}}t.CheckBoxList=o;class l extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonCheckEvent=t.RadioButton=t.RadioButtonOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.RadioButtonOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.text&&(t.text=""),null==t.checked&&(t.checked=!1),r.puma(e).attr("type","radio"),super(e,t,r.ControlTypeEnum.RadioButton),null!=t.value&&r.puma(this.element()).attr("value",t.value),null!=t.name&&r.puma(this.element()).attr("name",t.name);let i=r.puma("<label class='vrRadioButtonLabelContainer'></label>").vrAppendToPuma(this.container());r.puma(this.element()).vrAppendToPuma(i),r.puma("<span class='vrRadioButtonCheckMark'></span>").vrAppendToPuma(i);let a=r.puma("<label class='vrRadioButtonLabel'>"+t.text+"</label>").vrAppendToPuma(this.container());!0===t.checked&&this.checked(!0,!1),r.puma(this.element()).on("click",e=>{let t=e.currentTarget.checked;this.checked(t)}),r.puma(a).on("click",e=>{let t=r.puma(a).prev().find("input")[0];t.checked||(t.checked=!0);let i=t.checked;this.checked(i)})}checked(e,t=!0){if(null!=e&&(this.element().checked=e,t)){let t=this.getOptions();if(null!=t.onCheck){let i=new l;i.sender=this,i.checked=e,t.onCheck(i)}}return this.element().checked}text(e){return null!=e&&r.puma(this.container()).find(".vrRadioButtonLabel").html(e),r.puma(this.container()).find(".vrRadioButtonLabel").html()}clear(e=!1){this.checked(!1,e)}getOptions(){return this.options()}enable(){super.enable(),r.puma(this.container()).removeClass("vrRadioButtonListDisabled")}disable(){super.disable(),r.puma(this.container()).addClass("vrRadioButtonListDisabled")}}t.RadioButton=o;class l extends class{}{}t.RadioButtonCheckEvent=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonList=t.RadioButtonListOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.RadioButtonListOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.orientation&&(t.orientation=r.OrientationEnum.Horizontal),null==t.items&&(t.items=[]),null==t.listName&&(t.listName=e.id+"_RadioButtonListName"),super(e,t,r.ControlTypeEnum.RadioButtonList),this._radioControls=[],this.items(t.items),""==this.value()&&this.clear()}items(e){let t=this.getOptions();if(null!=e){this._items=e;let i=0;for(let a of e){let e=r.createRadioButton({text:a.text,value:String(a.value),name:t.listName,checked:a.checked,cssContainer:t.orientation==r.OrientationEnum.Horizontal&&i>0?"margin-left: 10px;":t.orientation==r.OrientationEnum.Vertical?"width: 100%":"",onCheck:e=>{if(null!=t.onBeforeSelect){let e=new l;if(e.sender=this,e.value=String(a.value),t.onBeforeSelect(e),e.isDefaultPrevented())return}if(null!=a.onCheck&&a.onCheck(e),null!=t.onSelect){let e=new l;e.sender=this,e.value=String(a.value),t.onSelect(e)}}},this.element());this._radioControls.push(e),i++}}return this._items}value(e,t=!0){if(null!=e){let i=this._radioControls.filter(t=>r.puma(t.element()).attr("value")==String(e))[0];null!=i&&i.checked(!0,t)}let i=this._radioControls.filter(e=>e.checked())[0];return null!=i?r.puma(i.element()).attr("value"):""}text(e,t){let i=this._radioControls.filter(t=>r.puma(t.element()).attr("value")==e)[0];return null!=i?i.text(t):""}clear(e=!1){for(let t of this._radioControls)t.checked(!1,e)}getOptions(){return this.options()}enable(){super.enable();for(let e of this._radioControls)e.enable()}disable(){super.disable();for(let e of this._radioControls)e.disable()}}t.RadioButtonList=o;class l extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Repeater=t.RepeaterOptions=void 0;const a=i(1),r=i(0),n=i(13),o=i(2);class l extends a.VrControlOptions{}t.RepeaterOptions=l;class s extends a.VrControl{constructor(e,t){null==t&&(t=new l),t.hideEditButton=!0,null==t.pageSize&&(t.pageSize=!1),null==t.alternateRowColors&&(t.alternateRowColors=!0),null!=t.footer&&!0!==t.footer||(t.footer=new n.GridFooterSettings),!1!==t.footer&&(null==t.footer.showPagination&&(t.footer.showPagination=!0),null==t.footer.showSettings&&(t.footer.showSettings=!1),!1===t.pageSize&&(t.pageSize=50)),null==t.padding&&(t.padding=10),"number"!=typeof t.padding&&(null==t.padding.left&&(t.padding.left=10),null==t.padding.top&&(t.padding.top=10),null==t.padding.right&&(t.padding.right=10),null==t.padding.bottom&&(t.padding.bottom=10)),null==t.emptyMessage&&(t.emptyMessage="Nessun risultato"),null==t.title&&(t.title=!1),!0===t.title&&(t.title="");let i=o.UtilityManager.duplicate(t.height);t.height=void 0;let a=t.dataSource;t.dataSource=void 0,super(e,t,r.ControlTypeEnum.Repeater),this.container().id=this.container().id+"_Repeater",this._grid=r.createGrid({addToControlList:t.addToControlList,toolbar:t.toolbar,classContainer:"vrRepeaterContainer",columns:[{field:"custom"+this.element().id,type:r.GridColumnTypeEnum.Custom,cellSettings:{textAlign:r.GridAlignEnum.Left},filterable:!0,customFilterProperties:t.customFilterProperties,fitSpace:!0,title:!1!==t.title?t.title:"",customSettings:e=>("number"==typeof t.padding?e.element.style.cssText+="padding: "+t.padding+"px;":e.element.style.cssText+="padding-left: "+t.padding.left+"px; padding-top: "+t.padding.top+"px; padding-right: "+t.padding.right+"px; padding-bottom: "+t.padding.bottom+"px;",null!=t.template?{template:t.template(e)}:void 0)}],height:i,rebind:t.rebind,checkboxes:t.checkboxes,dataSourceFieldId:t.dataSourceFieldId,rowHeight:t.rowHeight,hideEditButton:t.hideEditButton,mode:t.mode,filterable:t.filterable,pageSize:t.pageSize,largePageSize:t.largePageSize,footer:t.footer,header:!1!==t.title,alternateRowColors:t.alternateRowColors,hoverRowColor:t.hoverRowColor,multilineRows:!0,resizable:!1,reorderable:!1,groupable:!0,groupBy:t.groupBy,layoutSettings:!1,tooltip:!1,onDataSourceChanged:t.onDataSourceChanged,onDataBound:t.onDataBound,onRowDataBound:e=>{if(r.puma(this.element()).find(".toRemove").parent().remove(),e.empty)return r.puma(e.rowElement).empty(),void r.createLabel({text:t.emptyMessage,fontSize:14,width:"100%",align:r.TextAlignEnum.Center,class:"toRemove"},r.puma(this.element()).find(".grid_Body"),r.ControlPositionEnum.Before);if(null!=t.onRowDataBound){let i=this.dataSource().map(e=>e[t.dataSourceFieldId]).indexOf(e.dataItem[t.dataSourceFieldId]);-1!=i&&null!=t.dataSourceFieldId||(i=r.puma(e.rowElement).index());let a=new u;a.dataItem=e.dataItem,a.realDataItem=e.realDataItem,a.empty=e.empty,a.rowElement=e.rowElement,a.sender=e.sender,a.cell=r.puma(e.rowElement).find("td[field='custom"+this.element().id+"']")[0],a.index=i,t.onRowDataBound(a)}},onSelectRow:e=>{null==t.onSelectRow||e.empty||t.onSelectRow(e)},onSelectAllRows:t.onSelectAllRows,onUnselectRow:t.onUnselectRow,onUnselectAllRows:t.onUnselectAllRows},this.element()),null!=a&&this._grid.dataSource(a)}rebind(e,t=!0){this._grid.rebind(e,!1,t)}rebindSpecificRows(e,t=!0){this._grid.rebindSpecificRows(e,t)}clear(){this._grid.clear()}originalDataSource(){return this._grid.originalDataSource()}dataSource(e,t=!1){return this._grid.dataSource(e,t)}update(e=!0,t=!0){this._grid.update(e,t)}updateRow(e,t=!0){this._grid.updateRow(e,t)}updateRows(e,t=!0){this._grid.updateRows(e,t)}addRow(e,t=!0){this._grid.addRow(e,t)}addRows(e,t=!0){this._grid.addRows(e,t)}deleteRow(e,t=!1){this._grid.deleteRow(e,t)}deleteRows(e,t=!1){this._grid.deleteRows(e,t)}rows(){return this._grid.rows()}getAllItems(){return this._grid.getAllItems()}getCheckedItems(){return this._grid.getCheckedItems()}getCheckedValues(){return this._grid.getCheckedValues()}getDeletedItems(){return this._grid.getDeletedItems()}getDeletedItemValues(e){return this._grid.getDeletedItemValues(e)}clearSelection(e=!0){this._grid.clearSelection(e)}checkAllRows(e=!0){this._grid.checkAllRows(e)}unCheckAllRows(e=!0){this._grid.unCheckAllRows(e)}selectRowsByIndexes(e,t=!0){this.selectRowsByIndexes(e,t)}selectRowByIndex(e,t=!0){this.selectRowByIndex(e,t)}selectRows(e,t,i=!0){this.selectRows(e,t,i)}selectRow(e,t=!0){this._grid.selectRow(e,t)}unselectRows(e,t,i=!0){this._grid.unselectRows(e,t,i)}unselectRow(e){this._grid.unselectRow(e)}removeGroup(e,t=!0){this.removeGroups([e],t)}removeGroups(e,t=!0){this._grid.removeGroups(e,t)}removeAllGroups(e=!0){this._grid.removeAllGroups(e)}addGroup(e,t=!0,i,a){this.addGroups([e],t,i,a)}addGroups(e,t=!0,i,a){this._grid.addGroups(e,t,i,a)}removeSort(e=!0){this._grid.removeSort(e)}sort(e,t){this._grid.sort(e,t)}clearFilters(e=!0){this._grid.clearFilters(e)}addFilter(e,t,i=!0){this._grid.addFilter(e,t,i)}removeFilter(e,t=!0){this._grid.removeFilter(e,t)}updateFilter(e,t,i=!0){this._grid.updateFilter(e,t,i)}pageSelected(e,t=!0){return this._grid.pageSelected(e,t)}height(e){return this._grid.height(e)}recalculateHeight(e=!1){this._grid.recalculateHeight(e)}visibleToolbar(e){return this._grid.visibleToolbar(e)}showToolbar(){this._grid.showToolbar()}hideToolbar(){this._grid.hideToolbar()}toolbarItem(e){return this._grid.toolbarItem(e)}showToolbarItem(e){this._grid.showToolbarItem(e)}hideToolbarItem(e){this._grid.hideToolbarItem(e)}enableToolbarItem(e){this._grid.enableToolbarItem(e)}disableToolbarItem(e){this._grid.disableToolbarItem(e)}removeToolbarItem(e){this._grid.removeToolbarItem(e)}addToolbarItem(e){this._grid.addToolbarItem(e)}hideCheckboxColumn(e=!1){this._grid.hideColumn("vrGridCheckboxColumn",e)}showCheckboxColumn(e=!1){this._grid.showColumn("vrGridCheckboxColumn",e)}pageSize(e,t=!1,i=!1){return this._grid.pageSize(e,t,i)}}t.Repeater=s;class u extends n.GridOnRowDataBoundEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Maps=t.MapsOptions=void 0;const a=i(0),r=i(1);class n extends r.VrControlOptions{}t.MapsOptions=n;class o extends r.VrControl{constructor(e,t){null==t&&(t=new n),null==t.zoom&&(t.zoom=15),null==t.maxZoom&&(t.maxZoom=18),null==t.marker&&(t.marker=!0),null==t.latitude&&(t.latitude=0),null==t.longitude&&(t.longitude=0),null==t.height&&(t.height=200),null==t.width&&(t.width="100%"),null==t.mode&&(t.mode=a.MapModeEnum.Light),null==t.tabIndex&&(t.tabIndex=-1),null==t.credits&&(t.credits=!0),t.credits?t.credits="<span style='font-size: 10px'><a href='https://www.openstreetmap.org/'>OpenStreetMap</a> contributors":t.credits="";let i=t.enable;0==t.enable&&(t.enable=void 0),super(e,t,a.ControlTypeEnum.Map),this._internalMarkerList=[],a.puma(this.element()).height("100%");if(this._map=L.map(this.element(),{preferCanvas:!0}).setView([t.latitude,t.longitude],t.zoom),L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWF0dGV1enppc3RlZmFubyIsImEiOiJja3I3aHp2bzIwNHNpMnBtYzVndGN5YzFxIn0.tEqLhXaDn9FC9Mrqu8o-lQ",{maxZoom:t.maxZoom,attribution:t.credits,id:t.mode,tileSize:512,zoomOffset:-1}).addTo(this._map),null!=t.onClick&&a.puma(this._map).on("click",e=>{let i=new s;i.sender=this,t.onClick(i)}),"boolean"==typeof t.marker&&t.marker){let e=new a.MapMarker;e.latitude=t.latitude,e.longitude=t.longitude,t.marker=[e],this.marker([e])}else Array.isArray(t.marker)&&this.marker(t.marker);!1===i?this.disable():this.enable()}map(){return this._map}locate(e,t){L.latLng(e,t).addTo(this._map)}marker(e){let t=this.getOptions();if(null!=e){t.marker=e;for(let i of e){let e=L.circleMarker([i.latitude,i.longitude],{color:"#3388ff"});null!=i.title&&e.bindPopup(i.title),e.addTo(this._map),this._internalMarkerList.push(e),null!=t.onPinClick&&a.puma(e).on("click",a=>{let r=new s;r.sender=this,r.coordinate={latitude:e._latlng.lat,longitude:e._latlng.lng},r.point={x:e._point.x,y:e._point.y},r.color=e.options.color,r.dataItem=i,r.element=e,t.onPinClick(r)}),a.puma(e).on("mouseover",a=>{if(null!=i.title&&a.target.openPopup(),null!=t.onHover){let a=new u;a.sender=this,a.coordinate={latitude:e._latlng.lat,longitude:e._latlng.lng},a.point={x:e._point.x,y:e._point.y},a.color=e.options.color,a.dataItem=i,a.element=e,t.onHover(a)}})}}return t.marker}clear(){let e=this.getOptions();if(null!=e.marker&&Array.isArray(e.marker))for(let e of this._internalMarkerList)this._map.removeLayer(e);this._internalMarkerList=[]}disable(){super.disable(),this._map.dragging.disable(),this._map.touchZoom.disable(),this._map.doubleClickZoom.disable(),this._map.scrollWheelZoom.disable(),this._map.boxZoom.disable(),this._map.keyboard.disable(),a.puma(this.container()).find(".leaflet-control-zoom").hide(),this._map.tap&&this._map.tap.disable(),this.element().style.cursor="default"}enable(){super.enable(),this._map.dragging.enable(),this._map.touchZoom.enable(),this._map.doubleClickZoom.enable(),this._map.scrollWheelZoom.enable(),this._map.boxZoom.enable(),this._map.keyboard.enable(),a.puma(this.container()).find(".leaflet-control-zoom").show(),this._map.tap&&this._map.tap.enable(),this.element().style.cursor="grab"}invalidateSize(){this._map.invalidateSize()}getOptions(){return this.options()}}t.Maps=o;class l extends r.VrControlsEvent{}class s extends l{}class u extends l{}r.VrControlsEvent},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Painter=t.PainterOptions=void 0;const a=i(0),r=i(1);class n extends r.VrControlOptions{}t.PainterOptions=n;class o extends r.VrControl{constructor(e,t){null==t&&(t=new n),null==t.imagePath&&(t.imagePath=""),null==t.size&&(t.size=10),null==t.color&&(t.color="rgba(255, 0, 0, 0.25)"),null==t.height&&(t.height=200),null==t.width&&(t.width=200);let i=Number(t.height),r=Number(t.width);t.height=void 0,t.width=void 0,null==t.saveSettings&&(t.saveSettings=new s),null==t.saveSettings.legendWidth&&(t.saveSettings.legendWidth=550),null==t.saveSettings.legendHeight&&(t.saveSettings.legendHeight=400),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,a.ControlTypeEnum.Painter),a.puma(this.element()).attr("width",r),a.puma(this.element()).attr("height",i),this._image=new Image,this.image(t.imagePath),this._ctx=this.element().getContext("2d"),this._ctx.clearRect(0,0,this._ctx.width,this._ctx.height),this._ctx.drawImage(this.image(),0,0),this._points=[],this.color(t.color),this.size(t.size),window.setTimeout(()=>this.draw(),1e3),this._isMoving=!1,a.puma(this.element()).mousemove(e=>{if(!this._isMoving)return;let i=this.getPoint(e);if(null!=this._points[this._points.length-1]&&this._points[this._points.length-1].push(i),null!=t.onMouseMove){let i=new c;if(i.sender=this,i.event=e,i.points=this._points,t.onMouseMove(i),i.isDefaultPrevented())return void e.preventDefault()}this.draw()}),a.puma(this.element()).mousedown(e=>{this._isMoving=!0;let i=this.getPoint(e);if(null!=t.onMouseDown){let i=new d;if(i.sender=this,i.event=e,i.points=this._points,t.onMouseDown(i),i.isDefaultPrevented())return void e.preventDefault()}this._points.push([i])}),a.puma(this.element()).mouseup(e=>{if(this._isMoving=!1,null!=t.onMouseUp){let i=new p;if(i.sender=this,i.event=e,i.points=this._points,t.onMouseUp(i),i.isDefaultPrevented())return void e.preventDefault()}})}color(e){return null!=e&&(this._color=e),this._color}size(e){return null!=e&&(this._size=e),this._size}image(e){return null!=e&&(this._image.src=e),this._image}pointTag(e){return null!=e&&(this._pointTag=e),this._pointTag}points(e){return null!=e&&(this._points=e,this.draw()),this._points}draw(){this._ctx.clearRect(0,0,this._ctx.width,this._ctx.height),this._ctx.drawImage(this.image(),0,0);for(let e=0;e<this._points.length;++e){let t=this._points[e];if(!(t.length<1)){this._ctx.strokeStyle=t[0].color,this._ctx.lineCap="round",this._ctx.lineJoin="round",this._ctx.lineWidth=t[0].size,this._ctx.beginPath(),this._ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;++e)this._ctx.lineTo(t[e].x,t[e].y);this._ctx.stroke()}}}getPoint(e){let t=new l;return t.x=e.clientX-this.element().getBoundingClientRect().x,t.y=e.clientY-this.element().getBoundingClientRect().y,t.color=this.color(),t.size=this.size(),t.tag=this._pointTag,t}clear(e){this._points=[],null!=e&&this.image(e),window.setTimeout(()=>this.draw(),200)}clearLastRoute(){this._points.pop(),this.draw()}clearRoute(e){let t=[];for(let i of this.points())for(let a of i)if(a.tag==e){t.push(i);break}for(let e of t)this._points.vrDelete(e);this.draw()}save(e){let t;if(null!=e){let i=this.getOptions(),r=a.puma("<canvas>")[0];r.width=i.saveSettings.legendWidth,r.height=i.saveSettings.legendHeight;let n=r.getContext("2d");n.drawImage(this.element(),0,0);let o=18,l=10;for(let t of e){let e=null==t.color?100:130,i=n.measureText(t.text),a=o*Math.ceil(i.width/e);n.font=o.toString()+"px Arial",null!=t.color?(n.fillStyle=t.color,n.fillRect(410,l,20,20),n.fillStyle="#000000",n.fillText(t.text,440,l+a,100)):n.fillText(t.text,410,l+a,130),l+=a+10}t=r.toDataURL()}else t=this.element().toDataURL();return t}enable(){super.enable(),a.puma(this.element()).removeClass("vrPainterDisabled")}disable(){super.disable(),a.puma(this.element()).addClass("vrPainterDisabled")}getOptions(){return this.options()}}t.Painter=o;class l{}class s{}class u extends r.VrControlsEvent{}class d extends u{}class c extends u{}class p extends u{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Calendar=t.CalendarOptions=void 0;const a=i(1),r=i(0),n=i(5);class o extends a.VrControlOptions{}t.CalendarOptions=o;class l extends a.VrControl{constructor(e,t){null==t&&(t=new o),null==t.selectedColor&&(t.selectedColor="#51B3E1"),t.selectedColor.startsWith("#")||(t.selectedColor="#"+t.selectedColor),null==t.todayLabel&&(t.todayLabel=!0),null==t.otherMonthDays&&(t.otherMonthDays=!0),null==t.dateSlotWidth&&(t.dateSlotWidth=40),null==t.depth&&(t.depth=r.DateDepthEnum.Day),super(e,t,r.ControlTypeEnum.Calendar),this.draw(),null!=t.value&&this.value(t.value,!1)}draw(){let e=this.getOptions(),t=this.value();null==t&&(t=new Date),this._tempNavigationDate=t;const i=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];let a=i[this._tempNavigationDate.getMonth()],o=this._tempNavigationDate.getFullYear(),l=r.puma("<div class='vrDivPickerPopup_Header'></div>").vrAppendToPuma(this.element())[0];this._lblNavigation=r.createLabel({text:a+" "+o,noBr:!0,width:"Calc(100% - 65px)",align:r.TextAlignEnum.Left,class:"vrDatePickerNavigationLabel",css:"padding-left: 10px;",onClick:e=>{switch(this._actualView){case n.ActualViewEnum.Day:this.drawMonths();break;case n.ActualViewEnum.Month:this.drawYears();break;case n.ActualViewEnum.Year:this.drawDecades()}}},l);r.createButton({icon:r.IconClassLight.CaretLeft,css:"border: none;",cssContainer:"top: 2px;",width:30,onClick:e=>{switch(this._actualView){case n.ActualViewEnum.Day:this._tempNavigationDate=this._tempNavigationDate.vrAddMonths(-1),this.drawDays();break;case n.ActualViewEnum.Month:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(-1),this.drawMonths();break;case n.ActualViewEnum.Year:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(-10),this.drawYears();break;case n.ActualViewEnum.Decade:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(-100),this.drawDecades()}}},l),r.createButton({icon:r.IconClassLight.CaretRight,css:"border: none;",cssContainer:"top: 2px;",width:30,onClick:e=>{switch(this._actualView){case n.ActualViewEnum.Day:this._tempNavigationDate=this._tempNavigationDate.vrAddMonths(1),this.drawDays();break;case n.ActualViewEnum.Month:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(1),this.drawMonths();break;case n.ActualViewEnum.Year:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(10),this.drawYears();break;case n.ActualViewEnum.Decade:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(100),this.drawDecades()}}},l);switch(r.puma("<table class='vrDatePickerPopup_table'></table>").vrAppendToPuma(this.element())[0],e.depth){case r.DateDepthEnum.Day:this.drawDays();break;case r.DateDepthEnum.Month:this.drawMonths();break;case r.DateDepthEnum.Year:this.drawYears();break;default:this.drawDays()}let s=new Date,u=s.getDate(),d=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"][s.getDay()],c=s.getMonth(),p=s.getFullYear(),h=r.puma("<div style='padding: 5px; border-top: solid 1px #CCC; margin-top: 5px; text-align: center;'></div>").vrAppendToPuma(this.element())[0];r.createLabel({text:d+" "+u+" "+i[c]+" "+p,colorSettings:{textColor:e.selectedColor},css:"text-decoration: underline;",visible:!!e.todayLabel,onClick:e=>{this.value(new Date)}},h)}drawDays(){let e=this.getOptions();this._actualView=n.ActualViewEnum.Day,this._lblNavigation.enable();let t=r.puma(this.element()).find(".vrDatePickerPopup_table")[0];r.puma(t).empty();let i=["LU","MA","ME","GI","VE","SA","DO"],a=r.puma("<tr class='vrPicker_tableWeekDays'></tr>").vrAppendToPuma(t)[0];for(let e of i)r.puma("<td style='font-size: 14px; text-align: center; color: #7a7a7a;'>"+e+"</td>").vrAppendToPuma(a);let o=this._tempNavigationDate.getFullYear(),l=this._tempNavigationDate.getMonth();let s=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"][l];this._lblNavigation.value(s+" "+o);let u=new Date(o,l,1),d=new Date(o,l+1,0),c=u.getDay();0==c&&(c=7),c-=1;let h=new Date,m=h.getMonth(),f=h.getFullYear(),g=m==l&&f==o?h.getDate():null,v=null,b=this.value();if(null!=b){let e=b.getMonth(),t=b.getFullYear();v=e==l&&t==o?b.getDate():null}let C=Date.vrGetLastDayOfMonthByDate(new Date(o,l-1,1)).getDate()+1-c,x=1,w=!1;for(let i=0;i<6;i++){r.puma(t).vrAppendPuma("<tr class='vrDatePickerPopup_rowDays' row='"+i+"'></tr>");for(let a=0;a<7;a++)if(0==c){let a="";null==v||v!=x||w?null==g||g!=x||w?w?(a="color: #CCC; border: none;",e.otherMonthDays||(a+="display: none;")):a="box-shadow: 0 0px 2px rgba(0, 0, 0, .3); border: none;":a+="border: solid 1px "+e.selectedColor+";":a+="background-color: "+e.selectedColor+"; color: #FFF; border: none;";let n=r.puma("<td day='"+x+"'></td>").vrAppendToPuma(r.puma(t).find("tr[row='"+i+"']"))[0];this.createTdDay(x,o,l,n,a),x>=d.getDate()&&(l++,x=0,w=!0),x++}else{let a="color: #CCC; border: none;";e.otherMonthDays||(a+="display: none;");let n=r.puma("<td day='"+C+"'></td>").vrAppendToPuma(r.puma(t).find("tr[row='"+i+"']"))[0];this.createTdDay(C++,o,l-1,n,a),c--}}if(null!=e.onFinishedDraw){let t=new p;t.sender=this,e.onFinishedDraw(t)}}createTdDay(e,t,i,a,n){let o=this.getOptions(),l=this.checkAvailability(t,i,e),s=r.createButton({text:String(e),width:o.dateSlotWidth,css:n,enable:l,onClick:e=>{let a=new Date(t,i,Number(s.text()),0,0,0);this.value(a)}},a),u=new Date(t,i,e,0,0,0);if(null!=o.onDisableDate){let e=new h;e.sender=this,e.day=u;let t=o.onDisableDate(e);s.enabled(t)}if(null!=o.onDayDraw){let e=new c;e.sender=this,e.day=u,o.onDayDraw(e)}if(null!=o.disabledDates){o.disabledDates.map(e=>e.getTime()).includes(u.getTime())&&s.disable()}if(null!=o.highlightedDates){o.highlightedDates.map(e=>e.getTime()).includes(u.getTime())&&(s.element().style.cssText+="background-color: "+o.selectedColor+"; color: #FFF; border: none; border-radius: 15px;")}}checkAvailability(e,t,i){let a=this.getOptions(),r=!0;return null!=a.availableFrom&&(e<a.availableFrom.getFullYear()||e==a.availableFrom.getFullYear()&&null!=t&&(t<a.availableFrom.getMonth()||t==a.availableFrom.getMonth()&&null!=i&&i<a.availableFrom.getDate()))&&(r=!1),null!=a.availableTo&&(e>a.availableTo.getFullYear()||e==a.availableTo.getFullYear()&&null!=t&&(t>a.availableTo.getMonth()||t==a.availableTo.getMonth()&&null!=i&&i>a.availableTo.getDate()))&&(r=!1),r}disabledDates(e){let t=this.getOptions();return null!=e&&(t.disabledDates=e),t.disabledDates}highlightedDates(e){let t=this.getOptions();return null!=e&&(t.highlightedDates=e),t.highlightedDates}drawMonths(){this._actualView=n.ActualViewEnum.Month,this._lblNavigation.enable();let e=r.puma(this.element()).find(".vrDatePickerPopup_table")[0];r.puma(e).empty(),this._lblNavigation.value(this._tempNavigationDate.getFullYear());const t=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];for(let i=0;i<3;i++){r.puma(e).vrAppendPuma("<tr class='vrDatePickerPopup_rowMonths' row='"+i+"'></tr>");for(let a=0;a<4;a++){let n=4*i+a,o=r.puma("<td month='"+n+"'></td>").vrAppendToPuma(r.puma(e).find("tr[row='"+i+"']"))[0],l=n,s=this.checkAvailability(this._tempNavigationDate.getFullYear(),l);r.createButton({text:"<span style='color: #CCC;'>"+(n+1)+"</span><br />"+t[n],width:55,height:58,enable:s,css:"height: 100%; border: none;"+(null!=this.value()&&n==this.value().getMonth()?"background-color: #e3f1fa;":""),onClick:e=>{let t=n;if(this._tempNavigationDate.setMonth(t),this.depth()==r.DateDepthEnum.Month){let e=new Date(this._tempNavigationDate.getFullYear(),t,1);this.value(e)}else this.drawDays()}},o)}}}drawYears(){this._actualView=n.ActualViewEnum.Year,this._lblNavigation.enable();let e=r.puma(this.element()).find(".vrDatePickerPopup_table")[0];r.puma(e).empty();let t=this._tempNavigationDate.getFullYear(),i=Number(t.toString().substring(0,2)),a=Number(t.toString().substr(-2)),o=10*Math.ceil((a+1)/10),l=100*i+o-10-1,s=100*i+o;this._lblNavigation.value(l+1+"-"+(s-1));let u=l;for(let t=0;t<3;t++){r.puma(e).vrAppendPuma("<tr class='vrDatePickerPopup_rowMonths' row='"+t+"'></tr>");for(let i=0;i<4;i++){let i=r.puma("<td year='"+u+"'></td>").vrAppendToPuma(r.puma(e).find("tr[row='"+t+"']"))[0],a=Number(r.puma(i).attr("year")),n=this.checkAvailability(a);r.createButton({text:String(u),width:55,height:58,enable:n,css:"height: 100%; border: none;"+(null!=this.value()&&u==this.value().getFullYear()?"background-color: #e3f1fa;":"")+(a==l||a==s?"color: #CCC;":""),onClick:e=>{let t=Number(r.puma(i).attr("year"));if(this._tempNavigationDate.setFullYear(t),this.depth()==r.DateDepthEnum.Year){let e=new Date(t,0,1);this.value(e)}else this.drawMonths()}},i),u++}}}drawDecades(){this._actualView=n.ActualViewEnum.Decade,this._lblNavigation.disable();let e=r.puma(this.element()).find(".vrDatePickerPopup_table")[0];r.puma(e).empty();let t=this._tempNavigationDate.getFullYear(),i=Number(t.toString().substring(0,2)),a=(Number(t.toString().substr(-2)),100*i),o=100*i+99,l=100*i-10,s=100*i+109;this._lblNavigation.value(a+"-"+o);let u=l;for(let t=0;t<3;t++){r.puma(e).vrAppendPuma("<tr class='vrDatePickerPopup_rowMonths' row='"+t+"'></tr>");for(let i=0;i<4;i++){let i=r.puma("<td decade='"+u+"'></td>").vrAppendToPuma(r.puma(e).find("tr[row='"+t+"']"))[0],a=Number(r.puma(i).attr("decade"));r.createButton({text:u+"<br />"+(u+9),width:55,height:58,css:"height: 100%; border: none;"+(null!=this.value()&&this.value().getFullYear()>=u&&this.value().getFullYear()<=u+9?"background-color: #e3f1fa;":"")+(a==l||a==s-9?"color: #CCC;":""),onClick:e=>{let t=Number(r.puma(i).attr("decade"));this._tempNavigationDate.setFullYear(t),this.drawYears()}},i),u+=10}}}getOptions(){return this.options()}depth(){return this.getOptions().depth}value(e,t=!0){let i=this.getOptions();if(null===e)return this.clear(),null;if(null!=e){if("string"==typeof e&&(e=Date.vrFixDateString(e)),null==e)throw Error("Formato data non valido!");if(t){let t=new d;null!=i.onBeforeChange&&(t.sender=this,t.value=e,t.previousValue=this._value,i.onBeforeChange(t)),t.isDefaultPrevented()||(this._value=e,this.change())}else this._value=e;this._tempNavigationDate=e;const a=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];let n=e.getFullYear(),o=e.getMonth();switch(i.depth){case r.DateDepthEnum.Day:this.drawDays();break;case r.DateDepthEnum.Month:this.drawMonths();break;case r.DateDepthEnum.Year:this.drawYears();break;default:this.drawDays()}let l=a[o];this._lblNavigation.value(l+" "+n)}return this._value}clear(e=!1){this._value=null,e&&this.change()}change(){let e=this.getOptions().onAfterChange;if(null!=e){let t=new u;t.sender=this,t.value=this.value(),e(t)}}}t.Calendar=l;class s extends a.VrControlsEvent{}class u extends s{}class d extends s{}class c extends a.VrControlsEvent{}class p extends a.VrControlsEvent{}class h extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rating=t.RatingOptions=void 0;const a=i(0),r=i(1),n=i(2);class o extends r.VrControlOptions{}t.RatingOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.max&&(t.max=5),null==t.size&&(t.size=20),null==t.precision&&(t.precision=a.RatingPrecisionEnum.Full),null==t.tooltip&&(t.tooltip=!1),null==t.enable&&(t.enable=!0),null==t.colorSettings&&(t.colorSettings=new u),null==t.colorSettings.selected&&(t.colorSettings.selected="#FFD700"),null==t.colorSettings.hover&&(t.colorSettings.hover="#FFED85"),null==t.colorSettings.notSelected&&(t.colorSettings.notSelected="#DDD"),super(e,t,a.ControlTypeEnum.Rating),this.color(t.colorSettings);let i=this.element().id+"vrRating";for(let e=t.max;e>0;e--){let r=this.element().id+"_star"+e,n=t.tooltip?"title='"+e+"'":"";a.puma("<input id='"+r+"' type='radio' name='"+i+"' value='"+e+"' /><label class='vrRatingFull' for='"+r+"' "+n+"></label>").vrAppendToPuma(this.element());if(t.precision==a.RatingPrecisionEnum.Half){let r=this.element().id+"_star"+(e-.5),n=t.tooltip?"title='"+e+"'":"";a.puma("<input id='"+r+"' type='radio' name='"+i+"' value='"+(e-.5)+"' /><label class='vrRatingHalf' for='"+r+"' "+n+"></label>").vrAppendToPuma(this.element())}}this._lblTotal=a.createLabel({cssContainer:"margin-left: 5px; margin-top: -6px;"},this.container()),null!=t.total&&this.total(t.total),this.size(t.size),t.enable?this.enable():this.disable(),a.puma(this.element()).find("input").click(e=>{let i=e.currentTarget.value;if(null!=t.onSelect){let e=new s;e.sender=this,e.oldValue=this._value,e.value=i,t.onSelect(e)}this._value=i}),null!=t.value&&this.value(t.value)}value(e,t=!0){if(null!=e){let t=0,i=e%1,r=Math.trunc(e);0==i||i>r&&i<.2?t=r:i>.2&&i<.7?t=r+.5:i>.7&&(t=r+1),a.puma(this.element()).find("input[value='"+t+"']").attr("checked",!0),this._value=t}let i=a.puma(this.element()).find("input:checked")[0];return null!=i?i.value:null}color(e){let t=this.getOptions();return null!=e&&(null!=e.hover&&(t.colorSettings.hover=e.hover),null!=e.selected&&(t.colorSettings.selected=e.selected),null!=e.notSelected&&(t.colorSettings.notSelected=e.notSelected),n.UtilityManager.addCssStyle(".vrRating>label {\n                    color: "+t.colorSettings.notSelected+";\n                    float: right;\n                    cursor: pointer;\n                }\n\n                .vrRating>input:checked~label, .vrRating.hover:not(:checked)>label:hover, .vrRating.hover:not(:checked)>label:hover~label {\n                    color: "+t.colorSettings.selected+";\n                }\n\n                .vrRating.hover>input:checked+label:hover, .vrRating.hover>input:checked~label:hover, .vrRating.hover>label:hover~input:checked~label, .vrRating.hover>input:checked~label:hover~label {\n                    color: "+t.colorSettings.hover+";\n                }")),t.colorSettings}size(e){null!=e&&("number"==typeof e&&(e+="px"),n.UtilityManager.addCssStyle(".vrRating>label:before {\n                    font-size: "+e+";\n                }"));let t=a.puma(this.element()).find("input")[0];if(null!=t){let e=t.id,i=a.puma(this.element()).find("label[for='"+e+"']")[0];return window.getComputedStyle(i,":before").fontSize.vrGetNumericPart()}return 0}total(e){return null!=e&&this._lblTotal.value("("+e+")"),this._lblTotal.value().vrGetNumericPart()}enable(){super.enable(),a.puma(this.element()).addClass("hover"),a.puma(this.element()).find("input").removeAttr("disabled")}disable(){super.disable(),a.puma(this.element()).removeClass("hover"),a.puma(this.element()).find("input").attr("disabled",!0)}getOptions(){return this.options()}}t.Rating=l;class s{}class u{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupBox=t.GroupBoxOptions=void 0;const a=i(4),r=i(1),n=i(0),o=i(8);class l extends r.VrControlOptions{}t.GroupBoxOptions=l;class s extends r.VrControl{constructor(e,t){null==t&&(t=new l),null==t.width&&(t.width="100%"),null==t.title&&(t.title=""),null==t.collapsable&&(t.collapsable=!1),null==t.startingCollapsed&&(t.startingCollapsed=!1),!0===t.startingCollapsed&&(t.collapsable=!0),null==t.checkbox&&(t.checkbox=!1),null==t.startingChecked&&(t.startingChecked=!1),!0===t.startingChecked&&"string"!=typeof t.checkbox&&(t.checkbox=!0),null==t.scrollable&&(t.scrollable=!1),super(e,t,n.ControlTypeEnum.GroupBox);let i=n.puma(this.element()).html();n.puma(this.element()).empty();let a=n.puma("<h1 class='vrGroupBoxH1'></h1>").vrAppendToPuma(this.element());if(t.collapsable&&(this._btnCollapse=n.createButton({icon:n.IconClassLight.CaretUp,cssContainer:"float: left; margin-top: -2px;",css:"border: none; background: none;",onClick:e=>{this.collapsed()?this.expand():this.collapse()}},a)),!1!==t.checkbox&&(this._chkCheckbox=n.createCheckBox({checked:t.startingChecked,cssContainer:"float: left; margin-top: -1px;",onCheck:e=>{if(null!=t.onCheckboxClick){let i=new u;i.checked=e.checked,i.sender=this,t.onCheckboxClick(i)}}},a)),n.puma("<span class='vrGroupBoxTitle'>"+t.title+"</span>").vrAppendToPuma(a),null!=t.items){let e=n.div(a,{class:"vrGroupBoxDivItems"});for(let i of t.items)null!=i.cssContainer&&(i.cssContainer=""),i.cssContainer+="; margin-left: 5px;",n.createButton(i,e)}this._contentContainer=n.div(this.element(),{class:"vrGroupBoxContentContainer"}),t.scrollable&&(this._contentContainer.style.cssText+="max-height: 100%; overflow-y: auto;"),this.content(null!=i&&""!=i?i:t.content),t.startingCollapsed&&this.collapse()}content(e){return null!=e&&(n.puma(this._contentContainer).empty(),n.puma(this._contentContainer).append("string"==typeof e?e:n.puma(e))),this._contentContainer}title(e){return null!=e&&n.puma(this.element()).find(".vrGroupBoxTitle").html(e),n.puma(this.element()).find(".vrGroupBoxTitle").html()}collapse(){this._btnCollapse.tag("collapsed"),n.puma(this._contentContainer).hide(),this._btnCollapse.icon(n.IconClassLight.CaretDown);let e=this.getOptions();if(null!=e.onCollapse){let t=new d;t.sender=this,e.onCollapse(t)}}expand(){this._btnCollapse.tag(""),n.puma(this._contentContainer).show(),this._btnCollapse.icon(n.IconClassLight.CaretUp);let e=this.getOptions();if(null!=e.onExpand){let t=new c;t.sender=this,e.onExpand(t)}}collapsed(e){return null!=e&&(e?this.collapse():this.expand()),"collapsed"==this._btnCollapse.tag()}item(e){let t=n.puma(this.element()).find(".vrGroupBoxDivItems button[value='"+e+"']")[0];return null!=t?a.ControlManager.get(n.puma(t).attr("id")):null}enableItem(e){let t=this.item(e);null!=t&&t.enable()}disableItem(e){let t=this.item(e);null!=t&&t.disable()}showItem(e){let t=this.item(e);null!=t&&t.show()}hideItem(e){let t=this.item(e);null!=t&&t.hide()}check(e=!0){this._chkCheckbox.checked(!0,e)}unCheck(e=!0){this._chkCheckbox.checked(!1,e)}checked(e,t=!0){return null!=e&&(e?this.check(t):this.unCheck(t)),this._chkCheckbox.checked()}getOptions(){return this.options()}}t.GroupBox=s;class u{}class d{}class c{}o.ButtonOptions},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfViewer=t.PdfViewerOptions=void 0;const a=i(0),r=i(1),n=i(9),o=i(14),l=i(2),s=i(3);class u extends r.VrControlOptions{}t.PdfViewerOptions=u;class d extends r.VrControl{constructor(e,t){null==t&&(t=new u),null==t.base64&&(t.base64=!1),null==t.scale&&(s.DeviceManager.isMobile()?t.scale=.5:t.scale=1.3),null==t.textSelection&&(t.textSelection=!0),null==t.fileName&&(t.fileName="Documento"),null==t.tabIndex&&(t.tabIndex=-1),null==t.popup&&(t.popup=!1),!1!==t.popup&&(!0===t.popup&&(t.popup=new p),null==t.popup.maximize&&(t.popup.maximize=!1),null==t.popup.title&&(t.popup.title="Documento")),null==t.toolbar&&(t.toolbar=!0),!1!==t.toolbar&&(!0===t.toolbar&&(t.toolbar=new a.PdfViewerToolbarSettings),null==t.toolbar.navigation&&(t.toolbar.navigation=!0),null==t.toolbar.print&&(t.toolbar.print=!0),null==t.toolbar.zoom&&(t.toolbar.zoom=!0),null==t.toolbar.download&&(t.toolbar.download=!0),null==t.toolbar.items&&(t.toolbar.items=[])),super(e,t,a.ControlTypeEnum.PdfViewer),this.container().style.cssText+="display: flex;",this._state=new c(1,t.scale),!1!==t.popup&&(this._window=a.createWindow({addToControlList:!1,title:t.popup.title,footer:!1,closeable:t.popup.closeable,class:"vrWindowPdfViewer",classContainer:this.element().id+"_wndUtility",onOpen:t.popup.onOpen}));let i=!1===t.popup?this.element():this._window.element();this._divToolbar=a.div(i,{class:"vrPdfViewerDivToolbar"}),!1!==t.toolbar&&this.createToolbar(),this._pdfViewerCanvasContainer=a.puma("<div class='vrPdfViewerCanvasContainer'></div>").vrAppendToPuma(i)[0],a.puma(this._pdfViewerCanvasContainer).on("scroll",e=>{let t=Number(a.puma(this.canvasContainer()).find("canvas").attr("height"))+25,i=Math.trunc(a.puma(this._pdfViewerCanvasContainer).scrollTop()/t)+1;null!=this._txtCurrentPage&&this._txtCurrentPage.value(i,!1),this._currentPage=i}),!1===t.toolbar?(a.puma(this._divToolbar).hide(),a.puma(this.canvasContainer()).css("height","Calc(100% - 25px)")):a.puma(this.canvasContainer()).css("height","Calc(100% - 62px)"),this.content(t.content)}createToolbar(){let e=this.getOptions();e.toolbar=e.toolbar;let t=a.span(this.toolbar(),{class:"vrPdfViewer_toolbarLeftArea"});e.toolbar.navigation&&(a.createButton({icon:a.IconClassLight.Backward,css:"background: none; border: none;",onClick:e=>this._txtCurrentPage.value(1)},t),a.createButton({icon:a.IconClassLight.CaretLeft,css:"background: none; border: none; margin-right: 5px; font-size: 20px; margin-top: 1px;",onClick:e=>this._txtCurrentPage.value(this._currentPage-1)},t),this._txtCurrentPage=a.createTextBox({mode:a.TextModeEnum.Numeric,value:1,width:38,onChanged:e=>{let t=Number(e.value);Number(e.value)>this._state.pdf.numPages&&(t=this._state.pdf.numPages),Number(e.value)<1&&(t=1),this._currentPage=t,this._txtCurrentPage.value(t,!1);let i=Number(a.puma(this.canvasContainer()).find("canvas").attr("height"));a.puma(this.canvasContainer()).scrollTop((i+54)*(t-1))}},t),this._currentPage=1,this._lblPagesNumber=a.createLabel({text:"/ 3",cssContainer:"margin-left: 5px; margin-right: 10px; min-width: 20px;"},t),a.createButton({icon:a.IconClassLight.CaretRight,css:"background: none; border: none; font-size: 20px; margin-top: 1px;",onClick:e=>this._txtCurrentPage.value(this._currentPage+1)},t),a.createButton({icon:a.IconClassLight.Forward,css:"background: none; border: none;",onClick:e=>this._txtCurrentPage.value(this._state.pdf.numPages)},t));let i=a.span(this.toolbar(),{css:"justify-content: center;",class:"vrPdfViewer_toolbarCenterArea"});e.toolbar.zoom&&(a.createButton({icon:a.IconClassLight.MagnifyingGlassMinus,css:"border: none; background: none; font-size: 16px;",cssContainer:"margin-right: 5px;",tooltip:"Togli zoom",onClick:e=>{this._state.scale-=.2,this.content()}},i),a.createButton({icon:a.IconClassLight.MagnifyingGlassPlus,css:"border: none; background: none; font-size: 16px;",cssContainer:"margin-right: 5px;",tooltip:"Aumenta zoom",onClick:e=>{this._state.scale+=.2,this.content()}},i));let r=a.span(this.toolbar(),{css:"justify-content: flex-end;",class:"vrPdfViewer_toolbarRightArea"});e.toolbar.download&&a.createButton({icon:a.IconClassLight.Download,css:"border: none; background: none; font-size: 16px;",cssContainer:"margin-right: 5px;",tooltip:"Scarica",onClick:e=>this.download()},r),e.toolbar.print&&a.createButton({icon:a.IconClassLight.Print,css:"border: none; background: none; font-size: 16px;",tooltip:"Stampa",onClick:e=>this.print()},r),this.addToolbarItems(e.toolbar.items)}addToolbarItems(e){for(let t of e){let e=this.toolbarRightArea();switch(t.area){case a.PdfViewerToolbarAreaEnum.Left:e=this.toolbarLeftArea();break;case a.PdfViewerToolbarAreaEnum.Center:e=this.toolbarCenterArea();break;case a.PdfViewerToolbarAreaEnum.Right:e=this.toolbarRightArea()}let i=null!=t.css?t.css:"",r=null!=t.value?[{name:"value",value:t.value}]:void 0;a.createButton({icon:t.icon,text:t.text,attributes:r,css:"background: none; border: none;"+i,cssContainer:t.cssContainer,onClick:e=>{if(null!=t.onClick){let e=new a.ToolbarItemOnClickEvent;e.sender=this,e.text=t.text,e.value=t.value,t.onClick(e)}}},e)}}toolbar(){return this._divToolbar}toolbarLeftArea(){return this.toolbarArea(a.PdfViewerToolbarAreaEnum.Left)}toolbarCenterArea(){return this.toolbarArea(a.PdfViewerToolbarAreaEnum.Center)}toolbarRightArea(){return this.toolbarArea(a.PdfViewerToolbarAreaEnum.Right)}toolbarArea(e){let t=!1===this.getOptions().popup?this.container():this._window.container(),i="";switch(e){case a.PdfViewerToolbarAreaEnum.Left:i="vrPdfViewer_toolbarLeftArea";break;case a.PdfViewerToolbarAreaEnum.Center:i="vrPdfViewer_toolbarCenterArea";break;case a.PdfViewerToolbarAreaEnum.Right:i="vrPdfViewer_toolbarRightArea"}return a.puma(t).find("."+i)[0]}content(e){return new Promise(t=>{a.puma(this.canvasContainer()).empty();let i=this.getOptions();if(null!=e){n.LoaderManager.show(this.element()),i.content=e;pdfjsLib.getDocument(i.base64?{data:atob(e)}:e).promise.then(e=>{this._state.pdf=e,this.internalRender(),n.LoaderManager.hide();let i=this.getOptions();if(null!=i.onContentRendered){let e=new h;e.sender=this,e.pdf=this._state.pdf,i.onContentRendered(e)}null!=t&&t()},e=>{a.notifyError(e)})}else null!=i.content&&this.internalRender()})}internalRender(){let e=this._state.pdf.numPages;null!=this._lblPagesNumber&&this._lblPagesNumber.value("/ "+e);let t=this.getOptions();for(let i=1;i<=e&&null!=this._state.pdf;i++)this._state.pdf.getPage(i).then(e=>{let i=a.div(this.canvasContainer(),{class:"vrPdfViewer_divCanvasTextContainer"}),r=a.puma("<canvas style='border-top: solid 50px #e8e8e8;'></canvas>").vrAppendToPuma(i)[0],n=r.getContext("2d"),o=null;t.textSelection&&(o=a.puma("<div class='vrPdfViewer_divTextLayer'></div>").vrAppendToPuma(i)[0]);let l=e.getViewport({scale:this._state.scale});if(r.width=l.width,r.height=l.height,s.DeviceManager.isMobile()&&(r.width=l.width>window.innerWidth?window.innerWidth:l.width,r.height=l.height>window.innerHeight?window.innerHeight:l.height),!1!==t.popup)if(t.popup=t.popup,t.popup.maximize)this._window.maximize();else{let e=957;null!=t.popup.width&&(e=t.popup.width);let i=document.body.clientHeight-60;null!=t.popup.height&&(i=t.popup.height),this._window.width(e),this._window.element().style.cssText+="height: "+i+"px;",this._window.container().style.cssText+="height: "+(i+30)+"px;",this._window.center()}e.render({canvasContext:n,viewport:l}),t.textSelection&&e.getTextContent().then(e=>{pdfjsLib.renderTextLayer({textContent:e,container:o,viewport:l})})},e=>a.notifyError(e))}page(e){return null!=e&&this._txtCurrentPage.value(e),this._currentPage}fileName(e){return null!=e&&(this.getOptions().fileName=e),this.getOptions().fileName}download(){let e=this.getOptions();this.getData().then(t=>l.UtilityManager.downloadPdfBytes(t,e.fileName))}print(){this.getData().then(e=>o.PrintManager.printBytes(e))}async getData(){let e=await this._state.pdf.getData();return l.UtilityManager.bytesToBase64(e)}open(e){!1!==this.getOptions().popup&&(null!=e&&this.content(e),this._window.open())}close(){this._window.close()}window(){return this._window}windowTitle(e){this._window.title(e)}windowCloseCallback(e){null!=this.window()&&this.window().close}getOptions(){return this.options()}canvasContainer(){return this._pdfViewerCanvasContainer}}t.PdfViewer=d;class c{constructor(e,t){this.currentPage=e,this.scale=t}}class p{}class h{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=t.UploadOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.UploadOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.width&&(t.width="100%"),null==t.webApiSettings&&(t.webApiSettings=new l),null==t.multiple&&(t.multiple=!1),null==t.fileList&&(t.fileList=!0),null==t.fileListMaxHeight&&(t.fileListMaxHeight=200),null==t.async&&(t.async=!0),null==t.dropArea&&(t.dropArea=!0),!0!==t.dropArea&&null==t.progressBar&&(t.progressBar=!1),null==t.dropAreaText&&(t.dropAreaText="Trascina qui il file"),"boolean"==typeof t.dropArea&&(t.dropArea?t.dropAreaText="Trascina qui il file":t.dropAreaText=""),null==t.progressBar&&(t.progressBar=!0),null==t.uploadButton&&(t.uploadButton=!0),!0===t.uploadButton&&(t.uploadButton="Seleziona..."),null==t.autoUpload&&(t.autoUpload=!0),null==t.confirmToRemoveFile&&(t.confirmToRemoveFile=!1),null==t.canRemoveFile&&(t.canRemoveFile=!0),super(e,t,r.ControlTypeEnum.Upload);let i=null;this._files=[],this._dicFileXhr=new Map,this._divDropArea=null,!1!==t.dropArea?("boolean"==typeof t.dropArea&&t.dropArea?(this._divDropArea=r.div(this.element(),{class:"vrUploadDropArea"}),i=this._divDropArea):(i=this.element(),"string"==typeof t.dropArea?(t.dropArea.startsWith("#")||(t.dropArea="#"+t.dropArea),this._divDropArea=r.puma(t.dropArea)[0]):this._divDropArea=r.puma(t.dropArea)[0]),["dragenter","dragover","dragleave","drop"].forEach(e=>{this._divDropArea.addEventListener(e,e=>{e.preventDefault(),e.stopPropagation()},!1)}),r.puma(this._divDropArea).on("dragenter",e=>{if(null!=t.onDragEnter){let i=new c;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragEnter(i),e.isDefaultPrevented())return}r.puma(e.currentTarget).addClass("highlight")}),r.puma(this._divDropArea).on("dragover",e=>{if(null!=t.onDragOver){let i=new p;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragOver(i),e.isDefaultPrevented())return}r.puma(e.currentTarget).addClass("highlight")}),r.puma(this._divDropArea).on("dragleave",e=>{if(null!=t.onDragLeave){let i=new h;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragLeave(i),e.isDefaultPrevented())return}r.puma(e.currentTarget).removeClass("highlight")}),r.puma(this._divDropArea).on("drop",e=>{let i=[...e.originalEvent.dataTransfer.files];if(null!=t.onDrop){let a=new m;if(a.sender=this,a.files=i,a.event=e,t.onDrop(a),e.isDefaultPrevented())return}r.puma(e.currentTarget).removeClass("highlight"),this.manageLoadingFiles(i)})):i=this.element();let a="";t.multiple&&(a="multiple");let o=r.puma("<label for='"+this.element().id+"_vrUpload' class='vrUploadInput'><i class='"+r.IconClassLight.CloudArrowUp+" vrUploadBtnIcon'></i>"+t.uploadButton+"</label>").vrAppendToPuma(i);this._inputFile=r.puma("<input "+a+" id='"+this.element().id+"_vrUpload' type='file' style='display: none;'/>").vrAppendToPuma(i)[0],t.uploadButton||r.puma(o).hide(),!0===t.dropArea&&r.createLabel({text:String(t.dropAreaText),cssContainer:"margin-left: 5px;",css:"text-align: left; font-style: italic; color: #a0a0a0;"},this._divDropArea),r.puma(this._inputFile).on("change",e=>{let t=[...e.currentTarget.files];this.manageLoadingFiles(t)}),this._divProgressBar=r.puma("<progress class='vrUploadProgressBar' max=100 value=0></progress>").vrAppendToPuma(this.element())[0],r.puma(this._divProgressBar).hide(),this._divFileList=r.div(this.container(),{class:"vrUploadDivFileList",css:"display: none; max-height: "+t.fileListMaxHeight+"px;"})}uploadFiles(){for(let e=0;e<this._files.length;e++){let t=this._files[e];this.uploadFile(t,e,!1)}}addFile(e){this.addFiles([e])}addFiles(e){this.manageLoadingFiles(e)}getFiles(){return this._files}removeFileAtIndex(e){let t=r.puma(this.divFileList()).find(".vrUploadDivFile:nth-child("+(e+1)+")")[0];r.puma(t).remove(),this._dicFileXhr.delete(this._files[e]),this._files.splice(e,1),0==this._files.length&&this.clear()}manageLoadingFiles(e){if(!this.enabled())return;let t=this.getOptions();if(this.initializeProgress(e.length),null!=t.onStart){let i=new w;if(i.sender=this,i.files=e,t.onStart(i),i.isDefaultPrevented())return}t.fileList&&(r.puma(this.divFileList()).show(),0==t.multiple&&r.puma(this.element()).hide());let i=[];for(let a=0;a<e.length;a++){let n=e[a];if(null!=t.validation){if(null==t.validation.showFileIfError&&(t.validation.showFileIfError=!0),null==t.validation.checkMimeType&&(t.validation.checkMimeType=!1),null!=t.validation.minSize&&n.size<t.validation.minSize){let e=null==t.validation.minSizeErrorMessage?"Dimensione minima consentita: "+this.formatBytes(t.validation.minSize):t.validation.minSizeErrorMessage;r.notify(e,{type:r.NotifierTypeEnum.Error}),t.validation.showFileIfError&&this.drawFile(n,y.ErrorValidationMinSize),t.fileList||this.manageValidationError(r.UploadValidationErrorTypeEnum.MinSize,n);continue}if(null!=t.validation.maxSize&&n.size>t.validation.maxSize){let e=null==t.validation.maxSizeErrorMessage?"Dimensione massima consentita: "+this.formatBytes(t.validation.maxSize):t.validation.maxSizeErrorMessage;r.notify(e,{type:r.NotifierTypeEnum.Error}),t.validation.showFileIfError&&this.drawFile(n,y.ErrorValidationMaxSize),t.fileList||this.manageValidationError(r.UploadValidationErrorTypeEnum.MaxSize,n);continue}if(null!=t.validation.extensions&&"."!=t.validation.extensions[0]&&"*"!=t.validation.extensions[0]){let e=!0;if(t.validation.checkMimeType){let i=[];for(let e of t.validation.extensions)i.vrPushRange(this.getMimeTypeFromExtension(e.toLowerCase()));e=i.includes(n.type.toLowerCase())}else{let i=n.name.split("."),a=i[i.length-1].toLowerCase();e=t.validation.extensions.map(e=>e.replace(".","").toLowerCase()).includes(a)}if(!e){let e=null==t.validation.extensionsErrorMessage?"Estensioni consentite: "+t.validation.extensions:t.validation.extensionsErrorMessage;r.notify(e,{type:r.NotifierTypeEnum.Error}),t.validation.showFileIfError&&this.drawFile(n,y.ErrorValidationExtensions),t.fileList||this.manageValidationError(r.UploadValidationErrorTypeEnum.Extensions,n);continue}}}i.push(n),t.autoUpload?this.uploadFile(n,a,!0):(this._files.push(n),this.drawFile(n,y.Default),r.puma(this.progressBar()).hide())}0==i.length&&r.puma(this.progressBar()).hide(),i=[]}drawFile(e,t){let i=this.getOptions();if(i.fileList){let a=r.div(this._divFileList,{class:"vrUploadDivFile"}),n=this.formatBytes(e.size),o=this.getFileInfo(e.type);r.icon(o.icon,a,{css:"color: "+o.color+";",class:"vrUploadFileIcon"});let l="<span class='vrUploadLblUnderFileName' style='color: #a0a0a0;'>"+n+"</span>";if(t==y.ErrorValidationExtensions||t==y.ErrorValidationMaxSize||t==y.ErrorValidationMinSize){let i=r.UploadValidationErrorTypeEnum.MinSize;switch(t){case y.ErrorValidationMinSize:i=r.UploadValidationErrorTypeEnum.MinSize;break;case y.ErrorValidationMaxSize:i=r.UploadValidationErrorTypeEnum.MaxSize;break;case y.ErrorValidationExtensions:i=r.UploadValidationErrorTypeEnum.Extensions}let a=this.manageValidationError(i,e);""!=a&&(l="<span class='vrUploadLblUnderFileName' style='color: red;'>"+a+"</span>")}r.createLabel({width:"Calc(100% - 53px)",text:"<span class='vrUploadFileName' style='font-size: 14px; font-weight: 600;'>"+e.name+"</span>"+l,noBr:4,class:"vrUploadFileDescription"},a);let s=r.span(a,{class:"vrUploadDivFilePercentage"});r.createLabel({visible:t==y.TempLoading,class:"vrUploadFilePercentage",fontSize:11},s);let u=r.icon(r.IconClassLight.Spinner,s,{class:"vrUploadFileSpinner"});return t!=y.TempLoading&&r.puma(u).hide(),r.createButton({icon:t==y.TempLoading?r.IconClassLight.Trash:r.IconClassRegular.Xmark,cssContainer:"width: 14px; margin-left: 5px;",css:"border: none; background: none; font-size: 18px; color: red; width: 14px; padding: 0px;",class:"vrUploadFileButtonAction",visible:i.canRemoveFile,onClick:t=>{if(t.sender.icon().classList.contains("fa-trash")){if(null!=i.onAbort){let t=new x;if(t.sender=this,t.xhr=this._dicFileXhr.get(e),t.file=e,i.onAbort(t),t.isDefaultPrevented())return}this._dicFileXhr.get(e).abort()}else i.confirmToRemoveFile?r.confirm("Confermi di voler rimuovere il file?").then(()=>{r.puma(a).remove(),this.removeFile(a,e)}):(r.puma(a).remove(),this.removeFile(a,e))}},a),a}return null}manageValidationError(e,t){let i=this.getOptions(),a="";if(e==r.UploadValidationErrorTypeEnum.MinSize&&(a=null==i.validation.minSizeErrorMessage?"Dimensione minima consentita: "+this.formatBytes(i.validation.minSize):i.validation.minSizeErrorMessage),e==r.UploadValidationErrorTypeEnum.MaxSize&&(a=null==i.validation.maxSizeErrorMessage?"Dimensione massima consentita: "+this.formatBytes(i.validation.maxSize):i.validation.maxSizeErrorMessage),e==r.UploadValidationErrorTypeEnum.Extensions&&(a=null==i.validation.extensionsErrorMessage?"Estensioni consentite: "+i.validation.extensions:i.validation.extensionsErrorMessage),""!=a&&null!=i.onValidationError){let r=new C;r.sender=this,r.file=t,r.message=a,r.type=e,i.onValidationError(r)}return a}removeFile(e,t){let i=this.getOptions();if(null!=i.onRemove){let a=new _;if(a.sender=this,a.element=e,a.file=t,a.index=this.getFiles().indexOf(t),i.onRemove(a),a.isDefaultPrevented())return}this._files.vrDelete(t),this._dicFileXhr.delete(t),0==this._files.length&&this.clear()}uploadFile(e,t,i=!0){let a=this.getOptions();var n=a.webApiSettings.url,o=new XMLHttpRequest;if(o.open("POST",n,a.async),null!=a.webApiSettings.parameters){let t=[];if(Array.isArray(a.webApiSettings.parameters))t=a.webApiSettings.parameters;else{let i=new u;i.sender=this,i.file=e,t=a.webApiSettings.parameters(i)}for(let e of t)o.setRequestHeader(e.key,e.value)}let l=null;i&&(this._files.push(e),this._dicFileXhr.set(e,o),l=this.drawFile(e,y.TempLoading)),o.upload.addEventListener("progress",e=>{if(null!=a.onProgress){let t=new f;if(t.sender=this,t.loaded=e.loaded,t.total=e.total,t.event=e,a.onProgress(t),t.isDefaultPrevented())return}a.progressBar&&this.updateProgress(t,100*e.loaded/e.total||100);let i=Math.round(100*e.loaded/e.total||99);100==i&&(i=99),r.puma(l).find(".vrUploadFilePercentage").html(i+"%")}),o.addEventListener("readystatechange",t=>{if(4==o.readyState&&200==o.status){if(null!=a.onSuccess){let i=new b;if(i.sender=this,i.status=o.status,i.statusText=o.statusText,i.response=JSON.parse(o.response),i.xhr=o,i.event=t,i.file=e,a.onSuccess(i),i.isDefaultPrevented())return}if(r.puma(this.progressBar()).hide(),null!=l){let e=r.puma(l).find(".vrUploadFileButtonAction").find(".vrIcon")[0],t=e.className.split(/\s+/).filter(e=>e.startsWith("fa-"));for(let i of t)e.classList.remove(i);r.puma(e).addClass(r.IconClassRegular.Xmark),r.puma(l).find(".vrUploadDivFilePercentage").remove(),r.puma(l).find(".vrUploadFileName").vrAppendPuma("<i class='"+r.IconClassLight.Check+"' style='color: green; margin-left: 5px;' title='File caricato correttamente'></i>")}}else if(4==o.readyState&&200!=o.status){if(null!=a.onError){let i=new v;if(i.sender=this,i.status=o.status,i.statusText=o.statusText,i.response=0!=o.status?JSON.parse(o.response):{},i.xhr=o,i.event=t,i.file=e,a.onError(i),i.isDefaultPrevented())return void t.preventDefault()}if(r.puma(this.progressBar()).hide(),null!=l){let t=r.puma(l).find(".vrUploadFileButtonAction").find(".vrIcon")[0],i=t.className.split(/\s+/).filter(e=>e.startsWith("fa-"));for(let e of i)t.classList.remove(e);r.puma(t).addClass(r.IconClassRegular.Xmark);let a=r.puma(l).find("i.vrUploadFileIcon");a.removeClass(),a.addClass(r.IconClassLight.TriangleExclamation+" vrUploadFileIcon"),a[0].style.cssText+="color: red; margin-left: -3px;",r.puma(l).find(".vrUploadDivFilePercentage").remove(),r.puma(l).find(".vrUploadFileDescription").html("<span class='vrUploadFileName' style='font-weight: 600; font-size: 14px;'>"+e.name+"</span><span class='vrUploadLblUnderFileName' style='color: red;'>File non caricato correttamente, o procedura interrotta</span>")}}});var s=new FormData;s.append("file",e),o.send(s)}initializeProgress(e){this.getOptions().progressBar&&r.puma(this.progressBar()).show(),r.puma(this.progressBar())[0].value=0,this._uploadProgress=[];for(let t=e;t>0;t--)this._uploadProgress.push(0)}updateProgress(e,t){this._uploadProgress[e]=t;let i=this._uploadProgress.reduce((e,t)=>e+t,0)/this._uploadProgress.length;r.puma(this.progressBar())[0].value=i}dropArea(){return this._divDropArea}divFileList(){return this._divFileList}progressBar(){return this._divProgressBar}uploadButton(){return this._inputFile}formatBytes(e){if(Math.abs(e)<1024)return e+" B";const t=["kB","MB","GB","TB","PB","EB","ZB","YB"];let i=-1;do{e/=1024,++i}while(Math.round(100*Math.abs(e))/100>=1024&&i<t.length-1);return e.toFixed(2)+" "+t[i]}getFileInfo(e){let t=r.IconClassLight.File,i="#51B3E1";switch(e){case"application/pdf":t=r.IconClassLight.FilePdf,i="coral";break;case"image/png":case"image/jpeg":t=r.IconClassLight.FileImage,i="#adbd29";break;case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t=r.IconClassLight.FileWord,i="#01A6F0";break;case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t=r.IconClassLight.FileExcel,i="#1D6F42";break;case"text/plain":t=r.IconClassLight.FileLines,i="#bdbdbd";break;case"application/zip":case"application/x-zip-compressed":case"application/x-compressed":case"multipart/x-zip":t=r.IconClassLight.FileZipper,i="#b1b4d3";break;case"video/mp4":case"video/3gpp":case"video/x-flv":case"video/quicktime":case"video/x-msvideo":case"video/x-ms-wmv":t=r.IconClassLight.FileVideo,i="purple"}return{icon:t,color:i}}getMimeTypeFromExtension(e){let t=[],i=e.split(".");switch(e=i[i.length-1]){case"html":case"htm":case"shtml":t=[""];break;case"css":t=["text/css"];break;case"xml":t=["text/xml"];break;case"gif":t=["image/gif"];break;case"jpeg":case"jpg":t=["image/jpeg"];break;case"js":t=["application/x-javascript"];break;case"txt":t=["text/plain"];break;case"png":t=["image/png"];break;case"tif":case"tiff":t=["image/tiff"];break;case"ico":t=["image/x-icon"];break;case"bmp":t=["image/x-ms-bmp"];break;case"svg":t=["image/svg+xml"];break;case"doc":case"dot":t=["application/msword"];break;case"docx":t=["application/vnd.openxmlformats-officedocument.wordprocessingml.document"];break;case"dotx":t=["application/vnd.openxmlformats-officedocument.wordprocessingml.template"];break;case"docm":t=["application/vnd.ms-word.document.macroEnabled.12"];break;case"dotm":t=["application/vnd.ms-word.template.macroEnabled.12"];break;case"pdf":t=["application/pdf"];break;case"rtf":t=["application/rtf"];break;case"csv":t=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"];break;case"mdb":t=["application/vnd.ms-access"];break;case"xls":case"xlt":case"xla":t=["application/vnd.ms-excel"];break;case"xlsx":t=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];break;case"xltx":t=["application/vnd.openxmlformats-officedocument.spreadsheetml.template"];break;case"xlsm":t=["application/vnd.ms-excel.sheet.macroEnabled.12"];break;case"xltm":t=["application/vnd.ms-excel.template.macroEnabled.12"];break;case"xlam":t=["application/vnd.ms-excel.addin.macroEnabled.12"];break;case"xlsb":t=["application/vnd.ms-excel.sheet.binary.macroEnabled.12"];break;case"ppt":case"pot":case"pps":case"ppa":t=["application/vnd.ms-powerpoint"];break;case"pptx":t=["application/vnd.openxmlformats-officedocument.presentationml.presentation"];break;case"potx":t=["application/vnd.openxmlformats-officedocument.presentationml.template"];break;case"ppsx":t=["application/vnd.openxmlformats-officedocument.presentationml.slideshow"];break;case"ppam":t=["application/vnd.ms-powerpoint.addin.macroEnabled.12"];break;case"pptm":t=["application/vnd.ms-powerpoint.presentation.macroEnabled.12"];break;case"potm":t=["application/vnd.ms-powerpoint.template.macroEnabled.12"];break;case"ppsm":t=["application/vnd.ms-powerpoint.slideshow.macroEnabled.12"];break;case"p7m":t=["application/pkcs7-mime","application/x-pkcs7-mime"];break;case"p12":t=["application/pkcs-12","application/x-pkcs12"];break;case"7z":t=["application/x-7z-compressed"];break;case"rar":t=["application/x-rar-compressed"];break;case"zip":t=["application/x-zip-compressed"];break;case"bin":case"exe":case"dll":case"deb":case"dmg":case"eot":case"iso":case"img":case"msi":case"msp":case"msm":t=["application/octet-stream"];break;case"mp3":t=["audio/mpeg"];break;case"3ggp":case"3gp":t=["video/3gpp"];break;case"mpeg":case"mpg":t=["video/mpeg"];break;case"mov":t=["video/quicktime"];break;case"flv":t=["video/x-flv"];break;case"wmv":t=["video/x-ms-wmv"];break;case"avi":t=["video/x-msvideo"];break;case"m4v":case"m4p":t=["video/mp4"]}return t}clear(){this._files=[],r.puma(this.divFileList()).hide(),r.puma(this.divFileList()).empty(),this.uploadButton().value="",r.puma(this.progressBar()).hide(),this.progressBar().value=0,r.puma(this.element()).show()}open(){r.puma(this.uploadButton()).click()}enable(){super.enable(),window.setTimeout(()=>this.uploadButton().removeAttribute("disabled"))}disable(){super.disable(),window.setTimeout(()=>this.uploadButton().setAttribute("disabled","disabled"))}getOptions(){return this.options()}}t.Upload=o;class l{}class s extends a.VrControlsEvent{}class u extends s{}class d extends s{}class c extends d{}class p extends d{}class h extends d{}class m extends s{}class f extends s{}class g extends s{}class v extends g{}class b extends g{}class C extends s{}class x extends s{}class w extends s{}var y;!function(e){e[e.Default=0]="Default",e[e.TempLoading=1]="TempLoading",e[e.ErrorValidationMinSize=2]="ErrorValidationMinSize",e[e.ErrorValidationMaxSize=3]="ErrorValidationMaxSize",e[e.ErrorValidationExtensions=4]="ErrorValidationExtensions"}(y||(y={}));class _ extends s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaypalButton=t.PaypalButtonOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.PaypalButtonOptions=n;class o extends a.VrControl{constructor(e,t){if(null==t&&(t=new n),null==t.style&&(t.style=new l),null==t.style.color&&(t.style.color=r.PaypalStyleColorEnum.Gold),null==t.style.size&&(t.style.size=r.PaypalStyleSizeEnum.Responsive),null==t.style.shape&&(t.style.shape=r.PaypalStyleShapeEnum.Rect),null==t.style.height&&(t.style.height=30),null==t.style.tagline&&(t.style.tagline=!1),null==t.style.fundingicons&&(t.style.fundingicons=!0),null==t.style.layout&&(t.style.layout=r.PaypalStyleLayoutEnum.Horizontal),null==t.enableStandardCardFields&&(t.enableStandardCardFields=!0),null==t.intent&&(t.intent="CAPTURE"),null==t.createOrderRequest&&(t.createOrderRequest=new u),null==t.createOrderRequest.authKey&&(t.createOrderRequest.authKey="1D7822D72F5397BEF65D677C89E85"),null==t.createOrderRequest.method&&(t.createOrderRequest.method="/api/PaypalWebApi/CreatePayment/"),null==t.approveRequest&&(t.approveRequest=new d),null==t.approveRequest.authKey&&(t.approveRequest.authKey="1D7822D72F5397BEF65D677C89E85"),null==t.approveRequest.method&&(t.approveRequest.method="/api/PaypalWebApi/ExecutePayment/"),super(e,t,r.ControlTypeEnum.PaypalButton),null!=t.setupUrl){if(null==t.setupUrl.clientId)throw Error("PayPal clientId obbligatorio");null==t.setupUrl.currency&&(t.setupUrl.currency="EUR"),null==t.setupUrl.intent&&(t.setupUrl.intent="capture"),null==t.setupUrl.commit&&(t.setupUrl.commit=!1),null==t.setupUrl.locale&&(t.setupUrl.locale="it_IT"),r.puma.getScript("<script src='https://www.paypal.com/sdk/js?client-id="+t.setupUrl.clientId+"&currency="+t.setupUrl.currency+"&intent="+t.setupUrl.intent+"&commit="+t.setupUrl.commit+"&locale="+t.setupUrl.locale+"'><\/script>").then(()=>this.renderButton())}else this.renderButton()}renderButton(){let e=this.getOptions();paypal.Buttons({enableStandardCardFields:e.enableStandardCardFields,style:e.style,createOrder:(t,i)=>{if(r.showLoader(e.createOrderRequest.loader),null!=e.onBeforePayment){let t=new h;if(t.sender=this,e.onBeforePayment(t),t.isDefaultPrevented())return r.hideLoader(),!1}let a=this.prepareWebApiCall(e.createOrderRequest,c.CreateOrder);return fetch(e.createOrderRequest.method,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then(e=>e.json()).then(t=>{if(null!=t.token&&""!=t.token)return null!=e.createOrderRequest.successNotificationMessage&&(!0===e.createOrderRequest.successNotificationMessage&&(e.createOrderRequest.successNotificationMessage="Pagamento creato correttamente"),!1!==e.createOrderRequest.successNotificationMessage&&r.notify(e.createOrderRequest.successNotificationMessage)),null!=e.createOrderRequest.callback&&e.createOrderRequest.callback(t),t.token;this.manageError(e.createOrderRequest,c.SetupError,t)},t=>{r.hideLoader(),this.manageError(e.createOrderRequest,c.CreateOrder)})},onApprove:(t,i)=>{let a=this.prepareWebApiCall(e.approveRequest,c.OnApprove,t);return r.showLoader(e.approveRequest.loader),fetch(e.approveRequest.method,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then(t=>{r.hideLoader(),1==t.ok?(null!=e.approveRequest.successNotificationMessage&&(!0===e.approveRequest.successNotificationMessage&&(e.approveRequest.successNotificationMessage="Pagamento creato correttamente"),!1!==e.approveRequest.successNotificationMessage&&r.notify(e.approveRequest.successNotificationMessage)),null!=e.approveRequest.callback&&e.approveRequest.callback(t)):this.manageError(e.createOrderRequest,c.OnApprove,t)},t=>{r.hideLoader(),this.manageError(e.createOrderRequest,c.OnApprove,t)})},onCancel:(t,i)=>{if(r.hideLoader(),null!=e.onCancel){let a=new p;a.sender=this,a.data=t,a.actions=i,e.onCancel(a)}},onError:e=>{r.hideLoader(),r.notify("Si è verificato un errore",{type:r.NotifierTypeEnum.Error})}}).render(this.element()).then(()=>{if(null!=e.onRendered){let t=new m;t.sender=this,e.onRendered(t)}})}prepareWebApiCall(e,t,i=null){let a={};if(a.AuthKey=e.authKey,e.method.startsWith("api/")&&(e.method="/"+e.method),e.method.endsWith("/")||(e.method=e.method+"/"),t==c.CreateOrder?(null!=e.cancelUrl&&(a[e.cancelUrl]=e.cancelUrl),null!=e.returnUrl&&(a[e.returnUrl]=e.returnUrl)):t==c.OnApprove&&null!=i&&(null==e.paymentIdPropertyName&&(e.paymentIdPropertyName="paymentId"),a[e.paymentIdPropertyName]=i.paymentID,null==e.payerIdPropertyName&&(e.payerIdPropertyName="payerId"),a[e.payerIdPropertyName]=i.payerID),null!=e.otherParameters){let t=Object.getOwnPropertyNames(e.otherParameters);for(let i of t)a[i]=e.otherParameters[i]}if(null!=e.parameters){let t=e.parameters(),i=Object.getOwnPropertyNames(t);for(let e of i)a[e]=t[e]}return a}manageError(e,t,i){if(null!=e.errorNotificationMessage){if(!0===e.errorNotificationMessage){let a="";switch(t){case c.SetupError:a=String(i.Result.Response);break;case c.CreateOrder:a="Si è verificato un errore nella creazione del pagamento";break;case c.OnApprove:a="Il pagamento della transazione non è andato a buon fine"}e.errorNotificationMessage=a}!1!==e.errorNotificationMessage&&r.notify(e.errorNotificationMessage,{type:r.NotifierTypeEnum.Error})}else null!=i?null!=i.Result.Response?r.notify(i.Result.Response,{type:r.NotifierTypeEnum.Error}):r.notify(i.Result.Message,{type:r.NotifierTypeEnum.Error}):r.notify("Si è verificato un errore",{type:r.NotifierTypeEnum.Error});null!=e.errorCallback&&e.errorCallback(i)}getOptions(){return this.options()}}t.PaypalButton=o;class l{}class s{}class u extends s{}class d extends s{}var c;!function(e){e[e.CreateOrder=0]="CreateOrder",e[e.SetupError=1]="SetupError",e[e.OnApprove=2]="OnApprove"}(c||(c={}));class p extends a.VrControlsEvent{}class h extends a.VrControlsEvent{}class m extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewCellSettings=t.TreeViewHeaderSettings=t.TreeViewHeaderAndCellSettings=t.TreeViewContextMenuClickEvent=t.TreeView=t.TreeViewOptions=void 0;const a=i(4),r=i(2),n=i(1),o=i(0),l=i(7),s=i(5),u=i(6);class d extends n.VrControlOptions{}t.TreeViewOptions=d;class c extends n.VrControl{constructor(e,t){if(null==t&&(t=new d),null==t.checkboxes&&(t.checkboxes=!1),null==t.treeMode&&(t.treeMode=o.TreeModeEnum.AllExpanded),null==t.showLink&&(t.showLink=!0),null==t.rightClickForContextMenu&&(t.rightClickForContextMenu=!1),null==t.leftClickForContextMenu&&(t.leftClickForContextMenu=!1),null==t.parentClickable&&(t.parentClickable=!1),null==t.contextMenuItems&&(t.contextMenuItems=[]),null==t.showEditButton&&(t.showEditButton=!1),null!=t.onEdit&&(t.showEditButton=!0),null==t.draggable&&(t.draggable=!1),null==t.onDragStart&&null==t.onDragMove&&null==t.onDragEnd||(t.draggable=!0),null==t.alternateColor&&(t.alternateColor=!1),null==t.spaceBetweenGroups&&(t.spaceBetweenGroups=!1),null!=t.rowLine&&t.rowLine>1&&null==t.rowHeight&&(t.rowHeight=20*t.rowLine),1==t.rowLine&&(t.rowLine=void 0),null==t.rowHeight&&(t.rowHeight=27),null==t.selectable&&(t.selectable=!0),null==t.dataSourceFieldId&&(t.dataSourceFieldId="id"),null==t.export&&(t.export=!1),!1!==t.export&&null==t.title&&(t.title=""),!0===t.export&&(t.export=new _),null==t.filter&&(t.filter=!1),!0===t.filter&&(t.filter=new o.TreeViewFilterSettings),!1!==t.filter&&null==t.filter.onlyParents&&(t.filter.onlyParents=!1),super(e,t,o.ControlTypeEnum.TreeView),this.element().style.cssText+="height: 100%;",this._checkedValues=[],null!=t.columns&&null==t.title&&(t.title=""),(null!=t.title||null!=t.columns||!1!==t.export)&&(this._divTitle=o.puma("<div style='position: relative; display: flex;' class='vrTreeView_divTitle'></div>")[0],o.puma(this.element()).vrPrependPuma(this._divTitle),o.createButton({text:"Excel",icon:o.IconClassLight.FileExcel,css:"height: 24px;",colorSettings:{background:"#008a00",textColor:"#FFF"},cssContainer:"position: absolute; z-index: 9; top: 3px; left: 5px;",visible:!1!==t.export,onClick:e=>{this.excelExport()}},this._divTitle),null!=t.title&&(this._lblTitle=o.createLabel({text:t.title,css:"padding: 5px; height: 19px; border-radius: unset; width: Calc(100% - 10px);",colorSettings:{background:"#e3f1fa",textColor:"#000"},align:o.TextAlignEnum.Center,width:"Calc(100% - "+this.widthColumns()+"px)",cssContainer:"display: block !important; height: 29px;"},this._divTitle)),null!=t.columns)){for(let e of t.columns){let t=null!=e.width?e.width:100,i=o.div(this._divTitle,{css:"width: "+t+"px;",class:"vrTreeViewColumn",attributes:[{name:"field",value:e.field}]});o.createLabel({text:null!=e.title?e.title:"",cssContainer:"padding-left: 5px; padding-right: 5px;"},i)}this._divHeaderSpace=o.div(this._divTitle,{css:"background-color: #e3f1fa; width: 17px; display: none;"})}if(null!=t.toolbar){this._divToolbar=o.puma("<div id='"+e.id+"Toolbar' class='treeView_divToolbar'></div>").vrPrependToPuma(this.element())[0];for(let e of t.toolbar)this.addToolbarItem(e)}let i=0;this._txtSearchFilter=o.createTextBox({width:"100%",icon:o.IconClassLight.Search,placeholder:"Cerca...",class:"vrTreeViewFilter",visible:!1!==t.filter,cssContainer:"margin-top: 1px;",onKeyDown:e=>{this.limitInputByDataSource(e.sender.element(),e)},onKeyUp:e=>{this.limitInputByDataSource(e.sender.element(),e),clearTimeout(i),i=window.setTimeout(()=>{let t=e.sender.value();this.filter(t)},200)}},this.element());let a=null!=t.title?29:0,r=!1!==t.filter?27:0,n=null!=t.toolbar?34:0;this._divContent=o.div(this.element(),{css:"display: flex; height: Calc(100% - "+(a+r+n)+"px);",class:"vrTreeViewDivContent"}),27!=t.rowHeight&&o.addCssStyle("\n\t\t\t\t#"+this.element().id+" .vrTreeViewLiLink::after {\n\t\t\t\t\ttop: "+t.rowHeight/2+"px !important;\n\t\t\t\t}\n\t\t\t\t#"+this.element().id+" .vrTreeViewLiLink:last-child::before {\n\t\t\t\t\theight: "+(t.rowHeight/2+1)+"px !important;\n\t\t\t\t}\n\t\t\t\t#"+this.element().id+" .vrTreeViewLiLink.vrTreeViewLiFirstChild:last-child::before {\n\t\t\t\t\theight: 0px !important;\n\t\t\t\t}\n\t\t\t"),null!=t.datasource&&this.datasource(t.datasource),null!=t.rebind&&!0===t.rebind.rebindAtStartup&&this.doWebApiCall(t.rebind,D.Rebind)}datasource(e){if(null!=e){this._items=e,0==this.getRootItems().length?o.puma(this.element()).addClass("vrTreeViewFlat"):o.puma(this.element()).removeClass("vrTreeViewFlat"),this._tempRebindInfo=new k,this._tempRebindInfo.selectedValue=this.value();let t=[],i=o.puma(this.container()).find(".vrTreeViewLi .caret-down");for(let e of Array.from(i))t.push(e.parentElement.getAttribute("value"));this._tempRebindInfo.parentExpandedValueList=t;let a=o.puma(this.container()).find(".vrTreeViewUl").first();null!=a[0]&&(this._tempRebindInfo.yPosition=a[0].scrollTop),this.drawDataSource();for(let e of this._tempRebindInfo.parentExpandedValueList){let t=this._dictionaryValueLi.get(e);if(null!=t){let e=o.puma(t).find(".vrTreeViewDivIconExpand")[0];null!=e&&o.puma(e).hasClass("caret-right")&&o.puma(e).click()}}null!=this._tempRebindInfo.selectedValue&&""!=this._tempRebindInfo.selectedValue&&this._tempRebindInfo.selectedValue.length>0&&this.value(this._tempRebindInfo.selectedValue,!1),o.puma(this.container()).find(".vrTreeViewUl").first().scrollTop(this._tempRebindInfo.yPosition)}return this._items}rebind(e,t){return new Promise(i=>{let a=this.getOptions();null!=a.rebind&&(a.rebind.otherParameters=void 0,null!=e&&(a.rebind.otherParameters=e),a.rebind.tempLoadingElement=t,this.doWebApiCall(a.rebind,D.Rebind,i))})}update(){this.datasource(this.datasource())}drawDataSource(){let e=this.getOptions();o.puma(this._divContent).empty();let t=this.datasource();if(1==t.length&&null==t[0])return;let i=o.div(this._divContent,{css:"width: 100%;"});this._dictionaryValueLi=new Map,this._dictionaryLiValue=new Map,t=t.filter(e=>null==e.parentValue||"0"==e.parentValue||""==e.parentValue),this.drawItems(t,i),e.alternateColor&&window.setTimeout(()=>{let e=!0;for(let t of Array.from(o.puma(this.container()).find(".vrTreeViewDivItemContainer")))e=!e,e?$(t).css("background-color","#fff"):$(t).css("background-color","#f3f3f3")}),null!=this._lblTitle&&(this._lblTitle.width("Calc(100% - "+this.widthColumns()+"px)"),this._lblTitle.element().style.cssText+="width: Calc(100% - 10px) !important;"),this.manageScrollbar(),null!=this._txtSearchFilter.value()&&""!=this._txtSearchFilter.value()&&this.filter(this._txtSearchFilter.value())}manageScrollbar(){let e=this.getOptions();o.puma(this.container()).find(".vrTreeViewUl").first().vrHasScrollBar()?null!=e.columns&&(o.puma(this._divHeaderSpace).show(),null!=this._lblTitle&&this._lblTitle.width("Calc(100% - "+(this.widthColumns()+17)+"px)")):o.puma(this._divHeaderSpace).hide()}drawItems(e,t){let i=this.getOptions();if(0==e.length)return;let a=o.puma("<ul class='vrTreeViewUl' style='height: 100%; overflow-y: auto;'></ul>").vrAppendToPuma(t),n=0;for(let t of e){null==t.value&&(t.value=t.text);let e=i.showLink?"vrTreeViewLiLink":"",l=o.puma("<li class='vrTreeViewLi "+e+"' tabindex='-1' parentValue='"+t.parentValue+"' value='"+t.value+"'></li>").vrAppendToPuma(a);if(this._dictionaryLiValue.set(l[0],t.value),this._dictionaryValueLi.has(t.value)){let e=this._dictionaryValueLi.get(t.value);e.push(l[0]),this._dictionaryValueLi.set(t.value,e)}else this._dictionaryValueLi.set(t.value,[l[0]]);i.treeMode==o.TreeModeEnum.AllCollapsed?null!=t.parentValue&&"0"!=t.parentValue&&o.puma(l).closest(".vrTreeViewUl").hide():i.treeMode==o.TreeModeEnum.OnlyFirstLevelExpanded&&o.puma(l).parents(".vrTreeViewUl").length>2&&o.puma(l).closest(".vrTreeViewUl").hide();let s=this.getOnlyChildrenItems(t);if(s.length>0){i.spaceBetweenGroups&&n>0&&(l[0].style.cssText+="margin-top: 20px;");let e="",a=o.IconClassLight.CaretRight;i.treeMode==o.TreeModeEnum.AllCollapsed?null!=t.parentValue&&(a=o.IconClassLight.CaretRight,e="caret-right"):i.treeMode==o.TreeModeEnum.OnlyFirstLevelExpanded?1==o.puma(l).parents(".vrTreeViewUl").length?(a=o.IconClassLight.CaretDown,e="caret-down"):(a=o.IconClassLight.CaretRight,e="caret-right"):(a=o.IconClassLight.CaretDown,e="caret-down");let s=o.puma("<div class='vrTreeViewDivIconExpand "+e+"' style='height: "+i.rowHeight+"px;'></div>").vrAppendToPuma(l);o.puma(r.UtilityManager.createIcon(a)).vrAppendToPuma(s),o.puma(s).click(e=>{o.puma(e.currentTarget).children("i").removeClass(o.IconClassLight.CaretRight+" "+o.IconClassLight.CaretDown),o.puma(e.currentTarget).removeClass("caret-right caret-down");let t=o.puma(e.currentTarget).siblings(".vrTreeViewUl");t.first().is(":visible")?(t.hide(),o.puma(e.currentTarget).children("i").addClass(o.IconClassLight.CaretRight),o.puma(e.currentTarget).addClass("caret-right")):(t.show(),o.puma(e.currentTarget).children("i").addClass(o.IconClassLight.CaretDown),o.puma(e.currentTarget).addClass("caret-down")),this.manageScrollbar()})}let u=o.puma("<div class='vrTreeViewDivItemContainer' style='height: "+i.rowHeight+"px;'></div>").vrAppendToPuma(l);if(i.checkboxes){let e=o.puma("<input type='checkbox' class='vrCheckBox'></input>").vrAppendToPuma(u);o.puma(e).click(e=>{let i=e.currentTarget.checked,a=this._dictionaryLiValue.get(o.puma(e.currentTarget).closest("li")[0]);i?this._checkedValues.push(a):this._checkedValues.vrDelete(a);let r=this.datasource().filter(e=>e.value==a)[0];if(null!=r&&this.getOnlyChildrenItems(r).length>0){let t=this.getAllChildrenItems(r);e.currentTarget.checked&&this._checkedValues.vrPushRange(t.map(e=>e.value));let i=this.getChildrenCheckboxElements(r,!1);o.puma(i).prop("checked",e.currentTarget.checked);for(let i of t)e.currentTarget.checked||this._checkedValues.vrDelete(i.value)}this._isChecked=e.currentTarget.checked,this._isChecked||this._checkedValues.vrDelete(t.value);let n=[],l=this._dictionaryValueLi.get(t.value);for(let e of l){let t=o.puma(e).find(".vrTreeViewItemText")[0];n.push(t)}for(let e of n){let t=o.puma(e).siblings("input");o.puma(t).prop("checked",this._isChecked),t[0].checked=this._isChecked,o.puma(t).removeClass("indeterminateVrCheckbox")}for(let e of this.datasource().filter(e=>e.value==t.value)){let t=this.manageCheckParent(e);t||null==e.parentValue?t&&null!=e.parentValue&&!this._checkedValues.includes(e.parentValue)&&this._checkedValues.push(e.parentValue):this._checkedValues.vrDelete(e.parentValue)}let s=this.manageCheckParent(t);s||null==t.parentValue?s&&null!=t.parentValue&&!this._checkedValues.includes(t.parentValue)&&this._checkedValues.push(t.parentValue):this._checkedValues.vrDelete(t.parentValue),this._tempCheckedValue=t.value,this._checkedValues=this._checkedValues.vrDistinct(),this.value(this._checkedValues),this._tempCheckedValue=null})}let d=i.checkboxes?"vrTreeViewItemTextCheckbox":"",c=o.puma("<span class='vrTreeViewItemTextContainer'></span>").vrAppendToPuma(u);c[0].style.cssText+="width: Calc(100% - "+(this.widthColumns()+1)+"px);";let h=o.puma("<span title='"+t.text+"' text='"+t.text.replace(/'/g,"&#39;")+"' class='vrTreeViewItemText "+d+"'></span>").vrAppendToPuma(c);if(null==i.template){let e=t.text.replace(/'/g,"&#39;");null!=t.icon&&(e="<i class='"+t.icon+"' style='margin-right: 5px;'></i>"+e);let a="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;";null!=i.rowLine&&i.rowLine>1&&(a="display: -webkit-inline-box; overflow: hidden; -webkit-line-clamp: "+i.rowLine+"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;"),e="<span style='"+a+"'>"+e+"</span>",o.puma(e).vrAppendToPuma(h)}else{let e=new p;e.sender=this,e.dataItem=t,e.container=h[0];let a=i.template(e);if("string"==typeof a){let e=a;null!=t.icon&&(e="<i class='"+t.icon+"' style='margin-right: 5px;'></i>"+e);let r="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;";null!=i.rowLine&&i.rowLine>1&&(r="display: -webkit-inline-box; overflow: hidden; -webkit-line-clamp: "+i.rowLine+"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;"),e="<span style='"+r+"'>"+e+"</span>",o.puma(e).vrAppendToPuma(h)}}if(!0===t.bold&&(h[0].style.cssText+="font-weight: 600;"),i.showEditButton&&o.createButton({icon:o.IconClassLight.Edit,cssContainer:"margin-right: 5px;",css:"background: none; border: none;",onClick:e=>{if(null!=i.onEdit){let e=new b;e.sender=this,e.text=t.text,e.value=t.value,e.dataItem=t,i.onEdit(e)}}},h,o.ControlPositionEnum.Before),i.selectable&&o.puma(h).on("mousedown",e=>{switch(e.button){case 0:case 1:{let t=this._dictionaryLiValue.get(o.puma(e.currentTarget).closest("li")[0]),a=this.datasource().filter(e=>e.value==t)[0];if(null==a||!i.parentClickable&&this.getRootValues().includes(a.value)||(i.checkboxes?o.puma(e.currentTarget).siblings(".vrCheckBox").click():this.value(a.value)),i.leftClickForContextMenu)return this.showContextMenu(a,e.clientX,o.puma(e.currentTarget).parent().offset().top+o.puma(e.currentTarget).parent().height()),void e.preventDefault()}break;case 2:if(i.rightClickForContextMenu)return this.showContextMenu(t,e.clientX,o.puma(e.currentTarget).parent().offset().top+o.puma(e.currentTarget).parent().height()),void e.preventDefault()}}),null!=i.onDoubleClick&&o.puma(h).on("dblclick",e=>{let a=new v;a.sender=this,a.text=t.text,a.value=t.value,a.dataItem=t,i.onDoubleClick(a)}),i.contextMenuItems.length>0&&!i.rightClickForContextMenu&&!i.leftClickForContextMenu){let e=null;o.puma(u).on("mouseenter",i=>{e=o.createButton({icon:o.IconClassSolid.EllipsisVertical,css:"background: none; border: none;",cssContainer:"margin-left: 10px; margin-top: 2px; height: 17px;",width:25,class:"vrTreeViewBtnContextMenu",onClick:e=>{o.puma(u).addClass("hover"),this.showContextMenu(t,o.puma(e.sender.container()).offset().left,o.puma(e.sender.container()).offset().top+o.puma(e.sender.container()).height())}},h)}),o.puma(u).on("mouseleave",t=>{o.puma(u).hasClass("hover")||null==e||$(e.container()).remove()})}if(null!=i.columns){let e=t[i.dataSourceFieldId],a="row"+n+"_"+e;for(let r of i.columns){if(r.hidden)continue;let n=null!=r.width?r.width:100;n-=10;let l=o.div(u,{class:"vrTreeViewColumnItem",css:"height: "+i.rowHeight+"px; width: "+n+"px;"}),d=r.field;o.puma(l).attr("field",d);let c=t[d];null==c&&(c=""),null==r.type&&(r.type=o.TreeViewColumnTypeEnum.String);let p=o.TreeViewAlignEnum.Left;switch(r.type){case o.TreeViewColumnTypeEnum.Number:{let e=null!=r.decimalDigits?r.decimalDigits:0;if(p=o.TreeViewAlignEnum.Right,null==r.cellSettings&&(r.cellSettings=new E),null==r.cellSettings.zeroIfNull&&(r.cellSettings.zeroIfNull=!1),""===c&&!1===r.cellSettings.zeroIfNull)c="";else{let t=new o.NumberFormatSettings;t.useGrouping=r.milesSeparator,t.minimumFractionDigits=e,t.maximumFractionDigits=e,c=Number(c).vrToNumberString(t)}}break;case o.TreeViewColumnTypeEnum.Currency:{let e=null!=r.decimalDigits?r.decimalDigits:2;if(p=o.TreeViewAlignEnum.Right,null==r.cellSettings&&(r.cellSettings=new E),null==r.cellSettings.zeroIfNull&&(r.cellSettings.zeroIfNull=!1),""===c&&!1===r.cellSettings.zeroIfNull)c="";else{let t=new o.NumberFormatSettings;t.minimumFractionDigits=e,t.maximumFractionDigits=e,c=Number(c).vrToCurrencyString(t)}}break;case o.TreeViewColumnTypeEnum.Percentage:{let e=null!=r.decimalDigits?r.decimalDigits:2;if(p=o.TreeViewAlignEnum.Right,null==r.cellSettings&&(r.cellSettings=new E),null==r.cellSettings.zeroIfNull&&(r.cellSettings.zeroIfNull=!1),""===c&&!1===r.cellSettings.zeroIfNull)c="";else{let t=new o.NumberFormatSettings;t.minimumFractionDigits=e,t.maximumFractionDigits=e,c=(Number(c)/100).vrToPercentageString(t)}}break;case o.TreeViewColumnTypeEnum.Duration:if(null==r.cellSettings&&(r.cellSettings=new E),null==r.cellSettings.zeroIfNull&&(r.cellSettings.zeroIfNull=!1),""===c&&!1===r.cellSettings.zeroIfNull)c="";else{let e=Math.trunc(Number(c)/60),t=String(e);e<10&&(t="0"+t);let i=Math.trunc(Number(c)%60),a=String(i);i<10&&(a="0"+a),p=o.TreeViewAlignEnum.Center,c=t+":"+a}break;case o.TreeViewColumnTypeEnum.Date:case o.TreeViewColumnTypeEnum.DateTime:case o.TreeViewColumnTypeEnum.Time:p=o.TreeViewAlignEnum.Center,r.type==o.TreeViewColumnTypeEnum.Date?c=""==c?"":new Date(c).vrToItalyString(o.DateModeEnum.Date):r.type==o.TreeViewColumnTypeEnum.DateTime?c=""==c?"":new Date(c).vrToItalyString(o.DateModeEnum.DateTime,r.showSeconds):r.type==o.TreeViewColumnTypeEnum.Time&&(c=""==c?"":new Date(c).vrToItalyString(o.DateModeEnum.Time,r.showSeconds));break;case o.TreeViewColumnTypeEnum.Checkbox:case o.TreeViewColumnTypeEnum.Boolean:{let i=null!=t[d]&&1==Boolean(t[d])?"checked='checked'":"";p=o.TreeViewAlignEnum.Center,c="<input "+i+" disabled='disabled' dataItemId='"+e+"' id='"+a+"_"+r.field+"' class='vrCheckBox' type='checkbox'></input><label class='vrLabel vrCheckBoxLabel' for='"+a+"_"+r.field+"'></label>"}break;case o.TreeViewColumnTypeEnum.Color:p=o.TreeViewAlignEnum.Center,c.isNotNullOrEmpty()&&(c="<i class='"+o.IconClassLight.Circle+"' style='width: 20px; height: 20px; color: "+c+"; display: inline-flex; align-items: center;'></i>")}l.innerHTML=c,null!=r.cellSettings&&(null!=r.cellSettings.backgroundColor&&o.puma(l).css("background-color",r.cellSettings.backgroundColor),null!=r.cellSettings.color&&o.puma(l).css("color",r.cellSettings.color),null!=r.cellSettings.css&&(l.style.cssText+=r.cellSettings.css)),null!=r.cellSettings&&(p=null!=r.cellSettings.textAlign?r.cellSettings.textAlign:p),o.puma(l).css("text-align",p),(s.length>0&&!0===r.boldRoot||!0===r.bold)&&o.puma(l).css("font-weight","500")}}(i.rightClickForContextMenu||i.leftClickForContextMenu)&&o.puma(u).on("contextmenu",e=>(e.preventDefault(),!1)),i.draggable&&(o.puma(u).attr("draggable","true"),o.puma(u).on("dragstart",e=>{if(window.clearTimeout(this._timeoutClick),this._actualDraggedItem=t,null!=i.onDragStart){let a=new x;if(a.sender=this,a.target=o.puma(e.target).closest("li")[0],a.source=t,i.onDragStart(a),a.isDefaultPrevented())return void e.preventDefault()}o.puma(e.target).closest("li").addClass("vrTreeViewDragStart")}),o.puma(u).on("dragover",e=>{if(null!=i.onDragMove){let a=this.datasource().filter(t=>t.value==o.puma(e.target).closest("li").attr("value"))[0],r=o.puma(e.target).closest("li")[0],n=new w;if(n.sender=this,n.target=r,n.source=t,n.destination=a,i.onDragMove(n),n.isDefaultPrevented())return void e.preventDefault()}o.puma(e.target).closest(".vrTreeViewDivItemContainer").addClass("vrTreeViewDragOver"),e.preventDefault()}),o.puma(u).on("dragleave",e=>{o.puma(e.target).closest(".vrTreeViewDivItemContainer").removeClass("vrTreeViewDragOver"),e.preventDefault()}),o.puma(u).on("drop",e=>{if(null!=i.onDragEnd){let t=this.datasource().filter(t=>t.value==o.puma(e.target).closest("li").attr("value"))[0],a=o.puma(e.target).closest("li")[0];o.puma(a).find("ul").remove();let r=new y;if(r.sender=this,r.target=l,r.source=this._actualDraggedItem,r.destination=t,i.onDragEnd(r),r.isDefaultPrevented())return void e.preventDefault();let n=this._dictionaryValueLi.get(this._actualDraggedItem.value);o.puma(n).remove();let s=this.getOnlyChildrenItems(t);this._actualDraggedItem.parentValue=t.value,s.push(this._actualDraggedItem),this.drawItems(s,a),o.puma(a).find("ul").show()}return this._actualDraggedItem=null,o.puma(this.container()).find(".vrTreeViewDragOver").removeClass("vrTreeViewDragOver"),o.puma(this.container()).find(".vrTreeViewDragStart").removeClass("vrTreeViewDragStart"),e.stopPropagation(),e.preventDefault(),!1})),s.length>0&&this.drawItems(this.getOnlyChildrenItems(t),l),n++}o.puma(this.container()).find(".vrTreeViewUl").first().find(".vrTreeViewLiLink").first().addClass("vrTreeViewLiFirstChild")}getOnlyChildrenItems(e){return this.datasource().filter(t=>null!=t.parentValue&&t.parentValue==e.value)}getRootItems(){let e=[];for(let t of this.datasource()){if(null==t)continue;let i=t.parentValue;for(;null!=i;){let t=this.datasource().filter(e=>e.value==i)[0];e.includes(t)||e.push(t),i=null!=t?t.parentValue:void 0,null!=t&&i==t.value&&(i=void 0)}}return e}getRootValues(){return this.getRootItems().filter(e=>null!=e).map(e=>e.value)}getAllChildrenItems(e){return this.getDataChildrenItems(e)}getAllChildrenValues(e){return this.getAllChildrenItems(e).map(e=>e.value)}getDataChildrenItems(e){let t=null==e?this.datasource():this.getOnlyChildrenItems(e),i=[];for(let e of t)i.push(e),this.getOnlyChildrenItems(e).length>0&&i.vrPushRange(this.getDataChildrenItems(e));return i}getChildrenCheckboxElements(e,t=!1,i=!1){let a=this._dictionaryValueLi.get(e.value),r=o.puma(a).find(".vrTreeViewItemText")[0],n=o.puma(r).siblings("input"),l=o.puma(n).parent().parent().find("input"+(t?":checked":""));return o.puma(l[0]).siblings(".vrTreeViewItemText").html()==e.text&&l.splice(0,1),i&&(l=Array.from(l)),l}getCheckedItems(){return this.datasource().filter(e=>this._checkedValues.includes(e.value)).vrDistinctBy(e=>e.value)}getCheckedValues(){return this._checkedValues.vrDistinct()}getSelectedItem(){return this.datasource().filter(e=>e.value==this.value())[0]}getParentItem(e){return null!=e.parentValue?this.datasource().filter(t=>t.value==e.parentValue)[0]:null}manageCheckParent(e){let t=this.getParentItem(e);if(null!=t){let e=this.getChildrenCheckboxElements(t,!0,!0).filter(e=>null!=e&&e.checked),i=this._dictionaryValueLi.get(t.value),a=o.puma(i).find("input")[0];if(null!=a)return o.puma(a).removeClass("indeterminateVrCheckbox"),a.checked=!1,this.getAllChildrenItems(t).length==e.length?(a.checked=!0,!0):0==e.length?(a.checked=!1,!1):(o.puma(a).addClass("indeterminateVrCheckbox"),!1)}}limitInputByDataSource(e,t){if(0==this.getFilteredArrayByInputText(e.value).length){let i=e.value;return e.value=i.substring(0,i.length-1),void t.preventDefault()}}getFilteredArrayByInputText(e){e=e.toLowerCase();let t=[];return this.datasource().map(e=>String(e.text).toLowerCase()).forEach((i,a)=>{-1!=i.indexOf(e)&&t.push(this.datasource()[a])}),t}filter(e){let t=this.getOptions(),i=this._txtSearchFilter.element(),a=i.selectionStart,r=i.selectionEnd;if(""==e)o.puma(this.element()).find("li").show();else if(0!=a||r!=i.value.length){o.puma(this.element()).find("li").hide();let i=this.getFilteredArrayByInputText(e),a=i.map(e=>e.value),r=i.map(e=>e.text);for(let e of i){let t=e.parentValue;for(;null!=t;){let e=this.datasource().filter(e=>e.value==t)[0];a.includes(t)||(a.push(t),r.push(null!=e?e.text:"")),t=null!=e?e.parentValue:void 0}}if(t.filter.onlyParents)for(let e of Array.from(o.puma(this.element()).find(".vrTreeViewLi"))){let t=o.puma(e).attr("value");if(this.isParent(t)){let t=o.puma(e).find(".vrTreeViewItemText").attr("text");r.includes(t)&&(o.puma(e).show(),o.puma(e).find("ul").show(),o.puma(e).find("li").show())}}else for(let e of Array.from(o.puma(this.element()).find(".vrTreeViewItemText")))r.includes(o.puma(e).attr("text"))&&(o.puma(e).closest(".vrTreeViewLi").show(),o.puma(e).closest(".vrTreeViewLi").closest(".vrTreeViewUl").show(),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").removeClass("caret-right caret-down"),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").children("i").removeClass(o.IconClassLight.CaretRight+" "+o.IconClassLight.CaretDown),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").addClass("caret-down"),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").children("i").addClass(o.IconClassLight.CaretDown))}}isParent(e){return this.getRootValues().includes(e)}focus(){!1!==this.getOptions().filter&&null!=o.puma(this.element()).find(".vrTreeViewFilter")[0]&&o.puma(this.element()).find(".vrTreeViewFilter").focus()}value(e,t=!0){if(null===e)return this.clear(),null;let i=this.getOptions();if(null!=e){i.checkboxes||o.puma(this.element()).find(".vrTreeViewSelectedComboValue").removeClass("vrTreeViewSelectedComboValue"),"string"!=typeof e&&"number"!=typeof e||(e=[String(e)]);let a=null;Array.isArray(e)?e=(e=e.vrDistinct()).vrToStringArrayList():(a=new o.TreeViewItem,a.text=e.text,a.value=e.value,e=[a.value]);let n=r.UtilityManager.duplicate(this._value);this._value=[];for(let t of e){let e=this.datasource().filter(e=>e.value==t)[0];null!=e&&this._value.push(e.value)}if(this._checkedValues=e,o.puma(o.puma(this.container()).find(".vrTreeViewLi[value='"+e+"'] .vrTreeViewDivItemContainer")[0]).addClass("vrTreeViewSelectedComboValue"),t){let t=new f;if(null!=i.onBeforeSelect){let a=this.isParent(this._value[0]),r=null;a&&(r=this.datasource().filter(t=>t.value==e)[0]),t.sender=this,t.previousValue=n,t.previousCheckedValues=n,t.value=this._value[0],t.childrenValues=a?this.getAllChildrenValues(r):[],t.checked=this._isChecked,t.isParent=a,i.onBeforeSelect(t)}t.isDefaultPrevented()?this._value=n:this.change()}}return null==this._value?null:!0===i.checkboxes?this._value:this._value[0]}title(e){return null!=e&&null!=this._lblTitle&&this._lblTitle.value(e),null!=this._lblTitle?this._lblTitle.value():""}clear(e=!1){let t=this.getOptions();o.puma(this.element()).find(".vrTreeViewSelectedComboValue").removeClass("vrTreeViewSelectedComboValue"),this.unCheckAll(!1),o.puma(this.element()).find("li").show(),this._value=null,!1!==t.filter&&null!=o.puma(this.element()).find(".vrTreeViewFilter")[0]&&(o.puma(this.element()).find(".vrTreeViewFilter")[0].value=""),e&&this.change()}clearItems(){this._items=[],this.clear(),o.puma(this.element()).find(".vrTreeViewUl").remove()}excelExport(){let e=this.getOptions();"boolean"==typeof e.export&&(e.export=new _);let t=e.export;null==t.numericValueTypeEnum&&(t.numericValueTypeEnum=o.TreeViewNumericTypeEnum.Default),null==t.decimalDigits&&(t.numericValueTypeEnum==o.TreeViewNumericTypeEnum.Currency||t.numericValueTypeEnum==o.TreeViewNumericTypeEnum.Percentage?t.decimalDigits=2:t.decimalDigits=0);let i=new S,a=[];if(null!=e.columns)for(let t of this.datasource()){let i=[];for(let a of e.columns){let e=r.UtilityManager.duplicate(a),n=t[a.field];switch(a.type){case o.TreeViewColumnTypeEnum.Date:case o.TreeViewColumnTypeEnum.DateTime:case o.TreeViewColumnTypeEnum.Time:a.type!=o.TreeViewColumnTypeEnum.Date&&a.type!=o.TreeViewColumnTypeEnum.DateTime&&a.type!=o.TreeViewColumnTypeEnum.Time||(a.type==o.TreeViewColumnTypeEnum.Date?n=""==n?"":new Date(new Date(n)).vrToItalyString(o.DateModeEnum.Date):a.type==o.TreeViewColumnTypeEnum.DateTime?n=""==n?"":new Date(new Date(n)).vrToItalyString(o.DateModeEnum.DateTime,a.showSeconds):a.type==o.TreeViewColumnTypeEnum.Time&&(n=""==n?"":new Date(new Date(n)).vrToItalyString(o.DateModeEnum.Time,a.showSeconds)));break;case o.TreeViewColumnTypeEnum.Checkbox:case o.TreeViewColumnTypeEnum.Boolean:n=1==t[a.field]?"true":"false"}e.value=n,i.push(e)}t.extraCells=i,a.push(t)}else a=this.datasource();i.datasource=a,i.title=e.title,i.sheetName=t.sheetName,i.fileName=null!=t.fileName?t.fileName:"excel_"+(new Date).vrToItalyString().replace(/\//g,""),i.AuthKey="10(P9m+U3a@Mtt-Oeo",i.numericValueTypeEnum=t.numericValueTypeEnum,i.decimalDigits=t.decimalDigits;let n=JSON.stringify(i),l=null;l=new FormData,l.append("file",new Blob([n],{type:"application/json"})),o.showLoader(),$.ajax({type:"POST",beforeSend:e=>{e.setRequestHeader("Accept-Language","it"),e.setRequestHeader("AuthKey","10(P9m+U3a@Mtt-Oeo")},contentType:!1,data:l,method:"POST",processData:!1,dataType:"JSON",url:"/api/UtilityWebApi/GenerateExcelTreeView",success:(e,t,i)=>{o.hideLoader(),null!=e.downloadUrl&&e.downloadUrl.length>0&&location.replace(e.downloadUrl),e.Success||o.alert(e.ErrorMessage+"<br />"+e.StackTrace,{width:600,css:"overflow: auto;"})},error:(e,t,i)=>{o.hideLoader(),o.alert("Errore nell'esportazione Excel. Contattare l'assistenza.")}})}column(e){let t=this.getOptions(),i=t.columns.filter(t=>t.field==e)[0],a=t.columns.indexOf(i);return t.columns[a]}columnTitle(e,t){let i=this.column(e);return null!=i?(null!=t&&(i.title=t,o.puma(this._divTitle).find("div.vrTreeViewColumn[field='"+e+"']").find("label").html(t)),i.title):""}showColumns(e,t=!0){for(let t of e)this.showColumn(t,!1);t&&this.update()}showColumn(e,t=!0){o.puma(this._divTitle).find("div.vrTreeViewColumn[field='"+e+"']").show(),o.puma(this._divContent).find("div.vrTreeViewDivItemContainer .vrTreeViewColumnItem[field='"+e+"']").show(),this.column(e).hidden=!1,t&&this.update()}hideColumns(e,t=!0){for(let t of e)this.hideColumn(t,!1);t&&this.update()}hideColumn(e,t=!0){o.puma(this._divTitle).find("div.vrTreeViewColumn[field='"+e+"']").hide(),o.puma(this._divContent).find("div.vrTreeViewColumnItem[field='"+e+"']").hide(),this.column(e).hidden=!0,t&&this.update()}showOnlyThisColumns(e,t=!0){let i=this.getOptions();for(let e of i.columns)this.hideColumn(e.field,!1);for(let t of e)this.showColumn(t,!1);t&&this.update()}widthColumns(){let e=0,t=this.getOptions();if(null!=t.columns)for(let i of t.columns)!0!==i.hidden&&(e+=null!=i.width?i.width:100);return e}checkAll(e=!0){this._checkedValues=this.datasource().map(e=>e.value),this._checkedValues=this._checkedValues.vrDistinct(),this.value(this.datasource().map(e=>e.value),e)}unCheckAll(e=!0){this._checkedValues=[],o.puma(this.element()).find(".vrTreeViewSelectedComboValue").removeClass("vrTreeViewSelectedComboValue"),o.puma(this.element()).find("input").removeClass("indeterminateVrCheckbox");for(let e of Array.from(o.puma(this.element()).find("input")))o.puma(e).prop("checked",!1),e.checked=!1;this.value([],e)}createContextMenu(){let e=this.getOptions();if(0!=e.contextMenuItems.length){null==this._divContextMenu&&(this._divContextMenu=o.div(document.body,{class:"vrTreeViewContextMenu",id:this.element().id+"_divPopup"}));for(let t of e.contextMenuItems){let e=o.div(this._divContextMenu,{class:"vrTreeViewContextMenuItem"});!0!==t.separator?(null!=t.icon&&o.icon(t.icon,e,{css:"margin-right: 5px;"}),o.createLabel({text:t.text,cssContainer:"cursor: pointer;",css:"cursor: pointer;"},e),null!=t.onClick&&o.puma(e).on("click",e=>{null!=t.confirmationMessage?o.confirm(t.confirmationMessage).then(()=>{this.clickOnContextMenuItem(t)}):this.clickOnContextMenuItem(t)})):(o.createSeparator({orientation:o.OrientationEnum.Horizontal,cssContainer:"display: flex !important; margin-top: 5px !important; margin-bottom: 5px !important;"},e),e.style.cssText+="padding-bottom: 0px;")}}}clickOnContextMenuItem(e){let t=new g;t.sender=this,t.text=e.text,t.value=e.value,t.dataItem=this._dataItemContextMenu,t.targets=this._dictionaryValueLi.get(this._dataItemContextMenu.value),e.onClick(t),this.closeContextMenu()}showContextMenu(e,t,i){if(this.createContextMenu(),null!=this._divContextMenu){this._dataItemContextMenu=e,o.puma(this._divContextMenu).show(200),o.puma(this._divContextMenu).offset({left:t,top:i});let a=o.puma(this._divContextMenu).css("z-index")-1,r=o.puma("<div class='vrTreeViewBackground' id='vrTreeViewBackground_"+this.element().id+"' style='background-color: transparent; display: block; z-index: "+a+";'></div>").vrAppendToPuma(this.container())[0];o.puma(r).click(e=>this.closeContextMenu()),o.puma(r).on("contextmenu",e=>(e.preventDefault(),!1))}}closeContextMenu(){null!=this._divContextMenu&&(o.puma(this.container()).find(".vrTreeViewDivItemContainer").removeClass("hover"),o.puma(this.container()).find(".vrTreeViewBtnContextMenu").parent().remove(),this._dataItemContextMenu=null,o.puma(this._divContextMenu).remove(),this._divContextMenu=null,o.puma("#vrTreeViewBackground_"+this.element().id).remove())}updateRow(e,t=!0){let i=this.getOptions(),a=e[i.dataSourceFieldId],r=this.datasource().filter(e=>e[i.dataSourceFieldId]==a)[0],n=this.datasource().indexOf(r);null!=r&&(this.datasource()[n]=e,t&&this.update())}updateRows(e,t=!0){for(let t of e)this.updateRow(t,!1);t&&this.update()}addItem(e,t=!0){let i=this.datasource().filter(t=>t.value==e.parentValue)[0];if(null!=i){let a=this.getOnlyChildrenItems(i);a.push(e),this.datasource().push(e);let r=this._dictionaryValueLi.get(i.value)[0];this.manageAddUpdateItem(a,r,t)}}updateItem(e,t=!0){let i=this.datasource().filter(t=>t.value==e.parentValue)[0];if(null!=i){let a=this.getOnlyChildrenItems(i);a.vrDeleteAllBy(t=>t.value==e.value),a.push(e),this.updateRow(e,!1);let r=this._dictionaryValueLi.get(i.value)[0];this.manageAddUpdateItem(a,r,t)}}manageAddUpdateItem(e,t,i=!0){o.puma(t).find("ul").remove(),this.drawItems(e,t),o.puma(t).find("ul").show(),i&&this.rebind()}deleteItem(e){this.datasource().vrDeleteAllBy(t=>t.value==e)}visibleToolbar(e){return null!=e&&(e?o.puma(this._divToolbar).show():o.puma(this._divToolbar).hide()),o.puma(this._divToolbar).is(":visible")}showToolbar(){this.visibleToolbar(!0)}hideToolbar(){this.visibleToolbar(!1)}toolbar(){return this._divToolbar}toolbarItem(e){return a.ControlManager.get("treeView-"+e+"_"+this.element().id)}showToolbarItem(e){this.toolbarItem(e).show()}hideToolbarItem(e){this.toolbarItem(e).hide()}enableToolbarItem(e){this.toolbarItem(e).enable()}disableToolbarItem(e){this.toolbarItem(e).disable()}removeToolbarItem(e){let t=this.toolbarItem(e);o.puma(t.container()).remove()}addToolbarItem(e){null==e.visible&&(e.visible=!0),null==e.type&&(e.type=o.TreeViewToolbarItemType.Custom);let t="",i=void 0,a="",r=!0,n=!1;null==e.css&&(e.css=""),null==e.cssContainer&&(e.cssContainer="");let d=null==e.value?null!=e.text?e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,""):"noValue":e.value;switch(e.type){case o.TreeViewToolbarItemType.Custom:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,a="treeView-"+d,n=!0;break;case o.TreeViewToolbarItemType.SplitButton:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,n=!1;break;case o.TreeViewToolbarItemType.Switch:case o.TreeViewToolbarItemType.ButtonGroup:case o.TreeViewToolbarItemType.CheckBox:case o.TreeViewToolbarItemType.ComboBox:case o.TreeViewToolbarItemType.DatePicker:case o.TreeViewToolbarItemType.Label:case o.TreeViewToolbarItemType.TextBox:n=!1;break;case o.TreeViewToolbarItemType.Excel:t=null!=e.text?e.text:"Excel",i=null!=e.icon?e.icon:o.IconClassLight.FileExcel,a=null!=e.value?"treeView-"+e.value:"treeView-excel",n=!0,e.backgroundColor="#008a00",e.textColor="#FFF";break;case o.TreeViewToolbarItemType.Separator:a=null!=e.value?"treeView-"+e.value:"treeView-separator",r=!1,n=!0;break;case o.TreeViewToolbarItemType.Rebind:t=null!=e.text?e.text:"Aggiorna",i=null!=e.icon?e.icon:o.IconClassLight.Refresh,a=null!=e.value?"treeView-"+e.value:"treeView-rebind",n=!0}if(n)o.createButton({icon:i,imageUrl:e.imageUrl,enable:r,text:t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},visible:e.visible,cssContainer:e.cssContainer,css:e.css,mode:!0===e.primary?o.ButtonModeEnum.Primary:void 0,classContainer:"treeView-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:(e.type==o.TreeViewToolbarItemType.Separator?"treeView-separator":"")+" treeView-toolbarItems "+a,badgeSettings:e.badge,onClick:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,a+"_"+this.element().id);else{if(e.type==o.TreeViewToolbarItemType.SplitButton){let a=null!=e.value?e.value:"splitButton";null==e.value&&null!=e.text&&(a=e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+"splitButton");let r="treeView-"+a;o.createSplitButton({text:t,icon:i,imageUrl:e.imageUrl,items:e.splitButtonItems,visible:e.visible,cssContainer:e.cssContainer+" vertical-align: top;",css:e.css,classContainer:"treeView-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:"treeView-toolbarItems treeView-splitButton "+r,onClick:null==e.onClick?void 0:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,r+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.ButtonGroup){let t="treeView-"+(null!=e.value?e.value:"buttonGroup");o.createButtonGroup({selectionMode:o.SelectionModeEnum.Single,items:e.buttonGroupItems,visible:e.visible,cssContainer:"top: -1px; "+e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,class:"treeView-toolbarItems treeView-buttonGroup "+t,width:"auto",onSelect:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.CheckBox){let t="treeView-"+(null!=e.value?e.value:"checkbox");o.createCheckBox({text:e.text,visible:e.visible,cssContainer:"top: 3px; "+e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,class:"treeView-toolbarItems treeView-checkBox "+t,onCheck:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.Label){let t="treeView-"+(null!=e.value?e.value:"label");o.createLabel({text:e.text,visible:e.visible,cssContainer:e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,class:"treeView-toolbarItems treeView-label "+t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},onClick:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.ComboBox){let t="treeView-"+(null!=e.value?e.value:"comboBox");null==e.comboBoxOptions&&(e.comboBoxOptions=new l.ComboBoxOptions),e.comboBoxOptions.classContainer="treeView-toolbarItemsContainer "+e.comboBoxOptions.classContainer,e.comboBoxOptions.class="treeView-toolbarItems treeView-comboBox "+t+" "+e.comboBoxOptions.class,null==e.comboBoxOptions.visible&&(e.comboBoxOptions.visible=e.visible),null==e.comboBoxOptions.css&&(e.comboBoxOptions.css=e.css),null==e.comboBoxOptions.cssContainer&&(e.comboBoxOptions.cssContainer=e.cssContainer+";"),e.comboBoxOptions.cssContainer+="vertical-align: top;",o.createComboBox(e.comboBoxOptions,this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.DatePicker){let t="treeView-"+(null!=e.value?e.value:"datePicker");null==e.datePickerOptions&&(e.datePickerOptions=new s.DatePickerOptions),e.datePickerOptions.classContainer="treeView-toolbarItemsContainer "+e.datePickerOptions.classContainer,e.datePickerOptions.class="treeView-toolbarItems treeView-datePicker "+t+" "+e.datePickerOptions.class,null==e.datePickerOptions.visible&&(e.datePickerOptions.visible=e.visible),null==e.datePickerOptions.css&&(e.datePickerOptions.css=e.css),null==e.datePickerOptions.cssContainer&&(e.datePickerOptions.cssContainer=e.cssContainer),e.datePickerOptions.cssContainer+="top: -1px; "+e.datePickerOptions.cssContainer,o.createDatePicker(e.datePickerOptions,this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.TextBox){let t="treeView-"+(null!=e.value?e.value:"textBox");null==e.textBoxOptions&&(e.textBoxOptions=new u.TextBoxOptions),e.textBoxOptions.classContainer="treeView-toolbarItemsContainer "+e.textBoxOptions.classContainer,e.textBoxOptions.class="treeView-toolbarItems treeView-textBox "+t+" "+e.textBoxOptions.class,null==e.textBoxOptions.visible&&(e.textBoxOptions.visible=e.visible),null==e.textBoxOptions.css&&(e.textBoxOptions.css=e.css),null==e.textBoxOptions.cssContainer&&(e.textBoxOptions.cssContainer=e.cssContainer),e.textBoxOptions.cssContainer+="top: -1px; "+e.textBoxOptions.cssContainer,o.createTextBox(e.textBoxOptions,this._divToolbar,null,t+"_"+this.element().id)}else if(e.type==o.TreeViewToolbarItemType.Switch){null==e.switchSettings&&(e.switchSettings=new o.TreeViewToolbarSwitchSettings,e.switchSettings.labelOff="",e.switchSettings.labelOn=""),null==e.switchSettings.checked&&(e.switchSettings.checked=!1);let t="treeView-"+(null!=e.value?e.value:"switch");o.puma(this._divToolbar).vrAppendPuma("<div id='"+t+"_"+this.element().id+"' class='treeView-toolbarItems-switch'></div>"),o.createSwitch({labelOff:e.switchSettings.labelOff,labelOn:e.switchSettings.labelOn,checked:e.switchSettings.checked,cssContainer:"top: -2px; "+e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,visible:e.visible,onChange:t=>{if(null!=e.switchSettings.onCheck){let i=new o.TreeViewToolbarSwitchEvent;i.checked=t.checked,e.switchSettings.onCheck(i)}}},null,null,t+"_"+this.element().id)}}}toolbarCustomLogic(e,t){switch(e.type){case o.TreeViewToolbarItemType.Rebind:this.rebind();break;case o.TreeViewToolbarItemType.Excel:this.excelExport()}null!=e.onClick&&e.onClick(t)}doWebApiCall(e,t,i){let a={};if(a.AuthKey=e.authKey,t!=D.Rebind&&t!=D.Excel||t==D.Rebind&&null==e.itemsPropertyName&&(e.itemsPropertyName="items"),e.method.startsWith("/api/")||(e.method.startsWith("/")&&e.method.substring(1),e.method="/api/"+e.method),null!=e.otherParameters){let t=Object.getOwnPropertyNames(e.otherParameters);for(let i of t)a[i]=e.otherParameters[i]}if(null!=e.parameters){let t=e.parameters(),i=Object.getOwnPropertyNames(t);for(let e of i)a[e]=t[e]}let r=JSON.stringify(a);"boolean"==typeof e.loadingElement&&(!1===e.loadingElement?e.loadingElement=void 0:e.loadingElement=document.body),o.showLoader(null!=e.tempLoadingElement?e.tempLoadingElement:e.loadingElement),e.tempLoadingElement=void 0,$.ajax({type:"POST",contentType:"application/json",data:r,method:"POST",processData:!1,dataType:"json",url:e.method,success:(a,r,n)=>{if(o.hideLoader(),null!=a&&(a.Success||a.success)){let r=e.successNotificationMessage;r=null!=r&&r,"string"==typeof r&&(r=r),"string"==typeof r&&o.notify(r);let n=e.rebindGridAfterSave;n=null!=n&&n,n&&this.rebind(),null!=e.callbackBeforeDatasourceChange&&e.callbackBeforeDatasourceChange(a),t==D.Rebind&&null!=a[e.itemsPropertyName]&&this.datasource(a[e.itemsPropertyName]),null!=e.callback&&e.callback(a),null!=i&&i()}else{let t=a.Exception||a.exception,i=t.Code||t.code;if(null!=a&&"403"==i)return void location.replace("/Default.aspx");let r=e.errorNotificationMessage;r=null==r||r,1!=r&&"string"!=typeof r||o.notify("string"==typeof r?r:null!=a?a.ExceptionMessage||a.exceptionMessage:"Errore nel salvataggio");let n=e.rebindGridAfterError;n=null!=n&&n,n&&this.rebind();let l=e.closeWindowAfterError;l=null!=l&&l,null!=e.errorCallback&&e.errorCallback(null!=a?a.ExceptionMessage||a.exceptionMessage:"Errore nel salvataggio")}},error:(t,i,a)=>{o.hideLoader();let r=e.errorNotificationMessage;r=null==r||r;let n="Errore nel salvataggio";if(n=null!=t.responseJSON?null!=t.responseJSON.errorMessage?t.responseJSON.errorMessage:(t.responseJSON.Message||t.responseJSON.message)+"<br />"+(t.responseJSON.ExceptionMessage||t.responseJSON.exceptionMessage):null!=t.responseText&&""!=t.responseText?t.responseText:null!=t.statusText&&""!=t.statusText?t.statusText:"Si è verificato un problema",401==t.status)n="Auth key errata";else if(404==t.status)n="Web Api non trovata";else if(403==t.status)return void location.replace("/Default.aspx");let l="Errore nel salvataggio";1!=r&&"string"!=typeof r||(l=1==r?n:r,o.notify(l));let s=e.rebindGridAfterError;s=null!=s&&s,s&&this.rebind();let u=e.closeWindowAfterError;u=null!=u&&u,null!=e.errorCallback&&e.errorCallback(l)}})}change(e){let t=this.getOptions().onAfterSelect;if(null!=t){let e=this.getOptions().checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value(),i=this.isParent(e),a=null;i&&(a=this.datasource().filter(t=>t.value==e)[0]);let r=new m;r.sender=this,r.value=e,r.childrenValues=i?this.getAllChildrenValues(a):[],r.selectedItem=this.getSelectedItem(),r.checked=this._isChecked,r.isParent=i,t(r)}null!=e&&e()}getOptions(){return this.options()}}t.TreeView=c;class p{}class h extends n.VrControlsEvent{}class m extends h{}class f extends h{}class g extends n.VrControlsEvent{}t.TreeViewContextMenuClickEvent=g;class v extends n.VrControlsEvent{}class b extends n.VrControlsEvent{}class C extends n.VrControlsEvent{}class x extends C{}class w extends C{}class y extends C{}class _{}class S{}class k{}class T{}t.TreeViewHeaderAndCellSettings=T;t.TreeViewHeaderSettings=class extends T{};class E extends T{}t.TreeViewCellSettings=E;var D;!function(e){e[e.Rebind=1]="Rebind",e[e.Excel=3]="Excel"}(D||(D={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SchedulerAvailabilityClickEvent=t.SchedulerAppointmentClickEvent=t.SchedulerTimeslotClickEvent=t.Scheduler=t.SchedulerOptions=void 0;const a=i(2),r=i(1),n=i(0);class o extends r.VrControlOptions{}t.SchedulerOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.startTime&&(t.startTime=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),8,0)),null==t.endTime&&(t.endTime=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),19,0)),null==t.maxResourcesNumber&&(t.maxResourcesNumber=new k),null==t.views&&(t.views=[{type:n.SchedulerViewEnum.Day,selected:!0}]),null==t.timeslotIntervalDuration&&(t.timeslotIntervalDuration=30),null==t.firstDayOfWeek&&(t.firstDayOfWeek=n.DayOfWeekEnum.Monday),null==t.daysOfWeekNames&&(t.daysOfWeekNames=["DOM","LUN","MAR","MER","GIO","VEN","SAB"]),null==t.numberOfWorkDays&&(t.numberOfWorkDays=6),null==t.exportPdf&&(t.exportPdf=!0),null==t.date&&(t.date=new Date),null==t.timeColumn&&(t.timeColumn=!0),null==t.showHeader&&(t.showHeader=!0),null==t.showToolbar&&(t.showToolbar=!0),null==t.editable&&(t.editable=new B),null==t.editable.move&&(t.editable.move=!0),null==t.editable.resize&&(t.editable.resize=!0),t.width="100%",super(e,t,n.ControlTypeEnum.Scheduler),n.puma(this.container()).css({"flex-direction":"column"}),this._timeColumnWidth=t.timeColumn?63:0,this._saturationData=void 0,null==t.resources&&(t.resources=[{value:"",text:""}]);let i=t.views.filter(e=>!0===e.selected)[0];null==i&&(i={type:n.SchedulerViewEnum.Day,selected:!0}),this._actualView=i.type,this.drawToolbar(),this.drawScheduler(),this.manageSchedulerClick(),null!=t.datasource&&this.datasource(t.datasource),null!=t.availabilities&&this.availabilities(t.availabilities),null!=t.saturation&&this.saturation(t.saturation),n.puma(window).resize(()=>{this.drawScheduler(),this.rebind(),null!=this._saturationData&&this.saturation(this._saturationData)})}drawToolbar(){let e=this.getOptions(),t=n.div(this.container(),{class:"vrSchedulerDivToolbar"},!0);e.showToolbar||(t.style.cssText+="display: none;");let i=0;n.createButton({icon:n.IconClassLight.CaretLeft,width:30,onClick:e=>{let t=this.date().vrAddDays(this.view()==n.SchedulerViewEnum.Day?-1:-7);this._dtpSchedulerDate.value(t,!1),clearTimeout(i),i=window.setTimeout(()=>{this._actualNavigateAction=n.SchedulerNavigateActionEnum.PrevDate,this.date(t)})}},t),n.createButton({icon:n.IconClassLight.CaretRight,width:30,cssContainer:"margin-left: 5px;",onClick:e=>{let t=this.date().vrAddDays(this.view()==n.SchedulerViewEnum.Day?1:7);this._dtpSchedulerDate.value(t,!1),clearTimeout(i),i=window.setTimeout(()=>{this._actualNavigateAction=n.SchedulerNavigateActionEnum.NextDate,this.date(t)})}},t),n.createButton({text:"Oggi",cssContainer:"margin-left: 5px;",onClick:e=>{this._actualNavigateAction=n.SchedulerNavigateActionEnum.Today;let t=new Date;t.setHours(0,0,0),this.date(t)}},t),this._dtpSchedulerDate=n.createDatePicker({format:n.DateFormatEnum.LongDate,value:e.date,width:250,cssContainer:"margin-left: 5px;",onBeforeChange:e=>{null==e.value&&e.preventDefault()},onAfterChange:e=>{this._actualNavigateAction=n.SchedulerNavigateActionEnum.ChangeDate,this.date(this._dtpSchedulerDate.value())}},t),this._swtGroupByDateResource=n.createSwitch({labelSettings:{colorSettings:{textColor:"#000"}},labelOff:"Risorsa",labelOn:"Data",cssContainer:"border-left: solid 1px #000; margin-left: 10px; padding-left: 10px; flex-direction: row; height: 24px;",classContainer:"vrSchedulerSwitchGroupByDateResource",visible:this.view()==n.SchedulerViewEnum.Week,onChange:e=>window.setTimeout(()=>this.groupWeekByDate(e.checked),50)},t),this._btnExpand=n.createButton({icon:n.IconClassLight.Expand,cssContainer:"float: right; margin-left: 5px;",onClick:t=>{if(null!=e.onExpand){let t=new E;if(t.sender=this,t.buttonExpand=this._btnExpand,t.buttonCollpase=this._btnCollapse,e.onExpand(t),t.isDefaultPrevented())return}a.UtilityManager.enterFullScreen(this.container(),()=>n.notify("Modalità fullScreen non supportata",{type:n.NotifierTypeEnum.Error})),this._btnCollapse.show(),this._btnExpand.hide(),window.setTimeout(()=>this.adaptHeight(),100)}},t),this._btnCollapse=n.createButton({icon:n.IconClassLight.Collapse,cssContainer:"float: right; margin-left: 5px;",visible:!1,onClick:t=>{if(null!=e.onCollapse){let t=new D;if(t.sender=this,t.buttonExpand=this._btnExpand,t.buttonCollpase=this._btnCollapse,e.onCollapse(t),t.isDefaultPrevented())return}a.UtilityManager.exitFullScreen(),this._btnCollapse.hide(),this._btnExpand.show(),window.setTimeout(()=>this.adaptHeight(),100)}},t);let r=[],o=e.views.map(e=>e.type);o.includes(n.SchedulerViewEnum.Day)&&r.push({text:"Giorno",value:n.SchedulerViewEnum.Day,selected:this.view()==n.SchedulerViewEnum.Day}),o.includes(n.SchedulerViewEnum.Week)&&r.push({text:"Settimana",value:n.SchedulerViewEnum.Week,selected:this.view()==n.SchedulerViewEnum.Week}),o.includes(n.SchedulerViewEnum.FourWeeks)&&r.push({text:"Mese",value:n.SchedulerViewEnum.FourWeeks,selected:this.view()==n.SchedulerViewEnum.FourWeeks}),this._btgMenuView=n.createButtonGroup({items:r,cssContainer:"float: right;",width:"auto",onSelect:t=>{let i=null;switch(Number(t.value)){case n.SchedulerViewEnum.Day:i=e.maxResourcesNumber.dayView;break;case n.SchedulerViewEnum.Week:i=e.maxResourcesNumber.weekView;break;case n.SchedulerViewEnum.FourWeeks:i=e.maxResourcesNumber.fourWeeksView}null!=i&&this.resources().length>i?n.confirm("Verranno visualizzate un numero di risorse maggiore<br /> del limite massimo impostato ("+i+").<br /> Continuare comunque?").then(()=>this.view(Number(t.value)),()=>t.sender.select([this.view()],!1)):this.view(Number(t.value))}},t)}drawScheduler(){this.drawHeader(),this.drawContent(),null!=this._saturationData&&this.saturation(this._saturationData),n.puma(this.getDivContent()).vrHasScrollBar()?n.puma(this.container()).find(".vrSchedulerDivHeader").find("table").css({width:"Calc(100% - 17px)"}):n.puma(this.container()).find(".vrSchedulerDivHeader").find("table").css({width:"100%"}),this.view()==n.SchedulerViewEnum.Week&&this._swtGroupByDateResource.show()}drawHeader(){let e=this.getOptions(),t=n.puma(this.container()).find(".vrSchedulerDivHeader")[0];null==t&&(t=n.div(this.element(),{class:"vrSchedulerDivHeader"})),e.showHeader||(t.style.cssText+="display: none;"),n.puma(t).empty();let i=document.createDocumentFragment(),a=document.createElement("table");switch(a.style.cssText+="width: 100%; table-layout: fixed; border-spacing: 0;",i.appendChild(a),this.view()){case n.SchedulerViewEnum.Day:{let e=document.createElement("tr");a.appendChild(e);let t=document.createElement("th");t.className="vrSchedulerThInterval",e.appendChild(t),this.createIntervalCombo(t);for(let t of this.resources()){let i=null!=t.text?t.text:"",a=document.createElement("th");a.title=i.toUpperCase(),a.className="vrSchedulerDayResource",a.setAttribute("resourceId",t.value),a.setAttribute("resourceName",i.replace(" ","~")),e.appendChild(a);let r=document.createElement("span");r.innerHTML=i.toUpperCase(),a.appendChild(r);let n=document.createElement("div");n.classList.add("vrSchedulerDivSaturation"),a.appendChild(n),this.saturationVisible()&&(n.style.cssText+="display: flex;");let o=document.createElement("span");o.classList.add("vrSchedulerSpanSaturation"),n.appendChild(o)}}break;case n.SchedulerViewEnum.Week:case n.SchedulerViewEnum.FourWeeks:{let t=this.view()==n.SchedulerViewEnum.FourWeeks?4*e.numberOfWorkDays:e.numberOfWorkDays;if(this.groupWeekByDate()){let i=document.createElement("tr");a.appendChild(i);let r=document.createElement("th");r.className="vrSchedulerThInterval",i.appendChild(r),this.createIntervalCombo(r);let n=Date.vrGetFirstDayOfWeekByDate(this.date()),o=0;for(let a=0;a<t;a++){o=a%e.numberOfWorkDays==0&&a>0?o+(7-e.numberOfWorkDays):o;let t=n.vrAddDays(o),r=e.daysOfWeekNames[t.getDay()],l=t.getDate(),s=document.createElement("th");s.title=l+" "+r,s.colSpan=this.resources().length,s.className="vrSchedulerWeekDay",s.setAttribute("day",String(l)),s.setAttribute("month",String(t.getMonth())),s.setAttribute("year",String(t.getFullYear())),s.innerHTML=l+" "+r,s.innerHTML=l+" "+r,i.appendChild(s),o++}let l=document.createElement("tr");a.appendChild(l);let s=document.createElement("th");s.className="vrSchedulerThInterval",l.appendChild(s);let u=0;for(let i=0;i<t;i++){u=i%e.numberOfWorkDays==0&&i>0?u+(7-e.numberOfWorkDays):u;let t=n.vrAddDays(u),a=t.getDate();for(let e of this.resources()){let i=null!=e.text?e.text:"",r=document.createElement("th");r.title=i.toUpperCase(),r.className="vrSchedulerDayResource",r.setAttribute("resourceId",e.value),r.setAttribute("resourceName",i.replace(" ","~")),r.setAttribute("day",String(a)),r.setAttribute("month",String(t.getMonth())),r.setAttribute("year",String(t.getFullYear())),l.appendChild(r);let n=document.createElement("span");n.innerHTML=i.toUpperCase(),r.appendChild(n);let o=document.createElement("div");o.classList.add("vrSchedulerDivSaturation"),r.appendChild(o),this.saturationVisible()&&(o.style.cssText+="display: flex;");let s=document.createElement("span");s.classList.add("vrSchedulerSpanSaturation"),o.appendChild(s)}u++}}else{let i=document.createElement("tr");a.appendChild(i);let r=document.createElement("th");r.className="vrSchedulerThInterval",i.appendChild(r),this.createIntervalCombo(r);let n=i;if(this.groupedByResource()){for(let e of this.resources()){let a=null!=e.text?e.text:"",r=document.createElement("th");r.title=a.toUpperCase(),r.className="vrSchedulerDayResource",r.setAttribute("resourceId",e.value),r.setAttribute("resourceName",a.replace(" ","~")),r.colSpan=t,i.appendChild(r);let n=document.createElement("span");n.innerHTML=a.toUpperCase(),r.appendChild(n);let o=document.createElement("span");o.classList.add("vrSchedulerSaturationPercentage"),r.appendChild(o)}n=document.createElement("tr"),a.appendChild(n);let e=document.createElement("th");e.className="vrSchedulerThInterval",n.appendChild(e)}for(let i of this.resources()){let a=Date.vrGetFirstDayOfWeekByDate(this.date()),r=0;for(let o=0;o<t;o++){r=o%e.numberOfWorkDays==0&&o>0?r+(7-e.numberOfWorkDays):r;let t=a.vrAddDays(r),l=e.daysOfWeekNames[t.getDay()],s=t.getDate(),u=document.createElement("th");u.title=s+" "+l,u.className="vrSchedulerWeekDay",u.setAttribute("day",String(s)),u.setAttribute("month",String(t.getMonth())),u.setAttribute("year",String(t.getFullYear())),u.setAttribute("resourceId",i.value),n.appendChild(u);let d=document.createElement("span");d.innerHTML=s+" "+l,u.appendChild(d);let c=document.createElement("div");c.classList.add("vrSchedulerDivSaturation"),u.appendChild(c),this.saturationVisible()&&(c.style.cssText+="display: flex;");let p=document.createElement("span");p.classList.add("vrSchedulerSpanSaturation"),c.appendChild(p),r++}}}}}t.appendChild(i)}createIntervalCombo(e){let t=this.getOptions();null!=this._cmbInterval&&this._cmbInterval.container().parentNode.removeChild(this._cmbInterval.container()),this._cmbInterval=n.createComboBox({mode:n.ComboBoxTypeEnum.DropDown,value:t.timeslotIntervalDuration,cssContainer:"top: 2px;",popupSettings:{width:50},width:60,items:[{text:"5 min",value:"5"},{text:"10 min",value:"10"},{text:"15 min",value:"15"},{text:"25 min",value:"25"},{text:"30 min",value:"30"},{text:"60 min",value:"60"}],onAfterChange:e=>window.setTimeout(()=>this.timeslotInterval(Number(e.sender.value())))},e)}drawContent(){let e=this.getOptions(),t=this.getDivContent();if(null==t){t=n.div(this.element(),{class:"vrSchedulerDivContent"});let i=0;if(null==e.height){let t=n.puma(this.container()).offset().top,a=window.innerHeight-t,r=n.puma(this.container()).find(".vrSchedulerDivToolbar").outerHeight();e.showToolbar||(r=0);let o=n.puma(this.container()).find(".vrSchedulerDivHeader").outerHeight();e.showHeader||(o=0),i=a-r-o}else i=e.height;n.puma(t).height(i)}n.puma(t).empty();let i=document.createDocumentFragment(),a=document.createElement("table");a.style.cssText+="width: 100%; table-layout: fixed; border-spacing: 0;",i.appendChild(a);let r=Date.vrDifferenceBetweenDatesInMinutes(e.startTime,e.endTime)/e.timeslotIntervalDuration;switch(this._slotElementList=[],this.view()){case n.SchedulerViewEnum.Day:{let t=new Date(this.date().setHours(e.startTime.getHours(),e.startTime.getMinutes()));for(let i=0;i<r;i++){let o=document.createElement("tr");a.appendChild(o);let l=new Date(t);l.setSeconds(0,0);let s=l.toTimeString(),u=i%2==0?s:"",d=document.createElement("th");d.innerHTML=u,d.classList.add("vrSchedulerThTime"),i%2==0&&i>0&&d.classList.add("borderTopSolid"),o.appendChild(d),e.timeColumn||(d.style.cssText+="display: none;");let c=new Date(t);c.vrAddMinutes(e.timeslotIntervalDuration),c.setSeconds(0,0);let p=0,h=0==i?"":i%2==0?"borderTopSolid":"borderTopDotted",m=i==r-1?"borderBottomSolid":"";for(let e of this.resources()){let t=document.createElement("td");""!=h&&t.classList.add(h),""!=m&&t.classList.add(m),t.title=s,o.appendChild(t);let a=new n.SchedulerSlotElement;a.resourceId=null!=e?e.value:"0",a.start=l,a.end=c,a.columnIndex=p,a.rowIndex=i,this._slotElementList.push(a),p++}t.vrAddMinutes(e.timeslotIntervalDuration)}}break;case n.SchedulerViewEnum.Week:case n.SchedulerViewEnum.FourWeeks:{let t=this.view()==n.SchedulerViewEnum.FourWeeks?4*e.numberOfWorkDays:e.numberOfWorkDays,i=Date.vrGetFirstDayOfWeekByDate(this.date()),r=Date.vrDifferenceBetweenDatesInMinutes(e.startTime,e.endTime)/e.timeslotIntervalDuration;if(this.groupWeekByDate()){let o=new Date(e.startTime);for(let l=0;l<r;l++){let s=document.createElement("tr");a.appendChild(s);let u=o.toTimeString(),d=l%2==0?u:"",c=document.createElement("th");c.innerHTML=d,c.classList.add("vrSchedulerThTime"),l%2==0&&l>0&&c.classList.add("borderTopSolid"),s.appendChild(c),e.timeColumn||(c.style.cssText+="display: none;");let p=0==l?"":l%2==0?"borderTopSolid":"borderTopDotted",h=l==r-1?"borderBottomSolid":"",m=0;for(let a=0;a<t;a++){let t=new Date(i);t.setHours(o.getHours(),o.getMinutes(),0,0),t=t.vrAddDays(a);for(let i of this.resources()){let a=new Date(t);a.vrAddMinutes(e.timeslotIntervalDuration);let r=document.createElement("td");""!=p&&r.classList.add(p),""!=h&&r.classList.add(h),r.title=u,s.appendChild(r),(m+1)%this.resources().length==0&&r.classList.add("borderRightSolid");let o=new n.SchedulerSlotElement;o.resourceId=null!=i?i.value:"0",o.start=t,o.end=a,o.columnIndex=m,o.rowIndex=l,this._slotElementList.push(o),m++}}o.vrAddMinutes(e.timeslotIntervalDuration)}}else{let o=new Date(e.startTime);for(let l=0;l<r;l++){let s=document.createElement("tr");a.appendChild(s);let u=o.toTimeString(),d=l%2==0?u:"",c=document.createElement("th");c.innerHTML=d,c.classList.add("vrSchedulerThTime"),l%2==0&&l>0&&c.classList.add("borderTopSolid"),s.appendChild(c),e.timeColumn||(c.style.cssText+="display: none;");let p=0==l?"":l%2==0?"borderTopSolid":"borderTopDotted",h=l==r-1?"borderBottomSolid":"",m=0;for(let a of this.resources()){i.setHours(o.getHours(),o.getMinutes(),0,0);let r=0;for(let o=0;o<t;o++){r=o%e.numberOfWorkDays==0&&o>0?r+(7-e.numberOfWorkDays):r;let d=i.vrAddDays(r),c=new Date(d);c.vrAddMinutes(e.timeslotIntervalDuration);let f=document.createElement("td");""!=p&&f.classList.add(p),""!=h&&f.classList.add(h),f.title=u,s.appendChild(f),o==t-1&&f.classList.add("borderRightSolid"),r++;let g=new n.SchedulerSlotElement;g.resourceId=null!=a?a.value:"0",g.start=d,g.end=c,g.columnIndex=m,g.rowIndex=l,this._slotElementList.push(g),m++}}o.vrAddMinutes(e.timeslotIntervalDuration)}}}}t.appendChild(i),n.puma(this.getDivContent()).remove(".vrSchedulerNowLine");let o=this.date();o.setHours((new Date).getHours(),(new Date).getMinutes(),0,0);let l=this._slotElementList.filter(e=>Date.vrArePeriodsOverlapped(e.start,e.end,o,o,!0))[0];if(null!=l){n.puma("<div class='vrSchedulerNowLine'><i class='fa fa-caret-left'></i></div>").vrAppendToPuma(this.getDivContent())[0].style.cssText+="left: "+this._timeColumnWidth+"px; top: "+(33*l.rowIndex-1)+"px; width: Calc(100% - "+this._timeColumnWidth+"px);"}this.adaptHeight()}adaptHeight(){let e=this.getDivContent(),t=this.getOptions(),i=0;if(null==t.height){let e=n.puma(this.container()).offset().top,a=window.innerHeight-e,r=n.puma(this.container()).find(".vrSchedulerDivToolbar").outerHeight();t.showToolbar||(r=0);let o=n.puma(this.container()).find(".vrSchedulerDivHeader").outerHeight();t.showHeader||(o=0),i=a-(r+o)}else i=t.height;n.puma(e).height(i)}height(e){let t=super.height(e);return n.puma(this.getDivContent()).height("100%"),t}view(e){if(null!=e){let t=this.getOptions();if(null!=t.onViewChange){let i=new d;if(i.sender=this,i.previousView=this._actualView,i.view=e,t.onViewChange(i),i.isDefaultPrevented())return this._actualView}switch(this._actualView=e,this._btgMenuView.select([e],!1),this.drawScheduler(),e){case n.SchedulerViewEnum.Day:this._swtGroupByDateResource.hide(),this._dtpSchedulerDate.format(n.DateFormatEnum.LongDate);break;case n.SchedulerViewEnum.Week:this._swtGroupByDateResource.show(),this._dtpSchedulerDate.format(n.DateFormatEnum.WeekRange);break;case n.SchedulerViewEnum.FourWeeks:this._swtGroupByDateResource.hide(),this._dtpSchedulerDate.format(n.DateFormatEnum.FourWeeksRange)}this.groupedByResource()||this._swtGroupByDateResource.hide()}return this._actualView}date(e,t=!0){let i=this.getOptions();if(null!=e&&(this._dtpSchedulerDate.value()!=e&&this._dtpSchedulerDate.value(e,!1),null!=this._dtpSchedulerDate.value()&&this.drawScheduler(),null!=i.onNavigate)){if(null==this._actualNavigateAction&&(this._actualNavigateAction=n.SchedulerNavigateActionEnum.ChangeDate),t){let t=new u;t.sender=this,t.action=this._actualNavigateAction,t.previousDate=this._dtpSchedulerDate.value(),t.date=e,t.view=this.view(),i.onNavigate(t)}this._actualNavigateAction=null}return this._dtpSchedulerDate.value()}resources(e){let t=this.getOptions();if(null!=e){let i=null;switch(this.view()){case n.SchedulerViewEnum.Day:i=t.maxResourcesNumber.dayView;break;case n.SchedulerViewEnum.Week:i=t.maxResourcesNumber.weekView;break;case n.SchedulerViewEnum.FourWeeks:i=t.maxResourcesNumber.fourWeeksView}null!=i&&e.length>i?n.confirm("Stai impostando un numero di risorse maggiore<br /> del limite massimo impostato ("+i+").<br /> Continuare comunque?").then(()=>{t.resources=e,this.drawScheduler(),this.triggerResourceChangeEvent()},()=>this.triggerResourceChangeEvent()):(t.resources=e,this.drawScheduler(),this.triggerResourceChangeEvent())}return t.resources}groupedByResource(){return this.resources().length>1||null!=this.resources()[0]&&""!=this.resources()[0].value}triggerResourceChangeEvent(){let e=this.getOptions();if(null!=e.onResourcesChange){let t=new p;t.resources=e.resources,t.view=this.view(),t.sender=this,e.onResourcesChange(t)}}timeslotInterval(e){let t=this.getOptions();if(null!=e){if(null!=t.onIntervalChange){let i=new c;if(i.sender=this,i.previousValue=t.timeslotIntervalDuration,i.value=e,i.view=this.view(),t.onIntervalChange(i),i.isDefaultPrevented())return t.timeslotIntervalDuration}t.timeslotIntervalDuration=e,this.drawScheduler()}return t.timeslotIntervalDuration}firstDayOfWeek(){return this.getOptions().firstDayOfWeek}startTime(){return this.getOptions().startTime}endTime(){return this.getOptions().endTime}groupWeekByDate(e){return null!=e&&(this._swtGroupByDateResource.checked(e,!1),this.drawScheduler(),this.rebind()),this.view()==n.SchedulerViewEnum.Week&&this._swtGroupByDateResource.checked()}fullscreen(e){null!=e&&(e?this._btnExpand.click():this._btnCollapse.click());let t=window.document;return!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)}datasource(e){if(null!=e&&this._slotElementList.length>0){if(0==e.length)return this._datasource=e,n.puma(this.container()).find(".vrSchedulerAppointment").remove(),e;let t=[];for(let i of e){i.positioned=!1,t.push(i);let e=new Date(i.end),r=new Date(i.start),n=Date.vrDifferenceBetweenDatesInDays(e,r);if(n>1){null==i.attributes&&(i.attributes=[]),i.attributes.push({key:"multiday",value:"true"});for(let e=1;e<=n;e++){let n=a.UtilityManager.duplicate(i),o=r.vrAddDays(e);o.setHours(this.startTime().getHours()),n.start=o,n.end=new Date(n.start).vrAddHours(1),null==n.attributes&&(n.attributes=[]),n.attributes.push({key:"multiday",value:"true"}),t.push(n)}}}e=t,this.checkMandatorySchedulerDataFields(e[0]),this._datasource=e,n.puma(this.container()).find(".vrSchedulerAppointment").remove();let i=document.createDocumentFragment(),r=Array.from(n.puma(this.container()).find(".vrSchedulerDivContent table tr:first-child td")).map(e=>n.puma(e).outerWidth()),o=r[0],l=e.vrGroupBy(e=>e.resourceId);for(let t of e){if(1==t.positioned)continue;if("0"!=t.resourceId&&(null==this.resources()[0]||!this.resources().map(e=>e.value).includes(String(t.resourceId))))continue;let e=l[t.resourceId],a=this.findOverlappedAppointments(t,e),s=1;for(let e of a)for(let i of e.slotsOccupied){i.columnPosition=[];let r=1,n=[];for(let o of a)if(o.id!=e.id)for(let e of o.slotsOccupied)Date.vrArePeriodsOverlapped(i.start,i.end,e.start,e.end)&&(n.push(t),r++);r>s&&(s=r),e.overlappedList=n.vrDistinctBy(e=>e.id)}a.vrSortDesc("duration");for(let e of a){let t=new Date(e.start);this.adaptDateToTimeslotDuration(t,h.Start);let a=new Date(e.end);this.adaptDateToTimeslotDuration(a,h.End);let l=e.slotsOccupied[0];if(null!=l){let u=Date.vrDifferenceBetweenDatesInMinutes(t,a),d=this.timeslotInterval(),c=33*Math.round(u/d)+u/d-6;c-=Math.round(u/d);let p=33*this._slotElementList[this._slotElementList.length-1].rowIndex+33,h=33*l.rowIndex+c;h>p&&(c=c-(h-p)-1);let m=e.slotsOccupied.map(e=>e.columnPosition),f=0;for(let e=0;e<s;e++){let t=!0;f=e;for(let i of m)1==i[e]&&(t=!1);if(t)break}let g=85*o/100/s;g=g,g<=0&&(g=1);r.slice(0,l.columnIndex).vrSum();let v=r[0]*l.columnIndex+f*g+f+this._timeColumnWidth;for(let t of e.slotsOccupied)t.columnPosition[f]=!0;let b=document.createElement("div");b.style.cssText+="top: "+33*l.rowIndex+"px; left: "+v+"px;",b.className="vrSchedulerAppointment",b.style.cssText+="width: "+g+"px; height: "+c+"px;",this.managePropertiesSchedulerData(b,e),i.appendChild(b);let y=this.getOptions();n.puma(b).on("mousedown",t=>{if(!this.enabled()||!y.editable.move||this._isResizing)return void t.preventDefault();if(0!=t.button)return void t.preventDefault();let i=n.puma(this.getDivContent()).offset().top,a=this.getDivContent().scrollTop,o=n.puma(this.getDivContent()).offset().left,l=null,s=t.clientX,u=t.clientY,d=null,c=0,p=0;for(let e of r){if(c+=e,c+this._timeColumnWidth>s)break;p++}d=this._slotElementList[p];let h=Math.abs(b.offsetTop-(t.clientY+a-i));n.puma(document).on("mousemove",t=>{if(!this.enabled()||!y.editable.move||this._isResizing)return void t.preventDefault();let c=t.clientX-o,p=t.clientY+a-i,m=b.offsetTop,f=b.clientHeight,g=b.offsetLeft,v=b.clientWidth;if(p>=m&&p<=m+f&&c>=g&&c<=g+v&&null==l)l=null;else if(t.clientX==s&&t.clientY==u)l=null;else{let i=null;i=null!=e.resourceId?this.datasource().filter(t=>t.id==b.id&&t.resourceId==e.resourceId)[0]:this.datasource().filter(e=>e.id==b.id)[0];let a=this.datasource().indexOf(i);i=this.datasource()[a];let o=0,s=0;for(let e of r){if(o+=e,o+this._timeColumnWidth>c)break;s++}l=this._slotElementList.filter(e=>e.columnIndex==s&&e.rowIndex==Math.trunc((p-h)/33))[0];let u=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),m=new Date(e.start),f=new Date(m).vrAddMinutes(u),g=this.getOptions();if(null==g.onMoveStart||this._isMoving){if(null!=g.onMoving){m=l.start,f=l.start.vrAddMinutes(u);let e=new x;if(e.sender=this,e.divElement=b,e.start=m,e.end=f,e.dataItem=i,e.resourceId=l.resourceId,g.onMoving(e),e.isDefaultPrevented())return t.preventDefault(),n.puma(document).unbind("mouseup"),n.puma(document).unbind("mousemove"),void(l=null)}}else{this._isMoving=!0;let e=new C;if(e.sender=this,e.divElement=b,e.start=m,e.end=f,e.dataItem=i,e.resourceId=d.resourceId,g.onMoveStart(e),e.isDefaultPrevented())return t.preventDefault(),n.puma(document).unbind("mouseup"),n.puma(document).unbind("mousemove"),l=null,void(this._isMoving=!1)}let v=33*Math.trunc((p-h)/33),w=r.slice(0,l.columnIndex).vrSum()+this._timeColumnWidth;b.style.top=v+"px",b.style.left=w+"px",b.classList.add("vrSchedulerAppointmentMoving")}}),n.puma(document).on("mouseup",()=>{if(this.enabled()&&y.editable.move&&!this._isResizing&&(n.puma(document).unbind("mouseup"),n.puma(document).unbind("mousemove"),n.puma(b).removeClass("vrSchedulerAppointmentMoving"),n.puma(this.getDivContent()).remove(".vrSchedulerAppointmentMoving"),window.setTimeout(()=>this._isMoving=!1,100),null!=l)){let t=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),i=l.start,a=new Date(i).vrAddMinutes(t),r=null;r=null!=e.resourceId?this.datasource().filter(t=>t.id==b.id&&t.resourceId==e.resourceId)[0]:this.datasource().filter(e=>e.id==b.id)[0];let n=this.getOptions();if(null!=n.onMoveEnd){let e=new w;if(e.sender=this,e.divElement=b,e.start=i,e.end=a,e.dataItem=r,e.resourceId=l.resourceId,n.onMoveEnd(e),e.isDefaultPrevented())return void(l=null)}let o=this.datasource().indexOf(r);r=this.datasource()[o],r.start=i,r.end=a,r.resourceId=l.resourceId,l=null}})}),this.setResizing(b,e)}}}this.getDivContent().appendChild(i)}return null==this._datasource?[]:this._datasource}setResizing(e,t){let i=this.getOptions();if(!this.enabled()||!i.editable.resize)return;let a=document.createElement("div");a.classList.add("vrSchedulerDivResize");let r=document.createElement("div");r.classList.add("vrSchedulerDivResizeInside"),a.appendChild(r),e.appendChild(a),n.puma(e).on("mouseover",e=>a.style.display="block"),n.puma(e).on("mouseout",e=>a.style.display="none");let o,l=null,s=n.puma(this.getDivContent()).offset().top,u=this.getDivContent().scrollTop,d=(n.puma(this.getDivContent()).offset().left,!1);n.puma(a).on("mousedown",a=>{if(0!=a.button)return void a.preventDefault();this._isResizing=!0,l=a.pageY;let r=e.offsetHeight;n.puma(document).on("mousemove",a=>{if(null!=e){let c=null;c=null!=t.resourceId?this.datasource().filter(i=>i.id==e.id&&i.resourceId==t.resourceId)[0]:this.datasource().filter(t=>t.id==e.id)[0];let p=this.datasource().indexOf(c);c=this.datasource()[p];a.clientX;let h=a.clientY+u-s;if(o=this._slotElementList.filter(e=>e.resourceId==t.resourceId&&e.rowIndex==Math.trunc(h/33))[0],null==i.onResizeStart||d){if(null!=i.onResizing){let r=new S;if(r.sender=this,r.divElement=e,r.start=t.start,r.end=o.end,r.dataItem=c,r.resourceId=t.resourceId,i.onResizing(r),r.isDefaultPrevented())return a.preventDefault(),n.puma(document).unbind("mouseup"),n.puma(document).unbind("mousemove"),void(o=null)}}else{this._isResizing=!0,d=!0;let r=new _;if(r.sender=this,r.divElement=e,r.start=t.start,r.end=t.end,r.dataItem=c,r.resourceId=t.resourceId,i.onResizeStart(r),r.isDefaultPrevented())return a.preventDefault(),n.puma(document).unbind("mouseup"),n.puma(document).unbind("mousemove"),o=null,this._isResizing=!1,void(d=!1)}let m=a.pageY-l,f=33*Math.trunc(m/33),g=r+f;g-=g%33,e.style.height=g+"px"}}),n.puma(document).on("mouseup",()=>{if(n.puma(document).unbind("mouseup"),n.puma(document).unbind("mousemove"),window.setTimeout(()=>this._isResizing=!1,100),null!=o){let i=null;i=null!=t.resourceId?this.datasource().filter(i=>i.id==e.id&&i.resourceId==t.resourceId)[0]:this.datasource().filter(t=>t.id==e.id)[0];let a=this.getOptions();if(null!=a.onResizeEnd){let i=new w;if(i.sender=this,i.divElement=e,i.start=t.start,i.end=o.end,i.dataItem=t,i.resourceId=t.resourceId,a.onResizeEnd(i),i.isDefaultPrevented())return void(o=null)}let r=this.datasource().indexOf(i);i=this.datasource()[r],i.start=t.start,i.end=o.end,i.resourceId=t.resourceId,o=null,l=null}})})}availabilities(e){if(null!=e&&e.length>0){let t=this.getOptions();this.checkMandatorySchedulerDataFields(e[0]),this._availabilities=e,n.puma(this.container()).find(".vrSchedulerAvailability").remove();let i=document.createDocumentFragment(),a=Array.from(n.puma(this.container()).find(".vrSchedulerDivContent table tr:first-child td")).map(e=>n.puma(e).outerWidth()),r=Date.vrDifferenceBetweenDatesInMinutes(t.startTime,t.endTime),o=n.puma(this.getDivContent()).find("table").height();for(let t of e){let e=Date.vrConvertDateFromServer(new Date(t.start)),n=Date.vrConvertDateFromServer(new Date(t.end)),l=this._slotElementList.filter(i=>(t.resourceId==i.resourceId||null==t.resourceId)&&Date.vrArePeriodsOverlapped(i.start,i.end,e,n))[0];if(null!=l){let e=a[0]*l.columnIndex+this._timeColumnWidth,n=33*l.rowIndex,s=Date.vrDifferenceBetweenDatesInMinutes(l.start,t.end);s>r&&(s=r);let u=33*Math.round(s/this.timeslotInterval());u-=u%33,u<=0&&(u=33),n+u>o&&(u-=n+u-o);let d=document.createElement("div");d.style.cssText="top: "+n+"px; left: "+e+"px;",d.className="vrSchedulerAvailability",d.style.cssText+="width: "+a[l.columnIndex]+"px; height: "+u+"px;",this.managePropertiesSchedulerData(d,t),i.appendChild(d)}}this.getDivContent().appendChild(i)}return this._availabilities}checkMandatorySchedulerDataFields(e){let t=[];if(null==e.id&&t.push("id"),null==e.start&&t.push("start"),null==e.end&&t.push("end"),t.length>0)throw Error("Prevedere i seguenti campi: "+t.toString())}managePropertiesSchedulerData(e,t){if(e.id=t.id,null!=t.tooltip&&e.setAttribute("title",t.tooltip),null!=t.backgroundColor&&(e.style.backgroundColor=t.backgroundColor),null!=t.textColor&&(e.style.color=t.textColor),null!=t.text&&e.insertAdjacentHTML("afterbegin",t.text),null!=t.css&&""!=t.css&&(e.style.cssText+=t.css),null!=t.class&&""!=t.class&&e.classList.add(t.class),e.setAttribute("resourceId",t.resourceId),e.setAttribute("start",t.start.toString()),e.setAttribute("end",t.end.toString()),null!=t.attributes)for(let i of t.attributes)e.setAttribute(i.key,i.value)}rebind(e=!0,t=!0){e&&this.rebindAppointments(),t&&this.rebindAvailabilities()}rebindAppointments(){this.datasource(this._datasource)}rebindAvailabilities(){this.availabilities(this._availabilities)}saturation(e){if(null!=e)switch(null==e.manual&&(e.manual=!1),this._saturationData=e,this._saturationVisible=!0,e.manual||this.internalHideSaturation(),this.view()){case n.SchedulerViewEnum.Day:{let t=e.dayMode;if(null!=t){for(let e of t){null!=e.date&&"string"==typeof e.date&&(e.date=new Date(e.date),e.date.setHours(0,0,0));let t=this.date();if(t.setHours(0,0,0),null!=e.date&&!Date.vrEquals(e.date,t))break;let i=n.puma(".vrSchedulerDayResource[resourceId='"+e.resourceId+"'] .vrSchedulerDivSaturation")[0],a=n.puma(".vrSchedulerDayResource[resourceId='"+e.resourceId+"'] .vrSchedulerSpanSaturation")[0];this.manageSaturationPercentage(e,i,a)}this.adaptHeight()}}break;case n.SchedulerViewEnum.Week:{let t=e.weekMode;if(null!=t){if(this.groupWeekByDate()){let e=t.groupedByDate;if(null!=e)for(let t of e){"string"==typeof t.date&&(t.date=new Date(t.date),t.date.setHours(0,0,0));let e=t.date.getDate(),i=t.date.getMonth(),a=t.date.getFullYear();if(null!=t.resourceList)for(let r of t.resourceList){let t=n.puma(".vrSchedulerDayResource[resourceId='"+r.id+"'][day='"+e+"'][month='"+i+"'][year='"+a+"']")[0];if(null!=t){let e=n.puma(t).find(".vrSchedulerDivSaturation")[0],i=n.puma(t).find(".vrSchedulerSpanSaturation")[0];this.manageSaturationPercentage(r,e,i)}}}}else{let e=t.groupedByResource;if(null!=e)for(let t of e)this.manageWeekDateList(t)}this.adaptHeight()}}break;case n.SchedulerViewEnum.FourWeeks:{let t=e.fourWeeksMode;if(null!=t){for(let e of t)this.manageWeekDateList(e);this.adaptHeight()}}}return this._saturationData}manageSaturationPercentage(e,t,i){let a=null!=e.borderColor?e.borderColor:"#CCC";null!=t&&(t.style.cssText+="border-color: "+a+";");let r=null!=e.color?e.color:"#bbb8b8";null!=i&&(n.puma(i).width(e.percentageValue+"%"),i.style.cssText+="background-color: "+r+";",i.parentElement.title=e.percentageValue+"%",null!=e.percentageValue&&n.puma(i).parent().css("display","flex"))}manageWeekDateList(e){let t=n.puma(".vrSchedulerDayResource[resourceId='"+e.resourceId+"'] .vrSchedulerSaturationPercentage")[0];if(null!=t&&(n.puma(t).show(),t.innerHTML=" "+(null!=e.percentageValue?e.percentageValue:"")+"%",null==e.titleColor&&(e.titleColor="#000"),t.style.cssText+="color: "+e.titleColor),null!=e.dateList)for(let t of e.dateList){"string"==typeof t.date&&(t.date=new Date(t.date),t.date.setHours(0,0,0));let i=null!=t.color?t.color:"#bbb8b8",a=t.date.getDate(),r=t.date.getMonth(),o=t.date.getFullYear(),l=n.puma(".vrSchedulerWeekDay[resourceId='"+e.resourceId+"'][day='"+a+"'][month='"+r+"'][year='"+o+"']")[0];if(null!=l){let e=n.puma(l).find(".vrSchedulerDivSaturation")[0],a=null!=t.borderColor?t.borderColor:"#CCC";null!=e&&(e.style.cssText+="border-color: "+a+";");let r=n.puma(l).find(".vrSchedulerSpanSaturation")[0];null!=r&&(n.puma(r).width(t.percentageValue+"%"),r.style.cssText+="background-color: "+i+";",r.parentElement.title=t.percentageValue+"%",null!=t.percentageValue&&n.puma(r).parent().css("display","flex"))}}}clearSaturation(){this._saturationData=void 0,this.hideSaturation()}showSaturation(){this.internalShowSaturation(),this._saturationVisible=!0}internalShowSaturation(){for(let e of Array.from(n.puma(".vrSchedulerDivSaturation")))e.style.cssText+="display: flex;";n.puma(".vrSchedulerSaturationPercentage").show(),this.adaptHeight()}hideSaturation(){this.internalHideSaturation(),this._saturationVisible=!1}internalHideSaturation(){n.puma(".vrSchedulerDivSaturation").hide(),n.puma(".vrSchedulerSaturationPercentage").hide(),this.adaptHeight()}saturationVisible(){return this._saturationVisible}bounceAppointment(e){e.startsWith("#")||(e="#"+e);let t=n.puma(e)[0];null!=t&&(t.classList.add("vrSchedulerAppointmentAnimated"),t.classList.add("vrSchedulerAppointmentBounce"))}manageSchedulerClick(){n.puma(this.element()).on("click",".vrSchedulerDivContent td, .vrSchedulerAppointment, .vrSchedulerAvailability",e=>{let t=this.getOptions();if(!this.enabled())return;let i=n.puma(e.currentTarget),a=n.puma(this.getDivContent()).offset().top,r=this.getDivContent().scrollTop,o=n.puma(this.getDivContent()).offset().left,l=n.puma(this.container()).find(".vrSchedulerDivContent table td").outerWidth(),s=e.clientX-o,u=e.clientY+r-a,d=this._slotElementList.filter(e=>e.columnIndex==Math.trunc((s-63)/l)&&e.rowIndex==Math.trunc(u/33))[0];if(null!=d)if(0!=e.button||this._isMoving||this._isResizing)this._isMoving=!1,this._isResizing=!1;else if(i.hasClass("vrSchedulerAppointment")){let e=this.datasource().filter(e=>e.id==i[0].id)[0],a=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),r=new Date(e.start),n=new Date(r).vrAddMinutes(a);if(null!=t.onAppointmentClick){let a=new g;a.sender=this,a.slotElement=d,a.start=r,a.end=n,a.resourceId=e.resourceId,a.dataItem=e,a.element=i[0],t.onAppointmentClick(a)}}else if(i.hasClass("vrSchedulerAvailability")){let e=this.availabilities().filter(e=>e.id==i[0].id)[0],a=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),r=new Date(e.start),n=new Date(r).vrAddMinutes(a);if(null!=t.onAvailabilityClick){let a=new v;a.sender=this,a.slotElement=d,a.start=r,a.end=n,a.resourceId=e.resourceId,a.dataItem=e,a.element=i[0],t.onAvailabilityClick(a)}}else if(null!=t.onTimeslotClick){let e=new f;e.sender=this,e.slotElement=d,e.start=d.start,e.end=d.end,e.resourceId=d.resourceId,e.element=i[0],t.onTimeslotClick(e)}}),n.puma(this.element()).on("click",".vrSchedulerDayResource",e=>{if(0==e.button){let t=n.puma(e.currentTarget),i=t[0].getAttribute("resourceId"),a=t[0].getAttribute("resourceName").replace("~"," "),r=new n.SchedulerResource;r.value=i,r.text=a,this.resources([r]),this.view(n.SchedulerViewEnum.FourWeeks)}}),n.puma(this.element()).on("click",".vrSchedulerWeekDay",e=>{if(0==e.button){let t=n.puma(e.currentTarget),i=t[0].getAttribute("day"),a=t[0].getAttribute("month"),r=t[0].getAttribute("year");this.view(n.SchedulerViewEnum.Day);let o=new Date(r,a,i);this.date(o)}})}getDivContent(){return n.puma(this.container()).find(".vrSchedulerDivContent")[0]}findOverlappedAppointments(e,t){let i=new Date(e.start);this.adaptDateToTimeslotDuration(i,h.Start);let a=new Date(e.end);this.adaptDateToTimeslotDuration(a,h.End);let r=this.getAppointmentSlots(e),n=[];e.positioned=!0,e.slotsOccupied=r,n.push(e);for(let e of t){if(e.positioned)continue;let r=new Date(e.start);this.adaptDateToTimeslotDuration(r,h.Start);let o=new Date(e.end);if(this.adaptDateToTimeslotDuration(o,h.End),i<o&&a>r){let i=this.findOverlappedAppointments(e,t);for(let e of i)n.push(e)}}return n}adaptDateToTimeslotDuration(e,t){let i=e.getMinutes(),a=this.timeslotInterval();return t==h.Start?i%a>0&&e.setMinutes(i-i%a):t==h.End&&i%a>0&&e.setMinutes(i+(a-i%a)),e}getAppointmentSlots(e){let t=new Date(e.start),i=new Date(e.end);return this._slotElementList.filter(a=>(e.resourceId==a.resourceId||null==e.resourceId)&&a.start.getDate()==t.getDate()&&Date.vrArePeriodsOverlapped(a.start,a.end,t,i))}exportPdf(e="Calendario.pdf",t=!1,i=!1,a=!0){a&&n.showLoader(),t||(n.puma(this.container()).find(".vrSchedulerDivContent")[0].style.cssText+="height: unset;"),window.setTimeout(()=>{html2canvas(this.container()).then(t=>{let r=$(this.container()).width(),o=$(this.container()).height(),l=r+0,s=1*l+0,u=Math.ceil(o/s)-1,d=new jsPDF({orientation:"landscape",unit:"pt",format:[l,s]});var c=t.toDataURL("image/png",1);d.addImage(c,"png",0,0,r,o);for(let e=1;e<=u;e++)d.addPage([l,s],"landscape"),d.addImage(c,"png",0,-s*e+0,r,o);i&&d.autoPrint(),d.save(e),a&&n.hideLoader()})},100)}getOptions(){return this.options()}}t.Scheduler=l;class s extends r.VrControlsEvent{}class u extends s{}class d extends s{}class c extends s{}class p extends s{}var h;!function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(h||(h={}));class m extends s{}class f extends m{}t.SchedulerTimeslotClickEvent=f;class g extends m{}t.SchedulerAppointmentClickEvent=g;class v extends m{}t.SchedulerAvailabilityClickEvent=v;class b extends s{}class C extends b{}class x extends b{}class w extends b{}class y extends s{}class _ extends y{}class S extends y{}class k{}class T extends s{}class E extends T{}class D extends T{}class B{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QrCode=t.QrCodeOptions=void 0;const a=i(43),r=i(1),n=i(0);class o extends r.VrControlOptions{}t.QrCodeOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.width&&(t.width=200),null==t.color&&(t.color="#000000"),null==t.wrap&&(t.wrap=!0),null==t.tabIndex&&(t.tabIndex=-1),null==t.border&&(t.border=!1),!0===t.border&&(t.border=new s),!1!==t.border&&(null==t.border.color&&(t.border.color=t.color),null==t.border.size&&(t.border.size=1),null==t.border.style&&(t.border.style=n.BorderStyleEnum.Solid)),super(e,t,n.ControlTypeEnum.QrCode),null!=t.value&&this.value(t.value),null!=t.onClick&&(this.element().style.cssText+="cursor: pointer;",n.puma(this.element()).on("click",e=>{let i=new u;i.sender=this,i.value=this.value(),t.onClick(i)}))}value(e){if(null!=e){if(""===e)return this.clear(),"";let t=this.getOptions();n.puma(this.element()).empty();let i=a.QrCodeManager.encodeText(String(e),a.Ecc.MEDIUM).toSvgString(4,t.color);if(n.puma(this.element()).vrAppendPuma(i),this._svg=n.puma(this.element()).find("svg")[0],t.wrap||(n.puma(this._svg).find("rect")[0].style.cssText+="fill: transparent;"),!1!==t.border){let e=t.border;this._svg.style.cssText+="border-style: "+e.style+"; border-width: "+e.size+"px; border-color: "+e.color+";"}this._value=e,this.tooltip(String(e))}return String(this._value)}svg(){return this._svg}clear(){n.puma(this.element()).empty(),this._value="",this.tooltip("")}getOptions(){return this.options()}}t.QrCode=l;class s{}class u extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=t.Ecc=t.QrSegment=t.QrCodeManager=void 0;class a{constructor(e,t,i,r){if(this.version=e,this.errorCorrectionLevel=t,this.mask=r,this.modules=[],this.isFunction=[],e<a.MIN_VERSION||e>a.MAX_VERSION)throw"Version value out of range";if(r<-1||r>7)throw"Mask value out of range";this.size=4*e+17;let n=[];for(let e=0;e<this.size;e++)n.push(!1);for(let e=0;e<this.size;e++)this.modules.push(n.slice()),this.isFunction.push(n.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(i);if(this.drawCodewords(o),-1==r){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const i=this.getPenaltyScore();i<e&&(r=t,e=i),this.applyMask(t)}}if(r<0||r>7)throw"Assertion error";this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}static encodeText(e,t){const i=o.makeSegments(e);return a.encodeSegments(i,t)}static encodeBinary(e,t){const i=o.makeBytes(e);return a.encodeSegments([i],t)}static encodeSegments(e,t,i=1,n=40,s=-1,u=!0){if(!(a.MIN_VERSION<=i&&i<=n&&n<=a.MAX_VERSION)||s<-1||s>7)throw"Invalid value";let d,c;for(d=i;;d++){const i=8*a.getNumDataCodewords(d,t),r=o.getTotalBits(e,d);if(r<=i){c=r;break}if(d>=n)throw"Data too long"}for(const e of[l.MEDIUM,l.QUARTILE,l.HIGH])u&&c<=8*a.getNumDataCodewords(d,e)&&(t=e);let p=[];for(const t of e){r(t.mode.modeBits,4,p),r(t.numChars,t.mode.numCharCountBits(d),p);for(const e of t.getData())p.push(e)}if(p.length!=c)throw"Assertion error";const h=8*a.getNumDataCodewords(d,t);if(p.length>h)throw"Assertion error";if(r(0,Math.min(4,h-p.length),p),r(0,(8-p.length%8)%8,p),p.length%8!=0)throw"Assertion error";for(let e=236;p.length<h;e^=253)r(e,8,p);let m=[];for(;8*m.length<p.length;)m.push(0);return p.forEach((e,t)=>m[t>>>3]|=e<<7-(7&t)),new a(d,t,m,s)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}drawCanvas(e,t,i){if(e<=0||t<0)throw"Value out of range";const a=(this.size+2*t)*e;i.width=a,i.height=a;let r=i.getContext("2d");for(let i=-t;i<this.size+t;i++)for(let a=-t;a<this.size+t;a++)r.fillStyle=this.getModule(a,i)?"#000000":"#FFFFFF",r.fillRect((a+t)*e,(i+t)*e,e,e)}toSvgString(e,t){if(e<0)throw"Border must be non-negative";let i=[];for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++)this.getModule(a,t)&&i.push(`M${a+e},${t+e}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${this.size+2*e} ${this.size+2*e}" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="${i.join(" ")}" fill="`+t+'"/>\n</svg>\n'}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let i=0;i<t;i++)for(let a=0;a<t;a++)0==i&&0==a||0==i&&a==t-1||i==t-1&&0==a||this.drawAlignmentPattern(e[i],e[a]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let i=t;for(let e=0;e<10;e++)i=i<<1^1335*(i>>>9);const a=21522^(t<<10|i);if(a>>>15!=0)throw"Assertion error";for(let e=0;e<=5;e++)this.setFunctionModule(8,e,n(a,e));this.setFunctionModule(8,7,n(a,6)),this.setFunctionModule(8,8,n(a,7)),this.setFunctionModule(7,8,n(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,n(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,n(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,n(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;if(t>>>18!=0)throw"Assertion error";for(let e=0;e<18;e++){const i=n(t,e),a=this.size-11+e%3,r=Math.floor(e/3);this.setFunctionModule(a,r,i),this.setFunctionModule(r,a,i)}}drawFinderPattern(e,t){for(let i=-4;i<=4;i++)for(let a=-4;a<=4;a++){const r=Math.max(Math.abs(a),Math.abs(i)),n=e+a,o=t+i;0<=n&&n<this.size&&0<=o&&o<this.size&&this.setFunctionModule(n,o,2!=r&&4!=r)}}drawAlignmentPattern(e,t){for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)this.setFunctionModule(e+a,t+i,1!=Math.max(Math.abs(a),Math.abs(i)))}setFunctionModule(e,t,i){this.modules[t][e]=i,this.isFunction[t][e]=!0}addEccAndInterleave(e){const t=this.version,i=this.errorCorrectionLevel;if(e.length!=a.getNumDataCodewords(t,i))throw"Invalid argument";const r=a.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][t],n=a.ECC_CODEWORDS_PER_BLOCK[i.ordinal][t],o=Math.floor(a.getNumRawDataModules(t)/8),l=r-o%r,s=Math.floor(o/r);let u=[];const d=a.reedSolomonComputeDivisor(n);for(let t=0,i=0;t<r;t++){let r=e.slice(i,i+s-n+(t<l?0:1));i+=r.length;const o=a.reedSolomonComputeRemainder(r,d);t<l&&r.push(0),u.push(r.concat(o))}let c=[];for(let e=0;e<u[0].length;e++)u.forEach((t,i)=>{(e!=s-n||i>=l)&&c.push(t[e])});if(c.length!=o)throw"Assertion error";return c}drawCodewords(e){if(e.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw"Invalid argument";let t=0;for(let i=this.size-1;i>=1;i-=2){6==i&&(i=5);for(let a=0;a<this.size;a++)for(let r=0;r<2;r++){const o=i-r,l=0==(i+1&2)?this.size-1-a:a;!this.isFunction[l][o]&&t<8*e.length&&(this.modules[l][o]=n(e[t>>>3],7-(7&t)),t++)}}if(t!=8*e.length)throw"Assertion error"}applyMask(e){if(e<0||e>7)throw"Mask value out of range";for(let t=0;t<this.size;t++)for(let i=0;i<this.size;i++){let a;switch(e){case 0:a=(i+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=i%3==0;break;case 3:a=(i+t)%3==0;break;case 4:a=(Math.floor(i/3)+Math.floor(t/2))%2==0;break;case 5:a=i*t%2+i*t%3==0;break;case 6:a=(i*t%2+i*t%3)%2==0;break;case 7:a=((i+t)%2+i*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][i]&&a&&(this.modules[t][i]=!this.modules[t][i])}}getPenaltyScore(){let e=0;for(let t=0;t<this.size;t++){let i=!1,r=0,n=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[t][o]==i?(r++,5==r?e+=a.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,n),i||(e+=this.finderPenaltyCountPatterns(n)*a.PENALTY_N3),i=this.modules[t][o],r=1);e+=this.finderPenaltyTerminateAndCount(i,r,n)*a.PENALTY_N3}for(let t=0;t<this.size;t++){let i=!1,r=0,n=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][t]==i?(r++,5==r?e+=a.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,n),i||(e+=this.finderPenaltyCountPatterns(n)*a.PENALTY_N3),i=this.modules[o][t],r=1);e+=this.finderPenaltyTerminateAndCount(i,r,n)*a.PENALTY_N3}for(let t=0;t<this.size-1;t++)for(let i=0;i<this.size-1;i++){const r=this.modules[t][i];r==this.modules[t][i+1]&&r==this.modules[t+1][i]&&r==this.modules[t+1][i+1]&&(e+=a.PENALTY_N2)}let t=0;for(const e of this.modules)t=e.reduce((e,t)=>e+(t?1:0),t);const i=this.size*this.size;return e+=(Math.ceil(Math.abs(20*t-10*i)/i)-1)*a.PENALTY_N4,e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2));let i=[6];for(let a=this.size-7;i.length<e;a-=t)i.splice(1,0,a);return i}}static getNumRawDataModules(e){if(e<a.MIN_VERSION||e>a.MAX_VERSION)throw"Version number out of range";let t=(16*e+128)*e+64;if(e>=2){const i=Math.floor(e/7)+2;t-=(25*i-10)*i-55,e>=7&&(t-=36)}if(!(208<=t&&t<=29648))throw"Assertion error";return t}static getNumDataCodewords(e,t){return Math.floor(a.getNumRawDataModules(e)/8)-a.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*a.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw"Degree out of range";let t=[];for(let i=0;i<e-1;i++)t.push(0);t.push(1);let i=1;for(let r=0;r<e;r++){for(let e=0;e<t.length;e++)t[e]=a.reedSolomonMultiply(t[e],i),e+1<t.length&&(t[e]^=t[e+1]);i=a.reedSolomonMultiply(i,2)}return t}static reedSolomonComputeRemainder(e,t){let i=t.map(e=>0);for(const r of e){const e=r^i.shift();i.push(0),t.forEach((t,r)=>i[r]^=a.reedSolomonMultiply(t,e))}return i}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";let i=0;for(let a=7;a>=0;a--)i=i<<1^285*(i>>>7),i^=(t>>>a&1)*e;if(i>>>8!=0)throw"Assertion error";return i}finderPenaltyCountPatterns(e){const t=e[1];if(t>3*this.size)throw"Assertion error";const i=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(i&&e[0]>=4*t&&e[6]>=t?1:0)+(i&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,i){return e&&(this.finderPenaltyAddHistory(t,i),t=0),t+=this.size,this.finderPenaltyAddHistory(t,i),this.finderPenaltyCountPatterns(i)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}function r(e,t,i){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(let a=t-1;a>=0;a--)i.push(e>>>a&1)}function n(e,t){return 0!=(e>>>t&1)}t.QrCodeManager=a,a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class o{constructor(e,t,i){if(this.mode=e,this.numChars=t,this.bitData=i,t<0)throw"Invalid argument";this.bitData=i.slice()}static makeBytes(e){let t=[];for(const i of e)r(i,8,t);return new o(s.BYTE,e.length,t)}static makeNumeric(e){if(!this.NUMERIC_REGEX.test(e))throw"String contains non-numeric characters";let t=[];for(let i=0;i<e.length;){const a=Math.min(e.length-i,3);r(parseInt(e.substr(i,a),10),3*a+1,t),i+=a}return new o(s.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!this.ALPHANUMERIC_REGEX.test(e))throw"String contains unencodable characters in alphanumeric mode";let t,i=[];for(t=0;t+2<=e.length;t+=2){let a=45*o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));a+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),r(a,11,i)}return t<e.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,i),new o(s.ALPHANUMERIC,e.length,i)}static makeSegments(e){return""==e?[]:this.NUMERIC_REGEX.test(e)?[o.makeNumeric(e)]:this.ALPHANUMERIC_REGEX.test(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw"ECI assignment value out of range";if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else{if(!(e<1e6))throw"ECI assignment value out of range";r(6,3,t),r(e,21,t)}return new o(s.ECI,0,t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let i=0;for(const a of e){const e=a.mode.numCharCountBits(t);if(a.numChars>=1<<e)return 1/0;i+=4+e+a.bitData.length}return i}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let i=0;i<e.length;i++)"%"!=e.charAt(i)?t.push(e.charCodeAt(i)):(t.push(parseInt(e.substr(i+1,2),16)),i+=2);return t}}t.QrSegment=o,o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";class l{constructor(e,t){this.ordinal=e,this.formatBits=t}}t.Ecc=l,l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2);class s{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}t.Mode=s,s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0])},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiScheduler=t.MultiSchedulerOptions=void 0;const a=i(2),r=i(1),n=i(0);class o extends r.VrControlOptions{}t.MultiSchedulerOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.dates&&(t.dates=[]),null==t.datasource&&(t.datasource=[]),null==t.resources&&(t.resources=[]),null==t.showNavigateButtons&&(t.showNavigateButtons=!0),null==t.maxDatesNumber&&(t.maxDatesNumber=6),null==t.timeslotIntervalDuration&&(t.timeslotIntervalDuration=30),super(e,t,n.ControlTypeEnum.MultiScheduler),this._resources=t.resources,this._dates=t.dates,this._dictionaryDateScheduler=new Map,this.element().style.cssText+="display: flex; flex-direction: column;",null!=t.dates&&this.dates(t.dates),null!=t.datasource&&this.datasource(t.datasource)}dates(e){if(null!=e&&e.length>0){let t=this.getOptions();this._dictionaryDateScheduler.clear(),n.puma(this.element()).empty(),e=e.slice(0,t.maxDatesNumber);let i=n.div(this.element(),{class:"vrMultiSchedulerDivDates",css:"display: flex; height: 22px;"});t.showNavigateButtons&&(n.createButton({icon:n.IconClassLight.ChevronLeft,cssContainer:"position: absolute; left: 10px; z-index: 9999999999999;",css:"border: none; background: none;",onClick:e=>{if(null!=t.onNavigate){let e=new s;e.sender=this,e.action=u.PrevDate,e.dates=this.dates(),t.onNavigate(e)}}},i),n.createButton({icon:n.IconClassLight.ChevronRight,cssContainer:"position: absolute; right: 10px; z-index: 9999999999999;",css:"border: none; background: none;",onClick:e=>{if(null!=t.onNavigate){let e=new s;e.sender=this,e.action=u.NextDate,e.dates=this.dates(),t.onNavigate(e)}}},i));let a=100/e.length;for(let r=-1;r<e.length;r++){let o=n.createLabel({align:n.TextAlignEnum.Center,class:"vrMultiSchedulerLblDate",css:"width: 100%;",cssContainer:(-1==r?"width: 63px; border-right: solid 1px #CCC; padding-left: 0px; padding-right: 0px;":"border-right: solid 1px #CCC; width: "+a+"%; padding-left: 5px; padding-right: 5px;")+"text-align: left; background-color: #f0f0f0; border-bottom: solid 1px #CCC; border-top: solid 1px #CCC;"},i);if(-1==r){let e=n.puma("<div>").vrPrependToPuma(o.container())[0];e.classList.add("vrMultiSchedulerTimeslotIntervalDuration"),this._cmbTimeslotIntervalDuration=n.createComboBox({mode:n.ComboBoxTypeEnum.DropDown,value:t.timeslotIntervalDuration,cssContainer:"width: 100%; top: 0px; left: 0px; height: 21px; border-right: solid 1px #CCC;",css:"width: Calc(100% - 6px); border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding-left: 6px; padding-right: 0px; text-align: left; height: 20px; border-top-right-radius: 0px; border-top-left-radius: 0px; background-color: #f0f0f0;border-top: 0px; border-bottom: 0px; top: 0px; position: absolute; border-right: solid 1px #CCC;",popupSettings:{width:50},width:60,items:[{text:"5 min",value:"5"},{text:"10 min",value:"10"},{text:"15 min",value:"15"},{text:"25 min",value:"25"},{text:"30 min",value:"30"},{text:"60 min",value:"60"}],onAfterChange:e=>{this.timeslotInterval(e.value),this.rebind()}},e)}else{let t=e[r],i={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1},a=new Intl.DateTimeFormat("it",i).format(t);o.value(a)}}n.div(i,{class:"vrMultiSchedulerDivBorderOverflow",css:"min-width: 17px; background-color: #f0f0f0; border-bottom: solid 1px #CCC;"});let r=n.div(this.element(),{class:"vrMultiSchedulerDivSchedulers",css:"display: flex; overflow-y: auto;"});for(let i=-1;i<e.length;i++){let o=-1==i?new Date:e[i];o.setHours(0,0,0,0);let l=n.createScheduler({addToControlList:!1,resources:this._resources,views:[{type:n.SchedulerViewEnum.Day,selected:!0}],date:o,cssContainer:"width: "+(-1==i?"63px;":a+"%;"),startTime:t.startTime,endTime:t.endTime,timeColumn:-1==i,timeslotIntervalDuration:t.timeslotIntervalDuration,height:"auto",exportPdf:t.exportPdf,showHeader:this._resources.length>1,showToolbar:!1,editable:{move:!1,resize:!1},onTimeslotClick:t.onTimeslotClick,onAvailabilityClick:t.onAvailabilityClick,onAppointmentClick:t.onAppointmentClick},r);n.puma(l.container()).find(".vrSchedulerDivContent")[0].style.cssText+="overflow-y: hidden !important;",this._dictionaryDateScheduler.has(o)||this._dictionaryDateScheduler.set(o,l)}this.adaptHeight(),this.fixWidth(),this._dates=e}return this._dates}datasource(e){return null!=e&&(this._datasource=e,this.drawData(e,(e,t)=>{e.datasource(t)})),this._datasource}availabilities(e){return null!=e&&(this._availabilities=e,this.drawData(e,(e,t)=>{e.availabilities(t)})),this._availabilities}drawData(e,t){let i=[];for(let t of e){let e=null;null!=t.overlappedList&&(e=t.overlappedList,t.overlappedList=void 0);let r=a.UtilityManager.duplicate(t),n=new Date(r.start);n.setHours(0,0,0,0),r.groupingField=n,r.overlappedList=e,i.push(r)}let r=i.vrGroupBy(e=>e.groupingField);for(let e in r){let i=r[e],a=new Date(e);a.setHours(0,0,0,0),this._dictionaryDateScheduler.forEach((e,r)=>{if(Date.vrEquals(a,r)){let e=this._dictionaryDateScheduler.get(r);null!=e&&t(e,i)}})}}resources(e){return null!=e&&(this._resources=e,this.rebind()),this._resources}startTime(){return this.getOptions().startTime}endTime(){return this.getOptions().endTime}timeslotInterval(e){let t=this.getOptions();return null!=e&&(t.timeslotIntervalDuration=e,this._cmbTimeslotIntervalDuration.value(e,!1),this._dictionaryDateScheduler.forEach((t,i)=>{let a=this._dictionaryDateScheduler.get(i);null!=a&&a.timeslotInterval(e)})),t.timeslotIntervalDuration}rebind(){this.dates(this._dates),this.datasource(this._datasource),this.availabilities(this._availabilities),this.adaptHeight(),this.fixWidth()}adaptHeight(){let e=n.puma(this.container()).find(".vrMultiSchedulerDivSchedulers")[0],t=this.getOptions(),i=0;if(null==t.height){let e=n.puma(this.container()).offset().top;i=window.innerHeight-e-n.puma(this.container()).find(".vrMultiSchedulerDivDates").outerHeight()}else i=t.height;n.puma(e).height(i)}fixWidth(){let e=n.puma(this.container()).find(".vrMultiSchedulerDivSchedulers")[0];null!=e&&(e.scrollHeight>e.clientHeight&&e.clientHeight>0?n.puma(this.container()).find(".vrMultiSchedulerDivBorderOverflow").show():n.puma(this.container()).find(".vrMultiSchedulerDivBorderOverflow").hide())}getOptions(){return this.options()}}t.MultiScheduler=l;class s extends r.VrControlsEvent{}var u;!function(e){e[e.NextDate=0]="NextDate",e[e.PrevDate=1]="PrevDate"}(u||(u={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.IconOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.IconOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.color&&(t.color="#000"),null==t.cursorPointer&&(t.cursorPointer=!1),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Icon),r.puma(this.element()).attr("aria-hidden","true"),this.color(t.color),null!=t.fontSize&&this.fontSize(t.fontSize),null!=t.value&&this.value(t.value),null!=t.tooltip&&r.puma(this.element()).attr("title",t.tooltip),(t.cursorPointer||null!=t.onClick)&&(this.container().style.cssText+="cursor: pointer;",this.element().style.cssText+="cursor: pointer;"),r.puma(this.container()).on("click",e=>{this.click()})}value(e){let t=this.getOptions();return null!=e&&(r.puma(this.element()).removeClass(t.value),r.puma(this.element()).addClass(e),t.value=e),t.value}fontSize(e){let t=this.getOptions();return null!=e&&("number"==typeof e&&(e+="px"),this.element().style.cssText+="font-size: "+e+";",t.fontSize=e),t.fontSize}color(e){let t=this.getOptions();return null!=e&&(this.element().style.cssText+="color: "+e+";",t.color=e),t.color}click(){let e=this.getOptions();null!=e.confirmationMessage?r.confirm(e.confirmationMessage).then(()=>this.internalClick(),()=>this.rejectedConfirm()):this.internalClick()}internalClick(){let e=this.getOptions();if(null!=e.onClick){let t=new l;t.sender=this,t.value=this.value(),e.onClick(t)}}rejectedConfirm(){let e=this.getOptions();null!=e.onRejectedConfirm&&e.onRejectedConfirm()}getOptions(){return this.options()}}t.Icon=o;class l extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=t.ColorPickerOptions=void 0;const a=i(47),r=i(1),n=i(0);class o extends r.VrControlOptions{}t.ColorPickerOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.addToControlList&&(t.addToControlList=!1),null==t.showInput&&(t.showInput=!0),null==t.mode&&(t.mode=n.ColorPickerModeEnum.Hex),null==t.alphaChannel&&(t.alphaChannel=!0),null==t.hexUppercase&&(t.hexUppercase=!0),null==t.clearButton&&(t.clearButton=!0),null==t.hideOnPaletteClick&&(t.hideOnPaletteClick=!1),null==t.emptyMessage&&(t.emptyMessage="Scegli..."),null==t.closeButton&&(t.closeButton=!1),!0===t.closeButton&&(t.closeButton="Chiudi"),null==t.palette&&(t.palette=!0),!0===t.palette&&(t.palette=["#fff","#ffffff","#808080","#000","#996e36","#ff0000","#ffe438","#88dd20","#51B3E1","#e3f1fa","#bb1cd4"]),super(e,t,n.ControlTypeEnum.ColorPicker);try{new a.ColorPickerManager}catch(e){}if(this._picker=new JSColor(e,{format:t.mode}),this._value=null,this._picker.option({shadow:!1,palette:!1!==t.palette?t.palette:void 0,paletteCols:!1!==t.palette?t.palette.length:void 0,paletteSetsAlpha:!0,hideOnPaletteClick:t.hideOnPaletteClick,closeButton:!1!==t.closeButton,closeText:!1!==t.closeButton?t.closeButton:void 0,alphaChannel:t.alphaChannel,required:!0,uppercase:t.hexUppercase,onChange:()=>{this._value=this.mode()==n.ColorPickerModeEnum.Hex?this.valueHex():this.valueRgba(),this.triggerChange()}}),this.element().style.cssText+="height: "+(t.showInput?23:27)+"px;",t.showInput){let e=t.mode==n.ColorPickerModeEnum.Hex?60:120;this.element().style.cssText+="width: "+e+"px; min-width: "+e+"px !important;"}else this.element().style.cssText+="width: 27px; min-width: unset !important; background-image: unset !important; position: relative;";if(this.clear(),null!=t.value&&this.value(t.value),!t.showInput){let e=n.div(this.element(),{class:"vrColorPickerDivOpen",css:"position: absolute; cursor: pointer; text-align: center; bottom: 0px; left: 0px; height: 5px; background-color: rgba(0, 0, 0, 0.2); width: 24px; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border: solid 1px #CCC; border-top: none;"});n.createIcon({value:n.IconClassLight.CaretUp,color:"rgba(255, 255, 255, 0.8)",width:"100%",fontSize:12,cursorPointer:!0,cssContainer:"top: -4px;"},e),n.puma(e).on("click",e=>this.open())}if(t.clearButton){let i=n.createIcon({id:e.id+"_someStuff",cssContainer:"background-color: #FFF; width: 20px; height: 20px; cursor: pointer; position: absolute; left: 13px; z-index: 9999999; top: "+(t.showInput?"155":"152")+"px;",value:n.IconClassLight.Eraser,classContainer:"vrColorPickerClearIcon",visible:!1,onClick:e=>this.clear(!0)},document.body,null,this.element().id+"_vrColorPickerClearIcon");n.puma("body").on("DOMNodeRemoved",".jscolor-picker-wrap",e=>{e.target.style.cssText+="z-index: 999999 !important;",i.element().style.cssText+="color: transparent;",i.container().style.cssText+="background-color: transparent;",window.setTimeout(()=>{i.hide(),e.target.style.cssText+="z-index: 999999 !important;"},300)}),n.puma("body").on("DOMNodeInserted",".jscolor-picker-wrap",e=>{let t=n.puma(n.puma(".jscolor-picker-wrap")[0]).position().top+125,a=n.puma(n.puma(".jscolor-picker-wrap")[0]).position().left+13;i.container().style.cssText+="top: "+t+"px; left: "+a+"px;",e.target.style.cssText+="z-index: 999999 !important;",i.element().style.cssText+="color: #000;",i.container().style.cssText+="background-color: #FFF;",i.show(),window.setTimeout(()=>{i.show(),e.target.style.cssText+="z-index: 999999 !important;";let t=n.puma(n.puma(".jscolor-picker-wrap")[0]).position().top+125,a=n.puma(n.puma(".jscolor-picker-wrap")[0]).position().left+13;i.container().style.cssText+="top: "+t+"px; left: "+a+"px;"},300)})}}value(e,t=!0){return null!=e&&("string"==typeof e?this.valueHex(e,t):this.valueRgba(e,t)),this._value}valueHex(e,t=!0){return null!=e&&(this._picker.fromString(e),this._value=this._picker.toHEXString(),t&&this.triggerChange()),this._picker.toHEXString()}valueRgba(e,t=!0){return null!=e&&(this._picker.fromRGBA(e.r,e.g,e.b,null!=e.a?e.a:1),this._value=this._picker.toRGBAString(),t&&this.triggerChange()),this._picker.toRGBAString()}randomize(e=!0){return this._picker.randomize(),this._value=this.valueHex(),e&&this.triggerChange(),this.value()}open(){this._picker.show()}close(){this._picker.hide()}mode(){return this.getOptions().mode}triggerChange(){let e=this.getOptions();if(null!=e.onChange){let t=new u;t.sender=this,t.value=this.value(),t.valueHex=this.valueHex(),t.valueRgba=this.valueRgba(),e.onChange(t)}}clear(e=!1){let t=this.getOptions();this._value=null,this.element().style.cssText+="background-image: unset;",this.element().style.cssText+="background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/wAALCAAoACgBAREA/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEG/8QAKRAAAgECBQMDBQEAAAAAAAAAAREAIWESMUFRUjJCcYGhwQJigqLC0f/aAAgBAQAAPwDbVZJIJOZGX1DYXgaKhHST2+Yokim1q9/Ebur6l3eJasFgEBA6AbG8LRIiuHjeT3eQ53i+KmWL4jfRZ/ZCqkya4eV4CQTTo83e0bvLuXxLV6Nei/2QaL8X8xRFtOqzdrRdt0xcrR6pa8LRbDfD/Ue7/eL4kqYuNpassAECoGQG4vINFUnpfd5iizKeer28Ru6LqXb4lqwAA1QaEbm8/9k=') no-repeat !important;",t.showInput&&(this.element().value="",this.element().placeholder=t.emptyMessage,this.element().style.cssText+="background-size: 30px 30px !important;"),e&&this.triggerChange()}enable(){super.enable(),window.setTimeout(()=>{this.getOptions().showInput?n.puma(this.element()).removeAttr("disabled"):(this._picker.option("showOnClick",!0),n.puma(this.container()).find(".vrColorPickerDivOpen").show())})}disable(){super.disable(),window.setTimeout(()=>{this.getOptions().showInput?n.puma(this.element()).attr("disabled","disabled"):(this._picker.option("showOnClick",!1),n.puma(this.container()).find(".vrColorPickerDivOpen").hide())})}getOptions(){return this.options()}}t.ColorPicker=l;class s extends r.VrControlsEvent{}class u extends s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPickerManager=void 0;var a,r;t.ColorPickerManager=class{constructor(){}},a="undefined"!=typeof window?window:this,r=function(e){var t,i,a,r,n=((r={initialized:!1,instances:[],readyQueue:[],register:function(){void 0!==e&&e.document&&e.document.addEventListener("DOMContentLoaded",r.pub.init,!1)},installBySelector:function(t,i){if(!(i=i?r.node(i):e.document))throw new Error("Missing root node");for(var a=i.querySelectorAll(t),n=new RegExp("(^|\\s)("+r.pub.lookupClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),o=0;o<a.length;o+=1){var l,s;if(!(a[o].jscolor&&a[o].jscolor instanceof r.pub)&&(void 0===a[o].type||"color"!=a[o].type.toLowerCase()||!r.isColorAttrSupported)&&(null!==(l=r.getDataAttr(a[o],"jscolor"))||a[o].className&&(s=a[o].className.match(n)))){var u=a[o],d="";null!==l?d=l:s&&(console.warn('Installation using class name is DEPRECATED. Use data-jscolor="" attribute instead.'+r.docsRef),s[4]&&(d=s[4]));var c=null;if(d.trim())try{c=r.parseOptionsStr(d)}catch(e){console.warn(e+"\n"+d)}try{new r.pub(u,c)}catch(e){console.warn(e)}}}},parseOptionsStr:function(e){var t=null;try{t=JSON.parse(e)}catch(i){if(!r.pub.looseJSON)throw new Error("Could not parse jscolor options as JSON: "+i);try{t=new Function("var opts = ("+e+'); return typeof opts === "object" ? opts : {};')()}catch(e){throw new Error("Could not evaluate jscolor options: "+e)}}return t},getInstances:function(){for(var e=[],t=0;t<r.instances.length;t+=1)r.instances[t]&&r.instances[t].targetElement&&e.push(r.instances[t]);return e},createEl:function(t){var i=e.document.createElement(t);return r.setData(i,"gui",!0),i},node:function(t){if(!t)return null;if("string"==typeof t){var i=t,a=null;try{a=e.document.querySelector(i)}catch(e){return console.warn(e),null}return a||console.warn("No element matches the selector: %s",i),a}return r.isNode(t)?t:(console.warn("Invalid node of type %s: %s",typeof t,t),null)},isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeName:function(e){return!(!e||!e.nodeName)&&e.nodeName.toLowerCase()},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},isTextInput:function(e){return e&&"input"===r.nodeName(e)&&"text"===e.type.toLowerCase()},isButton:function(e){if(!e)return!1;var t=r.nodeName(e);return"button"===t||"input"===t&&["button","submit","reset"].indexOf(e.type.toLowerCase())>-1},isButtonEmpty:function(e){switch(r.nodeName(e)){case"input":return!e.value||""===e.value.trim();case"button":return""===e.textContent.trim()}return null},isPassiveEventSupported:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassive",null,i),e.removeEventListener("testPassive",null,i)}catch(e){}return t}(),isColorAttrSupported:(a=e.document.createElement("input"),!(!a.setAttribute||(a.setAttribute("type","color"),"color"!=a.type.toLowerCase()))),dataProp:"_data_jscolor",setData:function(){var e=arguments[0];if(3===arguments.length){var t=e.hasOwnProperty(r.dataProp)?e[r.dataProp]:e[r.dataProp]={},i=arguments[1],a=arguments[2];return t[i]=a,!0}if(2===arguments.length&&"object"==typeof arguments[1]){t=e.hasOwnProperty(r.dataProp)?e[r.dataProp]:e[r.dataProp]={};var n=arguments[1];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o]);return!0}throw new Error("Invalid arguments")},removeData:function(){var e=arguments[0];if(!e.hasOwnProperty(r.dataProp))return!0;for(var t=1;t<arguments.length;t+=1){var i=arguments[t];delete e[r.dataProp][i]}return!0},getData:function(e,t,i){if(!e.hasOwnProperty(r.dataProp)){if(void 0===i)return;e[r.dataProp]={}}var a=e[r.dataProp];return a.hasOwnProperty(t)||void 0===i||(a[t]=i),a[t]},getDataAttr:function(e,t){var i="data-"+t;return e.getAttribute(i)},setDataAttr:function(e,t,i){var a="data-"+t;e.setAttribute(a,i)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,i,a){r._attachedGroupEvents.hasOwnProperty(e)||(r._attachedGroupEvents[e]=[]),r._attachedGroupEvents[e].push([t,i,a]),t.addEventListener(i,a,!1)},detachGroupEvents:function(e){if(r._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<r._attachedGroupEvents[e].length;t+=1){var i=r._attachedGroupEvents[e][t];i[0].removeEventListener(i[1],i[2],!1)}delete r._attachedGroupEvents[e]}},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(r._capturedTarget=e,r._capturedTarget.setCapture())},releaseTarget:function(){r._capturedTarget&&(r._capturedTarget.releaseCapture(),r._capturedTarget=null)},triggerEvent:function(t,i,a,n){if(t){var o=null;return"function"==typeof Event?o=new Event(i,{bubbles:a,cancelable:n}):(o=e.document.createEvent("Event")).initEvent(i,a,n),!!o&&(r.setData(o,"internal",!0),t.dispatchEvent(o),!0)}},triggerInputEvent:function(e,t,i,a){e&&r.isTextInput(e)&&r.triggerEvent(e,t,i,a)},eventKey:function(e){var t={9:"Tab",13:"Enter",27:"Escape"};return"string"==typeof e.code?e.code:void 0!==e.keyCode&&t.hasOwnProperty(e.keyCode)?t[e.keyCode]:null},strList:function(e){return e?e.replace(/^\s+|\s+$/g,"").split(/\s+/):[]},hasClass:function(e,t){return!!t&&(void 0!==e.classList?e.classList.contains(t):-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" "))},addClass:function(e,t){var i=r.strList(t);if(void 0===e.classList)for(a=0;a<i.length;a+=1)r.hasClass(e,i[a])||(e.className+=(e.className?" ":"")+i[a]);else for(var a=0;a<i.length;a+=1)e.classList.add(i[a])},removeClass:function(e,t){var i=r.strList(t);if(void 0===e.classList)for(n=0;n<i.length;n+=1){var a=new RegExp("^\\s*"+i[n]+"\\s*|\\s*"+i[n]+"\\s*$|\\s+"+i[n]+"(\\s+)","g");e.className=e.className.replace(a,"$1")}else for(var n=0;n<i.length;n+=1)e.classList.remove(i[n])},getCompStyle:function(t){var i=e.getComputedStyle?e.getComputedStyle(t):t.currentStyle;return i||{}},setStyle:function(e,t,i,a){var n=i?"important":"",o=null;for(var l in t)if(t.hasOwnProperty(l)){var s=null;null===t[l]?(o||(o=r.getData(e,"origStyle")),o&&o.hasOwnProperty(l)&&(s=o[l])):(a&&(o||(o=r.getData(e,"origStyle",{})),o.hasOwnProperty(l)||(o[l]=e.style[l])),s=t[l]),null!==s&&e.style.setProperty(l,s,n)}},hexColor:function(e,t,i){return"#"+(("0"+Math.round(e).toString(16)).substr(-2)+("0"+Math.round(t).toString(16)).substr(-2)+("0"+Math.round(i).toString(16)).substr(-2)).toUpperCase()},hexaColor:function(e,t,i,a){return"#"+(("0"+Math.round(e).toString(16)).substr(-2)+("0"+Math.round(t).toString(16)).substr(-2)+("0"+Math.round(i).toString(16)).substr(-2)+("0"+Math.round(255*a).toString(16)).substr(-2)).toUpperCase()},rgbColor:function(e,t,i){return"rgb("+Math.round(e)+","+Math.round(t)+","+Math.round(i)+")"},rgbaColor:function(e,t,i,a){return"rgba("+Math.round(e)+","+Math.round(t)+","+Math.round(i)+","+Math.round(100*(null==a?1:a))/100+")"},linearGradient:(i=function(){for(var t=["","-webkit-","-moz-","-o-","-ms-"],i=e.document.createElement("div"),a=0;a<t.length;a+=1){var r=t[a]+"linear-gradient",n=r+"(to right, rgba(0,0,0,0), rgba(0,0,0,0))";if(i.style.background=n,i.style.background)return r}return"linear-gradient"}(),function(){return i+"("+Array.prototype.join.call(arguments,", ")+")"}),setBorderRadius:function(e,t){r.setStyle(e,{"border-radius":t||"0"})},setBoxShadow:function(e,t){r.setStyle(e,{"box-shadow":t||"none"})},getElementPos:function(e,t){var i=0,a=0,n=e.getBoundingClientRect();if(i=n.left,a=n.top,!t){var o=r.getViewPos();i+=o[0],a+=o[1]}return[i,a]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){var t=0,i=0;return void 0!==e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,i=e.clientY),{x:t,y:i}},getRelPointerPos:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),i=0,a=0;return void 0!==e.changedTouches&&e.changedTouches.length?(i=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(i=e.clientX,a=e.clientY),{x:i-t.left,y:a-t.top}},getViewPos:function(){var t=e.document.documentElement;return[(e.pageXOffset||t.scrollLeft)-(t.clientLeft||0),(e.pageYOffset||t.scrollTop)-(t.clientTop||0)]},getViewSize:function(){var t=e.document.documentElement;return[e.innerWidth||t.clientWidth,e.innerHeight||t.clientHeight]},RGB_HSV:function(e,t,i){e/=255,t/=255,i/=255;var a=Math.min(Math.min(e,t),i),r=Math.max(Math.max(e,t),i),n=r-a;if(0===n)return[null,0,100*r];var o=e===a?3+(i-t)/n:t===a?5+(e-i)/n:1+(t-e)/n;return[60*(6===o?0:o),n/r*100,100*r]},HSV_RGB:function(e,t,i){var a=i/100*255;if(null===e)return[a,a,a];e/=60,t/=100;var r=Math.floor(e),n=a*(1-t),o=a*(1-t*(r%2?e-r:1-(e-r)));switch(r){case 6:case 0:return[a,o,n];case 1:return[o,a,n];case 2:return[n,a,o];case 3:return[n,o,a];case 4:return[o,n,a];case 5:return[a,n,o]}return a},parseColorString:function(e){var t,i={rgba:null,format:null};if(t=e.match(/^\W*([0-9A-F]{3,8})\W*$/i)){if(8===t[1].length)i.format="hexa",i.rgba=[parseInt(t[1].substr(0,2),16),parseInt(t[1].substr(2,2),16),parseInt(t[1].substr(4,2),16),parseInt(t[1].substr(6,2),16)/255];else if(6===t[1].length)i.format="hex",i.rgba=[parseInt(t[1].substr(0,2),16),parseInt(t[1].substr(2,2),16),parseInt(t[1].substr(4,2),16),null];else{if(3!==t[1].length)return!1;i.format="hex",i.rgba=[parseInt(t[1].charAt(0)+t[1].charAt(0),16),parseInt(t[1].charAt(1)+t[1].charAt(1),16),parseInt(t[1].charAt(2)+t[1].charAt(2),16),null]}return i}if(t=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var a,r,n,o,l=t[1].split(","),s=/^\s*(\d+|\d*\.\d+|\d+\.\d*)\s*$/;if(l.length>=3&&(a=l[0].match(s))&&(r=l[1].match(s))&&(n=l[2].match(s)))return i.format="rgb",i.rgba=[parseFloat(a[1])||0,parseFloat(r[1])||0,parseFloat(n[1])||0,null],l.length>=4&&(o=l[3].match(s))&&(i.format="rgba",i.rgba[3]=parseFloat(o[1])||0),i}return!1},parsePaletteValue:function(e){var t=[];"string"==typeof e?e.replace(/#[0-9A-F]{3}([0-9A-F]{3})?|rgba?\(([^)]*)\)/gi,(function(e){t.push(e)})):Array.isArray(e)&&(t=e);for(var i=[],a=0;a<t.length;a++){var n=r.parseColorString(t[a]);n&&i.push(n)}return i},containsTranparentColor:function(e){for(var t=0;t<e.length;t++){var i=e[t].rgba[3];if(null!==i&&i<1)return!0}return!1},isAlphaFormat:function(e){switch(e.toLowerCase()){case"hexa":case"rgba":return!0}return!1},scaleCanvasForHighDPR:function(t){var i=e.devicePixelRatio||1;t.width*=i,t.height*=i,t.getContext("2d").scale(i,i)},genColorPreviewCanvas:function(e,t,i,a){var n=Math.round(r.pub.previewSeparator.length),o=r.pub.chessboardSize,l=r.pub.chessboardColor1,s=r.pub.chessboardColor2,u=i||2*o,d=2*o,c=r.createEl("canvas"),p=c.getContext("2d");c.width=u,c.height=d,a&&r.scaleCanvasForHighDPR(c),p.fillStyle=l,p.fillRect(0,0,u,d),p.fillStyle=s;for(var h=0;h<u;h+=2*o)p.fillRect(h,0,o,o),p.fillRect(h+o,o,o,o);e&&(p.fillStyle=e,p.fillRect(0,0,u,d));var m=null;switch(t){case"left":m=0,p.clearRect(0,0,n/2,d);break;case"right":m=u-n,p.clearRect(u-n/2,0,n/2,d)}if(null!==m){p.lineWidth=1;for(var f=0;f<r.pub.previewSeparator.length;f+=1)p.beginPath(),p.strokeStyle=r.pub.previewSeparator[f],p.moveTo(.5+m+f,0),p.lineTo(.5+m+f,d),p.stroke()}return{canvas:c,width:u,height:d}},genColorPreviewGradient:function(e,t,i){var a=[];return a=t&&i?["to "+{left:"right",right:"left"}[t],e+" 0%",e+" "+i+"px","rgba(0,0,0,0) "+(i+1)+"px","rgba(0,0,0,0) 100%"]:["to right",e+" 0%",e+" 100%"],r.linearGradient.apply(this,a)},redrawPosition:function(){if(r.picker&&r.picker.owner){var e,t,i=r.picker.owner;i.fixed?(e=r.getElementPos(i.targetElement,!0),t=[0,0]):(e=r.getElementPos(i.targetElement),t=r.getViewPos());var a,n,o,l=r.getElementSize(i.targetElement),s=r.getViewSize(),u=r.getPickerDims(i),d=[u.borderW,u.borderH];switch(i.position.toLowerCase()){case"left":a=1,n=0,o=-1;break;case"right":a=1,n=0,o=1;break;case"top":a=0,n=1,o=-1;break;default:a=0,n=1,o=1}var c=(l[n]+d[n])/2;if(i.smartPosition)p=[-t[a]+e[a]+d[a]>s[a]&&-t[a]+e[a]+l[a]/2>s[a]/2&&e[a]+l[a]-d[a]>=0?e[a]+l[a]-d[a]:e[a],-t[n]+e[n]+l[n]+d[n]-c+c*o>s[n]?-t[n]+e[n]+l[n]/2>s[n]/2&&e[n]+l[n]-c-c*o>=0?e[n]+l[n]-c-c*o:e[n]+l[n]-c+c*o:e[n]+l[n]-c+c*o>=0?e[n]+l[n]-c+c*o:e[n]+l[n]-c-c*o];else var p=[e[a],e[n]+l[n]-c+c*o];var h=p[a],m=p[n],f=i.fixed?"fixed":"absolute",g=(p[0]+d[0]>e[0]||p[0]<e[0]+l[0])&&p[1]+d[1]<e[1]+l[1];r._drawPosition(i,h,m,f,g)}},_drawPosition:function(e,t,i,a,n){var o=n?0:e.shadowBlur;r.picker.wrap.style.position=a,r.picker.wrap.style.left=t+"px",r.picker.wrap.style.top=i+"px",r.setBoxShadow(r.picker.boxS,e.shadow?new r.BoxShadow(0,o,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=2*e.controlBorderWidth+e.width,i=2*e.controlBorderWidth+e.height,a=2*e.controlBorderWidth+2*r.getControlPadding(e)+e.sliderSize;r.getSliderChannel(e)&&(t+=a),e.hasAlphaChannel()&&(t+=a);var n=r.getPaletteDims(e,t);n.height&&(i+=n.height+e.padding),e.closeButton&&(i+=2*e.controlBorderWidth+e.padding+e.buttonHeight);var o=t+2*e.padding,l=i+2*e.padding;return{contentW:t,contentH:i,paddedW:o,paddedH:l,borderW:o+2*e.borderWidth,borderH:l+2*e.borderWidth,palette:n}},getPaletteDims:function(e,t){var i=0,a=0,r=0,n=0,o=0,l=e._palette?e._palette.length:0;return l&&(a=(i=e.paletteCols)>0?Math.ceil(l/i):0,r=Math.max(1,Math.floor((t-(i-1)*e.paletteSpacing)/i)),n=e.paletteHeight?Math.min(e.paletteHeight,r):r),a&&(o=a*n+(a-1)*e.paletteSpacing),{cols:i,rows:a,cellW:r,cellH:n,width:t,height:o}},getControlPadding:function(e){return Math.max(e.padding/2,2*e.pointerBorderWidth+e.pointerThickness-e.controlBorderWidth)},getPadYChannel:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderChannel:function(e){if(e.mode.length>2)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},triggerCallback:function(e,t){if(e[t]){var i=null;if("string"==typeof e[t])try{i=new Function(e[t])}catch(e){console.error(e)}else i=e[t];i&&i.call(e)}},triggerGlobal:function(e){for(var t=r.getInstances(),i=0;i<t.length;i+=1)t[i].trigger(e)},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onDocumentKeyUp:function(e){-1!==["Tab","Escape"].indexOf(r.eventKey(e))&&r.picker&&r.picker.owner&&r.picker.owner.tryHide()},onWindowResize:function(e){r.redrawPosition()},onWindowScroll:function(e){r.redrawPosition()},onParentScroll:function(e){r.picker&&r.picker.owner&&r.picker.owner.tryHide()},onDocumentMouseDown:function(e){var t=e.target||e.srcElement;t.jscolor&&t.jscolor instanceof r.pub?t.jscolor.showOnClick&&!t.disabled&&t.jscolor.show():r.getData(t,"gui")?r.getData(t,"control")&&r.onControlPointerStart(e,t,r.getData(t,"control"),"mouse"):r.picker&&r.picker.owner&&r.picker.owner.tryHide()},onPickerTouchStart:function(e){var t=e.target||e.srcElement;r.getData(t,"control")&&r.onControlPointerStart(e,t,r.getData(t,"control"),"touch")},onControlPointerStart:function(t,i,a,n){var o=r.getData(i,"instance");r.preventDefault(t),r.captureTarget(i);var l=function(e,o){r.attachGroupEvent("drag",e,r._pointerMoveEvent[n],r.onDocumentPointerMove(t,i,a,n,o)),r.attachGroupEvent("drag",e,r._pointerEndEvent[n],r.onDocumentPointerEnd(t,i,a,n))};if(l(e.document,[0,0]),e.parent&&e.frameElement){var s=e.frameElement.getBoundingClientRect(),u=[-s.left,-s.top];l(e.parent.window.document,u)}var d=r.getAbsPointerPos(t),c=r.getRelPointerPos(t);switch(r._pointerOrigin={x:d.x-c.x,y:d.y-c.y},a){case"pad":"v"===r.getSliderChannel(o)&&0===o.channels.v&&o.fromHSVA(null,null,100,null),r.setPad(o,t,0,0);break;case"sld":r.setSld(o,t,0);break;case"asld":r.setASld(o,t,0)}o.trigger("input")},onDocumentPointerMove:function(e,t,i,a,n){return function(e){var a=r.getData(t,"instance");switch(i){case"pad":r.setPad(a,e,n[0],n[1]);break;case"sld":r.setSld(a,e,n[1]);break;case"asld":r.setASld(a,e,n[1])}a.trigger("input")}},onDocumentPointerEnd:function(e,t,i,a){return function(e){var i=r.getData(t,"instance");r.detachGroupEvents("drag"),r.releaseTarget(),i.trigger("input"),i.trigger("change")}},onPaletteSampleClick:function(e){var t=e.currentTarget,i=r.getData(t,"instance"),a=r.getData(t,"color");"any"===i.format.toLowerCase()&&(i._setFormat(a.format),r.isAlphaFormat(i.getFormat())||(a.rgba[3]=1)),null===a.rgba[3]&&(!0===i.paletteSetsAlpha||"auto"===i.paletteSetsAlpha&&i._paletteHasTransparency)&&(a.rgba[3]=1),i.fromRGBA.apply(i,a.rgba),i.trigger("input"),i.trigger("change"),i.hideOnPaletteClick&&i.hide()},setPad:function(e,t,i,a){var n=r.getAbsPointerPos(t),o=i+n.x-r._pointerOrigin.x-e.padding-e.controlBorderWidth,l=a+n.y-r._pointerOrigin.y-e.padding-e.controlBorderWidth,s=o*(360/(e.width-1)),u=100-l*(100/(e.height-1));switch(r.getPadYChannel(e)){case"s":e.fromHSVA(s,u,null,null);break;case"v":e.fromHSVA(s,null,u,null)}},setSld:function(e,t,i){var a=100-(i+r.getAbsPointerPos(t).y-r._pointerOrigin.y-e.padding-e.controlBorderWidth)*(100/(e.height-1));switch(r.getSliderChannel(e)){case"s":e.fromHSVA(null,a,null,null);break;case"v":e.fromHSVA(null,null,a,null)}},setASld:function(e,t,i){var a=1-(i+r.getAbsPointerPos(t).y-r._pointerOrigin.y-e.padding-e.controlBorderWidth)*(1/(e.height-1));if(a<1){var n=e.getFormat();"any"!==e.format.toLowerCase()||r.isAlphaFormat(n)||e._setFormat("hex"===n?"hexa":"rgba")}e.fromHSVA(null,null,null,a)},createPadCanvas:function(){var e={elm:null,draw:null},t=r.createEl("canvas"),i=t.getContext("2d");return e.elm=t,e.draw=function(e,a,r){t.width=e,t.height=a,i.clearRect(0,0,t.width,t.height);var n=i.createLinearGradient(0,0,t.width,0);n.addColorStop(0,"#F00"),n.addColorStop(1/6,"#FF0"),n.addColorStop(2/6,"#0F0"),n.addColorStop(.5,"#0FF"),n.addColorStop(4/6,"#00F"),n.addColorStop(5/6,"#F0F"),n.addColorStop(1,"#F00"),i.fillStyle=n,i.fillRect(0,0,t.width,t.height);var o=i.createLinearGradient(0,0,0,t.height);switch(r.toLowerCase()){case"s":o.addColorStop(0,"rgba(255,255,255,0)"),o.addColorStop(1,"rgba(255,255,255,1)");break;case"v":o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)")}i.fillStyle=o,i.fillRect(0,0,t.width,t.height)},e},createSliderGradient:function(){var e={elm:null,draw:null},t=r.createEl("canvas"),i=t.getContext("2d");return e.elm=t,e.draw=function(e,a,r,n){t.width=e,t.height=a,i.clearRect(0,0,t.width,t.height);var o=i.createLinearGradient(0,0,0,t.height);o.addColorStop(0,r),o.addColorStop(1,n),i.fillStyle=o,i.fillRect(0,0,t.width,t.height)},e},createASliderGradient:function(){var e={elm:null,draw:null},t=r.createEl("canvas"),i=t.getContext("2d");return e.elm=t,e.draw=function(e,a,n){t.width=e,t.height=a,i.clearRect(0,0,t.width,t.height);var o=t.width/2,l=r.pub.chessboardColor1,s=r.pub.chessboardColor2;if(i.fillStyle=l,i.fillRect(0,0,t.width,t.height),o>0)for(var u=0;u<t.height;u+=2*o)i.fillStyle=s,i.fillRect(0,u,o,o),i.fillRect(o,u+o,o,o);var d=i.createLinearGradient(0,0,0,t.height);d.addColorStop(0,n),d.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=d,i.fillRect(0,0,t.width,t.height)},e},BoxShadow:(t=function(e,t,i,a,r,n){e=e,t=t,i=i,a=a,r=r,n=!!n},t.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},t),flags:{leaveValue:1,leaveAlpha:2,leavePreview:4},enumOpts:{format:["auto","any","hex","hexa","rgb","rgba"],previewPosition:["left","right"],mode:["hsv","hvs","hs","hv"],position:["left","right","top","bottom"],alphaChannel:["auto",!0,!1],paletteSetsAlpha:["auto",!0,!1]},deprecatedOpts:{styleElement:"previewElement",onFineChange:"onInput",overwriteImportant:"forceStyle",closable:"closeButton",insetWidth:"controlBorderWidth",insetColor:"controlBorderColor",refine:null},docsRef:" See https://jscolor.com/docs/",pub:function(t,i){var a=this;function n(e,t){if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(r.enumOpts.hasOwnProperty(e)&&("string"==typeof t&&(t=t.toLowerCase()),-1===r.enumOpts[e].indexOf(t)))throw new Error("Option '"+e+"' has invalid value: "+t);if(r.deprecatedOpts.hasOwnProperty(e)){var i=e,n=r.deprecatedOpts[e];if(!n)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+r.docsRef,i,n),e=n}var o="set__"+e;if("function"==typeof a[o])return a[o](t),!0;if(e in a)return a[e]=t,!0;throw new Error("Unrecognized configuration option: "+e)}function o(e){if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(r.deprecatedOpts.hasOwnProperty(e)){var t=e,i=r.deprecatedOpts[e];if(!i)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+r.docsRef,t,i),e=i}throw new Error("Unrecognized configuration option: "+e)}function l(){a._processParentElementsInDOM(),r.picker||(r.picker={owner:null,wrap:r.createEl("div"),box:r.createEl("div"),boxS:r.createEl("div"),boxB:r.createEl("div"),pad:r.createEl("div"),padB:r.createEl("div"),padM:r.createEl("div"),padCanvas:r.createPadCanvas(),cross:r.createEl("div"),crossBY:r.createEl("div"),crossBX:r.createEl("div"),crossLY:r.createEl("div"),crossLX:r.createEl("div"),sld:r.createEl("div"),sldB:r.createEl("div"),sldM:r.createEl("div"),sldGrad:r.createSliderGradient(),sldPtrS:r.createEl("div"),sldPtrIB:r.createEl("div"),sldPtrMB:r.createEl("div"),sldPtrOB:r.createEl("div"),asld:r.createEl("div"),asldB:r.createEl("div"),asldM:r.createEl("div"),asldGrad:r.createASliderGradient(),asldPtrS:r.createEl("div"),asldPtrIB:r.createEl("div"),asldPtrMB:r.createEl("div"),asldPtrOB:r.createEl("div"),pal:r.createEl("div"),btn:r.createEl("div"),btnT:r.createEl("span")},r.picker.pad.appendChild(r.picker.padCanvas.elm),r.picker.padB.appendChild(r.picker.pad),r.picker.cross.appendChild(r.picker.crossBY),r.picker.cross.appendChild(r.picker.crossBX),r.picker.cross.appendChild(r.picker.crossLY),r.picker.cross.appendChild(r.picker.crossLX),r.picker.padB.appendChild(r.picker.cross),r.picker.box.appendChild(r.picker.padB),r.picker.box.appendChild(r.picker.padM),r.picker.sld.appendChild(r.picker.sldGrad.elm),r.picker.sldB.appendChild(r.picker.sld),r.picker.sldB.appendChild(r.picker.sldPtrOB),r.picker.sldPtrOB.appendChild(r.picker.sldPtrMB),r.picker.sldPtrMB.appendChild(r.picker.sldPtrIB),r.picker.sldPtrIB.appendChild(r.picker.sldPtrS),r.picker.box.appendChild(r.picker.sldB),r.picker.box.appendChild(r.picker.sldM),r.picker.asld.appendChild(r.picker.asldGrad.elm),r.picker.asldB.appendChild(r.picker.asld),r.picker.asldB.appendChild(r.picker.asldPtrOB),r.picker.asldPtrOB.appendChild(r.picker.asldPtrMB),r.picker.asldPtrMB.appendChild(r.picker.asldPtrIB),r.picker.asldPtrIB.appendChild(r.picker.asldPtrS),r.picker.box.appendChild(r.picker.asldB),r.picker.box.appendChild(r.picker.asldM),r.picker.box.appendChild(r.picker.pal),r.picker.btn.appendChild(r.picker.btnT),r.picker.box.appendChild(r.picker.btn),r.picker.boxB.appendChild(r.picker.box),r.picker.wrap.appendChild(r.picker.boxS),r.picker.wrap.appendChild(r.picker.boxB),r.picker.wrap.addEventListener("touchstart",r.onPickerTouchStart,!!r.isPassiveEventSupported&&{passive:!1}));var t,i,n=r.picker,o=!!r.getSliderChannel(a),l=a.hasAlphaChannel(),c=r.getPickerDims(a),p=2*a.pointerBorderWidth+a.pointerThickness+2*a.crossSize,h=r.getControlPadding(a),m=Math.min(a.borderRadius,Math.round(a.padding*Math.PI));n.wrap.className="jscolor-picker-wrap",n.wrap.style.clear="both",n.wrap.style.width=c.borderW+"px",n.wrap.style.height=c.borderH+"px",n.wrap.style.zIndex=a.zIndex,n.box.className="jscolor-picker",n.box.style.width=c.paddedW+"px",n.box.style.height=c.paddedH+"px",n.box.style.position="relative",n.boxS.className="jscolor-picker-shadow",n.boxS.style.position="absolute",n.boxS.style.left="0",n.boxS.style.top="0",n.boxS.style.width="100%",n.boxS.style.height="100%",r.setBorderRadius(n.boxS,m+"px"),n.boxB.className="jscolor-picker-border",n.boxB.style.position="relative",n.boxB.style.border=a.borderWidth+"px solid",n.boxB.style.borderColor=a.borderColor,n.boxB.style.background=a.backgroundColor,r.setBorderRadius(n.boxB,m+"px"),n.padM.style.background="rgba(255,0,0,.2)",n.sldM.style.background="rgba(0,255,0,.2)",n.asldM.style.background="rgba(0,0,255,.2)",n.padM.style.opacity=n.sldM.style.opacity=n.asldM.style.opacity="0",n.pad.style.position="relative",n.pad.style.width=a.width+"px",n.pad.style.height=a.height+"px",n.padCanvas.draw(a.width,a.height,r.getPadYChannel(a)),n.padB.style.position="absolute",n.padB.style.left=a.padding+"px",n.padB.style.top=a.padding+"px",n.padB.style.border=a.controlBorderWidth+"px solid",n.padB.style.borderColor=a.controlBorderColor,n.padM.style.position="absolute",n.padM.style.left="0px",n.padM.style.top="0px",n.padM.style.width=a.padding+2*a.controlBorderWidth+a.width+h+"px",n.padM.style.height=2*a.controlBorderWidth+2*a.padding+a.height+"px",n.padM.style.cursor="crosshair",r.setData(n.padM,{instance:a,control:"pad"}),n.cross.style.position="absolute",n.cross.style.left=n.cross.style.top="0",n.cross.style.width=n.cross.style.height=p+"px",n.crossBY.style.position=n.crossBX.style.position="absolute",n.crossBY.style.background=n.crossBX.style.background=a.pointerBorderColor,n.crossBY.style.width=n.crossBX.style.height=2*a.pointerBorderWidth+a.pointerThickness+"px",n.crossBY.style.height=n.crossBX.style.width=p+"px",n.crossBY.style.left=n.crossBX.style.top=Math.floor(p/2)-Math.floor(a.pointerThickness/2)-a.pointerBorderWidth+"px",n.crossBY.style.top=n.crossBX.style.left="0",n.crossLY.style.position=n.crossLX.style.position="absolute",n.crossLY.style.background=n.crossLX.style.background=a.pointerColor,n.crossLY.style.height=n.crossLX.style.width=p-2*a.pointerBorderWidth+"px",n.crossLY.style.width=n.crossLX.style.height=a.pointerThickness+"px",n.crossLY.style.left=n.crossLX.style.top=Math.floor(p/2)-Math.floor(a.pointerThickness/2)+"px",n.crossLY.style.top=n.crossLX.style.left=a.pointerBorderWidth+"px",n.sld.style.overflow="hidden",n.sld.style.width=a.sliderSize+"px",n.sld.style.height=a.height+"px",n.sldGrad.draw(a.sliderSize,a.height,"#000","#000"),n.sldB.style.display=o?"block":"none",n.sldB.style.position="absolute",n.sldB.style.left=a.padding+a.width+2*a.controlBorderWidth+2*h+"px",n.sldB.style.top=a.padding+"px",n.sldB.style.border=a.controlBorderWidth+"px solid",n.sldB.style.borderColor=a.controlBorderColor,n.sldM.style.display=o?"block":"none",n.sldM.style.position="absolute",n.sldM.style.left=a.padding+a.width+2*a.controlBorderWidth+h+"px",n.sldM.style.top="0px",n.sldM.style.width=a.sliderSize+2*h+2*a.controlBorderWidth+(l?0:Math.max(0,a.padding-h))+"px",n.sldM.style.height=2*a.controlBorderWidth+2*a.padding+a.height+"px",n.sldM.style.cursor="default",r.setData(n.sldM,{instance:a,control:"sld"}),n.sldPtrIB.style.border=n.sldPtrOB.style.border=a.pointerBorderWidth+"px solid "+a.pointerBorderColor,n.sldPtrOB.style.position="absolute",n.sldPtrOB.style.left=-(2*a.pointerBorderWidth+a.pointerThickness)+"px",n.sldPtrOB.style.top="0",n.sldPtrMB.style.border=a.pointerThickness+"px solid "+a.pointerColor,n.sldPtrS.style.width=a.sliderSize+"px",n.sldPtrS.style.height=r.pub.sliderInnerSpace+"px",n.asld.style.overflow="hidden",n.asld.style.width=a.sliderSize+"px",n.asld.style.height=a.height+"px",n.asldGrad.draw(a.sliderSize,a.height,"#000"),n.asldB.style.display=l?"block":"none",n.asldB.style.position="absolute",n.asldB.style.left=a.padding+a.width+2*a.controlBorderWidth+h+(o?a.sliderSize+3*h+2*a.controlBorderWidth:0)+"px",n.asldB.style.top=a.padding+"px",n.asldB.style.border=a.controlBorderWidth+"px solid",n.asldB.style.borderColor=a.controlBorderColor,n.asldM.style.display=l?"block":"none",n.asldM.style.position="absolute",n.asldM.style.left=a.padding+a.width+2*a.controlBorderWidth+h+(o?a.sliderSize+2*h+2*a.controlBorderWidth:0)+"px",n.asldM.style.top="0px",n.asldM.style.width=a.sliderSize+2*h+2*a.controlBorderWidth+Math.max(0,a.padding-h)+"px",n.asldM.style.height=2*a.controlBorderWidth+2*a.padding+a.height+"px",n.asldM.style.cursor="default",r.setData(n.asldM,{instance:a,control:"asld"}),n.asldPtrIB.style.border=n.asldPtrOB.style.border=a.pointerBorderWidth+"px solid "+a.pointerBorderColor,n.asldPtrOB.style.position="absolute",n.asldPtrOB.style.left=-(2*a.pointerBorderWidth+a.pointerThickness)+"px",n.asldPtrOB.style.top="0",n.asldPtrMB.style.border=a.pointerThickness+"px solid "+a.pointerColor,n.asldPtrS.style.width=a.sliderSize+"px",n.asldPtrS.style.height=r.pub.sliderInnerSpace+"px",n.pal.className="jscolor-palette",n.pal.style.display=c.palette.rows?"block":"none",n.pal.style.position="absolute",n.pal.style.left=a.padding+"px",n.pal.style.top=2*a.controlBorderWidth+2*a.padding+a.height+"px",n.pal.innerHTML="";for(var f=r.genColorPreviewCanvas("rgba(0,0,0,0)"),g=0,v=0;v<c.palette.rows;v++)for(var b=0;b<c.palette.cols&&g<a._palette.length;b++,g++){var C=a._palette[g],x=r.rgbaColor.apply(null,C.rgba),w=r.createEl("div");w.style.width=c.palette.cellW-2*a.controlBorderWidth+"px",w.style.height=c.palette.cellH-2*a.controlBorderWidth+"px",w.style.backgroundColor=x;var y=r.createEl("div");y.className="jscolor-palette-sample",y.style.display="block",y.style.position="absolute",y.style.left=(c.palette.cols<=1?0:Math.round(b*((c.contentW-c.palette.cellW)/(c.palette.cols-1))*10)/10)+"px",y.style.top=v*(c.palette.cellH+a.paletteSpacing)+"px",y.style.border=a.controlBorderWidth+"px solid",y.style.borderColor=a.controlBorderColor,y.style.cursor="pointer",null!==C.rgba[3]&&C.rgba[3]<1&&(y.style.backgroundImage="url('"+f.canvas.toDataURL()+"')",y.style.backgroundRepeat="repeat",y.style.backgroundPosition="center center"),r.setData(y,{instance:a,control:"palette-sample",color:C}),y.addEventListener("click",r.onPaletteSampleClick,!1),y.appendChild(w),n.pal.appendChild(y)}n.btn.className="jscolor-btn-close",n.btn.style.display=a.closeButton?"block":"none",n.btn.style.position="absolute",n.btn.style.left=a.padding+"px",n.btn.style.bottom=a.padding+"px",n.btn.style.padding="0 15px",n.btn.style.maxWidth=c.contentW-2*a.controlBorderWidth-30+"px",n.btn.style.overflow="hidden",n.btn.style.height=a.buttonHeight+"px",n.btn.style.whiteSpace="nowrap",n.btn.style.border=a.controlBorderWidth+"px solid",t=a.controlBorderColor.split(/\s+/),i=t.length<2?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1],n.btn.style.borderColor=i,n.btn.style.color=a.buttonColor,n.btn.style.font="12px sans-serif",n.btn.style.textAlign="center",n.btn.style.cursor="pointer",n.btn.onmousedown=function(){a.hide()},n.btnT.style.lineHeight=a.buttonHeight+"px",n.btnT.innerHTML="",n.btnT.appendChild(e.document.createTextNode(a.closeText)),s(),u(),d(),r.picker.owner&&r.picker.owner!==a&&r.removeClass(r.picker.owner.targetElement,r.pub.activeClassName),r.picker.owner=a,a.container===e.document.body?r.redrawPosition():r._drawPosition(a,0,0,"relative",!1),n.wrap.parentNode!==a.container&&a.container.appendChild(n.wrap),r.addClass(a.targetElement,r.pub.activeClassName)}function s(){var e=r.getPadYChannel(a),t=Math.round(a.channels.h/360*(a.width-1)),i=Math.round((1-a.channels[e]/100)*(a.height-1)),n=2*a.pointerBorderWidth+a.pointerThickness+2*a.crossSize,o=-Math.floor(n/2);switch(r.picker.cross.style.left=t+o+"px",r.picker.cross.style.top=i+o+"px",r.getSliderChannel(a)){case"s":var l=r.HSV_RGB(a.channels.h,100,a.channels.v),s=r.HSV_RGB(a.channels.h,0,a.channels.v),u="rgb("+Math.round(l[0])+","+Math.round(l[1])+","+Math.round(l[2])+")",d="rgb("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+")";r.picker.sldGrad.draw(a.sliderSize,a.height,u,d);break;case"v":var c=r.HSV_RGB(a.channels.h,a.channels.s,100);u="rgb("+Math.round(c[0])+","+Math.round(c[1])+","+Math.round(c[2])+")",d="#000",r.picker.sldGrad.draw(a.sliderSize,a.height,u,d)}r.picker.asldGrad.draw(a.sliderSize,a.height,a.toHEXString())}function u(){var e=r.getSliderChannel(a);if(e){var t=Math.round((1-a.channels[e]/100)*(a.height-1));r.picker.sldPtrOB.style.top=t-(2*a.pointerBorderWidth+a.pointerThickness)-Math.floor(r.pub.sliderInnerSpace/2)+"px"}r.picker.asldGrad.draw(a.sliderSize,a.height,a.toHEXString())}function d(){var e=Math.round((1-a.channels.a)*(a.height-1));r.picker.asldPtrOB.style.top=e-(2*a.pointerBorderWidth+a.pointerThickness)-Math.floor(r.pub.sliderInnerSpace/2)+"px"}function c(){return r.picker&&r.picker.owner===a}if(i||(i={}),this.channels={r:255,g:255,b:255,h:0,s:0,v:100,a:1},this.format="auto",this.value=void 0,this.alpha=void 0,this.random=!1,this.onChange=void 0,this.onInput=void 0,this.valueElement=void 0,this.alphaElement=void 0,this.previewElement=void 0,this.previewPosition="left",this.previewSize=32,this.previewPadding=8,this.required=!0,this.hash=!0,this.uppercase=!0,this.forceStyle=!0,this.width=181,this.height=101,this.mode="HSV",this.alphaChannel="auto",this.position="bottom",this.smartPosition=!0,this.showOnClick=!0,this.hideOnLeave=!0,this.palette=[],this.paletteCols=10,this.paletteSetsAlpha="auto",this.paletteHeight=16,this.paletteSpacing=4,this.hideOnPaletteClick=!1,this.sliderSize=16,this.crossSize=8,this.closeButton=!1,this.closeText="Close",this.buttonColor="rgba(0,0,0,1)",this.buttonHeight=18,this.padding=12,this.backgroundColor="rgba(255,255,255,1)",this.borderWidth=1,this.borderColor="rgba(187,187,187,1)",this.borderRadius=8,this.controlBorderWidth=1,this.controlBorderColor="rgba(187,187,187,1)",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="rgba(76,76,76,1)",this.pointerBorderWidth=1,this.pointerBorderColor="rgba(255,255,255,1)",this.pointerThickness=2,this.zIndex=5e3,this.container=void 0,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.minA=0,this.maxA=1,this.option=function(){if(!arguments.length)throw new Error("No option specified");if(1===arguments.length&&"string"==typeof arguments[0]){try{return o(arguments[0])}catch(e){console.warn(e)}return!1}if(arguments.length>=2&&"string"==typeof arguments[0]){try{if(!n(arguments[0],arguments[1]))return!1}catch(e){return console.warn(e),!1}return this.redraw(),this.exposeColor(),!0}if(1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0],t=!0;for(var i in e)if(e.hasOwnProperty(i))try{n(i,e[i])||(t=!1)}catch(e){console.warn(e),t=!1}return this.redraw(),this.exposeColor(),t}throw new Error("Invalid arguments")},this.channel=function(e,t){if("string"!=typeof e)throw new Error("Invalid value for channel name: "+e);if(void 0===t)return this.channels.hasOwnProperty(e.toLowerCase())?this.channels[e.toLowerCase()]:(console.warn("Getting unknown channel: "+e),!1);var i=!1;switch(e.toLowerCase()){case"r":i=this.fromRGBA(t,null,null,null);break;case"g":i=this.fromRGBA(null,t,null,null);break;case"b":i=this.fromRGBA(null,null,t,null);break;case"h":i=this.fromHSVA(t,null,null,null);break;case"s":i=this.fromHSVA(null,t,null,null);break;case"v":i=this.fromHSVA(null,null,t,null);break;case"a":i=this.fromHSVA(null,null,null,t);break;default:return console.warn("Setting unknown channel: "+e),!1}return!!i&&(this.redraw(),!0)},this.trigger=function(e){for(var t=r.strList(e),i=0;i<t.length;i+=1){var a=t[i].toLowerCase(),n=null;switch(a){case"input":n="onInput";break;case"change":n="onChange"}n&&r.triggerCallback(this,n),r.triggerInputEvent(this.valueElement,a,!0,!0)}},this.fromHSVA=function(e,t,i,a,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===a&&(a=null),null!==e){if(isNaN(e))return!1;this.channels.h=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;this.channels.s=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==i){if(isNaN(i))return!1;this.channels.v=Math.max(0,Math.min(100,this.maxV,i),this.minV)}if(null!==a){if(isNaN(a))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,a),this.minA):1}var o=r.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=o[0],this.channels.g=o[1],this.channels.b=o[2],this.exposeColor(n),!0},this.fromRGBA=function(e,t,i,a,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===a&&(a=null),null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==i){if(isNaN(i))return!1;i=Math.max(0,Math.min(255,i))}if(null!==a){if(isNaN(a))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,a),this.minA):1}var o=r.RGB_HSV(null===e?this.channels.r:e,null===t?this.channels.g:t,null===i?this.channels.b:i);null!==o[0]&&(this.channels.h=Math.max(0,Math.min(360,o[0]))),0!==o[2]&&(this.channels.s=Math.max(0,this.minS,Math.min(100,this.maxS,o[1]))),this.channels.v=Math.max(0,this.minV,Math.min(100,this.maxV,o[2]));var l=r.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=l[0],this.channels.g=l[1],this.channels.b=l[2],this.exposeColor(n),!0},this.fromHSV=function(e,t,i,a){return console.warn("fromHSV() method is DEPRECATED. Using fromHSVA() instead."+r.docsRef),this.fromHSVA(e,t,i,null,a)},this.fromRGB=function(e,t,i,a){return console.warn("fromRGB() method is DEPRECATED. Using fromRGBA() instead."+r.docsRef),this.fromRGBA(e,t,i,null,a)},this.fromString=function(e,t){if(!this.required&&""===e.trim())return this.setPreviewElementBg(null),this.setValueElementValue(""),!0;var i=r.parseColorString(e);return!!i&&("any"===this.format.toLowerCase()&&(this._setFormat(i.format),r.isAlphaFormat(this.getFormat())||(i.rgba[3]=1)),this.fromRGBA(i.rgba[0],i.rgba[1],i.rgba[2],i.rgba[3],t),!0)},this.randomize=function(e,t,i,a,r,n,o,l){void 0===e&&(e=0),void 0===t&&(t=100),void 0===i&&(i=0),void 0===a&&(a=100),void 0===r&&(r=0),void 0===n&&(n=359),void 0===o&&(o=1),void 0===l&&(l=1),this.fromHSVA(r+Math.floor(Math.random()*(n-r+1)),i+Math.floor(Math.random()*(a-i+1)),e+Math.floor(Math.random()*(t-e+1)),(100*o+Math.floor(Math.random()*(100*(l-o)+1)))/100)},this.toString=function(e){switch(void 0===e&&(e=this.getFormat()),e.toLowerCase()){case"hex":return this.toHEXString();case"hexa":return this.toHEXAString();case"rgb":return this.toRGBString();case"rgba":return this.toRGBAString()}return!1},this.toHEXString=function(){return r.hexColor(this.channels.r,this.channels.g,this.channels.b)},this.toHEXAString=function(){return r.hexaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toRGBString=function(){return r.rgbColor(this.channels.r,this.channels.g,this.channels.b)},this.toRGBAString=function(){return r.rgbaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toGrayscale=function(){return.213*this.channels.r+.715*this.channels.g+.072*this.channels.b},this.toCanvas=function(){return r.genColorPreviewCanvas(this.toRGBAString()).canvas},this.toDataURL=function(){return this.toCanvas().toDataURL()},this.toBackground=function(){return r.pub.background(this.toRGBAString())},this.isLight=function(){return this.toGrayscale()>127.5},this.hide=function(){c()&&(r.removeClass(a.targetElement,r.pub.activeClassName),r.picker.wrap.parentNode.removeChild(r.picker.wrap),delete r.picker.owner)},this.show=function(){l()},this.redraw=function(){c()&&l()},this.getFormat=function(){return this._currentFormat},this._setFormat=function(e){this._currentFormat=e.toLowerCase()},this.hasAlphaChannel=function(){return"auto"===this.alphaChannel?"any"===this.format.toLowerCase()||r.isAlphaFormat(this.getFormat())||void 0!==this.alpha||void 0!==this.alphaElement:this.alphaChannel},this.processValueInput=function(e){this.fromString(e)||this.exposeColor()},this.processAlphaInput=function(e){this.fromHSVA(null,null,null,parseFloat(e))||this.exposeColor()},this.exposeColor=function(e){var t=this.toString(),i=this.getFormat();if(r.setDataAttr(this.targetElement,"current-color",t),e&r.flags.leaveValue||!this.valueElement||("hex"!==i&&"hexa"!==i||(this.uppercase||(t=t.toLowerCase()),this.hash||(t=t.replace(/^#/,""))),this.setValueElementValue(t)),!(e&r.flags.leaveAlpha)&&this.alphaElement){var a=Math.round(100*this.channels.a)/100;this.setAlphaElementValue(a)}e&r.flags.leavePreview||!this.previewElement||((r.isTextInput(this.previewElement)||r.isButton(this.previewElement)&&!r.isButtonEmpty(this.previewElement))&&this.previewPosition,this.setPreviewElementBg(this.toRGBAString())),c()&&(s(),u(),d())},this.setPreviewElementBg=function(e){if(this.previewElement){var t=null,i=null;(r.isTextInput(this.previewElement)||r.isButton(this.previewElement)&&!r.isButtonEmpty(this.previewElement))&&(t=this.previewPosition,i=this.previewSize);var a=[];if(e){a.push({image:r.genColorPreviewGradient(e,t,i?i-r.pub.previewSeparator.length:null),position:"left top",size:"auto",repeat:t?"repeat-y":"repeat",origin:"padding-box"});var n=r.genColorPreviewCanvas("rgba(0,0,0,0)",t?{left:"right",right:"left"}[t]:null,i,!0);a.push({image:"url('"+n.canvas.toDataURL()+"')",position:(t||"left")+" top",size:n.width+"px "+n.height+"px",repeat:t?"repeat-y":"repeat",origin:"padding-box"})}else a.push({image:"none",position:"left top",size:"auto",repeat:"no-repeat",origin:"padding-box"});for(var o={image:[],position:[],size:[],repeat:[],origin:[]},l=0;l<a.length;l+=1){let e=a[l];o.image.push(e.image),o.position.push(e.position),o.size.push(e.size),o.repeat.push(e.repeat),o.origin.push(e.origin)}var s={"background-image":o.image.join(", "),"background-position":o.position.join(", "),"background-size":o.size.join(", "),"background-repeat":o.repeat.join(", "),"background-origin":o.origin.join(", ")};r.setStyle(this.previewElement,s,this.forceStyle);var u={left:null,right:null};t&&(u[t]=this.previewSize+this.previewPadding+"px");var d={"padding-left":u.left,"padding-right":u.right};r.setStyle(this.previewElement,d,this.forceStyle,!0)}},this.setValueElementValue=function(e){this.valueElement&&("input"===r.nodeName(this.valueElement)?this.valueElement.value=e:this.valueElement.innerHTML=e)},this.setAlphaElementValue=function(e){this.alphaElement&&("input"===r.nodeName(this.alphaElement)?this.alphaElement.value=e:this.alphaElement.innerHTML=e)},this._processParentElementsInDOM=function(){if(!this._parentElementsProcessed){this._parentElementsProcessed=!0;var e=this.targetElement;do{var t=r.getCompStyle(e);t.position&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(r.getData(e,"hasScrollListener")||(e.addEventListener("scroll",r.onParentScroll,!1),r.setData(e,"hasScrollListener",!0)))}while((e=e.parentNode)&&"body"!==r.nodeName(e))}},this.tryHide=function(){this.hideOnLeave&&this.hide()},this.set__palette=function(e){this.palette=e,this._palette=r.parsePaletteValue(e),this._paletteHasTransparency=r.containsTranparentColor(this._palette)},r.pub.options)for(var p in r.pub.options)if(r.pub.options.hasOwnProperty(p))try{n(p,r.pub.options[p])}catch(e){console.warn(e)}var h=[];i.preset&&("string"==typeof i.preset?h=i.preset.split(/\s+/):Array.isArray(i.preset)?h=i.preset.slice():console.warn("Unrecognized preset value")),-1===h.indexOf("default")&&h.push("default");for(var m=h.length-1;m>=0;m-=1){var f=h[m];if(f)if(r.pub.presets.hasOwnProperty(f)){for(var p in r.pub.presets[f])if(r.pub.presets[f].hasOwnProperty(p))try{n(p,r.pub.presets[f][p])}catch(e){console.warn(e)}}else console.warn("Unknown preset: %s",f)}var g=["preset"];for(var p in i)if(i.hasOwnProperty(p)&&-1===g.indexOf(p))try{n(p,i[p])}catch(e){console.warn(e)}if(void 0===this.container?this.container=e.document.body:this.container=r.node(this.container),!this.container)throw new Error("Cannot instantiate color picker without a container element");if(this.targetElement=r.node(t),!this.targetElement){if("string"==typeof t&&/^[a-zA-Z][\w:.-]*$/.test(t))throw new Error("If '"+t+"' is supposed to be an ID, please use '#"+t+"' or any valid CSS selector.");throw new Error("Cannot instantiate color picker without a target element")}if(this.targetElement.jscolor&&this.targetElement.jscolor instanceof r.pub)throw new Error("Color picker already installed on this element");if(this.targetElement.jscolor=this,r.addClass(this.targetElement,r.pub.className),r.instances.push(this),r.isButton(this.targetElement)&&("button"!==this.targetElement.type.toLowerCase()&&(this.targetElement.type="button"),r.isButtonEmpty(this.targetElement))){r.removeChildren(this.targetElement),this.targetElement.appendChild(e.document.createTextNode(" "));var v=r.getCompStyle(this.targetElement);(parseFloat(v["min-width"])||0)<this.previewSize&&r.setStyle(this.targetElement,{"min-width":this.previewSize+"px"},this.forceStyle)}if(void 0===this.valueElement?r.isTextInput(this.targetElement)&&(this.valueElement=this.targetElement):null===this.valueElement||(this.valueElement=r.node(this.valueElement)),this.alphaElement&&(this.alphaElement=r.node(this.alphaElement)),void 0===this.previewElement?this.previewElement=this.targetElement:null===this.previewElement||(this.previewElement=r.node(this.previewElement)),this.valueElement&&r.isTextInput(this.valueElement)){var b={onInput:this.valueElement.oninput};this.valueElement.oninput=null,this.valueElement.addEventListener("keydown",(function(e){"Enter"===r.eventKey(e)&&(a.valueElement&&a.processValueInput(a.valueElement.value),a.tryHide())}),!1),this.valueElement.addEventListener("change",(function(e){if(!r.getData(e,"internal")){var t=a.valueElement.value;a.processValueInput(a.valueElement.value),r.triggerCallback(a,"onChange"),a.valueElement.value!==t&&r.triggerInputEvent(a.valueElement,"change",!0,!0)}}),!1),this.valueElement.addEventListener("input",(function(e){r.getData(e,"internal")||(a.valueElement&&a.fromString(a.valueElement.value,r.flags.leaveValue),r.triggerCallback(a,"onInput"))}),!1),b.onInput&&this.valueElement.addEventListener("input",b.onInput,!1),this.valueElement.setAttribute("autocomplete","off"),this.valueElement.setAttribute("autocorrect","off"),this.valueElement.setAttribute("autocapitalize","off"),this.valueElement.setAttribute("spellcheck",!1)}this.alphaElement&&r.isTextInput(this.alphaElement)&&(this.alphaElement.addEventListener("keydown",(function(e){"Enter"===r.eventKey(e)&&(a.alphaElement&&a.processAlphaInput(a.alphaElement.value),a.tryHide())}),!1),this.alphaElement.addEventListener("change",(function(e){if(!r.getData(e,"internal")){var t=a.alphaElement.value;a.processAlphaInput(a.alphaElement.value),r.triggerCallback(a,"onChange"),r.triggerInputEvent(a.valueElement,"change",!0,!0),a.alphaElement.value!==t&&r.triggerInputEvent(a.alphaElement,"change",!0,!0)}}),!1),this.alphaElement.addEventListener("input",(function(e){r.getData(e,"internal")||(a.alphaElement&&a.fromHSVA(null,null,null,parseFloat(a.alphaElement.value),r.flags.leaveAlpha),r.triggerCallback(a,"onInput"),r.triggerInputEvent(a.valueElement,"input",!0,!0))}),!1),this.alphaElement.setAttribute("autocomplete","off"),this.alphaElement.setAttribute("autocorrect","off"),this.alphaElement.setAttribute("autocapitalize","off"),this.alphaElement.setAttribute("spellcheck",!1));var C="FFFFFF";void 0!==this.value?C=this.value:this.valueElement&&void 0!==this.valueElement.value&&(C=this.valueElement.value);var x=void 0;if(void 0!==this.alpha?x=""+this.alpha:this.alphaElement&&void 0!==this.alphaElement.value&&(x=this.alphaElement.value),this._currentFormat=null,["auto","any"].indexOf(this.format.toLowerCase())>-1){var w=r.parseColorString(C);this._currentFormat=w?w.format:"hex"}else this._currentFormat=this.format.toLowerCase();this.processValueInput(C),void 0!==x&&this.processAlphaInput(x),this.random&&this.randomize.apply(this,Array.isArray(this.random)?this.random:[])}}).pub.className="jscolor",r.pub.activeClassName="jscolor-active",r.pub.looseJSON=!0,r.pub.presets={},r.pub.presets.default={},r.pub.presets.light={backgroundColor:"rgba(255,255,255,1)",controlBorderColor:"rgba(187,187,187,1)",buttonColor:"rgba(0,0,0,1)"},r.pub.presets.dark={backgroundColor:"rgba(51,51,51,1)",controlBorderColor:"rgba(153,153,153,1)",buttonColor:"rgba(240,240,240,1)"},r.pub.presets.small={width:101,height:101,padding:10,sliderSize:14,paletteCols:8},r.pub.presets.medium={width:181,height:101,padding:12,sliderSize:16,paletteCols:10},r.pub.presets.large={width:271,height:151,padding:12,sliderSize:24,paletteCols:15},r.pub.presets.thin={borderWidth:1,controlBorderWidth:1,pointerBorderWidth:1},r.pub.presets.thick={borderWidth:2,controlBorderWidth:2,pointerBorderWidth:2},r.pub.sliderInnerSpace=3,r.pub.chessboardSize=8,r.pub.chessboardColor1="#666666",r.pub.chessboardColor2="#999999",r.pub.previewSeparator=["rgba(255,255,255,.65)","rgba(128,128,128,.65)"],r.pub.init=function(){if(!r.initialized)for(e.document.addEventListener("mousedown",r.onDocumentMouseDown,!1),e.document.addEventListener("keyup",r.onDocumentKeyUp,!1),e.addEventListener("resize",r.onWindowResize,!1),e.addEventListener("scroll",r.onWindowScroll,!1),r.pub.install(),r.initialized=!0;r.readyQueue.length;)r.readyQueue.shift()()},r.pub.install=function(e){var t=!0;try{r.installBySelector("[data-jscolor]",e)}catch(e){t=!1,console.warn(e)}if(r.pub.lookupClass)try{r.installBySelector("input."+r.pub.lookupClass+", button."+r.pub.lookupClass,e)}catch(e){}return t},r.pub.ready=function(e){return"function"!=typeof e?(console.warn("Passed value is not a function"),!1):(r.initialized?e():r.readyQueue.push(e),!0)},r.pub.trigger=function(e){var t=function(){r.triggerGlobal(e)};r.initialized?t():r.pub.ready(t)},r.pub.hide=function(){r.picker&&r.picker.owner&&r.picker.owner.hide()},r.pub.chessboard=function(e){return e||(e="rgba(0,0,0,0)"),r.genColorPreviewCanvas(e).canvas.toDataURL()},r.pub.background=function(e){var t=[];t.push(r.genColorPreviewGradient(e));var i=r.genColorPreviewCanvas();return t.push(["url('"+i.canvas.toDataURL()+"')","left top","repeat"].join(" ")),t.join(", ")},r.pub.options={},r.pub.lookupClass="jscolor",r.pub.installByClassName=function(){return console.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor="" attribute instead of a class name.'+r.docsRef),!1},r.register(),r.pub);return void 0===e.jscolor&&(e.jscolor=e.JSColor=n),n},"object"!=typeof e.exports?r(a):e.exports=a.document?r(a):function(e){if(!e.document)throw new Error("jscolor needs a window with document");return r(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=t.SearchBarOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.SearchBarOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.expandOnClick&&(t.expandOnClick=!0),null==t.collapseOnBlur&&(t.collapseOnBlur=!1),null==t.collapsed&&(t.collapsed=!1),null==t.placeholder&&(t.placeholder="Cerca..."),null==t.icon&&(t.icon=!0),1==t.icon&&(t.icon=r.IconClassLight.Search),super(e,t,r.ControlTypeEnum.SearchBar),!1!==t.icon&&r.createIcon({value:t.icon,color:null!=t.onClick?"#878787":"#CCC",onClick:e=>{if(null!=t.expandOnClick&&this.expand(),null!=t.onClick){let e=new d;e.sender=this,e.value=this.value(),t.onClick(e)}}},this.element()),this._textBox=r.createTextBox({placeholder:t.placeholder,width:!1!==t.icon?"Calc(100% - 15px)":"100%",onKeyDown:e=>this._previousValue=this.value(),onKeyUp:e=>{if(null!=t.onKeyUp){let e=new s;e.sender=this,e.value=this.value(),e.previousValue=this._previousValue,t.onKeyUp(e)}},onEnterKey:()=>{if(null!=t.onEnterKey){let e=new u;e.sender=this,e.value=this.value(),t.onEnterKey(e)}},onBlur:e=>{if(t.collapseOnBlur&&this.collapse(),null!=t.onBlur){let e=new c;e.sender=this,e.value=this.value(),t.onBlur(e)}}},this.element()),t.collapsed&&this.collapse()}value(e){return this._textBox.value(e)}clear(){this._textBox.clear()}collapse(){this._textBox.hide(),this.container().style.cssText+="border-bottom: none;"}expand(){this._textBox.show(),this._textBox.focus(),this.container().style.cssText+="border-bottom: solid 1px #d9d9d9;"}isCollapsed(){return!this._textBox.visible()}focus(){this._textBox.focus()}}t.SearchBar=o;class l extends a.VrControlsEvent{}class s extends l{}class u extends l{}class d extends l{}class c extends l{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Splitter=t.SplitterOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.SplitterOptions=n;class o extends a.VrControl{constructor(e,t){switch(null==t&&(t=new n),null==t.direction&&(t.direction=r.SplitterDirectionEnum.Horizontal),null==t.resizable&&(t.resizable=!0),null==t.tabIndex&&(t.tabIndex=-1),null==t.collapsable&&(t.collapsable=!1),!0===t.collapsable&&(t.collapsable=new r.SplitterCollapsableSettings,null==t.collapsable.direction&&(t.collapsable.direction=r.SplitterCollapseDirectionEnum.Left),null==t.collapsable.color&&(t.collapsable.color="#000"),t.direction==r.SplitterDirectionEnum.Horizontal?t.collapsable.direction=r.SplitterCollapseDirectionEnum.Left:t.direction==r.SplitterDirectionEnum.Vertical&&(t.collapsable.direction=r.SplitterCollapseDirectionEnum.Up)),super(e,t,r.ControlTypeEnum.Splitter),t.resizable&&l(this,t),t.direction){case r.SplitterDirectionEnum.Horizontal:r.puma(this.element()).attr("data-direction","horizontal");break;case r.SplitterDirectionEnum.Vertical:r.puma(this.element()).attr("data-direction","vertical")}if(!1!==t.collapsable){let e="",i="";switch(t.collapsable.direction){case r.SplitterCollapseDirectionEnum.Left:e=r.IconClassSolid.CaretLeft,i="left: -5px; top: Calc(50% - 8px);";break;case r.SplitterCollapseDirectionEnum.Right:e=r.IconClassSolid.CaretRight,i="left: 0px; top: Calc(50% - 8px);";break;case r.SplitterCollapseDirectionEnum.Up:e=r.IconClassSolid.CaretUp,i="top: -10px; left: Calc(50% - 5px);";break;case r.SplitterCollapseDirectionEnum.Down:e=r.IconClassSolid.CaretDown,i="top: -5px; left: Calc(50% - 5px)"}r.createIcon({value:e,cssContainer:"position: absolute; "+i,color:t.collapsable.color,tag:"expanded",onClick:e=>{let i=e.sender.tag();if(null==this._previousDiv&&(this._previousDiv=this.container().previousElementSibling,this._nextDiv=this.container().nextElementSibling),null!=t.onBeforeExpandCollapse){let a=new d;if(a.sender=this,a.collapse="expanded"==i,a.previousDiv=this._previousDiv,a.nextDiv=this._nextDiv,t.onBeforeExpandCollapse(a),a.isDefaultPrevented())return void e.preventDefault()}switch(t.collapsable.direction){case r.SplitterCollapseDirectionEnum.Left:if("expanded"==i)r.puma(this._previousDiv).hide(),r.puma(this._nextDiv).width("100%"),e.sender.value(r.IconClassSolid.CaretRight),e.sender.cssContainer("left: 0px;");else{r.puma(this._previousDiv).show();let t=100-this._previousDiv.style.width.vrGetNumericPart()+"%";this._previousDiv.style.width.endsWith("px")&&(t="Calc(100% - "+this._previousDiv.style.width.vrGetNumericPart()+"px)"),r.puma(this._nextDiv).width(t),e.sender.value(r.IconClassSolid.CaretLeft),e.sender.cssContainer("left: -5px;")}break;case r.SplitterCollapseDirectionEnum.Right:if("expanded"==i)r.puma(this._previousDiv).width("100%"),r.puma(this._nextDiv).hide(),e.sender.value(r.IconClassSolid.CaretLeft),e.sender.cssContainer("left: -5px;");else{let t=100-this._nextDiv.style.width.vrGetNumericPart()+"%";this._nextDiv.style.width.endsWith("px")&&(t="Calc(100% - "+this._nextDiv.style.width.vrGetNumericPart()+"px)"),r.puma(this._previousDiv).width(t),r.puma(this._nextDiv).show(),e.sender.value(r.IconClassSolid.CaretRight),e.sender.cssContainer("left: 0px;")}break;case r.SplitterCollapseDirectionEnum.Down:if("expanded"==i)r.puma(this._previousDiv).height("100%"),r.puma(this._nextDiv).hide(),e.sender.value(r.IconClassSolid.CaretUp),e.sender.cssContainer("top: -10px;");else{let t=100-this._nextDiv.style.height.vrGetNumericPart()+"%";this._nextDiv.style.height.endsWith("px")&&(t="Calc(100% - "+this._nextDiv.style.height.vrGetNumericPart()+"px)"),r.puma(this._previousDiv).height(t),r.puma(this._nextDiv).show(),e.sender.value(r.IconClassSolid.CaretDown),e.sender.cssContainer("top: -5px;")}break;case r.SplitterCollapseDirectionEnum.Up:if("expanded"==i)r.puma(this._previousDiv).hide(),r.puma(this._nextDiv).height("100%"),e.sender.value(r.IconClassSolid.CaretDown),e.sender.cssContainer("top: -5px;");else{r.puma(this._previousDiv).show();let t=100-this._previousDiv.style.height.vrGetNumericPart()+"%";this._previousDiv.style.height.endsWith("px")&&(t="Calc(100% - "+this._previousDiv.style.height.vrGetNumericPart()+"px)"),r.puma(this._nextDiv).height(t),e.sender.value(r.IconClassSolid.CaretUp),e.sender.cssContainer("top: -10px;")}}if(null!=t.onAfterExpandExpandCollapse){let e=new c;e.sender=this,e.collapse="expanded"==i,e.previousDiv=this._previousDiv,e.nextDiv=this._nextDiv,t.onAfterExpandExpandCollapse(e)}"expanded"==i?e.sender.tag("collapsed"):e.sender.tag("expanded")}},this.container())}}}t.Splitter=o;let l=(e,t)=>{let i=e.element(),a=null,r=null,n=null,o=0,l=0,s=0,u=0;const d=e=>{const t=e.clientX-o,d=e.clientY-l;switch(a){case"vertical":{const e=100*(s+d)/i.parentElement.parentNode.getBoundingClientRect().height;r.style.height=e+"%",n.style.height=100-e+"%"}break;case"horizontal":default:{const e=100*(u+t)/i.parentElement.parentNode.getBoundingClientRect().width;r.style.width=e+"%",n.style.width=100-e+"%"}}const c="horizontal"===a?"col-resize":"row-resize";i.style.cursor=c,document.body.style.cursor=c,r.style.userSelect="none",r.style.pointerEvents="none",n.style.userSelect="none",n.style.pointerEvents="none"},c=()=>{if(i.style.removeProperty("cursor"),document.body.style.removeProperty("cursor"),r.style.removeProperty("user-select"),r.style.removeProperty("pointer-events"),n.style.removeProperty("user-select"),n.style.removeProperty("pointer-events"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",c),null!=t.onAfterResize){let i=new m;i.sender=e,i.previousDiv=r,i.nextDiv=n,i.direction=a,t.onAfterResize(i)}};i.addEventListener("mousedown",p=>{if(a=i.getAttribute("data-direction")||"horizontal",r=i.parentElement.previousElementSibling,n=i.parentElement.nextElementSibling,null!=t.onBeforeResize){let i=new h;if(i.sender=e,i.previousDiv=r,i.nextDiv=n,i.direction=a,t.onBeforeResize(i),i.isDefaultPrevented())return void p.preventDefault()}o=p.clientX,l=p.clientY;const m=r.getBoundingClientRect();s=m.height,u=m.width,document.addEventListener("mousemove",d),document.addEventListener("mouseup",c)})};class s extends a.VrControlsEvent{}class u extends s{}class d extends u{}class c extends u{}class p extends s{}class h extends p{}class m extends p{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCompleteBox=t.AutoCompleteBoxOptions=void 0;const a=i(2),r=i(1),n=i(0);class o extends r.VrControlOptions{}t.AutoCompleteBoxOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.width&&(t.width=300),null==t.border&&(t.border=!0),null==t.tooltip&&(t.tooltip=!0),null==t.itemSettings&&(t.itemSettings=new n.AutoCompleteBoxItemSettings),null==t.itemSettings.backgroundColor&&(t.itemSettings.backgroundColor="#FFF"),null==t.itemSettings.textColor&&(t.itemSettings.textColor="#5f6368"),null==t.itemSettings.border&&(t.itemSettings.border="solid 1px #dadce0"),null==t.itemSettings.bold&&(t.itemSettings.bold=!1),null==t.itemSettings.deleteIconColor&&(t.itemSettings.deleteIconColor="rgb(140 140 140)"),null!=t.comboSettings&&(null==t.comboSettings.freeText&&(t.comboSettings.freeText=!0),null==t.comboSettings.treeMode&&(t.comboSettings.treeMode=n.ComboBoxTreeModeEnum.AllExpanded)),super(e,t,n.ControlTypeEnum.AutoCompleteBox),n.puma(this.element()).attr("tabindex","1"),this._spanForWidth=n.span(this.element(),{css:"visibility: hidden;"}),this._popup=n.puma("<div class='comboBox_divPopup vrPopup' id='"+e.id+"_divPopup' style='border: solid 1px #ccc; display: none; position: absolute;  border-radius: 4px; box-shadow: 0 5px 10px rgb(0 0 0 / 20%); padding: 5px; overflow-y: auto; z-index: 9999999;  background-color: #fff; height: fit-content;'></div>").vrAppendToPuma(null!=n.shadowRoot()?n.shadowRoot():document.body)[0],this._items=[],t.border&&(this.element().style.cssText+="border: solid 1px #ccc;");let i=0;if(this._txtInput=n.createTextBox({cssContainer:"width: auto !important;",css:"width: 20px; min-width: 20px !important; max-width: "+this.width()+"px; padding-left: 0px; padding-right: 0px;",onKeyUp:e=>{if((e.key==n.KeyEnum.ArrowRight||e.key==n.KeyEnum.ArrowLeft||e.key==n.KeyEnum.ArrowUp||e.key==n.KeyEnum.Control||e.ctrlKey)&&("v"!=e.key||!e.ctrlKey))return this.manageInputWidth(),void e.preventDefault();null!=t.comboSettings&&(clearTimeout(i),i=window.setTimeout(()=>{let i=String(e.value);if(null==t.comboSettings||null==t.comboSettings.webService){let t=this.filter(i,this.element());t.length>0?this.open():this.close(),"v"==e.key&&e.ctrlKey&&1==t.length&&(this.valueCombo(String(t[0].value)),this.close())}else if(null!=t.comboSettings.webService&&e.key!=n.KeyEnum.Enter){if(""==i)return this._items=[],void n.puma(this._popup).find("ul").remove();{let e=this.element().selectionStart,t=this.element().selectionEnd;0==e&&t==this.element().value.length||this.doAjaxCall(i)}}},300))},onEnterKey:e=>{null!=t.comboSettings?t.comboSettings.freeText?this.manageInput(e.sender,e.sender.value()):(this._txtInput.clear(),this.placeholder(t.placeholder)):this.manageInput(e.sender,e.sender.value())},onKeyDown:e=>{if(this.manageInputWidth(),null!=t.comboSettings&&e.key==n.KeyEnum.ArrowDown){n.puma(this._popup).find("li:visible").first().focus()}}},this.element()),null!=t.comboSettings&&null!=t.comboSettings.items&&this.comboItems(t.comboSettings.items),n.puma(document.body).on("click",e=>{""==this._txtInput.value()||e.target.id==this._txtInput.element().id||e.target.classList.contains("vrAutoCompleteBoxItemText")||e.target.classList.contains("comboBox_divPopup")||(this.manageInput(this._txtInput,this._txtInput.value()),this.blurEvent())}),n.puma(this.element()).on("focus",e=>this.focus()),null!=t.placeholder&&this.placeholder(t.placeholder),null!=t.value&&this.items(t.value),null!=t.rows){let e=0;for(let i=0;i<t.rows;i++)e+=0==i?27:22;this.element().style.cssText+="max-height: "+e+"px;"}(null!=n.shadowRoot()?n.shadowRoot():document).addEventListener("scroll",e=>{!n.puma(e.target).hasClass("comboBox_divPopup")&&n.puma(this._popup).is(":visible")&&this.close()},!0)}manageInput(e,t,i){let a=this.getOptions();if(e.clear(),this.placeholder(a.placeholder),""!=t)for(let e of t.split(",")){let t=new n.AutoCompleteBoxItem;t.text=e.trim(),null!=i&&(t.value=i),this.addItem(t)}n.puma(this._txtInput.container()).vrAppendToPuma(this.element()),window.setTimeout(()=>this.focus()),this.close()}manageInputWidth(){let e=this.getOptions(),t=this._txtInput.value();""!=t?this._txtInput.element().style.width=this.textWidth(t)+20+"px":this.placeholder(e.placeholder)}items(e){if(null!=e)for(let t of e)this.addItem(t);return this._items}addItem(e){if(null==e||""==e)return;let t=this.getOptions();this.placeholder("");let i=e;"string"==typeof e&&(i=new n.AutoCompleteBoxItem,i.text=e,i.value=e),null==i.value&&(i.value=i.text);let a=n.div(this.element(),{class:"vrAutoCompleteBoxItem",attributes:[{name:"value",value:i.value}]}),r=n.span(a,{content:i.text,class:"vrAutoCompleteBoxItemText"});t.tooltip&&n.puma(a).attr("title",i.text);let o=t.itemSettings.backgroundColor,l=t.itemSettings.textColor,s=t.itemSettings.border,c=t.itemSettings.bold,p=t.itemSettings.deleteIconColor,h=t.itemSettings.maxWidth;if(null!=i.settings&&(null!=i.settings.backgroundColor&&(o=i.settings.backgroundColor),null!=i.settings.textColor&&(l=i.settings.textColor),null!=i.settings.border&&(s=i.settings.border),null!=i.settings.bold&&(c=i.settings.bold),null!=i.settings.deleteIconColor&&(p=i.settings.deleteIconColor),null!=i.settings.maxWidth&&(h=i.settings.maxWidth)),a.style.cssText+="background-color: "+o+"; color: "+l+"; border: "+s+";",c&&(a.style.cssText+="font-weight: 600;"),null!=h&&(r.style.cssText+="max-width: "+h+"px;"),n.puma(a).on("click",e=>{if(null!=t.onItemClick){let r=new u;if(r.sender=this,r.item={item:i,element:a},r.text=i.text,t.onItemClick(r),r.isDefaultPrevented())return void e.preventDefault()}n.puma(this._txtInput.container()).vrInsertBeforePuma(a),this.removeItem(i.value);let r=this.textWidth(i.text);this._txtInput.value(i.text,!1),this._txtInput.element().style.width=r+20+"px",this._txtInput.element().select(),this.focus()}),n.createIcon({value:n.IconClassRegular.Xmark,cssContainer:"margin-left: 5px; top: -1px;",color:p,onClick:e=>this.removeItem(i.value)},a),n.puma(a).vrInsertBeforePuma(this._txtInput.container()),null!=i.value&&n.puma(a).attr("value",i.value),this._items.push(i),null!=t.onItemAdded){let e=new d;e.sender=this,e.item={item:i,element:a},t.onItemAdded(e)}}removeItem(e){this._items.vrDeleteAllBy(t=>t.value==e),n.puma(this.container()).find(".vrAutoCompleteBoxItem[value='"+e+"']").remove();let t=this.getOptions();if(0==this.items().length&&this.placeholder(t.placeholder),null!=t.onItemRemoved){let i=new d;i.sender=this,i.item=this.item(e),t.onItemRemoved(i)}}item(e){let t=new c,i=this._items.filter(t=>t.value==e)[0],a=this.items().indexOf(i);return t.item=this.items()[a],t.element=n.puma(this.container()).find(".vrAutoCompleteBoxItem[value='"+e+"']")[0],t}color(e,t){let i=this.item(e);null!=i.element&&null!=t&&(null!=t.backgroundColor&&(i.element.style.cssText+="background-color: "+t.backgroundColor+";"),null!=t.textColor&&(i.element.style.cssText+="color: "+t.textColor+";"),null!=t.border&&(i.element.style.cssText+="border: "+t.border+";"),t.bold&&(i.element.style.cssText+="font-weight: 600;"))}text(){return this.items().map(e=>e.text)}value(e){return null!=e&&this.items(e),this.items().map(e=>e.value)}placeholder(e){if(null!=e){let t=this.textWidth(e);this._txtInput.element().placeholder=e,this._txtInput.element().style.width=t+20+"px"}return this._txtInput.element().placeholder}textWidth(e){let t=0;return this._spanForWidth.innerHTML=e.replace(/\s/g,"&nbsp;"),t=this._spanForWidth.offsetWidth,this._spanForWidth.innerHTML="",t}focus(){let e=this.getOptions();n.puma(this.element()).vrHasScrollBar()||(this._txtInput.focus(),this.focusEvent(),""==this._txtInput.value()&&this.placeholder(e.placeholder))}focusEvent(){let e=this.getOptions();if(null!=e.onFocus){let t=new p;t.sender=this,t.element=this._txtInput.element(),e.onFocus(t)}}blurEvent(){let e=this.getOptions();if(null!=e.onBlur){let t=new h;t.sender=this,t.element=this._txtInput.element(),e.onBlur(t)}}clear(){let e=this.getOptions();this._items=[],n.puma(this.container()).find(".vrAutoCompleteBoxItem").remove(),this._txtInput.clear(),this.placeholder(e.placeholder)}close(){n.puma(this._popup).hide()}open(){if(n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),!this.enabled())return;if(n.puma(this._popup).is(":visible"))return;n.puma(this._popup).show(),super.settingPopup(this._popup);let e=n.puma(this.element()).width();this._popup.style.cssText+="min-width: "+e+"px;"}doAjaxCall(e=""){let t=this.getOptions();if(null==t.comboSettings||null==t.comboSettings.webService)return;null==t.comboSettings.webService.typedTextPropertyName&&(t.comboSettings.webService.typedTextPropertyName="text"),null==t.comboSettings.webService.typedValuePropertyName&&(t.comboSettings.webService.typedValuePropertyName="value"),null==t.comboSettings.webService.itemsPropertyName&&(t.comboSettings.webService.itemsPropertyName="items");let i={};if(i[t.comboSettings.webService.typedTextPropertyName]=e,null==t.comboSettings.webService.authKey&&(t.comboSettings.webService.authKey=""),null!=t.comboSettings.webService.parameters){let e=t.comboSettings.webService.parameters(),a=Object.getOwnPropertyNames(e);for(let t of a)i[t]=e[t]}this._lastAjaxCallGuid=a.UtilityManager.createGuid(),i.guid=this._lastAjaxCallGuid,a.UtilityManager.doAjaxCall({mode:n.WebApiModeEnum.Async,authKey:t.comboSettings.webService.authKey,method:t.comboSettings.webService.method,request:i},i=>{if(null!=this._lastAjaxCallGuid&&null!=i.guid&&this._lastAjaxCallGuid!=i.guid)return;this._typedTextWebService=e;let a=i[t.comboSettings.webService.itemsPropertyName];this.comboItems(a),a.length>0?this.open():this.close()})}comboItems(e){let t=this.getOptions();return null!=e&&(this._comboItems=e,0==this.getRootItems().length?n.puma(this._popup).addClass("vrComboBoxFlat"):n.puma(this._popup).removeClass("vrComboBoxFlat"),null==t.comboSettings.webService?this.drawDataSource():(null==this._typedTextWebService&&(this._items=[]),this.drawDataSource(),this._typedTextWebService=null)),this._comboItems}getOnlyChildrenItems(e){return this.comboItems().filter(t=>null!=t.parentValue&&t.parentValue==e.value)}getRootItems(){let e=[];for(let t of this.comboItems()){if(null==t)continue;let i=t.parentValue;for(;null!=i;){let t=this.comboItems().filter(e=>e.value==i)[0];e.includes(t)||e.push(t),i=null!=t?t.parentValue:void 0,null!=t&&i==t.value&&(i=void 0)}}return e}getRootValues(){return this.getRootItems().filter(e=>null!=e).map(e=>String(e.value))}drawDataSource(e){n.puma(this._popup).find(".vrComboBoxUl").remove();let t=this.comboItems();null!=e&&(t=this.getFilteredArrayByInputText(e)),1==t.length&&null==t[0]||(this._dictionaryValueLi=new Map,this._dictionaryLiValue=new Map,t=t.filter(e=>null==e.parentValue),this.drawItems(t,this._popup))}drawItems(e,t){let i=this.getOptions();if(0==e.length)return;let r=n.puma("<ul class='vrComboBoxUl'></ul>").vrAppendToPuma(t);for(let t of e){null==t.value&&(t.value=t.text);let e=n.puma("<li class='vrComboBoxLi' tabindex='-1'></li>").vrAppendToPuma(r);if(this._dictionaryLiValue.set(e[0],String(t.value)),this._dictionaryValueLi.has(String(t.value))){let i=this._dictionaryValueLi.get(String(t.value));i.push(e[0]),this._dictionaryValueLi.set(String(t.value),i)}else this._dictionaryValueLi.set(String(t.value),[e[0]]);n.puma(e).on("focusin",e=>{n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),n.puma(e.target).addClass("vrComboBoxSelectedComboValue keydownFocus")}),n.puma(e).on("keydown",e=>{if(e.key==n.KeyEnum.ArrowDown){let t=n.puma(e.currentTarget).next();if(0==t.length)return;for(n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=n.puma(t).next();t.focus()}else if(e.key==n.KeyEnum.ArrowUp){let t=n.puma(e.currentTarget).prev();if(0==t.length)return;for(n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=n.puma(t).prev();t.focus()}else e.key==n.KeyEnum.Enter&&n.puma(e.currentTarget).find(".vrComboBoxItemText").click()}),i.comboSettings.treeMode==n.ComboBoxTreeModeEnum.AllCollapsed?null!=t.parentValue&&n.puma(e).closest(".vrComboBoxUl").hide():i.comboSettings.treeMode==n.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded&&n.puma(e).parents(".vrComboBoxUl").length>2&&n.puma(e).closest(".vrComboBoxUl").hide();let o=this.getOnlyChildrenItems(t);if(o.length>0){let r="",o=n.IconClassLight.CaretRight;i.comboSettings.treeMode==n.ComboBoxTreeModeEnum.AllCollapsed?null!=t.parentValue&&(o=n.IconClassLight.CaretRight,r="caret-right"):i.comboSettings.treeMode==n.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded?1==n.puma(e).parents(".vrComboBoxUl").length?(o=n.IconClassLight.CaretDown,r="caret-down"):(o=n.IconClassLight.CaretRight,r="caret-right"):(o=n.IconClassLight.CaretDown,r="caret-down");let l=n.puma("<div class='vrComboBoxDivIconExpand "+r+"'></div>").vrAppendToPuma(e);n.puma(a.UtilityManager.createIcon(o)).vrAppendToPuma(l),n.puma(l).click(e=>{n.puma(e.currentTarget).children("i").removeClass(n.IconClassLight.CaretRight+" "+n.IconClassLight.CaretDown),n.puma(e.currentTarget).removeClass("caret-right caret-down");let t=n.puma(e.currentTarget).siblings(".vrComboBoxUl");t.first().is(":visible")?(t.hide(),n.puma(e.currentTarget).children("i").addClass(n.IconClassLight.CaretRight),n.puma(e.currentTarget).addClass("caret-right")):(t.show(),n.puma(e.currentTarget).children("i").addClass(n.IconClassLight.CaretDown),n.puma(e.currentTarget).addClass("caret-down"))})}let l=n.puma("<div class='vrComboBoxDivItemContainer'></div>").vrAppendToPuma(e),s=t.text.replace(/'/g,"&#39;");if(null!=i.comboSettings&&null!=i.comboSettings.template){let e={};e.dataItem=t,e.element=l[0],e.sender=this,s=i.comboSettings.template(e)}let u=n.puma("<span title='"+t.text+"' text='"+t.text.replace(/'/g,"&#39;")+"' class='vrComboBoxItemText'>"+s+"</span>").vrAppendToPuma(l);n.puma(u).click(e=>{let t=this._dictionaryLiValue.get(n.puma(e.currentTarget).closest("li")[0]),i=this.comboItems().filter(e=>e.value==t)[0];null==i||this.getRootValues().includes(String(i.value))?a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800):(this.valueCombo(String(i.value)),this.close())}),o.length>0&&this.drawItems(this.getOnlyChildrenItems(t),e)}}valueCombo(e){if(null===e)return void this.clear();let t=this.comboItems().filter(t=>t.value==e)[0];this._txtInput.value(t.text,!1),this.manageInput(this._txtInput,this._txtInput.value(),String(t.value))}filter(e,t){let i=this.getOptions(),a=t.selectionStart,r=t.selectionEnd,o=[];if(""==e)n.puma(this._popup).find("li").show(),null!=i.comboSettings.webService&&(this._items=[],n.puma(this._popup).find(".vrComboBoxUl").remove());else if(0!=a||r!=t.value.length){n.puma(this._popup).find("li").hide();let t=this.getFilteredArrayByInputText(e);o=t;let i=t.map(e=>e.value),a=t.map(e=>e.text);for(let e of t){let t=e.parentValue;for(;null!=t;){let e=this.comboItems().filter(e=>e.value==t)[0];i.includes(t)||(i.push(t),a.push(e.text)),t=null!=e?e.parentValue:void 0,t==e.value&&(t=void 0)}}for(let e of Array.from(n.puma(this._popup).find(".vrComboBoxItemText")))a.includes(String(n.puma(e).attr("text")).trim())&&(n.puma(e).closest(".vrComboBoxLi").show(),n.puma(e).closest(".vrComboBoxLi").closest(".vrComboBoxUl").show(),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").removeClass("caret-right caret-down"),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").removeClass(n.IconClassLight.CaretRight+" "+n.IconClassLight.CaretDown),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").addClass("caret-down"),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").addClass(n.IconClassLight.CaretDown))}return o}getFilteredArrayByInputText(e){e=e.toLowerCase();let t=[];return this.comboItems().map(e=>String(e.text).toLowerCase()).forEach((i,a)=>{-1!=i.indexOf(e)&&t.push(this.comboItems()[a])}),t}getOptions(){return this.options()}}t.AutoCompleteBox=l;class s extends r.VrControlsEvent{}class u extends s{}class d extends s{}class c{}class p extends s{}class h extends s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StackedBarChart=t.AreaChart=t.PieChart=t.DonutChart=t.LineChart=t.HorizontalBarChart=t.BarChart=t.ChartVr=void 0;const a=i(1),r=i(0);class n extends a.VrControl{constructor(e,t){null==t&&(t=new r.ChartOptions),null==t.width&&(t.width=400),null==t.height&&(t.height=400),null==t.type&&(t.type=r.ChartTypeEnum.Bar),null==t.padding&&(t.padding=0),null==t.showHideDatasetOnLegendClick&&(t.showHideDatasetOnLegendClick=!0),null==t.responsive&&(t.responsive=!0),null==t.stacked&&(t.stacked=!1),t.type==r.ChartTypeEnum.StackedBar&&!1===t.stacked&&(t.stacked=!0),!0===t.stacked&&(t.stacked={x:!0,y:!0}),null==t.title&&(t.title=!1),!0===t.title&&(t.title=new r.ChartTitleSettings),null==t.subTitle&&(t.subTitle=!1),!0===t.subTitle&&(t.subTitle=new r.ChartTitleSettings),null==t.dataLabels&&(t.dataLabels=!0),!0===t.dataLabels&&(t.dataLabels=new r.ChartDataLabelsSettings),null==t.legend&&(t.legend=!1),!0===t.legend&&(t.legend=new r.ChartLegendSettings),null==t.tooltip&&(t.tooltip=!0),!0===t.tooltip&&(t.tooltip=new r.ChartTooltipSettings),super(e,t,r.ControlTypeEnum.Chart),this._plugins=new o;let i=void 0;if(!1!==t.title){if("string"==typeof t.title){let e=t.title;t.title=new r.ChartTitleSettings,t.title.text=e}t.title.display=!0,null==t.title.color&&(t.title.color="#51B3E1"),null==t.title.font&&(t.title.font=new r.ChartFont),null==t.title.font.size&&(t.title.font.size=16),i=t.title}this._plugins.title=i;let a=void 0;if(!1!==t.subTitle){if("string"==typeof t.subTitle){let e=t.subTitle;t.subTitle=new r.ChartTitleSettings,t.subTitle.text=e}t.subTitle.display=!0,null==t.subTitle.color&&(t.subTitle.color="#666666"),a=t.subTitle}this._plugins.subtitle=a;let n=void 0;!1!==t.dataLabels?(null==t.dataLabels.color&&(t.dataLabels.color="#666666"),null==t.dataLabels.anchor&&(t.dataLabels.anchor=r.ChartDataLabelsAnchorEnum.End),null==t.dataLabels.align&&(t.dataLabels.align=r.ChartDataLabelAlignEnum.End),null==t.dataLabels.padding&&(t.dataLabels.padding={left:5,right:5}),n=t.dataLabels,null!=t.onDataFormatter&&(n.formatter=(e,i)=>{let a=new r.ChartAxisFormatterEvent;return a.sender=this,a.value=e,a.context=i,t.onDataFormatter(a)}),n.listeners={enter:e=>{if(e.hovered=!0,null!=t.onLabelHover){let i=new r.ChartLabelHoverEvent;i.sender=this,i.context=e,t.onLabelHover(i)}return!0},leave:e=>{if(e.hovered=!1,null!=t.onLabelLeave){let i=new r.ChartLabelLeaveEvent;i.sender=this,i.context=e,t.onLabelLeave(i)}return!0},click:e=>{if(null!=t.onLabelClick){let i=new r.ChartLabelClickEvent;i.sender=this,i.context=e,t.onLabelClick(i)}}}):n={display:!1},this._plugins.datalabels=n;let l={enabled:!1};!1!==t.tooltip&&(t.tooltip.enabled=!0,l=t.tooltip),this._plugins.tooltip=l;let s={display:!1};if(!1!==t.legend&&(s={display:!0,position:t.legend.position,align:t.legend.align,labels:t.legend.labels,title:t.legend.title,onHover:(e,i,a)=>{if(null!=t.onLegendHover){let n=new r.ChartLegendHoverEvent;n.sender=this,n.event=e,n.legendItem=i,n.legend=a,t.onLegendHover(n)}},onLeave:(e,i,a)=>{if(null!=t.onLegendLeave){let n=new r.ChartLegendLeaveEvent;n.sender=this,n.event=e,n.legendItem=i,n.legend=a,t.onLegendLeave(n)}},onClick:(e,i,a)=>{if(t.showHideDatasetOnLegendClick&&(a.chart.config.type===r.ChartTypeEnum.Pie||a.chart.config.type===r.ChartTypeEnum.Donut?Chart.controllers.doughnut.overrides.plugins.legend.onClick(e,i,a):Chart.defaults.plugins.legend.onClick(e,i,a)),null!=t.onLegendClick){let n=new r.ChartLegendClickEvent;n.sender=this,n.event=e,n.legendItem=i,n.legend=a,t.onLegendClick(n)}}}),this._plugins.legend=s,null==t.scales&&(t.scales={}),null==t.scales.x&&(t.scales.x={}),t.scales.x.grace="5%",null==t.scales.y&&(t.scales.y={}),t.scales.y.grace="5%",t.type!=r.ChartTypeEnum.Pie&&t.type!=r.ChartTypeEnum.Donut||(t.scales.x.display=!1,t.scales.y.display=!1),!1!==t.stacked&&(t.scales.x.stacked=t.stacked.x,t.scales.y.stacked=t.stacked.y),null!=t.onAxisLabelFormatter){let e=(e,i)=>{let a=new r.ChartAxisFormatterEvent;return a.sender=this,a.value=e,a.context=i,t.onAxisLabelFormatter(a)};t.type==r.ChartTypeEnum.HorizontalBar?t.scales.x.ticks={callback:e}:t.scales.y.ticks={callback:e}}null!=t.limit&&(t.scales.x.min=t.limit.minX,t.scales.x.max=t.limit.maxX,t.scales.y.min=t.limit.minY,t.scales.y.max=t.limit.maxY),null==t.aspectRatio&&(t.aspectRatio=new r.ChartAspectRatioSettings),null==t.aspectRatio.maintain&&(t.aspectRatio.maintain=!1),null==t.datasource&&(t.datasource=[]),this.datasource(t.datasource)}base64Data(){return this.element().toDataURL().replace("data:image/png;base64,","")}datasource(e){null!=this._chart&&this._chart.destroy();let t=this.getOptions(),i=[];if(null!=e){for(let a of e)t.type==r.ChartTypeEnum.Area||a.type==r.ChartTypeEnum.Area?(null==a.areaSettings&&(a.areaSettings=new r.ChartAreaSettings),null==a.areaSettings.target&&(a.areaSettings.target="origin"),null==a.areaSettings.above&&(a.areaSettings.above="rgba(255, 99, 132, 0.2)"),null==a.areaSettings.below&&(a.areaSettings.below="rgba(255, 159, 64, 0.2)"),a.fill=a.areaSettings):t.type==r.ChartTypeEnum.Line&&(null==a.smoothLine&&(a.smoothLine=!0),a.smoothLine&&(a.tension=.4)),null==a.borderWidth&&(a.borderWidth=1),null!=a.title&&(a.label=a.title),null!=a.labels&&i.vrPushRange(a.labels);this._datasource=e;let a={labels:i,datasets:e};this.createChart(a)}return this._datasource}createChart(e){let t=this.getOptions(),i=t.type==r.ChartTypeEnum.HorizontalBar||t.type==r.ChartTypeEnum.StackedBar?r.ChartTypeEnum.Bar:t.type;t.type==r.ChartTypeEnum.Area&&(i=r.ChartTypeEnum.Line);let a={type:i,data:e,options:{responsive:t.responsive,maintainAspectRatio:t.aspectRatio.maintain,aspectRatio:t.aspectRatio.value,scales:t.scales,parsing:t.parsing,plugins:{datalabels:this._plugins.datalabels,title:this._plugins.title,subtitle:this._plugins.subtitle,legend:this._plugins.legend,tooltip:this._plugins.tooltip},indexAxis:t.type==r.ChartTypeEnum.HorizontalBar?"y":"x"},layout:{padding:t.padding},plugins:[ChartDataLabels]};this._chart=new Chart(this.element(),a)}getOptions(){return this.options()}}t.ChartVr=n;t.BarChart=class extends n{};t.HorizontalBarChart=class extends n{};t.LineChart=class extends n{};t.DonutChart=class extends n{};t.PieChart=class extends n{};t.AreaChart=class extends n{};t.StackedBarChart=class extends n{};class o{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabStrip=t.TabStripOptions=void 0;const a=i(2),r=i(1),n=i(0);class o extends r.VrControlOptions{}t.TabStripOptions=o;class l extends r.VrControl{constructor(e,t){if(null==t&&(t=new o),null==t.width&&(t.width="100%"),null==t.backgroundColor&&(t.backgroundColor="#e3f1fa"),super(e,t,n.ControlTypeEnum.TabStrip),null!=t.items)for(let e of t.items)if(null==e.colorSettings&&(e.colorSettings=new n.ColorSettings),null==e.colorSettings.background&&(e.colorSettings.background=t.backgroundColor),null!=e.elementId){e.elementId.startsWith("#")||(e.elementId="#"+e.elementId);let t=e.onClick;e.onClick=i=>{let a=this.items().filter(e=>null!=e.elementId).map(e=>e.elementId);for(let e of a)e.startsWith("#")||(e="#"+e),n.puma(e).hide();n.puma(e.elementId).show(),null!=t&&t(i)}}t.width="100%",t.cssContainer=void 0,t.css="background-color: "+t.backgroundColor+";",t.margin=void 0,this._buttonGroup=n.createButtonGroup(t,this.element())}items(e){return this._buttonGroup.items(e)}addItem(e,t=!0){let i=this.getOptions();if(null==e.colorSettings&&(e.colorSettings=new n.ColorSettings),null==e.colorSettings.background&&(e.colorSettings.background=i.backgroundColor),this._buttonGroup.addItem(e),t&&null!=e.elementId){e.elementId.startsWith("#")||(e.elementId="#"+e.elementId);let t=e.onClick;e.onClick=i=>{let a=this.items().filter(e=>null!=e.elementId).map(e=>e.elementId);for(let e of a)e.startsWith("#")||(e="#"+e),n.puma(e).hide();n.puma(e.elementId).show(),null!=t&&t(i)},n.puma(e.elementId).show()}}item(e){return this.items().filter(t=>t.value==e)[0]}removeItem(e){this._buttonGroup.removeItem(e);let t=this.items().map(e=>e.value).indexOf(e);-1!=t&&this.items().splice(t,1);let i=this.items().filter(t=>t.value==e)[0];null!=i&&null!=i.elementId&&(i.elementId.startsWith("#")||(i.elementId="#"+i.elementId),n.puma(i.elementId).remove())}removeAllItems(){let e=a.UtilityManager.duplicate(this.items());for(let t of e)this.removeItem(String(t.value))}showItems(e){this._buttonGroup.showItems(e)}showItem(e){this._buttonGroup.showItem(e)}showAllItems(){this._buttonGroup.showAllItems()}hideItems(e){this._buttonGroup.hideItems(e);for(let t of e)this.hideItem(t)}hideItem(e,t=!0){if(this._buttonGroup.hideItem(e),t){let t=this.items().filter(t=>t.value==e)[0];null!=t&&null!=t.elementId&&n.puma(t.elementId).hide()}}hideAllItems(e=!0){if(this._buttonGroup.hideAllItems(),e)for(let e of this.items())null!=e&&null!=e.elementId&&n.puma(e.elementId).hide()}visibleItem(e,t){return null!=t&&(t?this.showItem(e):this.hideItem(e)),this._buttonGroup.visibleItem(e,t)}enableItem(e){this._buttonGroup.enableItem(e)}enableItems(e){for(let t of e)this._buttonGroup.enableItem(t)}disableItem(e){this._buttonGroup.disableItem(e)}disableItems(e){for(let t of e)this._buttonGroup.disableItem(t)}select(e,t=!0){this._buttonGroup.select(e,t)}selectIndex(e,t=!0){this._buttonGroup.selectIndex(e,t)}value(){return this._buttonGroup.value()}getItemByValue(e){return this._buttonGroup.getItemByValue(e)}getItemByIndex(e){return this._buttonGroup.getItemByIndex(e)}itemTooltip(e,t){return this._buttonGroup.itemTooltip(e,t)}itemText(e,t,i=!0){return this._buttonGroup.itemText(e,t,i)}itemTextByIndex(e,t){return this._buttonGroup.itemTextByIndex(e,t)}enable(){super.enable(),this._buttonGroup.enable()}disable(){super.disable(),this._buttonGroup.disable()}getOptions(){return this.options()}}t.TabStrip=l;r.VrControlsEvent},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=t.TooltipOptions=void 0;const a=i(1),r=i(0),n=i(15);class o extends a.VrControlOptions{}t.TooltipOptions=o;class l extends a.VrControl{constructor(e,t){null==t&&(t=new o),null==t.position&&(t.position=r.TooltipPositionEnum.BottomCenter),null==t.showOn&&(t.showOn=r.TooltipShowOnEnum.Hover),null==t.hideOn&&(t.hideOn=r.TooltipHideOnEnum.Default),null==t.type&&(t.type=r.TooltipTypeEnum.Default),null==t.colorSettings&&(t.colorSettings=new r.ColorSettings),null==t.colorSettings.background&&(t.colorSettings.background="#d9d9d9"),null==t.colorSettings.textColor&&(t.colorSettings.textColor="#000"),null==t.colorSettings.border&&(t.colorSettings.border="#CCC"),null==t.showSettings&&(t.showSettings=new u),null==t.showSettings.showAfter&&(t.showSettings.showAfter=500),null==t.showSettings.animation&&(t.showSettings.animation=r.AnimationShowEnum.None),null==t.hideSettings&&(t.hideSettings=new s),null==t.hideSettings.hideAfter&&(t.hideSettings.hideAfter=600),null==t.hideSettings.animation&&(t.hideSettings.animation=r.AnimationHideEnum.None),null==t.elementToAppend&&(t.elementToAppend=t.target),super(e,t,r.ControlTypeEnum.Tooltip);let i=d.MouseEnter,a=d.MouseLeave;switch(t.showOn){case r.TooltipShowOnEnum.Hover:i=d.MouseEnter,t.hideOn==r.TooltipHideOnEnum.Default&&(a=d.MouseLeave);break;case r.TooltipShowOnEnum.Click:i=d.Click,t.hideOn==r.TooltipHideOnEnum.Default&&(a=d.Click);break;case r.TooltipShowOnEnum.Focus:i=d.Focus,t.hideOn==r.TooltipHideOnEnum.Default&&(a=d.Blur)}if(t.hideOn!=r.TooltipHideOnEnum.Default)switch(t.hideOn){case r.TooltipHideOnEnum.Leave:a=d.MouseLeave;break;case r.TooltipHideOnEnum.Click:a=d.Click;break;case r.TooltipHideOnEnum.Blur:a=d.Blur}t.showOn!=r.TooltipShowOnEnum.Never&&(r.puma(this.target()).on(i,e=>{window.setTimeout(()=>this.show(),t.showSettings.showAfter)}),r.puma(this.target()).on(a,e=>{t.hideOn!=r.TooltipHideOnEnum.Never&&window.setTimeout(()=>this.hide(),Number(t.hideSettings.hideAfter))}),r.puma(this.container()).on(a,e=>{t.hideOn!=r.TooltipHideOnEnum.Never&&window.setTimeout(()=>this.hide(),Number(t.hideSettings.hideAfter))}),a==d.Click&&t.hideOn!=r.TooltipHideOnEnum.Never&&r.puma(document.body).on("click",()=>window.setTimeout(()=>this.hide(),Number(t.hideSettings.hideAfter))))}show(e){if(null!=this._notifier&&this._notifier.visible())return;let t=this.getOptions();if(null!=e&&this.content(e),null==t.content&&(t.content=this.target().innerText),super.show(),t.hideSettings.autoHide=!1,this._notifier=new n.Notifier(t.content,t),r.puma(this._notifier.container()).vrAppendToPuma(t.elementToAppend),null!=t.onShow){let e=new c;e.sender=this,e.content=this.content(),t.onShow(e)}}hide(){if(null==this._notifier||!this._notifier.visible())return;let e=this.getOptions();if(super.hide(),this._notifier.hide(),null!=e.onHide){let t=new p;t.sender=this,t.content=this.content(),e.onHide(t)}}visible(e){return super.visible(e),null!=this._notifier&&this._notifier.visible(e)}content(e){let t=this.getOptions();return null!=e&&(t.content=e),t.content}target(){return r.puma(this.getOptions().target)[0]}getOptions(){return this.options()}}t.Tooltip=l;class s{}class u{}var d;!function(e){e.Click="click",e.Focus="focus",e.MouseEnter="mouseenter",e.Blur="blur",e.MouseLeave="mouseleave"}(d||(d={}));class c extends a.VrControlsEvent{}class p extends a.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognizerSoundEndEvent=t.SpeechRecognizerSoundStartEvent=t.SpeechRecognizerAudioEndEvent=t.SpeechRecognizerAudioStartEvent=t.SpeechRecognizerSpeechEndEvent=t.SpeechRecognizerSpeechStartEvent=t.SpeechRecognizerEndEvent=t.SpeechRecognizerStartEvent=t.SpeechRecognizerResultEvent=t.SpeechRecognizerErrorEvent=t.SpeechRecognizerClickEvent=t.SpeechRecognizerNoMatchEvent=t.SpeechRecognizerEvent=t.SpeechRecognizer=void 0;const a=i(0),r=i(1);class n extends r.VrControl{constructor(e,t){if(null==t&&(t=new a.SpeechRecognizerOptions),null==t.continuous&&(t.continuous=!0),null==t.interimResults&&(t.interimResults=!0),null==t.language&&(t.language="it-IT"),null==t.maxAlternatives&&(t.maxAlternatives=1),null==t.size&&(t.size=14),null==t.stopAtClick&&(t.stopAtClick=!1),super(e,t,a.ControlTypeEnum.SpeechRecognizer),this._btnMicrophone=a.createButton({icon:a.IconClassLight.Microphone,css:"border: none; background: none; border-radius: 20px; font-size: "+t.size+"px;",tag:"deactivated",iconSettings:{fontSize:t.size},onClick:e=>{if(this.enabled()){if(null!=t.onClick){let e=new s;if(e.sender=this,t.onClick(e),e.isDefaultPrevented())return}"deactivated"==e.sender.tag()?this.start():this.stop()}else e.preventDefault()}},this.element()),a.div(this._btnMicrophone.element(),{class:"speechRecognizerDivPulse"},!0),"webkitSpeechRecognition"in window||"speechRecognition"in window){let e=webkitSpeechRecognition||SpeechRecognition,i=webkitSpeechGrammarList||SpeechGrammarList;if(this._recognition=new e,this._recognition.continuous=t.continuous,this._recognition.interimResults=t.interimResults,this._recognition.lang=t.language,this._recognition.maxAlternatives=t.maxAlternatives,null!=t.grammars&&t.grammars.length>0){let e=new i;for(let i of t.grammars)e.addFromString(i,1);this._recognition.grammars=e}this._recognition.onresult=e=>{let i="",a="";for(var r=e.resultIndex;r<e.results.length;++r)e.results[r].isFinal?(a+=e.results[r][0].transcript,this._allTextFromStart+=e.results[r][0].transcript):i+=e.results[r][0].transcript;if(null!=t.onResult){let r=new d;r.sender=this,r.results=e.results,r.resultIndex=e.resultIndex,r.interimResults=i,r.finalResults=a,r.allTextFromStart=this._allTextFromStart,t.onResult(r)}},this._recognition.onnomatch=()=>{if(null!=t.onNoMatch){let e=new l;e.sender=this,t.onNoMatch(e)}},this._recognition.onerror=e=>{if(null!=t.onError){let i=new u;i.sender=this,i.error=e.error,i.message=e.message,t.onError(i)}},this._recognition.onstart=()=>{if(null!=t.onStart){let e=new c;e.sender=this,t.onStart(e)}},this._recognition.onend=()=>{let e=this.getOptions();if("activated"==this._btnMicrophone.tag()&&e.stopAtClick)this._recognition.start();else if(this._allTextFromStart="",this._btnMicrophone.tag("deactivated"),a.puma(this._btnMicrophone.element()).removeClass("microphoneActive"),null!=e.onEnd){let t=new p;t.sender=this,e.onEnd(t)}},this._recognition.onspeechstart=()=>{if(null!=t.onSpeechStart){let e=new h;e.sender=this,t.onSpeechStart(e)}},this._recognition.onspeechend=()=>{if(null!=t.onSpeechEnd){let e=new m;e.sender=this,t.onSpeechEnd(e)}},this._recognition.onaudiostart=()=>{if(null!=t.onAudioStart){let e=new f;e.sender=this,t.onAudioStart(e)}},this._recognition.onaudioend=()=>{if(null!=t.onAudioEnd){let e=new g;e.sender=this,t.onAudioEnd(e)}},this._recognition.onsoundstart=()=>{if(null!=t.onSoundStart){let e=new v;e.sender=this,t.onSoundStart(e)}},this._recognition.onsoundend=()=>{if(null!=t.onSoundEnd){let e=new b;e.sender=this,t.onSoundEnd(e)}}}else this._btnMicrophone.disable(),this._btnMicrophone.icon(a.IconClassLight.MicrophoneSlash),this._btnMicrophone.tooltip("Il browser non supporta questa funzionalità")}start(){this._allTextFromStart="",this._btnMicrophone.tag("activated"),a.puma(this._btnMicrophone.element()).addClass("microphoneActive"),this._recognition.start()}stop(){this._allTextFromStart="",this._btnMicrophone.tag("deactivated"),a.puma(this._btnMicrophone.element()).removeClass("microphoneActive"),this._recognition.stop()}isRecording(){return"activated"==this._btnMicrophone.tag()}getOptions(){return this.options()}enable(){super.enable()}disable(){super.disable(),this.stop()}}t.SpeechRecognizer=n;class o extends r.VrControlsEvent{}t.SpeechRecognizerEvent=o;class l extends o{}t.SpeechRecognizerNoMatchEvent=l;class s extends o{}t.SpeechRecognizerClickEvent=s;class u extends o{}t.SpeechRecognizerErrorEvent=u;class d extends o{}t.SpeechRecognizerResultEvent=d;class c extends o{}t.SpeechRecognizerStartEvent=c;class p extends o{}t.SpeechRecognizerEndEvent=p;class h extends o{}t.SpeechRecognizerSpeechStartEvent=h;class m extends o{}t.SpeechRecognizerSpeechEndEvent=m;class f extends o{}t.SpeechRecognizerAudioStartEvent=f;class g extends o{}t.SpeechRecognizerAudioEndEvent=g;class v extends o{}t.SpeechRecognizerSoundStartEvent=v;class b extends o{}t.SpeechRecognizerSoundEndEvent=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Div=t.DivOptions=void 0;const a=i(1),r=i(0);class n extends a.VrControlOptions{}t.DivOptions=n;class o extends a.VrControl{constructor(e,t){null==t&&(t=new n),null==t.addToControlList&&(t.addToControlList=!1),null==t.fontSize&&(t.fontSize=14),null==t.border&&(t.border=!1),null==t.inline&&(t.inline=!1),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Div),this.element().style.cssText+="font-size: "+t.fontSize+"px;",this.container().style.cssText+="display: flex;",this.element().style.cssText+="width: 100%;",t.inline&&(this.container().style.cssText+="display: inline-block;"),null!=t.text&&this.text(t.text),null!=t.colorSettings&&(null==t.colorSettings.textColor&&(this.element().style.cssText+="color: "+t.colorSettings.textColor+";"),null==t.colorSettings.background&&(this.element().style.cssText+="background-color: "+t.colorSettings.background+";")),!1!==t.border&&(!0===t.border&&(t.border=new r.DivBorderSettings),null==t.border.type&&(t.border.type="solid"),null==t.border.color&&(t.border.color="#d9d9d9"),null==t.border.size&&(t.border.size=1),this.element().style.cssText+="border: "+t.border.type+" "+t.border.size+"px "+t.border.color+";",this.setBorderTop(t.border.top,"top"),this.setBorderTop(t.border.right,"right"),this.setBorderTop(t.border.bottom,"bottom"),this.setBorderTop(t.border.left,"left"))}text(e){return null!=e&&(this.element().innerHTML=e),this.element().innerHTML}appendText(e){this.element().innerHTML=this.text()+e}setBorderTop(e,t){null==e&&(e=!0),!0===e&&(e=new r.DivBorderSpecificSettings),!1!==e?(null==e.type&&(e.type="solid"),null==e.size&&(e.size=1),null==e.color&&(e.color="d9d9d9"),this.element().style.cssText+="border-"+t+": "+e.type+" "+e.size+"px "+e.color+";"):this.element().style.cssText+="border-"+t+": none"}getOptions(){return this.options()}}t.Div=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Legend=t.LegendOptions=void 0;const a=i(0),r=i(1);class n extends r.VrControlOptions{}t.LegendOptions=n;class o extends r.VrControl{constructor(e,t){null==t&&(t=new n),null==t.fontSize&&(t.fontSize=15),null==t.bold&&(t.bold=!0),null==t.width&&(t.width="Calc(100% - 10px)"),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,a.ControlTypeEnum.Legend),a.puma("<h1><span class='vrLegendTitle'>"+t.title+"</span></h1>").vrAppendToPuma(this.element());let i="";null!=t.fontSize&&("number"==typeof t.fontSize&&(t.fontSize=t.fontSize+"px"),i+="font-size: "+t.fontSize+";"),null!=t.fontFamily&&(i+="font-family: "+t.fontFamily+";"),!0===t.bold&&(i+="font-weight: 600;"),a.puma(this.element()).find(".vrLegendTitle")[0].style.cssText+=i}}t.Legend=o}])}));
//# sourceMappingURL=vrcontrols.all.min.js.map