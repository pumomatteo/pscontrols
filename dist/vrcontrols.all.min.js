!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vr",[],t):"object"==typeof exports?exports.vr=t():e.vr=t()}(this,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=16)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.puma=exports.RoundingModeEnum=exports.GroupingModeEnum=exports.NumberFormatSettings=exports.NumberFormatRoundingSettings=exports.KeyEnum=exports.DateFormatEnum=exports.DateDepthEnum=exports.DateModeEnum=exports.WebApiModeEnum=exports.jqueryVariable=exports.shadowRoot=exports.base64ToBlob=exports.bytesToBase64=exports.base64ToBytes=exports.base64ToFile=exports.copyTextToClipboard=exports.isValidEmail=exports.BrowserWindowPosition=exports.BrowserWindowSize=exports.openBrowserWindow=exports.openUrl=exports.addJsFiles=exports.addCssFiles=exports.addJsScript=exports.addCss=exports.addCssStyle=exports.interval=exports.isLocalhost=exports.isEquals=exports.pageError=exports.Color=exports.UploadValidationErrorTypeEnum=exports.ColorPickerModeEnum=exports.ColorPickerRgbaValue=exports.MapModeEnum=exports.MapMarker=exports.TreeViewFilterSettings=exports.TreeViewAlignEnum=exports.TreeViewColumnTypeEnum=exports.TreeViewNumericTypeEnum=exports.TreeModeEnum=exports.TreeViewContextMenuItem=exports.TreeViewItemExtraCell=exports.TreeViewItem=exports.TreeViewToolbarItemType=exports.TreeViewToolbarClickEvent=exports.TreeViewToolbarSwitchEvent=exports.TreeViewToolbarSwitchSettings=exports.TreeViewToolbarItem=exports.TreeViewColumn=exports.TooltipPositionEnum=exports.TooltipTypeEnum=exports.TooltipHideOnEnum=exports.TooltipShowOnEnum=exports.AnimationHideEnum=exports.AnimationShowEnum=exports.NotifierPositionEnum=exports.NotifierTypeEnum=exports.NotifierOptions=exports.SchedulerNavigateActionEnum=exports.SchedulerAttribute=exports.SchedulerData=exports.SchedulerSlotElement=exports.SchedulerViewEnum=exports.SchedulerView=exports.DayOfWeekEnum=exports.SchedulerResource=exports.SchedulerSaturationFourWeeks=exports.SaturationResource=exports.SchedulerSaturationWeekByDate=exports.SaturationDate=exports.SchedulerSaturationWeekByResource=exports.SchedulerSaturationWeek=exports.SchedulerSaturationDay=exports.SchedulerSaturationInfo=exports.SwitchLabelSettingsOnClickEvent=exports.SwitchLabelSettings=exports.SplitterCollapsableSettings=exports.SplitterCollapseDirectionEnum=exports.SplitterDirectionEnum=exports.ToolbarItemOnClickEvent=exports.PdfViewerToolbarItem=exports.PdfViewerToolbarSettings=exports.OnContentRenderedEvent=exports.PdfViewerToolbarAreaEnum=exports.GridToolbarItem=exports.GridButtonSettings=exports.GridColumn=exports.GridScrollEvent=exports.GridPageSelectedEvent=exports.GridGroupEditClickEvent=exports.GridGroupExpandCollapseEvent=exports.GridGroupDisplayValueEvent=exports.GridGroupByItem=exports.GridSortSettings=exports.GridGroupBySettings=exports.GridStringFilterTypeEnum=exports.GridNumberFilterTypeEnum=exports.GridDateFilterTypeEnum=exports.GridToolbarItemType=exports.GridLabelUnderlineMode=exports.GridColumnTypeEnum=exports.GridAlignEnum=exports.GridAggregateMode=exports.GridModeEnum=exports.GridHeightModeEnum=exports.SortDirectionEnum=exports.GridSortDirectionEnum=exports.GridCheckboxModeEnum=exports.SpeechRecognizerOptions=exports.vrEditorFontSizeSettings=exports.EditorSpeechRecognizerPositionEnum=exports.EditorSpeechRecognizerModeEnum=exports.vrEditorSpeechRecognizerSettings=exports.EditorCustomMenuItemType=exports.vrEditorCustomMenuItem=exports.vrEditorCustomItem=exports.TinyMceIconEnum=exports.vrEditorToolbarModeEnum=exports.vrEditorItemEnum=exports.WindowAutoSizeDirectionEnum=exports.WindowFooterItemAlignEnum=exports.WindowFooterItemTypeEnum=exports.ChartOptions=exports.ChartAxisFormatterEvent=exports.ChartLabelClickEvent=exports.ChartLabelLeaveEvent=exports.ChartLabelHoverEvent=exports.ChartLabelEvent=exports.ChartLegendClickEvent=exports.ChartLegendLeaveEvent=exports.ChartLegendHoverEvent=exports.ChartLegendEvent=exports.ChartParsingSettings=exports.ChartDataSource=exports.ChartLimitSettings=exports.ChartAspectRatioSettings=exports.ChartStackedSettings=exports.ChartTooltipYAlignEnum=exports.ChartTooltipAlignEnum=exports.ChartTooltipPositionEnum=exports.ChartTooltipSettings=exports.ChartLegendTitleSettings=exports.ChartLegendLabelsAlignEnum=exports.ChartLegendLabelsSettings=exports.ChartLegendAlignEnum=exports.ChartLegendPositionEnum=exports.ChartLegendSettings=exports.ChartDataLabelAlignEnum=exports.ChartDataLabelsTextAlignEnum=exports.ChartDataLabelsAnchorEnum=exports.ChartDataLabelsSettings=exports.ChartFont=exports.ChartTitlePositionEnum=exports.ChartTitleAlignEnum=exports.ChartTitleSettings=exports.ChartAreaSettings=exports.ChartTypeEnum=exports.AutoCompleteBoxComboSettings=exports.AutoCompleteBoxItemSettings=exports.AutoCompleteBoxItem=exports.SortByComboSettings=exports.ComboBoxClearEvent=exports.ComboBoxChangingEvent=exports.ComboBoxChangeEvent=exports.ComboBoxEvent=exports.ComboBoxTemplateEvent=exports.ComboBoxWebServiceSettings=exports.ComboBoxItem=exports.ComboBoxTreeModeEnum=exports.ComboBoxTypeEnum=exports.DefaultDayEnum=exports.ImageToolbarTypeEnum=exports.ImagePositionTypeEnum=exports.CheckboxStateEnum=exports.PaypalStyleLayoutEnum=exports.PaypalStyleLabelEnum=exports.PaypalStyleShapeEnum=exports.PaypalStyleColorEnum=exports.PaypalStyleSizeEnum=exports.PaypalEnvironmentEnum=exports.ErrorHideModeEnum=exports.ErrorPositionEnum=exports.ErrorModeEnum=exports.TextBoxValidationErrorEnum=exports.TextBoxRegexSettings=exports.TextBoxValidationSettings=exports.TextTransformModeEnum=exports.TextModeEnum=exports.TextBoxLengthSettings=exports.TextAlignEnum=exports.LabelUnderlineMode=exports.LabelModeEnum=exports.RatingPrecisionEnum=exports.TabStripItem=exports.ButtonGroupItem=exports.SelectionModeEnum=exports.DivBorderSettings=exports.DivBorderSpecificSettings=exports.DivColorSettings=exports.ColorSettings=exports.ButtonModeEnum=exports.BorderStyleEnum=exports.PopupDirectionEnum=exports.PopupSettings=exports.OrientationEnum=exports.PositionEnum=exports.IconClassThin=exports.IconClassDuotone=exports.IconClassRegular=exports.IconClassLight=exports.IconClassSolid=exports.IconClassBrands=exports.CreatorEnum=exports.pumo=exports.hideLoader=exports.showLoader=exports.VrMarginSettings=exports.guid=exports.hr=exports.br=exports.iframe=exports.IconSettings=exports.icon=exports.span=exports.div=exports.createDiv=exports.BrowserTypeEnum=exports.isSeamonkey=exports.isVivaldi=exports.isOpera=exports.isEdge=exports.isFirefox=exports.isChrome=exports.isSafari=exports.isInternetExplorer=exports.browser=exports.isIphone=exports.isIphoneX=exports.isMobile=exports.isDesktop=exports.isTablet=exports.isSmartphone=exports.printImage=exports.printPdf=exports.printBytes=exports.printHtml=exports.printElement=exports.prompt=exports.dialog=exports.alert=exports.confirm=exports.notifyInfo=exports.notifySuccess=exports.notifyWarning=exports.notifyError=exports.notify=exports.hideNotify=exports.ControlPositionEnum=exports.ControlTypeEnum=exports.addControl=exports.getControl=exports.createLegend=exports.createSpeechRecognizer=exports.createTooltip=exports.createTabStrip=exports.createStackedBarChart=exports.createAreaChart=exports.createPieChart=exports.createDonutChart=exports.createLineChart=exports.createHorizontalBarChart=exports.createBarChart=exports.createChart=exports.createAutoCompleteBox=exports.createSplitter=exports.createSearchBar=exports.createColorPicker=exports.createIcon=exports.createQrCode=exports.createMultiScheduler=exports.createScheduler=exports.createTreeView=exports.createUpload=exports.createPaypalButton=exports.createPdfViewer=exports.createGroupBox=exports.createRating=exports.createCalendar=exports.createPainter=exports.createMap=exports.createRepeater=exports.createRadioButtonList=exports.createRadioButton=exports.createCheckBoxList=exports.createSwitch=exports.createGrid=exports.createWindow=exports.createEditor=exports.createSplitButton=exports.createDropDown=exports.createComboBox=exports.createYearPicker=exports.createMonthPicker=exports.createDateTimePicker=exports.createTimePicker=exports.createDatePicker=exports.createImage=exports.createSeparator=exports.createCheckBox=exports.createMultilineTextBox=exports.createPasswordTextBox=exports.createCurrencyTextBox=exports.createPercentageTextBox=exports.createNumericTextBox=exports.createTextBox=exports.createButtonGroup=exports.createButton=exports.createLabel=void 0;const label_1=__webpack_require__(17),utilityManager_1=__webpack_require__(2),deviceManager_1=__webpack_require__(3),textbox_1=__webpack_require__(6),checkbox_1=__webpack_require__(18),separator_1=__webpack_require__(19),buttonGroup_1=__webpack_require__(10),image_1=__webpack_require__(20),datePicker_1=__webpack_require__(5),comboBox_1=__webpack_require__(7),splitButton_1=__webpack_require__(11),editor_1=__webpack_require__(21),window_1=__webpack_require__(22),confirm_1=__webpack_require__(23),alert_1=__webpack_require__(24),dialog_1=__webpack_require__(25),grid_1=__webpack_require__(13),prompt_1=__webpack_require__(26),controlManager_1=__webpack_require__(4),switch_1=__webpack_require__(27),checkboxList_1=__webpack_require__(28),radioButton_1=__webpack_require__(29),radioButtonList_1=__webpack_require__(30),repeater_1=__webpack_require__(31),maps_1=__webpack_require__(32),common_1=__webpack_require__(1),painter_1=__webpack_require__(33),calendar_1=__webpack_require__(34),rating_1=__webpack_require__(35),loaderManager_1=__webpack_require__(9),groupBox_1=__webpack_require__(36),pdfViewer_1=__webpack_require__(37),notifier_1=__webpack_require__(15),upload_1=__webpack_require__(38),paypalButton_1=__webpack_require__(39),treeView_1=__webpack_require__(40),scheduler_1=__webpack_require__(41),qrCode_1=__webpack_require__(42),multiScheduler_1=__webpack_require__(44),icon_1=__webpack_require__(45),colorPicker_1=__webpack_require__(46),searchBar_1=__webpack_require__(48),splitter_1=__webpack_require__(49),autoCompleteBox_1=__webpack_require__(50),chart_1=__webpack_require__(51),printManager_1=__webpack_require__(14),tabStrip_1=__webpack_require__(52),tooltip_1=__webpack_require__(53),speechRecognizer_1=__webpack_require__(54),div_1=__webpack_require__(55),button_1=__webpack_require__(8),legend_1=__webpack_require__(56);function createLabel(e,t,i,r){return createControls(ControlTypeEnum.Label,t,i,r,e)}function createButton(e,t,i,r){return createControls(ControlTypeEnum.Button,t,i,r,e)}function createButtonGroup(e,t,i,r){return createControls(ControlTypeEnum.ButtonGroup,t,i,r,e)}function createTextBox(e,t,i,r){return createControls(ControlTypeEnum.TextBox,t,i,r,e)}function createNumericTextBox(e,t,i,r){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Numeric,createTextBox(e,t,i,r)}function createPercentageTextBox(e,t,i,r){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Percentage,createTextBox(e,t,i,r)}function createCurrencyTextBox(e,t,i,r){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Currency,createTextBox(e,t,i,r)}function createPasswordTextBox(e,t,i,r){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.Password,createTextBox(e,t,i,r)}function createMultilineTextBox(e,t,i,r){return null==e&&(e=new textbox_1.TextBoxOptions),e.mode=TextModeEnum.MultiLine,createTextBox(e,t,i,r)}function createCheckBox(e,t,i,r){return createControls(ControlTypeEnum.CheckBox,t,i,r,e)}function createSeparator(e,t,i,r){return createControls(ControlTypeEnum.Separator,t,i,r,e)}function createImage(e,t,i,r){return createControls(ControlTypeEnum.Image,t,i,r,e)}function createDatePicker(e,t,i,r){return createControls(ControlTypeEnum.DatePicker,t,i,r,e)}function createTimePicker(e,t,i,r){return null==e&&(e=new datePicker_1.DatePickerOptions),e.mode=DateModeEnum.Time,createDatePicker(e,t,i,r)}function createDateTimePicker(e,t,i,r){return null==e&&(e=new datePicker_1.DatePickerOptions),e.mode=DateModeEnum.DateTime,createDatePicker(e,t,i,r)}function createMonthPicker(e,t,i,r){return null==e&&(e=new datePicker_1.DatePickerOptions),e.depth=DateDepthEnum.Month,createDatePicker(e,t,i,r)}function createYearPicker(e,t,i,r){return null==e&&(e=new datePicker_1.DatePickerOptions),e.depth=DateDepthEnum.Year,createDatePicker(e,t,i,r)}function createComboBox(e,t,i,r){return createControls(ControlTypeEnum.ComboBox,t,i,r,e)}function createDropDown(e,t,i,r){return null==e&&(e=new comboBox_1.ComboBoxOptions),e.mode=ComboBoxTypeEnum.DropDown,createComboBox(e,t,i,r)}function createSplitButton(e,t,i,r){return createControls(ControlTypeEnum.SplitButton,t,i,r,e)}function createEditor(e,t,i,r){return createControls(ControlTypeEnum.Editor,t,i,r,e)}function createWindow(e,t){return createControls(ControlTypeEnum.Window,t,null,null,e)}function createGrid(e,t,i,r){return createControls(ControlTypeEnum.Grid,t,i,r,e)}function createSwitch(e,t,i,r){return createControls(ControlTypeEnum.Switch,t,i,r,e)}function createCheckBoxList(e,t,i,r){return createControls(ControlTypeEnum.CheckBoxList,t,i,r,e)}function createRadioButton(e,t,i,r){return createControls(ControlTypeEnum.RadioButton,t,i,r,e)}function createRadioButtonList(e,t,i,r){return createControls(ControlTypeEnum.RadioButtonList,t,i,r,e)}function createRepeater(e,t,i,r){return createControls(ControlTypeEnum.Repeater,t,i,r,e)}function createMap(e,t,i,r){return createControls(ControlTypeEnum.Map,t,i,r,e)}function createPainter(e,t,i,r){return createControls(ControlTypeEnum.Painter,t,i,r,e)}function createCalendar(e,t,i,r){return createControls(ControlTypeEnum.Calendar,t,i,r,e)}function createRating(e,t,i,r){return createControls(ControlTypeEnum.Rating,t,i,r,e)}function createGroupBox(e,t,i,r){return createControls(ControlTypeEnum.GroupBox,t,i,r,e)}function createPdfViewer(e,t,i,r){return createControls(ControlTypeEnum.PdfViewer,t,i,r,e)}function createPaypalButton(e,t,i,r){return createControls(ControlTypeEnum.PaypalButton,t,i,r,e)}function createUpload(e,t,i,r){return createControls(ControlTypeEnum.Upload,t,i,r,e)}function createTreeView(e,t,i,r){return createControls(ControlTypeEnum.TreeView,t,i,r,e)}function createScheduler(e,t,i,r){return createControls(ControlTypeEnum.Scheduler,t,i,r,e)}function createMultiScheduler(e,t,i,r){return createControls(ControlTypeEnum.MultiScheduler,t,i,r,e)}function createQrCode(e,t,i,r){return createControls(ControlTypeEnum.QrCode,t,i,r,e)}function createIcon(e,t,i,r){return createControls(ControlTypeEnum.Icon,t,i,r,e)}function createColorPicker(e,t,i,r){return createControls(ControlTypeEnum.ColorPicker,t,i,r,e)}function createSearchBar(e,t,i,r){return createControls(ControlTypeEnum.SearchBar,t,i,r,e)}function createSplitter(e,t,i,r){return createControls(ControlTypeEnum.Splitter,t,i,r,e)}function createAutoCompleteBox(e,t,i,r){return createControls(ControlTypeEnum.AutoCompleteBox,t,i,r,e)}function createChart(e,t,i,r){return createControls(ControlTypeEnum.Chart,t,i,r,e)}function createBarChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Bar,createChart(e,t,i,r)}function createHorizontalBarChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.HorizontalBar,createChart(e,t,i,r)}function createLineChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Line,createChart(e,t,i,r)}function createDonutChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Donut,createChart(e,t,i,r)}function createPieChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Pie,createChart(e,t,i,r)}function createAreaChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.Area,createChart(e,t,i,r)}function createStackedBarChart(e,t,i,r){return null==e&&(e=new ChartOptions),e.type=ChartTypeEnum.StackedBar,createChart(e,t,i,r)}function createTabStrip(e,t,i,r){return createControls(ControlTypeEnum.TabStrip,t,i,r,e)}function createTooltip(e){return createControls(ControlTypeEnum.Tooltip,null,null,null,e)}function createSpeechRecognizer(e,t,i,r){return createControls(ControlTypeEnum.SpeechRecognizer,t,i,r,e)}function createLegend(e,t,i,r){return createControls(ControlTypeEnum.Legend,t,i,r,e)}function getControl(e){return controlManager_1.ControlManager.get(e)}function addControl(e){controlManager_1.ControlManager.add(e)}function createControls(e,t,i,r,n){null==n&&(n=new common_1.VrControlOptions);let a="vrpm_"+utilityManager_1.UtilityManager.createGuid();if(null!=r&&(a=r,r.startsWith("#")||(r="#"+r)),null!=t&&puma(r).length>0)return puma(r)[0];let o=null,l="";switch(e){case ControlTypeEnum.Label:l="label";break;case ControlTypeEnum.Button:l="button";break;case ControlTypeEnum.ButtonGroup:l="div";break;case ControlTypeEnum.TextBox:l="input";break;case ControlTypeEnum.Window:l="div";break;case ControlTypeEnum.CheckBox:l="input";break;case ControlTypeEnum.CheckBoxList:l="div";break;case ControlTypeEnum.Separator:l="span";break;case ControlTypeEnum.Image:l="img";break;case ControlTypeEnum.DatePicker:l="input";break;case ControlTypeEnum.SplitButton:l="div";break;case ControlTypeEnum.Editor:l="textarea";break;case ControlTypeEnum.Grid:l="table";break;case ControlTypeEnum.Switch:l="div";break;case ControlTypeEnum.RadioButton:l="input";break;case ControlTypeEnum.RadioButtonList:l="div";break;case ControlTypeEnum.Repeater:l="table";break;case ControlTypeEnum.Map:l="div";break;case ControlTypeEnum.Painter:l="canvas";break;case ControlTypeEnum.Calendar:case ControlTypeEnum.Rating:case ControlTypeEnum.GroupBox:case ControlTypeEnum.PdfViewer:case ControlTypeEnum.PaypalButton:case ControlTypeEnum.Upload:case ControlTypeEnum.TreeView:case ControlTypeEnum.Scheduler:case ControlTypeEnum.MultiScheduler:case ControlTypeEnum.QrCode:l="div";break;case ControlTypeEnum.Icon:l="i";break;case ControlTypeEnum.SearchBar:case ControlTypeEnum.Splitter:case ControlTypeEnum.AutoCompleteBox:l="div";break;case ControlTypeEnum.Chart:l="canvas";break;case ControlTypeEnum.TabStrip:case ControlTypeEnum.Tooltip:case ControlTypeEnum.SpeechRecognizer:case ControlTypeEnum.Div:case ControlTypeEnum.Legend:l="div";break;case ControlTypeEnum.ColorPicker:l=null==n.showInput||!0===n.showInput?"input":"button";break;case ControlTypeEnum.ComboBox:switch(null!=n.mode&&!0!==n.checkboxes&&null==n.webService||(n.mode=ComboBoxTypeEnum.Combo),n.mode){case ComboBoxTypeEnum.Combo:l=!0===n.checkboxes?"div":"input";break;case ComboBoxTypeEnum.DropDown:l="div"}}if(null!=t||e==ControlTypeEnum.Window||e==ControlTypeEnum.PdfViewer||e==ControlTypeEnum.Tooltip)o=puma("<"+l+" id='"+a+"'></"+l+">")[0];else{if(null==r)throw Error(e+": il container è nullo, ma l'id non è valorizzato!");a.startsWith("#")||(a="#"+a),o=puma(a)[0]}if(!puma(o).is(l))throw Error("L'elemento nell'HTML con id: "+a+" non corrisponde al corretto elemento: "+l);"input"==l&&puma(o).attr("autocomplete","off"),e!=ControlTypeEnum.Window&&e!=ControlTypeEnum.Tooltip||null!=t||(t=null!=shadowRoot()?shadowRoot():document.body),null!=t&&("string"!=typeof t||t.startsWith("#")||(t="#"+t),null==i&&(i=ControlPositionEnum.After),i==ControlPositionEnum.After?puma(t).vrAppendPuma(o):puma(t).prepend(o));let s=puma(o)["vr"+e](n);return addControl(s),s}var ControlTypeEnum,ControlPositionEnum,BrowserTypeEnum,CreatorEnum,IconClassBrands,IconClassSolid,IconClassLight,IconClassRegular,IconClassDuotone,IconClassThin,PositionEnum,OrientationEnum,PopupDirectionEnum,BorderStyleEnum,ButtonModeEnum,SelectionModeEnum,RatingPrecisionEnum,LabelModeEnum,LabelUnderlineMode,TextAlignEnum,TextModeEnum,TextTransformModeEnum,TextBoxValidationErrorEnum,ErrorModeEnum,ErrorPositionEnum,ErrorHideModeEnum,PaypalEnvironmentEnum,PaypalStyleSizeEnum,PaypalStyleColorEnum,PaypalStyleShapeEnum,PaypalStyleLabelEnum,PaypalStyleLayoutEnum,CheckboxStateEnum,ImagePositionTypeEnum,ImageToolbarTypeEnum,DefaultDayEnum,ComboBoxTypeEnum,ComboBoxTreeModeEnum,ChartTypeEnum,ChartTitleAlignEnum,ChartTitlePositionEnum,ChartDataLabelsAnchorEnum,ChartDataLabelsTextAlignEnum,ChartDataLabelAlignEnum,ChartLegendPositionEnum,ChartLegendAlignEnum,ChartLegendLabelsAlignEnum,ChartTooltipPositionEnum,ChartTooltipAlignEnum,ChartTooltipYAlignEnum,WindowFooterItemTypeEnum,WindowFooterItemAlignEnum,WindowAutoSizeDirectionEnum,vrEditorItemEnum,vrEditorToolbarModeEnum,TinyMceIconEnum,EditorCustomMenuItemType,EditorSpeechRecognizerModeEnum,EditorSpeechRecognizerPositionEnum,GridCheckboxModeEnum,GridSortDirectionEnum,SortDirectionEnum,GridHeightModeEnum,GridModeEnum,GridAggregateMode,GridAlignEnum,GridColumnTypeEnum,GridLabelUnderlineMode,GridToolbarItemType,GridDateFilterTypeEnum,GridNumberFilterTypeEnum,GridStringFilterTypeEnum,PdfViewerToolbarAreaEnum,SplitterDirectionEnum,SplitterCollapseDirectionEnum,DayOfWeekEnum,SchedulerViewEnum,SchedulerNavigateActionEnum,NotifierTypeEnum,NotifierPositionEnum,AnimationShowEnum,AnimationHideEnum,TooltipShowOnEnum,TooltipHideOnEnum,TooltipTypeEnum,TooltipPositionEnum,TreeViewToolbarItemType,TreeModeEnum,TreeViewNumericTypeEnum,TreeViewColumnTypeEnum,TreeViewAlignEnum,MapModeEnum,ColorPickerModeEnum,UploadValidationErrorTypeEnum,Color,WebApiModeEnum,DateModeEnum,DateDepthEnum,DateFormatEnum,KeyEnum,NumberStyleEnum,GroupingModeEnum,RoundingModeEnum;function hideNotify(){puma(".vrNotifierContainer").hide()}function notify(e,t){return new notifier_1.Notifier(e,t)}function notifyError(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Error),new notifier_1.Notifier(e,t)}function notifyWarning(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Warning),new notifier_1.Notifier(e,t)}function notifySuccess(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Success),new notifier_1.Notifier(e,t)}function notifyInfo(e,t){return null==t&&(t=new NotifierOptions),null==t.type&&(t.type=NotifierTypeEnum.Info),new notifier_1.Notifier(e,t)}function confirm(e,t){return new confirm_1.Confirm(e,t).open()}function alert(e,t){return new alert_1.Alert(e,t).open()}function dialog(e,t){let i=new dialog_1.Dialog(e,t);return i.open(),i}function prompt(e,t){return new prompt_1.Prompt(e,t).open()}function printElement(e,t){printManager_1.PrintManager.printElement(e,t)}function printHtml(e,t){printManager_1.PrintManager.printHtml(e,t)}function printBytes(e,t){printManager_1.PrintManager.printBytes(e,t)}function printPdf(e,t){printManager_1.PrintManager.printPdf(e,t)}function printImage(e,t){printManager_1.PrintManager.printImage(e,t)}function isSmartphone(){return deviceManager_1.DeviceManager.isSmartphone()}function isTablet(){return deviceManager_1.DeviceManager.isTablet()}function isDesktop(){return deviceManager_1.DeviceManager.isDesktop()}function isMobile(){return deviceManager_1.DeviceManager.isMobile()}function isIphoneX(){return deviceManager_1.DeviceManager.isIphoneX()}function isIphone(){return deviceManager_1.DeviceManager.isIphone()}function browser(){return deviceManager_1.DeviceManager.browser()}function isInternetExplorer(){return deviceManager_1.DeviceManager.isInternetExplorer()}function isSafari(){return deviceManager_1.DeviceManager.isSafari()}function isChrome(){return deviceManager_1.DeviceManager.isChrome()}function isFirefox(){return deviceManager_1.DeviceManager.isFirefox()}function isEdge(){return deviceManager_1.DeviceManager.isEdge()}function isOpera(){return deviceManager_1.DeviceManager.isOpera()}function isVivaldi(){return deviceManager_1.DeviceManager.isVivaldi()}function isSeamonkey(){return deviceManager_1.DeviceManager.isSeamonkey()}function createDiv(e,t,i){return createControls(ControlTypeEnum.Div,t,i,null,e)}function div(e,t,i=!1){let r="",n="",a="",o="",l="";null!=t&&(null!=t.class&&(r="class = '"+t.class+"'"),null!=t.id&&(n="id = '"+t.id+"'"),null!=t.css&&(a="style='"+t.css+"'"),null!=t.content&&(o=t.content),null!=t.tooltip&&(l="title='"+t.tooltip+"'"));let s=puma("<div "+l+" "+r+" "+n+" "+a+">"+o+"</div>")[0];if(null!=e&&("string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),i?puma(s).vrPrependToPuma(e):puma(s).vrAppendToPuma(e)),null!=t&&null!=t.attributes)for(let e of t.attributes)puma(s).attr(e.name,e.value);return s}exports.createLabel=createLabel,exports.createButton=createButton,exports.createButtonGroup=createButtonGroup,exports.createTextBox=createTextBox,exports.createNumericTextBox=createNumericTextBox,exports.createPercentageTextBox=createPercentageTextBox,exports.createCurrencyTextBox=createCurrencyTextBox,exports.createPasswordTextBox=createPasswordTextBox,exports.createMultilineTextBox=createMultilineTextBox,exports.createCheckBox=createCheckBox,exports.createSeparator=createSeparator,exports.createImage=createImage,exports.createDatePicker=createDatePicker,exports.createTimePicker=createTimePicker,exports.createDateTimePicker=createDateTimePicker,exports.createMonthPicker=createMonthPicker,exports.createYearPicker=createYearPicker,exports.createComboBox=createComboBox,exports.createDropDown=createDropDown,exports.createSplitButton=createSplitButton,exports.createEditor=createEditor,exports.createWindow=createWindow,exports.createGrid=createGrid,exports.createSwitch=createSwitch,exports.createCheckBoxList=createCheckBoxList,exports.createRadioButton=createRadioButton,exports.createRadioButtonList=createRadioButtonList,exports.createRepeater=createRepeater,exports.createMap=createMap,exports.createPainter=createPainter,exports.createCalendar=createCalendar,exports.createRating=createRating,exports.createGroupBox=createGroupBox,exports.createPdfViewer=createPdfViewer,exports.createPaypalButton=createPaypalButton,exports.createUpload=createUpload,exports.createTreeView=createTreeView,exports.createScheduler=createScheduler,exports.createMultiScheduler=createMultiScheduler,exports.createQrCode=createQrCode,exports.createIcon=createIcon,exports.createColorPicker=createColorPicker,exports.createSearchBar=createSearchBar,exports.createSplitter=createSplitter,exports.createAutoCompleteBox=createAutoCompleteBox,exports.createChart=createChart,exports.createBarChart=createBarChart,exports.createHorizontalBarChart=createHorizontalBarChart,exports.createLineChart=createLineChart,exports.createDonutChart=createDonutChart,exports.createPieChart=createPieChart,exports.createAreaChart=createAreaChart,exports.createStackedBarChart=createStackedBarChart,exports.createTabStrip=createTabStrip,exports.createTooltip=createTooltip,exports.createSpeechRecognizer=createSpeechRecognizer,exports.createLegend=createLegend,exports.getControl=getControl,exports.addControl=addControl,jQuery.fn.extend({vrLabel:function(e){let t=this[0];return new label_1.Label(t,e)},vrButton:function(e){let t=this[0];return new button_1.Button(t,e)},vrButtonGroup:function(e){let t=this[0];return new buttonGroup_1.ButtonGroup(t,e)},vrTextBox:function(e){let t=this[0];return new textbox_1.TextBox(t,e)},vrCheckBox:function(e){let t=this[0];return new checkbox_1.CheckBox(t,e)},vrCheckBoxList:function(e){let t=this[0];return new checkboxList_1.CheckBoxList(t,e)},vrSeparator:function(e){let t=this[0];return new separator_1.Separator(t,e)},vrImage:function(e){let t=this[0];return new image_1.Image(t,e)},vrDatePicker:function(e){let t=this[0];return new datePicker_1.DatePicker(t,e)},vrComboBox:function(e){let t=this[0];return new comboBox_1.ComboBox(t,e)},vrSplitButton:function(e){let t=this[0];return new splitButton_1.SplitButton(t,e)},vrEditor:function(e){let t=this[0];return new editor_1.Editor(t,e)},vrWindow:function(e){let t=this[0];return new window_1.Window(t,e)},vrGrid:function(e){let t=this[0];return new grid_1.Grid(t,e)},vrSwitch:function(e){let t=this[0];return new switch_1.Switch(t,e)},vrRadioButton:function(e){let t=this[0];return new radioButton_1.RadioButton(t,e)},vrRadioButtonList:function(e){let t=this[0];return new radioButtonList_1.RadioButtonList(t,e)},vrRepeater:function(e){let t=this[0];return new repeater_1.Repeater(t,e)},vrMap:function(e){let t=this[0];return new maps_1.Maps(t,e)},vrPainter:function(e){let t=this[0];return new painter_1.Painter(t,e)},vrCalendar:function(e){let t=this[0];return new calendar_1.Calendar(t,e)},vrRating:function(e){let t=this[0];return new rating_1.Rating(t,e)},vrGroupBox:function(e){let t=this[0];return new groupBox_1.GroupBox(t,e)},vrPdfViewer:function(e){let t=this[0];return new pdfViewer_1.PdfViewer(t,e)},vrPaypalButton:function(e){let t=this[0];return new paypalButton_1.PaypalButton(t,e)},vrUpload:function(e){let t=this[0];return new upload_1.Upload(t,e)},vrTreeView:function(e){let t=this[0];return new treeView_1.TreeView(t,e)},vrScheduler:function(e){let t=this[0];return new scheduler_1.Scheduler(t,e)},vrMultiScheduler:function(e){let t=this[0];return new multiScheduler_1.MultiScheduler(t,e)},vrQrCode:function(e){let t=this[0];return new qrCode_1.QrCode(t,e)},vrIcon:function(e){let t=this[0];return new icon_1.Icon(t,e)},vrColorPicker:function(e){let t=this[0];return new colorPicker_1.ColorPicker(t,e)},vrSearchBar:function(e){let t=this[0];return new searchBar_1.SearchBar(t,e)},vrSplitter:function(e){let t=this[0];return new splitter_1.Splitter(t,e)},vrAutoCompleteBox:function(e){let t=this[0];return new autoCompleteBox_1.AutoCompleteBox(t,e)},vrChart:function(e){let t=this[0];return new chart_1.ChartVr(t,e)},vrTabStrip:function(e){let t=this[0];return new tabStrip_1.TabStrip(t,e)},vrTooltip:function(e){let t=this[0];return new tooltip_1.Tooltip(t,e)},vrSpeechRecognizer:function(e){let t=this[0];return new speechRecognizer_1.SpeechRecognizer(t,e)},vrDiv:function(e){let t=this[0];return new div_1.Div(t,e)},vrLegend:function(e){let t=this[0];return new legend_1.Legend(t,e)}}),$(()=>{new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.forEach((e,t,i)=>{null!=e.classList&&(e.isConnected||function e(t){if(null!=t){try{if(null!=t.id){let e=t.id.replace("Container","").replace("#","").replace(".","");controlManager_1.ControlManager.remove(e),puma("#"+e+"_divPopup").remove(),puma("."+e+"_wndUtility").remove(),puma("#"+e+"_someStuff").remove(),puma("#"+e+"_someStuffContainer").remove(),puma("#vrWindowBackground_"+e).remove()}}catch(e){}if(null==t.children||0==t.children.length)return;for(let i of t.children)e(i)}}(e))})})}).observe(document.body,{subtree:!0,childList:!0})}),function(e){e.Label="Label",e.Button="Button",e.Window="Window",e.TextBox="TextBox",e.CheckBox="CheckBox",e.Separator="Separator",e.ButtonGroup="ButtonGroup",e.Image="Image",e.DatePicker="DatePicker",e.ComboBox="ComboBox",e.SplitButton="SplitButton",e.Editor="Editor",e.Grid="Grid",e.Switch="Switch",e.CheckBoxList="CheckBoxList",e.RadioButton="RadioButton",e.RadioButtonList="RadioButtonList",e.Repeater="Repeater",e.Map="Map",e.Painter="Painter",e.Calendar="Calendar",e.Rating="Rating",e.GroupBox="GroupBox",e.PdfViewer="PdfViewer",e.Upload="Upload",e.PaypalButton="PaypalButton",e.TreeView="TreeView",e.Scheduler="Scheduler",e.MultiScheduler="MultiScheduler",e.QrCode="QrCode",e.Icon="Icon",e.ColorPicker="ColorPicker",e.SearchBar="SearchBar",e.Splitter="Splitter",e.AutoCompleteBox="AutoCompleteBox",e.Chart="Chart",e.TabStrip="TabStrip",e.Tooltip="Tooltip",e.SpeechRecognizer="SpeechRecognizer",e.Div="Div",e.Legend="Legend"}(ControlTypeEnum=exports.ControlTypeEnum||(exports.ControlTypeEnum={})),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.None=2]="None"}(ControlPositionEnum=exports.ControlPositionEnum||(exports.ControlPositionEnum={})),exports.hideNotify=hideNotify,exports.notify=notify,exports.notifyError=notifyError,exports.notifyWarning=notifyWarning,exports.notifySuccess=notifySuccess,exports.notifyInfo=notifyInfo,exports.confirm=confirm,exports.alert=alert,exports.dialog=dialog,exports.prompt=prompt,exports.printElement=printElement,exports.printHtml=printHtml,exports.printBytes=printBytes,exports.printPdf=printPdf,exports.printImage=printImage,exports.isSmartphone=isSmartphone,exports.isTablet=isTablet,exports.isDesktop=isDesktop,exports.isMobile=isMobile,exports.isIphoneX=isIphoneX,exports.isIphone=isIphone,exports.browser=browser,exports.isInternetExplorer=isInternetExplorer,exports.isSafari=isSafari,exports.isChrome=isChrome,exports.isFirefox=isFirefox,exports.isEdge=isEdge,exports.isOpera=isOpera,exports.isVivaldi=isVivaldi,exports.isSeamonkey=isSeamonkey,function(e){e.InternetExplorer="InternetExplorer",e.Safari="Safari",e.Chrome="Chrome",e.Firefox="Firefox",e.Edge="Edge",e.Opera="Opera",e.Vivaldi="Vivaldi",e.Seamonkey="Seamonkey"}(BrowserTypeEnum=exports.BrowserTypeEnum||(exports.BrowserTypeEnum={})),exports.createDiv=createDiv,exports.div=div;class DivSettings{}function span(e,t,i=!1){let r="",n="",a="",o="",l="";null!=t&&(null!=t.class&&(r="class = '"+t.class+"'"),null!=t.id&&(n="id = '"+t.id+"'"),null!=t.css&&(a="style='"+t.css+"'"),null!=t.content&&(o=t.content),null!=t.tooltip&&(l="title='"+t.tooltip+"'"));let s=puma("<span "+l+" "+r+" "+n+" "+a+">"+o+"</span>")[0];if(null!=e&&("string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),i?puma(s).vrPrependToPuma(e):puma(s).vrAppendToPuma(e)),null!=t&&null!=t.attributes)for(let e of t.attributes)puma(s).attr(e.name,e.value);return s}exports.span=span;class SpanSettings{}function icon(e,t,i,r=!1){null==t||"string"!=typeof t||t.startsWith("#")||t.startsWith(".")||(t="#"+t);let n="",a="",o="";null!=i&&(null!=i.id&&(a="id = '"+i.id+"'"),null!=i.css&&(o+=i.css+";"),null!=i.fontSize&&("number"==typeof i.fontSize&&(i.fontSize=i.fontSize+"px"),o+="font-size: "+i.fontSize+";"),null!=i.color&&(o+="color: "+i.color+";"),null!=i.class&&(n+=i.class),null!=i.cursor&&(o+="cursor: "+i.cursor+";"));let l=puma("<i class='"+e+" vrIcon "+n+"' aria-hidden='true' id='"+a+"' style='"+o+"'></i>")[0];return null!=t&&(r?puma(l).vrPrependToPuma(t):puma(l).vrAppendToPuma(t)),l}exports.icon=icon;class IconSettings{}function iframe(e,t){"string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),null==t&&(t=new VrIframeSettings),null==t.content&&(t.content=""),null==t.width&&(t.width="100%"),null==t.height&&(t.height="100%"),"number"==typeof t.width&&(t.width=t.width+"px"),"number"==typeof t.height&&(t.height=t.height+"px");let i=puma("<iframe>").vrAppendToPuma(e)[0];i.style.cssText+="width: "+t.width+"; height: "+t.height+"; border: none;"+t.css;let r=null,n=i.contentDocument;if(puma(n).find("body").css("margin","0px"),null!=n&&(r=n.body),t.content.includes(".html")||t.content.includes(".php")||t.content.includes(".aspx")||t.content.includes("http")?((t.loader||!1!==t.loader)&&(!0===t.loader&&(t.loader=i),loaderManager_1.LoaderManager.show(!1===t.loader?i:t.loader)),puma(i).attr("src",t.content),puma(i).on("load",()=>{puma(i.contentDocument).find("body").css("margin","0px"),null!=t.callback&&t.callback(),loaderManager_1.LoaderManager.hide()})):(puma(t.content).vrAppendToPuma(r),null!=t.callback&&t.callback(),loaderManager_1.LoaderManager.hide()),null!=t&&null!=t.attributes)for(let e of t.attributes)puma(i).attr(e.name,e.value);return i}exports.IconSettings=IconSettings,exports.iframe=iframe;class VrIframeSettings{}function br(e,t=1){"string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e);for(let i=0;i<t;i++)puma("<br />").vrAppendToPuma(e)}function hr(e,t="",i){return"string"!=typeof e||e.startsWith("#")||e.startsWith(".")||(e="#"+e),puma("<hr "+(null==i?"":" id='"+i+"'")+" style='"+t+"' />").vrAppendToPuma(e)[0]}function guid(){const e=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,"0")),t=crypto.getRandomValues(new Uint8Array(16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,[...t.entries()].map(([t,i])=>[4,6,8,10].includes(t)?"-"+e[i]:e[i]).join("")}exports.br=br,exports.hr=hr,exports.guid=guid;class VrMarginSettings{}function showLoader(e,t=!0,i){"boolean"==typeof e&&(e=void 0),loaderManager_1.LoaderManager.show(e,t,i)}function hideLoader(e){loaderManager_1.LoaderManager.hide(e)}function pumo(){confirm("Giuri solennemente di non avere buone intenzioni?").then(()=>alert("Il signor Matteo Pumo è fiero di presentarti 'I controlli del malandrino'! So che saprai usarli nel modo giusto")).catch(()=>alert("Peggio per te, non saprai mai quant'è profonda la tana del bianconiglio"))}exports.VrMarginSettings=VrMarginSettings,exports.showLoader=showLoader,exports.hideLoader=hideLoader,exports.pumo=pumo,function(e){e.MatteoPumo="MatteoPumo",e.MatteoPumoSite="https://www.matteopumo.com",e.MatteoPumoMail="info@matteopumo.com",e.VettoreRinascimento="VettoreRinascimento",e.VettoreMedical="VettoreMedical",e.Year2020="Year2020",e.PureJqueryTypescript="PureJqueryTypescript",e.FastestControlsEver="FastestControlsEver"}(CreatorEnum=exports.CreatorEnum||(exports.CreatorEnum={})),function(e){e.Amazon="fa-brands fa-amazon",e.Android="fa-brands fa-android",e.Apple="fa-brands fa-apple",e.AppStore="fa-brands fa-app-store",e.Facebook="fa-brands fa-facebook",e.Google="fa-brands fa-google",e.GooglePlay="fa-brands fa-google-play",e.Paypal="fa-brands fa-paypal",e.Twitter="fa-brands fa-twitter",e.Vimeo="fa-brands fa-vimeo",e.Whatsapp="fa-brands fa-whatsapp",e.Windows="fa-brands fa-windows",e.Youtube="fa-brands fa-youtube"}(IconClassBrands=exports.IconClassBrands||(exports.IconClassBrands={})),function(e){e.Add="fa-solid fa-plus",e.AddressCard="fa-solid fa-address-card",e.Alert="fa-solid fa-triangle-exclamation",e.AngleDown="fa-solid fa-angle-down",e.AngleLeft="fa-solid fa-angle-left",e.AngleRight="fa-solid fa-angle-right",e.AngleUp="fa-solid fa-angle-up",e.Aperture="fa-solid fa-aperture",e.ArrowDown="fa-solid fa-arrow-down",e.ArrowDownShortWide="fa-solid fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-solid fa-arrow-down-wide-short",e.ArrowLeft="fa-solid fa-arrow-left",e.ArrowPointer="fa-solid fa-arrow-pointer",e.ArrowRight="fa-solid fa-arrow-right",e.ArrowRightToBracket="fa-solid fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-solid fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-solid fa-arrow-rotate-right",e.ArrowsRotate="fa-solid fa-arrows-rotate",e.ArrowUp="fa-solid fa-arrow-up",e.Asterisk="fa-solid fa-asterisk",e.At="fa-solid fa-at",e.Attachment="fa-solid fa-paperclip",e.Back="fa-solid fa-angle-left",e.Backward="fa-solid fa-backward",e.BackwardFast="fa-solid fa-backward-fast",e.BackwardStep="fa-solid fa-backward-step",e.BalanceScale="fa-solid fa-balance-scale",e.BallotCheck="fa-solid fa-ballot-check",e.Ban="fa-solid fa-ban",e.Barcode="fa-solid fa-barcode",e.BarcodeScan="fa-solid fa-barcode-scan",e.Bars="fa-solid fa-bars",e.BarsSort="fa-solid fa-bars-sort",e.Bell="fa-solid fa-bell",e.BellSlash="fa-solid fa-bell-slash",e.Bolt="fa-solid fa-bolt",e.Book="fa-solid fa-book",e.BookOpen="fa-solid fa-book-open",e.Box="fa-solid fa-box",e.BoxArchive="fa-solid fa-box-archive",e.BriefCase="fa-solid fa-brief-case",e.Bug="fa-solid fa-bug",e.Burger="fa-solid fa-bars",e.CakeCandles="fa-solid fa-cake-candles",e.Calendar="fa-solid fa-calendar",e.CalendarAlt="fa-solid fa-calendar-alt",e.CalendarCheck="fa-solid fa-calendar-check",e.CalendarDay="fa-solid fa-calendar-day",e.CalendarPlus="fa-solid fa-calendar-plus",e.Camera="fa-solid fa-camera",e.CameraAlt="fa-solid fa-camera-alt",e.CameraWeb="fa-solid fa-camera-web",e.CameraWebSlash="fa-solid fa-camera-web-slash",e.Capsules="fa-solid fa-capsules",e.CaretDown="fa-solid fa-caret-down",e.CaretLeft="fa-solid fa-caret-left",e.CaretRight="fa-solid fa-caret-right",e.CaretUp="fa-solid fa-caret-up",e.CartCirclePlus="fa-solid fa-cart-circle-plus",e.CartShopping="fa-solid fa-cart-shopping",e.ChartArea="fa-solid fa-chart-area",e.ChartBar="fa-solid fa-chart-bar",e.ChartColumn="fa-solid fa-chart-column",e.ChartLine="fa-solid fa-chart-line",e.ChartPie="fa-solid fa-chart-pie",e.ChartSimple="fa-solid fa-chart-simple",e.Chat="fa-solid fa-comment",e.Check="fa-solid fa-check",e.ChevronDown="fa-solid fa-chevron-down",e.ChevronLeft="fa-solid fa-chevron-left",e.ChevronRight="fa-solid fa-chevron-right",e.ChevronUp="fa-solid fa-chevron-up",e.Circle="fa-solid fa-circle",e.CircleCheck="fa-solid fa-circle-check",e.CircleExclamation="fa-solid fa-circle-exclamation",e.CircleInfo="fa-solid fa-circle-info",e.CircleStop="fa-solid fa-circle-stop",e.Clipboard="fa-solid fa-clipboard",e.ClipboardMedical="fa-solid fa-clipboard-medical",e.Clock="fa-solid fa-clock",e.ClockRotateLeft="fa-solid fa-clock-rotate-left",e.Close="fa-solid fa-xmark",e.Cloud="fa-solid fa-cloud",e.CloudArrowUp="fa-solid fa-cloud-arrow-up",e.CloudDownload="fa-solid fa-cloud-download",e.Code="fa-solid fa-code",e.CodeMerge="fa-solid fa-code-merge",e.Coins="fa-solid fa-coins",e.Collapse="fa-solid fa-compress",e.Comment="fa-solid fa-comment",e.CommentDots="fa-solid fa-comment-dots",e.CommentLines="fa-solid fa-comment-lines",e.Comments="fa-solid fa-comments",e.CommentSms="fa-solid fa-comment-sms",e.Compress="fa-solid fa-compress",e.Copy="fa-solid fa-copy",e.Copyright="fa-solid fa-copyright",e.CreditCard="fa-solid fa-credit-card",e.Crown="fa-solid fa-crown",e.Database="fa-solid fa-database",e.Delete="fa-solid fa-xmark",e.DeleteLeft="fa-solid fa-delete-left",e.DeleteRight="fa-solid fa-delete-right",e.Desktop="fa-solid fa-desktop",e.Download="fa-solid fa-download",e.Edit="fa-solid fa-pen",e.Eject="fa-solid fa-eject",e.Ellipsis="fa-solid fa-ellipsis",e.EllipsisVertical="fa-solid fa-ellipsis-vertical",e.Envelope="fa-solid fa-envelope",e.Eraser="fa-solid fa-eraser",e.EuroSign="fa-solid fa-euro-sign",e.Exclamation="fa-solid fa-exclamation",e.Expand="fa-solid fa-expand",e.Eye="fa-solid fa-eye",e.EyeSlash="fa-solid fa-eye-slash",e.Family="fa-solid fa-family",e.FastBackward="fa-solid fa-fast-backward",e.FastForward="fa-solid fa-fast-forward",e.File="fa-solid fa-file",e.FileAudio="fa-solid fa-file-audio",e.FileContract="fa-solid fa-file-contract",e.FileDownload="fa-solid fa-file-download",e.FileExcel="fa-solid fa-file-excel",e.FileExport="fa-solid fa-file-export",e.FileImage="fa-solid fa-file-image",e.FileInvoice="fa-solid fa-file-invoice",e.FileImport="fa-solid fa-file-import",e.FileLines="fa-solid fa-file-lines",e.FileMusic="fa-solid fa-file-music",e.FilePdf="fa-solid fa-file-pdf",e.Files="fa-solid fa-file-files",e.FileSignature="fa-solid fa-file-signature",e.FileVideo="fa-solid fa-file-video",e.FileWord="fa-solid fa-file-word",e.FileZipper="fa-solid fa-file-zipper",e.Filter="fa-solid fa-filter",e.Flag="fa-solid fa-flag",e.FlagSwallowTail="fa-solid fa-flag-swallowtail",e.FloppyDisk="fa-solid fa-floppy-disk",e.Folder="fa-solid fa-folder",e.FolderOpen="fa-solid fa-folder-open",e.FontAwesome="fa-solid  fa-font-awesome",e.Forward="fa-solid fa-forward",e.ForwardStep="fa-solid fa-forward-step",e.ForwardFast="fa-solid fa-forward-fast",e.Futbol="fa-solid fa-futbol",e.Gear="fa-solid fa-gear",e.Gears="fa-solid fa-gears",e.Globe="fa-solid fa-globe",e.Hashtag="fa-solid fa-hashtag",e.HatWizard="fa-solid fa-hat-wizard",e.Headset="fa-solid fa-headset",e.Hospital="fa-solid fa-hospital",e.Hourglass="fa-solid fa-hourglass",e.HourglassClock="fa-solid fa-hourglass-clock",e.House="fa-solid fa-house",e.HouseMedical="fa-solid fa-house-medical",e.HouseUser="fa-solid fa-house-user",e.Image="fa-solid fa-image",e.Inbox="fa-solid fa-inbox",e.InboxFull="fa-solid fa-inbox-full",e.Info="fa-solid fa-info",e.Key="fa-solid fa-key",e.Keyboard="fa-solid fa-keyboard",e.KeySkeleton="fa-solid fa-key-skeleton",e.Laptop="fa-solid fa-laptop",e.LaptopMedical="fa-solid fa-laptop-medical",e.LevelDown="fa-solid fa-level-down",e.LevelDownAlt="fa-solid fa-level-down-alt",e.LevelLeft="fa-solid fa-level-left",e.LevelLeftAlt="fa-solid fa-level-left-alt",e.LevelRight="fa-solid fa-level-right",e.LevelRightAlt="fa-solid fa-level-right-alt",e.LevelUp="fa-solid fa-level-up",e.LevelUpAlt="fa-solid fa-level-up-alt",e.Link="fa-solid fa-link",e.LinkExternal="fa-solid fa-arrow-up-right-from-square",e.LinkHorizontal="fa-solid fa-link-horizontal",e.LinkHorizontalSlash="fa-solid fa-link-horizontal-slash",e.LinkSimple="fa-solid fa-link-simple",e.LinkSimpleSlash="fa-solid fa-link-simple-slash",e.LinkSlash="fa-solid fa-link-slash",e.List="fa-solid fa-list",e.ListCheck="fa-solid fa-list-check",e.ListOl="fa-solid fa-list-ol",e.ListTree="fa-solid fa-list-tree",e.ListUl="fa-solid fa-list-ul",e.LocationArrow="fa-solid fa-location-arrow",e.LocationCrossHairs="fa-solid fa-location-crosshairs",e.LocationCheck="fa-solid fa-location-check",e.LocationDot="fa-solid fa-location-dot",e.Lock="fa-solid fa-lock",e.LockOpen="fa-solid fa-lock-open",e.Login="fa-solid fa-arrow-right-to-bracket",e.Logout="fa-solid fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-solid fa-magnifying-glass",e.MagnifyingGlassMinus="fa-solid fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-solid fa-magnifying-glass-plus",e.Mail="fa-solid fa-envelope",e.Mailbox="fa-solid fa-mailbox",e.MailOpen="fa-solid fa-envelope-open",e.Map="fa-solid fa-map",e.MapLocation="fa-solid fa-map-location",e.MapLocationDot="fa-solid fa-map-location-dot",e.MapPin="fa-solid fa-map-pin",e.Maximize="fa-solid fa-maximize",e.Merge="fa-solid fa-merge",e.Message="fa-solid fa-message",e.MessageCode="fa-solid fa-message-code",e.MessageDots="fa-solid fa-message-dots",e.MessageLines="fa-solid fa-message-lines",e.Messages="fa-solid fa-messages",e.Microphone="fa-solid fa-microphone",e.MicrophoneLines="fa-solid fa-microphone-lines",e.MicrophoneLinesSlash="fa-solid fa-microphone-lines-slash",e.MicrophoneSlash="fa-solid fa-microphone-slash",e.Microscope="fa-solid fa-microscope",e.Minimize="fa-solid fa-minimize",e.Minus="fa-solid fa-minus",e.Mobile="fa-solid fa-mobile",e.MobileNotch="fa-solid fa-mobile-notch",e.MoneyCheckDollarPen="fa-solid fa-money-check-dollar-pen",e.Music="fa-solid fa-music",e.MusicSlash="fa-solid fa-music-slash",e.NewsPaper="fa-solid fa-newspaper",e.Palette="fa-solid fa-palette",e.PaperClip="fa-solid fa-paperclip",e.PaperClipVertical="fa-solid fa-paperclip-vertical",e.PaperPlane="fa-solid fa-paper-plane",e.PaperPlaneTop="fa-solid fa-paper-plane-top",e.Paste="fa-solid fa-paste",e.Pause="fa-solid fa-pause",e.Pencil="fa-solid fa-pencil",e.Pen="fa-solid fa-pen",e.PenToSquare="fa-solid fa-pen-to-square",e.PeopleArrowsLeftRight="fa-solid fa-people-arrows-left-right",e.Percentage="fa-solid fa-percentage",e.PersonChalkboard="fa-solid fa-person-chalkboard",e.PersonMilitaryRifle="fa-solid fa-person-military-rifle",e.Phone="fa-solid fa-phone",e.Play="fa-solid fa-play",e.PlayPause="fa-solid fa-play-pause",e.Plus="fa-solid fa-plus",e.Print="fa-solid fa-print",e.Pumo="fa-solid fa-font-awesome",e.Question="fa-solid fa-question",e.Redo="fa-solid fa-redo",e.RedoAlt="fa-solid fa-redo-alt",e.Refresh="fa-solid fa-arrows-rotate",e.Remove="fa-solid fa-xmark",e.Repeat="fa-solid fa-repeat",e.Reply="fa-solid fa-reply",e.ReplyAll="fa-solid fa-reply-all",e.RightFromBracket="fa-solid fa-right-from-bracket",e.RightToBracket="fa-solid fa-right-to-bracket",e.Rotate="fa-solid fa-rotate",e.RotateLeft="fa-solid fa-rotate-left",e.SackDollar="fa-solid fa-sack-dollar",e.Save="fa-solid fa-floppy-disk",e.Scissors="fa-solid fa-scissors",e.ScrewdriverWrench="fa-solid fa-screwdriver-wrench",e.Search="fa-solid fa-magnifying-glass",e.SensorTriangleExclamation="fa-solid fa-sensor-triangle-exclamation",e.Settings="fa-solid fa-gear",e.Share="fa-solid fa-share",e.ShareAll="fa-solid fa-share-all",e.ShareNodes="fa-solid fa-share-nodes",e.ShareFromSquare="fa-solid fa-share-from-square",e.ShieldCheck="fa-solid fa-shield-check",e.Ship="fa-solid fa-ship",e.Sitemap="fa-solid fa-sitemap",e.Soccer="fa-solid fa-futbol",e.Sort="fa-solid fa-sort",e.SortDown="fa-solid fa-sort-down",e.SortUp="fa-solid fa-sort-up",e.Spinner="fa-solid fa-spinner",e.Split="fa-solid fa-split",e.SquareCheck="fa-solid fa-square-check",e.SquareMinus="fa-solid fa-square-minus",e.SquarePen="fa-solid fa-square-pen",e.Star="fa-solid fa-star",e.StepBackward="fa-solid fa-step-backward",e.StepForward="fa-solid fa-step-forward",e.Stethoscope="fa-solid fa-stethoscope",e.Stop="fa-solid fa-stop",e.Table="fa-solid fa-table",e.TableRows="fa-solid fa-table-rows",e.Tablet="fa-solid fa-tablet",e.Tag="fa-solid fa-tag",e.Tags="fa-solid fa-tags",e.Tasks="fa-solid fa-tasks",e.ThumbsDown="fa-solid fa-thumbs-down",e.ThumbsUp="fa-solid fa-thumbs-up",e.Thumbtack="fa-solid fa-thumbtack",e.Trash="fa-solid fa-trash",e.TrashCanList="fa-solid fa-trash-can-list",e.TrashUndo="fa-solid fa-trash-undo",e.TrashXmark="fa-solid fa-trash-xmark",e.TriangleExclamation="fa-solid fa-triangle-exclamation",e.Truck="fa-solid fa-truck",e.Undo="fa-solid fa-arrow-rotate-left",e.Unlock="fa-solid fa-unlock",e.Upload="fa-solid fa-upload",e.UsbDrive="fa-solid fa-usb-drive",e.User="fa-solid fa-user",e.UserCheck="fa-solid fa-user-check",e.UserClock="fa-solid fa-user-clock",e.UserDoctor="fa-solid fa-user-doctor",e.UserDoctorHair="fa-solid fa-user-doctor-hair",e.UserDoctorHairLong="fa-solid fa-user-doctor-hair-long",e.UserGear="fa-solid fa-user-gear",e.UserGroup="fa-solid fa-user-group",e.UserHair="fa-solid fa-user-hair",e.UserHairLong="fa-solid fa-user-hair-long",e.UserHeadset="fa-solid fa-user-headset",e.Users="fa-solid fa-users",e.UserSecret="fa-solid fa-user-secret",e.UsersMedical="fa-solid fa-users-medical",e.UserTag="fa-solid fa-user-tag",e.UserXmark="fa-solid fa-user-xmark",e.Video="fa-solid fa-video",e.VideoSlash="fa-solid fa-video-slash",e.Volume="fa-solid fa-volume",e.VolumeHigh="fa-solid fa-volume-high",e.VolumeLow="fa-solid fa-volume-low",e.VolumeOff="fa-solid fa-volume-off",e.VolumeSlash="fa-solid fa-volume-slash",e.VolumeXmark="fa-solid fa-volume-xmark",e.Wifi="fa-solid fa-wifi",e.WifiExclamation="fa-solid fa-wifi-exclamation",e.WifiFair="fa-solid fa-wifi-fair",e.WifiSlash="fa-solid fa-wifi-slash",e.Window="fa-solid fa-window",e.Xmark="fa-solid fa-xmark"}(IconClassSolid=exports.IconClassSolid||(exports.IconClassSolid={})),function(e){e.Add="fa-light fa-plus",e.AddressCard="fa-light fa-address-card",e.Alert="fa-light fa-triangle-exclamation",e.AngleDown="fa-light fa-angle-down",e.AngleLeft="fa-light fa-angle-left",e.AngleRight="fa-light fa-angle-right",e.AngleUp="fa-light fa-angle-up",e.Aperture="fa-light fa-aperture",e.ArrowDown="fa-light fa-arrow-down",e.ArrowDownShortWide="fa-light fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-light fa-arrow-down-wide-short",e.ArrowLeft="fa-light fa-arrow-left",e.ArrowPointer="fa-light fa-arrow-pointer",e.ArrowRight="fa-light fa-arrow-right",e.ArrowRightToBracket="fa-light fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-light fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-light fa-arrow-rotate-right",e.ArrowsRotate="fa-light fa-arrows-rotate",e.ArrowUp="fa-light fa-arrow-up",e.Asterisk="fa-light fa-asterisk",e.At="fa-light fa-at",e.Attachment="fa-light fa-paperclip",e.Back="fa-light fa-angle-left",e.Backward="fa-light fa-backward",e.BackwardFast="fa-light fa-backward-fast",e.BackwardStep="fa-light fa-backward-step",e.BalanceScale="fa-light fa-balance-scale",e.BallotCheck="fa-light fa-ballot-check",e.Ban="fa-light fa-ban",e.Barcode="fa-light fa-barcode",e.BarcodeScan="fa-light fa-barcode-scan",e.Bars="fa-light fa-bars",e.BarsSort="fa-light fa-bars-sort",e.Bell="fa-light fa-bell",e.BellSlash="fa-light fa-bell-slash",e.Bolt="fa-light fa-bolt",e.Book="fa-light fa-book",e.BookOpen="fa-light fa-book-open",e.Box="fa-light fa-box",e.BoxArchive="fa-light fa-box-archive",e.BriefCase="fa-light fa-brief-case",e.Bug="fa-light fa-bug",e.Burger="fa-light fa-bars",e.CakeCandles="fa-light fa-cake-candles",e.Calendar="fa-light fa-calendar",e.CalendarAlt="fa-light fa-calendar-alt",e.CalendarCheck="fa-light fa-calendar-check",e.CalendarDay="fa-light fa-calendar-day",e.CalendarPlus="fa-light fa-calendar-plus",e.Camera="fa-light fa-camera",e.CameraAlt="fa-light fa-camera-alt",e.CameraWeb="fa-light fa-camera-web",e.CameraWebSlash="fa-light fa-camera-web-slash",e.Capsules="fa-light fa-capsules",e.CaretDown="fa-light fa-caret-down",e.CaretLeft="fa-light fa-caret-left",e.CaretRight="fa-light fa-caret-right",e.CaretUp="fa-light fa-caret-up",e.CartCirclePlus="fa-light fa-cart-circle-plus",e.CartShopping="fa-light fa-cart-shopping",e.ChartArea="fa-light fa-chart-area",e.ChartBar="fa-light fa-chart-bar",e.ChartColumn="fa-light fa-chart-column",e.ChartLine="fa-light fa-chart-line",e.ChartPie="fa-light fa-chart-pie",e.ChartSimple="fa-light fa-chart-simple",e.Chat="fa-light fa-comment",e.Check="fa-light fa-check",e.ChevronDown="fa-light fa-chevron-down",e.ChevronLeft="fa-light fa-chevron-left",e.ChevronRight="fa-light fa-chevron-right",e.ChevronUp="fa-light fa-chevron-up",e.Circle="fa-light fa-circle",e.CircleCheck="fa-light fa-circle-check",e.CircleExclamation="fa-light fa-circle-exclamation",e.CircleInfo="fa-light fa-circle-info",e.CircleStop="fa-light fa-circle-stop",e.Clipboard="fa-light fa-clipboard",e.ClipboardMedical="fa-light fa-clipboard-medical",e.Clock="fa-light fa-clock",e.ClockRotateLeft="fa-light fa-clock-rotate-left",e.Close="fa-light fa-xmark",e.Cloud="fa-light fa-cloud",e.CloudArrowUp="fa-light fa-cloud-arrow-up",e.CloudDownload="fa-light fa-cloud-download",e.Code="fa-light fa-code",e.CodeMerge="fa-light fa-code-merge",e.Coins="fa-light fa-coins",e.Collapse="fa-light fa-compress",e.Comment="fa-light fa-comment",e.CommentDots="fa-light fa-comment-dots",e.CommentLines="fa-light fa-comment-lines",e.Comments="fa-light fa-comments",e.CommentSms="fa-light fa-comment-sms",e.Compress="fa-light fa-compress",e.Copy="fa-light fa-copy",e.Copyright="fa-light fa-copyright",e.CreditCard="fa-light fa-credit-card",e.Crown="fa-light fa-crown",e.Database="fa-light fa-database",e.Delete="fa-light fa-xmark",e.DeleteLeft="fa-light fa-delete-left",e.DeleteRight="fa-light fa-delete-right",e.Desktop="fa-light fa-desktop",e.Download="fa-light fa-download",e.Edit="fa-light fa-pen",e.Eject="fa-light fa-eject",e.Ellipsis="fa-light fa-ellipsis",e.EllipsisVertical="fa-light fa-ellipsis-vertical",e.Envelope="fa-light fa-envelope",e.Eraser="fa-light fa-eraser",e.EuroSign="fa-light fa-euro-sign",e.Exclamation="fa-light fa-exclamation",e.Expand="fa-light fa-expand",e.Eye="fa-light fa-eye",e.EyeSlash="fa-light fa-eye-slash",e.Family="fa-light fa-family",e.FastBackward="fa-light fa-fast-backward",e.FastForward="fa-light fa-fast-forward",e.File="fa-light fa-file",e.FileAudio="fa-light fa-file-audio",e.FileContract="fa-light fa-file-contract",e.FileDownload="fa-light fa-file-download",e.FileExcel="fa-light fa-file-excel",e.FileExport="fa-light fa-file-export",e.FileImage="fa-light fa-file-image",e.FileInvoice="fa-light fa-file-invoice",e.FileImport="fa-light fa-file-import",e.FileLines="fa-light fa-file-lines",e.FileMusic="fa-light fa-file-music",e.FilePdf="fa-light fa-file-pdf",e.Files="fa-light fa-file-files",e.FileSignature="fa-light fa-file-signature",e.FileVideo="fa-light fa-file-video",e.FileWord="fa-light fa-file-word",e.FileZipper="fa-light fa-file-zipper",e.Filter="fa-light fa-filter",e.Flag="fa-light fa-flag",e.FlagSwallowTail="fa-light fa-flag-swallowtail",e.FloppyDisk="fa-light fa-floppy-disk",e.Folder="fa-light fa-folder",e.FolderOpen="fa-light fa-folder-open",e.FontAwesome="fa-light  fa-font-awesome",e.Forward="fa-light fa-forward",e.ForwardStep="fa-light fa-forward-step",e.ForwardFast="fa-light fa-forward-fast",e.Futbol="fa-light fa-futbol",e.Gear="fa-light fa-gear",e.Gears="fa-light fa-gears",e.Globe="fa-light fa-globe",e.Hashtag="fa-light fa-hashtag",e.HatWizard="fa-light fa-hat-wizard",e.Headset="fa-light fa-headset",e.Hospital="fa-light fa-hospital",e.Hourglass="fa-light fa-hourglass",e.HourglassClock="fa-light fa-hourglass-clock",e.House="fa-light fa-house",e.HouseMedical="fa-light fa-house-medical",e.HouseUser="fa-light fa-house-user",e.Image="fa-light fa-image",e.Inbox="fa-light fa-inbox",e.InboxFull="fa-light fa-inbox-full",e.Info="fa-light fa-info",e.Key="fa-light fa-key",e.Keyboard="fa-light fa-keyboard",e.KeySkeleton="fa-light fa-key-skeleton",e.Laptop="fa-light fa-laptop",e.LaptopMedical="fa-light fa-laptop-medical",e.LevelDown="fa-light fa-level-down",e.LevelDownAlt="fa-light fa-level-down-alt",e.LevelLeft="fa-light fa-level-left",e.LevelLeftAlt="fa-light fa-level-left-alt",e.LevelRight="fa-light fa-level-right",e.LevelRightAlt="fa-light fa-level-right-alt",e.LevelUp="fa-light fa-level-up",e.LevelUpAlt="fa-light fa-level-up-alt",e.Link="fa-light fa-link",e.LinkExternal="fa-light fa-arrow-up-right-from-square",e.LinkHorizontal="fa-light fa-link-horizontal",e.LinkHorizontalSlash="fa-light fa-link-horizontal-slash",e.LinkSimple="fa-light fa-link-simple",e.LinkSimpleSlash="fa-light fa-link-simple-slash",e.LinkSlash="fa-light fa-link-slash",e.List="fa-light fa-list",e.ListCheck="fa-light fa-list-check",e.ListOl="fa-light fa-list-ol",e.ListTree="fa-light fa-list-tree",e.ListUl="fa-light fa-list-ul",e.LocationArrow="fa-light fa-location-arrow",e.LocationCrossHairs="fa-light fa-location-crosshairs",e.LocationCheck="fa-light fa-location-check",e.LocationDot="fa-light fa-location-dot",e.Lock="fa-light fa-lock",e.LockOpen="fa-light fa-lock-open",e.Login="fa-light fa-arrow-right-to-bracket",e.Logout="fa-light fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-light fa-magnifying-glass",e.MagnifyingGlassMinus="fa-light fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-light fa-magnifying-glass-plus",e.Mail="fa-light fa-envelope",e.Mailbox="fa-light fa-mailbox",e.MailOpen="fa-light fa-envelope-open",e.Map="fa-light fa-map",e.MapLocation="fa-light fa-map-location",e.MapLocationDot="fa-light fa-map-location-dot",e.MapPin="fa-light fa-map-pin",e.Maximize="fa-light fa-maximize",e.Merge="fa-light fa-merge",e.Message="fa-light fa-message",e.MessageCode="fa-light fa-message-code",e.MessageDots="fa-light fa-message-dots",e.MessageLines="fa-light fa-message-lines",e.Messages="fa-light fa-messages",e.Microphone="fa-light fa-microphone",e.MicrophoneLines="fa-light fa-microphone-lines",e.MicrophoneLinesSlash="fa-light fa-microphone-lines-slash",e.MicrophoneSlash="fa-light fa-microphone-slash",e.Microscope="fa-light fa-microscope",e.Minimize="fa-light fa-minimize",e.Minus="fa-light fa-minus",e.Mobile="fa-light fa-mobile",e.MobileNotch="fa-light fa-mobile-notch",e.MoneyCheckDollarPen="fa-light fa-money-check-dollar-pen",e.Music="fa-light fa-music",e.MusicSlash="fa-light fa-music-slash",e.NewsPaper="fa-light fa-newspaper",e.Palette="fa-light fa-palette",e.PaperClip="fa-light fa-paperclip",e.PaperClipVertical="fa-light fa-paperclip-vertical",e.PaperPlane="fa-light fa-paper-plane",e.PaperPlaneTop="fa-light fa-paper-plane-top",e.Paste="fa-light fa-paste",e.Pause="fa-light fa-pause",e.Pen="fa-light fa-pen",e.Pencil="fa-light fa-pencil",e.PenToSquare="fa-light fa-pen-to-square",e.PeopleArrowsLeftRight="fa-light fa-people-arrows-left-right",e.Percentage="fa-light fa-percentage",e.PersonChalkboard="fa-light fa-person-chalkboard",e.PersonMilitaryRifle="fa-light fa-person-military-rifle",e.Phone="fa-light fa-phone",e.Play="fa-light fa-play",e.PlayPause="fa-light fa-play-pause",e.Plus="fa-light fa-plus",e.Print="fa-light fa-print",e.Pumo="fa-light fa-font-awesome",e.Question="fa-light fa-question",e.Redo="fa-light fa-redo",e.RedoAlt="fa-light fa-redo-alt",e.Refresh="fa-light fa-arrows-rotate",e.Remove="fa-light fa-xmark",e.Repeat="fa-light fa-repeat",e.Reply="fa-light fa-reply",e.ReplyAll="fa-light fa-reply-all",e.RightFromBracket="fa-light fa-right-from-bracket",e.RightToBracket="fa-light fa-right-to-bracket",e.Rotate="fa-light fa-rotate",e.RotateLeft="fa-light fa-rotate-left",e.SackDollar="fa-light fa-sack-dollar",e.Save="fa-light fa-floppy-disk",e.Scissors="fa-light fa-scissors",e.ScrewdriverWrench="fa-light fa-screwdriver-wrench",e.Search="fa-light fa-magnifying-glass",e.SensorTriangleExclamation="fa-light fa-sensor-triangle-exclamation",e.Settings="fa-light fa-gear",e.Share="fa-light fa-share",e.ShareAll="fa-light fa-share-all",e.ShareNodes="fa-light fa-share-nodes",e.ShareFromSquare="fa-light fa-share-from-square",e.ShieldCheck="fa-light fa-shield-check",e.Ship="fa-light fa-ship",e.Sitemap="fa-light fa-sitemap",e.Soccer="fa-light fa-futbol",e.Sort="fa-light fa-sort",e.SortDown="fa-light fa-sort-down",e.SortUp="fa-light fa-sort-up",e.Spinner="fa-light fa-spinner",e.Split="fa-light fa-split",e.SquareCheck="fa-light fa-square-check",e.SquareMinus="fa-light fa-square-minus",e.SquarePen="fa-light fa-square-pen",e.Stamp="fa-light fa-stamp",e.Star="fa-light fa-star",e.StepBackward="fa-light fa-step-backward",e.StepForward="fa-light fa-step-forward",e.Stethoscope="fa-light fa-stethoscope",e.Stop="fa-light fa-stop",e.Table="fa-light fa-table",e.TableRows="fa-light fa-table-rows",e.Tablet="fa-light fa-tablet",e.Tag="fa-light fa-tag",e.Tags="fa-light fa-tags",e.Tasks="fa-light fa-tasks",e.ThumbsDown="fa-light fa-thumbs-down",e.ThumbsUp="fa-light fa-thumbs-up",e.Thumbtack="fa-light fa-thumbtack",e.Trash="fa-light fa-trash",e.TrashCanList="fa-light fa-trash-can-list",e.TrashUndo="fa-light fa-trash-undo",e.TrashXmark="fa-light fa-trash-xmark",e.TriangleExclamation="fa-light fa-triangle-exclamation",e.Truck="fa-light fa-truck",e.Undo="fa-light fa-arrow-rotate-left",e.Unlock="fa-light fa-unlock",e.Upload="fa-light fa-upload",e.UsbDrive="fa-light fa-usb-drive",e.User="fa-light fa-user",e.UserCheck="fa-light fa-user-check",e.UserClock="fa-light fa-user-clock",e.UserDoctor="fa-light fa-user-doctor",e.UserDoctorHair="fa-light fa-user-doctor-hair",e.UserDoctorHairLong="fa-light fa-user-doctor-hair-long",e.UserGear="fa-light fa-user-gear",e.UserGroup="fa-light fa-user-group",e.UserHair="fa-light fa-user-hair",e.UserHairLong="fa-light fa-user-hair-long",e.UserHeadset="fa-light fa-user-headset",e.Users="fa-light fa-users",e.UserSecret="fa-light fa-user-secret",e.UsersMedical="fa-light fa-users-medical",e.UserTag="fa-light fa-user-tag",e.UserXmark="fa-light fa-user-xmark",e.Video="fa-light fa-video",e.VideoSlash="fa-light fa-video-slash",e.Volume="fa-light fa-volume",e.VolumeHigh="fa-light fa-volume-high",e.VolumeLow="fa-light fa-volume-low",e.VolumeOff="fa-light fa-volume-off",e.VolumeSlash="fa-light fa-volume-slash",e.VolumeXmark="fa-light fa-volume-xmark",e.Wifi="fa-light fa-wifi",e.WifiExclamation="fa-light fa-wifi-exclamation",e.WifiFair="fa-light fa-wifi-fair",e.WifiSlash="fa-light fa-wifi-slash",e.Window="fa-light fa-window",e.Xmark="fa-light fa-xmark"}(IconClassLight=exports.IconClassLight||(exports.IconClassLight={})),function(e){e.Add="fa-regular fa-plus",e.AddressCard="fa-regular fa-address-card",e.Alert="fa-regular fa-triangle-exclamation",e.AngleDown="fa-regular fa-angle-down",e.AngleLeft="fa-regular fa-angle-left",e.AngleRight="fa-regular fa-angle-right",e.AngleUp="fa-regular fa-angle-up",e.Aperture="fa-regular fa-aperture",e.ArrowDown="fa-regular fa-arrow-down",e.ArrowDownShortWide="fa-regular fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-regular fa-arrow-down-wide-short",e.ArrowLeft="fa-regular fa-arrow-left",e.ArrowPointer="fa-regular fa-arrow-pointer",e.ArrowRight="fa-regular fa-arrow-right",e.ArrowRightToBracket="fa-regular fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-regular fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-regular fa-arrow-rotate-right",e.ArrowsRotate="fa-regular fa-arrows-rotate",e.ArrowUp="fa-regular fa-arrow-up",e.Asterisk="fa-regular fa-asterisk",e.At="fa-regular fa-at",e.Attachment="fa-regular fa-paperclip",e.Back="fa-regular fa-angle-left",e.Backward="fa-regular fa-backward",e.BackwardFast="fa-regular fa-backward-fast",e.BackwardStep="fa-regular fa-backward-step",e.BalanceScale="fa-regular fa-balance-scale",e.BallotCheck="fa-regular fa-ballot-check",e.Ban="fa-regular fa-ban",e.Barcode="fa-regular fa-barcode",e.BarcodeScan="fa-regular fa-barcode-scan",e.Bars="fa-regular fa-bars",e.BarsSort="fa-regular fa-bars-sort",e.Bell="fa-regular fa-bell",e.BellSlash="fa-regular fa-bell-slash",e.Bolt="fa-regular fa-bolt",e.Book="fa-regular fa-book",e.BookOpen="fa-regular fa-book-open",e.Box="fa-regular fa-box",e.BoxArchive="fa-regular fa-box-archive",e.BriefCase="fa-regular fa-brief-case",e.Bug="fa-regular fa-bug",e.Burger="fa-regular fa-bars",e.CakeCandles="fa-regular fa-cake-candles",e.Calendar="fa-regular fa-calendar",e.CalendarAlt="fa-regular fa-calendar-alt",e.CalendarCheck="fa-regular fa-calendar-check",e.CalendarDay="fa-regular fa-calendar-day",e.CalendarPlus="fa-regular fa-calendar-plus",e.Camera="fa-regular fa-camera",e.CameraAlt="fa-regular fa-camera-alt",e.CameraWeb="fa-regular fa-camera-web",e.CameraWebSlash="fa-regular fa-camera-web-slash",e.Capsules="fa-regular fa-capsules",e.CaretDown="fa-regular fa-caret-down",e.CaretLeft="fa-regular fa-caret-left",e.CaretRight="fa-regular fa-caret-right",e.CaretUp="fa-regular fa-caret-up",e.CartCirclePlus="fa-regular fa-cart-circle-plus",e.CartShopping="fa-regular fa-cart-shopping",e.ChartArea="fa-regular fa-chart-area",e.ChartBar="fa-regular fa-chart-bar",e.ChartColumn="fa-regular fa-chart-column",e.ChartLine="fa-regular fa-chart-line",e.ChartPie="fa-regular fa-chart-pie",e.ChartSimple="fa-regular fa-chart-simple",e.Chat="fa-regular fa-comment",e.Check="fa-regular fa-check",e.ChevronDown="fa-regular fa-chevron-down",e.ChevronLeft="fa-regular fa-chevron-left",e.ChevronRight="fa-regular fa-chevron-right",e.ChevronUp="fa-regular fa-chevron-up",e.Circle="fa-regular fa-circle",e.CircleCheck="fa-regular fa-circle-check",e.CircleExclamation="fa-regular fa-circle-exclamation",e.CircleInfo="fa-regular fa-circle-info",e.CircleStop="fa-regular fa-circle-stop",e.Clipboard="fa-regular fa-clipboard",e.ClipboardMedical="fa-regular fa-clipboard-medical",e.Clock="fa-regular fa-clock",e.ClockRotateLeft="fa-regular fa-clock-rotate-left",e.Close="fa-regular fa-xmark",e.Cloud="fa-regular fa-cloud",e.CloudArrowUp="fa-regular fa-cloud-arrow-up",e.CloudDownload="fa-regular fa-cloud-download",e.Code="fa-regular fa-code",e.CodeMerge="fa-regular fa-code-merge",e.Coins="fa-regular fa-coins",e.Collapse="fa-regular fa-compress",e.Comment="fa-regular fa-comment",e.CommentDots="fa-regular fa-comment-dots",e.CommentLines="fa-regular fa-comment-lines",e.Comments="fa-regular fa-comments",e.CommentSms="fa-regular fa-comment-sms",e.Compress="fa-regular fa-compress",e.Copy="fa-regular fa-copy",e.Copyright="fa-regular fa-copyright",e.CreditCard="fa-regular fa-credit-card",e.Crown="fa-regular fa-crown",e.Database="fa-regular fa-database",e.Delete="fa-regular fa-xmark",e.DeleteLeft="fa-regular fa-delete-left",e.DeleteRight="fa-regular fa-delete-right",e.Desktop="fa-regular fa-desktop",e.Download="fa-regular fa-download",e.Edit="fa-regular fa-pen",e.Eject="fa-regular fa-eject",e.Ellipsis="fa-regular fa-ellipsis",e.EllipsisVertical="fa-regular fa-ellipsis-vertical",e.Envelope="fa-regular fa-envelope",e.Eraser="fa-regular fa-eraser",e.EuroSign="fa-regular fa-euro-sign",e.Exclamation="fa-regular fa-exclamation",e.Expand="fa-regular fa-expand",e.Eye="fa-regular fa-eye",e.EyeSlash="fa-regular fa-eye-slash",e.Family="fa-regular fa-family",e.FastBackward="fa-regular fa-fast-backward",e.FastForward="fa-regular fa-fast-forward",e.File="fa-regular fa-file",e.FileAudio="fa-regular fa-file-audio",e.FileContract="fa-regular fa-file-contract",e.FileDownload="fa-regular fa-file-download",e.FileExcel="fa-regular fa-file-excel",e.FileExport="fa-regular fa-file-export",e.FileImage="fa-regular fa-file-image",e.FileInvoice="fa-regular fa-file-invoice",e.FileImport="fa-regular fa-file-import",e.FileLines="fa-regular fa-file-lines",e.FileMusic="fa-regular fa-file-music",e.FilePdf="fa-regular fa-file-pdf",e.Files="fa-regular fa-file-files",e.FileSignature="fa-regular fa-file-signature",e.FileVideo="fa-regular fa-file-video",e.FileWord="fa-regular fa-file-word",e.FileZipper="fa-regular fa-file-zipper",e.Filter="fa-regular fa-filter",e.Flag="fa-regular fa-flag",e.FlagSwallowTail="fa-regular fa-flag-swallowtail",e.FloppyDisk="fa-regular fa-floppy-disk",e.Folder="fa-regular fa-folder",e.FolderOpen="fa-regular fa-folder-open",e.FontAwesome="fa-regular  fa-font-awesome",e.Forward="fa-regular fa-forward",e.ForwardStep="fa-regular fa-forward-step",e.ForwardFast="fa-regular fa-forward-fast",e.Futbol="fa-regular fa-futbol",e.Gear="fa-regular fa-gear",e.Gears="fa-regular fa-gears",e.Globe="fa-regular fa-globe",e.Hashtag="fa-regular fa-hashtag",e.HatWizard="fa-regular fa-hat-wizard",e.Headset="fa-regular fa-headset",e.Hospital="fa-regular fa-hospital",e.Hourglass="fa-regular fa-hourglass",e.HourglassClock="fa-regular fa-hourglass-clock",e.House="fa-regular fa-house",e.HouseMedical="fa-regular fa-house-medical",e.HouseUser="fa-regular fa-house-user",e.Image="fa-regular fa-image",e.Inbox="fa-regular fa-inbox",e.InboxFull="fa-regular fa-inbox-full",e.Info="fa-regular fa-info",e.Key="fa-regular fa-key",e.Keyboard="fa-regular fa-keyboard",e.KeySkeleton="fa-regular fa-key-skeleton",e.Laptop="fa-regular fa-laptop",e.LaptopMedical="fa-regular fa-laptop-medical",e.LevelDown="fa-regular fa-level-down",e.LevelDownAlt="fa-regular fa-level-down-alt",e.LevelLeft="fa-regular fa-level-left",e.LevelLeftAlt="fa-regular fa-level-left-alt",e.LevelRight="fa-regular fa-level-right",e.LevelRightAlt="fa-regular fa-level-right-alt",e.LevelUp="fa-regular fa-level-up",e.LevelUpAlt="fa-regular fa-level-up-alt",e.Link="fa-regular fa-link",e.LinkExternal="fa-regular fa-arrow-up-right-from-square",e.LinkHorizontal="fa-regular fa-link-horizontal",e.LinkHorizontalSlash="fa-regular fa-link-horizontal-slash",e.LinkSimple="fa-regular fa-link-simple",e.LinkSimpleSlash="fa-regular fa-link-simple-slash",e.LinkSlash="fa-regular fa-link-slash",e.List="fa-regular fa-list",e.ListCheck="fa-regular fa-list-check",e.ListOl="fa-regular fa-list-ol",e.ListTree="fa-regular fa-list-tree",e.ListUl="fa-regular fa-list-ul",e.LocationArrow="fa-regular fa-location-arrow",e.LocationCrossHairs="fa-regular fa-location-crosshairs",e.LocationCheck="fa-regular fa-location-check",e.LocationDot="fa-regular fa-location-dot",e.Lock="fa-regular fa-lock",e.LockOpen="fa-regular fa-lock-open",e.Login="fa-regular fa-arrow-right-to-bracket",e.Logout="fa-regular fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-regular fa-magnifying-glass",e.MagnifyingGlassMinus="fa-regular fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-regular fa-magnifying-glass-plus",e.Mail="fa-regular fa-envelope",e.Mailbox="fa-regular fa-mailbox",e.MailOpen="fa-regular fa-envelope-open",e.Map="fa-regular fa-map",e.MapLocation="fa-regular fa-map-location",e.MapLocationDot="fa-regular fa-map-location-dot",e.MapPin="fa-regular fa-map-pin",e.Maximize="fa-regular fa-maximize",e.Merge="fa-regular fa-merge",e.Message="fa-regular fa-message",e.MessageCode="fa-regular fa-message-code",e.MessageDots="fa-regular fa-message-dots",e.MessageLines="fa-regular fa-message-lines",e.Messages="fa-regular fa-messages",e.Microphone="fa-regular fa-microphone",e.MicrophoneLines="fa-regular fa-microphone-lines",e.MicrophoneLinesSlash="fa-regular fa-microphone-lines-slash",e.MicrophoneSlash="fa-regular fa-microphone-slash",e.Microscope="fa-regular fa-microscope",e.Minimize="fa-regular fa-minimize",e.Minus="fa-regular fa-minus",e.Mobile="fa-regular fa-mobile",e.MobileNotch="fa-regular fa-mobile-notch",e.MoneyCheckDollarPen="fa-regular fa-money-check-dollar-pen",e.Music="fa-regular fa-music",e.MusicSlash="fa-regular fa-music-slash",e.NewsPaper="fa-regular fa-newspaper",e.Palette="fa-regular fa-palette",e.PaperClip="fa-regular fa-paperclip",e.PaperClipVertical="fa-regular fa-paperclip-vertical",e.PaperPlane="fa-regular fa-paper-plane",e.PaperPlaneTop="fa-regular fa-paper-plane-top",e.Paste="fa-regular fa-paste",e.Pause="fa-regular fa-pause",e.Pen="fa-regular fa-pen",e.Pencil="fa-regular fa-pencil",e.PenToSquare="fa-regular fa-pen-to-square",e.PeopleArrowsLeftRight="fa-regular fa-people-arrows-left-right",e.Percentage="fa-regular fa-percentage",e.PersonChalkboard="fa-regular fa-person-chalkboard",e.PersonMilitaryRifle="fa-regular fa-person-military-rifle",e.Phone="fa-regular fa-phone",e.Play="fa-regular fa-play",e.PlayPause="fa-regular fa-play-pause",e.Plus="fa-regular fa-plus",e.Print="fa-regular fa-print",e.Pumo="fa-regular fa-font-awesome",e.Question="fa-regular fa-question",e.Redo="fa-regular fa-redo",e.RedoAlt="fa-regular fa-redo-alt",e.Refresh="fa-regular fa-arrows-rotate",e.Remove="fa-regular fa-xmark",e.Repeat="fa-regular fa-repeat",e.Reply="fa-regular fa-reply",e.ReplyAll="fa-regular fa-reply-all",e.RightFromBracket="fa-regular fa-right-from-bracket",e.RightToBracket="fa-regular fa-right-to-bracket",e.Rotate="fa-regular fa-rotate",e.RotateLeft="fa-regular fa-rotate-left",e.SackDollar="fa-regular fa-sack-dollar",e.Save="fa-regular fa-floppy-disk",e.Scissors="fa-regular fa-scissors",e.ScrewdriverWrench="fa-regular fa-screwdriver-wrench",e.Search="fa-regular fa-magnifying-glass",e.SensorTriangleExclamation="fa-regular fa-sensor-triangle-exclamation",e.Settings="fa-regular fa-gear",e.Share="fa-regular fa-share",e.ShareAll="fa-regular fa-share-all",e.ShareNodes="fa-regular fa-share-nodes",e.ShareFromSquare="fa-regular fa-share-from-square",e.ShieldCheck="fa-regular fa-shield-check",e.Ship="fa-regular fa-ship",e.Sitemap="fa-regular fa-sitemap",e.Soccer="fa-regular fa-futbol",e.Sort="fa-regular fa-sort",e.SortDown="fa-regular fa-sort-down",e.SortUp="fa-regular fa-sort-up",e.Spinner="fa-regular fa-spinner",e.Split="fa-regular fa-split",e.SquareCheck="fa-regular fa-square-check",e.SquareMinus="fa-regular fa-square-minus",e.SquarePen="fa-regular fa-square-pen",e.Stamp="fa-regular fa-stamp",e.Star="fa-regular fa-star",e.StepBackward="fa-regular fa-step-backward",e.StepForward="fa-regular fa-step-forward",e.Stethoscope="fa-regular fa-stethoscope",e.Stop="fa-regular fa-stop",e.Table="fa-regular fa-table",e.TableRows="fa-regular fa-table-rows",e.Tablet="fa-regular fa-tablet",e.Tag="fa-regular fa-tag",e.Tags="fa-regular fa-tags",e.Tasks="fa-regular fa-tasks",e.ThumbsDown="fa-regular fa-thumbs-down",e.ThumbsUp="fa-regular fa-thumbs-up",e.Thumbtack="fa-regular fa-thumbtack",e.Trash="fa-regular fa-trash",e.TrashCanList="fa-regular fa-trash-can-list",e.TrashUndo="fa-regular fa-trash-undo",e.TrashXmark="fa-regular fa-trash-xmark",e.TriangleExclamation="fa-regular fa-triangle-exclamation",e.Truck="fa-regular fa-truck",e.Undo="fa-regular fa-arrow-rotate-left",e.Unlock="fa-regular fa-unlock",e.Upload="fa-regular fa-upload",e.UsbDrive="fa-regular fa-usb-drive",e.User="fa-regular fa-user",e.UserCheck="fa-regular fa-user-check",e.UserClock="fa-regular fa-user-clock",e.UserDoctor="fa-regular fa-user-doctor",e.UserDoctorHair="fa-regular fa-user-doctor-hair",e.UserDoctorHairLong="fa-regular fa-user-doctor-hair-long",e.UserGear="fa-regular fa-user-gear",e.UserGroup="fa-regular fa-user-group",e.UserHair="fa-regular fa-user-hair",e.UserHairLong="fa-regular fa-user-hair-long",e.UserHeadset="fa-regular fa-user-headset",e.Users="fa-regular fa-users",e.UserSecret="fa-regular fa-user-secret",e.UsersMedical="fa-regular fa-users-medical",e.UserTag="fa-regular fa-user-tag",e.UserXmark="fa-regular fa-user-xmark",e.Video="fa-regular fa-video",e.VideoSlash="fa-regular fa-video-slash",e.Volume="fa-regular fa-volume",e.VolumeHigh="fa-regular fa-volume-high",e.VolumeLow="fa-regular fa-volume-low",e.VolumeOff="fa-regular fa-volume-off",e.VolumeSlash="fa-regular fa-volume-slash",e.VolumeXmark="fa-regular fa-volume-xmark",e.Wifi="fa-regular fa-wifi",e.WifiExclamation="fa-regular fa-wifi-exclamation",e.WifiFair="fa-regular fa-wifi-fair",e.WifiSlash="fa-regular fa-wifi-slash",e.Window="fa-regular fa-window",e.Xmark="fa-regular fa-xmark"}(IconClassRegular=exports.IconClassRegular||(exports.IconClassRegular={})),function(e){e.Add="fa-duotone fa-plus",e.AddressCard="fa-duotone fa-address-card",e.Alert="fa-duotone fa-triangle-exclamation",e.AngleDown="fa-duotone fa-angle-down",e.AngleLeft="fa-duotone fa-angle-left",e.AngleRight="fa-duotone fa-angle-right",e.AngleUp="fa-duotone fa-angle-up",e.Aperture="fa-duotone fa-aperture",e.ArrowDown="fa-duotone fa-arrow-down",e.ArrowDownShortWide="fa-duotone fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-duotone fa-arrow-down-wide-short",e.ArrowLeft="fa-duotone fa-arrow-left",e.ArrowPointer="fa-duotone fa-arrow-pointer",e.ArrowRight="fa-duotone fa-arrow-right",e.ArrowRightToBracket="fa-duotone fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-duotone fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-duotone fa-arrow-rotate-right",e.ArrowsRotate="fa-duotone fa-arrows-rotate",e.ArrowUp="fa-duotone fa-arrow-up",e.Asterisk="fa-duotone fa-asterisk",e.At="fa-duotone fa-at",e.Attachment="fa-duotone fa-paperclip",e.Back="fa-duotone fa-angle-left",e.Backward="fa-duotone fa-backward",e.BackwardFast="fa-duotone fa-backward-fast",e.BackwardStep="fa-duotone fa-backward-step",e.BalanceScale="fa-duotone fa-balance-scale",e.BallotCheck="fa-duotone fa-ballot-check",e.Ban="fa-duotone fa-ban",e.Barcode="fa-duotone fa-barcode",e.BarcodeScan="fa-duotone fa-barcode-scan",e.Bars="fa-duotone fa-bars",e.BarsSort="fa-duotone fa-bars-sort",e.Bell="fa-duotone fa-bell",e.BellSlash="fa-duotone fa-bell-slash",e.Bolt="fa-duotone fa-bolt",e.Book="fa-duotone fa-book",e.BookOpen="fa-duotone fa-book-open",e.Box="fa-duotone fa-box",e.BoxArchive="fa-duotone fa-box-archive",e.BriefCase="fa-duotone fa-brief-case",e.Bug="fa-duotone fa-bug",e.Burger="fa-duotone fa-bars",e.CakeCandles="fa-duotone fa-cake-candles",e.Calendar="fa-duotone fa-calendar",e.CalendarAlt="fa-duotone fa-calendar-alt",e.CalendarCheck="fa-duotone fa-calendar-check",e.CalendarDay="fa-duotone fa-calendar-day",e.CalendarPlus="fa-duotone fa-calendar-plus",e.Camera="fa-duotone fa-camera",e.CameraAlt="fa-duotone fa-camera-alt",e.CameraWeb="fa-duotone fa-camera-web",e.CameraWebSlash="fa-duotone fa-camera-web-slash",e.Capsules="fa-duotone fa-capsules",e.CaretDown="fa-duotone fa-caret-down",e.CaretLeft="fa-duotone fa-caret-left",e.CaretRight="fa-duotone fa-caret-right",e.CaretUp="fa-duotone fa-caret-up",e.CartCirclePlus="fa-duotone fa-cart-circle-plus",e.CartShopping="fa-duotone fa-cart-shopping",e.ChartArea="fa-duotone fa-chart-area",e.ChartBar="fa-duotone fa-chart-bar",e.ChartColumn="fa-duotone fa-chart-column",e.ChartLine="fa-duotone fa-chart-line",e.ChartPie="fa-duotone fa-chart-pie",e.ChartSimple="fa-duotone fa-chart-simple",e.Chat="fa-duotone fa-comment",e.Check="fa-duotone fa-check",e.ChevronDown="fa-duotone fa-chevron-down",e.ChevronLeft="fa-duotone fa-chevron-left",e.ChevronRight="fa-duotone fa-chevron-right",e.ChevronUp="fa-duotone fa-chevron-up",e.Circle="fa-duotone fa-circle",e.CircleCheck="fa-duotone fa-circle-check",e.CircleExclamation="fa-duotone fa-circle-exclamation",e.CircleInfo="fa-duotone fa-circle-info",e.CircleStop="fa-duotone fa-circle-stop",e.Clipboard="fa-duotone fa-clipboard",e.ClipboardMedical="fa-duotone fa-clipboard-medical",e.Clock="fa-duotone fa-clock",e.ClockRotateLeft="fa-duotone fa-clock-rotate-left",e.Close="fa-duotone fa-xmark",e.Cloud="fa-duotone fa-cloud",e.CloudArrowUp="fa-duotone fa-cloud-arrow-up",e.CloudDownload="fa-duotone fa-cloud-download",e.Code="fa-duotone fa-code",e.CodeMerge="fa-duotone fa-code-merge",e.Coins="fa-duotone fa-coins",e.Collapse="fa-duotone fa-compress",e.Comment="fa-duotone fa-comment",e.CommentDots="fa-duotone fa-comment-dots",e.CommentLines="fa-duotone fa-comment-lines",e.Comments="fa-duotone fa-comments",e.CommentSms="fa-duotone fa-comment-sms",e.Compress="fa-duotone fa-compress",e.Copy="fa-duotone fa-copy",e.Copyright="fa-duotone fa-copyright",e.CreditCard="fa-duotone fa-credit-card",e.Crown="fa-duotone fa-crown",e.Database="fa-duotone fa-database",e.Delete="fa-duotone fa-xmark",e.DeleteLeft="fa-duotone fa-delete-left",e.DeleteRight="fa-duotone fa-delete-right",e.Desktop="fa-duotone fa-desktop",e.Download="fa-duotone fa-download",e.Edit="fa-duotone fa-pen",e.Eject="fa-duotone fa-eject",e.Ellipsis="fa-duotone fa-ellipsis",e.EllipsisVertical="fa-duotone fa-ellipsis-vertical",e.Envelope="fa-duotone fa-envelope",e.Eraser="fa-duotone fa-eraser",e.EuroSign="fa-duotone fa-euro-sign",e.Exclamation="fa-duotone fa-exclamation",e.Expand="fa-duotone fa-expand",e.Eye="fa-duotone fa-eye",e.EyeSlash="fa-duotone fa-eye-slash",e.Family="fa-duotone fa-family",e.FastBackward="fa-duotone fa-fast-backward",e.FastForward="fa-duotone fa-fast-forward",e.File="fa-duotone fa-file",e.FileAudio="fa-duotone fa-file-audio",e.FileContract="fa-duotone fa-file-contract",e.FileDownload="fa-duotone fa-file-download",e.FileExcel="fa-duotone fa-file-excel",e.FileExport="fa-duotone fa-file-export",e.FileImage="fa-duotone fa-file-image",e.FileInvoice="fa-duotone fa-file-invoice",e.FileImport="fa-duotone fa-file-import",e.FileLines="fa-duotone fa-file-lines",e.FileMusic="fa-duotone fa-file-music",e.FilePdf="fa-duotone fa-file-pdf",e.Files="fa-duotone fa-file-files",e.FileSignature="fa-duotone fa-file-signature",e.FileVideo="fa-duotone fa-file-video",e.FileWord="fa-duotone fa-file-word",e.FileZipper="fa-duotone fa-file-zipper",e.Filter="fa-duotone fa-filter",e.Flag="fa-duotone fa-flag",e.FlagSwallowTail="fa-duotone fa-flag-swallowtail",e.FloppyDisk="fa-duotone fa-floppy-disk",e.Folder="fa-duotone fa-folder",e.FolderOpen="fa-duotone fa-folder-open",e.FontAwesome="fa-duotone  fa-font-awesome",e.Forward="fa-duotone fa-forward",e.ForwardStep="fa-duotone fa-forward-step",e.ForwardFast="fa-duotone fa-forward-fast",e.Futbol="fa-duotone fa-futbol",e.Gear="fa-duotone fa-gear",e.Gears="fa-duotone fa-gears",e.Globe="fa-duotone fa-globe",e.Hashtag="fa-duotone fa-hashtag",e.HatWizard="fa-duotone fa-hat-wizard",e.Headset="fa-duotone fa-headset",e.Hospital="fa-duotone fa-hospital",e.Hourglass="fa-duotone fa-hourglass",e.HourglassClock="fa-duotone fa-hourglass-clock",e.House="fa-duotone fa-house",e.HouseMedical="fa-duotone fa-house-medical",e.HouseUser="fa-duotone fa-house-user",e.Image="fa-duotone fa-image",e.Inbox="fa-duotone fa-inbox",e.InboxFull="fa-duotone fa-inbox-full",e.Info="fa-duotone fa-info",e.Key="fa-duotone fa-key",e.Keyboard="fa-duotone fa-keyboard",e.KeySkeleton="fa-duotone fa-key-skeleton",e.Laptop="fa-duotone fa-laptop",e.LaptopMedical="fa-duotone fa-laptop-medical",e.LevelDown="fa-duotone fa-level-down",e.LevelDownAlt="fa-duotone fa-level-down-alt",e.LevelLeft="fa-duotone fa-level-left",e.LevelLeftAlt="fa-duotone fa-level-left-alt",e.LevelRight="fa-duotone fa-level-right",e.LevelRightAlt="fa-duotone fa-level-right-alt",e.LevelUp="fa-duotone fa-level-up",e.LevelUpAlt="fa-duotone fa-level-up-alt",e.Link="fa-duotone fa-link",e.LinkExternal="fa-duotone fa-arrow-up-right-from-square",e.LinkHorizontal="fa-duotone fa-link-horizontal",e.LinkHorizontalSlash="fa-duotone fa-link-horizontal-slash",e.LinkSimple="fa-duotone fa-link-simple",e.LinkSimpleSlash="fa-duotone fa-link-simple-slash",e.LinkSlash="fa-duotone fa-link-slash",e.List="fa-duotone fa-list",e.ListCheck="fa-duotone fa-list-check",e.ListOl="fa-duotone fa-list-ol",e.ListTree="fa-duotone fa-list-tree",e.ListUl="fa-duotone fa-list-ul",e.LocationArrow="fa-duotone fa-location-arrow",e.LocationCrossHairs="fa-duotone fa-location-crosshairs",e.LocationCheck="fa-duotone fa-location-check",e.LocationDot="fa-duotone fa-location-dot",e.Lock="fa-duotone fa-lock",e.LockOpen="fa-duotone fa-lock-open",e.Login="fa-duotone fa-arrow-right-to-bracket",e.Logout="fa-duotone fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-duotone fa-magnifying-glass",e.MagnifyingGlassMinus="fa-duotone fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-duotone fa-magnifying-glass-plus",e.Mail="fa-duotone fa-envelope",e.Mailbox="fa-duotone fa-mailbox",e.MailOpen="fa-duotone fa-envelope-open",e.Map="fa-duotone fa-map",e.MapLocation="fa-duotone fa-map-location",e.MapLocationDot="fa-duotone fa-map-location-dot",e.MapPin="fa-duotone fa-map-pin",e.Maximize="fa-duotone fa-maximize",e.Merge="fa-duotone fa-merge",e.Message="fa-duotone fa-message",e.MessageCode="fa-duotone fa-message-code",e.MessageDots="fa-duotone fa-message-dots",e.MessageLines="fa-duotone fa-message-lines",e.Messages="fa-duotone fa-messages",e.Microphone="fa-duotone fa-microphone",e.MicrophoneLines="fa-duotone fa-microphone-lines",e.MicrophoneLinesSlash="fa-duotone fa-microphone-lines-slash",e.MicrophoneSlash="fa-duotone fa-microphone-slash",e.Microscope="fa-duotone fa-microscope",e.Minimize="fa-duotone fa-minimize",e.Minus="fa-duotone fa-minus",e.Mobile="fa-duotone fa-mobile",e.MobileNotch="fa-duotone fa-mobile-notch",e.MoneyCheckDollarPen="fa-duotone fa-money-check-dollar-pen",e.Music="fa-duotone fa-music",e.MusicSlash="fa-duotone fa-music-slash",e.NewsPaper="fa-duotone fa-newspaper",e.Palette="fa-duotone fa-palette",e.PaperClip="fa-duotone fa-paperclip",e.PaperClipVertical="fa-duotone fa-paperclip-vertical",e.PaperPlane="fa-duotone fa-paper-plane",e.PaperPlaneTop="fa-duotone fa-paper-plane-top",e.Paste="fa-duotone fa-paste",e.Pause="fa-duotone fa-pause",e.Pen="fa-duotone fa-pen",e.Pencil="fa-duotone fa-pencil",e.PenToSquare="fa-duotone fa-pen-to-square",e.PeopleArrowsLeftRight="fa-duotone fa-people-arrows-left-right",e.Percentage="fa-duotone fa-percentage",e.PersonChalkboard="fa-duotone fa-person-chalkboard",e.PersonMilitaryRifle="fa-duotone fa-person-military-rifle",e.Phone="fa-duotone fa-phone",e.Play="fa-duotone fa-play",e.PlayPause="fa-duotone fa-play-pause",e.Plus="fa-duotone fa-plus",e.Print="fa-duotone fa-print",e.Pumo="fa-duotone fa-font-awesome",e.Question="fa-duotone fa-question",e.Redo="fa-duotone fa-redo",e.RedoAlt="fa-duotone fa-redo-alt",e.Refresh="fa-duotone fa-arrows-rotate",e.Remove="fa-duotone fa-xmark",e.Repeat="fa-duotone fa-repeat",e.Reply="fa-duotone fa-reply",e.ReplyAll="fa-duotone fa-reply-all",e.RightFromBracket="fa-duotone fa-right-from-bracket",e.RightToBracket="fa-duotone fa-right-to-bracket",e.Rotate="fa-duotone fa-rotate",e.RotateLeft="fa-duotone fa-rotate-left",e.SackDollar="fa-duotone fa-sack-dollar",e.Save="fa-duotone fa-floppy-disk",e.Scissors="fa-duotone fa-scissors",e.ScrewdriverWrench="fa-duotone fa-screwdriver-wrench",e.Search="fa-duotone fa-magnifying-glass",e.SensorTriangleExclamation="fa-duotone fa-sensor-triangle-exclamation",e.Settings="fa-duotone fa-gear",e.Share="fa-duotone fa-share",e.ShareAll="fa-duotone fa-share-all",e.ShareNodes="fa-duotone fa-share-nodes",e.ShareFromSquare="fa-duotone fa-share-from-square",e.ShieldCheck="fa-duotone fa-shield-check",e.Ship="fa-duotone fa-ship",e.Sitemap="fa-duotone fa-sitemap",e.Soccer="fa-duotone fa-futbol",e.Sort="fa-duotone fa-sort",e.SortDown="fa-duotone fa-sort-down",e.SortUp="fa-duotone fa-sort-up",e.Spinner="fa-duotone fa-spinner",e.Split="fa-duotone fa-split",e.SquareCheck="fa-duotone fa-square-check",e.SquareMinus="fa-duotone fa-square-minus",e.SquarePen="fa-duotone fa-square-pen",e.Stamp="fa-duotone fa-stamp",e.Star="fa-duotone fa-star",e.StepBackward="fa-duotone fa-step-backward",e.StepForward="fa-duotone fa-step-forward",e.Stethoscope="fa-duotone fa-stethoscope",e.Stop="fa-duotone fa-stop",e.Table="fa-duotone fa-table",e.TableRows="fa-duotone fa-table-rows",e.Tablet="fa-duotone fa-tablet",e.Tag="fa-duotone fa-tag",e.Tags="fa-duotone fa-tags",e.Tasks="fa-duotone fa-tasks",e.ThumbsDown="fa-duotone fa-thumbs-down",e.ThumbsUp="fa-duotone fa-thumbs-up",e.Thumbtack="fa-duotone fa-thumbtack",e.Trash="fa-duotone fa-trash",e.TrashCanList="fa-duotone fa-trash-can-list",e.TrashUndo="fa-duotone fa-trash-undo",e.TrashXmark="fa-duotone fa-trash-xmark",e.TriangleExclamation="fa-duotone fa-triangle-exclamation",e.Truck="fa-duotone fa-truck",e.Undo="fa-duotone fa-arrow-rotate-left",e.Unlock="fa-duotone fa-unlock",e.Upload="fa-duotone fa-upload",e.UsbDrive="fa-duotone fa-usb-drive",e.User="fa-duotone fa-user",e.UserCheck="fa-duotone fa-user-check",e.UserClock="fa-duotone fa-user-clock",e.UserDoctor="fa-duotone fa-user-doctor",e.UserDoctorHair="fa-duotone fa-user-doctor-hair",e.UserDoctorHairLong="fa-duotone fa-user-doctor-hair-long",e.UserGear="fa-duotone fa-user-gear",e.UserGroup="fa-duotone fa-user-group",e.UserHair="fa-duotone fa-user-hair",e.UserHairLong="fa-duotone fa-user-hair-long",e.UserHeadset="fa-duotone fa-user-headset",e.Users="fa-duotone fa-users",e.UserSecret="fa-duotone fa-user-secret",e.UsersMedical="fa-duotone fa-users-medical",e.UserTag="fa-duotone fa-user-tag",e.UserXmark="fa-duotone fa-user-xmark",e.Video="fa-duotone fa-video",e.VideoSlash="fa-duotone fa-video-slash",e.Volume="fa-duotone fa-volume",e.VolumeHigh="fa-duotone fa-volume-high",e.VolumeLow="fa-duotone fa-volume-low",e.VolumeOff="fa-duotone fa-volume-off",e.VolumeSlash="fa-duotone fa-volume-slash",e.VolumeXmark="fa-duotone fa-volume-xmark",e.Wifi="fa-duotone fa-wifi",e.WifiExclamation="fa-duotone fa-wifi-exclamation",e.WifiFair="fa-duotone fa-wifi-fair",e.WifiSlash="fa-duotone fa-wifi-slash",e.Window="fa-duotone fa-window",e.Xmark="fa-duotone fa-xmark"}(IconClassDuotone=exports.IconClassDuotone||(exports.IconClassDuotone={})),function(e){e.Add="fa-thin fa-plus",e.AddressCard="fa-thin fa-address-card",e.Alert="fa-thin fa-triangle-exclamation",e.AngleDown="fa-thin fa-angle-down",e.AngleLeft="fa-thin fa-angle-left",e.AngleRight="fa-thin fa-angle-right",e.AngleUp="fa-thin fa-angle-up",e.Aperture="fa-thin fa-aperture",e.ArrowDown="fa-thin fa-arrow-down",e.ArrowDownShortWide="fa-thin fa-arrow-down-short-wide",e.ArrowDownWideShort="fa-thin fa-arrow-down-wide-short",e.ArrowLeft="fa-thin fa-arrow-left",e.ArrowPointer="fa-thin fa-arrow-pointer",e.ArrowRight="fa-thin fa-arrow-right",e.ArrowRightToBracket="fa-thin fa-arrow-right-to-bracket",e.ArrowRightFromBracket="fa-thin fa-arrow-right-from-bracket",e.ArrowRotateRight="fa-thin fa-arrow-rotate-right",e.ArrowsRotate="fa-thin fa-arrows-rotate",e.ArrowUp="fa-thin fa-arrow-up",e.Asterisk="fa-thin fa-asterisk",e.At="fa-thin fa-at",e.Attachment="fa-thin fa-paperclip",e.Back="fa-thin fa-angle-left",e.Backward="fa-thin fa-backward",e.BackwardFast="fa-thin fa-backward-fast",e.BackwardStep="fa-thin fa-backward-step",e.BalanceScale="fa-thin fa-balance-scale",e.BallotCheck="fa-thin fa-ballot-check",e.Ban="fa-thin fa-ban",e.Barcode="fa-thin fa-barcode",e.BarcodeScan="fa-thin fa-barcode-scan",e.Bars="fa-thin fa-bars",e.BarsSort="fa-thin fa-bars-sort",e.Bell="fa-thin fa-bell",e.BellSlash="fa-thin fa-bell-slash",e.Bolt="fa-thin fa-bolt",e.Book="fa-thin fa-book",e.BookOpen="fa-thin fa-book-open",e.Box="fa-thin fa-box",e.BoxArchive="fa-thin fa-box-archive",e.BriefCase="fa-thin fa-brief-case",e.Bug="fa-thin fa-bug",e.Burger="fa-thin fa-bars",e.CakeCandles="fa-thin fa-cake-candles",e.Calendar="fa-thin fa-calendar",e.CalendarAlt="fa-thin fa-calendar-alt",e.CalendarCheck="fa-thin fa-calendar-check",e.CalendarDay="fa-thin fa-calendar-day",e.CalendarPlus="fa-thin fa-calendar-plus",e.Camera="fa-thin fa-camera",e.CameraAlt="fa-thin fa-camera-alt",e.CameraWeb="fa-thin fa-camera-web",e.CameraWebSlash="fa-thin fa-camera-web-slash",e.Capsules="fa-thin fa-capsules",e.CaretDown="fa-thin fa-caret-down",e.CaretLeft="fa-thin fa-caret-left",e.CaretRight="fa-thin fa-caret-right",e.CaretUp="fa-thin fa-caret-up",e.CartCirclePlus="fa-thin fa-cart-circle-plus",e.CartShopping="fa-thin fa-cart-shopping",e.ChartArea="fa-thin fa-chart-area",e.ChartBar="fa-thin fa-chart-bar",e.ChartColumn="fa-thin fa-chart-column",e.ChartLine="fa-thin fa-chart-line",e.ChartPie="fa-thin fa-chart-pie",e.ChartSimple="fa-thin fa-chart-simple",e.Chat="fa-thin fa-comment",e.Check="fa-thin fa-check",e.ChevronDown="fa-thin fa-chevron-down",e.ChevronLeft="fa-thin fa-chevron-left",e.ChevronRight="fa-thin fa-chevron-right",e.ChevronUp="fa-thin fa-chevron-up",e.Circle="fa-thin fa-circle",e.CircleCheck="fa-thin fa-circle-check",e.CircleExclamation="fa-thin fa-circle-exclamation",e.CircleInfo="fa-thin fa-circle-info",e.CircleStop="fa-thin fa-circle-stop",e.Clipboard="fa-thin fa-clipboard",e.ClipboardMedical="fa-thin fa-clipboard-medical",e.Clock="fa-thin fa-clock",e.ClockRotateLeft="fa-thin fa-clock-rotate-left",e.Close="fa-thin fa-xmark",e.Cloud="fa-thin fa-cloud",e.CloudArrowUp="fa-thin fa-cloud-arrow-up",e.CloudDownload="fa-thin fa-cloud-download",e.Code="fa-thin fa-code",e.CodeMerge="fa-thin fa-code-merge",e.Coins="fa-thin fa-coins",e.Collapse="fa-thin fa-compress",e.Comment="fa-thin fa-comment",e.CommentDots="fa-thin fa-comment-dots",e.CommentLines="fa-thin fa-comment-lines",e.Comments="fa-thin fa-comments",e.CommentSms="fa-thin fa-comment-sms",e.Compress="fa-thin fa-compress",e.Copy="fa-thin fa-copy",e.Copyright="fa-thin fa-copyright",e.CreditCard="fa-thin fa-credit-card",e.Crown="fa-thin fa-crown",e.Database="fa-thin fa-database",e.Delete="fa-thin fa-xmark",e.DeleteLeft="fa-thin fa-delete-left",e.DeleteRight="fa-thin fa-delete-right",e.Desktop="fa-thin fa-desktop",e.Download="fa-thin fa-download",e.Edit="fa-thin fa-pen",e.Eject="fa-thin fa-eject",e.Ellipsis="fa-thin fa-ellipsis",e.EllipsisVertical="fa-thin fa-ellipsis-vertical",e.Envelope="fa-thin fa-envelope",e.Eraser="fa-thin fa-eraser",e.EuroSign="fa-thin fa-euro-sign",e.Exclamation="fa-thin fa-exclamation",e.Expand="fa-thin fa-expand",e.Eye="fa-thin fa-eye",e.EyeSlash="fa-thin fa-eye-slash",e.Family="fa-thin fa-family",e.FastBackward="fa-thin fa-fast-backward",e.FastForward="fa-thin fa-fast-forward",e.File="fa-thin fa-file",e.FileAudio="fa-thin fa-file-audio",e.FileContract="fa-thin fa-file-contract",e.FileDownload="fa-thin fa-file-download",e.FileExcel="fa-thin fa-file-excel",e.FileExport="fa-thin fa-file-export",e.FileImage="fa-thin fa-file-image",e.FileInvoice="fa-thin fa-file-invoice",e.FileImport="fa-thin fa-file-import",e.FileLines="fa-thin fa-file-lines",e.FileMusic="fa-thin fa-file-music",e.FilePdf="fa-thin fa-file-pdf",e.Files="fa-thin fa-file-files",e.FileSignature="fa-thin fa-file-signature",e.FileVideo="fa-thin fa-file-video",e.FileWord="fa-thin fa-file-word",e.FileZipper="fa-thin fa-file-zipper",e.Filter="fa-thin fa-filter",e.Flag="fa-thin fa-flag",e.FlagSwallowTail="fa-thin fa-flag-swallowtail",e.FloppyDisk="fa-thin fa-floppy-disk",e.Folder="fa-thin fa-folder",e.FolderOpen="fa-thin fa-folder-open",e.FontAwesome="fa-thin  fa-font-awesome",e.Forward="fa-thin fa-forward",e.ForwardStep="fa-thin fa-forward-step",e.ForwardFast="fa-thin fa-forward-fast",e.Futbol="fa-thin fa-futbol",e.Gear="fa-thin fa-gear",e.Gears="fa-thin fa-gears",e.Globe="fa-thin fa-globe",e.Hashtag="fa-thin fa-hashtag",e.HatWizard="fa-thin fa-hat-wizard",e.Headset="fa-thin fa-headset",e.Hospital="fa-thin fa-hospital",e.Hourglass="fa-thin fa-hourglass",e.HourglassClock="fa-thin fa-hourglass-clock",e.House="fa-thin fa-house",e.HouseMedical="fa-thin fa-house-medical",e.HouseUser="fa-thin fa-house-user",e.Image="fa-thin fa-image",e.Inbox="fa-thin fa-inbox",e.InboxFull="fa-thin fa-inbox-full",e.Info="fa-thin fa-info",e.Key="fa-thin fa-key",e.Keyboard="fa-thin fa-keyboard",e.KeySkeleton="fa-thin fa-key-skeleton",e.Laptop="fa-thin fa-laptop",e.LaptopMedical="fa-thin fa-laptop-medical",e.LevelDown="fa-thin fa-level-down",e.LevelDownAlt="fa-thin fa-level-down-alt",e.LevelLeft="fa-thin fa-level-left",e.LevelLeftAlt="fa-thin fa-level-left-alt",e.LevelRight="fa-thin fa-level-right",e.LevelRightAlt="fa-thin fa-level-right-alt",e.LevelUp="fa-thin fa-level-up",e.LevelUpAlt="fa-thin fa-level-up-alt",e.Link="fa-thin fa-link",e.LinkExternal="fa-thin fa-arrow-up-right-from-square",e.LinkHorizontal="fa-thin fa-link-horizontal",e.LinkHorizontalSlash="fa-thin fa-link-horizontal-slash",e.LinkSimple="fa-thin fa-link-simple",e.LinkSimpleSlash="fa-thin fa-link-simple-slash",e.LinkSlash="fa-thin fa-link-slash",e.List="fa-thin fa-list",e.ListCheck="fa-thin fa-list-check",e.ListOl="fa-thin fa-list-ol",e.ListTree="fa-thin fa-list-tree",e.ListUl="fa-thin fa-list-ul",e.LocationArrow="fa-thin fa-location-arrow",e.LocationCrossHairs="fa-thin fa-location-crosshairs",e.LocationCheck="fa-thin fa-location-check",e.LocationDot="fa-thin fa-location-dot",e.Lock="fa-thin fa-lock",e.LockOpen="fa-thin fa-lock-open",e.Login="fa-thin fa-arrow-right-to-bracket",e.Logout="fa-thin fa-arrow-right-from-bracket",e.MagnifyingGlass="fa-thin fa-magnifying-glass",e.MagnifyingGlassMinus="fa-thin fa-magnifying-glass-minus",e.MagnifyingGlassPlus="fa-thin fa-magnifying-glass-plus",e.Mail="fa-thin fa-envelope",e.Mailbox="fa-thin fa-mailbox",e.MailOpen="fa-thin fa-envelope-open",e.Map="fa-thin fa-map",e.MapLocation="fa-thin fa-map-location",e.MapLocationDot="fa-thin fa-map-location-dot",e.MapPin="fa-thin fa-map-pin",e.Maximize="fa-thin fa-maximize",e.Merge="fa-thin fa-merge",e.Message="fa-thin fa-message",e.MessageCode="fa-thin fa-message-code",e.MessageDots="fa-thin fa-message-dots",e.MessageLines="fa-thin fa-message-lines",e.Messages="fa-thin fa-messages",e.Microphone="fa-thin fa-microphone",e.MicrophoneLines="fa-thin fa-microphone-lines",e.MicrophoneLinesSlash="fa-thin fa-microphone-lines-slash",e.MicrophoneSlash="fa-thin fa-microphone-slash",e.Microscope="fa-thin fa-microscope",e.Minimize="fa-thin fa-minimize",e.Minus="fa-thin fa-minus",e.Mobile="fa-thin fa-mobile",e.MobileNotch="fa-thin fa-mobile-notch",e.MoneyCheckDollarPen="fa-thin fa-money-check-dollar-pen",e.Music="fa-thin fa-music",e.MusicSlash="fa-thin fa-music-slash",e.NewsPaper="fa-thin fa-newspaper",e.Palette="fa-thin fa-palette",e.PaperClip="fa-thin fa-paperclip",e.PaperClipVertical="fa-thin fa-paperclip-vertical",e.PaperPlane="fa-thin fa-paper-plane",e.PaperPlaneTop="fa-thin fa-paper-plane-top",e.Paste="fa-thin fa-paste",e.Pause="fa-thin fa-pause",e.Pen="fa-thin fa-pen",e.Pencil="fa-thin fa-pencil",e.PenToSquare="fa-thin fa-pen-to-square",e.PeopleArrowsLeftRight="fa-thin fa-people-arrows-left-right",e.Percentage="fa-thin fa-percentage",e.PersonChalkboard="fa-thin fa-person-chalkboard",e.PersonMilitaryRifle="fa-thin fa-person-military-rifle",e.Phone="fa-thin fa-phone",e.Play="fa-thin fa-play",e.PlayPause="fa-thin fa-play-pause",e.Plus="fa-thin fa-plus",e.Print="fa-thin fa-print",e.Pumo="fa-thin fa-font-awesome",e.Question="fa-thin fa-question",e.Redo="fa-thin fa-redo",e.RedoAlt="fa-thin fa-redo-alt",e.Refresh="fa-thin fa-arrows-rotate",e.Remove="fa-thin fa-xmark",e.Repeat="fa-thin fa-repeat",e.Reply="fa-thin fa-reply",e.ReplyAll="fa-thin fa-reply-all",e.RightFromBracket="fa-thin fa-right-from-bracket",e.RightToBracket="fa-thin fa-right-to-bracket",e.Rotate="fa-thin fa-rotate",e.RotateLeft="fa-thin fa-rotate-left",e.SackDollar="fa-thin fa-sack-dollar",e.Save="fa-thin fa-floppy-disk",e.Scissors="fa-thin fa-scissors",e.ScrewdriverWrench="fa-thin fa-screwdriver-wrench",e.Search="fa-thin fa-magnifying-glass",e.SensorTriangleExclamation="fa-thin fa-sensor-triangle-exclamation",e.Settings="fa-thin fa-gear",e.Share="fa-thin fa-share",e.ShareAll="fa-thin fa-share-all",e.ShareNodes="fa-thin fa-share-nodes",e.ShareFromSquare="fa-thin fa-share-from-square",e.ShieldCheck="fa-thin fa-shield-check",e.Ship="fa-thin fa-ship",e.Sitemap="fa-thin fa-sitemap",e.Soccer="fa-thin fa-futbol",e.Sort="fa-thin fa-sort",e.SortDown="fa-thin fa-sort-down",e.SortUp="fa-thin fa-sort-up",e.Spinner="fa-thin fa-spinner",e.Split="fa-thin fa-split",e.SquareCheck="fa-thin fa-square-check",e.SquareMinus="fa-thin fa-square-minus",e.SquarePen="fa-thin fa-square-pen",e.Stamp="fa-thin fa-stamp",e.Star="fa-thin fa-star",e.StepBackward="fa-thin fa-step-backward",e.StepForward="fa-thin fa-step-forward",e.Stethoscope="fa-thin fa-stethoscope",e.Stop="fa-thin fa-stop",e.Table="fa-thin fa-table",e.TableRows="fa-thin fa-table-rows",e.Tablet="fa-thin fa-tablet",e.Tag="fa-thin fa-tag",e.Tags="fa-thin fa-tags",e.Tasks="fa-thin fa-tasks",e.ThumbsDown="fa-thin fa-thumbs-down",e.ThumbsUp="fa-thin fa-thumbs-up",e.Thumbtack="fa-thin fa-thumbtack",e.Trash="fa-thin fa-trash",e.TrashCanList="fa-thin fa-trash-can-list",e.TrashUndo="fa-thin fa-trash-undo",e.TrashXmark="fa-thin fa-trash-xmark",e.TriangleExclamation="fa-thin fa-triangle-exclamation",e.Truck="fa-thin fa-truck",e.Undo="fa-thin fa-arrow-rotate-left",e.Unlock="fa-thin fa-unlock",e.Upload="fa-thin fa-upload",e.UsbDrive="fa-thin fa-usb-drive",e.User="fa-thin fa-user",e.UserCheck="fa-thin fa-user-check",e.UserClock="fa-thin fa-user-clock",e.UserDoctor="fa-thin fa-user-doctor",e.UserDoctorHair="fa-thin fa-user-doctor-hair",e.UserDoctorHairLong="fa-thin fa-user-doctor-hair-long",e.UserGear="fa-thin fa-user-gear",e.UserGroup="fa-thin fa-user-group",e.UserHair="fa-thin fa-user-hair",e.UserHairLong="fa-thin fa-user-hair-long",e.UserHeadset="fa-thin fa-user-headset",e.Users="fa-thin fa-users",e.UserSecret="fa-thin fa-user-secret",e.UsersMedical="fa-thin fa-users-medical",e.UserTag="fa-thin fa-user-tag",e.UserXmark="fa-thin fa-user-xmark",e.Video="fa-thin fa-video",e.VideoSlash="fa-thin fa-video-slash",e.Volume="fa-thin fa-volume",e.VolumeHigh="fa-thin fa-volume-high",e.VolumeLow="fa-thin fa-volume-low",e.VolumeOff="fa-thin fa-volume-off",e.VolumeSlash="fa-thin fa-volume-slash",e.VolumeXmark="fa-thin fa-volume-xmark",e.Wifi="fa-thin fa-wifi",e.WifiExclamation="fa-thin fa-wifi-exclamation",e.WifiFair="fa-thin fa-wifi-fair",e.WifiSlash="fa-thin fa-wifi-slash",e.Window="fa-thin fa-window",e.Xmark="fa-thin fa-xmark"}(IconClassThin=exports.IconClassThin||(exports.IconClassThin={})),function(e){e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom"}(PositionEnum=exports.PositionEnum||(exports.PositionEnum={})),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(OrientationEnum=exports.OrientationEnum||(exports.OrientationEnum={}));class PopupSettings{}exports.PopupSettings=PopupSettings,function(e){e[e.Auto=0]="Auto",e[e.Up=1]="Up",e[e.Down=2]="Down"}(PopupDirectionEnum=exports.PopupDirectionEnum||(exports.PopupDirectionEnum={})),function(e){e.Dashed="dashed",e.Dotted="dotted",e.Double="double",e.Hidden="hidden",e.Solid="solid",e.Groove="groove",e.Ridge="ridge"}(BorderStyleEnum=exports.BorderStyleEnum||(exports.BorderStyleEnum={})),function(e){e.Default="vrButtonDefaultMode",e.Primary="vrButtonPrimaryMode",e.Delete="vrButtonDeleteMode",e.Excel="vrButtonExcelMode",e.Print="vrButtonPrintMode",e.Warning="vrButtonWarningMode"}(ButtonModeEnum=exports.ButtonModeEnum||(exports.ButtonModeEnum={}));class ColorSettings{}exports.ColorSettings=ColorSettings;class DivColorSettings{}exports.DivColorSettings=DivColorSettings;class DivBorderSpecificSettings{}exports.DivBorderSpecificSettings=DivBorderSpecificSettings;class DivBorderSettings extends DivBorderSpecificSettings{}exports.DivBorderSettings=DivBorderSettings,function(e){e[e.Single=0]="Single",e[e.Multiple=1]="Multiple"}(SelectionModeEnum=exports.SelectionModeEnum||(exports.SelectionModeEnum={}));class ButtonGroupItem{}exports.ButtonGroupItem=ButtonGroupItem;class TabStripItem extends ButtonGroupItem{}exports.TabStripItem=TabStripItem,function(e){e[e.Half=0]="Half",e[e.Full=1]="Full"}(RatingPrecisionEnum=exports.RatingPrecisionEnum||(exports.RatingPrecisionEnum={})),function(e){e[e.Default=0]="Default",e[e.Primary=1]="Primary",e[e.Error=2]="Error",e[e.Phone=3]="Phone",e[e.Mail=4]="Mail",e[e.Link=5]="Link",e[e.Currency=6]="Currency",e[e.Date=7]="Date",e[e.Time=8]="Time",e[e.DateTime=9]="DateTime"}(LabelModeEnum=exports.LabelModeEnum||(exports.LabelModeEnum={})),function(e){e[e.Always=0]="Always",e[e.None=1]="None",e[e.OnHover=2]="OnHover"}(LabelUnderlineMode=exports.LabelUnderlineMode||(exports.LabelUnderlineMode={})),function(e){e.Left="left",e.Center="center",e.Right="right",e.Justify="justify"}(TextAlignEnum=exports.TextAlignEnum||(exports.TextAlignEnum={}));class TextBoxLengthSettings{}exports.TextBoxLengthSettings=TextBoxLengthSettings,function(e){e[e.Text=0]="Text",e[e.Link=1]="Link",e[e.Phone=2]="Phone",e[e.Search=3]="Search",e[e.Mail=4]="Mail",e[e.MultiLine=5]="MultiLine",e[e.Password=6]="Password",e[e.PasswordViewable=7]="PasswordViewable",e[e.Numeric=8]="Numeric",e[e.Percentage=9]="Percentage",e[e.Currency=10]="Currency"}(TextModeEnum=exports.TextModeEnum||(exports.TextModeEnum={})),function(e){e.Capitalize="capitalize",e.Uppercase="uppercase",e.Lowercase="lowercase",e.Default="none"}(TextTransformModeEnum=exports.TextTransformModeEnum||(exports.TextTransformModeEnum={}));class TextBoxValidationSettings{}exports.TextBoxValidationSettings=TextBoxValidationSettings;class TextBoxRegexSettings{}exports.TextBoxRegexSettings=TextBoxRegexSettings,function(e){e[e.Flashing=0]="Flashing",e[e.Stable=1]="Stable",e[e.None=2]="None"}(TextBoxValidationErrorEnum=exports.TextBoxValidationErrorEnum||(exports.TextBoxValidationErrorEnum={})),function(e){e[e.Tooltip=0]="Tooltip",e[e.Overlay=1]="Overlay",e[e.Solid=2]="Solid"}(ErrorModeEnum=exports.ErrorModeEnum||(exports.ErrorModeEnum={})),function(e){e[e.Right=0]="Right",e[e.Bottom=1]="Bottom"}(ErrorPositionEnum=exports.ErrorPositionEnum||(exports.ErrorPositionEnum={})),function(e){e[e.OnFocus=0]="OnFocus",e[e.OnAction=1]="OnAction",e[e.Never=2]="Never"}(ErrorHideModeEnum=exports.ErrorHideModeEnum||(exports.ErrorHideModeEnum={})),function(e){e.Sandbox="sandbox",e.Production="production"}(PaypalEnvironmentEnum=exports.PaypalEnvironmentEnum||(exports.PaypalEnvironmentEnum={})),function(e){e.Medium="medium",e.Large="large",e.Small="small",e.Responsive="responsive"}(PaypalStyleSizeEnum=exports.PaypalStyleSizeEnum||(exports.PaypalStyleSizeEnum={})),function(e){e.Gold="gold",e.Blue="blue",e.Silver="silver",e.Black="black"}(PaypalStyleColorEnum=exports.PaypalStyleColorEnum||(exports.PaypalStyleColorEnum={})),function(e){e.Rect="rect",e.Pill="pill"}(PaypalStyleShapeEnum=exports.PaypalStyleShapeEnum||(exports.PaypalStyleShapeEnum={})),function(e){e.Checkout="checkout",e.Credit="credit",e.Pay="pay",e.BuyNow="buynow",e.Paypal="paypal",e.Installment="installment"}(PaypalStyleLabelEnum=exports.PaypalStyleLabelEnum||(exports.PaypalStyleLabelEnum={})),function(e){e.Vertical="vertical",e.Horizontal="horizontal"}(PaypalStyleLayoutEnum=exports.PaypalStyleLayoutEnum||(exports.PaypalStyleLayoutEnum={})),function(e){e[e.Checked=0]="Checked",e[e.Unchecked=1]="Unchecked",e[e.Undefined=2]="Undefined"}(CheckboxStateEnum=exports.CheckboxStateEnum||(exports.CheckboxStateEnum={})),function(e){e[e.Center=0]="Center",e[e.Fit=1]="Fit",e[e.Fill=2]="Fill",e[e.Stretch=3]="Stretch",e[e.Original=4]="Original"}(ImagePositionTypeEnum=exports.ImagePositionTypeEnum||(exports.ImagePositionTypeEnum={})),function(e){e[e.Download=0]="Download",e[e.Delete=1]="Delete",e[e.Custom=2]="Custom"}(ImageToolbarTypeEnum=exports.ImageToolbarTypeEnum||(exports.ImageToolbarTypeEnum={})),function(e){e[e.First=0]="First",e[e.Last=1]="Last"}(DefaultDayEnum=exports.DefaultDayEnum||(exports.DefaultDayEnum={})),function(e){e[e.Combo=0]="Combo",e[e.DropDown=1]="DropDown"}(ComboBoxTypeEnum=exports.ComboBoxTypeEnum||(exports.ComboBoxTypeEnum={})),function(e){e[e.AllExpanded=0]="AllExpanded",e[e.OnlyFirstLevelExpanded=1]="OnlyFirstLevelExpanded",e[e.AllCollapsed=2]="AllCollapsed"}(ComboBoxTreeModeEnum=exports.ComboBoxTreeModeEnum||(exports.ComboBoxTreeModeEnum={}));class ComboBoxItem{}exports.ComboBoxItem=ComboBoxItem;class ComboBoxWebServiceSettings{}exports.ComboBoxWebServiceSettings=ComboBoxWebServiceSettings;class ComboBoxTemplateEvent{}exports.ComboBoxTemplateEvent=ComboBoxTemplateEvent;class ComboBoxEvent extends common_1.VrControlsEvent{}exports.ComboBoxEvent=ComboBoxEvent;class ComboBoxChangeEvent extends ComboBoxEvent{}exports.ComboBoxChangeEvent=ComboBoxChangeEvent;class ComboBoxChangingEvent extends ComboBoxEvent{}exports.ComboBoxChangingEvent=ComboBoxChangingEvent;class ComboBoxClearEvent extends common_1.VrControlsEvent{}exports.ComboBoxClearEvent=ComboBoxClearEvent;class SortByComboSettings{}exports.SortByComboSettings=SortByComboSettings;class AutoCompleteBoxItem{}exports.AutoCompleteBoxItem=AutoCompleteBoxItem;class AutoCompleteBoxItemSettings{}exports.AutoCompleteBoxItemSettings=AutoCompleteBoxItemSettings;class AutoCompleteBoxComboSettings{}exports.AutoCompleteBoxComboSettings=AutoCompleteBoxComboSettings,function(e){e.Bar="bar",e.HorizontalBar="horizontalBar",e.Line="line",e.Donut="doughnut",e.Pie="pie",e.Area="area",e.StackedBar="stackedBar"}(ChartTypeEnum=exports.ChartTypeEnum||(exports.ChartTypeEnum={}));class ChartAreaSettings{}exports.ChartAreaSettings=ChartAreaSettings;class ChartTitleSettings{}exports.ChartTitleSettings=ChartTitleSettings,function(e){e.Start="start",e.Center="center",e.End="end"}(ChartTitleAlignEnum=exports.ChartTitleAlignEnum||(exports.ChartTitleAlignEnum={})),function(e){e.Top="top",e.Left="left",e.Bottom="bottom",e.Right="right"}(ChartTitlePositionEnum=exports.ChartTitlePositionEnum||(exports.ChartTitlePositionEnum={}));class ChartFont{}exports.ChartFont=ChartFont;class ChartDataLabelsSettings{}exports.ChartDataLabelsSettings=ChartDataLabelsSettings,function(e){e.Center="center",e.Start="start",e.End="end"}(ChartDataLabelsAnchorEnum=exports.ChartDataLabelsAnchorEnum||(exports.ChartDataLabelsAnchorEnum={})),function(e){e.Center="center",e.Start="start",e.End="end",e.Right="right",e.Left="left"}(ChartDataLabelsTextAlignEnum=exports.ChartDataLabelsTextAlignEnum||(exports.ChartDataLabelsTextAlignEnum={})),function(e){e.Center="center",e.Start="start",e.End="end",e.Right="right",e.Bottom="bottom",e.Left="left",e.Top="top"}(ChartDataLabelAlignEnum=exports.ChartDataLabelAlignEnum||(exports.ChartDataLabelAlignEnum={}));class ChartLegendSettings{}exports.ChartLegendSettings=ChartLegendSettings,function(e){e.Top="top",e.Left="left",e.Bottom="bottom",e.Right="right",e.ChartArea="chartArea"}(ChartLegendPositionEnum=exports.ChartLegendPositionEnum||(exports.ChartLegendPositionEnum={})),function(e){e.Center="center",e.Start="start",e.End="end"}(ChartLegendAlignEnum=exports.ChartLegendAlignEnum||(exports.ChartLegendAlignEnum={}));class ChartLegendLabelsSettings{}exports.ChartLegendLabelsSettings=ChartLegendLabelsSettings,function(e){e.Left="left",e.Right="right",e.Center="center"}(ChartLegendLabelsAlignEnum=exports.ChartLegendLabelsAlignEnum||(exports.ChartLegendLabelsAlignEnum={}));class ChartLegendTitleSettings{}exports.ChartLegendTitleSettings=ChartLegendTitleSettings;class ChartTooltipSettings{}exports.ChartTooltipSettings=ChartTooltipSettings,function(e){e.Average="average",e.Nearest="nearest"}(ChartTooltipPositionEnum=exports.ChartTooltipPositionEnum||(exports.ChartTooltipPositionEnum={})),function(e){e.Left="left",e.Right="right",e.Center="center"}(ChartTooltipAlignEnum=exports.ChartTooltipAlignEnum||(exports.ChartTooltipAlignEnum={})),function(e){e.Top="top",e.Center="center",e.Bottom="bottom"}(ChartTooltipYAlignEnum=exports.ChartTooltipYAlignEnum||(exports.ChartTooltipYAlignEnum={}));class ChartStackedSettings{}exports.ChartStackedSettings=ChartStackedSettings;class ChartAspectRatioSettings{}exports.ChartAspectRatioSettings=ChartAspectRatioSettings;class ChartLimitSettings{}exports.ChartLimitSettings=ChartLimitSettings;class ChartDataSource{}exports.ChartDataSource=ChartDataSource;class ChartParsingSettings{}exports.ChartParsingSettings=ChartParsingSettings;class ChartLegendEvent extends common_1.VrControlsEvent{}exports.ChartLegendEvent=ChartLegendEvent;class ChartLegendHoverEvent extends ChartLegendEvent{}exports.ChartLegendHoverEvent=ChartLegendHoverEvent;class ChartLegendLeaveEvent extends ChartLegendEvent{}exports.ChartLegendLeaveEvent=ChartLegendLeaveEvent;class ChartLegendClickEvent extends ChartLegendEvent{}exports.ChartLegendClickEvent=ChartLegendClickEvent;class ChartLabelEvent extends common_1.VrControlsEvent{}exports.ChartLabelEvent=ChartLabelEvent;class ChartLabelHoverEvent extends ChartLabelEvent{}exports.ChartLabelHoverEvent=ChartLabelHoverEvent;class ChartLabelLeaveEvent extends ChartLabelEvent{}exports.ChartLabelLeaveEvent=ChartLabelLeaveEvent;class ChartLabelClickEvent extends ChartLabelEvent{}exports.ChartLabelClickEvent=ChartLabelClickEvent;class ChartAxisFormatterEvent extends common_1.VrControlsEvent{}exports.ChartAxisFormatterEvent=ChartAxisFormatterEvent;class ChartOptions extends common_1.VrControlOptions{}exports.ChartOptions=ChartOptions,function(e){e[e.Close=0]="Close",e[e.Ok=1]="Ok",e[e.Custom=2]="Custom",e[e.SplitButton=3]="SplitButton",e[e.Switch=4]="Switch",e[e.ButtonGroup=5]="ButtonGroup",e[e.CheckBox=6]="CheckBox",e[e.ComboBox=7]="ComboBox",e[e.DatePicker=8]="DatePicker",e[e.Label=9]="Label",e[e.TextBox=10]="TextBox",e[e.Separator=11]="Separator"}(WindowFooterItemTypeEnum=exports.WindowFooterItemTypeEnum||(exports.WindowFooterItemTypeEnum={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(WindowFooterItemAlignEnum=exports.WindowFooterItemAlignEnum||(exports.WindowFooterItemAlignEnum={})),function(e){e[e.Width=0]="Width",e[e.Height=1]="Height"}(WindowAutoSizeDirectionEnum=exports.WindowAutoSizeDirectionEnum||(exports.WindowAutoSizeDirectionEnum={})),function(e){e.Separator="|",e.Undo="undo",e.Redo="redo",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.FontFamily="fontfamily",e.FontSelect="fontfamily",e.FontSize="fontsize",e.FullScreen="fullscreen",e.AlignLeft="alignleft",e.AlignRight="alignright",e.AlignCenter="aligncenter",e.AlignJustify="alignjustify",e.OrderedList="numlist",e.NumList="numlist",e.UnorderedList="bullist",e.Bullist="bullist",e.ColorPicker="color",e.Link="link",e.Cut="cut",e.Copy="copy",e.Paste="paste",e.PasteText="pastetext",e.SelectAll="selectall",e.SearchAndReplace="searchreplace",e.Print="print",e.Preview="preview",e.CodeSource="code",e.WordCount="wordcount",e.Image="image",e.Media="media",e.Table="inserttable",e.InsertTable="inserttable",e.Cell="cell",e.Row="row",e.Symbols="charmap",e.CharMap="charmap",e.Emoticons="emoticons",e.Hr="hr",e.PageBreak="pagebreak",e.StrikeThrough="strikethrough",e.Superscript="superscript",e.Subscript="subscript",e.FontFormats="fontformats",e.AlignFormats="align",e.BlockFormats="blockformats",e.BackgroundColor="backcolor",e.ClearFormatting="removeformat",e.RemoveFormat="removeformat"}(vrEditorItemEnum=exports.vrEditorItemEnum||(exports.vrEditorItemEnum={})),function(e){e.Floating="floating",e.Sliding="sliding",e.Scrolling="scrolling",e.Wrap="wrap"}(vrEditorToolbarModeEnum=exports.vrEditorToolbarModeEnum||(exports.vrEditorToolbarModeEnum={})),function(e){e.CaretDown="action-next",e.CaretUp="action-prev",e.AlignCenter="align-center",e.AlignJustify="align-justify",e.AlignLeft="align-left",e.AlignRight="align-right",e.AlignNone="align-none",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.Cancel="cancel",e.CheckMark="checkmark",e.ChevronDown="chevron-down",e.ChevronRight="chevron-right",e.ChevronUp="chevron-up",e.ChevronLeft="chevron-left",e.Close="close",e.Edit="edit-block",e.FullScreen="fullscreen",e.Home="home",e.LineHorizontal="horizontal-rule",e.BurgerHorizontal="image-options",e.Image="image",e.Info="info",e.Time="insert-time",e.Symbols="insert-character",e.Link="link",e.Url="link",e.Lock="lock",e.Document="new-document",e.NewTab="new-tab",e.Alert="notice",e.Paragraph="paragraph",e.Paste="paste",e.PasteText="paste-text",e.Add="plus",e.Plus="plus",e.Settings="preferences",e.Preview="preview",e.Print="print",e.Quote="quote",e.Redo="redo",e.Reload="reload",e.Refresh="reload",e.Remove="remove",e.Delete="remove",e.Resize="resize",e.RotateLeft="rotate-left",e.RotateRight="rotate-right",e.Search="search",e.SourceCode="sourcecode",e.Table="table",e.Undo="undo",e.Unlink="unlink",e.Unlock="unlock",e.Upload="upload",e.Warning="warning",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out"}(TinyMceIconEnum=exports.TinyMceIconEnum||(exports.TinyMceIconEnum={}));class vrEditorCustomItem{}exports.vrEditorCustomItem=vrEditorCustomItem;class vrEditorCustomMenuItem{}exports.vrEditorCustomMenuItem=vrEditorCustomMenuItem,function(e){e[e.Button=0]="Button",e[e.Separator=1]="Separator",e[e.SplitButton=2]="SplitButton",e[e.Switch=3]="Switch",e[e.ButtonGroup=4]="ButtonGroup",e[e.CheckBox=5]="CheckBox",e[e.ComboBox=6]="ComboBox",e[e.DatePicker=7]="DatePicker",e[e.Label=8]="Label",e[e.TextBox=9]="TextBox"}(EditorCustomMenuItemType=exports.EditorCustomMenuItemType||(exports.EditorCustomMenuItemType={}));class vrEditorSpeechRecognizerSettings{}exports.vrEditorSpeechRecognizerSettings=vrEditorSpeechRecognizerSettings,function(e){e[e.Popup=0]="Popup",e[e.Direct=1]="Direct"}(EditorSpeechRecognizerModeEnum=exports.EditorSpeechRecognizerModeEnum||(exports.EditorSpeechRecognizerModeEnum={})),function(e){e[e.MenuBar=0]="MenuBar",e[e.MenuItems=1]="MenuItems"}(EditorSpeechRecognizerPositionEnum=exports.EditorSpeechRecognizerPositionEnum||(exports.EditorSpeechRecognizerPositionEnum={}));class vrEditorFontSizeSettings{}exports.vrEditorFontSizeSettings=vrEditorFontSizeSettings;class SpeechRecognizerOptions extends common_1.VrControlOptions{}exports.SpeechRecognizerOptions=SpeechRecognizerOptions,function(e){e[e.None=0]="None",e[e.SingleCheck=1]="SingleCheck",e[e.MultiCheck=2]="MultiCheck"}(GridCheckboxModeEnum=exports.GridCheckboxModeEnum||(exports.GridCheckboxModeEnum={})),function(e){e[e.Asc=0]="Asc",e[e.Desc=1]="Desc"}(GridSortDirectionEnum=exports.GridSortDirectionEnum||(exports.GridSortDirectionEnum={})),function(e){e[e.Asc=0]="Asc",e[e.Desc=1]="Desc"}(SortDirectionEnum=exports.SortDirectionEnum||(exports.SortDirectionEnum={})),function(e){e[e.FitScreen=0]="FitScreen",e[e.FitContent=1]="FitContent"}(GridHeightModeEnum=exports.GridHeightModeEnum||(exports.GridHeightModeEnum={})),function(e){e[e.Sync=0]="Sync",e[e.NotSync=1]="NotSync"}(GridModeEnum=exports.GridModeEnum||(exports.GridModeEnum={})),function(e){e[e.Average=0]="Average",e[e.Count=1]="Count",e[e.Max=2]="Max",e[e.Min=3]="Min",e[e.Sum=4]="Sum",e[e.None=5]="None"}(GridAggregateMode=exports.GridAggregateMode||(exports.GridAggregateMode={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(GridAlignEnum=exports.GridAlignEnum||(exports.GridAlignEnum={})),function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Currency=2]="Currency",e[e.Percentage=3]="Percentage",e[e.Duration=4]="Duration",e[e.Date=5]="Date",e[e.Time=6]="Time",e[e.DateTime=7]="DateTime",e[e.Checkbox=8]="Checkbox",e[e.Boolean=9]="Boolean",e[e.Button=10]="Button",e[e.EditButton=11]="EditButton",e[e.Label=12]="Label",e[e.Image=13]="Image",e[e.Custom=14]="Custom",e[e.Icon=15]="Icon",e[e.DropDownList=16]="DropDownList",e[e.ComboBox=17]="ComboBox",e[e.DropDownTree=18]="DropDownTree",e[e.DropDownTreeCheckboxes=19]="DropDownTreeCheckboxes",e[e.PasswordViewable=20]="PasswordViewable",e[e.Color=21]="Color"}(GridColumnTypeEnum=exports.GridColumnTypeEnum||(exports.GridColumnTypeEnum={})),function(e){e[e.Always=0]="Always",e[e.None=1]="None",e[e.OnFocus=2]="OnFocus"}(GridLabelUnderlineMode=exports.GridLabelUnderlineMode||(exports.GridLabelUnderlineMode={})),function(e){e[e.Add=0]="Add",e[e.Delete=1]="Delete",e[e.Separator=2]="Separator",e[e.Excel=3]="Excel",e[e.ExcelWithHiddenColumns=4]="ExcelWithHiddenColumns",e[e.Custom=5]="Custom",e[e.Rebind=6]="Rebind",e[e.SplitButton=7]="SplitButton",e[e.Switch=8]="Switch",e[e.ButtonGroup=9]="ButtonGroup",e[e.CheckBox=10]="CheckBox",e[e.ComboBox=11]="ComboBox",e[e.DatePicker=12]="DatePicker",e[e.Label=13]="Label",e[e.TextBox=14]="TextBox"}(GridToolbarItemType=exports.GridToolbarItemType||(exports.GridToolbarItemType={})),function(e){e[e.GreaterThan=0]="GreaterThan",e[e.LessThan=1]="LessThan",e[e.EqualsTo=2]="EqualsTo",e[e.Between=3]="Between"}(GridDateFilterTypeEnum=exports.GridDateFilterTypeEnum||(exports.GridDateFilterTypeEnum={})),function(e){e[e.GreaterThan=0]="GreaterThan",e[e.LessThan=1]="LessThan",e[e.EqualsTo=2]="EqualsTo",e[e.Between=3]="Between"}(GridNumberFilterTypeEnum=exports.GridNumberFilterTypeEnum||(exports.GridNumberFilterTypeEnum={})),function(e){e[e.StartsWith=0]="StartsWith",e[e.EndsWith=1]="EndsWith",e[e.EqualsTo=2]="EqualsTo",e[e.Includes=3]="Includes"}(GridStringFilterTypeEnum=exports.GridStringFilterTypeEnum||(exports.GridStringFilterTypeEnum={}));class GridGroupBySettings{}exports.GridGroupBySettings=GridGroupBySettings;class GridSortSettings{}exports.GridSortSettings=GridSortSettings;class GridGroupByItem{}exports.GridGroupByItem=GridGroupByItem;class GridGroupDisplayValueEvent{}exports.GridGroupDisplayValueEvent=GridGroupDisplayValueEvent;class GridGroupExpandCollapseEvent{}exports.GridGroupExpandCollapseEvent=GridGroupExpandCollapseEvent;class GridGroupEditClickEvent{}exports.GridGroupEditClickEvent=GridGroupEditClickEvent;class GridPageSelectedEvent extends common_1.VrControlsEvent{}exports.GridPageSelectedEvent=GridPageSelectedEvent;class GridScrollEvent extends common_1.VrControlsEvent{}exports.GridScrollEvent=GridScrollEvent;class GridColumn{}exports.GridColumn=GridColumn;class GridButtonSettings extends grid_1.GridControlsSettings{}exports.GridButtonSettings=GridButtonSettings;class GridToolbarItem{}exports.GridToolbarItem=GridToolbarItem,function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(PdfViewerToolbarAreaEnum=exports.PdfViewerToolbarAreaEnum||(exports.PdfViewerToolbarAreaEnum={}));class OnContentRenderedEvent{}exports.OnContentRenderedEvent=OnContentRenderedEvent;class PdfViewerToolbarSettings{}exports.PdfViewerToolbarSettings=PdfViewerToolbarSettings;class PdfViewerToolbarItem{}exports.PdfViewerToolbarItem=PdfViewerToolbarItem;class ToolbarItemOnClickEvent{}exports.ToolbarItemOnClickEvent=ToolbarItemOnClickEvent,function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(SplitterDirectionEnum=exports.SplitterDirectionEnum||(exports.SplitterDirectionEnum={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down"}(SplitterCollapseDirectionEnum=exports.SplitterCollapseDirectionEnum||(exports.SplitterCollapseDirectionEnum={}));class SplitterCollapsableSettings{}exports.SplitterCollapsableSettings=SplitterCollapsableSettings;class SwitchLabelSettings{}exports.SwitchLabelSettings=SwitchLabelSettings;class SwitchLabelSettingsOnClickEvent extends common_1.VrControlsEvent{}exports.SwitchLabelSettingsOnClickEvent=SwitchLabelSettingsOnClickEvent;class SchedulerSaturationInfo{}exports.SchedulerSaturationInfo=SchedulerSaturationInfo;class SchedulerSaturationDay{}exports.SchedulerSaturationDay=SchedulerSaturationDay;class SchedulerSaturationWeek{}exports.SchedulerSaturationWeek=SchedulerSaturationWeek;class SchedulerSaturationWeekByResource{}exports.SchedulerSaturationWeekByResource=SchedulerSaturationWeekByResource;class SaturationDate{}exports.SaturationDate=SaturationDate;class SchedulerSaturationWeekByDate{}exports.SchedulerSaturationWeekByDate=SchedulerSaturationWeekByDate;class SaturationResource{}exports.SaturationResource=SaturationResource;class SchedulerSaturationFourWeeks{}exports.SchedulerSaturationFourWeeks=SchedulerSaturationFourWeeks;class SchedulerResource{}exports.SchedulerResource=SchedulerResource,function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(DayOfWeekEnum=exports.DayOfWeekEnum||(exports.DayOfWeekEnum={}));class SchedulerView{}exports.SchedulerView=SchedulerView,function(e){e[e.Day=0]="Day",e[e.Week=1]="Week",e[e.FourWeeks=2]="FourWeeks"}(SchedulerViewEnum=exports.SchedulerViewEnum||(exports.SchedulerViewEnum={}));class SchedulerSlotElement{}exports.SchedulerSlotElement=SchedulerSlotElement;class SchedulerData{get duration(){return Date.vrDifferenceBetweenDatesInMinutes(new Date(this.start),new Date(this.end))}}exports.SchedulerData=SchedulerData;class SchedulerAttribute{}exports.SchedulerAttribute=SchedulerAttribute,function(e){e[e.NextDate=0]="NextDate",e[e.PrevDate=1]="PrevDate",e[e.Today=2]="Today",e[e.ChangeDate=4]="ChangeDate"}(SchedulerNavigateActionEnum=exports.SchedulerNavigateActionEnum||(exports.SchedulerNavigateActionEnum={}));class NotifierOptions{}exports.NotifierOptions=NotifierOptions,function(e){e[e.Default=0]="Default",e[e.Success=1]="Success",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error"}(NotifierTypeEnum=exports.NotifierTypeEnum||(exports.NotifierTypeEnum={})),function(e){e.TopLeft="TopLeft",e.TopCenter="TopCenter",e.TopRight="TopRight",e.BottomLeft="BottomLeft",e.BottomCenter="BottomCenter",e.BottomRight="BottomRight",e.RightMiddle="RightMiddle",e.RightTop="RightTop",e.RightBottom="RightBottom",e.LeftBottom="LeftBottom",e.LeftTop="LeftTop",e.LeftMiddle="LeftMiddle",e.MiddleScreen="MiddleScreen"}(NotifierPositionEnum=exports.NotifierPositionEnum||(exports.NotifierPositionEnum={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.FadeIn=2]="FadeIn",e[e.SlideDown=3]="SlideDown"}(AnimationShowEnum=exports.AnimationShowEnum||(exports.AnimationShowEnum={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.FadeOut=2]="FadeOut",e[e.SlideUp=3]="SlideUp"}(AnimationHideEnum=exports.AnimationHideEnum||(exports.AnimationHideEnum={})),function(e){e[e.Click=0]="Click",e[e.Focus=1]="Focus",e[e.Hover=2]="Hover",e[e.Never=3]="Never"}(TooltipShowOnEnum=exports.TooltipShowOnEnum||(exports.TooltipShowOnEnum={})),function(e){e[e.Default=0]="Default",e[e.Never=1]="Never",e[e.Click=2]="Click",e[e.Blur=3]="Blur",e[e.Leave=4]="Leave"}(TooltipHideOnEnum=exports.TooltipHideOnEnum||(exports.TooltipHideOnEnum={})),function(e){e[e.Default=0]="Default",e[e.Success=1]="Success",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error"}(TooltipTypeEnum=exports.TooltipTypeEnum||(exports.TooltipTypeEnum={})),function(e){e.TopLeft="TopLeft",e.TopCenter="TopCenter",e.TopRight="TopRight",e.BottomLeft="BottomLeft",e.BottomCenter="BottomCenter",e.BottomRight="BottomRight",e.RightMiddle="RightMiddle",e.RightTop="RightTop",e.RightBottom="RightBottom",e.LeftBottom="LeftBottom",e.LeftTop="LeftTop",e.LeftMiddle="LeftMiddle",e.MiddleScreen="MiddleScreen"}(TooltipPositionEnum=exports.TooltipPositionEnum||(exports.TooltipPositionEnum={}));class TreeViewColumn{}exports.TreeViewColumn=TreeViewColumn;class TreeViewToolbarItem{}exports.TreeViewToolbarItem=TreeViewToolbarItem;class TreeViewToolbarSwitchSettings{}exports.TreeViewToolbarSwitchSettings=TreeViewToolbarSwitchSettings;class TreeViewToolbarSwitchEvent{}exports.TreeViewToolbarSwitchEvent=TreeViewToolbarSwitchEvent;class TreeViewToolbarClickEvent{preventDefault(){this.isDefaultPrevented=!0}}exports.TreeViewToolbarClickEvent=TreeViewToolbarClickEvent,function(e){e[e.Separator=0]="Separator",e[e.Excel=1]="Excel",e[e.Custom=2]="Custom",e[e.Rebind=3]="Rebind",e[e.SplitButton=4]="SplitButton",e[e.Switch=5]="Switch",e[e.ButtonGroup=6]="ButtonGroup",e[e.CheckBox=7]="CheckBox",e[e.ComboBox=8]="ComboBox",e[e.DatePicker=9]="DatePicker",e[e.Label=10]="Label",e[e.TextBox=11]="TextBox"}(TreeViewToolbarItemType=exports.TreeViewToolbarItemType||(exports.TreeViewToolbarItemType={}));class TreeViewItem{}exports.TreeViewItem=TreeViewItem;class TreeViewItemExtraCell extends TreeViewColumn{}exports.TreeViewItemExtraCell=TreeViewItemExtraCell;class TreeViewContextMenuItem{}exports.TreeViewContextMenuItem=TreeViewContextMenuItem,function(e){e[e.AllExpanded=0]="AllExpanded",e[e.OnlyFirstLevelExpanded=1]="OnlyFirstLevelExpanded",e[e.AllCollapsed=2]="AllCollapsed"}(TreeModeEnum=exports.TreeModeEnum||(exports.TreeModeEnum={})),function(e){e[e.Default=0]="Default",e[e.Currency=1]="Currency",e[e.Percentage=2]="Percentage"}(TreeViewNumericTypeEnum=exports.TreeViewNumericTypeEnum||(exports.TreeViewNumericTypeEnum={})),function(e){e[e.String=0]="String",e[e.Number=1]="Number",e[e.Currency=2]="Currency",e[e.Percentage=3]="Percentage",e[e.Duration=4]="Duration",e[e.Date=5]="Date",e[e.Time=6]="Time",e[e.DateTime=7]="DateTime",e[e.Checkbox=8]="Checkbox",e[e.Boolean=9]="Boolean",e[e.Color=21]="Color"}(TreeViewColumnTypeEnum=exports.TreeViewColumnTypeEnum||(exports.TreeViewColumnTypeEnum={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(TreeViewAlignEnum=exports.TreeViewAlignEnum||(exports.TreeViewAlignEnum={}));class TreeViewFilterSettings{}exports.TreeViewFilterSettings=TreeViewFilterSettings;class MapMarker{}exports.MapMarker=MapMarker,function(e){e.Streets="mapbox/streets-v11",e.Outdoors="mapbox/outdoors-v11",e.Light="mapbox/light-v10",e.Dark="mapbox/dark-v10",e.Satellite="mapbox/satellite-v9",e.SatelliteStreets="mapbox/satellite-streets-v11",e.NavigationDay="mapbox/navigation-day-v1",e.NavigationNight="mapbox/navigation-night-v1"}(MapModeEnum=exports.MapModeEnum||(exports.MapModeEnum={}));class ColorPickerRgbaValue{}function pageError(e){window.onerror=(t,i,r,n,a)=>{if(null!=e){let o=new PageErrorEvent;return o.message=t,o.url=i,o.lineNumber=r,o.columnNumber=n,o.error=a,e(o),!1}return!0}}exports.ColorPickerRgbaValue=ColorPickerRgbaValue,function(e){e.Hex="hex",e.Rgba="rgba"}(ColorPickerModeEnum=exports.ColorPickerModeEnum||(exports.ColorPickerModeEnum={})),function(e){e[e.MinSize=0]="MinSize",e[e.MaxSize=1]="MaxSize",e[e.Extensions=2]="Extensions"}(UploadValidationErrorTypeEnum=exports.UploadValidationErrorTypeEnum||(exports.UploadValidationErrorTypeEnum={})),function(e){e.red="#FF0000",e.red50="#ffebee",e.red100="#ffcdd2",e.red200="#ef9a9a",e.red300="#e57373",e.red400="#ef5350",e.red500="#f44336",e.red600="#e53935",e.red700="#d32f2f",e.red800="#c62828",e.red900="#b71c1c",e.redA100="#ff8a80",e.redA200="#ff5252",e.redA400="#ff1744",e.redA700="#d50000",e.pink50="#fce4ec",e.pink100="#f8bbd0",e.pink200="#f48fb1",e.pink300="#f06292",e.pink400="#ec407a",e.pink500="#e91e63",e.pink600="#d81b60",e.pink700="#c2185b",e.pink800="#ad1457",e.pink900="#880e4f",e.pinkA100="#ff80ab",e.pinkA200="#ff4081",e.pinkA400="#f50057",e.pinkA700="#c51162",e.purple50="#f3e5f5",e.purple100="#e1bee7",e.purple200="#ce93d8",e.purple300="#ba68c8",e.purple400="#ab47bc",e.purple500="#9c27b0",e.purple600="#8e24aa",e.purple700="#7b1fa2",e.purple800="#6a1b9a",e.purple900="#4a148c",e.purpleA100="#ea80fc",e.purpleA200="#e040fb",e.purpleA400="#d500f9",e.purpleA700="#aa00ff",e.deepPurple50="#ede7f6",e.deepPurple100="#d1c4e9",e.deepPurple200="#b39ddb",e.deepPurple300="#9575cd",e.deepPurple400="#7e57c2",e.deepPurple500="#673ab7",e.deepPurple600="#5e35b1",e.deepPurple700="#512da8",e.deepPurple800="#4527a0",e.deepPurple900="#311b92",e.deepPurpleA100="#b388ff",e.deepPurpleA200="#7c4dff",e.deepPurpleA400="#651fff",e.deepPurpleA700="#6200ea",e.indigo50="#e8eaf6",e.indigo100="#c5cae9",e.indigo200="#9fa8da",e.indigo300="#7986cb",e.indigo400="#5c6bc0",e.indigo500="#3f51b5",e.indigo600="#3949ab",e.indigo700="#303f9f",e.indigo800="#283593",e.indigo900="#1a237e",e.indigoA100="#8c9eff",e.indigoA200="#536dfe",e.indigoA400="#3d5afe",e.indigoA700="#304ffe",e.blue="#0000FF",e.blue50="#e3f2fd",e.blue100="#bbdefb",e.blue200="#90caf9",e.blue300="#64b5f6",e.blue400="#42a5f5",e.blue500="#2196f3",e.blue600="#1e88e5",e.blue700="#1976d2",e.blue800="#1565c0",e.blue900="#0d47a1",e.blueA100="#82b1ff",e.blueA200="#448aff",e.blueA400="#2979ff",e.blueA700="#2962ff",e.lightBlue50="#e1f5fe",e.lightBlue100="#b3e5fc",e.lightBlue200="#81d4fa",e.lightBlue300="#4fc3f7",e.lightBlue400="#29b6f6",e.lightBlue500="#03a9f4",e.lightBlue600="#039be5",e.lightBlue700="#0288d1",e.lightBlue800="#0277bd",e.lightBlue900="#01579b",e.lightBlueA100="#80d8ff",e.lightBlueA200="#40c4ff",e.lightBlueA400="#00b0ff",e.lightBlueA700="#0091ea",e.cyan="#00FFFF",e.cyan50="#e0f7fa",e.cyan100="#b2ebf2",e.cyan200="#80deea",e.cyan300="#4dd0e1",e.cyan400="#26c6da",e.cyan500="#00bcd4",e.cyan600="#00acc1",e.cyan700="#0097a7",e.cyan800="#00838f",e.cyan900="#006064",e.cyanA100="#84ffff",e.cyanA200="#18ffff",e.cyanA400="#00e5ff",e.cyanA700="#00b8d4",e.teal50="#e0f2f1",e.teal100="#b2dfdb",e.teal200="#80cbc4",e.teal300="#4db6ac",e.teal400="#26a69a",e.teal500="#009688",e.teal600="#00897b",e.teal700="#00796b",e.teal800="#00695c",e.teal900="#004d40",e.tealA100="#a7ffeb",e.tealA200="#64ffda",e.tealA400="#1de9b6",e.tealA700="#00bfa5",e.green="#00FF00",e.green50="#e8f5e9",e.green100="#c8e6c9",e.green200="#a5d6a7",e.green300="#81c784",e.green400="#66bb6a",e.green500="#4caf50",e.green600="#43a047",e.green700="#388e3c",e.green800="#2e7d32",e.green900="#1b5e20",e.greenA100="#b9f6ca",e.greenA200="#69f0ae",e.greenA400="#00e676",e.greenA700="#00c853",e.lightGreen50="#f1f8e9",e.lightGreen100="#dcedc8",e.lightGreen200="#c5e1a5",e.lightGreen300="#aed581",e.lightGreen400="#9ccc65",e.lightGreen500="#8bc34a",e.lightGreen600="#7cb342",e.lightGreen700="#689f38",e.lightGreen800="#558b2f",e.lightGreen900="#33691e",e.lightGreenA100="#ccff90",e.lightGreenA200="#b2ff59",e.lightGreenA400="#76ff03",e.lightGreenA700="#64dd17",e.vettore="#51B3E1",e.vettoreLight="#e3f1fa",e.pumo="#32CD32",e.lime50="#f9fbe7",e.lime100="#f0f4c3",e.lime200="#e6ee9c",e.lime300="#dce775",e.lime400="#d4e157",e.lime500="#cddc39",e.lime600="#c0ca33",e.lime700="#afb42b",e.lime800="#9e9d24",e.lime900="#827717",e.limeA100="#f4ff81",e.limeA200="#eeff41",e.limeA400="#c6ff00",e.limeA700="#aeea00",e.yellow="#FFFF00",e.yellow50="#fffde7",e.yellow100="#fff9c4",e.yellow200="#fff59d",e.yellow300="#fff176",e.yellow400="#ffee58",e.yellow500="#ffeb3b",e.yellow600="#fdd835",e.yellow700="#fbc02d",e.yellow800="#f9a825",e.yellow900="#f57f17",e.yellowA100="#ffff8d",e.yellowA200="#ffff00",e.yellowA400="#ffea00",e.yellowA700="#ffd600",e.amber50="#fff8e1",e.amber100="#ffecb3",e.amber200="#ffe082",e.amber300="#ffd54f",e.amber400="#ffca28",e.amber500="#ffc107",e.amber600="#ffb300",e.amber700="#ffa000",e.amber800="#ff8f00",e.amber900="#ff6f00",e.amberA100="#ffe57f",e.amberA200="#ffd740",e.amberA400="#ffc400",e.amberA700="#ffab00",e.orange50="#fff3e0",e.orange100="#ffe0b2",e.orange200="#ffcc80",e.orange300="#ffb74d",e.orange400="#ffa726",e.orange500="#ff9800",e.orange600="#fb8c00",e.orange700="#f57c00",e.orange800="#ef6c00",e.orange900="#e65100",e.orangeA100="#ffd180",e.orangeA200="#ffab40",e.orangeA400="#ff9100",e.orangeA700="#ff6d00",e.deepOrange50="#fbe9e7",e.deepOrange100="#ffccbc",e.deepOrange200="#ffab91",e.deepOrange300="#ff8a65",e.deepOrange400="#ff7043",e.deepOrange500="#ff5722",e.deepOrange600="#f4511e",e.deepOrange700="#e64a19",e.deepOrange800="#d84315",e.deepOrange900="#bf360c",e.deepOrangeA100="#ff9e80",e.deepOrangeA200="#ff6e40",e.deepOrangeA400="#ff3d00",e.deepOrangeA700="#dd2c00",e.brown50="#efebe9",e.brown100="#d7ccc8",e.brown200="#bcaaa4",e.brown300="#a1887f",e.brown400="#8d6e63",e.brown500="#795548",e.brown600="#6d4c41",e.brown700="#5d4037",e.brown800="#4e342e",e.brown900="#3e2723",e.grey50="#fafafa",e.grey100="#f5f5f5",e.grey200="#eeeeee",e.grey300="#e0e0e0",e.grey400="#bdbdbd",e.grey500="#9e9e9e",e.grey600="#757575",e.grey700="#616161",e.grey800="#424242",e.grey900="#212121",e.blueGrey50="#eceff1",e.blueGrey100="#cfd8dc",e.blueGrey200="#b0bec5",e.blueGrey300="#90a4ae",e.blueGrey400="#78909c",e.blueGrey500="#607d8b",e.blueGrey600="#546e7a",e.blueGrey700="#455a64",e.blueGrey800="#37474f",e.blueGrey900="#263238"}(Color=exports.Color||(exports.Color={})),exports.pageError=pageError;class PageErrorEvent{}function isEquals(e,t){return utilityManager_1.UtilityManager.equals(e,t)}function isLocalhost(){return location.hostname.includes("localhost")}function interval(e,t,i,r){utilityManager_1.UtilityManager.interval(e,t,i,r)}function addCssStyle(e,t){utilityManager_1.UtilityManager.addCssStyle(e,t)}function addCss(e,t){addCssStyle(e,t)}function addJsScript(e,t){utilityManager_1.UtilityManager.addJsScript(e,t)}function addCssFiles(...e){return new Promise(t=>{utilityManager_1.UtilityManager.addCssFiles(...e).then(()=>t())})}function addJsFiles(...e){return new Promise(t=>{utilityManager_1.UtilityManager.addJsFiles(...e).then(()=>t())})}function openUrl(e,t="download",i=!1){utilityManager_1.UtilityManager.openUrl(e,t,i)}function openBrowserWindow(e,t=!1,i,r){let n=1e3,a=700;null!=i&&(null!=i.width&&(n=i.width),null!=i.height&&(a=i.height));let o=window.top.outerHeight/2+window.top.screenY-a/2,l=window.top.outerWidth/2+window.top.screenX-n/2;null!=r&&(null!=r.top&&(o=r.top),null!=r.left&&(l=r.left)),window.open(e,t?"_blank":"",t?`width=${n}, height=${a}, top=${o}, left=${l}`:"")}exports.isEquals=isEquals,exports.isLocalhost=isLocalhost,exports.interval=interval,exports.addCssStyle=addCssStyle,exports.addCss=addCss,exports.addJsScript=addJsScript,exports.addCssFiles=addCssFiles,exports.addJsFiles=addJsFiles,exports.openUrl=openUrl,exports.openBrowserWindow=openBrowserWindow;class BrowserWindowSize{}exports.BrowserWindowSize=BrowserWindowSize;class BrowserWindowPosition{}function isValidEmail(e){return utilityManager_1.UtilityManager.isValidEmail(e)}function copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then(()=>notify("Copiato!")):oldSupportCopyTextToClipboard(e)}function oldSupportCopyTextToClipboard(e){let t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")&&notify("Copiato!")}catch(e){}document.body.removeChild(t)}function base64ToFile(e,t,i){return utilityManager_1.UtilityManager.base64ToFile(e,t,i)}function base64ToBytes(e){return utilityManager_1.UtilityManager.base64ToBytes(e)}function bytesToBase64(e){return utilityManager_1.UtilityManager.bytesToBase64(e)}function base64ToBlob(e,t="",i=512){return utilityManager_1.UtilityManager.base64ToBlob(e,t,i)}function shadowRoot(e){return null!=e&&(_shadowRoot2=e),_shadowRoot2}function jqueryVariable(e){return null!=e&&(_jqueryVariable=e),_jqueryVariable}exports.BrowserWindowPosition=BrowserWindowPosition,exports.isValidEmail=isValidEmail,exports.copyTextToClipboard=copyTextToClipboard,exports.base64ToFile=base64ToFile,exports.base64ToBytes=base64ToBytes,exports.bytesToBase64=bytesToBase64,exports.base64ToBlob=base64ToBlob,exports.shadowRoot=shadowRoot,exports.jqueryVariable=jqueryVariable,function(e){e[e.Async=0]="Async",e[e.Sync=1]="Sync"}(WebApiModeEnum=exports.WebApiModeEnum||(exports.WebApiModeEnum={})),function(e){e[e.Date=0]="Date",e[e.DateTime=1]="DateTime",e[e.Time=2]="Time",e[e.LongDate=3]="LongDate",e[e.LongDateTime=4]="LongDateTime",e[e.LongWeekDate=5]="LongWeekDate",e[e.ShortWeekDate=6]="ShortWeekDate"}(DateModeEnum=exports.DateModeEnum||(exports.DateModeEnum={})),function(e){e[e.Day=0]="Day",e[e.Month=1]="Month",e[e.Year=2]="Year"}(DateDepthEnum=exports.DateDepthEnum||(exports.DateDepthEnum={})),function(e){e[e.LongDate=0]="LongDate",e[e.ShortDate=1]="ShortDate",e[e.WeekDay=2]="WeekDay",e[e.WeekRange=3]="WeekRange",e[e.FourWeeksRange=4]="FourWeeksRange",e[e.Month=5]="Month",e[e.Year=6]="Year"}(DateFormatEnum=exports.DateFormatEnum||(exports.DateFormatEnum={})),function(e){e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Enter="Enter",e.Tab="Tab",e.Backspace="Backspace",e.Control="Control",e.Shift="Shift"}(KeyEnum=exports.KeyEnum||(exports.KeyEnum={}));class NumberFormatRoundingSettings{}exports.NumberFormatRoundingSettings=NumberFormatRoundingSettings;class NumberFormatSettings extends NumberFormatRoundingSettings{constructor(e){super(),null!=e&&(this.roundingMode=e.roundingMode,this.minimumFractionDigits=e.minimumFractionDigits,this.maximumFractionDigits=e.maximumFractionDigits)}}function dynamicSort(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(i,r){let n=i[e],a=r[e];"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof a&&(a=a.toLowerCase());var o=n<a?-1:n>a?1:0;return("string"==typeof n&&""==n||"string"==typeof a&&""==a)&&(o=""==n?1:-1),null!=n&&null!=a||(o=1==t?null==n?1:-1:null==n?-1:1),o*t}}function dynamicSortMultiple(){var e=arguments;return function(t,i){for(var r=0,n=0,a=e.length;0===n&&r<a;)n=dynamicSort(e[r])(t,i),r++;return n}}function internalSortWithoutProperties(e,t){e.sort((e,i)=>{if(t){if("number"==typeof e){const t=e-i;if(t)return t}else{if("string"==typeof e){let t=new Date(e);return isNaN(t.getTime())?e.localeCompare(i):new Date(e).getTime()-new Date(i).getTime()}if("[object Date]"===Object.prototype.toString.call(e))return new Date(e).getTime()-new Date(i).getTime()}return 0}if("number"==typeof i){const t=i-e;if(t)return t}else{if("string"==typeof i){let t=new Date(i);return isNaN(t.getTime())?i.localeCompare(e):new Date(i).getTime()-new Date(e).getTime()}if("[object Date]"===Object.prototype.toString.call(i))return new Date(i).getTime()-new Date(e).getTime()}return 0})}exports.NumberFormatSettings=NumberFormatSettings,function(e){e.Default="decimal",e.Decimal="decimal",e.Currency="currency",e.Percentage="percent",e.Unit="unit"}(NumberStyleEnum||(NumberStyleEnum={})),function(e){e.Always="always",e.Auto="auto",e.Min2="min2"}(GroupingModeEnum=exports.GroupingModeEnum||(exports.GroupingModeEnum={})),function(e){e.Default="halfExpand",e.None="none",e.Ceil="ceil",e.Floor="floor",e.AwayFromZero="expand",e.Expand="expand",e.Trunc="trunc",e.HalfCeil="halfCeil",e.HalfFloor="halfFloor",e.HalfAwayFromZero="halfExpand",e.HalfExpand="halfExpand",e.HalfTrunc="halfTrunc",e.HalfEven="halfEven"}(RoundingModeEnum=exports.RoundingModeEnum||(exports.RoundingModeEnum={})),Date.MIN_VALUE=new Date(-864e13),Date.MAX_VALUE=new Date(864e13),Date.vrFixDateString=function(e){if(null!=e&&"[object Date]"!==Object.prototype.toString.call(e)){let t=e.toString().split(/[^0-9]/).vrToNumberArrayList(),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);e=new Date(i.toString())}return e},Date.vrEquals=function(e,t){return e.getTime()===t.getTime()},Date.vrGetFirstDayOfMonthByDate=function(e){let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),1)},Date.vrGetLastDayOfMonthByDate=function(e){let t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0)},Date.vrGetFirstDayOfWeekByDate=function(e){let t=new Date(e),i=t.getDay(),r=t.getDate()-i+(0==i?-6:1);return new Date(t.setDate(r))},Date.vrDifferenceBetweenDatesInMinutes=function(e,t){e=Date.vrFixDateString(e),t=Date.vrFixDateString(t);let i=(e.getTime()-t.getTime())/1e3;return Math.abs(i/60)},Date.vrIsValidDate=function(e){return null!=e&&e instanceof Date&&!isNaN(e.getTime())&&e.getTime()!=new Date(0,0,0).getTime()},Date.vrGetDaysInMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},Date.vrToWebApiDateTime=function(e){return null!=e&&(e=Date.vrFixDateString(e),Date.vrIsValidDate(e))?{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliSeconds:e.getMilliseconds()}:null},Date.prototype.vrToItalyString=function(e,t=!1){let i={};switch(e){case DateModeEnum.Date:i={year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case DateModeEnum.LongWeekDate:i={weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case DateModeEnum.ShortWeekDate:i={weekday:"short",year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case DateModeEnum.LongDate:i={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1};break;case DateModeEnum.DateTime:i={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1},t&&(i.second="2-digit");break;case DateModeEnum.LongDateTime:i={weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1},t&&(i.second="2-digit");break;case DateModeEnum.Time:i={hour:"2-digit",minute:"2-digit",hour12:!1},t&&(i.second="2-digit")}return this.vrFormatString(i,"it")},Date.prototype.vrFormatString=function(e,t){return new Intl.DateTimeFormat(null==t?navigator.language:t,e).format(this).vrCapitalize()},Date.prototype.vrToLongDateString=function(){return new Intl.DateTimeFormat("it",{weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1}).format(this).vrCapitalize()},Date.vrArePeriodsOverlapped=function(e,t,i,r,n=!1){return n?e.getTime()<=r.getTime()&&t.getTime()>=i.getTime():e.getTime()<r.getTime()&&t.getTime()>i.getTime()},Date.prototype.vrAddYears=function(e){let t=new Date(this.valueOf());return t.setFullYear(t.getFullYear()+e),t},Date.prototype.vrAddMonths=function(e){let t=new Date(this.getFullYear(),1,1),i=Date.vrGetDaysInMonth(t),r=new Date(this.valueOf()),n=r.getMonth()+e;return 1==n&&r.getDate()>i&&r.setDate(i),r.setMonth(n),r},Date.prototype.vrAddDays=function(e){let t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Date.prototype.vrAddHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this},Date.prototype.vrAddMinutes=function(e){return this.setTime(this.getTime()+60*e*1e3),this},Date.prototype.vrAddSeconds=function(e){return this.setTime(this.getTime()+1e3*e),this},Date.prototype.vrIsLessThan=function(e,t=!1,i=!0){return i||(this.setHours(0,0,0,0),e.setHours(0,0,0,0)),t?this.getTime()<=e.getTime():this.getTime()<e.getTime()},Date.prototype.vrIsGreaterThan=function(e,t=!1,i=!0){return i||(this.setHours(0,0,0,0),e.setHours(0,0,0,0)),t?this.getTime()>=e.getTime():this.getTime()>e.getTime()},Date.prototype.vrIsEqualsTo=function(e,t=!0){return t||(this.setHours(0,0,0,0),e.setHours(0,0,0,0)),this.getTime()==e.getTime()},Date.prototype.vrIsBetween=function(e,t){let i=e.getTime(),r=t.getTime(),n=this.getTime();return n>=i&&n<=r},Date.vrDifferenceBetweenDatesInDays=function(e,t){let i=this.vrFixDateString(e),r=this.vrFixDateString(t),n=(i.getTime()-r.getTime())/1e3;return Math.abs(n/60/60/24)},Date.vrConvertDateFromClient=function(e){if(null!=e){return e=Date.vrFixDateString(e),new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()))}return e},Date.vrConvertDateFromServer=function(e){if(null!=e){return e=Date.vrFixDateString(e),new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}return e},Number.prototype.vrToNumberString=function(e){return null==e&&(e=new NumberFormatSettings),e.style=NumberStyleEnum.Default,this.vrFormatNumber(e)},Number.prototype.vrToCurrencyString=function(e){return null==e&&(e=new NumberFormatSettings),e.style=NumberStyleEnum.Currency,null==e.minimumFractionDigits&&(e.minimumFractionDigits=2),null==e.maximumFractionDigits&&(e.maximumFractionDigits=2),this.vrFormatNumber(e)},Number.prototype.vrToPercentageString=function(e){return null==e&&(e=new NumberFormatSettings),e.style=NumberStyleEnum.Percentage,null==e.minimumFractionDigits&&(e.minimumFractionDigits=2),null==e.maximumFractionDigits&&(e.maximumFractionDigits=2),this.vrFormatNumber(e)},Number.prototype.vrFormatNumber=function(e){null==e&&(e=new NumberFormatSettings),null==e.style&&(e.style=NumberStyleEnum.Default),null==e.currency&&(e.currency="EUR"),null==e.useGrouping&&(e.useGrouping=GroupingModeEnum.Auto),null==e.roundingMode&&(e.roundingMode=RoundingModeEnum.HalfAwayFromZero),e.roundingMode==RoundingModeEnum.None&&null==e.maximumFractionDigits&&(e.maximumFractionDigits=8);return new Intl.NumberFormat("it-IT",e).format(Number(this))},Number.prototype.vrRound=function(e){let t=Math.pow(10,e);return Math.round(this*t)/t},String.prototype.vrCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()},String.prototype.vrCamelCase=function(e){null==e&&(e=!1);let t=this.split(" ");for(let e of t)e.vrCapitalize();let i=t.toString().replace(",","");return e&&(i=i[0].toLowerCase()+i.substr(1)),i},String.prototype.vrKebabCase=function(){return 0==this.length?"":this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("-")},String.prototype.vrSnakeCase=function(){return 0==this.length?"":this.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("_")},String.prototype.vrSwapCase=function(){var e=[];for(let t=0;t<this.length;t++)" "!=this&&(this[t]==this[t].toUpperCase()?e.push(this[t].toLowerCase()):e.push(this[t].toUpperCase()));return e.join("")},String.prototype.vrTitleCase=function(){return this.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())},String.prototype.vrTrunc=function(e,t){if(null==t&&(t=!0),this.length<=e)return this.valueOf();var i=this.substr(0,e-1);return(t?i.substr(0,i.lastIndexOf(" ")):i)+"&hellip;"},String.prototype.vrGetNumericPart=function(){let e=0;return this.length>0&&(e=Number(this.match(/[\d\.\-]+/))),e},String.prototype.vrToBoolean=function(){return"true"===this.toLowerCase()},String.prototype.vrIsNotNullOrEmpty=function(){return null!=this&&""!=this},String.prototype.vrIsNullOrEmpty=function(){return null==this||""==this},String.prototype.vrRemoveHtml=function(){return this.replace(/<\/?[^>]+(>|$)/g,"")},Array.prototype.vrFirst=function(){return Array.isArray(this)?this[0]:null},Array.prototype.vrLast=function(){return Array.isArray(this)?this[this.length-1]:null},Array.prototype.vrToNumberArrayList=function(){return Array.isArray(this)?this.map(e=>Number(e)):[]},Array.prototype.vrToStringArrayList=function(){return Array.isArray(this)?this.map(e=>String(e)):[]},Array.prototype.vrToCommaSeparatedList=function(){if(Array.isArray(this)){let e="";for(let t of this)e+=t.toString()+", ";return e.substring(0,e.length-2)}return""},Array.prototype.vrPushRange=function(e){if(Array.isArray(this))for(let t of e)this.push(t)},Array.prototype.vrDelete=function(e){if(Array.isArray(this)){let t=this.indexOf(e);-1!=t&&this.splice(t,1)}},Array.prototype.vrDeleteItem=function(e,t){if(Array.isArray(this)){let i=this.map(e=>e[t]).indexOf(e[t]);-1!=i&&this.splice(i,1)}},Array.prototype.vrDeleteAllBy=function(e){if(Array.isArray(this)){let t=this.filter(e);for(let e of t)null!=e&&this.vrDelete(e)}},Array.prototype.vrSortBy=function(e,t){return Array.isArray(this)&&(null!=e&&e.length>0?(null==t||t||(e=e.map(e=>e.startsWith("-")?e:"-"+e)),this.sort(dynamicSortMultiple.apply(null,e))):internalSortWithoutProperties(this,null==t||t)),this},Array.prototype.vrSortAsc=function(...e){return this.vrSortBy(e,!0)},Array.prototype.vrSortDesc=function(...e){return this.vrSortBy(e,!1)},Array.prototype.vrAny=function(e){return!!Array.isArray(this)&&this.some(e)},Array.prototype.vrMax=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.max(e,i[t]),0)}return Math.max.apply(null,this)}return 0},Array.prototype.vrMin=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.min(e,i[t]),Number.MAX_VALUE)}return Math.min.apply(null,this)}return 0},Array.prototype.vrSum=function(callbackfn){if(Array.isArray(this)){if(null==callbackfn)return this.reduce((e,t)=>e+t,0);{let property=callbackfn.toString().split("=>")[1],sum=0;return this.forEach(k=>sum+=eval(property)),sum}}return 0},Array.prototype.vrAvg=function(e){if(Array.isArray(this)){if(null==e)return this.vrSum()/this.length;return this.vrSum(e)/this.length}return 0},Array.prototype.vrDistinct=function(){return Array.isArray(this)?[...new Set(this)]:[]},Array.prototype.vrDistinctBy=function(e){if(Array.isArray(this)){let t=[],i=new Map,r=e.toString().split(".")[1];for(let e of this){let n;for(let t in e)t==r&&(n=e[t]);i.has(n)||(i.set(n,!0),t.push(e))}return t}return[]},Array.prototype.vrGroupBy=function(e){if(Array.isArray(this)){let t=e.toString().split(".")[1];return e.toString().includes(".")||(t=e.toString().split("[")[1].replace("]","")),this.reduce((function(e,i){const r=i[t];return e[r]=e[r]||[],e[r].push(i),e}),{})}return[]},Array.prototype.vrGroupByProperty=function(e){return Array.isArray(this)?this.reduce((function(t,i){const r=i[e];return t[r]=t[r]||[],t[r].push(i),t}),{}):[]},Array.vrEquals=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){let i=e.length;if(null==e||null==t)return!1;if(i!=t.length)return!1;let r=e.concat().sort(),n=t.concat().sort();for(let e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0}return!1},jQuery.prototype.vrDrag=function(e,t,i){this.mousedown(r=>{let n=r.clientX,a=r.clientY,o=r.clientX-puma(this[0]).offset().left,l=r.clientY-puma(this[0]).offset().top;o<=5&&l<=5||(puma(document).mousemove(i=>{if(i.clientX!=n||i.clientY!=a){let r=this;if(null!=e&&(r=puma(e)),null!=t){let e=new window_1.WindowEvent;if(e.event=i,e.left=i.clientX-o,e.top=i.clientY,t(e),e.isDefaultPrevented())return puma(document).unbind("mouseup"),puma(document).unbind("mousemove"),void i.preventDefault()}r.offset({top:i.clientY,left:i.clientX-o})}}),puma(document).mouseup(e=>{if(puma(document).unbind("mouseup"),puma(document).unbind("mousemove"),null!=i){let t={};t.event=e,t.left=e.clientX-puma(this[0]).width()/2,t.top=e.clientY,i(t)}}))})},jQuery.prototype.vrVisible=function(e){return null!=e&&(e?this.show():this.hide()),this.is(":visible")};var _shadowRoot2=null,_jqueryVariable=jQuery;function puma(e){return null!=shadowRoot()&&0==jqueryVariable()(e).length?jqueryVariable()(shadowRoot()).find(e):jqueryVariable()(e)}jQuery.prototype.vrAppendToPuma=function(e){let t=puma(e);return this.appendTo(t)},jQuery.prototype.vrPrependToPuma=function(e){let t=puma(e);return this.prependTo(t)},jQuery.prototype.vrAppendPuma=function(e){let t=puma(e);return this.append(t)},jQuery.prototype.vrPrependPuma=function(e){let t=puma(e);return this.prepend(t)},jQuery.prototype.vrBeforePuma=function(e){let t=puma(e);return this.before(t)},jQuery.prototype.vrAfterPuma=function(e){let t=puma(e);return this.after(t)},jQuery.prototype.vrInsertBeforePuma=function(e){let t=puma(e);return this.insertBefore(t)},jQuery.prototype.vrInsertAfterPuma=function(e){let t=puma(e);return this.insertAfter(t)},jQuery.prototype.vrHasScrollBar=function(e=!1){return null!=this.get(0)&&(e?this.get(0).scrollWidth>this.get(0).clientWidth:this.get(0).scrollHeight>this.get(0).clientHeight)},exports.puma=puma},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VrControlsEvent=t.AttributeSettings=t.LabelControlsSettings=t.VrControlOptions=t.VrControl=void 0;const r=i(0);t.VrControl=class{constructor(e,t,i){if(this._element=e,this._options=t,this._typeEnum=i,r.puma(e).wrap("<div class='vrControlsContainer'></div>"),r.puma(e).addClass("vr"+i),r.puma(e).addClass("vrControls"),r.puma(this.container()).addClass("vr"+i+"Container"),r.puma(this.container()).attr("id",e.id+"Container"),null!=t.label){null==t.labelSettings&&(t.labelSettings=new n),null==t.labelSettings.mode&&(t.labelSettings.mode=r.LabelModeEnum.Primary),null==t.labelSettings.position&&(t.labelSettings.position=r.PositionEnum.Top);let e=t.labelSettings.position,i=e==r.PositionEnum.Top||e==r.PositionEnum.Left?r.ControlPositionEnum.Before:r.ControlPositionEnum.After,a="",o="";e==r.PositionEnum.Left?(a="margin-right: 5px;",o="top: -1px;"):e==r.PositionEnum.Right?(a="margin-left: 5px;",o="top: -1px;"):this.container().style.cssText+="display: inline-flex; flex-direction: column;",this._labelOutside=r.createLabel({id:t.labelSettings.id,text:t.label,mode:t.labelSettings.mode,align:t.labelSettings.textAlign,width:e==r.PositionEnum.Top||e==r.PositionEnum.Bottom?"100%":t.labelSettings.width,class:t.labelSettings.class,fontSize:t.labelSettings.fontSize,cssContainer:a+o+t.labelSettings.cssContainer,css:t.labelSettings.css,bold:t.labelSettings.bold,tooltip:t.labelSettings.tooltip,colorSettings:t.labelSettings.colorSettings,tabIndex:-1,onClick:t.labelSettings.onClick},this.container(),i)}null!=t.width&&this.width(t.width),null!=t.height&&this.height(t.height),!1===t.visible&&this.hide(),!1===t.enable&&this.disable(),null!=t.id&&this.id(t.id),null!=t.css&&this.css(t.css),null!=t.cssContainer&&this.cssContainer(t.cssContainer),null!=t.class&&this.class(t.class),null!=t.classContainer&&this.classContainer(t.classContainer),null!=t.margin&&("number"==typeof t.margin?this.container().style.cssText+="margin: "+t.margin+"px;":(null!=t.margin.top&&(this.container().style.cssText+="margin-top: "+t.margin.top+"px;"),null!=t.margin.right&&(this.container().style.cssText+="margin-right: "+t.margin.right+"px;"),null!=t.margin.bottom&&(this.container().style.cssText+="margin-bottom: "+t.margin.bottom+"px;"),null!=t.margin.left&&(this.container().style.cssText+="margin-left: "+t.margin.left+"px;"))),null==t.addToControlList&&(t.addToControlList=!0),this._tag=t.tag,null==t.attributes&&(t.attributes=[]),null!=t.uniqueName&&t.attributes.push({name:"uniqueName",value:t.uniqueName});for(let e of t.attributes)this.attribute(e.name,e.value,e.container);null==t.tabIndex&&(t.tabIndex=0),this.attribute("tabindex",t.tabIndex),!1!==t.shadowRoot&&null!=r.shadowRoot()&&r.puma(this.container()).addClass("shadowRoot")}controlType(){return this._typeEnum}id(e){return null!=e&&(this.element().id=e,this.container().id=e+"Container"),this.element().id}tag(e){return null!=e&&(this._tag=e),null===e&&(this._tag=null),this._tag}uniqueName(e){return null!=e&&this.attribute("uniqueName",e),r.puma(this.element()).attr("uniqueName")}attribute(e,t,i=!1){i?r.puma(this.container()).attr(e,t):r.puma(this.element()).attr(e,t)}tooltip(e,t=!1){return null!=e&&(t?r.puma(this.container()).attr("title",e):r.puma(this.element()).attr("title",e)),t?r.puma(this.container()).attr("title"):r.puma(this.element()).attr("title")}element(){return this._element}container(){return r.puma(this.element()).closest(".vrControlsContainer")[0]}label(){return this._labelOutside}options(){return this._options}settingPopup(e,t){null!=t&&(null!=t.width&&(e.style.cssText+="width: "+this.fixWidthHeightValue(t.width)+";"),null!=t.minWidth&&(e.style.cssText+="min-width: "+this.fixWidthHeightValue(t.minWidth)+";"),null!=t.maxWidth&&(e.style.cssText+="max-width: "+this.fixWidthHeightValue(t.maxWidth)+";"),null!=t.height&&(e.style.cssText+="height: "+this.fixWidthHeightValue(t.height)+";"),null!=t.minHeight&&(e.style.cssText+="min-height: "+this.fixWidthHeightValue(t.minHeight)+";"),null!=t.maxHeight&&(e.style.cssText+="max-height: "+this.fixWidthHeightValue(t.maxHeight)+";"),null==t.direction&&(t.direction=r.PopupDirectionEnum.Auto));let i=this.element().getBoundingClientRect().top,n=this.element().getBoundingClientRect().left,a=r.puma(this.element()).outerWidth(),o=r.puma(this.element()).outerHeight(),l=r.puma(e).outerWidth(),s=r.puma(e).outerHeight(),u=0;if(null!=t&&!0===t.right)u=n+a-l;else{u=r.puma(document.body).offset().left+r.puma(document.body).width()<=n+l+a?n+a-l:n}if(null!=t&&t.direction!=r.PopupDirectionEnum.Auto)t.direction==r.PopupDirectionEnum.Up?e.style.cssText+="left: "+u+"px; bottom: "+(window.innerHeight-i)+"px;":t.direction==r.PopupDirectionEnum.Down&&(e.style.cssText+="left: "+u+"px; top: "+(i+o)+"px;");else{let t=r.puma(document.body).offset().top,n=r.puma(document.body).height();e.style.cssText+=t+n<=i+s+o?"left: "+u+"px; bottom: "+(window.innerHeight-i)+"px;":"left: "+u+"px; top: "+(i+o)+"px;"}null!=r.shadowRoot()&&(e.style.cssText+="position: fixed;")}fixWidthHeightValue(e){return"number"==typeof e&&(e+="px"),e}width(e){if(null!=e){let t=this.options(),i=r.puma(this.container()),n=r.puma(this.element()),a=0;if(null!=t.label){let e=i.find(".vrLabel")[0];a=r.puma(e).outerWidth(!0)+5}i.width(e);let o=n.outerWidth()-n.width();if(o===n.outerWidth()&&null==t.label&&(o=0),n.width("Calc(100% - "+o+"px)"),n.hasClass("vrEditor")&&n.width("100%"),null!=t.label){let l=t.labelSettings.position;l==r.PositionEnum.Left||l==r.PositionEnum.Right?(null!=t.labelSettings.width&&(a=t.labelSettings.width),"string"==typeof e?n.width("Calc(100% - "+(o+a)+"px)"):"number"==typeof e&&(n.width(e-o),i.width(e+a))):(n.is("button")||n.is("textarea"))&&n.width("Calc(100% - 0px)")}else(n.is("button")||n.is("textarea"))&&n.width("100%")}return r.puma(this.element()).width()}height(e){return null!=e&&("string"==typeof e?(r.puma(this.container())[0].style.cssText+="height: "+e+";",r.puma(this.element())[0].style.cssText+="height: "+e+";"):(r.puma(this.container()).height(e),r.puma(this.element()).height(e))),r.puma(this.element()).height()}enabled(e){null!=e&&(e?this.enable():this.disable());let t=this.element().getAttribute("disabled");return null==t||""==t}enable(){this.element().removeAttribute("disabled")}disable(){this.element().setAttribute("disabled","disabled")}visible(e){return null!=e&&(e?this.show():this.hide()),r.puma(this.container()).is(":visible")}show(){r.puma(this.container()).show(),r.puma(this.element()).is("button")&&r.puma(this.element()).css({"max-width":"100%"})}hide(){r.puma(this.container()).hide()}focus(){r.puma(this.element()).focus()}blur(){r.puma(this.element()).blur()}cssContainer(e){this.container().style.cssText+=e}css(e){this.element().style.cssText+=e}class(e){return null!=e&&r.puma(this.element()).addClass(e),this.element().className.split(/\s+/)}classContainer(e){return null!=e&&r.puma(this.container()).addClass(e),this.container().className.split(/\s+/)}removeClass(e){r.puma(this.element()).removeClass(e)}};t.VrControlOptions=class{};class n{}t.LabelControlsSettings=n;t.AttributeSettings=class{};t.VrControlsEvent=class{constructor(){this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}isDefaultPrevented(){return this._defaultPrevented}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VrDragSupportTypeEnum=t.UtilityManager=void 0;const r=i(0);t.UtilityManager=class{static createGuid(){const e=[...Array(256).keys()].map(e=>e.toString(16).padStart(2,"0")),t=crypto.getRandomValues(new Uint8Array(16));return t[6]=15&t[6]|64,t[8]=63&t[8]|128,[...t.entries()].map(([t,i])=>[4,6,8,10].includes(t)?"-"+e[i]:e[i]).join("")}static interval(e,t,i,r){let n=window.setInterval(()=>e(),t);null!=i&&window.setTimeout(()=>{window.clearInterval(n),null!=r&&r()},i)}static createIcon(e){return r.puma("<i class='"+e+" vrIcon' aria-hidden='true'></i>")[0]}static duplicate(e){if(null!=e){return JSON.parse(JSON.stringify(e))}}static equals(e,t){return null==e&&null==t||null!=e&&null!=t&&("[object Date]"===Object.prototype.toString.call(e)&&"[object Date]"===Object.prototype.toString.call(t)?Date.vrEquals(e,t):"number"==typeof e&&"number"==typeof t?Number(e)==Number(t):e==t)}static getMonthNumberByName(e){switch(e.toLowerCase()){case"gennaio":return n.January;case"febbraio":return n.February;case"marzo":return n.March;case"aprile":return n.April;case"maggio":return n.May;case"giugno":return n.June;case"luglio":return n.July;case"agosto":return n.August;case"settembre":return n.September;case"ottobre":return n.October;case"novembre":return n.November;case"dicembre":return n.December;default:return-1}}static doAjaxCall(e,t,i){let n=void 0;null!=e.request&&(e.request.authKey=e.authKey,n=JSON.stringify(e.request));let a=null;null!=e.file&&(a=new FormData,a.append("file",e.file));let o=null;return r.jqueryVariable().ajax({async:e.mode==r.WebApiModeEnum.Async,beforeSend:t=>{if(t.setRequestHeader("Accept-Language","it"),t.setRequestHeader("AuthKey",e.authKey),null!=e.headerParameters){let i=Object.getOwnPropertyNames(e.headerParameters);for(let r of i)t.setRequestHeader(r,e.headerParameters[r])}},contentType:null==e.file&&"application/json",data:null!=e.file?a:n,method:"POST",processData:!1,url:e.method,success:i=>{e.mode==r.WebApiModeEnum.Sync&&(o=i),null!=t&&(i.guid=null!=e.request?e.request.guid:null,t(i))},error:e=>{r.notifyError("Errore nella chiamata alla webApi"),null!=i&&i()}}),o}static htmlDecode(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}static textWidth(e){let t=0;if("string"==typeof e){let i=r.span(document.body);i.id="utility_tempSpanTextWidth",i.innerHTML=e.replace(/\s/g,"&nbsp;"),t=i.offsetWidth,r.puma("#utility_tempSpanTextWidth").remove()}else{let i="string"==typeof e?e:r.puma(e).html(),n="<span style='display: inline-block; overflow-y: scroll; white-space: nowrap;'>"+i+"</span>";r.puma(e).html(n),t=r.puma(e).find("span:first").width(),r.puma(e).html(i)}return t}static downloadPdfBytes(e,t="download.pdf"){t.endsWith(".pdf")||(t+=".pdf");let i=this.base64ToArrayBuffer(e),r=new Blob([i],{type:"application/pdf"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t,a.click()}static base64ToArrayBuffer(e){for(var t=window.atob(e.replace(/\s/g,"")),i=t.length,r=new Uint8Array(i),n=0;n<i;n++)r[n]=t.charCodeAt(n);return r.buffer}static openUrl(e,t="download",i=!1){let n=document.createElement("a");n.id="utility_tempOpeningUrl",n.href=e,n.download=t,i&&(n.target="_blank"),n.click(),r.puma("#utility_tempOpeningUrl").remove()}static isValidEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}static addCssStyle(e,t){if(null!=e&&""!=e){let i=null==t?"":" id='"+t+"'";r.puma("<style"+i+">"+e+"</style>").vrAppendToPuma("head")}}static addCssFiles(...e){return new Promise(t=>{if(null!=e&&e.length>0){let i=document.getElementsByTagName("head")[0];for(let t of e){if(0==$("link[rel='stylesheet']").filter((e,i)=>i.href.toLowerCase().startsWith(t.toLowerCase()+"?")).length){let e=document.createElement("link");e.href=t,e.type="text/css",e.rel="stylesheet",i.appendChild(e)}}t()}})}static addJsScript(e,t){if(null!=e&&""!=e){let i=null==t?"":" id='"+t+"'";r.puma("<script"+i+">"+e+"<\/script>").vrAppendToPuma("head")}}static addJsFiles(...e){return new Promise(t=>{null!=e&&e.length>0&&$.when(...e.map(e=>$.getScript(e).promise())).done(()=>{t()})})}static bytesToBase64(e){const t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];let i,r="",n=e.length;for(i=2;i<n;i+=3)r+=t[e[i-2]>>2],r+=t[(3&e[i-2])<<4|e[i-1]>>4],r+=t[(15&e[i-1])<<2|e[i]>>6],r+=t[63&e[i]];return i===n+1&&(r+=t[e[i-2]>>2],r+=t[(3&e[i-2])<<4],r+="=="),i===n&&(r+=t[e[i-2]>>2],r+=t[(3&e[i-2])<<4|e[i-1]>>4],r+=t[(15&e[i-1])<<2],r+="="),r}static base64ToBytes(e){if(e.length%4!=0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(-1!==t&&t<e.length-2)throw new Error("Unable to parse base64 string.");let i,r=e.endsWith("==")?2:e.endsWith("=")?1:0,n=e.length,a=new Uint8Array(n/4*3);for(let t=0,r=0;t<n;t+=4,r+=3)i=this.getBase64Code(e.charCodeAt(t))<<18|this.getBase64Code(e.charCodeAt(t+1))<<12|this.getBase64Code(e.charCodeAt(t+2))<<6|this.getBase64Code(e.charCodeAt(t+3)),a[r]=i>>16,a[r+1]=i>>8&255,a[r+2]=255&i;return a.subarray(0,a.length-r)}static getBase64Code(e){const t=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];if(e>=t.length)throw new Error("Unable to parse base64 string.");const i=t[e];if(255===i)throw new Error("Unable to parse base64 string.");return i}static base64ToFile(e,t,i){return fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],t,i)}))}static base64ToBlob(e,t="",i=512){const r=atob(e),n=[];for(let e=0;e<r.length;e+=i){const t=r.slice(e,e+i),a=new Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);const o=new Uint8Array(a);n.push(o)}return new Blob(n,{type:t})}static enterFullScreen(e,t){try{let i=e,r=window.document;r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||r.msFullscreenElement||(i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():null!=t&&t())}catch(e){null!=t&&t()}}static exitFullScreen(){try{let e=window.document;(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen())}catch(e){}}static drag(e,t){null==t&&(t=new o),null==t.sensibility&&(t.sensibility=50),null==t.typeEnum&&(t.typeEnum=a.Both),r.puma(e).on("mousedown",i=>{let n=i.clientX,o=i.clientY,s=r.puma(i.currentTarget),u=s.offset().left,d=s.offset().top,c=!1,p=!1,h=!1,m=!1,f=!1;r.puma(document).on("mousemove",i=>{let r=i.clientX,g=i.clientY,v=n-r,b=o-g;if(i.clientX!=n||i.clientY!=o){let r=0,n=0;switch(t.typeEnum){case a.Both:r=i.clientX-$(s[0]).width()/2,n=i.clientY;break;case a.Horizontal:r=i.clientX-$(s[0]).width()/2,n=d;break;case a.Vertical:r=u,n=i.clientY}if(s.offset({top:n,left:r}),null!=t.dragging){let i=new l;i.left=s.position().left,i.top=s.position().top,i.element=$(e)[0],t.dragging(i)}}if(Math.abs(v)>Math.abs(b)){if(null==t&&0!=v)return;f=!0,v>t.sensibility?c=!0:v<-t.sensibility&&(p=!0)}else if(Math.abs(v)<Math.abs(b)){if(null==t&&0!=v)return;f=!0,b>t.sensibility?h=!0:b<-t.sensibility&&(m=!0)}}),r.puma(document).mouseup(i=>{if(r.puma(document).unbind("mouseup"),r.puma(document).unbind("mousemove"),c&&null!=t.dragLeft&&t.dragLeft(),p&&null!=t.dragRight&&t.dragRight(),h&&null!=t.dragUp&&t.dragUp(),m&&null!=t.dragDown&&t.dragDown(),f&&null!=t.dragged){let i=new l;i.left=s.position().left,i.top=s.position().top,i.element=$(e)[0],t.dragged(i)}})})}};var n,a;!function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(n||(n={}));class o{constructor(){this.sensibility=50}}class l{}!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Both=2]="Both"}(a=t.VrDragSupportTypeEnum||(t.VrDragSupportTypeEnum={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceManager=void 0;const r=i(0);t.DeviceManager=class{static getScreenResolution(){let e=new n;return e.width=window.screen.width*window.devicePixelRatio,e.height=window.screen.height*window.devicePixelRatio,e}static isSmartphone(){return this.getScreenResolution().width<768}static isTablet(){let e=this.getScreenResolution();return e.width<1200&&e.width>=768}static isDesktop(){return this.getScreenResolution().width>=1200}static isMobile(){return null!=navigator.userAgentData?navigator.userAgentData.mobile:this.isSmartphone()||this.isTablet()}static isIphoneX(){if(this.isIphone()){let e=window.screen.height,t=window.screen.width;if(e>800&&t>370)return!0}return!1}static isIphone(){return navigator.userAgent.match(/iPhone/i)}static browser(){return this.isFirefox()?r.BrowserTypeEnum.Firefox:this.isEdge()?r.BrowserTypeEnum.Edge:this.isInternetExplorer()?r.BrowserTypeEnum.InternetExplorer:this.isOpera()?r.BrowserTypeEnum.Opera:this.isVivaldi()?r.BrowserTypeEnum.Vivaldi:this.isChrome()?r.BrowserTypeEnum.Chrome:this.isSafari()?r.BrowserTypeEnum.Safari:this.isSeamonkey()?r.BrowserTypeEnum.Seamonkey:"Unknown"}static agentHas(e){return navigator.userAgent.toLowerCase().search(e.toLowerCase())>-1}static isInternetExplorer(){return!!document.documentMode||this.agentHas("MSIE")||this.agentHas("Trident")}static isSafari(){return(!!window.ApplePaySetupFeature||!!window.safari)&&this.agentHas("Safari")&&!this.agentHas("Chrome")&&!this.agentHas("CriOS")&&!this.agentHas("Chromium")}static isChrome(){return(this.agentHas("CriOS")||this.agentHas("Chrome")||!!window.chrome)&&!this.agentHas("Chromium")&&!this.agentHas("Edg")}static isFirefox(){return(this.agentHas("Firefox")||this.agentHas("FxiOS")||this.agentHas("Focus"))&&!this.agentHas("Seamonkey")}static isEdge(){return this.agentHas("Edg")}static isOpera(){return this.agentHas("OPR")||this.agentHas("Opera")}static isVivaldi(){return this.agentHas("Vivaldi")}static isSeamonkey(){return this.agentHas("Seamonkey")}};class n{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ControlManager=void 0;const r=i(12);class n{static add(e){!0===e.options().addToControlList&&null!=e.id()&&""!=e.id()&&this._dictionaryControls.set(e.id(),e)}static get(e){return this._dictionaryControls.get(e)}static remove(e){""!=e&&null!=e&&this._dictionaryControls.delete(e)}}t.ControlManager=n,n._dictionaryControls=new r.Dictionary},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActualViewEnum=t.YearPicker=t.MonthPicker=t.DateTimePicker=t.TimePicker=t.DatePicker=t.DatePickerOptions=void 0;const r=i(1),n=i(0),a=i(2);class o extends r.VrControlOptions{}t.DatePickerOptions=o;class l extends r.VrControl{constructor(e,t){if(null==t&&(t=new o),null==t.defaultDay&&(t.defaultDay=n.DefaultDayEnum.First),null==t.mode&&(t.mode=n.DateModeEnum.Date),null==t.todayLabel&&(t.todayLabel=!0),null==t.otherMonthDays&&(t.otherMonthDays=!0),null==t.depth&&(t.depth=n.DateDepthEnum.Day),null==t.nullable&&(t.nullable=!0),null==t.format)switch(t.depth){case n.DateDepthEnum.Day:t.format=n.DateFormatEnum.ShortDate;break;case n.DateDepthEnum.Month:t.format=n.DateFormatEnum.Month;break;case n.DateDepthEnum.Year:t.format=n.DateFormatEnum.Year;break;default:t.format=n.DateFormatEnum.ShortDate}if(null==t.timeInterval&&(t.timeInterval=15),t.mode==n.DateModeEnum.Time){if(null==t.width&&(t.width=92),null==t.min){let e=new Date;e.setHours(6,0),t.min=e}if(null==t.max){let e=new Date;e.setHours(23,15),t.max=e}}else{if(null==t.min){let e=Date.MIN_VALUE;e.setHours(6,0),t.min=e}if(null==t.max){let e=Date.MAX_VALUE;e=e.vrAddDays(-1),e.setHours(23,15),t.max=e}t.mode==n.DateModeEnum.DateTime&&null==t.width&&(t.width=180)}super(e,t,n.ControlTypeEnum.DatePicker),this._currentCursorPosition=0,n.puma(e).attr("type","text"),null!=t.label&&t.labelSettings.position==n.PositionEnum.Top&&(this.element().style.cssText+="padding-left: 0px !important; width: calc(100% - 12px) !important;");let i=null;switch(t.mode){case n.DateModeEnum.Date:i=a.UtilityManager.createIcon(n.IconClassLight.Calendar);break;case n.DateModeEnum.Time:i=a.UtilityManager.createIcon(n.IconClassLight.Clock);break;case n.DateModeEnum.DateTime:{let e=n.puma("<div class='vrDivPickerDateTimeIcon'></div>").vrAppendToPuma(this.container())[0],i=a.UtilityManager.createIcon(n.IconClassLight.Calendar);n.puma(e).vrAppendPuma(i),n.puma(e).click(()=>{this.enabled()&&(this.close(),this.openPopupDatePicker())}),null!=t.label&&t.labelSettings.position==n.PositionEnum.Top&&(e.style.cssText+="bottom: 1px; top: inherit;");let r=n.puma("<div class='vrDivPickerIcon'></div>").vrAppendToPuma(this.container())[0],o=a.UtilityManager.createIcon(n.IconClassLight.Clock);n.puma(r).vrAppendPuma(o),n.puma(r).click(e=>{this.enabled()&&(this.close(),this.openPopupTimePicker())}),null!=t.label&&t.labelSettings.position==n.PositionEnum.Top&&(r.style.cssText+="bottom: 1px; top: inherit;")}}if(null!=i){let e=n.puma("<div class='vrDivPickerIcon'></div>").vrAppendToPuma(this.container())[0];null!=t.label&&t.labelSettings.position==n.PositionEnum.Top&&(e.style.cssText+="bottom: 1px; top: inherit;"),n.puma(e).vrAppendPuma(i),n.puma(e).click(()=>{this.enabled()&&(n.puma(this._popup).is(":visible")?this.close():this.open())})}null!=t.tooltip&&n.puma(this.element()).attr("title",t.tooltip),n.puma(this.element()).keyup(e=>{let i=e.target.value;if(""==i)return this.formatDateInput(i),void e.preventDefault();if(e.key==n.KeyEnum.Enter)this.formatDateInput(e.target.value),null!=t.onEnterKey&&t.onEnterKey();else if(null!=t.onKeyUp){let i=new m;i.sender=this,i.text=e.target.value,i.key=e.key,i.shiftKey=e.shiftKey,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.enterKey=e.key==n.KeyEnum.Enter,i.backSpaceKey=e.key==n.KeyEnum.Backspace,i.tabKey=e.key==n.KeyEnum.Tab,t.onKeyUp(i)}}),n.puma(this.element()).blur(e=>{if(this.formatDateInput(e.target.value),null!=t.onBlur){let e=new p;e.sender=this,t.onBlur(e)}}),n.puma(this.element()).click(e=>this._currentCursorPosition=e.target.selectionStart),n.puma(this.element()).focus(e=>{if(this.element().select(),null!=t.onFocus){let e=new c;e.sender=this,t.onFocus(e)}}),n.puma(e).keydown(e=>{let i=e.target.selectionStart;if(i!=this._currentCursorPosition&&(this._currentCursorPosition=i),e.key==n.KeyEnum.ArrowRight?this._currentCursorPosition=i+1:e.key==n.KeyEnum.ArrowLeft?this._currentCursorPosition=i-1:e.key==n.KeyEnum.ArrowUp?null!=this.value()&&(this._currentCursorPosition>=0&&this._currentCursorPosition<=2?this.value(this.value().vrAddDays(1)):this._currentCursorPosition>=3&&this._currentCursorPosition<=5?this.value(this.value().vrAddMonths(1)):this._currentCursorPosition>=6&&this.value(this.value().vrAddYears(1))):e.key==n.KeyEnum.ArrowDown&&null!=this.value()&&(this._currentCursorPosition>=0&&this._currentCursorPosition<=2?this.value(this.value().vrAddDays(-1)):this._currentCursorPosition>=3&&this._currentCursorPosition<=5?this.value(this.value().vrAddMonths(-1)):this._currentCursorPosition>=6&&this.value(this.value().vrAddYears(-1))),e.key!=n.KeyEnum.ArrowRight&&e.key!=n.KeyEnum.ArrowLeft&&e.key!=n.KeyEnum.ArrowUp&&e.key!=n.KeyEnum.ArrowDown||(this.updateCursorPosition(),e.preventDefault()),null!=t.onKeyDown){let i=new f;i.sender=this,i.key=e.key,i.shiftKey=e.shiftKey,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.enterKey=e.key==n.KeyEnum.Enter,i.backSpaceKey=e.key==n.KeyEnum.Backspace,i.tabKey=e.key==n.KeyEnum.Tab,t.onKeyDown(i)}}),null!=t.value&&this.value(t.value,!1),window.addEventListener("click",e=>{!n.puma(this._popup).is(":visible")||n.puma(this._popup)[0].contains(e.target)||n.puma(this.container())[0].contains(e.target)||this._justOpened||this.close()}),(null!=n.shadowRoot()?n.shadowRoot():document).addEventListener("scroll",e=>{!n.puma(e.target).hasClass("vrDivPickerPopup")&&n.puma(this._popup).is(":visible")&&this.close()},!0)}close(){n.puma(this._popup).remove(),this._popup=null}open(){if(!this.enabled())return;switch(null==this._popup&&(this._popup=n.puma("<div class='vrDivPickerPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=n.shadowRoot()?n.shadowRoot():document.body)[0]),this.getOptions().mode){case n.DateModeEnum.Date:case n.DateModeEnum.DateTime:this.openPopupDatePicker();break;case n.DateModeEnum.Time:this.openPopupTimePicker()}this._justOpened=!0,window.setTimeout(()=>this._justOpened=!1,500)}formatDateInput(e){switch(this.getOptions().mode){case n.DateModeEnum.Date:this.formatInputDatePicker(e);break;case n.DateModeEnum.DateTime:this.formatInputDateTimePicker(e);break;case n.DateModeEnum.Time:this.formatInputTimePicker(e)}}openPopupDatePicker(){let e=this.getOptions();null==this._popup&&(this._popup=n.puma("<div class='vrDivPickerPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=n.shadowRoot()?n.shadowRoot():document.body)[0]),n.puma(this._popup).removeClass("timePickerPopup"),n.puma(this._popup).addClass("datePickerPopup"),n.createCalendar({value:null!=this.value()?new Date(this.value().toString()):void 0,dateSlotWidth:30,depth:e.depth,onAfterChange:t=>{if(this.close(),null!=t.value){let i=null!=this.value()?this.value().getHours():e.mode==n.DateModeEnum.DateTime?(new Date).getHours():0,r=null!=this.value()?this.value().getMinutes():e.mode==n.DateModeEnum.DateTime?(new Date).getMinutes():0,a=new Date(t.value.getFullYear(),t.value.getMonth(),t.value.getDate(),i,r);this.value(a)}}},this._popup),super.settingPopup(this._popup,e.popupSettings)}formatInputDatePicker(e,t=!1){let i=this.getOptions();if(null==e||""==e)return i.nullable?(this._value=null,void this.change()):(a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),void this.value(this.value(),!1));if(this.format()!=n.DateFormatEnum.ShortDate&&null!=this.value()&&(e=this.value().vrToItalyString()),e.includes("/")||e.includes("-")||e.includes(",")||e.includes(".")){let t=[];e.includes("/")?t=e.split("/"):e.includes("-")?t=e.split("-"):e.includes(",")?t=e.split(","):e.includes(".")&&(t=e.split("."));let i=t[0];null==i&&(i=String(-1));let r=t[1];null==r&&(r=String((new Date).getMonth()));let o=t[2];null==o&&(o=String((new Date).getFullYear())),o=String(this.getFinalYear(o));let l=new Date(Number(o),Number(r)-1,Number(i));return null!=l&&Date.vrIsValidDate(l)&&Number(r)>=1&&Number(r)<=12&&l.getMonth()+1==Number(r)?null!=this.value()&&Date.vrEquals(this.value(),l)?this.formatValue():this.value(l):(a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),this.clear()),l}let r=e.toLowerCase().split(" ");if(r.length>1){let e=a.UtilityManager.getMonthNumberByName(r[0]);if(-1!=e&&(2==r[1].length||4==r[1].length)){let t=parseInt(r[1]);2==r[1].length&&(t=this.getFinalYear(r[1]));let i=this.getOptions().defaultDay==n.DefaultDayEnum.First?1:Date.vrGetLastDayOfMonthByDate(new Date((new Date).getFullYear(),e,1)).getDate();return void this.value(new Date(t,e,i))}}let o=e;e=(e=e.replace(/[^\w\s]/gi,"")).replace(/\s/g,"");let l=Number(e),s=0,u=0,d=0,c=null,p=(new Date).getFullYear(),h=(new Date).getMonth();switch(e.toLowerCase()){case"oggi":{let e=new Date;e.setHours(0,0),this.value(e)}return;case"adesso":return void this.value(new Date);case"ieri":return void this.value((new Date).vrAddDays(-1));case"domani":return void this.value((new Date).vrAddDays(1));case"dopodomani":return void this.value((new Date).vrAddDays(2));case"natale":return void this.value(new Date((new Date).getFullYear(),11,25));case"vettore":return void this.value(new Date(2013,0,1));case"pumo":return void this.value(new Date(1993,9,10));case"sanvalentino":return void this.value(new Date(p,1,14));case"fineanno":return void this.value(new Date(p,12,31));case"inizioanno":return void this.value(new Date(p,1,1))}let m=a.UtilityManager.getMonthNumberByName(e.toLowerCase());if(-1!=m)return void this.value(new Date(p,m,this.getOptions().defaultDay==n.DefaultDayEnum.First?1:Date.vrGetLastDayOfMonthByDate(new Date(p,m,1)).getDate()));let f=(new Date).getFullYear().toString(),g=parseInt(f.substr(0,2)+"00");if(1==e.length||2==e.length)if(3==o.length){/^[A-Za-z0-9 ]+$/.test(o)||(s=Number(o[0]),u=Number(o[2])-1,d=p)}else s=Number(e),u=h,d=p;else if(3==e.length)s=Number(e[0]),u=Number(e[1]+e[2])-1,u>11&&(s=Number(e[0]+e[1]),u=Number(e[2])-1),d=p;else if(4==e.length){let t=e[2]+e[3];if(Number(t)<=12&&Number(e[0]+e[1])<=31)s=Number(e[0]+e[1]),u=Number(e[2]+e[3])-1,d=p;else{let i=this.getFinalYear(t);l>=g&&l<=(new Date).getFullYear()?(s=1,u=0,d=i,this.getOptions().defaultDay==n.DefaultDayEnum.Last&&(s=31,u=11)):(s=Number(e[0]),u=Number(e[1])-1,d=i)}}else if(5==e.length){let t=e[3]+e[4],i=this.getFinalYear(t);s=Number(e[0]),u=Number(e[1]+e[2])-1,u>11&&(s=Number(e[0]+e[1]),u=Number(e[2])-1),d=i}else if(6==e.length){let t=e[4]+e[5],i=this.getFinalYear(t);s=Number(e[0]+e[1]),u=Number(e[2]+e[3])-1,u>11&&(s=Number(e[0]),u=Number(e[1])-1,i=Number(e[2]+e[3]+e[4]+e[5])),d=i}else if(7==e.length){let t=Number(e[3]+e[4]+e[5]+e[6]);s=Number(e[0]),u=Number(e[1]+e[2])-1,u>11&&(s=Number(e[0]+e[1]),u=Number(e[2])-1),d=t}else 8==e.length&&(s=Number(e[0]+e[1]),u=Number(e[2]+e[3])-1,d=Number(e[4]+e[5]+e[6]+e[7]));if(c=new Date(d,u,s),t)return c;null!=c&&Date.vrIsValidDate(c)&&Number(u)>=0&&Number(u)<=11&&c.getMonth()==Number(u)?null!=this.value()&&Date.vrEquals(this.value(),c)?this.formatValue():this.value(c):(a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),this.clear())}openPopupTimePicker(){let e=this.value(),t=null!=e?e.getHours():0,i=null!=e?e.getMinutes():0;null==this._popup&&(this._popup=n.puma("<div class='vrDivPickerPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=n.shadowRoot()?n.shadowRoot():document.body)[0]),n.puma(this._popup).removeClass("datePickerPopup"),n.puma(this._popup).addClass("timePickerPopup"),super.settingPopup(this._popup,{right:!0});let r=this.getOptions(),a=new Date(r.min),o=new Date(r.max);a.setFullYear(1900,1,1),o.setFullYear(1900,1,1);let l=Date.vrDifferenceBetweenDatesInMinutes(a,o),s=Math.round(l/r.timeInterval),u=0,d=new Date(r.min);for(let e=0;e<s;e++){let e=d.toTimeString(),a=Number(e.split(":")[0]),o=Number(e.split(":")[1]),l=t==a&&i==o,s=this.createTimeLabel(e,l);d.vrAddMinutes(r.timeInterval),t==a&&i%r.timeInterval!=0&&i>o&&i<o+r.timeInterval&&(l=!0,e=String(t).padStart(2,"0")+":"+String(i).padStart(2,"0"),s=this.createTimeLabel(e,l)),l&&(u=n.puma(s.element()).offset().top-n.puma(this._popup).offset().top-n.puma(this._popup).height()/2)}u<0&&(u=0),this._popup.scrollTo(0,u)}createTimeLabel(e,t=!1){let i=n.createLabel({text:e,width:"Calc(100% - 10px)",onClick:e=>{let t=i.value(),r=t.split(":")[0],n=t.split(":")[1],a=null!=this.value()?this.value().getFullYear():(new Date).getFullYear(),o=null!=this.value()?this.value().getMonth():(new Date).getMonth(),l=null!=this.value()?this.value().getDate():(new Date).getDate();this.close();let s=new Date(a,o,l,Number(r),Number(n));this.value(s)},css:"cursor: pointer;",cssContainer:"padding: 5px; padding-top: 2px; cursor: pointer; border-bottom: solid 1px #DCDCDC;"+(t?"background-color: #51B3E1; color: #FFF;":"")},this._popup);return i}formatInputTimePicker(e,t=!1){let i=this.getOptions();if(null==e||""==e)return i.nullable?(this._value=null,void this.change()):(a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),void this.value(this.value(),!1));e=(e=e.replace(/[^\w\s]/gi,"")).replace(/\s/g,"");let r=Number(e),o=new Date;switch(o.setHours(0,0),e.toLowerCase()){case"adesso":return void this.value(new Date);case"pumo":return void this.value(new Date(1993,9,10,10,10))}if(1!=e.length&&3!=e.length||(e="0"+e),isNaN(r))return a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),void this.clear();let l=o;if(2==e.length)l=l.vrAddHours(r);else if(4==e.length){let t=Number(e[0]+e[1]),i=Number(e[2]+e[3]);l=l.vrAddHours(t).vrAddMinutes(i)}if(t)return l;this.value(l)}formatInputDateTimePicker(e){let t=e.split(" ")[1],i=this.formatInputTimePicker(t,!0),r=e.split(" ")[0],n=this.formatInputDatePicker(r,!0);null!=n&&(n.setHours(i.getHours(),i.getMinutes()),this.value(n))}getFinalYear(e){if(4==e.length)return Number(e);let t=(new Date).getFullYear().toString(),i=Number(t.substr(0,2)+"00"),r=Number(t.substr(0,2)),n=1==e.length?"0"+e:e.substr(0,2),a="";return a=Number(n)<=(new Date).getFullYear()+10-i?r+n:r-1+n,Number(a)}updateCursorPosition(){if(this.element().createTextRange){var e=this.element().createTextRange();e.move("character",this._currentCursorPosition),e.select()}else this.element().selectionStart>=0?(this.element().focus(),this.element().setSelectionRange(this._currentCursorPosition,this._currentCursorPosition)):this.element().focus()}value(e,t=!0){let i=this.getOptions();if(null===e)return i.nullable?(this.clear(),null):(a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),this._value);if(null!=e){if("string"==typeof e&&(e=Date.vrFixDateString(e)),null==e)throw Error("Formato data non valido!");if(i.mode==n.DateModeEnum.Time&&(e.setFullYear((new Date).getFullYear()),e.setMonth((new Date).getMonth())),i.mode!=n.DateModeEnum.Time){if(e.vrIsLessThan(i.min))return n.notify("Data minima consentita: "+i.min.vrToItalyString()),a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),this.clear(),null;if(e.vrIsGreaterThan(i.max))return n.notify("Data massima consentita: "+i.max.vrToItalyString()),a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800),this.clear(),null}if(t){let t=new d;null!=i.onBeforeChange&&(t.sender=this,t.value=e,t.previousValue=this._value,i.onBeforeChange(t)),t.isDefaultPrevented()||(this._value=new Date(e),this.formatValue(),this.change())}else this._value=new Date(e),this.formatValue()}if(null!=this._value&&this._value.setSeconds(0),this.mode()==n.DateModeEnum.Time&&null!=this._value){let e=this._value.getHours(),t=this._value.getMinutes();this._value=new Date(1900,0,1,e,t)}return this._value}formatValue(){let e=this.getOptions(),t=this.element(),i={};switch(e.format){case n.DateFormatEnum.ShortDate:i={year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case n.DateFormatEnum.LongDate:i={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1};break;case n.DateFormatEnum.WeekDay:i={weekday:"long",year:"numeric",month:"2-digit",day:"2-digit",hour12:!1};break;case n.DateFormatEnum.Month:i={year:"numeric",month:"long"};break;case n.DateFormatEnum.Year:i={year:"numeric"}}let r=new Intl.DateTimeFormat("it",i).format(this._value).vrCapitalize();if(e.format==n.DateFormatEnum.WeekRange){let e=Date.vrGetFirstDayOfWeekByDate(this._value),t=e.vrAddDays(5);r=e.vrToItalyString()+" - "+t.vrToItalyString()}else if(e.format==n.DateFormatEnum.FourWeeksRange){let e=Date.vrGetFirstDayOfWeekByDate(this._value),t=e.vrAddDays(26);r=e.vrToItalyString()+" - "+t.vrToItalyString()}switch(e.mode){case n.DateModeEnum.Date:t.value=r;break;case n.DateModeEnum.Time:t.value=this._value.toTimeString();break;case n.DateModeEnum.DateTime:t.value=r+" "+this._value.toTimeString()}}mode(e){let t=this.getOptions();return null!=e&&(t.mode=e),t.mode}min(e){let t=this.getOptions();return null!=e&&(t.min=e),t.min}max(e){let t=this.getOptions();return null!=e&&(t.max=e),t.max}format(e,t=!0){let i=this.getOptions();return null!=e&&(i.format=e,t&&this.value(this.value(),!1)),i.format}clear(e=!1){this._value=null,this.element().value="",e&&this.change()}isEmpty(){return null==this.value()}error(){n.puma(this.element()).addClass("vrDatePickerError")}hideError(){n.puma(this.element()).removeClass("vrDatePickerError")}getOptions(){return this.options()}enable(){super.enable(),n.puma(this.container()).find(".vrDivPickerIcon").removeClass("vrDivPickerIconDisable"),n.puma(this.container()).find(".vrDivPickerDateTimeIcon").removeClass("vrDivPickerIconDisable")}disable(){super.disable(),n.puma(this.container()).find(".vrDivPickerIcon").addClass("vrDivPickerIconDisable"),n.puma(this.container()).find(".vrDivPickerDateTimeIcon").addClass("vrDivPickerIconDisable")}change(){let e=this.getOptions().onAfterChange;if(null!=e){let t=new u;t.sender=this,t.value=this.value(),e(t)}}}t.DatePicker=l;t.TimePicker=class extends l{};t.DateTimePicker=class extends l{};t.MonthPicker=class extends l{};t.YearPicker=class extends l{};class s extends r.VrControlsEvent{}class u extends s{}class d extends s{}!function(e){e[e.Day=0]="Day",e[e.Month=1]="Month",e[e.Year=2]="Year",e[e.Decade=3]="Decade"}(t.ActualViewEnum||(t.ActualViewEnum={}));class c extends s{}class p extends s{}class h extends r.VrControlsEvent{}class m extends h{}class f extends h{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextBoxEvent=t.TextBoxPercentage=t.TextBoxCurrency=t.TextBoxPassword=t.TextBoxNumeric=t.TextBoxMultiline=t.TextBox=t.TextBoxOptions=void 0;const r=i(1),n=i(0),a=i(2),o=i(3);class l extends r.VrControlOptions{}t.TextBoxOptions=l;class s extends r.VrControl{constructor(e,t){if(null==t&&(t=new l),null==t.mode&&(t.mode=n.TextModeEnum.Text),null==t.inputMode&&(t.inputMode=n.TextTransformModeEnum.Default),null==t.rows&&(t.rows=2),null==t.width&&(t.width=200),null==t.bold&&(t.bold=!1),null==t.nullable&&(t.nullable=!0),null==t.growWithContent&&(t.growWithContent=!1),null==t.decimals&&(t.mode==n.TextModeEnum.Numeric?t.decimals=0:t.mode!=n.TextModeEnum.Currency&&t.mode!=n.TextModeEnum.Percentage||(t.decimals=2)),null==t.align&&(t.mode==n.TextModeEnum.Numeric||t.mode==n.TextModeEnum.Percentage||t.mode==n.TextModeEnum.Currency?t.align=n.TextAlignEnum.Right:t.align=n.TextAlignEnum.Left),null==t.validation&&(t.validation=new n.TextBoxValidationSettings),null==t.validation.error&&(t.validation.error=n.TextBoxValidationErrorEnum.Flashing),null==t.validation.minValue&&(t.validation.minValue=Number.MIN_SAFE_INTEGER),null==t.validation.maxValue&&(t.validation.maxValue=Number.MAX_SAFE_INTEGER),null==t.validation.minLength&&(t.validation.minLength=new n.TextBoxLengthSettings),"number"==typeof t.validation.minLength){let e=t.validation.minLength;t.validation.minLength=new n.TextBoxLengthSettings,t.validation.minLength.value=e}if(null==t.validation.minLength.substituteChar&&(t.validation.minLength.substituteChar="X"),null==t.validation.maxLength&&(t.validation.maxLength=new n.TextBoxLengthSettings),"number"==typeof t.validation.maxLength){let e=t.validation.maxLength;t.validation.maxLength=new n.TextBoxLengthSettings,t.validation.maxLength.value=e}if(null!=t.validation.regex){if("string"==typeof t.validation.regex){let e=t.validation.regex;t.validation.regex=new n.TextBoxRegexSettings,t.validation.regex.value=e}null==t.validation.regex.checkOnKeyUp&&null==t.validation.regex.checkOnValue&&null==t.validation.regex.checkOnKeyDown&&null==t.validation.regex.checkOnBlur&&(t.validation.regex.checkOnKeyDown=!0),null==t.validation.regex.value&&(!0===t.validation.regex.onlyNumbers?t.validation.regex.value="^\\d*$":!0===t.validation.regex.onlyCharacters?t.validation.regex.value="^[a-zA-Z]+$":!0===t.validation.regex.onlyUpperCase?t.validation.regex.value="^[A-Z]+$":!0===t.validation.regex.onlyLowerCase&&(t.validation.regex.value="^[a-z]+$"))}switch(t.mode){case n.TextModeEnum.Text:n.puma(e).attr("type","text");break;case n.TextModeEnum.Link:n.puma(e).attr("type","url");break;case n.TextModeEnum.Phone:n.puma(e).attr("type","tel");break;case n.TextModeEnum.Search:n.puma(e).attr("type","search");break;case n.TextModeEnum.Mail:n.puma(e).attr("type","email");break;case n.TextModeEnum.Password:n.puma(e).attr("type","password");break;case n.TextModeEnum.PasswordViewable:n.puma(e).attr("type","text");break;case n.TextModeEnum.Numeric:case n.TextModeEnum.Percentage:case n.TextModeEnum.Currency:n.puma(e).attr("type","number");break;case n.TextModeEnum.MultiLine:{let i=document.createElement("textarea");i.id=e.id,n.puma(i).addClass("vrTextArea"),n.puma(i).attr("autocomplete","off"),null==t.height&&n.puma(i).height(38+20*(t.rows-1)),i.style.cssText+="-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;",i.style.cssText+="border-radius: 4px; border-color: #d9d9d9; font-size: 16px; color: #000; padding: 5px; padding-left: 10px; padding-right: 10px; resize: none;",n.puma(e).vrAfterPuma(i),n.puma(e).hide(),e=i}}o.DeviceManager.isMobile()||t.mode==n.TextModeEnum.Password||n.puma(e).attr("type","text"),n.puma(e).attr("autocomplete","off"),e.style.cssText+="padding-left: 10px; padding-right: 10px;",super(e,t,n.ControlTypeEnum.TextBox),this._numberValue=null,t.mode==n.TextModeEnum.PasswordViewable&&(this.viewPassword(!1),this._passwordViewableIcon=n.icon(n.IconClassLight.EyeSlash,this.container(),{css:"position: absolute; right: 5px; bottom: 7px; font-size: 14px; opacity: 0.8; cursor: pointer;"}),n.puma(this._passwordViewableIcon).on("click",e=>{this.viewPassword(this.viewPassword())})),null!=t.height&&t.mode==n.TextModeEnum.MultiLine&&n.puma(this.element()).height(Number(t.height)-12),this._originalHeight=n.puma(this.element()).outerHeight(),this._originalMarginBottom=n.puma(this.container()).css("margin-bottom").getNumericPart(),null!=t.value&&this.value(t.value,!1),null!=t.placeholder&&this.placeholder(t.placeholder),null!=t.validation.minLength&&n.puma(this.element()).attr("minlength",t.validation.minLength.value),null!=t.validation.maxLength&&n.puma(this.element()).attr("maxlength",t.validation.maxLength.value),null!=t.tooltip&&n.puma(this.element()).attr("title",t.tooltip),!0===t.readOnly&&n.puma(this.element()).attr("readonly","readonly"),!0!==t.readOnly&&!1!==t.enable||n.puma(this.element()).attr("tabIndex","-1"),!0===t.bold&&(this.element().style.cssText+="font-weight: 500;"),n.puma(this.element()).css("text-align",t.align),n.puma(this.element()).css("text-transform",t.inputMode),null!=t.icon?(n.puma(this.element()).vrBeforePuma("<i class='"+t.icon+"' style='position: absolute; margin-left: 6px; color: #A9A9A9;'></i>"),this.element().style.cssText+="text-indent: 15px;"):null!=t.imageUrl&&(this.element().style.cssText+="background-image: url("+t.imageUrl+"); background-position: 4px 5px; background-repeat: no-repeat; text-indent: 13px;"),t.mode==n.TextModeEnum.MultiLine||null==t.label||t.labelSettings.position!=n.PositionEnum.Top||null!=t.icon&&null!=t.imageUrl||(this.element().style.cssText+="padding-left: 0px !important; width: calc(100% - 12px) !important;"),n.puma(this.element()).keyup(e=>{if(this._keyDownCanceled)return void e.preventDefault();let i=n.puma(e.currentTarget).val();if(this.autoSize(),e.key!=n.KeyEnum.Tab){let e=null!=t.validation.regex&&t.validation.regex.checkOnKeyUp;this.validate(i,!1,e)}if(null!=t.onKeyUp){let r=new f;r.sender=this,r.value=this.isNumericTextBox()?this._numberValue:i,r.key=e.key,r.shiftKey=e.shiftKey,r.altKey=e.altKey,r.ctrlKey=e.ctrlKey,r.enterKey=e.key==n.KeyEnum.Enter,r.backSpaceKey=e.key==n.KeyEnum.Backspace,r.tabKey=e.key==n.KeyEnum.Tab;let a=[",",".","-","+"];r.validForNumeric=!isNaN(Number(e.key))||a.includes(e.key),t.onKeyUp(r),r.isDefaultPrevented()&&e.preventDefault()}}),n.puma(this.element()).keydown(e=>{if(n.puma(this.element()).removeClass("errorInput"),this._keyDownCanceled=!1,this._hideErrorMode==n.ErrorHideModeEnum.OnAction&&this.hideError(),e.key!=n.KeyEnum.Backspace&&e.key!=n.KeyEnum.ArrowRight&&e.key!=n.KeyEnum.ArrowLeft&&e.key!=n.KeyEnum.ArrowUp&&e.key!=n.KeyEnum.ArrowDown&&e.key!=n.KeyEnum.Tab){if(this.isNumericTextBox()&&isNaN(Number(e.key))&&"-"!=e.key&&"."!=e.key&&","!=e.key&&!e.ctrlKey)return a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800,()=>n.puma(this.element()).removeClass("errorInput")),void e.preventDefault();if(null!=t.validation.regex&&null!=t.validation.regex.value&&""!=t.validation.regex.value&&t.validation.regex.checkOnKeyDown){if(!new RegExp(t.validation.regex.value,t.validation.regex.flags).test(e.key))return a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800,()=>n.puma(this.element()).removeClass("errorInput")),void e.preventDefault()}}if(null!=t.onEnterKey&&e.key==n.KeyEnum.Enter){let e=new v;e.sender=this,e.value=this.value(),t.onEnterKey(e)}if(null!=t.onKeyDown){let i=new g;i.sender=this,i.key=e.key,i.shiftKey=e.shiftKey,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.enterKey=e.key==n.KeyEnum.Enter,i.backSpaceKey=e.key==n.KeyEnum.Backspace,i.tabKey=e.key==n.KeyEnum.Tab;let r=n.puma(e.currentTarget).val();i.value=this.isNumericTextBox()?this._numberValue:r;let a=[",",".","-","+"];i.validForNumeric=!isNaN(Number(e.key))||a.includes(e.key),t.onKeyDown(i),i.isDefaultPrevented()&&(this._keyDownCanceled=!0,e.preventDefault())}}),n.puma(this.element()).focusin(e=>{if(n.puma(this.element()).removeClass("errorInput"),this._hideErrorMode==n.ErrorHideModeEnum.OnFocus&&this.hideError(),this.isNumericTextBox()){let e="";null!=this._numberValue&&(e=this.formatValue(String(this._numberValue))),this.element().value=e,n.puma(this.element()).select()}if(null!=t.onFocus){let e=new c;e.sender=this,t.onFocus(e)}}),n.puma(this.element()).blur(e=>{let t=this.getOptions();if(this.isNumericTextBox())this.value(this._numberValue);else{let e=null!=t.validation.regex&&t.validation.regex.checkOnBlur,i=this.validate(void 0,!0,e);this.element().value=i}if(null!=t.onBlur){let i=new p;i.sender=this,i.target=e.target,i.value=this.value(),t.onBlur(i)}}),n.puma(this.element()).on("paste",e=>{let i=e.originalEvent.clipboardData.getData("text");if(null!=t.onPaste){let e=new h;e.sender=this,e.pastedValue=i,e.value=this.value()+i,t.onPaste(e)}})}value(e,t=!0){let i=this.options();if(this._oldValue=this.isNumericTextBox()?this._numberValue:this.element().value,null===e){if(i.nullable)return this._numberValue=null,this.element().value="",null;this.isNumericTextBox()&&(e=0)}if(null!=e){let r=null!=i.validation.regex&&i.validation.regex.checkOnValue,n=this.validate(String(e),!0,r);this.element().value=n,this.autoSize(),t&&this.change()}return this.isNumericTextBox()?this._numberValue:this.element().value}validate(e,t=!0,i=!1){let r=this.getOptions();n.puma(this.element()).removeClass("errorInput"),null==e&&(e=String(this.value()));let o=e,l=!1,s=0;if(this.isNumericTextBox())if(""==e)this._numberValue=null;else{let i=e.startsWith("-");s=e.replace(",",".").vrGetNumericPart(),t&&s<r.validation.minValue&&(s=r.validation.minValue,l=!0),s>r.validation.maxValue&&(s=r.validation.maxValue,l=!0),isNaN(Number(s))&&(i?s=null:(s=0,l=!0)),this._numberValue=s}if(null!=r.zeros&&(o=String(o).padStart(r.zeros,"0")),null!=r.validation.minLength){let e=r.validation.minLength;t&&o.length<e.value&&(o=o.padEnd(e.value,e.substituteChar),l=!0)}if(null!=r.validation.maxLength){let e=r.validation.maxLength;o.length>e.value&&(o=o.substring(0,e.value),l=!0)}if(i&&null!=r.validation.regex.value&&""!=r.validation.regex.value&&""!=e&&null!=e){new RegExp(r.validation.regex.value,r.validation.regex.flags).test(e)||(o="",l=!0)}if(this.isNumericTextBox()&&(o=t?this.formatValue(String(s)):String(s)),l)switch(r.validation.error){case n.TextBoxValidationErrorEnum.None:break;case n.TextBoxValidationErrorEnum.Flashing:a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800,()=>n.puma(this.element()).removeClass("errorInput"));break;case n.TextBoxValidationErrorEnum.Stable:n.puma(this.element()).addClass("errorInput")}return o}placeholder(e){return null!=e&&(this.element().placeholder=e),this.element().placeholder}type(e){let t=this.getOptions();t.mode=e,null==t.decimals&&(t.mode==n.TextModeEnum.Numeric?t.decimals=0:t.mode!=n.TextModeEnum.Currency&&t.mode!=n.TextModeEnum.Percentage||(t.decimals=2)),null==t.align&&(t.mode==n.TextModeEnum.Numeric||t.mode==n.TextModeEnum.Percentage||t.mode==n.TextModeEnum.Currency?t.align=n.TextAlignEnum.Right:t.align=n.TextAlignEnum.Left)}getOptions(){return this.options()}clear(e=!1){this.getOptions().nullable&&this.isNumericTextBox()?this.value(null,!1):(this._numberValue=null,this.element().value=""),e&&this.change()}isEmpty(){return this.isNumericTextBox()?null==this._numberValue:""===this.element().value}autoSize(){let e=this.getOptions();if(!0===e.growWithContent&&e.mode==n.TextModeEnum.MultiLine){let t=this.element().clientHeight;null==e.labelSettings||e.labelSettings.position!=n.PositionEnum.Top&&e.labelSettings.position!=n.PositionEnum.Bottom||(t+=n.puma(this.container()).find(".vrLabelContainer").height()),this.element().style.height="1px",this.container().style.height=t+"px",25+this.element().scrollHeight>this._originalHeight?this.element().style.height=25+this.element().scrollHeight+"px":this.element().style.height=this._originalHeight+"px",this.container().style.height="auto"}}isNumericTextBox(){let e=this.options().mode;return e==n.TextModeEnum.Numeric||e==n.TextModeEnum.Percentage||e==n.TextModeEnum.Currency}viewPassword(e){return null!=e&&(n.puma(this._passwordViewableIcon).removeClass(n.IconClassLight.EyeSlash),n.puma(this._passwordViewableIcon).removeClass(n.IconClassLight.Eye),e?(n.puma(this.element()).removeClass("noViewablePassword"),n.puma(this._passwordViewableIcon).addClass(n.IconClassLight.Eye)):(n.puma(this.element()).addClass("noViewablePassword"),n.puma(this._passwordViewableIcon).addClass(n.IconClassLight.EyeSlash))),this.element().classList.contains("noViewablePassword")}caretPosition(){return this.element().selectionStart}insertTextAtCursor(e){this.appendText(e,this.caretPosition())}insertTextAtPosition(e,t){this.appendText(e,t)}appendText(e,t){let i=this.element();null==t&&(t=i.value.length),this.value(i.value.substring(0,t)+e+i.value.substring(i.selectionEnd,i.value.length)),i.selectionStart=this.caretPosition()+e.length,i.selectionEnd=this.caretPosition()+e.length,this.focus()}error(e,t,i,r){let a=this.options();null==t&&(t=n.ErrorModeEnum.Tooltip),null==i&&(i=n.ErrorPositionEnum.Right),null==r&&(r=n.ErrorHideModeEnum.OnAction),null==e&&(e=""),n.puma(this.element()).addClass("vrTextBoxError"),this._hideErrorMode=r;let o=n.puma(this.container()).find(".vrTextBoxErrorIcon")[0];if(null==o&&(o=n.puma("<i class='"+n.IconClassLight.TriangleExclamation+" vrTextBoxErrorIcon'></i>").vrInsertAfterPuma(this.element())[0]),n.puma(o).show(),t==n.ErrorModeEnum.Tooltip){let t=n.puma("<span class='vrTextBoxErrorTooltip vrErrorTooltip'>"+e+"</span>").vrAppendToPuma(o);i==n.ErrorPositionEnum.Right?n.puma(t).addClass("vrTextBoxErrorTooltipRight"):i==n.ErrorPositionEnum.Bottom&&(n.puma(t).addClass("vrTextBoxErrorTooltipBottom"),n.puma(o).hover(()=>n.puma(t)[0].style.cssText+="left: -"+(n.puma(t).outerWidth()/2-7)+"px;"))}else if(t==n.ErrorModeEnum.Overlay){let t=n.puma(this.container()).find(".vrTextBoxErrorOverlay")[0];if(null==t&&(t=n.puma("<span class='vrTextBoxErrorOverlay'>"+e+"</span>").vrInsertAfterPuma(this.element())[0]),n.puma(t).show(),i==n.ErrorPositionEnum.Right)n.puma(t).addClass("vrTextBoxErrorOverlayRight");else if(i==n.ErrorPositionEnum.Bottom){let e=null==a.label||a.labelSettings.position!=n.PositionEnum.Left&&a.labelSettings.position!=n.PositionEnum.Right?0:n.puma(this.label()).width();n.puma(t).addClass("vrTextBoxErrorOverlayBottom"),n.puma(t)[0].style.cssText+="left: Calc(50% - "+(n.puma(t).width()/2-e/2)+"px);"}n.puma(t).html(e)}else if(t==n.ErrorModeEnum.Solid){let t=n.puma(this.container()).find(".vrTextBoxErrorSolid")[0];null==t&&(t=n.puma("<span class='vrTextBoxErrorSolid'>"+e+"</span>").vrInsertAfterPuma(this.element())[0]),n.puma(t).show(),i=n.ErrorPositionEnum.Bottom,n.puma(t).addClass("vrTextBoxErrorSolidBottom"),n.puma(t).html(e);let r=null==a.label||a.labelSettings.position!=n.PositionEnum.Left&&a.labelSettings.position!=n.PositionEnum.Right?0:n.puma(this.label()).width();n.puma(t)[0].style.cssText+="left: Calc(50% - "+(n.puma(t).width()/2-r/2)+"px);",n.puma(this.container())[0].style.cssText+="margin-bottom: "+(n.puma(t).height()+20)+"px;"}}hideError(){n.puma(this.element()).hasClass("vrTextBoxError")&&(n.puma(this.element()).removeClass("vrTextBoxError"),n.puma(this.container()).find(".vrTextBoxErrorIcon").hide(),n.puma(this.container()).find(".vrTextBoxErrorTooltip").hide(),n.puma(this.container()).find(".vrTextBoxErrorOverlay").hide(),n.puma(this.container()).find(".vrTextBoxErrorSolid").hide(),n.puma(this.container()).css({"margin-bottom":this._originalMarginBottom+"px"}))}hasError(){return n.puma(this.element()).hasClass("vrTextBoxError")}formatValue(e){let t=this.getOptions(),i=t.decimals,r=new n.NumberFormatSettings(t.roundingSettings);switch(r.minimumFractionDigits=i,r.maximumFractionDigits=i,null!=t.roundingSettings&&(null!=t.roundingSettings.minimumFractionDigits&&(r.minimumFractionDigits=t.roundingSettings.minimumFractionDigits),null!=t.roundingSettings.maximumFractionDigits&&(r.maximumFractionDigits=t.roundingSettings.maximumFractionDigits),t.roundingSettings.roundingMode==n.RoundingModeEnum.None&&null==t.roundingSettings.maximumFractionDigits&&(r.maximumFractionDigits=8)),t.mode){case n.TextModeEnum.Numeric:e=Number(e).toFixed(i);break;case n.TextModeEnum.Currency:e=Number(e).vrToCurrencyString(r);break;case n.TextModeEnum.Percentage:e=(Number(e)/100).vrToPercentageString(r)}return e}change(){let e=this.options().onChanged;if(null!=e){let t=new d;t.sender=this,t.value=this.value(),t.oldValue=this._oldValue,e(t)}}}t.TextBox=s;t.TextBoxMultiline=class extends s{};t.TextBoxNumeric=class extends s{};t.TextBoxPassword=class extends s{};t.TextBoxCurrency=class extends s{};t.TextBoxPercentage=class extends s{};class u extends r.VrControlsEvent{}t.TextBoxEvent=u;class d extends u{}class c extends u{}class p extends u{}class h extends u{}class m extends u{}class f extends m{}class g extends m{}class v extends u{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDown=t.ComboBox=t.ComboBoxOptions=void 0;const r=i(1),n=i(0),a=i(2),o=i(8);class l extends r.VrControlOptions{}t.ComboBoxOptions=l;class s extends r.VrControl{constructor(e,t){switch(null==t&&(t=new l),null==t.mode&&(t.mode=n.ComboBoxTypeEnum.Combo),null==t.treeMode&&(t.treeMode=n.ComboBoxTreeModeEnum.AllExpanded),null==t.freeText&&(t.freeText=!1),null==t.checkboxes&&(t.checkboxes=!1),null==t.filter&&(t.filter=!1),null==t.clearButton&&(t.clearButton=!1),null==t.addButton&&(t.addButton=!1),null==t.textAlign&&(t.textAlign=n.TextAlignEnum.Left),null==t.textEllipsis&&(t.textEllipsis=!1),null==t.checkAll&&(t.checkAll=!1),null==t.showCheckAll&&1==t.checkboxes&&(t.showCheckAll=!0),null!=t.showCheckAll&&"boolean"!=typeof t.showCheckAll&&null==t.showCheckAll.triggerChange&&(t.showCheckAll.triggerChange=!0),null==t.popupSettings?t.popupSettings={maxHeight:200,maxWidth:500}:null==t.popupSettings.maxHeight&&null==t.popupSettings.height?t.popupSettings.maxHeight=200:null==t.popupSettings.maxWidth&&null==t.popupSettings.width&&(t.popupSettings.maxWidth=500),t.mode==n.ComboBoxTypeEnum.DropDown&&(t.checkboxes=!1,t.freeText=!1,t.placeholder=void 0),(null!=t.webService||t.freeText)&&(t.mode=n.ComboBoxTypeEnum.Combo,t.checkboxes=!1,t.filter=!1,null!=t.webService&&(t.items=void 0,null==t.webService.searchAfterCharsNumber&&(t.webService.searchAfterCharsNumber=3))),t.mode!=n.ComboBoxTypeEnum.Combo||t.checkboxes||(t.filter=!1),!0===t.checkboxes&&(t.mode=n.ComboBoxTypeEnum.Combo,t.nullable=!1),null==t.onlyIcon&&(t.onlyIcon=!1),null==t.width&&(t.width=t.onlyIcon?40:200),super(e,t,n.ControlTypeEnum.ComboBox),n.puma(e).attr("type","text"),n.puma(e).attr("autocomplete","off"),this._isDivElement=n.puma(this.element()).is("div"),this._checkedValues=[],this._openPopupAfterFocus=!0,this.items(null!=t.items?t.items:[],!1),t.mode){case n.ComboBoxTypeEnum.Combo:n.puma(this.element()).addClass("vrComboBox");break;case n.ComboBoxTypeEnum.DropDown:n.puma(this.element()).addClass("vrComboBoxDropDown")}if(t.mode==n.ComboBoxTypeEnum.Combo&&(this._isDivElement?n.puma(this.element()).addClass("vrComboBoxCheckbox"):(n.puma(this.element()).addClass("vrComboBox"),null!=t.placeholder&&(this.element().placeholder=t.placeholder))),t.mode==n.ComboBoxTypeEnum.DropDown||t.checkboxes){if(!this._isDivElement)throw Error("L'element html deve essere un div")}else if(this._isDivElement)throw Error("L'element html deve essere un input");null!=t.tooltip&&n.puma(this.element()).attr("title",t.tooltip);let i=a.UtilityManager.createIcon(n.IconClassLight.CaretDown),r="vrDivPickerIconComboBox";this._isDivElement&&(r="vrDivPickerIconComboBoxDropDown"),this._divPickerIcon=n.puma("<div class='"+r+"'></div>").vrAppendToPuma(this.container())[0],n.puma(this._divPickerIcon).vrAppendPuma(i),n.puma(this._divPickerIcon).click(()=>{n.puma(".comboBox_divPopup").is(":visible")?this.close():(this.open(),this.focus())}),n.puma(this._divPickerIcon).on("mouseenter",e=>n.puma(this.element()).addClass("hoverClass")),n.puma(this._divPickerIcon).on("mouseleave",e=>n.puma(this.element()).removeClass("hoverClass")),null!=t.label&&t.labelSettings.position==n.PositionEnum.Top&&(this._divPickerIcon.style.cssText+="bottom: 1px; top: inherit;");let s=a.UtilityManager.createIcon(n.IconClassRegular.Xmark),h=n.puma("<div class='vrDivComboBoxClearIcon' style='display: none;'></div>").vrAppendToPuma(this.container())[0];switch(!1!==t.addButton&&(h.style.cssText+="right: 57px;"),n.puma(h).vrAppendPuma(s),n.puma(h).click(e=>{this.enabled()&&this.clear(!0)}),!1!==t.addButton&&(!0===t.addButton&&(t.addButton=new o.ButtonOptions),null==t.addButton.icon&&(t.addButton.icon=n.IconClassLight.Plus),t.addButton.cssContainer=t.addButton.cssContainer+"; position: absolute; right: 0px; bottom: 0px;",t.addButton.css=t.addButton.css+"; border-top-left-radius: 0px; border-bottom-left-radius: 0px; height: 26px;",null==t.addButton.enable&&(t.addButton.enable=t.enable),this._btnCombo=n.createButton(t.addButton,this.container()),!1!==t.addButton.visible&&this._divPickerIcon.classList.add("vrComboDivPickerWithButton")),null!=t.value&&this.value(t.value,!1),t.textAlign){case n.TextAlignEnum.Left:this.element().style.cssText+="text-align: left;";break;case n.TextAlignEnum.Center:this.element().style.cssText+="text-align: center;";break;case n.TextAlignEnum.Right:this.element().style.cssText+="text-align: right;"}let m=null;if(null!=t.icon){let e="";if(null==this.options().label)e="margin-left: 6px; margin-top: -1px;";else{let i=n.puma(this.container()).find(".vrLabel").width();null!=t.labelSettings&&null!=t.labelSettings.width&&(i=t.labelSettings.width),e=this.options().labelSettings.position==n.PositionEnum.Left||this.options().labelSettings.position==n.PositionEnum.Right?"margin-left: "+(i+10)+"px; margin-top: -1px;":"left: 6px; bottom: 6px;"}m=n.puma("<i class='"+t.icon+"' style='cursor: pointer; font-size: 14px; position: absolute;"+e+"'></i>"),n.puma(this.element()).vrBeforePuma(m),this.element().style.cssText+="text-indent: 18px;",null!=t.tooltip&&n.puma(m).attr("title",t.tooltip),n.puma(m).click(()=>{n.puma(".comboBox_divPopup").is(":visible")?this.close():(this.open(),this.focus())}),n.puma(m).on("mouseenter",e=>n.puma(this.element()).addClass("hoverClass")),n.puma(m).on("mouseleave",e=>n.puma(this.element()).removeClass("hoverClass"))}else null!=t.imageUrl&&(this.element().style.cssText+="background-image: url("+t.imageUrl+"); background-position: 4px 5px; background-repeat: no-repeat; text-indent: 13px;");if(t.onlyIcon&&null!=t.icon&&(this._allCheckedOnlyIcon=n.icon(n.IconClassSolid.Check,m,{css:"display: none; position: absolute; z-index: 2; font-size: 9px; top: -5px; right: -7px;"})),t.checkAll&&this.checkAll(!1),t.mode==n.ComboBoxTypeEnum.Combo){n.puma(this.element()).keydown(e=>{if(this.open(),null!=t.onKeyDown){let i=new u;if(i.sender=this,i.event=e,t.onKeyDown(i),i.isDefaultPrevented())return}if(null!=t.onEnterKey&&e.key==n.KeyEnum.Enter){let e=new p;if(e.sender=this,e.value=this.value(),t.onEnterKey(e),e.isDefaultPrevented())return}e.key!=n.KeyEnum.Tab&&this.limitInputByDataSource(this.element(),e);let i=this.element().value,r=this.element().selectionStart,a=this.element().selectionEnd;null!=a&&null!=r&&a-r==i.length&&e.key==n.KeyEnum.Backspace?(this.value(null),this.change()):e.key==n.KeyEnum.Backspace&&0==i.length&&this.change()});let e=0;n.puma(this.element()).keyup(i=>{if(this.open(),i.key!=n.KeyEnum.ArrowRight&&i.key!=n.KeyEnum.ArrowLeft&&i.key!=n.KeyEnum.Control&&!i.ctrlKey||"v"==i.key&&i.ctrlKey){if(null!=t.onKeyUp){let e=new d;if(e.sender=this,e.event=i,t.onKeyUp(e),e.isDefaultPrevented())return}if(i.key==n.KeyEnum.ArrowDown&&!t.checkboxes){let e=null;return e=null==this.value()?n.puma(this._popup).find("li:visible").first():n.puma(this._dictionaryValueLi.get(this.value())).next(),e.focus(),void i.preventDefault()}if(i.key==n.KeyEnum.ArrowUp&&!t.checkboxes){let e=null;return e=null==this.value()?n.puma(this._popup).find("li:visible").first():n.puma(this._dictionaryValueLi.get(this.value())).prev(),e.focus(),void i.preventDefault()}i.key!=n.KeyEnum.Enter&&i.key!=n.KeyEnum.Tab&&i.key!=n.KeyEnum.Shift&&(this._value=null,i.key!=n.KeyEnum.Tab&&this.limitInputByDataSource(this.element(),i),clearTimeout(e),e=window.setTimeout(()=>{let e=this.element().value;if(null==t.webService){let t=this.filter(e,this.element());"v"==i.key&&i.ctrlKey&&1==t.length&&(this.value(t[0].value),this.close())}else{if(""==e)return this._items=[],void n.puma(this._popup).find("ul").remove();{if(e.length<t.webService.searchAfterCharsNumber)return;let i=this.element().selectionStart,r=this.element().selectionEnd;0==i&&r==this.element().value.length||this.doAjaxCall(e)}}},300))}else i.preventDefault()}),n.puma(this.element()).on("paste",i=>{this.open();let r=i.originalEvent.clipboardData.getData("text");e=window.setTimeout(()=>{if(null!=t.onPaste){let e=new c;if(e.sender=this,e.pastedValue=r,e.value=this.value()+r,e.event=i,t.onPaste(e),e.isDefaultPrevented())return void i.preventDefault()}let e=this.element().value;if(null==t.webService){let t=this.filter(e,this.element());"v"==i.key&&i.ctrlKey&&1==t.length&&(this.value(t[0].value),this.close())}else{if(""==e)return this._items=[],void n.puma(this._popup).find("ul").remove();{let t=this.element().selectionStart,i=this.element().selectionEnd;0==t&&i==this.element().value.length||this.doAjaxCall(e)}}},300)})}this._isDivElement?n.puma(this.element()).click(e=>{n.puma(this._popup).is(":visible")?this.close():this.open()}):(n.puma(this.element()).focus(e=>{this.element().select(),this._openPopupAfterFocus&&this.open(),this._openPopupAfterFocus=!0}),n.puma(this.element()).blur(e=>window.setTimeout(()=>{if(null==this.value()&&0==n.puma(this._popup).find(".keydownFocus").length&&this.filter("",this.element()),null==this._popup||this._focusWithArrows||this.close(),null!=t.onBlur){let e=new f;e.sender=this,t.onBlur(e)}},200))),(null!=n.shadowRoot()?n.shadowRoot():document).addEventListener("scroll",e=>{!n.puma(e.target).hasClass("comboBox_divPopup")&&n.puma(this._popup).is(":visible")&&(this.blur(),this.close())},!0)}close(){let e=this.getOptions();if(n.puma(this._popup).remove(),this._popup=null,this._focusWithArrows=!1,this._dictionaryValueLi=new Map,this._isDivElement&&n.puma("#vrComboBoxBackground_"+this.element().id).remove(),null!=e.onClose){let t=new h;t.sender=this,t.beforeValue=this._openedValue,t.afterValue=this.value(),e.onClose(t)}e.mode==n.ComboBoxTypeEnum.Combo&&null==this._value&&(e.freeText?this.valueInternal(this.element().value):this.element().value="")}open(){let e=this.getOptions();this.enabled()&&(n.puma(this._popup).is(":visible")||(null==this._popup&&(this._popup=n.puma("<div class='comboBox_divPopup vrPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=n.shadowRoot()?n.shadowRoot():document.body)[0]),0==this.getRootItems().length?n.puma(this._popup).addClass("vrComboBoxFlat"):n.puma(this._popup).removeClass("vrComboBoxFlat"),window.setTimeout(()=>{if(this.drawDataSource(),this._isDivElement){let e=n.puma(this._popup).css("z-index")-1,t=n.puma("<div class='vrWindowBackground' id='vrComboBoxBackground_"+this.element().id+"' style='background-color: transparent; display: block; z-index: "+e+";'></div>").vrAppendToPuma(null!=n.shadowRoot()?n.shadowRoot():document.body)[0];n.puma(t).click(e=>this.close())}let t=n.puma(this.element()).outerWidth();if(null!=e.popupSettings.width&&t>e.popupSettings.width&&(t=e.popupSettings.width),null!=e.popupSettings.minWidth&&(t=e.popupSettings.minWidth),t<100&&(t=100),null!=e.popupSettings?e.popupSettings.minWidth=t:this._popup.style.cssText+="min-width: "+t+"px;",super.settingPopup(this._popup,e.popupSettings),e.showCheckAll&&(this._chkCheckAll=n.createCheckBox({addToControlList:!1,text:"Seleziona tutti...",width:"100%",cssContainer:"padding-bottom: 5px; margin-bottom: 5px; border-bottom: solid 1px #d0d0d0;",class:"vrComboBoxSelectAll",enable:e.enable,onCheck:t=>{let i=!0;i="boolean"==typeof e.showCheckAll?e.showCheckAll:e.showCheckAll.triggerChange,t.checked?this.checkAll(i):this.unCheckAll(i)}},this._popup,n.ControlPositionEnum.Before)),!0===e.filter&&0==n.puma(this._popup).find(".vrComboBoxFilter").length){let e=0;this._txtSearchFilter=n.createTextBox({width:"100%",icon:n.IconClassLight.Search,placeholder:"Cerca...",class:"vrComboBoxFilter",cssContainer:"margin-bottom: 5px; margin-top: 5px;",onKeyDown:e=>{this.limitInputByDataSource(e.sender.element(),e)},onKeyUp:t=>{this.limitInputByDataSource(t.sender.element(),t),clearTimeout(e),e=window.setTimeout(()=>{let e=t.sender.value();this.filter(e,this._txtSearchFilter.element())},100)}},this._popup,n.ControlPositionEnum.Before)}if(null!=this._txtSearchFilter&&n.puma(this._txtSearchFilter.element()).focus(),null==e.webService&&this.value(this.value(),!1),this._openedValue=this.value(),!e.checkboxes){let e=this._dictionaryValueLi.get(this.value());if(null!=e){n.puma(e).addClass("vrComboBoxSelectedComboValue");let t=n.puma(e).offset().top-n.puma(this._popup).offset().top-n.puma(this._popup).height()/2;t<0&&(t=0),this._popup.scrollTo(0,t)}}})))}limitInputByDataSource(e,t){let i=this.getOptions();if(null==i.webService&&!0!==i.freeText&&0==this.getFilteredArrayByInputText(e.value).length){let i=e.value;return e.value=i.substring(0,i.length-1),void t.preventDefault()}}filter(e,t){let i=t.selectionStart,r=t.selectionEnd,o=[];if(""==e||null==e)n.puma(this._popup).find("li").show(),null!=this.getOptions().webService&&(this._items=[],n.puma(this._popup).find(".vrComboBoxUl").remove());else if(0!=i||r!=t.value.length){n.puma(this._popup).find("li").hide();let t=this.getFilteredArrayByInputText(e);o=t;let i=t.map(e=>e.value),r=t.map(e=>a.UtilityManager.htmlDecode(e.text));for(let e of t){let t=e.parentValue;for(;null!=t;){let e=this.items().filter(e=>e.value==t)[0];i.includes(t)||(i.push(t),r.push(a.UtilityManager.htmlDecode(e.text))),t=null!=e?e.parentValue:void 0,t==e.value&&(t=void 0)}}for(let e of Array.from(n.puma(this._popup).find(".vrComboBoxItemText")))r.includes(String(n.puma(e).attr("text")).trim())&&(n.puma(e).closest(".vrComboBoxLi").show(),n.puma(e).closest(".vrComboBoxLi").closest(".vrComboBoxUl").show(),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").removeClass("caret-right caret-down"),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").removeClass(n.IconClassLight.CaretRight+" "+n.IconClassLight.CaretDown),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").addClass("caret-down"),n.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").addClass(n.IconClassLight.CaretDown))}return o}drawDataSource(e){n.puma(this._popup).find(".vrComboBoxUl").remove();let t=this.items();null!=e&&(t=this.getFilteredArrayByInputText(e)),1==t.length&&null==t[0]||(this._dictionaryValueLi=new Map,t=t.filter(e=>null==e.parentValue),null!=this._popup&&this.drawItems(t,this._popup))}drawItems(e,t){let i=this.getOptions();if(0==e.length)return;let r=n.puma("<ul class='vrComboBoxUl'></ul>").vrAppendToPuma(t);for(let t of e){null==t.value&&(t.value=t.text);let e=this.getOnlyChildrenItems(t),o=n.puma("<li class='vrComboBoxLi' tabindex='-1'></li>").vrAppendToPuma(r);if(this._dictionaryValueLi.has(String(t.value))){let e=this._dictionaryValueLi.get(String(t.value));e.push(o[0]),this._dictionaryValueLi.set(String(t.value),e)}else this._dictionaryValueLi.set(String(t.value),[o[0]]);if(i.checkboxes||(n.puma(o).on("focusin",t=>{this._focusWithArrows=!0,n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),0==e.length&&n.puma(t.target).addClass("vrComboBoxSelectedComboValue keydownFocus")}),n.puma(o).on("keydown",e=>{if(e.key==n.KeyEnum.ArrowDown){let t=n.puma(e.currentTarget).next();if(0==t.length)return;for(n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=n.puma(t).next();t.focus()}else if(e.key==n.KeyEnum.ArrowUp){let t=n.puma(e.currentTarget).prev();if(0==t.length)return;for(n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=n.puma(t).prev();t.focus()}else e.key==n.KeyEnum.Enter&&n.puma(e.currentTarget).find(".vrComboBoxItemText").mousedown()})),i.treeMode==n.ComboBoxTreeModeEnum.AllCollapsed?null!=t.parentValue&&n.puma(o).closest(".vrComboBoxUl").hide():i.treeMode==n.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded&&n.puma(o).parents(".vrComboBoxUl").length>2&&n.puma(o).closest(".vrComboBoxUl").hide(),e.length>0){let e="",t=n.IconClassLight.CaretRight;i.treeMode==n.ComboBoxTreeModeEnum.AllCollapsed?(t=n.IconClassLight.CaretRight,e="caret-right"):i.treeMode==n.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded?1==n.puma(o).parents(".vrComboBoxUl").length?(t=n.IconClassLight.CaretDown,e="caret-down"):(t=n.IconClassLight.CaretRight,e="caret-right"):(t=n.IconClassLight.CaretDown,e="caret-down");let r=n.puma("<div class='vrComboBoxDivIconExpand "+e+"'></div>").vrAppendToPuma(o);n.puma(a.UtilityManager.createIcon(t)).vrAppendToPuma(r),n.puma(r).click(e=>{n.puma(e.currentTarget).children("i").removeClass(n.IconClassLight.CaretRight+" "+n.IconClassLight.CaretDown),n.puma(e.currentTarget).removeClass("caret-right caret-down");let t=n.puma(e.currentTarget).siblings(".vrComboBoxUl");t.first().is(":visible")?(t.hide(),n.puma(e.currentTarget).children("i").addClass(n.IconClassLight.CaretRight),n.puma(e.currentTarget).addClass("caret-right")):(t.show(),n.puma(e.currentTarget).children("i").addClass(n.IconClassLight.CaretDown),n.puma(e.currentTarget).addClass("caret-down"))})}let l=n.puma("<div class='vrComboBoxDivItemContainer'></div>").vrAppendToPuma(o);if(i.checkboxes){let e=n.puma("<input type='checkbox' class='vrCheckBox'></input>").vrAppendToPuma(l);n.puma(e).click(e=>{let i=e.currentTarget.checked,r=t.value;i?this._checkedValues.push(r):this._checkedValues.vrDelete(r);let a=this.items().filter(e=>e.value==r)[0];if(null!=a&&this.getOnlyChildrenItems(a).length>0){let t=this.getAllChildrenItems(a);e.currentTarget.checked&&this._checkedValues.vrPushRange(t.map(e=>e.value));let i=this.getChildrenCheckboxElements(a,!1);n.puma(i).prop("checked",e.currentTarget.checked);for(let i of t)e.currentTarget.checked||this._checkedValues.vrDelete(i.value)}this._isChecked=e.currentTarget.checked,this._isChecked||this._checkedValues.vrDelete(t.value);let o=[],l=this._dictionaryValueLi.get(String(t.value));for(let e of l){let t=n.puma(e).find(".vrComboBoxItemText")[0];o.push(t)}for(let e of o){if(null==e)continue;let t=n.puma(e).siblings("input");n.puma(t).removeClass("indeterminateVrCheckbox"),n.puma(t).prop("checked",this._isChecked),t[0].checked=this._isChecked}for(let e of this.items().filter(e=>e.value==t.value)){let t=this.manageCheckParent(e);t||null==e.parentValue?t&&null!=e.parentValue&&!this._checkedValues.includes(String(e.parentValue))&&this._checkedValues.push(String(e.parentValue)):this._checkedValues.vrDelete(e.parentValue)}let s=this.manageCheckParent(t);s||null==t.parentValue?s&&null!=t.parentValue&&!this._checkedValues.includes(String(t.parentValue))&&this._checkedValues.push(String(t.parentValue)):this._checkedValues.vrDelete(t.parentValue),this._tempCheckedValue=String(t.value),this._checkedValues=this._checkedValues.vrDistinct(),this.valueInternal(this._checkedValues),this._tempCheckedValue=null})}let s=t.text.replace(/'/g,"&#39;");if(null!=i.template){let e=new n.ComboBoxTemplateEvent;e.dataItem=t,e.element=l[0],e.sender=this,s=i.template(e)}let u=i.checkboxes?"vrComboBoxItemTextCheckbox":"",d=n.puma("<span title='"+t.text+"' text='"+t.text.replace(/'/g,"&#39;")+"' class='vrComboBoxItemText "+u+"'>"+s+"</span>").vrAppendToPuma(l);if(n.puma(d).on("mousedown",e=>{let r=t.value,o=this.items().filter(e=>e.value==r)[0];null==o||this.getRootValues().includes(String(o.value))?a.UtilityManager.interval(()=>n.puma(this.element()).toggleClass("errorInput"),200,800):i.checkboxes?n.puma(e.currentTarget).siblings(".vrCheckBox").click():(this.valueInternal(o.value),this.close())}),null!=i.onItemDataBound){let e=new m;e.sender=this,e.element=d[0],e.dataItem=t,i.onItemDataBound(e)}e.length>0&&this.drawItems(e,o)}}getFilteredArrayByInputText(e){e=e.toLowerCase();let t=[];return this.items().map(e=>String(e.text).toLowerCase()).forEach((i,r)=>{-1!=i.indexOf(e)&&t.push(this.items()[r])}),t}datasource(e,t=!0){return this.items(e,t)}items(e,t=!0){let i=this.getOptions();if(null!=e){let r=a.UtilityManager.duplicate(e);if(null!=i.nullable&&!1!==i.nullable&&r.length>0){let e=new n.ComboBoxItem;e.text="boolean"==typeof i.nullable||null==i.nullable.text?"Non selezionato":i.nullable.text,e.value="boolean"==typeof i.nullable?"":null!=i.nullable.value?i.nullable.value:"0",r.unshift(e)}this._items=r,null==i.webService?(this.drawDataSource(),i.mode==n.ComboBoxTypeEnum.DropDown&&null!=this.items().vrFirst()&&this.valueInternal(this.items().vrFirst().value,t)):(null==this._typedTextWebService&&(this._items=[]),this.drawDataSource(),this._typedTextWebService=null)}return this._items}values(){return this.items().map(e=>e.value)}getCheckedItems(e=!1){let t=this.items().filter(e=>this._checkedValues.includes(String(e.value)));if(e){let e=this.getChildrenValues();t=t.filter(t=>e.includes(String(t.value)))}return t.vrDistinctBy(e=>e.value)}getCheckedValues(e=!1){let t=this._checkedValues.vrDistinct();if(e){let e=this.getChildrenValues();t=t.filter(t=>e.includes(t))}return t}getSelectedItem(){return this.items().filter(e=>null!=e.value&&e.value==this.value())[0]}addItem(e,t=!0,i=!0,r){this.items().push(e),null!=r&&(null==r.direction&&(r.direction=n.SortDirectionEnum.Asc),this.items().vrSortBy([r.field],r.direction==n.SortDirectionEnum.Asc)),t&&this.items(this.items(),i)}addItems(e,t=!0,i=!0){for(let t of e)this.addItem(t,!1);t&&this.items(this.items(),i)}removeItem(e,t=!0){if("string"==typeof e||"number"==typeof e){let t=this.items().filter(t=>t.value==e)[0];this.items().vrDelete(t)}else this.items().vrDelete(e);t&&this.items(this.items())}removeItems(e,t=!0){for(let t of e)this.removeItem(t,!1);t&&this.items(this.items())}getItemByValue(e){return this.items().filter(t=>String(t.value).toLowerCase()==e.toLowerCase())[0]}getItemByText(e){return this.items().filter(t=>t.text.toLowerCase()==e.toLowerCase())[0]}getElementsByValue(e){return this._dictionaryValueLi.get(e)}getRootItems(){let e=[];for(let t of this.items()){if(null==t)continue;let i=t.parentValue;for(;null!=i;){let t=this.items().filter(e=>e.value==i)[0];e.includes(t)||e.push(t),i=null!=t?t.parentValue:void 0,null!=t&&i==t.value&&(i=void 0)}}return e}getRootValues(){return this.getRootItems().filter(e=>null!=e).map(e=>String(e.value))}getRootTexts(){return this.getRootItems().map(e=>e.text)}getLeafItems(){let e=this.getRootValues();return this.items().filter(t=>!e.includes(String(t.value)))}getLeafValues(){return this.getLeafItems().map(e=>String(e.value))}getLeafTexts(){return this.getLeafItems().map(e=>e.text)}getChildrenItems(){return this.getLeafItems()}getChildrenValues(){return this.getLeafValues()}getChildrenTexts(){return this.getLeafTexts()}getOnlyChildrenItems(e){return this.items().filter(t=>null!=t.parentValue&&t.parentValue==e.value)}getAllChildrenItems(e){return this.getDataChildrenItems(e)}getAllChildrenValues(e){return this.getAllChildrenItems(e).map(e=>String(e.value))}getDataChildrenItems(e){let t=null==e?this.items():this.getOnlyChildrenItems(e),i=[];for(let e of t)i.push(e),this.getOnlyChildrenItems(e).length>0&&i.vrPushRange(this.getDataChildrenItems(e));return i}getChildrenCheckboxElements(e,t=!1,i=!1){let r=this._dictionaryValueLi.get(String(e.value)),a=n.puma(r).find(".vrComboBoxItemText")[0],o=n.puma(a).siblings("input"),l=n.puma(o).parent().parent().find("input"+(t?":checked":"")),s=n.puma(l[0]).siblings(".vrComboBoxItemText")[0];return null!=s&&null!=e.text&&n.puma(s).html().vrRemoveHtml()==e.text.vrRemoveHtml()&&l.splice(0,1),i&&(l=Array.from(l)),l}getParentItem(e){return null!=e.parentValue?this.items().filter(t=>t.value==e.parentValue)[0]:null}manageCheckParent(e){let t=this.getParentItem(e);if(null!=t){let e=this.getChildrenCheckboxElements(t,!0,!0).filter(e=>null!=e&&e.checked),i=this._dictionaryValueLi.get(String(t.value)),r=n.puma(i).find("input")[0];if(null!=r)return n.puma(r).removeClass("indeterminateVrCheckbox"),r.checked=!1,this.getAllChildrenItems(t).length==e.length?(r.checked=!0,!0):0==e.length?(r.checked=!1,!1):(n.puma(r).addClass("indeterminateVrCheckbox"),!1)}}text(e){if(null!=e&&(this._isDivElement?n.puma(this.element()).find(".vrComboBoxSelectedValues")[0].innerHTML=e:this.element().value=e),this._isDivElement){if(null!=n.puma(this.element()).find(".vrComboBoxSelectedValues")[0]){let e=n.puma(this.element()).find(".vrComboBoxSelectedValues")[0].innerHTML,t=this.getSelectedItem();return""==e&&null!=t&&(e=t.text),e}return""}{let e=this.element().value,t=this.getSelectedItem();return""==e&&null!=t&&(e=t.text),null==e&&(e=""),e}}placeholder(e){return null!=e&&(this.element().placeholder=e),this.element().placeholder}valueInternal(e,t=!0){let i=this.getOptions();i.fromInternal="pumo";let r=this.value(e,t,this._callbackAfterValue);return i.fromInternal=null,r}value(e,t=!0,i){if(null===e)return this.clear(),null;let r=this.getOptions();if(null!=e){this._callbackAfterValue=i,"number"==typeof e&&(e=String(e)),null==r.fromInternal&&!0===r.checkboxes&&this.clear(),r.checkboxes||n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),"string"!=typeof e&&"number"!=typeof e||(e=[String(e)],null!=r.webService&&null==r.fromInternal&&(e={value:String(e),text:""}));let o=null;Array.isArray(e)?e=(e=e.vrDistinct()).vrToStringArrayList():(o=new n.ComboBoxItem,o.text=e.text,o.value=e.value,e=[String(o.value)]),0==e.length?this.hideClearButton():this.showClearButton();let l=a.UtilityManager.duplicate(this._value);this._value=[];for(let t of e){let e=this.items().filter(e=>e.value==t)[0];null!=e&&this._value.push(String(e.value))}if(null!=r.webService&&null!=o)return this._tempValueWebService=[],this._tempValueWebService.push(String(o.value)),this._typedTextWebService=null==o.text?"":o.text,this.doAjaxCall(o.text,!0,t),o.value;if(null==r.webService){let t=this.values();e=e.filter(e=>t.includes(e))}if(this._checkedValues=e,t){let t=new n.ComboBoxChangingEvent;if(null!=r.onBeforeChange){let i=this.getRootValues().includes(this._value[0]),n=null;i&&(n=this.items().filter(t=>t.value==e)[0]),t.sender=this,t.previousValue=l,t.previousCheckedValues=l,t.value=!0===r.checkboxes?this._checkedValues:this._value[0],t.text=this.text(),t.childrenValues=i?this.getAllChildrenValues(n):[],t.checked=this._isChecked,t.isParent=this.getRootValues().includes(this._value[0]),r.onBeforeChange(t)}t.isDefaultPrevented()?(this._value=l,this._callbackAfterValue=null):(this.writeTextByValue(o,e),this.change())}else this.writeTextByValue(o,e),e.length>0&&this.manageCallbackAfterValue()}return null==this._value?null:!0===r.checkboxes?this._value:this._value[0]}manageCallbackAfterValue(){let e=this.getOptions();if(null!=this._callbackAfterValue){let t=e.checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value(),i=this.getRootValues().includes(t),r=null;i&&(r=this.items().filter(e=>e.value==t)[0]);let a=new n.ComboBoxChangeEvent;a.sender=this,a.value=t,a.text=this.text(),a.childrenValues=i?this.getAllChildrenValues(r):[],a.selectedItem=this.getSelectedItem(),a.checked=this._isChecked,a.isParent=i,this._callbackAfterValue(a)}this._callbackAfterValue=null}writeTextByValue(e,t){if(this._isDivElement){n.puma(this.element()).find(".vrComboBoxSelectedValues").remove();let e=this.items().filter(e=>t.includes(String(e.value)));if(e.length>0){let t=this.getOptions();if(1==e.length&&""==e.vrFirst().text)return;if(t.checkboxes){e=e.vrDistinctBy(e=>e.value);let t=e.map(e=>e.value),i=[];for(let e of t){let t=this._dictionaryValueLi.get(String(e));if(null!=t)for(let e of t){let t=n.puma(e).find(".vrComboBoxItemText")[0];i.push(t)}}for(let e of i){if(null==e)continue;let t=n.puma(e).siblings("input");n.puma(t).removeClass("indeterminateVrCheckbox"),n.puma(t).prop("checked",!0),t[0].checked=!0}let r=e.vrDistinctBy(e=>e.parentValue);for(let t of r){this.manageCheckParent(t);let i=this.getParentItem(t);if(null!=i){let t=this.getAllChildrenValues(i);r.map(e=>e.value).every(e=>t.includes(e))&&!e.map(e=>e.value).includes(i.value)&&e.push(i)}}}let i=e.vrDistinctBy(e=>e.value),r=n.puma("<span class='vrComboBoxSelectedValues'>"+(t.onlyIcon?"":i.map(e=>e.text).vrToCommaSeparatedList())+"</span>").vrAppendToPuma(this.element())[0];if(t.onlyIcon)n.puma(this._allCheckedOnlyIcon).hide(),e.length!=this.items().vrDistinctBy(e=>e.value).length||t.textEllipsis||t.mode==n.ComboBoxTypeEnum.DropDown||n.puma(this._allCheckedOnlyIcon).show();else{a.UtilityManager.textWidth(r)>n.puma(r).width()&&i.length>1&&!t.textEllipsis&&n.puma(r).html(i.length+" elementi"),e.length!=this.items().vrDistinctBy(e=>e.value).length||t.textEllipsis||t.mode==n.ComboBoxTypeEnum.DropDown||n.puma(r).html(null!=t.allSelectedMessage?t.allSelectedMessage:"Tutti selezionati")}null!=this._chkCheckAll&&(e.length==this.items().vrDistinctBy(e=>e.value).length?this._chkCheckAll.checked(!0,!1):e.length>0?this._chkCheckAll.checked(n.CheckboxStateEnum.Undefined,!1):this._chkCheckAll.checked(!1,!1))}else null!=this._chkCheckAll&&this._chkCheckAll.checked(!1,!1)}else if(null==e){let e=this.items().filter(e=>e.value==t[0])[0];null!=e&&(this.element().value=e.text.toString())}else this.element().value=e.text}unCheck(e,t=!0){if(null!=this.items().filter(t=>t.value==e)[0]){let i=[],r=this._dictionaryValueLi.get(e);if(null!=r){for(let e of r){let t=n.puma(e).find(".vrComboBoxItemText")[0];i.push(t)}for(let e of i){if(null==e)continue;let t=n.puma(e).siblings("input");n.puma(t).removeClass("indeterminateVrCheckbox"),n.puma(t).prop("checked",!1),t[0].checked=!1}}this._checkedValues.vrDelete(e),this.value(this.getCheckedValues(),t)}}select(e=0,t=!0){this.getOptions().mode==n.ComboBoxTypeEnum.DropDown&&null!=this.items()[e]&&this.valueInternal(this.items()[e].value,t)}index(e=0,t=!0){this.select(e,t)}isEmpty(){return null==this.value()||""==this.value()}error(){this.element().style.cssText+="border-bottom: solid 1px red;"}hideError(){this.element().style.cssText+="border-bottom: solid 1px #CCC;"}checkAll(e=!0){this._checkedValues=this.items().map(e=>String(e.value)),this._checkedValues=this._checkedValues.vrDistinct(),this.valueInternal(this.items().map(e=>String(e.value)),e),null!=this._chkCheckAll&&this._chkCheckAll.checked(!0,!1)}unCheckAll(e=!0){this._checkedValues=[],n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),n.puma(this._popup).find("input").removeClass("indeterminateVrCheckbox");for(let e of Array.from(n.puma(this._popup).find("input")))n.puma(e).prop("checked",!1),e.checked=!1;this.valueInternal([],e),null!=this._chkCheckAll&&this._chkCheckAll.checked(!1,!1),this.getOptions().onlyIcon&&n.puma(this._allCheckedOnlyIcon).hide()}clear(e=!1){let t=this.getOptions();if(n.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),this.unCheckAll(!1),this.hideClearButton(),n.puma(this._popup).find("li").show(),this._value=null,this._isDivElement)if(t.mode==n.ComboBoxTypeEnum.DropDown){let e=this.items().vrFirst();if(null!=e){let t=this.getOnlyChildrenItems(e);0==t.length?this.valueInternal(e.value,!1):this.valueInternal(t.vrFirst().value,!1)}else n.puma(this.element()).find(".vrComboBoxSelectedValues").remove()}else n.puma(this.element()).find(".vrComboBoxSelectedValues").remove();else this.element().value="";if(!0===t.filter&&null!=n.puma(this._popup).find(".vrComboBoxFilter")[0]&&(n.puma(this._popup).find(".vrComboBoxFilter")[0].value=""),null!=t.webService&&(this._items=[],n.puma(this._popup).find(".vrComboBoxUl").remove()),e&&this.change(),null!=t.onClear){let e=new n.ComboBoxClearEvent;e.sender=this,t.onClear(e)}}clearItems(){this._items=[],this.clear(),n.puma(this._popup).find(".vrComboBoxUl").remove()}popup(){return n.puma(this._popup)[0]}focus(e=!0){this._openPopupAfterFocus=e,n.puma(this.element()).focus()}getOptions(){return this.options()}doAjaxCall(e="",t=!1,i=!0){let r=this.getOptions();if(null==r.webService)return;null==r.webService.typedTextPropertyName&&(r.webService.typedTextPropertyName="text"),null==r.webService.typedValuePropertyName&&(r.webService.typedValuePropertyName="value"),null==r.webService.itemsPropertyName&&(r.webService.itemsPropertyName="items");let o={};if(o[r.webService.typedTextPropertyName]=e,t&&(o[r.webService.typedValuePropertyName]=this._tempValueWebService[0]),null==r.webService.authKey&&(r.webService.authKey=""),null!=r.webService.parameters){let e=r.webService.parameters(),t=Object.getOwnPropertyNames(e);for(let i of t)o[i]=e[i]}this._lastAjaxCallGuid=a.UtilityManager.createGuid(),o.guid=this._lastAjaxCallGuid,a.UtilityManager.doAjaxCall({mode:n.WebApiModeEnum.Async,authKey:r.webService.authKey,method:r.webService.method,request:o},n=>{if(null!=this._lastAjaxCallGuid&&null!=n.guid&&this._lastAjaxCallGuid!=n.guid)return;let a="";if(t){let e=n[r.webService.itemsPropertyName].filter(e=>e.value==this._tempValueWebService[0])[0];null!=e&&(this.items([e],!1),a=e.value)}else this._typedTextWebService=e,this.items(n[r.webService.itemsPropertyName]),null!=this._value&&(a=this._value[0]);if(""!=a&&null!=a)this.valueInternal(a,i);else if(i){let e=r.checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value();""!=e&&null!=e&&this.change()}},()=>this._callbackAfterValue=null)}showClearButton(){!1!==this.getOptions().clearButton&&n.puma(this.container()).find(".vrDivComboBoxClearIcon").show()}hideClearButton(){n.puma(this.container()).find(".vrDivComboBoxClearIcon").hide()}button(){return this._btnCombo}buttonVisible(e){return null!=e&&(this.button().visible(e),e?this._divPickerIcon.classList.add("vrComboDivPickerWithButton"):this._divPickerIcon.classList.remove("vrComboDivPickerWithButton")),this.button().visible()}showButton(){this.buttonVisible(!0)}hideButton(){this.buttonVisible(!1)}buttonEnabled(e){return null!=e&&this.button().enabled(e),this.button().enabled()}enableButton(){this.buttonEnabled(!0)}disableButton(){this.buttonEnabled(!0)}enable(){super.enable(),n.puma(this.container()).find(".vrDivPickerIconComboBox").removeClass("vrDivPickerIconDisable"),n.puma(this.container()).find(".vrDivPickerIconComboBoxDropDown").removeClass("vrDivPickerIconDisable"),null!=this._btnCombo&&this._btnCombo.enable(),null!=this._chkCheckAll&&this._chkCheckAll.enable()}disable(){super.disable(),n.puma(this.container()).find(".vrDivPickerIconComboBox").addClass("vrDivPickerIconDisable"),n.puma(this.container()).find(".vrDivPickerIconComboBoxDropDown").addClass("vrDivPickerIconDisable"),null!=this._btnCombo&&this._btnCombo.disable(),null!=this._chkCheckAll&&this._chkCheckAll.disable()}change(e){let t=this.getOptions().onAfterChange;if(null!=t){let e=this.getOptions().checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value(),i=this.getRootValues().includes(e),r=null;i&&(r=this.items().filter(t=>t.value==e)[0]);let a=new n.ComboBoxChangeEvent;a.sender=this,a.value=e,a.text=this.text(),a.childrenValues=i?this.getAllChildrenValues(r):[],a.selectedItem=this.getSelectedItem(),a.checked=this._isChecked,a.isParent=i,t(a)}this.manageCallbackAfterValue(),null!=e&&e()}}t.ComboBox=s;t.DropDown=class extends s{};class u extends r.VrControlsEvent{}class d extends r.VrControlsEvent{}class c extends r.VrControlsEvent{}class p extends r.VrControlsEvent{}class h extends r.VrControlsEvent{}class m extends r.VrControlsEvent{}class f extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonBadgeSettings=t.Button=t.ButtonOptions=void 0;const r=i(0),n=i(1);class a extends n.VrControlOptions{}t.ButtonOptions=a;class o extends n.VrControl{constructor(e,t){if(null==t&&(t=new a),null==t.text&&(t.text=""),null==t.mode&&(t.mode=r.ButtonModeEnum.Default),null==t.iconSettings&&(t.iconSettings=new r.IconSettings),null==t.iconSettings.position&&(t.iconSettings.position=r.PositionEnum.Left),super(e,t,r.ControlTypeEnum.Button),null==t.width?this.element().style.cssText+="min-width: 27px;":this.element().style.cssText+="width: 100%;",null!=t.colorSettings){let e=t.colorSettings;null!=e.textColor&&this.color(e.textColor),null!=e.background&&this.backgroundColor(e.background),null!=e.border&&this.borderColor(e.border)}this.mode(t.mode),null!=t.icon?this.icon(t.icon):null!=t.imageUrl&&this.imageUrl(t.imageUrl),this.text(t.text),null!=t.tooltip&&this.tooltip(t.tooltip),null!=t.value&&r.puma(this.element()).attr("value",t.value);let i="#FFF",n="red",o="",l=!1;null!=t.badgeSettings&&(null!=t.badgeSettings.text&&(o=String(t.badgeSettings.text)),null!=t.badgeSettings.color&&(i=t.badgeSettings.color),null!=t.badgeSettings.backgroundColor&&(n=String(t.badgeSettings.backgroundColor)),null!=t.badgeSettings.visible&&(l=t.badgeSettings.visible));let s=r.puma("<span class='vrButtonBadgeClass'>"+o+"</span>")[0];s.innerHTML=o,r.puma(e).after(s),null!=t.tooltip&&(s.title=t.tooltip),s.style.cssText+="color: "+i+"; background-color: "+n+";",""!=o&&null!=o||l||r.puma(s).hide(),null!=t.badgeSettings&&null!=t.badgeSettings.click?r.puma(s).on("mousedown",e=>{let i=new c;switch(i.sender=this,i.text=this.badge(),e.button){case 0:i.leftButton=!0;break;case 1:i.middleButton=!0;break;case 2:i.rightButton=!0}t.badgeSettings.click(i)}):null!=t.onClick&&r.puma(s).on("mousedown",e=>(this._mouseDownEvent=e,this.click(),!1));let p=!1;r.puma(e).on("mousedown",e=>(p=!0,this._mouseDownEvent=e,this.click(),e.preventDefault(),!1)),r.puma(e).on("click",e=>(p?p=!1:this.click(),e.preventDefault(),!1)),r.puma(this.container()).hover(()=>{if(null!=t.onHover){let e=new u;e.sender=this,t.onHover(e)}}),r.puma(this.container()).mouseleave(()=>{if(null!=t.onBlur){let e=new d;e.sender=this,t.onBlur(e)}})}text(e){let t=this.getOptions();if(null!=e){r.puma(this.element()).find(".vrButtonSpanText").remove();let i=r.span(this.element(),{class:"vrButtonSpanText"}),n=t.iconSettings.position;n==r.PositionEnum.Left?r.puma(this.element()).vrAppendPuma(i):n==r.PositionEnum.Right&&r.puma(this.element()).vrPrependPuma(i),i.innerHTML=e,t.text=e}return t.text}value(e){return this.text(e)}tooltip(e){return null!=e&&(this.element().title=String(e)),this.element().title}badge(e){return null!=e&&(r.puma(this.container()).find(".vrButtonBadgeClass").html(e),this.showBadge()),r.puma(this.container()).find(".vrButtonBadgeClass").html()}showBadge(){r.puma(this.container()).find(".vrButtonBadgeClass").show()}hideBadge(){r.puma(this.container()).find(".vrButtonBadgeClass").hide()}mode(e){return null!=e&&(r.puma(this.element()).removeClass([r.ButtonModeEnum.Default,r.ButtonModeEnum.Primary,r.ButtonModeEnum.Delete,r.ButtonModeEnum.Excel,r.ButtonModeEnum.Primary].join(" ")),r.puma(this.element()).addClass(e)),this.element().className.split(/\s+/).filter(e=>e.endsWith("Mode"))[0]}colorSettings(e){let t=this.getOptions();return null!=e&&(t.colorSettings=e,null!=e.textColor&&this.color(e.textColor),null!=e.background&&this.backgroundColor(e.background),null!=e.border&&this.borderColor(e.border)),t.colorSettings}color(e){return null!=e&&(this.element().style.cssText+="color: "+e),r.puma(this.element()).css("color")}backgroundColor(e){return null!=e&&(this.element().style.cssText+="background-color: "+e),r.puma(this.element()).css("background-color")}borderColor(e){return null!=e&&(this.element().style.cssText+="border-color: "+e),r.puma(this.element()).css("border-color")}icon(e,t,i=""){let n=this.getOptions();null==t&&(t=n.iconSettings.position);let a=r.puma(this.element()).find(".vrIcon")[0];if(null!=e){if(null!=a){let t=a.className.split(/\s+/).filter(e=>e.startsWith("fa-"));for(let e of t)a.classList.remove(e);r.puma(a).addClass(e)}else{let i=this.options(),n="";null!=i.text&&""!=i.text&&(t==r.PositionEnum.Left?n="margin-right: 5px;":t==r.PositionEnum.Right&&(n="margin-left: 5px;"));let a="",o="",l="",s=i.iconSettings;null!=s.id&&(o="id = '"+s.id+"'"),null!=s.css&&(l+=s.css+";"),null!=s.fontSize&&("number"==typeof s.fontSize&&(s.fontSize=s.fontSize+"px"),l+="font-size: "+s.fontSize+";"),null!=s.color&&(l+="color: "+s.color+";"),null!=s.class&&(a+=s.class),null!=s.cursor&&(l+="cursor: "+s.cursor+";");let u="<i class='"+e+" vrIcon "+a+"' aria-hidden='true' style='position: relative; top: -1px;"+n+" "+l+"' id='"+o+"'></i>";t==r.PositionEnum.Left?r.puma(this.element()).vrPrependPuma(u):t==r.PositionEnum.Right&&r.puma(this.element()).vrAppendPuma(u)}""!=i&&r.puma(a).attr("title",i)}return a}imageUrl(e,t){let i=this.getOptions();null==t&&(t=i.iconSettings.position);let n=r.puma(this.element()).find(".vrImageUrl")[0];if(null!=e){null!=n&&r.puma(n).remove();let i=this.options(),a="";null!=i.text&&""!=i.text&&(t==r.PositionEnum.Left?a="margin-right: 5px;":t==r.PositionEnum.Right&&(a="margin-left: 5px;")),t==r.PositionEnum.Left?r.puma(this.element()).prepend("<img src='"+e+"' vrImageUrl' style='width: 16px; height: 16px; float: left;"+a+"' />"):t==r.PositionEnum.Right&&r.puma(this.element()).vrAppendPuma("<img src='"+e+"' vrImageUrl' style='width: 16px; height: 16px; float: right;"+a+"' />")}return n=r.puma(this.element()).find(".vrImageUrl")[0],n}getOptions(){return this.options()}click(e){let t=this.getOptions();null!=t.confirmationMessage?r.confirm(t.confirmationMessage).then(()=>this.internalClick(e),()=>this.rejectedConfirm()):this.internalClick(e)}internalClick(e){let t=new s;if(null!=this._mouseDownEvent){let e=null;switch(this._mouseDownEvent.button){case 0:e=this.options().onClick;break;case 1:e=this.options().onMiddleClick;break;case 2:e=this.options().onRightClick}null!=e&&(t.sender=this,t.text=this.text(),e(t)),this._mouseDownEvent=null}else{let e=this.options().onClick;null!=e&&(t.sender=this,t.text=this.text(),e(t))}if(null!=e){let t=new s;t.sender=this,t.text=this.text(),e(t)}}rejectedConfirm(){let e=this.getOptions();null!=e.onRejectedConfirm&&e.onRejectedConfirm()}}t.Button=o;class l extends n.VrControlsEvent{}class s extends l{}class u extends l{}class d extends l{}t.ButtonBadgeSettings=class{};class c{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderManager=void 0;const r=i(0);t.LoaderManager=class{static show(e,t=!0,i){null==i&&(i="vrLoadingTemp"),this.addCss();let n=null;null==e?n=document.body:"string"==typeof e?(e.startsWith("#")||(e="#"+e),n=r.puma(e)[0]):n=r.puma(e)[0];let a="0.5";t||(a="1");let o=r.puma(n).outerWidth(),l=r.puma(n).outerHeight(),s="100%",u="100%",d="80px",c="80px";s=o+"px",u=l+"px";let p=80*l/100;p>80&&(p=80);let h=80*l/100;h>80&&(h=80);let m="Calc(50%\t-\t50px)",f="Calc(50%\t-\t50px)";m=0+o/2-p/2-16+"px",f=0+l/2-h/2-16+"px","absolute"!=r.puma(n).css("position")&&r.puma(n).css("position","relative");let g=25e5;g=String(r.puma(n).css("z-index")).vrGetNumericPart()+1,n==document.body&&(g=999999999);let v=document.createElement("div");v.setAttribute("id","loaderManager_background"),v.setAttribute("class","loaderManager_background"),v.setAttribute("style","position:\tabsolute;\tleft:\t0;\ttop:\t0;\tz-index:\t"+g.toString()+";\tbackground-color:\t#FFF;\topacity:\t"+a+";\twidth:\t"+s+";\theight:\t"+u+";"),v.setAttribute("tag",i),r.puma(v).vrAppendToPuma(n),d=p+"px",c=h+"px",r.puma("<div class='loaderManager_loader' tag='"+i+"'style='position: absolute; left: "+m+"; top: "+f+"; width: "+d+"; height:\t"+c+";'><div></div><div></div><div></div><div></div></div>").vrAppendToPuma(n)}static hide(e){null==e?(r.puma("#loaderManager_background[tag='vrLoadingTemp']").remove(),r.puma(".loaderManager_loader[tag='vrLoadingTemp']").remove()):(r.puma(".loaderManager_background[tag='"+e+"']").remove(),r.puma(".loaderManager_loader[tag='"+e+"']").remove())}static addCss(){null==r.puma("head").find("style[id='vr_loader']")[0]&&this.addCssBase("\n\t\t\t\t.loaderManager_loader\t{\n\t\t\t\t\t\tdisplay:\tinline-block;\n\t\t\t\t\t\tz-index:\t9999999999999999999999999999999999999;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv\t{\n\t\t\t\t\t\tposition:\tabsolute;\n\t\t\t\t\t\ttop:\t33px;\n\t\t\t\t\t\twidth:\t13px;\n\t\t\t\t\t\theight:\t13px;\n\t\t\t\t\t\tborder-radius:\t50%;\n\t\t\t\t\t\tbackground:\t#51B3E1;\n\t\t\t\t\t\tanimation-timing-function:\tcubic-bezier(0,1,1,0);\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(1)\t{\n\t\t\t\t\t\tleft:\t8px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader1 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(2)\t{\n\t\t\t\t\t\tleft: 8px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader2 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(3)\t{\n\t\t\t\t\t\tleft: 32px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader2 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t.loaderManager_loader\tdiv:nth-child(4)\t{\n\t\t\t\t\t\tleft: 56px;\n\t\t\t\t\t\tanimation:\tloaderManager_loader3 0.6s infinite;\n\t\t\t\t}\n\t\t\t\t@keyframes\tloaderManager_loader1\t{\n\t\t\t\t\t\t0%\t{\n\t\t\t\t\t\t\t\ttransform: scale(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100%\t{\n\t\t\t\t\t\t\t\ttransform: scale(1);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@keyframes\tloaderManager_loader3\t{\n\t\t\t\t\t\t0%\t{\n\t\t\t\t\t\t\t\ttransform: scale(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100%\t{\n\t\t\t\t\t\t\t\ttransform: scale(0);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t@keyframes\tloaderManager_loader2\t{\n\t\t\t\t\t\t0%\t{\n\t\t\t\t\t\t\t\ttransform: translate(0, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100%\t{\n\t\t\t\t\t\t\t\ttransform: translate(24px, 0);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t")}static addCssBase(e){r.puma("<style id='vr_loader'>"+e+"</style>").vrAppendToPuma("head")}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonGroupIconClickEvent=t.ButtonGroupClickEvent=t.ButtonGroup=t.ButtonGroupOptions=void 0;const r=i(1),n=i(0),a=i(2);class o extends r.VrControlOptions{}t.ButtonGroupOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.selectionMode&&(t.selectionMode=n.SelectionModeEnum.Single),null==t.checkboxes&&(t.checkboxes=!1),null==t.items&&(t.items=[]),null==t.tooltip&&(t.tooltip=!1),super(e,t,n.ControlTypeEnum.ButtonGroup),this.element().style.cssText+="display: inline-block;",this._btnScrollBack=n.createButton({icon:n.IconClassLight.CaretLeft,visible:!1,enable:!1,colorSettings:{background:"#f1f1f1"},css:"border-top-right-radius: 0px; border-bottom-right-radius: 0px;",onClick:e=>{let t=n.puma(this.element()).scrollLeft();n.puma(this.element()).animate({scrollLeft:t-20},10),this._btnScrollForward.enable(),t-20<=0&&this._btnScrollBack.disable()}},this.container()),n.puma(this._btnScrollBack.container()).vrInsertBeforePuma(this.element()),this._btnScrollForward=n.createButton({icon:n.IconClassLight.CaretRight,visible:!1,colorSettings:{background:"#f1f1f1"},css:"border-top-left-radius: 0px; border-bottom-left-radius: 0px;",onClick:e=>{let t=n.puma(this.element()).scrollLeft();n.puma(this.element()).animate({scrollLeft:t+20},10),this._btnScrollBack.enable(),t+20>=this.element().scrollWidth-this.element().offsetWidth&&this._btnScrollForward.disable()}},this.container()),n.puma(this._btnScrollForward.container()).vrInsertAfterPuma(this.element()),this._items=[],null!=t.items&&this.items(t.items)}items(e){if(null!=e){this._populating=!0;for(let t of e)this.addItem(t);this.manageScrolling(),this._populating=!1}return this._items}addItem(e){this.items().push(e);let t=this.getOptions(),i=n.puma("<span></span>").vrAppendToPuma(this.element())[0];n.puma(i).addClass("buttonGroupItem");let r=null;t.checkboxes&&(r=n.createCheckBox({checked:!0===e.selected,onCheck:e=>n.puma(i).click()},i),n.puma(r.element()).attr("value",e.value));let o=null;null!=e.icon?o=a.UtilityManager.createIcon(e.icon):null!=e.imageUrl&&(o=n.puma("<img src='"+e.imageUrl+"' />")[0]),null!=o&&(n.puma(i).vrAppendPuma(o),null!=e.onIconClick&&n.puma(o).on("click",t=>{let r=new h;r.sender=this,r.value=n.puma(i).attr("value"),r.selected=n.puma(i).hasClass("buttonGroupItemSelected"),e.onIconClick(r)})),null==e.text&&(e.text="");let l="";null==e.icon&&null==e.imageUrl||(l="margin-left: 5px;");let s=n.puma("<span class='buttonGroupItemText' style='height: 23px; "+l+"'>"+e.text+"</span>").vrAppendToPuma(i);if(""!=e.text){let i="";null!=e.tooltip?i=e.tooltip:t.tooltip&&(i=e.text),""!=i&&n.puma(s).attr("title",i)}if(n.puma(i).attr("value",e.value),!0===e.selected&&(t.checkboxes?r.check():n.puma(i).addClass("buttonGroupItemSelected")),null!=e.colorSettings){let t=e.colorSettings;null!=t.textColor&&n.puma(i).css("color",t.textColor),null!=t.background&&n.puma(i).css("background-color",t.background),null!=t.border&&n.puma(i).css("border-color",t.border)}if(!1===e.visible&&n.puma(i).hide(),!1===e.enable&&n.puma(i).attr("disabled","disabled"),n.puma(i).click(r=>{if(this.enabled()&&null==n.puma(i).attr("disabled")){if(t.selectionMode==n.SelectionModeEnum.Single&&this.clear(),t.checkboxes){let e=n.puma(r.currentTarget).find(".vrCheckBox")[0];e.checked=!e.checked}else n.puma(r.currentTarget).toggleClass("buttonGroupItemSelected");this.changeItem(n.puma(r.currentTarget).attr("value"),n.puma(r.currentTarget).hasClass("buttonGroupItemSelected"),e),this.changeGlobal(n.puma(r.currentTarget).attr("value"),n.puma(r.currentTarget).hasClass("buttonGroupItemSelected"),e)}else r.preventDefault()}),this._populating||this.manageScrolling(),null!=e.css&&(i.style.cssText+=e.css),null!=t.onItemAdded){let i=new d;i.sender=this,i.value=String(e.value),t.onItemAdded(i)}}manageScrolling(){n.puma(this.element()).vrHasScrollBar(!0)?(this._btnScrollBack.show(),this._btnScrollForward.show(),n.puma(n.puma(this.element()).find(".buttonGroupItem")[0]).css({"border-top-left-radius":"0px","border-bottom-left-radius":"0px","border-left":"none"}),n.puma(n.puma(this.element()).find(".buttonGroupItem")[this.items().length-1]).css({"border-top-right-radius":"0px","border-bottom-right-radius":"0px","border-right":"none"})):(this._btnScrollBack.hide(),this._btnScrollForward.hide(),n.puma(n.puma(this.element()).find(".buttonGroupItem")[0]).css({"border-top-left-radius":"4px","border-bottom-left-radius":"4px","border-left":"solid 1px #d9d9d9"}),n.puma(n.puma(this.element()).find(".buttonGroupItem")[this.items().length-1]).css({"border-top-right-radius":"4px","border-bottom-right-radius":"4px","border-right":"solid 1px #d9d9d9"}))}item(e){return this.items().filter(t=>t.value==e)[0]}removeItem(e){let t=this.getOptions();n.puma(this.container()).find(".buttonGroupItem[value='"+e+"']").remove();let i=this.items().map(e=>e.value).indexOf(e);if(-1!=i&&this.items().splice(i,1),this.manageScrolling(),null!=t.onItemRemoved){let i=new c;i.sender=this,i.value=e,t.onItemRemoved(i)}}showItems(e){for(let t of e)this.showItem(t)}showItem(e){n.puma(this.container()).find(".buttonGroupItem[value='"+e+"']").show(),this.manageScrolling()}showAllItems(){let e=this.items().map(e=>e.value);this.showItems(e)}hideItems(e){for(let t of e)this.hideItem(t)}hideItem(e){n.puma(this.container()).find(".buttonGroupItem[value='"+e+"']").hide(),this.manageScrolling()}hideAllItems(){let e=this.items().map(e=>e.value);this.hideItems(e)}visibleItem(e,t){let i=n.puma(this.container()).find(".buttonGroupItem[value='"+e+"']");return null!=t&&(t?i.show():i.hide()),this.manageScrolling(),i.is(":visible")}select(e,t=!0){let i=this.getOptions();i.selectionMode==n.SelectionModeEnum.Single&&this.clear();for(let r of e)i.checkboxes?n.puma(this.container()).find(".buttonGroupItem .vrCheckBox[value='"+r+"']")[0].checked=!0:n.puma(this.container()).find(".buttonGroupItem[value='"+r+"']").addClass("buttonGroupItemSelected"),t&&this.changeItem(String(r));if(t){let t=null;this.selectionMode()==n.SelectionModeEnum.Single&&(t=e.vrFirst()),this.changeGlobal(String(t))}}selectIndex(e,t=!0){let i=this.getOptions();i.selectionMode==n.SelectionModeEnum.Single&&this.clear(),i.checkboxes?n.puma(this.container()).find(".buttonGroupItem .vrCheckBox")[e].checked=!0:n.puma(n.puma(this.container()).find(".buttonGroupItem")[e]).addClass("buttonGroupItemSelected");let r=this.getItemByIndex(e),a=n.puma(r).attr("value");t&&this.changeItem(String(a)),t&&this.changeGlobal(String(a))}changeGlobal(e,t,i){null==i&&(i=this.items().filter(t=>t.value==e)[0]);let r=this.getOptions();if(null!=r.onSelect){let i=new u;i.sender=this,i.value=e,i.selected=t,i.selectedValues=this.getSelectedValues(),window.setTimeout(()=>r.onSelect(i))}}changeItem(e,t=!0,i){if(null==i&&(i=this.items().filter(t=>t.value==e)[0]),null!=i&&null!=i.onClick){let r=new p;r.sender=this,r.value=e,r.selected=t,i.onClick(r)}}getSelectedValues(){return this.getOptions().checkboxes?Array.from(n.puma(this.container()).find(".buttonGroupItem .vrCheckBox:checked")).map(e=>n.puma(e).attr("value")):Array.from(n.puma(this.container()).find(".buttonGroupItem.buttonGroupItemSelected")).map(e=>n.puma(e).attr("value"))}value(){return n.puma(n.puma(this.container()).find(".buttonGroupItem.buttonGroupItemSelected")).attr("value")}clear(){if(n.puma(this.container()).find(".buttonGroupItem").removeClass("buttonGroupItemSelected"),this.getOptions().checkboxes)for(let e of Array.from(n.puma(this.container()).find(".buttonGroupItem .vrCheckBox")))e.checked=!1}selectionMode(){return this.getOptions().selectionMode}getItemByValue(e){return n.puma(this.container()).find(".buttonGroupItem[value='"+e+"']")[0]}getItemByIndex(e){return n.puma(this.container()).find(".buttonGroupItem")[e]}itemTooltip(e,t){let i=this.getItemByValue(e);return null!=t&&(n.puma(i).find(".buttonGroupItemText")[0].title=t),n.puma(i).find(".buttonGroupItemText")[0].title}itemText(e,t,i=!0){let r=this.getItemByValue(e),a=n.puma(r).find(".buttonGroupItemText")[0];return null!=t&&null!=a&&(a.innerHTML=t,i&&(a.title=t)),null!=a?a.innerHTML:""}itemTextByIndex(e,t){let i=this.getItemByIndex(e);return null!=t&&(n.puma(i).find(".buttonGroupItemText")[0].innerHTML=t),n.puma(i).find(".buttonGroupItemText")[0].innerHTML}enableItem(e){let t=this.getItemByValue(e);n.puma(t).removeAttr("disabled")}disableItem(e){let t=this.getItemByValue(e);n.puma(t).attr("disabled","disabled")}enable(){super.enable();for(let e of this.items())this.enableItem(e.value)}disable(){super.disable();for(let e of this.items())this.disableItem(e.value)}getOptions(){return this.options()}}t.ButtonGroup=l;class s extends r.VrControlsEvent{}class u extends s{}class d extends s{}class c extends s{}class p extends s{}t.ButtonGroupClickEvent=p;class h extends s{}t.ButtonGroupIconClickEvent=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitButtonItem=t.SplitButton=t.SplitButtonOptions=void 0;const r=i(0),n=i(1),a=i(2);class o extends n.VrControlOptions{}t.SplitButtonOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.text&&(t.text=""),null==t.items&&(t.items=[]),null==t.hoverMode&&(t.hoverMode=!1),null==t.modal&&(t.modal=!1),null==t.showDefault&&(t.showDefault=!0),null==t.separator&&(t.separator=!1),null==t.tabIndex&&(t.tabIndex=-1);let i=t.width;if(t.width=void 0,super(e,t,r.ControlTypeEnum.SplitButton),this._itemButtonList=[],this._btnMain=r.createButton({text:t.text,icon:t.icon,imageUrl:t.imageUrl,colorSettings:t.colorSettings,tooltip:t.tooltip,enable:t.enable,width:i,tabIndex:t.tabIndex,css:"border-top-right-radius: 0px; border-bottom-right-radius: 0px;"+(null!=t.onClick?"background-color: #f8f8f8;":""),onClick:e=>{null!=t.onClick?this.click():r.puma(this._popup).is(":visible")?this.close():this.open()},onHover:e=>{t.hoverMode&&this.open(),r.puma(u).addClass("hoverClass")},onBlur:e=>{r.puma(u).removeClass("hoverClass")}},this.element(),null,e.id+"btnMain"),r.puma(this.container()).mouseleave(e=>{t.hoverMode&&e.relatedTarget!=this._popup&&this.close()}),null!=t.onClick&&t.showDefault){let e=new s;e.text=t.text,e.icon=t.icon,e.imageUrl=t.imageUrl,e.colorSettings=t.colorSettings,e.onClick=t.onClick,t.items.splice(0,0,e)}this.items(t.items);let n=null!=t.onClick?"vrDivPickerIconSplitButton":"vrDivPickerIconSplitButtonFlat",l=a.UtilityManager.createIcon(r.IconClassLight.CaretDown),u=r.puma("<div class='"+n+"'></div>").vrAppendToPuma(this.element())[0];r.puma(u).vrAppendPuma(l),r.puma(u).click(()=>{r.puma(this._popup).is(":visible")?this.close():this.open()}),r.puma(u).on("mouseenter",e=>r.puma(this._btnMain.element()).addClass("hoverClass")),r.puma(u).on("mouseleave",e=>r.puma(this._btnMain.element()).removeClass("hoverClass")),window.addEventListener("click",e=>{r.puma(this._popup).is(":visible")&&!r.puma(this.container())[0].contains(e.target)&&this.close()}),(null!=r.shadowRoot()?r.shadowRoot():document).addEventListener("scroll",e=>{!r.puma(e.target).hasClass("splitButton_divPopup")&&r.puma(this._popup).is(":visible")&&this.close()},!0)}open(){if(!this.enabled())return;let e=this.getOptions();if(null==this._popup&&(this._popup=r.puma("<div class='splitButton_divPopup' id='"+this.element().id+"_divPopup'></div>").vrAppendToPuma(null!=r.shadowRoot()?r.shadowRoot():document.body)[0]),r.puma(this._popup).attr("tabindex","0"),this._popup.style.cssText+="min-width: 100px;",r.puma(this._popup).mouseleave(t=>{e.hoverMode&&this.close()}),e.modal){r.puma("#vrWindowBackground_"+this.element().id).remove();let e=r.puma("<div class='vrWindowBackground' id='vrWindowBackground_"+this.element().id+"'></div>").vrAppendToPuma(document.body)[0];r.puma(e).show(),r.puma(e).css("z-index",Number(r.puma(this._popup).css("z-index"))-1),r.puma(e).click(()=>this.close())}this._itemButtonList=[],this.items(this.items()),super.settingPopup(this._popup,e.popupSettings)}close(){r.puma(this._popup).remove(),this._popup=null,r.puma("#vrWindowBackground_"+this.element().id).remove()}items(e){if(null!=e){this._items=e;let t=0;for(let i of e)if(!0!==i.separator)this.drawItem(i,t),t++;else{let e=null!=i.value?"value='"+i.value+"'":"value='separator'",t=r.puma("<div "+e+"></div>").vrAppendToPuma(this._popup),n=r.createSeparator({tag:null==i.value?"separator":i.value,orientation:r.OrientationEnum.Horizontal,visible:i.visible,cssContainer:"margin-top: -8px !important; margin-bottom: 5px !important;"},t);this._itemButtonList.push(n)}}return this._items}drawItem(e,t){let i=this.getOptions();null==t&&(t=-1);let n=null!=e.value?"value='"+e.value+"'":"";null==e.text||null!=n&&""!=n||(n="value='"+e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+"'");let a=r.puma("<div class='vrSplitButton_divItemContainer' "+n+"></div>").vrAppendToPuma(this._popup),o=r.createButton({text:e.text,icon:e.icon,imageUrl:e.imageUrl,mode:e.mode,colorSettings:e.colorSettings,confirmationMessage:e.confirmationMessage,tooltip:e.tooltip,visible:e.visible,enable:e.enable,tag:e.value,width:"100%",css:"width: 100%; text-align: left; border: none;"+e.css,cssContainer:e.cssContainer+";"+(i.separator?"border-bottom: solid 1px #dedede;":""),class:e.class,tabIndex:i.tabIndex,onClick:t=>{if(this.close(),null!=e.onClick){let t=new u;t.sender=this,t.item=e,e.onClick(t)}if(null!=i.onSelect){let t=new c;t.text=i.text,t.value=String(e.value),t.mainButton=!1,i.onSelect(t)}}},a);null!=e.value&&r.puma(o.element()).attr("value",e.value),this._itemButtonList.push(o)}addItem(e){this.drawItem(e),this._items.push(e)}removeItem(e){r.puma(this._popup).find(".vrSplitButton_divItemContainer[value='"+e+"']").remove(),this._items.vrDeleteAllBy(t=>t.value==e)}clearItems(){r.puma(this._popup).empty(),this._items=[],this._itemButtonList=[]}enable(){super.enable(),r.puma(this.container()).find(".vrDivPickerIconSplitButton").removeClass("vrDivPickerIconDisable"),r.puma(this.container()).find(".vrDivPickerIconSplitButtonFlat").removeClass("vrDivPickerIconDisable"),null!=this._btnMain&&this._btnMain.enable()}disable(){super.disable(),r.puma(this.container()).find(".vrDivPickerIconSplitButton").addClass("vrDivPickerIconDisable"),r.puma(this.container()).find(".vrDivPickerIconSplitButtonFlat").addClass("vrDivPickerIconDisable"),null!=this._btnMain&&this._btnMain.disable()}itemVisible(e,t){let i=this._itemButtonList.filter(t=>t.tag()==e)[0];if(null!=t){i.visible(t);let r=this._items.findIndex(t=>t.value==e);this._items[r].visible=t}return i.visible()}showItem(e){this.itemVisible(e,!0)}hideItem(e){this.itemVisible(e,!1)}itemEnable(e,t){let i=this._itemButtonList.filter(t=>t.tag()==e)[0];if(null!=t){i.enabled(t);let r=this._items.findIndex(t=>t.value==e);this._items[r].enable=t}return i.enabled()}enableAllItems(){this.enableItems(this.items().map(e=>String(e.value)))}enableItems(e){for(let t of e)this.enableItem(t)}enableItem(e){this.itemEnable(e,!0)}disableAllItems(){this.disableItems(this.items().map(e=>String(e.value)))}disableItems(e){for(let t of e)this.disableItem(t)}disableItem(e){this.itemEnable(e,!1)}item(e){return this._itemButtonList.filter(t=>t.tag()==e)[0]}mainItem(){return this._btnMain}getOptions(){return this.options()}click(){let e=this.getOptions();if(null!=e.onClick){let t=new d;t.sender=this,t.text=e.text,t.items=e.items,e.onClick(t)}if(null!=e.onSelect){let t=new c;t.text=e.text,t.mainButton=!0,e.onSelect(t)}}}t.SplitButton=l;class s{}t.SplitButtonItem=s;class u{}class d{}class c{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=t.KeyValuePair=void 0;const r=i(2);class n{}t.KeyValuePair=n;class a{constructor(){this.items=[]}get map(){return null==this._map&&(this._map=this.asMap()),this._map}asMap(){return new Map(this.items.map(e=>[e.key,e.value]))}static fromMap(e){let t=new a;for(let i of e){let e=new n;e.key=i[0],e.value=i[1],t.items.push(e)}return t._map=e,t}static parse(e){let t=new a;return t.items=e.items,t}get(e){return this.map.get(e)}set(e,t){let i=this.items.find(t=>t.key==e);null==i&&(i=new n,i.key=e),i.value=t,this.map.set(e,t),this.items.push(i)}has(e){return this.map.has(e)}delete(e){let t=this.items.find(t=>t.key==e);null!=t&&this.items.vrDeleteItem(t,"key"),this.map.delete(e)}changeKey(e,t){let i=r.UtilityManager.duplicate(this.get(e));this.delete(e),this.set(t,i)}keys(){return this.items.map(e=>e.key)}}t.Dictionary=a},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GridRow=exports.GridFilterSettings=exports.GridFooterSettings=exports.GridToolbarDeleteRequest=exports.GridToolbarSwitchSettings=exports.GridToolbarClickEvent=exports.GridUnselectAllRowsEvent=exports.GridUnselectRowEvent=exports.GridSelectAllRowsEvent=exports.GridSelectRowEvent=exports.GridOnRowDataBoundEvent=exports.GridOnDataBoundEvent=exports.GridTooltipEvent=exports.GridTemplateEvent=exports.GridExcelRequest=exports.GridRebindRequest=exports.GridLabelSettings=exports.GridImageSettings=exports.GridIconSettings=exports.GridCustomSettings=exports.GridControlsSettings=exports.GridCellSettings=exports.GridHeaderSettings=exports.GridHeaderAndCellSettings=exports.Grid=exports.GridOptions=void 0;const vr_1=__webpack_require__(0),common_1=__webpack_require__(1),splitButton_1=__webpack_require__(11),controlManager_1=__webpack_require__(4),comboBox_1=__webpack_require__(7),textbox_1=__webpack_require__(6),datePicker_1=__webpack_require__(5),dictionary_1=__webpack_require__(12),utilityManager_1=__webpack_require__(2);class GridOptions extends common_1.VrControlOptions{}exports.GridOptions=GridOptions;class Grid extends common_1.VrControl{constructor(e,t){if(null==t&&(t=new GridOptions),null==t.addToControlList&&(t.addToControlList=!1),null==t.width&&(t.width="100%"),null==t.tooltip&&(t.tooltip=!0),null==t.dataSourceFieldId&&(t.dataSourceFieldId="id"),null==t.multilineRows&&(t.multilineRows=!1),null==t.multilineHeader&&(t.multilineHeader=!1),null==t.rowHeight&&(t.rowHeight=27),null==t.columns&&(t.columns=[]),null==t.hideEditButton&&(t.hideEditButton=!1),null==t.mode&&(t.mode=vr_1.GridModeEnum.Sync),null!=t.pageSize&&!0!==t.pageSize||(t.pageSize=50),null==t.filterable&&(t.filterable=!0),null==t.alternateRowColors&&(t.alternateRowColors=!0),null==t.hoverRowColor&&(t.hoverRowColor=!1),null==t.footer&&(t.footer=!0),null==t.header&&(t.header=!0),null==t.resizable&&(t.resizable=!0),null==t.reorderable&&(t.reorderable=!0),null==t.largePageSize&&(t.largePageSize=!1),null==t.enable&&(t.enable=!0),null==t.excel&&(t.excel=t.rebind),null==t.lockable&&(t.lockable=!0),null!=t.checkboxes&&!1!==t.checkboxes||(t.checkboxes=vr_1.GridCheckboxModeEnum.None),!0===t.checkboxes&&(t.checkboxes=vr_1.GridCheckboxModeEnum.MultiCheck),null==t.serverBinding&&(t.serverBinding=!1),!0===t.serverBinding&&(t.serverBinding=new GridServerBindSettings),!1!==t.serverBinding&&(null==t.serverBinding.itemCountPropertyName&&(t.serverBinding.itemCountPropertyName="itemCount"),null==t.serverBinding.totalsPropertyName&&(t.serverBinding.totalsPropertyName="totals"),null==t.serverBinding.excelDownloadUrlPropertyName&&(t.serverBinding.excelDownloadUrlPropertyName="excelDownloadUrl")),null!=t.layoutSettings&&!0!==t.layoutSettings||(t.layoutSettings=new GridLayoutSettings),!1!==t.layoutSettings&&null==t.layoutSettings.name&&(t.layoutSettings.name=""),null==t.sortable&&(t.sortable=!0),null!=t.sortBy){let e=t.sortBy;"string"==typeof t.sortBy&&(t.sortBy=new vr_1.GridSortSettings,t.sortBy.field=String(e)),null==t.sortBy.direction&&(t.sortBy.direction=vr_1.GridSortDirectionEnum.Asc)}if(null==t.groupable&&(t.groupable=!0),null!=t.groupBy){if(Array.isArray(t.groupBy)){let e=t.groupBy;t.groupBy=new vr_1.GridGroupBySettings,t.groupBy.fields=e,t.groupBy.sortBy={field:e[0],direction:vr_1.GridSortDirectionEnum.Asc}}null==t.groupBy.sortBy&&(t.groupBy.sortBy=new vr_1.GridSortSettings),null==t.groupBy.sortBy.direction&&(t.groupBy.sortBy.direction=vr_1.GridSortDirectionEnum.Asc);let e=t.groupBy.fields;if(t.groupBy.fields=[],null!=e)for(let i of e)"string"==typeof i?t.groupBy.fields.push({field:i}):t.groupBy.fields.push(i)}for(let e of t.columns){if(t.columns.map(e=>e.field).filter(t=>t==e.field).length>1)throw new Error("La proprietà 'field' delle colonne deve essere univoca!!!")}if(null!=t.footer&&!0!==t.footer||(t.footer=new GridFooterSettings),!1!==t.footer&&(null==t.footer.maxVisiblePages&&(t.footer.maxVisiblePages=10),null==t.footer.showPagination&&(t.footer.showPagination=!0),null==t.footer.showPageSize&&(t.footer.showPageSize=!0),null==t.footer.showSettings&&(t.footer.showSettings=!0),null==t.footer.totalElements&&(t.footer.totalElements=!0)),super(e,t,vr_1.ControlTypeEnum.Grid),this._originalHiddenColumnFields=[],this._originalDataSource=[],this._dictionaryFilterConditions=new Map,!1===t.pageSize&&(this._pageSizeUnlimited=!0),this._elementId=e.id,this._actualLayout=null,null!=t.groupBy){let e=t.columns.map(e=>e.field);for(let i of t.groupBy.fields)if(!e.includes(i.field)){let e=new vr_1.GridColumn;e.field=i.field,e.title=i.displayField,e.hidden=!0,t.columns.push(e)}}let i=[];if(!1!==t.layoutSettings){let e=new GridLayoutStructure;e.filterConditions=null,e.pageSize=JSON.parse(JSON.stringify(t.pageSize)),e.sortingInfo=null,null!=t.groupBy&&(e.groupBy=JSON.parse(JSON.stringify(t.groupBy)));let r=0,n=[];for(let e of t.columns){let t=new GridLayoutColumn;t.field=e.type==vr_1.GridColumnTypeEnum.EditButton?"editButton":e.field,t.fitSpace=e.fitSpace,t.hidden=e.hidden,t.locked=e.locked,t.index=r;let i=null!=e.width?e.width:e.type==vr_1.GridColumnTypeEnum.EditButton?32:100;t.width=i,n.push(t),r++,!0===e.hidden&&this._originalHiddenColumnFields.push(e.field)}e.columns=n,this._originalOptionsForLayout=e;let a=new GetLayoutListRequest;a.gridName=t.layoutSettings.name,a.pageName=window.location.href,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Get,a,e=>{if(i=e.tableLayoutList,i.length>0){this._customLayouts=i;let e=i[0],r=JSON.parse(e.layoutJson),n=!0;for(let e of r.columns)if(("editButton"!=e.field||t.hideEditButton)&&!t.columns.map(e=>e.field).includes(e.field)){n=!1;break}n&&(this._actualLayout=e)}})}this._lastIndexAdded=-1,this._dictionaryDataValues=new Map,this._groupByActualValue={},this._actualPageSize=!1===t.pageSize?50:t.pageSize,this._actualPageSelected=1,this._serverBindingPagination=new GridServerBindPagination,this._serverBindingPagination.indexFrom=0*this._actualPageSize,this._serverBindingPagination.indexTo=this._serverBindingPagination.indexFrom+this._actualPageSize-1,vr_1.puma(e).vrBeforePuma("<div id='"+e.id+"_divContainer' class='p-grid-container'></div>"),this._divHeaderContainer=vr_1.div("#"+e.id+"_divContainer",{css:"height: 35px;"}),t.lockable&&(this._divHeaderLocked=vr_1.puma("<div class='grid_Header grid_Header_locked' style='overflow-x: hidden; display: inline-block;'></div>").vrAppendToPuma(this._divHeaderContainer)[0]),this._divHeader=vr_1.puma("<div id='"+e.id+"Header' class='grid_Header' style='overflow-x: hidden; display: inline-block;'></div>").vrAppendToPuma(this._divHeaderContainer)[0],t.header||(this._divHeaderContainer.style.cssText+="display: none;",this._divHeader.style.cssText+="display: none;",this._divHeaderLocked.style.cssText+="display: none;"),this._spanFitHeaderSpace=vr_1.puma("<span id='"+e.id+"FitHeaderSpace' style='position: absolute;' class='grid_fitHeaderSpace'></span>").vrAppendToPuma("#"+e.id+"_divContainer")[0];let r=vr_1.div("#"+e.id+"_divContainer",{css:"height: 31px; display: none;"});t.lockable&&(this._divFiltersLocked=vr_1.puma("<div id='"+e.id+"Filters' class='grid_Filters grid_Filters_locked' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(r)[0]),this._divFilters=vr_1.puma("<div id='"+e.id+"Filters' class='grid_Filters' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(r)[0],this._spanFitFilterSpace=vr_1.puma("<span id='"+e.id+"FitFilterSpace' style='position: absolute; border-left: 1px solid #d9d9d9;' class='grid_fitFilterSpace'></span>").vrAppendToPuma("#"+e.id+"_divContainer")[0];let n=vr_1.div("#"+e.id+"_divContainer",{id:e.id+"_grid_body_container"});t.lockable&&(this._divBodyLocked=vr_1.div(n,{class:"grid_body_locked",css:"overflow-y: auto; vertical-align: top; display: inline-block; overflow-x: hidden; border-top: none; border: solid 1px #d9d9d9; border-right: solid 1px #a5a5a5; border-bottom: none;"})),this._divBody=vr_1.puma("<div id='"+e.id+"Body' class='grid_Body'></div>").vrAppendToPuma(n)[0],vr_1.puma(this._divBody).scroll(e=>{if(vr_1.puma(this._divFilters).scrollLeft(vr_1.puma(this._divBody).scrollLeft()),vr_1.puma(this._divHeader).scrollLeft(vr_1.puma(this._divBody).scrollLeft()),vr_1.puma(this._divTotals).scrollLeft(vr_1.puma(this._divBody).scrollLeft()),vr_1.puma(this._divBodyLocked).scrollTop(vr_1.puma(this._divBody).scrollTop()),null!=t.onScroll){let i=new vr_1.GridScrollEvent;i.sender=this,i.target=e.target,i.scrollLeft=vr_1.puma(this._divBody).scrollLeft(),i.scrollTop=vr_1.puma(this._divBody).scrollTop(),t.onScroll(i)}}),vr_1.puma(this._divBodyLocked).scroll(e=>{if(vr_1.puma(this._divBody).scrollTop(vr_1.puma(this._divBodyLocked).scrollTop()),null!=t.onScroll){let i=new vr_1.GridScrollEvent;i.sender=this,i.target=e.target,i.scrollLeft=vr_1.puma(this._divBody).scrollLeft(),i.scrollTop=vr_1.puma(this._divBody).scrollTop(),t.onScroll(i)}});let a=vr_1.div("#"+e.id+"_divContainer",{css:"height: 23px; display: none;"});if(t.lockable&&(this._divTotalsLocked=vr_1.puma("<div id='"+e.id+"Totals' class='grid_Totals grid_Totals_locked' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(a)[0]),this._divTotals=vr_1.puma("<div id='"+e.id+"Totals' class='grid_Totals' style='overflow-x: hidden; display: none;'></div>").vrAppendToPuma(a)[0],this._showTotals=t.columns.vrAny(e=>null!=e.aggregate&&!1!==e.aggregate),this._showTotals&&this.createTotalsFunction(),this._spanFitTotalsSpace=vr_1.puma("<span id='"+e.id+"FitTotalsSpace' style='position: absolute; border-left: 1px solid #d9d9d9;' class='grid_fitTotalsSpace'></span>").vrAppendToPuma("#"+e.id+"_divContainer")[0],!1!==t.footer){if(this._divFooter=vr_1.puma("<div id='"+e.id+"Footer' class='p-grid-footer'></div>").vrAppendToPuma("#"+e.id+"_divContainer")[0],t.footer.showPageSize&&"boolean"!=typeof t.pageSize){let i=[{text:"50",value:"50",numberValue:50},{text:"100",value:"100",numberValue:100}];t.pageSize>=200&&(t.largePageSize=!0),t.largePageSize&&(i.push({text:"200",value:"200",numberValue:200}),i.push({text:"500",value:"500",numberValue:500})),50!=t.pageSize&&100!=t.pageSize&&200!=t.pageSize&&500!=t.pageSize&&i.push({text:String(t.pageSize),value:String(t.pageSize),numberValue:Number(t.pageSize)}),i.vrSortBy(["numberValue"],!0),vr_1.createComboBox({width:65,mode:vr_1.ComboBoxTypeEnum.DropDown,cssContainer:"margin-top: 3px;",css:"border: solid 1px #d9d9d9 !important;",items:i,value:String(t.pageSize),onAfterChange:e=>{t.pageSize=Number(e.sender.value()),t.columns.length>10&&vr_1.showLoader(),window.setTimeout(()=>{this.update(),vr_1.hideLoader()},200)}},this._divFooter,null,e.id+"_ddlPageSize")}if(t.footer.showSettings){let e=vr_1.createSplitButton({icon:vr_1.IconClassLight.Gear,cssContainer:"top: 2px; margin-left: 5px;",items:[{text:"Salva layout",icon:vr_1.IconClassLight.Table,onClick:e=>{null==this._actualLayout?vr_1.prompt("Assegna un nome a questo layout",{title:"Salva layout"}).then(e=>this.saveLayout(e)):vr_1.dialog("Vuoi sovrascrivere questo layout, o crearne uno nuovo?",{title:"Salva layout",footerItems:[{text:"Annulla",type:vr_1.WindowFooterItemTypeEnum.Close},{text:"Sovrascrivi",mode:vr_1.ButtonModeEnum.Primary,onClick:e=>{this.saveLayout(this._actualLayout.layoutName),e.sender.close()}},{text:"Crea nuovo",mode:vr_1.ButtonModeEnum.Primary,onClick:e=>{vr_1.prompt("Assegna un nome a questo layout",{title:"Nome layout"}).then(t=>{this._actualLayout=null,this.saveLayout(t),e.sender.close()})}}]})}},{text:"Gestisci layout",icon:vr_1.IconClassLight.Table,value:"manageLayout",onClick:e=>this.openWindowLayout()},{text:"Ripristina layout di base",icon:vr_1.IconClassLight.Table,value:"restoreBaseLayout",confirmationMessage:"Confermi di voler ripristinare il layout di base?",onClick:e=>{this._actualLayout=null,this.changeLayout(!0,this._originalOptionsForLayout)}},{text:"Mostra/Nascondi",icon:vr_1.IconClassLight.Eye,onClick:e=>this.openWindowActions(GridActionEnum.ShowHide)},{text:"Raggruppa per...",icon:vr_1.IconClassLight.Users,visible:t.groupable,onClick:e=>this.openWindowActions(GridActionEnum.GroupBy)},{text:"Blocca/Sblocca",icon:vr_1.IconClassLight.Lock,visible:t.lockable,onClick:e=>this.openWindowActions(GridActionEnum.LockUnlock)}]},this._divFooter,null,this._elementId+"_spbSettings");0==i.length&&window.setTimeout(()=>e.hideItem("manageLayout"))}}null!=t.css&&(vr_1.puma("#"+e.id+"_divContainer")[0].style.cssText+=t.css),vr_1.puma(e).addClass("p-grid"),vr_1.puma(e).css("border-collapse","collapse"),"string"==typeof t.alternateRowColors?vr_1.puma("<style>#"+e.id+" .p-grid tr.p-grid-body:nth-child(odd) { background-color: "+t.alternateRowColors+"; }</style>").vrAppendToPuma("head"):!0===t.alternateRowColors&&vr_1.puma(e).addClass("alternateRowsColor"),t.hoverRowColor&&vr_1.puma(e).addClass("p-grid-hover"),null==t.height&&(t.height=vr_1.GridHeightModeEnum.FitContent),t.height==vr_1.GridHeightModeEnum.FitContent&&(t.height="auto"),vr_1.puma(this._divBody).height(t.height),t.lockable&&vr_1.puma(this._divBodyLocked).height(t.height),vr_1.puma(this._divBody).vrAppendPuma(e),t.lockable&&(this._elementLocked=vr_1.puma("<table class='p-grid p-grid-locked' style='border-collapse: collapse;'></table>"),!0===t.alternateRowColors&&vr_1.puma(this._elementLocked).addClass("alternateRowsColor"),t.hoverRowColor&&vr_1.puma(this._elementLocked).addClass("p-grid-hover"),vr_1.puma(this._divBodyLocked).vrAppendPuma(this._elementLocked));let o=t.columns.filter(e=>e.type==vr_1.GridColumnTypeEnum.EditButton).length;if(o>1)throw Error("Non possono coesistere due o più colonne di edit!");if(1==o){let e=t.columns.findIndex(e=>e.type==vr_1.GridColumnTypeEnum.EditButton);t.columns[e].field="editButton",t.columns[e].locked=this.thereAreLockedColumns()}0!=o||t.hideEditButton||t.columns.unshift({type:vr_1.GridColumnTypeEnum.EditButton,field:"editButton",locked:this.thereAreLockedColumns()}),vr_1.puma(e).width(t.width),vr_1.puma("#"+e.id+"_divContainer").width(t.width);let l=vr_1.puma(this.element()).width(),s=0,u=0;for(let e of t.columns)1!=e.hidden&&(this.thereAreLockedColumns()&&e.type==vr_1.GridColumnTypeEnum.EditButton||(null==e.fitSpace||0==e.fitSpace?s+=null!=e.width?e.width:e.type==vr_1.GridColumnTypeEnum.EditButton?32:100:u++));let d=l-s;this.thereAreLockedColumns()||t.checkboxes==vr_1.GridCheckboxModeEnum.None||(d-=20),null!=t.groupBy&&null!=t.groupBy.fields&&(d-=20*t.groupBy.fields.length);let c=d/u*100/l;if(this._fitSpaceColumnPercentage=c,null!=t.toolbar){this._divToolbar=vr_1.puma("<div id='"+e.id+"Toolbar' class='grid_divToolbar'></div>").vrPrependToPuma("#"+e.id+"_divContainer")[0];let i=0;for(let e of t.toolbar)null==e.type||e.type!=vr_1.GridToolbarItemType.Separator||""!=e.value&&null!=e.value||(e.value="separator"+i,i++),this.addToolbarItem(e)}if(vr_1.puma(this._divHeader).vrAppendPuma("<table class='p-grid'><thead><tr class='p-grid-headerColumn'></tr></thead></table>"),t.lockable&&vr_1.puma(this._divHeaderLocked).vrAppendPuma("<table class='p-grid p-grid-locked'><thead><tr class='p-grid-headerColumn'></tr></thead></table>"),t.groupable||null!=t.groupBy)for(let e of t.columns){let i="";null!=t.groupBy&&t.groupBy.fields.map(e=>e.field).includes(e.field)||(i="display: none;"),vr_1.puma(this._divHeader).find(".p-grid-headerColumn").vrAppendPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1; "+i+"' value='groupBy"+e.field+"' class='groupBy"+e.field+"'></th>"),t.lockable&&vr_1.puma(this._divHeaderLocked).find(".p-grid-headerColumn").vrAppendPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1; "+i+"' value='groupBy"+e.field+"' class='groupBy"+e.field+"'></th>")}if(t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let i=document.createElement("th");i.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(i).attr("width",20),vr_1.puma(i).attr("value","vrGridCheckboxColumn"),vr_1.puma(i).css("background-color","#51B3E1"),vr_1.puma(i).css("color","#FFF");let r="<input id='"+e.id+"header_CheckboxColumn' class='vrCheckBox' type='checkbox'></input><label class='vrCheckBoxLabel vr-checkboxColumnHeader-label' for='header_CheckboxColumn'></label>";i.innerHTML=r,vr_1.puma(i).css("text-align","center"),this.thereAreLockedColumns()?vr_1.puma(this._divHeaderLocked).find(".p-grid-headerColumn").vrAppendPuma(i):vr_1.puma(this._divHeader).find(".p-grid-headerColumn").vrAppendPuma(i),t.checkboxes==vr_1.GridCheckboxModeEnum.SingleCheck?vr_1.puma(i).children().hide():vr_1.puma(i).click(e=>{e.target.checked?this.checkAllRows():this.unCheckAllRows()})}for(let e of t.columns){let i=document.createElement("th");vr_1.puma(i).attr("value",e.field),i.style.cssText+="border: 1px solid #dddddd;";let r=null!=e.title?e.title:"";vr_1.puma(i).attr("title",r),null!=e.headerSettings&&null!=e.headerSettings.icon&&(r="<i class='"+e.headerSettings.icon+"'></i>"+r),!0===e.bold&&vr_1.puma(i).css("font-weight","500"),null!=e.headerSettings&&null!=e.headerSettings.css&&(i.style.cssText+=e.headerSettings.css),i.innerHTML="<div class='grid_headerTh'><span class='grid_headerThContent'>"+r+"</span><i style='position: absolute; top: 10px; right: 5px;'></i></div>",vr_1.puma(i).attr("width",null!=e.width?e.width:1==e.fitSpace?c+"%":e.type==vr_1.GridColumnTypeEnum.EditButton?32:100),1==e.fitSpace&&vr_1.puma(i).attr("fitSpace","true");let n="#51B3E1",a="#000";null!=e.headerSettings&&(n=null!=e.headerSettings.backgroundColor?e.headerSettings.backgroundColor:n,a=null!=e.headerSettings.color?e.headerSettings.color:"#000"),vr_1.puma(i).css("background-color",n),vr_1.puma(i).css("color",a);let o=vr_1.GridAlignEnum.Left;if(null!=e.headerSettings&&null!=e.headerSettings.textAlign&&(o=e.headerSettings.textAlign),vr_1.puma(i).css("text-align",o),t.tooltip){let t="";null!=e.headerSettings&&(1==e.headerSettings.tooltip?t=null==e.title?"":e.title:"string"==typeof e.headerSettings.tooltip&&(t=e.headerSettings.tooltip)),t.length>0&&vr_1.puma(i).attr("title",t)}[vr_1.GridColumnTypeEnum.Currency,vr_1.GridColumnTypeEnum.Date,vr_1.GridColumnTypeEnum.DateTime,vr_1.GridColumnTypeEnum.Duration,vr_1.GridColumnTypeEnum.Label,vr_1.GridColumnTypeEnum.Number,vr_1.GridColumnTypeEnum.Percentage,vr_1.GridColumnTypeEnum.String,vr_1.GridColumnTypeEnum.Time].includes(e.type)?(vr_1.puma(i).css("cursor","pointer"),vr_1.puma(i).click(()=>{if(!0!==this._isResizing&&!0!==this._isDragging)if(null==vr_1.puma(i).attr("sortMode"))this.sort(e.field,vr_1.GridSortDirectionEnum.Asc);else{Number(vr_1.puma(i).attr("sortMode"))==vr_1.GridSortDirectionEnum.Asc?this.sort(e.field,vr_1.GridSortDirectionEnum.Desc):this.removeSort()}})):vr_1.puma(i).css("cursor","grab"),t.lockable&&e.locked?(i.setAttribute("locked","locked"),vr_1.puma(this._divHeaderLocked).find(".p-grid-headerColumn").vrAppendPuma(i)):vr_1.puma(this._divHeader).find(".p-grid-headerColumn").vrAppendPuma(i),1==e.hidden&&vr_1.puma(i).hide()}if(t.lockable&&this.thereAreLockedColumns()&&vr_1.puma(this._divHeader).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),t.filterable){if(vr_1.puma(r).show(),vr_1.puma(this._divFilters)[0].style.cssText+="display: inline-block",vr_1.puma(this._divFilters).vrAppendPuma("<table class='p-grid'><thead><tr class='p-grid-filters'></tr></thead></table>"),t.lockable&&(vr_1.puma(this._divFiltersLocked)[0].style.cssText+="display: inline-block",vr_1.puma(this._divFiltersLocked).vrAppendPuma("<table class='p-grid p-grid-locked'><thead><tr class='p-grid-filters'></tr></thead></table>")),t.groupable||null!=t.groupBy)for(let e of t.columns){let i="";null!=t.groupBy&&t.groupBy.fields.map(e=>e.field).includes(e.field)||(i="display: none;"),vr_1.puma(this._divFilters).find(".p-grid-filters").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' value='groupBy"+e.field+"' width=16 class='groupBy"+e.field+"'></td>"),t.lockable&&vr_1.puma(this._divFiltersLocked).find(".p-grid-filters").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>")}if(t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=document.createElement("td");vr_1.puma(e).attr("value","vrGridCheckboxColumn"),e.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(e).attr("width",20),this.thereAreLockedColumns()?vr_1.puma(this._divFiltersLocked).find(".p-grid-filters").vrAppendPuma(e):vr_1.puma(this._divFilters).find(".p-grid-filters").vrAppendPuma(e)}for(let i of t.columns){i.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(i.field,[]);let r=document.createElement("td");if(vr_1.puma(r).attr("value",i.field),r.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(r).attr("width",null!=i.width?i.width:1==i.fitSpace?c+"%":i.type==vr_1.GridColumnTypeEnum.EditButton?32:100),1==i.fitSpace&&vr_1.puma(r).attr("fitSpace","true"),t.lockable&&i.locked?vr_1.puma(this._divFiltersLocked).find(".p-grid-filters").vrAppendPuma(r):vr_1.puma(this._divFilters).find(".p-grid-filters").vrAppendPuma(r),(i.type==vr_1.GridColumnTypeEnum.Custom&&null==i.filterable||i.type==vr_1.GridColumnTypeEnum.Color)&&(i.filterable=!1),null!=i.type&&!1!==i.filterable)switch(i.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{vr_1.puma(r).css("text-align","center"),r.innerHTML="<input id='"+e.id+"_CheckboxFilter_"+i.field+"' class='vrCheckBox' type='checkbox'></input><label class='vrLabel vr-checkboxFilter-label' for='"+e.id+"_CheckboxFilter_"+i.field+"'></label>";let t=vr_1.puma("#"+e.id+"_CheckboxFilter_"+i.field);t.addClass("indeterminateVrCheckbox"),t.click(e=>{let r=t[0];if(r.checked&&!vr_1.puma(r).hasClass("indeterminateVrCheckbox"))vr_1.puma(r).addClass("indeterminateVrCheckbox"),this.removeFilter(i.field),e.preventDefault();else{vr_1.puma(r).removeClass("indeterminateVrCheckbox");let e=new GridFilterSettings;e.type=i.type,e.checkboxFilterSettings=new GridCheckboxFilterSettings,e.checkboxFilterSettings.value=r.checked,this.updateFilter(i.field,e,!1),this.applyFilters(!0)}})}break;case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:{vr_1.puma(r).css("text-align","center"),r.innerHTML="<button id='"+this._elementId+"_DateFilter_"+i.field+"'></button><button id='"+this._elementId+"_DateFilterRemove_"+i.field+"'></button>";let e=vr_1.createButton({icon:vr_1.IconClassLight.Filter,tooltip:"Applica filtro",onClick:e=>{this.openWindowFiltering(i)}},null,null,this._elementId+"_DateFilter_"+i.field),t=vr_1.createButton({icon:vr_1.IconClassRegular.Xmark,tooltip:"Rimuovi filtro",colorSettings:{background:"#CCC"},visible:!1,cssContainer:"margin-left: 5px;",onClick:r=>{this.removeFilter(i.field),e.tooltip(""),vr_1.puma(e.element()).css("background-color","#f3f3f3"),vr_1.puma(e.element()).css("color","#000"),t.hide(),this.recalculateHeight(!0)}},null,null,this._elementId+"_DateFilterRemove_"+i.field)}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{vr_1.puma(r).css("text-align","center"),r.innerHTML="<button id='"+this._elementId+"_NumberFilter_"+i.field+"'></button><button id='"+this._elementId+"_NumberFilterRemove_"+i.field+"'></button>";let e=vr_1.createButton({icon:vr_1.IconClassLight.Filter,tooltip:"Applica filtro",onClick:e=>{this.openWindowFiltering(i)}},null,null,this._elementId+"_NumberFilter_"+i.field),t=vr_1.createButton({icon:vr_1.IconClassRegular.Xmark,tooltip:"Rimuovi filtro",colorSettings:{background:"#CCC"},visible:!1,cssContainer:"margin-left: 5px;",onClick:r=>{this.removeFilter(i.field),e.tooltip(""),vr_1.puma(e.element()).css("background-color","#f3f3f3"),vr_1.puma(e.element()).css("color","#000"),t.hide(),this.recalculateHeight(!0)}},null,null,this._elementId+"_NumberFilterRemove_"+i.field)}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Custom:case vr_1.GridColumnTypeEnum.Label:{this._timeoutFilterText=0;let e=vr_1.createTextBox({icon:i.type==vr_1.GridColumnTypeEnum.Custom?vr_1.IconClassLight.Search:void 0,placeholder:i.type==vr_1.GridColumnTypeEnum.Custom?"Cerca...":void 0,width:"Calc(100% - 27px)",attributes:[{name:"field",value:i.field}],onPaste:e=>{clearTimeout(this._timeoutFilterText);let t=String(e.value).trim().toLowerCase(),r=vr_1.puma(e.sender.element()).attr("field");this.manageFilterTextByColumn(t,i,r,!1)},onKeyUp:e=>{if(e.tabKey)return;n.tooltip(""),vr_1.puma(n.element()).css("background-color","#f3f3f3"),vr_1.puma(n.element()).css("color","#000"),a.hide(),e.sender.width("Calc(100% - 27px)"),clearTimeout(this._timeoutFilterText);let r=e.sender.value().toLowerCase(),o=vr_1.puma(e.sender.element()).attr("field");if(!1!==t.serverBinding){let t=new GridFilterSettings;return t.type=i.type,t.stringFilterSettings=new GridStringFilterSettings,t.stringFilterSettings.filterTypeEnum=vr_1.GridStringFilterTypeEnum.Includes,t.stringFilterSettings.text=r.toLowerCase(),void(e.key==vr_1.KeyEnum.Enter&&this.updateFilter(i.field,t))}if(0==r.length)return this.removeFilter(vr_1.puma(e.sender.element()).attr("field"),!1),void window.setTimeout(()=>{!0===i.filterWebService?this.rebind(null,!0):this.applyFilters(!0),this._checkedItemsForFiltering=this.getCheckedItems()},100);this.manageFilterTextByColumn(r,i,o,e.backSpaceKey)}},r,null,this._elementId+"_StringFilter_"+i.field),n=vr_1.createButton({icon:vr_1.IconClassLight.Filter,tooltip:"Applica filtro",onClick:e=>{this.openWindowFiltering(i)}},r,null,this._elementId+"_StringFilterBtn_"+i.field),a=vr_1.createButton({icon:vr_1.IconClassRegular.Xmark,tooltip:"Rimuovi filtro",colorSettings:{background:"#CCC"},visible:!1,cssContainer:"margin-left: 5px;",onClick:t=>{this.removeFilter(i.field),n.tooltip(""),vr_1.puma(n.element()).css("background-color","#f3f3f3"),vr_1.puma(n.element()).css("color","#000"),a.hide(),this.recalculateHeight(!0),e.width("Calc(100% - 27px")}},r,null,this._elementId+"_StringFilterBtnRemove_"+i.field)}break;default:r.innerHTML=""}!0===i.hidden&&vr_1.puma(r).hide()}t.lockable&&this.thereAreLockedColumns()&&vr_1.puma(this._divFilters).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)")}if(this._showTotals){if(vr_1.puma(a).show(),vr_1.puma(this._divTotals)[0].style.cssText+="display: inline-block",vr_1.puma(this._divTotals).vrAppendPuma("<table class='p-grid'><thead><tr class='p-grid-totals'></tr></thead></table>"),t.lockable&&(vr_1.puma(this._divTotalsLocked)[0].style.cssText+="display: inline-block",vr_1.puma(this._divTotalsLocked).vrAppendPuma("<table class='p-grid p-grid-locked'><thead><tr class='p-grid-totals'></tr></thead></table>")),t.groupable||null!=t.groupBy)for(let e of t.columns){let i="";null!=t.groupBy&&t.groupBy.fields.map(e=>e.field).includes(e.field)||(i="display: none;"),vr_1.puma(this._divTotals).find(".p-grid-totals").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>"),t.lockable&&vr_1.puma(this._divTotalsLocked).find(".p-grid-totals").vrAppendPuma("<td style='border: 1px solid rgb(221, 221, 221); "+i+"' width=16 class='groupBy"+e.field+"'></td>")}if(t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=document.createElement("td");vr_1.puma(e).attr("value","vrGridCheckboxColumn"),e.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(e).attr("width",20),this.thereAreLockedColumns()?vr_1.puma(this._divTotalsLocked).find(".p-grid-totals").vrAppendPuma(e):vr_1.puma(this._divTotals).find(".p-grid-totals").vrAppendPuma(e)}for(let e of t.columns){let i=document.createElement("td");vr_1.puma(i).attr("value",e.field),i.style.cssText+="border: 1px solid #dddddd;",vr_1.puma(i).attr("width",null!=e.width?e.width:1==e.fitSpace?this._fitSpaceColumnPercentage+"%":e.type==vr_1.GridColumnTypeEnum.EditButton?32:100),1==e.fitSpace&&vr_1.puma(i).attr("fitSpace","true");let r=vr_1.GridAlignEnum.Right;switch(e.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:r=vr_1.GridAlignEnum.Right;break;case vr_1.GridColumnTypeEnum.Duration:r=vr_1.GridAlignEnum.Center;break;case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:r=vr_1.GridAlignEnum.Center;break;case vr_1.GridColumnTypeEnum.String:r=vr_1.GridAlignEnum.Left}if(null!=e.cellSettings&&(r=null!=e.cellSettings.textAlign?e.cellSettings.textAlign:r),vr_1.puma(i).css("text-align",r),t.lockable&&e.locked?vr_1.puma(this._divTotalsLocked).find(".p-grid-totals").vrAppendPuma(i):vr_1.puma(this._divTotals).find(".p-grid-totals").vrAppendPuma(i),null!=e.aggregate&&!1!==e.aggregate){let t=0;if("boolean"==typeof e.aggregate)switch(e.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:e.aggregate=vr_1.GridAggregateMode.Sum;break;case vr_1.GridColumnTypeEnum.Percentage:e.aggregate=vr_1.GridAggregateMode.Average}switch(e.type){case vr_1.GridColumnTypeEnum.Number:t=null!=e.decimalDigits?e.decimalDigits:0;break;case vr_1.GridColumnTypeEnum.Currency:t=null!=e.decimalDigits?e.decimalDigits:2;break;case vr_1.GridColumnTypeEnum.Duration:t=null!=e.decimalDigits?e.decimalDigits:0;break;case vr_1.GridColumnTypeEnum.Percentage:t=null!=e.decimalDigits?e.decimalDigits:2}vr_1.puma(i).attr("field",e.field),vr_1.puma(i).attr("decimalDigits",t),vr_1.puma(i).attr("aggregate",String(e.aggregate))}e.type==vr_1.GridColumnTypeEnum.Custom&&null==e.exportable&&(e.exportable=!1),1==e.hidden&&vr_1.puma(i).hide()}this.thereAreLockedColumns()&&vr_1.puma(this._divTotals).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)")}else vr_1.puma(this._divTotals).hide();t.lockable&&(this.thereAreLockedColumns()?(vr_1.puma(this._divBody).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),vr_1.puma(this._divBodyLocked).width(vr_1.puma(this._divHeaderLocked).width())):(null!=this._divHeaderLocked&&(this._divHeaderLocked.style.cssText+="display: none;"),null!=this._divFiltersLocked&&(this._divFiltersLocked.style.cssText+="display: none;"),null!=this._divBodyLocked&&(this._divBodyLocked.style.cssText+="display: none;"),null!=this._divTotalsLocked&&(this._divTotalsLocked.style.cssText+="display: none;"))),this._internalOptions=t,null!=this._actualLayout&&this.changeLayout(),null!=t.dataSource?this.dataSource(t.dataSource):this.recalculateHeight(),null!=t.rebind&&!0===t.rebind.rebindAtStartup&&this.doWebApiCall(t.rebind,GridRequestTypeEnum.Rebind),!1===t.enable&&this.enable(t.enable);let p=Array.from(vr_1.puma(this._divHeader).find("table th"));t.lockable&&p.vrPushRange(Array.from(vr_1.puma(this._divHeaderLocked).find("table th"))),this._columnOptions=[];for(let e of p){let t=new GridColumnPosition;t.field=vr_1.puma(e).attr("value"),t.left=vr_1.puma(e).offset().left,t.right=vr_1.puma(e).offset().left+vr_1.puma(e).width(),t.index=vr_1.puma(e).index(),t.th=e,this._columnOptions.push(t)}if(t.resizable&&this.resizable(),t.reorderable&&this.draggableColumns(),null!=t.groupBy)for(let e of t.groupBy.fields)this._groupByActualValue[e.field]=void 0;vr_1.puma(window).on("resize",()=>{this.recalculateHeight(),this.recalculateWidth()})}rebind(e,t=!1,i=!0,r){return new Promise(n=>{if(t){let t=[];this._dictionaryFilterConditions.forEach((e,i,r)=>{if(null!=e.stringFilterSettings){let r=new GridSearchingInfo;r.field=i,r.text=e.stringFilterSettings.text,t.push(r)}}),e={tableSearchingInfoList:t}}let a=this.getOptions();null!=a.rebind&&(a.rebind.otherParameters=void 0,null!=e&&(a.rebind.otherParameters=e),i?(this._tempRebindInfo=new TempRebindInfo,this._tempRebindInfo.checkedValues=this.getCheckedValues(),this._tempRebindInfo.page=this.pageSelected(),this._tempRebindInfo.yPosition=vr_1.puma(this.container()).find(".grid_Body")[0].scrollTop):this._tempRebindInfo=null,a.rebind.tempLoadingElement=r,this.clearSelection(),this.doWebApiCall(a.rebind,GridRequestTypeEnum.Rebind,n))})}rebindSpecificRows(e,t=!0,i=!0,r){let n=this.getOptions();null!=n.rebind&&(null==n.rebind.specificItemIdListPropertyName&&(n.rebind.specificItemIdListPropertyName="specificItemIdList"),n.rebind.otherParameters={},n.rebind.otherParameters[n.rebind.specificItemIdListPropertyName]=e,n.rebind.otherParameters.update=t,n.rebind.loadingElement=r,i&&(this._tempRebindInfo=new TempRebindInfo,this._tempRebindInfo.checkedValues=this.getCheckedValues(),this._tempRebindInfo.page=this.pageSelected(),this._tempRebindInfo.yPosition=vr_1.puma(this.container()).find(".grid_Body")[0].scrollTop),this.clearSelection(),this.doWebApiCall(n.rebind,GridRequestTypeEnum.RebindSpecificRows))}clear(e=!1){this.dataSource().filter(e=>null==e.defaultRow||0==e.defaultRow).length>0&&(this.dataSource([]),this.clearSelection(e))}manageDataSourceControls(e,t){vr_1.puma(this.element()).add(vr_1.puma(this._elementLocked)).off("click","."+t),vr_1.puma(this.element()).add(vr_1.puma(this._elementLocked)).on("click","."+t,t=>{vr_1.puma(t.target).attr("disabled","disabled");let i=this.getOptions(),r=vr_1.puma(t.currentTarget).attr("dataItemId");null==r&&(r=vr_1.puma(t.target).closest(".vrButton").attr("dataItemId"));let n=this.dataSource().filter(e=>e[i.dataSourceFieldId]==r)[0],a=new vr_1.GridButtonSettings;switch(e.columnType){case vr_1.GridColumnTypeEnum.Button:case vr_1.GridColumnTypeEnum.EditButton:case vr_1.GridColumnTypeEnum.Icon:case vr_1.GridColumnTypeEnum.Custom:case vr_1.GridColumnTypeEnum.Label:a=e.GridControlsSettings}if(null!=a){let i=new GridControlsClickEvent;i.dataItem=n,null!=a.onClick&&!1!==a.enabled?null!=a.confirmationMessage&&a.confirmationMessage.length>0?vr_1.confirm(a.confirmationMessage).then(()=>{a.onClick(i)}):a.onClick(i):e.columnType==vr_1.GridColumnTypeEnum.EditButton&&this.openAutoWindow(n),window.setTimeout(()=>vr_1.puma(t.target).removeAttr("disabled"),500)}return!1})}manageControls(){let e=[this._cellButtons,this._cellIcons,this._cellCustoms,this._cellLabels,this._cellImages];for(let t of e)t.forEach((e,t)=>{this.manageDataSourceControls(e,t)})}originalDataSource(){return this._originalDataSource}dataSource(e,t=!1){if(null!=e){let i=this.getOptions();if(e.length>0&&null==e[0][i.dataSourceFieldId]){let t=-1;for(let r of e)r[i.dataSourceFieldId]=t,t--;this._lastIndexAdded=t}if(null!=i.groupBy&&this.sortingGroupFields(e),null!=i.sortBy){let e=i.sortBy.field;this.sort(e,i.sortBy.direction,!1)}if(this._originalDataSource=JSON.parse(JSON.stringify(e)),i.filterable){this._dictionaryDataValues.clear();for(let t of i.columns)t.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(t.field,e.map(e=>String(e[t.field]).toLowerCase()))}t?(this.clearFilters(!1),this.setDataSource(e)):!1!==i.serverBinding?this.setDataSource(e):this.applyFilters(!0,!i.serverBinding)}return null==this._dataSource&&(this._dataSource=[]),this._dataSource}update(e=!0,t=!0){t&&(this._tempRebindInfo=new TempRebindInfo,this._tempRebindInfo.checkedValues=this.getCheckedValues(),this._tempRebindInfo.page=this.pageSelected(),this._tempRebindInfo.yPosition=vr_1.puma(this.container()).find(".grid_Body")[0].scrollTop),this.setDataSource(this.dataSource(),e)}setDataSource(e,t=!0){let i=this.getOptions();if(this._dataSource=e,null==this._actualSortingInfo||i.serverBinding)if(this._cellButtons=new Map,this._cellIcons=new Map,this._cellCustoms=new Map,this._cellLabels=new Map,this._cellImages=new Map,null==this._tempRebindInfo||i.serverBinding)this.drawTable(e,t),this.manageControls();else{let i=this._tempRebindInfo.page,r=this._tempRebindInfo.checkedValues,n=this._tempRebindInfo.yPosition;this._tempRebindInfo=null,this.pageSelected(i,!1),this.drawTable(e,t),this.manageControls(),this.selectRows(r,void 0,!1),vr_1.puma(this.container()).find(".grid_Body").scrollTop(n)}else this.applySorting()}drawTable(e,t=!0){let i,r,n,a=this.getOptions();if(("boolean"==typeof a.pageSize||this._pageSizeUnlimited)&&(a.pageSize=e.length),0==vr_1.puma(this.element()).find("tbody").length?vr_1.puma(this.element()).vrAppendPuma("<tbody></tbody>"):(vr_1.puma(this.element()).find("tbody tr").empty(),vr_1.puma(this.element()).find("tbody td").css("background-color","")),a.lockable&&(0==vr_1.puma(this._elementLocked).find("tbody").length?vr_1.puma(this._elementLocked).vrAppendPuma("<tbody></tbody>"):(vr_1.puma(this._elementLocked).find("tbody tr").empty(),vr_1.puma(this._elementLocked).find("tbody td").css("background-color",""))),a.serverBinding?(i=e,r=0,n=e.length-1):(r=(this.pageSelected()-1)*a.pageSize,n=this.pageSelected()*a.pageSize,i=e.slice(r,n)),0==i.length){let t={};for(let e of a.columns)t[e.field]=null,t.defaultRow=!0;i.push(t),0==e.length&&e.push(t)}else{let t=vr_1.puma(this._divBody).find("table tr[defaultrow='defaultrow']");t.length>0&&(t.find("td").empty(),t.removeAttr("defaultRow")),i.filter(e=>null!=e.defaultRow).length>0&&i.splice(0,1),e.filter(e=>null!=e.defaultRow).length>0&&e.splice(0,1)}let o=[];(a.groupable||null!=a.groupBy)&&(vr_1.puma(this.container()).find(".grid_trGroupBy").remove(),vr_1.puma(this.container()).find(".p-grid-totalsGroup").remove(),this._groupByActualValue={},o=a.columns.filter(e=>!0!==e.hidden));let l=a.serverBinding?0:(this.pageSelected()-1)*a.pageSize;l>e.length&&(l=0,this.pageSelected(1,!1));let s=1;for(let t of i){let i=e[l],r=i[a.dataSourceFieldId],n="row"+l+"_"+r,u=0;if(!1!==a.groupable&&null!=a.groupBy&&null!=a.groupBy.fields){let i=0;for(let r of a.groupBy.fields){let n=t[r.field],l=a.columns.filter(e=>e.field==r.field)[0];if(this._groupByActualValue[r.field]!==n){if(0==u)for(let e=i;e<a.groupBy.fields.length;e++)a.groupBy=a.groupBy,this._groupByActualValue[a.groupBy.fields[e].field]=void 0;let d=vr_1.puma(this.element()).find("tbody tr:nth-child("+(s+u)+")")[0],c=null,p=vr_1.puma("<tr value='"+(null==n||""===n?"nosetted":String(n).replace(/%/,"").replace(/ /g,"").replace(/\./g,"").replace(/-/g,"").replace(/\//g,""))+"' level='"+i+"' class='grid_trGroupBy p-grid-body'></tr>");c=null==d?p.vrAppendToPuma(vr_1.puma(this.element()).find("tbody"))[0]:p.vrInsertBeforePuma(d)[0],vr_1.puma(c).height(a.rowHeight);let h=null;if(a.lockable){let e=vr_1.puma(this._elementLocked).find("tbody tr:nth-child("+(s+u)+")")[0],t=vr_1.puma("<tr value='"+(null==n||""===n?"nosetted":String(n).replace(/%/,"").replace(/ /g,"").replace(/\./g,"").replace(/-/g,"").replace(/\//g,""))+"' level='"+i+"' class='grid_trGroupBy grid_trGroupByLocked p-grid-body'></tr>");h=null==e?t.vrAppendToPuma(vr_1.puma(this._elementLocked).find("tbody"))[0]:t.vrInsertBeforePuma(e)[0],vr_1.puma(h).height(a.rowHeight)}if(u++,i>0)for(let e=0;e<i;e++)vr_1.puma(c).vrAppendPuma("<td width=16 class='groupBy"+r+"'></td>"),a.lockable&&vr_1.puma(h).vrAppendPuma("<td width=16 class='groupBy"+r+"'></td>");let m=String(n);null!=l&&(l.type==vr_1.GridColumnTypeEnum.Date?m=null==t[r.field]?"":Date.vrFixDateString(t[r.field]).vrToItalyString():l.type!=vr_1.GridColumnTypeEnum.Checkbox&&l.type!=vr_1.GridColumnTypeEnum.Boolean||(m=Boolean(t[r.field])?"Sì":"No"));let f=o.length-i+a.groupBy.fields.length;a.checkboxes==vr_1.GridCheckboxModeEnum.None&&(f-=1);let g=m;if(null!=r.displayField&&(g=t[r.displayField]),null!=r.displayValue){let e=new vr_1.GridGroupDisplayValueEvent;e.sender=this,e.dataItem=t,e.field=r.field,e.displayField=r.displayField,g=r.displayValue(e)}null==g&&(g=m);let v=vr_1.IconClassLight.CaretDown,b=this.getChildrenGroupRows(c,this._divBody);this.thereAreLockedColumns()&&(b=this.getChildrenGroupRows(c,this._divBodyLocked)),this.pageSelected()>1&&!vr_1.puma(b.allRows.vrFirst()).is(":visible")&&(v=vr_1.IconClassLight.CaretRight);let C="<td width=16 class='grid_tdGroupByCollapse groupBy"+r+"' style='border-right-color: transparent !important;'><i class='grid_tdGroupByCollapse "+v+"'></i></td><td class='grid_tdGroupByName' style='font-weight: 500;' colspan="+f+"><div class='grid_divGroupByName'>"+(1==e.length&&null!=e[0].defaultRow?"Nessun gruppo o elemento presente":null==g||""===g||"null"==g?"Non impostato":g)+"</div>"+(null!=a.onGroupEditClick||null!=r.onEditClick?"<div style='position: relative; display: inline-flex; margin-left: 6px;"+(!1!==a.checkboxes?"top: -4px;":"")+"'><i class='grid_groupByEdit "+vr_1.IconClassLight.Pencil+"' style='cursor: pointer;'></div></i>":"")+"</td>";if(vr_1.puma(c).vrAppendPuma(C),a.lockable&&vr_1.puma(h).vrAppendPuma(C),this._groupByActualValue[r.field]=n,this.thereAreLockedColumns()&&vr_1.puma(c).find("i.grid_groupByEdit").parent().hide(),a.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=vr_1.puma(c).find("div.grid_divGroupByName")[0];this.thereAreLockedColumns()&&(e=vr_1.puma(h).find("div.grid_divGroupByName")[0]),vr_1.createCheckBox({cssContainer:"margin-right: 5px;",onCheck:e=>{let t=e.sender.element().parentElement.parentElement.parentElement.parentElement,i=this.getChildrenGroupRows(t,this._divBody);this.thereAreLockedColumns()&&(i=this.getChildrenGroupRows(t,this._divBodyLocked));for(let t of i.children){let i=vr_1.puma(t).attr("id");if(null!=i&&i.length>0){let r=i.split("_")[1];if(e.checked){vr_1.puma(t).find(".vr-checkbox-column")[0].checked&&this.unselectRow(r)}this.selectRowInternal(r,!0,!0,!1,!0,!1,!0)}}}},e,vr_1.ControlPositionEnum.Before)}vr_1.puma(c).find("td.grid_tdGroupByCollapse").add(vr_1.puma(h).find("td.grid_tdGroupByCollapse")).click(e=>{let i=vr_1.puma(e.currentTarget).find("i").hasClass("fa-caret-down"),n=this.getChildrenGroupRows(e.currentTarget.parentElement,this._divBody);n.allRows.vrPushRange(this.getChildrenGroupRows(e.currentTarget.parentElement,this._divBodyLocked).allRows);for(let e of n.allRows)if(i)vr_1.puma(e).hide();else{vr_1.puma(e).show();let t=vr_1.puma(e).find("i.grid_tdGroupByCollapse");t.removeClass(vr_1.IconClassLight.CaretRight),t.addClass(vr_1.IconClassLight.CaretDown)}let o=vr_1.puma(e.currentTarget.parentElement).index()+1,l=vr_1.puma(vr_1.puma(this._divBody).find("tr:nth-child("+o+")").find("i")[0]);if(i){if(l.removeClass(vr_1.IconClassLight.CaretDown),l.addClass(vr_1.IconClassLight.CaretRight),a.lockable){let e=vr_1.puma(vr_1.puma(this._divBodyLocked).find("tr:nth-child("+o+")").find("i")[0]);e.removeClass(vr_1.IconClassLight.CaretDown),e.addClass(vr_1.IconClassLight.CaretRight)}}else if(l.removeClass(vr_1.IconClassLight.CaretRight),l.addClass(vr_1.IconClassLight.CaretDown),a.lockable){let e=vr_1.puma(vr_1.puma(this._divBodyLocked).find("tr:nth-child("+o+")").find("i")[0]);e.removeClass(vr_1.IconClassLight.CaretRight),e.addClass(vr_1.IconClassLight.CaretDown)}if(null!=a.onGroupExpandCollapse||null!=r.onExpandCollapse){let e=new vr_1.GridGroupExpandCollapseEvent;e.sender=this,e.groupByField=r.field,e.groupByDisplayField=r.displayField,e.collapse=i,e.value=t[r.field],null!=r.displayField&&(e.displayValue=t[r.displayField]);let o=[];for(let e of n.allRows){let t=vr_1.puma(e).attr("dataitemid"),i=this.dataSource().filter(e=>e[a.dataSourceFieldId]==t)[0];o.push(i)}e.childrenItems=o,e.childrenRows=n.allRows,null!=a.onGroupExpandCollapse?a.onGroupExpandCollapse(e):null!=r.onExpandCollapse&&r.onExpandCollapse(e)}}),vr_1.puma(c).find(".grid_groupByEdit").add(vr_1.puma(h).find(".grid_groupByEdit")).click(e=>{if(null!=a.onGroupEditClick||null!=r.onEditClick){let i=new vr_1.GridGroupEditClickEvent;i.sender=this,i.groupByField=r.field,i.groupByDisplayField=r.displayField,i.value=t[r.field],null!=r.displayField&&(i.displayValue=t[r.displayField]);let n=this.getChildrenGroupRows(e.currentTarget.parentElement,this._divBody),o=[];for(let e of n.allRows){let t=vr_1.puma(e).attr("dataitemid"),i=this.dataSource().filter(e=>e[a.dataSourceFieldId]==t)[0];o.push(i)}i.childrenItems=o,i.childrenRows=n.allRows,null!=a.onGroupEditClick?a.onGroupEditClick(i):null!=r.onEditClick&&r.onEditClick(i)}})}i++}}s+=u;let d=!1,c=vr_1.puma(this.element()).find(">tbody>tr:nth-child("+s+")")[0];null==c&&(c=document.createElement("tr"),d=!0),vr_1.puma(c).addClass("p-grid-body"),vr_1.puma(c).attr("id",n),vr_1.puma(c).attr("dataItemId",r),vr_1.puma(c).attr("row",l);let p=null,h=!1;if(a.lockable&&(p=vr_1.puma(this._elementLocked).find(">tbody>tr:nth-child("+s+")")[0],null==p&&(p=document.createElement("tr"),h=!0),vr_1.puma(p).addClass("p-grid-body"),vr_1.puma(p).attr("id",n),vr_1.puma(p).attr("dataItemId",r),vr_1.puma(p).attr("row",l)),a.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=a.groupable||null!=a.groupBy?1+a.columns.length:1,t=!1,i=null;i=this.thereAreLockedColumns()?vr_1.puma(p).find(">td:nth-child("+e+")")[0]:vr_1.puma(c).find(">td:nth-child("+e+")")[0],null==i&&(i=document.createElement("td"),t=!0),i.style.cssText+="border-left: none !important;",vr_1.puma(i).attr("width",20),vr_1.puma(i).addClass("vrGridTdCheckboxColumn"),vr_1.puma(i).attr("value","vrGridCheckboxColumn");let o="<input dataItemId='"+r+"' id='"+n+"_CheckboxColumn' class='vrCheckBox vr-checkbox-column' type='checkbox'></input><label style='display: none;' class='vrLabel vrCheckBoxLabel vr-checkboxColumn-label' for='"+n+"_CheckboxColumn'></label>";i.innerHTML=o,vr_1.puma(i).css("text-align","center"),t&&(this.thereAreLockedColumns()?vr_1.puma(p).vrAppendPuma(i):vr_1.puma(c).vrAppendPuma(i)),vr_1.puma(i).off("click"),vr_1.puma(i).click(e=>{e.shiftKey&&a.checkboxes==vr_1.GridCheckboxModeEnum.MultiCheck?this.selectRangeShiftKey(e.target):this.selectRowInternal(r,!0,!1,!1,!0,!1,!0)})}let m=a.checkboxes!=vr_1.GridCheckboxModeEnum.None?2:1;(a.groupable||null!=a.groupBy)&&(m+=a.columns.length);for(let e of a.columns){let o=!1,l=vr_1.puma(c).find(">td:nth-child("+m+")")[0];null==l&&(l=document.createElement("td"),o=!0);let s=null,u=!1;a.lockable&&(s=vr_1.puma(p).find(">td:nth-child("+m+")")[0],null==s&&(s=document.createElement("td"),u=!0));let d=e.field;vr_1.puma(l).attr("value",e.field),vr_1.puma(l).attr("field",d),l.style.cssText+="border-left: none !important;",a.lockable&&(vr_1.puma(s).attr("value",e.field),vr_1.puma(s).attr("field",d),s.style.cssText+="border-left: none !important;");let h=null!=e.width?e.width:1==e.fitSpace?this._fitSpaceColumnPercentage+"%":e.type==vr_1.GridColumnTypeEnum.EditButton?32:100;if(vr_1.puma(l).attr("width",h),a.lockable&&vr_1.puma(s).attr("width",h),1==e.fitSpace&&(vr_1.puma(l).attr("fitSpace","true"),a.lockable&&vr_1.puma(s).attr("fitSpace","true")),!0===e.hidden){l.style.display="none",o&&vr_1.puma(c).vrAppendPuma(l),a.lockable&&(s.style.display="none",u&&vr_1.puma(p).vrAppendPuma(s)),m++;continue}l.style.display="table-cell",a.lockable&&(s.style.display="table-cell"),a.multilineRows?(vr_1.puma(l).addClass("grid_multilineTableRow"),a.lockable&&vr_1.puma(s).addClass("grid_multilineTableRow")):(vr_1.puma(l).addClass("grid_singleLineTableRow"),a.lockable&&vr_1.puma(s).addClass("grid_singleLineTableRow"));let f=vr_1.GridAlignEnum.Left,g=null==t[d]?"":String(t[d]);switch(e.type){case vr_1.GridColumnTypeEnum.PasswordViewable:{let e="";for(let t of g)e+="*";g=e}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:{f=vr_1.GridAlignEnum.Right;let t=null!=e.decimalDigits?e.decimalDigits:0;if(e.type!=vr_1.GridColumnTypeEnum.Currency&&e.type!=vr_1.GridColumnTypeEnum.Percentage||(t=null!=e.decimalDigits?e.decimalDigits:2),null==e.cellSettings&&(e.cellSettings=new GridCellSettings),null==e.cellSettings.zeroIfNull&&(e.cellSettings.zeroIfNull=!1),""===g&&!1===e.cellSettings.zeroIfNull)g="";else{g=this.formatValue(Number(g),e.type,t,e.roundingSettings)}}break;case vr_1.GridColumnTypeEnum.Duration:if(f=vr_1.GridAlignEnum.Center,null==e.cellSettings&&(e.cellSettings=new GridCellSettings),null==e.cellSettings.zeroIfNull&&(e.cellSettings.zeroIfNull=!1),""===g&&!1===e.cellSettings.zeroIfNull)g="";else{g=this.formatValue(Number(g),e.type)}break;case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:f=vr_1.GridAlignEnum.Center,g=this.formatValue(new Date(g),e.type,void 0,void 0,e.showSeconds);break;case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let i=null!=t[d]&&1==Boolean(t[d])?"checked='checked'":"";f=vr_1.GridAlignEnum.Center,g="<input "+i+" disabled='disabled' dataItemId='"+r+"' id='"+n+"_"+e.field+"' class='vrCheckBox' type='checkbox'></input><label class='vrLabel vrCheckBoxLabel' for='"+n+"_"+e.field+"'></label>"}break;case vr_1.GridColumnTypeEnum.Button:case vr_1.GridColumnTypeEnum.EditButton:{let t=null;f=vr_1.GridAlignEnum.Center;let o="btn_"+e.field+"_"+n;if(null!=e.buttonSettings&&null!=i[a.dataSourceFieldId]){let r=new GridTemplateEvent;r.dataItem=i,r.className=o,r.element=l,r.empty=null==i[a.dataSourceFieldId],t=e.buttonSettings(r)}null==t&&(t=new vr_1.GridButtonSettings,t.text="",t.value=e.field);let s="max-width: 100%;",u="vrButton grid-button";1==t.isPrimaryButton&&(s+="color: #FFF; background-color: #51B3E1;"),null!=t.color&&(s+="color: "+t.color+";"),null!=t.backgroundColor&&(s+="background-color: "+t.backgroundColor+";"),null!=t.css&&(s+=t.css),null!=t.class&&(u+=" "+t.class);let d=e.type==vr_1.GridColumnTypeEnum.EditButton?vr_1.IconClassLight.Pencil:"",c="";null!=t.icon&&(d=t.icon);let p="",h="";if(null!=t.imageUrl&&(p=t.imageUrl),d.length>0){c="<span style='"+(null!=t.text?"margin-right: 5px;":"")+"'><i class='vrIcon "+d+"'></i></span> "}else if(p.length>0){h="<img style='"+(null!=t.text?"margin-right: 5px;":"")+"' src='"+p+"' />"}let m=e.type==vr_1.GridColumnTypeEnum.EditButton?"Premi per modificare la riga":"";null!=t.tooltip&&(m=t.tooltip),e.type==vr_1.GridColumnTypeEnum.EditButton&&(s+="width: 29px;");let v="";!1===t.enabled&&(v=" disabled='disabled' ",s+="opacity: 0.5; cursor: default;"),this._cellButtons.set(o,{GridControlsSettings:t,columnType:e.type});let b=null!=t.text?t.text:"";g="<button title='"+m+"' style='"+s+"' class='"+u+" "+o+"' dataItemId='"+r+"' id='"+n+"_"+e.field+"'"+v+">"+c+h+b+"</button>",!1===t.visible&&(g="")}break;case vr_1.GridColumnTypeEnum.Custom:{let t=null;f=vr_1.GridAlignEnum.Center;let r="btn_"+e.field+"_"+n;if(null!=e.customSettings&&null!=i[a.dataSourceFieldId]){let n=new GridTemplateEvent;n.dataItem=i,n.className=r,n.element=l,n.empty=null==i[a.dataSourceFieldId],t=e.customSettings(n)}null==t&&(t=new GridCustomSettings,t.value=e.field,t.template="<div></div>");let o="";null!=t.css&&(o+=t.css),this._cellCustoms.set(r,{GridControlsSettings:t,columnType:e.type}),""!==t.template&&(g="<div style='"+o+"'>"+t.template+"</div>"),!1===t.visible&&(g="")}break;case vr_1.GridColumnTypeEnum.Icon:{let t=null;f=vr_1.GridAlignEnum.Center;let o="btn_"+e.field+"_"+n;if(null!=e.iconSettings&&null!=i[a.dataSourceFieldId]){let r=new GridTemplateEvent;r.dataItem=i,r.className=o,r.element=l,r.empty=null==i[a.dataSourceFieldId],t=e.iconSettings(r)}null==t&&(t=new GridIconSettings,t.value=e.field);let s="",u="";null!=t.color&&(s+="color: "+t.color+";"),null!=t.css&&(s+=t.css),null!=t.class&&(u+=" "+t.class);let d="";null!=t.tooltip&&(d=t.tooltip),null!=t.onClick&&!1!==t.enabled&&(s+="cursor: pointer;");let c="",p="";null!=t.icon?c="<i class='vrIcon "+t.icon+"'></i>":null!=t.imageUrl&&(p="<img src='"+t.imageUrl+"' />"),this._cellIcons.set(o,{GridControlsSettings:t,columnType:e.type}),g="<span title='"+d+"' style='"+s+"' class='"+u+" "+o+"' dataItemId='"+r+"' id='"+n+"_"+e.field+"'>"+c+p+"</span>",!1===t.visible&&(g="")}break;case vr_1.GridColumnTypeEnum.Image:{let t=null;f=vr_1.GridAlignEnum.Center;let o="btn_"+e.field+"_"+n;if(null!=e.imageSettings&&null!=i[a.dataSourceFieldId]){let r=new GridTemplateEvent;r.dataItem=i,r.className=o,r.element=l,r.empty=null==i[a.dataSourceFieldId],t=e.imageSettings(r)}null==t&&(t=new GridImageSettings,t.value=e.field);let s="",u="";null!=t.css&&(s+=t.css),null!=t.class&&(u+=" "+t.class);let d="";null!=t.tooltip&&(d=t.tooltip),null!=t.onClick&&!1!==t.enabled&&(s+="cursor: pointer;");let c=g;null!=t.imageUrl&&(c=t.imageUrl),this._cellImages.set(o,{GridControlsSettings:t,columnType:e.type});let p=c;null!=t.base64Bytes&&(p="data:image/png;base64,"+t.base64Bytes),g="<img title='"+d+"' style='"+s+"' class='"+u+" "+o+"' dataItemId='"+r+"' id='"+n+"_"+e.field+"' src='"+p+"' />",!1===t.visible&&(g="")}break;case vr_1.GridColumnTypeEnum.Label:{let t=null;f=vr_1.GridAlignEnum.Left;let o="lbl_"+e.field+"_"+n;if(null!=e.labelSettings&&null!=i[a.dataSourceFieldId]){let r=new GridTemplateEvent;r.dataItem=i,r.className=o,r.element=l,r.empty=null==i[a.dataSourceFieldId],t=e.labelSettings(r)}null==t&&(t=new GridLabelSettings,t.value=e.field);let s="";null!=t.color&&(s+="color: "+t.color+";"),null!=t.css&&(s+=t.css);let u="";null!=t.tooltip&&(u=t.tooltip),null!=t.onClick&&!1!==t.enabled&&(s+="cursor: pointer;"),null!=t.bold&&(s+="font-weight: 500;");let d="";if(null!=t.underlineMode)switch(t.underlineMode){case vr_1.GridLabelUnderlineMode.Always:s+="text-decoration: underline";break;case vr_1.GridLabelUnderlineMode.None:s+="text-decoration: none";break;case vr_1.GridLabelUnderlineMode.OnFocus:d="grid_labelhover"}!0===t.noBr&&(s+="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"),this._cellLabels.set(o,{GridControlsSettings:t,columnType:e.type}),g="<label title='"+u+"' style='"+s+"' class='"+o+" "+d+"' dataItemId='"+r+"' id='"+n+"_"+e.field+"'>"+t.text+"</label>",!1===t.visible&&(g="")}break;case vr_1.GridColumnTypeEnum.ComboBox:case vr_1.GridColumnTypeEnum.DropDownList:case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:f=vr_1.GridAlignEnum.Left,null!=e.displayField&&(g=t[e.displayField]);break;case vr_1.GridColumnTypeEnum.Color:f=vr_1.GridAlignEnum.Center,g.vrIsNotNullOrEmpty()&&(g="<i class='"+vr_1.IconClassSolid.Circle+"' style='height: 20px; color: "+g+"; display: inline-flex; align-items: center;'></i>")}if(!0===t.defaultRow&&(g="",null==vr_1.puma(c).attr("defaultrow")&&vr_1.puma(c).attr("defaultrow","defaultrow")),""===l.innerHTML&&(l.innerHTML=g),a.lockable&&""===s.innerHTML&&(s.innerHTML=g),null!=e.cellSettings&&(null!=e.cellSettings.backgroundColor&&(vr_1.puma(l).css("background-color",e.cellSettings.backgroundColor),a.lockable&&vr_1.puma(s).css("background-color",e.cellSettings.backgroundColor)),null!=e.cellSettings.color&&(vr_1.puma(l).css("color",e.cellSettings.color),a.lockable&&vr_1.puma(s).css("color",e.cellSettings.color)),null!=e.cellSettings.css&&(l.style.cssText+=e.cellSettings.css,a.lockable&&(s.style.cssText+=e.cellSettings.css))),null!=a.rowColorProperty&&null!=t[a.rowColorProperty]&&""!==t[a.rowColorProperty]&&(vr_1.puma(l).css("background-color",t[a.rowColorProperty]),a.lockable&&vr_1.puma(s).css("background-color",t[a.rowColorProperty])),null!=e.cellSettings&&(f=null!=e.cellSettings.textAlign?e.cellSettings.textAlign:f),vr_1.puma(l).css("text-align",f),a.lockable&&vr_1.puma(s).css("text-align",f),!0===a.tooltip&&e.type!=vr_1.GridColumnTypeEnum.Custom){let t="";if(null!=e.cellSettings)if(!0===e.cellSettings.tooltip)t=null==e.title?"":e.title;else if("string"==typeof e.cellSettings.tooltip)t=e.cellSettings.tooltip;else if("function"==typeof e.cellSettings.tooltip){let r=new GridTooltipEvent;r.dataItem=i,r.element=l,r.empty=null==i[a.dataSourceFieldId],t=e.cellSettings.tooltip(r)}null!=t&&0!=t.length||(t=g),null!=t&&t.length>0&&(vr_1.puma(l).attr("title",vr_1.puma("<span>"+t+"</span>").text()),a.lockable&&vr_1.puma(s).attr("title",vr_1.puma("<span>"+t+"</span>").text()))}!0===e.bold&&(vr_1.puma(l).css("font-weight","500"),a.lockable&&vr_1.puma(s).css("font-weight","500")),a.lockable&&u&&e.locked?vr_1.puma(p).vrAppendPuma(s):o&&vr_1.puma(c).vrAppendPuma(l),m++}if(d&&vr_1.puma(this.element()).find(">tbody").vrAppendPuma(c),a.lockable&&h&&vr_1.puma(this._elementLocked).find(">tbody").vrAppendPuma(p),a.groupable||null!=a.groupBy)for(let e=a.columns.length-1;e>=0;e--){let t=a.columns[e],i="";(null==a.groupBy||null==a.groupBy.fields||null!=a.groupBy.fields&&!a.groupBy.fields.map(e=>e.field).includes(t.field))&&(i="display: none;");let r=vr_1.puma(c).find("td.groupBy"+t.field);if(0==r.length?vr_1.puma(c).prepend("<td width=16 style='border-left: none !important;"+i+"' class='groupBy"+t.field+"'></td>"):null==a.groupBy||null==a.groupBy.fields?r[0].style.display="none":a.groupBy.fields.map(e=>e.field)&&(r[0].style.display="table-cell"),a.lockable){let e=vr_1.puma(p).find("td.groupBy"+t.field);0==e.length?vr_1.puma(p).prepend("<td width=16 style='border-left: none !important;"+i+"' class='groupBy"+t.field+"'></td>"):null==a.groupBy||null==a.groupBy.fields?e[0].style.display="none":a.groupBy.fields.map(e=>e.field)&&(e[0].style.display="table-cell")}}if(vr_1.puma(c).height(a.rowHeight),a.checkboxes!=vr_1.GridCheckboxModeEnum.None?(vr_1.puma(c).add(vr_1.puma(p)).off("click"),vr_1.puma(c).add(vr_1.puma(p)).click(e=>{e.shiftKey&&a.checkboxes==vr_1.GridCheckboxModeEnum.MultiCheck?this.selectRangeShiftKey(e.target):vr_1.puma(e.target).is("input")||vr_1.puma(e.target).hasClass("vrButton")||vr_1.puma(e.target).hasClass("vrIcon")||this.selectRowInternal(r,!1,!0)})):(vr_1.puma(c).add(vr_1.puma(p)).off("click"),vr_1.puma(c).add(vr_1.puma(p)).click(e=>{if(null!=a.onSelectRow){let t=new GridSelectRowEvent;t.sender=this,t.rowElement=e.currentTarget,t.dataItem=i,t.checked=!0,t.empty=null==i[a.dataSourceFieldId],a.onSelectRow(t)}})),null!=a.onRowDataBound){let e=new GridOnRowDataBoundEvent;e.sender=this,e.rowElement=c;let i={};for(let e of Object.getOwnPropertyNames(t))i[e]=t[e];e.dataItem=i,e.realDataItem=t,e.empty=null==i[a.dataSourceFieldId];let r=a.onRowDataBound(e);null!=r&&r.length>0&&(vr_1.puma(c).find("td").css("background-color",r),a.lockable&&vr_1.puma(p).find("td").css("background-color",r))}l++,s++}if(i.length<a.pageSize){let e=vr_1.puma(this.element()).find(".grid_trGroupBy").length,t=a.groupable&&null!=a.groupBy?a.pageSize+e:a.pageSize,r=a.groupable&&null!=a.groupBy?i.length+1+e:i.length+1;for(let e=r;e<=t;e++)vr_1.puma(this._divBody).find("tbody tr:nth-child("+r+")").remove();if(a.lockable){let e=vr_1.puma(this._elementLocked).find(".grid_trGroupBy").length,t=a.groupable&&null!=a.groupBy?a.pageSize+e:a.pageSize,r=a.groupable&&null!=a.groupBy?i.length+1+e:i.length+1;for(let e=r;e<=t;e++)vr_1.puma(this._divBodyLocked).find("tbody tr:nth-child("+r+")").remove()}}if(this._actualPageSize>a.pageSize){let e=vr_1.puma(this.element()).find(".grid_trGroupBy").length;for(let t=a.pageSize+1+e;t<=this._actualPageSize+e;t++)vr_1.puma(this._divBody).find("tbody tr:nth-child("+(a.pageSize+1+e)+")").remove();if(a.lockable){let e=vr_1.puma(this._elementLocked).find(".grid_trGroupBy").length;for(let t=a.pageSize+1+e;t<=this._actualPageSize+e;t++)vr_1.puma(this._divBodyLocked).find("tbody tr:nth-child("+(a.pageSize+1+e)+")").remove()}}if(this._actualPageSize=a.pageSize,null!=a.onDataBound&&t){let e=new GridOnDataBoundEvent;e.sender=this,a.onDataBound(e)}if(!1!==a.footer){let t=a.footer,i=!1!==a.serverBinding?this._responseForServerBinding[a.serverBinding.itemCountPropertyName]:e.length;if(a.pageSize<i){let o=this.pageSelected(),l=Math.trunc(i/a.pageSize);if(i%a.pageSize>0&&(l+=1),t.showPagination&&0!=a.pageSize){vr_1.puma("#"+this._elementId+"_divPagination").remove();let e=vr_1.puma("<span id='"+this._elementId+"_divPagination' class='p-grid-pagination'></span>").prependTo(this._divFooter);vr_1.createButton({icon:vr_1.IconClassLight.Backward,css:"border-left: none; border-top-left-radius: 5px; border-bottom-left-radius: 5px;",onClick:e=>{this.pageSelected(1)}},e,null,this._elementId+"_btnFirstPage"),vr_1.createButton({icon:vr_1.IconClassLight.BackwardStep,onClick:e=>{let t=this.pageSelected()-1;t<1&&(t=1),this.pageSelected(t)}},e,null,this._elementId+"_btnPreviousPage");let t=a.footer.maxVisiblePages,i=1;i=o%t==0?(o/t-1)*t+1:Math.trunc(o/t)*t+1;let r=0,n=!1;l<=t?(r=i+l,n=!0):r=i+t,r>=l+1&&(r=l+1,n=!0),i>1&&(vr_1.puma("<button id='"+this._elementId+"_btnPage_"+(i-1)+"'></button>").vrAppendToPuma(e),vr_1.createButton({text:"...",onClick:e=>{this.pageSelected(i-1)}},null,null,this._elementId+"_btnPage_"+(i-1)));for(let t=i;t<=r&&(t!=r||!n);t++)vr_1.puma("<button id='"+this._elementId+"_btnPage_"+t+"'></button>").vrAppendToPuma(e),vr_1.createButton({text:t==r?i==r?String(t):"...":String(t),class:t==o?"p-grid-pageSelected":void 0,onClick:e=>{let t=Number(vr_1.puma(e.sender.element()).attr("id").split("_").last());this.pageSelected(t)}},null,null,this._elementId+"_btnPage_"+t);vr_1.puma("<button id='"+this._elementId+"_btnNextPage'></button>").vrAppendToPuma(e),vr_1.createButton({icon:vr_1.IconClassLight.ForwardStep,onClick:e=>{let t=this.pageSelected()+1;t>l&&(t=l),this.pageSelected(t)}},null,null,this._elementId+"_btnNextPage"),vr_1.puma("<button id='"+this._elementId+"_btnLastPage'></button>").vrAppendToPuma(e),vr_1.createButton({icon:vr_1.IconClassLight.Forward,css:"border-top-right-radius: 5px; border-bottom-right-radius: 5px;",onClick:e=>{this.pageSelected(l)}},null,null,this._elementId+"_btnLastPage")}if(t.totalElements)if(vr_1.puma("#"+this._elementId+"TotalsLabel").remove(),vr_1.puma("<span id='"+this._elementId+"TotalsLabel' class='p-grid-totalElements'></span>").vrAppendToPuma(this._divFooter),"boolean"==typeof t.totalElements&&!0===t.totalElements)if(0==a.pageSize)vr_1.puma("#"+this._elementId+"TotalsLabel").html("Nessun elemento");else{n>i&&(n=i);let t=r+" - "+n+" di "+i+(1==i?" elemento":" elementi")+" - "+o+" di "+l+" pagine";if(!1!==a.serverBinding){t=a.pageSize*(this.pageSelected()-1)+1+" - "+(a.pageSize*(this.pageSelected()-1)+e.length)+" di "+i+(1==i?" elemento":" elementi")+" - "+o+" di "+l+" pagine"}vr_1.puma("#"+this._elementId+"TotalsLabel").html(t)}else{let i=new GridTotalElementTemplateEvent;i.dataItems=e,i.firstIndex=r,i.lastIndex=n,i.numberOfPages=l,i.pageSelected=o;let a=t.totalElements(i);vr_1.puma("#"+this._elementId+"TotalsLabel").html(a)}}else{if(t.showPagination&&vr_1.puma("#"+this._elementId+"_divPagination").remove(),t.totalElements){vr_1.puma("#"+this._elementId+"TotalsLabel").remove(),vr_1.puma("<span id='"+this._elementId+"TotalsLabel' class='p-grid-totalElements'></span>").vrAppendToPuma(this._divFooter);let i=e.filter(e=>null==e.defaultRow||0==e.defaultRow);if("boolean"==typeof t.totalElements&&!0===t.totalElements)0==i.length?vr_1.puma("#"+this._elementId+"TotalsLabel").html("Nessun elemento"):vr_1.puma("#"+this._elementId+"TotalsLabel").html(e.length+(1==i.length?" elemento":" elementi"));else{let e=new GridTotalElementTemplateEvent;e.dataItems=i,e.firstIndex=r,e.lastIndex=n;let a=t.totalElements(e);vr_1.puma("#"+this._elementId+"TotalsLabel").html(a)}}if(!t.showPageSize){let e=controlManager_1.ControlManager.get(this._elementId+"_ddlPageSize");null!=e&&e.hide()}}}if(this._showTotals&&a.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate).length>0)if(!1!==a.serverBinding)this.createTotals(this._responseForServerBinding[a.serverBinding.totalsPropertyName],!1);else{vr_1.puma(this._divTotals).find("td").empty(),a.lockable&&vr_1.puma(this._divTotalsLocked).find("td").empty();let t=new WorkerTotalsRequest;t.isGroup=!1,t.dataItems=e,t.columnOptions=a.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate&&!0!==e.hidden).map(e=>{let t=vr_1.puma(this._divTotals).find("td[field='"+e.field+"']")[0];a.lockable&&null==t&&(t=vr_1.puma(this._divTotalsLocked).find("td[field='"+e.field+"']")[0]);let i=vr_1.puma(t).attr("decimalDigits"),r=Number(vr_1.puma(t).attr("aggregate"));return{field:e.field,decimalDigits:i,aggregateMode:r,type:e.type,countZeroInAverage:e.countZeroInAverage,roundingSettings:e.roundingSettings}}),this._workerTotals.postMessage(t),this._workerTotals.onmessage=e=>{this.createTotals(e.data,!1)}}if(a.groupable&&null!=a.groupBy){let t=new WorkerTotalsRequest;t.groupItems=[],t.isGroup=!0;let i=Array.from(vr_1.puma(this.element()).find(".grid_trGroupBy"));i.vrPushRange(Array.from(vr_1.puma(this._elementLocked).find(".grid_trGroupByLocked")));for(let r of i){let i=[];i=vr_1.puma(r).hasClass("grid_trGroupByLocked")?this.getChildrenGroupRows(r,this._divBodyLocked).children:this.getChildrenGroupRows(r,this._divBody).children;let n=Number(vr_1.puma(r).attr("level"));if(!a.serverBinding){let e=vr_1.puma(r).find("td.grid_tdGroupByName"),t=i.length;this.dataSource().length>1&&e.find("div.grid_divGroupByName").vrAppendPuma("<span style='margin-left: 5px;'>("+t+")</span>")}if(this._showTotals&&0==n){let n=vr_1.puma(r).attr("value").replace(/\(/g,"").replace(/\)/g,"").replace(/,/g,"").replace(/\[/g,"").replace(/\]/g,"").replace(/:/g,""),o=vr_1.puma(i.vrLast()).clone();o.addClass("p-grid-totalsGroup"),o.find("td").empty(),o.vrInsertAfterPuma(i.vrLast()),o.addClass(this._elementId+"_totalGroupBy"+n);let l=new WorkerTotalsGroupItem;l.groupValue=n;let s=[];for(let t of i){let i=vr_1.puma(t).attr("dataitemid");s.push(e.filter(e=>e[a.dataSourceFieldId]==i)[0])}l.dataItems=s,t.groupItems.push(l)}}this._showTotals&&a.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate).length>0&&(t.columnOptions=a.columns.filter(e=>null!=e.aggregate&&!1!==e.aggregate&&!0!==e.hidden).map(e=>{let t=vr_1.puma(this._divTotals).find("td[field='"+e.field+"']")[0];a.lockable&&null==t&&(t=vr_1.puma(this._divTotalsLocked).find("td[field='"+e.field+"']")[0]);let i=vr_1.puma(t).attr("decimalDigits"),r=Number(vr_1.puma(t).attr("aggregate"));return{field:e.field,decimalDigits:i,aggregateMode:r,type:e.type,countZeroInAverage:e.countZeroInAverage,roundingSettings:e.roundingSettings}}),this._workerTotalsGroup.postMessage(t),this._workerTotalsGroup.onmessage=e=>{this.createTotals(e.data,!0)})}this.recalculateHeight(),this.recalculateWidth(),this.recalculateHeight(),this.adjustTrHeight(),this._deletedItems=[],null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.length>0&&this.selectRows(this._checkedItemsForFiltering.map(e=>e[a.dataSourceFieldId]),void 0,!1)}createTotals(e,t){if(t)for(let t of e)for(let e of t.totals){let i=Array.from(vr_1.puma("."+this._elementId+"_totalGroupBy"+t.groupValue).find("td[field='"+e.field+"']"));for(let t of i)this.writeTotals(e,t)}else for(let t of e){let e=vr_1.puma(this._divTotals).find("td[field='"+t.field+"']")[0];this.getOptions().lockable&&null==e&&(e=vr_1.puma(this._divTotalsLocked).find("td[field='"+t.field+"']")[0]),this.writeTotals(t,e)}}writeTotals(e,t){if(null!=t){let i=this.formatValue(e.total,e.type,e.decimalDigits,e.roundingSettings);t.innerHTML=i,vr_1.puma(t).attr("title",t.innerHTML)}}formatValue(e,t,i,r,n){let a=this.getOptions();if(null==t&&(t=vr_1.GridColumnTypeEnum.String),t==vr_1.GridColumnTypeEnum.Number||t==vr_1.GridColumnTypeEnum.Currency||t==vr_1.GridColumnTypeEnum.Percentage){null==r&&(r=a.roundingSettings);let n=new vr_1.NumberFormatSettings(r);if(n.minimumFractionDigits=i,n.maximumFractionDigits=i,null!=r&&(null!=r.minimumFractionDigits&&(n.minimumFractionDigits=r.minimumFractionDigits),null!=r.maximumFractionDigits&&(n.maximumFractionDigits=r.maximumFractionDigits),r.roundingMode==vr_1.RoundingModeEnum.None&&null==r.maximumFractionDigits&&(n.maximumFractionDigits=8)),t==vr_1.GridColumnTypeEnum.Percentage&&(e=Number(e)/100),t==vr_1.GridColumnTypeEnum.Number)return Number(e).vrToNumberString(n);if(t==vr_1.GridColumnTypeEnum.Currency)return Number(e).vrToCurrencyString(n);if(t==vr_1.GridColumnTypeEnum.Percentage)return Number(e).vrToPercentageString(n)}else{if(t==vr_1.GridColumnTypeEnum.Duration){let t=Math.trunc(e/60),i=String(t);t<10&&(i="0"+i);let r=Math.trunc(e%60),n=String(r);return r<10&&(n="0"+n),i+":"+n}if(t==vr_1.GridColumnTypeEnum.Date||t==vr_1.GridColumnTypeEnum.DateTime||t==vr_1.GridColumnTypeEnum.Time){if(e=Date.vrFixDateString(e),t==vr_1.GridColumnTypeEnum.Date)return""!=e&&Date.vrIsValidDate(e)?new Date(e).vrToItalyString(vr_1.DateModeEnum.Date):"";if(t==vr_1.GridColumnTypeEnum.DateTime)return""!=e&&Date.vrIsValidDate(e)?new Date(e).vrToItalyString(vr_1.DateModeEnum.DateTime,n):"";if(t==vr_1.GridColumnTypeEnum.Time)return""!=e&&Date.vrIsValidDate(e)?new Date(e).vrToItalyString(vr_1.DateModeEnum.Time,n):""}else if(t==vr_1.GridColumnTypeEnum.String||t==vr_1.GridColumnTypeEnum.Label)return e=String(e)}return""}updateRow(e,t=!0){let i=this.getOptions(),r=e[i.dataSourceFieldId],n=this.originalDataSource().filter(e=>e[i.dataSourceFieldId]==r)[0],a=this.originalDataSource().indexOf(n),o=this.dataSource().filter(e=>e[i.dataSourceFieldId]==r)[0],l=this.dataSource().indexOf(o);null!=n?(this.originalDataSource()[a]=e,this.dataSource()[l]=e,t&&this.update()):this.addRow(e,t)}updateRows(e,t=!0){for(let t of e)this.updateRow(t,!1);t&&this.update()}addRow(e,t=!0){this.addRows([e],t)}addRows(e,t=!0){let i=this.getOptions();for(let t of e)null==t[i.dataSourceFieldId]&&(t[i.dataSourceFieldId]=this._lastIndexAdded,this._lastIndexAdded--);null==this._originalDataSource&&(this._originalDataSource=[]),this.dataSource().vrPushRange(e),this._originalDataSource.vrPushRange(e),i.groupable&&null!=i.groupBy&&this.sortingGroupFields(e),t&&this.setDataSource(this.dataSource());for(let e of i.columns)e.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(e.field,this._originalDataSource.map(t=>String(t[e.field]).toLowerCase()))}deleteRow(e,t=!1){this.deleteRows([e],t)}deleteRows(e,t=!1){let i=this.getOptions(),r=Array.from(vr_1.puma(this._divBody).find("tr"));for(let t of r)e.vrToStringArrayList().includes(vr_1.puma(t).attr("dataItemId"))&&vr_1.puma(t).remove();if(this.thereAreLockedColumns()){let t=Array.from(vr_1.puma(this._divBodyLocked).find("tr"));for(let i of t)e.vrToStringArrayList().includes(vr_1.puma(i).attr("dataItemId"))&&vr_1.puma(i).remove()}for(let t of e){let e=this.dataSource().filter(e=>e[i.dataSourceFieldId]==t)[0];null!=e&&(this.dataSource().vrDeleteItem(e,i.dataSourceFieldId),this._originalDataSource.vrDeleteItem(e,i.dataSourceFieldId))}for(let e of i.columns)e.type!=vr_1.GridColumnTypeEnum.EditButton&&this._dictionaryDataValues.set(e.field,this._originalDataSource.map(t=>String(t[e.field]).toLowerCase()));t&&this.setDataSource(this.dataSource())}rows(){let e=[],t=Array.from(vr_1.puma(this._divBody).find("tr"));for(let i of t){let t=new GridRow;t.element=i,t.cells=vr_1.puma(i).find("td"),t.id=i.id,t.dataItemId=i.getAttribute("dataItemId"),t.index=Number(i.getAttribute("row")),e.push(t)}return e}getAllItems(e=!1){let t=this.dataSource();if(e)for(let e of t)for(let t in e){let i=e[t];Date.vrIsValidDate(i)&&(e[t]=Date.vrConvertDateFromClient(i))}return t.filter(e=>!0!==e.defaultRow)}getCheckedItems(){let e=this.getOptions(),t=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column"));this.thereAreLockedColumns()&&(t=Array.from(vr_1.puma(this._divBodyLocked).find(".vr-checkbox-column")));let i=t.filter(e=>e.checked),r=[];for(let t of i){let i=t.closest("tr");if(null!=i){let t=vr_1.puma(i).attr("dataItemId"),n=this.dataSource().filter(i=>i[e.dataSourceFieldId]==t)[0];null!=n&&r.push(n)}}return r}getCheckedValues(){let e=this.getOptions();return this.getCheckedItems().map(t=>null!=t&&t[e.dataSourceFieldId])}getDeletedItems(){return this._deletedItems}getDeletedItemValues(e){let t=this.getOptions();return this.getDeletedItems().map(i=>null!=e?i[e]:i[t.dataSourceFieldId])}clearSelection(e=!0){this.unCheckAllRows(e)}checkAllRows(e=!0){let t=this.getOptions();if(t.checkboxes==vr_1.GridCheckboxModeEnum.SingleCheck)return;let i=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");i.attr("checked","checked"),null!=i[0]&&(i[0].checked=!0);let r=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column"));this.thereAreLockedColumns()&&(r=Array.from(vr_1.puma(this._divBodyLocked).find(".vr-checkbox-column")));for(let e of r)vr_1.puma(e).attr("checked","checked"),e.checked=!0;if(i.removeClass("indeterminateVrCheckbox"),t.groupable&&null!=t.groupBy&&t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=vr_1.puma(this._divBody).find(".grid_trGroupBy");this.thereAreLockedColumns()&&(e=vr_1.puma(this._divBodyLocked).find(".grid_trGroupBy"));for(let t of Array.from(e)){let e=vr_1.puma(t).find("input");e[0].checked=!0,e.removeClass("indeterminateVrCheckbox")}}if(this._checkedItemsForFiltering=this.getCheckedItems(),e&&null!=t.onSelectAllRows){let e=new GridSelectAllRowsEvent;e.sender=this,t.onSelectAllRows(e)}}unCheckAllRows(e=!0){let t=this.getOptions(),i=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");i.removeAttr("checked"),null!=i[0]&&(i[0].checked=!1);let r=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column"));this.thereAreLockedColumns()&&(r=Array.from(vr_1.puma(this._divBodyLocked).find(".vr-checkbox-column")));for(let e of r)vr_1.puma(e).removeAttr("checked"),e.checked=!1;if(i.removeClass("indeterminateVrCheckbox"),t.groupable&&null!=t.groupBy&&t.checkboxes!=vr_1.GridCheckboxModeEnum.None){let e=vr_1.puma(this._divBody).find(".grid_trGroupBy");this.thereAreLockedColumns()&&(e=vr_1.puma(this._divBodyLocked).find(".grid_trGroupBy"));for(let t of Array.from(e)){let e=vr_1.puma(t).find("input");e[0].checked=!1,vr_1.puma(e).removeAttr("checked"),e.removeClass("indeterminateVrCheckbox")}}if(this._checkedItemsForFiltering=[],e&&null!=t.onUnselectAllRows){let e=new GridUnselectAllRowsEvent;e.sender=this,t.onUnselectAllRows(e)}}selectRowsByIndexes(e,t=!0){for(let i of e)this.selectRowByIndex(i,t)}selectRowByIndex(e,t=!0){let i=vr_1.puma(this._divBody).find("tr[row='"+e+"']").attr("dataItemId");this.selectRowInternal(i,!1,!1,t)}selectRows(e,t,i=!0){if(this.getOptions().checkboxes==vr_1.GridCheckboxModeEnum.SingleCheck&&(e=[e.vrLast()]),null!=t){let i=this.getOptions(),r=[];e=e.vrDistinct();for(let i of e)r.vrPushRange(this.dataSource().filter(e=>e[t]==i));e=r.map(e=>e[i.dataSourceFieldId])}for(let t of e)this.selectRow(t,i)}selectRow(e,t=!0){this.selectRowInternal(e,!1,!1,!0,t)}selectRangeShiftKey(e){let t=Number(vr_1.puma(e).closest("tr").attr("row")),i=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column:checked"));this.thereAreLockedColumns()&&(i=Array.from(vr_1.puma(this._divBodyLocked).find(".vr-checkbox-column:checked")));let r=[];for(let e of i)r.push(vr_1.puma(e).closest("tr")[0]);let n=null,a=0;for(let e of r){let i=Number(vr_1.puma(e).attr("row")),r=Math.abs(t-i);(null==n||r<n&&r>0)&&(n=r,a=Number(vr_1.puma(e).attr("row")))}let o=a<t?t:a;for(let e=(a<t?a:t)+1;e<=o;e++){let t=vr_1.puma(this._divBody).find("tr[row='"+e+"']").attr("dataItemId");this.selectRowInternal(t,!0,!0,!1,!0,!0)}}selectRowInternal(e,t=!1,i=!1,r=!1,n=!0,a=!1,o=!1){let l=this.getOptions(),s=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column")),u=Array.from(vr_1.puma(this._divBody).find(".grid_divGroupByName input"));this.thereAreLockedColumns()&&(s=Array.from(vr_1.puma(this._divBodyLocked).find(".vr-checkbox-column")),u=Array.from(vr_1.puma(this._divBodyLocked).find(".grid_divGroupByName input")));let d=null,c=s.filter(t=>vr_1.puma(t).attr("dataItemId")==e)[0];if(null!=c){if(c.checked){let a=s.filter(e=>e.checked);if(l.checkboxes==vr_1.GridCheckboxModeEnum.SingleCheck||l.checkboxes==vr_1.GridCheckboxModeEnum.MultiCheck&&!t&&a.length>1){if(!r){for(let e of s)vr_1.puma(e).removeAttr("checked"),e.checked=!1;for(let e of u)vr_1.puma(e).removeAttr("checked"),e.checked=!1,vr_1.puma(e).removeClass("indeterminateVrCheckbox");null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.vrDeleteAllBy(t=>t[l.dataSourceFieldId]==e)}vr_1.puma(c).attr("checked","checked"),c.checked=!0}else i&&this.unselectRow(e,n)}else{if(!(l.checkboxes!=vr_1.GridCheckboxModeEnum.SingleCheck&&t||r)){for(let t of s)vr_1.puma(t).removeAttr("checked"),t.checked=!1,null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.vrDeleteAllBy(t=>t[l.dataSourceFieldId]==e);for(let e of u)vr_1.puma(e).removeAttr("checked"),e.checked=!1,vr_1.puma(e).removeClass("indeterminateVrCheckbox")}i||r?(vr_1.puma(c).attr("checked","checked"),c.checked=!0):(vr_1.puma(c).removeAttr("checked"),c.checked=!1,null!=this._checkedItemsForFiltering&&this._checkedItemsForFiltering.vrDeleteAllBy(t=>t[l.dataSourceFieldId]==e))}d=this.dataSource().filter(t=>t[l.dataSourceFieldId]==e)[0]}let p=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");p.addClass("indeterminateVrCheckbox");let h=this.getCheckedItems();if(null!=this._checkedItemsForFiltering)for(let e of h)0!=this._checkedItemsForFiltering.length&&this._checkedItemsForFiltering.map(e=>e[l.dataSourceFieldId]).includes(e[l.dataSourceFieldId])||this._checkedItemsForFiltering.push(e);if(h.length==s.length?(p.removeClass("indeterminateVrCheckbox"),p.attr("checked","checked"),null!=p[0]&&(p[0].checked=!0)):0==h.length&&p.removeClass("indeterminateVrCheckbox"),this.manageGroupCheckParent(c),null!=l.onSelectRow&&null!=d&&n){let e=vr_1.puma(c).closest("tr")[0],t=this.dataSource().map(e=>e[l.dataSourceFieldId]).indexOf(d[l.dataSourceFieldId]);-1!=t&&null!=l.dataSourceFieldId||(t=vr_1.puma(e).index());let i=new GridSelectRowEvent;i.sender=this,i.rowElement=e,i.dataItem=d,i.checked=null!=c&&c.checked,i.empty=null!=d&&null==d[l.dataSourceFieldId],i.index=t,i.shiftKey=a,i.fromCheckbox=o,l.onSelectRow(i)}}manageGroupCheckParent(e){let t=this.getOptions();if(t.groupable&&null!=t.groupBy&&null!=t.groupBy.fields&&t.groupBy.fields.length>0&&t.checkboxes!=vr_1.GridCheckboxModeEnum.None&&null!=e){let t=e.parentElement.parentElement,i=vr_1.puma(t).index();for(;!vr_1.puma(t).hasClass("grid_trGroupBy");)t=vr_1.puma(this._divBody).find("tr:nth-child("+i+")")[0],this.thereAreLockedColumns()&&(t=vr_1.puma(this._divBodyLocked).find("tr:nth-child("+i+")")[0]),i--;for(;0==Number(vr_1.puma(t).attr("level"))&&vr_1.puma(t).hasClass("grid_trGroupBy")||Number(vr_1.puma(t).attr("level"))>0||!vr_1.puma(t).hasClass("grid_trGroupBy");){if(!vr_1.puma(t).hasClass("grid_trGroupBy")){t=vr_1.puma(this._divBody).find("tr:nth-child("+i+")")[0],this.thereAreLockedColumns()&&(t=vr_1.puma(this._divBodyLocked).find("tr:nth-child("+i+")")[0]),i--;continue}let e=vr_1.puma(t).find("input"),r=this.getChildrenGroupRows(t,this._divBody);this.thereAreLockedColumns()&&(r=this.getChildrenGroupRows(t,this._divBodyLocked));let n=this.getCheckedChildrenGroupRows(t,this._divBody).length;if(this.thereAreLockedColumns()&&(n=this.getCheckedChildrenGroupRows(t,this._divBodyLocked).length),e[0].checked=!1,e.removeClass("indeterminateVrCheckbox"),n==r.children.length?e[0].checked=!0:0==n?e[0].checked=!1:e.addClass("indeterminateVrCheckbox"),0==Number(vr_1.puma(t).attr("level")))break;t=vr_1.puma(this._divBody).find("tr:nth-child("+i+")")[0],this.thereAreLockedColumns()&&(t=vr_1.puma(this._divBodyLocked).find("tr:nth-child("+i+")")[0]),i--}}}unselectRows(e,t,i=!0){if(null!=t){let i=this.getOptions(),r=[];e=e.vrDistinct();for(let i of e)r.vrPushRange(this.dataSource().filter(e=>e[t]==i));e=r.map(e=>e[i.dataSourceFieldId])}for(let t of e)this.unselectRow(t,i)}unselectRow(e,t=!0){let i=this.getOptions(),r=Array.from(vr_1.puma(this._divBody).find(".vr-checkbox-column"));this.thereAreLockedColumns()&&(r=Array.from(vr_1.puma(this._divBodyLocked).find(".vr-checkbox-column")));let n=vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"header_CheckboxColumn");n.removeAttr("checked"),null!=n[0]&&(n[0].checked=!1);let a=this.getCheckedItems();if(null!=this._checkedItemsForFiltering)for(let e of a)this._checkedItemsForFiltering.vrDeleteItem(e,i.dataSourceFieldId);0==a.length?n.removeClass("indeterminateVrCheckbox"):n.addClass("indeterminateVrCheckbox");let o=null,l=r.filter(t=>vr_1.puma(t).attr("dataItemId")==e)[0];if(null!=l&&(l.checked&&(vr_1.puma(l).removeAttr("checked"),l.checked=!1),o=this.dataSource().filter(t=>t[i.dataSourceFieldId]==e)[0]),null!=i.onUnselectRow&&t){let e=new GridUnselectRowEvent;e.sender=this,e.rowElement=l.closest("tr"),e.dataItem=o,i.onUnselectRow(e)}}applySorting(e=!0){null!=this._actualSortingInfo&&this.sort(this._actualSortingInfo.field,this._actualSortingInfo.mode,e)}removeSort(e=!0){if(null!=this._actualSortingInfo){let t=this.getOptions(),i=this._actualSortingInfo.field,r=vr_1.puma(this._divHeader).find("th[value='"+i+"']");t.lockable&&null==r[0]&&(r=vr_1.puma(this._divHeaderLocked).find("th[value='"+i+"']")),null!=r[0]&&(r[0].style.cssText+="background-color: #e3f1fa !important; color: #000 !important;",null!=r.find(".grid_headerThContent")[0]&&(r.find(".grid_headerThContent")[0].style.cssText+="color: #000 !important;")),r.find("i").removeClass(vr_1.IconClassLight.CaretUp),r.find("i").removeClass(vr_1.IconClassLight.CaretDown),r.removeAttr("sortMode"),this._actualSortingInfo=null,e&&(!1!==t.serverBinding?this.rebind():this.update())}}sort(e,t,i=!0){let r=this.getOptions();if(!1===r.sortable)return;null!=this._actualSortingInfo&&this._actualSortingInfo.field!==e&&this.removeSort(!1);let n=vr_1.puma(this._divHeader).find("th[value='"+e+"']");r.lockable&&null==n[0]&&(n=vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']")),null!=n[0]&&(n[0].style.cssText+="background-color: coral !important; color: #FFF !important;",null!=n.find(".grid_headerThContent")[0]&&(n.find(".grid_headerThContent")[0].style.cssText+="color: #FFF !important;")),null==t&&(t=vr_1.GridSortDirectionEnum.Asc),this._actualSortingInfo={field:e,mode:t},t==vr_1.GridSortDirectionEnum.Asc?(n.find("i").removeClass(vr_1.IconClassLight.CaretDown),n.find("i").removeClass(vr_1.IconClassLight.CaretUp),n.find("i").addClass(vr_1.IconClassLight.CaretUp),n.attr("sortMode",vr_1.GridSortDirectionEnum.Asc)):(n.find("i").removeClass(vr_1.IconClassLight.CaretDown),n.find("i").removeClass(vr_1.IconClassLight.CaretUp),n.find("i").addClass(vr_1.IconClassLight.CaretDown),n.attr("sortMode",vr_1.GridSortDirectionEnum.Desc)),!1!==r.serverBinding&&i?this.rebind():(this.dataSource().length>2500&&vr_1.showLoader(),window.setTimeout(()=>{this._cellButtons=new Map,this._cellIcons=new Map,this._cellCustoms=new Map,this._cellLabels=new Map,this._cellImages=new Map;let n=this.dataSource().map(e=>e);null!=r.groupBy?(r.groupBy.internalSortBy={field:e,direction:t},this.sortingGroupFields(n)):n.vrSortBy([e],t==vr_1.GridSortDirectionEnum.Asc),i&&(this.drawTable(n),this.manageControls()),vr_1.hideLoader()}))}sortingGroupFields(e){let t=this.getOptions(),i=[],r=null!=t.groupBy.sortBy?t.groupBy.sortBy.field:null;if(null!=r)t.groupBy.sortBy.direction==vr_1.GridSortDirectionEnum.Desc?i.push("-"+r):i.push(r);else if(null!=t.groupBy.fields)for(let e of t.groupBy.fields)null!=e&&(i.includes(e.field)||i.push(e.field));if(null!=t.groupBy.internalSortBy){let e=t.groupBy.internalSortBy.field;null!=e&&(t.groupBy.internalSortBy.direction==vr_1.GridSortDirectionEnum.Desc?i.push("-"+e):i.push(e))}e.vrSortBy(i)}column(e){let t=this.getOptions(),i=t.columns.filter(t=>t.field==e)[0],r=t.columns.indexOf(i);return t.columns[r]}columnTitle(e,t){let i=this.column(e);if(null!=i){if(null!=t){i.title=t,vr_1.puma(this._divHeader).find("th[value='"+e+"']").find("span.grid_headerThContent").html(t),this.getOptions().lockable&&vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").find("span.grid_headerThContent").html(t)}return i.title}return""}hideColumns(e,t=!0){for(let t of e)this.hideColumn(t,!1);t&&this.update()}hideColumn(e,t=!0){vr_1.puma(this._divHeader).find("th[value='"+e+"']").hide(),vr_1.puma(this._divFilters).find("td[value='"+e+"']").hide(),vr_1.puma(this._divBody).find("td[value='"+e+"']").hide(),vr_1.puma(this._divTotals).find("td[value='"+e+"']").hide(),this.getOptions().lockable&&(vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").hide(),vr_1.puma(this._divFiltersLocked).find("td[value='"+e+"']").hide(),vr_1.puma(this._divBodyLocked).find("td[value='"+e+"']").hide(),vr_1.puma(this._divTotalsLocked).find("td[value='"+e+"']").hide());let i=this.column(e);null!=i&&(i.hidden=!0,this.removeFilter(e)),t&&this.update()}hideCheckboxColumn(e=!1){this.hideColumn("vrGridCheckboxColumn",e)}showColumns(e,t=!0){for(let t of e)this.showColumn(t,!1);t&&this.update()}showColumn(e,t=!0){vr_1.puma(this._divHeader).find("th[value='"+e+"']").show(),vr_1.puma(this._divFilters).find("td[value='"+e+"']").show(),vr_1.puma(this._divBody).find("td[value='"+e+"']").show(),vr_1.puma(this._divTotals).find("td[value='"+e+"']").show(),this.getOptions().lockable&&(vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").show(),vr_1.puma(this._divFiltersLocked).find("td[value='"+e+"']").show(),vr_1.puma(this._divBodyLocked).find("td[value='"+e+"']").show(),vr_1.puma(this._divTotalsLocked).find("td[value='"+e+"']").show());let i=this.column(e);null!=i&&(i.hidden=!1),t&&this.update()}showCheckboxColumn(e=!1){this.showColumn("vrGridCheckboxColumn",e)}showOnlyThisColumns(e,t=!0){let i=this.getOptions();for(let e of i.columns)this.hideColumn(e.field,!1);for(let t of e)this.showColumn(t,!1);t&&this.update()}columnVisible(e,t,i=!0){t?this.showColumn(e,i):this.hideColumn(e,i)}columnCheckboxVisible(e,t=!1){e?this.showCheckboxColumn(t):this.hideCheckboxColumn(t)}lockColumns(e,t=!0){if(this.getOptions().lockable){for(let t of e)this.lockColumn(t,!1);t&&this.update()}}lockColumn(e,t=!0){let i=this.getOptions();if(i.lockable){if(null!=this._divHeaderLocked&&(this._divHeaderLocked.style.cssText+="display: inline-block;"),null!=this._divFiltersLocked&&(this._divFiltersLocked.style.cssText+="display: inline-block;"),null!=this._divBodyLocked&&(this._divBodyLocked.style.cssText+="display: inline-block;"),null!=this._divTotalsLocked&&(this._divTotalsLocked.style.cssText+="display: inline-block;"),!this.thereAreLockedColumns()){let e=this.column("editButton");if(null!=e){e.locked=!0,this.showColumn("editButton",!1);let t=i.columns.indexOf(e),r=i.columns.splice(t,1)[0];i.columns.splice(0,0,r),vr_1.puma(this._divHeader).find("th[value='editButton']").attr("locked","locked"),vr_1.puma(this._divHeader).find("th[value='editButton']").vrAppendToPuma(vr_1.puma(this._divHeaderLocked).find("tr")),vr_1.puma(this._divFilters).find("td[value='editButton']").vrAppendToPuma(vr_1.puma(this._divFiltersLocked).find("tr")),vr_1.puma(this._divTotals).find("td[value='editButton']").vrAppendToPuma(vr_1.puma(this._divTotalsLocked).find("tr"))}if(!1!==i.checkboxes){let e=i.columns[0].field;vr_1.puma(this._divHeader).find("th[value='vrGridCheckboxColumn']").vrInsertBeforePuma(vr_1.puma(this._divHeaderLocked).find("tr th[value='"+e+"']")),vr_1.puma(this._divFilters).find("td[value='vrGridCheckboxColumn']").vrInsertBeforePuma(vr_1.puma(this._divFiltersLocked).find("tr td[value='"+e+"']")),vr_1.puma(this._divTotals).find("td[value='vrGridCheckboxColumn']").vrInsertBeforePuma(vr_1.puma(this._divTotalsLocked).find("tr td[value='"+e+"']"))}}vr_1.puma(this._divHeader).find("th[value='"+e+"']").vrAppendToPuma(vr_1.puma(this._divHeaderLocked).find("tr")),vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").attr("locked","locked"),vr_1.puma(this._divFilters).find("td[value='"+e+"']").vrAppendToPuma(vr_1.puma(this._divFiltersLocked).find("tr")),vr_1.puma(this._divTotals).find("td[value='"+e+"']").vrAppendToPuma(vr_1.puma(this._divTotalsLocked).find("tr"));let r=this.column(e);if(null!=r){r.locked=!0,this.showColumn(e,!1);let t=i.columns.indexOf(r),n=i.columns.splice(t,1)[0],a=i.columns.filter(e=>1==e.locked).vrLast(),o=null==a?0:i.columns.lastIndexOf(a);i.columns.splice(null==a?0:o+1,0,n)}t&&this.update()}}unlockColumns(e,t=!0){if(this.getOptions().lockable){for(let t of e)this.unlockColumn(t,!1);t&&this.update()}}unlockColumn(e,t=!0){let i=this.getOptions();if(i.lockable){vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").removeAttr("locked"),vr_1.puma(this._divHeaderLocked).find("th[value='"+e+"']").vrAppendToPuma(vr_1.puma(this._divHeader).find("tr")),vr_1.puma(this._divFiltersLocked).find("td[value='"+e+"']").vrAppendToPuma(vr_1.puma(this._divFilters).find("tr")),vr_1.puma(this._divTotalsLocked).find("td[value='"+e+"']").vrAppendToPuma(vr_1.puma(this._divTotals).find("tr"));let r=this.column(e);if(null!=r){r.locked=!1;let e=i.columns.indexOf(r),t=i.columns.splice(e,1)[0];i.columns.splice(i.columns.length,0,t)}if(!this.thereAreLockedColumns()){null!=this._divHeaderLocked&&(this._divHeaderLocked.style.cssText+="display: none;"),null!=this._divFiltersLocked&&(this._divFiltersLocked.style.cssText+="display: none;"),null!=this._divBodyLocked&&(this._divBodyLocked.style.cssText+="display: none;"),null!=this._divTotalsLocked&&(this._divTotalsLocked.style.cssText+="display: none;");let e=this.column("editButton");if(null!=e){e.locked=!1;let t=i.columns.indexOf(e),r=i.columns.splice(t,1)[0];i.columns.splice(0,0,r);let n=i.columns[1].field;vr_1.puma(this._divHeaderLocked).find("th[value='editButton']").removeAttr("locked"),vr_1.puma(this._divHeaderLocked).find("th[value='editButton']").vrInsertBeforePuma(vr_1.puma(this._divHeader).find("tr th[value='"+n+"']")),vr_1.puma(this._divFiltersLocked).find("td[value='editButton']").vrInsertBeforePuma(vr_1.puma(this._divFilters).find("tr td[value='"+n+"']")),vr_1.puma(this._divTotalsLocked).find("td[value='editButton']").vrInsertBeforePuma(vr_1.puma(this._divTotals).find("tr td[value='"+n+"']"))}if(!1!==i.checkboxes){let e=i.columns[0].field;vr_1.puma(this._divHeaderLocked).find("th[value='vrGridCheckboxColumn']").vrInsertBeforePuma(vr_1.puma(this._divHeader).find("tr th[value='"+e+"']")),vr_1.puma(this._divFiltersLocked).find("td[value='vrGridCheckboxColumn']").vrInsertBeforePuma(vr_1.puma(this._divFilters).find("tr td[value='"+e+"']")),vr_1.puma(this._divTotalsLocked).find("td[value='vrGridCheckboxColumn']").vrInsertBeforePuma(vr_1.puma(this._divTotals).find("tr td[value='"+e+"']"))}}t&&this.update()}}lockedColumns(){return this.getOptions().columns.filter(e=>e.locked&&"editButton"!=e.field)}thereAreLockedColumns(){let e=this.getOptions();return e.lockable&&e.columns.filter(e=>"editButton"!=e.field).vrAny(e=>e.locked)}removeGroup(e,t=!0){this.removeGroups([e],t)}removeGroups(e,t=!0){let i=this.getOptions();if(i.groupable&&null!=i.groupBy){for(let t of e)i.groupBy.fields.map(e=>e.field).includes(t)&&i.groupBy.fields.vrDeleteAllBy(e=>e.field==t),vr_1.puma("#"+this._elementId+"_divContainer").find(".groupBy"+t).hide();null!=i.groupBy.fields&&0!=i.groupBy.fields.length||(i.groupBy=null),t&&this.update()}}removeAllGroups(e=!0){let t=this.getOptions();t.groupable&&null!=t.groupBy&&this.removeGroups(t.groupBy.fields.map(e=>e.field),!1),t.groupBy=null,e&&this.update()}addGroup(e,t=!0,i,r){this.addGroups([e],t,i,r)}addGroups(e,t=!0,i,r){let n=this.getOptions();if(null==n.groupBy)n.groupBy=new vr_1.GridGroupBySettings;else if(null!=n.groupBy&&null!=n.groupBy.fields&&n.groupBy.fields.length>0){let a=utilityManager_1.UtilityManager.duplicate(n.groupBy.fields);for(let t of e){let e="";e="string"==typeof t?t:t.field,a.map(e=>e.field).includes(e)||a.push(t)}return this.removeAllGroups(!1),void this.addGroups(a,t,i,r)}if(!n.groupable)throw new Error("Griglia non raggruppabile! Mettere opzione .groupable: true");null!=i&&(n.groupBy.sortBy=i),null!=r&&(n.groupBy.internalSortBy=r);for(let t of e){let e=t;"string"==typeof t&&(e=new vr_1.GridGroupByItem,e.field=t),null==n.groupBy.fields&&(n.groupBy.fields=[]),n.groupBy.fields.map(e=>e.field).includes(e.field)||n.groupBy.fields.push(e);let i=t;if("string"!=typeof t&&(i=t.field),vr_1.puma("#"+this._elementId+"_divContainer").find(".groupBy"+i).show(),Array.from(vr_1.puma(this._divHeader).find(">table tr:first-child th")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divHeader).find(">table tr:first-child").vrPrependPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1;' class='groupBy"+e.field+"' value='"+e.field+"'></th>"),Array.from(vr_1.puma(this._divFilters).find(">table tr:first-child td")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divFilters).find(">table tr:first-child").vrPrependPuma("<td width=16 style='border: 1px solid rgb(221, 221, 221);' class='groupBy"+e.field+"'></td>"),n.lockable){Array.from(vr_1.puma(this._divHeaderLocked).find(">table tr:first-child th")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divHeaderLocked).find(">table tr:first-child").vrPrependPuma("<th width=16 style='border: 1px solid rgb(221, 221, 221); background-color: #51B3E1;' class='groupBy"+e.field+"' value='"+e.field+"'></th>"),Array.from(vr_1.puma(this._divFiltersLocked).find(">table tr:first-child td")).map(e=>e.classList[0]).includes("groupBy"+e.field)||vr_1.puma(this._divFiltersLocked).find(">table tr:first-child").vrPrependPuma("<td width=16 style='border: 1px solid rgb(221, 221, 221);' class='groupBy"+e.field+"'></td>")}n.columns.map(e=>e.field).includes(e.field)||n.columns.push({field:e.field,hidden:!0})}this.sortingGroupFields(this.dataSource()),t&&this.update()}getChildrenGroupRows(e,t){let i=new GridChildrenGroupRows,r=[],n=Number(vr_1.puma(e).attr("level")),a=vr_1.puma(e).index()+2,o=vr_1.puma(t).find("tr:nth-child("+a+")"),l=Number(vr_1.puma(t).find("tr:nth-child("+a+")").attr("level"));for(r.push(o[0]);(0==n&&l!=n||n!=l&&!o.hasClass("grid_trGroupBy"))&&0!=o.length;)r.map(e=>vr_1.puma(e).attr("id")).includes(o.attr("id"))&&!o.hasClass("grid_trGroupBy")||r.push(o[0]),a++,o=vr_1.puma(t).find("tr:nth-child("+a+")"),l=Number(vr_1.puma(t).find("tr:nth-child("+a+")").attr("level"));return r=r.filter(e=>!vr_1.puma(e).hasClass("p-grid-totalsGroup")),i.children=r.filter(e=>!vr_1.puma(e).hasClass("grid_trGroupBy")),i.groupRows=r.filter(e=>vr_1.puma(e).hasClass("grid_trGroupBy")),i.allRows=r,i}getCheckedChildrenGroupRows(e,t){let i=[],r=this.getChildrenGroupRows(e,t);for(let e of r.children){let t=vr_1.puma(e).find(".vr-checkbox-column")[0];null!=t&&t.checked&&i.push(e)}return i}createWindowActions(){null==this._wndActions&&(this._wndActions=vr_1.createWindow({addToControlList:!1,width:530,height:400,closeable:!1,title:"Mostra/Nascondi colonne",classContainer:this.element().id+"_wndUtility",onClose:e=>{vr_1.puma(this._wndActions.container()).remove(),this._wndActions=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Reimposta",mode:vr_1.ButtonModeEnum.Primary,value:"restoreOriginal",icon:vr_1.IconClassLight.RotateLeft,align:vr_1.WindowFooterItemAlignEnum.Left,onClick:e=>{let t=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer");for(let e of Array.from(t.find("input"))){let t=controlManager_1.ControlManager.get(e.id),i=vr_1.puma(e).attr("field"),r=!this._originalHiddenColumnFields.includes(i);t.checked()!=r&&t.checked(r)}}},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Seleziona tutti",mode:vr_1.ButtonModeEnum.Primary,value:"checkAll",icon:vr_1.IconClassLight.Check,align:vr_1.WindowFooterItemAlignEnum.Left,onClick:e=>{let t=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer");for(let e of Array.from(t.find("input"))){let t=controlManager_1.ControlManager.get(e.id);t.checked()||t.checked(!0,!0)}}},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Deseleziona tutti",icon:vr_1.IconClassLight.Check,align:vr_1.WindowFooterItemAlignEnum.Left,onClick:e=>{let t=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer");for(let e of Array.from(t.find("input"))){let t=controlManager_1.ControlManager.get(e.id);t.checked()&&t.checked(!1,!0)}}},{type:vr_1.WindowFooterItemTypeEnum.Close,align:vr_1.WindowFooterItemAlignEnum.Right},{type:vr_1.WindowFooterItemTypeEnum.Ok,value:"ok",text:"Applica",align:vr_1.WindowFooterItemAlignEnum.Right}]}),vr_1.puma(this._wndActions.element()).vrAppendPuma("<div id='"+this._elementId+"_divWindowTableActionsContainer'  class='vrContainer'></div>"))}openWindowActions(e){this.createWindowActions();let t=[],i=[],r=[],n=[],a=[],o=[],l=!1,s=this.getOptions();this._wndActions.open([{value:"ok",callback:()=>{l&&(this.dataSource().length>1e3&&vr_1.showLoader(),this._wndActions.close(),window.setTimeout(()=>{e==GridActionEnum.GroupBy&&(i.length>0||t.length>0)?(this.removeGroups(i,!1),this.addGroups(t,!1),this.update()):e==GridActionEnum.ShowHide&&(r.length>0||n.length>0)?(this.showColumns(r,!1),this.hideColumns(n,!1),this.removeFilters(n,!1),n.length>0?this.applyFilters(!0):this.update()):e==GridActionEnum.LockUnlock&&(a.length>0||o.length>0)&&(a.length>0||this.lockedColumns().length-o.length>0?(this.lockColumns(a,!1),this.unlockColumns(o,!1),this.update()):vr_1.confirm("Vuoi ripristinare il layout di base?").then(()=>{this.lockColumns(a,!1),this.unlockColumns(o,!1),this._actualLayout=null,this.changeLayout(!0,this._originalOptionsForLayout)},()=>{this.lockColumns(a,!1),this.unlockColumns(o,!1),this.update()})),vr_1.hideLoader()},100))}}]),this.clearWindowActions();let u=vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer")[0];u.style.cssText+="overflow-y: auto;",e==GridActionEnum.ShowHide?this._wndActions.title("Mostra o nascondi colonne"):e==GridActionEnum.GroupBy?this._wndActions.title("Raggruppa per colonne"):e==GridActionEnum.LockUnlock&&this._wndActions.title("Blocca o sblocca colonne");for(let d of s.columns){if(d.type==vr_1.GridColumnTypeEnum.EditButton||""===d.title||null==d.title)continue;if(e==GridActionEnum.ShowHide&&!1===d.hideable||e==GridActionEnum.GroupBy&&!1===d.groupable||e==GridActionEnum.LockUnlock&&!1===d.lockable)continue;let c=vr_1.puma("<div id='"+this._elementId+"_divActionColumn"+d.field+"' field='"+d.field+"' class='grid_divActionColumn'></div>").vrAppendToPuma(u),p=!1;e==GridActionEnum.ShowHide?(p=!0!==d.hidden,this._wndActions.footerItem("restoreOriginal").show()):e==GridActionEnum.GroupBy?(p=!(!s.groupable||null==s.groupBy||null==s.groupBy.fields)&&s.groupBy.fields.map(e=>e.field).includes(d.field),this._wndActions.footerItem("restoreOriginal").hide()):e==GridActionEnum.LockUnlock&&(p=!0===d.locked,this._wndActions.footerItem("restoreOriginal").hide(),this._wndActions.footerItem("checkAll").hide());vr_1.puma("<input id='"+this._elementId+"_chkActionColumn"+d.field+"' field='"+d.field+"' />").vrAppendToPuma(c);vr_1.createCheckBox({checked:p,text:d.title,cssContainer:"width: 100%",onCheck:s=>{l=!0;let u=vr_1.puma(s.sender.element()).attr("field");e==GridActionEnum.ShowHide?s.checked&&!r.includes(u)?(r.push(u),n.includes(u)&&n.vrDelete(u)):s.checked||n.includes(u)||(n.push(u),r.includes(u)&&r.vrDelete(u)):e==GridActionEnum.GroupBy?s.checked&&!t.includes(u)?(t.push(u),i.includes(u)&&i.vrDelete(u)):s.checked||i.includes(u)||(i.push(u),t.includes(u)&&t.vrDelete(u)):e==GridActionEnum.LockUnlock&&(s.checked&&!a.includes(u)?(a.push(u),o.includes(u)&&o.vrDelete(u)):s.checked||o.includes(u)||(o.push(u),a.includes(u)&&a.vrDelete(u)))}},null,null,this._elementId+"_chkActionColumn"+d.field)}}clearWindowActions(){vr_1.puma("#"+this._elementId+"_divWindowTableActionsContainer").empty()}manageFilterTextByColumn(e,t,i,r){let n=this.getOptions(),a=[];a=t.type==vr_1.GridColumnTypeEnum.Custom?this._originalDataSource.filter(i=>{let r=null!=t.customFilterProperties&&t.customFilterProperties.length>0?t.customFilterProperties:Object.keys(i);for(let t in i)if(r.includes(t)&&-1!=String(i[t]).toLowerCase().indexOf(e))return!0;return!1}):this.getFilteredArrayByInputText(i,e),Array.vrEquals(a,this.dataSource())&&!0!==t.filterWebService||(this._timeoutFilterText=window.setTimeout(()=>{if(this.removeFilter(t.field,!1),!0===t.filterWebService){let i=new GridFilterSettings;i.type=t.type,i.stringFilterSettings=new GridStringFilterSettings,i.stringFilterSettings.filterTypeEnum=vr_1.GridStringFilterTypeEnum.Includes,i.stringFilterSettings.text=e.toLowerCase(),this.updateFilter(t.field,i,!1),this.rebind(null,!0)}else{this.pageSelected(1,!1),this.setDataSource(a),this._dictionaryFilterConditions.size>0&&this.applyFilters();let i=new GridFilterSettings;i.type=t.type,i.stringFilterSettings=new GridStringFilterSettings,i.stringFilterSettings.filterTypeEnum=vr_1.GridStringFilterTypeEnum.Includes,i.stringFilterSettings.text=e.toLowerCase(),this.updateFilter(t.field,i,!1)}},r?200:null!=n.groupBy||t.filterWebService?300:100))}clearFilters(e=!0,t=!1){let i=this.getOptions();this._dictionaryFilterConditions.forEach((e,t)=>{let r=i.columns.filter(e=>e.field==t)[0];switch(r.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=vr_1.puma("#"+this._elementId+"_CheckboxFilter_"+r.field);e.addClass("indeterminateVrCheckbox"),e[0].checked=!1}break;case vr_1.GridColumnTypeEnum.Date:{let e=controlManager_1.ControlManager.get(this._elementId+"_DateFilter_"+r.field);e.tooltip(""),vr_1.puma(e.element()).css("background-color","#f3f3f3"),vr_1.puma(e.element()).css("color","#000"),controlManager_1.ControlManager.get(this._elementId+"_DateFilterRemove_"+r.field).hide(),this.recalculateHeight(!0)}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let e=controlManager_1.ControlManager.get(this._elementId+"_NumberFilter_"+r.field);e.tooltip(""),vr_1.puma(e.element()).css("background-color","#f3f3f3"),vr_1.puma(e.element()).css("color","#000"),controlManager_1.ControlManager.get(this._elementId+"_NumberFilterRemove_"+r.field).hide(),this.recalculateHeight(!0)}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Custom:case vr_1.GridColumnTypeEnum.Label:{let e=controlManager_1.ControlManager.get(this._elementId+"_StringFilter_"+r.field);e.clear(),e.width("Calc(100% - 27px)");let t=controlManager_1.ControlManager.get(this._elementId+"_StringFilterBtn_"+r.field);t.tooltip(""),vr_1.puma(t.element()).css("background-color","#f3f3f3"),vr_1.puma(t.element()).css("color","#000"),controlManager_1.ControlManager.get(this._elementId+"_StringFilterBtnRemove_"+r.field).hide(),this.recalculateHeight(!0)}}this.removeFilter(t,!1)}),e&&this.update(),t&&this.rebind()}getFilteredArrayByInputText(e,t){t=t.toLowerCase();let i=[];return this._dictionaryDataValues.get(e).forEach((e,r)=>{-1!==e.indexOf(t)&&i.push(this._originalDataSource[r])}),i}createWindowFiltering(){if(null!=this._wndFiltering)return;this._wndFiltering=vr_1.createWindow({addToControlList:!1,classContainer:this.element().id+"_wndUtility",width:430,autoSize:vr_1.WindowAutoSizeDirectionEnum.Height,title:"Gestisci filtro",onClose:e=>{vr_1.puma(this._wndFiltering.container()).remove(),this._wndFiltering=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Ok,text:"Applica"},{type:vr_1.WindowFooterItemTypeEnum.Close}]}),vr_1.puma(this._wndFiltering.element()).vrAppendPuma("<div id='"+this._elementId+"_divWindowFilteringContainer' class='vrContainer'></div>");let e=vr_1.puma("#"+this._elementId+"_divWindowFilteringContainer")[0];vr_1.puma("<div id='"+this._elementId+"_switchFilterSearch'></div>").vrAppendToPuma(e),vr_1.createSwitch({labelOff:"Ricerca con parametri",labelOn:{text:"Ricerca puntuale",tooltip:"Max 100 valori"},cssContainer:"margin-bottom: 5px;",onChange:e=>{vr_1.puma(o).vrVisible(!e.checked),vr_1.puma(d).vrVisible(e.checked),this._wndFiltering.footerItem("lblCheckboxSelectedSpecificValues").visible(e.checked),this._wndFiltering.center(),e.checked&&h.focus()}},null,null,this._elementId+"_switchFilterSearch");let t,i,r,n,a,o=vr_1.div(e),l=vr_1.puma("<div id='"+this._elementId+"DivFilterDate' style='display: none;'></div>").vrAppendToPuma(o);vr_1.puma("<div id='"+this._elementId+"_ddlFilterDateType'></div>").vrAppendToPuma(l);vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:"Tipo di filtro",width:"100%",cssContainer:"margin-bottom: 10px;",items:[{text:"Data maggiore di",value:String(vr_1.GridDateFilterTypeEnum.GreaterThan)},{text:"Data minore di",value:String(vr_1.GridDateFilterTypeEnum.LessThan)},{text:"Data uguale a",value:String(vr_1.GridDateFilterTypeEnum.EqualsTo)},{text:"Data compresa tra",value:String(vr_1.GridDateFilterTypeEnum.Between)}],onAfterChange:e=>{null!=i&&null!=n&&(Number(e.sender.value())==vr_1.GridDateFilterTypeEnum.Between?t.visible()?i.show():n.show():t.visible()?i.hide():n.hide())}},null,null,this._elementId+"_ddlFilterDateType"),vr_1.puma("<input id='"+this._elementId+"_dtpFilterDateFrom' />").vrAppendToPuma(l),t=vr_1.createDatePicker({width:200,cssContainer:"margin-right: 5px;"},null,null,this._elementId+"_dtpFilterDateFrom"),vr_1.puma("<input id='"+this._elementId+"_dtpFilterDateTo' />").vrAppendToPuma(l),i=vr_1.createDatePicker({width:198,label:"e",labelSettings:{position:vr_1.PositionEnum.Left},visible:!1},null,null,this._elementId+"_dtpFilterDateTo"),vr_1.puma("<input id='"+this._elementId+"_dtpDateTimeFilterDateFrom' />").vrAppendToPuma(l),r=vr_1.createDatePicker({width:200,cssContainer:"margin-right: 5px;",visible:!1,mode:vr_1.DateModeEnum.DateTime},null,null,this._elementId+"_dtpDateTimeFilterDateFrom"),vr_1.puma("<input id='"+this._elementId+"_dtpDateTimeFilterDateTo' />").vrAppendToPuma(l),n=vr_1.createDatePicker({width:198,label:"e",labelSettings:{position:vr_1.PositionEnum.Left},visible:!1,mode:vr_1.DateModeEnum.DateTime},null,null,this._elementId+"_dtpDateTimeFilterDateTo");let s=vr_1.puma("<div id='"+this._elementId+"DivFilterNumber' style='display: none;'></div>").vrAppendToPuma(o);vr_1.puma("<div id='"+this._elementId+"_ddlFilterNumberType'></div>").vrAppendToPuma(s),vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:"Tipo di filtro",width:"100%",cssContainer:"margin-bottom: 10px;",items:[{text:"Numero maggiore di",value:String(vr_1.GridNumberFilterTypeEnum.GreaterThan)},{text:"Numero minore di",value:String(vr_1.GridNumberFilterTypeEnum.LessThan)},{text:"Numero uguale a",value:String(vr_1.GridNumberFilterTypeEnum.EqualsTo)},{text:"Numero compreso tra",value:String(vr_1.GridNumberFilterTypeEnum.Between)}],onAfterChange:e=>{null!=a&&(Number(e.sender.value())==vr_1.GridNumberFilterTypeEnum.Between?a.show():a.hide())}},null,null,this._elementId+"_ddlFilterNumberType"),vr_1.puma("<input id='"+this._elementId+"_ntbFilterNumberFrom' />").vrAppendToPuma(s),vr_1.createTextBox({mode:vr_1.TextModeEnum.Numeric,cssContainer:"margin-right: 5px;",decimals:2,validation:{minValue:0}},null,null,this._elementId+"_ntbFilterNumberFrom"),vr_1.puma("<input id='"+this._elementId+"_ntbFilterNumberTo' />").vrAppendToPuma(s),a=vr_1.createTextBox({mode:vr_1.TextModeEnum.Numeric,label:"e",labelSettings:{position:vr_1.PositionEnum.Left},visible:!1,decimals:2},null,null,this._elementId+"_ntbFilterNumberTo");let u=vr_1.puma("<div id='"+this._elementId+"DivFilterString' style='display: none;'></div>").vrAppendToPuma(o);vr_1.puma("<div id='"+this._elementId+"_ddlFilterStringType'></div>").vrAppendToPuma(u),vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:"Tipo di filtro",width:"100%",cssContainer:"margin-bottom: 10px;",items:[{text:"Inizia con",value:String(vr_1.GridStringFilterTypeEnum.StartsWith)},{text:"Finisce con",value:String(vr_1.GridStringFilterTypeEnum.EndsWith)},{text:"Uguale a",value:String(vr_1.GridStringFilterTypeEnum.EqualsTo)},{text:"Contiene",value:String(vr_1.GridStringFilterTypeEnum.Includes)}],onAfterChange:e=>{null!=a&&(Number(e.sender.value())==vr_1.GridNumberFilterTypeEnum.Between?a.show():a.hide())}},null,null,this._elementId+"_ddlFilterStringType"),vr_1.puma("<input id='"+this._elementId+"_txtFilterStringValue' />").vrAppendToPuma(u),vr_1.createTextBox({width:"100%"},null,null,this._elementId+"_txtFilterStringValue");let d=vr_1.div(e,{css:"display: none;",class:"vrGridDivSpecificValues"}),c=vr_1.div(d),p=0;vr_1.createCheckBox({cssContainer:"top: 4px;",onCheck:e=>{let t=Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input"));for(let i of t)i.checked=e.checked;vr_1.puma(e.sender.element()).removeClass("indeterminateVrCheckbox");let i=this._wndFiltering.footerItem("lblCheckboxSelectedSpecificValues");e.checked?i.value(t.length+" di "+t.length+" elementi"):i.value(t.length+" elementi")}},c,null,this._elementId+"_checkAllFilterSearchSpecificValues");let h=vr_1.createTextBox({width:"Calc(100% - 27px)",css:"border: solid 1px #ddd !important;",onKeyUp:e=>{window.clearTimeout(p),p=window.setTimeout(()=>{let t=[],i=[];for(let r of Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input")))if(""!=e.value){-1!==String(JSON.parse(r.getAttribute("tag"))).toLowerCase().indexOf(String(e.value).toLowerCase())?t.push(r.parentElement):i.push(r.parentElement)}else t.push(r.parentElement);for(let e of t)e.style.display="flex";for(let e of i)e.style.display="none"},300)}},c,null,this._elementId+"_txtFilterSearchSpecificValues");vr_1.createDatePicker({width:"Calc(100% - 27px)",css:"border: solid 1px #ddd !important;",onAfterChange:e=>{let t=[],i=[];for(let r of Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input")))if(null!=e.value){let n=new Date(JSON.parse(r.getAttribute("tag")));Date.vrEquals(n,e.value)?t.push(r.parentElement):i.push(r.parentElement)}else t.push(r.parentElement);for(let e of t)e.style.display="flex";for(let e of i)e.style.display="none"}},c,null,this._elementId+"_dtpFilterSearchSpecificValues"),vr_1.div(d,{id:this._elementId+"_specificValues",css:"height: 300px; overflow-y: auto;"});this._wndFiltering.addFooterItem({type:vr_1.WindowFooterItemTypeEnum.Label,value:"lblCheckboxSelectedSpecificValues",cssContainer:"margin-left: 10px;"})}openWindowFiltering(e){this.createWindowFiltering(),this._wndFiltering.open([{value:"ok",callback:()=>this.saveWindowFiltering(e)}]),this.clearWindowFiltering(),this._wndFiltering.autoSize(vr_1.WindowAutoSizeDirectionEnum.Height),null!=e.title?this._wndFiltering.title("Filtro campo: '"+e.title+"'"):this._wndFiltering.title("Imposta filtro");let t=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateFrom"),i=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo"),r=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom"),n=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo"),a=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberFrom"),o=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo"),l=controlManager_1.ControlManager.get(this._elementId+"_txtFilterStringValue"),s=controlManager_1.ControlManager.get(this._elementId+"_txtFilterSearchSpecificValues"),u=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterSearchSpecificValues");switch(e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:switch(vr_1.puma("#"+this._elementId+"DivFilterDate").show(),vr_1.puma("#"+this._elementId+"DivFilterNumber").hide(),vr_1.puma("#"+this._elementId+"DivFilterString").hide(),s.hide(),u.show(),e.type){case vr_1.GridColumnTypeEnum.DateTime:t.hide(),i.hide(),r.show();break;case vr_1.GridColumnTypeEnum.Time:{t.show(),r.hide(),n.hide(),t.mode(vr_1.DateModeEnum.Time),i.mode(vr_1.DateModeEnum.Time);let e=new Date;e.setHours(0,0,0,1),t.min(e),i.min(e);let a=new Date;a.setHours(23,59,59,59),t.max(a),i.max(a)}break;case vr_1.GridColumnTypeEnum.Date:{t.show(),r.hide(),n.hide(),t.mode(vr_1.DateModeEnum.Date),i.mode(vr_1.DateModeEnum.Date);let e=Date.MIN_VALUE;e.setHours(7,0),t.min(e),i.min(e);let a=Date.MAX_VALUE;a.setHours(22,0),t.max(a),i.max(a)}}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:switch(vr_1.puma("#"+this._elementId+"DivFilterDate").hide(),vr_1.puma("#"+this._elementId+"DivFilterNumber").show(),vr_1.puma("#"+this._elementId+"DivFilterString").hide(),s.show(),u.hide(),e.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Duration:a.type(vr_1.TextModeEnum.Numeric),o.type(vr_1.TextModeEnum.Numeric);break;case vr_1.GridColumnTypeEnum.Currency:a.type(vr_1.TextModeEnum.Currency),o.type(vr_1.TextModeEnum.Currency);break;case vr_1.GridColumnTypeEnum.Percentage:a.type(vr_1.TextModeEnum.Percentage),o.type(vr_1.TextModeEnum.Percentage)}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Label:vr_1.puma("#"+this._elementId+"DivFilterDate").hide(),vr_1.puma("#"+this._elementId+"DivFilterNumber").hide(),vr_1.puma("#"+this._elementId+"DivFilterString").show(),s.show(),u.hide()}let d=!0;if(this._dictionaryFilterConditions.has(e.field)){let t=this._dictionaryFilterConditions.get(e.field);null!=t&&(null!=t.dateFilterSettings&&null!=t.dateFilterSettings.specificValues&&t.dateFilterSettings.specificValues.length>0||null!=t.numberFilterSettings&&null!=t.numberFilterSettings.specificValues&&t.numberFilterSettings.specificValues.length>0||null!=t.stringFilterSettings&&null!=t.stringFilterSettings.specificValues&&t.stringFilterSettings.specificValues.length>0)&&(d=!1)}let c=this.originalDataSource().map(t=>{let i=this.formatValue(t[e.field],e.type,e.decimalDigits,e.roundingSettings,e.showSeconds),r=t[e.field];return e.type==vr_1.GridColumnTypeEnum.Date||e.type==vr_1.GridColumnTypeEnum.DateTime||e.type==vr_1.GridColumnTypeEnum.Time?r=new Date(t[e.field]):e.type!=vr_1.GridColumnTypeEnum.String&&e.type!=vr_1.GridColumnTypeEnum.Label||(r=r.toLowerCase()),{text:i,value:r,tag:r}}).vrDistinctBy(e=>e.text).vrSortAsc("tag"),p=vr_1.puma("#"+this._elementId+"_specificValues")[0],h=document.createDocumentFragment(),m=document.createElement("div");m.classList.add("vrGrid_divSearchSpecificValues"),h.appendChild(m);for(let e of c){let t=document.createElement("div");m.appendChild(t);let i=document.createElement("input");i.setAttribute("type","checkbox"),i.classList.add("vrControls","vrCheckBox"),i.setAttribute("tag",JSON.stringify(e.tag)),i.onclick=e=>{let t=Array.from(vr_1.puma(".vrGrid_divSearchSpecificValues input:checkbox:checked"));0==t.length?(f.value(c.length+" elementi"),g.checked(!1,!1)):(t.length==c.length?g.checked(!0,!1):g.checked(vr_1.CheckboxStateEnum.Undefined,!1),f.value(t.length+" di "+c.length+" elementi"))},t.appendChild(i);let r=document.createElement("label");r.innerHTML=e.text,t.appendChild(r)}p.appendChild(h);let f=this._wndFiltering.footerItem("lblCheckboxSelectedSpecificValues");f.value(c.length+" elementi");let g=controlManager_1.ControlManager.get(this._elementId+"_checkAllFilterSearchSpecificValues"),v=controlManager_1.ControlManager.get(this._elementId+"_switchFilterSearch");if(d)switch(v.checked(!1),e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:if(this._dictionaryFilterConditions.has(e.field)){let a=this._dictionaryFilterConditions.get(e.field);if(null!=a&&null!=a.dateFilterSettings){controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType").value(a.dateFilterSettings.filterTypeEnum,!0),e.type==vr_1.GridColumnTypeEnum.DateTime?(r.value(a.dateFilterSettings.dateFrom),n.value(a.dateFilterSettings.dateTo)):(t.value(a.dateFilterSettings.dateFrom),i.value(a.dateFilterSettings.dateTo))}}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:if(this._dictionaryFilterConditions.has(e.field)){let t=this._dictionaryFilterConditions.get(e.field);if(null!=t&&null!=t.numberFilterSettings){controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType").value(t.numberFilterSettings.filterTypeEnum,!0),a.value(t.numberFilterSettings.numberFrom),o.value(t.numberFilterSettings.numberTo)}}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Label:if(this._dictionaryFilterConditions.has(e.field)){let t=this._dictionaryFilterConditions.get(e.field);if(null!=t&&null!=t.stringFilterSettings){controlManager_1.ControlManager.get(this._elementId+"_ddlFilterStringType").value(t.stringFilterSettings.filterTypeEnum,!0),l.value(t.stringFilterSettings.text)}}}else switch(v.checked(!0),e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:if(this._dictionaryFilterConditions.has(e.field)){let t=this._dictionaryFilterConditions.get(e.field);if(null!=t&&null!=t.dateFilterSettings&&null!=t.dateFilterSettings.specificValues&&t.dateFilterSettings.specificValues.length>0){for(let e of t.dateFilterSettings.specificValues)for(let t of Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input"))){let i=new Date(JSON.parse(t.getAttribute("tag")));if(utilityManager_1.UtilityManager.equals(e,i)){t.checked=!0;break}}f.value(t.dateFilterSettings.specificValues.length+" di "+c.length+" elementi"),t.dateFilterSettings.specificValues.length==c.length?g.checked(!0,!1):g.checked(vr_1.CheckboxStateEnum.Undefined,!1)}}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:if(this._dictionaryFilterConditions.has(e.field)){let t=this._dictionaryFilterConditions.get(e.field);if(null!=t&&null!=t.numberFilterSettings&&null!=t.numberFilterSettings.specificValues&&t.numberFilterSettings.specificValues.length>0){for(let e of t.numberFilterSettings.specificValues)for(let t of Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input"))){let i=Number(JSON.parse(t.getAttribute("tag")));if(utilityManager_1.UtilityManager.equals(e,i)){t.checked=!0;break}}f.value(t.numberFilterSettings.specificValues.length+" di "+c.length+" elementi"),t.numberFilterSettings.specificValues.length==c.length?g.checked(!0,!1):g.checked(vr_1.CheckboxStateEnum.Undefined,!1)}}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Label:if(this._dictionaryFilterConditions.has(e.field)){let t=this._dictionaryFilterConditions.get(e.field);if(null!=t&&null!=t.stringFilterSettings&&null!=t.stringFilterSettings.specificValues&&t.stringFilterSettings.specificValues.length>0){for(let e of t.stringFilterSettings.specificValues)for(let t of Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input"))){let i=String(JSON.parse(t.getAttribute("tag")));if(utilityManager_1.UtilityManager.equals(e,i)){t.checked=!0;break}}f.value(t.stringFilterSettings.specificValues.length+" di "+c.length+" elementi"),t.stringFilterSettings.specificValues.length==c.length?g.checked(!0,!1):g.checked(vr_1.CheckboxStateEnum.Undefined,!1)}}}}saveWindowFiltering(e){let t=this.getOptions(),i=new GridFilterSettings;i.type=e.type;let r=[],n=[],a=controlManager_1.ControlManager.get(this._elementId+"_switchFilterSearch");if(a.checked()){r=Array.from(vr_1.puma(".vrGrid_divSearchSpecificValues input:checkbox:checked")),n=Array.from(vr_1.puma(this._wndFiltering.element()).find(".vrGrid_divSearchSpecificValues input"));let t=null,a=null;switch(e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:i.dateFilterSettings=new GridDateFilterSettings,i.dateFilterSettings.specificValues=[];for(let e of r)i.dateFilterSettings.specificValues.push(new Date(JSON.parse(e.getAttribute("tag"))));0!=r.length&&n.length!=r.length||(t=controlManager_1.ControlManager.get(this._elementId+"_DateFilter_"+e.field),vr_1.puma(t.element()).css("background-color","#f3f3f3"),vr_1.puma(t.element()).css("color","#000"),a=controlManager_1.ControlManager.get(this._elementId+"_DateFilterRemove_"+e.field),a.hide());break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:i.numberFilterSettings=new GridNumberFilterSettings,i.numberFilterSettings.specificValues=[];for(let e of r)i.numberFilterSettings.specificValues.push(Number(JSON.parse(e.getAttribute("tag"))));0!=r.length&&n.length!=r.length||(t=controlManager_1.ControlManager.get(this._elementId+"_NumberFilter_"+e.field),vr_1.puma(t.element()).css("background-color","#f3f3f3"),vr_1.puma(t.element()).css("color","#000"),a=controlManager_1.ControlManager.get(this._elementId+"_NumberFilterRemove_"+e.field),a.hide());break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Label:i.stringFilterSettings=new GridStringFilterSettings,i.stringFilterSettings.specificValues=[];for(let e of r)i.stringFilterSettings.specificValues.push(String(JSON.parse(e.getAttribute("tag"))));if(0==r.length||n.length==r.length){t=controlManager_1.ControlManager.get(this._elementId+"_StringFilterBtn_"+e.field),vr_1.puma(t.element()).css("background-color","#f3f3f3"),vr_1.puma(t.element()).css("color","#000"),a=controlManager_1.ControlManager.get(this._elementId+"_StringFilterBtnRemove_"+e.field),a.hide(),controlManager_1.ControlManager.get(this._elementId+"_StringFilter_"+e.field).width("Calc(100% - 27px)")}}}else switch(e.type){case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:case vr_1.GridColumnTypeEnum.Date:{let t=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateFrom"),r=controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo"),n=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom"),a=controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo");if(e.type==vr_1.GridColumnTypeEnum.DateTime){if(null==n.value())return void vr_1.notifyWarning("Inserire almeno una data")}else if(null==t.value())return void vr_1.notifyWarning("Inserire almeno una data");let o=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType");i.dateFilterSettings=new GridDateFilterSettings,i.dateFilterSettings.filterTypeEnum=Number(o.value()),i.dateFilterSettings.dateFrom=e.type==vr_1.GridColumnTypeEnum.DateTime?n.value():t.value(),i.dateFilterSettings.dateTo=e.type==vr_1.GridColumnTypeEnum.DateTime?a.value():r.value()}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:case vr_1.GridColumnTypeEnum.Percentage:{let e=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberFrom"),t=controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo");if(""==e.value())return void vr_1.notifyWarning("Inserire almeno un numero");let r=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType");i.numberFilterSettings=new GridNumberFilterSettings,i.numberFilterSettings.filterTypeEnum=Number(r.value()),i.numberFilterSettings.numberFrom=e.value(),i.numberFilterSettings.numberTo=0==t.value()?null:Number(t.value())}break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.Label:{let e=controlManager_1.ControlManager.get(this._elementId+"_txtFilterStringValue");if(""==e.value())return void vr_1.notifyWarning("Inserire un testo");let t=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterStringType");i.stringFilterSettings=new GridStringFilterSettings,i.stringFilterSettings.filterTypeEnum=Number(t.value()),i.stringFilterSettings.text=e.value()}}!a.checked()||0!=r.length&&n.length!=r.length?(this.removeFilter(e.field,!t.serverBinding),this.updateFilter(e.field,i)):this.removeFilter(e.field),this._wndFiltering.close()}clearWindowFiltering(){controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateFrom").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterDateTo").hide(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo").clear(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateFrom").hide(),controlManager_1.ControlManager.get(this._elementId+"_dtpDateTimeFilterDateTo").hide(),controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType").clear(),controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberFrom").clear(),controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo").clear(),controlManager_1.ControlManager.get(this._elementId+"_ntbFilterNumberTo").hide(),controlManager_1.ControlManager.get(this._elementId+"_ddlFilterStringType").clear(),controlManager_1.ControlManager.get(this._elementId+"_txtFilterStringValue").clear(),vr_1.puma(this._wndFiltering.element()).find(this._elementId+"_specificValues").empty(),controlManager_1.ControlManager.get(this._elementId+"_txtFilterSearchSpecificValues").show(),controlManager_1.ControlManager.get(this._elementId+"_dtpFilterSearchSpecificValues").hide(),this._wndFiltering.footerItem("lblCheckboxSelectedSpecificValues").clear(),controlManager_1.ControlManager.get(this._elementId+"_checkAllFilterSearchSpecificValues").clear()}addFilter(e,t,i=!0){this._dictionaryFilterConditions.set(e,t),i&&this.applyFilters()}removeFilters(e,t=!0){for(let t of e)this.removeFilter(t,!1);t&&this.applyFilters(!0)}removeFilter(e,t=!0){this._dictionaryFilterConditions.has(e)&&(this._dictionaryFilterConditions.delete(e),t&&this.applyFilters(!0))}updateFilter(e,t,i=!0){this._dictionaryFilterConditions.set(e,t),i&&this.applyFilters()}applyFilters(e=!1,t=!0){let i=this.getOptions();if(!1!==i.serverBinding)return this.pageSelected(1,!1),void(t?this.rebind():this.setDataSource(e?this._originalDataSource:this.dataSource()));let r=e?this._originalDataSource:this.dataSource();this._dictionaryFilterConditions.forEach((e,t,n)=>{let a=i.columns.filter(e=>e.field==t)[0];if(null==a||!0!==a.hidden)if(null!=e.numberFilterSettings){let i=controlManager_1.ControlManager.get(this._elementId+"_NumberFilter_"+t);if(vr_1.puma(i.element()).css("background-color","coral"),vr_1.puma(i.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_NumberFilterRemove_"+t).show(),this.recalculateHeight(!0),null!=e.numberFilterSettings.specificValues&&e.numberFilterSettings.specificValues.length>0)r=r.filter(i=>e.numberFilterSettings.specificValues.includes(i[t])),i.tooltip("Ricerca specifica su questi valori: "+e.numberFilterSettings.specificValues.join(" - "));else{switch(e.numberFilterSettings.filterTypeEnum){case vr_1.GridNumberFilterTypeEnum.GreaterThan:r=r.filter(i=>i[t]>e.numberFilterSettings.numberFrom);break;case vr_1.GridNumberFilterTypeEnum.LessThan:r=r.filter(i=>i[t]<e.numberFilterSettings.numberFrom);break;case vr_1.GridNumberFilterTypeEnum.EqualsTo:r=r.filter(i=>i[t]==e.numberFilterSettings.numberFrom);break;case vr_1.GridNumberFilterTypeEnum.Between:r=null!=e.numberFilterSettings.numberTo?r.filter(i=>i[t]>=e.numberFilterSettings.numberFrom&&i[t]<=e.numberFilterSettings.numberTo):r.filter(i=>i[t]>e.numberFilterSettings.numberFrom)}let n=String(e.numberFilterSettings.numberFrom);e.numberFilterSettings.filterTypeEnum==vr_1.GridNumberFilterTypeEnum.Between&&(n+=" e "+e.numberFilterSettings.numberTo);let a=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterNumberType"),o="";switch(Number(a.value())){case vr_1.GridNumberFilterTypeEnum.GreaterThan:o="Maggiore di ";break;case vr_1.GridNumberFilterTypeEnum.LessThan:o="Minore di ";break;case vr_1.GridNumberFilterTypeEnum.EqualsTo:o="Uguale a ";break;case vr_1.GridNumberFilterTypeEnum.Between:o="Compreso tra "}i.tooltip(o+n)}}else if(null!=e.dateFilterSettings){let i=controlManager_1.ControlManager.get(this._elementId+"_DateFilter_"+t);if(vr_1.puma(i.element()).css("background-color","coral"),vr_1.puma(i.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_DateFilterRemove_"+t).show(),this.recalculateHeight(!0),null!=e.dateFilterSettings.specificValues&&e.dateFilterSettings.specificValues.length>0){let n=[];for(let i of r)for(let r of e.dateFilterSettings.specificValues)Date.vrEquals(new Date(i[t]),r)&&n.push(i);r=n;let o=[];a.type==vr_1.GridColumnTypeEnum.Date?o=e.dateFilterSettings.specificValues.map(e=>new Date(e).vrToItalyString(vr_1.DateModeEnum.Date)):a.type==vr_1.GridColumnTypeEnum.DateTime?o=e.dateFilterSettings.specificValues.map(e=>new Date(e).vrToItalyString(vr_1.DateModeEnum.DateTime)):a.type==vr_1.GridColumnTypeEnum.Time&&(o=e.dateFilterSettings.specificValues.map(e=>new Date(e).vrToItalyString(vr_1.DateModeEnum.Time))),i.tooltip("Ricerca specifica su questi valori: "+o.join(" - "))}else{let n=Date.vrFixDateString(e.dateFilterSettings.dateFrom),o=Date.vrFixDateString(e.dateFilterSettings.dateTo);switch(e.dateFilterSettings.filterTypeEnum){case vr_1.GridDateFilterTypeEnum.GreaterThan:switch(a.type){case vr_1.GridColumnTypeEnum.Date:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsGreaterThan(n,!1,!1));break;case vr_1.GridColumnTypeEnum.DateTime:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsGreaterThan(n));break;case vr_1.GridColumnTypeEnum.Time:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()>n.getHours()||Date.vrFixDateString(e[t]).getHours()==n.getHours()&&Date.vrFixDateString(e[t]).getMinutes()>n.getMinutes()))}break;case vr_1.GridDateFilterTypeEnum.LessThan:switch(a.type){case vr_1.GridColumnTypeEnum.Date:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsLessThan(n,!1,!1));break;case vr_1.GridColumnTypeEnum.DateTime:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsLessThan(n));break;case vr_1.GridColumnTypeEnum.Time:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()<n.getHours()||Date.vrFixDateString(e[t]).getHours()==n.getHours()&&Date.vrFixDateString(e[t]).getMinutes()<n.getMinutes()))}break;case vr_1.GridDateFilterTypeEnum.EqualsTo:switch(a.type){case vr_1.GridColumnTypeEnum.Date:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsEqualsTo(n,!1));break;case vr_1.GridColumnTypeEnum.DateTime:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsEqualsTo(n));break;case vr_1.GridColumnTypeEnum.Time:r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).getHours()==n.getHours()&&Date.vrFixDateString(e[t]).getMinutes()==n.getMinutes())}break;case vr_1.GridDateFilterTypeEnum.Between:switch(a.type){case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:r=null!=e.dateFilterSettings.dateTo?r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsBetween(n,o)):r.filter(e=>null!=Date.vrFixDateString(e[t])&&Date.vrFixDateString(e[t]).vrIsGreaterThan(n));break;case vr_1.GridColumnTypeEnum.Time:null!=e.dateFilterSettings.dateTo?(r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()>n.getHours()||Date.vrFixDateString(e[t]).getHours()==n.getHours()&&Date.vrFixDateString(e[t]).getMinutes()>n.getMinutes())),r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()<o.getHours()||Date.vrFixDateString(e[t]).getHours()==o.getHours()&&Date.vrFixDateString(e[t]).getMinutes()<o.getMinutes()))):r=r.filter(e=>null!=Date.vrFixDateString(e[t])&&(Date.vrFixDateString(e[t]).getHours()>n.getHours()||Date.vrFixDateString(e[t]).getHours()==n.getHours()&&Date.vrFixDateString(e[t]).getMinutes()>n.getMinutes()))}}let l=vr_1.DateModeEnum.Date;a.type==vr_1.GridColumnTypeEnum.DateTime?l=vr_1.DateModeEnum.DateTime:a.type==vr_1.GridColumnTypeEnum.Time&&(l=vr_1.DateModeEnum.Time);let s=Date.vrFixDateString(e.dateFilterSettings.dateFrom).vrToItalyString(l);e.dateFilterSettings.filterTypeEnum==vr_1.GridDateFilterTypeEnum.Between&&(s+=" e "+Date.vrFixDateString(e.dateFilterSettings.dateTo).vrToItalyString(l));let u=controlManager_1.ControlManager.get(this._elementId+"_ddlFilterDateType"),d="";switch(Number(u.value())){case vr_1.GridNumberFilterTypeEnum.GreaterThan:d="Maggiore di ";break;case vr_1.GridNumberFilterTypeEnum.LessThan:d="Minore di ";break;case vr_1.GridNumberFilterTypeEnum.EqualsTo:d="Uguale a ";break;case vr_1.GridNumberFilterTypeEnum.Between:d="Compreso tra "}i.tooltip(d+s)}}else if(null!=e.stringFilterSettings){if(!(null!=e.stringFilterSettings.text&&""!=e.stringFilterSettings.text||null!=e.stringFilterSettings.specificValues&&0!=e.stringFilterSettings.specificValues.length))return;let i=controlManager_1.ControlManager.get(this._elementId+"_StringFilterBtn_"+t);if(vr_1.puma(i.element()).css("background-color","coral"),vr_1.puma(i.element()).css("color","#FFF"),controlManager_1.ControlManager.get(this._elementId+"_StringFilterBtnRemove_"+t).show(),this.recalculateHeight(!0),controlManager_1.ControlManager.get(this._elementId+"_StringFilter_"+a.field).width("Calc(100% - 60px)"),null!=e.stringFilterSettings.specificValues&&e.stringFilterSettings.specificValues.length>0)r=r.filter(i=>null!=i[t]&&e.stringFilterSettings.specificValues.map(e=>e.toLowerCase()).includes(i[t].toLowerCase())),i.tooltip("Ricerca specifica su questi valori: "+e.stringFilterSettings.specificValues.join(" - "));else{let n="";switch(e.stringFilterSettings.filterTypeEnum){case vr_1.GridStringFilterTypeEnum.StartsWith:n="Inizia con: ",r=r.filter(i=>null!=i[t]&&i[t].toLowerCase().startsWith(e.stringFilterSettings.text.toLowerCase()));break;case vr_1.GridStringFilterTypeEnum.EndsWith:n="Finisce con: ",r=r.filter(i=>null!=i[t]&&i[t].toLowerCase().endsWith(e.stringFilterSettings.text.toLowerCase()));break;case vr_1.GridStringFilterTypeEnum.EqualsTo:n="Uguale a: ",r=r.filter(i=>null!=i[t]&&i[t].toLowerCase()==e.stringFilterSettings.text.toLowerCase());break;case vr_1.GridStringFilterTypeEnum.Includes:default:n="Contiene: ",r=r.filter(i=>null!=i[t]&&-1!==i[t].toLowerCase().indexOf(e.stringFilterSettings.text.toLowerCase()))}i.tooltip(n+e.stringFilterSettings.text)}}else if(null!=e.checkboxFilterSettings){r=r.filter(i=>i[t]===e.checkboxFilterSettings.value);let i=vr_1.puma("#"+this._elementId+"_CheckboxFilter_"+t);i.removeClass("indeterminateVrCheckbox"),i[0].checked=e.checkboxFilterSettings.value}}),this.pageSelected(1,!1),t&&(this._dataSource=JSON.parse(JSON.stringify(r)),null!=i.groupBy&&this.sortingGroupFields(this.dataSource()),this.setDataSource(this._dataSource))}resizable(){let e=this.getOptions(),t=vr_1.puma(this._divHeader).find("table")[0],i=t.offsetHeight,r=Array.from(vr_1.puma(t).find("th"));e.lockable&&r.vrPushRange(Array.from(vr_1.puma(this._divHeaderLocked).find("table").find("th")));for(let e of r){let t=document.createElement("div");t.style.cssText+="position: absolute; top: 0px; right: 0px; width: 5px; cursor: col-resize; user-select: none; height: "+i+"px;",e.appendChild(t),e.style.position="relative",this.setResizingEvents(t)}}setResizingEvents(e){let t=null,i=null,r=null,n=0;vr_1.puma(e).on("mousedown",e=>{this._isResizing=!0,i=e.target.parentElement,t=e.pageX;let n=0;if("border-box"==vr_1.puma(i).css("box-sizing"))n=0;else{let e=vr_1.puma(i).css("padding-left"),t=vr_1.puma(i).css("padding-right");n=e.getNumericPart()+t.getNumericPart()}r=i.offsetWidth-n}),vr_1.puma(e).on("mouseover",e=>e.target.style.borderRight="2px solid #0000ff"),vr_1.puma(e).on("mouseout",e=>e.target.style.borderRight=""),vr_1.puma(this.container()).on("mousemove",e=>{if(null!=i&&!this._isDragging){let a=this.getOptions(),o=vr_1.puma(vr_1.puma(this._divHeader).find("th")[vr_1.puma(i).index()]).attr("value"),l=null!=i.getAttribute("locked");l&&(o=vr_1.puma(vr_1.puma(this._divHeaderLocked).find("th")[vr_1.puma(i).index()]).attr("value"));let s=vr_1.puma(i).index(),u=this.column(o);if(l){for(let e of Array.from(vr_1.puma(this._divHeaderLocked).find("th[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});for(let e of Array.from(vr_1.puma(this._divFiltersLocked).find("td[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});for(let e of Array.from(vr_1.puma(this._divTotalsLocked).find("td[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"})}else{for(let e of Array.from(vr_1.puma(this._divHeader).find("th[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});for(let e of Array.from(vr_1.puma(this._divFilters).find("td[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"});for(let e of Array.from(vr_1.puma(this._divTotals).find("td[fitSpace='true']")))vr_1.puma(e).css({width:vr_1.puma(e).width()+"px"})}let d=e.pageX-t;i.style.width=r+d+"px",u.width=r+d,a.filterable&&(l?null!=vr_1.puma(this._divFiltersLocked).find("td")[s]&&(vr_1.puma(this._divFiltersLocked).find("td")[s].style.width=r+d+"px"):null!=vr_1.puma(this._divFilters).find("td")[s]&&(vr_1.puma(this._divFilters).find("td")[s].style.width=r+d+"px")),this._showTotals&&(l?null!=vr_1.puma(this._divTotalsLocked).find("td")[s]&&(vr_1.puma(this._divTotalsLocked).find("td")[s].style.width=r+d+"px"):null!=vr_1.puma(this._divTotals).find("td")[s]&&(vr_1.puma(this._divTotals).find("td")[s].style.width=r+d+"px"));let c=this._columnOptions.findIndex(e=>e.field==o),p=this._columnOptions[c];if(a.groupable){let e=vr_1.puma(this._divBody).find("colgroup").find("col[field='"+o+"'");if(l&&(e=vr_1.puma(this._divBodyLocked).find("colgroup").find("col[field='"+o+"'"),vr_1.puma(this._divBodyLocked).find("td[value='"+o+"']")[0].style.width=r+d+"px"),null!=e[0]){e[0].style.width=r+d+12+"px";let t=e[0].style.width.getNumericPart();p.right=p.left+t}}else l?vr_1.puma(this._divBodyLocked).find("td[value='"+o+"']")[0].style.width=r+d+"px":vr_1.puma(this._divBody).find("td[value='"+o+"']")[0].style.width=r+d+"px",p.field=o,p.left=p.left,p.right=p.left+u.width,p.index=s;this.recalculateWidth(!1),window.clearTimeout(n),n=window.setTimeout(()=>this.recalculateWidth(),1e3)}}),vr_1.puma(this.container()).on("mouseup",()=>{window.setTimeout(()=>this._isResizing=!1),i=null,t=null,r=null})}updateColumnOptions(){let e=vr_1.puma(this._divHeader).find("table")[0];for(let t of Array.from(vr_1.puma(e).find("th"))){let e=vr_1.puma(t).attr("value"),i=this._columnOptions.findIndex(t=>t.field==e),r=this._columnOptions[i];r.field=e,r.left=vr_1.puma(t).offset().left,r.right=vr_1.puma(t).offset().left+vr_1.puma(t).width(),r.index=vr_1.puma(t).index()}}draggableColumns(){let e=this.getOptions(),t=vr_1.puma(this._divHeader).find("table")[0];for(let i of Array.from(vr_1.puma(t).find("th")))this.drag(i,{onDragging:e=>{vr_1.puma(this._divHeader).find("table th").removeClass("grid_tdDraggedOn");let t=this._columnOptions.filter(t=>e.left>=t.left&&e.left<=t.right)[0];null==t?e.left<this._columnOptions[0].left?t=this._columnOptions[0]:e.left>this._columnOptions[this._columnOptions.length-1].right&&(t=this._columnOptions[this._columnOptions.length-1]):t.index!==vr_1.puma(i).index()&&(vr_1.puma(i).addClass("grid_dragging"),t.index<vr_1.puma(i).index()?vr_1.puma(vr_1.puma(this._divHeader).find("table th")[t.index]).addClass("grid_tdDraggedOn"):vr_1.puma(vr_1.puma(this._divHeader).find("table th")[t.index+1]).addClass("grid_tdDraggedOn"))},onDragged:t=>{vr_1.puma(this._divHeader).find("table th").removeClass("grid_tdDraggedOn"),vr_1.puma(i).removeClass("grid_dragging"),vr_1.puma(i)[0].style.cssText+="top: 0px; left: 0px;";let r=this._columnOptions.filter(e=>t.left>=e.left&&t.left<=e.right)[0];if(null==r)t.left<this._columnOptions[0].left?r=this._columnOptions[0]:t.left>this._columnOptions[this._columnOptions.length-1].right&&(r=this._columnOptions[this._columnOptions.length-1]);else{let t=vr_1.puma(i).index(),n=vr_1.puma(i).attr("value");r.index>t?vr_1.puma(vr_1.puma(this._divHeader).find("table th")[r.index]).vrAfterPuma(vr_1.puma(this._divHeader).find("table th")[t]):vr_1.puma(vr_1.puma(this._divHeader).find("table th")[r.index]).vrBeforePuma(vr_1.puma(this._divHeader).find("table th")[t]),e.filterable&&(r.index>t?vr_1.puma(vr_1.puma(this._divFilters).find("table td")[r.index]).vrAfterPuma(vr_1.puma(this._divFilters).find("table td")[t]):vr_1.puma(vr_1.puma(this._divFilters).find("table td")[r.index]).vrBeforePuma(vr_1.puma(this._divFilters).find("table td")[t])),this._showTotals&&(r.index>t?vr_1.puma(vr_1.puma(this._divTotals).find("table td")[r.index]).vrAfterPuma(vr_1.puma(this._divTotals).find("table td")[t]):vr_1.puma(vr_1.puma(this._divTotals).find("table td")[r.index]).vrBeforePuma(vr_1.puma(this._divTotals).find("table td")[t]));for(let e of Array.from(vr_1.puma(this._divBody).find("table tr"))){let n=vr_1.puma(i).attr("value"),a=vr_1.puma(e).find("td[value='"+n+"']"),o=vr_1.puma(e).find("td[value='"+r.field+"']");r.index>t?o.vrAfterPuma(a):o.vrBeforePuma(a)}e.groupable&&(r.index>t?vr_1.puma(this._divBody).find("colgroup").find("col[field='"+r.field+"']").vrAfterPuma(vr_1.puma(this._divBody).find("colgroup").find("col[field='"+n+"'")):vr_1.puma(this._divBody).find("colgroup").find("col[field='"+r.field+"']").vrBeforePuma(vr_1.puma(this._divBody).find("colgroup").find("col[field='"+n+"'"))),this.updateColumnOptions();let a=e.columns.filter(e=>e.field==n)[0],o=r.field,l=e.columns.filter(e=>e.field==o)[0],s=e.columns.indexOf(l),u=e.columns.indexOf(a),d=e.columns[u];e.columns.splice(u,1),e.columns.splice(s,0,d)}}})}drag(e,t){let i=null;vr_1.puma(e).mousedown(r=>{if(!0===this._isResizing)return;let n=r.clientX,a=r.clientY,o=vr_1.puma(r.currentTarget);i=o.offset().left;let l=o.offset().top,s=!1,u=window.setTimeout(()=>i=null,100),d=this;function c(r){if(clearTimeout(u),null==i||!0===d._isResizing)return;let c=r.clientX,p=r.clientY,h=n-c,m=a-p;if(!(h>=-50&&h<=50)){if(r.clientX!=n||r.clientY!=a){let i=r.clientX-vr_1.puma(o[0]).width()/2,n=l;if(o.offset({top:n,left:i}),null!=t.onDragging){let i=new DragEveryEvent;i.left=o.position().left,i.top=o.position().top,i.element=vr_1.puma(e)[0],t.onDragging(i)}}if(Math.abs(h)>Math.abs(m)){if(null==t&&0!=h)return;s=!0,d._isDragging=!0}else if(Math.abs(h)<Math.abs(m)){if(null==t&&0!=h)return;s=!0,d._isDragging=!0}}}vr_1.puma(this.container()).on("mousemove",c),vr_1.puma(this.container()).on("mouseup",(function r(n){if(vr_1.puma(d.container()).off("mouseup",r),vr_1.puma(d.container()).off("mousemove",c),d._isDragging=!1,null!=i&&!0!==d._isResizing){if(s&&null!=t.onDragged){let i=new DragEveryEvent;i.left=o.position().left,i.top=o.position().top,i.element=vr_1.puma(e)[0],t.onDragged(i)}i=null}else i=null}))})}createTotalsFunction(){function calculateTotals(e){let response=[];Array.prototype.vrSum=function(callbackfn){if(Array.isArray(this)){if(null==callbackfn)return this.reduce((e,t)=>e+t,0);{let property=callbackfn.toString().split("=>")[1],sum=0;return this.forEach(k=>sum+=eval(property)),sum}}return 0},Array.prototype.vrAvg=function(e,t){if(Array.isArray(this)){let i=this.length;if(!1===t&&(i=this.length-this.filter(e=>0==e).length),0==i)return 0;if(null==e)return this.vrSum()/i;return this.vrSum(e)/i}return 0},Array.prototype.vrMax=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.max(e,i[t]),0)}return Math.max.apply(null,this)}return 0},Array.prototype.vrMin=function(e){if(Array.isArray(this)){if(null!=e){let t=e.toString().split(".")[1];return this.reduce((e,i)=>Math.min(e,i[t]),Number.MAX_VALUE)}return Math.min.apply(null,this)}return 0};let request=e.data;if(!request.isGroup||null!=request.groupItems&&0!=request.groupItems.length&&null!=request.groupItems[0].dataItems[0]){if(request.isGroup)for(let e of request.groupItems){let t=getTotals(e.dataItems);response.push({totals:t,groupValue:e.groupValue})}else{let e=getTotals(request.dataItems);response=e}self.postMessage(response)}else self.postMessage(response);function getTotals(e){let t=[];for(let i of request.columnOptions){let r=0;switch(i.aggregateMode){case 1:r=e.map(e=>e[i.field]).length;break;case 4:r=e.map(e=>e[i.field]).vrSum();break;case 0:r=3==i.type?e.map(e=>e[i.field]).vrAvg(void 0,i.countZeroInAverage)/100:e.map(e=>e[i.field]).vrAvg(void 0,i.countZeroInAverage);break;case 3:r=null==i.type||5!=i.type&&6!=i.type&&7!=i.type?e.map(e=>e[i.field]).vrMin():e.map(e=>new Date(e[i.field])).vrMin();break;case 2:r=null==i.type||5!=i.type&&6!=i.type&&7!=i.type?e.map(e=>e[i.field]).vrMax():e.map(e=>new Date(e[i.field])).vrMax()}let n={};n.field=i.field,n.total=r,n.decimalDigits=i.decimalDigits,n.roundingSettings=i.roundingSettings,n.type=i.type,t.push(n)}return t}}let scriptCalculateTotalsWorker=vr_1.puma("head").find("script[id='vr_workerTotals']")[0];null==scriptCalculateTotalsWorker&&vr_1.puma("<script id='vr_workerTotals'> self.onmessage="+calculateTotals.toString()+" <\/script>").vrAppendToPuma("head");let workerTotalsData=new Blob([document.getElementById("vr_workerTotals").textContent],{type:"text/javascript"});this._workerTotals=new Worker(window.URL.createObjectURL(workerTotalsData)),this._workerTotalsGroup=new Worker(window.URL.createObjectURL(workerTotalsData))}pageSize(e,t=!1,i=!1){if(null!=e){let r=this.getOptions();this._actualPageSize=e,r.pageSize=e,t&&this.update(i);let n={text:String(e),value:String(e),numberValue:e},a=controlManager_1.ControlManager.get(this._elementId+"_ddlPageSize");null!=a&&(a.items().vrAny(t=>t.value==String(e))||a.addItem(n,!0,!1,{field:"numberValue"}),a.value(String(e),!1))}return this._actualPageSize}pageSelected(e,t=!0){if(null!=e){let i=this.getOptions();!1!==i.footer&&vr_1.puma("#"+this._divFooter.id+" button").removeClass("p-grid-pageSelected");let r=controlManager_1.ControlManager.get(this._elementId+"_btnPage_"+e);if(null!=r&&vr_1.puma(r.element()).addClass("p-grid-pageSelected"),null!=i.onPageSelected){let t=new vr_1.GridPageSelectedEvent;if(t.sender=this,t.pageSelected=e,i.onPageSelected(t),t.isDefaultPrevented())return this._actualPageSelected}if(this._actualPageSelected=e,t)if(!1!==i.serverBinding){let e=0==this._actualPageSelected?0:this._actualPageSelected-1;this._serverBindingPagination.indexFrom=e*this.pageSize(),this._serverBindingPagination.indexTo=this._serverBindingPagination.indexFrom+this.pageSize()-1,window.setTimeout(()=>this.rebind())}else this.update();return e}return this._actualPageSelected}checkboxesMode(e){let t=this.getOptions();return null!=e&&(t.checkboxes=e),t.checkboxes}focus(e){let t=this.getOptions();null!=e&&t.filterable&&vr_1.puma("#"+this._elementId+"_StringFilter_"+e).focus()}isRepeater(){return vr_1.puma(this.container()).hasClass("vrRepeaterContainer")}getOptions(){return null!=this._internalOptions?this._internalOptions:this.options()}recalculateWidth(e=!0){let t=this.getOptions();if("scroll"==vr_1.puma(this._divBody).css("overflow-y")||"auto"==vr_1.puma(this._divBody).css("overflow-y"))if(vr_1.puma(this._divBody)[0].scrollHeight>vr_1.puma(this._divBody)[0].clientHeight&&vr_1.puma(this._divBody)[0].clientHeight>0){let e=19;this.thereAreLockedColumns()&&(e+=vr_1.puma(this._divHeaderLocked).width()+5),vr_1.puma(this._divHeader).width("Calc(100% - "+e+"px)"),vr_1.puma(this._divHeader).find("th[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._divFilters).width("Calc(100% - "+e+"px)"),vr_1.puma(this._divFilters).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),this.thereAreLockedColumns()?(vr_1.puma(this._divBody).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),vr_1.puma(this._divBodyLocked).width(vr_1.puma(this._divHeaderLocked).width())):vr_1.puma(this._divBody).width("Calc(100% - 2px)"),vr_1.puma(this._divTotals).width("Calc(100% - "+e+"px)"),vr_1.puma(this._divTotals).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._divHeader).is(":visible")&&(window.setTimeout(()=>this._spanFitHeaderSpace.style.cssText+="top: "+vr_1.puma(this._divHeader).position().top+"px; left: "+(vr_1.puma(this._divHeader).position().left+vr_1.puma(this._divHeader).width()+1)+"px",100),vr_1.puma(this._spanFitHeaderSpace).show()),t.filterable?(window.setTimeout(()=>this._spanFitFilterSpace.style.cssText+="top: "+(vr_1.puma(this._divFilters).position().top-1)+"px; left: "+(vr_1.puma(this._divFilters).position().left+vr_1.puma(this._divFilters).width()+1)+"px",100),vr_1.puma(this._spanFitFilterSpace).show()):vr_1.puma(this._spanFitFilterSpace).hide(),this._showTotals&&this.getAllItems().length>0?(window.setTimeout(()=>this._spanFitTotalsSpace.style.cssText+="top: "+(vr_1.puma(this._divTotals).position().top-1)+"px; left: "+(vr_1.puma(this._divTotals).position().left+vr_1.puma(this._divTotals).width()+1)+"px",100),vr_1.puma(this._spanFitTotalsSpace).show()):vr_1.puma(this._spanFitTotalsSpace).hide()}else{let e=2;this.thereAreLockedColumns()&&(e+=vr_1.puma(this._divHeaderLocked).width()+5),vr_1.puma(this._divHeader).width("Calc(100% - "+e+"px)"),vr_1.puma(this._divHeader).find("th[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._divFilters).width("Calc(100% - "+e+"px)"),vr_1.puma(this._divFilters).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),this.thereAreLockedColumns()?(vr_1.puma(this._divBody).width("Calc(100% - "+(vr_1.puma(this._divHeaderLocked).width()+5)+"px)"),vr_1.puma(this._divBodyLocked).width(vr_1.puma(this._divHeaderLocked).width())):vr_1.puma(this._divBody).width("Calc(100% - 2px)"),vr_1.puma(this._divTotals).width("Calc(100% - "+e+"px)"),vr_1.puma(this._divTotals).find("td[fitSpace='true']").attr("width",this._fitSpaceColumnPercentage+"%"),vr_1.puma(this._spanFitHeaderSpace).hide(),vr_1.puma(this._spanFitFilterSpace).hide(),vr_1.puma(this._spanFitTotalsSpace).hide()}else vr_1.puma(this._spanFitHeaderSpace).hide(),vr_1.puma(this._spanFitFilterSpace).hide(),vr_1.puma(this._spanFitTotalsSpace).hide();if(e&&(t.groupable||null!=t.groupBy)){let e=0;vr_1.puma(this._divBody).find("table colgroup").remove();let i=vr_1.puma("<colgroup></colgroup>").prependTo(vr_1.puma(this._divBody).find(">table"));vr_1.puma(this._divHeaderContainer).show(),vr_1.puma(this._divHeader).show();for(let t of Array.from(vr_1.puma(this._divHeader).find(">table tr:first-child th"))){let r=vr_1.puma(t).attr("value"),n="";vr_1.puma(t).is(":visible")?e++:n="display: none;";let a=vr_1.puma(t).outerWidth();1==e&&(a-=1),vr_1.puma("<col field='"+r+"' style='width: "+a+"px; "+n+"' />").vrAppendToPuma(i)}if(!1===t.header&&vr_1.puma(this._divHeader).hide(),this.thereAreLockedColumns()){let e=0;vr_1.puma(this._divBodyLocked).find("table colgroup").remove();let i=vr_1.puma("<colgroup></colgroup>").prependTo(vr_1.puma(this._divBodyLocked).find(">table"));vr_1.puma(this._divHeaderLocked).show();for(let t of Array.from(vr_1.puma(this._divHeaderLocked).find(">table tr:first-child th"))){let r=vr_1.puma(t).attr("value"),n="";vr_1.puma(t).is(":visible")?e++:n="display: none;";let a=vr_1.puma(t).width();1==e&&(a-=1),vr_1.puma("<col field='"+r+"' style='width: "+a+"px; "+n+"' />").vrAppendToPuma(i)}!1===t.header&&vr_1.puma(this._divHeaderLocked).hide()}!1===t.header&&vr_1.puma(this._divHeaderContainer).hide()}}height(e){if(null!=e&&"number"==typeof e&&e>0){vr_1.puma(this._divBody).height(e),vr_1.puma("#"+this.element().id+"_grid_body_container").height(e),this.getOptions().lockable&&null!=this._divBody&&(this._divBody.scrollWidth>this._divBody.clientWidth&&this._divBody.clientWidth>0?vr_1.puma(this._divBodyLocked).height(Number(e)-17):vr_1.puma(this._divBodyLocked).height(e))}return vr_1.puma(this._divBody).height()}recalculateHeight(e=!1){let t=this.getOptions();if(t.height<0||t.height==vr_1.GridHeightModeEnum.FitScreen){let e=(vr_1.puma(this._divHeader).is(":visible")?34:0)+(t.filterable?28:0)+(null!=t.toolbar?34:0)+(this._showTotals?25:0)+(!1!==t.footer?34:0)+4,i=vr_1.puma("#"+this._elementId+"_divContainer").offset(),r=null!=i?i.top:0,n=document.body.offsetHeight-r-e+"px";vr_1.puma(this._divBody).height(n),vr_1.puma("#"+this.element().id+"_grid_body_container").height(n),t.lockable&&null!=this._divBody&&(this._divBody.scrollWidth>this._divBody.clientWidth&&this._divBody.clientWidth>0?vr_1.puma(this._divBodyLocked).height(n.vrGetNumericPart()-17):vr_1.puma(this._divBodyLocked).height(n)),this._showTotals&&(this._spanFitTotalsSpace.style.cssText+="top: "+(vr_1.puma(this._divTotals).position().top-1)+"px; left: "+(vr_1.puma(this._divHeader).position().left+vr_1.puma(this._divHeader).width())+"px")}else e&&"number"==typeof t.height&&(vr_1.puma(this._divFilters).height()>32?vr_1.puma(this._divBody).height(t.height-58.5):vr_1.puma(this._divBody).height(t.height-31),vr_1.puma("#"+this.element().id+"_grid_body_container").height(vr_1.puma(this._divBody).height()),t.lockable&&null!=this._divBody&&(this._divBody.scrollWidth>this._divBody.clientWidth&&this._divBody.clientWidth>0?vr_1.puma(this._divBodyLocked).height(Number(vr_1.puma(this._divBody).height())-17):vr_1.puma(this._divBodyLocked).height(vr_1.puma(this._divBody).height())))}adjustTrHeight(){let e=this.getOptions();if(this.thereAreLockedColumns()){let t=Array.from(vr_1.puma(this._elementLocked).find(">tbody tr")),i=Array.from(vr_1.puma(this.element()).find(">tbody tr"));for(let r=0;r<t.length;r++){let n=t[r],a=i[r],o=vr_1.puma(n).height()>vr_1.puma(a).height()?vr_1.puma(n).height():vr_1.puma(a).height();o<e.rowHeight&&(o=e.rowHeight),vr_1.puma(n).height(o),vr_1.puma(a).height(o)}}}doWebApiCall(e,t,i){let r=this,n=this.getOptions(),a={};if(a.AuthKey=e.authKey,t==GridRequestTypeEnum.Delete)null==e.deletedValuesPropertyName&&(e.deletedValuesPropertyName="itemValues"),null==e.valuePropertyName&&(e.valuePropertyName=n.dataSourceFieldId),a[e.deletedValuesPropertyName]=this.getDeletedItemValues(e.valuePropertyName);else if(t==GridRequestTypeEnum.Rebind||t==GridRequestTypeEnum.Excel){if(t==GridRequestTypeEnum.Rebind&&null==e.itemsPropertyName&&(e.itemsPropertyName="items"),!1!==n.serverBinding){for(const[e,t]of this._dictionaryFilterConditions.entries())null!=t.dateFilterSettings&&(t.dateFilterSettings.dateFrom=Date.vrConvertDateFromClient(t.dateFilterSettings.dateFrom),null!=t.dateFilterSettings.dateTo&&(t.dateFilterSettings.dateTo=Date.vrConvertDateFromClient(t.dateFilterSettings.dateTo)));let i=new VrGridServerBindingSettings;i.indexFrom=this._serverBindingPagination.indexFrom,i.indexTo=this._serverBindingPagination.indexTo,i.columns=n.columns,i.sortingInfo=this._actualSortingInfo,i.filters=dictionary_1.Dictionary.fromMap(this._dictionaryFilterConditions),i.groupByFields=null==n.groupBy?[]:n.groupBy.fields.map(e=>e.field),i.excel=t==GridRequestTypeEnum.Excel,null!=e.fileName&&(i.excelFileName=e.fileName),a.serverBindingSettings=i}}else if(t==GridRequestTypeEnum.Save){for(let e in this._actualEditedItem){let t=this._actualEditedItem[e];"[object Date]"===Object.prototype.toString.call(t)&&(this._actualEditedItem[e]=Date.vrConvertDateFromClient(t))}null==e.itemPropertyName&&(e.itemPropertyName="item"),a[e.itemPropertyName]=this._actualEditedItem}if(null!=e.method&&(e.method.startsWith("/api/")||(e.method.startsWith("/")&&e.method.substring(1),e.method="/api/"+e.method)),null!=e.otherParameters){let t=Object.getOwnPropertyNames(e.otherParameters);for(let i of t)a[i]=e.otherParameters[i]}if(null!=e.parameters){let t=e.parameters(),i=Object.getOwnPropertyNames(t);for(let e of i)a[e]=t[e]}let o=JSON.stringify(a),l=e.loadingElement;null==l&&(l=!0),"boolean"==typeof l&&(l=!1===l?void 0:this.container()),null!=l&&vr_1.showLoader(null!=e.tempLoadingElement?e.tempLoadingElement:l,!0,"vrGridLoaderRebind"+this._elementId),e.tempLoadingElement=void 0,$.ajax({type:"POST",contentType:"application/json",data:o,method:"POST",processData:!1,dataType:"json",url:e.method,success:(a,o,l)=>{if(vr_1.hideLoader("vrGridLoaderRebind"+this._elementId),r._deletedItems=[],null!=a&&(a.Success||a.success)){let o=e.successNotificationMessage;o=null!=o&&o,"string"==typeof o?o=o:1==o&&(t==GridRequestTypeEnum.Delete?o="Eliminazione avvenuta correttamente":t==GridRequestTypeEnum.Save&&(o="Salvataggio effettuato correttamente")),"string"==typeof o&&vr_1.notify(o);let l=e.rebindGridAfterSave;if(l=null!=l&&l,l&&t!=GridRequestTypeEnum.Rebind)r.rebind();else if(t==GridRequestTypeEnum.Save)r.updateRow(r._actualEditedItem);else if(t==GridRequestTypeEnum.RebindSpecificRows){let t=[];null!=e.otherParameters&&(t=e.otherParameters[e.specificItemIdListPropertyName]);let i=a[e.itemsPropertyName];if(null!=i&&i.length>0){let e=t.filter(e=>!i.map(e=>e[n.dataSourceFieldId]).includes(e)),r=i.filter(e=>!this.originalDataSource().map(e=>e[n.dataSourceFieldId]).includes(e[n.dataSourceFieldId])).map(e=>e[n.dataSourceFieldId]);for(let t of i){let i=t[n.dataSourceFieldId];e.includes(i)||r.includes(i)||this.updateRow(t,!1)}for(let t of e)this.deleteRow(t,!1);for(let e of r)this.addRow(i.filter(t=>t[n.dataSourceFieldId]==e)[0],!1)}else for(let e of t)this.deleteRow(e,!1);e.otherParameters.update&&(null!=this._actualSortingInfo&&this.applySorting(!1),this._dictionaryFilterConditions.size>0&&this.applyFilters(!1,!1),null!=n.groupBy&&this.sortingGroupFields(this.dataSource()),this.update(!0,!1))}if(null!=e.callbackBeforeDatasourceChange&&e.callbackBeforeDatasourceChange(a),t==GridRequestTypeEnum.Rebind&&null!=a[e.itemsPropertyName]){if(!1!==n.serverBinding){this._responseForServerBinding=a;let e=this._responseForServerBinding[n.serverBinding.itemCountPropertyName],t=this.pageSelected(),i=Math.trunc(e/Number(n.pageSize));e%Number(n.pageSize)>0&&(i+=1),t>i&&this.pageSelected(1,!1)}let t=null!=e.clearFilters&&e.clearFilters,i=a[e.itemsPropertyName];0==i.length?this.clear():r.dataSource(i,t)}if(t==GridRequestTypeEnum.Excel&&!1!==n.serverBinding){let e=a[n.serverBinding.excelDownloadUrlPropertyName];null!=e&&e.length>0&&location.replace(e)}null!=r._wndAutoWindow&&r._wndAutoWindow.close(),null!=e.callback&&e.callback(a),null!=n.onDataSourceChanged&&n.onDataSourceChanged(),null!=i&&i()}else{let i=a.Exception||a.exception,n=i.Code||i.code;if(null!=a&&"403"==n)return void location.replace("/Default.aspx");let o=e.errorNotificationMessage;o=null==o||o,1!=o&&"string"!=typeof o||vr_1.notifyError("string"==typeof o?o:null!=a?a.ExceptionMessage||a.exceptionMessage:"Errore nel salvataggio");let l=e.rebindGridAfterError;l=null!=l&&l,l&&t!=GridRequestTypeEnum.Rebind&&r.rebind();let s=e.closeWindowAfterError;s=null!=s&&s,null!=r._wndAutoWindow&&s&&r._wndAutoWindow.close(),null!=e.errorCallback&&e.errorCallback(null!=a?a.ExceptionMessage||a.exceptionMessage:"Errore nel salvataggio")}},error:(i,n,a)=>{vr_1.hideLoader("vrGridLoaderRebind"+this._elementId);let o=e.errorNotificationMessage;o=null==o||o;let l="Errore nel salvataggio";if(l=null!=i.responseJSON?null!=i.responseJSON.errorMessage?i.responseJSON.errorMessage:(i.responseJSON.Message||i.responseJSON.message)+"<br />"+(i.responseJSON.ExceptionMessage||i.responseJSON.exceptionMessage):null!=i.responseText&&""!=i.responseText?i.responseText:null!=i.statusText&&""!=i.statusText?i.statusText:"Si è verificato un problema",401==i.status)l="Auth key errata";else if(404==i.status)l="Web Api non trovata";else if(403==i.status)return void location.replace("/Default.aspx");let s="Errore nel salvataggio";1!=o&&"string"!=typeof o||(s=1==o?l:o,vr_1.notifyError(s));let u=e.rebindGridAfterError;u=null!=u&&u,u&&t!=GridRequestTypeEnum.Rebind&&r.rebind();let d=e.closeWindowAfterError;d=null!=d&&d,null!=r._wndAutoWindow&&d&&r._wndAutoWindow.close(),null!=e.errorCallback&&e.errorCallback(s)}})}enable(e){if(null==e&&(e=!0),vr_1.puma("#"+vr_1.puma(this.element()).attr("id")+"_divContainer").find(".grid_divTableDisabled").remove(),!0!==e){let t=this.getOptions(),i="string"==typeof e?"<span>"+e+"</span>":"";""==i&&"string"==typeof t.enable&&(i="<span>"+t.enable+"</span>"),vr_1.puma("<div class='grid_divTableDisabled'>"+i+"</div>").vrAppendToPuma("#"+vr_1.puma(this.element()).attr("id")+"_divContainer")}}toolbarCustomLogic(e,t){if(null==e.onBeforeClick||(e.onBeforeClick(t),!t.isDefaultPrevented)){switch(e.type){case vr_1.GridToolbarItemType.Add:null==e.onClick&&this.openAutoWindow();break;case vr_1.GridToolbarItemType.Delete:{let i=this.getOptions(),r=this.getCheckedItems();this._deletedItems.vrPushRange(r),t.deletedItems=this._deletedItems,this.deleteRows(r.map(e=>e[i.dataSourceFieldId])),this.clearSelection();let n=e.deleteRequest;null!=n&&i.mode==vr_1.GridModeEnum.Sync?this.doWebApiCall(n,GridRequestTypeEnum.Delete):(this.update(),null!=i.onDataSourceChanged&&i.onDataSourceChanged())}break;case vr_1.GridToolbarItemType.Rebind:this._deletedItems=[],this.rebind(),this.clearSelection();break;case vr_1.GridToolbarItemType.Excel:this.excelExport(null!=e.excelFileName?e.excelFileName:void 0);break;case vr_1.GridToolbarItemType.ExcelWithHiddenColumns:this.excelExport(null!=e.excelFileName?e.excelFileName:void 0,!0)}null!=e.onClick&&e.onClick(t)}}excelExport(e="Esportazione_excel",t=!1){let i=this.getOptions();i.serverBinding||vr_1.showLoader(this.container(),!0,"vrGridLoaderExcel"+this._elementId),window.setTimeout(()=>{if(i.serverBinding)null!=i.excel&&(null==i.excel.fileName&&(i.excel.fileName=e),this.doWebApiCall(i.excel,GridRequestTypeEnum.Excel));else{let r=new GridExcelRow;r.cells=[];for(let e of i.columns){if(!t&&1==e.hidden&&(null==i.groupBy||!i.groupBy.fields.map(e=>e.field).includes(e.field))||e.type==vr_1.GridColumnTypeEnum.EditButton||e.type==vr_1.GridColumnTypeEnum.Image||e.type==vr_1.GridColumnTypeEnum.Button||e.type==vr_1.GridColumnTypeEnum.Icon||!1===e.exportable)continue;let n=new GridExcelCell;n.field=e.field,n.title=e.title,n.text=e.title,n.bold=e.bold,n.type=e.type,n.width=e.width,n.cellSettings=e.headerSettings,n.hidden=e.hidden,n.locked=e.locked,r.cells.push(n)}let n=[];for(let e of this.dataSource()){let r=new GridExcelRow;r.cells=[];for(let n of i.columns){if(!t&&1==n.hidden&&(null==i.groupBy||!i.groupBy.fields.map(e=>e.field).includes(n.field))||n.type==vr_1.GridColumnTypeEnum.EditButton||n.type==vr_1.GridColumnTypeEnum.Image||n.type==vr_1.GridColumnTypeEnum.Button||n.type==vr_1.GridColumnTypeEnum.Icon||!1===n.exportable)continue;let a=null==e[n.field]?"":String(e[n.field]),o=vr_1.GridAlignEnum.Left;switch(n.type){case vr_1.GridColumnTypeEnum.Date:case vr_1.GridColumnTypeEnum.DateTime:case vr_1.GridColumnTypeEnum.Time:o=vr_1.GridAlignEnum.Center,n.type!=vr_1.GridColumnTypeEnum.Date&&n.type!=vr_1.GridColumnTypeEnum.DateTime&&n.type!=vr_1.GridColumnTypeEnum.Time||(n.type==vr_1.GridColumnTypeEnum.Date?a=""==a?"":new Date(new Date(a)).vrToItalyString(vr_1.DateModeEnum.Date):n.type==vr_1.GridColumnTypeEnum.DateTime?a=""==a?"":new Date(new Date(a)).vrToItalyString(vr_1.DateModeEnum.DateTime,n.showSeconds):n.type==vr_1.GridColumnTypeEnum.Time&&(a=""==a?"":new Date(new Date(a)).vrToItalyString(vr_1.DateModeEnum.Time,n.showSeconds)));break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:o=vr_1.GridAlignEnum.Right;break;case vr_1.GridColumnTypeEnum.Custom:if(o=vr_1.GridAlignEnum.Center,null!=n.customSettings)try{let t=n.customSettings({dataItem:e});t&&""!==t.template&&""==a&&(a=t.template)}catch(e){}else a=vr_1.puma(a).text();break;case vr_1.GridColumnTypeEnum.Label:if(o=vr_1.GridAlignEnum.Center,null!=n.labelSettings)try{let t=n.labelSettings({dataItem:e});a=null==t.text?"":t.text}catch(e){}else a=vr_1.puma(a).text();break;case vr_1.GridColumnTypeEnum.String:case vr_1.GridColumnTypeEnum.PasswordViewable:o=vr_1.GridAlignEnum.Left,a=vr_1.puma("<span>"+a+"</span>").text();break;case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:o=vr_1.GridAlignEnum.Center,a=1==e[n.field]?"true":"false";break;case vr_1.GridColumnTypeEnum.ComboBox:case vr_1.GridColumnTypeEnum.DropDownList:case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:{o=vr_1.GridAlignEnum.Left;let t=e[n.displayField];a=null!=t?t.toString():""}break;case vr_1.GridColumnTypeEnum.Color:o=vr_1.GridAlignEnum.Center}null==n.cellSettings&&(n.cellSettings=new GridHeaderAndCellSettings),null==n.cellSettings.textAlign&&(n.cellSettings.textAlign=o);let l=new GridExcelCell;if(l.field=n.field,l.title=n.title,l.text=a,l.bold=n.bold,l.type=n.type,l.width=n.width,l.cellSettings=n.cellSettings,l.decimalDigits=n.decimalDigits,l.roundingSettings=null!=n.roundingSettings?n.roundingSettings:i.roundingSettings,l.hidden=n.hidden,l.locked=n.locked,!0===n.aggregate)switch(n.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:n.aggregate=vr_1.GridAggregateMode.Sum;break;case vr_1.GridColumnTypeEnum.Percentage:n.aggregate=vr_1.GridAggregateMode.Average;break;default:n.aggregate=vr_1.GridAggregateMode.Sum}l.aggregate=null==n.aggregate||!1===n.aggregate?vr_1.GridAggregateMode.None:n.aggregate;let s="",u="";null!=n.cellSettings&&(null!=n.cellSettings.backgroundColor&&(s=n.cellSettings.backgroundColor),null!=n.cellSettings.color&&(u=n.cellSettings.color)),null!=i.rowColorProperty&&null!=e[i.rowColorProperty]&&""!==e[i.rowColorProperty]&&(s=e[i.rowColorProperty]),l.backgroundColor=s,l.color=u,r.cells.push(l)}n.push(r)}let a=new GridExcelRow;a.cells=[];for(let e of Array.from(vr_1.puma(this._divTotals).find("td"))){let r=vr_1.puma(e).attr("value");if(null==r)continue;let n=i.columns.filter(e=>e.field==r)[0];if(null==n||!t&&1==n.hidden&&(null==i.groupBy||!i.groupBy.fields.map(e=>e.field).includes(n.field))||n.type==vr_1.GridColumnTypeEnum.EditButton||n.type==vr_1.GridColumnTypeEnum.Image||n.type==vr_1.GridColumnTypeEnum.Button||n.type==vr_1.GridColumnTypeEnum.Icon||!1===n.exportable)continue;let o=new GridExcelCell;if(o.field=n.field,o.title=n.title,o.text=String(Number(e.innerHTML.replace("€","").replace("%","").replace(".","").replace(",","."))),o.bold=n.bold,o.type=n.type,o.width=n.width,o.decimalDigits=n.decimalDigits,o.roundingSettings=null!=n.roundingSettings?n.roundingSettings:i.roundingSettings,o.hidden=n.hidden,o.locked=n.locked,!0===n.aggregate)switch(n.type){case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Duration:n.aggregate=vr_1.GridAggregateMode.Sum;break;case vr_1.GridColumnTypeEnum.Percentage:n.aggregate=vr_1.GridAggregateMode.Average;break;default:n.aggregate=vr_1.GridAggregateMode.Sum}o.aggregate=null==n.aggregate||!1===n.aggregate?vr_1.GridAggregateMode.None:n.aggregate,a.cells.push(o)}null!=i.excel&&null!=i.excel.fileName&&(e=i.excel.fileName);let o=new GenerateExcelRequest;if(o.headerRow=r,o.contentRows=n,o.footerRow=a,o.excelFileName=e,o.AuthKey="10(P9m+U3a@Mtt-Oeo",o.exportHiddenColumns=t,null!=i.groupBy){let e=i.groupBy.fields;o.groupBy=null!=e?e.map(e=>e.field):null}let l=JSON.stringify(o),s=null;s=new FormData,s.append("file",new Blob([l],{type:"application/json"})),$.ajax({type:"POST",beforeSend:e=>{e.setRequestHeader("Accept-Language","it"),e.setRequestHeader("AuthKey","10(P9m+U3a@Mtt-Oeo")},contentType:!1,data:s,method:"POST",processData:!1,dataType:"JSON",url:"/api/UtilityWebApi/GenerateExcel",success:(e,t,i)=>{vr_1.hideLoader("vrGridLoaderExcel"+this._elementId),null!=e.downloadUrl&&e.downloadUrl.length>0&&location.replace(e.downloadUrl),e.Success||vr_1.alert(e.ErrorMessage+"<br />"+e.StackTrace,{width:600,css:"overflow: auto;"})},error:(e,t,i)=>{vr_1.hideLoader(),vr_1.alert("Errore nell'esportazione Excel. Contattare l'assistenza.")}})}},200)}visibleToolbar(e){return null!=e&&(e?vr_1.puma(this._divToolbar).show():vr_1.puma(this._divToolbar).hide()),vr_1.puma(this._divToolbar).is(":visible")}showToolbar(){this.visibleToolbar(!0)}hideToolbar(){this.visibleToolbar(!1)}toolbar(){return this._divToolbar}toolbarItem(e){return controlManager_1.ControlManager.get("grid-"+e+"_"+this._elementId)}showToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.show()}hideToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.hide()}enableToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.enable()}disableToolbarItem(e){let t=this.toolbarItem(e);null!=t&&t.disable()}removeToolbarItem(e){let t=this.toolbarItem(e);null!=t&&vr_1.puma(t.container()).remove()}addToolbarItem(e){null==e.visible&&(e.visible=!0),null==e.type&&(e.type=vr_1.GridToolbarItemType.Custom);let t="",i=void 0,r="",n=e.enable,a=!1;null==e.css&&(e.css=""),null==e.cssContainer&&(e.cssContainer="");let o=null==e.value?null!=e.text?e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,""):"noValue":e.value;switch(e.type){case vr_1.GridToolbarItemType.Add:t=null!=e.text?e.text:"Aggiungi",i=null!=e.icon?e.icon:vr_1.IconClassLight.Plus,r=null!=e.value?"grid-"+e.value:"grid-add",a=!0;break;case vr_1.GridToolbarItemType.Custom:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,r="grid-"+o,a=!0;break;case vr_1.GridToolbarItemType.SplitButton:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,a=!1;break;case vr_1.GridToolbarItemType.Switch:case vr_1.GridToolbarItemType.ButtonGroup:case vr_1.GridToolbarItemType.CheckBox:case vr_1.GridToolbarItemType.ComboBox:case vr_1.GridToolbarItemType.DatePicker:case vr_1.GridToolbarItemType.Label:case vr_1.GridToolbarItemType.TextBox:a=!1;break;case vr_1.GridToolbarItemType.Delete:t=null!=e.text?e.text:"Elimina",i=null!=e.icon?e.icon:vr_1.IconClassRegular.Xmark,r=null!=e.value?"grid-"+e.value:"grid-delete",a=!0;break;case vr_1.GridToolbarItemType.Excel:t=null!=e.text?e.text:"Excel",i=null!=e.icon?e.icon:vr_1.IconClassLight.FileExcel,r=null!=e.value?"grid-"+e.value:"grid-excel",a=!0,e.backgroundColor="#008a00",e.textColor="#FFF";break;case vr_1.GridToolbarItemType.ExcelWithHiddenColumns:t=null!=e.text?e.text:"Excel",i=null!=e.icon?e.icon:vr_1.IconClassLight.FileExcel,r=null!=e.value?"grid-"+e.value:"grid-excelHiddenColumns",a=!0,e.backgroundColor="#008a00",e.textColor="#FFF";break;case vr_1.GridToolbarItemType.Separator:r=null!=e.value?"grid-"+e.value:"grid-separator",n=!1,a=!0;break;case vr_1.GridToolbarItemType.Rebind:t=null!=e.text?e.text:"Aggiorna",i=null!=e.icon?e.icon:vr_1.IconClassLight.Refresh,r=null!=e.value?"grid-"+e.value:"grid-rebind",a=!0}if(a)vr_1.createButton({icon:i,imageUrl:e.imageUrl,enable:n,text:t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},visible:e.visible,cssContainer:e.cssContainer,css:e.css,mode:!0===e.primary?vr_1.ButtonModeEnum.Primary:void 0,classContainer:"grid-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:(e.type==vr_1.GridToolbarItemType.Separator?"grid-separator":"")+" grid-toolbarItems "+r,badgeSettings:e.badge,onClick:t=>{if(e.type==vr_1.GridToolbarItemType.Delete){let t=this.getCheckedItems();if(0==t.length)return void vr_1.notifyWarning("Selezionare almeno una riga per proseguire");null==e.confirmationMessage&&(1==t.length?e.confirmationMessage="Proseguendo, verrà eliminato l'elemento selezionato. Continuare?":t.length>1&&(e.confirmationMessage="Proseguendo, verranno eliminati gli elementi selezionati. Continuare?"))}let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,r+"_"+this._elementId);else{if(e.type==vr_1.GridToolbarItemType.SplitButton){let r=null!=e.value?e.value:"splitButton";null==e.value&&null!=e.text&&(r=e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+"splitButton"),null==e.splitButtonOptions&&(e.splitButtonOptions=new splitButton_1.SplitButtonOptions),null!=e.splitButtonItems&&(e.splitButtonOptions.items=e.splitButtonItems),null==e.splitButtonOptions.separator&&(e.splitButtonOptions.separator=!1);let a="grid-"+r;vr_1.createSplitButton({text:t,icon:i,enable:n,imageUrl:e.imageUrl,items:e.splitButtonOptions.items,visible:e.visible,separator:e.splitButtonOptions.separator,colorSettings:e.splitButtonOptions.colorSettings,popupSettings:e.splitButtonOptions.popupSettings,tooltip:e.splitButtonOptions.tooltip,hoverMode:e.splitButtonOptions.hoverMode,modal:e.splitButtonOptions.modal,showDefault:e.splitButtonOptions.showDefault,cssContainer:e.cssContainer+" vertical-align: top;",css:e.css,classContainer:"grid-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:"grid-toolbarItems grid-splitButton "+a,onClick:null==e.onClick?void 0:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,a+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.ButtonGroup){let t="grid-"+(null!=e.value?e.value:"buttonGroup");vr_1.createButtonGroup({enable:n,selectionMode:vr_1.SelectionModeEnum.Single,items:e.buttonGroupItems,visible:e.visible,cssContainer:"top: -1px; "+e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,class:"grid-toolbarItems grid-buttonGroup "+t,width:"auto",onSelect:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.CheckBox){let t="grid-"+(null!=e.value?e.value:"checkbox");vr_1.createCheckBox({enable:n,text:e.text,visible:e.visible,cssContainer:"top: 3px; "+e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,class:"grid-toolbarItems grid-checkBox "+t,onCheck:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.Label){let t="grid-"+(null!=e.value?e.value:"label");vr_1.createLabel({enable:n,text:e.text,visible:e.visible,cssContainer:e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,class:"grid-toolbarItems grid-label "+t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},onClick:t=>{let i=new GridToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?vr_1.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.ComboBox){let t="grid-"+(null!=e.value?e.value:"comboBox");null==e.comboBoxOptions&&(e.comboBoxOptions=new comboBox_1.ComboBoxOptions),e.comboBoxOptions.classContainer="grid-toolbarItemsContainer "+e.comboBoxOptions.classContainer,e.comboBoxOptions.class="grid-toolbarItems grid-comboBox "+t+" "+e.comboBoxOptions.class,null==e.comboBoxOptions.visible&&(e.comboBoxOptions.visible=e.visible),null==e.comboBoxOptions.css&&(e.comboBoxOptions.css=e.css),null==e.comboBoxOptions.cssContainer&&(e.comboBoxOptions.cssContainer=e.cssContainer+";"),e.comboBoxOptions.cssContainer+="vertical-align: top;",null==e.comboBoxOptions.enable&&(e.comboBoxOptions.enable=n),vr_1.createComboBox(e.comboBoxOptions,this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.DatePicker){let t="grid-"+(null!=e.value?e.value:"datePicker");null==e.datePickerOptions&&(e.datePickerOptions=new datePicker_1.DatePickerOptions),e.datePickerOptions.classContainer="grid-toolbarItemsContainer "+e.datePickerOptions.classContainer,e.datePickerOptions.class="grid-toolbarItems grid-datePicker "+t+" "+e.datePickerOptions.class,null==e.datePickerOptions.visible&&(e.datePickerOptions.visible=e.visible),null==e.datePickerOptions.css&&(e.datePickerOptions.css=e.css),null==e.datePickerOptions.cssContainer&&(e.datePickerOptions.cssContainer=e.cssContainer),e.datePickerOptions.cssContainer+="top: -1px; "+e.datePickerOptions.cssContainer,null==e.datePickerOptions.enable&&(e.datePickerOptions.enable=n),vr_1.createDatePicker(e.datePickerOptions,this._divToolbar,null,t+"_"+this._elementId)}if(e.type==vr_1.GridToolbarItemType.TextBox){let t="grid-"+(null!=e.value?e.value:"textBox");null==e.textBoxOptions&&(e.textBoxOptions=new textbox_1.TextBoxOptions),e.textBoxOptions.classContainer="grid-toolbarItemsContainer "+e.textBoxOptions.classContainer,e.textBoxOptions.class="grid-toolbarItems grid-textBox "+t+" "+e.textBoxOptions.class,null==e.textBoxOptions.visible&&(e.textBoxOptions.visible=e.visible),null==e.textBoxOptions.css&&(e.textBoxOptions.css=e.css),null==e.textBoxOptions.cssContainer&&(e.textBoxOptions.cssContainer=e.cssContainer),e.textBoxOptions.cssContainer+="top: -1px; "+e.textBoxOptions.cssContainer,null==e.textBoxOptions.enable&&(e.textBoxOptions.enable=n),vr_1.createTextBox(e.textBoxOptions,this._divToolbar,null,t+"_"+this._elementId)}else if(e.type==vr_1.GridToolbarItemType.Switch){null==e.switchSettings&&(e.switchSettings=new GridToolbarSwitchSettings,e.switchSettings.labelOff="",e.switchSettings.labelOn=""),null==e.switchSettings.checked&&(e.switchSettings.checked=!1);let t="grid-"+(null!=e.value?e.value:"switch");vr_1.puma(this._divToolbar).vrAppendPuma("<div id='"+t+"_"+this._elementId+"' class='grid-toolbarItems-switch'></div>"),vr_1.createSwitch({labelOff:e.switchSettings.labelOff,labelOn:e.switchSettings.labelOn,checked:e.switchSettings.checked,cssContainer:"top: -2px; "+e.cssContainer,css:e.css,classContainer:"grid-toolbarItemsContainer "+e.classContainer,visible:e.visible,enable:n,onChange:t=>{if(null!=e.switchSettings.onCheck){let i=new GridToolbarSwitchEvent;i.checked=t.checked,e.switchSettings.onCheck(i)}}},null,null,t+"_"+this._elementId)}}}createAutoWindow(){if(null!=this._wndAutoWindow)return;let e=this.getOptions();null==e.autoWindowSettings&&(e.autoWindowSettings=new GridAutoWindowSettings),null==e.autoWindowSettings.options&&(e.autoWindowSettings.options=new GridAutoWindowOption),null==e.autoWindowSettings.options.width&&(e.autoWindowSettings.options.width=400),null==e.autoWindowSettings.options.titleNew&&(e.autoWindowSettings.options.titleNew="Nuovo"),null==e.autoWindowSettings.options.titleEdit&&(e.autoWindowSettings.options.titleEdit="Modifica"),this._wndAutoWindow=vr_1.createWindow({addToControlList:!1,classContainer:this.element().id+"_wndUtility",width:e.autoWindowSettings.options.width,height:e.autoWindowSettings.options.height,title:e.autoWindowSettings.options.titleNew,onClose:e=>{vr_1.puma(this._wndAutoWindow.container()).remove(),this._wndAutoWindow=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Close,onClick:t=>{this._actualEditedItem=null,null!=e.autoWindowSettings.onClose&&e.autoWindowSettings.onClose()}},{type:vr_1.WindowFooterItemTypeEnum.Ok,onClick:t=>{null!=e.autoWindowSettings.options.confirmationMessage&&e.autoWindowSettings.options.confirmationMessage.length>0?vr_1.confirm(e.autoWindowSettings.options.confirmationMessage).then(()=>{this.saveAutoWindow()}):this.saveAutoWindow()}}]}),vr_1.puma(this._wndAutoWindow.element()).addClass("grid_autoWindow"),this.createControlsAutoWindow(e)}createControlsAutoWindow(e){let t=[],i=this._wndAutoWindow.element().id;for(let i of e.columns.slice(1).reverse())i.hidden||(i.type==vr_1.GridColumnTypeEnum.Checkbox||i.type==vr_1.GridColumnTypeEnum.Boolean?t.unshift(i):t.push(i));for(let r of t.reverse()){let t=null==r.title?r.field:r.title,n=null!=r.cellSettings&&null!=r.cellSettings.tooltip?r.cellSettings.tooltip:void 0;switch(!0===n?n=t:(!1===n||"function"==typeof n)&&(n=void 0),r.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=vr_1.createCheckBox({label:t,tooltip:n},i,null,this._elementId+"_checkBox_"+r.field);vr_1.puma(e.element()).parent().css("margin-top","10px"),vr_1.puma(e.element()).parent().css("display","inline-block"),vr_1.puma(e.element()).parent().css("margin-right","5px")}break;case vr_1.GridColumnTypeEnum.String:vr_1.createTextBox({label:t,width:"100%",tooltip:n},i,null,this._elementId+"_textBox_"+r.field);break;case vr_1.GridColumnTypeEnum.PasswordViewable:vr_1.createTextBox({label:t,width:"100%",mode:vr_1.TextModeEnum.PasswordViewable,tooltip:n},i,null,this._elementId+"_textBox_"+r.field);break;case vr_1.GridColumnTypeEnum.Date:vr_1.createDatePicker({label:t,width:"100%",tooltip:n},i,null,this._elementId+"_datePicker_"+r.field);break;case vr_1.GridColumnTypeEnum.DateTime:vr_1.createDatePicker({mode:vr_1.DateModeEnum.DateTime,label:t,width:"100%",tooltip:n},i,null,this._elementId+"_dateTimePicker_"+r.field);break;case vr_1.GridColumnTypeEnum.Time:vr_1.createDatePicker({mode:vr_1.DateModeEnum.Time,label:t,width:"100%",tooltip:n},i,null,this._elementId+"_timePicker_"+r.field);break;case vr_1.GridColumnTypeEnum.DropDownList:if(null==r.dataItems)throw new Error("Property 'dataItems' of column '"+r.field+"' is null; please, consider to fill it with an array of dropDownListItem[]");vr_1.createComboBox({mode:vr_1.ComboBoxTypeEnum.DropDown,label:t,width:"100%",items:r.dataItems,nullable:r.ddlNullable,clearButton:r.ddlNullable,tooltip:n},i,null,this._elementId+"_dropDownList_"+r.field);break;case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:if(null==r.dataItems)throw new Error("Property 'dataItems' of column '"+r.field+"' is null; please, consider to fill it with an array of dropDownTreeItem[]");for(let e of r.dataItems)null==e.expanded&&(e.expanded=!0);vr_1.createComboBox({label:t,width:"100%",items:r.dataItems,checkboxes:r.type==vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes,clearButton:r.ddlNullable,tooltip:n},i,null,this._elementId+"_dropDownTree_"+r.field);break;case vr_1.GridColumnTypeEnum.ComboBox:if(null==r.dataItems)throw new Error("Property 'dataItems' of column '"+r.field+"' is null; please, consider to fill it with an array of comboBoxItem[]");vr_1.createComboBox({label:t,width:"100%",items:r.dataItems,tooltip:n,clearButton:r.ddlNullable},i,null,this._elementId+"_comboBox_"+r.field);break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let a=vr_1.TextModeEnum.Numeric;r.type==vr_1.GridColumnTypeEnum.Currency?a=vr_1.TextModeEnum.Currency:r.type==vr_1.GridColumnTypeEnum.Percentage&&(a=vr_1.TextModeEnum.Percentage);vr_1.createTextBox({label:t,width:"100%",mode:a,tooltip:n,roundingSettings:null!=r.roundingSettings?r.roundingSettings:e.roundingSettings},i,null,this._elementId+"_numericTextBox_"+r.field)}break;case vr_1.GridColumnTypeEnum.Color:vr_1.createColorPicker({label:t,width:"100%",cssContainer:"align-items: flex-start;",addToControlList:!0},i,null,this._elementId+"_colorPicker_"+r.field)}}}openAutoWindow(e){let t=this.getOptions();if(null==t.autoWindowSettings&&t.hideEditButton||this.createAutoWindow(),null==this._wndAutoWindow)return;if(null!=t.onAutoWindowOpen){let i=new AutoWindowOpenEvent;if(i.sender=this,i.window=this._wndAutoWindow,i.dataItem=e,i.columns=t.columns,t.onAutoWindowOpen(i),i.isDefaultPrevented())return}let i=null!=e?t.autoWindowSettings.options.titleEdit:t.autoWindowSettings.options.titleNew;this._wndAutoWindow.title(i),this._wndAutoWindow.open(),null==t.autoWindowSettings.options.height&&(vr_1.puma(this._wndAutoWindow.element()).css("height","auto"),vr_1.puma(this._wndAutoWindow.element()).parent().css("height","auto"),this._wndAutoWindow.center(),vr_1.puma(this._wndAutoWindow.element()).css("overflow-y","auto"));let r=0;this._actualEditedItem=e;for(let i of t.columns.slice(1)){if(i.hidden&&!i.editable)continue;let t=null!=e?e[i.field]:null;switch(i.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=controlManager_1.ControlManager.get(this._elementId+"_checkBox_"+i.field);e.clear(),null!=t?e.checked(t):null!=i.defaultValue?e.checked(i.defaultValue):"Active"!=i.field&&"IsActive"!=i.field||e.checked(!0),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.String:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.PasswordViewable:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Date:{let e=controlManager_1.ControlManager.get(this._elementId+"_datePicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(new Date(i.defaultValue)),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.DateTime:{let e=controlManager_1.ControlManager.get(this._elementId+"_dateTimePicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(new Date(i.defaultValue)),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Time:{let e=controlManager_1.ControlManager.get(this._elementId+"_timePicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(new Date(i.defaultValue)),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.DropDownList:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownList_"+i.field);e.clearItems(),e.items(i.dataItems),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.DropDownTree:case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownTree_"+i.field);if(e.clearItems(),e.items(i.dataItems),null!=t){let t=this._actualEditedItem[i.field];"string"==typeof t?t=t.split(","):Array.isArray(t)||(t=[t]),e.value(t)}else if(null!=i.defaultValue){let t=i.defaultValue;"string"==typeof t?t=t.split(","):Array.isArray(t)||(t=[t]),e.value("string"==typeof t?t.split(","):[t])}0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.ComboBox:{let e=controlManager_1.ControlManager.get(this._elementId+"_comboBox_"+i.field);e.clearItems(),e.items(i.dataItems),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let e=controlManager_1.ControlManager.get(this._elementId+"_numericTextBox_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==r&&e.focus(),0==i.editable?e.enabled(!1):e.enabled(!0)}break;case vr_1.GridColumnTypeEnum.Color:{let e=controlManager_1.ControlManager.get(this._elementId+"_colorPicker_"+i.field);e.clear(),null!=t?e.value(t):null!=i.defaultValue&&e.value(i.defaultValue),0==i.editable?e.enabled(!1):e.enabled(!0)}}r++}}saveAutoWindow(){let e=this.getOptions();null==this._actualEditedItem&&(this._actualEditedItem={});let t=jQuery.extend(!0,{},this._actualEditedItem);for(let t of e.columns.slice(1))if(!t.hidden)switch(t.type){case vr_1.GridColumnTypeEnum.Checkbox:case vr_1.GridColumnTypeEnum.Boolean:{let e=controlManager_1.ControlManager.get(this._elementId+"_checkBox_"+t.field);this._actualEditedItem[t.field]=e.checked()}break;case vr_1.GridColumnTypeEnum.String:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.PasswordViewable:{let e=controlManager_1.ControlManager.get(this._elementId+"_textBox_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.Date:{let e=controlManager_1.ControlManager.get(this._elementId+"_datePicker_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.DateTime:{let e=controlManager_1.ControlManager.get(this._elementId+"_dateTimePicker_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.Time:{let e=controlManager_1.ControlManager.get(this._elementId+"_timePicker_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.DropDownList:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownList_"+t.field);this._actualEditedItem[t.field]=e.value(),this._actualEditedItem[t.displayField]=e.text()}break;case vr_1.GridColumnTypeEnum.DropDownTree:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownTree_"+t.field);this._actualEditedItem[t.field]=e.value(),this._actualEditedItem[t.displayField]=e.text()}break;case vr_1.GridColumnTypeEnum.DropDownTreeCheckboxes:{let e=controlManager_1.ControlManager.get(this._elementId+"_dropDownTree_"+t.field);this._actualEditedItem[t.field]=e.getCheckedValues(),this._actualEditedItem[t.displayField]=e.getCheckedItems().map(e=>e.text).vrToCommaSeparatedList()}break;case vr_1.GridColumnTypeEnum.ComboBox:{let e=controlManager_1.ControlManager.get(this._elementId+"_comboBox_"+t.field);this._actualEditedItem[t.field]=e.value(),this._actualEditedItem[t.displayField]=e.text()}break;case vr_1.GridColumnTypeEnum.Number:case vr_1.GridColumnTypeEnum.Currency:case vr_1.GridColumnTypeEnum.Percentage:case vr_1.GridColumnTypeEnum.Duration:{let e=controlManager_1.ControlManager.get(this._elementId+"_numericTextBox_"+t.field);this._actualEditedItem[t.field]=e.value()}break;case vr_1.GridColumnTypeEnum.Color:{let e=controlManager_1.ControlManager.get(this._elementId+"_colorPicker_"+t.field);this._actualEditedItem[t.field]=e.value()}}let i=e.autoWindowSettings.save;if(null!=i)e.mode==vr_1.GridModeEnum.Sync?this.doWebApiCall(i,GridRequestTypeEnum.Save):(null!=i.callback&&i.callback({actualItem:this._actualEditedItem,oldItem:t}),this._wndAutoWindow.close());else{for(let t of Object.getOwnPropertyNames(this._actualEditedItem)){let i=e.columns.filter(e=>e.field==t)[0];null!=i&&i.type==vr_1.GridColumnTypeEnum.Percentage&&1!=i.ignoreFactor&&(this._actualEditedItem[t]*=100)}this.updateRow(this._actualEditedItem),this._wndAutoWindow.close(),null!=e.onDataSourceChanged&&e.onDataSourceChanged()}}createWindowLayout(){if(null!=this._wndLayout)return;if("boolean"==typeof this.getOptions().layoutSettings)return;this._wndLayout=vr_1.createWindow({addToControlList:!1,width:500,height:300,title:"Gestisci layout",classContainer:this.element().id+"_wndUtility",onClose:e=>{vr_1.puma(this._wndLayout.container()).remove(),this._wndLayout=null},footer:[{type:vr_1.WindowFooterItemTypeEnum.Close},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Layout base",mode:vr_1.ButtonModeEnum.Primary,align:vr_1.WindowFooterItemAlignEnum.Left,onClick:e=>{this._actualLayout=null,this.changeLayout(!0,this._originalOptionsForLayout)}},{type:vr_1.WindowFooterItemTypeEnum.Custom,text:"Carica",mode:vr_1.ButtonModeEnum.Primary,onClick:e=>{let t=this._grdLayout.getCheckedItems();if(0==t.length)return void vr_1.notifyWarning("Selezionare almeno un layout");let i=t[0];(null==this._actualLayout||null!=this._actualLayout&&i.id!=this._actualLayout.id)&&this.loadLayout(i.layoutName)}}]}),vr_1.puma(this._wndLayout.element()).vrAppendPuma("<div id='"+this._elementId+"_divWindowLayoutContainer' class='vrContainer'></div>");let e=vr_1.puma("#"+this._elementId+"_divWindowLayoutContainer")[0];vr_1.puma("<table id='"+this._elementId+"_tblLayout'></table>").vrAppendToPuma(e),this._grdLayout=vr_1.createGrid({addToControlList:!1,footer:!1,pageSize:400,filterable:!1,checkboxes:vr_1.GridCheckboxModeEnum.SingleCheck,height:144,groupBy:null,groupable:!1,rebind:{authKey:"10(P9m+U3a@Mtt-Oeo",method:"/api/GridLayoutPersisterWebApi/GetLayoutList",itemsPropertyName:"tableLayoutList",parameters:()=>{let e=this.getOptions();if("boolean"!=typeof e.layoutSettings)return{pageName:window.location.href,gridName:e.layoutSettings.name}},callback:e=>{null!=this._actualLayout&&this._grdLayout.selectRowInternal(String(this._actualLayout.id),void 0,!0)}},autoWindowSettings:{save:{authKey:"10(P9m+U3a@Mtt-Oeo",method:"/api/GridLayoutPersisterWebApi/EditLayout",rebindGridAfterSave:!0}},toolbar:[{type:vr_1.GridToolbarItemType.Custom,icon:vr_1.IconClassRegular.Xmark,text:"Elimina",confirmationMessage:"Confermi di voler eliminare questo layout?",onClick:e=>{let t=this._grdLayout.getCheckedItems()[0];this._grdLayout.deleteRow(t.id);let i=null!=this._actualLayout&&t.id==this._actualLayout.id;this.clearLayout(t.layoutName,i),0==this._grdLayout.getAllItems().length&&(controlManager_1.ControlManager.get(this._elementId+"_spbSettings").hideItem("manageLayout"),window.setTimeout(()=>this._wndLayout.close(),300))}},{type:vr_1.GridToolbarItemType.Custom,icon:vr_1.IconClassLight.Plus,text:"Crea nuovo",onClick:e=>{vr_1.prompt("Assegna un nome a questo layout",{title:"Nuovo layout"}).then(e=>{this.saveLayout(e,()=>this._grdLayout.rebind())})}}],columns:[{type:vr_1.GridColumnTypeEnum.String,title:"Nome",field:"layoutName",fitSpace:!0},{type:vr_1.GridColumnTypeEnum.DateTime,title:"Ultima modifica",field:"layoutLastEditDate",width:200,editable:!1,headerSettings:{textAlign:vr_1.GridAlignEnum.Center}}]},null,null,this._elementId+"_tblLayout")}openWindowLayout(){this.createWindowLayout(),this._wndLayout.open(),this._grdLayout.rebind()}doWebApiCallLayout(e,t,i){let r="";switch(e){case GridLayoutOperationTypeEnum.Save:r="/api/GridLayoutPersisterWebApi/SaveLayout";break;case GridLayoutOperationTypeEnum.Load:r="/api/GridLayoutPersisterWebApi/LoadLayout";break;case GridLayoutOperationTypeEnum.Clear:r="/api/GridLayoutPersisterWebApi/ClearLayout";break;case GridLayoutOperationTypeEnum.Get:r="/api/GridLayoutPersisterWebApi/GetLayoutList"}t.AuthKey="10(P9m+U3a@Mtt-Oeo",$.ajax({type:"POST",contentType:"application/json",data:JSON.stringify(t),method:"POST",processData:!1,async:!(e==GridLayoutOperationTypeEnum.Get),dataType:"json",url:r,success:function(e,t,r){null!=i&&i(e)}})}saveLayout(e,t){let i=this.getOptions();if("boolean"==typeof i.layoutSettings)return;if(""==e)return void vr_1.notify("Inserire un nome del layout");let r=new GridLayoutStructure;r.filterConditions=Array.from(this._dictionaryFilterConditions.entries()),null!=i.groupBy&&null!=i.groupBy.fields&&(r.groupBy=new vr_1.GridGroupBySettings,r.groupBy.fields=i.groupBy.fields,r.groupBy.internalSortBy=i.groupBy.internalSortBy,r.groupBy.sortBy=i.groupBy.sortBy),r.pageSize="boolean"==typeof i.pageSize||this._pageSizeUnlimited?50:i.pageSize,r.sortingInfo=this._actualSortingInfo;let n=0,a=[];for(let e of i.columns){let t=new GridLayoutColumn;t.field=e.field,t.fitSpace=e.fitSpace,t.hidden=e.hidden,t.locked=e.locked,t.index=n;let i=null!=e.width?e.width:e.type==vr_1.GridColumnTypeEnum.EditButton?32:100;t.width=i,a.push(t),n++}r.columns=a;let o=new SaveLayoutRequest;o.layoutJson=JSON.stringify(r),o.pageName=window.location.href,o.gridName=i.layoutSettings.name,o.layoutName=e,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Save,o,e=>{if(null==this._actualLayout){controlManager_1.ControlManager.get(this._elementId+"_spbSettings").showItem("manageLayout");let e=0;e=i.groupable?-127:-95,vr_1.puma("<style>.vrContainer .grid_spbSettings .k-animation-container\n\t\t\t\t\t{\n\t\t\t\t\t\ttop: "+e+"px !important;\n\t\t\t\t\t}</style>").vrAppendToPuma("head")}null==o.layoutPropertyName&&(o.layoutPropertyName="tableLayout"),this._actualLayout=e[o.layoutPropertyName],vr_1.notify("Layout salvato correttamente"),null!=t&&t()})}clearLayout(e,t=!1){let i=this.getOptions();if("boolean"==typeof i.layoutSettings)return;let r=new ClearLayoutRequest;r.pageName=window.location.href,r.gridName=i.layoutSettings.name,r.layoutName=e,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Clear,r,e=>{t&&(this._actualLayout=null,this.changeLayout(!0,this._originalOptionsForLayout))})}customLayouts(){return this._customLayouts}activeLayout(){return this._actualLayout}loadLayout(e){let t=this.getOptions();if("boolean"==typeof t.layoutSettings)return;let i=new LoadLayoutRequest;i.pageName=window.location.href,i.gridName=t.layoutSettings.name,i.layoutName=e,this.doWebApiCallLayout(GridLayoutOperationTypeEnum.Load,i,e=>{null!=e.tableLayout&&null!=e.tableLayout.layoutJson?(this._actualLayout=e.tableLayout,this.changeLayout(!0),vr_1.notify("Layout caricato correttamente"),this._wndLayout.close()):vr_1.notify("Errore nel caricamento del layout")})}changeLayout(e=!1,t){if(null!=this._actualLayout||null!=t){let i=this.getOptions(),r=null!=t?t:JSON.parse(this._actualLayout.layoutJson);if(i.groupable&&null!=i.groupBy){let e=[];if(null!=i.groupBy.fields)for(let t of i.groupBy.fields.map(e=>e.field))e.push(t);for(let t of e)this.removeGroup(t,!1)}if(null!=r.groupBy){let t=[];if(Array.isArray(r.groupBy)){for(let e of r.groupBy)t.push({field:utilityManager_1.UtilityManager.duplicate(e)});i.groupBy=new vr_1.GridGroupBySettings,i.groupBy.fields=utilityManager_1.UtilityManager.duplicate(t)}else t=utilityManager_1.UtilityManager.duplicate(r.groupBy.fields),i.groupBy=utilityManager_1.UtilityManager.duplicate(r.groupBy);null!=t&&this.addGroups(t,e)}if(null!=r.pageSize&&(i.pageSize=r.pageSize,e)){let e=controlManager_1.ControlManager.get(this._elementId+"_ddlPageSize");if(!e.items().map(e=>e.value).includes(String(r.pageSize))){let t=e.items();t.push({text:String(r.pageSize),value:String(r.pageSize)}),e.items(t)}e.value(String(r.pageSize),!0)}if(this.clearFilters(!1),null!=r.filterConditions&&r.filterConditions.length>0){let e=new Map;for(let t of r.filterConditions)e.set(t[0],t[1]);this._dictionaryFilterConditions=e}if(this.removeSort(!1),null!=r.sortingInfo&&(this._actualSortingInfo=r.sortingInfo),null!=r.columns){for(let e of r.columns){let t=i.columns.filter(t=>t.field==e.field)[0];if(null!=t){let r=i.columns.indexOf(t);if(i.columns[r].index=e.index,!0!==e.fitSpace&&(i.columns[r].width=e.width),!0!==e.fitSpace){let t=vr_1.puma(this._divHeader).find("th[value='"+e.field+"']")[0];i.lockable&&null==t&&(t=vr_1.puma(this._divHeaderLocked).find("th[value='"+e.field+"']")[0]),t.style.width=e.width+"px",i.filterable&&(null!=vr_1.puma(this._divFilters).find("td[value='"+e.field+"']")[0]&&(vr_1.puma(this._divFilters).find("td[value='"+e.field+"']")[0].style.width=e.width+"px"),i.lockable&&null!=vr_1.puma(this._divFiltersLocked).find("td[value='"+e.field+"']")[0]&&(vr_1.puma(this._divFiltersLocked).find("td[value='"+e.field+"']")[0].style.width=e.width+"px")),this._showTotals&&(null!=vr_1.puma(this._divTotals).find("td[value='"+e.field+"']")[0]&&(vr_1.puma(this._divTotals).find("td[value='"+e.field+"']")[0].style.width=e.width+"px"),i.lockable&&null!=vr_1.puma(this._divTotalsLocked).find("td[value='"+e.field+"']")[0]&&(vr_1.puma(this._divTotalsLocked).find("td[value='"+e.field+"']")[0].style.width=e.width+"px"))}e.hidden?this.hideColumn(e.field,!1):this.showColumn(e.field,!1),e.locked?this.lockColumn(e.field,!1):this.unlockColumn(e.field,!1)}}i.columns.vrSortAsc("index");let e=vr_1.puma(this._divHeader).find("table th:last-child").index();for(let t of i.columns){let r=vr_1.puma(this._divHeader).find("table th[value='"+t.field+"']")[0];if(vr_1.puma(vr_1.puma(this._divHeader).find("table th")[e]).vrAfterPuma(r),i.filterable){let i=vr_1.puma(this._divFilters).find("table td[value='"+t.field+"']")[0];vr_1.puma(vr_1.puma(this._divFilters).find("table td")[e]).vrAfterPuma(i)}if(this._showTotals){let i=vr_1.puma(this._divTotals).find("table td[value='"+t.field+"']")[0];vr_1.puma(vr_1.puma(this._divTotals).find("table td")[e]).vrAfterPuma(i)}if(i.groupable){let i=vr_1.puma(this._divBody).find("colgroup col[field='"+t.field+"']")[0];vr_1.puma(vr_1.puma(this._divBody).find("colgroup col")[e]).vrAfterPuma(i)}}this.recalculateWidth()}e&&(vr_1.hideLoader("vrGridLoaderLayout"+this._elementId),this._originalDataSource.length>2e3&&vr_1.showLoader(this.container(),!0,"vrGridLoaderLayout"+this._elementId),window.setTimeout(()=>{vr_1.puma(this.element()).find("tbody").remove(),this.dataSource(this._originalDataSource),vr_1.hideLoader("vrGridLoaderLayout"+this._elementId)},50))}}}exports.Grid=Grid;class GridWebApiRequest{}var GridRequestTypeEnum,GridActionEnum,GridLayoutOperationTypeEnum;!function(e){e[e.Delete=0]="Delete",e[e.Rebind=1]="Rebind",e[e.Save=2]="Save",e[e.Excel=3]="Excel",e[e.RebindSpecificRows=4]="RebindSpecificRows"}(GridRequestTypeEnum||(GridRequestTypeEnum={}));class GridHeaderAndCellSettings{}exports.GridHeaderAndCellSettings=GridHeaderAndCellSettings;class GridHeaderSettings extends GridHeaderAndCellSettings{}exports.GridHeaderSettings=GridHeaderSettings;class GridCellSettings extends GridHeaderAndCellSettings{}exports.GridCellSettings=GridCellSettings;class GridControlData{}class GridControlsSettings{}exports.GridControlsSettings=GridControlsSettings;class GridCustomSettings extends GridControlsSettings{}exports.GridCustomSettings=GridCustomSettings;class GridIconSettings extends GridControlsSettings{}exports.GridIconSettings=GridIconSettings;class GridImageSettings extends GridControlsSettings{}exports.GridImageSettings=GridImageSettings;class GridLabelSettings extends GridControlsSettings{}exports.GridLabelSettings=GridLabelSettings;class GridRebindRequest extends GridWebApiRequest{}exports.GridRebindRequest=GridRebindRequest;class GridSearchingInfo{}class VrGridServerBindingSettings{}class GridServerBindSettings{}class GridServerBindPagination{}class GridExcelRequest extends GridWebApiRequest{}exports.GridExcelRequest=GridExcelRequest;class GridControlsClickEvent{}class GridTemplateEvent{}exports.GridTemplateEvent=GridTemplateEvent;class GridTooltipEvent{}exports.GridTooltipEvent=GridTooltipEvent;class GridOnDataBoundEvent{}exports.GridOnDataBoundEvent=GridOnDataBoundEvent;class GridOnRowDataBoundEvent{}exports.GridOnRowDataBoundEvent=GridOnRowDataBoundEvent;class GridSelectRowEvent{}exports.GridSelectRowEvent=GridSelectRowEvent;class GridSelectAllRowsEvent{}exports.GridSelectAllRowsEvent=GridSelectAllRowsEvent;class GridUnselectRowEvent{}exports.GridUnselectRowEvent=GridUnselectRowEvent;class GridUnselectAllRowsEvent{}exports.GridUnselectAllRowsEvent=GridUnselectAllRowsEvent;class GridToolbarClickEvent{preventDefault(){this.isDefaultPrevented=!0}}exports.GridToolbarClickEvent=GridToolbarClickEvent;class GridToolbarSwitchSettings{}exports.GridToolbarSwitchSettings=GridToolbarSwitchSettings;class GridToolbarSwitchEvent{}class GridToolbarDeleteRequest extends GridWebApiRequest{}exports.GridToolbarDeleteRequest=GridToolbarDeleteRequest;class GridFooterSettings{}exports.GridFooterSettings=GridFooterSettings;class GridTotalElementTemplateEvent{}class WorkerTotalsRequest{}class WorkerTotalsMessageColumnOptions{}class WorkerTotalsGroupItem{}class WorkerTotalsResult{}class GridExcelRow{}class GridExcelCell{}class GenerateExcelRequest{}class GenerateExcelResponse{}class GridSortingInfo{}class GridAutoWindowSettings{}class GridAutoWindowOption{}class GridSaveRequest extends GridWebApiRequest{}class AutoWindowOpenEvent extends common_1.VrControlsEvent{}!function(e){e[e.ShowHide=0]="ShowHide",e[e.GroupBy=1]="GroupBy",e[e.LockUnlock=2]="LockUnlock"}(GridActionEnum||(GridActionEnum={}));class GridFilterSettings{}exports.GridFilterSettings=GridFilterSettings;class GridDateFilterSettings{}class GridNumberFilterSettings{}class GridCheckboxFilterSettings{}class GridStringFilterSettings{}class DragSupportEvent{}class DragEveryEvent{}class GridColumnPosition{}class GridChildrenGroupRows{}class GridLayoutSettings{}class GridLayoutStructure{}class GridLayoutColumn{}class SaveLayoutRequest{}class LoadLayoutRequest{}class LoadLayoutResponse{}class ClearLayoutRequest{}class ClearLayoutResponse{}class GetLayoutListRequest{}class GridLayout{}!function(e){e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Clear=2]="Clear",e[e.Get=3]="Get"}(GridLayoutOperationTypeEnum||(GridLayoutOperationTypeEnum={}));class TempRebindInfo{}class GridRow{findControl(e){let t=vr_1.puma(this.element).find("*[uniqueName='"+e+"']")[0];return null!=t?controlManager_1.ControlManager.get(t.id):null}}exports.GridRow=GridRow},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintHtmlOptions=t.PrintFileOptions=t.PrintTypeEnum=t.PrintManager=void 0;const r=i(0);t.PrintManager=class{static printBytes(e,t){this.printBytesFileImageOrHtml(e,o.Pdf,t,!0)}static printPdf(e,t){this.printBytesFileImageOrHtml(e,o.Pdf,t)}static printImage(e,t){this.printBytesFileImageOrHtml(e,o.Image,t)}static printHtml(e,t){e.startsWith("#")&&(e=e.substr(1)),this.printBytesFileImageOrHtml(e,a.Html,t)}static printElement(e,t){let i="";"string"!=typeof e&&(i=r.puma(e)[0].id),""!=i&&null!=i||(r.puma(e)[0].id="vr_printTemp",i="vr_printTemp"),i.startsWith("#")||(i="#"+i),null==t&&(t=new l),r.puma(i).printThis({pageTitle:t.pageTitle,removeInlineStyles:t.removeInlineStyles,printDelay:t.printDelay,header:t.header,footer:t.footer,removeScripts:t.removeScripts,debug:t.debug,beforePrint:t.beforePrint,importCSS:!0,importStyle:!0,afterPrint:()=>{"#vr_printTemp"==i&&(r.puma(e)[0].id=""),null!=t.afterPrint&&t.afterPrint()}})}static printBytesFileImageOrHtml(e,t,i,r=!1){if(""==e)return;let a=void 0,o="File_"+(new Date).toLocaleString(),l=void 0;null!=i&&(null!=i.type&&(t=i.type),null!=i.headerTitle&&(a=i.headerTitle),null!=i.documentTitle&&(o=i.documentTitle),null!=i.customCss&&(l=i.customCss));let s=new n;s.printable=e,s.type=t,s.base64=r,s.header=a,s.documentTitle=o,s.style=l,this.print(s)}static printGrid(e,t){if(null==e)return;let i=void 0,r=void 0,o=null,l=void 0,s=!0,u="File_"+(new Date).toLocaleString();null!=t&&(null!=t.headerCss&&(i=t.headerCss),null!=t.contentCss&&(r=t.contentCss),null!=t.properties&&(o=t.properties),null!=t.headerTitle&&(l=t.headerTitle),null!=t.repeatHeaderOnEveryPages&&(s=t.repeatHeaderOnEveryPages),null!=t.documentTitle&&(u=t.documentTitle));let d=new n;d.printable=e,d.type=a.Json,d.properties=null==o?Object.getOwnPropertyNames(e):o,d.gridHeaderStyle=i,d.gridStyle=r,d.header=l,d.repeatTableHeader=s,d.documentTitle=u,this.print(d)}static print(e){printJS(e)}};class n{}var a,o;!function(e){e.Pdf="pdf",e.Html="html",e.Image="image",e.Json="json"}(a||(a={})),function(e){e.Pdf="pdf",e.Image="image"}(o=t.PrintTypeEnum||(t.PrintTypeEnum={}));t.PrintFileOptions=class{};class l{}t.PrintHtmlOptions=l;!function(e){function t(e,t){t&&e.append(t.jquery?t.clone():t)}function i(t,i,r){var n,a,o,l=i.clone(r.formValues);r.formValues&&(n=l,a="select, textarea",o=i.find(a),n.find(a).each((function(t,i){e(i).val(o.eq(t).val())}))),r.removeScripts&&l.find("script").remove(),r.printContainer?l.appendTo(t):l.each((function(i,r){e(r).children().appendTo(t)}))}var r;e.fn.printThis=function(n){r=e.extend({},e.fn.printThis.defaults,n);var a=this instanceof jQuery?this:e(this),o="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var l='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";<\/script></head><body></body>")',s=document.createElement("iframe");s.name="printIframe",s.id=o,s.className="MSIE",document.body.appendChild(s),s.src=l}else{e("<iframe id='"+o+"' name='printIframe' />").appendTo("body")}var u=e("#"+o);r.debug||u.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),"function"==typeof r.beforePrint&&r.beforePrint(),setTimeout((function(){r.doctypeString&&function(e,t){var i,r;(r=(i=(i=e.get(0)).contentWindow||i.contentDocument||i).document||i.contentDocument||i).open(),r.write(t),r.close()}(u,r.doctypeString);var n,o=u.contents(),l=o.find("head"),s=o.find("body"),d=e("base");n=!0===r.base&&d.length>0?d.attr("href"):"string"==typeof r.base?r.base:document.location.protocol+"//"+document.location.host,l.append('<base href="'+n+'">'),r.importCSS&&e("link[rel=stylesheet]").each((function(t,i){var r=e(i).attr("href");if(r){var n=e(i).attr("media")||"all";l.append("<link type='text/css' rel='stylesheet' href='"+r+"' media='"+n+"'>")}})),r.importStyle&&e("style").each((function(e,t){l.append(t.outerHTML)})),r.pageTitle&&l.append("<title>"+r.pageTitle+"</title>"),r.loadCSS&&(e.isArray(r.loadCSS)?jQuery.each(r.loadCSS,(function(e,t){l.append("<link type='text/css' rel='stylesheet' href='"+t+"'>")})):l.append("<link type='text/css' rel='stylesheet' href='"+r.loadCSS+"'>"));var c=e("html")[0];o.find("html").prop("style",c.style.cssText);var p=r.copyTagClasses;if(p&&(-1!==(p=!0===p?"bh":p).indexOf("b")&&s.addClass(e("body")[0].className),-1!==p.indexOf("h")&&o.find("html").addClass(c.className)),t(s,r.header),r.canvas){var h=0;a.find("canvas").addBack("canvas").each((function(t,i){e(i).attr("data-printthis",h++)}))}if(i(s,a,r),r.canvas&&s.find("canvas").each((function(t,i){var r=e(i).data("printthis"),n=e('[data-printthis="'+r+'"]');i.getContext("2d").drawImage(n[0],0,0),e.isFunction(e.fn.removeAttr)?n.removeAttr("data-printthis"):e.each(n,(function(e,t){t.removeAttribute("data-printthis")}))})),r.removeInline){var m=r.removeInlineSelector||"*";e.isFunction(e.removeAttr)?s.find(m).removeAttr("style"):s.find(m).attr("style","")}t(s,r.footer),function(e,t){var i=e.get(0);i=i.contentWindow||i.contentDocument||i,"function"==typeof t&&("matchMedia"in i?i.matchMedia("print").addListener((function(e){e.matches&&t()})):i.onbeforeprint=t)}(u,r.beforePrintEvent),setTimeout((function(){u.hasClass("MSIE")?(window.frames.printIframe.focus(),l.append("<script>  window.print(); <\/script>")):document.queryCommandSupported("print")?u[0].contentWindow.document.execCommand("print",!1,null):(u[0].contentWindow.focus(),u[0].contentWindow.print()),r.debug||setTimeout((function(){u.remove()}),1e3),"function"==typeof r.afterPrint&&r.afterPrint()}),r.printDelay)}),333)},e.fn.printThis.defaults={debug:!1,importCSS:!0,importStyle:!1,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,removeInlineSelector:"*",printDelay:333,header:null,footer:null,base:!1,formValues:!0,canvas:!1,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!1,beforePrintEvent:null,beforePrint:null,afterPrint:null}}(jQuery)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotifierHideSettings=t.NotifierOnClickEvent=t.NotifierCustomHtmlEvent=t.NotifierShowSettings=t.Notifier=void 0;const r=i(3),n=i(0);t.Notifier=class{constructor(e,t){null==t&&(t=new n.NotifierOptions),null==t.type&&(t.type=n.NotifierTypeEnum.Default),null==t.width&&(t.width=r.DeviceManager.isMobile()?"100%":null==t.target?"undefined":"max-content"),null==t.bold&&(t.bold=!1),null==t.position&&(t.position=null==t.target?n.NotifierPositionEnum.TopCenter:n.NotifierPositionEnum.RightMiddle),null==t.hideSettings&&(t.hideSettings=new u),null!=t.hideSettings.autoHide&&!0!==t.hideSettings.autoHide||(t.hideSettings.autoHide=3e3),null==t.hideSettings.clickToHide&&(t.hideSettings.clickToHide=!1),!0===t.hideSettings.clickToHide&&(t.hideSettings.autoHide=!1),null==t.hideSettings.duration&&(t.hideSettings.duration=300),null==t.hideSettings.animation&&(t.hideSettings.animation=n.AnimationHideEnum.SlideUp),null==t.showSettings&&(t.showSettings=new a),null==t.showSettings.duration&&(t.showSettings.duration=300),null==t.showSettings.animation&&(t.showSettings.animation=n.AnimationShowEnum.SlideDown),null==t.colorSettings&&(t.colorSettings=new n.ColorSettings),null==t.colorSettings.background&&(t.colorSettings.background="#e3f1fa"),null==t.colorSettings.textColor&&(t.colorSettings.textColor="#000"),null==t.colorSettings.border&&(t.colorSettings.border="#c6edff"),r.DeviceManager.isMobile()&&(null==t.target?t.position=n.NotifierPositionEnum.TopCenter:t.position=n.NotifierPositionEnum.BottomCenter),this._options=t,this.isOnTarget()||(0==n.puma(".vrNotifierArea"+t.position).length&&n.puma("<div class='vrNotifierArea"+t.position+"'></div>").appendTo(null!=n.shadowRoot()?n.shadowRoot():document.body),r.DeviceManager.isMobile()&&(null!=n.puma(".vrNotifierAreaTopCenter")[0]&&(n.puma(".vrNotifierAreaTopCenter")[0].style.cssText+="left: 0px; width: Calc(100% - 22px);"),null!=n.puma(".vrNotifierAreaBottomCenter")[0]&&(n.puma(".vrNotifierAreaBottomCenter")[0].style.cssText+="left: 0px; width: Calc(100% - 22px);"))),this.prepareNotification(e),this.show()}prepareNotification(e){let t=this.getOptions(),i=this.getContainerToAdd();this._container=n.div(i,{class:"vrNotifierContainer",css:null!=t.cssContainer?t.cssContainer:""},!0),this._arrow=n.div(this._container,{class:"vrNotifierArrow"}),this._element=n.div(this._container,{class:"vrNotifier "+(null!=t.class?t.class:""),css:null!=t.css?t.css:""}),r.DeviceManager.isMobile()&&(this._container.style.cssText+="left: 0px;"),t.bold&&n.puma(this._element).css("font-weight","600"),null!=t.fontSize&&(this._element.style.cssText+="font-size: "+t.fontSize+";"),this.isOnTarget()?("string"!=typeof t.target||t.target.startsWith("#")||(t.target="#"+t.target),t.target=n.puma(t.target)[0],n.puma(this._container).insertBefore(t.target),this._container.style.cssText+="width: 0; height: 0; position: absolute; display: inline-block;",this._arrow.style.cssText+="display: block;",this._element.style.cssText+="position: absolute;"):(this._container.style.cssText+="position: relative; margin: 5px;",this._arrow.style.cssText+="display: none;",this._element.style.cssText+="position: relative;"),null!=t.width&&n.puma(this._element).width(t.width);let a=t.colorSettings.textColor,l=t.colorSettings.background,s=t.colorSettings.border,u=t.icon;switch(t.type){case n.NotifierTypeEnum.Error:a="#B94A48",l="#F2DEDE",s="#EED3D7",u=n.IconClassRegular.CircleExclamation;break;case n.NotifierTypeEnum.Warning:a="#684200",l="#FCF8E3",s="#FBEED5",u=n.IconClassRegular.TriangleExclamation;break;case n.NotifierTypeEnum.Info:a="#3A87AD",l="#D9EDF7",s="#BCE8F1",u=n.IconClassRegular.Info;break;case n.NotifierTypeEnum.Success:a="#468847",l="#DFF0D8",s="#D6E9C6",u=n.IconClassRegular.Check}if(null!=u&&!1!==t.icon&&n.puma(this._element).append(n.icon(u,null,{css:"margin-right: 8px;"})),n.puma(this._element).css("background-color",l),n.puma(this._element).css("color",a),n.puma(this._element).css("border","solid 1px "+s),null!=t.customHtml)if("string"==typeof t.customHtml)n.puma(this._element).append(t.customHtml.replace("#text#",e));else{let e=new o;e.sender=this,e.divContainer=this._element,t.customHtml(e)}else n.puma(this._element).append("<label>"+e+"</label>");if(this.isOnTarget()){let e="border-right: 5px solid transparent; border-left: 5px solid transparent; border-top: 5px solid "+l+";",i="border-right: 5px solid transparent; border-left: 5px solid transparent; border-bottom: 5px solid "+l+";",r="border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 5px solid "+l+";",a="border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-right: 5px solid "+l+";",o=this.targetOptions().marginLeft,s=null,u=null,d=null,c=null;switch(t.position){case n.NotifierPositionEnum.TopCenter:c=-1*(this.element().offsetWidth-this.targetOptions().width)/2+o,d=4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; bottom: 0px;"+e,this._element.style.cssText+="left: "+c+"px; bottom: "+d+"px;";break;case n.NotifierPositionEnum.TopRight:c=o+this.targetOptions().width-this.element().offsetWidth,d=4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; bottom: 0px;"+e,this._element.style.cssText+="left: "+c+"px; bottom: "+d+"px;";break;case n.NotifierPositionEnum.TopLeft:c=o,d=4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; bottom: 0px;"+e,this._element.style.cssText+="left: "+c+"px; bottom: "+d+"px;";break;case n.NotifierPositionEnum.RightMiddle:{let e=-1*(this.element().offsetHeight-this.target().offsetHeight)/2;c=this.target().offsetWidth+4+o,s=e,this._arrow.style.cssText+="left: "+(this.targetOptions().width+o)+"px; top: "+(n.puma(this.target()).offset().top+this.target().offsetHeight/2-5)+"px;"+a,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;",this._container.style.cssText+="left: "+c+"px; top: "+s+"px;"}break;case n.NotifierPositionEnum.RightTop:c=this.target().offsetWidth+4+o,s=0,this._arrow.style.cssText+="left: "+(this.target().offsetWidth+o)+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+a,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;";break;case n.NotifierPositionEnum.RightBottom:{let e=Math.abs(this.element().offsetHeight-this.target().offsetHeight);c=this.target().offsetWidth+4+o,s=-e,this._arrow.style.cssText+="left: "+(this.target().offsetWidth+o)+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+a,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;"}break;case n.NotifierPositionEnum.LeftMiddle:{let e=-1*(this.element().offsetHeight-this.target().offsetHeight)/2;u=-(o-4),s=e,this._arrow.style.cssText+="right: -"+o+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+r,this._element.style.cssText+="right: "+u+"px; top: "+e+"px;"}break;case n.NotifierPositionEnum.LeftTop:u=-(o-4),s=0,this._arrow.style.cssText+="right: -"+o+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+r,this._element.style.cssText+="right: "+u+"px; top: "+s+"px;";break;case n.NotifierPositionEnum.LeftBottom:{let e=Math.abs(this.element().offsetHeight-this.target().offsetHeight);u=-(o-4),s=-e,this._arrow.style.cssText+="right: -"+o+"px; top: "+(this.target().offsetHeight/2-5)+"px;"+r,this._element.style.cssText+="right: "+u+"px; top: "+s+"px;"}break;case n.NotifierPositionEnum.BottomCenter:c=-1*(this.element().offsetWidth-this.targetOptions().width)/2+o,s=this.targetOptions().height+4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; top: "+this.targetOptions().height+"px;"+i,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;";break;case n.NotifierPositionEnum.BottomRight:c=o+this.targetOptions().width-this.element().offsetWidth,s=this.targetOptions().height+4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; top: "+this.targetOptions().height+"px;"+i,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;";break;case n.NotifierPositionEnum.BottomLeft:c=o,s=this.targetOptions().height+4,this._arrow.style.cssText+="left: "+(this.targetOptions().width/2-5+o)+"px; top: "+this.targetOptions().height+"px;"+i,this._element.style.cssText+="left: "+c+"px; top: "+s+"px;"}null!=c&&c<0&&(this._element.style.cssText+="left: 0px;",this._container.style.cssText+="left: 0px;"),null!=s&&s<0&&(this._element.style.cssText+="top: 0px;",this._container.style.cssText+="top: 0px;")}n.puma(this._element).hide(),n.puma(this._arrow).hide()}getContainerToAdd(){let e=this.getOptions(),t=null;return t=this.isOnTarget()?document.body:n.puma(".vrNotifierArea"+e.position),t}container(){return this._container}visible(e){return null!=e&&(e?this.show():this.hide()),n.puma(this._element).is(":visible")}show(e){let t=this.getOptions(),i=t.showSettings,r=t.hideSettings,a=i.duration;switch(i.animation){case n.AnimationShowEnum.Default:n.puma(this._element).show(a);break;case n.AnimationShowEnum.FadeIn:n.puma(this._element).fadeIn(a);break;case n.AnimationShowEnum.SlideDown:n.puma(this._element).slideDown(a);break;case n.AnimationShowEnum.None:n.puma(this._element).show();break;default:n.puma(this._element).show(a)}n.puma(this._arrow).show(),!1!==r.autoHide?window.setTimeout(()=>this.hide(),r.autoHide):!0===r.clickToHide&&n.puma(this._container).on("click",e=>this.hide()),null!=e&&n.puma(this._element).append("<label>"+e+"</label>"),n.puma(this._element).on("click",()=>{if(null!=t.onClick){let i=new s;i.sender=this,i.text=e,t.onClick(i)}})}open(e){this.show(e)}hide(){let e=this.getOptions().hideSettings,t=e.duration;switch(e.animation){case n.AnimationHideEnum.Default:n.puma(this._element).hide(t);break;case n.AnimationHideEnum.FadeOut:n.puma(this._element).fadeOut(t);break;case n.AnimationHideEnum.SlideUp:n.puma(this._element).slideUp(t);break;case n.AnimationHideEnum.None:n.puma(this._element).hide();break;default:n.puma(this._element).hide(t)}n.puma(this._arrow).hide(),window.setTimeout(()=>n.puma(this._container).remove(),t)}close(){this.hide()}isOnTarget(){return null!=this.target()}target(){return this.getOptions().target}targetOptions(){let e=new l;return e.width=this.target().offsetWidth,e.height=this.target().offsetHeight,e.offsetLeft=this.target().offsetLeft,e.offsetTop=this.target().offsetTop,e.marginTop=n.puma(this.target()).css("marginTop").getNumericPart(),e.marginRight=n.puma(this.target()).css("marginRight").getNumericPart(),e.marginBottom=n.puma(this.target()).css("marginBottom").getNumericPart(),e.marginLeft=n.puma(this.target()).css("marginLeft").getNumericPart(),e}element(){return this._element}getOptions(){return this._options}};class a{}t.NotifierShowSettings=a;class o{}t.NotifierCustomHtmlEvent=o;class l{}class s{}t.NotifierOnClickEvent=s;class u{}t.NotifierHideSettings=u},function(e,t,i){e.exports=i(0)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelClickEvent=t.Label=t.LabelOptions=void 0;const r=i(0),n=i(1),a=i(2);class o extends n.VrControlOptions{}t.LabelOptions=o;class l extends n.VrControl{constructor(e,t){if(null==t&&(t=new o),null==t.text&&(t.text=""),null==t.noBr&&(t.noBr=!1),null==t.mode&&(t.mode=r.LabelModeEnum.Default),t.mode==r.LabelModeEnum.Currency&&null==t.align&&(t.align=r.TextAlignEnum.Right),null==t.align&&(t.align=r.TextAlignEnum.Left),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Label),null!=t.label&&t.labelSettings.position==r.PositionEnum.Left&&(this.element().style.cssText+="margin-top: -2px;"),!1!==t.noBr&&(!0===t.noBr?(this.element().style.cssText+="white-space: nowrap; overflow:hidden; margin-bottom: -6px; text-overflow: ellipsis; display: inline-block;",null==t.width&&(this.element().style.cssText+="width: 100%;")):this.element().style.cssText+="overflow: hidden; display: -webkit-inline-box; -webkit-line-clamp: "+t.noBr+"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;"),this.value(t.text),null!=t.tooltip&&!1!==t.tooltip&&this.tooltip(!0===t.tooltip?t.text:t.tooltip),null!=t.key&&r.puma(this.element()).attr("key",t.key),null!=t.colorSettings){let e=t.colorSettings;null!=e.textColor&&this.color(e.textColor),null!=e.background&&this.backgroundColor(e.background),null!=e.border&&this.borderColor(e.border)}let i="";null!=t.fontSize&&("number"==typeof t.fontSize&&(t.fontSize=t.fontSize+"px"),i+="font-size: "+t.fontSize+";"),null!=t.fontFamily&&(i+="font-family: "+t.fontFamily+";"),!0===t.bold&&(i+="font-weight: 600;"),this.element().style.cssText+=i,this.element().style.cssText+="text-align: "+t.align+";",this.container().style.cssText+="text-align: "+t.align+";";let n="",a="";if(null!=t.underlineMode){switch(t.underlineMode){case r.LabelUnderlineMode.Always:a+="text-decoration: underline";break;case r.LabelUnderlineMode.None:a+="text-decoration: none";break;case r.LabelUnderlineMode.OnHover:n="labelhover"}this.element().style.cssText+=a+";",n.vrIsNotNullOrEmpty()&&r.puma(this.element()).addClass(n)}null!=t.onClick&&(this.container().style.cssText+="cursor: pointer;",this.element().style.cssText+="cursor: pointer;"),r.puma(this.container()).click(()=>this.click()),null!=t.onHover&&r.puma(this.container()).on("hover",()=>{let e=new u;e.sender=this,e.text=this.value(),t.onHover(e)})}value(e){let t=this.getOptions();if(null!=e){let i="";switch(null!=t.linkCss&&(i=" style='"+t.linkCss+";' "),this.options().mode){case r.LabelModeEnum.Primary:r.puma(this.element()).addClass("vrLabelPrimaryMode");break;case r.LabelModeEnum.Error:r.puma(this.element()).addClass("vrLabelErrorMode");break;case r.LabelModeEnum.Phone:e="<a "+i+" href='tel:"+e+"'>"+e+"</a>";break;case r.LabelModeEnum.Mail:e="<a "+i+" href='mailto:"+e+"'>"+e+"</a>";break;case r.LabelModeEnum.Link:e="<a "+i+" href='"+e+"'>"+e+"</a>";break;case r.LabelModeEnum.Currency:e=Number(e).vrToCurrencyString();break;case r.LabelModeEnum.Date:Date.vrIsValidDate(e)&&(e=new Date(e).vrToItalyString(r.DateModeEnum.Date));break;case r.LabelModeEnum.DateTime:Date.vrIsValidDate(e)&&(e=new Date(e).vrToItalyString(r.DateModeEnum.DateTime));break;case r.LabelModeEnum.Time:Date.vrIsValidDate(e)&&(e=new Date(e).vrToItalyString(r.DateModeEnum.Time))}this.element().innerHTML=String(e);let n=a.UtilityManager.textWidth(this.element());(!0===t.tooltip||!1!==t.tooltip&&null!=n&&n>0&&n+10>this.width())&&this.tooltip(this.element().textContent)}return this.element().innerHTML}appendText(e){this.value(this.value()+e)}tooltip(e){return null!=e&&(this.element().title="string"==typeof e||"number"==typeof e?String(e):e.vrToItalyString()),this.element().title}toTel(e,t){this.element().innerHTML=this.formatLinkLabel("tel:"+e,t)}toMail(e,t){this.element().innerHTML=this.formatLinkLabel("mailto:"+e,t)}toLink(e,t){this.element().innerHTML=this.formatLinkLabel(e,t)}formatLinkLabel(e,t){let i=this.getOptions(),r="";return null!=i.linkCss&&(r=" style='"+i.linkCss+";' "),"<a "+r+" href='"+e+"'>"+(null!=t?t:this.value())+"</a>"}color(e){return null!=e&&(this.element().style.cssText+="color: "+e),r.puma(this.element()).css("color")}backgroundColor(e){return null!=e&&(this.element().style.cssText+="background-color: "+e),r.puma(this.element()).css("background-color")}borderColor(e){return null!=e&&(this.element().style.cssText+="border: solid 1px "+e+"; padding: 1px 3px 1px 3px;"),r.puma(this.element()).css("border-color")}isEmpty(){return""===this.element().innerHTML}clear(){this.element().innerHTML="",this.element().title=""}getOptions(){return this.options()}click(){let e=this.options().onClick;if(null!=e){let t=new s;t.sender=this,t.text=this.value(),e(t)}}}t.Label=l;class s extends n.VrControlsEvent{}t.LabelClickEvent=s;class u extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxCheckEvent=t.CheckBox=t.CheckBoxOptions=void 0;const r=i(1),n=i(0),a=i(3);class o extends r.VrControlOptions{}t.CheckBoxOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.text&&(t.text=""),null==t.checked&&(t.checked=!1),null==t.threeState&&(t.threeState=!1),n.puma(e).attr("type","checkbox");let i=t.width;t.width=void 0,super(e,t,n.ControlTypeEnum.CheckBox),null!=i&&("number"==typeof i&&(i+="px"),this.container().style.cssText+="width: "+i+";");let r=n.createLabel({text:t.text,cssContainer:"position: relative; top: -1px;",class:"vrCheckBoxLabel",width:"100%"},this.container());n.puma(r.element()).attr("for",e.id),null==t.value&&(t.value=t.text),null!=t.value&&n.puma(this.element()).attr("value",t.value),null!=t.name&&n.puma(this.element()).attr("name",t.name),null!=t.tooltip&&n.puma(this.element()).attr("title",t.tooltip),!0===t.checked?this.checked(n.CheckboxStateEnum.Checked,!1):t.threeState&&this.checked(n.CheckboxStateEnum.Undefined,!1),n.puma(this.element()).click(e=>{this.hideError();let i=e.currentTarget,r=i.checked,a=null;if(t.threeState?i.checked&&!n.puma(this.element()).hasClass("indeterminateVrCheckbox")?(n.puma(this.element()).addClass("indeterminateVrCheckbox"),a=n.CheckboxStateEnum.Undefined,e.preventDefault()):(n.puma(this.element()).removeClass("indeterminateVrCheckbox"),a=r?n.CheckboxStateEnum.Checked:n.CheckboxStateEnum.Unchecked):a=i.checked?n.CheckboxStateEnum.Checked:n.CheckboxStateEnum.Unchecked,null!=t.onCheck){let i=new s;i.sender=this,i.checked=r,i.stateEnum=a,i.shiftKey=e.shiftKey,i.ctrlKey=e.ctrlKey,t.onCheck(i)}})}checked(e,t=!0){if(null!=e){this.hideError();let i=!0,r=n.CheckboxStateEnum.Checked;if(n.puma(this.element()).removeClass("indeterminateVrCheckbox"),"boolean"==typeof e?(this.element().checked=e,i=e,r=e?n.CheckboxStateEnum.Checked:n.CheckboxStateEnum.Unchecked):(r=e,e==n.CheckboxStateEnum.Checked?(this.element().checked=!0,i=!0):(this.element().checked=!1,i=!1,e==n.CheckboxStateEnum.Undefined&&n.puma(this.element()).addClass("indeterminateVrCheckbox"))),t){let e=this.getOptions();if(null!=e.onCheck){let t=new s;t.sender=this,t.checked=i,t.stateEnum=r,e.onCheck(t)}}}return n.puma(this.element()).hasClass("indeterminateVrCheckbox")?null:this.element().checked}check(){n.puma(this.element()).click()}text(e){return null!=e&&n.puma(this.container()).find(".vrCheckBoxLabel").html(e),n.puma(this.container()).find(".vrCheckBoxLabel").html()}clear(e=!1){this.getOptions().threeState?this.checked(n.CheckboxStateEnum.Undefined,e):this.checked(!1,e)}getOptions(){return this.options()}error(e,t,i=!1){this.options();null==t&&(t=n.ErrorPositionEnum.Right),null==e&&(e=""),n.puma(this.element()).addClass("vrCheckBoxError");let r=n.puma(this.container()).find(".vrCheckBoxErrorIcon")[0];null!=r||a.DeviceManager.isMobile()||(r=n.puma("<i class='fa fa-exclamation-triangle vrCheckBoxErrorIcon'></i>").vrInsertAfterPuma(n.puma(this.container()).find(".vrCheckBoxLabel"))[0]),i?n.puma(r).show():n.puma(r).hide();let o=n.puma("<span class='vrCheckBoxErrorTooltip vrErrorTooltip'>"+e+"</span>").vrAppendToPuma(r);t==n.ErrorPositionEnum.Right?n.puma(o).addClass("vrCheckBoxErrorTooltipRight"):t==n.ErrorPositionEnum.Bottom&&(n.puma(o).addClass("vrCheckBoxErrorTooltipBottom"),n.puma(r).hover(()=>n.puma(o)[0].style.cssText+="left: -"+(n.puma(o).outerWidth()/2-7)+"px;"))}hideError(){n.puma(this.element()).removeClass("vrCheckBoxError"),n.puma(this.container()).find(".vrCheckBoxErrorIcon").hide(),n.puma(this.container()).find(".vrCheckBoxErrorTooltip").hide()}}t.CheckBox=l;class s extends class{}{}t.CheckBoxCheckEvent=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=t.SeparatorOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.SeparatorOptions=a;class o extends r.VrControl{constructor(e,t){null==t&&(t=new a),null==t.size&&(t.size=1),null==t.marginSettings&&(t.marginSettings=new l),null==t.orientation&&(t.orientation=n.OrientationEnum.Vertical),null==t.color&&(t.color="#CCC"),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,n.ControlTypeEnum.Separator),t.orientation==n.OrientationEnum.Vertical?(null==t.marginSettings.top&&(t.marginSettings.top=0),null==t.marginSettings.right&&(t.marginSettings.right=8),null==t.marginSettings.bottom&&(t.marginSettings.bottom=0),null==t.marginSettings.left&&(t.marginSettings.left=5),this.container().style.cssText+="display: inline; position: relative;margin-top: "+t.marginSettings.top+"px; margin-bottom: "+t.marginSettings.bottom+"px;margin-right: "+t.marginSettings.right+"px; margin-left: "+t.marginSettings.left+"px;",this.element().style.cssText+="display: inline-block; height: 30px; width: "+t.size+"px;background-color: "+t.color+"; position: absolute; top: -4px;"):(null==t.marginSettings.top&&(t.marginSettings.top=0),null==t.marginSettings.right&&(t.marginSettings.right=0),null==t.marginSettings.bottom&&(t.marginSettings.bottom=8),null==t.marginSettings.left&&(t.marginSettings.left=0),this.container().style.cssText+="display: block;margin-top: "+t.marginSettings.top+"px; margin-bottom: "+t.marginSettings.bottom+"px;margin-right: "+t.marginSettings.right+"px; margin-left: "+t.marginSettings.left+"px;",this.element().style.cssText+="display: inline-block; width: 100%; height: "+t.size+"px; background-color: "+t.color),null!=t.visible&&super.visible(t.visible)}}t.Separator=o;class l{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=t.ImageOptions=void 0;const r=i(0),n=i(1);class a extends n.VrControlOptions{}t.ImageOptions=a;class o extends n.VrControl{constructor(e,t){switch(null==t&&(t=new a),null==t.position&&(t.position=r.ImagePositionTypeEnum.Original),null==t.base64&&(t.base64=!1),null==t.overlayDescription&&(t.overlayDescription=!1),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Image),this.element().style.cssText+="width: auto; height: auto;",null!=t.value&&this.value(t.value),null!=t.tooltip&&(this.element().alt=t.tooltip,this.element().title=t.tooltip),t.position){case r.ImagePositionTypeEnum.Center:this.container().style.cssText+="text-align: center; justify-content: center;",this.element().style.cssText+="max-width: 100%; max-height: 100%;";break;case r.ImagePositionTypeEnum.Fill:this.element().style.cssText+="width: 100%; max-height: 100%;";break;case r.ImagePositionTypeEnum.Fit:this.element().style.cssText+="height: 100%; max-width: 100%;";break;case r.ImagePositionTypeEnum.Stretch:this.element().style.cssText+="width: 100%; height: 100%;";break;case r.ImagePositionTypeEnum.Original:this.element().style.cssText+="max-width: 100%; max-height: 100%;"}if(null!=t.toolbarItems){let i=document.createElement("div");r.puma(i).addClass("vrImageToolbar"),r.puma(this.container()).prepend(i);for(let n of t.toolbarItems)switch(null==n.type&&(n.type=r.ImageToolbarTypeEnum.Custom),n.type){case r.ImageToolbarTypeEnum.Download:{let e=document.createElement("a");r.puma(e).addClass("vrImageDownloadToolbar vrImageToolbarItem"),e.download="download",e.href=this.value(),e.innerHTML="<i class='fa fa-download' aria-hidden='true'></i>",i.append(e),r.puma(e).click(e=>{if(null!=n.onClick){let e=new l;e.sender=this,n.onClick(e)}})}break;case r.ImageToolbarTypeEnum.Delete:{let t=document.createElement("a");r.puma(t).addClass("vrImageDeleteToolbar vrImageToolbarItem"),t.id="deleteToolbarImage_"+e.id,t.innerHTML="<i class='fa fa-remove' aria-hidden='true'></i>",i.append(t),r.puma(t).click(e=>{if(null!=n.confirmationMessage&&""!=n.confirmationMessage)r.confirm(n.confirmationMessage).then(()=>{if(this.clear(),null!=n.onClick){let e=new l;e.sender=this,n.onClick(e)}});else if(this.clear(),null!=n.onClick){let e=new l;e.sender=this,n.onClick(e)}})}break;case r.ImageToolbarTypeEnum.Custom:{let e=document.createElement("a");r.puma(e).addClass("vrImageToolbarItem"),e.innerHTML="<i class='fa fa-"+n.icon+"'></i>",e.style.cssText+="float: right; margin-right: 7px; color: #FFF; cursor: pointer;",i.append(e),r.puma(e).click(e=>{if(null!=n.confirmationMessage&&""!=n.confirmationMessage)r.confirm(n.confirmationMessage).then(()=>{if(null!=n.onClick){let e=new l;e.sender=this,n.onClick(e)}});else if(null!=n.onClick){let e=new l;e.sender=this,n.onClick(e)}})}}}if(!1!==t.overlayDescription){1==t.overlayDescription&&(t.overlayDescription="");let e=document.createElement("div");r.puma(e).addClass("vrImageOverlayDescription"),e.innerHTML=t.overlayDescription,r.puma(this.container()).prepend(e)}r.puma(this.container()).on("mouseenter",e=>{this.enabled()&&(null!=this.value()&&""!=this.value()&&(null!=t.toolbarItems&&r.puma(this.container()).find(".vrImageToolbar").show(),!1!==t.overlayDescription&&r.puma(this.container()).find(".vrImageOverlayDescription").show()),null!=t.onHover&&t.onHover())}),r.puma(this.container()).on("mouseleave",e=>{this.enabled()&&(null!=t.toolbarItems&&r.puma(this.container()).find(".vrImageToolbar").hide(),!1!==t.overlayDescription&&r.puma(this.container()).find(".vrImageOverlayDescription").hide(),null!=t.onLeave&&t.onLeave())}),null!=t.onClick&&(this.element().style.cssText+="cursor: pointer;",r.puma(this.container()).on("click",e=>{if(!this.enabled())return;let i=new s;i.sender=this,t.onClick(i)}))}value(e,t,i){let n=this.options();if(null!=e&&""!=e){i=null==i?"image/png":i,t=null==t?"download":t,e=e.replace(/^data:image\/[^;]+;base64,/,"");let a=n.base64?"data:"+i+";base64,":"";r.puma(this.element()).attr("src",a+e),n.base64&&(e=e.replace(/^data:image\/[^;]+/,"data:application/octet-stream")),r.puma(this.container()).find(".vrImageDownloadToolbar").attr("href",a+e),r.puma(this.container()).find(".vrImageDownloadToolbar").attr("download",t)}return r.puma(this.element()).attr("src")}overlayDescription(e){if(null!=e){!1!==this.options().overlayDescription&&r.puma(this.container()).find(".vrImageOverlayDescription").html(e)}return r.puma(this.container()).find(".vrImageOverlayDescription").html()}toolbar(){return r.puma(this.container()).find(".vrImageToolbar")[0]}clear(){r.puma(this.element()).removeAttr("src")}enable(){super.enable(),window.setTimeout(()=>r.puma(this.toolbar()).show())}disable(){super.disable(),window.setTimeout(()=>r.puma(this.toolbar()).hide())}getOptions(){return this.options()}}t.Image=o;class l{}class s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorItemClickEvent=t.Editor=t.EditorOptions=void 0;const r=i(4),n=i(1),a=i(0),o=i(10);class l extends n.VrControlOptions{}t.EditorOptions=l;class s extends n.VrControl{constructor(e,t){null==t&&(t=new l),null==t.height&&(t.height=350),null==t.resizable&&(t.resizable=!1),null==t.pasteImages&&(t.pasteImages=!1),null==t.toolbar&&(t.toolbar=!0),null==t.menu&&(t.menu=!0),null!=t.customMenuItems&&!1!==t.menu&&(t.menu=!0),null==t.baseUrl&&(t.baseUrl="/scripts/tinymce/"),null==t.toolbarMode&&(t.toolbarMode=a.vrEditorToolbarModeEnum.Floating),null==t.plugins&&(t.plugins="image,link,searchreplace,fullscreen,preview,emoticons,media,lists,pagebreak,table,charmap,code,wordcount"),null==t.browserSpellCheck&&(t.browserSpellCheck=!0),null==t.enable&&(t.enable=!0),null==t.pasteAsText&&(t.pasteAsText=!0),null==t.replacePtagWithDiv&&(t.replacePtagWithDiv=!0),null==t.speechRecognizer&&(t.speechRecognizer=!0),!1!==t.speechRecognizer&&(t.speechRecognizer=new a.vrEditorSpeechRecognizerSettings,null==t.speechRecognizer.stopAtClick&&(t.speechRecognizer.stopAtClick=!0),null==t.speechRecognizer.position&&(t.speechRecognizer.position=a.EditorSpeechRecognizerPositionEnum.MenuItems),null==t.speechRecognizer.mode&&(t.speechRecognizer.mode=a.EditorSpeechRecognizerModeEnum.Popup),null==t.speechRecognizer.showInfoCommands&&(t.speechRecognizer.showInfoCommands=!0)),null==t.fontSize&&(t.fontSize=new a.vrEditorFontSizeSettings),null==t.fontSize.defaultSize&&(t.fontSize.defaultSize=12),null==t.fontSize.formatSizeList&&(t.fontSize.formatSizeList=[8,10,11,12,13,14,15,16,18,24,36]),super(e,t,a.ControlTypeEnum.Editor);let i=!1;i=!0===t.toolbar?"bold italic underline | fontfamily fontsize | alignleft aligncenter alignright alignjustify | numlist bullist | forecolor link | fullscreen":!1!==t.toolbar&&t.toolbar.toString().replace(/,/g," ");let n=!1,o={};if(!0===t.menu)n=!0,o={file:{title:"",items:""},edit:{title:"Edit",items:"undo redo | cut copy | selectall searchreplace"},view:{title:"View",items:"preview code wordcount | fullscreen"},insert:{title:"",items:""},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat"},table:{title:"",items:""},tools:{title:"",items:""}};else if(!1===t.menu)n=!1,o=void 0;else{if(n=!0,t.menu.file){let e="preview";!0===t.menu.file?o.file={title:"File",items:e}:o.file={title:null==t.menu.file.title?"File":t.menu.file.title,items:null==t.menu.file.items?e:t.menu.file.items.toString().replace(/,/g," ")}}else o.file={title:"",items:""};if(t.menu.edit){let e="undo redo | cut copy | selectall searchreplace";!0===t.menu.edit?o.edit={title:"Edit",items:e}:o.edit={title:null==t.menu.edit.title?"Edit":t.menu.edit.title,items:null==t.menu.edit.items?e:t.menu.edit.items.toString().replace(/,/g," ")}}else o.edit={title:"",items:""};if(t.menu.view){let e="preview code wordcount fullscreen";!0===t.menu.view?o.view={title:"View",items:e}:o.view={title:null==t.menu.view.title?"View":t.menu.view.title,items:null==t.menu.view.items?e:t.menu.view.items.toString().replace(/,/g," ")}}else o.view={title:"",items:""};if(t.menu.insert){let e="link | charmap pagebreak";!0===t.menu.insert?o.insert={title:"Insert",items:e}:o.insert={title:null==t.menu.insert.title?"Insert":t.menu.insert.title,items:null==t.menu.insert.items?e:t.menu.insert.items.toString().replace(/,/g," ")}}else o.insert={title:"",items:""};if(t.menu.format){let e="bold italic underline strikethrough superscript subscript | fontformats align blockformats | backcolor removeformat";!0===t.menu.format?o.format={title:"Format",items:e}:o.format={title:null==t.menu.format.title?"Format":t.menu.format.title,items:null==t.menu.format.items?e:t.menu.format.items.toString().replace(/,/g," ")}}else o.format={title:"",items:""};if(t.menu.table){let e="inserttable cell row";!0===t.menu.table?o.table={title:"Table",items:e}:o.table={title:null==t.menu.table.title?"Table":t.menu.table.title,items:null==t.menu.table.items?e:t.menu.table.items.toString().replace(/,/g," ")}}else o.table={title:"",items:""};if(t.menu.tools){let e="code wordcount";!0===t.menu.tools?o.tools={title:"Tools",items:e}:o.tools={title:null==t.menu.tools.title?"Tools":t.menu.tools.title,items:null==t.menu.tools.items?e:t.menu.tools.items.toString().replace(/,/g," ")}}else o.tools={title:"",items:""}}let s="";if(null!=t.customToolItems)for(let e=0;e<t.customToolItems.length;e++)s+=" customItem"+e;let u=null!=t.label&&t.labelSettings.position==a.PositionEnum.Top?24:6;if(this._divMenuItem=a.div(this.container(),{css:"position: absolute; top: "+u+"px; right: 5px; z-index: 1; display: none;"}),menubar&&null!=t.customMenuItems)for(let e of t.customMenuItems)this.addMenuItem(e);!1!==t.speechRecognizer&&(this._finalTextSpeeched="",this._speechRecognizer=a.createSpeechRecognizer({size:20,cssContainer:"margin-left: 10px;"+(t.speechRecognizer.position==a.EditorSpeechRecognizerPositionEnum.MenuItems?!1!==t.menu?"top: 48px; right: -6px;":"top: 10px;":""),stopAtClick:t.speechRecognizer.stopAtClick,onEnd:e=>{null!=this._wndCommands&&this._wndCommands.close(),null!=this._wndTempMessage&&this._wndTempMessage.close()},onStart:e=>this._finalTextSpeeched=this.value()+" ",onClick:e=>{t.speechRecognizer.mode==a.EditorSpeechRecognizerModeEnum.Popup&&(null!=this._wndTempMessage&&this._wndTempMessage.visible()||e.sender.isRecording()?this._wndTempMessage.close():this.openWindowTempMessage())},onResult:e=>{if(e.interimResults.length>0){let i=this.parseInput(e.interimResults,!0);t.speechRecognizer.mode==a.EditorSpeechRecognizerModeEnum.Popup?this._txtTempMessage.value(i):this.value(this._finalTextSpeeched+i)}if(e.finalResults.length>0){(e.finalResults.toLowerCase().includes("stop registrazione")||e.finalResults.toLowerCase().includes("fine registrazione"))&&e.sender.stop();let i=this.parseInput(e.finalResults);t.speechRecognizer.mode==a.EditorSpeechRecognizerModeEnum.Popup?(this._txtTempMessage.clear(),this.insertTextAtCursor(i)):(this._finalTextSpeeched+=i,this.value(this._finalTextSpeeched))}}},this._divMenuItem)),tinyMCE.baseURL=t.baseUrl,tinyMCE.suffix=".min",tinyMCE.init({selector:"#"+this.element().id,height:"100%",readonly:!t.enable,placeholder:t.placeholder,resize:t.resizable,toolbar_mode:t.toolbarMode,paste_data_images:t.pasteImages,language:t.language,menu:o,menubar:n,toolbar:i+s,plugins:t.plugins,browser_spellcheck:t.browserSpellCheck,contextmenu:!1,fontsize_formats:t.fontSize.formatSizeList.join("pt ")+"pt",content_style:"body { font-size: "+t.fontSize.defaultSize+"pt; } p { margin-top: 0px; margin-bottom: 0px; }",forced_root_block:"div",paste_as_text:t.pasteAsText,setup:e=>{if(null!=t.customToolItems){let i=0;for(let r of t.customToolItems)e.ui.registry.addButton("customItem"+i,{icon:r.icon,image:r.imageUrl,tooltip:r.tooltip,text:r.text,onAction:function(e){if(null!=r.onClick){let e=new d;e.sender=this,r.onClick(e)}}}),i++}e.on("keyup",e=>{if(null!=t.onKeyUp){let i=new v;i.sender=this,i.key=e.key,i.keyCode=e.keyCode,i.realEvent=e,t.onKeyUp(i)}}),e.on("keydown",e=>{if(e.key==a.KeyEnum.Tab){let t=a.puma(this.container()).nextAll(".vrControlsContainer").first().attr("id");if(null!=t&&""!=t){t=t.replace("Container","");let i=r.ControlManager.get(t);null!=i?i.focus():a.puma(t).focus(),e.preventDefault()}}if(null!=t.onKeyDown){let i=new b;if(i.sender=this,i.key=e.key,i.keyCode=e.keyCode,i.realEvent=e,t.onKeyDown(i),i.isDefaultPrevented())return void e.preventDefault()}}),e.on("init",e=>{if(this._initialized=!0,a.puma(this._divMenuItem).show(),a.puma(e.target.iframeElement.contentDocument).find("html").height("100%"),a.puma(e.target.iframeElement.contentDocument).find("body").height("-webkit-fill-available"),null!=t.onInit){let i=new C;if(i.sender=this,i.event=e,t.onInit(i),i.isDefaultPrevented())return}null!=t.text?this.value(t.text):""!=this._value&&this.value(this._value)}),this._divDragFile=a.div(this.container(),{class:"vrEditorDragDrop",content:"Trascina qui i file..."}),e.on("dragenter",e=>{if(null!=t.onDragEnter){let i=new _;i.sender=this,i.element=e.currentTarget,i.event=e,i.realEvent=e,t.onDragEnter(i)}e.preventDefault(),e.stopPropagation()}),e.on("dragover",e=>{if(null!=t.onDragOver){let i=new w;if(i.sender=this,i.element=e.currentTarget,i.event=e,i.realEvent=e,t.onDragOver(i),i.isDefaultPrevented())return e.preventDefault(),void e.stopPropagation()}a.puma(this._divDragFile).css({display:"flex"}),e.preventDefault(),e.stopPropagation()}),["dragenter","dragover","dragleave","drop"].forEach(e=>{this._divDragFile.addEventListener(e,e=>{e.preventDefault(),e.stopPropagation()},!1)}),a.puma(this._divDragFile).on("dragleave",e=>this.manageDragLeave(e)),e.on("dragleave",e=>this.manageDragLeave(e)),e.on("drop",e=>this.manageDrop(e)),a.puma(this._divDragFile).on("drop",e=>this.manageDrop(e))}}),this._tinyMceControl=tinyMCE.get(this.element().id),this._settings=this._tinyMceControl.settings,tinyMCE.activeEditor.on("focus",e=>{if(null!=t.onFocus){let i=new c;i.sender=this,i.realEvent=e,t.onFocus(i)}}),tinyMCE.activeEditor.on("blur",e=>{if(null!=t.onBlur){let i=new p;i.sender=this,i.realEvent=e,t.onBlur(i)}}),tinyMCE.activeEditor.on("ExecCommand",e=>{if(null!=t.onCommand){let i=new h;i.sender=this,i.command=e.command,i.value=e.value,i.type=e.type,i.realEvent=e,t.onCommand(i)}}),tinyMCE.activeEditor.on("GetContent",e=>{if(null!=t.onSetContent){let i=new m;i.sender=this,i.content=e.content,i.element=e.element,i.format=e.format,i.type=e.type,i.realEvent=e,t.onSetContent(i)}}),tinyMCE.activeEditor.on("ObjectResizeStart",e=>{if(null!=t.onBeforeResize){let i=new f;i.sender=this,i.height=e.height,i.width=e.width,i.target=e.target,i.type=e.type,i.realEvent=e,t.onBeforeResize(i)}}),tinyMCE.activeEditor.on("ObjectResized",e=>{if(null!=t.onAfterResize){let i=new g;i.sender=this,i.height=e.height,i.width=e.width,i.target=e.target,i.type=e.type,i.realEvent=e,t.onAfterResize(i)}})}settings(){return this._settings}openWindowTempMessage(){this.createWindowTempMessage(),this._wndTempMessage.open()}createWindowTempMessage(){if(null!=this._wndTempMessage)return;let e=this.getOptions();this._wndTempMessage=a.createWindow({title:"Testo temporaneo",height:210,width:300,modal:!1,position:{bottom:37,right:10},footer:!1,onClose:e=>{a.puma(this._wndTempMessage.container()).remove(),this._wndTempMessage=null,this._txtTempMessage=null}}),this._txtTempMessage=a.createMultilineTextBox({placeholder:"Comincia a parlare per visualizzare il testo... fermati per inserirlo nell'editor",height:160,enable:!1,width:"100%"},this._wndTempMessage.element()),a.createButton({icon:a.IconClassLight.Info,cssContainer:"margin-right: 16px; margin-top: 4px;",css:"font-size: 17px; border: none; background: none;",colorSettings:{textColor:"#FFF"},visible:e.speechRecognizer.showInfoCommands,onClick:e=>{null!=this._wndCommands&&this._wndCommands.visible()?this._wndCommands.close():this.openWindowCommands()}},this._wndTempMessage.header())}openWindowCommands(){this.createWindowCommands(),this._wndCommands.open()}createWindowCommands(){null==this._wndCommands&&(this._wndCommands=a.createWindow({title:"Comandi consentiti",height:300,width:185,modal:!1,position:{bottom:255,right:10},footer:!1,onClose:e=>{a.puma(this._wndCommands.container()).remove(),this._wndCommands=null},content:"<div style='font-size: 14px;'>Comandi consentiti: <ul>\n                    <li>A capo</li>\n                    <li>Virgola</li>\n                    <li>Punto</li>\n                    <li>Due punti</li>\n                    <li>Punto e virgola</li>\n                    <li>Punto virgola</li>\n                    <li>Punto esclamativo</li>\n                    <li>Punto interrogativo</li>\n                    <li>Puntini</li>\n                    <li>Trattino</li>\n                    <li>Fine registrazione</li>\n                </ul></font>"}))}parseInput(e,t=!1){return e=this.replaceAll(e," a capo ","<br />"),e=this.replaceAll(e," A capo ","<br />"),e=this.replaceAll(e," a capo","<br />"),e=this.replaceAll(e," A capo","<br />"),e=this.replaceAll(e,"a capo ","<br />"),e=this.replaceAll(e,"A capo ","<br />"),e=this.replaceAll(e,"a capo","<br />"),e=this.replaceAll(e,"A capo","<br />"),e=this.replaceAll(e,"trattino"," - "),e=this.replaceAll(e,"Trattino"," - "),e=this.replaceAll(e," punto e virgola","; "),e=this.replaceAll(e," Punto e virgola","; "),e=this.replaceAll(e," punto virgola","; "),e=this.replaceAll(e," Punto virgola","; "),e=this.replaceAll(e," virgola",", "),e=this.replaceAll(e," Virgola",", "),e=this.replaceAll(e," due punti",": "),e=this.replaceAll(e," Due punti",": "),e=this.replaceAll(e," slash ","/"),e=this.replaceAll(e," Slash ","/"),e=this.replaceAll(e," 2 punti",": "),e=this.replaceAll(e," punto esclamativo","! "),e=this.replaceAll(e," Punto esclamativo","! "),e=this.replaceAll(e," esclamativo","! "),e=this.replaceAll(e," Esclamativo","! "),e=this.replaceAll(e," punto interrogativo","? "),e=this.replaceAll(e," Punto interrogativo","? "),e=this.replaceAll(e," interrogativo","? "),e=this.replaceAll(e," Interrogativo","? "),e=this.replaceAll(e,"pumo","Pumo"),e=this.replaceAll(e," punto",". "),e=this.replaceAll(e," Punto",". "),e=this.replaceAll(e," puntini","... "),e=this.replaceAll(e," Puntini","... "),t||(e=this.replaceAll(e,"stop registrazione"," "),e=this.replaceAll(e,"Stop registrazione"," "),e=this.replaceAll(e,"fine registrazione"," "),e=this.replaceAll(e,"Fine registrazione"," ")),e}replaceAll(e,t,i){let r=t.toLowerCase(),n=t.toUpperCase(),a=t.vrCapitalize();return e=(e=(e=e.replace(new RegExp(r,"g"),i)).replace(new RegExp(n,"g"),i)).replace(new RegExp(a,"g"),i)}manageDragLeave(e){let t=this.getOptions();if(null!=t.onDragLeave){let i=new S;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragLeave(i),i.isDefaultPrevented())return e.preventDefault(),void e.stopPropagation()}a.puma(this._divDragFile).hide(),e.preventDefault(),e.stopPropagation()}manageDrop(e){let t=this.getOptions();if(null!=t.onDrop){let i=[...e.dataTransfer.files],r=new y;if(r.sender=this,r.element=e.currentTarget,r.files=i,r.event=e,t.onDrop(r),r.isDefaultPrevented())return e.preventDefault(),void e.stopPropagation()}a.puma(this._divDragFile).hide(),e.preventDefault(),e.stopPropagation()}tinyMceControl(){return this._tinyMceControl}value(e,t=!0){null!=e&&(this._value=e,this.tinyMceControl().initialized&&this.tinyMceControl().setContent(e));let i=this.tinyMceControl().initialized?t?this.tinyMceControl().getContent():this.body().innerText:"";return this.getOptions().replacePtagWithDiv?i.replace(/<p/g,"<div").replace(/\/p>/g,"/div>"):i}insertTextAtCursor(e){this.tinyMceControl().insertContent(e)}appendText(e,t=!0){return this.value(this.value(null,t)+e)}body(){return this.tinyMceControl().getBody()}speechRecognizer(){return this._speechRecognizer}clear(){this.value(""),this._finalTextSpeeched=""}focus(){if(this._initialized)$(tinyMCE.get(this.element().id).getBody()).trigger("focus");else{let e=window.setInterval(()=>{this._initialized&&($(tinyMCE.get(this.element().id).getBody()).trigger("focus"),window.clearInterval(e))},100)}}addMenuItem(e){if(!1!==this.getOptions().menu)switch(null==e.buttonGroupOptions&&(e.buttonGroupOptions=new o.ButtonGroupOptions),null==e.buttonGroupOptions.width&&(e.buttonGroupOptions.width="auto"),e.type){case a.EditorCustomMenuItemType.SplitButton:a.createSplitButton(e.splitButtonOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.Switch:a.createSwitch(e.switchOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.ButtonGroup:a.createButtonGroup(e.buttonGroupOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.ComboBox:a.createComboBox(e.comboBoxOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.DatePicker:a.createDatePicker(e.datePickerOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.TextBox:a.createTextBox(e.textBoxOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.Button:a.createButton(e.buttonOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.Separator:a.createSeparator(e.separatorOptions,this._divMenuItem);break;case a.EditorCustomMenuItemType.Label:a.createLabel(e.labelOptions,this._divMenuItem)}}getOptions(){return this.options()}enable(){super.enable(),null!=this.settings()&&(this.settings().readonly=!1),null!=tinyMCE&&null!=tinyMCE.activeEditor&&tinyMCE.activeEditor.mode.set("design"),null!=this._speechRecognizer&&this._speechRecognizer.enable()}disable(){super.disable(),null!=this.settings()&&(this.settings().readonly=!0),null!=tinyMCE&&null!=tinyMCE.activeEditor&&tinyMCE.activeEditor.mode.set("readonly"),null!=this._speechRecognizer&&this._speechRecognizer.disable()}}t.Editor=s;class u extends n.VrControlsEvent{}class d extends u{}t.EditorItemClickEvent=d;class c extends u{}class p extends u{}class h extends u{}class m extends u{}class f extends u{}class g extends u{}class v extends u{}class b extends u{}class C extends u{}class x extends u{}class y extends x{}class _ extends x{}class w extends x{}class S extends x{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowOpenEvent=t.WindowEvent=t.SplitButtonSwitchSettings=t.WindowFooterItem=t.Window=t.WindowOptions=void 0;const r=i(1),n=i(0),a=i(2),o=i(4),l=i(3),s=i(9),u=i(7),d=i(5),c=i(6);class p extends r.VrControlOptions{}t.WindowOptions=p;class h extends r.VrControl{constructor(e,t){if(null==t&&(t=new p),null==t.width&&(t.width=500),null==t.height&&(t.height=500),null==t.padding&&(t.padding=10),null==t.modal&&(t.modal=!0),null==t.closeable&&(t.closeable=!0),null==t.hideCloseIcon&&(t.hideCloseIcon=!1),null==t.draggable&&(t.draggable=!0),null==t.iframe&&(t.iframe=!1),null==t.loader&&(t.loader=!1),null==t.title&&(t.title=!1),null==t.removeOnClose&&(t.removeOnClose=!1),null!=t.footer&&!0!==t.footer||(t.footer=[{type:n.WindowFooterItemTypeEnum.Close,value:"close"},{type:n.WindowFooterItemTypeEnum.Ok,value:"ok"}]),null==t.autoSize&&(t.autoSize=!1),!0===t.autoSize&&(t.autoSize=n.WindowAutoSizeDirectionEnum.Height),null==t.maximized&&(l.DeviceManager.isMobile()?t.maximized=!0:t.maximized=!1),!1!==t.maximized&&("boolean"==typeof t.maximized||!0===t.maximized.padding?(t.width="Calc(100% - 30px)",t.height="Calc(100% - 30px)"):(t.width="100%",t.height="100%")),super(e,t,n.ControlTypeEnum.Window),n.puma(this.container()).hide(),this._additionalCloseCallbacks=[],this._additionalOpenCallbacks=[],this._additionalContentLoadedCallbacks=[],null!=t.id&&n.puma(this.element()).attr("id",t.id),!1!==t.title){!0===t.title&&(t.title="");let e="";"string"==typeof t.title&&(e=t.title,t.title=new g),null==t.title.text&&(t.title.text=e),null==t.title.fontSize&&(t.title.fontSize=16),null==t.title.colorSettings&&(t.title.colorSettings=new n.ColorSettings),null==t.title.colorSettings.textColor&&(t.title.colorSettings.textColor="#FFF"),null==t.title.align&&(t.title.align=n.TextAlignEnum.Left),this._divHeader=n.puma("<div class='vrWindowHeader'></div>").vrPrependToPuma(this.container())[0],null!=t.cssHeader&&(this._divHeader.style.cssText+=t.cssHeader);let i=n.puma("<span class='vrWindowTitle'></span>").vrAppendToPuma(this._divHeader);if(n.createLabel({width:"100%",text:t.title.text,fontSize:t.title.fontSize,colorSettings:t.title.colorSettings,align:t.title.align,noBr:!0},i),t.closeable||!t.hideCloseIcon){let e=n.puma("<span class='vrWindowCloseIcon'></span>").vrAppendToPuma(this._divHeader);n.puma(a.UtilityManager.createIcon(n.IconClassRegular.Xmark)).vrAppendToPuma(e),e.click(()=>this.close()),t.hideCloseIcon&&n.puma(e).hide()}}if(t.draggable&&(n.puma(this._divHeader).css("cursor","move"),n.puma(this._divHeader).find(".vrWindowTitle .vrLabel").css("cursor","move"),n.puma(this._divHeader).vrDrag(this.container(),e=>{if(e.event.target.classList.contains("fa-xmark"))return e.preventDefault(),void e.event.preventDefault();if(n.puma(this.container()).addClass("vrWindowDragging"),null!=t.onDragStart){let i=new _;i.sender=this,i.left=e.left,i.top=e.top,t.onDragStart(i)}},e=>{if(n.puma(this.container()).removeClass("vrWindowDragging"),null!=t.onDragEnd){let i=new w;i.sender=this,i.left=e.left,i.top=e.top,t.onDragEnd(i)}})),t.footer){this._divFooter=n.puma("<div class='vrWindowFooter'></div>").vrAppendToPuma(this.container())[0],this._divFooter.style.cssText+="margin-top: "+2*t.padding+"px;";for(let e of t.footer)this.addFooterItem(e)}t.iframe&&(this._iframe=n.puma("<iframe id='"+this.element().id+"_iframeContent' class='vrWindowIframe'></iframe>").vrAppendToPuma(this.element())[0]),null!=t.content&&this.content(t.content)}open(e,t=!0,i){let r=this.getOptions();return this.container().style.cssText+="position: absolute;",null!=i?this.position(i.left,i.top,i.right,i.bottom):null!=r.position?this.position(r.position.left,r.position.top,r.position.right,r.position.bottom):t&&this.center(),r.maximized&&("boolean"!=typeof r.maximized?this.maximize(r.maximized.padding):this.maximize()),null!=e&&(this._callbackFooterItems=e),new Promise(e=>{n.puma(this.container()).show();let t=n.puma(this.container()).height()-2*r.padding;!1!==r.title&&(t-=n.puma(this._divHeader).outerHeight()),r.footer&&(t-=n.puma(this._divFooter).outerHeight()),this.element().style.cssText+="height: "+t+"px; width: Calc(100% - "+2*r.padding+"px); left: "+r.padding+"px; top: "+r.padding+"px";let i=Array.from(n.puma(".vrWindowContainer")).map(e=>Number(n.puma(e).css("z-index"))).vrMax();if(n.puma(this.container()).css("z-index",i+2),r.modal&&(null==this._background&&(this._background=n.puma("<div class='vrWindowBackground' id='vrWindowBackground_"+this.element().id+"'></div>").vrAppendToPuma(this.container().parentElement)[0]),r.closeable&&n.puma(this._background).click(()=>this.close()),n.puma(this._background).css("z-index",i+1)),null!=e&&(this._openCloseCallback=e),null!=r.onOpen){let e=new C;e.sender=this,r.onOpen(e)}for(let e of this._additionalOpenCallbacks)e()})}close(e=!0){let t=this.getOptions();if(e&&null!=t.onBeforeClose){let e=new x;if(e.sender=this,t.onBeforeClose(e),e.isDefaultPrevented())return}if(t.removeOnClose?n.puma(this.container()).remove():n.puma(this.container()).hide(),n.puma(this._background).remove(),this._background=null,null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes("close")){let e=this._callbackFooterItems.filter(e=>"close"==e.value)[0].callback;null!=e&&e()}null!=this._openCloseCallback&&this._openCloseCallback();for(let e of this._additionalCloseCallbacks)e();if(e&&null!=t.onClose){let e=new y;e.sender=this,t.onClose(e)}}remove(){n.puma(this.container()).remove(),n.puma(this._background).remove()}addCloseCallbacks(...e){this._additionalCloseCallbacks.push(...e)}addOpenCallbacks(...e){this._additionalOpenCallbacks.push(...e)}addContentLoadedCallbacks(...e){this._additionalContentLoadedCallbacks.push(...e)}closeIconVisible(e){let t=n.puma(this.container()).find(".vrWindowCloseIcon");return null!=e&&(e?t.show():t.hide()),t.is(":visible")}title(e){return null==n.puma(this.container()).find(".vrWindowTitle label")[0]?"":(null!=e&&(n.puma(this.container()).find(".vrWindowTitle label")[0].innerHTML=e),n.puma(this.container()).find(".vrWindowTitle label")[0].innerHTML)}maximize(e=!0){let t=e?"Calc(100% - 30px)":"100%",i=e?"Calc(100% - 30px)":"100%";this.resize(t,i);let r=this.getOptions();null!=r.position?this.position(r.position.left,r.position.top,r.position.right,r.position.bottom):this.center()}resize(e,t){let i=this.getOptions(),r=null!=e?e:i.width,n=null!=t?t:i.height;this.width(r),this.height(n)}autoSize(e=n.WindowAutoSizeDirectionEnum.Height,t=!1,i=!0){this._animateAutosize=t,e==n.WindowAutoSizeDirectionEnum.Height?this.height("auto",i):this.width("auto",i),this._animateAutosize=!1}content(e,t=!1,i=!1,r=!0){let a=this.getOptions(),o=null;if(a.iframe){let e=this._iframe.contentDocument;n.puma(e).find("body").css("margin","0px"),null!=e&&(o=e.body)}null!=e&&(e.endsWith(".html")||e.endsWith(".php")||e.includes(".aspx")||e.startsWith("http")||e.startsWith("/"))?((a.loader||!1!==t)&&(!0===t&&(t=this.element()),s.LoaderManager.show(!1===t?this.element():t)),a.iframe?(n.puma(this._iframe).attr("src",e),n.puma(this._iframe).on("load",()=>{let e=this._iframe.contentDocument;n.puma(e).find("body").css("margin","0px"),r&&this.onContentLoaded(),this.autoSizeIfRequired(),i&&this.open()})):n.puma(this.element()).load(e,()=>{r&&this.onContentLoaded(),this.autoSizeIfRequired(),i&&this.open()})):(n.puma(this.element()).empty(),null==e||e.startsWith("<")||(e="<div>"+e+"</div>"),a.iframe?n.puma(e).vrAppendToPuma(o):n.puma(e).vrAppendToPuma(this.element()),r&&this.onContentLoaded(),this.autoSizeIfRequired(),i&&this.open())}autoSizeIfRequired(){let e=this.getOptions();!1!==e.autoSize&&this.autoSize(e.autoSize,!1)}clear(){this.getOptions().iframe?n.puma(this._iframe).removeAttr("src"):n.puma(this.element()).empty()}background(){return this._background}center(){let e=n.puma(window).scrollTop(),t=window.innerHeight/2-n.puma(this.container()).height()/2+e,i=n.puma(window).scrollLeft(),r=window.innerWidth/2-n.puma(this.container()).width()/2+i;this.position(r,t)}position(e,t,i,r){let n="";null!=e&&(n="left: "+e+";","number"==typeof e&&(n="left: "+e+"px;"));let a="";null!=t&&(a="top: "+t+";","number"==typeof t&&(a="top: "+t+"px;"));let o="";null!=i&&(n="left: unset;",o="right: "+i+";","number"==typeof i&&(o="right: "+i+"px;"));let l="";null!=r&&(a="top: unset;",l="bottom: "+r+";","number"==typeof r&&(l="bottom: "+r+"px;")),this.container().style.cssText+=n+a+o+l;let s=$(this.container()).position();return{left:s.left,top:s.top}}footerItem(e){let t=n.puma(this._divFooter).find("[value='"+e+"']")[0];return o.ControlManager.get(null!=t?t.id:"")}hideFooterItem(e){this.footerItem(e).hide()}showFooterItem(e){this.footerItem(e).show()}enableFooterItem(e){this.footerItem(e).enable()}disableFooterItem(e){this.footerItem(e).disable()}addFooterItem(e){null==e.align&&(e.align=n.WindowFooterItemAlignEnum.Right);let t="float: right; margin-left: 5px;";if(e.align==n.WindowFooterItemAlignEnum.Left&&(t="float: left; margin-right: 5px;"),e.type==n.WindowFooterItemTypeEnum.Close||e.type==n.WindowFooterItemTypeEnum.Ok||e.type==n.WindowFooterItemTypeEnum.Custom||null==e.type){let i=e.text;e.type!=n.WindowFooterItemTypeEnum.Close&&e.type!=n.WindowFooterItemTypeEnum.Ok||(i=null!=e.text?e.text:e.type==n.WindowFooterItemTypeEnum.Close?"Chiudi":"Salva");let r=e.value;e.type!=n.WindowFooterItemTypeEnum.Close&&e.type!=n.WindowFooterItemTypeEnum.Ok||null!=r&&""!=r||(r=e.type==n.WindowFooterItemTypeEnum.Close?"close":"ok"),null!=r&&""!=r||null==i||(r=i.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,""));let a=e.mode;e.type==n.WindowFooterItemTypeEnum.Ok&&(a=n.ButtonModeEnum.Primary);let o=n.createButton({text:i,icon:e.icon,iconSettings:e.iconSettings,imageUrl:e.imageUrl,mode:a,colorSettings:e.colorSettings,tooltip:e.tooltip,confirmationMessage:e.confirmationMessage,visible:e.visible,enable:e.enable,css:e.css,cssContainer:t+e.cssContainer,class:e.class,width:e.width,onClick:t=>{if(e.type==n.WindowFooterItemTypeEnum.Close&&this.close(),null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}if(null!=r&&null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes(r)){let e=this._callbackFooterItems.filter(e=>e.value==r)[0].callback;null!=e&&e()}}},this._divFooter);null!=r&&n.puma(o.element()).attr("value",r)}else if(e.type==n.WindowFooterItemTypeEnum.Separator)n.createSeparator({cssContainer:t},this._divFooter);else if(e.type==n.WindowFooterItemTypeEnum.SplitButton||null!=e.splitButtonItems){let i=n.createSplitButton({text:e.text,icon:e.icon,imageUrl:e.imageUrl,colorSettings:e.colorSettings,tooltip:e.tooltip,items:e.splitButtonItems,visible:e.visible,enable:e.enable,css:e.css,cssContainer:e.cssContainer+"; "+t,class:e.class,onClick:null==e.onClick?void 0:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}if(null!=e.value&&null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes(e.value)){let t=this._callbackFooterItems.filter(t=>t.value==e.value)[0].callback;null!=t&&t()}},onSelect:e=>{if(null!=e.value&&null!=this._callbackFooterItems&&this._callbackFooterItems.map(e=>e.value).includes(e.value)){let t=this._callbackFooterItems.filter(t=>t.value==e.value)[0].callback;null!=t&&t()}}},this._divFooter);null!=e.value&&n.puma(i.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.Switch){null==e.switchSettings&&(e.switchSettings=new m,e.switchSettings.labelOff="",e.switchSettings.labelOn=""),null==e.switchSettings.checked&&(e.switchSettings.checked=!1);let i=n.createSwitch({labelOff:e.switchSettings.labelOff,labelOn:e.switchSettings.labelOn,checked:e.switchSettings.checked,cssContainer:e.cssContainer+"; "+t,css:e.css,class:e.class,visible:e.visible,enable:e.enable,onChange:t=>{if(null!=e.switchSettings.onCheck){let i=new f;i.checked=t.checked,e.switchSettings.onCheck(i)}}},this._divFooter);null!=e.value&&n.puma(i.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.ButtonGroup){let t=n.createButtonGroup({selectionMode:n.SelectionModeEnum.Single,items:e.buttonGroupItems,cssContainer:e.cssContainer,css:e.css,class:e.class,visible:e.visible,enable:e.enable,width:"auto",onSelect:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}}},this._divFooter);null!=e.value&&n.puma(t.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.CheckBox){let t=n.createCheckBox({text:e.text,cssContainer:"top: -1px; "+e.cssContainer,css:e.css,class:e.class,visible:e.visible,enable:e.enable,onCheck:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}}},this._divFooter);null!=e.value&&n.puma(t.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.Label){let t=n.createLabel({text:e.text,cssContainer:e.cssContainer,css:e.css,class:e.class,visible:e.visible,enable:e.enable,onClick:t=>{if(null!=e.onClick){let t=new b;t.sender=this,e.onClick(t)}}},this._divFooter);null!=e.value&&n.puma(t.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.ComboBox){null==e.comboBoxOptions&&(e.comboBoxOptions=new u.ComboBoxOptions),e.comboBoxOptions.classContainer=e.comboBoxOptions.classContainer,e.comboBoxOptions.class=e.comboBoxOptions.class,null==e.comboBoxOptions.visible&&(e.comboBoxOptions.visible=e.visible),null==e.comboBoxOptions.enable&&(e.comboBoxOptions.enable=e.enable),null==e.comboBoxOptions.css&&(e.comboBoxOptions.css=e.css),null==e.comboBoxOptions.cssContainer&&(e.comboBoxOptions.cssContainer=e.cssContainer);let t=n.createComboBox(e.comboBoxOptions,this._divFooter);null!=e.value&&n.puma(t.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.DatePicker){null==e.datePickerOptions&&(e.datePickerOptions=new d.DatePickerOptions),e.datePickerOptions.classContainer=e.datePickerOptions.classContainer,e.datePickerOptions.class=e.datePickerOptions.class,null==e.datePickerOptions.visible&&(e.datePickerOptions.visible=e.visible),null==e.datePickerOptions.enable&&(e.datePickerOptions.enable=e.enable),null==e.datePickerOptions.css&&(e.datePickerOptions.css=e.css),null==e.datePickerOptions.cssContainer&&(e.datePickerOptions.cssContainer=e.cssContainer);let t=n.createDatePicker(e.datePickerOptions,this._divFooter);null!=e.value&&n.puma(t.element()).attr("value",e.value)}else if(e.type==n.WindowFooterItemTypeEnum.TextBox){null==e.textBoxOptions&&(e.textBoxOptions=new c.TextBoxOptions),e.textBoxOptions.classContainer=e.textBoxOptions.classContainer,e.textBoxOptions.class=e.textBoxOptions.class,null==e.textBoxOptions.visible&&(e.textBoxOptions.visible=e.visible),null==e.textBoxOptions.enable&&(e.textBoxOptions.enable=e.enable),null==e.textBoxOptions.css&&(e.textBoxOptions.css=e.css),null==e.textBoxOptions.cssContainer&&(e.textBoxOptions.cssContainer=e.cssContainer);let t=n.createTextBox(e.textBoxOptions,this._divFooter);null!=e.value&&n.puma(t.element()).attr("value",e.value)}}footer(){return n.puma(this._divFooter)[0]}header(){return n.puma(this._divHeader)[0]}titleElement(){return n.puma(this._divHeader).find(".vrWindowTitle")[0]}getOptions(){return this.options()}onContentLoaded(){let e=this.getOptions();if(s.LoaderManager.hide(),null!=e.onContentLoaded){let t=new S;t.sender=this,e.onContentLoaded(t)}for(let e of this._additionalContentLoadedCallbacks)e()}height(e,t=!0){let i=this.getOptions();if("auto"!=e||"auto"==e&&!this._animateAutosize)super.height(e);else{this.container().style.cssText+="height: auto;";let e=n.puma(this.element()).height(),t=n.puma(this.element()).css("height","auto").height();n.puma(this.element()).height(e).animate({height:t},300)}return"number"==typeof e&&(e-=2*i.padding,null!=i.title&&(e-=n.puma(this._divHeader).outerHeight()),i.footer&&(e-=n.puma(this._divFooter).outerHeight()),this.element().style.cssText+="height: "+e+"px;"),t&&(this._animateAutosize?window.setTimeout(()=>this.center(),300):this.center()),super.height()}width(e,t=!0){let i=this.getOptions();return super.width(e),t&&this.center(),this.element().style.cssText+="width: Calc(100% - "+2*i.padding+"px);",super.width()}}t.Window=h;t.WindowFooterItem=class{};class m{}t.SplitButtonSwitchSettings=m;class f{}class g{}class v extends r.VrControlsEvent{}t.WindowEvent=v;class b extends v{}class C extends v{}t.WindowOpenEvent=C;class x extends v{}class y extends v{}class _ extends v{}class w extends v{}class S extends v{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Confirm=t.ConfirmOptions=void 0;const r=i(0),n=i(1);class a{}t.ConfirmOptions=a;t.Confirm=class{constructor(e,t){null==t&&(t=new a),null==t.textOkButton&&(t.textOkButton="Conferma"),null==t.textCancelButton&&(t.textCancelButton="Annulla"),null==t.width&&(t.width=300),null==t.height&&(t.height=120),null==t.textAlign&&(t.textAlign=r.TextAlignEnum.Center),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e);let n="";switch(t.textAlign){case r.TextAlignEnum.Left:n="text-align: left;";break;case r.TextAlignEnum.Center:n="text-align: center;";break;case r.TextAlignEnum.Right:n="text-align: right;"}this._window=r.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;"+n,footer:[{type:r.WindowFooterItemTypeEnum.Custom,text:t.textCancelButton,value:"close",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",onClick:()=>this.close()},{type:r.WindowFooterItemTypeEnum.Custom,text:t.textOkButton,value:"ok",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",mode:r.ButtonModeEnum.Primary}],onContentLoaded:e=>this.onContentLoaded(r.puma(e.sender.element()).find(".contentContainer")[0])}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),r.puma(this._window.element()).addClass("vrConfirm"),r.puma(this._window.container()).addClass("vrConfirmContainer"),window.setTimeout(()=>r.puma(this._window.footerItem("ok").element()).focus())}open(){return new Promise((e,t)=>{this._window.open([{value:"ok",callback:()=>{null!=e&&e(),this.close()}},{value:"close",callback:()=>{null!=t&&t(),console.log()}}])})}close(){this._window.close(),r.puma(this._window.container()).remove(),r.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertOptions=void 0;const r=i(0),n=i(1);class a{}t.AlertOptions=a;t.Alert=class{constructor(e,t){null==t&&(t=new a),null==t.textOkButton&&(t.textOkButton="Ok"),null==t.width&&(t.width=300),null==t.height&&(t.height=120),null==t.textAlign&&(t.textAlign=r.TextAlignEnum.Center),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e);let n="";switch(t.textAlign){case r.TextAlignEnum.Left:n="text-align: left;";break;case r.TextAlignEnum.Center:n="text-align: center;";break;case r.TextAlignEnum.Right:n="text-align: right;"}this._window=r.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;"+n,footer:[{type:r.WindowFooterItemTypeEnum.Ok,text:t.textOkButton,value:"ok",cssContainer:"width: 100%;",css:"width: 100%;",mode:r.ButtonModeEnum.Primary,onClick:()=>this.close()}],onContentLoaded:e=>this.onContentLoaded(r.puma(e.sender.element()).find(".contentContainer")[0])}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),r.puma(this._window.element()).addClass("vrAlert"),r.puma(this._window.container()).addClass("vrAlertContainer"),window.setTimeout(()=>r.puma(this._window.footerItem("ok").element()).focus())}open(){return new Promise(e=>{this._window.open([{value:"ok",callback:()=>{null!=e&&e()}}])})}close(){this._window.close(),r.puma(this._window.container()).remove(),r.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=t.DialogOptions=void 0;const r=i(0),n=i(1);class a{}t.DialogOptions=a;t.Dialog=class{constructor(e,t){null==t&&(t=new a),null==t.width&&(t.width=300),null==t.height&&(t.height=120),null==t.textAlign&&(t.textAlign=r.TextAlignEnum.Center),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e);let n="";switch(t.textAlign){case r.TextAlignEnum.Left:n="text-align: left;";break;case r.TextAlignEnum.Center:n="text-align: center;";break;case r.TextAlignEnum.Right:n="text-align: right;"}if(null!=t.footerItems){let e=t.footerItems.filter(e=>null!=e.width).map(e=>e.width).vrSum(),i=t.footerItems.filter(e=>null==e.width),r=t.footerItems.filter(e=>null!=e.width),n=t.width-10-5*r.length-e,a=n/t.footerItems.length-5;i.length>0&&(a=n/i.length-5);for(let e of t.footerItems)null==e.width&&(e.width=a)}this._window=r.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;"+n,footer:t.footerItems,onContentLoaded:e=>this.onContentLoaded(r.puma(e.sender.element()).find(".contentContainer")[0])}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),r.puma(this._window.element()).addClass("vrDialog"),r.puma(this._window.container()).addClass("vrDialogContainer")}open(){this._window.open()}close(){this._window.close(),r.puma(this._window.container()).remove(),r.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Prompt=t.PromptOptions=void 0;const r=i(0),n=i(1);class a{}t.PromptOptions=a;t.Prompt=class{constructor(e,t){null==t&&(t=new a),null==t.textOkButton&&(t.textOkButton="Conferma"),null==t.textCancelButton&&(t.textCancelButton="Annulla"),null==t.width&&(t.width=300),null==t.height&&(t.height=120),this._options=t;let i="";null==t.content&&null==e&&(t.content="<div></div>"),null!=t.content?i=t.content:null!=e&&(i=e),this._window=r.createWindow({addToControlList:!1,closeable:!1,title:t.title,width:t.width,height:t.height,content:"<div class='contentContainer'>"+i+"</div>",cssContainer:"height: auto !important;",css:"height: auto !important;",footer:[{type:r.WindowFooterItemTypeEnum.Custom,text:t.textCancelButton,value:"close",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",onClick:()=>this.close()},{type:r.WindowFooterItemTypeEnum.Custom,text:t.textOkButton,value:"ok",cssContainer:"width: Calc(50% - 5px);",css:"width: 100%;",mode:r.ButtonModeEnum.Primary}],onContentLoaded:e=>{let i=r.puma(e.sender.element()).find(".contentContainer")[0];this._textBox=r.createTextBox({width:"100%",cssContainer:"margin-top: 5px;",value:t.defaultValue,placeholder:t.placeHolder},i),this._textBox.focus(),this.onContentLoaded(i)}}),null!=t.cssContainer&&(this._window.container().style.cssText+=t.cssContainer+";"),null!=t.css&&(this._window.element().style.cssText+=t.css+";"),r.puma(this._window.element()).addClass("vrPrompt"),r.puma(this._window.container()).addClass("vrPromptContainer"),window.setTimeout(()=>r.puma(this._window.footerItem("ok").element()).focus())}open(){return new Promise((e,t)=>{this._window.open([{value:"ok",callback:()=>{null!=e&&e(this._textBox.value()),this.close()}},{value:"close",callback:()=>{null!=t&&t(),console.log()}}]),this._textBox.focus()})}close(){this._window.close(),r.puma(this._window.container()).remove(),r.puma(this._window.background()).remove()}getOptions(){return this._options}onContentLoaded(e){let t=this.getOptions();if(null!=t.onContentLoaded){let i=new o;i.sender=this,i.contentElement=e,t.onContentLoaded(i)}}};class o extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=t.SwitchOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.SwitchOptions=a;class o extends r.VrControl{constructor(e,t){if(null==t&&(t=new a),null==t.labelOff&&(t.labelOff=""),"string"==typeof t.labelOff){let e=t.labelOff;t.labelOff=new n.SwitchLabelSettings,t.labelOff.text=e}if(null==t.labelOn&&(t.labelOn=""),"string"==typeof t.labelOn){let e=t.labelOn;t.labelOn=new n.SwitchLabelSettings,t.labelOn.text=e}null==t.checked&&(t.checked=!1),super(e,t,n.ControlTypeEnum.Switch);let i=null!=t.labelOff.color?"color: "+t.labelOff.color+";":"",r=t.labelOff.bold?"font-weight: 600;":"";n.puma("<label title='"+t.labelOff.tooltip+"' style='"+i+r+t.labelOff.css+";' class='vrSwitchLabelOff'>"+t.labelOff.text+"</label>").vrAppendToPuma(this.element()).click(e=>{if(null!=t.labelOff.onClick){let i=new n.SwitchLabelSettingsOnClickEvent;if(i.sender=this,i.checked=this.checked(),t.labelOff.onClick(i),i.isDefaultPrevented())return void e.preventDefault()}this.enabled()&&this.checked(!1)});let o=t.checked?"checked='checked'":"";n.puma("<label class='vrSwitchLabel'><input type='checkbox' "+o+" class='vrSwitchInput'><span class='vrSwitchSlider'></span></label>").vrAppendToPuma(this.element()),n.puma(this.element()).find(".vrSwitchInput").change(e=>this.checked(e.target.checked));let l=null!=t.labelOn.color?"color: "+t.labelOn.color+";":"",s=t.labelOn.bold?"font-weight: 600;":"";n.puma("<label title='"+t.labelOn.tooltip+"' style='"+l+s+t.labelOn.css+";' class='vrSwitchLabelOn'>"+t.labelOn.text+"</label>").vrAppendToPuma(this.element()).click(e=>{if(null!=t.labelOn.onClick){let i=new n.SwitchLabelSettingsOnClickEvent;if(i.sender=this,i.checked=this.checked(),t.labelOn.onClick(i),i.isDefaultPrevented())return void e.preventDefault()}this.enabled()&&this.checked(!0)}),this.checked(t.checked,!1)}checked(e,t=!0){let i=this.getOptions();if(null!=e){let r=n.puma(this.element()).find(".vrSwitchLabelOff")[0],a=n.puma(this.element()).find(".vrSwitchLabelOn")[0],o=n.puma(this.element()).find(".vrSwitchInput");if(o[0].checked=e,e?(r.style.cssText+="border-bottom: solid 2px transparent;",a.style.cssText+="border-bottom: solid 2px #51B3E1;",o.prop("checked","checked")):(r.style.cssText+="border-bottom: solid 2px #51B3E1;",a.style.cssText+="border-bottom: solid 2px transparent;",o.removeProp("checked")),t&&null!=i.onChange){let t=new s;t.sender=this,t.checked=e,window.setTimeout(()=>i.onChange(t))}}return n.puma(this.element()).find(".vrSwitchInput")[0].checked}clear(e=!1){this.checked(!1,e)}labelOff(e){return null!=e&&n.puma(this.element()).find(".vrSwitchLabelOff").html(e),n.puma(this.element()).find(".vrSwitchLabelOff").html()}labelOn(e){return null!=e&&n.puma(this.element()).find(".vrSwitchLabelOn").html(e),n.puma(this.element()).find(".vrSwitchLabelOn").html()}getOptions(){return this.options()}enable(){super.enable(),n.puma(this.element()).find(".vrSwitchInput").prop("disabled",!1),n.puma(this.element()).find(".vrSwitchLabelOn").removeClass("vrSwitchLabelDisabled"),n.puma(this.element()).find(".vrSwitchLabelOff").removeClass("vrSwitchLabelDisabled")}disable(){super.disable(),n.puma(this.element()).find(".vrSwitchInput").prop("disabled",!0),n.puma(this.element()).find(".vrSwitchLabelOn").addClass("vrSwitchLabelDisabled"),n.puma(this.element()).find(".vrSwitchLabelOff").addClass("vrSwitchLabelDisabled")}}t.Switch=o;class l extends r.VrControlsEvent{}class s extends l{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBoxList=t.CheckBoxListOptions=void 0;const r=i(2),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.CheckBoxListOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.orientation&&(t.orientation=a.OrientationEnum.Horizontal),null==t.items&&(t.items=[]),null==t.listName&&(t.listName=e.id+"_CheckboxListName"),null==t.marginBetween&&(t.marginBetween=10),super(e,t,a.ControlTypeEnum.CheckBoxList),this._checkboxControls=[],this.items(t.items)}items(e){let t=this.getOptions();if(null!=e){this._items=e;let i=0;for(let r of e){let e=a.createCheckBox({text:r.text,value:null==r.value?r.text:String(r.value),name:t.listName,checked:!!t.allChecked||r.checked,tag:r.tag,cssContainer:t.orientation==a.OrientationEnum.Horizontal&&i>0?"margin-left: "+t.marginBetween+"px;":t.orientation==a.OrientationEnum.Vertical?"width: 100%":"",onCheck:e=>{if(null!=t.onBeforeSelect){let i=new s;if(i.sender=this,i.value=String(r.value),i.checked=e.checked,i.checkedValues=this.value(),t.onBeforeSelect(i),i.isDefaultPrevented())return}if(null!=r.onCheck&&r.onCheck(e),null!=t.onSelect){let i=new s;i.sender=this,i.value=String(r.value),i.checked=e.checked,i.checkedValues=this.value(),t.onSelect(i)}}},this.element());this._checkboxControls.push(e),i++}}return this._items}checkAll(e=!1){for(let t of this._checkboxControls)t.checked(!0,e)}unCheckAll(e=!1){for(let t of this._checkboxControls)t.checked(!1,e)}value(e,t=!0,i=!0){if(null!=e)for(let r of e){let e=this._checkboxControls.filter(e=>a.puma(e.element()).attr("value")==r)[0];null!=e&&e.checked(t,i)}return this._checkboxControls.filter(e=>e.checked()).map(e=>a.puma(e.element()).attr("value"))}valueTag(e,t=!0,i=!0){if(null!=e)for(let n of e){let e=this._checkboxControls.filter(e=>r.UtilityManager.equals(e.tag(),n))[0];null!=e&&e.checked(t,i)}return this._checkboxControls.filter(e=>e.checked()).map(e=>e.tag())}isChecked(e){let t=this._checkboxControls.filter(t=>a.puma(t.element()).attr("value")==e)[0];return null!=t&&t.checked()}text(e,t){let i=this._checkboxControls.filter(t=>a.puma(t.element()).attr("value")==e)[0];return null!=i?i.text(t):""}clear(e=!1,t=!1){e?this.checkAll(t):this.unCheckAll(t)}clearItems(){this._checkboxControls=[],a.puma(this.element()).empty()}getOptions(){return this.options()}enable(){super.enable();for(let e of this._checkboxControls)e.enable()}disable(){super.disable();for(let e of this._checkboxControls)e.disable()}}t.CheckBoxList=l;class s extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonCheckEvent=t.RadioButton=t.RadioButtonOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.RadioButtonOptions=a;class o extends r.VrControl{constructor(e,t){null==t&&(t=new a),null==t.text&&(t.text=""),null==t.checked&&(t.checked=!1),n.puma(e).attr("type","radio"),super(e,t,n.ControlTypeEnum.RadioButton),null==t.value&&(t.value=t.text),null!=t.value&&n.puma(this.element()).attr("value",t.value),null!=t.name&&n.puma(this.element()).attr("name",t.name);let i=n.puma("<label class='vrRadioButtonLabelContainer'></label>").vrAppendToPuma(this.container());n.puma(this.element()).vrAppendToPuma(i),n.puma("<span class='vrRadioButtonCheckMark'></span>").vrAppendToPuma(i);let r=n.puma("<label class='vrRadioButtonLabel'>"+t.text+"</label>").vrAppendToPuma(this.container());!0===t.checked&&this.checked(!0,!1),n.puma(this.element()).on("click",e=>{let t=e.currentTarget.checked;this.checked(t)}),n.puma(r).on("click",e=>{let t=n.puma(r).prev().find("input")[0];t.checked||(t.checked=!0);let i=t.checked;this.checked(i)})}checked(e,t=!0){if(null!=e&&(this.element().checked=e,t)){let t=this.getOptions();if(null!=t.onCheck){let i=new l;i.sender=this,i.checked=e,t.onCheck(i)}}return this.element().checked}text(e){return null!=e&&n.puma(this.container()).find(".vrRadioButtonLabel").html(e),n.puma(this.container()).find(".vrRadioButtonLabel").html()}clear(e=!1){this.checked(!1,e)}getOptions(){return this.options()}enable(){super.enable(),n.puma(this.container()).removeClass("vrRadioButtonListDisabled")}disable(){super.disable(),n.puma(this.container()).addClass("vrRadioButtonListDisabled")}}t.RadioButton=o;class l extends class{}{}t.RadioButtonCheckEvent=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonList=t.RadioButtonListOptions=void 0;const r=i(2),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.RadioButtonListOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.orientation&&(t.orientation=a.OrientationEnum.Horizontal),null==t.items&&(t.items=[]),null==t.listName&&(t.listName=e.id+"_RadioButtonListName"),super(e,t,a.ControlTypeEnum.RadioButtonList),this._radioControls=[],this.items(t.items),""==this.value()&&this.clear()}items(e){let t=this.getOptions();if(null!=e){this._items=e;let i=0;for(let r of e){let e=a.createRadioButton({text:r.text,value:null==r.value?r.text:String(r.value),name:t.listName,checked:r.checked,tag:r.tag,cssContainer:t.orientation==a.OrientationEnum.Horizontal&&i>0?"margin-left: 10px;":t.orientation==a.OrientationEnum.Vertical?"width: 100%":"",onCheck:e=>{if(null!=t.onBeforeSelect){let e=new s;if(e.sender=this,e.value=String(r.value),t.onBeforeSelect(e),e.isDefaultPrevented())return}if(null!=r.onCheck&&r.onCheck(e),null!=t.onSelect){let e=new s;e.sender=this,e.value=String(r.value),t.onSelect(e)}}},this.element());this._radioControls.push(e),i++}}return this._items}value(e,t=!0){if(null!=e){let i=this._radioControls.filter(t=>a.puma(t.element()).attr("value")==String(e))[0];null!=i&&i.checked(!0,t)}let i=this._radioControls.filter(e=>e.checked())[0];return null!=i?a.puma(i.element()).attr("value"):""}valueTag(e,t=!0){if(null!=e){let i=this._radioControls.filter(t=>r.UtilityManager.equals(t.tag(),e))[0];null!=i&&i.checked(!0,t)}let i=this._radioControls.filter(e=>e.checked())[0];return null!=i?i.tag():""}text(e,t){let i=this._radioControls.filter(t=>a.puma(t.element()).attr("value")==e)[0];return null!=i?i.text(t):""}clear(e=!1){for(let t of this._radioControls)t.checked(!1,e)}clearItems(){this._radioControls=[],a.puma(this.element()).empty()}getOptions(){return this.options()}enable(){super.enable();for(let e of this._radioControls)e.enable()}disable(){super.disable();for(let e of this._radioControls)e.disable()}}t.RadioButtonList=l;class s extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Repeater=t.RepeaterOptions=void 0;const r=i(1),n=i(0),a=i(13),o=i(2);class l extends r.VrControlOptions{}t.RepeaterOptions=l;class s extends r.VrControl{constructor(e,t){null==t&&(t=new l),t.hideEditButton=!0,null==t.pageSize&&(t.pageSize=!1),null==t.alternateRowColors&&(t.alternateRowColors=!0),null!=t.footer&&!0!==t.footer||(t.footer=new a.GridFooterSettings),!1!==t.footer&&(null==t.footer.showPagination&&(t.footer.showPagination=!0),null==t.footer.showSettings&&(t.footer.showSettings=!1),!1===t.pageSize&&(t.pageSize=50)),null==t.padding&&(t.padding=10),"number"!=typeof t.padding&&(null==t.padding.left&&(t.padding.left=10),null==t.padding.top&&(t.padding.top=10),null==t.padding.right&&(t.padding.right=10),null==t.padding.bottom&&(t.padding.bottom=10)),null==t.emptyMessage&&(t.emptyMessage="Nessun risultato"),null==t.title&&(t.title=!1),!0===t.title&&(t.title="");let i=o.UtilityManager.duplicate(t.height);t.height=void 0;let r=t.dataSource;t.dataSource=void 0,super(e,t,n.ControlTypeEnum.Repeater),this.container().id=this.container().id+"_Repeater",this._grid=n.createGrid({addToControlList:t.addToControlList,toolbar:t.toolbar,classContainer:"vrRepeaterContainer",columns:[{field:"custom"+this.element().id,type:n.GridColumnTypeEnum.Custom,cellSettings:{textAlign:n.GridAlignEnum.Left},filterable:!0,customFilterProperties:t.customFilterProperties,fitSpace:!0,title:!1!==t.title?t.title:"",customSettings:e=>("number"==typeof t.padding?e.element.style.cssText+="padding: "+t.padding+"px;":e.element.style.cssText+="padding-left: "+t.padding.left+"px; padding-top: "+t.padding.top+"px; padding-right: "+t.padding.right+"px; padding-bottom: "+t.padding.bottom+"px;",null!=t.template?{template:t.template(e)}:void 0)}],height:i,rebind:t.rebind,checkboxes:t.checkboxes,dataSourceFieldId:t.dataSourceFieldId,rowHeight:t.rowHeight,hideEditButton:t.hideEditButton,mode:t.mode,filterable:t.filterable,pageSize:t.pageSize,largePageSize:t.largePageSize,footer:t.footer,header:!1!==t.title,alternateRowColors:t.alternateRowColors,hoverRowColor:t.hoverRowColor,multilineRows:!0,resizable:!1,reorderable:!1,groupable:!0,groupBy:t.groupBy,layoutSettings:!1,tooltip:!1,onDataSourceChanged:t.onDataSourceChanged,onDataBound:t.onDataBound,onRowDataBound:e=>{if(n.puma(this.element()).find(".toRemove").parent().remove(),e.empty)return n.puma(e.rowElement).empty(),void n.createLabel({text:t.emptyMessage,fontSize:14,width:"100%",align:n.TextAlignEnum.Center,class:"toRemove"},n.puma(this.element()).find(".grid_Body"),n.ControlPositionEnum.Before);if(null!=t.onRowDataBound){let i=this.dataSource().map(e=>e[t.dataSourceFieldId]).indexOf(e.dataItem[t.dataSourceFieldId]);-1!=i&&null!=t.dataSourceFieldId||(i=n.puma(e.rowElement).index());let r=new u;r.dataItem=e.dataItem,r.realDataItem=e.realDataItem,r.empty=e.empty,r.rowElement=e.rowElement,r.sender=e.sender,r.cell=n.puma(e.rowElement).find("td[field='custom"+this.element().id+"']")[0],r.index=i,t.onRowDataBound(r)}},onSelectRow:e=>{null==t.onSelectRow||e.empty||t.onSelectRow(e)},onSelectAllRows:t.onSelectAllRows,onUnselectRow:t.onUnselectRow,onUnselectAllRows:t.onUnselectAllRows},this.element()),null!=r&&this._grid.dataSource(r)}rebind(e,t=!0){this._grid.rebind(e,!1,t)}rebindSpecificRows(e,t=!0){this._grid.rebindSpecificRows(e,t)}clear(){this._grid.clear()}originalDataSource(){return this._grid.originalDataSource()}dataSource(e,t=!1){return this._grid.dataSource(e,t)}update(e=!0,t=!0){this._grid.update(e,t)}updateRow(e,t=!0){this._grid.updateRow(e,t)}updateRows(e,t=!0){this._grid.updateRows(e,t)}addRow(e,t=!0){this._grid.addRow(e,t)}addRows(e,t=!0){this._grid.addRows(e,t)}deleteRow(e,t=!1){this._grid.deleteRow(e,t)}deleteRows(e,t=!1){this._grid.deleteRows(e,t)}rows(){return this._grid.rows()}getAllItems(){return this._grid.getAllItems()}getCheckedItems(){return this._grid.getCheckedItems()}getCheckedValues(){return this._grid.getCheckedValues()}getDeletedItems(){return this._grid.getDeletedItems()}getDeletedItemValues(e){return this._grid.getDeletedItemValues(e)}clearSelection(e=!0){this._grid.clearSelection(e)}checkAllRows(e=!0){this._grid.checkAllRows(e)}unCheckAllRows(e=!0){this._grid.unCheckAllRows(e)}selectRowsByIndexes(e,t=!0){this.selectRowsByIndexes(e,t)}selectRowByIndex(e,t=!0){this.selectRowByIndex(e,t)}selectRows(e,t,i=!0){this.selectRows(e,t,i)}selectRow(e,t=!0){this._grid.selectRow(e,t)}unselectRows(e,t,i=!0){this._grid.unselectRows(e,t,i)}unselectRow(e){this._grid.unselectRow(e)}removeGroup(e,t=!0){this.removeGroups([e],t)}removeGroups(e,t=!0){this._grid.removeGroups(e,t)}removeAllGroups(e=!0){this._grid.removeAllGroups(e)}addGroup(e,t=!0,i,r){this.addGroups([e],t,i,r)}addGroups(e,t=!0,i,r){this._grid.addGroups(e,t,i,r)}removeSort(e=!0){this._grid.removeSort(e)}sort(e,t){this._grid.sort(e,t)}clearFilters(e=!0){this._grid.clearFilters(e)}addFilter(e,t,i=!0){this._grid.addFilter(e,t,i)}removeFilter(e,t=!0){this._grid.removeFilter(e,t)}updateFilter(e,t,i=!0){this._grid.updateFilter(e,t,i)}pageSelected(e,t=!0){return this._grid.pageSelected(e,t)}height(e){return this._grid.height(e)}recalculateHeight(e=!1){this._grid.recalculateHeight(e)}recalculateWidth(){this._grid.recalculateWidth()}visibleToolbar(e){return this._grid.visibleToolbar(e)}showToolbar(){this._grid.showToolbar()}hideToolbar(){this._grid.hideToolbar()}toolbarItem(e){return this._grid.toolbarItem(e)}showToolbarItem(e){this._grid.showToolbarItem(e)}hideToolbarItem(e){this._grid.hideToolbarItem(e)}enableToolbarItem(e){this._grid.enableToolbarItem(e)}disableToolbarItem(e){this._grid.disableToolbarItem(e)}removeToolbarItem(e){this._grid.removeToolbarItem(e)}addToolbarItem(e){this._grid.addToolbarItem(e)}hideCheckboxColumn(e=!1){this._grid.hideColumn("vrGridCheckboxColumn",e)}showCheckboxColumn(e=!1){this._grid.showColumn("vrGridCheckboxColumn",e)}pageSize(e,t=!1,i=!1){return this._grid.pageSize(e,t,i)}}t.Repeater=s;class u extends a.GridOnRowDataBoundEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Maps=t.MapsOptions=void 0;const r=i(0),n=i(1);class a extends n.VrControlOptions{}t.MapsOptions=a;class o extends n.VrControl{constructor(e,t){null==t&&(t=new a),null==t.zoom&&(t.zoom=15),null==t.maxZoom&&(t.maxZoom=18),null==t.marker&&(t.marker=!0),null==t.latitude&&(t.latitude=0),null==t.longitude&&(t.longitude=0),null==t.height&&(t.height=200),null==t.width&&(t.width="100%"),null==t.mode&&(t.mode=r.MapModeEnum.Light),null==t.tabIndex&&(t.tabIndex=-1),null==t.credits&&(t.credits=!0),t.credits?t.credits="<span style='font-size: 10px'><a href='https://www.openstreetmap.org/'>OpenStreetMap</a> contributors":t.credits="";let i=t.enable;0==t.enable&&(t.enable=void 0),super(e,t,r.ControlTypeEnum.Map),this._internalMarkerList=[],r.puma(this.element()).height("100%");if(this._map=L.map(this.element(),{preferCanvas:!0}).setView([t.latitude,t.longitude],t.zoom),L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWF0dGV1enppc3RlZmFubyIsImEiOiJja3I3aHp2bzIwNHNpMnBtYzVndGN5YzFxIn0.tEqLhXaDn9FC9Mrqu8o-lQ",{maxZoom:t.maxZoom,attribution:t.credits,id:t.mode,tileSize:512,zoomOffset:-1}).addTo(this._map),null!=t.onClick&&r.puma(this._map).on("click",e=>{let i=new s;i.sender=this,t.onClick(i)}),"boolean"==typeof t.marker&&t.marker){let e=new r.MapMarker;e.latitude=t.latitude,e.longitude=t.longitude,t.marker=[e],this.marker([e])}else Array.isArray(t.marker)&&this.marker(t.marker);!1===i?this.disable():this.enable()}map(){return this._map}locate(e,t){L.latLng(e,t).addTo(this._map)}marker(e){let t=this.getOptions();if(null!=e){t.marker=e;for(let i of e){let e=L.circleMarker([i.latitude,i.longitude],{color:"#3388ff"});null!=i.title&&e.bindPopup(i.title),e.addTo(this._map),this._internalMarkerList.push(e),null!=t.onPinClick&&r.puma(e).on("click",r=>{let n=new s;n.sender=this,n.coordinate={latitude:e._latlng.lat,longitude:e._latlng.lng},n.point={x:e._point.x,y:e._point.y},n.color=e.options.color,n.dataItem=i,n.element=e,t.onPinClick(n)}),r.puma(e).on("mouseover",r=>{if(null!=i.title&&r.target.openPopup(),null!=t.onHover){let r=new u;r.sender=this,r.coordinate={latitude:e._latlng.lat,longitude:e._latlng.lng},r.point={x:e._point.x,y:e._point.y},r.color=e.options.color,r.dataItem=i,r.element=e,t.onHover(r)}})}}return t.marker}clear(){let e=this.getOptions();if(null!=e.marker&&Array.isArray(e.marker))for(let e of this._internalMarkerList)this._map.removeLayer(e);this._internalMarkerList=[]}disable(){super.disable(),this._map.dragging.disable(),this._map.touchZoom.disable(),this._map.doubleClickZoom.disable(),this._map.scrollWheelZoom.disable(),this._map.boxZoom.disable(),this._map.keyboard.disable(),r.puma(this.container()).find(".leaflet-control-zoom").hide(),this._map.tap&&this._map.tap.disable(),this.element().style.cursor="default"}enable(){super.enable(),this._map.dragging.enable(),this._map.touchZoom.enable(),this._map.doubleClickZoom.enable(),this._map.scrollWheelZoom.enable(),this._map.boxZoom.enable(),this._map.keyboard.enable(),r.puma(this.container()).find(".leaflet-control-zoom").show(),this._map.tap&&this._map.tap.enable(),this.element().style.cursor="grab"}invalidateSize(){this._map.invalidateSize()}getOptions(){return this.options()}}t.Maps=o;class l extends n.VrControlsEvent{}class s extends l{}class u extends l{}n.VrControlsEvent},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Painter=t.PainterOptions=void 0;const r=i(0),n=i(1);class a extends n.VrControlOptions{}t.PainterOptions=a;class o extends n.VrControl{constructor(e,t){null==t&&(t=new a),null==t.imagePath&&(t.imagePath=""),null==t.size&&(t.size=10),null==t.color&&(t.color="rgba(255, 0, 0, 0.25)"),null==t.height&&(t.height=200),null==t.width&&(t.width=200);let i=Number(t.height),n=Number(t.width);t.height=void 0,t.width=void 0,null==t.saveSettings&&(t.saveSettings=new s),null==t.saveSettings.legendWidth&&(t.saveSettings.legendWidth=550),null==t.saveSettings.legendHeight&&(t.saveSettings.legendHeight=400),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Painter),r.puma(this.element()).attr("width",n),r.puma(this.element()).attr("height",i),this._image=new Image,this.image(t.imagePath),this._ctx=this.element().getContext("2d"),this._ctx.clearRect(0,0,this._ctx.width,this._ctx.height),this._ctx.drawImage(this.image(),0,0),this._points=[],this.color(t.color),this.size(t.size),window.setTimeout(()=>this.draw(),1e3),this._isMoving=!1,r.puma(this.element()).mousemove(e=>{if(!this._isMoving)return;let i=this.getPoint(e);if(null!=this._points[this._points.length-1]&&this._points[this._points.length-1].push(i),null!=t.onMouseMove){let i=new c;if(i.sender=this,i.event=e,i.points=this._points,t.onMouseMove(i),i.isDefaultPrevented())return void e.preventDefault()}this.draw()}),r.puma(this.element()).mousedown(e=>{this._isMoving=!0;let i=this.getPoint(e);if(null!=t.onMouseDown){let i=new d;if(i.sender=this,i.event=e,i.points=this._points,t.onMouseDown(i),i.isDefaultPrevented())return void e.preventDefault()}this._points.push([i])}),r.puma(this.element()).mouseup(e=>{if(this._isMoving=!1,null!=t.onMouseUp){let i=new p;if(i.sender=this,i.event=e,i.points=this._points,t.onMouseUp(i),i.isDefaultPrevented())return void e.preventDefault()}})}color(e){return null!=e&&(this._color=e),this._color}size(e){return null!=e&&(this._size=e),this._size}image(e){return null!=e&&(this._image.src=e),this._image}pointTag(e){return null!=e&&(this._pointTag=e),this._pointTag}points(e){return null!=e&&(this._points=e,this.draw()),this._points}draw(){this._ctx.clearRect(0,0,this._ctx.width,this._ctx.height),this._ctx.drawImage(this.image(),0,0);for(let e=0;e<this._points.length;++e){let t=this._points[e];if(!(t.length<1)){this._ctx.strokeStyle=t[0].color,this._ctx.lineCap="round",this._ctx.lineJoin="round",this._ctx.lineWidth=t[0].size,this._ctx.beginPath(),this._ctx.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;++e)this._ctx.lineTo(t[e].x,t[e].y);this._ctx.stroke()}}}getPoint(e){let t=new l;return t.x=e.clientX-this.element().getBoundingClientRect().x,t.y=e.clientY-this.element().getBoundingClientRect().y,t.color=this.color(),t.size=this.size(),t.tag=this._pointTag,t}clear(e){this._points=[],null!=e&&this.image(e),window.setTimeout(()=>this.draw(),200)}clearLastRoute(){this._points.pop(),this.draw()}clearRoute(e){let t=[];for(let i of this.points())for(let r of i)if(r.tag==e){t.push(i);break}for(let e of t)this._points.vrDelete(e);this.draw()}save(e){let t;if(null!=e){let i=this.getOptions(),n=r.puma("<canvas>")[0];n.width=i.saveSettings.legendWidth,n.height=i.saveSettings.legendHeight;let a=n.getContext("2d");a.drawImage(this.element(),0,0);let o=18,l=10;for(let t of e){let e=null==t.color?100:130,i=a.measureText(t.text),r=o*Math.ceil(i.width/e);a.font=o.toString()+"px Arial",null!=t.color?(a.fillStyle=t.color,a.fillRect(410,l,20,20),a.fillStyle="#000000",a.fillText(t.text,440,l+r,100)):a.fillText(t.text,410,l+r,130),l+=r+10}t=n.toDataURL()}else t=this.element().toDataURL();return t}enable(){super.enable(),r.puma(this.element()).removeClass("vrPainterDisabled")}disable(){super.disable(),r.puma(this.element()).addClass("vrPainterDisabled")}getOptions(){return this.options()}}t.Painter=o;class l{}class s{}class u extends n.VrControlsEvent{}class d extends u{}class c extends u{}class p extends u{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Calendar=t.CalendarOptions=void 0;const r=i(1),n=i(0),a=i(5);class o extends r.VrControlOptions{}t.CalendarOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.selectedColor&&(t.selectedColor="#51B3E1"),t.selectedColor.startsWith("#")||(t.selectedColor="#"+t.selectedColor),null==t.todayLabel&&(t.todayLabel=!0),null==t.otherMonthDays&&(t.otherMonthDays=!0),null==t.dateSlotWidth&&(t.dateSlotWidth=40),null==t.depth&&(t.depth=n.DateDepthEnum.Day),super(e,t,n.ControlTypeEnum.Calendar),this.draw(),null!=t.value&&this.value(t.value,!1)}draw(){let e=this.getOptions(),t=this.value();null==t&&(t=new Date),this._tempNavigationDate=t;const i=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];let r=i[this._tempNavigationDate.getMonth()],o=this._tempNavigationDate.getFullYear(),l=n.puma("<div class='vrDivPickerPopup_Header'></div>").vrAppendToPuma(this.element())[0];this._lblNavigation=n.createLabel({text:r+" "+o,noBr:!0,width:"Calc(100% - 65px)",align:n.TextAlignEnum.Left,class:"vrDatePickerNavigationLabel",css:"padding-left: 10px;",onClick:e=>{switch(this._actualView){case a.ActualViewEnum.Day:this.drawMonths();break;case a.ActualViewEnum.Month:this.drawYears();break;case a.ActualViewEnum.Year:this.drawDecades()}}},l);n.createButton({icon:n.IconClassLight.CaretLeft,css:"border: none;",cssContainer:"top: 2px;",width:30,onClick:e=>{switch(this._actualView){case a.ActualViewEnum.Day:this._tempNavigationDate=this._tempNavigationDate.vrAddMonths(-1),this.drawDays();break;case a.ActualViewEnum.Month:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(-1),this.drawMonths();break;case a.ActualViewEnum.Year:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(-10),this.drawYears();break;case a.ActualViewEnum.Decade:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(-100),this.drawDecades()}}},l),n.createButton({icon:n.IconClassLight.CaretRight,css:"border: none;",cssContainer:"top: 2px;",width:30,onClick:e=>{switch(this._actualView){case a.ActualViewEnum.Day:this._tempNavigationDate=this._tempNavigationDate.vrAddMonths(1),this.drawDays();break;case a.ActualViewEnum.Month:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(1),this.drawMonths();break;case a.ActualViewEnum.Year:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(10),this.drawYears();break;case a.ActualViewEnum.Decade:this._tempNavigationDate=this._tempNavigationDate.vrAddYears(100),this.drawDecades()}}},l);switch(n.puma("<table class='vrDatePickerPopup_table'></table>").vrAppendToPuma(this.element())[0],e.depth){case n.DateDepthEnum.Day:this.drawDays();break;case n.DateDepthEnum.Month:this.drawMonths();break;case n.DateDepthEnum.Year:this.drawYears();break;default:this.drawDays()}let s=new Date,u=s.getDate(),d=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"][s.getDay()],c=s.getMonth(),p=s.getFullYear(),h=n.puma("<div style='padding: 5px; border-top: solid 1px #CCC; margin-top: 5px; text-align: center;'></div>").vrAppendToPuma(this.element())[0];n.createLabel({text:d+" "+u+" "+i[c]+" "+p,colorSettings:{textColor:e.selectedColor},css:"text-decoration: underline;",visible:!!e.todayLabel,onClick:e=>{this.value(new Date)}},h)}drawDays(){let e=this.getOptions();this._actualView=a.ActualViewEnum.Day,this._lblNavigation.enable();let t=n.puma(this.element()).find(".vrDatePickerPopup_table")[0];n.puma(t).empty();let i=["LU","MA","ME","GI","VE","SA","DO"],r=n.puma("<tr class='vrPicker_tableWeekDays'></tr>").vrAppendToPuma(t)[0];for(let e of i)n.puma("<td style='font-size: 14px; text-align: center; color: #7a7a7a;'>"+e+"</td>").vrAppendToPuma(r);let o=this._tempNavigationDate.getFullYear(),l=this._tempNavigationDate.getMonth();let s=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"][l];this._lblNavigation.value(s+" "+o);let u=new Date(o,l,1),d=new Date(o,l+1,0),c=u.getDay();0==c&&(c=7),c-=1;let h=new Date,m=h.getMonth(),f=h.getFullYear(),g=m==l&&f==o?h.getDate():null,v=null,b=this.value();if(null!=b){let e=b.getMonth(),t=b.getFullYear();v=e==l&&t==o?b.getDate():null}let C=Date.vrGetLastDayOfMonthByDate(new Date(o,l-1,1)).getDate()+1-c,x=1,y=!1;for(let i=0;i<6;i++){n.puma(t).vrAppendPuma("<tr class='vrDatePickerPopup_rowDays' row='"+i+"'></tr>");for(let r=0;r<7;r++)if(0==c){let r="";null==v||v!=x||y?null==g||g!=x||y?y?(r="color: #CCC; border: none;",e.otherMonthDays||(r+="display: none;")):r="box-shadow: 0 0px 2px rgba(0, 0, 0, .3); border: none;":r+="border: solid 1px "+e.selectedColor+";":r+="background-color: "+e.selectedColor+"; color: #FFF; border: none;";let a=n.puma("<td day='"+x+"'></td>").vrAppendToPuma(n.puma(t).find("tr[row='"+i+"']"))[0];this.createTdDay(x,o,l,a,r),x>=d.getDate()&&(l++,x=0,y=!0),x++}else{let r="color: #CCC; border: none;";e.otherMonthDays||(r+="display: none;");let a=n.puma("<td day='"+C+"'></td>").vrAppendToPuma(n.puma(t).find("tr[row='"+i+"']"))[0];this.createTdDay(C++,o,l-1,a,r),c--}}if(null!=e.onFinishedDraw){let t=new p;t.sender=this,e.onFinishedDraw(t)}}createTdDay(e,t,i,r,a){let o=this.getOptions(),l=this.checkAvailability(t,i,e),s=n.createButton({text:String(e),width:o.dateSlotWidth,css:a,enable:l,onClick:e=>{let r=new Date(t,i,Number(s.text()),0,0,0);this.value(r)}},r),u=new Date(t,i,e,0,0,0);if(null!=o.onDisableDate){let e=new h;e.sender=this,e.day=u;let t=o.onDisableDate(e);s.enabled(t)}if(null!=o.onDayDraw){let e=new c;e.sender=this,e.day=u,o.onDayDraw(e)}if(null!=o.disabledDates){o.disabledDates.map(e=>e.getTime()).includes(u.getTime())&&s.disable()}if(null!=o.highlightedDates){o.highlightedDates.map(e=>e.getTime()).includes(u.getTime())&&(s.element().style.cssText+="background-color: "+o.selectedColor+"; color: #FFF; border: none; border-radius: 15px;")}}checkAvailability(e,t,i){let r=this.getOptions(),n=!0;return null!=r.availableFrom&&(e<r.availableFrom.getFullYear()||e==r.availableFrom.getFullYear()&&null!=t&&(t<r.availableFrom.getMonth()||t==r.availableFrom.getMonth()&&null!=i&&i<r.availableFrom.getDate()))&&(n=!1),null!=r.availableTo&&(e>r.availableTo.getFullYear()||e==r.availableTo.getFullYear()&&null!=t&&(t>r.availableTo.getMonth()||t==r.availableTo.getMonth()&&null!=i&&i>r.availableTo.getDate()))&&(n=!1),n}disabledDates(e){let t=this.getOptions();return null!=e&&(t.disabledDates=e),t.disabledDates}highlightedDates(e){let t=this.getOptions();return null!=e&&(t.highlightedDates=e),t.highlightedDates}drawMonths(){this._actualView=a.ActualViewEnum.Month,this._lblNavigation.enable();let e=n.puma(this.element()).find(".vrDatePickerPopup_table")[0];n.puma(e).empty(),this._lblNavigation.value(this._tempNavigationDate.getFullYear());const t=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];for(let i=0;i<3;i++){n.puma(e).vrAppendPuma("<tr class='vrDatePickerPopup_rowMonths' row='"+i+"'></tr>");for(let r=0;r<4;r++){let a=4*i+r,o=n.puma("<td month='"+a+"'></td>").vrAppendToPuma(n.puma(e).find("tr[row='"+i+"']"))[0],l=a,s=this.checkAvailability(this._tempNavigationDate.getFullYear(),l);n.createButton({text:"<span style='color: #CCC;'>"+(a+1)+"</span><br />"+t[a],width:55,height:58,enable:s,css:"height: 100%; border: none;"+(null!=this.value()&&a==this.value().getMonth()?"background-color: #e3f1fa;":""),onClick:e=>{let t=a;if(this._tempNavigationDate.setMonth(t),this.depth()==n.DateDepthEnum.Month){let e=new Date(this._tempNavigationDate.getFullYear(),t,1);this.value(e)}else this.drawDays()}},o)}}}drawYears(){this._actualView=a.ActualViewEnum.Year,this._lblNavigation.enable();let e=n.puma(this.element()).find(".vrDatePickerPopup_table")[0];n.puma(e).empty();let t=this._tempNavigationDate.getFullYear(),i=Number(t.toString().substring(0,2)),r=Number(t.toString().substr(-2)),o=10*Math.ceil((r+1)/10),l=100*i+o-10-1,s=100*i+o;this._lblNavigation.value(l+1+"-"+(s-1));let u=l;for(let t=0;t<3;t++){n.puma(e).vrAppendPuma("<tr class='vrDatePickerPopup_rowMonths' row='"+t+"'></tr>");for(let i=0;i<4;i++){let i=n.puma("<td year='"+u+"'></td>").vrAppendToPuma(n.puma(e).find("tr[row='"+t+"']"))[0],r=Number(n.puma(i).attr("year")),a=this.checkAvailability(r);n.createButton({text:String(u),width:55,height:58,enable:a,css:"height: 100%; border: none;"+(null!=this.value()&&u==this.value().getFullYear()?"background-color: #e3f1fa;":"")+(r==l||r==s?"color: #CCC;":""),onClick:e=>{let t=Number(n.puma(i).attr("year"));if(this._tempNavigationDate.setFullYear(t),this.depth()==n.DateDepthEnum.Year){let e=new Date(t,0,1);this.value(e)}else this.drawMonths()}},i),u++}}}drawDecades(){this._actualView=a.ActualViewEnum.Decade,this._lblNavigation.disable();let e=n.puma(this.element()).find(".vrDatePickerPopup_table")[0];n.puma(e).empty();let t=this._tempNavigationDate.getFullYear(),i=Number(t.toString().substring(0,2)),r=(Number(t.toString().substr(-2)),100*i),o=100*i+99,l=100*i-10,s=100*i+109;this._lblNavigation.value(r+"-"+o);let u=l;for(let t=0;t<3;t++){n.puma(e).vrAppendPuma("<tr class='vrDatePickerPopup_rowMonths' row='"+t+"'></tr>");for(let i=0;i<4;i++){let i=n.puma("<td decade='"+u+"'></td>").vrAppendToPuma(n.puma(e).find("tr[row='"+t+"']"))[0],r=Number(n.puma(i).attr("decade"));n.createButton({text:u+"<br />"+(u+9),width:55,height:58,css:"height: 100%; border: none;"+(null!=this.value()&&this.value().getFullYear()>=u&&this.value().getFullYear()<=u+9?"background-color: #e3f1fa;":"")+(r==l||r==s-9?"color: #CCC;":""),onClick:e=>{let t=Number(n.puma(i).attr("decade"));this._tempNavigationDate.setFullYear(t),this.drawYears()}},i),u+=10}}}getOptions(){return this.options()}depth(){return this.getOptions().depth}value(e,t=!0){let i=this.getOptions();if(null===e)return this.clear(),null;if(null!=e){if("string"==typeof e&&(e=Date.vrFixDateString(e)),null==e)throw Error("Formato data non valido!");if(t){let t=new d;null!=i.onBeforeChange&&(t.sender=this,t.value=e,t.previousValue=this._value,i.onBeforeChange(t)),t.isDefaultPrevented()||(this._value=e,this.change())}else this._value=e;this._tempNavigationDate=e;const r=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];let a=e.getFullYear(),o=e.getMonth();switch(i.depth){case n.DateDepthEnum.Day:this.drawDays();break;case n.DateDepthEnum.Month:this.drawMonths();break;case n.DateDepthEnum.Year:this.drawYears();break;default:this.drawDays()}let l=r[o];this._lblNavigation.value(l+" "+a)}return this._value}clear(e=!1){this._value=null,e&&this.change()}change(){let e=this.getOptions().onAfterChange;if(null!=e){let t=new u;t.sender=this,t.value=this.value(),e(t)}}}t.Calendar=l;class s extends r.VrControlsEvent{}class u extends s{}class d extends s{}class c extends r.VrControlsEvent{}class p extends r.VrControlsEvent{}class h extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rating=t.RatingOptions=void 0;const r=i(0),n=i(1),a=i(2);class o extends n.VrControlOptions{}t.RatingOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.max&&(t.max=5),null==t.size&&(t.size=20),null==t.precision&&(t.precision=r.RatingPrecisionEnum.Full),null==t.tooltip&&(t.tooltip=!1),null==t.enable&&(t.enable=!0),null==t.colorSettings&&(t.colorSettings=new u),null==t.colorSettings.selected&&(t.colorSettings.selected="#FFD700"),null==t.colorSettings.hover&&(t.colorSettings.hover="#FFED85"),null==t.colorSettings.notSelected&&(t.colorSettings.notSelected="#DDD"),super(e,t,r.ControlTypeEnum.Rating),this.color(t.colorSettings);let i=this.element().id+"vrRating";for(let e=t.max;e>0;e--){let n=this.element().id+"_star"+e,a=t.tooltip?"title='"+e+"'":"";r.puma("<input id='"+n+"' type='radio' name='"+i+"' value='"+e+"' /><label class='vrRatingFull' for='"+n+"' "+a+"></label>").vrAppendToPuma(this.element());if(t.precision==r.RatingPrecisionEnum.Half){let n=this.element().id+"_star"+(e-.5),a=t.tooltip?"title='"+e+"'":"";r.puma("<input id='"+n+"' type='radio' name='"+i+"' value='"+(e-.5)+"' /><label class='vrRatingHalf' for='"+n+"' "+a+"></label>").vrAppendToPuma(this.element())}}this._lblTotal=r.createLabel({cssContainer:"margin-left: 5px; margin-top: -6px;"},this.container()),null!=t.total&&this.total(t.total),this.size(t.size),t.enable?this.enable():this.disable(),r.puma(this.element()).find("input").click(e=>{let i=e.currentTarget.value;if(null!=t.onSelect){let e=new s;e.sender=this,e.oldValue=this._value,e.value=i,t.onSelect(e)}this._value=i}),null!=t.value&&this.value(t.value)}value(e,t=!0){if(null!=e){let t=0,i=e%1,n=Math.trunc(e);0==i||i>n&&i<.2?t=n:i>.2&&i<.7?t=n+.5:i>.7&&(t=n+1),r.puma(this.element()).find("input[value='"+t+"']").attr("checked",!0),this._value=t}let i=r.puma(this.element()).find("input:checked")[0];return null!=i?i.value:null}color(e){let t=this.getOptions();return null!=e&&(null!=e.hover&&(t.colorSettings.hover=e.hover),null!=e.selected&&(t.colorSettings.selected=e.selected),null!=e.notSelected&&(t.colorSettings.notSelected=e.notSelected),a.UtilityManager.addCssStyle(".vrRating>label {\n                    color: "+t.colorSettings.notSelected+";\n                    float: right;\n                    cursor: pointer;\n                }\n\n                .vrRating>input:checked~label, .vrRating.hover:not(:checked)>label:hover, .vrRating.hover:not(:checked)>label:hover~label {\n                    color: "+t.colorSettings.selected+";\n                }\n\n                .vrRating.hover>input:checked+label:hover, .vrRating.hover>input:checked~label:hover, .vrRating.hover>label:hover~input:checked~label, .vrRating.hover>input:checked~label:hover~label {\n                    color: "+t.colorSettings.hover+";\n                }")),t.colorSettings}size(e){null!=e&&("number"==typeof e&&(e+="px"),a.UtilityManager.addCssStyle(".vrRating>label:before {\n                    font-size: "+e+";\n                }"));let t=r.puma(this.element()).find("input")[0];if(null!=t){let e=t.id,i=r.puma(this.element()).find("label[for='"+e+"']")[0];return window.getComputedStyle(i,":before").fontSize.vrGetNumericPart()}return 0}total(e){return null!=e&&this._lblTotal.value("("+e+")"),this._lblTotal.value().vrGetNumericPart()}enable(){super.enable(),r.puma(this.element()).addClass("hover"),r.puma(this.element()).find("input").removeAttr("disabled")}disable(){super.disable(),r.puma(this.element()).removeClass("hover"),r.puma(this.element()).find("input").attr("disabled",!0)}getOptions(){return this.options()}}t.Rating=l;class s{}class u{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupBox=t.GroupBoxOptions=void 0;const r=i(4),n=i(1),a=i(0),o=i(8);class l extends n.VrControlOptions{}t.GroupBoxOptions=l;class s extends n.VrControl{constructor(e,t){null==t&&(t=new l),null==t.width&&(t.width="100%"),null==t.title&&(t.title=""),null==t.collapsable&&(t.collapsable=!1),null==t.startingCollapsed&&(t.startingCollapsed=!1),!0===t.startingCollapsed&&(t.collapsable=!0),null==t.checkbox&&(t.checkbox=!1),null==t.startingChecked&&(t.startingChecked=!1),!0===t.startingChecked&&"string"!=typeof t.checkbox&&(t.checkbox=!0),null==t.scrollable&&(t.scrollable=!1),super(e,t,a.ControlTypeEnum.GroupBox);let i=a.puma(this.element()).html();a.puma(this.element()).empty();let r=a.puma("<h1 class='vrGroupBoxH1'></h1>").vrAppendToPuma(this.element());if(t.collapsable&&(this._btnCollapse=a.createButton({icon:a.IconClassLight.CaretUp,cssContainer:"float: left; margin-top: -2px;",css:"border: none; background: none;",onClick:e=>{this.collapsed()?this.expand():this.collapse()}},r)),!1!==t.checkbox&&(this._chkCheckbox=a.createCheckBox({checked:t.startingChecked,cssContainer:"float: left; margin-top: -1px;",onCheck:e=>{if(null!=t.onCheckboxClick){let i=new u;i.checked=e.checked,i.sender=this,t.onCheckboxClick(i)}}},r)),a.puma("<span class='vrGroupBoxTitle'>"+t.title+"</span>").vrAppendToPuma(r),null!=t.items){let e=a.div(r,{class:"vrGroupBoxDivItems"});for(let i of t.items)null!=i.cssContainer&&(i.cssContainer=""),i.cssContainer+="; margin-left: 5px;",a.createButton(i,e)}this._contentContainer=a.div(this.element(),{class:"vrGroupBoxContentContainer"}),t.scrollable&&(this._contentContainer.style.cssText+="max-height: 100%; overflow-y: auto;"),this.content(null!=i&&""!=i?i:t.content),t.startingCollapsed&&this.collapse()}content(e){return null!=e&&(a.puma(this._contentContainer).empty(),a.puma(this._contentContainer).append("string"==typeof e?e:a.puma(e))),this._contentContainer}title(e){return null!=e&&a.puma(this.element()).find(".vrGroupBoxTitle").html(e),a.puma(this.element()).find(".vrGroupBoxTitle").html()}collapse(){this._btnCollapse.tag("collapsed"),a.puma(this._contentContainer).hide(),this._btnCollapse.icon(a.IconClassLight.CaretDown);let e=this.getOptions();if(null!=e.onCollapse){let t=new d;t.sender=this,e.onCollapse(t)}}expand(){this._btnCollapse.tag(""),a.puma(this._contentContainer).show(),this._btnCollapse.icon(a.IconClassLight.CaretUp);let e=this.getOptions();if(null!=e.onExpand){let t=new c;t.sender=this,e.onExpand(t)}}collapsed(e){return null!=e&&(e?this.collapse():this.expand()),"collapsed"==this._btnCollapse.tag()}item(e){let t=a.puma(this.element()).find(".vrGroupBoxDivItems button[value='"+e+"']")[0];return null!=t?r.ControlManager.get(a.puma(t).attr("id")):null}enableItem(e){let t=this.item(e);null!=t&&t.enable()}disableItem(e){let t=this.item(e);null!=t&&t.disable()}showItem(e){let t=this.item(e);null!=t&&t.show()}hideItem(e){let t=this.item(e);null!=t&&t.hide()}check(e=!0){this._chkCheckbox.checked(!0,e)}unCheck(e=!0){this._chkCheckbox.checked(!1,e)}checked(e,t=!0){return null!=e&&(e?this.check(t):this.unCheck(t)),this._chkCheckbox.checked()}getOptions(){return this.options()}}t.GroupBox=s;class u{}class d{}class c{}o.ButtonOptions},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfViewer=t.PdfViewerOptions=void 0;const r=i(0),n=i(1),a=i(9),o=i(14),l=i(2),s=i(3);class u extends n.VrControlOptions{}t.PdfViewerOptions=u;class d extends n.VrControl{constructor(e,t){null==t&&(t=new u),null==t.base64&&(t.base64=!1),null==t.scale&&(s.DeviceManager.isMobile()?t.scale=.5:t.scale=1.3),null==t.textSelection&&(t.textSelection=!0),null==t.fileName&&(t.fileName="Documento"),null==t.tabIndex&&(t.tabIndex=-1),null==t.popup&&(t.popup=!1),!1!==t.popup&&(!0===t.popup&&(t.popup=new p),null==t.popup.maximize&&(t.popup.maximize=!1),null==t.popup.title&&(t.popup.title="Documento")),null==t.toolbar&&(t.toolbar=!0),!1!==t.toolbar&&(!0===t.toolbar&&(t.toolbar=new r.PdfViewerToolbarSettings),null==t.toolbar.navigation&&(t.toolbar.navigation=!0),null==t.toolbar.print&&(t.toolbar.print=!0),null==t.toolbar.zoom&&(t.toolbar.zoom=!0),null==t.toolbar.download&&(t.toolbar.download=!0),null==t.toolbar.items&&(t.toolbar.items=[])),super(e,t,r.ControlTypeEnum.PdfViewer),this.container().style.cssText+="display: flex;",this._state=new c(1,t.scale),!1!==t.popup&&(this._window=r.createWindow({addToControlList:!1,title:t.popup.title,footer:!1,closeable:t.popup.closeable,class:"vrWindowPdfViewer",classContainer:this.element().id+"_wndUtility",onOpen:t.popup.onOpen}));let i=!1===t.popup?this.element():this._window.element();this._divToolbar=r.div(i,{class:"vrPdfViewerDivToolbar"}),!1!==t.toolbar&&this.createToolbar(),this._pdfViewerCanvasContainer=r.puma("<div class='vrPdfViewerCanvasContainer'></div>").vrAppendToPuma(i)[0],r.puma(this._pdfViewerCanvasContainer).on("scroll",e=>{let t=Number(r.puma(this.canvasContainer()).find("canvas").attr("height"))+25,i=Math.trunc(r.puma(this._pdfViewerCanvasContainer).scrollTop()/t)+1;null!=this._txtCurrentPage&&this._txtCurrentPage.value(i,!1),this._currentPage=i}),!1===t.toolbar?(r.puma(this._divToolbar).hide(),r.puma(this.canvasContainer()).css("height","Calc(100% - 25px)")):r.puma(this.canvasContainer()).css("height","Calc(100% - 62px)"),this.content(t.content)}createToolbar(){let e=this.getOptions();e.toolbar=e.toolbar;let t=r.span(this.toolbar(),{class:"vrPdfViewer_toolbarLeftArea"});e.toolbar.navigation&&(r.createButton({icon:r.IconClassLight.Backward,css:"background: none; border: none;",onClick:e=>this._txtCurrentPage.value(1)},t),r.createButton({icon:r.IconClassLight.CaretLeft,css:"background: none; border: none; margin-right: 5px; font-size: 20px; margin-top: 1px;",onClick:e=>this._txtCurrentPage.value(this._currentPage-1)},t),this._txtCurrentPage=r.createTextBox({mode:r.TextModeEnum.Numeric,value:1,width:38,onChanged:e=>{let t=Number(e.value);Number(e.value)>this._state.pdf.numPages&&(t=this._state.pdf.numPages),Number(e.value)<1&&(t=1),this._currentPage=t,this._txtCurrentPage.value(t,!1);let i=Number(r.puma(this.canvasContainer()).find("canvas").attr("height"));r.puma(this.canvasContainer()).scrollTop((i+54)*(t-1))}},t),this._currentPage=1,this._lblPagesNumber=r.createLabel({text:"/ 3",cssContainer:"margin-left: 5px; margin-right: 10px; min-width: 20px;"},t),r.createButton({icon:r.IconClassLight.CaretRight,css:"background: none; border: none; font-size: 20px; margin-top: 1px;",onClick:e=>this._txtCurrentPage.value(this._currentPage+1)},t),r.createButton({icon:r.IconClassLight.Forward,css:"background: none; border: none;",onClick:e=>this._txtCurrentPage.value(this._state.pdf.numPages)},t));let i=r.span(this.toolbar(),{css:"justify-content: center;",class:"vrPdfViewer_toolbarCenterArea"});e.toolbar.zoom&&(r.createButton({icon:r.IconClassLight.MagnifyingGlassMinus,css:"border: none; background: none; font-size: 16px;",cssContainer:"margin-right: 5px;",tooltip:"Togli zoom",onClick:e=>{this._state.scale-=.2,this.content()}},i),r.createButton({icon:r.IconClassLight.MagnifyingGlassPlus,css:"border: none; background: none; font-size: 16px;",cssContainer:"margin-right: 5px;",tooltip:"Aumenta zoom",onClick:e=>{this._state.scale+=.2,this.content()}},i));let n=r.span(this.toolbar(),{css:"justify-content: flex-end;",class:"vrPdfViewer_toolbarRightArea"});e.toolbar.download&&r.createButton({icon:r.IconClassLight.Download,css:"border: none; background: none; font-size: 16px;",cssContainer:"margin-right: 5px;",tooltip:"Scarica",onClick:e=>this.download()},n),e.toolbar.print&&r.createButton({icon:r.IconClassLight.Print,css:"border: none; background: none; font-size: 16px;",tooltip:"Stampa",onClick:e=>this.print()},n),this.addToolbarItems(e.toolbar.items)}addToolbarItems(e){for(let t of e){let e=this.toolbarRightArea();switch(t.area){case r.PdfViewerToolbarAreaEnum.Left:e=this.toolbarLeftArea();break;case r.PdfViewerToolbarAreaEnum.Center:e=this.toolbarCenterArea();break;case r.PdfViewerToolbarAreaEnum.Right:e=this.toolbarRightArea()}let i=null!=t.css?t.css:"",n=null!=t.value?[{name:"value",value:t.value}]:void 0;r.createButton({icon:t.icon,text:t.text,attributes:n,css:"background: none; border: none;"+i,cssContainer:t.cssContainer,onClick:e=>{if(null!=t.onClick){let e=new r.ToolbarItemOnClickEvent;e.sender=this,e.text=t.text,e.value=t.value,t.onClick(e)}}},e)}}toolbar(){return this._divToolbar}toolbarLeftArea(){return this.toolbarArea(r.PdfViewerToolbarAreaEnum.Left)}toolbarCenterArea(){return this.toolbarArea(r.PdfViewerToolbarAreaEnum.Center)}toolbarRightArea(){return this.toolbarArea(r.PdfViewerToolbarAreaEnum.Right)}toolbarArea(e){let t=!1===this.getOptions().popup?this.container():this._window.container(),i="";switch(e){case r.PdfViewerToolbarAreaEnum.Left:i="vrPdfViewer_toolbarLeftArea";break;case r.PdfViewerToolbarAreaEnum.Center:i="vrPdfViewer_toolbarCenterArea";break;case r.PdfViewerToolbarAreaEnum.Right:i="vrPdfViewer_toolbarRightArea"}return r.puma(t).find("."+i)[0]}content(e){return new Promise(t=>{r.puma(this.canvasContainer()).empty();let i=this.getOptions();if(null!=e){a.LoaderManager.show(this.element()),i.content=e;pdfjsLib.getDocument(i.base64?{data:atob(e)}:e).promise.then(e=>{this._state.pdf=e,this.internalRender(),a.LoaderManager.hide();let i=this.getOptions();if(null!=i.onContentRendered){let e=new r.OnContentRenderedEvent;e.sender=this,e.pdf=this._state.pdf,i.onContentRendered(e)}null!=t&&t()},e=>{r.notifyError(e)})}else null!=i.content&&this.internalRender()})}internalRender(){let e=this._state.pdf.numPages;null!=this._lblPagesNumber&&this._lblPagesNumber.value("/ "+e);let t=this.getOptions();for(let i=1;i<=e&&null!=this._state.pdf;i++)this._state.pdf.getPage(i).then(e=>{let i=r.div(this.canvasContainer(),{class:"vrPdfViewer_divCanvasTextContainer"}),n=r.puma("<canvas style='border-top: solid 50px #e8e8e8;'></canvas>").vrAppendToPuma(i)[0],a=n.getContext("2d"),o=null;t.textSelection&&(o=r.puma("<div class='vrPdfViewer_divTextLayer'></div>").vrAppendToPuma(i)[0]);let l=e.getViewport({scale:this._state.scale});if(n.width=l.width,n.height=l.height,s.DeviceManager.isMobile()&&(n.width=l.width>window.innerWidth?window.innerWidth:l.width,n.height=l.height>window.innerHeight?window.innerHeight:l.height),!1!==t.popup)if(t.popup=t.popup,t.popup.maximize)this._window.maximize();else{let e=957;null!=t.popup.width&&(e=t.popup.width);let i=document.body.clientHeight-60;null!=t.popup.height&&(i=t.popup.height),this._window.width(e),this._window.element().style.cssText+="height: "+i+"px;",this._window.container().style.cssText+="height: "+(i+30)+"px;",this._window.center()}e.render({canvasContext:a,viewport:l}),t.textSelection&&e.getTextContent().then(e=>{pdfjsLib.renderTextLayer({textContent:e,container:o,viewport:l})})},e=>r.notifyError(e))}page(e){return null!=e&&this._txtCurrentPage.value(e),this._currentPage}fileName(e){return null!=e&&(this.getOptions().fileName=e),this.getOptions().fileName}download(){let e=this.getOptions();this.getData().then(t=>l.UtilityManager.downloadPdfBytes(t,e.fileName))}print(){this.getData().then(e=>o.PrintManager.printBytes(e))}async getData(){if(null!=this._state.pdf){let e=await this._state.pdf.getData();return l.UtilityManager.bytesToBase64(e)}return""}open(e){return new Promise(t=>{!1!==this.getOptions().popup&&(null!=e&&this.content(e).then(()=>{null!=t&&t()}),this._window.open())})}close(){this._window.close()}window(){return this._window}windowTitle(e){this._window.title(e)}windowCloseCallback(e){null!=this.window()&&this.window().close}getOptions(){return this.options()}canvasContainer(){return this._pdfViewerCanvasContainer}}t.PdfViewer=d;class c{constructor(e,t){this.currentPage=e,this.scale=t}}class p{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=t.UploadOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.UploadOptions=a;class o extends r.VrControl{constructor(e,t){null==t&&(t=new a),null==t.width&&(t.width="100%"),null==t.webApiSettings&&(t.webApiSettings=new l),null==t.multiple&&(t.multiple=!1),null==t.fileList&&(t.fileList=!0),null==t.fileListMaxHeight&&(t.fileListMaxHeight=200),null==t.async&&(t.async=!0),null==t.dropArea&&(t.dropArea=!0),!0!==t.dropArea&&null==t.progressBar&&(t.progressBar=!1),null==t.dropAreaText&&(t.dropAreaText="Trascina qui il file"),"boolean"==typeof t.dropArea&&(t.dropArea?t.dropAreaText="Trascina qui il file":t.dropAreaText=""),null==t.progressBar&&(t.progressBar=!0),null==t.uploadButton&&(t.uploadButton=!0),!0===t.uploadButton&&(t.uploadButton="Seleziona..."),null==t.autoUpload&&(t.autoUpload=!0),null==t.confirmToRemoveFile&&(t.confirmToRemoveFile=!1),null==t.canRemoveFile&&(t.canRemoveFile=!0),super(e,t,n.ControlTypeEnum.Upload);let i=null;this._files=[],this._dicFileXhr=new Map,this._divDropArea=null,!1!==t.dropArea?("boolean"==typeof t.dropArea&&t.dropArea?(this._divDropArea=n.div(this.element(),{class:"vrUploadDropArea"}),i=this._divDropArea):(i=this.element(),"string"==typeof t.dropArea?(t.dropArea.startsWith("#")||(t.dropArea="#"+t.dropArea),this._divDropArea=n.puma(t.dropArea)[0]):this._divDropArea=n.puma(t.dropArea)[0]),["dragenter","dragover","dragleave","drop"].forEach(e=>{this._divDropArea.addEventListener(e,e=>{e.preventDefault(),e.stopPropagation()},!1)}),n.puma(this._divDropArea).on("dragenter",e=>{if(null!=t.onDragEnter){let i=new c;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragEnter(i),e.isDefaultPrevented())return}n.puma(e.currentTarget).addClass("highlight")}),n.puma(this._divDropArea).on("dragover",e=>{if(null!=t.onDragOver){let i=new p;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragOver(i),e.isDefaultPrevented())return}n.puma(e.currentTarget).addClass("highlight")}),n.puma(this._divDropArea).on("dragleave",e=>{if(null!=t.onDragLeave){let i=new h;if(i.sender=this,i.element=e.currentTarget,i.event=e,t.onDragLeave(i),e.isDefaultPrevented())return}n.puma(e.currentTarget).removeClass("highlight")}),n.puma(this._divDropArea).on("drop",e=>{let i=[...e.originalEvent.dataTransfer.files];if(null!=t.onDrop){let r=new m;if(r.sender=this,r.files=i,r.event=e,t.onDrop(r),e.isDefaultPrevented())return}n.puma(e.currentTarget).removeClass("highlight"),this.manageLoadingFiles(i)})):i=this.element();let r="";t.multiple&&(r="multiple");let o=n.puma("<label for='"+this.element().id+"_vrUpload' class='vrUploadInput'><i class='"+n.IconClassLight.CloudArrowUp+" vrUploadBtnIcon'></i>"+t.uploadButton+"</label>").vrAppendToPuma(i);this._inputFile=n.puma("<input "+r+" id='"+this.element().id+"_vrUpload' type='file' style='display: none;'/>").vrAppendToPuma(i)[0],t.uploadButton||n.puma(o).hide(),!0===t.dropArea&&n.createLabel({text:String(t.dropAreaText),cssContainer:"margin-left: 5px;",css:"text-align: left; font-style: italic; color: #a0a0a0;"},this._divDropArea),n.puma(this._inputFile).on("change",e=>{let t=[...e.currentTarget.files];this.manageLoadingFiles(t)}),this._divProgressBar=n.puma("<progress class='vrUploadProgressBar' max=100 value=0></progress>").vrAppendToPuma(this.element())[0],n.puma(this._divProgressBar).hide(),this._divFileList=n.div(this.container(),{class:"vrUploadDivFileList",css:"display: none; max-height: "+t.fileListMaxHeight+"px;"})}uploadFiles(){for(let e=0;e<this._files.length;e++){let t=this._files[e];this.uploadFile(t,e,!1)}}addFile(e){this.addFiles([e])}addFiles(e){this.manageLoadingFiles(e)}getFiles(){return this._files}removeFileAtIndex(e){let t=n.puma(this.divFileList()).find(".vrUploadDivFile:nth-child("+(e+1)+")")[0];n.puma(t).remove(),this._dicFileXhr.delete(this._files[e]),this._files.splice(e,1),0==this._files.length&&this.clear()}manageLoadingFiles(e){if(!this.enabled())return;let t=this.getOptions();if(this.initializeProgress(e.length),null!=t.onStart){let i=new y;if(i.sender=this,i.files=e,t.onStart(i),i.isDefaultPrevented())return}t.fileList&&(n.puma(this.divFileList()).show(),0==t.multiple&&n.puma(this.element()).hide());let i=[];for(let r=0;r<e.length;r++){let a=e[r];if(null!=t.validation){if(null==t.validation.showFileIfError&&(t.validation.showFileIfError=!0),null==t.validation.checkMimeType&&(t.validation.checkMimeType=!1),null!=t.validation.minSize&&a.size<t.validation.minSize){let e=null==t.validation.minSizeErrorMessage?"Dimensione minima consentita: "+this.formatBytes(t.validation.minSize):t.validation.minSizeErrorMessage;n.notify(e,{type:n.NotifierTypeEnum.Error}),t.validation.showFileIfError&&this.drawFile(a,_.ErrorValidationMinSize),t.fileList||this.manageValidationError(n.UploadValidationErrorTypeEnum.MinSize,a);continue}if(null!=t.validation.maxSize&&a.size>t.validation.maxSize){let e=null==t.validation.maxSizeErrorMessage?"Dimensione massima consentita: "+this.formatBytes(t.validation.maxSize):t.validation.maxSizeErrorMessage;n.notify(e,{type:n.NotifierTypeEnum.Error}),t.validation.showFileIfError&&this.drawFile(a,_.ErrorValidationMaxSize),t.fileList||this.manageValidationError(n.UploadValidationErrorTypeEnum.MaxSize,a);continue}if(null!=t.validation.extensions&&"."!=t.validation.extensions[0]&&"*"!=t.validation.extensions[0]){let e=!0;if(t.validation.checkMimeType){let i=[];for(let e of t.validation.extensions)i.vrPushRange(this.getMimeTypeFromExtension(e.toLowerCase()));e=i.includes(a.type.toLowerCase())}else{let i=a.name.split("."),r=i[i.length-1].toLowerCase();e=t.validation.extensions.map(e=>e.replace(".","").toLowerCase()).includes(r)}if(!e){let e=null==t.validation.extensionsErrorMessage?"Estensioni consentite: "+t.validation.extensions:t.validation.extensionsErrorMessage;n.notify(e,{type:n.NotifierTypeEnum.Error}),t.validation.showFileIfError&&this.drawFile(a,_.ErrorValidationExtensions),t.fileList||this.manageValidationError(n.UploadValidationErrorTypeEnum.Extensions,a);continue}}}i.push(a),t.autoUpload?this.uploadFile(a,r,!0):(this._files.push(a),this.drawFile(a,_.Default),n.puma(this.progressBar()).hide())}0==i.length&&n.puma(this.progressBar()).hide(),i=[]}drawFile(e,t){let i=this.getOptions();if(i.fileList){let r=n.div(this._divFileList,{class:"vrUploadDivFile"}),a=this.formatBytes(e.size),o=this.getFileInfo(e.type);n.icon(o.icon,r,{css:"color: "+o.color+";",class:"vrUploadFileIcon"});let l="<span class='vrUploadLblUnderFileName' style='color: #a0a0a0;'>"+a+"</span>";if(t==_.ErrorValidationExtensions||t==_.ErrorValidationMaxSize||t==_.ErrorValidationMinSize){let i=n.UploadValidationErrorTypeEnum.MinSize;switch(t){case _.ErrorValidationMinSize:i=n.UploadValidationErrorTypeEnum.MinSize;break;case _.ErrorValidationMaxSize:i=n.UploadValidationErrorTypeEnum.MaxSize;break;case _.ErrorValidationExtensions:i=n.UploadValidationErrorTypeEnum.Extensions}let r=this.manageValidationError(i,e);""!=r&&(l="<span class='vrUploadLblUnderFileName' style='color: red;'>"+r+"</span>")}n.createLabel({width:"Calc(100% - 53px)",text:"<span class='vrUploadFileName' style='font-size: 14px; font-weight: 600;'>"+e.name+"</span>"+l,noBr:4,class:"vrUploadFileDescription"},r);let s=n.span(r,{class:"vrUploadDivFilePercentage"});n.createLabel({visible:t==_.TempLoading,class:"vrUploadFilePercentage",fontSize:11},s);let u=n.icon(n.IconClassLight.Spinner,s,{class:"vrUploadFileSpinner"});return t!=_.TempLoading&&n.puma(u).hide(),n.createButton({icon:t==_.TempLoading?n.IconClassLight.Trash:n.IconClassRegular.Xmark,cssContainer:"width: 14px; margin-left: 5px;",css:"border: none; background: none; font-size: 18px; color: red; width: 14px; padding: 0px;",class:"vrUploadFileButtonAction",visible:i.canRemoveFile,onClick:t=>{if(t.sender.icon().classList.contains("fa-trash")){if(null!=i.onAbort){let t=new x;if(t.sender=this,t.xhr=this._dicFileXhr.get(e),t.file=e,i.onAbort(t),t.isDefaultPrevented())return}this._dicFileXhr.get(e).abort()}else i.confirmToRemoveFile?n.confirm("Confermi di voler rimuovere il file?").then(()=>{n.puma(r).remove(),this.removeFile(r,e)}):(n.puma(r).remove(),this.removeFile(r,e))}},r),r}return null}manageValidationError(e,t){let i=this.getOptions(),r="";if(e==n.UploadValidationErrorTypeEnum.MinSize&&(r=null==i.validation.minSizeErrorMessage?"Dimensione minima consentita: "+this.formatBytes(i.validation.minSize):i.validation.minSizeErrorMessage),e==n.UploadValidationErrorTypeEnum.MaxSize&&(r=null==i.validation.maxSizeErrorMessage?"Dimensione massima consentita: "+this.formatBytes(i.validation.maxSize):i.validation.maxSizeErrorMessage),e==n.UploadValidationErrorTypeEnum.Extensions&&(r=null==i.validation.extensionsErrorMessage?"Estensioni consentite: "+i.validation.extensions:i.validation.extensionsErrorMessage),""!=r&&null!=i.onValidationError){let n=new C;n.sender=this,n.file=t,n.message=r,n.type=e,i.onValidationError(n)}return r}removeFile(e,t){let i=this.getOptions();if(null!=i.onRemove){let r=new w;if(r.sender=this,r.element=e,r.file=t,r.index=this.getFiles().indexOf(t),i.onRemove(r),r.isDefaultPrevented())return}this._files.vrDelete(t),this._dicFileXhr.delete(t),0==this._files.length&&this.clear()}uploadFile(e,t,i=!0){let r=this.getOptions();var a=r.webApiSettings.url,o=new XMLHttpRequest;if(o.open("POST",a,r.async),null!=r.webApiSettings.parameters){let t=[];if(Array.isArray(r.webApiSettings.parameters))t=r.webApiSettings.parameters;else{let i=new u;i.sender=this,i.file=e,t=r.webApiSettings.parameters(i)}for(let e of t)o.setRequestHeader(e.key,e.value)}let l=null;i&&(this._files.push(e),this._dicFileXhr.set(e,o),l=this.drawFile(e,_.TempLoading)),o.upload.addEventListener("progress",e=>{if(null!=r.onProgress){let t=new f;if(t.sender=this,t.loaded=e.loaded,t.total=e.total,t.event=e,r.onProgress(t),t.isDefaultPrevented())return}r.progressBar&&this.updateProgress(t,100*e.loaded/e.total||100);let i=Math.round(100*e.loaded/e.total||99);100==i&&(i=99),n.puma(l).find(".vrUploadFilePercentage").html(i+"%")}),o.addEventListener("readystatechange",t=>{if(4==o.readyState&&200==o.status){if(null!=r.onSuccess){let i=new b;if(i.sender=this,i.status=o.status,i.statusText=o.statusText,i.response=JSON.parse(o.response),i.xhr=o,i.event=t,i.file=e,r.onSuccess(i),i.isDefaultPrevented())return}if(n.puma(this.progressBar()).hide(),null!=l){let e=n.puma(l).find(".vrUploadFileButtonAction").find(".vrIcon")[0],t=e.className.split(/\s+/).filter(e=>e.startsWith("fa-"));for(let i of t)e.classList.remove(i);n.puma(e).addClass(n.IconClassRegular.Xmark),n.puma(l).find(".vrUploadDivFilePercentage").remove(),n.puma(l).find(".vrUploadFileName").vrAppendPuma("<i class='"+n.IconClassLight.Check+"' style='color: green; margin-left: 5px;' title='File caricato correttamente'></i>")}}else if(4==o.readyState&&200!=o.status){if(null!=r.onError){let i=new v;if(i.sender=this,i.status=o.status,i.statusText=o.statusText,i.response=0!=o.status?JSON.parse(o.response):{},i.xhr=o,i.event=t,i.file=e,r.onError(i),i.isDefaultPrevented())return void t.preventDefault()}if(n.puma(this.progressBar()).hide(),null!=l){let t=n.puma(l).find(".vrUploadFileButtonAction").find(".vrIcon")[0],i=t.className.split(/\s+/).filter(e=>e.startsWith("fa-"));for(let e of i)t.classList.remove(e);n.puma(t).addClass(n.IconClassRegular.Xmark);let r=n.puma(l).find("i.vrUploadFileIcon");r.removeClass(),r.addClass(n.IconClassLight.TriangleExclamation+" vrUploadFileIcon"),r[0].style.cssText+="color: red; margin-left: -3px;",n.puma(l).find(".vrUploadDivFilePercentage").remove(),n.puma(l).find(".vrUploadFileDescription").html("<span class='vrUploadFileName' style='font-weight: 600; font-size: 14px;'>"+e.name+"</span><span class='vrUploadLblUnderFileName' style='color: red;'>File non caricato correttamente, o procedura interrotta</span>")}}});var s=new FormData;s.append("file",e),o.send(s)}initializeProgress(e){this.getOptions().progressBar&&n.puma(this.progressBar()).show(),n.puma(this.progressBar())[0].value=0,this._uploadProgress=[];for(let t=e;t>0;t--)this._uploadProgress.push(0)}updateProgress(e,t){this._uploadProgress[e]=t;let i=this._uploadProgress.reduce((e,t)=>e+t,0)/this._uploadProgress.length;n.puma(this.progressBar())[0].value=i}dropArea(){return this._divDropArea}divFileList(){return this._divFileList}progressBar(){return this._divProgressBar}uploadButton(){return this._inputFile}formatBytes(e){if(Math.abs(e)<1024)return e+" B";const t=["kB","MB","GB","TB","PB","EB","ZB","YB"];let i=-1;do{e/=1024,++i}while(Math.round(100*Math.abs(e))/100>=1024&&i<t.length-1);return e.toFixed(2)+" "+t[i]}getFileInfo(e){let t=n.IconClassLight.File,i="#51B3E1";switch(e){case"application/pdf":t=n.IconClassLight.FilePdf,i="coral";break;case"image/png":case"image/jpeg":t=n.IconClassLight.FileImage,i="#adbd29";break;case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t=n.IconClassLight.FileWord,i="#01A6F0";break;case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t=n.IconClassLight.FileExcel,i="#1D6F42";break;case"text/plain":t=n.IconClassLight.FileLines,i="#bdbdbd";break;case"application/zip":case"application/x-zip-compressed":case"application/x-compressed":case"multipart/x-zip":t=n.IconClassLight.FileZipper,i="#b1b4d3";break;case"video/mp4":case"video/3gpp":case"video/x-flv":case"video/quicktime":case"video/x-msvideo":case"video/x-ms-wmv":t=n.IconClassLight.FileVideo,i="purple"}return{icon:t,color:i}}getMimeTypeFromExtension(e){let t=[],i=e.split(".");switch(e=i[i.length-1]){case"html":case"htm":case"shtml":t=[""];break;case"css":t=["text/css"];break;case"xml":t=["text/xml"];break;case"gif":t=["image/gif"];break;case"jpeg":case"jpg":t=["image/jpeg"];break;case"js":t=["application/x-javascript"];break;case"txt":t=["text/plain"];break;case"png":t=["image/png"];break;case"tif":case"tiff":t=["image/tiff"];break;case"ico":t=["image/x-icon"];break;case"bmp":t=["image/x-ms-bmp"];break;case"svg":t=["image/svg+xml"];break;case"doc":case"dot":t=["application/msword"];break;case"docx":t=["application/vnd.openxmlformats-officedocument.wordprocessingml.document"];break;case"dotx":t=["application/vnd.openxmlformats-officedocument.wordprocessingml.template"];break;case"docm":t=["application/vnd.ms-word.document.macroEnabled.12"];break;case"dotm":t=["application/vnd.ms-word.template.macroEnabled.12"];break;case"pdf":t=["application/pdf"];break;case"rtf":t=["application/rtf"];break;case"csv":t=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"];break;case"mdb":t=["application/vnd.ms-access"];break;case"xls":case"xlt":case"xla":t=["application/vnd.ms-excel"];break;case"xlsx":t=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];break;case"xltx":t=["application/vnd.openxmlformats-officedocument.spreadsheetml.template"];break;case"xlsm":t=["application/vnd.ms-excel.sheet.macroEnabled.12"];break;case"xltm":t=["application/vnd.ms-excel.template.macroEnabled.12"];break;case"xlam":t=["application/vnd.ms-excel.addin.macroEnabled.12"];break;case"xlsb":t=["application/vnd.ms-excel.sheet.binary.macroEnabled.12"];break;case"ppt":case"pot":case"pps":case"ppa":t=["application/vnd.ms-powerpoint"];break;case"pptx":t=["application/vnd.openxmlformats-officedocument.presentationml.presentation"];break;case"potx":t=["application/vnd.openxmlformats-officedocument.presentationml.template"];break;case"ppsx":t=["application/vnd.openxmlformats-officedocument.presentationml.slideshow"];break;case"ppam":t=["application/vnd.ms-powerpoint.addin.macroEnabled.12"];break;case"pptm":t=["application/vnd.ms-powerpoint.presentation.macroEnabled.12"];break;case"potm":t=["application/vnd.ms-powerpoint.template.macroEnabled.12"];break;case"ppsm":t=["application/vnd.ms-powerpoint.slideshow.macroEnabled.12"];break;case"p7m":t=["application/pkcs7-mime","application/x-pkcs7-mime"];break;case"p12":t=["application/pkcs-12","application/x-pkcs12"];break;case"7z":t=["application/x-7z-compressed"];break;case"rar":t=["application/x-rar-compressed"];break;case"zip":t=["application/x-zip-compressed"];break;case"bin":case"exe":case"dll":case"deb":case"dmg":case"eot":case"iso":case"img":case"msi":case"msp":case"msm":t=["application/octet-stream"];break;case"mp3":t=["audio/mpeg"];break;case"3ggp":case"3gp":t=["video/3gpp"];break;case"mpeg":case"mpg":t=["video/mpeg"];break;case"mov":t=["video/quicktime"];break;case"flv":t=["video/x-flv"];break;case"wmv":t=["video/x-ms-wmv"];break;case"avi":t=["video/x-msvideo"];break;case"m4v":case"m4p":t=["video/mp4"]}return t}clear(){this._files=[],n.puma(this.divFileList()).hide(),n.puma(this.divFileList()).empty(),this.uploadButton().value="",n.puma(this.progressBar()).hide(),this.progressBar().value=0,n.puma(this.element()).show()}open(){n.puma(this.uploadButton()).click()}enable(){super.enable(),window.setTimeout(()=>this.uploadButton().removeAttribute("disabled"))}disable(){super.disable(),window.setTimeout(()=>this.uploadButton().setAttribute("disabled","disabled"))}getOptions(){return this.options()}}t.Upload=o;class l{}class s extends r.VrControlsEvent{}class u extends s{}class d extends s{}class c extends d{}class p extends d{}class h extends d{}class m extends s{}class f extends s{}class g extends s{}class v extends g{}class b extends g{}class C extends s{}class x extends s{}class y extends s{}var _;!function(e){e[e.Default=0]="Default",e[e.TempLoading=1]="TempLoading",e[e.ErrorValidationMinSize=2]="ErrorValidationMinSize",e[e.ErrorValidationMaxSize=3]="ErrorValidationMaxSize",e[e.ErrorValidationExtensions=4]="ErrorValidationExtensions"}(_||(_={}));class w extends s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaypalButton=t.PaypalButtonOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.PaypalButtonOptions=a;class o extends r.VrControl{constructor(e,t){if(null==t&&(t=new a),null==t.style&&(t.style=new l),null==t.style.color&&(t.style.color=n.PaypalStyleColorEnum.Gold),null==t.style.size&&(t.style.size=n.PaypalStyleSizeEnum.Responsive),null==t.style.shape&&(t.style.shape=n.PaypalStyleShapeEnum.Rect),null==t.style.height&&(t.style.height=30),null==t.style.tagline&&(t.style.tagline=!1),null==t.style.fundingicons&&(t.style.fundingicons=!0),null==t.style.layout&&(t.style.layout=n.PaypalStyleLayoutEnum.Horizontal),null==t.enableStandardCardFields&&(t.enableStandardCardFields=!0),null==t.intent&&(t.intent="CAPTURE"),null==t.createOrderRequest&&(t.createOrderRequest=new u),null==t.createOrderRequest.authKey&&(t.createOrderRequest.authKey="1D7822D72F5397BEF65D677C89E85"),null==t.createOrderRequest.method&&(t.createOrderRequest.method="/api/PaypalWebApi/CreatePayment/"),null==t.approveRequest&&(t.approveRequest=new d),null==t.approveRequest.authKey&&(t.approveRequest.authKey="1D7822D72F5397BEF65D677C89E85"),null==t.approveRequest.method&&(t.approveRequest.method="/api/PaypalWebApi/ExecutePayment/"),super(e,t,n.ControlTypeEnum.PaypalButton),null!=t.setupUrl){if(null==t.setupUrl.clientId)throw Error("PayPal clientId obbligatorio");null==t.setupUrl.currency&&(t.setupUrl.currency="EUR"),null==t.setupUrl.intent&&(t.setupUrl.intent="capture"),null==t.setupUrl.commit&&(t.setupUrl.commit=!1),null==t.setupUrl.locale&&(t.setupUrl.locale="it_IT"),n.puma.getScript("<script src='https://www.paypal.com/sdk/js?client-id="+t.setupUrl.clientId+"&currency="+t.setupUrl.currency+"&intent="+t.setupUrl.intent+"&commit="+t.setupUrl.commit+"&locale="+t.setupUrl.locale+"'><\/script>").then(()=>this.renderButton())}else this.renderButton()}renderButton(){let e=this.getOptions();paypal.Buttons({enableStandardCardFields:e.enableStandardCardFields,style:e.style,createOrder:(t,i)=>{if(n.showLoader(e.createOrderRequest.loader),null!=e.onBeforePayment){let t=new h;if(t.sender=this,e.onBeforePayment(t),t.isDefaultPrevented())return n.hideLoader(),!1}let r=this.prepareWebApiCall(e.createOrderRequest,c.CreateOrder);return fetch(e.createOrderRequest.method,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(r)}).then(e=>e.json()).then(t=>{if(null!=t.token&&""!=t.token)return null!=e.createOrderRequest.successNotificationMessage&&(!0===e.createOrderRequest.successNotificationMessage&&(e.createOrderRequest.successNotificationMessage="Pagamento creato correttamente"),!1!==e.createOrderRequest.successNotificationMessage&&n.notify(e.createOrderRequest.successNotificationMessage)),null!=e.createOrderRequest.callback&&e.createOrderRequest.callback(t),t.token;this.manageError(e.createOrderRequest,c.SetupError,t)},t=>{n.hideLoader(),this.manageError(e.createOrderRequest,c.CreateOrder)})},onApprove:(t,i)=>{let r=this.prepareWebApiCall(e.approveRequest,c.OnApprove,t);return n.showLoader(e.approveRequest.loader),fetch(e.approveRequest.method,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(r)}).then(t=>{n.hideLoader(),1==t.ok?(null!=e.approveRequest.successNotificationMessage&&(!0===e.approveRequest.successNotificationMessage&&(e.approveRequest.successNotificationMessage="Pagamento creato correttamente"),!1!==e.approveRequest.successNotificationMessage&&n.notify(e.approveRequest.successNotificationMessage)),null!=e.approveRequest.callback&&e.approveRequest.callback(t)):this.manageError(e.createOrderRequest,c.OnApprove,t)},t=>{n.hideLoader(),this.manageError(e.createOrderRequest,c.OnApprove,t)})},onCancel:(t,i)=>{if(n.hideLoader(),null!=e.onCancel){let r=new p;r.sender=this,r.data=t,r.actions=i,e.onCancel(r)}},onError:e=>{n.hideLoader(),n.notify("Si è verificato un errore",{type:n.NotifierTypeEnum.Error})}}).render(this.element()).then(()=>{if(null!=e.onRendered){let t=new m;t.sender=this,e.onRendered(t)}})}prepareWebApiCall(e,t,i=null){let r={};if(r.AuthKey=e.authKey,e.method.startsWith("api/")&&(e.method="/"+e.method),e.method.endsWith("/")||(e.method=e.method+"/"),t==c.CreateOrder?(null!=e.cancelUrl&&(r[e.cancelUrl]=e.cancelUrl),null!=e.returnUrl&&(r[e.returnUrl]=e.returnUrl)):t==c.OnApprove&&null!=i&&(null==e.paymentIdPropertyName&&(e.paymentIdPropertyName="paymentId"),r[e.paymentIdPropertyName]=i.paymentID,null==e.payerIdPropertyName&&(e.payerIdPropertyName="payerId"),r[e.payerIdPropertyName]=i.payerID),null!=e.otherParameters){let t=Object.getOwnPropertyNames(e.otherParameters);for(let i of t)r[i]=e.otherParameters[i]}if(null!=e.parameters){let t=e.parameters(),i=Object.getOwnPropertyNames(t);for(let e of i)r[e]=t[e]}return r}manageError(e,t,i){if(null!=e.errorNotificationMessage){if(!0===e.errorNotificationMessage){let r="";switch(t){case c.SetupError:r=String(i.Result.Response);break;case c.CreateOrder:r="Si è verificato un errore nella creazione del pagamento";break;case c.OnApprove:r="Il pagamento della transazione non è andato a buon fine"}e.errorNotificationMessage=r}!1!==e.errorNotificationMessage&&n.notify(e.errorNotificationMessage,{type:n.NotifierTypeEnum.Error})}else null!=i?null!=i.Result.Response?n.notify(i.Result.Response,{type:n.NotifierTypeEnum.Error}):n.notify(i.Result.Message,{type:n.NotifierTypeEnum.Error}):n.notify("Si è verificato un errore",{type:n.NotifierTypeEnum.Error});null!=e.errorCallback&&e.errorCallback(i)}getOptions(){return this.options()}}t.PaypalButton=o;class l{}class s{}class u extends s{}class d extends s{}var c;!function(e){e[e.CreateOrder=0]="CreateOrder",e[e.SetupError=1]="SetupError",e[e.OnApprove=2]="OnApprove"}(c||(c={}));class p extends r.VrControlsEvent{}class h extends r.VrControlsEvent{}class m extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewCellSettings=t.TreeViewHeaderSettings=t.TreeViewHeaderAndCellSettings=t.TreeViewContextMenuClickEvent=t.TreeView=t.TreeViewOptions=void 0;const r=i(4),n=i(2),a=i(1),o=i(0),l=i(7),s=i(5),u=i(6);class d extends a.VrControlOptions{}t.TreeViewOptions=d;class c extends a.VrControl{constructor(e,t){if(null==t&&(t=new d),null==t.checkboxes&&(t.checkboxes=!1),null==t.treeMode&&(t.treeMode=o.TreeModeEnum.AllExpanded),null==t.showLink&&(t.showLink=!0),null==t.rightClickForContextMenu&&(t.rightClickForContextMenu=!1),null==t.leftClickForContextMenu&&(t.leftClickForContextMenu=!1),null==t.parentClickable&&(t.parentClickable=!1),null==t.contextMenuItems&&(t.contextMenuItems=[]),null==t.showEditButton&&(t.showEditButton=!1),null!=t.onEdit&&(t.showEditButton=!0),null==t.draggable&&(t.draggable=!1),null==t.onDragStart&&null==t.onDragMove&&null==t.onDragEnd||(t.draggable=!0),null==t.alternateColor&&(t.alternateColor=!1),null==t.spaceBetweenGroups&&(t.spaceBetweenGroups=!1),null!=t.rowLine&&t.rowLine>1&&null==t.rowHeight&&(t.rowHeight=20*t.rowLine),1==t.rowLine&&(t.rowLine=void 0),null==t.rowHeight&&(t.rowHeight=27),null==t.selectable&&(t.selectable=!0),null==t.dataSourceFieldId&&(t.dataSourceFieldId="id"),null==t.export&&(t.export=!1),!1!==t.export&&null==t.title&&(t.title=""),!0===t.export&&(t.export=new w),null==t.filter&&(t.filter=!1),!0===t.filter&&(t.filter=new o.TreeViewFilterSettings),!1!==t.filter&&null==t.filter.onlyParents&&(t.filter.onlyParents=!1),super(e,t,o.ControlTypeEnum.TreeView),this.element().style.cssText+="height: 100%;",this._checkedValues=[],null!=t.columns&&null==t.title&&(t.title=""),(null!=t.title||null!=t.columns||!1!==t.export)&&(this._divTitle=o.puma("<div style='position: relative; display: flex;' class='vrTreeView_divTitle'></div>")[0],o.puma(this.element()).vrPrependPuma(this._divTitle),o.createButton({text:"Excel",icon:o.IconClassLight.FileExcel,css:"height: 24px;",colorSettings:{background:"#008a00",textColor:"#FFF"},cssContainer:"position: absolute; z-index: 9; top: 3px; left: 5px;",visible:!1!==t.export,onClick:e=>{this.excelExport()}},this._divTitle),null!=t.title&&(this._lblTitle=o.createLabel({text:t.title,css:"padding: 5px; height: 19px; border-radius: unset; width: Calc(100% - 10px);",colorSettings:{background:"#e3f1fa",textColor:"#000"},align:o.TextAlignEnum.Center,width:"Calc(100% - "+this.widthColumns()+"px)",cssContainer:"display: block !important; height: 29px;"},this._divTitle)),null!=t.columns)){for(let e of t.columns){let t=null!=e.width?e.width:100,i=o.div(this._divTitle,{css:"width: "+t+"px;",class:"vrTreeViewColumn",attributes:[{name:"field",value:e.field}]});o.createLabel({text:null!=e.title?e.title:"",cssContainer:"padding-left: 5px; padding-right: 5px;"},i)}this._divHeaderSpace=o.div(this._divTitle,{css:"background-color: #e3f1fa; width: 17px; display: none;"})}if(null!=t.toolbar){this._divToolbar=o.puma("<div id='"+e.id+"Toolbar' class='treeView_divToolbar'></div>").vrPrependToPuma(this.element())[0];for(let e of t.toolbar)this.addToolbarItem(e)}let i=0;this._txtSearchFilter=o.createTextBox({width:"100%",icon:o.IconClassLight.Search,placeholder:"Cerca...",class:"vrTreeViewFilter",visible:!1!==t.filter,cssContainer:"margin-top: 1px;",onKeyDown:e=>{this.limitInputByDataSource(e.sender.element(),e)},onKeyUp:e=>{this.limitInputByDataSource(e.sender.element(),e),clearTimeout(i),i=window.setTimeout(()=>{let t=e.sender.value();this.filter(t)},200)}},this.element());let r=null!=t.title?29:0,n=!1!==t.filter?27:0,a=null!=t.toolbar?34:0;this._divContent=o.div(this.element(),{css:"display: flex; height: Calc(100% - "+(r+n+a)+"px);",class:"vrTreeViewDivContent"}),27!=t.rowHeight&&o.addCssStyle("\n\t\t\t\t#"+this.element().id+" .vrTreeViewLiLink::after {\n\t\t\t\t\ttop: "+t.rowHeight/2+"px !important;\n\t\t\t\t}\n\t\t\t\t#"+this.element().id+" .vrTreeViewLiLink:last-child::before {\n\t\t\t\t\theight: "+(t.rowHeight/2+1)+"px !important;\n\t\t\t\t}\n\t\t\t\t#"+this.element().id+" .vrTreeViewLiLink.vrTreeViewLiFirstChild:last-child::before {\n\t\t\t\t\theight: 0px !important;\n\t\t\t\t}\n\t\t\t"),null!=t.datasource&&this.datasource(t.datasource),null!=t.rebind&&!0===t.rebind.rebindAtStartup&&this.doWebApiCall(t.rebind,D.Rebind)}datasource(e){if(null!=e){this._items=e,0==this.getRootItems().length?o.puma(this.element()).addClass("vrTreeViewFlat"):o.puma(this.element()).removeClass("vrTreeViewFlat"),this._tempRebindInfo=new k,this._tempRebindInfo.selectedValue=this.value();let t=[],i=o.puma(this.container()).find(".vrTreeViewLi .caret-down");for(let e of Array.from(i))t.push(e.parentElement.getAttribute("value"));this._tempRebindInfo.parentExpandedValueList=t;let r=o.puma(this.container()).find(".vrTreeViewUl").first();null!=r[0]&&(this._tempRebindInfo.yPosition=r[0].scrollTop),this.drawDataSource();for(let e of this._tempRebindInfo.parentExpandedValueList){let t=this._dictionaryValueLi.get(e);if(null!=t){let e=o.puma(t).find(".vrTreeViewDivIconExpand")[0];null!=e&&o.puma(e).hasClass("caret-right")&&o.puma(e).click()}}null!=this._tempRebindInfo.selectedValue&&""!=this._tempRebindInfo.selectedValue&&this._tempRebindInfo.selectedValue.length>0&&this.value(this._tempRebindInfo.selectedValue,!1),o.puma(this.container()).find(".vrTreeViewUl").first().scrollTop(this._tempRebindInfo.yPosition)}return this._items}rebind(e,t){return new Promise(i=>{let r=this.getOptions();null!=r.rebind&&(r.rebind.otherParameters=void 0,null!=e&&(r.rebind.otherParameters=e),r.rebind.tempLoadingElement=t,this.doWebApiCall(r.rebind,D.Rebind,i))})}update(){this.datasource(this.datasource())}drawDataSource(){let e=this.getOptions();o.puma(this._divContent).empty();let t=this.datasource();if(1==t.length&&null==t[0])return;let i=o.div(this._divContent,{css:"width: 100%;"});this._dictionaryValueLi=new Map,this._dictionaryLiValue=new Map,t=t.filter(e=>null==e.parentValue||"0"==e.parentValue||""==e.parentValue),this.drawItems(t,i),e.alternateColor&&window.setTimeout(()=>{let e=!0;for(let t of Array.from(o.puma(this.container()).find(".vrTreeViewDivItemContainer")))e=!e,e?$(t).css("background-color","#fff"):$(t).css("background-color","#f3f3f3")}),null!=this._lblTitle&&(this._lblTitle.width("Calc(100% - "+this.widthColumns()+"px)"),this._lblTitle.element().style.cssText+="width: Calc(100% - 10px) !important;"),this.manageScrollbar(),null!=this._txtSearchFilter.value()&&""!=this._txtSearchFilter.value()&&this.filter(this._txtSearchFilter.value())}manageScrollbar(){let e=this.getOptions();o.puma(this.container()).find(".vrTreeViewUl").first().vrHasScrollBar()?null!=e.columns&&(o.puma(this._divHeaderSpace).show(),null!=this._lblTitle&&this._lblTitle.width("Calc(100% - "+(this.widthColumns()+17)+"px)")):o.puma(this._divHeaderSpace).hide()}drawItems(e,t){let i=this.getOptions();if(0==e.length)return;let r=o.puma("<ul class='vrTreeViewUl' style='height: 100%; overflow-y: auto;'></ul>").vrAppendToPuma(t),a=0;for(let t of e){null==t.value&&(t.value=t.text);let e=i.showLink?"vrTreeViewLiLink":"",l=o.puma("<li class='vrTreeViewLi "+e+"' tabindex='-1' parentValue='"+t.parentValue+"' value='"+t.value+"'></li>").vrAppendToPuma(r);if(this._dictionaryLiValue.set(l[0],t.value),this._dictionaryValueLi.has(t.value)){let e=this._dictionaryValueLi.get(t.value);e.push(l[0]),this._dictionaryValueLi.set(t.value,e)}else this._dictionaryValueLi.set(t.value,[l[0]]);i.treeMode==o.TreeModeEnum.AllCollapsed?null!=t.parentValue&&"0"!=t.parentValue&&o.puma(l).closest(".vrTreeViewUl").hide():i.treeMode==o.TreeModeEnum.OnlyFirstLevelExpanded&&o.puma(l).parents(".vrTreeViewUl").length>2&&o.puma(l).closest(".vrTreeViewUl").hide();let s=this.getOnlyChildrenItems(t);if(s.length>0){i.spaceBetweenGroups&&a>0&&(l[0].style.cssText+="margin-top: 20px;");let e="",r=o.IconClassLight.CaretRight;i.treeMode==o.TreeModeEnum.AllCollapsed?null!=t.parentValue&&(r=o.IconClassLight.CaretRight,e="caret-right"):i.treeMode==o.TreeModeEnum.OnlyFirstLevelExpanded?1==o.puma(l).parents(".vrTreeViewUl").length?(r=o.IconClassLight.CaretDown,e="caret-down"):(r=o.IconClassLight.CaretRight,e="caret-right"):(r=o.IconClassLight.CaretDown,e="caret-down");let s=o.puma("<div class='vrTreeViewDivIconExpand "+e+"' style='height: "+i.rowHeight+"px;'></div>").vrAppendToPuma(l);o.puma(n.UtilityManager.createIcon(r)).vrAppendToPuma(s),o.puma(s).click(e=>{o.puma(e.currentTarget).children("i").removeClass(o.IconClassLight.CaretRight+" "+o.IconClassLight.CaretDown),o.puma(e.currentTarget).removeClass("caret-right caret-down");let t=o.puma(e.currentTarget).siblings(".vrTreeViewUl");t.first().is(":visible")?(t.hide(),o.puma(e.currentTarget).children("i").addClass(o.IconClassLight.CaretRight),o.puma(e.currentTarget).addClass("caret-right")):(t.show(),o.puma(e.currentTarget).children("i").addClass(o.IconClassLight.CaretDown),o.puma(e.currentTarget).addClass("caret-down")),this.manageScrollbar()})}let u=o.puma("<div class='vrTreeViewDivItemContainer' style='height: "+i.rowHeight+"px;'></div>").vrAppendToPuma(l);if(i.checkboxes){let e=o.puma("<input type='checkbox' class='vrCheckBox'></input>").vrAppendToPuma(u);o.puma(e).click(e=>{let i=e.currentTarget.checked,r=this._dictionaryLiValue.get(o.puma(e.currentTarget).closest("li")[0]);i?this._checkedValues.push(r):this._checkedValues.vrDelete(r);let n=this.datasource().filter(e=>e.value==r)[0];if(null!=n&&this.getOnlyChildrenItems(n).length>0){let t=this.getAllChildrenItems(n);e.currentTarget.checked&&this._checkedValues.vrPushRange(t.map(e=>e.value));let i=this.getChildrenCheckboxElements(n,!1);o.puma(i).prop("checked",e.currentTarget.checked);for(let i of t)e.currentTarget.checked||this._checkedValues.vrDelete(i.value)}this._isChecked=e.currentTarget.checked,this._isChecked||this._checkedValues.vrDelete(t.value);let a=[],l=this._dictionaryValueLi.get(t.value);for(let e of l){let t=o.puma(e).find(".vrTreeViewItemText")[0];a.push(t)}for(let e of a){let t=o.puma(e).siblings("input");o.puma(t).prop("checked",this._isChecked),t[0].checked=this._isChecked,o.puma(t).removeClass("indeterminateVrCheckbox")}for(let e of this.datasource().filter(e=>e.value==t.value)){let t=this.manageCheckParent(e);t||null==e.parentValue?t&&null!=e.parentValue&&!this._checkedValues.includes(e.parentValue)&&this._checkedValues.push(e.parentValue):this._checkedValues.vrDelete(e.parentValue)}let s=this.manageCheckParent(t);s||null==t.parentValue?s&&null!=t.parentValue&&!this._checkedValues.includes(t.parentValue)&&this._checkedValues.push(t.parentValue):this._checkedValues.vrDelete(t.parentValue),this._tempCheckedValue=t.value,this._checkedValues=this._checkedValues.vrDistinct(),this.value(this._checkedValues),this._tempCheckedValue=null})}let d=i.checkboxes?"vrTreeViewItemTextCheckbox":"",c=o.puma("<span class='vrTreeViewItemTextContainer'></span>").vrAppendToPuma(u);c[0].style.cssText+="width: Calc(100% - "+(this.widthColumns()+1)+"px);";let h=o.puma("<span title='"+t.text+"' text='"+t.text.replace(/'/g,"&#39;")+"' class='vrTreeViewItemText "+d+"'></span>").vrAppendToPuma(c);if(null==i.template){let e=t.text.replace(/'/g,"&#39;");null!=t.icon&&(e="<i class='"+t.icon+"' style='margin-right: 5px;'></i>"+e);let r="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;";null!=i.rowLine&&i.rowLine>1&&(r="display: -webkit-inline-box; overflow: hidden; -webkit-line-clamp: "+i.rowLine+"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;"),e="<span style='"+r+"'>"+e+"</span>",o.puma(e).vrAppendToPuma(h)}else{let e=new p;e.sender=this,e.dataItem=t,e.container=h[0];let r=i.template(e);if("string"==typeof r){let e=r;null!=t.icon&&(e="<i class='"+t.icon+"' style='margin-right: 5px;'></i>"+e);let n="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;";null!=i.rowLine&&i.rowLine>1&&(n="display: -webkit-inline-box; overflow: hidden; -webkit-line-clamp: "+i.rowLine+"; -webkit-box-orient: vertical;white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word;"),e="<span style='"+n+"'>"+e+"</span>",o.puma(e).vrAppendToPuma(h)}}if(!0===t.bold&&(h[0].style.cssText+="font-weight: 600;"),i.showEditButton&&o.createButton({icon:o.IconClassLight.Edit,cssContainer:"margin-right: 5px;",css:"background: none; border: none;",onClick:e=>{if(null!=i.onEdit){let e=new b;e.sender=this,e.text=t.text,e.value=t.value,e.dataItem=t,i.onEdit(e)}}},h,o.ControlPositionEnum.Before),i.selectable&&o.puma(h).on("mousedown",e=>{switch(e.button){case 0:case 1:{let t=this._dictionaryLiValue.get(o.puma(e.currentTarget).closest("li")[0]),r=this.datasource().filter(e=>e.value==t)[0];if(null==r||!i.parentClickable&&this.getRootValues().includes(r.value)||(i.checkboxes?o.puma(e.currentTarget).siblings(".vrCheckBox").click():this.value(r.value)),i.leftClickForContextMenu)return this.showContextMenu(r,e.clientX,o.puma(e.currentTarget).parent().offset().top+o.puma(e.currentTarget).parent().height()),void e.preventDefault()}break;case 2:if(i.rightClickForContextMenu)return this.showContextMenu(t,e.clientX,o.puma(e.currentTarget).parent().offset().top+o.puma(e.currentTarget).parent().height()),void e.preventDefault()}}),null!=i.onDoubleClick&&o.puma(h).on("dblclick",e=>{let r=new v;r.sender=this,r.text=t.text,r.value=t.value,r.dataItem=t,i.onDoubleClick(r)}),i.contextMenuItems.length>0&&!i.rightClickForContextMenu&&!i.leftClickForContextMenu){let e=null;o.puma(u).on("mouseenter",i=>{e=o.createButton({icon:o.IconClassSolid.EllipsisVertical,css:"background: none; border: none;",cssContainer:"margin-left: 10px; margin-top: 2px; height: 17px;",width:25,class:"vrTreeViewBtnContextMenu",onClick:e=>{o.puma(u).addClass("hover"),this.showContextMenu(t,o.puma(e.sender.container()).offset().left,o.puma(e.sender.container()).offset().top+o.puma(e.sender.container()).height())}},h)}),o.puma(u).on("mouseleave",t=>{o.puma(u).hasClass("hover")||null==e||$(e.container()).remove()})}if(null!=i.columns){let e=t[i.dataSourceFieldId],r="row"+a+"_"+e;for(let n of i.columns){if(n.hidden)continue;let a=null!=n.width?n.width:100;a-=10;let l=o.div(u,{class:"vrTreeViewColumnItem",css:"height: "+i.rowHeight+"px; width: "+a+"px;"}),d=n.field;o.puma(l).attr("field",d);let c=t[d];null==c&&(c=""),null==n.type&&(n.type=o.TreeViewColumnTypeEnum.String);let p=o.TreeViewAlignEnum.Left;switch(n.type){case o.TreeViewColumnTypeEnum.Number:{let e=null!=n.decimalDigits?n.decimalDigits:0;if(p=o.TreeViewAlignEnum.Right,null==n.cellSettings&&(n.cellSettings=new E),null==n.cellSettings.zeroIfNull&&(n.cellSettings.zeroIfNull=!1),""===c&&!1===n.cellSettings.zeroIfNull)c="";else{let t=new o.NumberFormatSettings;t.useGrouping=n.milesSeparator,t.minimumFractionDigits=e,t.maximumFractionDigits=e,c=Number(c).vrToNumberString(t)}}break;case o.TreeViewColumnTypeEnum.Currency:{let e=null!=n.decimalDigits?n.decimalDigits:2;if(p=o.TreeViewAlignEnum.Right,null==n.cellSettings&&(n.cellSettings=new E),null==n.cellSettings.zeroIfNull&&(n.cellSettings.zeroIfNull=!1),""===c&&!1===n.cellSettings.zeroIfNull)c="";else{let t=new o.NumberFormatSettings;t.minimumFractionDigits=e,t.maximumFractionDigits=e,c=Number(c).vrToCurrencyString(t)}}break;case o.TreeViewColumnTypeEnum.Percentage:{let e=null!=n.decimalDigits?n.decimalDigits:2;if(p=o.TreeViewAlignEnum.Right,null==n.cellSettings&&(n.cellSettings=new E),null==n.cellSettings.zeroIfNull&&(n.cellSettings.zeroIfNull=!1),""===c&&!1===n.cellSettings.zeroIfNull)c="";else{let t=new o.NumberFormatSettings;t.minimumFractionDigits=e,t.maximumFractionDigits=e,c=(Number(c)/100).vrToPercentageString(t)}}break;case o.TreeViewColumnTypeEnum.Duration:if(null==n.cellSettings&&(n.cellSettings=new E),null==n.cellSettings.zeroIfNull&&(n.cellSettings.zeroIfNull=!1),""===c&&!1===n.cellSettings.zeroIfNull)c="";else{let e=Math.trunc(Number(c)/60),t=String(e);e<10&&(t="0"+t);let i=Math.trunc(Number(c)%60),r=String(i);i<10&&(r="0"+r),p=o.TreeViewAlignEnum.Center,c=t+":"+r}break;case o.TreeViewColumnTypeEnum.Date:case o.TreeViewColumnTypeEnum.DateTime:case o.TreeViewColumnTypeEnum.Time:p=o.TreeViewAlignEnum.Center,n.type==o.TreeViewColumnTypeEnum.Date?c=""==c?"":new Date(c).vrToItalyString(o.DateModeEnum.Date):n.type==o.TreeViewColumnTypeEnum.DateTime?c=""==c?"":new Date(c).vrToItalyString(o.DateModeEnum.DateTime,n.showSeconds):n.type==o.TreeViewColumnTypeEnum.Time&&(c=""==c?"":new Date(c).vrToItalyString(o.DateModeEnum.Time,n.showSeconds));break;case o.TreeViewColumnTypeEnum.Checkbox:case o.TreeViewColumnTypeEnum.Boolean:{let i=null!=t[d]&&1==Boolean(t[d])?"checked='checked'":"";p=o.TreeViewAlignEnum.Center,c="<input "+i+" disabled='disabled' dataItemId='"+e+"' id='"+r+"_"+n.field+"' class='vrCheckBox' type='checkbox'></input><label class='vrLabel vrCheckBoxLabel' for='"+r+"_"+n.field+"'></label>"}break;case o.TreeViewColumnTypeEnum.Color:p=o.TreeViewAlignEnum.Center,c.isNotNullOrEmpty()&&(c="<i class='"+o.IconClassLight.Circle+"' style='width: 20px; height: 20px; color: "+c+"; display: inline-flex; align-items: center;'></i>")}l.innerHTML=c,null!=n.cellSettings&&(null!=n.cellSettings.backgroundColor&&o.puma(l).css("background-color",n.cellSettings.backgroundColor),null!=n.cellSettings.color&&o.puma(l).css("color",n.cellSettings.color),null!=n.cellSettings.css&&(l.style.cssText+=n.cellSettings.css)),null!=n.cellSettings&&(p=null!=n.cellSettings.textAlign?n.cellSettings.textAlign:p),o.puma(l).css("text-align",p),(s.length>0&&!0===n.boldRoot||!0===n.bold)&&o.puma(l).css("font-weight","500")}}(i.rightClickForContextMenu||i.leftClickForContextMenu)&&o.puma(u).on("contextmenu",e=>(e.preventDefault(),!1)),i.draggable&&(o.puma(u).attr("draggable","true"),o.puma(u).on("dragstart",e=>{if(window.clearTimeout(this._timeoutClick),this._actualDraggedItem=t,null!=i.onDragStart){let r=new x;if(r.sender=this,r.target=o.puma(e.target).closest("li")[0],r.source=t,i.onDragStart(r),r.isDefaultPrevented())return void e.preventDefault()}o.puma(e.target).closest("li").addClass("vrTreeViewDragStart")}),o.puma(u).on("dragover",e=>{if(null!=i.onDragMove){let r=this.datasource().filter(t=>t.value==o.puma(e.target).closest("li").attr("value"))[0],n=o.puma(e.target).closest("li")[0],a=new y;if(a.sender=this,a.target=n,a.source=t,a.destination=r,i.onDragMove(a),a.isDefaultPrevented())return void e.preventDefault()}o.puma(e.target).closest(".vrTreeViewDivItemContainer").addClass("vrTreeViewDragOver"),e.preventDefault()}),o.puma(u).on("dragleave",e=>{o.puma(e.target).closest(".vrTreeViewDivItemContainer").removeClass("vrTreeViewDragOver"),e.preventDefault()}),o.puma(u).on("drop",e=>{if(null!=i.onDragEnd){let t=this.datasource().filter(t=>t.value==o.puma(e.target).closest("li").attr("value"))[0],r=o.puma(e.target).closest("li")[0];o.puma(r).find("ul").remove();let n=new _;if(n.sender=this,n.target=l,n.source=this._actualDraggedItem,n.destination=t,i.onDragEnd(n),n.isDefaultPrevented())return void e.preventDefault();let a=this._dictionaryValueLi.get(this._actualDraggedItem.value);o.puma(a).remove();let s=this.getOnlyChildrenItems(t);this._actualDraggedItem.parentValue=t.value,s.push(this._actualDraggedItem),this.drawItems(s,r),o.puma(r).find("ul").show()}return this._actualDraggedItem=null,o.puma(this.container()).find(".vrTreeViewDragOver").removeClass("vrTreeViewDragOver"),o.puma(this.container()).find(".vrTreeViewDragStart").removeClass("vrTreeViewDragStart"),e.stopPropagation(),e.preventDefault(),!1})),s.length>0&&this.drawItems(this.getOnlyChildrenItems(t),l),a++}o.puma(this.container()).find(".vrTreeViewUl").first().find(".vrTreeViewLiLink").first().addClass("vrTreeViewLiFirstChild")}getOnlyChildrenItems(e){return this.datasource().filter(t=>null!=t.parentValue&&t.parentValue==e.value)}getRootItems(){let e=[];for(let t of this.datasource()){if(null==t)continue;let i=t.parentValue;for(;null!=i;){let t=this.datasource().filter(e=>e.value==i)[0];e.includes(t)||e.push(t),i=null!=t?t.parentValue:void 0,null!=t&&i==t.value&&(i=void 0)}}return e}getRootValues(){return this.getRootItems().filter(e=>null!=e).map(e=>e.value)}getAllChildrenItems(e){return this.getDataChildrenItems(e)}getAllChildrenValues(e){return this.getAllChildrenItems(e).map(e=>e.value)}getDataChildrenItems(e){let t=null==e?this.datasource():this.getOnlyChildrenItems(e),i=[];for(let e of t)i.push(e),this.getOnlyChildrenItems(e).length>0&&i.vrPushRange(this.getDataChildrenItems(e));return i}getChildrenCheckboxElements(e,t=!1,i=!1){let r=this._dictionaryValueLi.get(e.value),n=o.puma(r).find(".vrTreeViewItemText")[0],a=o.puma(n).siblings("input"),l=o.puma(a).parent().parent().find("input"+(t?":checked":""));return o.puma(l[0]).siblings(".vrTreeViewItemText").html()==e.text&&l.splice(0,1),i&&(l=Array.from(l)),l}getCheckedItems(){return this.datasource().filter(e=>this._checkedValues.includes(e.value)).vrDistinctBy(e=>e.value)}getCheckedValues(){return this._checkedValues.vrDistinct()}getSelectedItem(){return this.datasource().filter(e=>e.value==this.value())[0]}getParentItem(e){return null!=e.parentValue?this.datasource().filter(t=>t.value==e.parentValue)[0]:null}manageCheckParent(e){let t=this.getParentItem(e);if(null!=t){let e=this.getChildrenCheckboxElements(t,!0,!0).filter(e=>null!=e&&e.checked),i=this._dictionaryValueLi.get(t.value),r=o.puma(i).find("input")[0];if(null!=r)return o.puma(r).removeClass("indeterminateVrCheckbox"),r.checked=!1,this.getAllChildrenItems(t).length==e.length?(r.checked=!0,!0):0==e.length?(r.checked=!1,!1):(o.puma(r).addClass("indeterminateVrCheckbox"),!1)}}limitInputByDataSource(e,t){if(0==this.getFilteredArrayByInputText(e.value).length){let i=e.value;return e.value=i.substring(0,i.length-1),void t.preventDefault()}}getFilteredArrayByInputText(e){e=e.toLowerCase();let t=[];return this.datasource().map(e=>String(e.text).toLowerCase()).forEach((i,r)=>{-1!=i.indexOf(e)&&t.push(this.datasource()[r])}),t}filter(e){let t=this.getOptions(),i=this._txtSearchFilter.element(),r=i.selectionStart,n=i.selectionEnd;if(""==e)o.puma(this.element()).find("li").show();else if(0!=r||n!=i.value.length){o.puma(this.element()).find("li").hide();let i=this.getFilteredArrayByInputText(e),r=i.map(e=>e.value),n=i.map(e=>e.text);for(let e of i){let t=e.parentValue;for(;null!=t;){let e=this.datasource().filter(e=>e.value==t)[0];r.includes(t)||(r.push(t),n.push(null!=e?e.text:"")),t=null!=e?e.parentValue:void 0}}if(t.filter.onlyParents)for(let e of Array.from(o.puma(this.element()).find(".vrTreeViewLi"))){let t=o.puma(e).attr("value");if(this.isParent(t)){let t=o.puma(e).find(".vrTreeViewItemText").attr("text");n.includes(t)&&(o.puma(e).show(),o.puma(e).find("ul").show(),o.puma(e).find("li").show())}}else for(let e of Array.from(o.puma(this.element()).find(".vrTreeViewItemText")))n.includes(o.puma(e).attr("text"))&&(o.puma(e).closest(".vrTreeViewLi").show(),o.puma(e).closest(".vrTreeViewLi").closest(".vrTreeViewUl").show(),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").removeClass("caret-right caret-down"),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").children("i").removeClass(o.IconClassLight.CaretRight+" "+o.IconClassLight.CaretDown),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").addClass("caret-down"),o.puma(e).closest(".vrTreeViewLi").find(".vrTreeViewDivIconExpand").children("i").addClass(o.IconClassLight.CaretDown))}}isParent(e){return this.getRootValues().includes(e)}focus(){!1!==this.getOptions().filter&&null!=o.puma(this.element()).find(".vrTreeViewFilter")[0]&&o.puma(this.element()).find(".vrTreeViewFilter").focus()}value(e,t=!0){if(null===e)return this.clear(),null;let i=this.getOptions();if(null!=e){i.checkboxes||o.puma(this.element()).find(".vrTreeViewSelectedComboValue").removeClass("vrTreeViewSelectedComboValue"),"string"!=typeof e&&"number"!=typeof e||(e=[String(e)]);let r=null;Array.isArray(e)?e=(e=e.vrDistinct()).vrToStringArrayList():(r=new o.TreeViewItem,r.text=e.text,r.value=e.value,e=[r.value]);let a=n.UtilityManager.duplicate(this._value);this._value=[];for(let t of e){let e=this.datasource().filter(e=>e.value==t)[0];null!=e&&this._value.push(e.value)}if(this._checkedValues=e,o.puma(o.puma(this.container()).find(".vrTreeViewLi[value='"+e+"'] .vrTreeViewDivItemContainer")[0]).addClass("vrTreeViewSelectedComboValue"),t){let t=new f;if(null!=i.onBeforeSelect){let r=this.isParent(this._value[0]),n=null;r&&(n=this.datasource().filter(t=>t.value==e)[0]),t.sender=this,t.previousValue=a,t.previousCheckedValues=a,t.value=this._value[0],t.childrenValues=r?this.getAllChildrenValues(n):[],t.checked=this._isChecked,t.isParent=r,i.onBeforeSelect(t)}t.isDefaultPrevented()?this._value=a:this.change()}}return null==this._value?null:!0===i.checkboxes?this._value:this._value[0]}title(e){return null!=e&&null!=this._lblTitle&&this._lblTitle.value(e),null!=this._lblTitle?this._lblTitle.value():""}clear(e=!1){let t=this.getOptions();o.puma(this.element()).find(".vrTreeViewSelectedComboValue").removeClass("vrTreeViewSelectedComboValue"),this.unCheckAll(!1),o.puma(this.element()).find("li").show(),this._value=null,!1!==t.filter&&null!=o.puma(this.element()).find(".vrTreeViewFilter")[0]&&(o.puma(this.element()).find(".vrTreeViewFilter")[0].value=""),e&&this.change()}clearItems(){this._items=[],this.clear(),o.puma(this.element()).find(".vrTreeViewUl").remove()}excelExport(){let e=this.getOptions();"boolean"==typeof e.export&&(e.export=new w);let t=e.export;null==t.numericValueTypeEnum&&(t.numericValueTypeEnum=o.TreeViewNumericTypeEnum.Default),null==t.decimalDigits&&(t.numericValueTypeEnum==o.TreeViewNumericTypeEnum.Currency||t.numericValueTypeEnum==o.TreeViewNumericTypeEnum.Percentage?t.decimalDigits=2:t.decimalDigits=0);let i=new S,r=[];if(null!=e.columns)for(let t of this.datasource()){let i=[];for(let r of e.columns){let e=n.UtilityManager.duplicate(r),a=t[r.field];switch(r.type){case o.TreeViewColumnTypeEnum.Date:case o.TreeViewColumnTypeEnum.DateTime:case o.TreeViewColumnTypeEnum.Time:r.type!=o.TreeViewColumnTypeEnum.Date&&r.type!=o.TreeViewColumnTypeEnum.DateTime&&r.type!=o.TreeViewColumnTypeEnum.Time||(r.type==o.TreeViewColumnTypeEnum.Date?a=""==a?"":new Date(new Date(a)).vrToItalyString(o.DateModeEnum.Date):r.type==o.TreeViewColumnTypeEnum.DateTime?a=""==a?"":new Date(new Date(a)).vrToItalyString(o.DateModeEnum.DateTime,r.showSeconds):r.type==o.TreeViewColumnTypeEnum.Time&&(a=""==a?"":new Date(new Date(a)).vrToItalyString(o.DateModeEnum.Time,r.showSeconds)));break;case o.TreeViewColumnTypeEnum.Checkbox:case o.TreeViewColumnTypeEnum.Boolean:a=1==t[r.field]?"true":"false"}e.value=a,i.push(e)}t.extraCells=i,r.push(t)}else r=this.datasource();i.datasource=r,i.title=e.title,i.sheetName=t.sheetName,i.fileName=null!=t.fileName?t.fileName:"excel_"+(new Date).vrToItalyString().replace(/\//g,""),i.AuthKey="10(P9m+U3a@Mtt-Oeo",i.numericValueTypeEnum=t.numericValueTypeEnum,i.decimalDigits=t.decimalDigits;let a=JSON.stringify(i),l=null;l=new FormData,l.append("file",new Blob([a],{type:"application/json"})),o.showLoader(),$.ajax({type:"POST",beforeSend:e=>{e.setRequestHeader("Accept-Language","it"),e.setRequestHeader("AuthKey","10(P9m+U3a@Mtt-Oeo")},contentType:!1,data:l,method:"POST",processData:!1,dataType:"JSON",url:"/api/UtilityWebApi/GenerateExcelTreeView",success:(e,t,i)=>{o.hideLoader(),null!=e.downloadUrl&&e.downloadUrl.length>0&&location.replace(e.downloadUrl),e.Success||o.alert(e.ErrorMessage+"<br />"+e.StackTrace,{width:600,css:"overflow: auto;"})},error:(e,t,i)=>{o.hideLoader(),o.alert("Errore nell'esportazione Excel. Contattare l'assistenza.")}})}column(e){let t=this.getOptions(),i=t.columns.filter(t=>t.field==e)[0],r=t.columns.indexOf(i);return t.columns[r]}columnTitle(e,t){let i=this.column(e);return null!=i?(null!=t&&(i.title=t,o.puma(this._divTitle).find("div.vrTreeViewColumn[field='"+e+"']").find("label").html(t)),i.title):""}showColumns(e,t=!0){for(let t of e)this.showColumn(t,!1);t&&this.update()}showColumn(e,t=!0){o.puma(this._divTitle).find("div.vrTreeViewColumn[field='"+e+"']").show(),o.puma(this._divContent).find("div.vrTreeViewDivItemContainer .vrTreeViewColumnItem[field='"+e+"']").show(),this.column(e).hidden=!1,t&&this.update()}hideColumns(e,t=!0){for(let t of e)this.hideColumn(t,!1);t&&this.update()}hideColumn(e,t=!0){o.puma(this._divTitle).find("div.vrTreeViewColumn[field='"+e+"']").hide(),o.puma(this._divContent).find("div.vrTreeViewColumnItem[field='"+e+"']").hide(),this.column(e).hidden=!0,t&&this.update()}showOnlyThisColumns(e,t=!0){let i=this.getOptions();for(let e of i.columns)this.hideColumn(e.field,!1);for(let t of e)this.showColumn(t,!1);t&&this.update()}widthColumns(){let e=0,t=this.getOptions();if(null!=t.columns)for(let i of t.columns)!0!==i.hidden&&(e+=null!=i.width?i.width:100);return e}checkAll(e=!0){this._checkedValues=this.datasource().map(e=>e.value),this._checkedValues=this._checkedValues.vrDistinct(),this.value(this.datasource().map(e=>e.value),e)}unCheckAll(e=!0){this._checkedValues=[],o.puma(this.element()).find(".vrTreeViewSelectedComboValue").removeClass("vrTreeViewSelectedComboValue"),o.puma(this.element()).find("input").removeClass("indeterminateVrCheckbox");for(let e of Array.from(o.puma(this.element()).find("input")))o.puma(e).prop("checked",!1),e.checked=!1;this.value([],e)}createContextMenu(){let e=this.getOptions();if(0!=e.contextMenuItems.length){null==this._divContextMenu&&(this._divContextMenu=o.div(document.body,{class:"vrTreeViewContextMenu",id:this.element().id+"_divPopup"}));for(let t of e.contextMenuItems){let e=o.div(this._divContextMenu,{class:"vrTreeViewContextMenuItem"});!0!==t.separator?(null!=t.icon&&o.icon(t.icon,e,{css:"margin-right: 5px;"}),o.createLabel({text:t.text,cssContainer:"cursor: pointer;",css:"cursor: pointer;"},e),null!=t.onClick&&o.puma(e).on("click",e=>{null!=t.confirmationMessage?o.confirm(t.confirmationMessage).then(()=>{this.clickOnContextMenuItem(t)}):this.clickOnContextMenuItem(t)})):(o.createSeparator({orientation:o.OrientationEnum.Horizontal,cssContainer:"display: flex !important; margin-top: 5px !important; margin-bottom: 5px !important;"},e),e.style.cssText+="padding-bottom: 0px;")}}}clickOnContextMenuItem(e){let t=new g;t.sender=this,t.text=e.text,t.value=e.value,t.dataItem=this._dataItemContextMenu,t.targets=this._dictionaryValueLi.get(this._dataItemContextMenu.value),e.onClick(t),this.closeContextMenu()}showContextMenu(e,t,i){if(this.createContextMenu(),null!=this._divContextMenu){this._dataItemContextMenu=e,o.puma(this._divContextMenu).show(200),o.puma(this._divContextMenu).offset({left:t,top:i});let r=o.puma(this._divContextMenu).css("z-index")-1,n=o.puma("<div class='vrTreeViewBackground' id='vrTreeViewBackground_"+this.element().id+"' style='background-color: transparent; display: block; z-index: "+r+";'></div>").vrAppendToPuma(this.container())[0];o.puma(n).click(e=>this.closeContextMenu()),o.puma(n).on("contextmenu",e=>(e.preventDefault(),!1))}}closeContextMenu(){null!=this._divContextMenu&&(o.puma(this.container()).find(".vrTreeViewDivItemContainer").removeClass("hover"),o.puma(this.container()).find(".vrTreeViewBtnContextMenu").parent().remove(),this._dataItemContextMenu=null,o.puma(this._divContextMenu).remove(),this._divContextMenu=null,o.puma("#vrTreeViewBackground_"+this.element().id).remove())}updateRow(e,t=!0){let i=this.getOptions(),r=e[i.dataSourceFieldId],n=this.datasource().filter(e=>e[i.dataSourceFieldId]==r)[0],a=this.datasource().indexOf(n);null!=n&&(this.datasource()[a]=e,t&&this.update())}updateRows(e,t=!0){for(let t of e)this.updateRow(t,!1);t&&this.update()}addItem(e,t=!0){let i=this.datasource().filter(t=>t.value==e.parentValue)[0];if(null!=i){let r=this.getOnlyChildrenItems(i);r.push(e),this.datasource().push(e);let n=this._dictionaryValueLi.get(i.value)[0];this.manageAddUpdateItem(r,n,t)}}updateItem(e,t=!0){let i=this.datasource().filter(t=>t.value==e.parentValue)[0];if(null!=i){let r=this.getOnlyChildrenItems(i);r.vrDeleteAllBy(t=>t.value==e.value),r.push(e),this.updateRow(e,!1);let n=this._dictionaryValueLi.get(i.value)[0];this.manageAddUpdateItem(r,n,t)}}manageAddUpdateItem(e,t,i=!0){o.puma(t).find("ul").remove(),this.drawItems(e,t),o.puma(t).find("ul").show(),i&&this.rebind()}deleteItem(e){this.datasource().vrDeleteAllBy(t=>t.value==e)}visibleToolbar(e){return null!=e&&(e?o.puma(this._divToolbar).show():o.puma(this._divToolbar).hide()),o.puma(this._divToolbar).is(":visible")}showToolbar(){this.visibleToolbar(!0)}hideToolbar(){this.visibleToolbar(!1)}toolbar(){return this._divToolbar}toolbarItem(e){return r.ControlManager.get("treeView-"+e+"_"+this.element().id)}showToolbarItem(e){this.toolbarItem(e).show()}hideToolbarItem(e){this.toolbarItem(e).hide()}enableToolbarItem(e){this.toolbarItem(e).enable()}disableToolbarItem(e){this.toolbarItem(e).disable()}removeToolbarItem(e){let t=this.toolbarItem(e);o.puma(t.container()).remove()}addToolbarItem(e){null==e.visible&&(e.visible=!0),null==e.type&&(e.type=o.TreeViewToolbarItemType.Custom);let t="",i=void 0,r="",n=!0,a=!1;null==e.css&&(e.css=""),null==e.cssContainer&&(e.cssContainer="");let d=null==e.value?null!=e.text?e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,""):"noValue":e.value;switch(e.type){case o.TreeViewToolbarItemType.Custom:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,r="treeView-"+d,a=!0;break;case o.TreeViewToolbarItemType.SplitButton:t=null!=e.text?e.text:"",i=null!=e.icon?e.icon:void 0,a=!1;break;case o.TreeViewToolbarItemType.Switch:case o.TreeViewToolbarItemType.ButtonGroup:case o.TreeViewToolbarItemType.CheckBox:case o.TreeViewToolbarItemType.ComboBox:case o.TreeViewToolbarItemType.DatePicker:case o.TreeViewToolbarItemType.Label:case o.TreeViewToolbarItemType.TextBox:a=!1;break;case o.TreeViewToolbarItemType.Excel:t=null!=e.text?e.text:"Excel",i=null!=e.icon?e.icon:o.IconClassLight.FileExcel,r=null!=e.value?"treeView-"+e.value:"treeView-excel",a=!0,e.backgroundColor="#008a00",e.textColor="#FFF";break;case o.TreeViewToolbarItemType.Separator:r=null!=e.value?"treeView-"+e.value:"treeView-separator",n=!1,a=!0;break;case o.TreeViewToolbarItemType.Rebind:t=null!=e.text?e.text:"Aggiorna",i=null!=e.icon?e.icon:o.IconClassLight.Refresh,r=null!=e.value?"treeView-"+e.value:"treeView-rebind",a=!0}if(a)o.createButton({icon:i,imageUrl:e.imageUrl,enable:n,text:t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},visible:e.visible,cssContainer:e.cssContainer,css:e.css,mode:!0===e.primary?o.ButtonModeEnum.Primary:void 0,classContainer:"treeView-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:(e.type==o.TreeViewToolbarItemType.Separator?"treeView-separator":"")+" treeView-toolbarItems "+r,badgeSettings:e.badge,onClick:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,r+"_"+this.element().id);else{if(e.type==o.TreeViewToolbarItemType.SplitButton){let r=null!=e.value?e.value:"splitButton";null==e.value&&null!=e.text&&(r=e.text.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"")+"splitButton");let n="treeView-"+r;o.createSplitButton({text:t,icon:i,imageUrl:e.imageUrl,items:e.splitButtonItems,visible:e.visible,cssContainer:e.cssContainer+" vertical-align: top;",css:e.css,classContainer:"treeView-toolbarItemsContainer "+(null!=e.classContainer?e.classContainer:""),class:"treeView-toolbarItems treeView-splitButton "+n,onClick:null==e.onClick?void 0:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,n+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.ButtonGroup){let t="treeView-"+(null!=e.value?e.value:"buttonGroup");o.createButtonGroup({selectionMode:o.SelectionModeEnum.Single,items:e.buttonGroupItems,visible:e.visible,cssContainer:"top: -1px; "+e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,class:"treeView-toolbarItems treeView-buttonGroup "+t,width:"auto",onSelect:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.CheckBox){let t="treeView-"+(null!=e.value?e.value:"checkbox");o.createCheckBox({text:e.text,visible:e.visible,cssContainer:"top: 3px; "+e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,class:"treeView-toolbarItems treeView-checkBox "+t,onCheck:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.Label){let t="treeView-"+(null!=e.value?e.value:"label");o.createLabel({text:e.text,visible:e.visible,cssContainer:e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,class:"treeView-toolbarItems treeView-label "+t,colorSettings:{background:e.backgroundColor,textColor:e.textColor},onClick:t=>{let i=new o.TreeViewToolbarClickEvent;i.sender=t.sender,i.type=e.type,null!=e.confirmationMessage&&e.confirmationMessage.length>0?o.confirm(e.confirmationMessage).then(()=>{this.toolbarCustomLogic(e,i)}):this.toolbarCustomLogic(e,i)}},this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.ComboBox){let t="treeView-"+(null!=e.value?e.value:"comboBox");null==e.comboBoxOptions&&(e.comboBoxOptions=new l.ComboBoxOptions),e.comboBoxOptions.classContainer="treeView-toolbarItemsContainer "+e.comboBoxOptions.classContainer,e.comboBoxOptions.class="treeView-toolbarItems treeView-comboBox "+t+" "+e.comboBoxOptions.class,null==e.comboBoxOptions.visible&&(e.comboBoxOptions.visible=e.visible),null==e.comboBoxOptions.css&&(e.comboBoxOptions.css=e.css),null==e.comboBoxOptions.cssContainer&&(e.comboBoxOptions.cssContainer=e.cssContainer+";"),e.comboBoxOptions.cssContainer+="vertical-align: top;",o.createComboBox(e.comboBoxOptions,this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.DatePicker){let t="treeView-"+(null!=e.value?e.value:"datePicker");null==e.datePickerOptions&&(e.datePickerOptions=new s.DatePickerOptions),e.datePickerOptions.classContainer="treeView-toolbarItemsContainer "+e.datePickerOptions.classContainer,e.datePickerOptions.class="treeView-toolbarItems treeView-datePicker "+t+" "+e.datePickerOptions.class,null==e.datePickerOptions.visible&&(e.datePickerOptions.visible=e.visible),null==e.datePickerOptions.css&&(e.datePickerOptions.css=e.css),null==e.datePickerOptions.cssContainer&&(e.datePickerOptions.cssContainer=e.cssContainer),e.datePickerOptions.cssContainer+="top: -1px; "+e.datePickerOptions.cssContainer,o.createDatePicker(e.datePickerOptions,this._divToolbar,null,t+"_"+this.element().id)}if(e.type==o.TreeViewToolbarItemType.TextBox){let t="treeView-"+(null!=e.value?e.value:"textBox");null==e.textBoxOptions&&(e.textBoxOptions=new u.TextBoxOptions),e.textBoxOptions.classContainer="treeView-toolbarItemsContainer "+e.textBoxOptions.classContainer,e.textBoxOptions.class="treeView-toolbarItems treeView-textBox "+t+" "+e.textBoxOptions.class,null==e.textBoxOptions.visible&&(e.textBoxOptions.visible=e.visible),null==e.textBoxOptions.css&&(e.textBoxOptions.css=e.css),null==e.textBoxOptions.cssContainer&&(e.textBoxOptions.cssContainer=e.cssContainer),e.textBoxOptions.cssContainer+="top: -1px; "+e.textBoxOptions.cssContainer,o.createTextBox(e.textBoxOptions,this._divToolbar,null,t+"_"+this.element().id)}else if(e.type==o.TreeViewToolbarItemType.Switch){null==e.switchSettings&&(e.switchSettings=new o.TreeViewToolbarSwitchSettings,e.switchSettings.labelOff="",e.switchSettings.labelOn=""),null==e.switchSettings.checked&&(e.switchSettings.checked=!1);let t="treeView-"+(null!=e.value?e.value:"switch");o.puma(this._divToolbar).vrAppendPuma("<div id='"+t+"_"+this.element().id+"' class='treeView-toolbarItems-switch'></div>"),o.createSwitch({labelOff:e.switchSettings.labelOff,labelOn:e.switchSettings.labelOn,checked:e.switchSettings.checked,cssContainer:"top: -2px; "+e.cssContainer,css:e.css,classContainer:"treeView-toolbarItemsContainer "+e.classContainer,visible:e.visible,onChange:t=>{if(null!=e.switchSettings.onCheck){let i=new o.TreeViewToolbarSwitchEvent;i.checked=t.checked,e.switchSettings.onCheck(i)}}},null,null,t+"_"+this.element().id)}}}toolbarCustomLogic(e,t){switch(e.type){case o.TreeViewToolbarItemType.Rebind:this.rebind();break;case o.TreeViewToolbarItemType.Excel:this.excelExport()}null!=e.onClick&&e.onClick(t)}doWebApiCall(e,t,i){let r={};if(r.AuthKey=e.authKey,t!=D.Rebind&&t!=D.Excel||t==D.Rebind&&null==e.itemsPropertyName&&(e.itemsPropertyName="items"),e.method.startsWith("/api/")||(e.method.startsWith("/")&&e.method.substring(1),e.method="/api/"+e.method),null!=e.otherParameters){let t=Object.getOwnPropertyNames(e.otherParameters);for(let i of t)r[i]=e.otherParameters[i]}if(null!=e.parameters){let t=e.parameters(),i=Object.getOwnPropertyNames(t);for(let e of i)r[e]=t[e]}let n=JSON.stringify(r);"boolean"==typeof e.loadingElement&&(!1===e.loadingElement?e.loadingElement=void 0:e.loadingElement=document.body),o.showLoader(null!=e.tempLoadingElement?e.tempLoadingElement:e.loadingElement),e.tempLoadingElement=void 0,$.ajax({type:"POST",contentType:"application/json",data:n,method:"POST",processData:!1,dataType:"json",url:e.method,success:(r,n,a)=>{if(o.hideLoader(),null!=r&&(r.Success||r.success)){let n=e.successNotificationMessage;n=null!=n&&n,"string"==typeof n&&(n=n),"string"==typeof n&&o.notify(n);let a=e.rebindGridAfterSave;a=null!=a&&a,a&&this.rebind(),null!=e.callbackBeforeDatasourceChange&&e.callbackBeforeDatasourceChange(r),t==D.Rebind&&null!=r[e.itemsPropertyName]&&this.datasource(r[e.itemsPropertyName]),null!=e.callback&&e.callback(r),null!=i&&i()}else{let t=r.Exception||r.exception,i=t.Code||t.code;if(null!=r&&"403"==i)return void location.replace("/Default.aspx");let n=e.errorNotificationMessage;n=null==n||n,1!=n&&"string"!=typeof n||o.notify("string"==typeof n?n:null!=r?r.ExceptionMessage||r.exceptionMessage:"Errore nel salvataggio");let a=e.rebindGridAfterError;a=null!=a&&a,a&&this.rebind();let l=e.closeWindowAfterError;l=null!=l&&l,null!=e.errorCallback&&e.errorCallback(null!=r?r.ExceptionMessage||r.exceptionMessage:"Errore nel salvataggio")}},error:(t,i,r)=>{o.hideLoader();let n=e.errorNotificationMessage;n=null==n||n;let a="Errore nel salvataggio";if(a=null!=t.responseJSON?null!=t.responseJSON.errorMessage?t.responseJSON.errorMessage:(t.responseJSON.Message||t.responseJSON.message)+"<br />"+(t.responseJSON.ExceptionMessage||t.responseJSON.exceptionMessage):null!=t.responseText&&""!=t.responseText?t.responseText:null!=t.statusText&&""!=t.statusText?t.statusText:"Si è verificato un problema",401==t.status)a="Auth key errata";else if(404==t.status)a="Web Api non trovata";else if(403==t.status)return void location.replace("/Default.aspx");let l="Errore nel salvataggio";1!=n&&"string"!=typeof n||(l=1==n?a:n,o.notify(l));let s=e.rebindGridAfterError;s=null!=s&&s,s&&this.rebind();let u=e.closeWindowAfterError;u=null!=u&&u,null!=e.errorCallback&&e.errorCallback(l)}})}change(e){let t=this.getOptions().onAfterSelect;if(null!=t){let e=this.getOptions().checkboxes&&null!=this._tempCheckedValue?this._tempCheckedValue:this.value(),i=this.isParent(e),r=null;i&&(r=this.datasource().filter(t=>t.value==e)[0]);let n=new m;n.sender=this,n.value=e,n.childrenValues=i?this.getAllChildrenValues(r):[],n.selectedItem=this.getSelectedItem(),n.checked=this._isChecked,n.isParent=i,t(n)}null!=e&&e()}getOptions(){return this.options()}}t.TreeView=c;class p{}class h extends a.VrControlsEvent{}class m extends h{}class f extends h{}class g extends a.VrControlsEvent{}t.TreeViewContextMenuClickEvent=g;class v extends a.VrControlsEvent{}class b extends a.VrControlsEvent{}class C extends a.VrControlsEvent{}class x extends C{}class y extends C{}class _ extends C{}class w{}class S{}class k{}class T{}t.TreeViewHeaderAndCellSettings=T;t.TreeViewHeaderSettings=class extends T{};class E extends T{}t.TreeViewCellSettings=E;var D;!function(e){e[e.Rebind=1]="Rebind",e[e.Excel=3]="Excel"}(D||(D={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SchedulerAvailabilityClickEvent=t.SchedulerAppointmentClickEvent=t.SchedulerTimeslotClickEvent=t.Scheduler=t.SchedulerOptions=void 0;const r=i(2),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.SchedulerOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.startTime&&(t.startTime=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),8,0)),null==t.endTime&&(t.endTime=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),19,0)),null==t.maxResourcesNumber&&(t.maxResourcesNumber=new k),null==t.views&&(t.views=[{type:a.SchedulerViewEnum.Day,selected:!0}]),null==t.timeslotIntervalDuration&&(t.timeslotIntervalDuration=30),null==t.firstDayOfWeek&&(t.firstDayOfWeek=a.DayOfWeekEnum.Monday),null==t.daysOfWeekNames&&(t.daysOfWeekNames=["DOM","LUN","MAR","MER","GIO","VEN","SAB"]),null==t.numberOfWorkDays&&(t.numberOfWorkDays=6),null==t.exportPdf&&(t.exportPdf=!0),null==t.date&&(t.date=new Date),null==t.timeColumn&&(t.timeColumn=!0),null==t.showHeader&&(t.showHeader=!0),null==t.showToolbar&&(t.showToolbar=!0),null==t.editable&&(t.editable=new B),null==t.editable.move&&(t.editable.move=!0),null==t.editable.resize&&(t.editable.resize=!0),t.width="100%",super(e,t,a.ControlTypeEnum.Scheduler),a.puma(this.container()).css({"flex-direction":"column"}),this._timeColumnWidth=t.timeColumn?63:0,this._saturationData=void 0,null==t.resources&&(t.resources=[{value:"",text:""}]);let i=t.views.filter(e=>!0===e.selected)[0];null==i&&(i={type:a.SchedulerViewEnum.Day,selected:!0}),this._actualView=i.type,this.drawToolbar(),this.drawScheduler(),this.manageSchedulerClick(),null!=t.datasource&&this.datasource(t.datasource),null!=t.availabilities&&this.availabilities(t.availabilities),null!=t.saturation&&this.saturation(t.saturation),a.puma(window).resize(()=>{this.drawScheduler(),this.rebind(),null!=this._saturationData&&this.saturation(this._saturationData)})}drawToolbar(){let e=this.getOptions(),t=a.div(this.container(),{class:"vrSchedulerDivToolbar"},!0);e.showToolbar||(t.style.cssText+="display: none;");let i=0;a.createButton({icon:a.IconClassLight.CaretLeft,width:30,onClick:e=>{let t=this.date().vrAddDays(this.view()==a.SchedulerViewEnum.Day?-1:-7);this._dtpSchedulerDate.value(t,!1),clearTimeout(i),i=window.setTimeout(()=>{this._actualNavigateAction=a.SchedulerNavigateActionEnum.PrevDate,this.date(t)})}},t),a.createButton({icon:a.IconClassLight.CaretRight,width:30,cssContainer:"margin-left: 5px;",onClick:e=>{let t=this.date().vrAddDays(this.view()==a.SchedulerViewEnum.Day?1:7);this._dtpSchedulerDate.value(t,!1),clearTimeout(i),i=window.setTimeout(()=>{this._actualNavigateAction=a.SchedulerNavigateActionEnum.NextDate,this.date(t)})}},t),a.createButton({text:"Oggi",cssContainer:"margin-left: 5px;",onClick:e=>{this._actualNavigateAction=a.SchedulerNavigateActionEnum.Today;let t=new Date;t.setHours(0,0,0),this.date(t)}},t),this._dtpSchedulerDate=a.createDatePicker({format:a.DateFormatEnum.LongDate,value:e.date,width:250,cssContainer:"margin-left: 5px;",onBeforeChange:e=>{null==e.value&&e.preventDefault()},onAfterChange:e=>{this._actualNavigateAction=a.SchedulerNavigateActionEnum.ChangeDate,this.date(this._dtpSchedulerDate.value())}},t),this._swtGroupByDateResource=a.createSwitch({labelSettings:{colorSettings:{textColor:"#000"}},labelOff:"Risorsa",labelOn:"Data",cssContainer:"border-left: solid 1px #000; margin-left: 10px; padding-left: 10px; flex-direction: row; height: 24px;",classContainer:"vrSchedulerSwitchGroupByDateResource",visible:this.view()==a.SchedulerViewEnum.Week,onChange:e=>window.setTimeout(()=>this.groupWeekByDate(e.checked),50)},t),this._btnExpand=a.createButton({icon:a.IconClassLight.Expand,cssContainer:"float: right; margin-left: 5px;",onClick:t=>{if(null!=e.onExpand){let t=new E;if(t.sender=this,t.buttonExpand=this._btnExpand,t.buttonCollpase=this._btnCollapse,e.onExpand(t),t.isDefaultPrevented())return}r.UtilityManager.enterFullScreen(this.container(),()=>a.notify("Modalità fullScreen non supportata",{type:a.NotifierTypeEnum.Error})),this._btnCollapse.show(),this._btnExpand.hide(),window.setTimeout(()=>this.adaptHeight(),100)}},t),this._btnCollapse=a.createButton({icon:a.IconClassLight.Collapse,cssContainer:"float: right; margin-left: 5px;",visible:!1,onClick:t=>{if(null!=e.onCollapse){let t=new D;if(t.sender=this,t.buttonExpand=this._btnExpand,t.buttonCollpase=this._btnCollapse,e.onCollapse(t),t.isDefaultPrevented())return}r.UtilityManager.exitFullScreen(),this._btnCollapse.hide(),this._btnExpand.show(),window.setTimeout(()=>this.adaptHeight(),100)}},t);let n=[],o=e.views.map(e=>e.type);o.includes(a.SchedulerViewEnum.Day)&&n.push({text:"Giorno",value:a.SchedulerViewEnum.Day,selected:this.view()==a.SchedulerViewEnum.Day}),o.includes(a.SchedulerViewEnum.Week)&&n.push({text:"Settimana",value:a.SchedulerViewEnum.Week,selected:this.view()==a.SchedulerViewEnum.Week}),o.includes(a.SchedulerViewEnum.FourWeeks)&&n.push({text:"Mese",value:a.SchedulerViewEnum.FourWeeks,selected:this.view()==a.SchedulerViewEnum.FourWeeks}),this._btgMenuView=a.createButtonGroup({items:n,cssContainer:"float: right;",width:"auto",onSelect:t=>{let i=null;switch(Number(t.value)){case a.SchedulerViewEnum.Day:i=e.maxResourcesNumber.dayView;break;case a.SchedulerViewEnum.Week:i=e.maxResourcesNumber.weekView;break;case a.SchedulerViewEnum.FourWeeks:i=e.maxResourcesNumber.fourWeeksView}null!=i&&this.resources().length>i?a.confirm("Verranno visualizzate un numero di risorse maggiore<br /> del limite massimo impostato ("+i+").<br /> Continuare comunque?").then(()=>this.view(Number(t.value)),()=>t.sender.select([this.view()],!1)):this.view(Number(t.value))}},t)}drawScheduler(){this.drawHeader(),this.drawContent(),null!=this._saturationData&&this.saturation(this._saturationData),a.puma(this.getDivContent()).vrHasScrollBar()?a.puma(this.container()).find(".vrSchedulerDivHeader").find("table").css({width:"Calc(100% - 17px)"}):a.puma(this.container()).find(".vrSchedulerDivHeader").find("table").css({width:"100%"}),this.view()==a.SchedulerViewEnum.Week&&this._swtGroupByDateResource.show()}drawHeader(){let e=this.getOptions(),t=a.puma(this.container()).find(".vrSchedulerDivHeader")[0];null==t&&(t=a.div(this.element(),{class:"vrSchedulerDivHeader"})),e.showHeader||(t.style.cssText+="display: none;"),a.puma(t).empty();let i=document.createDocumentFragment(),r=document.createElement("table");switch(r.style.cssText+="width: 100%; table-layout: fixed; border-spacing: 0;",i.appendChild(r),this.view()){case a.SchedulerViewEnum.Day:{let e=document.createElement("tr");r.appendChild(e);let t=document.createElement("th");t.className="vrSchedulerThInterval",e.appendChild(t),this.createIntervalCombo(t);for(let t of this.resources()){let i=null!=t.text?t.text:"",r=document.createElement("th");r.title=i.toUpperCase(),r.className="vrSchedulerDayResource",r.setAttribute("resourceId",t.value),r.setAttribute("resourceName",i.replace(" ","~")),e.appendChild(r);let n=document.createElement("span");n.innerHTML=i.toUpperCase(),r.appendChild(n);let a=document.createElement("div");a.classList.add("vrSchedulerDivSaturation"),r.appendChild(a),this.saturationVisible()&&(a.style.cssText+="display: flex;");let o=document.createElement("span");o.classList.add("vrSchedulerSpanSaturation"),a.appendChild(o)}}break;case a.SchedulerViewEnum.Week:case a.SchedulerViewEnum.FourWeeks:{let t=this.view()==a.SchedulerViewEnum.FourWeeks?4*e.numberOfWorkDays:e.numberOfWorkDays;if(this.groupWeekByDate()){let i=document.createElement("tr");r.appendChild(i);let n=document.createElement("th");n.className="vrSchedulerThInterval",i.appendChild(n),this.createIntervalCombo(n);let a=Date.vrGetFirstDayOfWeekByDate(this.date()),o=0;for(let r=0;r<t;r++){o=r%e.numberOfWorkDays==0&&r>0?o+(7-e.numberOfWorkDays):o;let t=a.vrAddDays(o),n=e.daysOfWeekNames[t.getDay()],l=t.getDate(),s=document.createElement("th");s.title=l+" "+n,s.colSpan=this.resources().length,s.className="vrSchedulerWeekDay",s.setAttribute("day",String(l)),s.setAttribute("month",String(t.getMonth())),s.setAttribute("year",String(t.getFullYear())),s.innerHTML=l+" "+n,s.innerHTML=l+" "+n,i.appendChild(s),o++}let l=document.createElement("tr");r.appendChild(l);let s=document.createElement("th");s.className="vrSchedulerThInterval",l.appendChild(s);let u=0;for(let i=0;i<t;i++){u=i%e.numberOfWorkDays==0&&i>0?u+(7-e.numberOfWorkDays):u;let t=a.vrAddDays(u),r=t.getDate();for(let e of this.resources()){let i=null!=e.text?e.text:"",n=document.createElement("th");n.title=i.toUpperCase(),n.className="vrSchedulerDayResource",n.setAttribute("resourceId",e.value),n.setAttribute("resourceName",i.replace(" ","~")),n.setAttribute("day",String(r)),n.setAttribute("month",String(t.getMonth())),n.setAttribute("year",String(t.getFullYear())),l.appendChild(n);let a=document.createElement("span");a.innerHTML=i.toUpperCase(),n.appendChild(a);let o=document.createElement("div");o.classList.add("vrSchedulerDivSaturation"),n.appendChild(o),this.saturationVisible()&&(o.style.cssText+="display: flex;");let s=document.createElement("span");s.classList.add("vrSchedulerSpanSaturation"),o.appendChild(s)}u++}}else{let i=document.createElement("tr");r.appendChild(i);let n=document.createElement("th");n.className="vrSchedulerThInterval",i.appendChild(n),this.createIntervalCombo(n);let a=i;if(this.groupedByResource()){for(let e of this.resources()){let r=null!=e.text?e.text:"",n=document.createElement("th");n.title=r.toUpperCase(),n.className="vrSchedulerDayResource",n.setAttribute("resourceId",e.value),n.setAttribute("resourceName",r.replace(" ","~")),n.colSpan=t,i.appendChild(n);let a=document.createElement("span");a.innerHTML=r.toUpperCase(),n.appendChild(a);let o=document.createElement("span");o.classList.add("vrSchedulerSaturationPercentage"),n.appendChild(o)}a=document.createElement("tr"),r.appendChild(a);let e=document.createElement("th");e.className="vrSchedulerThInterval",a.appendChild(e)}for(let i of this.resources()){let r=Date.vrGetFirstDayOfWeekByDate(this.date()),n=0;for(let o=0;o<t;o++){n=o%e.numberOfWorkDays==0&&o>0?n+(7-e.numberOfWorkDays):n;let t=r.vrAddDays(n),l=e.daysOfWeekNames[t.getDay()],s=t.getDate(),u=document.createElement("th");u.title=s+" "+l,u.className="vrSchedulerWeekDay",u.setAttribute("day",String(s)),u.setAttribute("month",String(t.getMonth())),u.setAttribute("year",String(t.getFullYear())),u.setAttribute("resourceId",i.value),a.appendChild(u);let d=document.createElement("span");d.innerHTML=s+" "+l,u.appendChild(d);let c=document.createElement("div");c.classList.add("vrSchedulerDivSaturation"),u.appendChild(c),this.saturationVisible()&&(c.style.cssText+="display: flex;");let p=document.createElement("span");p.classList.add("vrSchedulerSpanSaturation"),c.appendChild(p),n++}}}}}t.appendChild(i)}createIntervalCombo(e){let t=this.getOptions();null!=this._cmbInterval&&this._cmbInterval.container().parentNode.removeChild(this._cmbInterval.container()),this._cmbInterval=a.createComboBox({mode:a.ComboBoxTypeEnum.DropDown,value:t.timeslotIntervalDuration,cssContainer:"top: 2px;",popupSettings:{width:50},width:60,items:[{text:"5 min",value:"5"},{text:"10 min",value:"10"},{text:"15 min",value:"15"},{text:"25 min",value:"25"},{text:"30 min",value:"30"},{text:"60 min",value:"60"}],onAfterChange:e=>window.setTimeout(()=>this.timeslotInterval(Number(e.sender.value())))},e)}drawContent(){let e=this.getOptions(),t=this.getDivContent();if(null==t){t=a.div(this.element(),{class:"vrSchedulerDivContent"});let i=0;if(null==e.height){let t=a.puma(this.container()).offset().top,r=window.innerHeight-t,n=a.puma(this.container()).find(".vrSchedulerDivToolbar").outerHeight();e.showToolbar||(n=0);let o=a.puma(this.container()).find(".vrSchedulerDivHeader").outerHeight();e.showHeader||(o=0),i=r-n-o}else i=e.height;a.puma(t).height(i)}a.puma(t).empty();let i=document.createDocumentFragment(),r=document.createElement("table");r.style.cssText+="width: 100%; table-layout: fixed; border-spacing: 0;",i.appendChild(r);let n=Date.vrDifferenceBetweenDatesInMinutes(e.startTime,e.endTime)/e.timeslotIntervalDuration;switch(this._slotElementList=[],this.view()){case a.SchedulerViewEnum.Day:{let t=new Date(this.date().setHours(e.startTime.getHours(),e.startTime.getMinutes()));for(let i=0;i<n;i++){let o=document.createElement("tr");r.appendChild(o);let l=new Date(t);l.setSeconds(0,0);let s=l.toTimeString(),u=i%2==0?s:"",d=document.createElement("th");d.innerHTML=u,d.classList.add("vrSchedulerThTime"),i%2==0&&i>0&&d.classList.add("borderTopSolid"),o.appendChild(d),e.timeColumn||(d.style.cssText+="display: none;");let c=new Date(t);c.vrAddMinutes(e.timeslotIntervalDuration),c.setSeconds(0,0);let p=0,h=0==i?"":i%2==0?"borderTopSolid":"borderTopDotted",m=i==n-1?"borderBottomSolid":"";for(let e of this.resources()){let t=document.createElement("td");""!=h&&t.classList.add(h),""!=m&&t.classList.add(m),t.title=s,o.appendChild(t);let r=new a.SchedulerSlotElement;r.resourceId=null!=e?e.value:"0",r.start=l,r.end=c,r.columnIndex=p,r.rowIndex=i,this._slotElementList.push(r),p++}t.vrAddMinutes(e.timeslotIntervalDuration)}}break;case a.SchedulerViewEnum.Week:case a.SchedulerViewEnum.FourWeeks:{let t=this.view()==a.SchedulerViewEnum.FourWeeks?4*e.numberOfWorkDays:e.numberOfWorkDays,i=Date.vrGetFirstDayOfWeekByDate(this.date()),n=Date.vrDifferenceBetweenDatesInMinutes(e.startTime,e.endTime)/e.timeslotIntervalDuration;if(this.groupWeekByDate()){let o=new Date(e.startTime);for(let l=0;l<n;l++){let s=document.createElement("tr");r.appendChild(s);let u=o.toTimeString(),d=l%2==0?u:"",c=document.createElement("th");c.innerHTML=d,c.classList.add("vrSchedulerThTime"),l%2==0&&l>0&&c.classList.add("borderTopSolid"),s.appendChild(c),e.timeColumn||(c.style.cssText+="display: none;");let p=0==l?"":l%2==0?"borderTopSolid":"borderTopDotted",h=l==n-1?"borderBottomSolid":"",m=0;for(let r=0;r<t;r++){let t=new Date(i);t.setHours(o.getHours(),o.getMinutes(),0,0),t=t.vrAddDays(r);for(let i of this.resources()){let r=new Date(t);r.vrAddMinutes(e.timeslotIntervalDuration);let n=document.createElement("td");""!=p&&n.classList.add(p),""!=h&&n.classList.add(h),n.title=u,s.appendChild(n),(m+1)%this.resources().length==0&&n.classList.add("borderRightSolid");let o=new a.SchedulerSlotElement;o.resourceId=null!=i?i.value:"0",o.start=t,o.end=r,o.columnIndex=m,o.rowIndex=l,this._slotElementList.push(o),m++}}o.vrAddMinutes(e.timeslotIntervalDuration)}}else{let o=new Date(e.startTime);for(let l=0;l<n;l++){let s=document.createElement("tr");r.appendChild(s);let u=o.toTimeString(),d=l%2==0?u:"",c=document.createElement("th");c.innerHTML=d,c.classList.add("vrSchedulerThTime"),l%2==0&&l>0&&c.classList.add("borderTopSolid"),s.appendChild(c),e.timeColumn||(c.style.cssText+="display: none;");let p=0==l?"":l%2==0?"borderTopSolid":"borderTopDotted",h=l==n-1?"borderBottomSolid":"",m=0;for(let r of this.resources()){i.setHours(o.getHours(),o.getMinutes(),0,0);let n=0;for(let o=0;o<t;o++){n=o%e.numberOfWorkDays==0&&o>0?n+(7-e.numberOfWorkDays):n;let d=i.vrAddDays(n),c=new Date(d);c.vrAddMinutes(e.timeslotIntervalDuration);let f=document.createElement("td");""!=p&&f.classList.add(p),""!=h&&f.classList.add(h),f.title=u,s.appendChild(f),o==t-1&&f.classList.add("borderRightSolid"),n++;let g=new a.SchedulerSlotElement;g.resourceId=null!=r?r.value:"0",g.start=d,g.end=c,g.columnIndex=m,g.rowIndex=l,this._slotElementList.push(g),m++}}o.vrAddMinutes(e.timeslotIntervalDuration)}}}}t.appendChild(i),a.puma(this.getDivContent()).remove(".vrSchedulerNowLine");let o=this.date();o.setHours((new Date).getHours(),(new Date).getMinutes(),0,0);let l=this._slotElementList.filter(e=>Date.vrArePeriodsOverlapped(e.start,e.end,o,o,!0))[0];if(null!=l){a.puma("<div class='vrSchedulerNowLine'><i class='fa fa-caret-left'></i></div>").vrAppendToPuma(this.getDivContent())[0].style.cssText+="left: "+this._timeColumnWidth+"px; top: "+(33*l.rowIndex-1)+"px; width: Calc(100% - "+this._timeColumnWidth+"px);"}this.adaptHeight()}adaptHeight(){let e=this.getDivContent(),t=this.getOptions(),i=0;if(null==t.height){let e=a.puma(this.container()).offset().top,r=window.innerHeight-e,n=a.puma(this.container()).find(".vrSchedulerDivToolbar").outerHeight();t.showToolbar||(n=0);let o=a.puma(this.container()).find(".vrSchedulerDivHeader").outerHeight();t.showHeader||(o=0),i=r-(n+o)}else i=t.height;a.puma(e).height(i)}height(e){let t=super.height(e);return a.puma(this.getDivContent()).height("100%"),t}view(e){if(null!=e){let t=this.getOptions();if(null!=t.onViewChange){let i=new d;if(i.sender=this,i.previousView=this._actualView,i.view=e,t.onViewChange(i),i.isDefaultPrevented())return this._actualView}switch(this._actualView=e,this._btgMenuView.select([e],!1),this.drawScheduler(),e){case a.SchedulerViewEnum.Day:this._swtGroupByDateResource.hide(),this._dtpSchedulerDate.format(a.DateFormatEnum.LongDate);break;case a.SchedulerViewEnum.Week:this._swtGroupByDateResource.show(),this._dtpSchedulerDate.format(a.DateFormatEnum.WeekRange);break;case a.SchedulerViewEnum.FourWeeks:this._swtGroupByDateResource.hide(),this._dtpSchedulerDate.format(a.DateFormatEnum.FourWeeksRange)}this.groupedByResource()||this._swtGroupByDateResource.hide()}return this._actualView}date(e,t=!0){let i=this.getOptions();if(null!=e&&(this._dtpSchedulerDate.value()!=e&&this._dtpSchedulerDate.value(e,!1),null!=this._dtpSchedulerDate.value()&&this.drawScheduler(),null!=i.onNavigate)){if(null==this._actualNavigateAction&&(this._actualNavigateAction=a.SchedulerNavigateActionEnum.ChangeDate),t){let t=new u;t.sender=this,t.action=this._actualNavigateAction,t.previousDate=this._dtpSchedulerDate.value(),t.date=e,t.view=this.view(),i.onNavigate(t)}this._actualNavigateAction=null}return this._dtpSchedulerDate.value()}resources(e){let t=this.getOptions();if(null!=e){let i=null;switch(this.view()){case a.SchedulerViewEnum.Day:i=t.maxResourcesNumber.dayView;break;case a.SchedulerViewEnum.Week:i=t.maxResourcesNumber.weekView;break;case a.SchedulerViewEnum.FourWeeks:i=t.maxResourcesNumber.fourWeeksView}null!=i&&e.length>i?a.confirm("Stai impostando un numero di risorse maggiore<br /> del limite massimo impostato ("+i+").<br /> Continuare comunque?").then(()=>{t.resources=e,this.drawScheduler(),this.triggerResourceChangeEvent()},()=>this.triggerResourceChangeEvent()):(t.resources=e,this.drawScheduler(),this.triggerResourceChangeEvent())}return t.resources}groupedByResource(){return this.resources().length>1||null!=this.resources()[0]&&""!=this.resources()[0].value}triggerResourceChangeEvent(){let e=this.getOptions();if(null!=e.onResourcesChange){let t=new p;t.resources=e.resources,t.view=this.view(),t.sender=this,e.onResourcesChange(t)}}timeslotInterval(e){let t=this.getOptions();if(null!=e){if(null!=t.onIntervalChange){let i=new c;if(i.sender=this,i.previousValue=t.timeslotIntervalDuration,i.value=e,i.view=this.view(),t.onIntervalChange(i),i.isDefaultPrevented())return t.timeslotIntervalDuration}t.timeslotIntervalDuration=e,this.drawScheduler()}return t.timeslotIntervalDuration}firstDayOfWeek(){return this.getOptions().firstDayOfWeek}startTime(){return this.getOptions().startTime}endTime(){return this.getOptions().endTime}groupWeekByDate(e){return null!=e&&(this._swtGroupByDateResource.checked(e,!1),this.drawScheduler(),this.rebind()),this.view()==a.SchedulerViewEnum.Week&&this._swtGroupByDateResource.checked()}fullscreen(e){null!=e&&(e?this._btnExpand.click():this._btnCollapse.click());let t=window.document;return!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)}datasource(e){if(null!=e&&this._slotElementList.length>0){if(0==e.length)return this._datasource=e,a.puma(this.container()).find(".vrSchedulerAppointment").remove(),e;let t=[];for(let i of e){i.positioned=!1,t.push(i);let e=new Date(i.end),n=new Date(i.start),a=Date.vrDifferenceBetweenDatesInDays(e,n);if(a>1){null==i.attributes&&(i.attributes=[]),i.attributes.push({key:"multiday",value:"true"});for(let e=1;e<=a;e++){let a=r.UtilityManager.duplicate(i),o=n.vrAddDays(e);o.setHours(this.startTime().getHours()),a.start=o,a.end=new Date(a.start).vrAddHours(1),null==a.attributes&&(a.attributes=[]),a.attributes.push({key:"multiday",value:"true"}),t.push(a)}}}e=t,this.checkMandatorySchedulerDataFields(e[0]),this._datasource=e,a.puma(this.container()).find(".vrSchedulerAppointment").remove();let i=document.createDocumentFragment(),n=Array.from(a.puma(this.container()).find(".vrSchedulerDivContent table tr:first-child td")).map(e=>a.puma(e).outerWidth()),o=n[0],l=e.vrGroupBy(e=>e.resourceId);for(let t of e){if(1==t.positioned)continue;if("0"!=t.resourceId&&(null==this.resources()[0]||!this.resources().map(e=>e.value).includes(String(t.resourceId))))continue;let e=l[t.resourceId],r=this.findOverlappedAppointments(t,e),s=1;for(let e of r)for(let i of e.slotsOccupied){i.columnPosition=[];let n=1,a=[];for(let o of r)if(o.id!=e.id)for(let e of o.slotsOccupied)Date.vrArePeriodsOverlapped(i.start,i.end,e.start,e.end)&&(a.push(t),n++);n>s&&(s=n),e.overlappedList=a.vrDistinctBy(e=>e.id)}r.vrSortDesc("duration");for(let e of r){let t=new Date(e.start);this.adaptDateToTimeslotDuration(t,h.Start);let r=new Date(e.end);this.adaptDateToTimeslotDuration(r,h.End);let l=e.slotsOccupied[0];if(null!=l){let u=Date.vrDifferenceBetweenDatesInMinutes(t,r),d=this.timeslotInterval(),c=33*Math.round(u/d)+u/d-6;c-=Math.round(u/d);let p=33*this._slotElementList[this._slotElementList.length-1].rowIndex+33,h=33*l.rowIndex+c;h>p&&(c=c-(h-p)-1);let m=e.slotsOccupied.map(e=>e.columnPosition),f=0;for(let e=0;e<s;e++){let t=!0;f=e;for(let i of m)1==i[e]&&(t=!1);if(t)break}let g=85*o/100/s;g=g,g<=0&&(g=1);n.slice(0,l.columnIndex).vrSum();let v=n[0]*l.columnIndex+f*g+f+this._timeColumnWidth;for(let t of e.slotsOccupied)t.columnPosition[f]=!0;let b=document.createElement("div");b.style.cssText+="top: "+33*l.rowIndex+"px; left: "+v+"px;",b.className="vrSchedulerAppointment",b.style.cssText+="width: "+g+"px; height: "+c+"px;",this.managePropertiesSchedulerData(b,e),i.appendChild(b);let _=this.getOptions();a.puma(b).on("mousedown",t=>{if(!this.enabled()||!_.editable.move||this._isResizing)return void t.preventDefault();if(0!=t.button)return void t.preventDefault();let i=a.puma(this.getDivContent()).offset().top,r=this.getDivContent().scrollTop,o=a.puma(this.getDivContent()).offset().left,l=null,s=t.clientX,u=t.clientY,d=null,c=0,p=0;for(let e of n){if(c+=e,c+this._timeColumnWidth>s)break;p++}d=this._slotElementList[p];let h=Math.abs(b.offsetTop-(t.clientY+r-i));a.puma(document).on("mousemove",t=>{if(!this.enabled()||!_.editable.move||this._isResizing)return void t.preventDefault();let c=t.clientX-o,p=t.clientY+r-i,m=b.offsetTop,f=b.clientHeight,g=b.offsetLeft,v=b.clientWidth;if(p>=m&&p<=m+f&&c>=g&&c<=g+v&&null==l)l=null;else if(t.clientX==s&&t.clientY==u)l=null;else{let i=null;i=null!=e.resourceId?this.datasource().filter(t=>t.id==b.id&&t.resourceId==e.resourceId)[0]:this.datasource().filter(e=>e.id==b.id)[0];let r=this.datasource().indexOf(i);i=this.datasource()[r];let o=0,s=0;for(let e of n){if(o+=e,o+this._timeColumnWidth>c)break;s++}l=this._slotElementList.filter(e=>e.columnIndex==s&&e.rowIndex==Math.trunc((p-h)/33))[0];let u=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),m=new Date(e.start),f=new Date(m).vrAddMinutes(u),g=this.getOptions();if(null==g.onMoveStart||this._isMoving){if(null!=g.onMoving){m=l.start,f=l.start.vrAddMinutes(u);let e=new x;if(e.sender=this,e.divElement=b,e.start=m,e.end=f,e.dataItem=i,e.resourceId=l.resourceId,g.onMoving(e),e.isDefaultPrevented())return t.preventDefault(),a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),void(l=null)}}else{this._isMoving=!0;let e=new C;if(e.sender=this,e.divElement=b,e.start=m,e.end=f,e.dataItem=i,e.resourceId=d.resourceId,g.onMoveStart(e),e.isDefaultPrevented())return t.preventDefault(),a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),l=null,void(this._isMoving=!1)}let v=33*Math.trunc((p-h)/33),y=n.slice(0,l.columnIndex).vrSum()+this._timeColumnWidth;b.style.top=v+"px",b.style.left=y+"px",b.classList.add("vrSchedulerAppointmentMoving")}}),a.puma(document).on("mouseup",()=>{if(this.enabled()&&_.editable.move&&!this._isResizing&&(a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),a.puma(b).removeClass("vrSchedulerAppointmentMoving"),a.puma(this.getDivContent()).remove(".vrSchedulerAppointmentMoving"),window.setTimeout(()=>this._isMoving=!1,100),null!=l)){let t=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),i=l.start,r=new Date(i).vrAddMinutes(t),n=null;n=null!=e.resourceId?this.datasource().filter(t=>t.id==b.id&&t.resourceId==e.resourceId)[0]:this.datasource().filter(e=>e.id==b.id)[0];let a=this.getOptions();if(null!=a.onMoveEnd){let e=new y;if(e.sender=this,e.divElement=b,e.start=i,e.end=r,e.dataItem=n,e.resourceId=l.resourceId,a.onMoveEnd(e),e.isDefaultPrevented())return void(l=null)}let o=this.datasource().indexOf(n);n=this.datasource()[o],n.start=i,n.end=r,n.resourceId=l.resourceId,l=null}})}),this.setResizing(b,e)}}}this.getDivContent().appendChild(i)}return null==this._datasource?[]:this._datasource}setResizing(e,t){let i=this.getOptions();if(!this.enabled()||!i.editable.resize)return;let r=document.createElement("div");r.classList.add("vrSchedulerDivResize");let n=document.createElement("div");n.classList.add("vrSchedulerDivResizeInside"),r.appendChild(n),e.appendChild(r),a.puma(e).on("mouseover",e=>r.style.display="block"),a.puma(e).on("mouseout",e=>r.style.display="none");let o,l=null,s=a.puma(this.getDivContent()).offset().top,u=this.getDivContent().scrollTop,d=(a.puma(this.getDivContent()).offset().left,!1);a.puma(r).on("mousedown",r=>{if(0!=r.button)return void r.preventDefault();this._isResizing=!0,l=r.pageY;let n=e.offsetHeight;a.puma(document).on("mousemove",r=>{if(null!=e){let c=null;c=null!=t.resourceId?this.datasource().filter(i=>i.id==e.id&&i.resourceId==t.resourceId)[0]:this.datasource().filter(t=>t.id==e.id)[0];let p=this.datasource().indexOf(c);c=this.datasource()[p];r.clientX;let h=r.clientY+u-s;if(o=this._slotElementList.filter(e=>e.resourceId==t.resourceId&&e.rowIndex==Math.trunc(h/33))[0],null==i.onResizeStart||d){if(null!=i.onResizing){let n=new S;if(n.sender=this,n.divElement=e,n.start=t.start,n.end=o.end,n.dataItem=c,n.resourceId=t.resourceId,i.onResizing(n),n.isDefaultPrevented())return r.preventDefault(),a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),void(o=null)}}else{this._isResizing=!0,d=!0;let n=new w;if(n.sender=this,n.divElement=e,n.start=t.start,n.end=t.end,n.dataItem=c,n.resourceId=t.resourceId,i.onResizeStart(n),n.isDefaultPrevented())return r.preventDefault(),a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),o=null,this._isResizing=!1,void(d=!1)}let m=r.pageY-l,f=33*Math.trunc(m/33),g=n+f;g-=g%33,e.style.height=g+"px"}}),a.puma(document).on("mouseup",()=>{if(a.puma(document).unbind("mouseup"),a.puma(document).unbind("mousemove"),window.setTimeout(()=>this._isResizing=!1,100),null!=o){let i=null;i=null!=t.resourceId?this.datasource().filter(i=>i.id==e.id&&i.resourceId==t.resourceId)[0]:this.datasource().filter(t=>t.id==e.id)[0];let r=this.getOptions();if(null!=r.onResizeEnd){let i=new y;if(i.sender=this,i.divElement=e,i.start=t.start,i.end=o.end,i.dataItem=t,i.resourceId=t.resourceId,r.onResizeEnd(i),i.isDefaultPrevented())return void(o=null)}let n=this.datasource().indexOf(i);i=this.datasource()[n],i.start=t.start,i.end=o.end,i.resourceId=t.resourceId,o=null,l=null}})})}availabilities(e){if(null!=e&&e.length>0){let t=this.getOptions();this.checkMandatorySchedulerDataFields(e[0]),this._availabilities=e,a.puma(this.container()).find(".vrSchedulerAvailability").remove();let i=document.createDocumentFragment(),r=Array.from(a.puma(this.container()).find(".vrSchedulerDivContent table tr:first-child td")).map(e=>a.puma(e).outerWidth()),n=Date.vrDifferenceBetweenDatesInMinutes(t.startTime,t.endTime),o=a.puma(this.getDivContent()).find("table").height();for(let t of e){let e=Date.vrConvertDateFromServer(new Date(t.start)),a=Date.vrConvertDateFromServer(new Date(t.end)),l=this._slotElementList.filter(i=>(t.resourceId==i.resourceId||null==t.resourceId)&&Date.vrArePeriodsOverlapped(i.start,i.end,e,a))[0];if(null!=l){let e=r[0]*l.columnIndex+this._timeColumnWidth,a=33*l.rowIndex,s=Date.vrDifferenceBetweenDatesInMinutes(l.start,t.end);s>n&&(s=n);let u=33*Math.round(s/this.timeslotInterval());u-=u%33,u<=0&&(u=33),a+u>o&&(u-=a+u-o);let d=document.createElement("div");d.style.cssText="top: "+a+"px; left: "+e+"px;",d.className="vrSchedulerAvailability",d.style.cssText+="width: "+r[l.columnIndex]+"px; height: "+u+"px;",this.managePropertiesSchedulerData(d,t),i.appendChild(d)}}this.getDivContent().appendChild(i)}return this._availabilities}checkMandatorySchedulerDataFields(e){let t=[];if(null==e.id&&t.push("id"),null==e.start&&t.push("start"),null==e.end&&t.push("end"),t.length>0)throw Error("Prevedere i seguenti campi: "+t.toString())}managePropertiesSchedulerData(e,t){if(e.id=t.id,null!=t.tooltip&&e.setAttribute("title",t.tooltip),null!=t.backgroundColor&&(e.style.backgroundColor=t.backgroundColor),null!=t.textColor&&(e.style.color=t.textColor),null!=t.text&&e.insertAdjacentHTML("afterbegin",t.text),null!=t.css&&""!=t.css&&(e.style.cssText+=t.css),null!=t.class&&""!=t.class&&e.classList.add(t.class),e.setAttribute("resourceId",t.resourceId),e.setAttribute("start",t.start.toString()),e.setAttribute("end",t.end.toString()),null!=t.attributes)for(let i of t.attributes)e.setAttribute(i.key,i.value)}rebind(e=!0,t=!0){e&&this.rebindAppointments(),t&&this.rebindAvailabilities()}rebindAppointments(){this.datasource(this._datasource)}rebindAvailabilities(){this.availabilities(this._availabilities)}saturation(e){if(null!=e)switch(null==e.manual&&(e.manual=!1),this._saturationData=e,this._saturationVisible=!0,e.manual||this.internalHideSaturation(),this.view()){case a.SchedulerViewEnum.Day:{let t=e.dayMode;if(null!=t){for(let e of t){null!=e.date&&"string"==typeof e.date&&(e.date=new Date(e.date),e.date.setHours(0,0,0));let t=this.date();if(t.setHours(0,0,0),null!=e.date&&!Date.vrEquals(e.date,t))break;let i=a.puma(".vrSchedulerDayResource[resourceId='"+e.resourceId+"'] .vrSchedulerDivSaturation")[0],r=a.puma(".vrSchedulerDayResource[resourceId='"+e.resourceId+"'] .vrSchedulerSpanSaturation")[0];this.manageSaturationPercentage(e,i,r)}this.adaptHeight()}}break;case a.SchedulerViewEnum.Week:{let t=e.weekMode;if(null!=t){if(this.groupWeekByDate()){let e=t.groupedByDate;if(null!=e)for(let t of e){"string"==typeof t.date&&(t.date=new Date(t.date),t.date.setHours(0,0,0));let e=t.date.getDate(),i=t.date.getMonth(),r=t.date.getFullYear();if(null!=t.resourceList)for(let n of t.resourceList){let t=a.puma(".vrSchedulerDayResource[resourceId='"+n.id+"'][day='"+e+"'][month='"+i+"'][year='"+r+"']")[0];if(null!=t){let e=a.puma(t).find(".vrSchedulerDivSaturation")[0],i=a.puma(t).find(".vrSchedulerSpanSaturation")[0];this.manageSaturationPercentage(n,e,i)}}}}else{let e=t.groupedByResource;if(null!=e)for(let t of e)this.manageWeekDateList(t)}this.adaptHeight()}}break;case a.SchedulerViewEnum.FourWeeks:{let t=e.fourWeeksMode;if(null!=t){for(let e of t)this.manageWeekDateList(e);this.adaptHeight()}}}return this._saturationData}manageSaturationPercentage(e,t,i){let r=null!=e.borderColor?e.borderColor:"#CCC";null!=t&&(t.style.cssText+="border-color: "+r+";");let n=null!=e.color?e.color:"#bbb8b8";null!=i&&(a.puma(i).width(e.percentageValue+"%"),i.style.cssText+="background-color: "+n+";",i.parentElement.title=e.percentageValue+"%",null!=e.percentageValue&&a.puma(i).parent().css("display","flex"))}manageWeekDateList(e){let t=a.puma(".vrSchedulerDayResource[resourceId='"+e.resourceId+"'] .vrSchedulerSaturationPercentage")[0];if(null!=t&&(a.puma(t).show(),t.innerHTML=" "+(null!=e.percentageValue?e.percentageValue:"")+"%",null==e.titleColor&&(e.titleColor="#000"),t.style.cssText+="color: "+e.titleColor),null!=e.dateList)for(let t of e.dateList){"string"==typeof t.date&&(t.date=new Date(t.date),t.date.setHours(0,0,0));let i=null!=t.color?t.color:"#bbb8b8",r=t.date.getDate(),n=t.date.getMonth(),o=t.date.getFullYear(),l=a.puma(".vrSchedulerWeekDay[resourceId='"+e.resourceId+"'][day='"+r+"'][month='"+n+"'][year='"+o+"']")[0];if(null!=l){let e=a.puma(l).find(".vrSchedulerDivSaturation")[0],r=null!=t.borderColor?t.borderColor:"#CCC";null!=e&&(e.style.cssText+="border-color: "+r+";");let n=a.puma(l).find(".vrSchedulerSpanSaturation")[0];null!=n&&(a.puma(n).width(t.percentageValue+"%"),n.style.cssText+="background-color: "+i+";",n.parentElement.title=t.percentageValue+"%",null!=t.percentageValue&&a.puma(n).parent().css("display","flex"))}}}clearSaturation(){this._saturationData=void 0,this.hideSaturation()}showSaturation(){this.internalShowSaturation(),this._saturationVisible=!0}internalShowSaturation(){for(let e of Array.from(a.puma(".vrSchedulerDivSaturation")))e.style.cssText+="display: flex;";a.puma(".vrSchedulerSaturationPercentage").show(),this.adaptHeight()}hideSaturation(){this.internalHideSaturation(),this._saturationVisible=!1}internalHideSaturation(){a.puma(".vrSchedulerDivSaturation").hide(),a.puma(".vrSchedulerSaturationPercentage").hide(),this.adaptHeight()}saturationVisible(){return this._saturationVisible}bounceAppointment(e){e.startsWith("#")||(e="#"+e);let t=a.puma(e)[0];null!=t&&(t.classList.add("vrSchedulerAppointmentAnimated"),t.classList.add("vrSchedulerAppointmentBounce"))}manageSchedulerClick(){a.puma(this.element()).on("click",".vrSchedulerDivContent td, .vrSchedulerAppointment, .vrSchedulerAvailability",e=>{let t=this.getOptions();if(!this.enabled())return;let i=a.puma(e.currentTarget),r=a.puma(this.getDivContent()).offset().top,n=this.getDivContent().scrollTop,o=a.puma(this.getDivContent()).offset().left,l=a.puma(this.container()).find(".vrSchedulerDivContent table td").outerWidth(),s=e.clientX-o,u=e.clientY+n-r,d=this._slotElementList.filter(e=>e.columnIndex==Math.trunc((s-63)/l)&&e.rowIndex==Math.trunc(u/33))[0];if(null!=d)if(0!=e.button||this._isMoving||this._isResizing)this._isMoving=!1,this._isResizing=!1;else if(i.hasClass("vrSchedulerAppointment")){let e=this.datasource().filter(e=>e.id==i[0].id)[0],r=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),n=new Date(e.start),a=new Date(n).vrAddMinutes(r);if(null!=t.onAppointmentClick){let r=new g;r.sender=this,r.slotElement=d,r.start=n,r.end=a,r.resourceId=e.resourceId,r.dataItem=e,r.element=i[0],t.onAppointmentClick(r)}}else if(i.hasClass("vrSchedulerAvailability")){let e=this.availabilities().filter(e=>e.id==i[0].id)[0],r=Date.vrDifferenceBetweenDatesInMinutes(e.end,e.start),n=new Date(e.start),a=new Date(n).vrAddMinutes(r);if(null!=t.onAvailabilityClick){let r=new v;r.sender=this,r.slotElement=d,r.start=n,r.end=a,r.resourceId=e.resourceId,r.dataItem=e,r.element=i[0],t.onAvailabilityClick(r)}}else if(null!=t.onTimeslotClick){let e=new f;e.sender=this,e.slotElement=d,e.start=d.start,e.end=d.end,e.resourceId=d.resourceId,e.element=i[0],t.onTimeslotClick(e)}}),a.puma(this.element()).on("click",".vrSchedulerDayResource",e=>{if(0==e.button){let t=a.puma(e.currentTarget),i=t[0].getAttribute("resourceId"),r=t[0].getAttribute("resourceName").replace("~"," "),n=new a.SchedulerResource;n.value=i,n.text=r,this.resources([n]),this.view(a.SchedulerViewEnum.FourWeeks)}}),a.puma(this.element()).on("click",".vrSchedulerWeekDay",e=>{if(0==e.button){let t=a.puma(e.currentTarget),i=t[0].getAttribute("day"),r=t[0].getAttribute("month"),n=t[0].getAttribute("year");this.view(a.SchedulerViewEnum.Day);let o=new Date(n,r,i);this.date(o)}})}getDivContent(){return a.puma(this.container()).find(".vrSchedulerDivContent")[0]}findOverlappedAppointments(e,t){let i=new Date(e.start);this.adaptDateToTimeslotDuration(i,h.Start);let r=new Date(e.end);this.adaptDateToTimeslotDuration(r,h.End);let n=this.getAppointmentSlots(e),a=[];e.positioned=!0,e.slotsOccupied=n,a.push(e);for(let e of t){if(e.positioned)continue;let n=new Date(e.start);this.adaptDateToTimeslotDuration(n,h.Start);let o=new Date(e.end);if(this.adaptDateToTimeslotDuration(o,h.End),i<o&&r>n){let i=this.findOverlappedAppointments(e,t);for(let e of i)a.push(e)}}return a}adaptDateToTimeslotDuration(e,t){let i=e.getMinutes(),r=this.timeslotInterval();return t==h.Start?i%r>0&&e.setMinutes(i-i%r):t==h.End&&i%r>0&&e.setMinutes(i+(r-i%r)),e}getAppointmentSlots(e){let t=new Date(e.start),i=new Date(e.end);return this._slotElementList.filter(r=>(e.resourceId==r.resourceId||null==e.resourceId)&&r.start.getDate()==t.getDate()&&Date.vrArePeriodsOverlapped(r.start,r.end,t,i))}exportPdf(e="Calendario.pdf",t=!1,i=!1,r=!0){r&&a.showLoader(),t||(a.puma(this.container()).find(".vrSchedulerDivContent")[0].style.cssText+="height: unset;"),window.setTimeout(()=>{html2canvas(this.container()).then(t=>{let n=$(this.container()).width(),o=$(this.container()).height(),l=n+0,s=1*l+0,u=Math.ceil(o/s)-1,d=new jsPDF({orientation:"landscape",unit:"pt",format:[l,s]});var c=t.toDataURL("image/png",1);d.addImage(c,"png",0,0,n,o);for(let e=1;e<=u;e++)d.addPage([l,s],"landscape"),d.addImage(c,"png",0,-s*e+0,n,o);i&&d.autoPrint(),d.save(e),r&&a.hideLoader()})},100)}getOptions(){return this.options()}}t.Scheduler=l;class s extends n.VrControlsEvent{}class u extends s{}class d extends s{}class c extends s{}class p extends s{}var h;!function(e){e[e.Start=0]="Start",e[e.End=1]="End"}(h||(h={}));class m extends s{}class f extends m{}t.SchedulerTimeslotClickEvent=f;class g extends m{}t.SchedulerAppointmentClickEvent=g;class v extends m{}t.SchedulerAvailabilityClickEvent=v;class b extends s{}class C extends b{}class x extends b{}class y extends b{}class _ extends s{}class w extends _{}class S extends _{}class k{}class T extends s{}class E extends T{}class D extends T{}class B{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QrCode=t.QrCodeOptions=void 0;const r=i(43),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.QrCodeOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.width&&(t.width=200),null==t.color&&(t.color="#000000"),null==t.wrap&&(t.wrap=!0),null==t.tabIndex&&(t.tabIndex=-1),null==t.border&&(t.border=!1),!0===t.border&&(t.border=new s),!1!==t.border&&(null==t.border.color&&(t.border.color=t.color),null==t.border.size&&(t.border.size=1),null==t.border.style&&(t.border.style=a.BorderStyleEnum.Solid)),super(e,t,a.ControlTypeEnum.QrCode),null!=t.value&&this.value(t.value),null!=t.onClick&&(this.element().style.cssText+="cursor: pointer;",a.puma(this.element()).on("click",e=>{let i=new u;i.sender=this,i.value=this.value(),t.onClick(i)}))}value(e){if(null!=e){if(""===e)return this.clear(),"";let t=this.getOptions();a.puma(this.element()).empty();let i=r.QrCodeManager.encodeText(String(e),r.Ecc.MEDIUM).toSvgString(4,t.color);if(a.puma(this.element()).vrAppendPuma(i),this._svg=a.puma(this.element()).find("svg")[0],t.wrap||(a.puma(this._svg).find("rect")[0].style.cssText+="fill: transparent;"),!1!==t.border){let e=t.border;this._svg.style.cssText+="border-style: "+e.style+"; border-width: "+e.size+"px; border-color: "+e.color+";"}this._value=e,this.tooltip(String(e))}return String(this._value)}svg(){return this._svg}clear(){a.puma(this.element()).empty(),this._value="",this.tooltip("")}getOptions(){return this.options()}}t.QrCode=l;class s{}class u extends n.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=t.Ecc=t.QrSegment=t.QrCodeManager=void 0;class r{constructor(e,t,i,n){if(this.version=e,this.errorCorrectionLevel=t,this.mask=n,this.modules=[],this.isFunction=[],e<r.MIN_VERSION||e>r.MAX_VERSION)throw"Version value out of range";if(n<-1||n>7)throw"Mask value out of range";this.size=4*e+17;let a=[];for(let e=0;e<this.size;e++)a.push(!1);for(let e=0;e<this.size;e++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(i);if(this.drawCodewords(o),-1==n){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const i=this.getPenaltyScore();i<e&&(n=t,e=i),this.applyMask(t)}}if(n<0||n>7)throw"Assertion error";this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}static encodeText(e,t){const i=o.makeSegments(e);return r.encodeSegments(i,t)}static encodeBinary(e,t){const i=o.makeBytes(e);return r.encodeSegments([i],t)}static encodeSegments(e,t,i=1,a=40,s=-1,u=!0){if(!(r.MIN_VERSION<=i&&i<=a&&a<=r.MAX_VERSION)||s<-1||s>7)throw"Invalid value";let d,c;for(d=i;;d++){const i=8*r.getNumDataCodewords(d,t),n=o.getTotalBits(e,d);if(n<=i){c=n;break}if(d>=a)throw"Data too long"}for(const e of[l.MEDIUM,l.QUARTILE,l.HIGH])u&&c<=8*r.getNumDataCodewords(d,e)&&(t=e);let p=[];for(const t of e){n(t.mode.modeBits,4,p),n(t.numChars,t.mode.numCharCountBits(d),p);for(const e of t.getData())p.push(e)}if(p.length!=c)throw"Assertion error";const h=8*r.getNumDataCodewords(d,t);if(p.length>h)throw"Assertion error";if(n(0,Math.min(4,h-p.length),p),n(0,(8-p.length%8)%8,p),p.length%8!=0)throw"Assertion error";for(let e=236;p.length<h;e^=253)n(e,8,p);let m=[];for(;8*m.length<p.length;)m.push(0);return p.forEach((e,t)=>m[t>>>3]|=e<<7-(7&t)),new r(d,t,m,s)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}drawCanvas(e,t,i){if(e<=0||t<0)throw"Value out of range";const r=(this.size+2*t)*e;i.width=r,i.height=r;let n=i.getContext("2d");for(let i=-t;i<this.size+t;i++)for(let r=-t;r<this.size+t;r++)n.fillStyle=this.getModule(r,i)?"#000000":"#FFFFFF",n.fillRect((r+t)*e,(i+t)*e,e,e)}toSvgString(e,t){if(e<0)throw"Border must be non-negative";let i=[];for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++)this.getModule(r,t)&&i.push(`M${r+e},${t+e}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${this.size+2*e} ${this.size+2*e}" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="${i.join(" ")}" fill="`+t+'"/>\n</svg>\n'}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let i=0;i<t;i++)for(let r=0;r<t;r++)0==i&&0==r||0==i&&r==t-1||i==t-1&&0==r||this.drawAlignmentPattern(e[i],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let i=t;for(let e=0;e<10;e++)i=i<<1^1335*(i>>>9);const r=21522^(t<<10|i);if(r>>>15!=0)throw"Assertion error";for(let e=0;e<=5;e++)this.setFunctionModule(8,e,a(r,e));this.setFunctionModule(8,7,a(r,6)),this.setFunctionModule(8,8,a(r,7)),this.setFunctionModule(7,8,a(r,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,a(r,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,a(r,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,a(r,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;if(t>>>18!=0)throw"Assertion error";for(let e=0;e<18;e++){const i=a(t,e),r=this.size-11+e%3,n=Math.floor(e/3);this.setFunctionModule(r,n,i),this.setFunctionModule(n,r,i)}}drawFinderPattern(e,t){for(let i=-4;i<=4;i++)for(let r=-4;r<=4;r++){const n=Math.max(Math.abs(r),Math.abs(i)),a=e+r,o=t+i;0<=a&&a<this.size&&0<=o&&o<this.size&&this.setFunctionModule(a,o,2!=n&&4!=n)}}drawAlignmentPattern(e,t){for(let i=-2;i<=2;i++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+i,1!=Math.max(Math.abs(r),Math.abs(i)))}setFunctionModule(e,t,i){this.modules[t][e]=i,this.isFunction[t][e]=!0}addEccAndInterleave(e){const t=this.version,i=this.errorCorrectionLevel;if(e.length!=r.getNumDataCodewords(t,i))throw"Invalid argument";const n=r.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][t],a=r.ECC_CODEWORDS_PER_BLOCK[i.ordinal][t],o=Math.floor(r.getNumRawDataModules(t)/8),l=n-o%n,s=Math.floor(o/n);let u=[];const d=r.reedSolomonComputeDivisor(a);for(let t=0,i=0;t<n;t++){let n=e.slice(i,i+s-a+(t<l?0:1));i+=n.length;const o=r.reedSolomonComputeRemainder(n,d);t<l&&n.push(0),u.push(n.concat(o))}let c=[];for(let e=0;e<u[0].length;e++)u.forEach((t,i)=>{(e!=s-a||i>=l)&&c.push(t[e])});if(c.length!=o)throw"Assertion error";return c}drawCodewords(e){if(e.length!=Math.floor(r.getNumRawDataModules(this.version)/8))throw"Invalid argument";let t=0;for(let i=this.size-1;i>=1;i-=2){6==i&&(i=5);for(let r=0;r<this.size;r++)for(let n=0;n<2;n++){const o=i-n,l=0==(i+1&2)?this.size-1-r:r;!this.isFunction[l][o]&&t<8*e.length&&(this.modules[l][o]=a(e[t>>>3],7-(7&t)),t++)}}if(t!=8*e.length)throw"Assertion error"}applyMask(e){if(e<0||e>7)throw"Mask value out of range";for(let t=0;t<this.size;t++)for(let i=0;i<this.size;i++){let r;switch(e){case 0:r=(i+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=i%3==0;break;case 3:r=(i+t)%3==0;break;case 4:r=(Math.floor(i/3)+Math.floor(t/2))%2==0;break;case 5:r=i*t%2+i*t%3==0;break;case 6:r=(i*t%2+i*t%3)%2==0;break;case 7:r=((i+t)%2+i*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][i]&&r&&(this.modules[t][i]=!this.modules[t][i])}}getPenaltyScore(){let e=0;for(let t=0;t<this.size;t++){let i=!1,n=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[t][o]==i?(n++,5==n?e+=r.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,a),i||(e+=this.finderPenaltyCountPatterns(a)*r.PENALTY_N3),i=this.modules[t][o],n=1);e+=this.finderPenaltyTerminateAndCount(i,n,a)*r.PENALTY_N3}for(let t=0;t<this.size;t++){let i=!1,n=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][t]==i?(n++,5==n?e+=r.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,a),i||(e+=this.finderPenaltyCountPatterns(a)*r.PENALTY_N3),i=this.modules[o][t],n=1);e+=this.finderPenaltyTerminateAndCount(i,n,a)*r.PENALTY_N3}for(let t=0;t<this.size-1;t++)for(let i=0;i<this.size-1;i++){const n=this.modules[t][i];n==this.modules[t][i+1]&&n==this.modules[t+1][i]&&n==this.modules[t+1][i+1]&&(e+=r.PENALTY_N2)}let t=0;for(const e of this.modules)t=e.reduce((e,t)=>e+(t?1:0),t);const i=this.size*this.size;return e+=(Math.ceil(Math.abs(20*t-10*i)/i)-1)*r.PENALTY_N4,e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2));let i=[6];for(let r=this.size-7;i.length<e;r-=t)i.splice(1,0,r);return i}}static getNumRawDataModules(e){if(e<r.MIN_VERSION||e>r.MAX_VERSION)throw"Version number out of range";let t=(16*e+128)*e+64;if(e>=2){const i=Math.floor(e/7)+2;t-=(25*i-10)*i-55,e>=7&&(t-=36)}if(!(208<=t&&t<=29648))throw"Assertion error";return t}static getNumDataCodewords(e,t){return Math.floor(r.getNumRawDataModules(e)/8)-r.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*r.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw"Degree out of range";let t=[];for(let i=0;i<e-1;i++)t.push(0);t.push(1);let i=1;for(let n=0;n<e;n++){for(let e=0;e<t.length;e++)t[e]=r.reedSolomonMultiply(t[e],i),e+1<t.length&&(t[e]^=t[e+1]);i=r.reedSolomonMultiply(i,2)}return t}static reedSolomonComputeRemainder(e,t){let i=t.map(e=>0);for(const n of e){const e=n^i.shift();i.push(0),t.forEach((t,n)=>i[n]^=r.reedSolomonMultiply(t,e))}return i}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";let i=0;for(let r=7;r>=0;r--)i=i<<1^285*(i>>>7),i^=(t>>>r&1)*e;if(i>>>8!=0)throw"Assertion error";return i}finderPenaltyCountPatterns(e){const t=e[1];if(t>3*this.size)throw"Assertion error";const i=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(i&&e[0]>=4*t&&e[6]>=t?1:0)+(i&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,i){return e&&(this.finderPenaltyAddHistory(t,i),t=0),t+=this.size,this.finderPenaltyAddHistory(t,i),this.finderPenaltyCountPatterns(i)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}function n(e,t,i){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(let r=t-1;r>=0;r--)i.push(e>>>r&1)}function a(e,t){return 0!=(e>>>t&1)}t.QrCodeManager=r,r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class o{constructor(e,t,i){if(this.mode=e,this.numChars=t,this.bitData=i,t<0)throw"Invalid argument";this.bitData=i.slice()}static makeBytes(e){let t=[];for(const i of e)n(i,8,t);return new o(s.BYTE,e.length,t)}static makeNumeric(e){if(!this.NUMERIC_REGEX.test(e))throw"String contains non-numeric characters";let t=[];for(let i=0;i<e.length;){const r=Math.min(e.length-i,3);n(parseInt(e.substr(i,r),10),3*r+1,t),i+=r}return new o(s.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!this.ALPHANUMERIC_REGEX.test(e))throw"String contains unencodable characters in alphanumeric mode";let t,i=[];for(t=0;t+2<=e.length;t+=2){let r=45*o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));r+=o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),n(r,11,i)}return t<e.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,i),new o(s.ALPHANUMERIC,e.length,i)}static makeSegments(e){return""==e?[]:this.NUMERIC_REGEX.test(e)?[o.makeNumeric(e)]:this.ALPHANUMERIC_REGEX.test(e)?[o.makeAlphanumeric(e)]:[o.makeBytes(o.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw"ECI assignment value out of range";if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else{if(!(e<1e6))throw"ECI assignment value out of range";n(6,3,t),n(e,21,t)}return new o(s.ECI,0,t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let i=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;i+=4+e+r.bitData.length}return i}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let i=0;i<e.length;i++)"%"!=e.charAt(i)?t.push(e.charCodeAt(i)):(t.push(parseInt(e.substr(i+1,2),16)),i+=2);return t}}t.QrSegment=o,o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";class l{constructor(e,t){this.ordinal=e,this.formatBits=t}}t.Ecc=l,l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2);class s{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}t.Mode=s,s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0])},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiScheduler=t.MultiSchedulerOptions=void 0;const r=i(2),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.MultiSchedulerOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.dates&&(t.dates=[]),null==t.datasource&&(t.datasource=[]),null==t.resources&&(t.resources=[]),null==t.showNavigateButtons&&(t.showNavigateButtons=!0),null==t.maxDatesNumber&&(t.maxDatesNumber=6),null==t.timeslotIntervalDuration&&(t.timeslotIntervalDuration=30),super(e,t,a.ControlTypeEnum.MultiScheduler),this._resources=t.resources,this._dates=t.dates,this._dictionaryDateScheduler=new Map,this.element().style.cssText+="display: flex; flex-direction: column;",null!=t.dates&&this.dates(t.dates),null!=t.datasource&&this.datasource(t.datasource)}dates(e){if(null!=e&&e.length>0){let t=this.getOptions();this._dictionaryDateScheduler.clear(),a.puma(this.element()).empty(),e=e.slice(0,t.maxDatesNumber);let i=a.div(this.element(),{class:"vrMultiSchedulerDivDates",css:"display: flex; height: 22px;"});t.showNavigateButtons&&(a.createButton({icon:a.IconClassLight.ChevronLeft,cssContainer:"position: absolute; left: 10px; z-index: 9999999999999;",css:"border: none; background: none;",onClick:e=>{if(null!=t.onNavigate){let e=new s;e.sender=this,e.action=u.PrevDate,e.dates=this.dates(),t.onNavigate(e)}}},i),a.createButton({icon:a.IconClassLight.ChevronRight,cssContainer:"position: absolute; right: 10px; z-index: 9999999999999;",css:"border: none; background: none;",onClick:e=>{if(null!=t.onNavigate){let e=new s;e.sender=this,e.action=u.NextDate,e.dates=this.dates(),t.onNavigate(e)}}},i));let r=100/e.length;for(let n=-1;n<e.length;n++){let o=a.createLabel({align:a.TextAlignEnum.Center,class:"vrMultiSchedulerLblDate",css:"width: 100%;",cssContainer:(-1==n?"width: 63px; border-right: solid 1px #CCC; padding-left: 0px; padding-right: 0px;":"border-right: solid 1px #CCC; width: "+r+"%; padding-left: 5px; padding-right: 5px;")+"text-align: left; background-color: #f0f0f0; border-bottom: solid 1px #CCC; border-top: solid 1px #CCC;"},i);if(-1==n){let e=a.puma("<div>").vrPrependToPuma(o.container())[0];e.classList.add("vrMultiSchedulerTimeslotIntervalDuration"),this._cmbTimeslotIntervalDuration=a.createComboBox({mode:a.ComboBoxTypeEnum.DropDown,value:t.timeslotIntervalDuration,cssContainer:"width: 100%; top: 0px; left: 0px; height: 21px; border-right: solid 1px #CCC;",css:"width: Calc(100% - 6px); border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; padding-left: 6px; padding-right: 0px; text-align: left; height: 20px; border-top-right-radius: 0px; border-top-left-radius: 0px; background-color: #f0f0f0;border-top: 0px; border-bottom: 0px; top: 0px; position: absolute; border-right: solid 1px #CCC;",popupSettings:{width:50},width:60,items:[{text:"5 min",value:"5"},{text:"10 min",value:"10"},{text:"15 min",value:"15"},{text:"25 min",value:"25"},{text:"30 min",value:"30"},{text:"60 min",value:"60"}],onAfterChange:e=>{this.timeslotInterval(e.value),this.rebind()}},e)}else{let t=e[n],i={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour12:!1},r=new Intl.DateTimeFormat("it",i).format(t);o.value(r)}}a.div(i,{class:"vrMultiSchedulerDivBorderOverflow",css:"min-width: 17px; background-color: #f0f0f0; border-bottom: solid 1px #CCC;"});let n=a.div(this.element(),{class:"vrMultiSchedulerDivSchedulers",css:"display: flex; overflow-y: auto;"});for(let i=-1;i<e.length;i++){let o=-1==i?new Date:e[i];o.setHours(0,0,0,0);let l=a.createScheduler({addToControlList:!1,resources:this._resources,views:[{type:a.SchedulerViewEnum.Day,selected:!0}],date:o,cssContainer:"width: "+(-1==i?"63px;":r+"%;"),startTime:t.startTime,endTime:t.endTime,timeColumn:-1==i,timeslotIntervalDuration:t.timeslotIntervalDuration,height:"auto",exportPdf:t.exportPdf,showHeader:this._resources.length>1,showToolbar:!1,editable:{move:!1,resize:!1},onTimeslotClick:t.onTimeslotClick,onAvailabilityClick:t.onAvailabilityClick,onAppointmentClick:t.onAppointmentClick},n);a.puma(l.container()).find(".vrSchedulerDivContent")[0].style.cssText+="overflow-y: hidden !important;",this._dictionaryDateScheduler.has(o)||this._dictionaryDateScheduler.set(o,l)}this.adaptHeight(),this.fixWidth(),this._dates=e}return this._dates}datasource(e){return null!=e&&(this._datasource=e,this.drawData(e,(e,t)=>{e.datasource(t)})),this._datasource}availabilities(e){return null!=e&&(this._availabilities=e,this.drawData(e,(e,t)=>{e.availabilities(t)})),this._availabilities}drawData(e,t){let i=[];for(let t of e){let e=null;null!=t.overlappedList&&(e=t.overlappedList,t.overlappedList=void 0);let n=r.UtilityManager.duplicate(t),a=new Date(n.start);a.setHours(0,0,0,0),n.groupingField=a,n.overlappedList=e,i.push(n)}let n=i.vrGroupBy(e=>e.groupingField);for(let e in n){let i=n[e],r=new Date(e);r.setHours(0,0,0,0),this._dictionaryDateScheduler.forEach((e,n)=>{if(Date.vrEquals(r,n)){let e=this._dictionaryDateScheduler.get(n);null!=e&&t(e,i)}})}}resources(e){return null!=e&&(this._resources=e,this.rebind()),this._resources}startTime(){return this.getOptions().startTime}endTime(){return this.getOptions().endTime}timeslotInterval(e){let t=this.getOptions();return null!=e&&(t.timeslotIntervalDuration=e,this._cmbTimeslotIntervalDuration.value(e,!1),this._dictionaryDateScheduler.forEach((t,i)=>{let r=this._dictionaryDateScheduler.get(i);null!=r&&r.timeslotInterval(e)})),t.timeslotIntervalDuration}rebind(){this.dates(this._dates),this.datasource(this._datasource),this.availabilities(this._availabilities),this.adaptHeight(),this.fixWidth()}adaptHeight(){let e=a.puma(this.container()).find(".vrMultiSchedulerDivSchedulers")[0],t=this.getOptions(),i=0;if(null==t.height){let e=a.puma(this.container()).offset().top;i=window.innerHeight-e-a.puma(this.container()).find(".vrMultiSchedulerDivDates").outerHeight()}else i=t.height;a.puma(e).height(i)}fixWidth(){let e=a.puma(this.container()).find(".vrMultiSchedulerDivSchedulers")[0];null!=e&&(e.scrollHeight>e.clientHeight&&e.clientHeight>0?a.puma(this.container()).find(".vrMultiSchedulerDivBorderOverflow").show():a.puma(this.container()).find(".vrMultiSchedulerDivBorderOverflow").hide())}getOptions(){return this.options()}}t.MultiScheduler=l;class s extends n.VrControlsEvent{}var u;!function(e){e[e.NextDate=0]="NextDate",e[e.PrevDate=1]="PrevDate"}(u||(u={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=t.IconOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.IconOptions=a;class o extends r.VrControl{constructor(e,t){null==t&&(t=new a),null==t.color&&(t.color="#000"),null==t.cursorPointer&&(t.cursorPointer=!1),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,n.ControlTypeEnum.Icon),n.puma(this.element()).attr("aria-hidden","true"),this.color(t.color),null!=t.fontSize&&this.fontSize(t.fontSize),null!=t.value&&this.value(t.value),null!=t.tooltip&&n.puma(this.element()).attr("title",t.tooltip),(t.cursorPointer||null!=t.onClick)&&(this.container().style.cssText+="cursor: pointer;",this.element().style.cssText+="cursor: pointer;"),n.puma(this.container()).on("click",e=>{this.click()})}value(e){let t=this.getOptions();return null!=e&&(n.puma(this.element()).removeClass(t.value),n.puma(this.element()).addClass(e),t.value=e),t.value}fontSize(e){let t=this.getOptions();return null!=e&&("number"==typeof e&&(e+="px"),this.element().style.cssText+="font-size: "+e+";",t.fontSize=e),t.fontSize}color(e){let t=this.getOptions();return null!=e&&(this.element().style.cssText+="color: "+e+";",t.color=e),t.color}click(){let e=this.getOptions();null!=e.confirmationMessage?n.confirm(e.confirmationMessage).then(()=>this.internalClick(),()=>this.rejectedConfirm()):this.internalClick()}internalClick(){let e=this.getOptions();if(null!=e.onClick){let t=new l;t.sender=this,t.value=this.value(),e.onClick(t)}}rejectedConfirm(){let e=this.getOptions();null!=e.onRejectedConfirm&&e.onRejectedConfirm()}getOptions(){return this.options()}}t.Icon=o;class l extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=t.ColorPickerOptions=void 0;const r=i(47),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.ColorPickerOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.addToControlList&&(t.addToControlList=!1),null==t.showInput&&(t.showInput=!0),null==t.mode&&(t.mode=a.ColorPickerModeEnum.Hex),null==t.alphaChannel&&(t.alphaChannel=!0),null==t.hexUppercase&&(t.hexUppercase=!0),null==t.clearButton&&(t.clearButton=!0),null==t.hideOnPaletteClick&&(t.hideOnPaletteClick=!1),null==t.emptyMessage&&(t.emptyMessage="Scegli..."),null==t.closeButton&&(t.closeButton=!1),!0===t.closeButton&&(t.closeButton="Chiudi"),null==t.palette&&(t.palette=!0),!0===t.palette&&(t.palette=["#fff","#ffffff","#808080","#000","#996e36","#ff0000","#ffe438","#88dd20","#51B3E1","#e3f1fa","#bb1cd4"]),super(e,t,a.ControlTypeEnum.ColorPicker);try{new r.ColorPickerManager}catch(e){}if(this._picker=new JSColor(e,{format:t.mode}),this._value=null,this._picker.option({shadow:!1,palette:!1!==t.palette?t.palette:void 0,paletteCols:!1!==t.palette?t.palette.length:void 0,paletteSetsAlpha:!0,hideOnPaletteClick:t.hideOnPaletteClick,closeButton:!1!==t.closeButton,closeText:!1!==t.closeButton?t.closeButton:void 0,alphaChannel:t.alphaChannel,required:!0,uppercase:t.hexUppercase,onChange:()=>{this._value=this.mode()==a.ColorPickerModeEnum.Hex?this.valueHex():this.valueRgba(),this.triggerChange()}}),this.element().style.cssText+="height: "+(t.showInput?23:27)+"px;",t.showInput){let e=t.mode==a.ColorPickerModeEnum.Hex?60:120;this.element().style.cssText+="width: "+e+"px; min-width: "+e+"px !important;"}else this.element().style.cssText+="width: 27px; min-width: unset !important; background-image: unset !important; position: relative;";if(this.clear(),null!=t.value&&this.value(t.value),!t.showInput){let e=a.div(this.element(),{class:"vrColorPickerDivOpen",css:"position: absolute; cursor: pointer; text-align: center; bottom: 0px; left: 0px; height: 5px; background-color: rgba(0, 0, 0, 0.2); width: 24px; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border: solid 1px #CCC; border-top: none;"});a.createIcon({value:a.IconClassLight.CaretUp,color:"rgba(255, 255, 255, 0.8)",width:"100%",fontSize:12,cursorPointer:!0,cssContainer:"top: -4px;"},e),a.puma(e).on("click",e=>this.open())}if(t.clearButton){let i=a.createIcon({id:e.id+"_someStuff",cssContainer:"background-color: #FFF; width: 20px; height: 20px; cursor: pointer; position: absolute; left: 13px; z-index: 9999999; top: "+(t.showInput?"155":"152")+"px;",value:a.IconClassLight.Eraser,classContainer:"vrColorPickerClearIcon",visible:!1,onClick:e=>this.clear(!0)},document.body,null,this.element().id+"_vrColorPickerClearIcon");a.puma("body").on("DOMNodeRemoved",".jscolor-picker-wrap",e=>{e.target.style.cssText+="z-index: 999999 !important;",i.element().style.cssText+="color: transparent;",i.container().style.cssText+="background-color: transparent;",window.setTimeout(()=>{i.hide(),e.target.style.cssText+="z-index: 999999 !important;"},300)}),a.puma("body").on("DOMNodeInserted",".jscolor-picker-wrap",e=>{let t=a.puma(a.puma(".jscolor-picker-wrap")[0]).position().top+125,r=a.puma(a.puma(".jscolor-picker-wrap")[0]).position().left+13;i.container().style.cssText+="top: "+t+"px; left: "+r+"px;",e.target.style.cssText+="z-index: 999999 !important;",i.element().style.cssText+="color: #000;",i.container().style.cssText+="background-color: #FFF;",i.show(),window.setTimeout(()=>{i.show(),e.target.style.cssText+="z-index: 999999 !important;";let t=a.puma(a.puma(".jscolor-picker-wrap")[0]).position().top+125,r=a.puma(a.puma(".jscolor-picker-wrap")[0]).position().left+13;i.container().style.cssText+="top: "+t+"px; left: "+r+"px;"},300)})}}value(e,t=!0){return null!=e&&("string"==typeof e?this.valueHex(e,t):this.valueRgba(e,t)),this._value}valueHex(e,t=!0){return null!=e&&(this._picker.fromString(e),this._value=this._picker.toHEXString(),t&&this.triggerChange()),this._picker.toHEXString()}valueRgba(e,t=!0){return null!=e&&(this._picker.fromRGBA(e.r,e.g,e.b,null!=e.a?e.a:1),this._value=this._picker.toRGBAString(),t&&this.triggerChange()),this._picker.toRGBAString()}randomize(e=!0){return this._picker.randomize(),this._value=this.valueHex(),e&&this.triggerChange(),this.value()}open(){this._picker.show()}close(){this._picker.hide()}mode(){return this.getOptions().mode}triggerChange(){let e=this.getOptions();if(null!=e.onChange){let t=new u;t.sender=this,t.value=this.value(),t.valueHex=this.valueHex(),t.valueRgba=this.valueRgba(),e.onChange(t)}}clear(e=!1){let t=this.getOptions();this._value=null,this.element().style.cssText+="background-image: unset;",this.element().style.cssText+="background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/wAALCAAoACgBAREA/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEG/8QAKRAAAgECBQMDBQEAAAAAAAAAAREAIWESMUFRUjJCcYGhwQJigqLC0f/aAAgBAQAAPwDbVZJIJOZGX1DYXgaKhHST2+Yokim1q9/Ebur6l3eJasFgEBA6AbG8LRIiuHjeT3eQ53i+KmWL4jfRZ/ZCqkya4eV4CQTTo83e0bvLuXxLV6Nei/2QaL8X8xRFtOqzdrRdt0xcrR6pa8LRbDfD/Ue7/eL4kqYuNpassAECoGQG4vINFUnpfd5iizKeer28Ru6LqXb4lqwAA1QaEbm8/9k=') no-repeat !important;",t.showInput&&(this.element().value="",this.element().placeholder=t.emptyMessage,this.element().style.cssText+="background-size: 30px 30px !important;"),e&&this.triggerChange()}enable(){super.enable(),window.setTimeout(()=>{this.getOptions().showInput?a.puma(this.element()).removeAttr("disabled"):(this._picker.option("showOnClick",!0),a.puma(this.container()).find(".vrColorPickerDivOpen").show())})}disable(){super.disable(),window.setTimeout(()=>{this.getOptions().showInput?a.puma(this.element()).attr("disabled","disabled"):(this._picker.option("showOnClick",!1),a.puma(this.container()).find(".vrColorPickerDivOpen").hide())})}getOptions(){return this.options()}}t.ColorPicker=l;class s extends n.VrControlsEvent{}class u extends s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPickerManager=void 0;var r,n;t.ColorPickerManager=class{constructor(){}},r="undefined"!=typeof window?window:this,n=function(e){var t,i,r,n,a=((n={initialized:!1,instances:[],readyQueue:[],register:function(){void 0!==e&&e.document&&e.document.addEventListener("DOMContentLoaded",n.pub.init,!1)},installBySelector:function(t,i){if(!(i=i?n.node(i):e.document))throw new Error("Missing root node");for(var r=i.querySelectorAll(t),a=new RegExp("(^|\\s)("+n.pub.lookupClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),o=0;o<r.length;o+=1){var l,s;if(!(r[o].jscolor&&r[o].jscolor instanceof n.pub)&&(void 0===r[o].type||"color"!=r[o].type.toLowerCase()||!n.isColorAttrSupported)&&(null!==(l=n.getDataAttr(r[o],"jscolor"))||r[o].className&&(s=r[o].className.match(a)))){var u=r[o],d="";null!==l?d=l:s&&(console.warn('Installation using class name is DEPRECATED. Use data-jscolor="" attribute instead.'+n.docsRef),s[4]&&(d=s[4]));var c=null;if(d.trim())try{c=n.parseOptionsStr(d)}catch(e){console.warn(e+"\n"+d)}try{new n.pub(u,c)}catch(e){console.warn(e)}}}},parseOptionsStr:function(e){var t=null;try{t=JSON.parse(e)}catch(i){if(!n.pub.looseJSON)throw new Error("Could not parse jscolor options as JSON: "+i);try{t=new Function("var opts = ("+e+'); return typeof opts === "object" ? opts : {};')()}catch(e){throw new Error("Could not evaluate jscolor options: "+e)}}return t},getInstances:function(){for(var e=[],t=0;t<n.instances.length;t+=1)n.instances[t]&&n.instances[t].targetElement&&e.push(n.instances[t]);return e},createEl:function(t){var i=e.document.createElement(t);return n.setData(i,"gui",!0),i},node:function(t){if(!t)return null;if("string"==typeof t){var i=t,r=null;try{r=e.document.querySelector(i)}catch(e){return console.warn(e),null}return r||console.warn("No element matches the selector: %s",i),r}return n.isNode(t)?t:(console.warn("Invalid node of type %s: %s",typeof t,t),null)},isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeName:function(e){return!(!e||!e.nodeName)&&e.nodeName.toLowerCase()},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},isTextInput:function(e){return e&&"input"===n.nodeName(e)&&"text"===e.type.toLowerCase()},isButton:function(e){if(!e)return!1;var t=n.nodeName(e);return"button"===t||"input"===t&&["button","submit","reset"].indexOf(e.type.toLowerCase())>-1},isButtonEmpty:function(e){switch(n.nodeName(e)){case"input":return!e.value||""===e.value.trim();case"button":return""===e.textContent.trim()}return null},isPassiveEventSupported:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassive",null,i),e.removeEventListener("testPassive",null,i)}catch(e){}return t}(),isColorAttrSupported:(r=e.document.createElement("input"),!(!r.setAttribute||(r.setAttribute("type","color"),"color"!=r.type.toLowerCase()))),dataProp:"_data_jscolor",setData:function(){var e=arguments[0];if(3===arguments.length){var t=e.hasOwnProperty(n.dataProp)?e[n.dataProp]:e[n.dataProp]={},i=arguments[1],r=arguments[2];return t[i]=r,!0}if(2===arguments.length&&"object"==typeof arguments[1]){t=e.hasOwnProperty(n.dataProp)?e[n.dataProp]:e[n.dataProp]={};var a=arguments[1];for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o]);return!0}throw new Error("Invalid arguments")},removeData:function(){var e=arguments[0];if(!e.hasOwnProperty(n.dataProp))return!0;for(var t=1;t<arguments.length;t+=1){var i=arguments[t];delete e[n.dataProp][i]}return!0},getData:function(e,t,i){if(!e.hasOwnProperty(n.dataProp)){if(void 0===i)return;e[n.dataProp]={}}var r=e[n.dataProp];return r.hasOwnProperty(t)||void 0===i||(r[t]=i),r[t]},getDataAttr:function(e,t){var i="data-"+t;return e.getAttribute(i)},setDataAttr:function(e,t,i){var r="data-"+t;e.setAttribute(r,i)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,i,r){n._attachedGroupEvents.hasOwnProperty(e)||(n._attachedGroupEvents[e]=[]),n._attachedGroupEvents[e].push([t,i,r]),t.addEventListener(i,r,!1)},detachGroupEvents:function(e){if(n._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<n._attachedGroupEvents[e].length;t+=1){var i=n._attachedGroupEvents[e][t];i[0].removeEventListener(i[1],i[2],!1)}delete n._attachedGroupEvents[e]}},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(n._capturedTarget=e,n._capturedTarget.setCapture())},releaseTarget:function(){n._capturedTarget&&(n._capturedTarget.releaseCapture(),n._capturedTarget=null)},triggerEvent:function(t,i,r,a){if(t){var o=null;return"function"==typeof Event?o=new Event(i,{bubbles:r,cancelable:a}):(o=e.document.createEvent("Event")).initEvent(i,r,a),!!o&&(n.setData(o,"internal",!0),t.dispatchEvent(o),!0)}},triggerInputEvent:function(e,t,i,r){e&&n.isTextInput(e)&&n.triggerEvent(e,t,i,r)},eventKey:function(e){var t={9:"Tab",13:"Enter",27:"Escape"};return"string"==typeof e.code?e.code:void 0!==e.keyCode&&t.hasOwnProperty(e.keyCode)?t[e.keyCode]:null},strList:function(e){return e?e.replace(/^\s+|\s+$/g,"").split(/\s+/):[]},hasClass:function(e,t){return!!t&&(void 0!==e.classList?e.classList.contains(t):-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" "))},addClass:function(e,t){var i=n.strList(t);if(void 0===e.classList)for(r=0;r<i.length;r+=1)n.hasClass(e,i[r])||(e.className+=(e.className?" ":"")+i[r]);else for(var r=0;r<i.length;r+=1)e.classList.add(i[r])},removeClass:function(e,t){var i=n.strList(t);if(void 0===e.classList)for(a=0;a<i.length;a+=1){var r=new RegExp("^\\s*"+i[a]+"\\s*|\\s*"+i[a]+"\\s*$|\\s+"+i[a]+"(\\s+)","g");e.className=e.className.replace(r,"$1")}else for(var a=0;a<i.length;a+=1)e.classList.remove(i[a])},getCompStyle:function(t){var i=e.getComputedStyle?e.getComputedStyle(t):t.currentStyle;return i||{}},setStyle:function(e,t,i,r){var a=i?"important":"",o=null;for(var l in t)if(t.hasOwnProperty(l)){var s=null;null===t[l]?(o||(o=n.getData(e,"origStyle")),o&&o.hasOwnProperty(l)&&(s=o[l])):(r&&(o||(o=n.getData(e,"origStyle",{})),o.hasOwnProperty(l)||(o[l]=e.style[l])),s=t[l]),null!==s&&e.style.setProperty(l,s,a)}},hexColor:function(e,t,i){return"#"+(("0"+Math.round(e).toString(16)).substr(-2)+("0"+Math.round(t).toString(16)).substr(-2)+("0"+Math.round(i).toString(16)).substr(-2)).toUpperCase()},hexaColor:function(e,t,i,r){return"#"+(("0"+Math.round(e).toString(16)).substr(-2)+("0"+Math.round(t).toString(16)).substr(-2)+("0"+Math.round(i).toString(16)).substr(-2)+("0"+Math.round(255*r).toString(16)).substr(-2)).toUpperCase()},rgbColor:function(e,t,i){return"rgb("+Math.round(e)+","+Math.round(t)+","+Math.round(i)+")"},rgbaColor:function(e,t,i,r){return"rgba("+Math.round(e)+","+Math.round(t)+","+Math.round(i)+","+Math.round(100*(null==r?1:r))/100+")"},linearGradient:(i=function(){for(var t=["","-webkit-","-moz-","-o-","-ms-"],i=e.document.createElement("div"),r=0;r<t.length;r+=1){var n=t[r]+"linear-gradient",a=n+"(to right, rgba(0,0,0,0), rgba(0,0,0,0))";if(i.style.background=a,i.style.background)return n}return"linear-gradient"}(),function(){return i+"("+Array.prototype.join.call(arguments,", ")+")"}),setBorderRadius:function(e,t){n.setStyle(e,{"border-radius":t||"0"})},setBoxShadow:function(e,t){n.setStyle(e,{"box-shadow":t||"none"})},getElementPos:function(e,t){var i=0,r=0,a=e.getBoundingClientRect();if(i=a.left,r=a.top,!t){var o=n.getViewPos();i+=o[0],r+=o[1]}return[i,r]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){var t=0,i=0;return void 0!==e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,i=e.clientY),{x:t,y:i}},getRelPointerPos:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),i=0,r=0;return void 0!==e.changedTouches&&e.changedTouches.length?(i=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(i=e.clientX,r=e.clientY),{x:i-t.left,y:r-t.top}},getViewPos:function(){var t=e.document.documentElement;return[(e.pageXOffset||t.scrollLeft)-(t.clientLeft||0),(e.pageYOffset||t.scrollTop)-(t.clientTop||0)]},getViewSize:function(){var t=e.document.documentElement;return[e.innerWidth||t.clientWidth,e.innerHeight||t.clientHeight]},RGB_HSV:function(e,t,i){e/=255,t/=255,i/=255;var r=Math.min(Math.min(e,t),i),n=Math.max(Math.max(e,t),i),a=n-r;if(0===a)return[null,0,100*n];var o=e===r?3+(i-t)/a:t===r?5+(e-i)/a:1+(t-e)/a;return[60*(6===o?0:o),a/n*100,100*n]},HSV_RGB:function(e,t,i){var r=i/100*255;if(null===e)return[r,r,r];e/=60,t/=100;var n=Math.floor(e),a=r*(1-t),o=r*(1-t*(n%2?e-n:1-(e-n)));switch(n){case 6:case 0:return[r,o,a];case 1:return[o,r,a];case 2:return[a,r,o];case 3:return[a,o,r];case 4:return[o,a,r];case 5:return[r,a,o]}return r},parseColorString:function(e){var t,i={rgba:null,format:null};if(t=e.match(/^\W*([0-9A-F]{3,8})\W*$/i)){if(8===t[1].length)i.format="hexa",i.rgba=[parseInt(t[1].substr(0,2),16),parseInt(t[1].substr(2,2),16),parseInt(t[1].substr(4,2),16),parseInt(t[1].substr(6,2),16)/255];else if(6===t[1].length)i.format="hex",i.rgba=[parseInt(t[1].substr(0,2),16),parseInt(t[1].substr(2,2),16),parseInt(t[1].substr(4,2),16),null];else{if(3!==t[1].length)return!1;i.format="hex",i.rgba=[parseInt(t[1].charAt(0)+t[1].charAt(0),16),parseInt(t[1].charAt(1)+t[1].charAt(1),16),parseInt(t[1].charAt(2)+t[1].charAt(2),16),null]}return i}if(t=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var r,n,a,o,l=t[1].split(","),s=/^\s*(\d+|\d*\.\d+|\d+\.\d*)\s*$/;if(l.length>=3&&(r=l[0].match(s))&&(n=l[1].match(s))&&(a=l[2].match(s)))return i.format="rgb",i.rgba=[parseFloat(r[1])||0,parseFloat(n[1])||0,parseFloat(a[1])||0,null],l.length>=4&&(o=l[3].match(s))&&(i.format="rgba",i.rgba[3]=parseFloat(o[1])||0),i}return!1},parsePaletteValue:function(e){var t=[];"string"==typeof e?e.replace(/#[0-9A-F]{3}([0-9A-F]{3})?|rgba?\(([^)]*)\)/gi,(function(e){t.push(e)})):Array.isArray(e)&&(t=e);for(var i=[],r=0;r<t.length;r++){var a=n.parseColorString(t[r]);a&&i.push(a)}return i},containsTranparentColor:function(e){for(var t=0;t<e.length;t++){var i=e[t].rgba[3];if(null!==i&&i<1)return!0}return!1},isAlphaFormat:function(e){switch(e.toLowerCase()){case"hexa":case"rgba":return!0}return!1},scaleCanvasForHighDPR:function(t){var i=e.devicePixelRatio||1;t.width*=i,t.height*=i,t.getContext("2d").scale(i,i)},genColorPreviewCanvas:function(e,t,i,r){var a=Math.round(n.pub.previewSeparator.length),o=n.pub.chessboardSize,l=n.pub.chessboardColor1,s=n.pub.chessboardColor2,u=i||2*o,d=2*o,c=n.createEl("canvas"),p=c.getContext("2d");c.width=u,c.height=d,r&&n.scaleCanvasForHighDPR(c),p.fillStyle=l,p.fillRect(0,0,u,d),p.fillStyle=s;for(var h=0;h<u;h+=2*o)p.fillRect(h,0,o,o),p.fillRect(h+o,o,o,o);e&&(p.fillStyle=e,p.fillRect(0,0,u,d));var m=null;switch(t){case"left":m=0,p.clearRect(0,0,a/2,d);break;case"right":m=u-a,p.clearRect(u-a/2,0,a/2,d)}if(null!==m){p.lineWidth=1;for(var f=0;f<n.pub.previewSeparator.length;f+=1)p.beginPath(),p.strokeStyle=n.pub.previewSeparator[f],p.moveTo(.5+m+f,0),p.lineTo(.5+m+f,d),p.stroke()}return{canvas:c,width:u,height:d}},genColorPreviewGradient:function(e,t,i){var r=[];return r=t&&i?["to "+{left:"right",right:"left"}[t],e+" 0%",e+" "+i+"px","rgba(0,0,0,0) "+(i+1)+"px","rgba(0,0,0,0) 100%"]:["to right",e+" 0%",e+" 100%"],n.linearGradient.apply(this,r)},redrawPosition:function(){if(n.picker&&n.picker.owner){var e,t,i=n.picker.owner;i.fixed?(e=n.getElementPos(i.targetElement,!0),t=[0,0]):(e=n.getElementPos(i.targetElement),t=n.getViewPos());var r,a,o,l=n.getElementSize(i.targetElement),s=n.getViewSize(),u=n.getPickerDims(i),d=[u.borderW,u.borderH];switch(i.position.toLowerCase()){case"left":r=1,a=0,o=-1;break;case"right":r=1,a=0,o=1;break;case"top":r=0,a=1,o=-1;break;default:r=0,a=1,o=1}var c=(l[a]+d[a])/2;if(i.smartPosition)p=[-t[r]+e[r]+d[r]>s[r]&&-t[r]+e[r]+l[r]/2>s[r]/2&&e[r]+l[r]-d[r]>=0?e[r]+l[r]-d[r]:e[r],-t[a]+e[a]+l[a]+d[a]-c+c*o>s[a]?-t[a]+e[a]+l[a]/2>s[a]/2&&e[a]+l[a]-c-c*o>=0?e[a]+l[a]-c-c*o:e[a]+l[a]-c+c*o:e[a]+l[a]-c+c*o>=0?e[a]+l[a]-c+c*o:e[a]+l[a]-c-c*o];else var p=[e[r],e[a]+l[a]-c+c*o];var h=p[r],m=p[a],f=i.fixed?"fixed":"absolute",g=(p[0]+d[0]>e[0]||p[0]<e[0]+l[0])&&p[1]+d[1]<e[1]+l[1];n._drawPosition(i,h,m,f,g)}},_drawPosition:function(e,t,i,r,a){var o=a?0:e.shadowBlur;n.picker.wrap.style.position=r,n.picker.wrap.style.left=t+"px",n.picker.wrap.style.top=i+"px",n.setBoxShadow(n.picker.boxS,e.shadow?new n.BoxShadow(0,o,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=2*e.controlBorderWidth+e.width,i=2*e.controlBorderWidth+e.height,r=2*e.controlBorderWidth+2*n.getControlPadding(e)+e.sliderSize;n.getSliderChannel(e)&&(t+=r),e.hasAlphaChannel()&&(t+=r);var a=n.getPaletteDims(e,t);a.height&&(i+=a.height+e.padding),e.closeButton&&(i+=2*e.controlBorderWidth+e.padding+e.buttonHeight);var o=t+2*e.padding,l=i+2*e.padding;return{contentW:t,contentH:i,paddedW:o,paddedH:l,borderW:o+2*e.borderWidth,borderH:l+2*e.borderWidth,palette:a}},getPaletteDims:function(e,t){var i=0,r=0,n=0,a=0,o=0,l=e._palette?e._palette.length:0;return l&&(r=(i=e.paletteCols)>0?Math.ceil(l/i):0,n=Math.max(1,Math.floor((t-(i-1)*e.paletteSpacing)/i)),a=e.paletteHeight?Math.min(e.paletteHeight,n):n),r&&(o=r*a+(r-1)*e.paletteSpacing),{cols:i,rows:r,cellW:n,cellH:a,width:t,height:o}},getControlPadding:function(e){return Math.max(e.padding/2,2*e.pointerBorderWidth+e.pointerThickness-e.controlBorderWidth)},getPadYChannel:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderChannel:function(e){if(e.mode.length>2)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},triggerCallback:function(e,t){if(e[t]){var i=null;if("string"==typeof e[t])try{i=new Function(e[t])}catch(e){console.error(e)}else i=e[t];i&&i.call(e)}},triggerGlobal:function(e){for(var t=n.getInstances(),i=0;i<t.length;i+=1)t[i].trigger(e)},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onDocumentKeyUp:function(e){-1!==["Tab","Escape"].indexOf(n.eventKey(e))&&n.picker&&n.picker.owner&&n.picker.owner.tryHide()},onWindowResize:function(e){n.redrawPosition()},onWindowScroll:function(e){n.redrawPosition()},onParentScroll:function(e){n.picker&&n.picker.owner&&n.picker.owner.tryHide()},onDocumentMouseDown:function(e){var t=e.target||e.srcElement;t.jscolor&&t.jscolor instanceof n.pub?t.jscolor.showOnClick&&!t.disabled&&t.jscolor.show():n.getData(t,"gui")?n.getData(t,"control")&&n.onControlPointerStart(e,t,n.getData(t,"control"),"mouse"):n.picker&&n.picker.owner&&n.picker.owner.tryHide()},onPickerTouchStart:function(e){var t=e.target||e.srcElement;n.getData(t,"control")&&n.onControlPointerStart(e,t,n.getData(t,"control"),"touch")},onControlPointerStart:function(t,i,r,a){var o=n.getData(i,"instance");n.preventDefault(t),n.captureTarget(i);var l=function(e,o){n.attachGroupEvent("drag",e,n._pointerMoveEvent[a],n.onDocumentPointerMove(t,i,r,a,o)),n.attachGroupEvent("drag",e,n._pointerEndEvent[a],n.onDocumentPointerEnd(t,i,r,a))};if(l(e.document,[0,0]),e.parent&&e.frameElement){var s=e.frameElement.getBoundingClientRect(),u=[-s.left,-s.top];l(e.parent.window.document,u)}var d=n.getAbsPointerPos(t),c=n.getRelPointerPos(t);switch(n._pointerOrigin={x:d.x-c.x,y:d.y-c.y},r){case"pad":"v"===n.getSliderChannel(o)&&0===o.channels.v&&o.fromHSVA(null,null,100,null),n.setPad(o,t,0,0);break;case"sld":n.setSld(o,t,0);break;case"asld":n.setASld(o,t,0)}o.trigger("input")},onDocumentPointerMove:function(e,t,i,r,a){return function(e){var r=n.getData(t,"instance");switch(i){case"pad":n.setPad(r,e,a[0],a[1]);break;case"sld":n.setSld(r,e,a[1]);break;case"asld":n.setASld(r,e,a[1])}r.trigger("input")}},onDocumentPointerEnd:function(e,t,i,r){return function(e){var i=n.getData(t,"instance");n.detachGroupEvents("drag"),n.releaseTarget(),i.trigger("input"),i.trigger("change")}},onPaletteSampleClick:function(e){var t=e.currentTarget,i=n.getData(t,"instance"),r=n.getData(t,"color");"any"===i.format.toLowerCase()&&(i._setFormat(r.format),n.isAlphaFormat(i.getFormat())||(r.rgba[3]=1)),null===r.rgba[3]&&(!0===i.paletteSetsAlpha||"auto"===i.paletteSetsAlpha&&i._paletteHasTransparency)&&(r.rgba[3]=1),i.fromRGBA.apply(i,r.rgba),i.trigger("input"),i.trigger("change"),i.hideOnPaletteClick&&i.hide()},setPad:function(e,t,i,r){var a=n.getAbsPointerPos(t),o=i+a.x-n._pointerOrigin.x-e.padding-e.controlBorderWidth,l=r+a.y-n._pointerOrigin.y-e.padding-e.controlBorderWidth,s=o*(360/(e.width-1)),u=100-l*(100/(e.height-1));switch(n.getPadYChannel(e)){case"s":e.fromHSVA(s,u,null,null);break;case"v":e.fromHSVA(s,null,u,null)}},setSld:function(e,t,i){var r=100-(i+n.getAbsPointerPos(t).y-n._pointerOrigin.y-e.padding-e.controlBorderWidth)*(100/(e.height-1));switch(n.getSliderChannel(e)){case"s":e.fromHSVA(null,r,null,null);break;case"v":e.fromHSVA(null,null,r,null)}},setASld:function(e,t,i){var r=1-(i+n.getAbsPointerPos(t).y-n._pointerOrigin.y-e.padding-e.controlBorderWidth)*(1/(e.height-1));if(r<1){var a=e.getFormat();"any"!==e.format.toLowerCase()||n.isAlphaFormat(a)||e._setFormat("hex"===a?"hexa":"rgba")}e.fromHSVA(null,null,null,r)},createPadCanvas:function(){var e={elm:null,draw:null},t=n.createEl("canvas"),i=t.getContext("2d");return e.elm=t,e.draw=function(e,r,n){t.width=e,t.height=r,i.clearRect(0,0,t.width,t.height);var a=i.createLinearGradient(0,0,t.width,0);a.addColorStop(0,"#F00"),a.addColorStop(1/6,"#FF0"),a.addColorStop(2/6,"#0F0"),a.addColorStop(.5,"#0FF"),a.addColorStop(4/6,"#00F"),a.addColorStop(5/6,"#F0F"),a.addColorStop(1,"#F00"),i.fillStyle=a,i.fillRect(0,0,t.width,t.height);var o=i.createLinearGradient(0,0,0,t.height);switch(n.toLowerCase()){case"s":o.addColorStop(0,"rgba(255,255,255,0)"),o.addColorStop(1,"rgba(255,255,255,1)");break;case"v":o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgba(0,0,0,1)")}i.fillStyle=o,i.fillRect(0,0,t.width,t.height)},e},createSliderGradient:function(){var e={elm:null,draw:null},t=n.createEl("canvas"),i=t.getContext("2d");return e.elm=t,e.draw=function(e,r,n,a){t.width=e,t.height=r,i.clearRect(0,0,t.width,t.height);var o=i.createLinearGradient(0,0,0,t.height);o.addColorStop(0,n),o.addColorStop(1,a),i.fillStyle=o,i.fillRect(0,0,t.width,t.height)},e},createASliderGradient:function(){var e={elm:null,draw:null},t=n.createEl("canvas"),i=t.getContext("2d");return e.elm=t,e.draw=function(e,r,a){t.width=e,t.height=r,i.clearRect(0,0,t.width,t.height);var o=t.width/2,l=n.pub.chessboardColor1,s=n.pub.chessboardColor2;if(i.fillStyle=l,i.fillRect(0,0,t.width,t.height),o>0)for(var u=0;u<t.height;u+=2*o)i.fillStyle=s,i.fillRect(0,u,o,o),i.fillRect(o,u+o,o,o);var d=i.createLinearGradient(0,0,0,t.height);d.addColorStop(0,a),d.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=d,i.fillRect(0,0,t.width,t.height)},e},BoxShadow:(t=function(e,t,i,r,n,a){e=e,t=t,i=i,r=r,n=n,a=!!a},t.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},t),flags:{leaveValue:1,leaveAlpha:2,leavePreview:4},enumOpts:{format:["auto","any","hex","hexa","rgb","rgba"],previewPosition:["left","right"],mode:["hsv","hvs","hs","hv"],position:["left","right","top","bottom"],alphaChannel:["auto",!0,!1],paletteSetsAlpha:["auto",!0,!1]},deprecatedOpts:{styleElement:"previewElement",onFineChange:"onInput",overwriteImportant:"forceStyle",closable:"closeButton",insetWidth:"controlBorderWidth",insetColor:"controlBorderColor",refine:null},docsRef:" See https://jscolor.com/docs/",pub:function(t,i){var r=this;function a(e,t){if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(n.enumOpts.hasOwnProperty(e)&&("string"==typeof t&&(t=t.toLowerCase()),-1===n.enumOpts[e].indexOf(t)))throw new Error("Option '"+e+"' has invalid value: "+t);if(n.deprecatedOpts.hasOwnProperty(e)){var i=e,a=n.deprecatedOpts[e];if(!a)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+n.docsRef,i,a),e=a}var o="set__"+e;if("function"==typeof r[o])return r[o](t),!0;if(e in r)return r[e]=t,!0;throw new Error("Unrecognized configuration option: "+e)}function o(e){if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(n.deprecatedOpts.hasOwnProperty(e)){var t=e,i=n.deprecatedOpts[e];if(!i)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+n.docsRef,t,i),e=i}throw new Error("Unrecognized configuration option: "+e)}function l(){r._processParentElementsInDOM(),n.picker||(n.picker={owner:null,wrap:n.createEl("div"),box:n.createEl("div"),boxS:n.createEl("div"),boxB:n.createEl("div"),pad:n.createEl("div"),padB:n.createEl("div"),padM:n.createEl("div"),padCanvas:n.createPadCanvas(),cross:n.createEl("div"),crossBY:n.createEl("div"),crossBX:n.createEl("div"),crossLY:n.createEl("div"),crossLX:n.createEl("div"),sld:n.createEl("div"),sldB:n.createEl("div"),sldM:n.createEl("div"),sldGrad:n.createSliderGradient(),sldPtrS:n.createEl("div"),sldPtrIB:n.createEl("div"),sldPtrMB:n.createEl("div"),sldPtrOB:n.createEl("div"),asld:n.createEl("div"),asldB:n.createEl("div"),asldM:n.createEl("div"),asldGrad:n.createASliderGradient(),asldPtrS:n.createEl("div"),asldPtrIB:n.createEl("div"),asldPtrMB:n.createEl("div"),asldPtrOB:n.createEl("div"),pal:n.createEl("div"),btn:n.createEl("div"),btnT:n.createEl("span")},n.picker.pad.appendChild(n.picker.padCanvas.elm),n.picker.padB.appendChild(n.picker.pad),n.picker.cross.appendChild(n.picker.crossBY),n.picker.cross.appendChild(n.picker.crossBX),n.picker.cross.appendChild(n.picker.crossLY),n.picker.cross.appendChild(n.picker.crossLX),n.picker.padB.appendChild(n.picker.cross),n.picker.box.appendChild(n.picker.padB),n.picker.box.appendChild(n.picker.padM),n.picker.sld.appendChild(n.picker.sldGrad.elm),n.picker.sldB.appendChild(n.picker.sld),n.picker.sldB.appendChild(n.picker.sldPtrOB),n.picker.sldPtrOB.appendChild(n.picker.sldPtrMB),n.picker.sldPtrMB.appendChild(n.picker.sldPtrIB),n.picker.sldPtrIB.appendChild(n.picker.sldPtrS),n.picker.box.appendChild(n.picker.sldB),n.picker.box.appendChild(n.picker.sldM),n.picker.asld.appendChild(n.picker.asldGrad.elm),n.picker.asldB.appendChild(n.picker.asld),n.picker.asldB.appendChild(n.picker.asldPtrOB),n.picker.asldPtrOB.appendChild(n.picker.asldPtrMB),n.picker.asldPtrMB.appendChild(n.picker.asldPtrIB),n.picker.asldPtrIB.appendChild(n.picker.asldPtrS),n.picker.box.appendChild(n.picker.asldB),n.picker.box.appendChild(n.picker.asldM),n.picker.box.appendChild(n.picker.pal),n.picker.btn.appendChild(n.picker.btnT),n.picker.box.appendChild(n.picker.btn),n.picker.boxB.appendChild(n.picker.box),n.picker.wrap.appendChild(n.picker.boxS),n.picker.wrap.appendChild(n.picker.boxB),n.picker.wrap.addEventListener("touchstart",n.onPickerTouchStart,!!n.isPassiveEventSupported&&{passive:!1}));var t,i,a=n.picker,o=!!n.getSliderChannel(r),l=r.hasAlphaChannel(),c=n.getPickerDims(r),p=2*r.pointerBorderWidth+r.pointerThickness+2*r.crossSize,h=n.getControlPadding(r),m=Math.min(r.borderRadius,Math.round(r.padding*Math.PI));a.wrap.className="jscolor-picker-wrap",a.wrap.style.clear="both",a.wrap.style.width=c.borderW+"px",a.wrap.style.height=c.borderH+"px",a.wrap.style.zIndex=r.zIndex,a.box.className="jscolor-picker",a.box.style.width=c.paddedW+"px",a.box.style.height=c.paddedH+"px",a.box.style.position="relative",a.boxS.className="jscolor-picker-shadow",a.boxS.style.position="absolute",a.boxS.style.left="0",a.boxS.style.top="0",a.boxS.style.width="100%",a.boxS.style.height="100%",n.setBorderRadius(a.boxS,m+"px"),a.boxB.className="jscolor-picker-border",a.boxB.style.position="relative",a.boxB.style.border=r.borderWidth+"px solid",a.boxB.style.borderColor=r.borderColor,a.boxB.style.background=r.backgroundColor,n.setBorderRadius(a.boxB,m+"px"),a.padM.style.background="rgba(255,0,0,.2)",a.sldM.style.background="rgba(0,255,0,.2)",a.asldM.style.background="rgba(0,0,255,.2)",a.padM.style.opacity=a.sldM.style.opacity=a.asldM.style.opacity="0",a.pad.style.position="relative",a.pad.style.width=r.width+"px",a.pad.style.height=r.height+"px",a.padCanvas.draw(r.width,r.height,n.getPadYChannel(r)),a.padB.style.position="absolute",a.padB.style.left=r.padding+"px",a.padB.style.top=r.padding+"px",a.padB.style.border=r.controlBorderWidth+"px solid",a.padB.style.borderColor=r.controlBorderColor,a.padM.style.position="absolute",a.padM.style.left="0px",a.padM.style.top="0px",a.padM.style.width=r.padding+2*r.controlBorderWidth+r.width+h+"px",a.padM.style.height=2*r.controlBorderWidth+2*r.padding+r.height+"px",a.padM.style.cursor="crosshair",n.setData(a.padM,{instance:r,control:"pad"}),a.cross.style.position="absolute",a.cross.style.left=a.cross.style.top="0",a.cross.style.width=a.cross.style.height=p+"px",a.crossBY.style.position=a.crossBX.style.position="absolute",a.crossBY.style.background=a.crossBX.style.background=r.pointerBorderColor,a.crossBY.style.width=a.crossBX.style.height=2*r.pointerBorderWidth+r.pointerThickness+"px",a.crossBY.style.height=a.crossBX.style.width=p+"px",a.crossBY.style.left=a.crossBX.style.top=Math.floor(p/2)-Math.floor(r.pointerThickness/2)-r.pointerBorderWidth+"px",a.crossBY.style.top=a.crossBX.style.left="0",a.crossLY.style.position=a.crossLX.style.position="absolute",a.crossLY.style.background=a.crossLX.style.background=r.pointerColor,a.crossLY.style.height=a.crossLX.style.width=p-2*r.pointerBorderWidth+"px",a.crossLY.style.width=a.crossLX.style.height=r.pointerThickness+"px",a.crossLY.style.left=a.crossLX.style.top=Math.floor(p/2)-Math.floor(r.pointerThickness/2)+"px",a.crossLY.style.top=a.crossLX.style.left=r.pointerBorderWidth+"px",a.sld.style.overflow="hidden",a.sld.style.width=r.sliderSize+"px",a.sld.style.height=r.height+"px",a.sldGrad.draw(r.sliderSize,r.height,"#000","#000"),a.sldB.style.display=o?"block":"none",a.sldB.style.position="absolute",a.sldB.style.left=r.padding+r.width+2*r.controlBorderWidth+2*h+"px",a.sldB.style.top=r.padding+"px",a.sldB.style.border=r.controlBorderWidth+"px solid",a.sldB.style.borderColor=r.controlBorderColor,a.sldM.style.display=o?"block":"none",a.sldM.style.position="absolute",a.sldM.style.left=r.padding+r.width+2*r.controlBorderWidth+h+"px",a.sldM.style.top="0px",a.sldM.style.width=r.sliderSize+2*h+2*r.controlBorderWidth+(l?0:Math.max(0,r.padding-h))+"px",a.sldM.style.height=2*r.controlBorderWidth+2*r.padding+r.height+"px",a.sldM.style.cursor="default",n.setData(a.sldM,{instance:r,control:"sld"}),a.sldPtrIB.style.border=a.sldPtrOB.style.border=r.pointerBorderWidth+"px solid "+r.pointerBorderColor,a.sldPtrOB.style.position="absolute",a.sldPtrOB.style.left=-(2*r.pointerBorderWidth+r.pointerThickness)+"px",a.sldPtrOB.style.top="0",a.sldPtrMB.style.border=r.pointerThickness+"px solid "+r.pointerColor,a.sldPtrS.style.width=r.sliderSize+"px",a.sldPtrS.style.height=n.pub.sliderInnerSpace+"px",a.asld.style.overflow="hidden",a.asld.style.width=r.sliderSize+"px",a.asld.style.height=r.height+"px",a.asldGrad.draw(r.sliderSize,r.height,"#000"),a.asldB.style.display=l?"block":"none",a.asldB.style.position="absolute",a.asldB.style.left=r.padding+r.width+2*r.controlBorderWidth+h+(o?r.sliderSize+3*h+2*r.controlBorderWidth:0)+"px",a.asldB.style.top=r.padding+"px",a.asldB.style.border=r.controlBorderWidth+"px solid",a.asldB.style.borderColor=r.controlBorderColor,a.asldM.style.display=l?"block":"none",a.asldM.style.position="absolute",a.asldM.style.left=r.padding+r.width+2*r.controlBorderWidth+h+(o?r.sliderSize+2*h+2*r.controlBorderWidth:0)+"px",a.asldM.style.top="0px",a.asldM.style.width=r.sliderSize+2*h+2*r.controlBorderWidth+Math.max(0,r.padding-h)+"px",a.asldM.style.height=2*r.controlBorderWidth+2*r.padding+r.height+"px",a.asldM.style.cursor="default",n.setData(a.asldM,{instance:r,control:"asld"}),a.asldPtrIB.style.border=a.asldPtrOB.style.border=r.pointerBorderWidth+"px solid "+r.pointerBorderColor,a.asldPtrOB.style.position="absolute",a.asldPtrOB.style.left=-(2*r.pointerBorderWidth+r.pointerThickness)+"px",a.asldPtrOB.style.top="0",a.asldPtrMB.style.border=r.pointerThickness+"px solid "+r.pointerColor,a.asldPtrS.style.width=r.sliderSize+"px",a.asldPtrS.style.height=n.pub.sliderInnerSpace+"px",a.pal.className="jscolor-palette",a.pal.style.display=c.palette.rows?"block":"none",a.pal.style.position="absolute",a.pal.style.left=r.padding+"px",a.pal.style.top=2*r.controlBorderWidth+2*r.padding+r.height+"px",a.pal.innerHTML="";for(var f=n.genColorPreviewCanvas("rgba(0,0,0,0)"),g=0,v=0;v<c.palette.rows;v++)for(var b=0;b<c.palette.cols&&g<r._palette.length;b++,g++){var C=r._palette[g],x=n.rgbaColor.apply(null,C.rgba),y=n.createEl("div");y.style.width=c.palette.cellW-2*r.controlBorderWidth+"px",y.style.height=c.palette.cellH-2*r.controlBorderWidth+"px",y.style.backgroundColor=x;var _=n.createEl("div");_.className="jscolor-palette-sample",_.style.display="block",_.style.position="absolute",_.style.left=(c.palette.cols<=1?0:Math.round(b*((c.contentW-c.palette.cellW)/(c.palette.cols-1))*10)/10)+"px",_.style.top=v*(c.palette.cellH+r.paletteSpacing)+"px",_.style.border=r.controlBorderWidth+"px solid",_.style.borderColor=r.controlBorderColor,_.style.cursor="pointer",null!==C.rgba[3]&&C.rgba[3]<1&&(_.style.backgroundImage="url('"+f.canvas.toDataURL()+"')",_.style.backgroundRepeat="repeat",_.style.backgroundPosition="center center"),n.setData(_,{instance:r,control:"palette-sample",color:C}),_.addEventListener("click",n.onPaletteSampleClick,!1),_.appendChild(y),a.pal.appendChild(_)}a.btn.className="jscolor-btn-close",a.btn.style.display=r.closeButton?"block":"none",a.btn.style.position="absolute",a.btn.style.left=r.padding+"px",a.btn.style.bottom=r.padding+"px",a.btn.style.padding="0 15px",a.btn.style.maxWidth=c.contentW-2*r.controlBorderWidth-30+"px",a.btn.style.overflow="hidden",a.btn.style.height=r.buttonHeight+"px",a.btn.style.whiteSpace="nowrap",a.btn.style.border=r.controlBorderWidth+"px solid",t=r.controlBorderColor.split(/\s+/),i=t.length<2?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1],a.btn.style.borderColor=i,a.btn.style.color=r.buttonColor,a.btn.style.font="12px sans-serif",a.btn.style.textAlign="center",a.btn.style.cursor="pointer",a.btn.onmousedown=function(){r.hide()},a.btnT.style.lineHeight=r.buttonHeight+"px",a.btnT.innerHTML="",a.btnT.appendChild(e.document.createTextNode(r.closeText)),s(),u(),d(),n.picker.owner&&n.picker.owner!==r&&n.removeClass(n.picker.owner.targetElement,n.pub.activeClassName),n.picker.owner=r,r.container===e.document.body?n.redrawPosition():n._drawPosition(r,0,0,"relative",!1),a.wrap.parentNode!==r.container&&r.container.appendChild(a.wrap),n.addClass(r.targetElement,n.pub.activeClassName)}function s(){var e=n.getPadYChannel(r),t=Math.round(r.channels.h/360*(r.width-1)),i=Math.round((1-r.channels[e]/100)*(r.height-1)),a=2*r.pointerBorderWidth+r.pointerThickness+2*r.crossSize,o=-Math.floor(a/2);switch(n.picker.cross.style.left=t+o+"px",n.picker.cross.style.top=i+o+"px",n.getSliderChannel(r)){case"s":var l=n.HSV_RGB(r.channels.h,100,r.channels.v),s=n.HSV_RGB(r.channels.h,0,r.channels.v),u="rgb("+Math.round(l[0])+","+Math.round(l[1])+","+Math.round(l[2])+")",d="rgb("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+")";n.picker.sldGrad.draw(r.sliderSize,r.height,u,d);break;case"v":var c=n.HSV_RGB(r.channels.h,r.channels.s,100);u="rgb("+Math.round(c[0])+","+Math.round(c[1])+","+Math.round(c[2])+")",d="#000",n.picker.sldGrad.draw(r.sliderSize,r.height,u,d)}n.picker.asldGrad.draw(r.sliderSize,r.height,r.toHEXString())}function u(){var e=n.getSliderChannel(r);if(e){var t=Math.round((1-r.channels[e]/100)*(r.height-1));n.picker.sldPtrOB.style.top=t-(2*r.pointerBorderWidth+r.pointerThickness)-Math.floor(n.pub.sliderInnerSpace/2)+"px"}n.picker.asldGrad.draw(r.sliderSize,r.height,r.toHEXString())}function d(){var e=Math.round((1-r.channels.a)*(r.height-1));n.picker.asldPtrOB.style.top=e-(2*r.pointerBorderWidth+r.pointerThickness)-Math.floor(n.pub.sliderInnerSpace/2)+"px"}function c(){return n.picker&&n.picker.owner===r}if(i||(i={}),this.channels={r:255,g:255,b:255,h:0,s:0,v:100,a:1},this.format="auto",this.value=void 0,this.alpha=void 0,this.random=!1,this.onChange=void 0,this.onInput=void 0,this.valueElement=void 0,this.alphaElement=void 0,this.previewElement=void 0,this.previewPosition="left",this.previewSize=32,this.previewPadding=8,this.required=!0,this.hash=!0,this.uppercase=!0,this.forceStyle=!0,this.width=181,this.height=101,this.mode="HSV",this.alphaChannel="auto",this.position="bottom",this.smartPosition=!0,this.showOnClick=!0,this.hideOnLeave=!0,this.palette=[],this.paletteCols=10,this.paletteSetsAlpha="auto",this.paletteHeight=16,this.paletteSpacing=4,this.hideOnPaletteClick=!1,this.sliderSize=16,this.crossSize=8,this.closeButton=!1,this.closeText="Close",this.buttonColor="rgba(0,0,0,1)",this.buttonHeight=18,this.padding=12,this.backgroundColor="rgba(255,255,255,1)",this.borderWidth=1,this.borderColor="rgba(187,187,187,1)",this.borderRadius=8,this.controlBorderWidth=1,this.controlBorderColor="rgba(187,187,187,1)",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="rgba(76,76,76,1)",this.pointerBorderWidth=1,this.pointerBorderColor="rgba(255,255,255,1)",this.pointerThickness=2,this.zIndex=5e3,this.container=void 0,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.minA=0,this.maxA=1,this.option=function(){if(!arguments.length)throw new Error("No option specified");if(1===arguments.length&&"string"==typeof arguments[0]){try{return o(arguments[0])}catch(e){console.warn(e)}return!1}if(arguments.length>=2&&"string"==typeof arguments[0]){try{if(!a(arguments[0],arguments[1]))return!1}catch(e){return console.warn(e),!1}return this.redraw(),this.exposeColor(),!0}if(1===arguments.length&&"object"==typeof arguments[0]){var e=arguments[0],t=!0;for(var i in e)if(e.hasOwnProperty(i))try{a(i,e[i])||(t=!1)}catch(e){console.warn(e),t=!1}return this.redraw(),this.exposeColor(),t}throw new Error("Invalid arguments")},this.channel=function(e,t){if("string"!=typeof e)throw new Error("Invalid value for channel name: "+e);if(void 0===t)return this.channels.hasOwnProperty(e.toLowerCase())?this.channels[e.toLowerCase()]:(console.warn("Getting unknown channel: "+e),!1);var i=!1;switch(e.toLowerCase()){case"r":i=this.fromRGBA(t,null,null,null);break;case"g":i=this.fromRGBA(null,t,null,null);break;case"b":i=this.fromRGBA(null,null,t,null);break;case"h":i=this.fromHSVA(t,null,null,null);break;case"s":i=this.fromHSVA(null,t,null,null);break;case"v":i=this.fromHSVA(null,null,t,null);break;case"a":i=this.fromHSVA(null,null,null,t);break;default:return console.warn("Setting unknown channel: "+e),!1}return!!i&&(this.redraw(),!0)},this.trigger=function(e){for(var t=n.strList(e),i=0;i<t.length;i+=1){var r=t[i].toLowerCase(),a=null;switch(r){case"input":a="onInput";break;case"change":a="onChange"}a&&n.triggerCallback(this,a),n.triggerInputEvent(this.valueElement,r,!0,!0)}},this.fromHSVA=function(e,t,i,r,a){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),null!==e){if(isNaN(e))return!1;this.channels.h=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;this.channels.s=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==i){if(isNaN(i))return!1;this.channels.v=Math.max(0,Math.min(100,this.maxV,i),this.minV)}if(null!==r){if(isNaN(r))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,r),this.minA):1}var o=n.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=o[0],this.channels.g=o[1],this.channels.b=o[2],this.exposeColor(a),!0},this.fromRGBA=function(e,t,i,r,a){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==i){if(isNaN(i))return!1;i=Math.max(0,Math.min(255,i))}if(null!==r){if(isNaN(r))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,r),this.minA):1}var o=n.RGB_HSV(null===e?this.channels.r:e,null===t?this.channels.g:t,null===i?this.channels.b:i);null!==o[0]&&(this.channels.h=Math.max(0,Math.min(360,o[0]))),0!==o[2]&&(this.channels.s=Math.max(0,this.minS,Math.min(100,this.maxS,o[1]))),this.channels.v=Math.max(0,this.minV,Math.min(100,this.maxV,o[2]));var l=n.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=l[0],this.channels.g=l[1],this.channels.b=l[2],this.exposeColor(a),!0},this.fromHSV=function(e,t,i,r){return console.warn("fromHSV() method is DEPRECATED. Using fromHSVA() instead."+n.docsRef),this.fromHSVA(e,t,i,null,r)},this.fromRGB=function(e,t,i,r){return console.warn("fromRGB() method is DEPRECATED. Using fromRGBA() instead."+n.docsRef),this.fromRGBA(e,t,i,null,r)},this.fromString=function(e,t){if(!this.required&&""===e.trim())return this.setPreviewElementBg(null),this.setValueElementValue(""),!0;var i=n.parseColorString(e);return!!i&&("any"===this.format.toLowerCase()&&(this._setFormat(i.format),n.isAlphaFormat(this.getFormat())||(i.rgba[3]=1)),this.fromRGBA(i.rgba[0],i.rgba[1],i.rgba[2],i.rgba[3],t),!0)},this.randomize=function(e,t,i,r,n,a,o,l){void 0===e&&(e=0),void 0===t&&(t=100),void 0===i&&(i=0),void 0===r&&(r=100),void 0===n&&(n=0),void 0===a&&(a=359),void 0===o&&(o=1),void 0===l&&(l=1),this.fromHSVA(n+Math.floor(Math.random()*(a-n+1)),i+Math.floor(Math.random()*(r-i+1)),e+Math.floor(Math.random()*(t-e+1)),(100*o+Math.floor(Math.random()*(100*(l-o)+1)))/100)},this.toString=function(e){switch(void 0===e&&(e=this.getFormat()),e.toLowerCase()){case"hex":return this.toHEXString();case"hexa":return this.toHEXAString();case"rgb":return this.toRGBString();case"rgba":return this.toRGBAString()}return!1},this.toHEXString=function(){return n.hexColor(this.channels.r,this.channels.g,this.channels.b)},this.toHEXAString=function(){return n.hexaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toRGBString=function(){return n.rgbColor(this.channels.r,this.channels.g,this.channels.b)},this.toRGBAString=function(){return n.rgbaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toGrayscale=function(){return.213*this.channels.r+.715*this.channels.g+.072*this.channels.b},this.toCanvas=function(){return n.genColorPreviewCanvas(this.toRGBAString()).canvas},this.toDataURL=function(){return this.toCanvas().toDataURL()},this.toBackground=function(){return n.pub.background(this.toRGBAString())},this.isLight=function(){return this.toGrayscale()>127.5},this.hide=function(){c()&&(n.removeClass(r.targetElement,n.pub.activeClassName),n.picker.wrap.parentNode.removeChild(n.picker.wrap),delete n.picker.owner)},this.show=function(){l()},this.redraw=function(){c()&&l()},this.getFormat=function(){return this._currentFormat},this._setFormat=function(e){this._currentFormat=e.toLowerCase()},this.hasAlphaChannel=function(){return"auto"===this.alphaChannel?"any"===this.format.toLowerCase()||n.isAlphaFormat(this.getFormat())||void 0!==this.alpha||void 0!==this.alphaElement:this.alphaChannel},this.processValueInput=function(e){this.fromString(e)||this.exposeColor()},this.processAlphaInput=function(e){this.fromHSVA(null,null,null,parseFloat(e))||this.exposeColor()},this.exposeColor=function(e){var t=this.toString(),i=this.getFormat();if(n.setDataAttr(this.targetElement,"current-color",t),e&n.flags.leaveValue||!this.valueElement||("hex"!==i&&"hexa"!==i||(this.uppercase||(t=t.toLowerCase()),this.hash||(t=t.replace(/^#/,""))),this.setValueElementValue(t)),!(e&n.flags.leaveAlpha)&&this.alphaElement){var r=Math.round(100*this.channels.a)/100;this.setAlphaElementValue(r)}e&n.flags.leavePreview||!this.previewElement||((n.isTextInput(this.previewElement)||n.isButton(this.previewElement)&&!n.isButtonEmpty(this.previewElement))&&this.previewPosition,this.setPreviewElementBg(this.toRGBAString())),c()&&(s(),u(),d())},this.setPreviewElementBg=function(e){if(this.previewElement){var t=null,i=null;(n.isTextInput(this.previewElement)||n.isButton(this.previewElement)&&!n.isButtonEmpty(this.previewElement))&&(t=this.previewPosition,i=this.previewSize);var r=[];if(e){r.push({image:n.genColorPreviewGradient(e,t,i?i-n.pub.previewSeparator.length:null),position:"left top",size:"auto",repeat:t?"repeat-y":"repeat",origin:"padding-box"});var a=n.genColorPreviewCanvas("rgba(0,0,0,0)",t?{left:"right",right:"left"}[t]:null,i,!0);r.push({image:"url('"+a.canvas.toDataURL()+"')",position:(t||"left")+" top",size:a.width+"px "+a.height+"px",repeat:t?"repeat-y":"repeat",origin:"padding-box"})}else r.push({image:"none",position:"left top",size:"auto",repeat:"no-repeat",origin:"padding-box"});for(var o={image:[],position:[],size:[],repeat:[],origin:[]},l=0;l<r.length;l+=1){let e=r[l];o.image.push(e.image),o.position.push(e.position),o.size.push(e.size),o.repeat.push(e.repeat),o.origin.push(e.origin)}var s={"background-image":o.image.join(", "),"background-position":o.position.join(", "),"background-size":o.size.join(", "),"background-repeat":o.repeat.join(", "),"background-origin":o.origin.join(", ")};n.setStyle(this.previewElement,s,this.forceStyle);var u={left:null,right:null};t&&(u[t]=this.previewSize+this.previewPadding+"px");var d={"padding-left":u.left,"padding-right":u.right};n.setStyle(this.previewElement,d,this.forceStyle,!0)}},this.setValueElementValue=function(e){this.valueElement&&("input"===n.nodeName(this.valueElement)?this.valueElement.value=e:this.valueElement.innerHTML=e)},this.setAlphaElementValue=function(e){this.alphaElement&&("input"===n.nodeName(this.alphaElement)?this.alphaElement.value=e:this.alphaElement.innerHTML=e)},this._processParentElementsInDOM=function(){if(!this._parentElementsProcessed){this._parentElementsProcessed=!0;var e=this.targetElement;do{var t=n.getCompStyle(e);t.position&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(n.getData(e,"hasScrollListener")||(e.addEventListener("scroll",n.onParentScroll,!1),n.setData(e,"hasScrollListener",!0)))}while((e=e.parentNode)&&"body"!==n.nodeName(e))}},this.tryHide=function(){this.hideOnLeave&&this.hide()},this.set__palette=function(e){this.palette=e,this._palette=n.parsePaletteValue(e),this._paletteHasTransparency=n.containsTranparentColor(this._palette)},n.pub.options)for(var p in n.pub.options)if(n.pub.options.hasOwnProperty(p))try{a(p,n.pub.options[p])}catch(e){console.warn(e)}var h=[];i.preset&&("string"==typeof i.preset?h=i.preset.split(/\s+/):Array.isArray(i.preset)?h=i.preset.slice():console.warn("Unrecognized preset value")),-1===h.indexOf("default")&&h.push("default");for(var m=h.length-1;m>=0;m-=1){var f=h[m];if(f)if(n.pub.presets.hasOwnProperty(f)){for(var p in n.pub.presets[f])if(n.pub.presets[f].hasOwnProperty(p))try{a(p,n.pub.presets[f][p])}catch(e){console.warn(e)}}else console.warn("Unknown preset: %s",f)}var g=["preset"];for(var p in i)if(i.hasOwnProperty(p)&&-1===g.indexOf(p))try{a(p,i[p])}catch(e){console.warn(e)}if(void 0===this.container?this.container=e.document.body:this.container=n.node(this.container),!this.container)throw new Error("Cannot instantiate color picker without a container element");if(this.targetElement=n.node(t),!this.targetElement){if("string"==typeof t&&/^[a-zA-Z][\w:.-]*$/.test(t))throw new Error("If '"+t+"' is supposed to be an ID, please use '#"+t+"' or any valid CSS selector.");throw new Error("Cannot instantiate color picker without a target element")}if(this.targetElement.jscolor&&this.targetElement.jscolor instanceof n.pub)throw new Error("Color picker already installed on this element");if(this.targetElement.jscolor=this,n.addClass(this.targetElement,n.pub.className),n.instances.push(this),n.isButton(this.targetElement)&&("button"!==this.targetElement.type.toLowerCase()&&(this.targetElement.type="button"),n.isButtonEmpty(this.targetElement))){n.removeChildren(this.targetElement),this.targetElement.appendChild(e.document.createTextNode(" "));var v=n.getCompStyle(this.targetElement);(parseFloat(v["min-width"])||0)<this.previewSize&&n.setStyle(this.targetElement,{"min-width":this.previewSize+"px"},this.forceStyle)}if(void 0===this.valueElement?n.isTextInput(this.targetElement)&&(this.valueElement=this.targetElement):null===this.valueElement||(this.valueElement=n.node(this.valueElement)),this.alphaElement&&(this.alphaElement=n.node(this.alphaElement)),void 0===this.previewElement?this.previewElement=this.targetElement:null===this.previewElement||(this.previewElement=n.node(this.previewElement)),this.valueElement&&n.isTextInput(this.valueElement)){var b={onInput:this.valueElement.oninput};this.valueElement.oninput=null,this.valueElement.addEventListener("keydown",(function(e){"Enter"===n.eventKey(e)&&(r.valueElement&&r.processValueInput(r.valueElement.value),r.tryHide())}),!1),this.valueElement.addEventListener("change",(function(e){if(!n.getData(e,"internal")){var t=r.valueElement.value;r.processValueInput(r.valueElement.value),n.triggerCallback(r,"onChange"),r.valueElement.value!==t&&n.triggerInputEvent(r.valueElement,"change",!0,!0)}}),!1),this.valueElement.addEventListener("input",(function(e){n.getData(e,"internal")||(r.valueElement&&r.fromString(r.valueElement.value,n.flags.leaveValue),n.triggerCallback(r,"onInput"))}),!1),b.onInput&&this.valueElement.addEventListener("input",b.onInput,!1),this.valueElement.setAttribute("autocomplete","off"),this.valueElement.setAttribute("autocorrect","off"),this.valueElement.setAttribute("autocapitalize","off"),this.valueElement.setAttribute("spellcheck",!1)}this.alphaElement&&n.isTextInput(this.alphaElement)&&(this.alphaElement.addEventListener("keydown",(function(e){"Enter"===n.eventKey(e)&&(r.alphaElement&&r.processAlphaInput(r.alphaElement.value),r.tryHide())}),!1),this.alphaElement.addEventListener("change",(function(e){if(!n.getData(e,"internal")){var t=r.alphaElement.value;r.processAlphaInput(r.alphaElement.value),n.triggerCallback(r,"onChange"),n.triggerInputEvent(r.valueElement,"change",!0,!0),r.alphaElement.value!==t&&n.triggerInputEvent(r.alphaElement,"change",!0,!0)}}),!1),this.alphaElement.addEventListener("input",(function(e){n.getData(e,"internal")||(r.alphaElement&&r.fromHSVA(null,null,null,parseFloat(r.alphaElement.value),n.flags.leaveAlpha),n.triggerCallback(r,"onInput"),n.triggerInputEvent(r.valueElement,"input",!0,!0))}),!1),this.alphaElement.setAttribute("autocomplete","off"),this.alphaElement.setAttribute("autocorrect","off"),this.alphaElement.setAttribute("autocapitalize","off"),this.alphaElement.setAttribute("spellcheck",!1));var C="FFFFFF";void 0!==this.value?C=this.value:this.valueElement&&void 0!==this.valueElement.value&&(C=this.valueElement.value);var x=void 0;if(void 0!==this.alpha?x=""+this.alpha:this.alphaElement&&void 0!==this.alphaElement.value&&(x=this.alphaElement.value),this._currentFormat=null,["auto","any"].indexOf(this.format.toLowerCase())>-1){var y=n.parseColorString(C);this._currentFormat=y?y.format:"hex"}else this._currentFormat=this.format.toLowerCase();this.processValueInput(C),void 0!==x&&this.processAlphaInput(x),this.random&&this.randomize.apply(this,Array.isArray(this.random)?this.random:[])}}).pub.className="jscolor",n.pub.activeClassName="jscolor-active",n.pub.looseJSON=!0,n.pub.presets={},n.pub.presets.default={},n.pub.presets.light={backgroundColor:"rgba(255,255,255,1)",controlBorderColor:"rgba(187,187,187,1)",buttonColor:"rgba(0,0,0,1)"},n.pub.presets.dark={backgroundColor:"rgba(51,51,51,1)",controlBorderColor:"rgba(153,153,153,1)",buttonColor:"rgba(240,240,240,1)"},n.pub.presets.small={width:101,height:101,padding:10,sliderSize:14,paletteCols:8},n.pub.presets.medium={width:181,height:101,padding:12,sliderSize:16,paletteCols:10},n.pub.presets.large={width:271,height:151,padding:12,sliderSize:24,paletteCols:15},n.pub.presets.thin={borderWidth:1,controlBorderWidth:1,pointerBorderWidth:1},n.pub.presets.thick={borderWidth:2,controlBorderWidth:2,pointerBorderWidth:2},n.pub.sliderInnerSpace=3,n.pub.chessboardSize=8,n.pub.chessboardColor1="#666666",n.pub.chessboardColor2="#999999",n.pub.previewSeparator=["rgba(255,255,255,.65)","rgba(128,128,128,.65)"],n.pub.init=function(){if(!n.initialized)for(e.document.addEventListener("mousedown",n.onDocumentMouseDown,!1),e.document.addEventListener("keyup",n.onDocumentKeyUp,!1),e.addEventListener("resize",n.onWindowResize,!1),e.addEventListener("scroll",n.onWindowScroll,!1),n.pub.install(),n.initialized=!0;n.readyQueue.length;)n.readyQueue.shift()()},n.pub.install=function(e){var t=!0;try{n.installBySelector("[data-jscolor]",e)}catch(e){t=!1,console.warn(e)}if(n.pub.lookupClass)try{n.installBySelector("input."+n.pub.lookupClass+", button."+n.pub.lookupClass,e)}catch(e){}return t},n.pub.ready=function(e){return"function"!=typeof e?(console.warn("Passed value is not a function"),!1):(n.initialized?e():n.readyQueue.push(e),!0)},n.pub.trigger=function(e){var t=function(){n.triggerGlobal(e)};n.initialized?t():n.pub.ready(t)},n.pub.hide=function(){n.picker&&n.picker.owner&&n.picker.owner.hide()},n.pub.chessboard=function(e){return e||(e="rgba(0,0,0,0)"),n.genColorPreviewCanvas(e).canvas.toDataURL()},n.pub.background=function(e){var t=[];t.push(n.genColorPreviewGradient(e));var i=n.genColorPreviewCanvas();return t.push(["url('"+i.canvas.toDataURL()+"')","left top","repeat"].join(" ")),t.join(", ")},n.pub.options={},n.pub.lookupClass="jscolor",n.pub.installByClassName=function(){return console.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor="" attribute instead of a class name.'+n.docsRef),!1},n.register(),n.pub);return void 0===e.jscolor&&(e.jscolor=e.JSColor=a),a},"object"!=typeof e.exports?n(r):e.exports=r.document?n(r):function(e){if(!e.document)throw new Error("jscolor needs a window with document");return n(e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=t.SearchBarOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.SearchBarOptions=a;class o extends r.VrControl{constructor(e,t){null==t&&(t=new a),null==t.expandOnClick&&(t.expandOnClick=!0),null==t.collapseOnBlur&&(t.collapseOnBlur=!1),null==t.collapsed&&(t.collapsed=!1),null==t.placeholder&&(t.placeholder="Cerca..."),null==t.icon&&(t.icon=!0),1==t.icon&&(t.icon=n.IconClassLight.Search),super(e,t,n.ControlTypeEnum.SearchBar),!1!==t.icon&&n.createIcon({value:t.icon,color:null!=t.onClick?"#878787":"#CCC",onClick:e=>{if(null!=t.expandOnClick&&this.expand(),null!=t.onClick){let e=new d;e.sender=this,e.value=this.value(),t.onClick(e)}}},this.element()),this._textBox=n.createTextBox({placeholder:t.placeholder,width:!1!==t.icon?"Calc(100% - 15px)":"100%",onKeyDown:e=>this._previousValue=this.value(),onKeyUp:e=>{if(null!=t.onKeyUp){let e=new s;e.sender=this,e.value=this.value(),e.previousValue=this._previousValue,t.onKeyUp(e)}},onEnterKey:()=>{if(null!=t.onEnterKey){let e=new u;e.sender=this,e.value=this.value(),t.onEnterKey(e)}},onBlur:e=>{if(t.collapseOnBlur&&this.collapse(),null!=t.onBlur){let e=new c;e.sender=this,e.value=this.value(),t.onBlur(e)}}},this.element()),t.collapsed&&this.collapse()}value(e){return this._textBox.value(e)}clear(){this._textBox.clear()}collapse(){this._textBox.hide(),this.container().style.cssText+="border-bottom: none;"}expand(){this._textBox.show(),this._textBox.focus(),this.container().style.cssText+="border-bottom: solid 1px #d9d9d9;"}isCollapsed(){return!this._textBox.visible()}focus(){this._textBox.focus()}}t.SearchBar=o;class l extends r.VrControlsEvent{}class s extends l{}class u extends l{}class d extends l{}class c extends l{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Splitter=t.SplitterOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.SplitterOptions=a;class o extends r.VrControl{constructor(e,t){switch(null==t&&(t=new a),null==t.direction&&(t.direction=n.SplitterDirectionEnum.Horizontal),null==t.resizable&&(t.resizable=!0),null==t.tabIndex&&(t.tabIndex=-1),null==t.collapsable&&(t.collapsable=!1),!0===t.collapsable&&(t.collapsable=new n.SplitterCollapsableSettings,null==t.collapsable.direction&&(t.collapsable.direction=n.SplitterCollapseDirectionEnum.Left),null==t.collapsable.color&&(t.collapsable.color="#000"),t.direction==n.SplitterDirectionEnum.Horizontal?t.collapsable.direction=n.SplitterCollapseDirectionEnum.Left:t.direction==n.SplitterDirectionEnum.Vertical&&(t.collapsable.direction=n.SplitterCollapseDirectionEnum.Up)),super(e,t,n.ControlTypeEnum.Splitter),t.resizable&&l(this,t),t.direction){case n.SplitterDirectionEnum.Horizontal:n.puma(this.element()).attr("data-direction","horizontal");break;case n.SplitterDirectionEnum.Vertical:n.puma(this.element()).attr("data-direction","vertical")}if(!1!==t.collapsable){let e="",i="";switch(t.collapsable.direction){case n.SplitterCollapseDirectionEnum.Left:e=n.IconClassSolid.CaretLeft,i="left: -5px; top: Calc(50% - 8px);";break;case n.SplitterCollapseDirectionEnum.Right:e=n.IconClassSolid.CaretRight,i="left: 0px; top: Calc(50% - 8px);";break;case n.SplitterCollapseDirectionEnum.Up:e=n.IconClassSolid.CaretUp,i="top: -10px; left: Calc(50% - 5px);";break;case n.SplitterCollapseDirectionEnum.Down:e=n.IconClassSolid.CaretDown,i="top: -5px; left: Calc(50% - 5px)"}n.createIcon({value:e,cssContainer:"position: absolute; "+i,color:t.collapsable.color,tag:"expanded",onClick:e=>{let i=e.sender.tag();if(null==this._previousDiv&&(this._previousDiv=this.container().previousElementSibling,this._nextDiv=this.container().nextElementSibling),null!=t.onBeforeExpandCollapse){let r=new d;if(r.sender=this,r.collapse="expanded"==i,r.previousDiv=this._previousDiv,r.nextDiv=this._nextDiv,t.onBeforeExpandCollapse(r),r.isDefaultPrevented())return void e.preventDefault()}switch(t.collapsable.direction){case n.SplitterCollapseDirectionEnum.Left:if("expanded"==i)n.puma(this._previousDiv).hide(),n.puma(this._nextDiv).width("100%"),e.sender.value(n.IconClassSolid.CaretRight),e.sender.cssContainer("left: 0px;");else{n.puma(this._previousDiv).show();let t=100-this._previousDiv.style.width.vrGetNumericPart()+"%";this._previousDiv.style.width.endsWith("px")&&(t="Calc(100% - "+this._previousDiv.style.width.vrGetNumericPart()+"px)"),n.puma(this._nextDiv).width(t),e.sender.value(n.IconClassSolid.CaretLeft),e.sender.cssContainer("left: -5px;")}break;case n.SplitterCollapseDirectionEnum.Right:if("expanded"==i)n.puma(this._previousDiv).width("100%"),n.puma(this._nextDiv).hide(),e.sender.value(n.IconClassSolid.CaretLeft),e.sender.cssContainer("left: -5px;");else{let t=100-this._nextDiv.style.width.vrGetNumericPart()+"%";this._nextDiv.style.width.endsWith("px")&&(t="Calc(100% - "+this._nextDiv.style.width.vrGetNumericPart()+"px)"),n.puma(this._previousDiv).width(t),n.puma(this._nextDiv).show(),e.sender.value(n.IconClassSolid.CaretRight),e.sender.cssContainer("left: 0px;")}break;case n.SplitterCollapseDirectionEnum.Down:if("expanded"==i)n.puma(this._previousDiv).height("100%"),n.puma(this._nextDiv).hide(),e.sender.value(n.IconClassSolid.CaretUp),e.sender.cssContainer("top: -10px;");else{let t=100-this._nextDiv.style.height.vrGetNumericPart()+"%";this._nextDiv.style.height.endsWith("px")&&(t="Calc(100% - "+this._nextDiv.style.height.vrGetNumericPart()+"px)"),n.puma(this._previousDiv).height(t),n.puma(this._nextDiv).show(),e.sender.value(n.IconClassSolid.CaretDown),e.sender.cssContainer("top: -5px;")}break;case n.SplitterCollapseDirectionEnum.Up:if("expanded"==i)n.puma(this._previousDiv).hide(),n.puma(this._nextDiv).height("100%"),e.sender.value(n.IconClassSolid.CaretDown),e.sender.cssContainer("top: -5px;");else{n.puma(this._previousDiv).show();let t=100-this._previousDiv.style.height.vrGetNumericPart()+"%";this._previousDiv.style.height.endsWith("px")&&(t="Calc(100% - "+this._previousDiv.style.height.vrGetNumericPart()+"px)"),n.puma(this._nextDiv).height(t),e.sender.value(n.IconClassSolid.CaretUp),e.sender.cssContainer("top: -10px;")}}if(null!=t.onAfterExpandExpandCollapse){let e=new c;e.sender=this,e.collapse="expanded"==i,e.previousDiv=this._previousDiv,e.nextDiv=this._nextDiv,t.onAfterExpandExpandCollapse(e)}"expanded"==i?e.sender.tag("collapsed"):e.sender.tag("expanded")}},this.container())}}}t.Splitter=o;let l=(e,t)=>{let i=e.element(),r=null,n=null,a=null,o=0,l=0,s=0,u=0;const d=e=>{const t=e.clientX-o,d=e.clientY-l;switch(r){case"vertical":{const e=100*(s+d)/i.parentElement.parentNode.getBoundingClientRect().height;n.style.height=e+"%",a.style.height=100-e+"%"}break;case"horizontal":default:{const e=100*(u+t)/i.parentElement.parentNode.getBoundingClientRect().width;n.style.width=e+"%",a.style.width=100-e+"%"}}const c="horizontal"===r?"col-resize":"row-resize";i.style.cursor=c,document.body.style.cursor=c,n.style.userSelect="none",n.style.pointerEvents="none",a.style.userSelect="none",a.style.pointerEvents="none"},c=()=>{if(i.style.removeProperty("cursor"),document.body.style.removeProperty("cursor"),n.style.removeProperty("user-select"),n.style.removeProperty("pointer-events"),a.style.removeProperty("user-select"),a.style.removeProperty("pointer-events"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",c),null!=t.onAfterResize){let i=new m;i.sender=e,i.previousDiv=n,i.nextDiv=a,i.direction=r,t.onAfterResize(i)}};i.addEventListener("mousedown",p=>{if(r=i.getAttribute("data-direction")||"horizontal",n=i.parentElement.previousElementSibling,a=i.parentElement.nextElementSibling,null!=t.onBeforeResize){let i=new h;if(i.sender=e,i.previousDiv=n,i.nextDiv=a,i.direction=r,t.onBeforeResize(i),i.isDefaultPrevented())return void p.preventDefault()}o=p.clientX,l=p.clientY;const m=n.getBoundingClientRect();s=m.height,u=m.width,document.addEventListener("mousemove",d),document.addEventListener("mouseup",c)})};class s extends r.VrControlsEvent{}class u extends s{}class d extends u{}class c extends u{}class p extends s{}class h extends p{}class m extends p{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCompleteBox=t.AutoCompleteBoxOptions=void 0;const r=i(2),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.AutoCompleteBoxOptions=o;class l extends n.VrControl{constructor(e,t){null==t&&(t=new o),null==t.width&&(t.width=300),null==t.border&&(t.border=!0),null==t.tooltip&&(t.tooltip=!0),null==t.itemSettings&&(t.itemSettings=new a.AutoCompleteBoxItemSettings),null==t.itemSettings.backgroundColor&&(t.itemSettings.backgroundColor="#FFF"),null==t.itemSettings.textColor&&(t.itemSettings.textColor="#5f6368"),null==t.itemSettings.border&&(t.itemSettings.border="solid 1px #dadce0"),null==t.itemSettings.bold&&(t.itemSettings.bold=!1),null==t.itemSettings.deleteIconColor&&(t.itemSettings.deleteIconColor="rgb(140 140 140)"),null!=t.comboSettings&&(null==t.comboSettings.freeText&&(t.comboSettings.freeText=!0),null==t.comboSettings.treeMode&&(t.comboSettings.treeMode=a.ComboBoxTreeModeEnum.AllExpanded)),super(e,t,a.ControlTypeEnum.AutoCompleteBox),a.puma(this.element()).attr("tabindex","1"),this._spanForWidth=a.span(this.element(),{css:"visibility: hidden;"}),this._popup=a.puma("<div class='comboBox_divPopup vrPopup' id='"+e.id+"_divPopup' style='border: solid 1px #ccc; display: none; position: absolute;  border-radius: 4px; box-shadow: 0 5px 10px rgb(0 0 0 / 20%); padding: 5px; overflow-y: auto; z-index: 9999999;  background-color: #fff; height: fit-content;'></div>").vrAppendToPuma(null!=a.shadowRoot()?a.shadowRoot():document.body)[0],this._items=[],t.border&&(this.element().style.cssText+="border: solid 1px #ccc;");let i=0;if(this._txtInput=a.createTextBox({cssContainer:"width: auto !important;",css:"width: 20px; min-width: 20px !important; max-width: "+this.width()+"px; padding-left: 0px; padding-right: 0px;",onKeyUp:e=>{if((e.key==a.KeyEnum.ArrowRight||e.key==a.KeyEnum.ArrowLeft||e.key==a.KeyEnum.ArrowUp||e.key==a.KeyEnum.Control||e.ctrlKey)&&("v"!=e.key||!e.ctrlKey))return this.manageInputWidth(),void e.preventDefault();null!=t.comboSettings&&(clearTimeout(i),i=window.setTimeout(()=>{let i=String(e.value);if(null==t.comboSettings||null==t.comboSettings.webService){let t=this.filter(i,this.element());t.length>0?this.open():this.close(),"v"==e.key&&e.ctrlKey&&1==t.length&&(this.valueCombo(String(t[0].value)),this.close())}else if(null!=t.comboSettings.webService&&e.key!=a.KeyEnum.Enter){if(""==i)return this._items=[],void a.puma(this._popup).find("ul").remove();{let e=this.element().selectionStart,t=this.element().selectionEnd;0==e&&t==this.element().value.length||this.doAjaxCall(i)}}},300))},onEnterKey:e=>{null!=t.comboSettings?t.comboSettings.freeText?this.manageInput(e.sender,e.sender.value()):(this._txtInput.clear(),this.placeholder(t.placeholder)):this.manageInput(e.sender,e.sender.value())},onKeyDown:e=>{if(this.manageInputWidth(),null!=t.comboSettings&&e.key==a.KeyEnum.ArrowDown){a.puma(this._popup).find("li:visible").first().focus()}}},this.element()),null!=t.comboSettings&&null!=t.comboSettings.items&&this.comboItems(t.comboSettings.items),a.puma(document.body).on("click",e=>{""==this._txtInput.value()||e.target.id==this._txtInput.element().id||e.target.classList.contains("vrAutoCompleteBoxItemText")||e.target.classList.contains("comboBox_divPopup")||(this.manageInput(this._txtInput,this._txtInput.value()),this.blurEvent())}),a.puma(this.element()).on("focus",e=>this.focus()),null!=t.placeholder&&this.placeholder(t.placeholder),null!=t.value&&this.items(t.value),null!=t.rows){let e=0;for(let i=0;i<t.rows;i++)e+=0==i?27:22;this.element().style.cssText+="max-height: "+e+"px;"}(null!=a.shadowRoot()?a.shadowRoot():document).addEventListener("scroll",e=>{!a.puma(e.target).hasClass("comboBox_divPopup")&&a.puma(this._popup).is(":visible")&&this.close()},!0)}manageInput(e,t,i){let r=this.getOptions();if(e.clear(),this.placeholder(r.placeholder),""!=t)for(let e of t.split(",")){let t=new a.AutoCompleteBoxItem;t.text=e.trim(),null!=i&&(t.value=i),this.addItem(t)}a.puma(this._txtInput.container()).vrAppendToPuma(this.element()),window.setTimeout(()=>this.focus()),this.close()}manageInputWidth(){let e=this.getOptions(),t=this._txtInput.value();""!=t?this._txtInput.element().style.width=this.textWidth(t)+20+"px":this.placeholder(e.placeholder)}items(e){if(null!=e)for(let t of e)this.addItem(t);return this._items}addItem(e){if(null==e||""==e)return;let t=this.getOptions();this.placeholder("");let i=e;"string"==typeof e&&(i=new a.AutoCompleteBoxItem,i.text=e,i.value=e),null==i.value&&(i.value=i.text);let r=a.div(this.element(),{class:"vrAutoCompleteBoxItem",attributes:[{name:"value",value:i.value}]}),n=a.span(r,{content:i.text,class:"vrAutoCompleteBoxItemText"});t.tooltip&&a.puma(r).attr("title",i.text);let o=t.itemSettings.backgroundColor,l=t.itemSettings.textColor,s=t.itemSettings.border,c=t.itemSettings.bold,p=t.itemSettings.deleteIconColor,h=t.itemSettings.maxWidth;if(null!=i.settings&&(null!=i.settings.backgroundColor&&(o=i.settings.backgroundColor),null!=i.settings.textColor&&(l=i.settings.textColor),null!=i.settings.border&&(s=i.settings.border),null!=i.settings.bold&&(c=i.settings.bold),null!=i.settings.deleteIconColor&&(p=i.settings.deleteIconColor),null!=i.settings.maxWidth&&(h=i.settings.maxWidth)),r.style.cssText+="background-color: "+o+"; color: "+l+"; border: "+s+";",c&&(r.style.cssText+="font-weight: 600;"),null!=h&&(n.style.cssText+="max-width: "+h+"px;"),a.puma(r).on("click",e=>{if(null!=t.onItemClick){let n=new u;if(n.sender=this,n.item={item:i,element:r},n.text=i.text,t.onItemClick(n),n.isDefaultPrevented())return void e.preventDefault()}a.puma(this._txtInput.container()).vrInsertBeforePuma(r),this.removeItem(i.value);let n=this.textWidth(i.text);this._txtInput.value(i.text,!1),this._txtInput.element().style.width=n+20+"px",this._txtInput.element().select(),this.focus()}),a.createIcon({value:a.IconClassRegular.Xmark,cssContainer:"margin-left: 5px; top: -1px;",color:p,onClick:e=>this.removeItem(i.value)},r),a.puma(r).vrInsertBeforePuma(this._txtInput.container()),null!=i.value&&a.puma(r).attr("value",i.value),this._items.push(i),null!=t.onItemAdded){let e=new d;e.sender=this,e.item={item:i,element:r},t.onItemAdded(e)}}removeItem(e){this._items.vrDeleteAllBy(t=>t.value==e),a.puma(this.container()).find(".vrAutoCompleteBoxItem[value='"+e+"']").remove();let t=this.getOptions();if(0==this.items().length&&this.placeholder(t.placeholder),null!=t.onItemRemoved){let i=new d;i.sender=this,i.item=this.item(e),t.onItemRemoved(i)}}item(e){let t=new c,i=this._items.filter(t=>t.value==e)[0],r=this.items().indexOf(i);return t.item=this.items()[r],t.element=a.puma(this.container()).find(".vrAutoCompleteBoxItem[value='"+e+"']")[0],t}color(e,t){let i=this.item(e);null!=i.element&&null!=t&&(null!=t.backgroundColor&&(i.element.style.cssText+="background-color: "+t.backgroundColor+";"),null!=t.textColor&&(i.element.style.cssText+="color: "+t.textColor+";"),null!=t.border&&(i.element.style.cssText+="border: "+t.border+";"),t.bold&&(i.element.style.cssText+="font-weight: 600;"))}text(){return this.items().map(e=>e.text)}value(e){return null!=e&&this.items(e),this.items().map(e=>e.value)}placeholder(e){if(null!=e){let t=this.textWidth(e);this._txtInput.element().placeholder=e,this._txtInput.element().style.width=t+20+"px"}return this._txtInput.element().placeholder}textWidth(e){let t=0;return this._spanForWidth.innerHTML=e.replace(/\s/g,"&nbsp;"),t=this._spanForWidth.offsetWidth,this._spanForWidth.innerHTML="",t}focus(){let e=this.getOptions();a.puma(this.element()).vrHasScrollBar()||(this._txtInput.focus(),this.focusEvent(),""==this._txtInput.value()&&this.placeholder(e.placeholder))}focusEvent(){let e=this.getOptions();if(null!=e.onFocus){let t=new p;t.sender=this,t.element=this._txtInput.element(),e.onFocus(t)}}blurEvent(){let e=this.getOptions();if(null!=e.onBlur){let t=new h;t.sender=this,t.element=this._txtInput.element(),e.onBlur(t)}}clear(){let e=this.getOptions();this._items=[],a.puma(this.container()).find(".vrAutoCompleteBoxItem").remove(),this._txtInput.clear(),this.placeholder(e.placeholder)}close(){a.puma(this._popup).hide()}open(){if(a.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),!this.enabled())return;if(a.puma(this._popup).is(":visible"))return;a.puma(this._popup).show(),super.settingPopup(this._popup);let e=a.puma(this.element()).width();this._popup.style.cssText+="min-width: "+e+"px;"}doAjaxCall(e=""){let t=this.getOptions();if(null==t.comboSettings||null==t.comboSettings.webService)return;null==t.comboSettings.webService.typedTextPropertyName&&(t.comboSettings.webService.typedTextPropertyName="text"),null==t.comboSettings.webService.typedValuePropertyName&&(t.comboSettings.webService.typedValuePropertyName="value"),null==t.comboSettings.webService.itemsPropertyName&&(t.comboSettings.webService.itemsPropertyName="items");let i={};if(i[t.comboSettings.webService.typedTextPropertyName]=e,null==t.comboSettings.webService.authKey&&(t.comboSettings.webService.authKey=""),null!=t.comboSettings.webService.parameters){let e=t.comboSettings.webService.parameters(),r=Object.getOwnPropertyNames(e);for(let t of r)i[t]=e[t]}this._lastAjaxCallGuid=r.UtilityManager.createGuid(),i.guid=this._lastAjaxCallGuid,r.UtilityManager.doAjaxCall({mode:a.WebApiModeEnum.Async,authKey:t.comboSettings.webService.authKey,method:t.comboSettings.webService.method,request:i},i=>{if(null!=this._lastAjaxCallGuid&&null!=i.guid&&this._lastAjaxCallGuid!=i.guid)return;this._typedTextWebService=e;let r=i[t.comboSettings.webService.itemsPropertyName];this.comboItems(r),r.length>0?this.open():this.close()})}comboItems(e){let t=this.getOptions();return null!=e&&(this._comboItems=e,0==this.getRootItems().length?a.puma(this._popup).addClass("vrComboBoxFlat"):a.puma(this._popup).removeClass("vrComboBoxFlat"),null==t.comboSettings.webService?this.drawDataSource():(null==this._typedTextWebService&&(this._items=[]),this.drawDataSource(),this._typedTextWebService=null)),this._comboItems}getOnlyChildrenItems(e){return this.comboItems().filter(t=>null!=t.parentValue&&t.parentValue==e.value)}getRootItems(){let e=[];for(let t of this.comboItems()){if(null==t)continue;let i=t.parentValue;for(;null!=i;){let t=this.comboItems().filter(e=>e.value==i)[0];e.includes(t)||e.push(t),i=null!=t?t.parentValue:void 0,null!=t&&i==t.value&&(i=void 0)}}return e}getRootValues(){return this.getRootItems().filter(e=>null!=e).map(e=>String(e.value))}drawDataSource(e){a.puma(this._popup).find(".vrComboBoxUl").remove();let t=this.comboItems();null!=e&&(t=this.getFilteredArrayByInputText(e)),1==t.length&&null==t[0]||(this._dictionaryValueLi=new Map,this._dictionaryLiValue=new Map,t=t.filter(e=>null==e.parentValue),this.drawItems(t,this._popup))}drawItems(e,t){let i=this.getOptions();if(0==e.length)return;let n=a.puma("<ul class='vrComboBoxUl'></ul>").vrAppendToPuma(t);for(let t of e){null==t.value&&(t.value=t.text);let e=a.puma("<li class='vrComboBoxLi' tabindex='-1'></li>").vrAppendToPuma(n);if(this._dictionaryLiValue.set(e[0],String(t.value)),this._dictionaryValueLi.has(String(t.value))){let i=this._dictionaryValueLi.get(String(t.value));i.push(e[0]),this._dictionaryValueLi.set(String(t.value),i)}else this._dictionaryValueLi.set(String(t.value),[e[0]]);a.puma(e).on("focusin",e=>{a.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue"),a.puma(e.target).addClass("vrComboBoxSelectedComboValue keydownFocus")}),a.puma(e).on("keydown",e=>{if(e.key==a.KeyEnum.ArrowDown){let t=a.puma(e.currentTarget).next();if(0==t.length)return;for(a.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=a.puma(t).next();t.focus()}else if(e.key==a.KeyEnum.ArrowUp){let t=a.puma(e.currentTarget).prev();if(0==t.length)return;for(a.puma(this._popup).find(".vrComboBoxSelectedComboValue").removeClass("vrComboBoxSelectedComboValue");!t.is(":visible");)t=a.puma(t).prev();t.focus()}else e.key==a.KeyEnum.Enter&&a.puma(e.currentTarget).find(".vrComboBoxItemText").click()}),i.comboSettings.treeMode==a.ComboBoxTreeModeEnum.AllCollapsed?null!=t.parentValue&&a.puma(e).closest(".vrComboBoxUl").hide():i.comboSettings.treeMode==a.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded&&a.puma(e).parents(".vrComboBoxUl").length>2&&a.puma(e).closest(".vrComboBoxUl").hide();let o=this.getOnlyChildrenItems(t);if(o.length>0){let n="",o=a.IconClassLight.CaretRight;i.comboSettings.treeMode==a.ComboBoxTreeModeEnum.AllCollapsed?null!=t.parentValue&&(o=a.IconClassLight.CaretRight,n="caret-right"):i.comboSettings.treeMode==a.ComboBoxTreeModeEnum.OnlyFirstLevelExpanded?1==a.puma(e).parents(".vrComboBoxUl").length?(o=a.IconClassLight.CaretDown,n="caret-down"):(o=a.IconClassLight.CaretRight,n="caret-right"):(o=a.IconClassLight.CaretDown,n="caret-down");let l=a.puma("<div class='vrComboBoxDivIconExpand "+n+"'></div>").vrAppendToPuma(e);a.puma(r.UtilityManager.createIcon(o)).vrAppendToPuma(l),a.puma(l).click(e=>{a.puma(e.currentTarget).children("i").removeClass(a.IconClassLight.CaretRight+" "+a.IconClassLight.CaretDown),a.puma(e.currentTarget).removeClass("caret-right caret-down");let t=a.puma(e.currentTarget).siblings(".vrComboBoxUl");t.first().is(":visible")?(t.hide(),a.puma(e.currentTarget).children("i").addClass(a.IconClassLight.CaretRight),a.puma(e.currentTarget).addClass("caret-right")):(t.show(),a.puma(e.currentTarget).children("i").addClass(a.IconClassLight.CaretDown),a.puma(e.currentTarget).addClass("caret-down"))})}let l=a.puma("<div class='vrComboBoxDivItemContainer'></div>").vrAppendToPuma(e),s=t.text.replace(/'/g,"&#39;");if(null!=i.comboSettings&&null!=i.comboSettings.template){let e={};e.dataItem=t,e.element=l[0],e.sender=this,s=i.comboSettings.template(e)}let u=a.puma("<span title='"+t.text+"' text='"+t.text.replace(/'/g,"&#39;")+"' class='vrComboBoxItemText'>"+s+"</span>").vrAppendToPuma(l);a.puma(u).click(e=>{let t=this._dictionaryLiValue.get(a.puma(e.currentTarget).closest("li")[0]),i=this.comboItems().filter(e=>e.value==t)[0];null==i||this.getRootValues().includes(String(i.value))?r.UtilityManager.interval(()=>a.puma(this.element()).toggleClass("errorInput"),200,800):(this.valueCombo(String(i.value)),this.close())}),o.length>0&&this.drawItems(this.getOnlyChildrenItems(t),e)}}valueCombo(e){if(null===e)return void this.clear();let t=this.comboItems().filter(t=>t.value==e)[0];this._txtInput.value(t.text,!1),this.manageInput(this._txtInput,this._txtInput.value(),String(t.value))}filter(e,t){let i=this.getOptions(),r=t.selectionStart,n=t.selectionEnd,o=[];if(""==e)a.puma(this._popup).find("li").show(),null!=i.comboSettings.webService&&(this._items=[],a.puma(this._popup).find(".vrComboBoxUl").remove());else if(0!=r||n!=t.value.length){a.puma(this._popup).find("li").hide();let t=this.getFilteredArrayByInputText(e);o=t;let i=t.map(e=>e.value),r=t.map(e=>e.text);for(let e of t){let t=e.parentValue;for(;null!=t;){let e=this.comboItems().filter(e=>e.value==t)[0];i.includes(t)||(i.push(t),r.push(e.text)),t=null!=e?e.parentValue:void 0,t==e.value&&(t=void 0)}}for(let e of Array.from(a.puma(this._popup).find(".vrComboBoxItemText")))r.includes(String(a.puma(e).attr("text")).trim())&&(a.puma(e).closest(".vrComboBoxLi").show(),a.puma(e).closest(".vrComboBoxLi").closest(".vrComboBoxUl").show(),a.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").removeClass("caret-right caret-down"),a.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").removeClass(a.IconClassLight.CaretRight+" "+a.IconClassLight.CaretDown),a.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").addClass("caret-down"),a.puma(e).closest(".vrComboBoxLi").find(".vrComboBoxDivIconExpand").children("i").addClass(a.IconClassLight.CaretDown))}return o}getFilteredArrayByInputText(e){e=e.toLowerCase();let t=[];return this.comboItems().map(e=>String(e.text).toLowerCase()).forEach((i,r)=>{-1!=i.indexOf(e)&&t.push(this.comboItems()[r])}),t}getOptions(){return this.options()}}t.AutoCompleteBox=l;class s extends n.VrControlsEvent{}class u extends s{}class d extends s{}class c{}class p extends s{}class h extends s{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StackedBarChart=t.AreaChart=t.PieChart=t.DonutChart=t.LineChart=t.HorizontalBarChart=t.BarChart=t.ChartVr=void 0;const r=i(1),n=i(0);class a extends r.VrControl{constructor(e,t){null==t&&(t=new n.ChartOptions),null==t.width&&(t.width=400),null==t.height&&(t.height=400),null==t.type&&(t.type=n.ChartTypeEnum.Bar),null==t.padding&&(t.padding=0),null==t.showHideDatasetOnLegendClick&&(t.showHideDatasetOnLegendClick=!0),null==t.responsive&&(t.responsive=!0),null==t.stacked&&(t.stacked=!1),t.type==n.ChartTypeEnum.StackedBar&&!1===t.stacked&&(t.stacked=!0),!0===t.stacked&&(t.stacked={x:!0,y:!0}),null==t.title&&(t.title=!1),!0===t.title&&(t.title=new n.ChartTitleSettings),null==t.subTitle&&(t.subTitle=!1),!0===t.subTitle&&(t.subTitle=new n.ChartTitleSettings),null==t.dataLabels&&(t.dataLabels=!0),!0===t.dataLabels&&(t.dataLabels=new n.ChartDataLabelsSettings),null==t.legend&&(t.legend=!1),!0===t.legend&&(t.legend=new n.ChartLegendSettings),null==t.tooltip&&(t.tooltip=!0),!0===t.tooltip&&(t.tooltip=new n.ChartTooltipSettings),super(e,t,n.ControlTypeEnum.Chart),this._plugins=new o;let i=void 0;if(!1!==t.title){if("string"==typeof t.title){let e=t.title;t.title=new n.ChartTitleSettings,t.title.text=e}t.title.display=!0,null==t.title.color&&(t.title.color="#51B3E1"),null==t.title.font&&(t.title.font=new n.ChartFont),null==t.title.font.size&&(t.title.font.size=16),i=t.title}this._plugins.title=i;let r=void 0;if(!1!==t.subTitle){if("string"==typeof t.subTitle){let e=t.subTitle;t.subTitle=new n.ChartTitleSettings,t.subTitle.text=e}t.subTitle.display=!0,null==t.subTitle.color&&(t.subTitle.color="#666666"),r=t.subTitle}this._plugins.subtitle=r;let a=void 0;!1!==t.dataLabels?(null==t.dataLabels.color&&(t.dataLabels.color="#666666"),null==t.dataLabels.anchor&&(t.dataLabels.anchor=n.ChartDataLabelsAnchorEnum.End),null==t.dataLabels.align&&(t.dataLabels.align=n.ChartDataLabelAlignEnum.End),null==t.dataLabels.padding&&(t.dataLabels.padding={left:5,right:5}),a=t.dataLabels,null!=t.onDataFormatter&&(a.formatter=(e,i)=>{let r=new n.ChartAxisFormatterEvent;return r.sender=this,r.value=e,r.context=i,t.onDataFormatter(r)}),a.listeners={enter:e=>{if(e.hovered=!0,null!=t.onLabelHover){let i=new n.ChartLabelHoverEvent;i.sender=this,i.context=e,t.onLabelHover(i)}return!0},leave:e=>{if(e.hovered=!1,null!=t.onLabelLeave){let i=new n.ChartLabelLeaveEvent;i.sender=this,i.context=e,t.onLabelLeave(i)}return!0},click:e=>{if(null!=t.onLabelClick){let i=new n.ChartLabelClickEvent;i.sender=this,i.context=e,t.onLabelClick(i)}}}):a={display:!1},this._plugins.datalabels=a;let l={enabled:!1};!1!==t.tooltip&&(t.tooltip.enabled=!0,l=t.tooltip),this._plugins.tooltip=l;let s={display:!1};if(!1!==t.legend&&(s={display:!0,position:t.legend.position,align:t.legend.align,labels:t.legend.labels,title:t.legend.title,onHover:(e,i,r)=>{if(null!=t.onLegendHover){let a=new n.ChartLegendHoverEvent;a.sender=this,a.event=e,a.legendItem=i,a.legend=r,t.onLegendHover(a)}},onLeave:(e,i,r)=>{if(null!=t.onLegendLeave){let a=new n.ChartLegendLeaveEvent;a.sender=this,a.event=e,a.legendItem=i,a.legend=r,t.onLegendLeave(a)}},onClick:(e,i,r)=>{if(t.showHideDatasetOnLegendClick&&(r.chart.config.type===n.ChartTypeEnum.Pie||r.chart.config.type===n.ChartTypeEnum.Donut?Chart.controllers.doughnut.overrides.plugins.legend.onClick(e,i,r):Chart.defaults.plugins.legend.onClick(e,i,r)),null!=t.onLegendClick){let a=new n.ChartLegendClickEvent;a.sender=this,a.event=e,a.legendItem=i,a.legend=r,t.onLegendClick(a)}}}),this._plugins.legend=s,null==t.scales&&(t.scales={}),null==t.scales.x&&(t.scales.x={}),t.scales.x.grace="5%",null==t.scales.y&&(t.scales.y={}),t.scales.y.grace="5%",t.type!=n.ChartTypeEnum.Pie&&t.type!=n.ChartTypeEnum.Donut||(t.scales.x.display=!1,t.scales.y.display=!1),!1!==t.stacked&&(t.scales.x.stacked=t.stacked.x,t.scales.y.stacked=t.stacked.y),null!=t.onAxisLabelFormatter){let e=(e,i)=>{let r=new n.ChartAxisFormatterEvent;return r.sender=this,r.value=e,r.context=i,t.onAxisLabelFormatter(r)};t.type==n.ChartTypeEnum.HorizontalBar?t.scales.x.ticks={callback:e}:t.scales.y.ticks={callback:e}}null!=t.limit&&(t.scales.x.min=t.limit.minX,t.scales.x.max=t.limit.maxX,t.scales.y.min=t.limit.minY,t.scales.y.max=t.limit.maxY),null==t.aspectRatio&&(t.aspectRatio=new n.ChartAspectRatioSettings),null==t.aspectRatio.maintain&&(t.aspectRatio.maintain=!1),null==t.datasource&&(t.datasource=[]),this.datasource(t.datasource)}base64Data(){return this.element().toDataURL().replace("data:image/png;base64,","")}datasource(e){null!=this._chart&&this._chart.destroy();let t=this.getOptions(),i=[];if(null!=e){for(let r of e)t.type==n.ChartTypeEnum.Area||r.type==n.ChartTypeEnum.Area?(null==r.areaSettings&&(r.areaSettings=new n.ChartAreaSettings),null==r.areaSettings.target&&(r.areaSettings.target="origin"),null==r.areaSettings.above&&(r.areaSettings.above="rgba(255, 99, 132, 0.2)"),null==r.areaSettings.below&&(r.areaSettings.below="rgba(255, 159, 64, 0.2)"),r.fill=r.areaSettings):t.type==n.ChartTypeEnum.Line&&(null==r.smoothLine&&(r.smoothLine=!0),r.smoothLine&&(r.tension=.4)),null==r.borderWidth&&(r.borderWidth=1),null!=r.title&&(r.label=r.title),null!=r.labels&&i.vrPushRange(r.labels);this._datasource=e;let r={labels:i,datasets:e};this.createChart(r)}return this._datasource}createChart(e){let t=this.getOptions(),i=t.type==n.ChartTypeEnum.HorizontalBar||t.type==n.ChartTypeEnum.StackedBar?n.ChartTypeEnum.Bar:t.type;t.type==n.ChartTypeEnum.Area&&(i=n.ChartTypeEnum.Line);let r={type:i,data:e,options:{responsive:t.responsive,maintainAspectRatio:t.aspectRatio.maintain,aspectRatio:t.aspectRatio.value,scales:t.scales,parsing:t.parsing,plugins:{datalabels:this._plugins.datalabels,title:this._plugins.title,subtitle:this._plugins.subtitle,legend:this._plugins.legend,tooltip:this._plugins.tooltip},indexAxis:t.type==n.ChartTypeEnum.HorizontalBar?"y":"x"},layout:{padding:t.padding},plugins:[ChartDataLabels]};this._chart=new Chart(this.element(),r)}getOptions(){return this.options()}}t.ChartVr=a;t.BarChart=class extends a{};t.HorizontalBarChart=class extends a{};t.LineChart=class extends a{};t.DonutChart=class extends a{};t.PieChart=class extends a{};t.AreaChart=class extends a{};t.StackedBarChart=class extends a{};class o{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabStrip=t.TabStripOptions=void 0;const r=i(2),n=i(1),a=i(0);class o extends n.VrControlOptions{}t.TabStripOptions=o;class l extends n.VrControl{constructor(e,t){if(null==t&&(t=new o),null==t.width&&(t.width="100%"),null==t.backgroundColor&&(t.backgroundColor="#e3f1fa"),super(e,t,a.ControlTypeEnum.TabStrip),null!=t.items)for(let e of t.items)if(null==e.colorSettings&&(e.colorSettings=new a.ColorSettings),null==e.colorSettings.background&&(e.colorSettings.background=t.backgroundColor),null!=e.elementId){e.elementId.startsWith("#")||(e.elementId="#"+e.elementId);let t=e.onClick;e.onClick=i=>{let r=this.items().filter(e=>null!=e.elementId).map(e=>e.elementId);for(let e of r)e.startsWith("#")||(e="#"+e),a.puma(e).hide();a.puma(e.elementId).show(),null!=t&&t(i)}}t.width="100%",t.cssContainer=void 0,t.css="background-color: "+t.backgroundColor+";",t.margin=void 0,this._buttonGroup=a.createButtonGroup(t,this.element())}items(e){return this._buttonGroup.items(e)}addItem(e,t=!0){let i=this.getOptions();if(null==e.colorSettings&&(e.colorSettings=new a.ColorSettings),null==e.colorSettings.background&&(e.colorSettings.background=i.backgroundColor),this._buttonGroup.addItem(e),t&&null!=e.elementId){e.elementId.startsWith("#")||(e.elementId="#"+e.elementId);let t=e.onClick;e.onClick=i=>{let r=this.items().filter(e=>null!=e.elementId).map(e=>e.elementId);for(let e of r)e.startsWith("#")||(e="#"+e),a.puma(e).hide();a.puma(e.elementId).show(),null!=t&&t(i)},a.puma(e.elementId).show()}}item(e){return this.items().filter(t=>t.value==e)[0]}removeItem(e){this._buttonGroup.removeItem(e);let t=this.items().map(e=>e.value).indexOf(e);-1!=t&&this.items().splice(t,1);let i=this.items().filter(t=>t.value==e)[0];null!=i&&null!=i.elementId&&(i.elementId.startsWith("#")||(i.elementId="#"+i.elementId),a.puma(i.elementId).remove())}removeAllItems(){let e=r.UtilityManager.duplicate(this.items());for(let t of e)this.removeItem(String(t.value))}showItems(e){this._buttonGroup.showItems(e)}showItem(e){this._buttonGroup.showItem(e)}showAllItems(){this._buttonGroup.showAllItems()}hideItems(e){this._buttonGroup.hideItems(e);for(let t of e)this.hideItem(t)}hideItem(e,t=!0){if(this._buttonGroup.hideItem(e),t){let t=this.items().filter(t=>t.value==e)[0];null!=t&&null!=t.elementId&&a.puma(t.elementId).hide()}}hideAllItems(e=!0){if(this._buttonGroup.hideAllItems(),e)for(let e of this.items())null!=e&&null!=e.elementId&&a.puma(e.elementId).hide()}visibleItem(e,t){return null!=t&&(t?this.showItem(e):this.hideItem(e)),this._buttonGroup.visibleItem(e,t)}enableItem(e){this._buttonGroup.enableItem(e)}enableItems(e){for(let t of e)this._buttonGroup.enableItem(t)}disableItem(e){this._buttonGroup.disableItem(e)}disableItems(e){for(let t of e)this._buttonGroup.disableItem(t)}select(e,t=!0){this._buttonGroup.select(e,t)}selectIndex(e,t=!0){this._buttonGroup.selectIndex(e,t)}value(){return this._buttonGroup.value()}getItemByValue(e){return this._buttonGroup.getItemByValue(e)}getItemByIndex(e){return this._buttonGroup.getItemByIndex(e)}itemTooltip(e,t){return this._buttonGroup.itemTooltip(e,t)}itemText(e,t,i=!0){return this._buttonGroup.itemText(e,t,i)}itemTextByIndex(e,t){return this._buttonGroup.itemTextByIndex(e,t)}enable(){super.enable(),this._buttonGroup.enable()}disable(){super.disable(),this._buttonGroup.disable()}getOptions(){return this.options()}}t.TabStrip=l;n.VrControlsEvent},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=t.TooltipOptions=void 0;const r=i(1),n=i(0),a=i(15);class o extends r.VrControlOptions{}t.TooltipOptions=o;class l extends r.VrControl{constructor(e,t){null==t&&(t=new o),null==t.position&&(t.position=n.TooltipPositionEnum.BottomCenter),null==t.showOn&&(t.showOn=n.TooltipShowOnEnum.Hover),null==t.hideOn&&(t.hideOn=n.TooltipHideOnEnum.Default),null==t.type&&(t.type=n.TooltipTypeEnum.Default),null==t.colorSettings&&(t.colorSettings=new n.ColorSettings),null==t.colorSettings.background&&(t.colorSettings.background="#d9d9d9"),null==t.colorSettings.textColor&&(t.colorSettings.textColor="#000"),null==t.colorSettings.border&&(t.colorSettings.border="#CCC"),null==t.showSettings&&(t.showSettings=new u),null==t.showSettings.showAfter&&(t.showSettings.showAfter=500),null==t.showSettings.animation&&(t.showSettings.animation=n.AnimationShowEnum.None),null==t.hideSettings&&(t.hideSettings=new s),null==t.hideSettings.hideAfter&&(t.hideSettings.hideAfter=600),null==t.hideSettings.animation&&(t.hideSettings.animation=n.AnimationHideEnum.None),null==t.elementToAppend&&(t.elementToAppend=t.target),super(e,t,n.ControlTypeEnum.Tooltip);let i=d.MouseEnter,r=d.MouseLeave;switch(t.showOn){case n.TooltipShowOnEnum.Hover:i=d.MouseEnter,t.hideOn==n.TooltipHideOnEnum.Default&&(r=d.MouseLeave);break;case n.TooltipShowOnEnum.Click:i=d.Click,t.hideOn==n.TooltipHideOnEnum.Default&&(r=d.Click);break;case n.TooltipShowOnEnum.Focus:i=d.Focus,t.hideOn==n.TooltipHideOnEnum.Default&&(r=d.Blur)}if(t.hideOn!=n.TooltipHideOnEnum.Default)switch(t.hideOn){case n.TooltipHideOnEnum.Leave:r=d.MouseLeave;break;case n.TooltipHideOnEnum.Click:r=d.Click;break;case n.TooltipHideOnEnum.Blur:r=d.Blur}t.showOn!=n.TooltipShowOnEnum.Never&&(n.puma(this.target()).on(i,e=>{window.setTimeout(()=>this.show(),t.showSettings.showAfter)}),n.puma(this.target()).on(r,e=>{t.hideOn!=n.TooltipHideOnEnum.Never&&window.setTimeout(()=>this.hide(),Number(t.hideSettings.hideAfter))}),n.puma(this.container()).on(r,e=>{t.hideOn!=n.TooltipHideOnEnum.Never&&window.setTimeout(()=>this.hide(),Number(t.hideSettings.hideAfter))}),r==d.Click&&t.hideOn!=n.TooltipHideOnEnum.Never&&n.puma(document.body).on("click",()=>window.setTimeout(()=>this.hide(),Number(t.hideSettings.hideAfter))))}show(e){if(null!=this._notifier&&this._notifier.visible())return;let t=this.getOptions();if(null!=e&&this.content(e),null==t.content&&(t.content=this.target().innerText),super.show(),t.hideSettings.autoHide=!1,this._notifier=new a.Notifier(t.content,t),n.puma(this._notifier.container()).vrAppendToPuma(t.elementToAppend),null!=t.onShow){let e=new c;e.sender=this,e.content=this.content(),t.onShow(e)}}hide(){if(null==this._notifier||!this._notifier.visible())return;let e=this.getOptions();if(super.hide(),this._notifier.hide(),null!=e.onHide){let t=new p;t.sender=this,t.content=this.content(),e.onHide(t)}}visible(e){return super.visible(e),null!=this._notifier&&this._notifier.visible(e)}content(e){let t=this.getOptions();return null!=e&&(t.content=e),t.content}target(){return n.puma(this.getOptions().target)[0]}getOptions(){return this.options()}}t.Tooltip=l;class s{}class u{}var d;!function(e){e.Click="click",e.Focus="focus",e.MouseEnter="mouseenter",e.Blur="blur",e.MouseLeave="mouseleave"}(d||(d={}));class c extends r.VrControlsEvent{}class p extends r.VrControlsEvent{}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognizerSoundEndEvent=t.SpeechRecognizerSoundStartEvent=t.SpeechRecognizerAudioEndEvent=t.SpeechRecognizerAudioStartEvent=t.SpeechRecognizerSpeechEndEvent=t.SpeechRecognizerSpeechStartEvent=t.SpeechRecognizerEndEvent=t.SpeechRecognizerStartEvent=t.SpeechRecognizerResultEvent=t.SpeechRecognizerErrorEvent=t.SpeechRecognizerClickEvent=t.SpeechRecognizerNoMatchEvent=t.SpeechRecognizerEvent=t.SpeechRecognizer=void 0;const r=i(0),n=i(1);class a extends n.VrControl{constructor(e,t){if(null==t&&(t=new r.SpeechRecognizerOptions),null==t.continuous&&(t.continuous=!0),null==t.interimResults&&(t.interimResults=!0),null==t.language&&(t.language="it-IT"),null==t.maxAlternatives&&(t.maxAlternatives=1),null==t.size&&(t.size=14),null==t.stopAtClick&&(t.stopAtClick=!1),super(e,t,r.ControlTypeEnum.SpeechRecognizer),this._btnMicrophone=r.createButton({icon:r.IconClassLight.Microphone,css:"border: none; background: none; border-radius: 20px; font-size: "+t.size+"px;",tag:"deactivated",iconSettings:{fontSize:t.size},onClick:e=>{if(this.enabled()){if(null!=t.onClick){let e=new s;if(e.sender=this,t.onClick(e),e.isDefaultPrevented())return}"deactivated"==e.sender.tag()?this.start():this.stop()}else e.preventDefault()}},this.element()),r.div(this._btnMicrophone.element(),{class:"speechRecognizerDivPulse"},!0),"webkitSpeechRecognition"in window||"speechRecognition"in window){let e=webkitSpeechRecognition||SpeechRecognition,i=webkitSpeechGrammarList||SpeechGrammarList;if(this._recognition=new e,this._recognition.continuous=t.continuous,this._recognition.interimResults=t.interimResults,this._recognition.lang=t.language,this._recognition.maxAlternatives=t.maxAlternatives,null!=t.grammars&&t.grammars.length>0){let e=new i;for(let i of t.grammars)e.addFromString(i,1);this._recognition.grammars=e}this._recognition.onresult=e=>{let i="",r="";for(var n=e.resultIndex;n<e.results.length;++n)e.results[n].isFinal?(r+=e.results[n][0].transcript,this._allTextFromStart+=e.results[n][0].transcript):i+=e.results[n][0].transcript;if(null!=t.onResult){let n=new d;n.sender=this,n.results=e.results,n.resultIndex=e.resultIndex,n.interimResults=i,n.finalResults=r,n.allTextFromStart=this._allTextFromStart,t.onResult(n)}},this._recognition.onnomatch=()=>{if(null!=t.onNoMatch){let e=new l;e.sender=this,t.onNoMatch(e)}},this._recognition.onerror=e=>{if(null!=t.onError){let i=new u;i.sender=this,i.error=e.error,i.message=e.message,t.onError(i)}},this._recognition.onstart=()=>{if(null!=t.onStart){let e=new c;e.sender=this,t.onStart(e)}},this._recognition.onend=()=>{let e=this.getOptions();if("activated"==this._btnMicrophone.tag()&&e.stopAtClick)this._recognition.start();else if(this._allTextFromStart="",this._btnMicrophone.tag("deactivated"),r.puma(this._btnMicrophone.element()).removeClass("microphoneActive"),null!=e.onEnd){let t=new p;t.sender=this,e.onEnd(t)}},this._recognition.onspeechstart=()=>{if(null!=t.onSpeechStart){let e=new h;e.sender=this,t.onSpeechStart(e)}},this._recognition.onspeechend=()=>{if(null!=t.onSpeechEnd){let e=new m;e.sender=this,t.onSpeechEnd(e)}},this._recognition.onaudiostart=()=>{if(null!=t.onAudioStart){let e=new f;e.sender=this,t.onAudioStart(e)}},this._recognition.onaudioend=()=>{if(null!=t.onAudioEnd){let e=new g;e.sender=this,t.onAudioEnd(e)}},this._recognition.onsoundstart=()=>{if(null!=t.onSoundStart){let e=new v;e.sender=this,t.onSoundStart(e)}},this._recognition.onsoundend=()=>{if(null!=t.onSoundEnd){let e=new b;e.sender=this,t.onSoundEnd(e)}}}else this._btnMicrophone.disable(),this._btnMicrophone.icon(r.IconClassLight.MicrophoneSlash),this._btnMicrophone.tooltip("Il browser non supporta questa funzionalità")}start(){this._allTextFromStart="",this._btnMicrophone.tag("activated"),r.puma(this._btnMicrophone.element()).addClass("microphoneActive"),this._recognition.start()}stop(){this._allTextFromStart="",this._btnMicrophone.tag("deactivated"),r.puma(this._btnMicrophone.element()).removeClass("microphoneActive"),this._recognition.stop()}isRecording(){return"activated"==this._btnMicrophone.tag()}getOptions(){return this.options()}enable(){super.enable()}disable(){super.disable(),this.stop()}}t.SpeechRecognizer=a;class o extends n.VrControlsEvent{}t.SpeechRecognizerEvent=o;class l extends o{}t.SpeechRecognizerNoMatchEvent=l;class s extends o{}t.SpeechRecognizerClickEvent=s;class u extends o{}t.SpeechRecognizerErrorEvent=u;class d extends o{}t.SpeechRecognizerResultEvent=d;class c extends o{}t.SpeechRecognizerStartEvent=c;class p extends o{}t.SpeechRecognizerEndEvent=p;class h extends o{}t.SpeechRecognizerSpeechStartEvent=h;class m extends o{}t.SpeechRecognizerSpeechEndEvent=m;class f extends o{}t.SpeechRecognizerAudioStartEvent=f;class g extends o{}t.SpeechRecognizerAudioEndEvent=g;class v extends o{}t.SpeechRecognizerSoundStartEvent=v;class b extends o{}t.SpeechRecognizerSoundEndEvent=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Div=t.DivOptions=void 0;const r=i(1),n=i(0);class a extends r.VrControlOptions{}t.DivOptions=a;class o extends r.VrControl{constructor(e,t){null==t&&(t=new a),null==t.addToControlList&&(t.addToControlList=!1),null==t.fontSize&&(t.fontSize=14),null==t.border&&(t.border=!1),null==t.inline&&(t.inline=!1),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,n.ControlTypeEnum.Div),this.element().style.cssText+="font-size: "+t.fontSize+"px;",this.container().style.cssText+="display: flex;",this.element().style.cssText+="width: 100%;",t.inline&&(this.container().style.cssText+="display: inline-block;"),null!=t.text&&this.text(t.text),null!=t.colorSettings&&(null==t.colorSettings.textColor&&(this.element().style.cssText+="color: "+t.colorSettings.textColor+";"),null==t.colorSettings.background&&(this.element().style.cssText+="background-color: "+t.colorSettings.background+";")),!1!==t.border&&(!0===t.border&&(t.border=new n.DivBorderSettings),null==t.border.type&&(t.border.type="solid"),null==t.border.color&&(t.border.color="#d9d9d9"),null==t.border.size&&(t.border.size=1),this.element().style.cssText+="border: "+t.border.type+" "+t.border.size+"px "+t.border.color+";",this.setBorderTop(t.border.top,"top"),this.setBorderTop(t.border.right,"right"),this.setBorderTop(t.border.bottom,"bottom"),this.setBorderTop(t.border.left,"left"))}text(e){return null!=e&&(this.element().innerHTML=e),this.element().innerHTML}appendText(e){this.element().innerHTML=this.text()+e}setBorderTop(e,t){null==e&&(e=!0),!0===e&&(e=new n.DivBorderSpecificSettings),!1!==e?(null==e.type&&(e.type="solid"),null==e.size&&(e.size=1),null==e.color&&(e.color="d9d9d9"),this.element().style.cssText+="border-"+t+": "+e.type+" "+e.size+"px "+e.color+";"):this.element().style.cssText+="border-"+t+": none"}getOptions(){return this.options()}}t.Div=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Legend=t.LegendOptions=void 0;const r=i(0),n=i(1);class a extends n.VrControlOptions{}t.LegendOptions=a;class o extends n.VrControl{constructor(e,t){null==t&&(t=new a),null==t.fontSize&&(t.fontSize=15),null==t.bold&&(t.bold=!0),null==t.width&&(t.width="Calc(100% - 10px)"),null==t.tabIndex&&(t.tabIndex=-1),super(e,t,r.ControlTypeEnum.Legend),r.puma("<h1><span class='vrLegendTitle'>"+t.title+"</span></h1>").vrAppendToPuma(this.element());let i="";null!=t.fontSize&&("number"==typeof t.fontSize&&(t.fontSize=t.fontSize+"px"),i+="font-size: "+t.fontSize+";"),null!=t.fontFamily&&(i+="font-family: "+t.fontFamily+";"),!0===t.bold&&(i+="font-weight: 600;"),r.puma(this.element()).find(".vrLegendTitle")[0].style.cssText+=i}}t.Legend=o}])}));
//# sourceMappingURL=vrcontrols.all.min.js.map