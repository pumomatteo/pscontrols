<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSControls ESM Modular Demo</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .demo-container {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .size-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .size-box {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .monolith {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border: 2px solid #ff6b9d;
        }
        
        .modular {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border: 2px solid #00d4aa;
        }
        
        .file-size {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .controls-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .control-box {
            padding: 15px;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            text-align: center;
        }
        
        .control-box h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .control-size {
            font-size: 0.9em;
            color: #6c757d;
            margin: 5px 0;
        }
        
        .import-code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            font-family: Monaco, Consolas, monospace;
            font-size: 13px;
            margin: 15px 0;
            border-left: 4px solid #007bff;
        }
        
        .success {
            color: #28a745;
            font-weight: bold;
        }
        
        .loading {
            color: #ffc107;
        }
        
        .network-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>üéØ PSControls ESM Modular Demo</h1>
    <p style="font-size: 1.1em; color: #6c757d;">Import solo i controlli che ti servono!</p>

    <div class="demo-container">
        <h2>üìä Confronto Dimensioni</h2>
        <div class="size-comparison">
            <div class="size-box monolith">
                <h3>‚ùå Approccio Monolitico</h3>
                <div class="file-size">1,017 KB</div>
                <p>vrcontrols.all.min.js</p>
                <small>Include TUTTI i 30+ controlli sempre</small>
            </div>
            
            <div class="size-box modular">
                <h3>‚úÖ Approccio Modulare ESM</h3>
                <div class="file-size">Solo quello che usi!</div>
                <p>Import selettivi</p>
                <small>Carica solo i controlli necessari</small>
            </div>
        </div>
    </div>

    <div class="demo-container">
        <h2>üéØ Esempi Pratici di Import</h2>
        
        <h3>Scenario 1: Login Form</h3>
        <div class="import-code">
// Import solo controlli per login
import { Button } from './dist/esm/ui/controls/button.js';
import { TextBox } from './dist/esm/ui/controls/textbox.js';
import { Label } from './dist/esm/ui/controls/label.js';

// Bundle finale: ~50KB invece di 1,017KB
// Risparmio: 95%!
        </div>
        
        <h3>Scenario 2: Dashboard Complesso</h3>
        <div class="import-code">
// Import controlli dashboard
import { Button } from './dist/esm/ui/controls/button.js';
import { Grid } from './dist/esm/ui/controls/grid.js';
import { Chart } from './dist/esm/ui/controls/chart.js';
import { ComboBox } from './dist/esm/ui/controls/comboBox.js';
import { DatePicker } from './dist/esm/ui/controls/datePicker.js';

// Bundle finale: ~550KB invece di 1,017KB
// Risparmio: 46%!
        </div>

        <h3>Scenario 3: App Specifica</h3>
        <div class="import-code">
// Solo quello che serve per la tua specifica app
import { Button } from './dist/esm/ui/controls/button.js';
import { TextBox } from './dist/esm/ui/controls/textbox.js';

// Bundle finale: ~40KB invece di 1,017KB
// Risparmio: 96%!
        </div>
    </div>

    <div class="demo-container">
        <h2>üìÅ Controlli Disponibili Individualmente</h2>
        <div class="controls-demo">
            <div class="control-box">
                <h4>Button</h4>
                <div class="control-size">13.6 KB</div>
                <div class="control-size success">Caricato ‚úì</div>
            </div>
            
            <div class="control-box">
                <h4>Grid</h4>
                <div class="control-size">389.7 KB</div>
                <div class="control-size">Non caricato</div>
            </div>
            
            <div class="control-box">
                <h4>TextBox</h4>
                <div class="control-size">27.3 KB</div>
                <div class="control-size success">Caricato ‚úì</div>
            </div>
            
            <div class="control-box">
                <h4>ComboBox</h4>
                <div class="control-size">63.0 KB</div>
                <div class="control-size">Non caricato</div>
            </div>
            
            <div class="control-box">
                <h4>Calendar</h4>
                <div class="control-size">21.1 KB</div>
                <div class="control-size">Non caricato</div>
            </div>
            
            <div class="control-box">
                <h4>Upload</h4>
                <div class="control-size">33.1 KB</div>
                <div class="control-size">Non caricato</div>
            </div>
        </div>
    </div>

    <div class="demo-container">
        <h2>üåê Benefici di Rete</h2>
        <div class="network-info">
            <h4>üì± Mobile 4G (10MB/s):</h4>
            <ul>
                <li><strong>Monolitico:</strong> 1,017KB ‚Üí ~1.5 secondi download</li>
                <li><strong>Modulare (Login):</strong> 50KB ‚Üí ~0.1 secondi download</li>
                <li><strong>Risparmio:</strong> 93% tempo di caricamento!</li>
            </ul>
        </div>

        <div class="network-info">
            <h4>üè† WiFi (50MB/s):</h4>
            <ul>
                <li><strong>Monolitico:</strong> 1,017KB ‚Üí ~0.3 secondi download</li>
                <li><strong>Modulare (Login):</strong> 50KB ‚Üí ~0.02 secondi download</li>
                <li><strong>Risparmio:</strong> Caricamento quasi istantaneo!</li>
            </ul>
        </div>
    </div>

    <div class="demo-container">
        <h2>üöÄ Come Utilizzare</h2>
        
        <h3>1. Include il CSS comune</h3>
        <div class="import-code">
&lt;link rel="stylesheet" href="./dist/esm/pscontrols.esm.css"&gt;
        </div>
        
        <h3>2. Import ES modules</h3>
        <div class="import-code">
&lt;script type="module"&gt;
  import { Button } from './dist/esm/ui/controls/button.js';
  import { TextBox } from './dist/esm/ui/controls/textbox.js';
  
  // Usa i controlli normalmente
  const myButton = new Button(document.getElementById('btn'), {
    text: 'Click Me!',
    mode: 'vrButtonPrimaryMode'
  });
&lt;/script&gt;
        </div>
        
        <h3>3. Compatibilit√†</h3>
        <div class="import-code">
// Funziona solo su browser moderni (ES2020+)
// Chrome 80+, Firefox 72+, Safari 13.1+, Edge 80+
// Per browser legacy, usa vrcontrols.all.min.js
        </div>
    </div>

    <div class="demo-container">
        <h2 class="success">‚úÖ Build ESM Modulare Pronta!</h2>
        <p>La build ESM √® stata generata con successo in <code>dist/esm/</code></p>
        <p><strong>47 controlli individuali</strong> disponibili per import selettivo.</p>
        <p>Puoi iniziare a usarla <strong>subito</strong> per ottimizzare le tue applicazioni!</p>
    </div>

    <!-- Test di import reale -->
    <div class="demo-container" id="live-demo">
        <h2>üî¥ Demo Live</h2>
        <p id="demo-status" class="loading">Caricamento controlli...</p>
        <div id="button-container" style="margin: 20px 0;"></div>
        <div id="textbox-container" style="margin: 20px 0;"></div>
    </div>

    <script type="module">
        try {
            // Test import reali
            const status = document.getElementById('demo-status');
            status.textContent = 'Importing Button...';
            
            const { Button } = await import('./dist/esm/ui/controls/button.js');
            status.textContent = 'Button imported! Importing TextBox...';
            
            const { TextBox } = await import('./dist/esm/ui/controls/textbox.js');
            status.innerHTML = '<span class="success">‚úÖ Controlli caricati con successo!</span>';
            
            // Crea controlli
            const buttonContainer = document.getElementById('button-container');
            buttonContainer.innerHTML = '<div id="test-button"></div>';
            
            const myButton = new Button(document.getElementById('test-button'), {
                text: 'ESM Modular Button!',
                mode: 'vrButtonPrimaryMode',
                onClick: () => alert('Funziona! Import ESM riuscito!')
            });
            
            const textboxContainer = document.getElementById('textbox-container');
            textboxContainer.innerHTML = '<div id="test-textbox"></div>';
            
            const myTextBox = new TextBox(document.getElementById('test-textbox'), {
                placeholder: 'ESM Modular TextBox...',
                width: 300
            });
            
        } catch (error) {
            document.getElementById('demo-status').innerHTML = 
                `<span style="color: red;">‚ùå Errore: ${error.message}</span>`;
        }
    </script>
</body>
</html>